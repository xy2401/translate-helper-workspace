<html id='06341.RESTORE.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>RESTORE</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Backup and Recovery Reference">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Backup and Recovery Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-backup-and-recovery-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-09T19:31:58-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2003, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96242-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="RESET-DATABASE.html" title="Previous" type="text/html">
      <link rel="next" href="RESYNC-CATALOG.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Backup and Recovery Reference">
    <meta name="dcterms.isVersionOf" content="RCMRF">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="RESET-DATABASE.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="RESYNC-CATALOG.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Backup and Recovery Reference</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="rman-commands-recover-to-validate.html" property="item" typeof="WebPage"><span property="name">RMAN Commands: RECOVER to VALIDATE</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">RESTORE</li>
            </ol>
            <a id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B" name="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B"></a><a id="RCMRF90294"></a><a id="RCMRF90622"></a><a id="RCMRF90295"></a><a id="RCMRF90296"></a><a id="RCMRF90297"></a><a id="RCMRF90298"></a><a id="RCMRF90299"></a><a id="RCMRF90300"></a><a id="RCMRF90301"></a><a id="RCMRF90302"></a><a id="RCMRF90623"></a><a id="RCMRF90303"></a><a id="RCMRF90304"></a><a id="RCMRF90305"></a><a id="RCMRF90306"></a><a id="RCMRF90307"></a><a id="RCMRF90308"></a><a id="RCMRF90309"></a><a id="RCMRF90310"></a><a id="RCMRF90311"></a><a id="RCMRF90312"></a><a id="RCMRF90313"></a><a id="RCMRF90314"></a><a id="RCMRF90315"></a><a id="RCMRF90316"></a><a id="RCMRF90317"></a><a id="RCMRF90318"></a><a id="RCMRF90319"></a><a id="RCMRF90624"></a><a id="RCMRF90625"></a><a id="RCMRF90626"></a><a id="RCMRF90627"></a><a id="RCMRF90628"></a><a id="RCMRF90629"></a><a id="RCMRF149"></a>
            
            <h2 id="RCMRF-GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B" class="sect2"><span class="enumeration_section">3.8 </span>RESTORE
            </h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p class="subhead1" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-38EB3B5B-F7F7-4C9D-8E8D-6F75B60D68B4">Purpose</p>
                  <p>Use the <code class="codeph">RESTORE</code> command to restore, validate, or preview RMAN backups. Typically, you restore backups when a media failure has damaged a current data file, control file, or archived redo log or before performing a point-in-time recovery.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-443D7784-C602-4DB7-B0F8-6D8B23C14E46">Prerequisites</p>
                  <p>To restore data files to their current location, the database must be started, mounted, or open with the tablespaces or data files to be restored offline.</p>
                  <p>If you use RMAN in a Data Guard environment, then connect RMAN to a recovery catalog.</p>
                  <p>If you are performing a trial restore of the production database, then perform either of the following actions before restoring the database in the test environment:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>If the test database uses a fast recovery area that is physically <span class="italic">different</span> from the recovery area used by the production database, then set <code class="codeph">DB_RECOVERY_FILE_DEST</code> in the test database instance to the new location.
                        </p>
                     </li>
                     <li>
                        <p>If the test database uses a fast recovery area that is physically the <span class="italic">same</span> as the recovery area used by the production database, then set <code class="codeph">DB_UNIQUE_NAME</code> in the test database instance to a different name from the production database.
                        </p>
                     </li>
                  </ul>
                  <p>If you do not perform either of the preceding actions, then RMAN assumes that you are restoring the production database and deletes <a id="d82198e229" class="indexterm-anchor"></a>flashback logs from the fast recovery area because they are considered unusable.
                  </p>
                  <p>If you restore encrypted databases or tablespaces, then the Oracle keystore must be open before performing the restore operation.</p>
                  <p></p>
                  <p>To restore data files in a destination CDB using preplugin backups, the root must be open and you must connect to the root as a common user with the <code class="codeph">SYSDBA</code> or <code class="codeph">SYSBACKUP</code> privilege.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-A8181FDC-09AE-4A86-9399-6E1D2AEB5FF6">Usage Notes</p>
                  <p>The <code class="codeph">RESTORE</code> command restores full backups, level 0 incremental backups, or image copies. You can restore files to their default location or a different location.
                  </p>
                  <p>By default, RMAN examines read-only data files to make sure they exist, are readable, and have the correct checkpoint. If any of the conditions is not met, then RMAN restores the files. If all of the conditions are met, then RMAN does not restore the files.</p>
                  <p></p>
                  <p>You cannot use a single <code class="codeph">RESTORE</code> command to restore data files belonging to more than one PDB backups.
                  </p>
                  <p><span class="bold">Backup Selection</span></p>
                  <p>By default, <code class="codeph">RESTORE</code> chooses the most recent backup set or file copy, that is, the file copy or backup set that needs the least media recovery. RMAN only restores backups created on the same type of channels allocated by the <code class="codeph">RESTORE</code> command. For example, if you made backups of a data file with <code class="codeph">DISK</code> and <code class="codeph">sbt</code> channels, and if only a <code class="codeph">DISK</code> channel is allocated for the <code class="codeph">RESTORE</code> command, then RMAN does not restore the <code class="codeph">sbt</code> backups. If you do not manually allocate channels, then RMAN allocates all automatic channels that it possibly needs, subject to any restrictions imposed by the <code class="codeph">DEVICE TYPE</code> option.
                  </p>
                  <p>In an Oracle RAC configuration, RMAN automatically restores backups, control file copies, and data file copies from channels that can read the files on tape or a local file system. For example, if channel <code class="codeph">ch1</code> connected to <code class="codeph">inst1</code> can read log 1000 from its tape drive, but channel <code class="codeph">ch2</code> connected to <code class="codeph">inst2</code> cannot read the same log from its tape drive, then <code class="codeph">ch2</code> cannot participate in restoring the log and so <code class="codeph">ch1</code> restores the log. Autolocation is automatically enabled when the channels have different <code class="codeph">PARMS</code> or <code class="codeph">CONNECT</code> settings.
                  </p>
                  <p>If data file names are symbolic links, then the control file stores the file names of the link files but RMAN performs I/O on the data files pointed to by the link files. If a link file is lost and you restore a data file without re-creating the symbolic link, then RMAN restores the data file to the location of the link file rather than to the location pointed to by the link file.</p>
                  <div class="infoboxnotealso" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-7648D567-3EEA-4A1B-B0D3-45460A104162">
                     <p class="notep1">See Also:</p>
                     <p><a href="../bradv/rman-data-repair-concepts.html#BRADV30001" target="_blank"><span class="italic">Oracle Database Backup and Recovery User's Guide </span></a>for details on restore failover
                     </p>
                  </div>
                  <p><span class="bold">Restore Operations for CDBs and PDBs</span><a id="d82198e328" class="indexterm-anchor"></a><a id="d82198e332" class="indexterm-anchor"></a><a id="d82198e336" class="indexterm-anchor"></a><a id="d82198e340" class="indexterm-anchor"></a></p>
                  <p>The <code class="codeph">RESTORE</code> command can be used to restore a whole multitenant container database (CDB), the root, one or more pluggable databases (PDBs), and tablespaces in a PDB. The information in this section about restoring data is also applicable to restoring CDBs and PDBs.
                  </p>
                  <p>The process of restoring CDBs and PDBs is similar to that of non-CDBs. The only differences are in connecting to the database and in the commands used. To restore a whole CDB, the root, or multiple PDBs, you connect to the root. To restore a particular PDB, you connect to that PDB. While restoring PDBs, use <code class="codeph">RESTORE PLUGGABLE DATABASE</code>. To restore a CDB, use <code class="codeph">RESTORE DATABASE</code> and to restore the root, use <code class="codeph">RESTORE DATABASE ROOT</code>.
                  </p>
                  <div class="infoboxnotealso" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-EFA9690C-7997-40F0-83A5-E68819C273EB">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="CONNECT.html#GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67">CONNECT</a></p>
                        </li>
                        <li>
                           <p><a href="../bradv/rman-complete-database-recovery.html#BRADV-GUID-D908719C-9D46-4084-850C-0F81C25094EB" target="_blank"><span><cite>Oracle Database Backup and Recovery Userâ€™s Guide</cite></span></a> for more information on how to restore CDBs and PDBs
                           </p>
                        </li>
                     </ul>
                  </div>
                  <p><span class="bold">Restore Operations for Sparse Databases</span></p>
                  <p>RMAN also enables you to perform restore for both multitenant and non-CDB sparse databases with the <code class="codeph">COMPATIBLE</code> initialization parameter set to 12.2 or higher. RMAN lets you restore a data file, tablespace, PDB, or CDB by identifying the most relevant backup set or image copy of the selected sparse backup. To restore a sparse backup, run the <code class="codeph">RESTORE FROM SPARSE</code> command.
                  </p>
                  <p></p>
                  <p>For non-temp sparse files, if the sparse data file was originally on a sparse disk group but the alternate location specified by <code class="codeph">DB_CREATE_FILE_DEST</code> is a non-sparse disk group, then RMAN creates the data file in its original disk group (instead of the diskgroup specified by <code class="codeph">DB_CREATE_FILE_DEST</code>)
                  </p>
                  <p><span class="bold">Restore Operations Using Encrypted Backup Sets</span></p>
                  <p><a id="d82198e400" class="indexterm-anchor"></a>As explained in <span class="q">"<a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDIHIGD">Encryption of Backup Sets</a>"</span>, how RMAN handles encrypted backup sets during restore operations depends on the encryption mode with which the backup was created. You can use <code class="codeph"><a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A">CONFIGURE</a></code> and <code class="codeph"><a href="SET.html#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3">SET</a></code> to manage the RMAN backup encryption settings for your database. Note the following restore considerations:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a id="d82198e422" class="indexterm-anchor"></a>For transparent-mode encrypted backups, the required passwords must be available in the Oracle software keystore. The same keystore used when creating the backup must be open and available when restoring it. If a password-based keystore was used while creating the backups, then you must use <code class="codeph">SET DECRYPTION WALLET OPEN IDENTIFIED BY</code> to provide the password used to open the keystore. 
                        </p>
                     </li>
                     <li>
                        <p><a id="d82198e430" class="indexterm-anchor"></a>For password-mode encrypted backups, the required passwords must be provided with <code class="codeph">SET DECRYPTION</code>.
                        </p>
                     </li>
                     <li>
                        <p>For dual-mode encrypted backups, the required passwords must be available in the Oracle software keystore or provided with <code class="codeph">SET DECRYPTION</code>.
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-6C245F3A-6EDA-4339-994F-5DD3315343FA">
                     <p class="notep1">Note:</p>
                     <p>Keystore-based encryption is more secure than password-based encryption because no passwords are involved. Use password-based encryption only when absolutely necessary because your backups must be transportable.</p>
                  </div>
                  <p><span class="bold">Restore Failover</span></p>
                  <p>If a backup piece, image copy or proxy copy is inaccessible or if a block is corrupted, then RMAN performs <a id="d82198e453" class="indexterm-anchor"></a><a id="d82198e455" class="indexterm-anchor"></a><a id="d82198e459" class="indexterm-anchor"></a><a id="d82198e463" class="indexterm-anchor"></a><a id="d82198e467" class="indexterm-anchor"></a>restore failover. The <code class="codeph">RESTORE</code> command automatically looks for another usable copy of a backup or image copy on the same device and other devices. If no usable copies are available, then RMAN searches for previous backups. RMAN continuously searches for previous usable backups until it has exhausted all possibilities. RMAN automatically uses eligible backups from previous database incarnations if required.
                  </p>
                  <p>If you are restoring a data file for which no backups are available, then RMAN creates an empty data file with the checkpoint change as creation SCN. During recovery, all archived redo log files back to the creation of the data file are restored, and all changes during the history of the data file are reapplied to re-create its contents.</p>
                  <div class="infoboxnotealso" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-897548D0-B773-41A9-BDA6-3BE44939323E">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDIHIGD">Encryption of Backup Sets</a>"</span> and the extended discussion in <a href="../bradv/backing-up-database-advanced.html#BRADV72450" target="_blank"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a></p>
                  </div>
                  <p><span class="bold">Location of Restored Data Files</span></p>
                  <p><a id="d82198e491" class="indexterm-anchor"></a>If you restore data files to the default location, then RMAN overwrites files with the same file names. By default, RMAN does not restore a data file if it is in the correct place and its header contains the expected data. RMAN does not scan the data file body for corrupt blocks.
                  </p>
                  <p>If RMAN detects that the default file name cannot be used (for example, the file may be an Oracle-managed file or on an <a id="d82198e498" class="indexterm-anchor"></a>Automatic Storage Management disk group), then RMAN attempts to create a new file in the same location or disk group.
                  </p>
                  <p>RMAN restores data files to the location currently stored in the recovery catalog. This default behavior eliminates problems with restoring data files to locations that may have become obsolete since the time of the original backup. It also means that if you have changed the location of the data files from their original backup location, that RMAN restores the files to the most current or changed location. </p>
                  <p>To restore files to a nondefault location, use <code class="codeph"><a href="SET.html#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3">SET</a></code> <code class="codeph">NEWNAME</code> commands to rename the restored files and then use a <code class="codeph"><a href="SWITCH.html#GUID-BEA73581-C6F4-4346-A61B-B6C19513BF1C">SWITCH</a></code> command to make the restored files current (as illustrated in <a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDFEAAH">Example 3-25</a>). If you do not issue <code class="codeph">SWITCH</code> commands, then RMAN considers the restored files as valid copies for use in future restore operations. <a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDCJADE" title="Explains the interaction between SET NEWNAME, SWITCH, and RESTORE">Table 3-8</a> describes the behavior of the <code class="codeph">RESTORE</code>, <code class="codeph">SET NEWNAME</code>, and <code class="codeph">SWITCH</code> commands.
                  </p>
                  <div class="tblformal" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDCJADE">
                     <p class="titleintable">Table 3-8 SET NEWNAME, SWITCH, and RESTORE</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="SET NEWNAME, SWITCH, and RESTORE" summary="Explains the interaction between SET NEWNAME, SWITCH, and RESTORE" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="17%" id="d82198e551">SET NEWNAME Run</th>
                              <th align="left" valign="bottom" width="17%" id="d82198e554">SWITCH Run</th>
                              <th align="left" valign="bottom" width="67%" id="d82198e557">RESTORE Behavior</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="17%" id="d82198e562" headers="d82198e551 ">
                                 <p>No</p>
                              </td>
                              <td align="left" valign="top" width="17%" headers="d82198e562 d82198e554 ">
                                 <p>N/A</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d82198e562 d82198e557 ">
                                 <p>RMAN restores the files to the most recent location stored in the recovery catalog.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="17%" id="d82198e572" headers="d82198e551 ">
                                 <p>Yes</p>
                              </td>
                              <td align="left" valign="top" width="17%" headers="d82198e572 d82198e554 ">
                                 <p>Yes</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d82198e572 d82198e557 ">
                                 <p>RMAN restores the files to the path names specified by <code class="codeph">SET</code> <code class="codeph">NEWNAME</code>. RMAN replaces the current data file names in the control file with the names of the restored files. RMAN records the data files with the old names as data file copies.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="17%" id="d82198e588" headers="d82198e551 ">
                                 <p>Yes</p>
                              </td>
                              <td align="left" valign="top" width="17%" headers="d82198e588 d82198e554 ">
                                 <p>No</p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d82198e588 d82198e557 ">
                                 <p>RMAN restores the files to the path names specified by <code class="codeph">SET</code> <code class="codeph">NEWNAME</code>. RMAN does not update the current data file names in the control file. The restored files are listed in the RMAN repository as data file copies.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p>Because temp files cannot be backed up and because no redo is ever generated for them, RMAN never restores or recovers temp files. RMAN does track the names of temp files, but only so that it can automatically re-create them when needed.</p>
                  <p><span class="bold">RMAN Behavior When Restoring Control Files</span></p>
                  <p>The behavior of RMAN when restoring control files depend on a variety of factors, which are summarized in <a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDFEFBD" title="Describes restoration of control files under various scenarios">Table 3-9</a>. Required commands and options for restoring autobackups are summarized in <a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDBGBBD" title="Describes restoration from autobackups using various options">Table 3-10</a>.
                  </p>
                  <div class="tblformalwide" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDFEFBD">
                     <p class="titleintable">Table 3-9 RESTORE CONTROLFILE Scenarios</p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="RESTORE CONTROLFILE Scenarios" summary="Describes restoration of control files under various scenarios" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="12%" id="d82198e634">RMAN Connection</th>
                              <th align="left" valign="bottom" width="12%" id="d82198e637">RESTORE CONTROLFILE;</th>
                              <th align="left" valign="bottom" width="25%" id="d82198e640">RESTORE CONTROLFILE FROM AUTOBACKUP;</th>
                              <th align="left" valign="bottom" width="25%" id="d82198e643">RESTORE CONTROLFILE ... TO 'filename';</th>
                              <th align="left" valign="bottom" width="25%" id="d82198e649">RESTORE CONTROLFILE ... FROM 'media_handle' or TAG 'user_tag';</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="12%" id="d82198e660" headers="d82198e634 ">
                                 <p>No catalog, target database started in <code class="codeph">NOMOUNT</code> state
                                 </p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d82198e660 d82198e637 ">
                                 <p>Error. Must specify <code class="codeph">FROM AUTOBACKUP</code>.
                                 </p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d82198e660 d82198e640 ">
                                 <p>Restores to <code class="codeph">CONTROL_FILES</code> locations. See <a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDBGBBD" title="Describes restoration from autobackups using various options">Table 3-10</a> for required commands and options.
                                 </p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d82198e660 d82198e643 ">
                                 <p>Must specify <code class="codeph">FROM AUTOBACKUP</code>. Restores only to <span class="italic"><code class="codeph">filename</code></span>.
                                 </p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d82198e660 d82198e649 ">
                                 <p>First run <code class="codeph"><a href="SET.html#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3">SET</a></code> <code class="codeph">DBID</code>. Restores from specified file (cannot restore from <code class="codeph">TAG</code>). If <code class="codeph">TO</code> '<span class="italic"><code class="codeph">filename</code></span>' not used, restores to all <code class="codeph">CONTROL_FILES</code> locations.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="12%" id="d82198e719" headers="d82198e634 ">
                                 <p>No catalog, target database mounted or open</p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d82198e719 d82198e637 ">
                                 <p>Error. Must use <code class="codeph">TO</code> '<span class="italic"><code class="codeph">filename</code></span>', where <span class="italic"><code class="codeph">filename</code></span> is not in <code class="codeph">CONTROL_FILES</code> list.
                                 </p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d82198e719 d82198e640 ">
                                 <p>Error. Must use <code class="codeph">TO</code> '<span class="italic"><code class="codeph">filename</code></span>', where <span class="italic"><code class="codeph">filename</code></span> is not in <code class="codeph">CONTROL_FILES</code> list.
                                 </p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d82198e719 d82198e643 ">
                                 <p>Restores only to <span class="italic"><code class="codeph">filename</code></span>, where <span class="italic"><code class="codeph">filename</code></span> is not in <code class="codeph">CONTROL_FILES</code> list.
                                 </p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d82198e719 d82198e649 ">
                                 <p>RMAN issues error <a id="d82198e773" class="indexterm-anchor"></a><a id="d82198e775" class="indexterm-anchor"></a><code class="codeph">RMAN-06496</code>. Use <code class="codeph">TO</code> '<span class="italic"><code class="codeph">filename</code></span>' instead.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="12%" id="d82198e790" headers="d82198e634 ">
                                 <p>Catalog, target database started in <code class="codeph">NOMOUNT</code> state
                                 </p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d82198e790 d82198e637 ">
                                 <p>Restores to <code class="codeph">CONTROL_FILES</code> locations. Run <code class="codeph"><a href="SET.html#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3">SET</a></code> <code class="codeph">DBID</code> only if <code class="codeph">DB_NAME</code> not unique in catalog.
                                 </p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d82198e790 d82198e640 ">
                                 <p>Only use with recovery catalog for testing.</p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d82198e790 d82198e643 ">
                                 <p>Restores only to <span class="italic"><code class="codeph">filename</code></span>, where <span class="italic"><code class="codeph">filename</code></span> is not in <code class="codeph">CONTROL_FILES</code> list.
                                 </p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d82198e790 d82198e649 ">
                                 <p>Restores from specified file. If <code class="codeph">TO</code> '<span class="italic"><code class="codeph">filename</code></span>' not used, restores to all <code class="codeph">CONTROL_FILES</code> locations.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="12%" id="d82198e844" headers="d82198e634 ">
                                 <p>Catalog, target database mounted or open</p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d82198e844 d82198e637 ">
                                 <p>Error. Must use <code class="codeph">TO</code> '<span class="italic"><code class="codeph">filename</code></span>', where <span class="italic"><code class="codeph">filename</code></span> is not in <code class="codeph">CONTROL_FILES</code> list.
                                 </p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d82198e844 d82198e640 ">
                                 <p>Do not use with recovery catalog.</p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d82198e844 d82198e643 ">
                                 <p>Restores only to <span class="italic"><code class="codeph">filename</code></span>, where <span class="italic"><code class="codeph">filename</code></span> is not in <code class="codeph">CONTROL_FILES</code> list.
                                 </p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d82198e844 d82198e649 ">
                                 <p>RMAN issues error <a id="d82198e884" class="indexterm-anchor"></a><a id="d82198e886" class="indexterm-anchor"></a><code class="codeph">RMAN-06496</code>. Use <code class="codeph">TO</code> '<span class="italic"><code class="codeph">filename</code></span>' instead.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p>If you use RMAN in a <a id="d82198e902" class="indexterm-anchor"></a>Data Guard environment, then RMAN transparently converts primary control files to standby control files and vice versa. RMAN automatically updates file names for data files, online redo logs, standby redo logs, and temp files when you issue <code class="codeph">RESTORE</code> and <code class="codeph"><a href="RECOVER.html#GUID-CA98040F-9865-4F4F-BAF2-91C518612E95">RECOVER</a></code>. The recovery catalog always contains the correct information about the backup file names for each database, as explained in <span class="q">"<a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__CHDJIIGD">RMAN Backups in a Data Guard Environment</a>"</span>.
                  </p>
                  <p><span class="bold">Control File and Server Parameter File Autobackup Options</span></p>
                  <p><a id="d82198e923" class="indexterm-anchor"></a><a id="d82198e927" class="indexterm-anchor"></a><a id="d82198e931" class="indexterm-anchor"></a>When restoring an autobackup, the commands and options that you use depend on the autobackup type (control file or server parameter file) and location (inside or outside fast recovery area). The options are summarized in <a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDBGBBD" title="Describes restoration from autobackups using various options">Table 3-10</a>.
                  </p>
                  <div class="tblformalwide" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDBGBBD">
                     <p class="titleintable">Table 3-10 RESTORE ... FROM AUTOBACKUP</p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="RESTORE ... FROM AUTOBACKUP" summary="Describes restoration from autobackups using various options" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="11%" id="d82198e955">Restore Object</th>
                              <th align="left" valign="bottom" width="16%" id="d82198e958">Autobackup Location</th>
                              <th align="left" valign="bottom" width="15%" id="d82198e961">Run SET DBID?</th>
                              <th align="left" valign="bottom" width="17%" id="d82198e964">Specify RECOVERY AREA on RESTORE?</th>
                              <th align="left" valign="bottom" width="20%" id="d82198e967">Specify DB_NAME or DB_UNIQUE_NAME on RESTORE?</th>
                              <th align="left" valign="bottom" width="22%" id="d82198e970">Run SET CONTROLFILE AUTOBACKUP FORMAT?</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="11%" id="d82198e975" headers="d82198e955 ">
                                 <p>SPFILE</p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d82198e975 d82198e958 ">
                                 <p>Recovery area</p>
                              </td>
                              <td align="left" valign="top" width="15%" headers="d82198e975 d82198e961 ">
                                 <p>No</p>
                              </td>
                              <td align="left" valign="top" width="17%" headers="d82198e975 d82198e964 ">
                                 <p>Yes</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d82198e975 d82198e967 ">
                                 <p>Yes</p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d82198e975 d82198e970 ">
                                 <p>No</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="11%" id="d82198e994" headers="d82198e955 ">
                                 <p>SPFILE</p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d82198e994 d82198e958 ">
                                 <p>Outside recovery area</p>
                              </td>
                              <td align="left" valign="top" width="15%" headers="d82198e994 d82198e961 ">
                                 <p>Yes</p>
                              </td>
                              <td align="left" valign="top" width="17%" headers="d82198e994 d82198e964 ">
                                 <p>No</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d82198e994 d82198e967 ">
                                 <p>No</p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d82198e994 d82198e970 ">
                                 <p>Only if autobackup is not in default location</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="11%" id="d82198e1013" headers="d82198e955 ">
                                 <p>Control file</p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d82198e1013 d82198e958 ">
                                 <p>Recovery area</p>
                              </td>
                              <td align="left" valign="top" width="15%" headers="d82198e1013 d82198e961 ">
                                 <p>No</p>
                              </td>
                              <td align="left" valign="top" width="17%" headers="d82198e1013 d82198e964 ">
                                 <p>Only if autobackup is in noncurrent recovery area</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d82198e1013 d82198e967 ">
                                 <p>Only if autobackup is in noncurrent recovery area and uses a noncurrent <code class="codeph">DB_UNIQUE_NAME</code></p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d82198e1013 d82198e970 ">
                                 <p>No</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="11%" id="d82198e1034" headers="d82198e955 ">
                                 <p>Control file</p>
                              </td>
                              <td align="left" valign="top" width="16%" headers="d82198e1034 d82198e958 ">
                                 <p>Outside recovery area</p>
                              </td>
                              <td align="left" valign="top" width="15%" headers="d82198e1034 d82198e961 ">
                                 <p>Yes</p>
                              </td>
                              <td align="left" valign="top" width="17%" headers="d82198e1034 d82198e964 ">
                                 <p>No</p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d82198e1034 d82198e967 ">
                                 <p>No</p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d82198e1034 d82198e970 ">
                                 <p>Only if autobackup is not in default location</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p><span class="bold">Restoring Control Files From Archived Backups in NOCATALOG Mode</span></p>
                  <p>You can offload backups stored on disk either to tape or Oracle Cloud. When control file autobackup is enabled, and you use one of the following commands to archive disk backups to tape or Oracle Cloud, RMAN includes a backup of the latest control file to tape or Oracle Cloud:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><code class="codeph">BACKUP BACKUPSET ALL</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">BACKUP RECOVERY AREA</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">BACKUP DATAFILE COPY ALL</code></p>
                     </li>
                  </ul>
                  <p>To restore these backups, when a recovery catalog is not used, you must configure one or more disk and SBT channels (for tape or Oracle Cloud).</p>
                  <p>See <a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-24D7B81E-CECC-44EF-B6B7-6DD2F4766423">Example 3-29</a>.
                  </p>
                  <p id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CFAFGIJJ"><span class="bold">Restoring Data Files and Control Files Using Files from a Remote Host</span><a id="d82198e1080" class="indexterm-anchor"></a><a id="d82198e1084" class="indexterm-anchor"></a><a id="d82198e1088" class="indexterm-anchor"></a><a id="d82198e1092" class="indexterm-anchor"></a></p>
                  <p>Starting with Oracle Database 12<span class="italic">c</span>, you can restore a database, data files, control files, tablespaces, or an spfile using files from a remote database. RMAN connects to the remote database and transfers the required files, over the network, to the target database using backup sets. This is very useful in a Data Guard environment. You can restore data files on a primary database by connecting to a standby database over the network. You can also restore data files on a standby database by connecting to the primary database.
                  </p>
                  <p>While restoring files from a remote host over the network, you must use <code class="codeph">FROM SERVICE</code> to specify the service name of the remote host from which the files are obtained. Optionally, use <code class="codeph">SECTION SIZE</code> to restore files from the source database as multisection backup sets. You can compress the transferred files by specifying the <code class="codeph">USING COMPRESSED BACKUPSET</code>.
                  </p>
                  <p>To encrypt the files being transferred from the source database, use the <code class="codeph">SET ENCRYPTION</code> command before the RESTORE command. You can also use <code class="codeph">SET COMPRESSION ALGORITHM</code> to specify the algorithm used to compress the backup sets before transferring them over the network.
                  </p>
                  <p><span class="bold">Prerequisites for Restoring Files Using a Remote Host</span></p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The password file on the source database and the target database must be the same.</p>
                     </li>
                     <li>
                        <p>The <code class="codeph">tnsnames.ora</code> file in the target database must contain an entry that corresponds to the remote database.
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-EAECBC7B-CE1C-4344-924C-FBEDBFF6ECC8">Syntax</p>
                  <p><a id="d82198e1137" class="indexterm-anchor"></a><a id="d82198e1141" class="indexterm-anchor"></a><span class="bold"><span class="italic">restore</span>::=</span></p>
                  <div class="figure" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-13F7CB53-33B9-4CF4-B2C7-6EB2C07473F1"><img src="img/restore.gif" alt="Description of restore.eps follows" title="Description of restore.eps follows" longdesc="img_text/restore.html"><br><a href="img_text/restore.html">Description of the illustration restore.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDIJJJD">restoreObject::=</a></span>, <span class="italic"><a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDCEJCJ">restoreSpecOperand::=</a></span>, <span class="italic"><a href="deviceSpecifier.html#GUID-F653748D-4AB5-4A0E-B6E5-D891A000ADAC__BABDEJAC">deviceSpecifier::=</a></span>, <span class="italic"><a href="untilClause.html#GUID-6A6C502A-6E21-4673-9FC9-C075D1E2F97A__BABEDABD">untilClause::=</a></span>)
                  </p>
                  <p id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDIJJJD"><a id="d82198e1171" class="indexterm-anchor"></a><a id="d82198e1175" class="indexterm-anchor"></a><span class="bold"><span class="italic">restoreObject</span>::=</span></p>
                  <div class="figure" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-A2277858-B4FD-425A-B3D1-CE25FADD42C1"><img src="img/restoreobject.gif" alt="Description of restoreobject.eps follows" title="Description of restoreobject.eps follows" longdesc="img_text/restoreobject.html"><br><a href="img_text/restoreobject.html">Description of the illustration restoreobject.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="archivelogRecordSpecifier.html#GUID-DDF929FF-796B-4AD6-AE58-F831CAFC7703__BABJGBFG">archivelogRecordSpecifier::=</a></span>, <span class="italic"><a href="datafileSpec.html#GUID-A0A69931-D404-4D89-8F95-3AB898B6A220__BABCCBBJ">datafileSpec::=</a></span>, <span class="italic"><a href="foreignFileSpec.html#GUID-38CC0715-B32B-4394-92FB-3E0CB7C3ABE3__CIHFBDBF">foreignFileSpec::=</a></span>)
                  </p>
                  <p id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDCEJCJ"><a id="d82198e1201" class="indexterm-anchor"></a><a id="d82198e1203" class="indexterm-anchor"></a><span class="bold"><span class="italic">restoreSpecOperand</span>::=</span></p>
                  <div class="figure" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-BA92DFD7-1618-4B78-A4F0-1247AF3194B9"><img src="img/restorespecoperand.gif" alt="Description of restorespecoperand.eps follows" title="Description of restorespecoperand.eps follows" longdesc="img_text/restorespecoperand.html"><br><a href="img_text/restorespecoperand.html">Description of the illustration restorespecoperand.eps</a></div>
                  <!-- class="figure" -->
                  <p><a id="d82198e1215" class="indexterm-anchor"></a><a id="d82198e1219" class="indexterm-anchor"></a><span class="bold"><span class="italic">autoBackupOptList</span>::=</span></p>
                  <div class="figure" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-805921B0-4F3B-4C1C-AF5D-103F0AAF2A83"><img src="img/autobackupoptlist.gif" alt="Description of autobackupoptlist.eps follows" title="Description of autobackupoptlist.eps follows" longdesc="img_text/autobackupoptlist.html"><br><a href="img_text/autobackupoptlist.html">Description of the illustration autobackupoptlist.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-B62EA39D-58EE-46D2-88E7-AF7EF5207F25">Semantics</p>
                  <p id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__I1017375"><span class="bold"><span class="italic">restore</span></span></p>
                  <p>This clause enables you to select which files you want to restore and specify parameters that control the behavior of the restore operation.</p>
                  <div class="tblformalwide" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-8DE95FE2-A16D-4EF1-8B52-859C89D4AB6E">
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="" summary="Describes RESTORE command parameters" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d82198e1247">Syntax Element</th>
                              <th align="left" valign="bottom" width="71%" id="d82198e1250">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e1255" headers="d82198e1247 ">
                                 <p><span class="italic"><code class="codeph"><a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__BGBJJGCB">restoreObject</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e1255 d82198e1250 ">
                                 <p>Specifies the files to be restored.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e1265" headers="d82198e1247 ">
                                 <p><span class="italic"><code class="codeph"><a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__I1036865">restoreSpecOperand</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e1265 d82198e1250 ">
                                 <p>Specifies options for the <span class="italic"><code class="codeph"><a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__BGBJJGCB">restoreObject</a></code></span> clause.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e1280" headers="d82198e1247 ">
                                 <p><code class="codeph">AS ENCRYPTED</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e1280 d82198e1250 ">
                                 <p></p>
                                 <p>Restores backups of a database or specified tablespaces by encrypting the restored data file blocks. This is useful when you want use existing RMAN backups to move an on-premise database to Oracle Cloud. The on-premise database and its backups are unencrypted. Restoring these backups using <code class="codeph">AS ENCRYPTED</code> ensures that the Oracle Cloud database is encrypted. RMAN uses the database key to encrypt the data.
                                 </p>
                                 <p>The target database must be mounted. The wallet must be created and open before you run the <code class="codeph">RESTORE...AS ENCRYPTED</code> command.
                                 </p>
                                 <p>To use this clause, the <code class="codeph">COMPATIBLE</code> parameter of the target database must be set to 12.2 or higher and the backups used must be created with <code class="codeph">COMPATIBLE</code> set to 12.2 or higher. 
                                 </p>
                                 <p><span class="bold">Note:</span> This clause is supported only when restoring whole databases or tablespaces. 
                                 </p>
                                 <p><span class="bold">Note:</span> You cannot use the <code class="codeph">DATAFILE</code>, <code class="codeph">FOREIGN DATAFILE</code>, <code class="codeph">ARCHIVELOG</code>, <code class="codeph">FOREIGN ARCHIVELOG</code>, <code class="codeph">SPFILE</code>, and <code class="codeph">CONTROLFILE</code> clauses with <code class="codeph">AS ENCRYPTED</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e1335" headers="d82198e1247 ">
                                 <p><code class="codeph">AS DECRYPTED</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e1335 d82198e1250 ">
                                 <p></p>
                                 <p>Restores backups of an encrypted database or tablespace such that the restored data blocks are not encrypted. This is useful when moving a database on Oracle Cloud to an on-premise installation by using existing RMAN backups. Encryption is used for data files and backups fon Oracle Cloud. You can choose to restore the backups of the encrypted database or tablespace that were created on Oracle Cloud and create an on-premise database that does not use encryption. The target database must be mounted.</p>
                                 <p>You can only restore tablespaces encrypted with the database key as unencrypted backups. This includes tablespaces that were previously restored with encryption or tablespaces created on Oracle Cloud without an explicit encryption clause. Tablespaces that are created as encrypted or that are explicitly rekeyed after a restore operation with encryption will not be decrypted. </p>
                                 <p>To use this clause, the <code class="codeph">COMPATIBLE</code> parameter must be set to 12.2 or higher and the backups must be created with <code class="codeph">COMPATIBLE</code> set to 12.2 or higher.
                                 </p>
                                 <p><span class="bold">Note:</span> It is recommended that you do not decrypt the <code class="codeph">SYSTEM</code> and <code class="codeph">UNDO</code> tablespaces after they have been encrypted. This would result in rollback segments for encrypted tablespaces being decrypted.
                                 </p>
                                 <p><span class="bold">Note:</span> This clause is supported only when restoring whole databases or tablespaces. 
                                 </p>
                                 <p><span class="bold">Note:</span> You cannot use the <code class="codeph">DATAFILE</code>, <code class="codeph">FOREIGN DATAFILE</code>, <code class="codeph">ARCHIVELOG</code>, <code class="codeph">FOREIGN ARCHIVELOG</code>, <code class="codeph">SPFILE</code>, and <code class="codeph">CONTROLFILE</code> clauses with <code class="codeph">AS DECRYPTED</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e1394" headers="d82198e1247 ">
                                 <p><code class="codeph">CHANNEL</code> <span class="italic"><code class="codeph">channel_id</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e1394 d82198e1250 ">
                                 <p>Refer to the <span class="italic"><code class="codeph"><a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__I1036865">restoreSpecOperand</a></code></span> clause.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e1411" headers="d82198e1247 ">
                                 <p><code class="codeph">CHECK LOGICAL</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e1411 d82198e1250 ">
                                 <p>Tests data and index blocks that pass physical corruption checks for logical corruption, for example, corruption of a row piece or index entry. If RMAN finds logical corruption, then it logs the block in the alert log and server session trace file.</p>
                                 <p>If the total number of physical and logical corruptions detected in a file is less than its <code class="codeph"><a href="SET.html#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3">SET</a></code> <code class="codeph">MAXCORRUPT</code> setting, then the RMAN command completes and the database populates the <code class="codeph">V$DATABASE_BLOCK_CORRUPTION</code> view with corrupt block ranges. If <code class="codeph">MAXCORRUPT</code> is exceeded, then the command terminates without populating the views.
                                 </p>
                                 <p>When restoring a backup data file, RMAN honors the <code class="codeph">DB_BLOCK_CHECKSUM</code> initialization parameter setting. RMAN clears the checksum if <code class="codeph">DB_BLOCK_CHECKSUM</code> is set to <code class="codeph">false</code>. If set to <code class="codeph">typical</code>, then RMAN verifies the checksum when restoring from the backup and writing to the data file. If the initialization parameter <code class="codeph">DB_BLOCK_CHECKSUM=typical</code>, and if <code class="codeph">MAXCORRUPT</code> is not set, then specifying <code class="codeph">CHECK LOGICAL</code> detects all types of corruption that are possible to detect.
                                 </p>
                                 <p><span class="bold">Note:</span> The <code class="codeph">MAXCORRUPT</code> setting represents the total number of physical and logical corruptions permitted on a file.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e1466" headers="d82198e1247 ">
                                 <p><code class="codeph">DEVICE&nbsp;TYPE </code><span class="italic"><code class="codeph"><a href="deviceSpecifier.html#GUID-F653748D-4AB5-4A0E-B6E5-D891A000ADAC">deviceSpecifier</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e1466 d82198e1250 ">
                                 <p>Allocates automatic channels for the specified device type only. For example, if you configure automatic disk and tape channels, and issue <code class="codeph">RESTORE ... DEVICE TYPE DISK</code>, then RMAN allocates only disk channels. You must configure a device type by using <code class="codeph"><a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A">CONFIGURE</a></code> (except for <code class="codeph">DISK</code>, which is preconfigured) before specifying the <code class="codeph">DEVICE TYPE</code> option.
                                 </p>
                                 <p><span class="bold">Note:</span> You cannot manually allocate channels within a <code class="codeph"><a href="RUN.html#GUID-88250EEF-DC49-42A9-822C-4011B1345C7B">RUN</a></code> block and then run <code class="codeph">RESTORE</code> with the <code class="codeph">DEVICE TYPE</code> clause.
                                 </p>
                                 <p> <span class="bold">See Also:</span> <span class="italic"><code class="codeph"><a href="deviceSpecifier.html#GUID-F653748D-4AB5-4A0E-B6E5-D891A000ADAC__BABHDFAD">deviceSpecifier</a></code></span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e1517" headers="d82198e1247 ">
                                 <p><code class="codeph">FORCE</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e1517 d82198e1250 ">
                                 <p>Overrides the restartable restore feature and restores all files regardless of whether they must be restored. If you do not specify <code class="codeph">FORCE</code>, then RMAN restores a file only if its header information does not match the information in the control file.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e1528" headers="d82198e1247 "><code class="codeph">FROM COPY NUMBER <span class="codeinlineitalic">integer</span></code></td>
                              <td align="left" valign="top" width="71%" headers="d82198e1528 d82198e1250 ">Specifies the copy number of the backup piece within a set of duplexed backup pieces. If no duplexing was performed, the copy number is <code class="codeph">1</code>. Otherwise, the copy number value ranges from <code class="codeph">2</code> to <code class="codeph">4</code>.
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e1545" headers="d82198e1247 ">
                                 <p><code class="codeph">FROM&nbsp;BACKUPSET</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e1545 d82198e1250 ">
                                 <p>Restores from backup sets only. By default <code class="codeph">RESTORE</code> chooses the file copy or backup set that needs the least media recovery.
                                 </p>
                                 <p>If you use the <code class="codeph">FROM BACKUPSET</code> option, then channels for the appropriate type of storage devices must be allocated for the backup sets that must be restored. For example, if needed backups are only available on tape, and no <code class="codeph">sbt</code> channels have been allocated, then RMAN cannot find a candidate backup set to restore, and the <code class="codeph">RESTORE</code> command fails. 
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e1568" headers="d82198e1247 ">
                                 <p><code class="codeph">FROM&nbsp;DATAFILECOPY</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e1568 d82198e1250 ">
                                 <p>Restores data file copies only. By default <code class="codeph">RESTORE</code> chooses the file copy or backup set that needs the least media recovery. If you use the <code class="codeph">FROM DATAFILECOPY</code> option, then the allocated channels must be of <code class="codeph">DEVICE TYPE DISK</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e1586" headers="d82198e1247 ">
                                 <p></p><code class="codeph">FROM SPARSE</code></td>
                              <td align="left" valign="top" width="71%" headers="d82198e1586 d82198e1250 ">Restores data files from the appropriate sparse backup set or image copy of the selected backup. The restored data files are sparse. If no sparse backup is available for this operation, the restore will fail.
                                 <p>The database compatibility parameter must be set to 12.2 or higher to perform <code class="codeph">RESTORE FROM SPARSE</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e1598" headers="d82198e1247 "><code class="codeph">FROM NONSPARSE</code></td>
                              <td align="left" valign="top" width="71%" headers="d82198e1598 d82198e1250 ">
                                 <p>Restores data files from the appropriate non-sparse backup. This selected backup can be in either the backup set format or image copy format. The restored data files are non-sparse. If no non-sparse backup is available for this operation, the restore will fail.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e1605" headers="d82198e1247 ">
                                 <p> <code class="codeph">&nbsp;&nbsp;&nbsp;INSTANT FULL</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e1605 d82198e1250 ">
                                 <p>This clause is reserved for a future release.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e1614" headers="d82198e1247 ">
                                 <p><code class="codeph">&nbsp;&nbsp;&nbsp;INSTANT SPARSE</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e1614 d82198e1250 ">
                                 <p>This clause is reserved for a future release.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e1622" headers="d82198e1247 ">
                                 <p><code class="codeph">FROM PLATFORM</code> <span class="italic"><code class="codeph">platform</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e1622 d82198e1250 ">
                                 <p>Specifies the name of the platform on which the cross platform backup was created. Cross-platform data transportation is supported starting with Oracle Database 12<span class="italic">c </span>Release 1 (12.1). This clause must be accompanied by a <span class="italic"><code class="codeph">foreignFileSpec</code></span> that specifies the backup sets that contain the data to be restored. The <code class="codeph">FROM PLATFORM</code> clause is optional. You can restore a cross-platform backup by specifying only a <span class="italic"><code class="codeph">foreignFileSpec</code></span>. However, if you specify a platform name using <code class="codeph">FROM PLATFORM</code>, the name must match the platform identifier stored in the cross-platform backup header.
                                 </p>
                                 <p></p>
                                 <p>To perform cross-platform tablespace transport by connecting over the network to a remote database, use the <code class="codeph">FROM PLATFORM</code> clause with the <code class="codeph">FROM SERVICE</code> clause. RMAN then creates the required backup sets on the source database, transfers them to the destination database, and then restores them on the destination.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e1660" headers="d82198e1247 ">
                                 <p><code class="codeph">FROM PREPLUGIN</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e1660 d82198e1250 ">
                                 <p>Restores data files and archived redo log files in the target CDB by using preplugin backups that were created before a source non-CDB or PDB was plugged in to the target CDB as a PDB.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e1668" headers="d82198e1247 ">
                                 <p><code class="codeph">FROM SERVICE</code> <span class="italic"><code class="codeph">service_name</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e1668 d82198e1250 ">
                                 <p>Restores data files, control files, or the spfile on the target database using files transferred over the network from a remote database. <span class="italic"><code class="codeph">service_name</code></span> specifies the service name of the remote database.
                                 </p>
                                 <p></p>
                                 <p>To perform cross-platform tablespace transport by connecting over the network to a remote database, use the <code class="codeph">FROM PLATFORM</code> clause with the <code class="codeph">FROM SERVICE</code> clause. RMAN connects to the source database, creates the required backups, transfers them to the destination, and then restores the backups on the destination.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e1693" headers="d82198e1247 ">
                                 <p><code class="codeph">FROM&nbsp;TAG</code> <span class="italic"><code class="codeph">tag_name</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e1693 d82198e1250 ">
                                 <p>Refer to the <span class="italic"><code class="codeph"><a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__I1036865">restoreSpecOperand</a></code></span> clause.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e1710" headers="d82198e1247 ">
                                 <p><code class="codeph">FILE_NAME_CONVERT</code> <code class="codeph"><span class="codeinlineitalic">string_pattern</span></code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e1710 d82198e1250 ">
                                 <p>Specifies how Oracle Database file names on the source CDB map to the corresponding files on the destination CDB during cross-platform transport of a PDB to a destination CDB.</p>
                                 <p>Specifies pairs of strings used to convert the file names. You can use as many pairs of source and destination replacement strings as required. For example, you can set the string pattern to a value such as:</p>
                                 <p><code class="codeph">FILE_NAME_CONVERT = ('str1','str2','str3', 'str4' ...)</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e1727" headers="d82198e1247 ">
                                 <p id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDFAJFI"><code class="codeph">PREVIEW</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e1727 d82198e1250 ">
                                 <p>Reportsâ€”but does not restoreâ€”the backups and archived redo log files that RMAN could use to restore and recover the database to the specified time. RMAN queries the metadata and does not actually read the backup files.</p>
                                 <p>The <code class="codeph">RESTORE ... PREVIEW</code> output is in the same format as the <code class="codeph"><a href="LIST.html#GUID-2BAB704C-A3C9-4F76-8D96-4BD961FBEF2E">LIST</a></code> <code class="codeph">BACKUP</code> output (see <a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDEFIAA">Example 3-31</a>).
                                 </p>
                                 <p><a id="d82198e1750" class="indexterm-anchor"></a><a id="d82198e1752" class="indexterm-anchor"></a>Some media managers provide status information to RMAN about which backups are offsite. Offsite backups are stored in a remote location, such as a secure storage facility, and cannot be used without retrieving media.
                                 </p>
                                 <p>Offsite backups are marked as <code class="codeph">AVAILABLE</code> in the RMAN repository even though the media must be retrieved from storage before the backup can be restored. If RMAN attempts to restore a offsite backup, then the restore operation fails. <code class="codeph">RESTORE ... PREVIEW</code> can identify backups needed for a <code class="codeph">RESTORE</code> operation that are stored on media that requires retrieval. The output indicates whether backups are stored offsite.
                                 </p>
                                 <p>If a needed backup is stored offsite, but the media manager does not support offsite backups, then your options are:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>Use <code class="codeph"><a href="CHANGE.html#GUID-961151C6-EEFF-4347-AF1E-93EFDD5F5BF2">CHANGE</a></code> <code class="codeph">... UNAVAILABLE</code> to prevent RMAN from selecting the needed offsite backups, and attempt the <code class="codeph">RESTORE ... PREVIEW</code> operation again to determine whether RMAN selects another offsite backup. When RMAN does not select any offsite backups, you can perform the restore operation.
                                       </p>
                                    </li>
                                    <li>
                                       <p>Use <code class="codeph">RESTORE ... PREVIEW</code> with the <code class="codeph">RECALL</code> option.
                                       </p>
                                    </li>
                                 </ul>
                                 <p><span class="bold">See Also:</span> <code class="codeph"><a href="LIST.html#GUID-2BAB704C-A3C9-4F76-8D96-4BD961FBEF2E">LIST</a></code>, specifically the <code class="codeph">BACKUPS</code> and <code class="codeph">SUMMARY</code> options, and the <code class="codeph"><a href="RECOVER.html#GUID-CA98040F-9865-4F4F-BAF2-91C518612E95">RECOVER</a></code> <code class="codeph">... VALIDATE HEADER</code> command
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e1818" headers="d82198e1247 ">
                                 <p><code class="codeph">&nbsp;&nbsp;&nbsp;RECALL</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e1818 d82198e1250 ">
                                 <p>Instructs the media manager to retrieve the backup media needed for the specified restore operation from offsite storage (see <a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDDHJHH">Example 3-32</a>).
                                 </p>
                                 <p></p>
                                 <p>When restoring backups that are stored in archive storage in Oracle Cloud Infrastructure Classic, use this option to first recall backups before you restore them.</p>
                                 <p><span class="bold">Note:</span> This option only works if your media manager supports this functionality. You can use <code class="codeph">RESTORE ... PREVIEW</code> periodically to monitor whether the needed backups are stored locally again.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e1839" headers="d82198e1247 ">
                                 <p><code class="codeph">&nbsp;&nbsp;&nbsp;SUMMARY</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e1839 d82198e1250 ">
                                 <p>Summarizes the backups that RMAN would restore. The output is in the same format as the output of the <code class="codeph">LIST BACKUPS ... SUMMARY</code> command.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e1850" headers="d82198e1247 ">
                                 <p><code class="codeph">SECTION SIZE</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e1850 d82198e1250 ">
                                 <p>Restores a multi-section backup.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e1858" headers="d82198e1247 ">
                                 <p></p>
                                 <p><code class="codeph">SKIP PREPLUGIN</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e1858 d82198e1250 ">
                                 <p>Excludes preplugin data files.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e1867" headers="d82198e1247 ">
                                 <p><code class="codeph">SKIP READONLY</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e1867 d82198e1250 ">
                                 <p>Does not restore read-only files.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e1875" headers="d82198e1247 "><code class="codeph">TO RESTORE POINT</code> <span class="italic"><code class="codeph">restore_point_name</code></span></td>
                              <td align="left" valign="top" width="71%" headers="d82198e1875 d82198e1250 ">
                                 <p>Specifies a restore point, with the SCN at which the restore point was created as the upper, inclusive limit. Because the limit is inclusive, RMAN selects only files that it can use to restore files up to <span class="italic">and including</span> the SCN corresponding to the restore point.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e1889" headers="d82198e1247 ">
                                 <p><span class="italic"><code class="codeph"><a href="untilClause.html#GUID-6A6C502A-6E21-4673-9FC9-C075D1E2F97A">untilClause</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e1889 d82198e1250 ">
                                 <p>Limits the selection to backup sets or file copies that are suitable for a point-in-time recovery to the specified time, SCN, or log sequence number. </p>
                                 <p>In the absence of any other criteria, RMAN selects the most current file copy or backup set to restore. The time specified in the <code class="codeph">UNTIL</code> clause must fall within the current database incarnation.
                                 </p>
                                 <p><span class="bold">See Also:</span> <span class="italic"><code class="codeph"><a href="untilClause.html#GUID-6A6C502A-6E21-4673-9FC9-C075D1E2F97A">untilClause</a></code></span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e1914" headers="d82198e1247 ">
                                 <p><code class="codeph">USING [COMPRESSED] BACKUPSET</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e1914 d82198e1250 ">
                                 <p>Specifies that the files being restored, over the network, must be transferred from the remote database as compressed backup sets. By default, RMAN transfers files as backup sets. Therefore, even when you omit the <code class="codeph">USING BACKUPSET</code> clause, the files are transferred as backup sets. By default, compression is performed by using the compression algorithm that is set in the RMAN configuration. You can use a different compression algorithm by executing the <code class="codeph">SET COMPRESSION ALGORITHM</code> command before executing the <code class="codeph">RESTORE</code> command.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e1931" headers="d82198e1247 ">
                                 <p><code class="codeph">VALIDATE</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e1931 d82198e1250 ">
                                 <p>RMAN identifies which backup sets, data file copies, and archived redo log files must be restored, and then validates them (see <a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDHIEJA">Example 3-33</a>). No files are restored.
                                 </p>
                                 <p>For files on both disk and tape, RMAN reads all blocks in the backup piece or image copy. RMAN also validates offsite backups. The validation is identical to a real restore operation except that RMAN does not write output files.</p>
                                 <p><span class="bold">Note:</span> If you use <code class="codeph">RESTORE</code> with the <code class="codeph">VALIDATE</code> option, then the database can be open with data files online.
                                 </p>
                                 <p><span class="bold">See Also:</span> <code class="codeph"><a href="VALIDATE.html#GUID-ECE57997-40CE-4029-A434-320441D2AD1E">VALIDATE</a></code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e1961" headers="d82198e1247 ">
                                 <p><code class="codeph">&nbsp;&nbsp;&nbsp;HEADER</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e1961 d82198e1250 ">
                                 <p>Reports and validatesâ€”but does not restoreâ€”the backups that RMAN could use to restore to the specified time.</p>
                                 <p>When you specify this option, RMAN performs the same functions as when you run <code class="codeph">RESTORE</code> with the <code class="codeph"><a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDFAJFI">PREVIEW</a></code> option. However, in addition to listing the files needed for restore and recovery, RMAN validates the backup file headers to determine whether the files on disk or in the media management catalog correspond to the metadata in the RMAN repository.
                                 </p>
                                 <p><span class="bold">See Also:</span> The descriptions of the <code class="codeph">RESTORE</code> <code class="codeph"><a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDFAJFI">PREVIEW</a></code> option and the <code class="codeph"><a href="RECOVER.html#GUID-CA98040F-9865-4F4F-BAF2-91C518612E95">RECOVER</a></code> <code class="codeph">... VALIDATE HEADER</code> option
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__BGBJJGCB"><span class="bold"><span class="italic">restoreObject</span></span></p>
                  <p>This subclause specifies the objects to be restored: control files, data files, archived redo log files, or the server parameter file. RMAN does not support backup and recovery of the change tracking file. RMAN re-creates the change tracking file after database restore and recovery; the next incremental backup after any recovery can use the file. Thus, restore and recovery has no user-visible effect on change tracking.</p>
                  <div class="tblformalwide" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-4DD39ED2-61C4-486B-89CD-377539B3CCA6">
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="" summary="Describes RESTORE command restoreObject parameters" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d82198e2010">Syntax Element</th>
                              <th align="left" valign="bottom" width="71%" id="d82198e2013">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e2018" headers="d82198e2010 ">
                                 <p><span class="italic"><code class="codeph"><a href="archivelogRecordSpecifier.html#GUID-DDF929FF-796B-4AD6-AE58-F831CAFC7703">archivelogRecordSpecifier</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e2018 d82198e2013 ">
                                 <p><a id="d82198e2027" class="indexterm-anchor"></a>Restores the specified range of archived redo log files. 
                                 </p>
                                 <p>The default restore location is <code class="codeph">DB_RECOVERY_FILE_DEST</code> (if one of <code class="codeph">LOG_ARCHIVE_DEST_n</code> is configured to <code class="codeph">USE_DB_RECOVERY_FILE_DEST</code> either implicitly or explicitly). Otherwise, the default restore file names are constructed with the <code class="codeph">LOG_ARCHIVE_FORMAT</code> and <code class="codeph">LOG_ARCHIVE_DEST_1</code> initialization parameters of the target database. These parameters combine in a port-specific fashion to derive the name of the restored log. You can override the default location with the <code class="codeph"><a href="SET.html#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3">SET</a></code> <code class="codeph">ARCHIVELOG DESTINATION</code> command.
                                 </p>
                                 <p>Because the <code class="codeph"><a href="RECOVER.html#GUID-CA98040F-9865-4F4F-BAF2-91C518612E95">RECOVER</a></code> command automatically restores archived redo log files as needed, you seldom need to restore logs manually. Possible reasons for manually restoring archived redo log files are to speed up recovery, to stage the logs to multiple destinations, or to analyze the log contents after a point-in-time recovery. To restore logs from a previous incarnation without shutting down the database, you can use <code class="codeph">RESTORE ARCHIVELOG</code> with:
                                 </p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>... <code class="codeph">FROM SCN</code></p>
                                    </li>
                                    <li>
                                       <p>..<code class="codeph">.SCN BETWEEN... AND</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">FROM SCN ... INCARNATION &lt;integer&gt;</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">FROM SCN... INCARNATION ALL</code> 
                                       </p>
                                    </li>
                                 </ul>
                                 <p><span class="bold">Note:</span> The database can be started, mounted, or open for this operation.
                                 </p>
                                 <p><span class="bold">See Also:</span> <span class="italic"><code class="codeph"><a href="archivelogRecordSpecifier.html#GUID-DDF929FF-796B-4AD6-AE58-F831CAFC7703">archivelogRecordSpecifier</a></code></span>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e2103" headers="d82198e2010 ">
                                 <p><code class="codeph">CONTROLFILE</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e2103 d82198e2013 ">
                                 <p>Restores either a standby or backup control file depending on the target database role.</p>
                                 <p>If the control file is lost, then restore the control file (see <a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDFEFBD" title="Describes restoration of control files under various scenarios">Table 3-9</a>) and restore the database after mounting the restored control file. You must always run the <code class="codeph"><a href="RECOVER.html#GUID-CA98040F-9865-4F4F-BAF2-91C518612E95">RECOVER</a></code> command after mounting a restored control file and you must open the database with the <code class="codeph">RESETLOGS</code> option.
                                 </p>
                                 <p><span class="bold">Note:</span> If the target database is not mounted, and if RMAN is not connected to a recovery catalog, then you must specify the <code class="codeph">FROM AUTOBACKUP</code> clause with <code class="codeph">RESTORE CONTROLFILE</code>. If the autobackup is in a nondefault format, then first use the <code class="codeph">SET CONTROLFILE AUTOBACKUP FORMAT</code> command to specify the format. If the target database is mounted or open, then you must specify the <code class="codeph">TO</code> <span class="italic"><code class="codeph">filename</code></span> clause with <code class="codeph">RESTORE CONTROLFILE</code>.
                                 </p>
                                 <p>When you run <code class="codeph">RESTORE</code> with a backup control file while connected to a recovery catalog (see <a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDGHAJH">Example 3-26</a>), RMAN automatically updates the control file to reflect the structure of the restored database based on the metadata in the catalog.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e2157" headers="d82198e2010 ">
                                 <p><code class="codeph">&nbsp;&nbsp;&nbsp;TO</code> <code class="codeph">'</code><span class="italic"><code class="codeph">filename</code></span><code class="codeph">'</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e2157 d82198e2013 ">
                                 <p>Restores the control file to the specified file name. </p>
                                 <p><a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDFEFBD" title="Describes restoration of control files under various scenarios">Table 3-9</a> explains RMAN behavior when restoring the control file with the <code class="codeph">TO</code> clause.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e2182" headers="d82198e2010 "><code class="codeph">APPLICATION ROOT DATABASE</code></td>
                              <td align="left" valign="top" width="71%" headers="d82198e2182 d82198e2013 ">
                                 <p></p>
                                 <p>Specifies all data files in the application root.</p>
                                 <p>Connect to the CDB root as a common user with the <code class="codeph">SYSDBA</code> or <code class="codeph">SYSBACKUP</code> privilege. Or, connect to application root as an application common user with the <code class="codeph">SYSDBA</code> or <code class="codeph">SYSBACKUP</code> privilege.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e2204" headers="d82198e2010 ">
                                 <p><code class="codeph">DATABASE</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e2204 d82198e2013 ">
                                 <p>Restores all data files in the database except those that are offline. By default, RMAN restores data files in read-only tablespaces.</p>
                                 <p>In a CDB, restores the whole CDB. You connect to the root to restore the CDB. In a PDB, restores the data files in the specified PDB. To backup a PDB, connect to that PDB. See <span class="q">"<a href="CONNECT.html#GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67__BGBGAIGG">Connecting to CDBs and PDBs</a>"</span>.
                                 </p>
                                 <p></p>
                                 <p>In an application container, restores the entire application container. This includes the application root and all application PDBs that belong to this application root. You connect to the application root as an application common user with the <code class="codeph">SYSDBA</code> or <code class="codeph">SYSBACKUP</code> privilege.
                                 </p>
                                 <p>Unlike <code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50">BACKUP</a></code> <code class="codeph">DATABASE</code>, <code class="codeph">RESTORE DATABASE</code> does <span class="italic">not</span> automatically include the control file and the server parameter fileâ€”you must issue additional <code class="codeph">RESTORE CONTROLFILE</code> and <code class="codeph">RESTORE SPFILE</code> commands to restore these files.
                                 </p>
                                 <p><span class="bold">Note:</span> To restore offline data files you must use <code class="codeph">RESTORE DATAFILE</code> or <code class="codeph">RESTORE TABLESPACE</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e2260" headers="d82198e2010 ">
                                 <p><code class="codeph">DATABASE ROOT</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e2260 d82198e2013 ">
                                 <p>In a CDB, restores all online data files belonging to the root. Connect to the root as described in <span class="q">"<a href="CONNECT.html#GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67__BGBGAIGG">Connecting to CDBs and PDBs</a>"</span>.
                                 </p>
                                 <p></p>
                                 <p>In an application container, restores online data files belonging to the application root and all application PDBs. Connect to the application root as an application common user with the <code class="codeph">SYSDBA</code> or <code class="codeph">SYSBACKUP</code> privilege.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e2281" headers="d82198e2010 ">
                                 <p><code class="codeph">PLUGGABLE DATABASE</code> <span class="italic"><code class="codeph">pdb_name</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e2281 d82198e2013 ">
                                 <p>In a CDB, restores all data files belonging to the specified PDB. No other PDBs are affected; they can remain open and operational. Use a comma-separated list to restore multiple PDBs. Connect to the root as described in <span class="q">"<a href="CONNECT.html#GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67__BGBGAIGG">Connecting to CDBs and PDBs</a>"</span>.
                                 </p>
                                 <p></p>
                                 <p>In an application container, connect to the CDB root as a common user with the <code class="codeph">SYSDBA</code> or <code class="codeph">SYSBACKUP</code> privilege and specify the name of the application root in <code class="codeph">pdb_name</code> to restore data files belonging to the application root and all application PDBs. 
                                 </p>
                                 <p>To restore all data files belonging to a specified application PDB, connect to the application root as an application common user with the <code class="codeph">SYSDBA</code> or <code class="codeph">SYSBACK</code> privilege. To restore files for multiple application PDBs, specify a common-separated list of application PDB names.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e2317" headers="d82198e2010 "><code class="codeph">&nbsp;&nbsp;&nbsp;SKIP [FOREVER]</code> <code class="codeph">&nbsp;TABLESPACE</code> <span class="italic"><code class="codeph">tablespace_name</code></span></td>
                              <td align="left" valign="top" width="71%" headers="d82198e2317 d82198e2013 ">
                                 <p>Excludes the specified tablespaces from the restore operation. This option is useful to avoid restoring tablespaces containing temporary data. In a CDB, refers to a tablespace in the root when connected to the root, and refers to a tablespace in a PDB when connected directly to the PDB.</p>
                                 <p>Specifying the <code class="codeph">FOREVER</code> keyword does not change the behavior of <code class="codeph">SKIP</code>. The <code class="codeph">FOREVER</code> keyword exists solely to maintain compatible syntax between <code class="codeph">RESTORE SKIP FOREVER</code> and <code class="codeph">RECOVER SKIP FOREVER</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e2348" headers="d82198e2010 ">
                                 <p><code class="codeph">&nbsp;&nbsp;&nbsp;TABLESPACE </code><span class="italic"><code class="codeph">pdb_name</code></span><code class="codeph">:</code><span class="italic"><code class="codeph">tablespace_name</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e2348 d82198e2013 ">
                                 <p>In a CDB, excludes the specified tablespaces from the restore operation. This syntax is required only when connected to the root. When connected directly to a PDB, use <code class="codeph">TABLESPACE</code> <span class="italic"><code class="codeph">tablespace_name</code></span>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e2371" headers="d82198e2010 ">
                                 <p><code class="codeph">DATAFILE</code> <span class="italic"><code class="codeph"><a href="datafileSpec.html#GUID-A0A69931-D404-4D89-8F95-3AB898B6A220">datafileSpec</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e2371 d82198e2013 ">
                                 <p>Restores the data files specified by file name or absolute data file number (see <a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDFEAAH">Example 3-25</a>). 
                                 </p>
                                 <p><span class="bold">Note:</span> Do not specify a data file more than once in a restore job. For example, the following command is invalid because data file 1 is both specified explicitly and implied by the <code class="codeph">SYSTEM</code> tablespace:
                                 </p><pre class="oac_no_warn" dir="ltr">RESTORE TABLESPACE SYSTEM DATAFILE 1;</pre><p><span class="bold">See Also:</span> <span class="italic"><code class="codeph"><a href="datafileSpec.html#GUID-A0A69931-D404-4D89-8F95-3AB898B6A220">datafileSpec</a></code></span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e2405" headers="d82198e2010 ">
                                 <p><code class="codeph">&nbsp;&nbsp;&nbsp;</code><span class="italic"><code class="codeph"><a href="foreignFileSpec.html#GUID-38CC0715-B32B-4394-92FB-3E0CB7C3ABE3">foreignFileSpec</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e2405 d82198e2013 ">
                                 <p>Restores a cross-platform backup that uses backup sets. Specifying <span class="italic"><code class="codeph"><a href="foreignFileSpec.html#GUID-38CC0715-B32B-4394-92FB-3E0CB7C3ABE3">foreignFileSpec</a></code></span> is mandatory when you perform a cross-platform restore operation. This clause specifies the data that must be restored (data files, tablespaces, or entire database) and the backup sets that contain the data to be restored. The cross-platform backup that is being restored can consist of multiple backup sets or multiple backup pieces.
                                 </p>
                                 <p>Use the <code class="codeph">BACKUPSET</code> syntax to specify the backup set to be restored. To restore data files, use <code class="codeph">ALL FOREIGN DATAFILES</code> or <code class="codeph">FOREIGN DATAFILE</code>. To restore tablespaces. use <code class="codeph">FOREIGN TABLESPACE</code>. To restore an entire database, use <code class="codeph">FOREIGN DATABASE</code>.
                                 </p>
                                 <p>To plug the restored tablespaces in to the destination database, you use the export dump file containing the tablespace metadata that was created along with the backup. Use <code class="codeph">DUMP FILE</code> to indicate that the backup contains an export dump file and <code class="codeph">BACKUPSET</code> to specify the backup set that contains the export dump file.
                                 </p>
                                 <p><span class="bold">Note:</span> This clause can be used only to restore data that was backed up using backup sets. It cannot be used for backups created as image copies.
                                 </p>
                                 <p><span class="bold">See Also:</span> <span class="italic"><code class="codeph"><a href="foreignFileSpec.html#GUID-38CC0715-B32B-4394-92FB-3E0CB7C3ABE3">foreignFileSpec</a></code></span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e2463" headers="d82198e2010 ">
                                 <p><code class="codeph">FOREIGN PLUGGABLE DATABASE</code> <span class="italic"><code class="codeph">pdb_name</code></span> FROM SERVICE
                                 </p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e2463 d82198e2013 ">
                                 <p></p>
                                 <p></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e2476" headers="d82198e2010 ">
                                 <p><code class="codeph">PRIMARY CONTROLFILE</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e2476 d82198e2013 ">
                                 <p>Restores a control file for a primary database in a Data Guard environment.</p>
                                 <p>RMAN restores either a normal or standby control file as appropriate, depending on the most recent database role known to the recovery catalog (<code class="codeph"><a href="RC_SITE.html#GUID-5A53B4D3-7E4C-40AF-B5DB-560FCAFB8293" title="This view lists information about all databases in a Data Guard environment that are known to the recovery catalog.">RC_SITE</a></code><code class="codeph">.DATABASE_ROLE</code>) for the target database. The purpose of this option to override the default setting in cases where the most recent database role is out-of-date. 
                                 </p>
                                 <p><a id="d82198e2496" class="indexterm-anchor"></a>Assume that you perform a switchover from primary database <code class="codeph">dgny</code> to standby database <code class="codeph">dgsf</code>, so that <code class="codeph">dgsf</code> is the new primary database. You want to restore a control file on <code class="codeph">dgsf</code>, but the recovery catalog was not resynchronized and still shows <code class="codeph">dgsf</code> as a standby database. In this case, you can specify <code class="codeph">PRIMARY CONTROLFILE</code> to override the default RMAN behavior and restore a normal control file.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e2521" headers="d82198e2010 ">
                                 <p><code class="codeph">SPFILE</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e2521 d82198e2013 ">
                                 <p>Restores a primary or standby server parameter file to the location from which it was backed up. RMAN cannot overwrite a server parameter file currently in use by the target database.</p>
                                 <p>By default RMAN restores the most current server parameter file. Specify the <code class="codeph">UNTIL</code> or <code class="codeph">TAG</code> options to restore older versions of the server parameter file.
                                 </p>
                                 <p>If the server parameter file is lost, then connect RMAN to the target database (and recovery catalog if used) and run <code class="codeph"><a href="SET.html#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3">SET</a></code> <code class="codeph">DBID</code>. Run <code class="codeph"><a href="STARTUP.html#GUID-96DFEF80-A2D1-493C-8CFF-BF0CB4BE281D">STARTUP</a></code> <code class="codeph">FORCE NOMOUNT</code> before running <code class="codeph">RESTORE SPFILE</code>. Then run <code class="codeph">STARTUP FORCE</code> to restart the database instance with the restored server parameter file.
                                 </p>
                                 <p><span class="bold">Note:</span> If the target database is not mounted, and if RMAN is not connected to a recovery catalog, then you must specify the <code class="codeph">FROM AUTOBACKUP</code> clause with <code class="codeph">RESTORE SPFILE</code>. If the autobackup is in a nondefault format, then first use the <code class="codeph">SET CONTROLFILE AUTOBACKUP FORMAT</code> command to specify the format. If the target database is started, mounted, or open, and if the database was started with a server parameter file, then you must specify the <code class="codeph">TO</code> <span class="italic"><code class="codeph">filename</code></span> clause with <code class="codeph">RESTORE SPFILE</code>. 
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e2586" headers="d82198e2010 ">
                                 <p><code class="codeph">&nbsp;&nbsp;&nbsp;TO [PFILE]</code> <code class="codeph">'</code><span class="italic"><code class="codeph">filename</code></span><code class="codeph">'</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e2586 d82198e2013 ">
                                 <p><a id="d82198e2600" class="indexterm-anchor"></a><a id="d82198e2602" class="indexterm-anchor"></a>Restores a primary or standby server parameter file to the location specified by the <code class="codeph">TO</code> clause. Specify <code class="codeph">PFILE</code> to save the server parameter file as a text-based initialization parameter file.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e2612" headers="d82198e2010 "><code class="codeph">&nbsp;&nbsp;&nbsp;FOR DB_UNIQUE_NAME</code> <span class="italic"><code class="codeph">db_unique_name</code></span></td>
                              <td align="left" valign="top" width="71%" headers="d82198e2612 d82198e2013 ">
                                 <p>Specifies the <code class="codeph">DB_UNIQUE_NAME</code> for the target database when the instance is not started. This parameter is only useful in a Data Guard environment.
                                 </p>
                                 <p><a id="d82198e2626" class="indexterm-anchor"></a>When <code class="codeph">FOR DB_UNIQUE_NAME</code> is specified, RMAN can locate the correct RMAN configurations for the host on which the <code class="codeph">SPFILE</code> is being restored and use them to access backup devices. Otherwise, RMAN cannot choose the correct channel configurations and returns an <a id="d82198e2637" class="indexterm-anchor"></a><a id="d82198e2639" class="indexterm-anchor"></a><code class="codeph">RMAN-6758</code> error.
                                 </p>
                                 <p>In a Data Guard environment, the primary and standby hosts may have different channel configurations for communicating with their associated SBT backup and disk devices. If both the primary and standby databases are known to the recovery catalog, then the configuration settings for both databases are recorded in the recovery catalog. Because the two databases have the same <code class="codeph">DB_NAME</code>, the records in the recovery catalog can only be distinguished with the <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter.
                                 </p>
                                 <p><span class="bold">Note:</span> Using <code class="codeph">RESTORE SPFILE</code> when the <code class="codeph">DB_NAME</code> is not unique in the recovery catalog produces an <code class="codeph">RMAN-6758</code> error.
                                 </p>
                                 <p><span class="bold">See Also:</span> <a href="../sbydb/using-RMAN-in-oracle-data-guard-configurations.html#SBYDB04700" target="_blank"><span class="italic">Oracle Data Guard Concepts and Administration</span></a> for a detailed procedure for restoring the server parameter file in a Data Guard environment
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e2677" headers="d82198e2010 ">
                                 <p><code class="codeph">&nbsp;&nbsp;&nbsp;TO</code> <code class="codeph">'</code><span class="italic"><code class="codeph">filename</code></span><code class="codeph">'</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e2677 d82198e2013 ">
                                 <p>Restores the standby control file to the specified file name. <a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDFEFBD" title="Describes restoration of control files under various scenarios">Table 3-9</a> explains the RMAN behavior when restoring the control file with the <code class="codeph">TO</code> clause.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e2701" headers="d82198e2010 ">
                                 <p><code class="codeph">STANDBY CONTROLFILE</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e2701 d82198e2013 ">
                                 <p>Restores a control file for a standby database. RMAN can transparently restore a normal control file backup and make it usable for a standby database.</p>
                                 <p>RMAN restores either a normal or standby control file as appropriate, depending on the most recent database role known to the recovery catalog (<code class="codeph"><a href="RC_SITE.html#GUID-5A53B4D3-7E4C-40AF-B5DB-560FCAFB8293" title="This view lists information about all databases in a Data Guard environment that are known to the recovery catalog.">RC_SITE</a></code><code class="codeph">.DATABASE_ROLE</code>) for the target database. The purpose of this option to override the default setting in cases where the most recent database role is out-of-date. Assume that you perform a switchover from primary database <code class="codeph">dgny</code> to standby database <code class="codeph">dgsf</code>, so that <code class="codeph">dgsf</code> is the new primary database. Later, you make <code class="codeph">dgny</code> a standby database for <code class="codeph">dgsf</code>. You want to restore a control file on <code class="codeph">dgny</code>, but the recovery catalog was not resynchronized and still shows <code class="codeph">dgny</code> as a primary database. In this case, you can specify <code class="codeph">STANDBY CONTROLFILE</code> to override the default RMAN behavior and restore a standby control file.
                                 </p>
                                 <p>If you restore the control file of a database whose <code class="codeph">DB_UNIQUE_NAME</code> is known to the recovery catalog, then RMAN updates all file names in the control file to file names known to the recovery catalog. Any file names explicitly renamed with <code class="codeph">ALTER DATABASE RENAME FILE</code> take precedence over the file names in the recovery catalog.
                                 </p>
                                 <p><span class="bold">See Also:</span> <a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDFEFBD" title="Describes restoration of control files under various scenarios">Table 3-9</a> for restrictions and usage notes
                                 </p>
                                 <p><span class="bold">Note:</span> You must always run the <code class="codeph"><a href="RECOVER.html#GUID-CA98040F-9865-4F4F-BAF2-91C518612E95">RECOVER</a></code> command after mounting a restored control file, and must also always open the database with the <code class="codeph">RESETLOGS</code> option.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e2775" headers="d82198e2010 ">
                                 <p><code class="codeph">TABLESPACE</code> <span class="italic"><code class="codeph">tablespace_name</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e2775 d82198e2013 ">
                                 <p>Restores all data files in the specified tablespaces (see <a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDGADCD">Example 3-24</a>).
                                 </p>
                                 <p>RMAN translates the tablespace name internally into a list of data files. If you rename a tablespace (for example, from <code class="codeph">users</code> to <code class="codeph">customers</code>), then so long as an additional tablespace with the old name (<code class="codeph">users</code>) has not been created, you can use either the old name (<code class="codeph">users</code>) or the new name (<code class="codeph">customers</code>) for the tablespace. RMAN detects that the tablespace has changed its name and updates the recovery catalog on the next resynchronization.
                                 </p>
                                 <p><span class="bold">Note:</span> RMAN can back up and restore dictionary-managed temporary tablespaces, but it cannot back up locally managed temporary tablespaces. However, RMAN automatically re-creates locally managed temporary tablespaces after restoring the database.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__I1036865"><span class="bold"><span class="italic">restoreSpecOperand</span></span></p>
                  <p>This subclause specifies options for the <span class="italic"><a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__BGBJJGCB">restoreObject</a></span> clause. These parameters override the parameters with the same name at the <code class="codeph">RESTORE</code> command level. 
                  </p>
                  <div class="tblformalwide" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-7A286BD4-5147-4DE8-841F-7567B8D0B30F">
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="" summary="Describes RESTORE command restoreSpecOperand parameters" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d82198e2830">Syntax Element</th>
                              <th align="left" valign="bottom" width="71%" id="d82198e2833">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e2838" headers="d82198e2830 ">
                                 <p><code class="codeph">CHANNEL</code> <span class="italic"><code class="codeph">channel_id</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e2838 d82198e2833 ">
                                 <p>Specifies the case-sensitive name of a channel to use for this restore operation. If you do not specify a channel, then <code class="codeph">RESTORE</code> uses any available channel allocated with the correct device type.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e2853" headers="d82198e2830 ">
                                 <p><a id="d82198e2855" class="indexterm-anchor"></a><a id="d82198e2857" class="indexterm-anchor"></a><a id="d82198e2859" class="indexterm-anchor"></a><code class="codeph">FROM AUTOBACKUP</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e2853 d82198e2833 ">
                                 <p>Restores a control file autobackup (see <a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDBAFDB">Example 3-27</a>). 
                                 </p>
                                 <p>This option is only valid on the <code class="codeph">RESTORE CONTROLFILE</code> and <code class="codeph">RESTORE SPFILE</code> commands. When restoring either type of file in <code class="codeph">NOCATALOG</code> mode, the <code class="codeph">FROM AUTOBACKUP</code> clause is required.
                                 </p>
                                 <p>RMAN begins the search on the current day or on the day specified with the <code class="codeph"><a href="SET.html#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3">SET</a></code> <code class="codeph">UNTIL</code>. On the first day searched, the search begins with sequence number 256 (or the sequence number specified by <code class="codeph">MAXSEQ</code>, if provided) and counts back to sequence 0. If no autobackup is found in the current or <code class="codeph">SET UNTIL</code> day, then RMAN checks preceding days, starting with sequence 256 and counting back to 0. The search continues up to <code class="codeph">MAXDAYS</code> days (default of 7, maximum of 366) before the current or <code class="codeph">SET UNTIL</code> day. If no autobackup is found within <code class="codeph">MAXDAYS</code> days, then RMAN signals an error and the command stops.
                                 </p>
                                 <p><span class="bold">See Also:</span> <a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDFEFBD" title="Describes restoration of control files under various scenarios">Table 3-9</a> for restrictions and usage notes.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e2920" headers="d82198e2830 ">
                                 <p><code class="codeph">&nbsp;&nbsp;&nbsp;</code><span class="italic"><code class="codeph"><a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__BGBHBIAC">autoBackupOptList</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e2920 d82198e2833 ">
                                 <p>Specifies parameters that control the search for a control file autobackup.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e2932" headers="d82198e2830 ">
                                 <p><code class="codeph">&nbsp;&nbsp;&nbsp;</code><code class="codeph">'</code><span class="italic"><code class="codeph">media_handle</code></span><code class="codeph">'</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e2932 d82198e2833 ">
                                 <p>Specifies the name of the control file copy or backup piece containing a control file. The <span class="italic"><code class="codeph">media_handle</code></span> can be any backup piece that contains a backup of a control file: the control file backup does not need to be an autobackup.
                                 </p>
                                 <p><span class="bold">See Also:</span> <a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDFEFBD" title="Describes restoration of control files under various scenarios">Table 3-9</a> for restrictions and usage notes.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e2960" headers="d82198e2830 ">
                                 <p><code class="codeph">FROM SERVICE</code> <span class="italic"><code class="codeph">service_name</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e2960 d82198e2833 ">
                                 <p>Restores data files or control files using backups transferred, over the network, from the remote database. <span class="italic"><code class="codeph">service_name</code></span> specifies the service name of the remote database.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e2976" headers="d82198e2830 ">
                                 <p><code class="codeph">FROM TAG</code> <span class="italic"><code class="codeph">tag_name</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e2976 d82198e2833 ">
                                 <p>Overrides the default selection of the most recent backups or file copy available. The tag restricts the automatic selection to backup sets or file copies created with the specified tag. If multiple backup sets or copies have a matching tag, then RMAN selects the most recent one. Tag names are not case sensitive.</p>
                                 <p><span class="bold">See Also:</span> <code class="codeph"><a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50">BACKUP</a></code> for a description of how a tag can be applied to an individual copy of a duplexed backup set, and for a description of the default file name format for tags.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__BGBHBIAC"><span class="bold"><span class="italic">autoBackupOptList</span></span></p>
                  <p>This subclause specifies parameters that control the search for a control file autobackup.</p>
                  <div class="tblformalwide" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-F53EFB76-A84F-4C8B-9261-F596381C8164">
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="" summary="Describes RESTORE command autoBackupOptList parameters" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d82198e3011">Syntax Element</th>
                              <th align="left" valign="bottom" width="71%" id="d82198e3014">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e3019" headers="d82198e3011 ">
                                 <p><code class="codeph">DB_NAME</code> <span class="italic"><code class="codeph">database_name</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e3019 d82198e3014 ">
                                 <p>Provides a <code class="codeph">DB_NAME</code> to be used in searching for control file autobackups. See <a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDBGBBD" title="Describes restoration from autobackups using various options">Table 3-10</a> to determine when to set this parameter.
                                 </p>
                                 <p>The default value of the <a id="d82198e3040" class="indexterm-anchor"></a><a id="d82198e3042" class="indexterm-anchor"></a><code class="codeph">DB_UNIQUE_NAME</code> initialization parameter is the <code class="codeph">DB_NAME</code> initialization parameter setting. If no <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter is set for a target database, then use either <code class="codeph">RESTORE ... DB_NAME</code> or <code class="codeph">RESTORE ... DB_UNIQUE_NAME</code>. If the <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter setting for a target database is different from <code class="codeph">DB_NAME</code>, then use <code class="codeph">RESTORE ... DB_UNIQUE_NAME</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e3072" headers="d82198e3011 ">
                                 <p><code class="codeph">MAXDAYS</code> <span class="italic"><code class="codeph">integer</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e3072 d82198e3014 ">
                                 <p>Limits the search for a control file autobackup to within the specified number of days earlier.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e3084" headers="d82198e3011 ">
                                 <p><code class="codeph">MAXSEQ</code> <span class="italic"><code class="codeph">integer</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e3084 d82198e3014 ">
                                 <p>Specifies the highest sequence number for the control file autobackup search.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e3096" headers="d82198e3011 ">
                                 <p><code class="codeph">RECOVERY AREA</code> <code class="codeph">'</code><span class="italic"><code class="codeph">pathname</code></span><code class="codeph">'</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d82198e3096 d82198e3014 ">
                                 <p>Specifies a path to the fast recovery area to search for autobackups. <code class="codeph">RECOVERY AREA</code> and <code class="codeph">DB_RECOVERY_FILE_DEST</code> are synonyms. See <a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDBGBBD" title="Describes restoration from autobackups using various options">Table 3-10</a> to determine when to set this parameter.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e3123" headers="d82198e3011 "><code class="codeph">DB_RECOVERY_FILE_DEST</code> <code class="codeph">'</code><span class="italic"><code class="codeph">pathname</code></span><code class="codeph">'</code></td>
                              <td align="left" valign="top" width="71%" headers="d82198e3123 d82198e3014 ">
                                 <p><code class="codeph">RECOVERY AREA</code> and <code class="codeph">DB_RECOVERY_FILE_DEST</code> are synonyms.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e3143" headers="d82198e3011 "><code class="codeph">&nbsp;&nbsp;&nbsp;DB_NAME</code> <span class="italic"><code class="codeph">database_name</code></span></td>
                              <td align="left" valign="top" width="71%" headers="d82198e3143 d82198e3014 ">
                                 <p>Provides a <code class="codeph">DB_NAME</code> to be used in searching for control file autobackups. See <a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDBGBBD" title="Describes restoration from autobackups using various options">Table 3-10</a> to determine when to set this parameter.
                                 </p>
                                 <p>The default value of the <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter is the <code class="codeph">DB_NAME</code> initialization parameter setting. If no <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter is set for a target database, then use either <code class="codeph">RESTORE ... DB_NAME</code> or <code class="codeph">RESTORE ... DB_UNIQUE_NAME</code>. If the <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter setting for a target database is different from <code class="codeph">DB_NAME</code>, then use <code class="codeph">RESTORE ... DB_UNIQUE_NAME</code>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d82198e3189" headers="d82198e3011 "><code class="codeph">&nbsp;&nbsp;&nbsp;DB_UNIQUE_NAME</code> <code class="codeph">&nbsp;&nbsp;&nbsp;</code><span class="italic"><code class="codeph">db_unique_name</code></span></td>
                              <td align="left" valign="top" width="71%" headers="d82198e3189 d82198e3014 ">
                                 <p>Specifies the <code class="codeph">DB_UNIQUE_NAME </code>of the database in the specified fast recovery area that is the target of the restore operation.
                                 </p>
                                 <p>The default value of the <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter is the <code class="codeph">DB_NAME</code> initialization parameter setting. If no <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter is set for a target database, then use either <code class="codeph">RESTORE ... DB_NAME</code> or <code class="codeph">RESTORE ... DB_UNIQUE_NAME</code>. If the <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter setting for a target database is different from <code class="codeph">DB_NAME</code>, then use <code class="codeph">RESTORE ... DB_UNIQUE_NAME</code>.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-ACC21950-8201-4FA4-9121-234121C8C39F">Examples</p>
               </div>
               <!-- class="section" -->
               <div class="example" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDGADCD">
                  <p class="titleinexample">Example 3-24 Restoring a Tablespace</p>
                  <p>This example takes a tablespace offline, restores it, then performs media recovery.</p><pre class="oac_no_warn" dir="ltr">ALTER TABLESPACE users OFFLINE IMMEDIATE; 
RESTORE TABLESPACE users; 
RECOVER TABLESPACE users;  
ALTER TABLESPACE users ONLINE;</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDFEAAH">
                  <p class="titleinexample">Example 3-25 Setting a New Name for a Restored Data File</p>
                  <p>Assume that <code class="codeph">/disk1</code>, which contains data file <code class="codeph">9</code>, suffers a media failure. This example specifies a new name for the data file, restores it, updates the control file to use the new name, recovers it, and then brings it online:
                  </p><pre class="oac_no_warn" dir="ltr">RUN
{
  ALTER DATABASE DATAFILE 9 OFFLINE;
  SET NEWNAME FOR DATAFILE 9 TO '/disk2/users01.dbf';
  RESTORE DATAFILE 9;
  SWITCH DATAFILE ALL;
  RECOVER DATAFILE 9;
  ALTER DATABASE DATAFILE 9 ONLINE;
}</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDGHAJH">
                  <p class="titleinexample">Example 3-26 Restoring the Control File When Using a Recovery Catalog</p>
                  <p>Assume that you want to restore the control file backup with the tag <code class="codeph">monday_cf_backup</code>. You start the RMAN client, connect to the target and recovery catalog databases, and run the following commands:
                  </p><pre class="oac_no_warn" dir="ltr">RUN
{ # SET DBID is not necessary when RMAN is connected to a recovery catalog
  STARTUP FORCE NOMOUNT;
  RESTORE CONTROLFILE FROM TAG 'monday_cf_backup';
  ALTER DATABASE MOUNT;
  RESTORE DATABASE;
  RECOVER DATABASE;
}
ALTER DATABASE OPEN RESETLOGS; # required after recovery with backup control file
</pre><p>RMAN restores the control file to its default location and replicates it automatically to all <code class="codeph">CONTROL_FILES</code> locations. RMAN mounts the control file and restores and recovers the database. RMAN automatically updates the control file to reflect the structure of the restored database based on the metadata in the recovery catalog.
                  </p>
               </div>
               <!-- class="example" -->
               <div class="example" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDBAFDB">
                  <p class="titleinexample">Example 3-27 Recovering the Database with a Control File Autobackup</p>
                  <p>Assume that the control file and some data files are lost and must be restored from tape. Because RMAN does not use a recovery catalog in this scenario, the <a href="SET.html#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3__CHDFHGDI">SET</a> <code class="codeph">DBID</code> command is necessary to identify the control file to be restored. The example restores the control file from tape, mounts the database, and then restores and recovers the database.
                  </p><pre class="oac_no_warn" dir="ltr">CONNECT TARGET /
STARTUP FORCE NOMOUNT;
SET DBID 36508508;  # required when restoring control file in NOCATALOG mode
RUN
{
  ALLOCATE CHANNEL c1 DEVICE TYPE sbt;
  RESTORE CONTROLFILE FROM AUTOBACKUP;
  ALTER DATABASE MOUNT;
  RESTORE DATABASE;
  RECOVER DATABASE;
}
ALTER DATABASE OPEN RESETLOGS;</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-C8B73D43-EF8C-44F6-825F-1BC8730CB692">
                  <p class="titleinexample">Example 3-28 Restoring a Control File Autobackup to a Nondefault Location</p>
                  <p>This example is a variation on <a href="RESTORE.html#GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDBAFDB">Example 3-27</a>. In this scenario, the control file autobackup is located on disk in a nondefault location. RMAN starts searching for backups with a sequence number of 20, and searches backward for 5 months:
                  </p><pre class="oac_no_warn" dir="ltr">CONNECT TARGET /
STARTUP FORCE NOMOUNT
SET DBID 36508508;  # required when restoring control file in NOCATALOG mode
RUN
{
  SET CONTROLFILE AUTOBACKUP FORMAT FOR DEVICE TYPE DISK 
    TO '/disk1/prod_cf_auto_%F';
  RESTORE CONTROLFILE TO '/tmp/cf_auto.dbf' FROM AUTOBACKUP 
    MAXSEQ 20 MAXDAYS 150;
  ALTER DATABASE MOUNT;
  RESTORE DATABASE;
  RECOVER DATABASE;
}
ALTER DATABASE OPEN RESETLOGS;</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-24D7B81E-CECC-44EF-B6B7-6DD2F4766423">
                  <p class="titleinexample">Example 3-29 Restoring Control File Autobackups Stored on Tape or Oracle Cloud</p>
                  <p>Database backups are created on disk according to a backup schedule. Control file autobackups are enabled, but a recovery catalog is not used. Subsequently, these backup sets are backed up to Oracle Cloud using the <code class="codeph">BACKUP BACKUPSET ALL</code> command. This example restores a control file using the autobackup that was created on Oracle Cloud. RMAN scans both disk and Oracle Cloud backups and then retrieves the latest control file autobackup. You must configure one disk channel and one SBT channel, for Oracle Cloud.
                  </p><pre class="pre codeblock"><code>RUN
{
SET DBID 1928835918;
ALLOCATE CHANNEL disk1 DEVICE TYPE DISK;
ALLOCATE CHANNEL sbt1 DEVICE TYPE 'SBT_TAPE' PARMS 'SBT_LIBRARY=/disk1/oss/libopc.so ENV=(OPC_PFILE=/disk1/oss/opc_sbt.ora)';
RESTORE CONTROLFILE FROM AUTOBACKUP;
}</code></pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-24AA3226-F3F0-4E61-B8AC-A9F5DE32B281">
                  <p class="titleinexample">Example 3-30 Restoring a Server Parameter File Autobackup to the Current Location</p>
                  <p>The following series of commands restores the current server parameter file in <code class="codeph">NOCATALOG</code> mode and then starts the instance with the restored server parameter file.
                  </p><pre class="oac_no_warn" dir="ltr">CONNECT TARGET /
SET DBID 1620189241; # set dbid to dbid of target database
STARTUP FORCE NOMOUNT; # start instance with dummy SPFILE
RUN
{
  ALLOCATE CHANNEL c1 DEVICE TYPE sbt;
  RESTORE SPFILE FROM AUTOBACKUP; # FROM AUTOBACKUP needed in NOCATALOG mode
  STARTUP FORCE; # startup with restored SPFILE
}</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDEFIAA">
                  <p class="titleinexample">Example 3-31 Previewing Backups</p>
                  <p>This example shows the results of a <code class="codeph">RESTORE ... PREVIEW</code> command, which identifies the backup sets RMAN selects for use in restoring archived redo log files.
                  </p><pre class="oac_no_warn" dir="ltr">RMAN&gt; RESTORE ARCHIVELOG ALL DEVICE TYPE sbt PREVIEW;
 
Starting restore at 01-MAR-13
released channel: ORA_SBT_TAPE_1
allocated channel: ORA_SBT_TAPE_1
channel ORA_SBT_TAPE_1: SID=85 device type=SBT_TAPE
channel ORA_SBT_TAPE_1: Oracle Secure Backup
 
List of Backup Sets
===================
 
BS Key  Size       Device Type Elapsed Time Completion Time
------- ---------- ----------- ------------ ---------------
53      1.25M      SBT_TAPE    00:00:18     01-MAR-13
        BP Key: 53   Status: AVAILABLE  Compressed: NO  Tag: TAG20130301T150155
        Handle: 2aibhej3_1_1   Media: RMAN-DEFAULT-000001
 
  List of Archived Logs in backup set 53
  Thrd Seq     Low SCN    Low Time  Next SCN   Next Time
  ---- ------- ---------- --------- ---------- ---------
  1    8       526376     01-MAR-13 527059     01-MAR-13
  1    9       527059     01-MAR-13 527074     01-MAR-13
  1    10      527074     01-MAR-13 527091     01-MAR-13
  1    11      527091     01-MAR-13 527568     01-MAR-13
  1    12      527568     01-MAR-13 527598     01-MAR-13
validation succeeded for backup piece
Finished restore at 01-MAR-13</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDDHJHH">
                  <p class="titleinexample">Example 3-32 Recalling Offsite Backups from Offsite Storage</p>
                  <p>When used with a media manager that reports information about offsite storage of backups and supports recalling offsite backups, <code class="codeph">RESTORE ... PREVIEW RECALL</code> requests that any media needed to restore archived redo log files from backup be recalled from offsite storage.
                  </p><pre class="oac_no_warn" dir="ltr">RMAN&gt; RESTORE ARCHIVELOG ALL PREVIEW RECALL;

Starting restore at 10-JUN-13
using channel ORA_DISK_1
using channel ORA_SBT_TAPE_1
 
 
List of Backup Sets
===================
 
BS Key  Size       Device Type Elapsed Time Completion Time
------- ---------- ----------- ------------ ---------------
31      12.75M     SBT_TAPE    00:00:02     10-JUN-13     
        BP Key: 33   Status: AVAILABLE  Compressed: NO  Tag: TAG20130610T152755
        Handle: 15gmknbs   Media: /v1,15gmknbs
 
  List of Archived Logs in backup set 31
  Thrd Seq     Low SCN    Low Time  Next SCN   Next Time
  ---- ------- ---------- --------- ---------- ---------
  1    1       221154     06-JUN-13 222548     06-JUN-13
  1    2       222548     06-JUN-13 222554     06-JUN-13
  1    3       222554     06-JUN-13 222591     06-JUN-13
  1    4       222591     06-JUN-13 246629     07-JUN-13
  1    5       246629     07-JUN-13 262451     10-JUN-13
 
BS Key  Size       Device Type Elapsed Time Completion Time
------- ---------- ----------- ------------ ---------------
32      256.00K    SBT_TAPE    00:00:01     10-JUN-13     
        BP Key: 34   Status: AVAILABLE  Compressed: NO  Tag: TAG20130610T153105
        Handle: 17gmknhp_1_1   Media: /v1,17gmknhp_1_1
 
  List of Archived Logs in backup set 32
  Thrd Seq     Low SCN    Low Time  Next SCN   Next Time
  ---- ------- ---------- --------- ---------- ---------
  1    6       262451     10-JUN-13 262547     10-JUN-13
  1    7       262547     10-JUN-13 262565     10-JUN-13
 
Initiated recall for the following list of offsite backup files
==========================================================
        Handle: 15gmknbs   Media: /v1,15gmknbs
Finished restore at 10-JUN-13</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CHDHIEJA">
                  <p class="titleinexample">Example 3-33 Validating the Restore of a Backup</p>
                  <p>The following example illustrates using <code class="codeph">RESTORE... VALIDATE</code> to confirm that backups required to restore the database are present on disk or tape, readable, and not corrupted:
                  </p><pre class="oac_no_warn" dir="ltr">RMAN&gt; RESTORE DATABASE VALIDATE;
 
Starting restore at 01-MAR-13
using channel ORA_DISK_1
allocated channel: ORA_SBT_TAPE_1
channel ORA_SBT_TAPE_1: SID=85 device type=SBT_TAPE
channel ORA_SBT_TAPE_1: Oracle Secure Backup
 
channel ORA_DISK_1: starting validation of datafile backup set
channel ORA_DISK_1: reading from backup piece /disk2/PROD/backupset/2013_03_01/o1_mf_nnndf_TAG20130301T161038_2ygtvzg0_.bkp
channel ORA_DISK_1: piece handle=/disk2/PROD/backupset/2013_03_01/o1_mf_nnndf_TAG20130301T161038_2ygtvzg0_.bkp tag=TAG20130301T161038
channel ORA_DISK_1: restored backup piece 1
channel ORA_DISK_1: validation complete, elapsed time: 00:00:16
Finished restore at 01-MAR-13</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-F3A8E3B5-91C6-4528-994C-2BEB2DB49A33">
                  <p class="titleinexample">Example 3-34 Restoring Data Files on the Primary Database Using the Standby</p>
                  <p>This example restores the data file <code class="codeph">users.dbf</code> that was lost on the primary database by restoring it, over the network, from the standby database:
                  </p><pre class="oac_no_warn" dir="ltr">RESTORE DATAFILE '/oradata/files/users.dbf'
          FROM SERVICE standby_tns
          SECTION SIZE 200M
          USING COMPRESSED BACKUPSET;
</pre><p>The service name of the remote database that contains the data file to be restored is <code class="codeph">standby_tns</code>. The <code class="codeph">SECTION SIZE</code> clause indicates that the data file is restored using multisection backup sets. The <code class="codeph">USING COMPRESSED BACKUPSET</code> clause specifies that the backup sets are compressed using the default compression algorithm that is configured for RMAN.
                  </p>
               </div>
               <!-- class="example" -->
               <div class="example" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-4A098666-190F-41FD-8F74-FA59042AEBE2">
                  <p class="titleinexample">Example 3-35 Restoring a Database from a Cross-Platform Database Backup</p>
                  <p>This example restores the database using a cross-platform backup that was created in <a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__BGBECGFG">Example 2-34</a>. This backup was created on a Microsoft Windows IA (32-bit) platform and is being restored on Linux x86 64-bit. The backup set containing the database is stored in <code class="codeph">/tmp/xplat_restores/full_db.bck</code>. The restored data files are stored in <code class="codeph">/oradata/datafiles</code> using unique file names that begin with <code class="codeph">df_</code></p><pre class="oac_no_warn" dir="ltr">RESTORE 
   FROM PLATFORM 'Microsoft Windows IA (32-bit)'
   ALL FOREIGN DATAFILES
   FORMAT '/oradata/datafiles/df_%U'
   FROM BACKUPSET '/tmp/xplat_restores/full_db.bck';
</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-30865953-C561-49AF-AC5A-3310E3BF6431">
                  <p class="titleinexample">Example 3-36 Restoring a Tablespace from a Cross-Platform Tablespace Backup</p>
                  <p>This example restores the tablespace <code class="codeph">example</code> from the cross-platform backup created in <a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__BGBJFJAC">Example 2-35</a>. The backup set containing the tablespace to be restored is stored in <code class="codeph">/tmp/xplat_restores/example_readonly.bck</code>. The restored data files use unique names that being with <code class="codeph">example_readonly_</code>. The metadata required to plug this tablespace into the target database is stored in the backup set <code class="codeph">/tmp/xplat_restores/example_dmp.bck</code>.
                  </p><pre class="oac_no_warn" dir="ltr">RESTORE
   FOREIGN TABLESPACE example
   FORMAT '/tmp/xplat_restores/example_readonly_%U_%n'
   FROM BACKUPSET '/tmp/xplat_restores/example_readonly.bck'   DUMP FILE
   DATAPUMP DESTINATION '/tmp/datapump'
   FROM BACKUPSET '/tmp/xplat_restores/example_dmp.bck';
</pre><div class="infoboxnotealso" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-CE4AC678-A9C0-4AB7-9DF0-23AFD016AF6B">
                     <p class="notep1">See Also:</p>
                     <p><a href="../bradv/rman-transporting-data-across-platforms.html#BRADV-GUID-7E1B3B10-CDA2-4E79-9F4C-AC8E51BCDE54" target="_blank"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a> for an example of backing up and restoring multiple tablespaces
                     </p>
                  </div>
               </div>
               <!-- class="example" -->
               <div class="example" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-0D8CF88F-B6D9-4EBD-91F9-14995B61CFFB">
                  <p class="titleinexample">Example 3-37 Restoring a Tablespace Using a Cross-Platform Backup Consisting of Multiple Backup Sets</p>
                  <p>This example restores the tablespace <code class="codeph">example</code> from a cross-platform backup consisting of multiple backup sets that was created in <a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__BGBFJIGG">Example 2-36</a>. You must use a separate <code class="codeph">BACKUPSET</code> clause for each backup set. The backup sets must be listed in the order in which they were created, starting with the first backup set.
                  </p><pre class="oac_no_warn" dir="ltr">RESTORE
   BACKUPSET '/tmp/xplat_restores/db_multiple_59nkcln6_1_1'
   BACKUPSET '/tmp/xplat_restores/db_multiple_5ankcln7_1_1'
   BACKUPSET '/tmp/xplat_restores/db_multiple_5bnkcln8_1_1'
   BACKUPSET '/tmp/xplat_restores/db_multiple_5cnkcln9_1_1'
   DUMP FILE
       FROM BACKUPSET '/tmp/xplat_restores/db_multiple.dmp';
</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__CFADGAFF">
                  <p class="titleinexample">Example 3-38 Restoring a Tablespace Using a Cross-Platform Consistent Backup that Contains Multiple Backup Pieces</p>
                  <p>This example restores the tablespace <code class="codeph">example</code> from a cross-platform backup consisting of multiple backup pieces that was created in <a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__BGBCECEE">Example 2-37</a>. The export dump file containing the metadata of the tablespace is stored in <code class="codeph">/tmp/xplat_restores/example_mutli-piece_dmp.bck</code>. The <code class="codeph">FROM BACKUPSET</code> clause contains a comma-separated list of all the backup pieces. List the backup pieces in the same order in which they were created.
                  </p><pre class="oac_no_warn" dir="ltr">RESTORE
   FOREIGN TABLESPACE sales
   FORMAT '/tmp/xplat_restores/datafiles/example_mult_%u'
   FROM BACKUPSET 
       '/tmp/xplat_restores/example_multi-piece_0lnjnujs_1_1',
       '/tmp/xplat_restores/example_multi-piece_0lnjnujs_2_1',
       '/tmp/xplat_restores/example_multi-piece_0lnjnujs_3_1'
   DUMP FILE 
   FROM BACKUPSET '/tmp/xplat_restores/example_multi-piece_dmp.bck';
</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-8C951D9D-F006-4F24-98EB-230D83085F77">
                  <p class="titleinexample">Example 3-39 Restoring a Cross-Platform Inconsistent Tablespace Backup</p>
                  <p>This example restores the tablespace <code class="codeph">example</code> from the cross-platform inconsistent backup created in <a href="BACKUP.html#GUID-73642FF2-43C5-48B2-9969-99001C52EB50__BGBEJBGF">Example 2-38</a>. The restored data files are stored using unique names that begin with <code class="codeph">inconsist_</code>. Because the tablespace was not read-only when the backup was created, you cannot directly plug it into the target database. You must apply an incremental backup of the tablespace taken when the tablespace is read-only to the recovered foreign data files.
                  </p><pre class="oac_no_warn" dir="ltr">RESTORE
    FOREIGN TABLESPACE example
    FORMAT '/tmp/xplat_restores/datafiles/inconsist_%u'
    FROM BACKUPSET '/tmp/xplat_backups/example_inconsist.bck';
</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-337C1520-09A8-4B2F-9372-C029D4ADCD3E">
                  <p class="titleinexample">Example 3-40 <span class="bold">Restoring a PDB into a New CDB Using Cross-platform Backups of the PDB</span></p>
                  <p></p>
                  <p>This example restores a cross-platform backup of the pluggable database (PDB) <code class="codeph">pdb3</code> on the destination CDB. The destination CDB and the source CDB are on different platforms, but use the same endian format.
                  </p>
                  <p>The destination CDB is open in read-write mode. The backup set contained the cross-platform backup of the source PDB is stored in <code class="codeph">/u02/backups/backup_full_pdb3.bck</code>. The metadata required to plug the source PDB into the destination CDB is stored in <code class="codeph">/u02/backups/metadata_pdb3.xml</code>. The <code class="codeph">FILE_NAME_CONVERT</code> clause specifies how file names on the source CDB must be renamed in the destination CDB.
                  </p><pre class="pre codeblock"><code>RESTORE FROM PLATFORM 'Linux x86 64-bitâ€™
USING '/u02/backups/metadata_pdb3.xmlâ€™
FILE_NAME_CONVERT = ('/u01/oradataâ€™,â€™/u02/oradata/cdbâ€™)
FOREIGN PLUGGABLE DATABASE pdb3 FORMAT '/u02/oradata/cdb/pdb3_%Uâ€™
FROM BACKUPSET '/u02/backups/backup_full_pdb3.bckâ€™;
</code></pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-A97F11DD-1E97-43A9-A857-4D2E87EA236E">
                  <p class="titleinexample">Example 3-41 Moving an On-premise Database to Oracle Cloud with Encryption</p>
                  <p></p>
                  <p>This example moves an on-premise database to Oracle Cloud by restoring database backups. The on-premise database does not use encryption and the database backups are also not encrypted. However, the database on Oracle Cloud must use encryption. Therefore, to maintain consistency and security, the backups of the unencrypted database must be restored on Oracle Cloud using encryption. You can achieve this by using the <code class="codeph">AS ENCRYPTED</code> clause with the <code class="codeph">RESTORE</code> command. The Oracle keystore must be open before the <code class="codeph">RESTORE...AS ENCRYPTED</code> command is run.
                  </p>
                  <p>The <code class="codeph">COMPATIBLE</code> parameter for the on-premise database is set to 12.2 and the backups are created with <code class="codeph">COMPATIBLE</code> set to 12.2. The following commands restore the unencrypted backups to create a database on Oracle Cloud with encryption:
                  </p><pre class="pre codeblock"><code>SELECT ts#, encryptionalg, encryptedts, key_version, status FROM v$encrypted_tablespaces;
STARTUP FORCE MOUNT;
RESTORE DATABASE AS ENCRYPTED;
RECOVER DATABASE;
ALTER DATABASE OPEN;</code></pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-4491C03F-C5F8-43E5-B4C4-FE26C70F2E9B__GUID-1C6A58BB-9484-4EDF-A9CB-8B0CE2ECB61C">
                  <p class="titleinexample">Example 3-42 Moving a Database from Oracle Cloud to an On-premise Model</p>
                  <p></p>
                  <p>This example moves a database from Oracle Cloud, which uses encryption, to an on-premise model. Because encryption is not mandatory for on-premise databases, you decide to restore the encrypted backups from Oracle Cloud without using encryption. Use the <code class="codeph">AS DECRYPTED</code> clause of the <code class="codeph">RESTORE</code> command to perform this restore operation.
                  </p>
                  <p>The <code class="codeph">COMPATIBLE</code> parameter for the on-premise database is set to 12.2. Backups were created with <code class="codeph">COMPATIBLE</code> set to 12.2. The following commands restore the encrypted backups from Oracle Cloud to an on-premise database and without using encryption:
                  </p><pre class="pre codeblock"><code>SELECT ts#, encryptionalg, encryptedts, key_version, status FROM v$encrypted_tablespaces;
STARTUP FORCE MOUNT;
RESTORE DATABASE AS DECRYPTED
RECOVER DATABASE;
ALTER DATABASE OPEN;</code></pre></div>
               <!-- class="example" -->
            </div>
         </div>
      </article>
   </body>
</html><html id='05480.creating-and-configuring-a-cdb.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Creating and configuring a &nbsp;multitenant container database (CDB) includes tasks such as planning, creating the CDB, and optionally configuring EM Express.">
      <meta name="description" content="Creating and configuring a &nbsp;multitenant container database (CDB) includes tasks such as planning, creating the CDB, and optionally configuring EM Express.">
      <title>Creating and Configuring a CDB</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Administratorâ€™s Guide ">
      <meta property="og:description" content="Creating and configuring a &nbsp;multitenant container database (CDB) includes tasks such as planning, creating the CDB, and optionally configuring EM Express.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Administratorâ€™s Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="multitenant-administrators-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-20T09:59:22-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2017, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96136-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="overview-of-managing-a-multitenant-environment.html" title="Previous" type="text/html">
      <link rel="next" href="creating-pdbs.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Multitenant Administrator's Guide">
    <meta name="dcterms.isVersionOf" content="MULTI">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="overview-of-managing-a-multitenant-environment.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="creating-pdbs.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Administratorâ€™s Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="creating-and-configuring-a-multitenant-environment.html" property="item" typeof="WebPage"><span property="name">Creating and Configuring a Multitenant Environment</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Creating and Configuring a CDB</li>
            </ol>
            <a id="GUID-77D4BBA7-2A64-46D9-A2B8-C56060772215" name="GUID-77D4BBA7-2A64-46D9-A2B8-C56060772215"></a><a id="ADMIN13514"></a>
            
            <h2 id="MULTI-GUID-77D4BBA7-2A64-46D9-A2B8-C56060772215" class="sect2"><span class="enumeration_chapter">4 </span> Creating and Configuring a CDB
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Creating and configuring a &nbsp;multitenant container database (CDB) includes tasks such as planning, creating the CDB, and optionally configuring EM Express.</p>
               <p>This section contains the following topics:</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="creating-and-configuring-a-cdb.html#GUID-A79B2572-10FA-4AC1-91BD-7A6F9512C80C">About Creating a CDB</a><br>The procedure for creating a multitenant container database (CDB) is similar to the procedure for creating a non-CDB.
                  </li>
                  <li class="ulchildlink"><a href="creating-and-configuring-a-cdb.html#GUID-752E9D1D-02DF-4A68-8AB7-41AFF2AB0555">Planning for CDB Creation</a><br>CDB creation prepares several operating system files to work together as a CDB.
                  </li>
                  <li class="ulchildlink"><a href="creating-and-configuring-a-cdb.html#GUID-25F77431-C454-4B2A-8083-21165E59549A">Creating a CDB</a><br>You can create a CDB using DBCA or by manually issuing the <code class="codeph">CREATE DATABASE</code> SQL statement.
                  </li>
                  <li class="ulchildlink"><a href="creating-and-configuring-a-cdb.html#GUID-21DEC1B3-471C-4220-A0F6-6780E6DC6009">Configuring EM Express for a CDB</a><br>For a CDB, you can configure Oracle Enterprise Manager Database Express (EM Express) for the root and for each PDB by setting a global HTTPS port, or you can set a different port for every container in the CDB. 
                  </li>
                  <li class="ulchildlink"><a href="creating-and-configuring-a-cdb.html#GUID-0FCC4914-8FFF-41AD-BA5E-74698931F078">After Creating a CDB</a><br>After creation, a CDB consists of the root and the PDB seed.
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="creating-and-configuring-a-multitenant-environment.html#GUID-21128F70-E47F-47BD-9294-982A1A6B29B9" title="You can create and configure a multitenant environment.">Creating and Configuring a Multitenant Environment</a></p>
                  </div>
               </div>
            </div>
            
            <div class="props_rev_3"><a id="GUID-A79B2572-10FA-4AC1-91BD-7A6F9512C80C" name="GUID-A79B2572-10FA-4AC1-91BD-7A6F9512C80C"></a><h3 id="MULTI-GUID-A79B2572-10FA-4AC1-91BD-7A6F9512C80C" class="sect3"><span class="enumeration_section">4.1 </span>About Creating a CDB
               </h3>
               <div>
                  <p>The procedure for creating a multitenant container database (CDB) is similar to the procedure for creating a non-CDB.</p>
                  <p>The procedure for creating a non-CDB is described in <a href="../admin/creating-and-configuring-an-oracle-database.html#ADMIN-GUID-807DE711-C82C-4BB2-8C31-5EE89CA71349" target="_blank"><span><cite>Oracle Database Administratorâ€™s Guide</cite></span></a>. Before creating a CDB, you must understand the concepts and tasks described in this documentation.
                  </p>
                  <p>This chapter describes special considerations for creating a CDB. This chapter also describes differences between the procedure for creating a non-CDB in <a href="../admin/creating-and-configuring-an-oracle-database.html#ADMIN-GUID-807DE711-C82C-4BB2-8C31-5EE89CA71349" target="_blank"><span><cite>Oracle Database Administratorâ€™s Guide</cite></span></a> and the procedure for creating a CDB.
                  </p>
                  <p>After you plan your CDB using some of the guidelines presented in <span class="q">"<a href="creating-and-configuring-a-cdb.html#GUID-752E9D1D-02DF-4A68-8AB7-41AFF2AB0555" title="CDB creation prepares several operating system files to work together as a CDB.">Planning for CDB Creation</a>"</span>, you can create the CDB either during or after Oracle Database software installation. The following are typical reasons to create a CDB after installation:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>You used Oracle Universal Installer (OUI) to install software only, and did not create a CDB.</p>
                     </li>
                     <li>
                        <p>You want to create another CDB on the same host as an existing CDB or an existing non-CDB. In this case, this chapter assumes that the new CDB uses the same Oracle home as the existing database. You can also create the CDB in a new Oracle home by running OUI again.</p>
                     </li>
                  </ul>
                  <p>The specific methods for creating a CDB are:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>With the Database Configuration Assistant (DBCA), a graphical tool.</p>
                        <p>See <span class="q">"<a href="creating-and-configuring-a-cdb.html#GUID-2ACFB225-F895-4B6F-B601-F09A388A4449" title="Oracle strongly recommends using the Database Configuration Assistant (DBCA) to create a CDB.">About CDB Creation with DBCA</a>"</span>.
                        </p>
                     </li>
                     <li>
                        <p>With the <code class="codeph">CREATE DATABASE</code> SQL statement.
                        </p>
                        <p>See <span class="q">"<a href="creating-and-configuring-a-cdb.html#GUID-25F77431-C454-4B2A-8083-21165E59549A" title="You can create a CDB using DBCA or by manually issuing the CREATE DATABASE SQL statement.">Creating a CDB</a>"</span>.
                        </p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="creating-and-configuring-a-cdb.html#GUID-77D4BBA7-2A64-46D9-A2B8-C56060772215" title="Creating and configuring a &nbsp;multitenant container database (CDB) includes tasks such as planning, creating the CDB, and optionally configuring EM Express.">Creating and Configuring a CDB</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-752E9D1D-02DF-4A68-8AB7-41AFF2AB0555" name="GUID-752E9D1D-02DF-4A68-8AB7-41AFF2AB0555"></a><h3 id="MULTI-GUID-752E9D1D-02DF-4A68-8AB7-41AFF2AB0555" class="sect3"><span class="enumeration_section">4.2 </span>Planning for CDB Creation
               </h3>
               <div>
                  <p>CDB creation prepares several operating system files to work together as a CDB.</p>
                  <div class="infoboxnote" id="GUID-752E9D1D-02DF-4A68-8AB7-41AFF2AB0555__GUID-8AE91970-29C1-4029-809F-2CC8EF56BF89">
                     <p class="notep1">Note:</p>
                     <p>Before planning for CDBs, review the conceptual information about CDBs and PDBs in <span class="q">"<a href="introduction-to-the-multitenant-architecture.html#GUID-267F7D12-D33F-4AC9-AA45-E9CD671B6F22" title="Become familiar with the Oracle Multitenant option.">Introduction to the Multitenant Architecture</a>"</span>.
                     </p>
                  </div>
                  <p>This section contains the following topics:</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="creating-and-configuring-a-cdb.html#GUID-144959A9-50EB-4A94-AF36-49FA8A379909">Decide How to Configure the CDB</a><br>Prepare to create the CDB by research and careful planning.
                     </li>
                     <li class="ulchildlink"><a href="creating-and-configuring-a-cdb.html#GUID-E5B7C444-1961-4719-AE75-1FD6C295189F">Prerequisites for CDB Creation</a><br>You must complete prerequisites before creating a new CDB.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="creating-and-configuring-a-cdb.html#GUID-77D4BBA7-2A64-46D9-A2B8-C56060772215" title="Creating and configuring a &nbsp;multitenant container database (CDB) includes tasks such as planning, creating the CDB, and optionally configuring EM Express.">Creating and Configuring a CDB</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="props_rev_3"><a id="GUID-144959A9-50EB-4A94-AF36-49FA8A379909" name="GUID-144959A9-50EB-4A94-AF36-49FA8A379909"></a><h4 id="MULTI-GUID-144959A9-50EB-4A94-AF36-49FA8A379909" class="sect4"><span class="enumeration_section">4.2.1 </span>Decide How to Configure the CDB
                  </h4>
                  <div>
                     <p>Prepare to create the CDB by research and careful planning.</p>
                     <p>As a first step, consult the <a href="../rnrdm/index.html" target="_blank"><span><cite>Oracle Database Release Notes</cite></span></a>, which includes a list of Oracle Database features that are currently not supported in a CDB. If you must use one or more of these features, then create a non-CDB.
                     </p>
                     <p>The following sections describe recommended actions and considerations that apply to CDBs:</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="creating-and-configuring-a-cdb.html#GUID-5455ED65-9E83-4C96-9556-C67B48B03410">Plan the PDBs</a><br>Plan the tables and indexes for the pluggable databases (PDBs) and estimate the amount of space they require.
                        </li>
                        <li class="ulchildlink"><a href="creating-and-configuring-a-cdb.html#GUID-5A21937A-D0FA-4EE1-9C44-BC5EB4FCBCC2">Plan the Physical Layout</a><br>Plan the layout of the underlying operating system files your CDB will comprise.
                        </li>
                        <li class="ulchildlink"><a href="creating-and-configuring-a-cdb.html#GUID-12ADA04D-F81D-4579-A68C-0958CC7D6C2F">Learn How to Manage Initialization Parameters</a><br>Familiarize yourself with the initialization parameters that can be included in an initialization parameter file.
                        </li>
                        <li class="ulchildlink"><a href="creating-and-configuring-a-cdb.html#GUID-17F7AB91-4090-402F-8AEA-40B7218709F7">Select the Character Set</a><br>You must choose a character set for the CDB.
                        </li>
                        <li class="ulchildlink"><a href="creating-and-configuring-a-cdb.html#GUID-516C1387-E354-4960-A0E6-36C2AFD12A6E">Decide Which Time Zones to Support</a><br>Consider which time zones your CDB must support.
                        </li>
                        <li class="ulchildlink"><a href="creating-and-configuring-a-cdb.html#GUID-8D4DAE59-8AFB-495C-8EE6-B5CB5AED2EDE">Select the Database and Redo Log Block Sizes</a><br>Select the standard database block size for the CDB.
                        </li>
                        <li class="ulchildlink"><a href="creating-and-configuring-a-cdb.html#GUID-E670BDB7-8BBB-4283-919F-840E883BEEF8">Plan the SYSTEM and SYSAUX Tablespaces</a><br>There is a separate <code class="codeph">SYSAUX</code> and <code class="codeph">SYSTEM</code> tablespace for the CDB root and for each PDB.
                        </li>
                        <li class="ulchildlink"><a href="creating-and-configuring-a-cdb.html#GUID-A976FE53-2BFA-4A80-B570-563391396DE9">Plan the Temporary Tablespaces</a><br>Plan to use default temporary tablespaces.
                        </li>
                        <li class="ulchildlink"><a href="creating-and-configuring-a-cdb.html#GUID-EC8912EB-8389-4B97-8B9A-90F817D1785C">Choose the Undo Mode</a><br>Plan to use an undo tablespace to manage your undo data.
                        </li>
                        <li class="ulchildlink"><a href="creating-and-configuring-a-cdb.html#GUID-3A8DD596-4730-4DE0-9680-AC13C9EA03F9">Plan the Services for Your Application</a><br>Plan for the database services required to meet the needs of your applications.
                        </li>
                        <li class="ulchildlink"><a href="creating-and-configuring-a-cdb.html#GUID-7FD9AA57-016C-49A1-85F5-4C9AD74FAEDB">Learn How to Start Up and Shut Down a CDB</a><br>Familiarize yourself with the principles and options of starting up and shutting down a database instance and mounting and opening a CDB.
                        </li>
                        <li class="ulchildlink"><a href="creating-and-configuring-a-cdb.html#GUID-A905D497-8331-4A25-9DAE-B5976E80E3C8">Plan for Oracle RAC</a><br>If you plan to use Oracle RAC, then plan for an Oracle RAC environment.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="creating-and-configuring-a-cdb.html#GUID-752E9D1D-02DF-4A68-8AB7-41AFF2AB0555" title="CDB creation prepares several operating system files to work together as a CDB.">Planning for CDB Creation</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-5455ED65-9E83-4C96-9556-C67B48B03410" name="GUID-5455ED65-9E83-4C96-9556-C67B48B03410"></a><h5 id="MULTI-GUID-5455ED65-9E83-4C96-9556-C67B48B03410" class="sect5"><span class="enumeration_section">4.2.1.1 </span>Plan the PDBs
                     </h5>
                     <div>
                        <p>Plan the tables and indexes for the pluggable databases (PDBs) and estimate the amount of space they require.</p>
                        <p>In a CDB, most user data resides in the PDBs. The root contains no user data or minimal user data. Plan for the PDBs that will be part of the CDB. The disk storage space requirement for a CDB is the space required for the Oracle Database installation plus the sum of the space requirements for all PDBs that will be part of the CDB. </p>
                        <p>The <code class="codeph">MAX_PDBS</code> initialization parameter specifies a limit on the total number of PDBs that you can create in a CDB root or application root. The default value and maximum value for <code class="codeph">MAX_PDBS</code> depend on your Oracle Database offering. See <a href="../dblic/Licensing-Information.html#DBLIC-GUID-0F9EB85D-4610-4EDF-89C2-4916A0E7AC87" target="_blank"><span><cite>Oracle Database Licensing Information User Manual</cite></span></a> for details on which features are supported for different editions and services.
                        </p>
                        <p>You can also create application containers in a CDB. An application container is a collection of application PDBs that store the data for one or more applications. In addition, application containers support user-created application common objects that can be shared by the application PDBs in the application container.</p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-5455ED65-9E83-4C96-9556-C67B48B03410__GUID-974BD2BB-0AF7-4CAB-9F97-AA0841D259FD">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;" id="GUID-5455ED65-9E83-4C96-9556-C67B48B03410__UL_M53_TCW_NGB">
                              <li>
                                 <p><span class="q">"<a href="creating-pdbs.html#GUID-9A250D93-5B3B-4643-BE85-F32CC7B0E413" title="You can create PDBs, application containers, and application seeds using a variety of techniques.">Creating and Removing PDBs and Application Containers</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="overview-of-the-multitenant-architecture.html#GUID-B964031E-8ACE-4603-8F1E-DD173BE5BA01" title="Within an application container, an application is the named, versioned set of common data and metadata stored in the application root.">Overview of Applications in an Application Container</a>"</span></p>
                              </li>
                              <li>
                                 <p><span><cite>Oracle Database Administratorâ€™s Guide</cite></span> to learn more about <a href="../admin/oracle-database-structure-and-storage.html#ADMIN-GUID-F11D30A7-BF12-4D8F-A1C2-D7437D38F8C7" target="_blank"><span><cite>Oracle Database Administratorâ€™s Guide</cite></span></a> and <a href="../admin/schema-objects.html#ADMIN-GUID-2DA8C61C-58B0-4892-8E5D-E7A9120BC120" target="_blank">schema objects</a></p>
                              </li>
                              <li>
                                 <p><a href="../refrn/MAX_PDBS.html#GUID-55526BAC-DCB2-4C76-9ACF-1E3D2047E267" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> to learn more about <code class="codeph">MAX_PDBS</code></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="creating-and-configuring-a-cdb.html#GUID-144959A9-50EB-4A94-AF36-49FA8A379909" title="Prepare to create the CDB by research and careful planning.">Decide How to Configure the CDB</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-5A21937A-D0FA-4EE1-9C44-BC5EB4FCBCC2" name="GUID-5A21937A-D0FA-4EE1-9C44-BC5EB4FCBCC2"></a><h5 id="MULTI-GUID-5A21937A-D0FA-4EE1-9C44-BC5EB4FCBCC2" class="sect5"><span class="enumeration_section">4.2.1.2 </span>Plan the Physical Layout
                     </h5>
                     <div>
                        <p>Plan the layout of the underlying operating system files your CDB will comprise.</p>
                        <p>There are separate data files for the CDB root, <code class="codeph">PDB$SEED</code>, each PDB, each application root, and each application PDB.
                        </p>
                        <p>There is one redo log for a single-instance CDB, or one redo log for each instance of an Oracle Real Application Clusters (Oracle RAC) CDB. Also, for Oracle RAC, all data files and redo log files must be on shared storage.</p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-5A21937A-D0FA-4EE1-9C44-BC5EB4FCBCC2__GUID-974BD2BB-0AF7-4CAB-9F97-AA0841D259FD">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;" id="GUID-5A21937A-D0FA-4EE1-9C44-BC5EB4FCBCC2__UL_M53_TCW_NGB">
                              <li>
                                 <p><span class="q">"<a href="creating-pdbs.html#GUID-9A250D93-5B3B-4643-BE85-F32CC7B0E413" title="You can create PDBs, application containers, and application seeds using a variety of techniques.">Creating and Removing PDBs and Application Containers</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="overview-of-the-multitenant-architecture.html#GUID-B964031E-8ACE-4603-8F1E-DD173BE5BA01" title="Within an application container, an application is the named, versioned set of common data and metadata stored in the application root.">Overview of Applications in an Application Container</a>"</span></p>
                              </li>
                              <li>
                                 <p><a href="../admin/oracle-database-structure-and-storage.html#ADMIN-GUID-F11D30A7-BF12-4D8F-A1C2-D7437D38F8C7" target="_blank"><span><cite>Oracle Database Administratorâ€™s Guide</cite></span></a> for information about Oracle Database structure and storage
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../admin/schema-objects.html#ADMIN-GUID-2DA8C61C-58B0-4892-8E5D-E7A9120BC120" target="_blank"><span><cite>Oracle Database Administratorâ€™s Guide</cite></span></a> for information about schema objects
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="creating-and-configuring-a-cdb.html#GUID-144959A9-50EB-4A94-AF36-49FA8A379909" title="Prepare to create the CDB by research and careful planning.">Decide How to Configure the CDB</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-12ADA04D-F81D-4579-A68C-0958CC7D6C2F" name="GUID-12ADA04D-F81D-4579-A68C-0958CC7D6C2F"></a><h5 id="MULTI-GUID-12ADA04D-F81D-4579-A68C-0958CC7D6C2F" class="sect5"><span class="enumeration_section">4.2.1.3 </span>Learn How to Manage Initialization Parameters
                     </h5>
                     <div>
                        <p>Familiarize yourself with the initialization parameters that can be included in an initialization parameter file.</p>
                        <p>Before creating a CDB, ensure that you are familiar with the concept and operation of a server parameter file (SPFILE). An SPFILE file lets you store and manage your initialization parameters persistently in a server-side binary file.</p>
                        <p>A CDB uses a single SPFILE or a single text initialization parameter file (PFILE). Values of initialization parameters set for the root can be inherited by PDBs. You can set some initialization parameters for a PDB by using the <code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> statement.
                        </p>
                        <p>The CDB root must be the current container when you operate on an SPFILE. The user who creates or modifies the SPFILE must be a common user with <code class="codeph">SYSDBA</code>, <code class="codeph">SYSOPER</code>, or <code class="codeph">SYSBACKUP</code> administrative privilege, and the user must exercise the privilege by connecting <code class="codeph">AS SYSDBA</code>, <code class="codeph">AS SYSOPER</code>, or <code class="codeph">AS SYSBACKUP</code> respectively. 
                        </p>
                        <p>The following initialization parameters are important:</p>
                        <ul style="list-style-type: disc;" id="GUID-12ADA04D-F81D-4579-A68C-0958CC7D6C2F__UL_XBN_1FW_NGB">
                           <li>
                              <p>To create a CDB, the <code class="codeph">ENABLE_PLUGGABLE_DATABASE</code> initialization parameter must be set to <code class="codeph">TRUE</code>.
                              </p>
                           </li>
                           <li>
                              <p>Create the global database name for the CDB root by setting both the <code class="codeph">DB_NAME</code> and <code class="codeph">DB_DOMAIN</code> initialization parameters. The global database name of the root is the global database name of the CDB. The global database name of a PDB is defined by the PDB name and the <code class="codeph">DB_DOMAIN</code> initialization parameter.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-12ADA04D-F81D-4579-A68C-0958CC7D6C2F__GUID-974BD2BB-0AF7-4CAB-9F97-AA0841D259FD">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;" id="GUID-12ADA04D-F81D-4579-A68C-0958CC7D6C2F__UL_M53_TCW_NGB">
                              <li>
                                 <p><span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5" title="The data dictionary in each container in a CDB is separate, and the current container is the container whose data dictionary is used for name resolution and for privilege authorization.">About the Current Container</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-E47348D6-5350-4890-ACD6-7BA1C1DD4E95" title="To modify a CDB at the system level, use the ALTER SYSTEM statement.">Modifying a CDB with ALTER SYSTEM</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-6BF52FD2-AD0D-469F-AD2B-E5254FB9AD72" title="In a CDB, some initialization parameters apply to the root and to all PDBs. When such an initialization parameter is changed, it affects the entire CDB. You can set other initialization parameters to different values in each container.">Listing the Modifiable Initialization Parameters in PDBs</a>"</span></p>
                              </li>
                              <li>
                                 <p><a href="../admin/schema-objects.html#ADMIN-GUID-2DA8C61C-58B0-4892-8E5D-E7A9120BC120" target="_blank"><span><cite>Oracle Database Administratorâ€™s Guide</cite></span></a> for information about schema objects
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../admin/creating-and-configuring-an-oracle-database.html#ADMIN-GUID-9698EA9B-013C-40AC-8CFB-12171A4B4974" target="_blank"><span><cite>Oracle Database Administratorâ€™s Guide</cite></span></a> for information about determining the global database name
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../refrn/initialization-parameters-2.html#GUID-FD266F6F-D047-4EBB-8D96-B51B1DCA2D61" target="_blank"><span><cite>Oracle Database Reference</cite></span></a></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="creating-and-configuring-a-cdb.html#GUID-144959A9-50EB-4A94-AF36-49FA8A379909" title="Prepare to create the CDB by research and careful planning.">Decide How to Configure the CDB</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-17F7AB91-4090-402F-8AEA-40B7218709F7" name="GUID-17F7AB91-4090-402F-8AEA-40B7218709F7"></a><h5 id="MULTI-GUID-17F7AB91-4090-402F-8AEA-40B7218709F7" class="sect5"><span class="enumeration_section">4.2.1.4 </span>Select the Character Set
                     </h5>
                     <div>
                        <p>You must choose a character set for the CDB.</p>
                        <p>When selecting the database character set for the CDB, you must consider the current character sets of the databases that you want to consolidate (plug) into this CDB. Oracle recommends AL32UTF8 for the CDB database character set and AL16UTF6 for the CDB national character set because they provide the most flexibility.</p>
                        <p>When the character set of the CDB root is AL32UTF8, PDBs that are plugged into the CDB can have a different character set from the CDB root. PDBs that are created from <code class="codeph">PDB$SEED</code> inherit the AL32UTF8 character set from it, but you can migrate the PDB to a different character set. When the character set of the root is not AL32UTF8, all PDBs in the CDB use the character set of the CDB root.
                        </p>
                        <p>When moving a non-CDB to a CDB, it is best to migrate the non-CDB to AL32UTF8 first. You can use Oracle Database Migration Assistant for Unicode (DMU) to migrate a non-CDB to AL32UTF8. After a CDB is created, you cannot migrate the character set of the CDB using DMU.</p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-17F7AB91-4090-402F-8AEA-40B7218709F7__GUID-974BD2BB-0AF7-4CAB-9F97-AA0841D259FD">
                           <p class="notep1">See Also:</p>
                           <p><a href="../nlspg/choosing-character-set.html#GUID-09777A99-B7DD-4695-9B2B-278122131000" target="_blank"><span><cite>Oracle Database Globalization Support Guide</cite></span></a></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="creating-and-configuring-a-cdb.html#GUID-144959A9-50EB-4A94-AF36-49FA8A379909" title="Prepare to create the CDB by research and careful planning.">Decide How to Configure the CDB</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-516C1387-E354-4960-A0E6-36C2AFD12A6E" name="GUID-516C1387-E354-4960-A0E6-36C2AFD12A6E"></a><h5 id="MULTI-GUID-516C1387-E354-4960-A0E6-36C2AFD12A6E" class="sect5"><span class="enumeration_section">4.2.1.5 </span>Decide Which Time Zones to Support
                     </h5>
                     <div>
                        <p>Consider which time zones your CDB must support.</p>
                        <p>You can set the time zones for the entire CDB (including all PDBs). You can also set the time zones individually for each PDB.</p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-516C1387-E354-4960-A0E6-36C2AFD12A6E__GUID-974BD2BB-0AF7-4CAB-9F97-AA0841D259FD">
                           <p class="notep1">See Also:</p>
                           <p><a href="../admin/creating-and-configuring-an-oracle-database.html#ADMIN-GUID-E331FC80-451A-4775-B58E-BBFEEBAC3C93" target="_blank"><span><cite>Oracle Database Administratorâ€™s Guide</cite></span></a> for information about specifying the database time zone and time zone file
                           </p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="creating-and-configuring-a-cdb.html#GUID-144959A9-50EB-4A94-AF36-49FA8A379909" title="Prepare to create the CDB by research and careful planning.">Decide How to Configure the CDB</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-8D4DAE59-8AFB-495C-8EE6-B5CB5AED2EDE" name="GUID-8D4DAE59-8AFB-495C-8EE6-B5CB5AED2EDE"></a><h5 id="MULTI-GUID-8D4DAE59-8AFB-495C-8EE6-B5CB5AED2EDE" class="sect5"><span class="enumeration_section">4.2.1.6 </span>Select the Database and Redo Log Block Sizes
                     </h5>
                     <div>
                        <p>Select the standard database block size for the CDB.</p>
                        <p>This is specified at CDB creation by the <code class="codeph">DB_BLOCK_SIZE</code> initialization parameter and cannot be changed after the CDB is created. The standard block size applies to the entire CDB.
                        </p>
                        <p>If you plan to store online redo log files on disks with a 4K byte sector size, then determine whether you must manually specify the online redo log block size.</p>
                        <ul style="list-style-type: disc;" id="GUID-8D4DAE59-8AFB-495C-8EE6-B5CB5AED2EDE__UL_RYK_RHW_NGB">
                           <li>
                              <p><a href="../admin/creating-and-configuring-an-oracle-database.html#ADMIN-GUID-55124C2D-98FF-4305-8F25-58245C9BEC1E" target="_blank"><span><cite>Oracle Database Administratorâ€™s Guide</cite></span></a> for information about specifying database block sizes
                              </p>
                           </li>
                           <li>
                              <p><a href="../admin/managing-the-redo-log.html#ADMIN-GUID-AC858C69-317E-4193-838D-59F8DDEA1927" target="_blank"><span><cite>Oracle Database Administratorâ€™s Guide</cite></span></a> for information about planning the block size of redo log files
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="creating-and-configuring-a-cdb.html#GUID-144959A9-50EB-4A94-AF36-49FA8A379909" title="Prepare to create the CDB by research and careful planning.">Decide How to Configure the CDB</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-E670BDB7-8BBB-4283-919F-840E883BEEF8" name="GUID-E670BDB7-8BBB-4283-919F-840E883BEEF8"></a><h5 id="MULTI-GUID-E670BDB7-8BBB-4283-919F-840E883BEEF8" class="sect5"><span class="enumeration_section">4.2.1.7 </span>Plan the SYSTEM and SYSAUX Tablespaces
                     </h5>
                     <div>
                        <p>There is a separate <code class="codeph">SYSAUX</code> and <code class="codeph">SYSTEM</code> tablespace for the CDB root and for each PDB.
                        </p>
                        <p>You must determine the appropriate initial sizing for the <code class="codeph">SYSAUX</code> tablespace. Also, plan to use a default tablespace for non-<code class="codeph">SYSTEM</code> users to prevent inadvertently saving database objects in the <code class="codeph">SYSTEM</code> tablespace. You can specify a separate default tablespace for the CDB root and for each PDB.
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-E670BDB7-8BBB-4283-919F-840E883BEEF8__GUID-974BD2BB-0AF7-4CAB-9F97-AA0841D259FD">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;" id="GUID-E670BDB7-8BBB-4283-919F-840E883BEEF8__UL_EBP_PMW_NGB">
                              <li>
                                 <p><a href="../admin/creating-and-configuring-an-oracle-database.html#ADMIN-GUID-C70E0886-7D9A-4B0D-BA0B-DF71AB5A2154" target="_blank"><span><cite>Oracle Database Administratorâ€™s Guide</cite></span></a> for information about the <code class="codeph">SYSAUX</code> tablespace
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../admin/creating-and-configuring-an-oracle-database.html#ADMIN-GUID-4EBA1922-B701-4009-B662-6A17B314E2E9" target="_blank"><span><cite>Oracle Database Administratorâ€™s Guide</cite></span></a> for information about creating a default permanent tablespace
                                 </p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-EABCEE30-0C2C-493C-83E0-F5D72D8F8E14" title="The ALTER DATABASE statement modifies a CDB. When you are connected to the CDB root, the ALTER PLUGGABLE DATABASE statement can modify the open mode of one or more PDBs.">About Container Modification When Connected to CDB Root</a>"</span></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="creating-and-configuring-a-cdb.html#GUID-144959A9-50EB-4A94-AF36-49FA8A379909" title="Prepare to create the CDB by research and careful planning.">Decide How to Configure the CDB</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-A976FE53-2BFA-4A80-B570-563391396DE9" name="GUID-A976FE53-2BFA-4A80-B570-563391396DE9"></a><h5 id="MULTI-GUID-A976FE53-2BFA-4A80-B570-563391396DE9" class="sect5"><span class="enumeration_section">4.2.1.8 </span>Plan the Temporary Tablespaces
                     </h5>
                     <div>
                        <p>Plan to use default temporary tablespaces.</p>
                        <p>A default temporary tablespace for each container in the CDB, including the CDB root and each PDB, application root, and application PDB.</p>
                        <p>The shared temporary tablespace is used is for recursive SQL only. This tablespace is not used by hosted PDB tenants directly.</p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-A976FE53-2BFA-4A80-B570-563391396DE9__GUID-974BD2BB-0AF7-4CAB-9F97-AA0841D259FD">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;" id="GUID-A976FE53-2BFA-4A80-B570-563391396DE9__UL_ZCT_T4W_NGB">
                              <li>
                                 <p><a href="../admin/creating-and-configuring-an-oracle-database.html#ADMIN-GUID-AF2D7962-B165-423B-8FE3-29E7F30A2A3D" target="_blank"><span><cite>Oracle Database Administratorâ€™s Guide</cite></span></a> for information about creating a default temporary tablespace
                                 </p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-EABCEE30-0C2C-493C-83E0-F5D72D8F8E14" title="The ALTER DATABASE statement modifies a CDB. When you are connected to the CDB root, the ALTER PLUGGABLE DATABASE statement can modify the open mode of one or more PDBs.">About Container Modification When Connected to CDB Root</a>"</span></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="creating-and-configuring-a-cdb.html#GUID-144959A9-50EB-4A94-AF36-49FA8A379909" title="Prepare to create the CDB by research and careful planning.">Decide How to Configure the CDB</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-EC8912EB-8389-4B97-8B9A-90F817D1785C" name="GUID-EC8912EB-8389-4B97-8B9A-90F817D1785C"></a><h5 id="MULTI-GUID-EC8912EB-8389-4B97-8B9A-90F817D1785C" class="sect5"><span class="enumeration_section">4.2.1.9 </span>Choose the Undo Mode
                     </h5>
                     <div>
                        <p>Plan to use an undo tablespace to manage your undo data.</p>
                        <p>A CDB can run in different undo modes. You can configure a CDB to have one active undo tablespace for the entire CDB or a separate undo tablespace for each container in the CDB. You can specify the undo mode during CDB creation, and you can change the undo mode after the CDB is created.</p>
                        <p>When you choose to have one active undo tablespace for the entire CDB, shared undo is used, and local undo is disabled. In this configuration, there is one active undo tablespace for a single-instance CDB. When local undo is enabled, there is one undo tablespace for each container in a single instance configuration. For an Oracle RAC CDB, each PDB has one undo tablespace in each node in which it is open. With shared undo, only a common user who has the appropriate privileges and whose current container is the root can create an undo tablespace.</p>
                        <p>The best practice is to use local undo for a CDB. Shared undo is supported primarily for upgrade and transitional purposes only. Although there is minor overhead associated with local undo when compared with shared undo, the benefits of local undo make it preferable in most environments. Local undo makes unplug operations and point in time recovery faster, and it is required for some features, such as relocating a PDB. By default, DBCA creates new CDBs with local undo enabled.</p>
                        <p>In a CDB, the <code class="codeph">UNDO_MANAGEMENT</code> initialization parameter must be set to <code class="codeph">AUTO</code>, and an undo tablespace is required to manage the undo data.
                        </p>
                        <p>When local undo is not enabled, undo tablespaces are visible in static data dictionary views and dynamic performance (V$) views when the current container is the root. Undo tablespaces are visible only in dynamic performance views when the current container is a PDB.</p>
                        <p>Also, when local undo is disabled, Oracle Database silently ignores undo tablespace and rollback segment operations when the current container is a PDB.</p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-EC8912EB-8389-4B97-8B9A-90F817D1785C__GUID-974BD2BB-0AF7-4CAB-9F97-AA0841D259FD">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;" id="GUID-EC8912EB-8389-4B97-8B9A-90F817D1785C__UL_OZ3_GQW_NGB">
                              <li>
                                 <p><span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-24EA5811-94F0-4EEC-864F-23AEF48F2D51" title="When local undo is enabled, each container has its own undo tablespace for every instance in which it is open. When local undo is disabled, there is one undo tablespace for the entire CDB.">Setting the Undo Mode in a CDB Using ALTER DATABASE</a>"</span></p>
                              </li>
                              <li>
                                 <p><a href="../admin/managing-undo.html#ADMIN-GUID-2C865CF9-A8B5-4BF1-A451-E8C08D3611F0" target="_blank"><span><cite>Oracle Database Administratorâ€™s Guide</cite></span></a> for information about managing undo
                                 </p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5" title="The data dictionary in each container in a CDB is separate, and the current container is the container whose data dictionary is used for name resolution and for privilege authorization.">About the Current Container</a>"</span></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="creating-and-configuring-a-cdb.html#GUID-144959A9-50EB-4A94-AF36-49FA8A379909" title="Prepare to create the CDB by research and careful planning.">Decide How to Configure the CDB</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-3A8DD596-4730-4DE0-9680-AC13C9EA03F9" name="GUID-3A8DD596-4730-4DE0-9680-AC13C9EA03F9"></a><h5 id="MULTI-GUID-3A8DD596-4730-4DE0-9680-AC13C9EA03F9" class="sect5"><span class="enumeration_section">4.2.1.10 </span>Plan the Services for Your Application
                     </h5>
                     <div>
                        <p>Plan for the database services required to meet the needs of your applications.</p>
                        <p>The root and each PDB might require several services. You can create services for the root or for individual PDBs. </p>
                        <p>Database services have an optional <code class="codeph">PDB</code> property. You can create services and associate them with a particular PDB by specifying the <code class="codeph">PDB</code> property. Services with a null <code class="codeph">PDB</code> property are associated with the CDB root. 
                        </p>
                        <p>You can also use the <code class="codeph">DBMS_SERVICE</code> supplied PL/SQL package to create services and associate them with PDBs. When you run <code class="codeph">CREATE_SERVICE</code> procedure, the service is associated with the current container.
                        </p>
                        <p>You can manage services with the SRVCTL utility, Oracle Enterprise Manager Cloud Control, and the <code class="codeph">DBMS_SERVICE</code> supplied PL/SQL package.
                        </p>
                        <p>When you create a PDB, a new default service for the PDB is created automatically. The service has the same name as the PDB. You cannot manage this service with the SRVCTL utility. However, you can create user-defined services and customize them for your applications.</p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-3A8DD596-4730-4DE0-9680-AC13C9EA03F9__GUID-974BD2BB-0AF7-4CAB-9F97-AA0841D259FD">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;" id="GUID-3A8DD596-4730-4DE0-9680-AC13C9EA03F9__UL_XLL_XQW_NGB">
                              <li>
                                 <p><span class="q">"<a href="administering-pdbs-with-sql-plus.html#GUID-6FDBCEFC-29DF-4CBB-A000-B105A7328955" title="You can create, modify, or remove services for a PDB.">Managing Services for PDBs</a>"</span></p>
                              </li>
                              <li>
                                 <p><a href="../admin/creating-and-configuring-an-oracle-database.html#ADMIN-GUID-1739D947-9967-4A40-8CE6-6EA7F46D4D9F" target="_blank"><span><cite>Oracle Database Administratorâ€™s Guide</cite></span></a> for information about managing application workloads with database services
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../admin/configuring-automatic-restart-of-an-oracle-database.html#ADMIN-GUID-B2D64FD5-0DE7-4201-AB0F-3941955CADB8" target="_blank"><span><cite>Oracle Database Administratorâ€™s Guide</cite></span></a> for information about using the SRVCTL utility with a single-instance database
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../racad/server-control-utility-reference.html#RACAD-GUID-3ED4DBCE-A148-462B-8A79-534A3F0D6E7D" target="_blank"><span><cite>Oracle Real Application Clusters Administration and Deployment Guide</cite></span></a> for information about using the SRVCTL utility with an Oracle RAC database
                                 </p>i
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="creating-and-configuring-a-cdb.html#GUID-144959A9-50EB-4A94-AF36-49FA8A379909" title="Prepare to create the CDB by research and careful planning.">Decide How to Configure the CDB</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-7FD9AA57-016C-49A1-85F5-4C9AD74FAEDB" name="GUID-7FD9AA57-016C-49A1-85F5-4C9AD74FAEDB"></a><h5 id="MULTI-GUID-7FD9AA57-016C-49A1-85F5-4C9AD74FAEDB" class="sect5"><span class="enumeration_section">4.2.1.11 </span>Learn How to Start Up and Shut Down a CDB
                     </h5>
                     <div>
                        <p>Familiarize yourself with the principles and options of starting up and shutting down a database instance and mounting and opening a CDB.</p>
                        <p>In a CDB, the CDB root and all containers share a single database instance, or, when using Oracle RAC, multiple concurrent instances. You can start up and shut down an entire CDB, which in turn determines the state of hosted PDBs. When the CDB is open, you can control the open mode of PDBs by using either an <code class="codeph">ALTER PLUGGABLE DATABASE</code> statement in the context of the CDB or PDB to open or close hosted PDBs. To maintain backward compatibility, <code class="codeph">ALTER DATABASE OPEN</code> and <code class="codeph">ALTER DATABASE CLOSE</code> statements are supported when they are executed and a PDB is the current container. You can also use the SQL*Plus <code class="codeph">STARTUP</code> command and the SQL*Plus <code class="codeph">SHUTDOWN</code> command when a PDB is the current container. However, the SQL*Plus <code class="codeph">STARTUP MOUNT</code> command is a CDB-only operation and cannot be used when a PDB is the current container.
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-7FD9AA57-016C-49A1-85F5-4C9AD74FAEDB__GUID-974BD2BB-0AF7-4CAB-9F97-AA0841D259FD">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;" id="GUID-7FD9AA57-016C-49A1-85F5-4C9AD74FAEDB__UL_EZ2_NRW_NGB">
                              <li>
                                 <p><span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-322C5C03-4C48-40CD-8230-0BA5F16BF96B" title="You can modify the open mode of a PDB by using the ALTER PLUGGABLE DATABASE SQL statement or the SQL*Plus STARTUP command.">Modifying the Open Mode of One or More PDBs</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="administering-pdbs-with-sql-plus.html#GUID-E73BCAED-FF57-474A-A8C5-207D3F465413" title="To modify the attributes of a single PDB, use the ALTER PLUGGABLE DATABASE statement.">Modifying a PDB with the ALTER PLUGGABLE DATABASE Statement</a>"</span></p>
                              </li>
                              <li>
                                 <p><a href="../admin/starting-up-and-shutting-down.html#ADMIN-GUID-203404B5-5157-4F29-A241-B8ABC4753819" target="_blank"><span><cite>Oracle Database Administratorâ€™s Guide</cite></span></a> for information about starting up a database
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="creating-and-configuring-a-cdb.html#GUID-144959A9-50EB-4A94-AF36-49FA8A379909" title="Prepare to create the CDB by research and careful planning.">Decide How to Configure the CDB</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-A905D497-8331-4A25-9DAE-B5976E80E3C8" name="GUID-A905D497-8331-4A25-9DAE-B5976E80E3C8"></a><h5 id="MULTI-GUID-A905D497-8331-4A25-9DAE-B5976E80E3C8" class="sect5"><span class="enumeration_section">4.2.1.12 </span>Plan for Oracle RAC
                     </h5>
                     <div>
                        <p>If you plan to use Oracle RAC, then plan for an Oracle RAC environment.</p>
                        <p>The Oracle RAC documentation describes special considerations for a CDB in an Oracle RAC environment. See your platform-specific Oracle RAC installation guide for information about creating a CDB in an Oracle RAC environment.</p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-A905D497-8331-4A25-9DAE-B5976E80E3C8__GUID-974BD2BB-0AF7-4CAB-9F97-AA0841D259FD">
                           <p class="notep1">See Also:</p>
                           <p><a href="administering-a-cdb-with-sql-plus.html#GUID-57166C75-59D4-4037-81CD-8CAD753DA64D" target="_blank"><span><cite>Oracle Real Application Clusters Administration and Deployment Guide</cite></span></a></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="creating-and-configuring-a-cdb.html#GUID-144959A9-50EB-4A94-AF36-49FA8A379909" title="Prepare to create the CDB by research and careful planning.">Decide How to Configure the CDB</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-E5B7C444-1961-4719-AE75-1FD6C295189F" name="GUID-E5B7C444-1961-4719-AE75-1FD6C295189F"></a><h4 id="MULTI-GUID-E5B7C444-1961-4719-AE75-1FD6C295189F" class="sect4"><span class="enumeration_section">4.2.2 </span>Prerequisites for CDB Creation
                  </h4>
                  <div>
                     <p>You must complete prerequisites before creating a new CDB.</p>
                     <p>Before you can create a new CDB, the following prerequisites must be met:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Ensure that the prerequisites described in <span class="q">"<a href="overview-of-managing-a-multitenant-environment.html#GUID-4C1CBB82-7DBF-4784-8010-917513AE11DD" title="Prerequisites must be met for a multitenant environment.">Prerequisites for a Multitenant Environment</a>"</span> are met.
                           </p>
                        </li>
                        <li>
                           <p>Sufficient memory must be available to start the Oracle Database instance.</p>
                           <p>Size the memory required by a CDB to accommodate the workload of each of its containers and the number of containers.</p>
                        </li>
                        <li>
                           <p>Sufficient disk storage space must be available for the planned PDBs on the computer that runs Oracle Database. In an Oracle RAC environment, sufficient shared storage must be available.</p>
                           <p>The disk storage space required by a CDB is the sum of the space requirements for all PDBs that will reside in the CDB.</p>
                        </li>
                     </ul>
                     <p>These prerequisites are discussed in the <a href="../install-and-upgrade.html" target="_blank"><span><cite>Oracle Database Installation Guide</cite></span></a> or <a href="../install-and-upgrade.html" target="_blank"><span><cite>Oracle Grid Infrastructure Installation and Upgrade Guide</cite></span></a> specific to your operating system. If you use the Oracle Universal Installer, then it will guide you through your installation and provide help in setting environment variables and establishing directory structure and authorizations.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="creating-and-configuring-a-cdb.html#GUID-752E9D1D-02DF-4A68-8AB7-41AFF2AB0555" title="CDB creation prepares several operating system files to work together as a CDB.">Planning for CDB Creation</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN13521"></a><div class="props_rev_3"><a id="GUID-25F77431-C454-4B2A-8083-21165E59549A" name="GUID-25F77431-C454-4B2A-8083-21165E59549A"></a><h3 id="MULTI-GUID-25F77431-C454-4B2A-8083-21165E59549A" class="sect3"><span class="enumeration_section">4.3 </span>Creating a CDB
               </h3>
               <div>
                  <p>You can create a CDB using DBCA or by manually issuing the <code class="codeph">CREATE DATABASE</code> SQL statement.
                  </p>
                  <div class="infoboxnote" id="GUID-25F77431-C454-4B2A-8083-21165E59549A__GUID-2FC5E141-5D0D-4BF4-943C-FCFC50A04E73">
                     <p class="notep1">Note:</p>
                     <p>Oracle strongly recommends using the Database Configuration Assistant (DBCA) template deployment instead of the <code class="codeph">CREATE DATABASE</code> SQL statement to create a CDB, because using DBCA is a more automated approach, and your CDB is ready to use when DBCA completes.
                     </p>
                  </div>
                  <p>This section contains the following topics:</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="creating-and-configuring-a-cdb.html#GUID-2ACFB225-F895-4B6F-B601-F09A388A4449">About CDB Creation with DBCA</a><br>Oracle strongly recommends using the Database Configuration Assistant (DBCA) to create a CDB.
                     </li>
                     <li class="ulchildlink"><a href="creating-and-configuring-a-cdb.html#GUID-F90F2625-60F1-4C26-81D0-E91CAF540B22">About CDB Creation with SQL Statements</a><br>Creating a CDB using the <code class="codeph">CREATE DATABASE</code> SQL statement is similar to creating a non-CDB.
                     </li>
                     <li class="ulchildlink"><a href="creating-and-configuring-a-cdb.html#GUID-54C5126C-427A-4BFE-81BF-950FB1A062D5">Creating a CDB with the CREATE DATABASE Statement</a><br>When you use the <code class="codeph">CREATE DATABASE</code> statement to create a CDB, you must complete additional actions before you have an operational CDB. 
                     </li>
                     <li class="ulchildlink"><a href="creating-and-configuring-a-cdb.html#GUID-F20BEFA4-3F40-421E-B5BB-EE6D9808E3F0">Creating a CDB with the CREATE DATABASE Statement: Examples</a><br>These examples create a CDB named <code class="codeph">newcdb</code>.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="creating-and-configuring-a-cdb.html#GUID-77D4BBA7-2A64-46D9-A2B8-C56060772215" title="Creating and configuring a &nbsp;multitenant container database (CDB) includes tasks such as planning, creating the CDB, and optionally configuring EM Express.">Creating and Configuring a CDB</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN13520"></a><div class="props_rev_3"><a id="GUID-2ACFB225-F895-4B6F-B601-F09A388A4449" name="GUID-2ACFB225-F895-4B6F-B601-F09A388A4449"></a><h4 id="MULTI-GUID-2ACFB225-F895-4B6F-B601-F09A388A4449" class="sect4"><span class="enumeration_section">4.3.1 </span>About CDB Creation with DBCA
                  </h4>
                  <div>
                     <p>Oracle strongly recommends using the Database Configuration Assistant (DBCA) to create a CDB.</p>
                     <div class="section">
                        <p>DBCA offers the following advantages over alternative techniques:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Creation is largely automated.</p>
                           </li>
                           <li>
                              <p>DBCA enables you to specify the number of PDBs in the CDB when it is created.</p>
                           </li>
                           <li>
                              <p>When DBCA completes, the CDB is ready to use.</p>
                           </li>
                           <li>
                              <p>After a CDB is created, you can use DBCA to do the following:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Clone local PDBs</p>
                                 </li>
                                 <li>
                                    <p>Plug in and unplug PDBs</p>
                                 </li>
                                 <li>
                                    <p>Duplicate a CDB (silent mode only)</p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                        <p>Depending on the type of install that you select, Oracle Universal Installer (OUI) can launch DBCA. You can also launch DBCA as a standalone tool at any time after Oracle Database installation.</p>
                        <p>You can use DBCA to create a CDB in either of the following modes:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Interactive mode</p>
                              <p>This mode provides a graphical interface and guided workflow for creating and configuring a CDB. </p>
                           </li>
                           <li>
                              <p>Noninteractive mode (also called <span class="italic">silent mode</span>)
                              </p>
                              <p>This mode enables you to script a preconfigured CDB template deployment with customized PDB seed databases that are suitable for cloning. Run DBCA in silent mode by specifying command-line arguments, a response file, or both.</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-2ACFB225-F895-4B6F-B601-F09A388A4449__GUID-629F334A-CCBB-47BA-AE6D-67858A639AFA">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../admin/creating-and-configuring-an-oracle-database.html#ADMIN-GUID-9E65AD37-BEDC-462A-A381-64C0380E0CCF" target="_blank"><span><cite>Oracle Database Administratorâ€™s Guide</cite></span></a> to learn how to create a database with DBCA
                              </p>
                           </li>
                           <li>
                              <p><a href="../admqs/installing-oracle-database-creating-database.html#ADMQS002" target="_blank"><span><cite>Oracle Database 2 Day DBA</cite></span></a></p>
                           </li>
                           <li>
                              <p>The DBCA online help</p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="creating-and-configuring-a-cdb.html#GUID-25F77431-C454-4B2A-8083-21165E59549A" title="You can create a CDB using DBCA or by manually issuing the CREATE DATABASE SQL statement.">Creating a CDB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13522"></a><div class="props_rev_3"><a id="GUID-F90F2625-60F1-4C26-81D0-E91CAF540B22" name="GUID-F90F2625-60F1-4C26-81D0-E91CAF540B22"></a><h4 id="MULTI-GUID-F90F2625-60F1-4C26-81D0-E91CAF540B22" class="sect4"><span class="enumeration_section">4.3.2 </span>About CDB Creation with SQL Statements
                  </h4>
                  <div>
                     <p>Creating a CDB using the <code class="codeph">CREATE DATABASE</code> SQL statement is similar to creating a non-CDB.
                     </p>
                     <p> This section describes additional requirements for creating a CDB. When you create a CDB using <code class="codeph">CREATE DATABASE</code>, you must do the following:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Enable PDBs</p>
                        </li>
                        <li>
                           <p>Specify the names and locations of the CDB root files</p>
                        </li>
                        <li>
                           <p>Specify the names and locations of the <code class="codeph">PDB$SEED</code> files
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-F90F2625-60F1-4C26-81D0-E91CAF540B22__GUID-21985A91-9DD4-4208-89D0-F916D1CFA997">
                        <p class="notep1">Note:</p>Using the <code class="codeph">CREATE DATABASE</code> SQL statement is a more manual approach to creating a CDB than using DBCA.
                     </div>
                     <p>This section contains the following topics:</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="creating-and-configuring-a-cdb.html#GUID-ED7C61FB-1FBB-40B2-93DE-11349350A32E">About Enabling PDBs</a><br>To create a CDB, the <code class="codeph">CREATE DATABASE</code> statement must include the <code class="codeph">ENABLE PLUGGABLE DATABASE</code> clause. 
                        </li>
                        <li class="ulchildlink"><a href="creating-and-configuring-a-cdb.html#GUID-6F2F739B-E4D3-40E2-91ED-1F99BE290903">About the Names and Locations of the Files for Root and the PDB Seed</a><br>The <code class="codeph">CREATE DATABASE</code> statement uses the root files (such as data files) to generate the names of the files for <code class="codeph">PDB$SEED</code>.
                        </li>
                        <li class="ulchildlink"><a href="creating-and-configuring-a-cdb.html#GUID-F10C66E1-9194-418D-9F6A-C18B0F6550C7">About the Attributes of the Data Files for PDB$SEED</a><br>You can use the PDB seed (<code class="codeph">PDB$SEED</code>) as a template to create new containers.
                        </li>
                        <li class="ulchildlink"><a href="creating-and-configuring-a-cdb.html#GUID-2839D949-B46F-4205-9C1F-ADD346407FCB">About the CDB Undo Mode</a><br>Add the <span class="italic">undo_mode_clause</span> to an <code class="codeph">ENABLE PLUGGABLE DATABASE</code> clause to specify the undo mode of the CDB. 
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-F90F2625-60F1-4C26-81D0-E91CAF540B22__GUID-40AE090F-6E79-42AE-A687-D4CC0B66EC36">
                        <p class="notep1">See Also:</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=CNCPT89268" target="_blank"><span><cite>Oracle Database Concepts</cite></span></a> for information about the files in a CDB
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="creating-and-configuring-a-cdb.html#GUID-25F77431-C454-4B2A-8083-21165E59549A" title="You can create a CDB using DBCA or by manually issuing the CREATE DATABASE SQL statement.">Creating a CDB</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN13523"></a><div class="props_rev_3"><a id="GUID-ED7C61FB-1FBB-40B2-93DE-11349350A32E" name="GUID-ED7C61FB-1FBB-40B2-93DE-11349350A32E"></a><h5 id="MULTI-GUID-ED7C61FB-1FBB-40B2-93DE-11349350A32E" class="sect5"><span class="enumeration_section">4.3.2.1 </span>About Enabling PDBs
                     </h5>
                     <div>
                        <p>To create a CDB, the <code class="codeph">CREATE DATABASE</code> statement must include the <code class="codeph">ENABLE PLUGGABLE DATABASE</code> clause. 
                        </p>
                        <p>This clause affects the <code class="codeph">CREATE DATABASE</code> statement as follows:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">ENABLE PLUGGABLE DATABASE</code> is included
                              </p>
                              <p>The statement creates a CDB with the root and <code class="codeph">PDB$SEED</code>. You can never change the CDB into a non-CDB.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">ENABLE PLUGGABLE DATABASE</code> is not included
                              </p>
                              <p>The newly created database is a non-CDB, which means that it does not include the CDB root or <code class="codeph">PDB$SEED</code>. The non-CDB can never contain PDBs.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="creating-and-configuring-a-cdb.html#GUID-F90F2625-60F1-4C26-81D0-E91CAF540B22" title="Creating a CDB using the CREATE DATABASE SQL statement is similar to creating a non-CDB.">About CDB Creation with SQL Statements</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN13524"></a><div class="props_rev_3"><a id="GUID-6F2F739B-E4D3-40E2-91ED-1F99BE290903" name="GUID-6F2F739B-E4D3-40E2-91ED-1F99BE290903"></a><h5 id="MULTI-GUID-6F2F739B-E4D3-40E2-91ED-1F99BE290903" class="sect5"><span class="enumeration_section">4.3.2.2 </span>About the Names and Locations of the Files for Root and the PDB Seed
                     </h5>
                     <div>
                        <p>The <code class="codeph">CREATE DATABASE</code> statement uses the root files (such as data files) to generate the names of the files for <code class="codeph">PDB$SEED</code>.
                        </p>
                        <p> You must specify the names and locations of the files for root and <code class="codeph">PDB$SEED</code>. After the <code class="codeph">CREATE DATABASE</code> statement completes successfully, you can use <code class="codeph">PDB$SEED</code> and its files to create new PDBs. You cannot modify the PDB seed after it is created.
                        </p>
                        <p>You must specify the names and locations of the files for <code class="codeph">PDB$SEED</code> in one of the following ways:
                        </p>
                        <ol>
                           <li>
                              <p>The <code class="codeph">SEED FILE_NAME_CONVERT</code> clause
                              </p>
                           </li>
                           <li>
                              <p>Oracle Managed Files</p>
                           </li>
                           <li>
                              <p>The <code class="codeph">PDB_FILE_NAME_CONVERT</code> initialization parameter
                              </p>
                           </li>
                        </ol>
                        <p>If you use more than technique, then the <code class="codeph">CREATE DATABASE</code> statement uses one technique in the order of precedence of the preceding list. For example, if you use all techniques, then the <code class="codeph">CREATE DATABASE</code> statement only uses the specifications in the <code class="codeph">SEED FILE_NAME_CONVERT</code> clause because it is first in the list.
                        </p>
                        <p>This section contains the following topics:</p>
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="creating-and-configuring-a-cdb.html#GUID-519CEA96-0B3D-40D5-9710-53E38C941617">The SEED FILE_NAME_CONVERT Clause</a><br>The <code class="codeph">SEED FILE_NAME_CONVERT</code> clause of the <code class="codeph">CREATE DATABASE</code> statement specifies how to generate the names of the <code class="codeph">PDB$SEED</code> files using the names of the CDB root files.
                           </li>
                           <li class="ulchildlink"><a href="creating-and-configuring-a-cdb.html#GUID-5E01818B-38EE-428E-ADD0-A5784FF0AC33">Oracle Managed Files</a><br>When Oracle Managed Files is enabled, it can determine the names and locations of the <code class="codeph">PDB$SEED</code> files.
                           </li>
                           <li class="ulchildlink"><a href="creating-and-configuring-a-cdb.html#GUID-12AA97B3-6D4C-45A6-96C8-DE9B8AAA045C">The PDB_FILE_NAME_CONVERT Initialization Parameter</a><br>The <code class="codeph">PDB_FILE_NAME_CONVERT</code> initialization parameter can specify the names and locations of the seed's files.
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-6F2F739B-E4D3-40E2-91ED-1F99BE290903__GUID-CC886A4D-5B2B-4BEB-A528-6A963D24255C">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="creating-a-pdb-from-scratch.html#GUID-CCA938BD-52BE-422C-86AF-576D3E02B96B" title="Use the CREATE PLUGGABLE DATABASE statement to create a PDB in a CDB using the files of the PDB seed (PDB$SEED).">Creating a PDB from Scratch</a>"</span></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="creating-and-configuring-a-cdb.html#GUID-F90F2625-60F1-4C26-81D0-E91CAF540B22" title="Creating a CDB using the CREATE DATABASE SQL statement is similar to creating a non-CDB.">About CDB Creation with SQL Statements</a></p>
                           </div>
                        </div>
                     </div>
                     <a id="ADMIN13526"></a><a id="ADMIN13525"></a><div class="props_rev_3"><a id="GUID-519CEA96-0B3D-40D5-9710-53E38C941617" name="GUID-519CEA96-0B3D-40D5-9710-53E38C941617"></a><h6 id="MULTI-GUID-519CEA96-0B3D-40D5-9710-53E38C941617" class="sect6"><span class="enumeration_section">4.3.2.2.1 </span>The SEED FILE_NAME_CONVERT Clause
                        </h6>
                        <div>
                           <p>The <code class="codeph">SEED FILE_NAME_CONVERT</code> clause of the <code class="codeph">CREATE DATABASE</code> statement specifies how to generate the names of the <code class="codeph">PDB$SEED</code> files using the names of the CDB root files.
                           </p>
                           <p>You can use this clause to specify one of the following options:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>One or more file name patterns and replacement file name patterns, in the following form:</p><pre class="pre codeblock"><code>'<span class="italic">string1</span>' , '<span class="italic">string2</span>' , '<span class="italic">string3</span>' , '<span class="italic">string4</span>' , ...
</code></pre><p>The <span class="italic">string2</span> file name pattern replaces the <span class="italic">string1</span> file name pattern, and the <span class="italic">string4</span> file name pattern replaces the <span class="italic">string3</span> file name pattern. You can use as many pairs of file name pattern and replacement file name pattern strings as required.
                                 </p>
                                 <p>If you specify an odd number of strings (the last string has no corresponding replacement string), then an error is returned. Do not specify more than one pattern/replace string that matches a single file name or directory.</p>
                                 <p>File name patterns cannot match files or directories managed by Oracle Managed Files.</p>
                              </li>
                              <li>
                                 <p><code class="codeph">NONE</code> when no file names should be converted. Omitting the <code class="codeph">SEED FILE_NAME_CONVERT</code> clause is the same as specifying <code class="codeph">NONE</code>.
                                 </p>
                              </li>
                           </ul>
                           <div class="example" id="GUID-519CEA96-0B3D-40D5-9710-53E38C941617__GUID-AD982C0A-9584-452C-94A1-60190725E097">
                              <p class="titleinexample">Example 4-1 SEED FILE_NAME_CONVERT Clause</p>
                              <p>This <code class="codeph">SEED FILE_NAME_CONVERT</code> clause generates file names for the <code class="codeph">PDB$SEED</code> files in the <code class="codeph">/oracle/pdbseed/</code> directory using file names in the <code class="codeph">/oracle/dbs</code> directory.
                              </p><pre class="pre codeblock"><code>SEED FILE_NAME_CONVERT = ('/oracle/dbs/', '/oracle/pdbseed/')
</code></pre></div>
                           <!-- class="example" -->
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-519CEA96-0B3D-40D5-9710-53E38C941617__GUID-B8309C7B-6F28-4850-ABB8-DAD43E695E4D">
                              <p class="notep1">See Also:</p>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=SQLRF-GUID-77D4BBA7-2A64-46D9-A2B8-C56060772215" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for the syntax of the <code class="codeph">SEED FILE_NAME_CONVERT</code> clause
                              </p>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="creating-and-configuring-a-cdb.html#GUID-6F2F739B-E4D3-40E2-91ED-1F99BE290903" title="The CREATE DATABASE statement uses the root files (such as data files) to generate the names of the files for PDB$SEED.">About the Names and Locations of the Files for Root and the PDB Seed</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="ADMIN13527"></a><div class="props_rev_3"><a id="GUID-5E01818B-38EE-428E-ADD0-A5784FF0AC33" name="GUID-5E01818B-38EE-428E-ADD0-A5784FF0AC33"></a><h6 id="MULTI-GUID-5E01818B-38EE-428E-ADD0-A5784FF0AC33" class="sect6"><span class="enumeration_section">4.3.2.2.2 </span>Oracle Managed Files
                        </h6>
                        <div>
                           <p>When Oracle Managed Files is enabled, it can determine the names and locations of the <code class="codeph">PDB$SEED</code> files.
                           </p>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-5E01818B-38EE-428E-ADD0-A5784FF0AC33__GUID-6BFCF2AA-A782-4448-8095-E7390B73984C">
                              <p class="notep1">See Also:</p>
                              <p><a href="../admin/using-oracle-managed-files.html#ADMIN-GUID-4A3C4616-0D81-4BBA-8EAD-FCAA8AD5C15A" target="_blank"><span><cite>Oracle Database Administratorâ€™s Guide</cite></span></a></p>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="creating-and-configuring-a-cdb.html#GUID-6F2F739B-E4D3-40E2-91ED-1F99BE290903" title="The CREATE DATABASE statement uses the root files (such as data files) to generate the names of the files for PDB$SEED.">About the Names and Locations of the Files for Root and the PDB Seed</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="ADMIN13528"></a><div class="props_rev_3"><a id="GUID-12AA97B3-6D4C-45A6-96C8-DE9B8AAA045C" name="GUID-12AA97B3-6D4C-45A6-96C8-DE9B8AAA045C"></a><h6 id="MULTI-GUID-12AA97B3-6D4C-45A6-96C8-DE9B8AAA045C" class="sect6"><span class="enumeration_section">4.3.2.2.3 </span>The PDB_FILE_NAME_CONVERT Initialization Parameter
                        </h6>
                        <div>
                           <p>The <code class="codeph">PDB_FILE_NAME_CONVERT</code> initialization parameter can specify the names and locations of the seed's files.
                           </p>
                           <p>To use this technique, ensure that the <code class="codeph">PDB_FILE_NAME_CONVERT</code> initialization parameter is included in the initialization parameter file when you create the CDB.
                           </p>
                           <p>File name patterns specified in this initialization parameter cannot match files or directories managed by Oracle Managed Files.</p>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-12AA97B3-6D4C-45A6-96C8-DE9B8AAA045C__GUID-DD962036-7316-415E-AAE2-F56C3AE931A2">
                              <p class="notep1">See Also:</p>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=REFRN10322" target="_blank"><span class="italic">Oracle Database Reference</span></a></p>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="creating-and-configuring-a-cdb.html#GUID-6F2F739B-E4D3-40E2-91ED-1F99BE290903" title="The CREATE DATABASE statement uses the root files (such as data files) to generate the names of the files for PDB$SEED.">About the Names and Locations of the Files for Root and the PDB Seed</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div><a id="ADMIN14084"></a><a id="ADMIN14083"></a><div class="props_rev_3"><a id="GUID-F10C66E1-9194-418D-9F6A-C18B0F6550C7" name="GUID-F10C66E1-9194-418D-9F6A-C18B0F6550C7"></a><h5 id="MULTI-GUID-F10C66E1-9194-418D-9F6A-C18B0F6550C7" class="sect5"><span class="enumeration_section">4.3.2.3 </span>About the Attributes of the Data Files for PDB$SEED
                     </h5>
                     <div>
                        <p>You can use the PDB seed (<code class="codeph">PDB$SEED</code>) as a template to create new containers.
                        </p>
                        <p>The attributes of the data files for the CDB root <code class="codeph">SYSTEM</code> and <code class="codeph">SYSAUX</code> tablespaces might not be suitable for the PDB seed. In this case, you can specify different attributes for the PDB seed data files by using the <span class="italic"><code class="codeph">tablespace_datafile</code></span> clauses. Use these clauses to specify attributes for all data files comprising the <code class="codeph">SYSTEM</code> and <code class="codeph">SYSAUX</code> tablespaces in the PDB seed. The values inherited from the root are used for any attributes whose values have not been provided.
                        </p>
                        <p>The syntax of the <span class="italic"><code class="codeph">tablespace_datafile</code></span> clauses is the same as the syntax for a data file specification, excluding the name and location of the data file and the <code class="codeph">REUSE</code> attribute. You can use the <span class="italic"><code class="codeph">tablespace_datafile</code></span> clauses with any of the methods for specifying the names and locations of the PDB seed's data files described in <span class="q">"<a href="creating-and-configuring-a-cdb.html#GUID-6F2F739B-E4D3-40E2-91ED-1F99BE290903" title="The CREATE DATABASE statement uses the root files (such as data files) to generate the names of the files for PDB$SEED.">About the Names and Locations of the Files for Root and the PDB Seed</a>"</span>.
                        </p>
                        <p>The <span class="italic"><code class="codeph">tablespace_datafile</code></span> clauses do not specify the names and locations of the PDB seed's data files. Instead, they specify the attributes of <code class="codeph">SYSTEM</code> and <code class="codeph">SYSAUX</code> data files in the PDB seed that differ from those in the root. If <code class="codeph">SIZE</code> is not specified in the <span class="italic"><code class="codeph">tablespace_datafile</code></span> clause for a tablespace, then data file size for the tablespace is set to a predetermined fraction of the size of a corresponding root data file.
                        </p>
                        <div class="example" id="GUID-F10C66E1-9194-418D-9F6A-C18B0F6550C7__GUID-1719B97C-EF40-4AE4-9E18-62BF2FBF81D8">
                           <p class="titleinexample">Example 4-2 Using the tablespace_datafile Clauses</p>
                           <p>Assume the following <code class="codeph">CREATE DATABASE</code> clauses specify the names, locations, and attributes of the data files that comprise the <code class="codeph">SYSTEM</code> and <code class="codeph">SYSAUX</code> tablespaces in the root.
                           </p><pre class="pre codeblock"><code>DATAFILE '/u01/app/oracle/oradata/newcdb/system01.dbf' SIZE 325M REUSE
SYSAUX DATAFILE '/u01/app/oracle/oradata/newcdb/sysaux01.dbf' SIZE 325M REUSE
</code></pre><p>You can use the following <span class="italic"><code class="codeph">tablespace_datafile</code></span> clauses to specify different attributes for these data files:
                           </p><pre class="pre codeblock"><code>SEED 
  SYSTEM DATAFILES 
    SIZE 125M AUTOEXTEND ON NEXT 10M MAXSIZE UNLIMITED
  SYSAUX DATAFILES 
    SIZE 100M
</code></pre><p>In this example, the data files for the PDB seed's <code class="codeph">SYSTEM</code> and <code class="codeph">SYSAUX</code> tablespaces inherit the <code class="codeph">REUSE</code> attribute from the root's data files. However, the following attributes of the PDB seed's data files differ from the root's:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The data file for the <code class="codeph">SYSTEM</code> tablespace is 125 MB for the PDB seed and 325 MB for the root.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">AUTOEXTEND</code> is enabled for the PDB seed's <code class="codeph">SYSTEM</code> data file, and it is disabled by default for the root's <code class="codeph">SYSTEM</code> data file.
                                 </p>
                              </li>
                              <li>
                                 <p>The data file for the <code class="codeph">SYSAUX</code> tablespace is 100 MB for the PDB seed and 325 MB for the root.
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-F10C66E1-9194-418D-9F6A-C18B0F6550C7__GUID-2BB9B515-7891-41FC-9DA9-7E697678C4A0">
                           <p class="notep1">See Also:</p>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=SQLRF52248" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for information about data file specifications
                           </p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="creating-and-configuring-a-cdb.html#GUID-F90F2625-60F1-4C26-81D0-E91CAF540B22" title="Creating a CDB using the CREATE DATABASE SQL statement is similar to creating a non-CDB.">About CDB Creation with SQL Statements</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-2839D949-B46F-4205-9C1F-ADD346407FCB" name="GUID-2839D949-B46F-4205-9C1F-ADD346407FCB"></a><h5 id="MULTI-GUID-2839D949-B46F-4205-9C1F-ADD346407FCB" class="sect5"><span class="enumeration_section">4.3.2.4 </span>About the CDB Undo Mode
                     </h5>
                     <div>
                        <p>Add the <span class="italic">undo_mode_clause</span> to an <code class="codeph">ENABLE PLUGGABLE DATABASE</code> clause to specify the undo mode of the CDB. 
                        </p>
                        <p>The <span class="italic">undo_mode_clause</span> specifies whether the CDB undo mode is local or shared. Local undo mode means that every container in the CDB uses local undo. To configure local undo mode for the CDB, specify <code class="codeph">LOCAL UNDO ON</code>. Shared undo mode means that there is one active undo tablespace for a single-instance CDB, or for an Oracle RAC CDB, there is one active undo tablespace for each instance. To configure shared undo mode for the CDB, specify <code class="codeph">LOCAL UNDO OFF</code>. If the <span class="italic">undo_mode_clause</span> is not added to the <code class="codeph">ENABLE PLUGGABLE DATABASE</code> clause, then shared undo mode is the default.
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="creating-and-configuring-a-cdb.html#GUID-F90F2625-60F1-4C26-81D0-E91CAF540B22" title="Creating a CDB using the CREATE DATABASE SQL statement is similar to creating a non-CDB.">About CDB Creation with SQL Statements</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN13529"></a><div class="props_rev_3"><a id="GUID-54C5126C-427A-4BFE-81BF-950FB1A062D5" name="GUID-54C5126C-427A-4BFE-81BF-950FB1A062D5"></a><h4 id="MULTI-GUID-54C5126C-427A-4BFE-81BF-950FB1A062D5" class="sect4"><span class="enumeration_section">4.3.3 </span>Creating a CDB with the CREATE DATABASE Statement
                  </h4>
                  <div>
                     <p>When you use the <code class="codeph">CREATE DATABASE</code> statement to create a CDB, you must complete additional actions before you have an operational CDB. 
                     </p>
                     <div class="section"> 
                        <p>These actions include building views on the data dictionary tables and installing standard PL/SQL packages in the root. Perform these actions by running the supplied <code class="codeph">catcdb.sql</code> script, which installs all components required by a CDB.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-54C5126C-427A-4BFE-81BF-950FB1A062D5__GUID-09775A10-08A0-4681-9CAA-EFED0857EA7C">Prerequisites</p>
                        <p>Note the following prerequisites:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The instructions in this section apply to <span class="italic">single-instance database installations only</span>. See the Oracle Real Application Clusters (Oracle RAC) installation guide for your platform for instructions for creating an Oracle RAC CDB. 
                              </p>
                           </li>
                           <li>
                              <p>If you are using Oracle ASM to manage your disk storage, then you must start the Oracle ASM instance and configure your disk groups before performing these steps.</p>
                           </li>
                           <li>
                              <p>The <code class="codeph">ENABLE_PLUGGABLE_DATABASE</code> initialization parameter must be set to <code class="codeph">true</code>.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-54C5126C-427A-4BFE-81BF-950FB1A062D5__GUID-2993B25F-BD2D-4E7B-8EFB-02935356CEF3">To create a CDB with the CREATE DATABASE statement:</p>
                        <ol>
                           <li>
                              <p>Complete steps 1 - 8 in the â€œCreating a Database with the <code class="codeph">CREATE DATABASE</code> Statementâ€ topic in <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=ADMIN-GUID-0306126A-D63C-41E0-8D6E-48020FC18697" target="_blank"><span><cite>Oracle Database Administratorâ€™s Guide</cite></span></a>.
                              </p>
                              <p>In a CDB, the <code class="codeph">DB_NAME</code> initialization parameter specifies the name of the root. Also, it is common practice to set the SID to the name of the root. The maximum number of characters for this name is 30. For more information, see the discussion of the <code class="codeph">DB_NAME</code> initialization parameter in <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=REFRN10041" target="_blank"><span><cite>Oracle Database Reference</cite></span></a>.
                              </p>
                           </li>
                           <li>
                              <p>Use the <code class="codeph">CREATE DATABASE</code> statement to create a new CDB.
                              </p>
                              <p>See the examples in <span class="q">"<a href="creating-and-configuring-a-cdb.html#GUID-158375D0-E084-423B-BD91-0C84FB50BF2F" title="This example illustrates creating a CDB with Oracle Managed Files, which enables you to use a much simpler CREATE DATABASE statement.">Creating a CDB Using Oracle Managed Files: Example</a>"</span> and <span class="q">"<a href="creating-and-configuring-a-cdb.html#GUID-B6878799-CADD-4E84-BBEB-5C8E582B9010" title="The following statement creates a CDB named newcdb. This name must agree with the DB_NAME parameter in the initialization parameter file.">Creating a CDB Without Using Oracle Managed Files</a>"</span>.
                              </p>
                              <div class="infobox-tip" id="GUID-54C5126C-427A-4BFE-81BF-950FB1A062D5__GUID-368F6DB4-51CC-44B0-85F3-15FB47918C9D">
                                 <p class="notep1">Tip:</p>
                                 <p>If your <code class="codeph">CREATE DATABASE</code> statement fails, and if you did not complete Step 7 in the â€œCreating a Database with the <code class="codeph">CREATE DATABASE</code> Statementâ€ topic in <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=ADMIN-GUID-0306126A-D63C-41E0-8D6E-48020FC18697" target="_blank"><span><cite>Oracle Database Administratorâ€™s Guide</cite></span></a>, then ensure that there is not a preexisting server parameter file (SPFILE) for this instance that is setting initialization parameters in an unexpected way. For example, an SPFILE contains a setting for the complete path to all control files, and the <code class="codeph">CREATE DATABASE</code> statement fails if those control files do not exist. Ensure that you shut down and restart the instance (with <code class="codeph">STARTUP NOMOUNT</code>) after removing an unwanted SPFILE.
                                 </p>
                              </div>
                           </li>
                           <li>
                              <p>Run the <code class="codeph">catcdb.sql</code> SQL script. 
                              </p>
                              <p>Enter the following in SQL*Plus to run the script:</p><pre class="pre codeblock"><code>@?/rdbms/admin/catcdb.sql
</code></pre></li>
                           <li>
                              <p>When prompted by the script, enter the log file directory for parameter <code class="codeph">1</code> and the log file name for parameter <code class="codeph">2</code>.
                              </p>
                              <p>For following example enters <code class="codeph">/tmp</code> for the first prompt and <code class="codeph">create_cdb.log</code> for the second prompt:
                              </p><pre class="pre codeblock"><code>SQL&gt; host perl -I &amp;&amp;rdbms_admin &amp;&amp;rdbms_admin_catcdb --logDirectory &amp;&amp;1 --logFilename &amp;&amp;2
Enter value for 1: <span class="bold">/tmp</span>
Enter value for 2: <span class="bold">create_cdb.log</span></code></pre></li>
                           <li>
                              <p>When prompted by the script, enter any other required information.</p>
                              <p>For example, the scripts prompts for administrator passwords and the temporary tablespace name:</p><pre class="pre codeblock"><code>Enter new password for SYS: <span class="bold">********</span>
Enter new password for SYSTEM: <span class="bold">********</span>
Enter temporary tablespace name: <span class="bold">TEMP</span>
</code></pre></li>
                           <li>
                              <p>After <code class="codeph">catcdb.sql</code> completes, perform steps 12 - 14 in  the â€œCreating a Database with the <code class="codeph">CREATE DATABASE</code> Statementâ€ topic in <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=ADMIN-GUID-0306126A-D63C-41E0-8D6E-48020FC18697" target="_blank"><span><cite>Oracle Database Administratorâ€™s Guide</cite></span></a>.
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-54C5126C-427A-4BFE-81BF-950FB1A062D5__GUID-A226DB8B-2A0F-49DB-9DA5-C14CCFFBE54F">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span><cite>Oracle Database Administratorâ€™s Guide</cite></span> to learn more about <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=ADMIN-GUID-C9D7241C-3E18-4C8B-9ACD-D7097E273A5B" target="_blank"><code class="codeph">CREATE DATABASE</code></a> clauses and <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=ADMIN-GUID-30FB0B67-31D8-42EE-BA46-7949F6B6AFCD" target="_blank">Oracle Managed Files</a></p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=RACAD-GUID-5A1B02A2-A327-42DD-A1AD-20610B2A9D92" target="_blank"><span><cite>Oracle Real Application Clusters Administration and Deployment Guide</cite></span></a> for more information on Oracle RAC
                              </p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=OSTMG1390" target="_blank"><span><cite>Oracle Automatic Storage Management Administrator's Guide</cite></span></a></p>
                           </li>
                           <li>i
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=SQLRF01204" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> to learn more about the clauses and parameter values for the <code class="codeph">CREATE DATABASE</code> statement
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="creating-and-configuring-a-cdb.html#GUID-25F77431-C454-4B2A-8083-21165E59549A" title="You can create a CDB using DBCA or by manually issuing the CREATE DATABASE SQL statement.">Creating a CDB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-F20BEFA4-3F40-421E-B5BB-EE6D9808E3F0" name="GUID-F20BEFA4-3F40-421E-B5BB-EE6D9808E3F0"></a><h4 id="MULTI-GUID-F20BEFA4-3F40-421E-B5BB-EE6D9808E3F0" class="sect4"><span class="enumeration_section">4.3.4 </span>Creating a CDB with the CREATE DATABASE Statement: Examples
                  </h4>
                  <div>
                     <p>These examples create a CDB named <code class="codeph">newcdb</code>.
                     </p>
                     <p>The examples assume that you completed steps 1 - 8 in the â€œCreating a Database with the <code class="codeph">CREATE DATABASE</code> Statementâ€ topic in <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=ADMIN-GUID-0306126A-D63C-41E0-8D6E-48020FC18697" target="_blank"><span><cite>Oracle Database Administratorâ€™s Guide</cite></span></a>.
                     </p>
                     <p>This section contains the following topics:</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="creating-and-configuring-a-cdb.html#GUID-B6878799-CADD-4E84-BBEB-5C8E582B9010">Creating a CDB Without Using Oracle Managed Files</a><br>The following statement creates a CDB named <code class="codeph">newcdb</code>. This name must agree with the <code class="codeph">DB_NAME</code> parameter in the initialization parameter file.
                        </li>
                        <li class="ulchildlink"><a href="creating-and-configuring-a-cdb.html#GUID-158375D0-E084-423B-BD91-0C84FB50BF2F">Creating a CDB Using Oracle Managed Files: Example</a><br>This example illustrates creating a CDB with Oracle Managed Files, which enables you to use a much simpler <code class="codeph">CREATE DATABASE</code> statement.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="creating-and-configuring-a-cdb.html#GUID-25F77431-C454-4B2A-8083-21165E59549A" title="You can create a CDB using DBCA or by manually issuing the CREATE DATABASE SQL statement.">Creating a CDB</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-B6878799-CADD-4E84-BBEB-5C8E582B9010" name="GUID-B6878799-CADD-4E84-BBEB-5C8E582B9010"></a><h5 id="MULTI-GUID-B6878799-CADD-4E84-BBEB-5C8E582B9010" class="sect5"><span class="enumeration_section">4.3.4.1 </span>Creating a CDB Without Using Oracle Managed Files
                     </h5>
                     <div>
                        <p>The following statement creates a CDB named <code class="codeph">newcdb</code>. This name must agree with the <code class="codeph">DB_NAME</code> parameter in the initialization parameter file.
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-B6878799-CADD-4E84-BBEB-5C8E582B9010__GUID-A1B8B504-EEFB-49D3-8541-A277B0CBD50D">Assumptions</p>
                           <p>This example assumes the following:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The initialization parameter file specifies the number and location of control files with the <code class="codeph">CONTROL_FILES</code> parameter.
                                 </p>
                              </li>
                              <li>
                                 <p>The directory <code class="codeph">/u01/app/oracle/oradata/newcdb</code> exists.
                                 </p>
                              </li>
                              <li>
                                 <p>The directory <code class="codeph">/u01/app/oracle/oradata/pdbseed</code> exists.
                                 </p>
                              </li>
                              <li>
                                 <p>The directories <code class="codeph">/u01/logs/my</code> and <code class="codeph">/u02/logs/my</code> exist.
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>This example includes the <code class="codeph">ENABLE PLUGGABLE DATABASE</code> clause to create a CDB with the root and the PDB seed. This example also includes the <code class="codeph">SEED FILE_NAME_CONVERT</code> clause to specify the names and locations of the PDB seed's files. This example also includes <span class="italic"><code class="codeph">tablespace_datafile</code></span> clauses that specify attributes of the PDB seed data files for the <code class="codeph">SYSTEM</code> and <code class="codeph">SYSAUX</code> tablespaces that differ from the root data files. This example includes the <span class="italic"><code class="codeph">undo_mode_clause</code></span> to specify that the CDB undo mode is local.
                           </p><pre class="pre codeblock"><code>CREATE DATABASE newcdb
  USER SYS IDENTIFIED BY <span class="italic">sys_password</span>
  USER SYSTEM IDENTIFIED BY <span class="italic">system_password</span>
  LOGFILE GROUP 1 ('/u01/logs/my/redo01a.log','/u02/logs/my/redo01b.log') 
             SIZE 100M BLOCKSIZE 512,
          GROUP 2 ('/u01/logs/my/redo02a.log','/u02/logs/my/redo02b.log') 
             SIZE 100M BLOCKSIZE 512,
          GROUP 3 ('/u01/logs/my/redo03a.log','/u02/logs/my/redo03b.log') 
             SIZE 100M BLOCKSIZE 512
  MAXLOGHISTORY 1
  MAXLOGFILES 16
  MAXLOGMEMBERS 3
  MAXDATAFILES 1024
  CHARACTER SET AL32UTF8
  NATIONAL CHARACTER SET AL16UTF16
  EXTENT MANAGEMENT LOCAL
  DATAFILE '/u01/app/oracle/oradata/newcdb/system01.dbf'
    SIZE 700M REUSE AUTOEXTEND ON NEXT 10240K MAXSIZE UNLIMITED
  SYSAUX DATAFILE '/u01/app/oracle/oradata/newcdb/sysaux01.dbf'
    SIZE 550M REUSE AUTOEXTEND ON NEXT 10240K MAXSIZE UNLIMITED
  DEFAULT TABLESPACE deftbs
     DATAFILE '/u01/app/oracle/oradata/newcdb/deftbs01.dbf'
     SIZE 500M REUSE AUTOEXTEND ON MAXSIZE UNLIMITED
  DEFAULT TEMPORARY TABLESPACE tempts1
     TEMPFILE '/u01/app/oracle/oradata/newcdb/temp01.dbf'
     SIZE 20M REUSE AUTOEXTEND ON NEXT 640K MAXSIZE UNLIMITED
  UNDO TABLESPACE undotbs1
     DATAFILE '/u01/app/oracle/oradata/newcdb/undotbs01.dbf'
     SIZE 200M REUSE AUTOEXTEND ON NEXT 5120K MAXSIZE UNLIMITED
  <span class="bold">ENABLE PLUGGABLE DATABASE</span>
    <span class="bold">SEED</span>
    <span class="bold">FILE_NAME_CONVERT = ('/u01/app/oracle/oradata/newcdb/', </span>
                         <span class="bold">'/u01/app/oracle/oradata/pdbseed/')</span>
    <span class="bold">SYSTEM DATAFILES SIZE 125M AUTOEXTEND ON NEXT 10M MAXSIZE UNLIMITED</span>
    <span class="bold">SYSAUX DATAFILES SIZE 100M</span>
  <span class="bold">USER_DATA TABLESPACE usertbs</span>
    <span class="bold">DATAFILE '/u01/app/oracle/oradata/pdbseed/usertbs01.dbf'</span>
    <span class="bold">SIZE 200M REUSE AUTOEXTEND ON MAXSIZE UNLIMITED</span>
  <span class="bold">LOCAL UNDO ON;</span>
</code></pre><p>A CDB is created with the following characteristics:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The CDB is named <code class="codeph">newcdb</code>. Its global database name is <code class="codeph">newcdb.us.example.com</code>, where the domain portion (<code class="codeph">us.example.com</code>) is taken from the initialization parameter file. See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=ADMIN-GUID-9698EA9B-013C-40AC-8CFB-12171A4B4974" target="_blank"><span><cite>Oracle Database Administratorâ€™s Guide</cite></span></a> for information about determining the global database name.
                                 </p>
                              </li>
                              <li>
                                 <p>Three control files are created as specified by the <code class="codeph">CONTROL_FILES</code> initialization parameter, which was set before CDB creation in the initialization parameter file. See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=ADMIN-GUID-4ECB5C59-ED5A-4A87-9EEA-6C687AB8986D" target="_blank"><span><cite>Oracle Database Administratorâ€™s Guide</cite></span></a> for a sample initialization parameter file and <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=ADMIN-GUID-80067DCA-9E48-4232-8D37-667B4A085465" target="_blank"><span><cite>Oracle Database Administratorâ€™s Guide</cite></span></a> for information about specifying control files. 
                                 </p>
                              </li>
                              <li>
                                 <p>The passwords for user accounts <code class="codeph">SYS</code> and <code class="codeph">SYSTEM</code> are set to the values that you specified. The passwords are case-sensitive. The two clauses that specify the passwords for <code class="codeph">SYS</code> and <code class="codeph">SYSTEM</code> are not mandatory in this release of Oracle Database. However, if you specify either clause, then you must specify both clauses. For further information about the use of these clauses, see <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=ADMIN-GUID-55208EEE-5B31-4B7F-81A4-AF7AFE8630BE" target="_blank"><span><cite>Oracle Database Administratorâ€™s Guide</cite></span></a> for information about specifying passwords for users <code class="codeph">SYS</code> and <code class="codeph">SYSTEM</code>.
                                 </p>
                              </li>
                              <li>
                                 <p>The new CDB has three online redo log file groups, each with two members, as specified in the <code class="codeph">LOGFILE</code> clause. <code class="codeph">MAXLOGFILES</code>, <code class="codeph">MAXLOGMEMBERS</code>, and <code class="codeph">MAXLOGHISTORY</code> define limits for the redo log. See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=ADMIN-GUID-11CAAE2C-D46D-4611-8AAB-F9CB941D3934" target="_blank"><span><cite>Oracle Database Administratorâ€™s Guide</cite></span></a> for information about choosing the number of redo log files. The block size for the redo logs is set to 512 bytes, the same size as physical sectors on disk. The <code class="codeph">BLOCKSIZE</code> clause is optional if block size is to be the same as physical sector size (the default). Typical sector size and thus typical block size is 512. Permissible values for <code class="codeph">BLOCKSIZE</code> are 512, 1024, and 4096. For newer disks with a 4K sector size, optionally specify <code class="codeph">BLOCKSIZE</code> as 4096. See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=ADMIN-GUID-AC858C69-317E-4193-838D-59F8DDEA1927" target="_blank"><span><cite>Oracle Database Administratorâ€™s Guide</cite></span></a> for more information about planning the block size of redo log files.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">MAXDATAFILES</code> specifies the maximum number of data files that can be open in the CDB. This number affects the initial sizing of the control file. For a CDB, set <code class="codeph">MAXDATAFILES</code> to a high number that anticipates the aggregate number of data files for all containers, in addition to the CDB root files.
                                 </p>
                                 <div class="infoboxnote" id="GUID-B6878799-CADD-4E84-BBEB-5C8E582B9010__GUID-6A8F1D2A-016F-4488-8D3C-604D81BBD7B8">
                                    <p class="notep1">Note:</p>
                                    <p>You can set several limits during CDB creation. Some of these limits are limited by and affected by operating system limits. For example, if you set <code class="codeph">MAXDATAFILES</code>, then Oracle Database allocates enough space in the control file to store <code class="codeph">MAXDATAFILES</code> file names, even if the CDB has only one data file initially. However, because the maximum control file size is limited and operating system dependent, you might not be able to set all <code class="codeph">CREATE DATABASE</code> parameters at their theoretical maximums. 
                                    </p>
                                    <p>For more information about setting limits during CDB creation, see the <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=SQLRF01204" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> and your operating system&#x2013;specific Oracle documentation.
                                    </p>
                                 </div>
                              </li>
                              <li>
                                 <p>The <code class="codeph">AL32UTF8</code> character set is used to store data in this CDB.
                                 </p>
                              </li>
                              <li>
                                 <p>The <code class="codeph">AL16UTF16</code> character set is specified as the <code class="codeph">NATIONAL CHARACTER SET</code> used to store data in columns specifically defined as <code class="codeph">NCHAR</code>, <code class="codeph">NCLOB</code>, or <code class="codeph">NVARCHAR2</code>.
                                 </p>
                              </li>
                              <li>
                                 <p>The <code class="codeph">SYSTEM</code> tablespace, consisting of the operating system file <code class="codeph">/u01/app/oracle/oradata/newcdb/system01.dbf</code>, is created as specified by the <code class="codeph">DATAFILE</code> clause. If a file with that name already exists, then it is overwritten.
                                 </p>
                              </li>
                              <li>
                                 <p>The <code class="codeph">SYSTEM</code> tablespace is created as a locally managed tablespace. See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=ADMIN-GUID-D8061728-6A13-4F30-AA91-EBE52F276AC3" target="_blank"><span><cite>Oracle Database Administratorâ€™s Guide</cite></span></a> for information about creating a locally managed <code class="codeph">SYSTEM</code> tablespace.
                                 </p>
                              </li>
                              <li>
                                 <p>A <code class="codeph">SYSAUX</code> tablespace is created, consisting of the operating system file <code class="codeph">/u01/app/oracle/oradata/newcdb/sysaux01.dbf</code> as specified in the <code class="codeph">SYSAUX DATAFILE</code> clause. See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=ADMIN-GUID-C70E0886-7D9A-4B0D-BA0B-DF71AB5A2154" target="_blank"><span><cite>Oracle Database Administratorâ€™s Guide</cite></span></a> for information about the <code class="codeph">SYSAUX</code> tablespace.
                                 </p>
                              </li>
                              <li>
                                 <p>The <code class="codeph">DEFAULT</code> <code class="codeph">TABLESPACE</code> clause creates and names a default permanent tablespace for this CDB.
                                 </p>
                              </li>
                              <li>
                                 <p>The <code class="codeph">DEFAULT TEMPORARY TABLESPACE</code> clause creates and names a default temporary tablespace for the root of this CDB. See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=ADMIN-GUID-AF2D7962-B165-423B-8FE3-29E7F30A2A3D" target="_blank"><span><cite>Oracle Database Administratorâ€™s Guide</cite></span></a> for information about creating a default temporary tablespace.
                                 </p>
                              </li>
                              <li>
                                 <p>The <code class="codeph">UNDO TABLESPACE</code> clause creates and names an undo tablespace that is used to store undo data for this CDB. In a CDB, an undo tablespace is required to manage the undo data, and the <code class="codeph">UNDO_MANAGEMENT</code> initialization parameter must be set to <code class="codeph">AUTO</code>. If you omit this parameter, then it defaults to <code class="codeph">AUTO</code>. See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=ADMIN-GUID-BC27AC63-6E76-4C34-A0FE-9C51FFB3487C" target="_blank"><span><cite>Oracle Database Administratorâ€™s Guide</cite></span></a> for information about creating an undo tablespace.
                                 </p>
                              </li>
                              <li>
                                 <p>Redo log files will not initially be archived, because the <code class="codeph">ARCHIVELOG</code> clause is not specified in this <code class="codeph">CREATE DATABASE</code> statement. This is customary during CDB creation. You can later use an <code class="codeph">ALTER DATABASE</code> statement to switch to <code class="codeph">ARCHIVELOG</code> mode. The initialization parameters in the initialization parameter file for <code class="codeph">newcdb</code> relating to archiving are <code class="codeph">LOG_ARCHIVE_DEST_1</code> and <code class="codeph">LOG_ARCHIVE_FORMAT</code>. See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=ADMIN-GUID-5EE4AC49-E1B2-41A2-BEE7-AA951EAAB2F3" target="_blank"><span><cite>Oracle Database Administratorâ€™s Guide</cite></span></a> for information about managing archived redo log files.
                                 </p>
                              </li>
                              <li>
                                 <p>The <code class="codeph">ENABLE PLUGGABLE DATABASE</code> clause creates a CDB with the root and the PDB seed.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">SEED</code> is required for the <code class="codeph">FILE_NAME_CONVERT</code> clause and the <span class="italic"><code class="codeph">tablespace_datafile</code></span> clauses.
                                 </p>
                              </li>
                              <li>
                                 <p>The <code class="codeph">FILE_NAME_CONVERT</code> clause generates file names for the PDB seed's files in the <code class="codeph">/u01/app/oracle/oradata/pdbseed</code> directory using file names in the <code class="codeph">/u01/app/oracle/oradata/newcdb</code> directory.
                                 </p>
                              </li>
                              <li>
                                 <p>The <code class="codeph">SYSTEM DATAFILES</code> clause specifies attributes of the PDB seed <code class="codeph">SYSTEM</code> tablespace data file(s) that differ from the root's.
                                 </p>
                              </li>
                              <li>
                                 <p>The <code class="codeph">SYSAUX DATAFILES</code> clause specifies attributes of the PDB seed <code class="codeph">SYSAUX</code> tablespace data file(s) that differ from the root's.
                                 </p>
                              </li>
                              <li>
                                 <p>The <code class="codeph">USER_DATA TABLESPACE</code> clause creates and names the PDB seed's tablespace for storing user data and database options such as Oracle XML DB. PDBs created using the PDB seed include this tablespace and its data file. The tablespace and data file specified in this clause are not used by the root.
                                 </p>
                              </li>
                              <li>
                                 <p>The <code class="codeph">LOCAL UNDO ON</code> clause sets the CDB undo mode to local, which means that each container in the CDB uses local undo.
                                 </p>
                                 <p>When the CDB is created in local undo mode, the PDB seed includes an undo tablespace so that any new PDB created from the PDB seed has an undo tablespace. When a PDB is created by plugging it in or cloning a remote PDB, and the source PDB was in shared undo mode, an undo tablespace is created for the PDB automatically the first time the PDB is opened.</p>
                              </li>
                           </ul>
                           <div class="infoboxnote" id="GUID-B6878799-CADD-4E84-BBEB-5C8E582B9010__GUID-C781A12D-DDF2-4952-A5FF-C3B26DD4CE38">
                              <p class="notep1">Note:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Ensure that all directories used in the <code class="codeph">CREATE DATABASE</code> statement exist. The <code class="codeph">CREATE DATABASE</code> statement does not create directories.
                                    </p>
                                 </li>
                                 <li>
                                    <p>If you are not using Oracle Managed Files, then every tablespace clause must include a <code class="codeph">DATAFILE</code> or <code class="codeph">TEMPFILE</code> clause.
                                    </p>
                                 </li>
                                 <li>
                                    <p>If CDB creation fails, then you can look at the alert log to determine the reason for the failure and to determine corrective actions. See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=ADMIN-GUID-D6512D97-FFC3-4BF0-BF50-1F77D150C922" target="_blank"><span><cite>Oracle Database Administratorâ€™s Guide</cite></span></a> for information about viewing the alert log. If you receive an error message that contains a process number, then examine the trace file for that process. Look for the trace file that contains the process number in the trace file name. See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=ADMIN-GUID-34137402-19A6-4134-93AE-D6DD02242F61" target="_blank"><span><cite>Oracle Database Administratorâ€™s Guide</cite></span></a> for more information.
                                    </p>
                                 </li>
                                 <li>
                                    <p>To resubmit the <code class="codeph">CREATE DATABASE</code> statement after a failure, you must first shut down the instance and delete any files created by the previous <code class="codeph">CREATE DATABASE</code> statement.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="creating-and-configuring-a-cdb.html#GUID-F20BEFA4-3F40-421E-B5BB-EE6D9808E3F0" title="These examples create a CDB named newcdb.">Creating a CDB with the CREATE DATABASE Statement: Examples</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-158375D0-E084-423B-BD91-0C84FB50BF2F" name="GUID-158375D0-E084-423B-BD91-0C84FB50BF2F"></a><h5 id="MULTI-GUID-158375D0-E084-423B-BD91-0C84FB50BF2F" class="sect5"><span class="enumeration_section">4.3.4.2 </span>Creating a CDB Using Oracle Managed Files: Example
                     </h5>
                     <div>
                        <p>This example illustrates creating a CDB with Oracle Managed Files, which enables you to use a much simpler <code class="codeph">CREATE DATABASE</code> statement.
                        </p>
                        <div class="section">
                           <p>To use Oracle Managed Files, the initialization parameter <code class="codeph">DB_CREATE_FILE_DEST</code> must be set. This parameter defines the base directory for the various CDB files that the CDB creates and automatically names.
                           </p>
                           <p>The following statement is an example of setting this parameter in the initialization parameter file:</p><pre class="pre codeblock"><code>DB_CREATE_FILE_DEST='/u01/app/oracle/oradata'
</code></pre><p>This example sets the parameter Oracle ASM storage:</p><pre class="pre codeblock"><code>DB_CREATE_FILE_DEST = +data
</code></pre><p>This example includes the <code class="codeph">ENABLE PLUGGABLE DATABASE</code> clause to create a CDB with the root and the PDB seed. This example does not include the <code class="codeph">SEED FILE_NAME_CONVERT</code> clause because Oracle Managed Files determines the names and locations of the PDB seed's files. However, this example does include <span class="italic"><code class="codeph">tablespace_datafile</code></span> clauses that specify attributes of the PDB seed data files for the <code class="codeph">SYSTEM</code> and <code class="codeph">SYSAUX</code> tablespaces that differ from the root data files.
                           </p>
                           <p>With Oracle Managed Files and the following <code class="codeph">CREATE DATABASE</code> statement, the CDB creates the <code class="codeph">SYSTEM</code> and <code class="codeph">SYSAUX</code> tablespaces, creates the additional tablespaces specified in the statement, and chooses default sizes and properties for all data files, control files, and redo log files. Note that these properties and the other default CDB properties set by this method might not be suitable for your production environment, so it is recommended that you examine the resulting configuration and modify it if necessary.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="pre codeblock"><code>CREATE DATABASE newcdb
USER SYS IDENTIFIED BY <span class="italic">sys_password</span>
USER SYSTEM IDENTIFIED BY <span class="italic">system_password</span>
EXTENT MANAGEMENT LOCAL
DEFAULT TABLESPACE users
DEFAULT TEMPORARY TABLESPACE temp
UNDO TABLESPACE undotbs1
<span class="bold">ENABLE PLUGGABLE DATABASE</span>
   <span class="bold">SEED</span>
   <span class="bold">SYSTEM DATAFILES SIZE 125M AUTOEXTEND ON NEXT 10M MAXSIZE UNLIMITED</span>
   <span class="bold">SYSAUX DATAFILES SIZE 100M;</span>
</code></pre><p>A CDB is created with the following characteristics:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The CDB is named <code class="codeph">newcdb</code>. Its global database name is <code class="codeph">newcdb.us.example.com</code>, where the domain portion (<code class="codeph">us.example.com</code>) is taken from the initialization parameter file. See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=ADMIN-GUID-9698EA9B-013C-40AC-8CFB-12171A4B4974" target="_blank"><span><cite>Oracle Database Administratorâ€™s Guide</cite></span></a> for information about determining the global database name.
                                 </p>
                              </li>
                              <li>
                                 <p>The passwords for user accounts <code class="codeph">SYS</code> and <code class="codeph">SYSTEM</code> are set to the values that you specified. The passwords are case-sensitive. The two clauses that specify the passwords for <code class="codeph">SYS</code> and <code class="codeph">SYSTEM</code> are not mandatory in this release of Oracle Database. However, if you specify either clause, then you must specify both clauses. For further information about the use of these clauses, see <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=ADMIN-GUID-55208EEE-5B31-4B7F-81A4-AF7AFE8630BE" target="_blank"><span><cite>Oracle Database Administratorâ€™s Guide</cite></span></a> for information about specifying passwords for users <code class="codeph">SYS</code> and <code class="codeph">SYSTEM</code>.
                                 </p>
                              </li>
                              <li>
                                 <p>The <code class="codeph">DEFAULT TABLESPACE</code> clause creates and names a default permanent tablespace for this CDB.
                                 </p>
                              </li>
                              <li>
                                 <p>The <code class="codeph">DEFAULT TEMPORARY TABLESPACE</code> clause creates and names a default temporary tablespace for the root of this CDB. See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=ADMIN-GUID-AF2D7962-B165-423B-8FE3-29E7F30A2A3D" target="_blank"><span><cite>Oracle Database Administratorâ€™s Guide</cite></span></a> for information about creating a default temporary tablespace.
                                 </p>
                              </li>
                              <li>
                                 <p>The <code class="codeph">UNDO TABLESPACE</code> clause creates and names an undo tablespace that is used to store undo data for this CDB. In a CDB, an undo tablespace is required to manage the undo data, and the <code class="codeph">UNDO_MANAGEMENT</code> initialization parameter must be set to <code class="codeph">AUTO</code>. If you omit this parameter, then it defaults to <code class="codeph">AUTO</code>. See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=ADMIN-GUID-BC27AC63-6E76-4C34-A0FE-9C51FFB3487C" target="_blank"><span><cite>Oracle Database Administratorâ€™s Guide</cite></span></a> for information about creating an undo tablespace.
                                 </p>
                              </li>
                              <li>
                                 <p>Redo log files will not initially be archived, because the <code class="codeph">ARCHIVELOG</code> clause is not specified in this <code class="codeph">CREATE DATABASE</code> statement. This is customary during CDB creation. You can later use an <code class="codeph">ALTER DATABASE</code> statement to switch to <code class="codeph">ARCHIVELOG</code> mode. The initialization parameters in the initialization parameter file for <code class="codeph">newcdb</code> relating to archiving are <code class="codeph">LOG_ARCHIVE_DEST_1</code> and <code class="codeph">LOG_ARCHIVE_FORMAT</code>. See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=ADMIN-GUID-5EE4AC49-E1B2-41A2-BEE7-AA951EAAB2F3" target="_blank"><span><cite>Oracle Database Administratorâ€™s Guide</cite></span></a> for information about managing archived redo log files.
                                 </p>
                              </li>
                              <li>
                                 <p>The <code class="codeph">ENABLE PLUGGABLE DATABASE</code> clause creates a CDB with the root and the PDB seed.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">SEED</code> is required for the <span class="italic"><code class="codeph">tablespace_datafile</code></span> clauses.
                                 </p>
                              </li>
                              <li>
                                 <p>The <code class="codeph">SYSTEM DATAFILES</code> clause specifies attributes of the PDB seed's <code class="codeph">SYSTEM</code> tablespace data file(s) that differ from the root's.
                                 </p>
                              </li>
                              <li>
                                 <p>The <code class="codeph">SYSAUX DATAFILES</code> clause specifies attributes of the PDB seed's <code class="codeph">SYSAUX</code> tablespace data file(s) that differ from the root's.
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="creating-and-configuring-a-cdb.html#GUID-F20BEFA4-3F40-421E-B5BB-EE6D9808E3F0" title="These examples create a CDB named newcdb.">Creating a CDB with the CREATE DATABASE Statement: Examples</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div><a id="ADMIN14210"></a><div class="props_rev_3"><a id="GUID-21DEC1B3-471C-4220-A0F6-6780E6DC6009" name="GUID-21DEC1B3-471C-4220-A0F6-6780E6DC6009"></a><h3 id="MULTI-GUID-21DEC1B3-471C-4220-A0F6-6780E6DC6009" class="sect3"><span class="enumeration_section">4.4 </span>Configuring EM Express for a CDB
               </h3>
               <div>
                  <p>For a CDB, you can configure Oracle Enterprise Manager Database Express (EM Express) for the root and for each PDB by setting a global HTTPS port, or you can set a different port for every container in the CDB. </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-21DEC1B3-471C-4220-A0F6-6780E6DC6009__GUID-2060CDD6-164E-42BB-BBD7-74247FC03A19">To configure EM Express for a CDB:</p>
                     <p>You can set a global port, which enables you to use EM Express to connect to all PDBs in the CDB using the HTTP or HTTPS port for the CDB. Alternatively, you can set a different HTTP or HTTPS port for every container in a CDB.</p>
                     <ol>
                        <li id="GUID-21DEC1B3-471C-4220-A0F6-6780E6DC6009__BABBBIGC">
                           <p>In SQL*Plus, access a container in a CDB. </p>
                           <p>The user must have common <code class="codeph">SYSDBA</code> administrative privilege, and you must exercise this privilege using <code class="codeph">AS SYSDBA</code> at connect time. The container can be the root or a PDB.
                           </p>
                           <p>See <span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" title="You can use SQL*Plus to access the root or a PDB in a CDB.">About Container Access in a CDB</a>"</span>.
                           </p>
                        </li>
                        <li id="GUID-21DEC1B3-471C-4220-A0F6-6780E6DC6009__BABJJDIG">
                           <p>Set the port in one of the following ways:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>To set the global port, connect to the <code class="codeph">CDB$ROOT</code>, and issue the following SQL statement to configure the global port for the CDB:
                                 </p><pre class="pre codeblock"><code>exec DBMS_XDB_CONFIG.SETGLOBALPORTENABLED(TRUE);</code></pre></li>
                              <li>
                                 <p>To set the HTTP port for the current container, run the following procedure:</p><pre class="pre codeblock"><code>exec DBMS_XDB_CONFIG.SETHTTPPORT(<span class="italic">http_port_number</span>);
</code></pre><p>Replace <span class="italic"><code class="codeph">http_port_number</code></span> with the appropriate HTTP port number.
                                 </p>
                              </li>
                              <li>
                                 <p>To set the HTTPS port for the current container, run the following procedure:</p><pre class="pre codeblock"><code>exec DBMS_XDB_CONFIG.SETHTTPSPORT(<span class="italic">https_port_number</span>);
</code></pre><p>Replace <span class="italic"><code class="codeph">https_port_number</code></span> with the appropriate HTTPS port number.
                                 </p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>Access EM Express in one of the following ways:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>To use the global port, enter the EM Express URL provided by Database Configuration Assistant (DBCA) when it configured the CDB that includes the PDB. When the EM Express login screen appears, specify your administrator credentials, and enter the name of the PDB that you want to connect to in the <span class="uicontrol bold">Container Name</span> field.
                                 </p>
                              </li>
                              <li>
                                 <p>The URL for the HTTP port for a container:</p><pre class="pre codeblock"><code>http://<span class="italic">database_hostname</span>:<span class="italic">http_port_number</span>/em/
</code></pre><p>Replace <span class="italic"><code class="codeph">database_hostname</code></span> with the host name of the computer on which the database instance is running, and replace <span class="italic"><code class="codeph">http_port_number</code></span> with the appropriate HTTP port number.
                                 </p>
                              </li>
                              <li>
                                 <p>The URL for the HTTPS port for a container:</p><pre class="pre codeblock"><code>https://<span class="italic">database_hostname</span>:<span class="italic">https_port_number</span>/em/
</code></pre><p>Replace <span class="italic"><code class="codeph">database_hostname</code></span> with the host name of the computer on which the database instance is running, and replace <span class="italic"><code class="codeph">https_port_number</code></span> with the appropriate HTTPS port number.
                                 </p>
                              </li>
                           </ul>
                           <p>When connected to the root, EM Express displays data and enables actions that apply to the entire CDB. When connected to a PDB, EM Express displays data and enables actions that apply to the PDB only.</p>
                           <div class="infoboxnote" id="GUID-21DEC1B3-471C-4220-A0F6-6780E6DC6009__GUID-5FC112CA-FCB5-4698-A793-D366ABD71AB6">
                              <p class="notep1">Note:</p>
                              <p>If the listener is not configured on port 1521, then you must manually configure the port for EM Express. See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=ADMQS032" target="_blank"><span><cite>Oracle Database 2 Day DBA</cite></span></a> for instructions.
                              </p>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-21DEC1B3-471C-4220-A0F6-6780E6DC6009__GUID-F8D277FB-27CC-4451-B80B-6A08CEEE962A">
                     <p class="notep1">See Also:</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=ADMQS003" target="_blank"><span><cite>Oracle Database 2 Day DBA</cite></span></a> for more information about EM Express
                     </p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="creating-and-configuring-a-cdb.html#GUID-77D4BBA7-2A64-46D9-A2B8-C56060772215" title="Creating and configuring a &nbsp;multitenant container database (CDB) includes tasks such as planning, creating the CDB, and optionally configuring EM Express.">Creating and Configuring a CDB</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADMIN13750"></a><a id="ADMIN13751"></a><a id="ADMIN13547"></a><div class="props_rev_3"><a id="GUID-0FCC4914-8FFF-41AD-BA5E-74698931F078" name="GUID-0FCC4914-8FFF-41AD-BA5E-74698931F078"></a><h3 id="MULTI-GUID-0FCC4914-8FFF-41AD-BA5E-74698931F078" class="sect3"><span class="enumeration_section">4.5 </span>After Creating a CDB
               </h3>
               <div>
                  <p>After creation, a CDB consists of the root and the PDB seed.</p>
                  <p>The root contains system-supplied metadata and common users that can administer the PDBs. The PDB seed is a template that you can use to create new PDBs. The following graphic shows a newly created CDB.</p>
                  <div class="figure" id="GUID-0FCC4914-8FFF-41AD-BA5E-74698931F078__BABEJEAH">
                     <p class="titleinfigure">Figure 4-1 A Newly Created CDB</p><img src="img/admin0951.png" width="480" alt="Description of Figure 4-1 follows" title="Description of Figure 4-1 follows" longdesc="img_text/admin0951.html"><br><a href="img_text/admin0951.html">Description of "Figure 4-1 A Newly Created CDB"</a></div>
                  <!-- class="figure" -->
                  <p>In a CDB, the root contains minimal user data or no user data. User data resides in the PDBs. Therefore, after creating a CDB, one of the first tasks is to add the PDBs that will contain the user data.</p>
                  <p>The following graphic shows a CDB with PDBs.</p>
                  <div class="figure" id="GUID-0FCC4914-8FFF-41AD-BA5E-74698931F078__BABFJDBG">
                     <p class="titleinfigure">Figure 4-2 CDB with PDBs</p><img src="img/admin094.png" width="473" alt="Description of Figure 4-2 follows" title="Description of Figure 4-2 follows" longdesc="img_text/admin094.html"><br><a href="img_text/admin094.html">Description of "Figure 4-2 CDB with PDBs"</a></div>
                  <!-- class="figure" -->
                  <p>You have the option of creating one or more application containers. An application container consists of an application root and application PDBs, and it stores data for one or more applications. An application container can store application common objects, which contain user data that can be shared by the application PDBs in the application container. It can also contain an application seed for fast creation of application PDBs in an application container.</p>
                  <div class="figure" id="GUID-0FCC4914-8FFF-41AD-BA5E-74698931F078__GUID-0C985BE3-0C58-4AFA-BEFA-6C9BAD75AFB5">
                     <p class="titleinfigure">Figure 4-3 Application Containers in a CDB</p><img src="img/admin112.png" alt="Description of Figure 4-3 follows" title="Description of Figure 4-3 follows" longdesc="img_text/admin112.html"><br><a href="img_text/admin112.html">Description of "Figure 4-3 Application Containers in a CDB"</a></div>
                  <!-- class="figure" -->
                  <p>When you have added the PDBs and application containers to the CDB, the physical structure of a CDB is very similar to the physical structure of a non-CDB. A CDB contains the following files:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>One control file</p>
                     </li>
                     <li>
                        <p>One active online redo log for a single-instance CDB, or one active online redo log for each instance of an Oracle RAC CDB</p>
                     </li>
                     <li>
                        <p>Sets of temp files</p>
                        <p>There is one default temporary tablespace for the root of the CDB and one for each PDB, application root, and application PDB.</p>
                     </li>
                     <li>
                        <p>Sets of system data files</p>
                        <p>The primary physical difference between a CDB and a non-CDB is in the data files. A non-CDB has only one set of system data files. In contrast, a CDB includes one set of system data files for each container in the CDB, including a set of system data files for each PDB, application root, and application PDB. In addition, a CDB has one set of user-created data files for each container. If the CDB is in local undo mode, then each container also has its own undo tablespace and associated data files.</p>
                     </li>
                     <li>
                        <p>Sets of user-created data files</p>
                        <p>Each PDB has its own set of non-system data files. These data files contain the user-defined schemas and database objects for the PDB.</p>
                     </li>
                  </ul>
                  <p>For backup and recovery of a CDB, Recovery Manager (RMAN) is recommended. PDB point-in-time recovery (PDB PITR) must be performed with RMAN. By default, RMAN turns on control file autobackup for a CDB. It is strongly recommended that control file autobackup is enabled for a CDB, to ensure that PDB PITR can undo data file additions or deletions.</p>
                  <p>
                     <div class="video-box">
                        <div id="6411" class="video-container"></div>
                     </div>
                  </p>
                  <p>Because the physical structure of a CDB and a non-CDB are similar, most management tasks are the same for a CDB and a non-CDB. However, some administrative tasks are specific to CDBs. The following chapters describe these tasks:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><span class="q">"<a href="creating-pdbs.html#GUID-9A250D93-5B3B-4643-BE85-F32CC7B0E413" title="You can create PDBs, application containers, and application seeds using a variety of techniques.">Creating and Removing PDBs and Application Containers</a>"</span></p>
                        <p>This chapter documents the following tasks:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Creating a PDB using the PDB seed</p>
                           </li>
                           <li>
                              <p>Creating a PDB by cloning an existing PDB or Non-CDB</p>
                           </li>
                           <li>
                              <p>Creating a PDB by relocating it </p>
                           </li>
                           <li>
                              <p>Creating a PDB as a proxy PDB</p>
                           </li>
                           <li>
                              <p>Plugging in a PDB</p>
                           </li>
                           <li>
                              <p>Unplugging a PDB</p>
                           </li>
                           <li>
                              <p>Dropping a PDB</p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p><span class="q">"<a href="creating-removing-application-containers-seeds-with-sql-plus.html#GUID-E2B95068-D16D-438D-9A0B-974540988990" title="You can create application containers and application seeds in several different ways. You can also remove application containers from a CDB, and you can remove application seeds from application containers.">Creating and Removing Application Containers and Seeds</a>"</span></p>
                        <p>This chapter documents the following tasks:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Creating application containers</p>
                           </li>
                           <li>
                              <p>Creating application seeds</p>
                           </li>
                           <li>
                              <p>Unplugging application containers</p>
                           </li>
                           <li>
                              <p>Unplugging application seeds</p>
                           </li>
                           <li>
                              <p>Dropping application containers</p>
                           </li>
                           <li>
                              <p>Dropping application seeds</p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p><span class="q">"<a href="administering-a-cdb-with-sql-plus.html#GUID-2E5025EE-BED3-45A4-9EAA-B05C8DA66F97" title="Administering a multitenant container database (CDB) includes tasks such as accessing a container, modifying a CDB, executing DDL statements, and running Oracle-supplied SQL scripts.">Administering a CDB</a>"</span></p>
                        <p>This chapter documents the following tasks:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Connecting to a container</p>
                           </li>
                           <li>
                              <p>Switching into a container</p>
                           </li>
                           <li>
                              <p>Modifying a CDB</p>
                           </li>
                           <li>
                              <p>Modifying the root</p>
                           </li>
                           <li>
                              <p>Changing the open mode of a PDB</p>
                           </li>
                           <li>
                              <p>Executing DDL statements in a CDB</p>
                           </li>
                           <li>
                              <p>Shutting down the CDB instance</p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p><span class="q">"<a href="administering-pdbs-with-sql-plus.html#GUID-702231AB-ABDA-42F4-918C-4539BF8135D6" title="Administering PDBs includes tasks such as connecting to a PDB, modifying a PDB, and managing services associated with PDBs.">Administering PDBs</a>"</span></p>
                        <p>This chapter documents the following tasks:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Connecting to a PDB</p>
                           </li>
                           <li>
                              <p>Modifying a PDB</p>
                           </li>
                           <li>
                              <p>Managing services associated with PDBs</p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p><span class="q">"<a href="administering-application-containers-with-sql-plus.html#GUID-1AFD0268-6A2B-4F84-BB4D-4D36976DE53B" title="You can administer application containers, including application roots and application PDBs. You can also administer the applications installed in application containers.">Administering Application Containers</a>"</span></p>
                        <p>This chapter documents the following tasks:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Managing applications in an application container, including installing, upgrading, and patching applications</p>
                           </li>
                           <li>
                              <p>Managing application common objects</p>
                           </li>
                           <li>
                              <p>Issuing DML statements on containers in an application container</p>
                           </li>
                           <li>
                              <p>Partitioning by PDB with container maps</p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p><span class="q">"<a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-208C0C35-D105-443B-B788-381F090B1D11" title="You can view information about CDBs and PDBs using SQL*Plus or SQL Developer.">Monitoring CDBs and PDBs</a>"</span></p>
                        <p>This chapter documents the following tasks:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Querying views for monitoring a CDB and its PDBs</p>
                           </li>
                           <li>
                              <p>Running sample queries that provide information about a CDB and its PDBs</p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p><span class="q">"<a href="using-oracle-resource-manager-for-pdbs-with-sql-plus.html#GUID-2708E76D-E18B-4586-920A-BD4B904AE14D" title="Use PL/SQL package procedures to administer Oracle Resource Manager (Resource Manager) to allocate resources to pluggable databases (PDBs) in a multitenant container database (CDB).">Using Oracle Resource Manager for PDBs</a>"</span></p>
                        <p>This chapter documents the following tasks:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Creating resource plans in a CDB</p>
                           </li>
                           <li>
                              <p>Managing resource plans in a CDB</p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p><span class="q">"<a href="using-oracle-scheduler-with-a-cdb.html#GUID-5BD1ACC9-D10D-4573-860F-5F8A65AE8554" title="You can use Oracle Scheduler to schedule jobs in a multitenant container database (CDB).">Using Oracle Scheduler with a CDB</a>"</span></p>
                        <p>This chapter documents the following topics:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">DBMS_SCHEDULER</code> invocations in a CDB
                              </p>
                           </li>
                           <li>
                              <p>Job coordinator and slave processes in a CDB</p>
                           </li>
                           <li>
                              <p>Using <code class="codeph">DBMS_JOB</code></p>
                           </li>
                           <li>
                              <p>Processes to close a PDB</p>
                           </li>
                           <li>
                              <p>New and changed views</p>
                           </li>
                        </ul>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-0FCC4914-8FFF-41AD-BA5E-74698931F078__GUID-615778D9-4615-4FAF-A728-851E230921F1">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="introduction-to-the-multitenant-architecture.html#CNCPT89247" target="_blank"><span><cite>Oracle Database Concepts</cite></span></a> for a multitenant architecture documentation roadmap
                           </p>
                        </li>
                        <li>
                           <p><a href="../bradv/rman-performing-flashback-dbpitr.html#BRADV640" target="_blank"><span><cite>Oracle Database Backup and Recovery Userâ€™s Guide</cite></span></a> for information about RMAN
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="creating-and-configuring-a-cdb.html#GUID-77D4BBA7-2A64-46D9-A2B8-C56060772215" title="Creating and configuring a &nbsp;multitenant container database (CDB) includes tasks such as planning, creating the CDB, and optionally configuring EM Express.">Creating and Configuring a CDB</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html><html id='01916.managing-oracle-cluster-registry-and-voting-files.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Oracle Clusterware includes two important components that manage configuration and node membership: Oracle Cluster Registry (OCR), which also includes the local component Oracle Local Registry (OLR), and voting files.">
      <meta name="description" content="Oracle Clusterware includes two important components that manage configuration and node membership: Oracle Cluster Registry (OCR), which also includes the local component Oracle Local Registry (OLR), and voting files.">
      <title>Managing Oracle Cluster Registry and Voting Files</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Clusterware Administration and Deployment Guide">
      <meta property="og:description" content="Oracle Clusterware includes two important components that manage configuration and node membership: Oracle Cluster Registry (OCR), which also includes the local component Oracle Local Registry (OLR), and voting files.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Clusterware Administration and Deployment Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="clusterware-administration-and-deployment-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-04-24T07:05:38-07:00">
      <meta name="dcterms.title" content="Clusterware Administration and Deployment Guide">
      <meta name="dcterms.dateCopyrighted" content="2007, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E95727-05">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="rapid-home-provisioning.html" title="Previous" type="text/html">
      <link rel="next" href="adding-and-deleting-cluster-nodes.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="CWADD">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="rapid-home-provisioning.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="adding-and-deleting-cluster-nodes.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Clusterware Administration and Deployment Guide</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Managing Oracle Cluster Registry and Voting Files</li>
            </ol>
            <a id="GUID-70E524E1-0FAD-4962-9B9F-0691EAEE7A9F" name="GUID-70E524E1-0FAD-4962-9B9F-0691EAEE7A9F"></a><a id="CWADD92368"></a>
            
            <h2 id="CWADD-GUID-70E524E1-0FAD-4962-9B9F-0691EAEE7A9F" class="sect2"><span class="enumeration_chapter">6 </span>Managing Oracle Cluster Registry and Voting Files
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Oracle Clusterware includes two important components that manage configuration and node membership: Oracle Cluster Registry (OCR), which also includes the local component Oracle Local Registry (OLR), and voting files.</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p>OCR stores Oracle Clusterware and Oracle RAC database configuration information</p>
                  </li>
                  <li>
                     <p>OLR resides on every node in the cluster and manages Oracle Clusterware configuration information for each particular node</p>
                  </li>
                  <li>
                     <p>Voting files store information about node membership. Each voting file must be accessible by all nodes in the cluster for nodes to be members of the cluster</p>
                  </li>
               </ul>
               <p></p>
               <div class="infoboxnote" id="GUID-70E524E1-0FAD-4962-9B9F-0691EAEE7A9F__GUID-966156EE-A381-46C5-A60F-9C911005ACCF">
                  <p class="notep1">Notes:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Oracle Clusterware 12<span class="italic">c</span> does not support the use of raw or block devices. To upgrade to Oracle Clusterware 12<span class="italic">c</span> from a previous Oracle Clusterware release on which you were using raw or block devices, you must migrate OCR and voting files to Oracle Automatic Storage Management (Oracle ASM) or a shared file system before you upgrade.
                        </p>
                     </li>
                     <li>
                        <p>You can store OCR and voting files on Oracle ASM or a shared file system on Standalone Clusters. </p>
                        <p>In Oracle Database 12c Release 2 (12.2), the placement of  OCR and voting disk files directly on a shared file system was desupported. Starting with Oracle Database 19c (19.3), that desupport is rescinded for Standalone Clusters. For Oracle Domain Services Clusters, you must continue to place OCR and voting disk files in disk groups managed by Oracle ASM.</p>
                     </li>
                  </ul>
               </div>
               <p>Oracle recommends that you configure multiple voting files during Oracle Clusterware installation to improve availability. If you choose to put the voting files into an Oracle ASM disk group, then Oracle ASM ensures the configuration of multiple voting files if you use a normal or high redundancy disk group. If you choose to store the voting files on a shared file system, then select the option to configure multiple voting files, in which case you will have to specify three different file systems based on different disks.</p>
               <p>If necessary, you can dynamically add or replace voting files after you complete the Oracle Clusterware installation process without stopping the cluster.</p>
               <p>This chapter includes the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="managing-oracle-cluster-registry-and-voting-files.html#GUID-20101C89-B87C-49C9-BA63-634376EDB62E" title="Use OCRCONFIG, OCRDUMP, and OCRCHECK to manage OCR and the Oracle Local Registry (OLR).">Managing Oracle Cluster Registry and Oracle Local Registry</a></p>
                  </li>
                  <li>
                     <p><a href="managing-oracle-cluster-registry-and-voting-files.html#GUID-00137A43-61A5-446B-BFEA-D7EFDA535E81" title="If you choose to store your voting files in Oracle ASM, then Oracle ASM stores all the voting files for the cluster in the disk group you choose.Oracle Clusterware automatically backs up voting file data in OCR as part of any configuration change and automatically restores the data to any voting file you add.">Managing Voting Files</a></p>
                  </li>
               </ul>
            </div><a id="CWADD70700"></a><div class="props_rev_3"><a id="GUID-20101C89-B87C-49C9-BA63-634376EDB62E" name="GUID-20101C89-B87C-49C9-BA63-634376EDB62E"></a><h3 id="CWADD-GUID-20101C89-B87C-49C9-BA63-634376EDB62E" class="sect3">Managing Oracle Cluster Registry and Oracle Local Registry</h3>
               <div>
                  <p>Use OCRCONFIG, OCRDUMP, and OCRCHECK to manage OCR and the Oracle Local Registry (OLR).</p>
                  <p>OCR contains information about all Oracle resources in the cluster.</p>
                  <p>OLR is a registry similar to OCR located on each node in a cluster, 	but contains information specific to each node. It contains manageability information about Oracle Clusterware, including dependencies between various services. Oracle High Availability Services uses this information. OLR is located on local storage on each node in a cluster. Its default location is in the path <code class="codeph"><span class="variable" translate="no">Grid_home</span>/cdata<span class="variable" translate="no">host_name</span>.olr</code>, where <code class="codeph"><span class="variable" translate="no">Grid_home</span></code> is the Oracle Grid Infrastructure home, and <code class="codeph"><span class="variable" translate="no">host_name</span></code> is the host name of the node.
                  </p>
                  <p>Administering OCR is decribed in the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="managing-oracle-cluster-registry-and-voting-files.html#GUID-94CE3710-770D-45BB-B67B-0A2BC6DBE3AC" title="With the Oracle Clusterware storage residing in an Oracle ASM disk group, you can manage both database and clusterware storage using Oracle Enterprise Manager.">Migrating Oracle Cluster Registry to Oracle Automatic Storage Management</a></p>
                     </li>
                     <li>
                        <p><a href="managing-oracle-cluster-registry-and-voting-files.html#GUID-BFBBF4EC-5227-4413-98E0-93B62AA44034" title="Manage OCR locations using OCRCONFIG.">Adding_ Replacing_ Repairing_ and Removing Oracle Cluster Registry Locations</a></p>
                     </li>
                     <li>
                        <p><a href="managing-oracle-cluster-registry-and-voting-files.html#GUID-8554ACE4-44DF-4DB5-A939-1DC6D62BAE60">Backing Up Oracle Cluster Registry</a></p>
                     </li>
                     <li>
                        <p><a href="managing-oracle-cluster-registry-and-voting-files.html#GUID-648BB199-AFB9-416A-8438-E0331C255E78" title="A procedure for OCR restoration for your platform.">Restoring Oracle Cluster Registry</a></p>
                     </li>
                     <li>
                        <p><a href="managing-oracle-cluster-registry-and-voting-files.html#GUID-D3B9559B-054A-4574-854E-9865FEDF5EDD" title="Use the OCRDUMP and OCRCHECK utilities to diagnose OCR problems.">Diagnosing Oracle Cluster Registry Problems</a></p>
                     </li>
                     <li>
                        <p><a href="managing-oracle-cluster-registry-and-voting-files.html#GUID-7B87F4D6-4146-4EB0-BD2F-17AED8C5F72E" title="Use this procedure to import OCR on Linux or UNIX systems.Use this procedure to import OCR on Windows systems.">Administering Oracle Cluster Registry with Export and Import Commands</a></p>
                     </li>
                     <li>
                        <p><a href="managing-oracle-cluster-registry-and-voting-files.html#GUID-4DEA42E9-8E97-474B-AAD8-E5E626FB8B07">Oracle Local Registry</a></p>
                     </li>
                     <li>
                        <p><a href="managing-oracle-cluster-registry-and-voting-files.html#GUID-1D3FDBE6-03ED-49B9-A181-2463C59331DA">Upgrading and Downgrading the Oracle Cluster Registry Configuration</a></p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="oracle-cluster-registry-utility-reference.html#GUID-D881BC9C-74F0-44A5-91EC-0341C1C81ED4" title="Use the ocrconfig command to manage OCR. Using this utility you can import, export, add, delete, restore, overwrite, backup, repair, replace, move, upgrade, or downgrade OCR.">About OCRCONFIG</a></li>
                        <li><a href="oracle-cluster-registry-utility-reference.html#GUID-AAEF4603-0943-434D-8152-5A71BD6976B1">Troubleshooting Oracle Cluster Registry</a></li>
                     </ul>
                  </div>
               </div><a id="CWADD91099"></a><div class="props_rev_3"><a id="GUID-94CE3710-770D-45BB-B67B-0A2BC6DBE3AC" name="GUID-94CE3710-770D-45BB-B67B-0A2BC6DBE3AC"></a><h4 id="CWADD-GUID-94CE3710-770D-45BB-B67B-0A2BC6DBE3AC" class="sect4">Migrating Oracle Cluster Registry to Oracle Automatic Storage Management</h4>
                  <div>
                     <p>With the Oracle Clusterware storage residing in an Oracle ASM disk group, you can manage both database and clusterware storage using Oracle Enterprise Manager.</p>
                     <div class="section">
                        <p>To improve Oracle Clusterware storage manageability, OCR is configured, by default, to use Oracle ASM in Oracle Database 12<span class="italic">c</span>. However, if you upgrade from a previous version of Oracle Clusterware, you can migrate OCR to reside on Oracle ASM, and take advantage of the improvements in managing Oracle Clusterware storage.
                        </p>
                        <div class="infoboxnote" id="GUID-94CE3710-770D-45BB-B67B-0A2BC6DBE3AC__GUID-66A5C727-16DC-4472-AB00-6E292BA62DC5">
                           <p class="notep1">Note:</p>
                           <p>If you upgrade from a previous version of Oracle Clusterware to Oracle Clusterware 12<span class="italic">c</span> and you want to store OCR in an Oracle ASM disk group, then you must set the <span class="bold">ASM Compatibility</span> compatibility attribute to <code class="codeph">11.2.0.2</code>, or later.
                           </p>
                        </div>
                        <p>To migrate OCR to Oracle ASM using OCRCONFIG:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Ensure the upgrade to Oracle Clusterware 12<span class="italic">c</span> is complete. Run the following command to verify the current running version:</span><div><pre class="pre codeblock"><code>$ crsctl query crs activeversion</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Use the Oracle ASM Configuration Assistant (ASMCA) to configure and start Oracle ASM on all nodes in the cluster.</span><div></div>
                        </li>
                        <li class="stepexpand"><span>Use ASMCA to create an Oracle ASM disk group that is at least the same size of the existing OCR and has at least normal redundancy.</span><div>
                              <div class="infoboxnote" id="GUID-94CE3710-770D-45BB-B67B-0A2BC6DBE3AC__GUID-F34C5E10-56DE-40B5-BBE1-C8BAA9F54E0E">
                                 <p class="notep1">Note:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>If OCR is stored in an Oracle ASM disk group with external redundancy, then Oracle recommends that you add another OCR location to another disk group to avoid the loss of OCR, if a disk fails in the disk group.</p>
                                       <p>Oracle does not support storing OCR on different storage types simultaneously, such as storing OCR on both Oracle ASM and a shared file system, except during a migration.</p>
                                    </li>
                                    <li>
                                       <p>If an Oracle ASM instance fails on any node, then OCR becomes unavailable on that particular node.</p>
                                       <p>If the CRSD process running on the node affected by the Oracle ASM instance failure is the <a href="glossary.html#GUID-20E48152-87E0-4668-B8E6-3B0CF469B544"><span class="xrefglossterm">OCR writer</span></a>, the majority of the OCR locations are stored in Oracle ASM, and you attempt I/O on OCR during the time the Oracle ASM instance is down on this node, then CRSD stops and becomes inoperable. Cluster management is now affected on this particular node.
                                       </p>
                                       <p>Under no circumstances will the failure of one Oracle ASM instance on one node affect the whole cluster.</p>
                                    </li>
                                    <li>
                                       <p>Ensure that Oracle ASM disk groups that you create are mounted on all of the nodes in the cluster.</p>
                                    </li>
                                 </ul>
                              </div>
                           </div>
                        </li>
                        <li class="stepexpand"><span>To add OCR to an Oracle ASM disk group, ensure that the <a href="glossary.html#GUID-C1F07478-A146-48E0-94E2-A93F6ED7B34A"><span class="xrefglossterm">Oracle Clusterware stack</span></a> is running and run the following command as <code class="codeph">root</code>:</span><div><pre class="pre codeblock"><code># ocrconfig -add +<span class="variable" translate="no">new_disk_group</span></code></pre><p>You can run this command more than once if you add multiple OCR locations. You can have up to five OCR locations. However, each successive run must point to a different disk group. </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>To remove storage configurations no longer in use, run the following command as <code class="codeph">root</code>:</span><div><pre class="pre codeblock"><code># ocrconfig -delete <span class="variable" translate="no">old_storage_location</span></code></pre><p>Run this command for every configured OCR.</p>
                           </div>
                        </li>
                     </ol>
                     <div class="section">
                        <p>The following example shows how to migrate two OCRs to Oracle ASM using OCRCONFIG.</p><pre class="pre codeblock"><code># ocrconfig -add +<span class="variable" translate="no">new_disk_group</span>
# ocrconfig -delete /ocrdata/ocr_1
# ocrconfig -delete /ocrdata/ocr_2</code></pre><div class="infoboxnote" id="GUID-94CE3710-770D-45BB-B67B-0A2BC6DBE3AC__GUID-88CE998C-0FE6-4468-B3A3-E829ABAC7929">
                           <p class="notep1">Note:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>OCR inherits the redundancy of the disk group. If you want high redundancy for OCR, you must configure the disk group with high redundancy when you create it.</p>
                              </li>
                              <li>
                                 <p>Oracle recommends that you put the SPFILE for Oracle ASM in this newly-created OCR location.</p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="../ostmg/diskgroup-compatibility.html#OSTMG-GUID-FBB5AA72-5208-48E1-BD8D-0FD4C6876F34" target="_blank"><span><cite>Oracle Automatic Storage Management Administrator's Guide</cite></span></a></li>
                           <li><a href="../ostmg/manage-asm-asmca.html#OSTMG-GUID-C29F444F-C440-450B-A13B-84CC2147826F" target="_blank"><span><cite>Oracle Automatic Storage Management Administrator's Guide</cite></span></a></li>
                           <li><a href="../ostmg/asmcmd-instance-commands.html#OSTMG-GUID-8946D285-8EAF-4466-8985-BDE95EE5B0C7" target="_blank"><span><cite>Oracle Automatic Storage Management Administrator's Guide</cite></span></a></li>
                           <li><a href="../install-and-upgrade.html" target="_blank"><span><cite>Oracle Grid Infrastructure Installation and Upgrade Guide</cite></span></a></li>
                        </ul>
                     </div>
                  </div><a id="CWADD91101"></a><div class="props_rev_3"><a id="GUID-45585A36-F1D3-49AC-B2FB-4EE0F608C6DF" name="GUID-45585A36-F1D3-49AC-B2FB-4EE0F608C6DF"></a><h5 id="CWADD-GUID-45585A36-F1D3-49AC-B2FB-4EE0F608C6DF" class="sect5">Migrating Oracle Cluster Registry from Oracle ASM to Other Types of Storage</h5>
                     <div>
                        <div class="section">
                           <p>To <a id="d37753e788" class="indexterm-anchor"></a><a id="d37753e792" class="indexterm-anchor"></a><a id="d37753e798" class="indexterm-anchor"></a>migrate OCR from Oracle ASM to another storage type:
                           </p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>Ensure the upgrade to Oracle Clusterware 12<span class="italic">c</span> is complete. Run the following command to verify the current running version:</span><div><pre class="oac_no_warn" dir="ltr">$ crsctl query crs activeversion
</pre></div>
                           </li>
                           <li class="stepexpand"><span>Create a file in a shared or cluster file system with the following permissions: <code class="codeph">root</code>, <code class="codeph">oinstall</code>, <code class="codeph">640</code>.</span><div>
                                 <div class="infoboxnote" id="GUID-45585A36-F1D3-49AC-B2FB-4EE0F608C6DF__GUID-E97B52AF-AF87-49A0-8F2C-1193840235DB">
                                    <p class="notep1">Note:</p>
                                    <p>Create at least two mirrors of the primary storage location to eliminate a single point of failure for OCR. OCR supports up to five locations.</p>
                                 </div>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Ensure there is at least 500 MB of space on the mount partition.</span></li>
                           <li class="stepexpand"><span>Ensure that the file you created is visible from all nodes in the cluster.</span></li>
                           <li class="stepexpand"><span>To add the file as an OCR location, ensure that the Oracle Clusterware stack is running and run the following command as <code class="codeph">root</code>:</span><div><pre class="oac_no_warn" dir="ltr"># ocrconfig -add <span class="italic">file_location</span>
</pre><p>You can run this command more than once if you add more than one OCR location. Each successive run of this command must point to a different file location.</p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Ensure that the OCR backup location is not configured on an Oracle ASM disk group.</span><div>
                                 <p>To migrate the OCR backup location to a file system, run the following command as <code class="codeph">root</code>:
                                 </p><pre class="oac_no_warn" dir="ltr"># ocrconfig &#x2013;backuploc <span class="italic">file_location</span>
</pre></div>
                           </li>
                           <li class="stepexpand"><span>To remove storage configurations no longer in use, run the following command as <code class="codeph">root</code>:</span><div><pre class="oac_no_warn" dir="ltr"># ocrconfig -delete +<span class="italic">asm_disk_group</span>
</pre><p>You can run this command more than once if there is more than one OCR location configured.</p>
                              </div>
                           </li>
                        </ol>
                        <div class="section">
                           <p>The following example shows how to migrate OCR from Oracle ASM to NAS using OCRCONFIG.</p><pre class="oac_no_warn" dir="ltr"># ocrconfig -add /nas/ocr
</pre><p>For OCRs not stored on Oracle ASM, Oracle recommends that you mirror OCR on different devices.</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="CWADD90964"></a><div class="props_rev_3"><a id="GUID-BFBBF4EC-5227-4413-98E0-93B62AA44034" name="GUID-BFBBF4EC-5227-4413-98E0-93B62AA44034"></a><h4 id="CWADD-GUID-BFBBF4EC-5227-4413-98E0-93B62AA44034" class="sect4">Adding, Replacing, Repairing, and Removing Oracle Cluster Registry Locations</h4>
                  <div>
                     <p>Manage OCR locations using OCRCONFIG.</p>
                     <p>The Oracle installation process for Oracle Clusterware gives you the option of automatically mirroring OCR. You can manually put the mirrored OCRs on a shared Network File System (NFS), or on any cluster file system that is certified by Oracle. Alternatively, you can place OCR on Oracle ASM and allow it to create mirrors automatically, depending on the redundancy option you select.</p>
                     <p>You can manually mirror OCR, as described in the <span class="italic">Adding an Oracle Cluster Registry Location</span> section, if you:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Upgraded to Oracle Clusterware 12<span class="italic">c</span> but did not choose to mirror OCR during the upgrade
                           </p>
                        </li>
                        <li>
                           <p>Created only one OCR location during the Oracle Clusterware installation</p>
                        </li>
                     </ul>
                     <p>Oracle recommends that you configure:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>At least three OCR locations, if OCR is configured on non-mirrored or non-redundant storage. Oracle strongly recommends that you mirror OCR if the underlying storage is not RAID. Mirroring can help prevent OCR from becoming a single point of failure.</p>
                        </li>
                        <li>
                           <p>At least two OCR locations if OCR is configured on an Oracle ASM disk group. You should configure OCR in two independent disk groups. Typically this is the work area and the recovery area.</p>
                        </li>
                        <li>
                           <p>At least two OCR locations if OCR is configured on mirrored hardware or third-party mirrored volumes.</p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-BFBBF4EC-5227-4413-98E0-93B62AA44034__GUID-5DE55C88-31DB-4FD8-AB66-05624BAEB92C">
                        <p class="notep1">Note:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>If the original OCR location does not exist, then you must create an empty (0 byte) OCR location with appropriate permissions before you run the <code class="codeph">ocrconfig -add</code> or <code class="codeph">ocrconfig -replace</code> commands.
                              </p>
                           </li>
                           <li>
                              <p>Ensure that the OCR devices that you specify in the OCR configuration exist and that these OCR devices are valid.</p>
                           </li>
                           <li>
                              <p>Ensure that the Oracle ASM disk group that you specify exists and is mounted. </p>
                           </li>
                           <li>
                              <p>The new OCR file, device, or disk group must be accessible from all of the active nodes in the cluster. </p>
                           </li>
                        </ul>
                     </div>
                     <p>In addition to mirroring OCR locations, managing OCR locations include:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="managing-oracle-cluster-registry-and-voting-files.html#GUID-582CE178-A9C2-4685-81BC-E31F1DDBE60C">Adding an Oracle Cluster Registry Location</a></p>
                        </li>
                        <li>
                           <p><a href="managing-oracle-cluster-registry-and-voting-files.html#GUID-7B9D91BC-7E40-4643-AF7A-37D695875BF8">Removing an Oracle Cluster Registry Location</a></p>
                        </li>
                        <li>
                           <p><a href="managing-oracle-cluster-registry-and-voting-files.html#GUID-699F70A0-254C-4FF5-A5AA-334EE9E29FC6">Replacing an Oracle Cluster Registry Location</a></p>
                        </li>
                        <li>
                           <p><a href="managing-oracle-cluster-registry-and-voting-files.html#GUID-D8EB7441-378F-41A6-863A-A1706CC48680" title="It may be necessary to repair OCR if your cluster configuration changes while that node is stopped and this node is the only member in the cluster.">Repairing an Oracle Cluster Registry Configuration on a Local Node</a></p>
                        </li>
                        <li>
                           <p><a href="managing-oracle-cluster-registry-and-voting-files.html#GUID-32DC0B83-6EA9-4FF2-BC39-4EC54728C392">Overriding the Oracle Cluster Registry Data Loss Protection Mechanism</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-BFBBF4EC-5227-4413-98E0-93B62AA44034__GUID-8847F4A1-6D0C-4E3F-9AA3-7DB5A0D85647">
                        <p class="notep1">Note:</p>
                        <p>The operations in this section affect OCR throughout the entire cluster: the operations change the OCR configuration information in the <code class="codeph">ocr.loc</code> file on Linux and UNIX systems and the Registry keys on Windows systems. However, the <code class="codeph">ocrconfig</code> command cannot modify OCR configuration information for nodes that are shut down or for nodes on which Oracle Clusterware is not running.
                        </p>
                     </div>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="../install-and-upgrade.html" target="_blank"><span><cite>Oracle Grid Infrastructure Installation and Upgrade Guide</cite></span></a></li>
                           <li><a href="../ostmg/admin-asm-diskgroups.html#OSTMG-GUID-C455CEB1-0FC3-4DF4-9CD4-25EFA4D2BE01" target="_blank"><span><cite>Oracle Automatic Storage Management Administrator's Guide</cite></span></a></li>
                        </ul>
                     </div>
                  </div><a id="CWADD90965"></a><div class="props_rev_3"><a id="GUID-582CE178-A9C2-4685-81BC-E31F1DDBE60C" name="GUID-582CE178-A9C2-4685-81BC-E31F1DDBE60C"></a><h5 id="CWADD-GUID-582CE178-A9C2-4685-81BC-E31F1DDBE60C" class="sect5">Adding an Oracle Cluster Registry Location</h5>
                     <div>
                        <div class="section">
                           <p><a id="d37753e1251" class="indexterm-anchor"></a>Use the procedure in this section to add an OCR location. Oracle Clusterware can manage up to five redundant OCR locations.
                           </p>
                           <div class="infoboxnote" id="GUID-582CE178-A9C2-4685-81BC-E31F1DDBE60C__GUID-37BB2B35-FF05-43BE-ACEB-42ED10626323">
                              <p class="notep1">Note:</p>
                              <p>If OCR resides on a cluster file system file or a network file system, create an empty (0 byte) OCR location file before performing the procedures in this section.</p>
                           </div>
                           <p>As the <code class="codeph">root</code> user, run the following command to add an OCR location to either Oracle ASM or other storage device:
                           </p><pre class="oac_no_warn" dir="ltr"># ocrconfig -add +<span class="italic">asm_disk_group</span> | <span class="italic">file_name</span></pre><div class="infoboxnote" id="GUID-582CE178-A9C2-4685-81BC-E31F1DDBE60C__GUID-38E63004-BB3F-44D9-B5C4-BEF799EB241E">
                              <p class="notep1">Note:</p>
                              <p>On Linux and UNIX systems, you must be <code class="codeph">root</code> to run <code class="codeph">ocrconfig</code> commands. On Windows systems, the user must be a member of the Administrator's group.
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="CWADD90968"></a><div class="props_rev_3"><a id="GUID-7B9D91BC-7E40-4643-AF7A-37D695875BF8" name="GUID-7B9D91BC-7E40-4643-AF7A-37D695875BF8"></a><h5 id="CWADD-GUID-7B9D91BC-7E40-4643-AF7A-37D695875BF8" class="sect5">Removing an Oracle Cluster Registry Location</h5>
                     <div>
                        <div class="section">
                           <p>To remove an OCR location or a failed OCR location, at least one other OCR must be online. <a id="d37753e1400" class="indexterm-anchor"></a>You can remove an OCR location to reduce OCR-related overhead or to stop mirroring your OCR because you moved OCR to redundant storage such as RAID.
                           </p>
                           <p>Perform the following procedure as the <code class="codeph">root</code> user to remove an OCR location from your Oracle Clusterware environment: 
                           </p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>Ensure that <span class="italic">at least one</span> OCR location other than the OCR location that you are removing is online. </span><div>
                                 <div class="infoboxnote" id="GUID-7B9D91BC-7E40-4643-AF7A-37D695875BF8__GUID-7D6108A3-07D5-42D4-8417-E263772F5E62">
                                    <p class="notep1">Caution:</p>
                                    <p>Do <span class="italic">not</span> perform this OCR removal procedure unless there is at least one other active OCR location online.
                                    </p>
                                 </div>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Run the following command on any node in the cluster to remove an OCR location from either Oracle ASM or other location:</span><div><pre class="oac_no_warn" dir="ltr"># ocrconfig -delete +<span class="italic">ASM_disk_group</span> | <span class="italic">file_name</span>
</pre><p>The <span class="italic"><code class="codeph">file_name</code></span> variable can be a device name or a file name. This command updates the OCR configuration on all of the nodes on which Oracle Clusterware is running.
                                 </p>
                                 <div class="infoboxnote" id="GUID-7B9D91BC-7E40-4643-AF7A-37D695875BF8__GUID-A2F356E2-35C3-449F-B959-269047EDC389">
                                    <p class="notep1">Note:</p>
                                    <p>The only configured Oracle ASM OCR location, which is on a different Oracle ASM disk group than the Oracle ASM OCR backup location, cannot be removed.</p>
                                 </div>
                              </div>
                           </li>
                        </ol>
                     </div>
                  </div><a id="CWADD91264"></a><a id="CWADD90966"></a><div class="props_rev_3"><a id="GUID-699F70A0-254C-4FF5-A5AA-334EE9E29FC6" name="GUID-699F70A0-254C-4FF5-A5AA-334EE9E29FC6"></a><h5 id="CWADD-GUID-699F70A0-254C-4FF5-A5AA-334EE9E29FC6" class="sect5">Replacing an Oracle Cluster Registry Location</h5>
                     <div>
                        <div class="section">
                           <p>If you must change an existing OCR location, or change a failed OCR location to a working location, then you can use the following procedure, if all remaining OCR locations remain online. The <code class="codeph">ocrconfig -replace</code> command requires that at least two OCR locations are configured.
                           </p>
                           <p><span class="bold">To change an Oracle Cluster Registry location:</span></p>
                           <p>Complete the following procedure:</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>Use the OCRCHECK utility to verify that a copy of OCR other than the one you are going to replace is <span class="italic">online</span>, using the following command:</span><div><pre class="pre codeblock"><code>$ ocrcheck</code></pre><p>OCRCHECK displays all OCR locations that are registered and whether they are available (online). If an OCR location suddenly becomes unavailable, then it might take a short period for Oracle Clusterware to show the change in status.</p>
                                 <div class="infoboxnote" id="GUID-699F70A0-254C-4FF5-A5AA-334EE9E29FC6__GUID-ADDAFD5F-2790-4346-B361-ACB3B2A9E50D">
                                    <p class="notep1">Note:</p>
                                    <p>The OCR location that you are <span class="italic">replacing</span> can be either online or offline.
                                    </p>
                                 </div>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Use the following command to verify that Oracle Clusterware is running on the node on which you are going to perform the replace operation:</span><div><pre class="pre codeblock"><code>$ crsctl check crs</code></pre></div>
                           </li>
                           <li class="stepexpand"><span>Run the following command as <code class="codeph">root</code> to replace the current OCR location using either <code class="codeph"><span class="variable" translate="no">destination_file</span></code> or <code class="codeph">+<span class="variable" translate="no">ASM_disk_group</span></code> to indicate the current and target OCR locations:</span><div><pre class="pre codeblock"><code># ocrconfig -replace <span class="variable" translate="no">current_OCR_location</span> -replacement <span class="variable" translate="no">new_OCR_location</span></code></pre><p>The preceding command fails if you have less than two configured OCR locations that are online.</p>
                                 <p>If you have only one OCR location configured and online, then you must first add a new location and then delete the failed location, as follows:</p><pre class="pre codeblock"><code># ocrconfig -add <span class="variable" translate="no">new_OCR_location</span>
# ocrconfig -delete <span class="variable" translate="no">current_OCR_location</span></code></pre><div class="infoboxnote" id="GUID-699F70A0-254C-4FF5-A5AA-334EE9E29FC6__GUID-732E1A96-DB40-47ED-B2E8-E5C739059BA3">
                                    <p class="notep1">Note:</p>
                                    <p>If your cluster configuration changes while the node on which OCR resides is stopped, and the Oracle Clusterware stack is running on the other nodes, then OCR detects configuration changes and self-corrects the configuration by changing the contents of the <code class="codeph">ocr.loc</code> file.
                                    </p>
                                 </div>
                              </div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>Related Topics</strong></p>
                           <ul>
                              <li><a href="../ostmg/asm-migration-rman.html#OSTMG-GUID-EE232095-823A-4717-8629-75E6A750FCDB" target="_blank"><span><cite>Oracle Automatic Storage Management Administrator's Guide</cite></span></a></li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="CWADD90967"></a><div class="props_rev_3"><a id="GUID-D8EB7441-378F-41A6-863A-A1706CC48680" name="GUID-D8EB7441-378F-41A6-863A-A1706CC48680"></a><h5 id="CWADD-GUID-D8EB7441-378F-41A6-863A-A1706CC48680" class="sect5">Repairing an Oracle Cluster Registry Configuration on a Local Node</h5>
                     <div>
                        <p>It may be necessary to repair OCR if your cluster configuration changes while that node is stopped and this node is the only member in the cluster.</p>
                        <div class="section">
                           <p>Repairing an OCR involves either adding, deleting, or replacing an OCR location. For example, if any node that is part of your current Oracle RAC cluster is shut down, then you must update the OCR configuration on the stopped node to let that node rejoin the cluster after the node is restarted. Use the following command syntax as <code class="codeph">root</code> on the restarted node where you use either a <code class="codeph"><span class="variable" translate="no">destination_file</span></code> or <code class="codeph">+<span class="variable" translate="no">ASM_disk_group</span></code> to indicate the current and target OCR locations:
                           </p><pre class="pre codeblock"><code># ocrconfig -repair -replace <span class="variable" translate="no">current_OCR_location</span> -replacement <span class="variable" translate="no">target_OCR_location</span></code></pre><p>This operation only changes OCR on the node on which you run this command. For example, if the OCR location is <code class="codeph">/dev/sde1</code>, then use the command syntax <code class="codeph">ocrconfig -repair -add /dev/sde1</code> on this node to repair OCR on that node.
                           </p>
                           <div class="infoboxnote" id="GUID-D8EB7441-378F-41A6-863A-A1706CC48680__GUID-A74E483B-E875-44D4-B578-E085C4F07095">
                              <p class="notep1">Note:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>You cannot repair the OCR configuration on a node on which the Oracle Cluster Ready Services daemon is running.</p>
                                 </li>
                                 <li>
                                    <p>When you repair OCR on a stopped node using <code class="codeph">ocrconfig -repair</code>, you must provide the same OCR file name (which should be case-sensitive) as the OCR file names on other nodes.
                                    </p>
                                 </li>
                                 <li>
                                    <p>If you run the <code class="codeph">ocrconfig -add | -repair | -replace</code> command, then the device, file, or Oracle ASM disk group that you are adding must be accessible. This means that a device must exist. You must create an empty (0 byte) OCR location, or the Oracle ASM disk group must exist and be mounted.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>Related Topics</strong></p>
                           <ul>
                              <li><a href="oracle-cluster-registry-utility-reference.html#GUID-2029B8DE-F140-43EF-B4F8-26CC7D31D179" title="Adds an OCR location to an Oracle Automatic Storage Management (Oracle ASM) disk group.Specify an OCR backup directory location.Copies an OCR backup file from one location to another.Removes an OCR device or file.Only root scripts use this command to downgrade OCR to an earlier specified version.Exports the contents of OCR to a target file.Imports the contents of a target file into which you exported the contents of OCR back into OCR.Backs up OCR on demand to a specific location.Overwrites an OCR configuration in the OCR metadata with the current OCR configuration information that is found on the node from which you run this command.Repairs an OCR configuration on the node from which you run this command.Replaces an OCR location to an Oracle Automatic Storage Management (Oracle ASM) disk group.Restores OCR from an automatically created OCR backup file.Displays all available backups.Displays the backup location of the OCR and OLR backup files.Upgrades OCR from a previous version.">OCRCONFIG Command Reference</a></li>
                              <li><a href="../ostmg/admin-asm-diskgroups.html#OSTMG-GUID-C455CEB1-0FC3-4DF4-9CD4-25EFA4D2BE01" target="_blank"><span><cite>Oracle Automatic Storage Management Administrator's Guide</cite></span></a></li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="CWADD90969"></a><div class="props_rev_3"><a id="GUID-32DC0B83-6EA9-4FF2-BC39-4EC54728C392" name="GUID-32DC0B83-6EA9-4FF2-BC39-4EC54728C392"></a><h5 id="CWADD-GUID-32DC0B83-6EA9-4FF2-BC39-4EC54728C392" class="sect5">Overriding the Oracle Cluster Registry Data Loss Protection Mechanism</h5>
                     <div>
                        <div class="section">
                           <p>OCR<a id="d37753e1959" class="indexterm-anchor"></a> has a mechanism that prevents data loss due to accidental overwrites. If you configure a mirrored OCR and if Oracle Clusterware cannot access the mirrored OCR locations and also cannot verify that the available OCR location contains the most recent configuration, then Oracle Clusterware prevents further modification to the available OCR location. In addition, the process prevents overwriting by prohibiting Oracle Clusterware from starting on the node on which only one OCR is available. In such cases, Oracle Database displays an alert message in either Oracle Enterprise Manager, the Oracle Clusterware alert log files, or both. If this problem is local to only one node, you can use other nodes to start your cluster database.
                           </p>
                           <p>However, if you are unable to start any cluster node in your environment and if you can neither repair OCR nor restore access to all OCR locations, then you can override the protection mechanism. The procedure described in the following list enables you to start the cluster using the available OCR location. However, overriding the protection mechanism can result in the loss of data that was not available when the previous known good state was created.</p>
                           <div class="infoboxnote" id="GUID-32DC0B83-6EA9-4FF2-BC39-4EC54728C392__GUID-E2952B5E-2C4D-4B31-8721-26221FBB6400">
                              <p class="notep1">Caution:</p>
                              <p>Overriding OCR using the following procedure can result in the loss of OCR updates that were made between the time of the last known good OCR update made to the currently accessible OCR and the time at which you performed the overwrite. In other words, running the <code class="codeph">ocrconfig -overwrite</code> command can result in data loss if the OCR location that you are using to perform the overwrite does not contain the latest configuration updates for your cluster environment.
                              </p>
                           </div>
                           <p>Perform the following procedure to overwrite OCR if a node cannot start <span class="italic">and</span> if the alert log contains <a id="d37753e1977" class="indexterm-anchor"></a>CLSD-1009 and<a id="d37753e1982" class="indexterm-anchor"></a> CLSD-1011 messages.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>Attempt to resolve the cause of the CLSD-1009 and CLSD-1011 messages. </span><div>
                                 <p>Compare the node's OCR configuration (<code class="codeph">ocr.loc</code> on Linux and UNIX systems and the Registry on Windows systems) with other nodes on which Oracle Clusterware is running.
                                 </p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>If the configurations do not match, run <code class="codeph">ocrconfig -repair</code>.
                                       </p>
                                    </li>
                                    <li>
                                       <p>If the configurations match, ensure that the node can access all of the configured OCRs by running an <code class="codeph">ls</code> command on Linux and UNIX systems. On Windows, use a <code class="codeph">dir</code> command if the OCR location is a file and run <code class="codeph">GuiOracleObjectManager.exe</code> to verify that the part of the cluster with the name exists.
                                       </p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Ensure that the most recent OCR contains the latest OCR updates.</span><div>
                                 <p>Look at output from the <code class="codeph">ocrdump</code> command and determine whether it has your latest updates. 
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>If you cannot resolve the problem that caused the CLSD message, then run the command <code class="codeph">ocrconfig -overwrite</code> to start the node.</span></li>
                        </ol>
                     </div>
                  </div>
               </div><a id="CWADD90970"></a><div class="props_rev_3"><a id="GUID-8554ACE4-44DF-4DB5-A939-1DC6D62BAE60" name="GUID-8554ACE4-44DF-4DB5-A939-1DC6D62BAE60"></a><h4 id="CWADD-GUID-8554ACE4-44DF-4DB5-A939-1DC6D62BAE60" class="sect4">Backing Up Oracle Cluster Registry</h4>
                  <div>
                     <p>This section describes <a id="d37753e2149" class="indexterm-anchor"></a>how to back up OCR content and use it for recovery. The first method uses automatically generated OCR copies and the second method enables you to issue a backup command manually:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="bold">Automatic backups</span>: <a id="d37753e2160" class="indexterm-anchor"></a>Oracle Clusterware automatically creates OCR backups every four hours. At any one time, Oracle Database always retains the last three backup copies of OCR. The CRSD process that creates the backups also creates and retains an OCR backup for each <span class="italic">full day</span> and <span class="italic">after each week</span>. You cannot customize the backup frequencies or the number of files that Oracle Database retains.
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">Manual backups</span>: Run <a id="d37753e2176" class="indexterm-anchor"></a>the <code class="codeph">ocrconfig -manualbackup</code> command on a node where the Oracle Clusterware stack is up and running to force Oracle Clusterware to perform a backup of OCR at any time, rather than wait for the automatic backup. You must run the command as a user with administrative privileges. The <code class="codeph">-manualbackup</code> option is especially useful when you want to obtain a binary backup on demand, such as before you make changes to OCR. The OLR only supports manual backups.
                           </p>
                        </li>
                     </ul>
                     <p>When the clusterware stack is down on all nodes in the cluster, the backups that are listed by the <code class="codeph">ocrconfig -showbackup</code> command may differ from node to node.
                     </p>
                     <div class="infoboxnote" id="GUID-8554ACE4-44DF-4DB5-A939-1DC6D62BAE60__GUID-2E25EC79-BC7D-4B7A-902A-914A9061E834">
                        <p class="notep1">Note:</p>
                        <p>After you install or upgrade Oracle Clusterware on a node, or add a node to the cluster, when the <code class="codeph">root.sh</code> script finishes, it backs up OLR.
                        </p>
                     </div>
                     <p>This section includes the following topics:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="managing-oracle-cluster-registry-and-voting-files.html#GUID-6921B0DB-4C97-48D6-9128-373544663DCF">Listing Backup Files</a></p>
                        </li>
                        <li>
                           <p><a href="managing-oracle-cluster-registry-and-voting-files.html#GUID-619A16D6-AF79-4A48-950B-673F2A496408">Changing Backup Location</a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="props_rev_3"><a id="GUID-6921B0DB-4C97-48D6-9128-373544663DCF" name="GUID-6921B0DB-4C97-48D6-9128-373544663DCF"></a><h5 id="CWADD-GUID-6921B0DB-4C97-48D6-9128-373544663DCF" class="sect5">Listing Backup Files</h5>
                     <div>
                        <div class="section">
                           <p>Run the following command to list the backup files:</p><pre class="oac_no_warn" dir="ltr">ocrconfig -showbackup
</pre><p>The <code class="codeph">ocrconfig -showbackup</code> command displays the backup location, timestamp, and the originating node name of the backup files that Oracle Clusterware creates. By default, the <code class="codeph">-showbackup</code> option displays information for both automatic and manual backups but you can include the <code class="codeph">auto</code> or <code class="codeph">manual</code> flag to display only the automatic backup information or only the manual backup information, respectively.
                           </p>
                           <p>Run the following command to inspect the contents and verify the integrity of the backup file:</p><pre class="oac_no_warn" dir="ltr">ocrdump -backupfile <span class="italic">backup_file_name</span>
</pre><p>You can use any backup software to copy the automatically generated backup files at least once daily to a different device from where the primary OCR resides.</p>
                           <p>As of Oracle Clusterware 12<span class="italic">c</span> release 2 (12.2), the default location for generating backups is an Oracle ASM disk group, which you can change between Oracle ASM disk groups, but you <span class="italic">cannot</span> change to a local file system. Oracle recommends that you include the backup file created with the OCRCONFIG utility as part of your operating system backup using standard operating system or third-party tools.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-619A16D6-AF79-4A48-950B-673F2A496408" name="GUID-619A16D6-AF79-4A48-950B-673F2A496408"></a><h5 id="CWADD-GUID-619A16D6-AF79-4A48-950B-673F2A496408" class="sect5">Changing Backup Location</h5>
                     <div>
                        <div class="section">
                           <p>Run the following command to change the location where OCR creates backups:</p><pre class="pre codeblock"><code># ocrconfig -backuploc <span class="variable" translate="no">file_name</span></code></pre><p>The <code class="codeph"><span class="variable" translate="no">file_name</span></code> variable in the preceding command can be a full directory path name that is accessible by all nodes, or it can be an Oracle ASM disk group that is mounted on all nodes. You must migrate OCR to Oracle ASM before changing the OCR backup location to an Oracle ASM disk group. You can change the OCR backup location to an Oracle ASM disk group only if there is at least one Oracle ASM OCR location in a separate disk group.
                           </p>
                           <p>For example, to specify an OCR backup location in a directory:</p><pre class="pre codeblock"><code># ocrconfig -backuploc <span class="variable" translate="no">Grid_home</span>/cdata/cluster3</code></pre><p>To specify an OCR backup location in an Oracle ASM disk group:</p><pre class="pre codeblock"><code># ocrconfig &#x2013;backuploc +bkupdg</code></pre><div class="infoboxnote" id="GUID-619A16D6-AF79-4A48-950B-673F2A496408__GUID-341FAD09-B726-48BC-8F44-5A5D7299304C">
                              <p class="notep1">Note:</p>
                              <p>On Linux and UNIX systems, you must be <code class="codeph">root</code> user to run most but not all of the <code class="codeph">ocrconfig</code> command options. On Windows systems, the user must be a member of the Administrator's group.
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>Related Topics</strong></p>
                           <ul>
                              <li><a href="managing-oracle-cluster-registry-and-voting-files.html#GUID-7B87F4D6-4146-4EB0-BD2F-17AED8C5F72E" title="Use this procedure to import OCR on Linux or UNIX systems.Use this procedure to import OCR on Windows systems.">Administering Oracle Cluster Registry with Export and Import Commands</a></li>
                              <li><a href="oracle-cluster-registry-utility-reference.html#GUID-2029B8DE-F140-43EF-B4F8-26CC7D31D179" title="Adds an OCR location to an Oracle Automatic Storage Management (Oracle ASM) disk group.Specify an OCR backup directory location.Copies an OCR backup file from one location to another.Removes an OCR device or file.Only root scripts use this command to downgrade OCR to an earlier specified version.Exports the contents of OCR to a target file.Imports the contents of a target file into which you exported the contents of OCR back into OCR.Backs up OCR on demand to a specific location.Overwrites an OCR configuration in the OCR metadata with the current OCR configuration information that is found on the node from which you run this command.Repairs an OCR configuration on the node from which you run this command.Replaces an OCR location to an Oracle Automatic Storage Management (Oracle ASM) disk group.Restores OCR from an automatically created OCR backup file.Displays all available backups.Displays the backup location of the OCR and OLR backup files.Upgrades OCR from a previous version.">OCRCONFIG Command Reference</a></li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div><a id="CWADD92002"></a><div class="props_rev_3"><a id="GUID-648BB199-AFB9-416A-8438-E0331C255E78" name="GUID-648BB199-AFB9-416A-8438-E0331C255E78"></a><h4 id="CWADD-GUID-648BB199-AFB9-416A-8438-E0331C255E78" class="sect4">Restoring Oracle Cluster Registry</h4>
                  <div>
                     <p>A procedure for OCR restoration for your platform.</p>
                     <p>If a resource fails, then before attempting to restore OCR, restart the resource. As a definitive verification that OCR failed, run <code class="codeph">ocrcheck</code> and if the command returns a failure message, then both the primary OCR and the OCR mirror have failed.
                     </p>
                     <div class="infoboxnote" id="GUID-648BB199-AFB9-416A-8438-E0331C255E78__GUID-9C9E0B85-EE30-4845-A0BF-7D7A7BB4A0C8">
                        <p class="notep1">Note:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>You <span class="italic">cannot</span> restore your configuration from an OCR backup file using the <code class="codeph">-import</code> option, which is explained in <span class="q">"Administering Oracle Cluster Registry with Export and Import Commands"</span>. You <span class="italic">must instead</span> use the <code class="codeph">-restore</code> option, as described in the following sections.
                              </p>
                           </li>
                           <li>
                              <p>If you store OCR on an Oracle ASM disk group and the disk group is not available, then you must recover and mount the Oracle ASM disk group.</p>
                           </li>
                        </ul>
                     </div>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="managing-oracle-cluster-registry-and-voting-files.html#GUID-3ADF0C33-9B4C-4FC5-88C5-4C736159E988" title="Use this procedure to restore OCR on Linux or UNIX systems.">Restoring the Oracle Cluster Registry on Linux or UNIX Systems</a></p>
                        </li>
                        <li>
                           <p><a href="managing-oracle-cluster-registry-and-voting-files.html#GUID-7372F903-4BC0-4FB1-80AA-33B7BBD726EB" title="Use this procedure to restore OCR on Windows systems.">Restoring the Oracle Cluster Registry on Windows Systems</a></p>
                        </li>
                        <li>
                           <p><a href="managing-oracle-cluster-registry-and-voting-files.html#GUID-F15F9F72-90F3-456D-8E55-5E3FA0959392" title="Use this procedure to restore OCR in an Oracle Restart environment.">Restoring the Oracle Cluster Registry in an Oracle Restart Environment</a></p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="managing-oracle-cluster-registry-and-voting-files.html#GUID-7B87F4D6-4146-4EB0-BD2F-17AED8C5F72E" title="Use this procedure to import OCR on Linux or UNIX systems.Use this procedure to import OCR on Windows systems.">Administering Oracle Cluster Registry with Export and Import Commands</a></li>
                           <li><a href="../ostmg/admin-asm-diskgroups.html#OSTMG-GUID-C455CEB1-0FC3-4DF4-9CD4-25EFA4D2BE01" target="_blank"><span><cite>Oracle Automatic Storage Management Administrator's Guide</cite></span></a></li>
                        </ul>
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-3ADF0C33-9B4C-4FC5-88C5-4C736159E988" name="GUID-3ADF0C33-9B4C-4FC5-88C5-4C736159E988"></a><h5 id="CWADD-GUID-3ADF0C33-9B4C-4FC5-88C5-4C736159E988" class="sect5">Restoring the Oracle Cluster Registry on Linux or UNIX Systems</h5>
                     <div>
                        <p>Use this procedure to restore OCR on Linux or UNIX systems.</p>
                        <div class="section">
                           <p>If you are storing OCR on an Oracle ASM disk group, and that disk group is corrupt, then you must restore the Oracle ASM disk group using Oracle ASM utilities, and then mount the disk group again before recovering OCR. Recover OCR by running the <code class="codeph">ocrconfig -restore</code> command, as instructed in the following procedure.
                           </p>
                           <div class="infoboxnote" id="GUID-3ADF0C33-9B4C-4FC5-88C5-4C736159E988__GUID-BC1A351D-E254-47B0-9E1F-20728249A8DE">
                              <p class="notep1">Note:</p>
                              <p>If the original OCR location does not exist, then you must create an empty (0 byte) OCR location with the same name as the original OCR location before you run the <code class="codeph">ocrconfig -restore</code> command.
                              </p>
                           </div>
                           <p>Use the following procedure to restore OCR on Linux or UNIX systems:</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>List the nodes in your cluster by running the following command on one node:</span><div><pre class="pre codeblock"><code>$ olsnodes</code></pre></div>
                           </li>
                           <li class="stepexpand"><span>Depending on whether OCR is located in an Oracle ASM disk group or on network attached storage (NAS), stop Oracle Clusterware by running one of the following commands as root on all of the nodes:</span><div>
                                 <p>If OCR is located in an Oracle ASM disk group, then stop the Oracle Clusterware daemon:</p><pre class="pre codeblock"><code># crsctl stop crs</code></pre><p>If the preceding command returns any error due to OCR corruption, then force stop Oracle Clusterware by running the following command as <code class="codeph">root</code> on all of the nodes:
                                 </p><pre class="pre codeblock"><code># crsctl stop crs -f</code></pre></div>
                           </li>
                           <li class="stepexpand"><span>If you are restoring OCR to a cluster file system or network file system, then run the following command as <code class="codeph">root</code> to restore OCR with an OCR backup that you can identify in <span class="q">"Listing Backup Files"</span>:</span><div><pre class="pre codeblock"><code># ocrconfig -restore <span class="variable" translate="no">file_name</span></code></pre><div class="infoboxnote" id="GUID-3ADF0C33-9B4C-4FC5-88C5-4C736159E988__GUID-CB3047A5-9646-4C48-B2EA-F0658F23A30B">
                                    <p class="notep1">Note:</p>
                                    <p>If the OCR backup file is located in an Oracle ASM disk group, then ensure that the disk group exists and is mounted.</p>
                                 </div>
                                 <p>After you complete this step, proceed to step <a href="managing-oracle-cluster-registry-and-voting-files.html#GUID-3ADF0C33-9B4C-4FC5-88C5-4C736159E988__CHDCIGEE">11</a>.
                                 </p>
                                 <p>If you are <span class="italic">not</span> restoring OCR to a cluster file system or network file system, then proceed to the next step.
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Start the Oracle Clusterware stack on one node in exclusive mode by running the following command as <code class="codeph">root</code>:</span><div><pre class="pre codeblock"><code># crsctl start crs -excl -nocrs</code></pre><p>The <code class="codeph">-nocrs</code> option ensures that the CRSD process and OCR do not start with the rest of the Oracle Clusterware stack.
                                 </p>
                                 <p>Ignore any errors that display.</p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Check whether CRSD is running by running the following command:</span><div><pre class="pre codeblock"><code>$ crsctl status resource ora.crsd -init</code></pre><p>If CRSD is running, then stop it by running the following command as <code class="codeph">root</code>:
                                 </p><pre class="pre codeblock"><code># crsctl stop resource ora.crsd -init</code></pre><div class="infoboxnote" id="GUID-3ADF0C33-9B4C-4FC5-88C5-4C736159E988__GUID-A1CDB843-0497-4251-8FE9-FB71879AF66B">
                                    <p class="notep1">Caution:</p>
                                    <p><span class="italic">Do not</span> use the <code class="codeph">-init</code> flag with any other command unless directed to do so by My Oracle Support.
                                    </p>
                                 </div>
                              </div>
                           </li>
                           <li class="stepexpand"><span>To restore OCR to an Oracle ASM disk group, you must first create a disk group using SQL*Plus that has the same name as the disk group you want to restore and mount it on the local node.</span><div>
                                 <p>If you cannot mount the disk group locally, then run the following SQL*Plus command:</p><pre class="pre codeblock"><code>SQL&gt; drop diskgroup <span class="variable" translate="no">disk_group_name</span> force including contents;</code></pre></div>
                           </li>
                           <li class="stepexpand"><span>Restore OCR with an OCR backup that you can identify in <span class="q">"Listing Backup Files"</span> by running the following command as <code class="codeph">root</code>:</span><div><pre class="pre codeblock"><code># ocrconfig -restore <span class="variable" translate="no">file_name</span></code></pre><div class="infoboxnote" id="GUID-3ADF0C33-9B4C-4FC5-88C5-4C736159E988__GUID-3F136B1E-8331-4E8D-96F0-8BD82A11B8A5">
                                    <p class="notep1">Note:</p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p>If the original OCR location does not exist, then you must create an empty (0 byte) OCR location before you run the <code class="codeph">ocrconfig -restore</code> command.
                                          </p>
                                       </li>
                                       <li>
                                          <p>Ensure that the OCR devices that you specify in the OCR configuration exist and that these OCR devices are valid.</p>
                                       </li>
                                       <li>
                                          <p>If you configured OCR in an Oracle ASM disk group, then ensure that the Oracle ASM disk group exists and is mounted.</p>
                                       </li>
                                       <li>
                                          <p>If the OCR backup file is located in an Oracle ASM disk group, then ensure that the disk group exists and is mounted.</p>
                                       </li>
                                    </ul>
                                 </div>
                                 <div class="infoboxnotealso" id="GUID-3ADF0C33-9B4C-4FC5-88C5-4C736159E988__GUID-4EBBE40F-34D3-45EB-A050-0091E2D33DDA">
                                    <p class="notep1">See Also:</p>
                                    <p><span><cite>Oracle Grid Infrastructure Installation and Upgrade Guide</cite></span> for information about creating OCRs
                                    </p>
                                 </div>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Verify the integrity of OCR:</span><div><pre class="pre codeblock"><code># ocrcheck</code></pre></div>
                           </li>
                           <li class="stepexpand"><span>Stop Oracle Clusterware on the node where it is running in exclusive mode:</span><div><pre class="pre codeblock"><code># crsctl stop crs -f</code></pre></div>
                           </li>
                           <li class="stepexpand"><span>Run the <code class="codeph">ocrconfig -repair -replace</code> command as <code class="codeph">root</code> on all the nodes in the cluster where you <span class="italic">did not</span> run the <code class="codeph">ocrconfig -restore</code> command. For example, if you ran the <code class="codeph">ocrconfig -restore</code> command on node 1 of a four-node cluster, then you must run the <code class="codeph">ocrconfig -repair -replace</code> command on nodes 2, 3, and 4.</span></li>
                           <li class="stepexpand" id="GUID-3ADF0C33-9B4C-4FC5-88C5-4C736159E988__CHDCIGEE"><span>Begin to start Oracle Clusterware by running the following command as <code class="codeph">root</code> on all of the nodes:</span><div><pre class="pre codeblock"><code># crsctl start crs</code></pre></div>
                           </li>
                           <li class="stepexpand"><span>Verify OCR integrity of all of the cluster nodes that are configured as part of your cluster by running the following CVU command:</span><div><pre class="pre codeblock"><code>$ cluvfy comp ocr -n all -verbose</code></pre></div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>Related Topics</strong></p>
                           <ul>
                              <li><a href="../ostmg/asmcmd-diskgroup-commands.html#OSTMG-GUID-FEA13FA9-4FB3-4C4B-B728-99AD2452888A" target="_blank"><span><cite>Oracle Automatic Storage Management Administrator's Guide</cite></span></a></li>
                              <li><a href="managing-oracle-cluster-registry-and-voting-files.html#GUID-6921B0DB-4C97-48D6-9128-373544663DCF">Listing Backup Files</a></li>
                              <li><a href="../ostmg/admin-asm-diskgroups.html#OSTMG-GUID-C455CEB1-0FC3-4DF4-9CD4-25EFA4D2BE01" target="_blank"><span><cite>Oracle Automatic Storage Management Administrator's Guide</cite></span></a></li>
                              <li><a href="../install-and-upgrade.html" target="_blank"><span><cite>Oracle Grid Infrastructure Installation and Upgrade Guide</cite></span></a></li>
                              <li><a href="cluster-verification-utility-reference.html#GUID-B445A858-9F00-4423-990E-109545AC11C3" title="CVU can verify the primary cluster components during an operational phase or stage.The following table includes deprecated and desupported CLUVFY commands:This section lists and describes CVU commands.Checks the integrity of Oracle Automatic Storage Management Cluster File System (Oracle ACFS) on all nodes in a cluster.Checks the required administrative privileges for the operation specified by -o parameter on all the nodes that you specify in the node list.Checks the integrity of Oracle Automatic Storage Management (Oracle ASM) on specific nodes in the cluster.Captures system and cluster configuration information to create a baseline.Checks clock synchronization across all the nodes in the node list.Checks the integrity of the cluster manager subcomponent, or Oracle Cluster Synchronization Services (CSS), on the nodes in the node list.Checks the integrity of the Cluster Ready Services (CRS) daemon on the specified nodes.Verifies that the DHCP server exists on the network, and that it can provide a required number of IP addresses.Verifies that the Grid Naming Service (GNS) subdomain delegation has been properly set up in the Domain Name Service (DNS) server.Checks the free space available in the Oracle Clusterware home storage and ensure that there is at least 5% of the total space available. Verifies the integrity of the Grid Naming Service (GNS) on the cluster.Checks the integrity of Grid Plug and Play on a list of nodes in a cluster.Checks the integrity of Oracle Restart on the local node.Checks your Oracle Clusterware and Oracle Database installations for their compliance with mandatory requirements and best practices guidelines, and to ensure that they are functioning properly.Checks for the existence of node applications, namely VIP, NETWORK, and ONS, on all of the specified nodes.Checks the connectivity among the nodes specified in the node list. If you provide an interface list, then CVU checks the connectivity using only the specified interfaces.Determines whether a source node can communicate with other, specific nodes.Checks the integrity of Oracle Cluster Registry (OCR) on all specified nodes.Checks the integrity of the Oracle High Availability Services daemon.Checks the integrity of Oracle Local Registry (OLR) on the local node.Checks the compatibility and properties of the specified nodes against a reference node.Checks the Single Client Access Name (SCAN) configuration.Checks the files and attributes installed with the Oracle software.Checks for free disk space at the location you specify in the -l parameter on all the specified nodes.Use the cluvfy comp ssa component verification command to discover and check the sharing of the specified storage locations. CVU checks sharing for nodes in the node list.Checks that the minimum system requirements are met for the specified product on all the specified nodes.Checks the voting files configuration and the udev settings for the voting files on all the specified nodes.Use the cluvfy stage -pre acfscfg command to verify your cluster nodes are set up correctly before configuring Oracle Automatic Storage Management Cluster File System (Oracle ACFS). Use the cluvfy stage -post acfscfg to check an existing cluster after you configure Oracle ACFS.Performs the appropriate post stage checks for Oracle Clusterware application cluster installation on all the nodes.Use the cluvfy stage -pre cfs stage verification command to verify your cluster nodes are set up correctly before configuring OCFS2. Use the cluvfy stage -post cfs stage verification command to perform the appropriate checks on the specified nodes after configuring OCFS2.Use the cluvfy stage -pre crsinst command with either the -file, -n, -flex, or -upgrade parameters to check the specified nodes before installing or upgrading Oracle Clusterware. Use the cluvfy stage -post crsinst command to check the specified nodes after installing Oracle Clusterware.Checks the specified nodes before configuring an Oracle RAC database to verify whether your system meets all of the criteria for creating a database or for making a database configuration change.Checks the specified nodes before installing or creating an Oracle RAC database to verify that your system meets all of the criteria for installing or creating an Oracle RAC database.Checks the local node after configuring Oracle Restart.Checks network and storage on the specified nodes in the cluster before installing Oracle software. This command also checks for supported storage types and checks each one for sharing.Use the cluvfy stage -pre nodeadd command to verify the specified nodes are configured correctly before adding them to your existing cluster, and to verify the integrity of the cluster before you add the nodes. Use the cluvfy stage -post nodeadd command to verify that the specified nodes have been successfully added to the cluster at the network, shared storage, and clusterware levels.Verifies that specific nodes have been successfully deleted from a cluster. Typically, this command verifies that the node-specific interface configuration details have been removed, the nodes are no longer a part of cluster configuration, and proper Oracle ASM cleanup has been performed.">Cluster Verification Utility Reference</a></li>
                           </ul>
                        </div>
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-7372F903-4BC0-4FB1-80AA-33B7BBD726EB" name="GUID-7372F903-4BC0-4FB1-80AA-33B7BBD726EB"></a><h5 id="CWADD-GUID-7372F903-4BC0-4FB1-80AA-33B7BBD726EB" class="sect5">Restoring the Oracle Cluster Registry on Windows Systems</h5>
                     <div>
                        <p>Use this procedure to restore OCR on Windows systems.</p>
                        <div class="section">
                           <p>If you are storing OCR on an Oracle ASM disk group, and that disk group is corrupt, then you must restore the Oracle ASM disk group using Oracle ASM utilities, and then mount the disk group again before recovering OCR. Recover OCR by running the <code class="codeph">ocrconfig -restore</code> command.
                           </p>
                           <div class="infoboxnote" id="GUID-7372F903-4BC0-4FB1-80AA-33B7BBD726EB__GUID-1F0EE3ED-BB74-46E3-A4E1-7BA586EABF96">
                              <p class="notep1">Note:</p>
                              <p>If the original OCR location does not exist, then you must create an empty (0 byte) OCR location with the same name as the original OCR location before you run the <code class="codeph">ocrconfig -restore</code> command.
                              </p>
                           </div>
                           <p>Use the following procedure to restore OCR on Windows systems:</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>List the nodes in your cluster by running the following command on one node:</span><div><pre class="pre codeblock"><code>C:\&gt;olsnodes</code></pre></div>
                           </li>
                           <li class="stepexpand"><span>Stop Oracle Clusterware by running the following command as a member of the Administrators group on all of the nodes:</span><div><pre class="pre codeblock"><code>C:\&gt;crsctl stop crs</code></pre><p>If the preceding command returns any error due to OCR corruption, stop Oracle Clusterware by running the following command as a member of the Administrators group on all of the nodes:</p><pre class="pre codeblock"><code>C:\&gt;crsctl stop crs -f</code></pre></div>
                           </li>
                           <li class="stepexpand"><span>Start the Oracle Clusterware stack on one node in exclusive mode by running the following command as a member of the Administrators group:</span><div><pre class="pre codeblock"><code>C:\&gt;crsctl start crs -excl -nocrs</code></pre><p>The <code class="codeph">-nocrs</code> option ensures that the CRSD process and OCR do not start with the rest of the Oracle Clusterware stack.
                                 </p>
                                 <p>Ignore any errors that display.</p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Restore OCR with the OCR backup file that you identified in <span class="q">"Listing Backup Files"</span> by running the following command as a member of the Administrators group:</span><div><pre class="pre codeblock"><code>C:\&gt;ocrconfig -restore <span class="variable" translate="no">file_name</span></code></pre><p>Make sure that the OCR devices that you specify in the OCR configuration exist and that these OCR devices are valid.</p>
                                 <div class="infoboxnote" id="GUID-7372F903-4BC0-4FB1-80AA-33B7BBD726EB__GUID-4DEDA6FF-538D-46EF-BC57-CFCE4E117877">
                                    <p class="notep1">Note:</p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p>Ensure that the OCR devices that you specify in the OCR configuration exist and that these OCR devices are valid.</p>
                                       </li>
                                       <li>
                                          <p>Ensure that the Oracle ASM disk group you specify exists and is mounted.</p>
                                       </li>
                                    </ul>
                                 </div>
                                 <div class="infoboxnotealso" id="GUID-7372F903-4BC0-4FB1-80AA-33B7BBD726EB__GUID-8B945264-FB4B-405F-9DB1-56060B613EE0">
                                    <p class="notep1">See Also:</p>
                                    <p><span><cite>Oracle Grid Infrastructure Installation and Upgrade Guide</cite></span> for information about creating OCRs
                                    </p>
                                 </div>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Verify the integrity of OCR:</span><div><pre class="pre codeblock"><code>C:\&gt;ocrcheck</code></pre></div>
                           </li>
                           <li class="stepexpand"><span>Stop Oracle Clusterware on the node where it is running in exclusive mode:</span><div><pre class="pre codeblock"><code>C:\&gt;crsctl stop crs -f</code></pre></div>
                           </li>
                           <li class="stepexpand"><span>Begin to start Oracle Clusterware by running the following command as a member of the Administrators group on all of the nodes:</span><div><pre class="pre codeblock"><code>C:\&gt;crsctl start crs</code></pre></div>
                           </li>
                           <li class="stepexpand"><span>Run the following Cluster Verification Utility (CVU) command to verify OCR integrity of all of the nodes in your cluster database:</span><div><pre class="pre codeblock"><code>C:\&gt;cluvfy comp ocr -n all -verbose</code></pre></div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>Related Topics</strong></p>
                           <ul>
                              <li><a href="managing-oracle-cluster-registry-and-voting-files.html#GUID-6921B0DB-4C97-48D6-9128-373544663DCF">Listing Backup Files</a></li>
                              <li><a href="../install-and-upgrade.html" target="_blank"><span><cite>Oracle Grid Infrastructure Installation and Upgrade Guide</cite></span></a></li>
                              <li><a href="../ostmg/admin-asm-diskgroups.html#OSTMG-GUID-C455CEB1-0FC3-4DF4-9CD4-25EFA4D2BE01" target="_blank"><span><cite>Oracle Automatic Storage Management Administrator's Guide</cite></span></a></li>
                              <li><a href="cluster-verification-utility-reference.html#GUID-B445A858-9F00-4423-990E-109545AC11C3" title="CVU can verify the primary cluster components during an operational phase or stage.The following table includes deprecated and desupported CLUVFY commands:This section lists and describes CVU commands.Checks the integrity of Oracle Automatic Storage Management Cluster File System (Oracle ACFS) on all nodes in a cluster.Checks the required administrative privileges for the operation specified by -o parameter on all the nodes that you specify in the node list.Checks the integrity of Oracle Automatic Storage Management (Oracle ASM) on specific nodes in the cluster.Captures system and cluster configuration information to create a baseline.Checks clock synchronization across all the nodes in the node list.Checks the integrity of the cluster manager subcomponent, or Oracle Cluster Synchronization Services (CSS), on the nodes in the node list.Checks the integrity of the Cluster Ready Services (CRS) daemon on the specified nodes.Verifies that the DHCP server exists on the network, and that it can provide a required number of IP addresses.Verifies that the Grid Naming Service (GNS) subdomain delegation has been properly set up in the Domain Name Service (DNS) server.Checks the free space available in the Oracle Clusterware home storage and ensure that there is at least 5% of the total space available. Verifies the integrity of the Grid Naming Service (GNS) on the cluster.Checks the integrity of Grid Plug and Play on a list of nodes in a cluster.Checks the integrity of Oracle Restart on the local node.Checks your Oracle Clusterware and Oracle Database installations for their compliance with mandatory requirements and best practices guidelines, and to ensure that they are functioning properly.Checks for the existence of node applications, namely VIP, NETWORK, and ONS, on all of the specified nodes.Checks the connectivity among the nodes specified in the node list. If you provide an interface list, then CVU checks the connectivity using only the specified interfaces.Determines whether a source node can communicate with other, specific nodes.Checks the integrity of Oracle Cluster Registry (OCR) on all specified nodes.Checks the integrity of the Oracle High Availability Services daemon.Checks the integrity of Oracle Local Registry (OLR) on the local node.Checks the compatibility and properties of the specified nodes against a reference node.Checks the Single Client Access Name (SCAN) configuration.Checks the files and attributes installed with the Oracle software.Checks for free disk space at the location you specify in the -l parameter on all the specified nodes.Use the cluvfy comp ssa component verification command to discover and check the sharing of the specified storage locations. CVU checks sharing for nodes in the node list.Checks that the minimum system requirements are met for the specified product on all the specified nodes.Checks the voting files configuration and the udev settings for the voting files on all the specified nodes.Use the cluvfy stage -pre acfscfg command to verify your cluster nodes are set up correctly before configuring Oracle Automatic Storage Management Cluster File System (Oracle ACFS). Use the cluvfy stage -post acfscfg to check an existing cluster after you configure Oracle ACFS.Performs the appropriate post stage checks for Oracle Clusterware application cluster installation on all the nodes.Use the cluvfy stage -pre cfs stage verification command to verify your cluster nodes are set up correctly before configuring OCFS2. Use the cluvfy stage -post cfs stage verification command to perform the appropriate checks on the specified nodes after configuring OCFS2.Use the cluvfy stage -pre crsinst command with either the -file, -n, -flex, or -upgrade parameters to check the specified nodes before installing or upgrading Oracle Clusterware. Use the cluvfy stage -post crsinst command to check the specified nodes after installing Oracle Clusterware.Checks the specified nodes before configuring an Oracle RAC database to verify whether your system meets all of the criteria for creating a database or for making a database configuration change.Checks the specified nodes before installing or creating an Oracle RAC database to verify that your system meets all of the criteria for installing or creating an Oracle RAC database.Checks the local node after configuring Oracle Restart.Checks network and storage on the specified nodes in the cluster before installing Oracle software. This command also checks for supported storage types and checks each one for sharing.Use the cluvfy stage -pre nodeadd command to verify the specified nodes are configured correctly before adding them to your existing cluster, and to verify the integrity of the cluster before you add the nodes. Use the cluvfy stage -post nodeadd command to verify that the specified nodes have been successfully added to the cluster at the network, shared storage, and clusterware levels.Verifies that specific nodes have been successfully deleted from a cluster. Typically, this command verifies that the node-specific interface configuration details have been removed, the nodes are no longer a part of cluster configuration, and proper Oracle ASM cleanup has been performed.">Cluster Verification Utility Reference</a></li>
                           </ul>
                        </div>
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-F15F9F72-90F3-456D-8E55-5E3FA0959392" name="GUID-F15F9F72-90F3-456D-8E55-5E3FA0959392"></a><h5 id="CWADD-GUID-F15F9F72-90F3-456D-8E55-5E3FA0959392" class="sect5">Restoring the Oracle Cluster Registry in an Oracle Restart Environment</h5>
                     <div>
                        <p>Use this procedure to restore OCR in an Oracle Restart environment.</p>
                        <div class="section">
                           <div class="infoboxnote" id="GUID-F15F9F72-90F3-456D-8E55-5E3FA0959392__GUID-F6F7178A-5A04-4A25-9FD4-309F79C18B4F">
                              <p class="notep1">Note:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>OCR is present for backward compatibility.</p>
                                 </li>
                                 <li>
                                    <p>Once an OCR location is created, it does not get updated in the Oracle Restart environment.</p>
                                 </li>
                                 <li>
                                    <p>If the Oracle Restart home has been backed up, and if there is a failure, then restoring the Oracle Restart home restores OCR.</p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>Stop Oracle High Availability Services by running the following command as <code class="codeph">root</code> on all of the nodes:</span><div><pre class="pre codeblock"><code># crsctl stop has [-f]</code></pre></div>
                           </li>
                           <li class="stepexpand"><span>Run the <code class="codeph">ocrcheck -config</code> command to determine the OCR location and then create an empty (0 byte) OCR location with appropriate permissions in that location.</span></li>
                           <li class="stepexpand"><span>Restore OCR by running the following command as <code class="codeph">root</code>:</span><div><pre class="pre codeblock"><code># crsctl pin css -n <span class="variable" translate="no">host_name</span></code></pre><div class="infoboxnote" id="GUID-F15F9F72-90F3-456D-8E55-5E3FA0959392__GUID-E91D4120-BD84-41EB-B5DB-7FFCD773F85A">
                                    <p class="notep1">Note:</p>
                                    <p>Ensure that the OCR devices that you specify in the OCR configuration exist and that these OCR devices are valid.</p>
                                 </div>
                                 <div class="infoboxnotealso" id="GUID-F15F9F72-90F3-456D-8E55-5E3FA0959392__GUID-D75CA63F-4D83-4636-8C44-EE2A760601D7">
                                    <p class="notep1">See Also:</p>
                                    <p><span><cite>Oracle Grid Infrastructure Installation and Upgrade Guide</cite></span> for information about creating OCRs
                                    </p>
                                 </div>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Run the <code class="codeph">ocrcheck</code> command to verify the integrity of OCR:</span></li>
                           <li class="stepexpand"><span>Start Oracle High Availability Services by running the following command on all of the nodes:</span><div><pre class="pre codeblock"><code>$ crsctl start has</code></pre></div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>Related Topics</strong></p>
                           <ul>
                              <li><a href="../install-and-upgrade.html" target="_blank"><span><cite>Oracle Grid Infrastructure Installation and Upgrade Guide</cite></span></a></li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div><a id="CWADD90974"></a><div class="props_rev_3"><a id="GUID-D3B9559B-054A-4574-854E-9865FEDF5EDD" name="GUID-D3B9559B-054A-4574-854E-9865FEDF5EDD"></a><h4 id="CWADD-GUID-D3B9559B-054A-4574-854E-9865FEDF5EDD" class="sect4">Diagnosing Oracle Cluster Registry Problems</h4>
                  <p>Use the OCRDUMP and OCRCHECK utilities to diagnose OCR problems.</p>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="oracle-cluster-registry-utility-reference.html#GUID-F4CE8CF1-24FD-43FA-BF62-70718955B386">OCRDUMP Utility Syntax and Options</a></li>
                           <li><a href="oracle-cluster-registry-utility-reference.html#GUID-458233B3-54A8-4D2E-A9B5-1D3BF6ADEAE5" title="The OCRCHECK utility displays the version of the OCR's block format, total space available and used space, OCRID, and the OCR locations that you have configured.">Using the OCRCHECK Utility</a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="CWADD834"></a><div class="props_rev_3"><a id="GUID-7B87F4D6-4146-4EB0-BD2F-17AED8C5F72E" name="GUID-7B87F4D6-4146-4EB0-BD2F-17AED8C5F72E"></a><h4 id="CWADD-GUID-7B87F4D6-4146-4EB0-BD2F-17AED8C5F72E" class="sect4">Administering Oracle Cluster Registry with Export and Import Commands</h4>
                  <div>
                     <p><a id="d37753e3893" class="indexterm-anchor"></a>In addition to using the automatically created OCR backup files, you should also export OCR contents before and after making significant configuration changes, such as adding or deleting nodes from your environment, modifying Oracle Clusterware resources, and upgrading, downgrading or creating a database. Do this by using the <code class="codeph">ocrconfig -export</code> command, which exports OCR content to a file format.
                     </p>
                     <div class="infoboxnote" id="GUID-7B87F4D6-4146-4EB0-BD2F-17AED8C5F72E__GUID-B5864A03-9AE3-4345-9996-F67600461A23">
                        <p class="notep1">Caution:</p>
                        <p>Note the following restrictions for restoring OCR:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The file format generated by <code class="codeph">ocrconfig -restore</code> is incompatible with the file format generated by <code class="codeph">ocrconfig -export</code>. The <code class="codeph">ocrconfig -export</code> and <code class="codeph">ocrconfig -import</code> commands are compatible. The <code class="codeph">ocrconfig -manualbackup</code> and <code class="codeph">ocrconfig -restore</code> commands are compatible. The two file formats are incompatible and must not be interchangeably used.
                              </p>
                           </li>
                           <li>
                              <p>When exporting OCR, Oracle recommends including "<code class="codeph">ocr</code>", the cluster name, and the timestamp in the name string. For example:
                              </p><pre class="oac_no_warn" dir="ltr">ocr_mycluster1_20090521_2130_export</pre></li>
                        </ul>
                     </div>
                     <p><a id="d37753e3936" class="indexterm-anchor"></a><a id="d37753e3940" class="indexterm-anchor"></a>Using the <code class="codeph">ocrconfig -export</code> command also enables you to restore OCR using the <code class="codeph">-import</code> option if your configuration changes cause errors. For example, if you have <a id="d37753e3951" class="indexterm-anchor"></a>configuration problems that you cannot resolve, or if you are unable to restart Oracle Clusterware after such changes, then restore your configuration using the procedure for your platform.
                     </p>
                     <p>Oracle recommends that you use either automatic or manual backups, and the <code class="codeph">ocrconfig -restore</code> command instead of the <code class="codeph">ocrconfig -export</code> and <code class="codeph">ocrconfig -import</code> commands to restore OCR for the following reasons:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>A backup is a consistent snapshot of OCR, whereas an export is not.</p>
                        </li>
                        <li>
                           <p>Backups are created when the system is online. You must shut down Oracle Clusterware on all nodes in the cluster to get a consistent snapshot using the <code class="codeph">ocrconfig -export</code> command.
                           </p>
                        </li>
                        <li>
                           <p>You can inspect a backup using the OCRDUMP utility. You cannot inspect the contents of an export.</p>
                        </li>
                        <li>
                           <p>You can list backups with the <code class="codeph">ocrconfig -showbackup</code> command, whereas <span class="italic">you</span> must keep track of all generated exports.
                           </p>
                        </li>
                     </ul>
                     <p>This section includes the following topics:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="managing-oracle-cluster-registry-and-voting-files.html#GUID-257FAFEE-51BE-4472-96F3-22DF84023793" title="Use this procedure to import OCR on Linux or UNIX systems.">Importing Oracle Cluster Registry Content on Linux or UNIX Systems</a></p>
                        </li>
                        <li>
                           <p><a href="managing-oracle-cluster-registry-and-voting-files.html#GUID-DBF6C260-369E-47B3-B8F2-495A703ABC8E" title="Use this procedure to import OCR on Windows systems.">Importing Oracle Cluster Registry Content on Windows Systems</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-7B87F4D6-4146-4EB0-BD2F-17AED8C5F72E__GUID-3D39B776-87C6-40D5-9B8C-2D8E9F233C80">
                        <p class="notep1">Note:</p>
                        <p>Most configuration changes that you make not only change OCR contents, the configuration changes also cause file and database object creation. Some of these changes are often not restored when you restore OCR. Do not restore OCR as a correction to revert to previous configurations, if some of these configuration changes should fail. This may result in an OCR location that has contents that do not match the state of the rest of your system.</p>
                     </div>
                  </div><a id="CWADD90977"></a><div class="props_rev_3"><a id="GUID-257FAFEE-51BE-4472-96F3-22DF84023793" name="GUID-257FAFEE-51BE-4472-96F3-22DF84023793"></a><h5 id="CWADD-GUID-257FAFEE-51BE-4472-96F3-22DF84023793" class="sect5">Importing Oracle Cluster Registry Content on Linux or UNIX Systems</h5>
                     <div>
                        <p>Use this procedure to import OCR on Linux or UNIX systems.</p>
                        <div class="section">
                           <div class="infoboxnote" id="GUID-257FAFEE-51BE-4472-96F3-22DF84023793__GUID-397DBF26-DA77-43D6-A909-9ADD2A77F839">
                              <p class="notep1">Note:</p>
                              <p>This procedure assumes default installation of Oracle Clusterware on all nodes in the cluster, where Oracle Clusterware autostart is enabled.</p>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>List the nodes in your cluster by running the following command on one node:</span><div><pre class="pre codeblock"><code>$ olsnodes	</code></pre></div>
                           </li>
                           <li class="stepexpand"><span>Stop Oracle Clusterware by running the following command as <code class="codeph">root</code> on all of the nodes:</span><div><pre class="pre codeblock"><code># crsctl stop crs</code></pre><p>If the preceding command returns any error due to OCR corruption, stop Oracle Clusterware by running the following command as <code class="codeph">root</code> on all of the nodes:
                                 </p><pre class="pre codeblock"><code># crsctl stop crs -f</code></pre></div>
                           </li>
                           <li class="stepexpand"><span>Start the Oracle Clusterware stack on one node in exclusive mode by running the following command as <code class="codeph">root</code>:</span><div><pre class="pre codeblock"><code># crsctl start crs -excl</code></pre><p>Ignore any errors that display.</p>
                                 <p>Check whether CRSD is running. If it is, stop it by running the following command as <code class="codeph">root</code>:
                                 </p><pre class="pre codeblock"><code># crsctl stop resource ora.crsd -init</code></pre><div class="infoboxnote" id="GUID-257FAFEE-51BE-4472-96F3-22DF84023793__GUID-9035DE83-4A8F-4B22-A4F3-892FD5256DD8">
                                    <p class="notep1">Caution:</p>
                                    <p><span class="italic">Do not</span> use the <code class="codeph">-init</code> flag with any other command.
                                    </p>
                                 </div>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Import OCR by running the following command as <code class="codeph">root</code>:</span><div><pre class="pre codeblock"><code># ocrconfig -import <span class="variable" translate="no">file_name</span></code></pre><p>If you are importing OCR to a cluster or network file system, then skip to step <a href="managing-oracle-cluster-registry-and-voting-files.html#GUID-257FAFEE-51BE-4472-96F3-22DF84023793__BGBIJGAI">7</a>.
                                 </p>
                                 <div class="infoboxnote" id="GUID-257FAFEE-51BE-4472-96F3-22DF84023793__GUID-B12EC987-97CC-4525-92E7-C7DB2E2C28A1">
                                    <p class="notep1">Note:</p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p>If the original OCR location does not exist, then you must create an empty (0 byte) OCR location before you run the <code class="codeph">ocrconfig -import</code> command.
                                          </p>
                                       </li>
                                       <li>
                                          <p>Ensure that the OCR devices that you specify in the OCR configuration exist and that these OCR devices are valid.</p>
                                       </li>
                                       <li>
                                          <p>If you configured OCR in an Oracle ASM disk group, then ensure that the Oracle ASM disk group exists and is mounted.</p>
                                       </li>
                                    </ul>
                                 </div>
                                 <div class="infoboxnotealso" id="GUID-257FAFEE-51BE-4472-96F3-22DF84023793__GUID-F784FF21-BF8F-45C2-9D45-D086D077E213">
                                    <p class="notep1">See Also:</p>
                                    <p><span><cite>Oracle Grid Infrastructure Installation and Upgrade Guide</cite></span> for information about creating OCRs
                                    </p>
                                 </div>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Verify the integrity of OCR:</span><div><pre class="pre codeblock"><code># ocrcheck</code></pre></div>
                           </li>
                           <li class="stepexpand"><span>Stop Oracle Clusterware on the node where it is running in exclusive mode:</span><div><pre class="pre codeblock"><code># crsctl stop crs -f</code></pre></div>
                           </li>
                           <li class="stepexpand" id="GUID-257FAFEE-51BE-4472-96F3-22DF84023793__BGBIJGAI"><span>Begin to start Oracle Clusterware by running the following command as <code class="codeph">root</code> on all of the nodes:</span><div><pre class="pre codeblock"><code># crsctl start crs</code></pre></div>
                           </li>
                           <li class="stepexpand"><span>Verify OCR integrity of all of the cluster nodes that are configured as part of your cluster by running the following CVU command:</span><div><pre class="pre codeblock"><code>$ cluvfy comp ocr -n all -verbose</code></pre></div>
                           </li>
                        </ol>
                        <div class="section">
                           <div class="infoboxnote" id="GUID-257FAFEE-51BE-4472-96F3-22DF84023793__GUID-97C8B82D-8ADD-412F-8D86-11CBFFA01BFC">
                              <p class="notep1">Note:</p>
                              <p>You <span class="italic">can only</span> import an exported OCR. To restore OCR from a backup, you must instead use the <code class="codeph">-restore</code> option, as described in <span class="q">"Backing Up Oracle Cluster Registry"</span>.
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>Related Topics</strong></p>
                           <ul>
                              <li><a href="../install-and-upgrade.html" target="_blank"><span><cite>Oracle Grid Infrastructure Installation and Upgrade Guide</cite></span></a></li>
                              <li><a href="../ostmg/admin-asm-diskgroups.html#OSTMG-GUID-C455CEB1-0FC3-4DF4-9CD4-25EFA4D2BE01" target="_blank"><span><cite>Oracle Automatic Storage Management Administrator's Guide</cite></span></a></li>
                              <li><a href="managing-oracle-cluster-registry-and-voting-files.html#GUID-8554ACE4-44DF-4DB5-A939-1DC6D62BAE60">Backing Up Oracle Cluster Registry</a></li>
                              <li><a href="cluster-verification-utility-reference.html#GUID-B445A858-9F00-4423-990E-109545AC11C3" title="CVU can verify the primary cluster components during an operational phase or stage.The following table includes deprecated and desupported CLUVFY commands:This section lists and describes CVU commands.Checks the integrity of Oracle Automatic Storage Management Cluster File System (Oracle ACFS) on all nodes in a cluster.Checks the required administrative privileges for the operation specified by -o parameter on all the nodes that you specify in the node list.Checks the integrity of Oracle Automatic Storage Management (Oracle ASM) on specific nodes in the cluster.Captures system and cluster configuration information to create a baseline.Checks clock synchronization across all the nodes in the node list.Checks the integrity of the cluster manager subcomponent, or Oracle Cluster Synchronization Services (CSS), on the nodes in the node list.Checks the integrity of the Cluster Ready Services (CRS) daemon on the specified nodes.Verifies that the DHCP server exists on the network, and that it can provide a required number of IP addresses.Verifies that the Grid Naming Service (GNS) subdomain delegation has been properly set up in the Domain Name Service (DNS) server.Checks the free space available in the Oracle Clusterware home storage and ensure that there is at least 5% of the total space available. Verifies the integrity of the Grid Naming Service (GNS) on the cluster.Checks the integrity of Grid Plug and Play on a list of nodes in a cluster.Checks the integrity of Oracle Restart on the local node.Checks your Oracle Clusterware and Oracle Database installations for their compliance with mandatory requirements and best practices guidelines, and to ensure that they are functioning properly.Checks for the existence of node applications, namely VIP, NETWORK, and ONS, on all of the specified nodes.Checks the connectivity among the nodes specified in the node list. If you provide an interface list, then CVU checks the connectivity using only the specified interfaces.Determines whether a source node can communicate with other, specific nodes.Checks the integrity of Oracle Cluster Registry (OCR) on all specified nodes.Checks the integrity of the Oracle High Availability Services daemon.Checks the integrity of Oracle Local Registry (OLR) on the local node.Checks the compatibility and properties of the specified nodes against a reference node.Checks the Single Client Access Name (SCAN) configuration.Checks the files and attributes installed with the Oracle software.Checks for free disk space at the location you specify in the -l parameter on all the specified nodes.Use the cluvfy comp ssa component verification command to discover and check the sharing of the specified storage locations. CVU checks sharing for nodes in the node list.Checks that the minimum system requirements are met for the specified product on all the specified nodes.Checks the voting files configuration and the udev settings for the voting files on all the specified nodes.Use the cluvfy stage -pre acfscfg command to verify your cluster nodes are set up correctly before configuring Oracle Automatic Storage Management Cluster File System (Oracle ACFS). Use the cluvfy stage -post acfscfg to check an existing cluster after you configure Oracle ACFS.Performs the appropriate post stage checks for Oracle Clusterware application cluster installation on all the nodes.Use the cluvfy stage -pre cfs stage verification command to verify your cluster nodes are set up correctly before configuring OCFS2. Use the cluvfy stage -post cfs stage verification command to perform the appropriate checks on the specified nodes after configuring OCFS2.Use the cluvfy stage -pre crsinst command with either the -file, -n, -flex, or -upgrade parameters to check the specified nodes before installing or upgrading Oracle Clusterware. Use the cluvfy stage -post crsinst command to check the specified nodes after installing Oracle Clusterware.Checks the specified nodes before configuring an Oracle RAC database to verify whether your system meets all of the criteria for creating a database or for making a database configuration change.Checks the specified nodes before installing or creating an Oracle RAC database to verify that your system meets all of the criteria for installing or creating an Oracle RAC database.Checks the local node after configuring Oracle Restart.Checks network and storage on the specified nodes in the cluster before installing Oracle software. This command also checks for supported storage types and checks each one for sharing.Use the cluvfy stage -pre nodeadd command to verify the specified nodes are configured correctly before adding them to your existing cluster, and to verify the integrity of the cluster before you add the nodes. Use the cluvfy stage -post nodeadd command to verify that the specified nodes have been successfully added to the cluster at the network, shared storage, and clusterware levels.Verifies that specific nodes have been successfully deleted from a cluster. Typically, this command verifies that the node-specific interface configuration details have been removed, the nodes are no longer a part of cluster configuration, and proper Oracle ASM cleanup has been performed.">Cluster Verification Utility Reference</a></li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="CWADD90978"></a><div class="props_rev_3"><a id="GUID-DBF6C260-369E-47B3-B8F2-495A703ABC8E" name="GUID-DBF6C260-369E-47B3-B8F2-495A703ABC8E"></a><h5 id="CWADD-GUID-DBF6C260-369E-47B3-B8F2-495A703ABC8E" class="sect5">Importing Oracle Cluster Registry Content on Windows Systems</h5>
                     <div>
                        <p>Use this procedure to import OCR on Windows systems.</p>
                        <div class="section">
                           <div class="infoboxnote" id="GUID-DBF6C260-369E-47B3-B8F2-495A703ABC8E__GUID-2E1B0179-6501-4D84-B6FF-2AA4866EFF4F">
                              <p class="notep1">Note:</p>
                              <p>This procedure assumes default installation of Oracle Clusterware on all nodes in the cluster, where Oracle Clusterware autostart is enabled.</p>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>List the nodes in your cluster by running the following command on one node:</span><div><pre class="pre codeblock"><code>C:\&gt;olsnodes</code></pre></div>
                           </li>
                           <li class="stepexpand"><span>Stop Oracle Clusterware by running the following command as a member of the Administrators group on all of the nodes:</span><div><pre class="pre codeblock"><code>C:\&gt;crsctl stop crs
</code></pre><p>If the preceding command returns any error due to OCR corruption, stop Oracle Clusterware by running the following command as a member of the Administrators group on all of the nodes:</p><pre class="pre codeblock"><code>C:\&gt;crsctl stop crs -f</code></pre></div>
                           </li>
                           <li class="stepexpand"><span>Start the Oracle Clusterware stack on one node in exclusive mode by running the following command as a member of the Administrators group:</span><div><pre class="pre codeblock"><code>C:\&gt;crsctl start crs -excl</code></pre><p>Ignore any errors that display.</p>
                                 <p>Check whether CRSD is running. If it is, stop it by running the following command as a member of the Administrators group:</p><pre class="pre codeblock"><code>C:\&gt;crsctl stop resource ora.crsd -init</code></pre><div class="infoboxnote" id="GUID-DBF6C260-369E-47B3-B8F2-495A703ABC8E__GUID-8F2E6637-4378-4602-BEF9-7FB4989FAD2F">
                                    <p class="notep1">Caution:</p>
                                    <p><span class="italic">Do not</span> use the <code class="codeph">-init</code> flag in any other command.
                                    </p>
                                 </div>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Import OCR by running the following command as a member of the Administrators group:</span><div><pre class="pre codeblock"><code>C:\&gt;ocrconfig -import <span class="variable" translate="no">file_name</span></code></pre><p>Make sure that the OCR devices that you specify in the OCR configuration exist and that these OCR devices are valid.</p>
                                 <div class="infoboxnote" id="GUID-DBF6C260-369E-47B3-B8F2-495A703ABC8E__GUID-66408D96-B1B7-498F-9302-1BA50A47C8C4">
                                    <p class="notep1">Note:</p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p>If the original OCR location does not exist, then you must create an empty (0 byte) OCR location before you run the <code class="codeph">ocrconfig -import</code> command.
                                          </p>
                                       </li>
                                       <li>
                                          <p>Ensure that the OCR devices that you specify in the OCR configuration exist and that these OCR devices are valid.</p>
                                       </li>
                                       <li>
                                          <p>Ensure that the Oracle ASM disk group you specify exists and is mounted.</p>
                                       </li>
                                    </ul>
                                 </div>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Verify the integrity of OCR:</span><div><pre class="pre codeblock"><code>C:\&gt;ocrcheck</code></pre></div>
                           </li>
                           <li class="stepexpand"><span>Stop Oracle Clusterware on the node where it is running in exclusive mode:</span><div><pre class="pre codeblock"><code>C:\&gt;crsctl stop crs -f</code></pre></div>
                           </li>
                           <li class="stepexpand"><span>Begin to start Oracle Clusterware by running the following command as a member of the Administrators group on all of the nodes:</span><div><pre class="pre codeblock"><code>C:\&gt;crsctl start crs</code></pre></div>
                           </li>
                           <li class="stepexpand"><span>Run the following Cluster Verification Utility (CVU) command to verify OCR integrity of all of the nodes in your cluster database:</span><div><pre class="pre codeblock"><code>C:\&gt;cluvfy comp ocr -n all -verbose</code></pre></div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>Related Topics</strong></p>
                           <ul>
                              <li><a href="../ostmg/admin-asm-diskgroups.html#OSTMG-GUID-C455CEB1-0FC3-4DF4-9CD4-25EFA4D2BE01" target="_blank"><span><cite>Oracle Automatic Storage Management Administrator's Guide</cite></span></a></li>
                              <li><a href="cluster-verification-utility-reference.html#GUID-B445A858-9F00-4423-990E-109545AC11C3" title="CVU can verify the primary cluster components during an operational phase or stage.The following table includes deprecated and desupported CLUVFY commands:This section lists and describes CVU commands.Checks the integrity of Oracle Automatic Storage Management Cluster File System (Oracle ACFS) on all nodes in a cluster.Checks the required administrative privileges for the operation specified by -o parameter on all the nodes that you specify in the node list.Checks the integrity of Oracle Automatic Storage Management (Oracle ASM) on specific nodes in the cluster.Captures system and cluster configuration information to create a baseline.Checks clock synchronization across all the nodes in the node list.Checks the integrity of the cluster manager subcomponent, or Oracle Cluster Synchronization Services (CSS), on the nodes in the node list.Checks the integrity of the Cluster Ready Services (CRS) daemon on the specified nodes.Verifies that the DHCP server exists on the network, and that it can provide a required number of IP addresses.Verifies that the Grid Naming Service (GNS) subdomain delegation has been properly set up in the Domain Name Service (DNS) server.Checks the free space available in the Oracle Clusterware home storage and ensure that there is at least 5% of the total space available. Verifies the integrity of the Grid Naming Service (GNS) on the cluster.Checks the integrity of Grid Plug and Play on a list of nodes in a cluster.Checks the integrity of Oracle Restart on the local node.Checks your Oracle Clusterware and Oracle Database installations for their compliance with mandatory requirements and best practices guidelines, and to ensure that they are functioning properly.Checks for the existence of node applications, namely VIP, NETWORK, and ONS, on all of the specified nodes.Checks the connectivity among the nodes specified in the node list. If you provide an interface list, then CVU checks the connectivity using only the specified interfaces.Determines whether a source node can communicate with other, specific nodes.Checks the integrity of Oracle Cluster Registry (OCR) on all specified nodes.Checks the integrity of the Oracle High Availability Services daemon.Checks the integrity of Oracle Local Registry (OLR) on the local node.Checks the compatibility and properties of the specified nodes against a reference node.Checks the Single Client Access Name (SCAN) configuration.Checks the files and attributes installed with the Oracle software.Checks for free disk space at the location you specify in the -l parameter on all the specified nodes.Use the cluvfy comp ssa component verification command to discover and check the sharing of the specified storage locations. CVU checks sharing for nodes in the node list.Checks that the minimum system requirements are met for the specified product on all the specified nodes.Checks the voting files configuration and the udev settings for the voting files on all the specified nodes.Use the cluvfy stage -pre acfscfg command to verify your cluster nodes are set up correctly before configuring Oracle Automatic Storage Management Cluster File System (Oracle ACFS). Use the cluvfy stage -post acfscfg to check an existing cluster after you configure Oracle ACFS.Performs the appropriate post stage checks for Oracle Clusterware application cluster installation on all the nodes.Use the cluvfy stage -pre cfs stage verification command to verify your cluster nodes are set up correctly before configuring OCFS2. Use the cluvfy stage -post cfs stage verification command to perform the appropriate checks on the specified nodes after configuring OCFS2.Use the cluvfy stage -pre crsinst command with either the -file, -n, -flex, or -upgrade parameters to check the specified nodes before installing or upgrading Oracle Clusterware. Use the cluvfy stage -post crsinst command to check the specified nodes after installing Oracle Clusterware.Checks the specified nodes before configuring an Oracle RAC database to verify whether your system meets all of the criteria for creating a database or for making a database configuration change.Checks the specified nodes before installing or creating an Oracle RAC database to verify that your system meets all of the criteria for installing or creating an Oracle RAC database.Checks the local node after configuring Oracle Restart.Checks network and storage on the specified nodes in the cluster before installing Oracle software. This command also checks for supported storage types and checks each one for sharing.Use the cluvfy stage -pre nodeadd command to verify the specified nodes are configured correctly before adding them to your existing cluster, and to verify the integrity of the cluster before you add the nodes. Use the cluvfy stage -post nodeadd command to verify that the specified nodes have been successfully added to the cluster at the network, shared storage, and clusterware levels.Verifies that specific nodes have been successfully deleted from a cluster. Typically, this command verifies that the node-specific interface configuration details have been removed, the nodes are no longer a part of cluster configuration, and proper Oracle ASM cleanup has been performed.">Cluster Verification Utility Reference</a></li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div><a id="CWADD90963"></a><div class="props_rev_3"><a id="GUID-4DEA42E9-8E97-474B-AAD8-E5E626FB8B07" name="GUID-4DEA42E9-8E97-474B-AAD8-E5E626FB8B07"></a><h4 id="CWADD-GUID-4DEA42E9-8E97-474B-AAD8-E5E626FB8B07" class="sect4">Oracle Local Registry</h4>
                  <div>
                     <p>In Oracle Clusterware 12<span class="italic">c</span>, each node in a cluster has a local registry for node-specific resources, called an <a id="d37753e4746" class="indexterm-anchor"></a><a id="d37753e4750" class="indexterm-anchor"></a>Oracle Local Registry (OLR), that is installed and configured when Oracle Clusterware installs OCR. Multiple processes on each node have simultaneous read and write access to the OLR particular to the node on which they reside, regardless of whether Oracle Clusterware is running or fully functional.
                     </p>
                     <p>By default, OLR is located at <span class="italic"><code class="codeph">Grid_home</code></span><code class="codeph">/cdata/</code><span class="italic"><code class="codeph">host_name</code></span><code class="codeph">.olr</code> on each node.
                     </p>
                     <p>Manage OLR using the OCRCHECK, OCRDUMP, and OCRCONFIG utilities as <code class="codeph">root</code> with the <code class="codeph">-local</code> option.
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>You can check the status of OLR on the local node using the <a id="d37753e4780" class="indexterm-anchor"></a><a id="d37753e4784" class="indexterm-anchor"></a>OCRCHECK utility, as follows:
                           </p><pre class="oac_no_warn" dir="ltr"># ocrcheck -local

Status of Oracle Cluster Registry is as follows :
        Version                  :          3
        Total space (kbytes)     :     262132
        Used space (kbytes)      :      &nbsp;9200
        Available space (kbytes) :     252932
        ID                       : &nbsp;604793089
        Device/File Name         : /private2/crs/cdata/localhost/dglnx6.olr
                                   Device/File integrity check succeeded

        Local OCR integrity check succeeded
</pre></li>
                        <li>
                           <p>You can display the content of OLR on the local node to the text terminal that initiated the program using the <a id="d37753e4794" class="indexterm-anchor"></a><a id="d37753e4798" class="indexterm-anchor"></a>OCRDUMP utility, as follows:
                           </p><pre class="oac_no_warn" dir="ltr"># ocrdump -local -stdout
</pre></li>
                        <li>
                           <p>You can perform administrative tasks on OLR on the local node using the <a id="d37753e4808" class="indexterm-anchor"></a><a id="d37753e4812" class="indexterm-anchor"></a>OCRCONFIG utility.
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a id="d37753e4820" class="indexterm-anchor"></a>To export OLR to a file:
                                 </p><pre class="oac_no_warn" dir="ltr"># ocrconfig &#x2013;local &#x2013;export <span class="italic">file_name</span></pre><div class="infoboxnote" id="GUID-4DEA42E9-8E97-474B-AAD8-E5E626FB8B07__GUID-4B8A6070-237E-4DC6-A15F-F4DE5EB44351">
                                    <p class="notep1">Note:</p>
                                    <p></p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p>Oracle recommends that you use the <code class="codeph">-manualbackup</code> and <code class="codeph">-restore</code> commands and not the <code class="codeph">-import</code> and <code class="codeph">-export</code> commands.
                                          </p>
                                       </li>
                                       <li>
                                          <p>When exporting OLR, Oracle recommends including "<code class="codeph">olr</code>", the host name, and the timestamp in the name string. For example:
                                          </p><pre class="oac_no_warn" dir="ltr">olr_myhost1_20090603_0130_export</pre></li>
                                    </ul>
                                 </div>
                              </li>
                              <li>
                                 <p><a id="d37753e4857" class="indexterm-anchor"></a>To import a specified file to OLR:
                                 </p><pre class="oac_no_warn" dir="ltr"># ocrconfig &#x2013;local &#x2013;import <span class="italic">file_name</span>
</pre></li>
                              <li>
                                 <p><a id="d37753e4869" class="indexterm-anchor"></a>To manually back up OLR:
                                 </p><pre class="oac_no_warn" dir="ltr"># ocrconfig &#x2013;local &#x2013;manualbackup</pre><div class="infoboxnote" id="GUID-4DEA42E9-8E97-474B-AAD8-E5E626FB8B07__GUID-4DFA5399-F9B0-4353-B34C-978950F80703">
                                    <p class="notep1">Note:</p>
                                    <p>Oracle Clusterware backs up OLR after installation or upgrade and, by default, periodically backs up OLR, thereafter. At any time after the initial backup, you can manually back up OLR.</p>
                                    <p>Oracle also recommends that you create a new backup when you migrate OCR from Oracle ASM to other storage, or when you migrate OCR from other storage to Oracle ASM. </p>
                                    <p>The default backup location for the OLR is in the path <span class="italic"><code class="codeph">Grid_home</code></span><code class="codeph">/cdata/</code><span class="italic"><code class="codeph">host_name</code></span>. 
                                    </p>
                                 </div>
                              </li>
                              <li>
                                 <p><a id="d37753e4894" class="indexterm-anchor"></a>To view the contents of the OLR backup file:
                                 </p><pre class="oac_no_warn" dir="ltr">ocrdump -local -backupfile <span class="italic">olr_backup_file_name</span>
</pre></li>
                              <li>
                                 <p>To change the OLR backup location:</p><pre class="oac_no_warn" dir="ltr">ocrconfig -local -backuploc <span class="italic">new_olr_backup_path</span>
</pre></li>
                              <li>
                                 <p><a id="d37753e4914" class="indexterm-anchor"></a>To restore OLR:
                                 </p><pre class="oac_no_warn" dir="ltr"># crsctl stop crs
# ocrconfig -local -restore <span class="italic">file_name</span>
# ocrcheck -local
# crsctl start crs
$ cluvfy comp olr</pre></li>
                           </ul>
                        </li>
                     </ul>
                  </div>
               </div><a id="CWADD837"></a><div class="props_rev_3"><a id="GUID-1D3FDBE6-03ED-49B9-A181-2463C59331DA" name="GUID-1D3FDBE6-03ED-49B9-A181-2463C59331DA"></a><h4 id="CWADD-GUID-1D3FDBE6-03ED-49B9-A181-2463C59331DA" class="sect4">Upgrading and Downgrading the Oracle Cluster Registry Configuration</h4>
                  <div>
                     <div class="section">
                        <p><a id="d37753e5043" class="indexterm-anchor"></a><a id="d37753e5047" class="indexterm-anchor"></a>When you upgrade Oracle Clusterware, it automatically runs the <code class="codeph">ocrconfig -upgrade</code> command. To downgrade, follow the downgrade instructions for each component and also downgrade OCR using the <code class="codeph">ocrconfig -downgrade</code> command. If you are upgrading OCR, then you can use the OCRCHECK utility to verify the integrity of OCR.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="CWADD833"></a><div class="props_rev_3"><a id="GUID-00137A43-61A5-446B-BFEA-D7EFDA535E81" name="GUID-00137A43-61A5-446B-BFEA-D7EFDA535E81"></a><h3 id="CWADD-GUID-00137A43-61A5-446B-BFEA-D7EFDA535E81" class="sect3">Managing Voting Files</h3>
               <div>
                  <p>This section includes the following topics for managing voting files in your cluster:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="managing-oracle-cluster-registry-and-voting-files.html#GUID-7680E1EB-C91F-4B32-82B8-80AC5D57D13C" title="If you choose to store your voting files in Oracle ASM, then Oracle ASM stores all the voting files for the cluster in the disk group you choose.">Storing Voting Files on Oracle ASM</a></p>
                     </li>
                     <li>
                        <p><a href="managing-oracle-cluster-registry-and-voting-files.html#GUID-6F5C4029-78F0-4A06-ADC7-70E1E2C597C8" title="Oracle Clusterware automatically backs up voting file data in OCR as part of any configuration change and automatically restores the data to any voting file you add.">Backing Up Voting Files</a></p>
                     </li>
                     <li>
                        <p><a href="managing-oracle-cluster-registry-and-voting-files.html#GUID-D977F7F1-94FB-425C-A284-F45C102CE6C1">Restoring Voting Files</a></p>
                     </li>
                     <li>
                        <p><a href="managing-oracle-cluster-registry-and-voting-files.html#GUID-044D58CA-6392-40A1-AB31-C84A2A5A5CE6">Adding_ Deleting_ or Migrating Voting Files</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-00137A43-61A5-446B-BFEA-D7EFDA535E81__GUID-1E8B8703-4B81-46B8-B353-3CA22CB48159">
                     <p class="notep1">Caution:</p>
                     <p>The <code class="codeph">dd</code> commands used to back up and recover voting files in previous versions of Oracle Clusterware are not supported in Oracle Clusterware 12<span class="italic">c</span>. Restoring voting files that were copied using <code class="codeph">dd</code> or <code class="codeph">cp</code> commands can prevent the Oracle Clusterware 12<span class="italic">c</span> stack from coming up. Use the backup and restore procedures described in this chapter to ensure proper voting file functionality.
                     </p>
                  </div>
                  <div class="infoboxnote" id="GUID-00137A43-61A5-446B-BFEA-D7EFDA535E81__GUID-B7A4CAE8-5323-4A41-B880-2BFDF118E95A">
                     <p class="notep1">Note:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Voting file management requires a valid and working OCR. Before you add, delete, replace, or restore voting files, run the <code class="codeph">ocrcheck</code> command as <code class="codeph">root</code>. If OCR is not available or it is corrupt, then you must restore OCR as described in <span class="q">"Restoring Oracle Cluster Registry"</span>.
                           </p>
                        </li>
                        <li>
                           <p>If you upgrade from a previous version of Oracle Clusterware to Oracle Clusterware 12<span class="italic">c</span> and you want to store voting files in an Oracle ASM disk group, then you must set the <span class="bold">ASM Compatibility</span> (<code class="codeph">COMPATIBLE.ASM</code>) compatibility attribute to <code class="codeph">12.1.0.0</code>.
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="managing-oracle-cluster-registry-and-voting-files.html#GUID-648BB199-AFB9-416A-8438-E0331C255E78" title="A procedure for OCR restoration for your platform.">Restoring Oracle Cluster Registry</a></li>
                        <li><a href="../ostmg/diskgroup-compatibility.html#OSTMG-GUID-FBB5AA72-5208-48E1-BD8D-0FD4C6876F34" target="_blank"><span><cite>Oracle Automatic Storage Management Administrator's Guide</cite></span></a></li>
                     </ul>
                  </div>
               </div><a id="CWADD91889"></a><div class="props_rev_3"><a id="GUID-7680E1EB-C91F-4B32-82B8-80AC5D57D13C" name="GUID-7680E1EB-C91F-4B32-82B8-80AC5D57D13C"></a><h4 id="CWADD-GUID-7680E1EB-C91F-4B32-82B8-80AC5D57D13C" class="sect4">Storing Voting Files on Oracle ASM</h4>
                  <div>
                     <p>If you choose to store your voting files in Oracle ASM, then Oracle ASM stores all the voting files for the cluster in the disk group you choose.</p>
                     <p>Oracle ASM manages voting files differently from other files that it stores. You cannot use voting files stored in Oracle ASM and voting files not stored in Oracle ASM in the same cluster.</p>
                     <p>Once you configure voting files on Oracle ASM, you can only make changes to the voting files' configuration using the <code class="codeph">crsctl replace votedisk</code> command. This is true even in cases where there are no working voting files. Despite the fact that <code class="codeph">crsctl query css votedisk</code> reports zero vote disks in use, Oracle Clusterware remembers the fact that Oracle ASM was in use and the <code class="codeph">replace</code> verb is required. Only after you use the <code class="codeph">replace</code> verb to move voting files back to non-Oracle ASM storage are the verbs <code class="codeph">add css votedisk</code> and <code class="codeph">delete css votedisk</code> again usable.
                     </p>
                     <p>The number of voting files you can store in a particular Oracle ASM disk group depends upon the redundancy of the disk group.</p>
                     <p>By default, Oracle ASM puts each voting file in its own failure group within the disk group. A failure group is a subset of the disks in a disk group. Failure groups define disks that share components, such that if one fails then other disks sharing the component might also fail. An example of what you might define as a failure group would be a set of SCSI disks sharing the same SCSI controller. Failure groups are used to determine which Oracle ASM disks to use for storing redundant data. For example, if two-way mirroring is specified for a file, then redundant copies of file extents must be stored in separate failure groups.</p>
                     <p>The redundancy level that you choose for the Oracle ASM disk group determines how Oracle ASM mirrors files in the disk group, and determines the number of disks and amount of disk space that you require. If the voting files are in a disk group, then the disk groups that contain Oracle Clusterware files (OCR and voting files) have a higher minimum number of failure groups than other disk groups because the voting files are stored in quorum failure groups.</p>
                     <p>A quorum failure group is a special type of failure group that is used to store the Oracle Clusterware voting files. The quorum failure group is used to ensure that a quorum of the specified failure groups are available. When Oracle ASM mounts a disk group that contains Oracle Clusterware files, the quorum failure group is used to determine if the disk group can be mounted if there is a loss of one or more failure groups. Disks in the quorum failure group do not contain user data, therefore a quorum failure group is not considered when determining redundancy requirements in respect to storing user data.</p>
                     <p>An Oracle ASM flex disk group is a disk group type that supports Oracle ASM file groups and quota groups. In general, a flex disk group enables users to manage storage at the granularity of the database, in addition to at the disk group level.</p>
                     <p>Redundancy levels include:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="bold">External redundancy</span>: An external redundancy disk group requires a minimum of one disk device. The effective disk space in an external redundancy disk group is the sum of the disk space in all of its devices.
                           </p>
                           <p>Because Oracle ASM does not mirror data in an external redundancy disk group, Oracle recommends that you use external redundancy with storage devices such as RAID, or other similar devices that provide their own data protection mechanisms.</p>
                        </li>
                        <li>
                           <p><span class="bold">Normal redundancy</span>: A normal redundancy disk group requires a minimum of two disk devices (or two failure groups). The effective disk space in a normal redundancy disk group is half the sum of the disk space in all of its devices.
                           </p>
                           <p>For Oracle Clusterware files, a normal redundancy disk group requires a minimum of three disk devices (two of the three disks are used by failure groups and all three disks are used by the quorum failure group) and provides three voting files and one OCR and mirror of the OCR. When using a normal redundancy disk group, the cluster can survive the loss of one failure group.</p>
                        </li>
                        <li>
                           <p><span class="bold">High redundancy</span>: In a high redundancy disk group, Oracle ASM uses three-way mirroring to increase performance and provide the highest level of reliability. A high redundancy disk group requires a minimum of three disk devices (or three failure groups). The effective disk space in a high redundancy disk group is one-third the sum of the disk space in all of its devices.
                           </p>
                           <p>For Oracle Clusterware files, a high redundancy disk group requires a minimum of five disk devices (three of the five disks are used by failure groups and all five disks are used by the quorum failure group) and provides five voting files and one OCR and two mirrors of the OCR. With high redundancy, the cluster can survive the loss of two failure groups.</p>
                        </li>
                     </ul>
                     <p>Using the <code class="codeph">crsctl replace votedisk</code> command, you can move a given set of voting files from one Oracle ASM disk group into another, or onto a certified file system. If you move voting files from one Oracle ASM disk group to another, then you can change the number of voting files by placing them in a disk group of a different redundancy level as the former disk group.
                     </p>
                     <div class="infoboxnote" id="GUID-7680E1EB-C91F-4B32-82B8-80AC5D57D13C__GUID-A64F98A4-44B1-4CBD-87D9-51B30C52BB33">
                        <p class="notep1">Note:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>You cannot directly influence the number of voting files in one disk group.</p>
                           </li>
                           <li>
                              <p>You cannot use the <code class="codeph">crsctl add | delete votedisk</code> commands on voting files stored in Oracle ASM disk groups because Oracle ASM manages the number of voting files according to the redundancy level of the disk group.
                              </p>
                           </li>
                           <li>
                              <p>You cannot add a voting file to a cluster file system if the voting files are stored in an Oracle ASM disk group. Oracle does not support having voting files in Oracle ASM and directly on a cluster file system for the same cluster at the same time.</p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="../ostmg/diskgroup-compatibility.html#OSTMG-GUID-FBB5AA72-5208-48E1-BD8D-0FD4C6876F34" target="_blank"><span><cite>Oracle Automatic Storage Management Administrator's Guide</cite></span></a></li>
                           <li><a href="managing-oracle-cluster-registry-and-voting-files.html#GUID-044D58CA-6392-40A1-AB31-C84A2A5A5CE6">Adding, Deleting, or Migrating Voting Files</a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="CWADD90960"></a><div class="props_rev_3"><a id="GUID-6F5C4029-78F0-4A06-ADC7-70E1E2C597C8" name="GUID-6F5C4029-78F0-4A06-ADC7-70E1E2C597C8"></a><h4 id="CWADD-GUID-6F5C4029-78F0-4A06-ADC7-70E1E2C597C8" class="sect4">Backing Up Voting Files</h4>
                  <div>
                     <p>Oracle Clusterware automatically backs up voting file data in OCR as part of any configuration change and automatically restores the data to any voting file you add.</p>
                     <div class="section">
                        <p>If all voting files are corrupted, however, you can restore them as described in <span class="q">"Restoring Voting Files"</span>.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="managing-oracle-cluster-registry-and-voting-files.html#GUID-D977F7F1-94FB-425C-A284-F45C102CE6C1">Restoring Voting Files</a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="CWADD90961"></a><div class="props_rev_3"><a id="GUID-D977F7F1-94FB-425C-A284-F45C102CE6C1" name="GUID-D977F7F1-94FB-425C-A284-F45C102CE6C1"></a><h4 id="CWADD-GUID-D977F7F1-94FB-425C-A284-F45C102CE6C1" class="sect4">Restoring Voting Files</h4>
                  <div>
                     <div class="section">
                        <p>If all of the voting files are corrupted, then you can restore them, as follows:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Restore OCR as described in <span class="q">"Restoring Oracle Cluster Registry"</span>, if necessary.</span><div>
                              <p>This step is necessary only if OCR is also corrupted or otherwise unavailable, such as if OCR is on Oracle ASM and the disk group is no longer available.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Run the following command as <code class="codeph">root</code> from only one node to start the Oracle Clusterware stack in exclusive mode, which does not require voting files to be present or usable:</span><div><pre class="pre codeblock"><code># crsctl start crs -excl</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Run the <code class="codeph">crsctl query css votedisk</code> command to retrieve the list of voting files currently defined, similar to the following:</span><div><pre class="pre codeblock"><code>$ crsctl query css votedisk
--  -----    -----------------                --------- ---------
##  STATE    File Universal Id                File Name Disk group
 1. ONLINE   6f57843d89464c46ea747362e8a3fa43 (/dev/sdb1) [DATA]
 2. ONLINE   7c54856e98474f61bf349401e7c9fb95 (/dev/sdc1) [DATA]
 3. ONLINE   9c46232b76234f61fc934673d5c8ec59 (/dev/sdd1) [DATA]</code></pre><p>This list may be empty if all voting files were corrupted, or may have entries that are marked as status <code class="codeph">3</code> or <code class="codeph">OFF</code>.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Depending on where you store your voting files, do one of the following:</span><div>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>If the voting files are stored in Oracle ASM, then run the following command to migrate the voting files to the Oracle ASM disk group you specify:</p><pre class="pre codeblock"><code>crsctl replace votedisk +<span class="variable" translate="no">asm_disk_group</span></code></pre><p>The Oracle ASM disk group to which you migrate the voting files must exist in Oracle ASM. You can use this command whether the voting files were stored in Oracle ASM or some other storage device.</p>
                                 </li>
                                 <li>
                                    <p>If you did not store voting files in Oracle ASM, then run the following command using the File Universal Identifier (FUID) obtained in the previous step:</p><pre class="pre codeblock"><code>$ crsctl delete css votedisk <span class="variable" translate="no">FUID</span></code></pre><p>Add a voting file, as follows:</p><pre class="pre codeblock"><code>$ crsctl add css votedisk <span class="variable" translate="no">path_to_voting_disk</span></code></pre></li>
                              </ul>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Stop the Oracle Clusterware stack as <code class="codeph">root</code>:</span><div><pre class="pre codeblock"><code># crsctl stop crs</code></pre><div class="infoboxnote" id="GUID-D977F7F1-94FB-425C-A284-F45C102CE6C1__GUID-E8268B76-35CA-4299-8D0A-98A6C11A1637">
                                 <p class="notep1">Note:</p>
                                 <p>If the Oracle Clusterware stack is running in exclusive mode, then use the <code class="codeph">-f</code> option to force the shutdown of the stack.
                                 </p>
                              </div>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Restart the Oracle Clusterware stack in normal mode as <code class="codeph">root</code>:</span><div><pre class="pre codeblock"><code># crsctl start crs</code></pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="managing-oracle-cluster-registry-and-voting-files.html#GUID-648BB199-AFB9-416A-8438-E0331C255E78" title="A procedure for OCR restoration for your platform.">Restoring Oracle Cluster Registry</a></li>
                           <li><a href="../ostmg/admin-asm-diskgroups.html#OSTMG-GUID-C455CEB1-0FC3-4DF4-9CD4-25EFA4D2BE01" target="_blank"><span><cite>Oracle Automatic Storage Management Administrator's Guide</cite></span></a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="CWADD90962"></a><div class="props_rev_3"><a id="GUID-044D58CA-6392-40A1-AB31-C84A2A5A5CE6" name="GUID-044D58CA-6392-40A1-AB31-C84A2A5A5CE6"></a><h4 id="CWADD-GUID-044D58CA-6392-40A1-AB31-C84A2A5A5CE6" class="sect4">Adding, Deleting, or Migrating Voting Files</h4>
                  <div>
                     <p><a id="d37753e5993" class="indexterm-anchor"></a><a id="d37753e5997" class="indexterm-anchor"></a><a id="d37753e6001" class="indexterm-anchor"></a>You can add, remove, and migrate voting files after you install Oracle Clusterware. Note that the commands you use to do this are different, depending on whether your voting files are located in Oracle ASM, or are located in another storage option.
                     </p>
                  </div>
                  <div class="props_rev_3"><a id="GUID-168E2ACA-185B-48B7-AC17-49422A43A32D" name="GUID-168E2ACA-185B-48B7-AC17-49422A43A32D"></a><h5 id="CWADD-GUID-168E2ACA-185B-48B7-AC17-49422A43A32D" class="sect5">Modifying Voting Files that are Stored in Oracle ASM</h5>
                     <div>
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>To <a id="d37753e6132" class="indexterm-anchor"></a>display the voting file FUID and file path of each current voting file, run the <code class="codeph">crsctl query css votedisk</code> command to display output similar to the following:
                                 </p><pre class="oac_no_warn" dir="ltr">$ crsctl query css votedisk
--  -----    -----------------                --------- ---------
##  STATE    File Universal Id                File Name Disk group
 1. ONLINE   6f57843d89464c46ea747362e8a3fa43 (/dev/sdb1) [DATA]
 2. ONLINE   7c54856e98474f61bf349401e7c9fb95 (/dev/sdc1) [DATA]
 3. ONLINE   9c46232b76234f61fc934673d5c8ec59 (/dev/sdd1) [DATA]
</pre><p>This command returns a disk sequence number, the status of the disk, the FUID, the path of the disk, and the name of the Oracle ASM disk group on which the disk is stored.</p>
                              </li>
                              <li>
                                 <p><a id="d37753e6148" class="indexterm-anchor"></a>To migrate voting files from Oracle ASM to an alternative storage device, specify the path to the non-Oracle ASM storage device with which you want to replace the Oracle ASM disk group using the following command:
                                 </p><pre class="oac_no_warn" dir="ltr">$ crsctl replace votedisk <span class="italic">path_to_voting_disk</span>
</pre><p>You can run this command on any node in the cluster.</p>
                              </li>
                              <li>
                                 <p>To <a id="d37753e6163" class="indexterm-anchor"></a>replace all voting files not stored in Oracle ASM with voting files managed by Oracle ASM in an Oracle ASM disk group, run the following command:
                                 </p><pre class="oac_no_warn" dir="ltr">$ crsctl replace votedisk +<span class="italic">asm_disk_group</span></pre></li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-C5843B47-5815-4D64-B455-D27A2752A7A4" name="GUID-C5843B47-5815-4D64-B455-D27A2752A7A4"></a><h5 id="CWADD-GUID-C5843B47-5815-4D64-B455-D27A2752A7A4" class="sect5">Modifying Voting Files that are Not Stored on Oracle ASM</h5>
                     <div>
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>To <a id="d37753e6298" class="indexterm-anchor"></a>display the voting file FUID and file path of each current voting file, run the following command:
                                 </p><pre class="oac_no_warn" dir="ltr">$ crsctl query css votedisk
##  STATE    File Universal Id                File Name Disk group
--  -----    -----------------                --------- ---------
 1. ONLINE   7c54856e98474f61bf349401e7c9fb95 (/cfs/host09_vd3) []
</pre><p>This command returns a disk sequence number, the status of the disk, the FUID, and the path of the disk and no name of an Oracle ASM disk group.</p>
                              </li>
                              <li>
                                 <p>To <a id="d37753e6312" class="indexterm-anchor"></a>add one or more voting files, run the following command, replacing the <span class="italic"><code class="codeph">path_to_voting_disk</code></span> variable with one or more space-delimited, complete paths to the voting files you want to add:
                                 </p><pre class="oac_no_warn" dir="ltr">$ crsctl add css votedisk <span class="italic">path_to_voting_disk</span> [...]
</pre></li>
                              <li>
                                 <p>To <a id="d37753e6329" class="indexterm-anchor"></a>replace voting file A with voting file B, you must add voting file B, and then delete voting file A. To add a new disk and remove the existing disk, run the following command, replacing the <span class="italic"><code class="codeph">path_to_voting_diskB</code></span> variable with the fully qualified path name of voting file B:
                                 </p><pre class="oac_no_warn" dir="ltr">$ crsctl add css votedisk <span class="italic">path_to_voting_diskB</span> -purge
</pre><p>The <code class="codeph">-purge</code> option deletes existing voting files.
                                 </p>
                              </li>
                              <li>
                                 <p>To <a id="d37753e6351" class="indexterm-anchor"></a>remove a voting file, run the following command, specifying one or more space-delimited, voting file FUIDs or comma-delimited directory paths to the voting files you want to remove:
                                 </p><pre class="oac_no_warn" dir="ltr">$ crsctl delete css votedisk {<span class="italic">FUID</span> | <span class="italic">path_to_voting_disk</span>[...]}</pre></li>
                           </ul>
                           <div class="infoboxnote" id="GUID-C5843B47-5815-4D64-B455-D27A2752A7A4__GUID-1C98D09D-3B2D-4D56-AAAA-A2558A1E3AC4">
                              <p class="notep1">Note:</p>
                              <p>If the cluster is down and cannot restart due to lost voting files, then you must start CSS in exclusive mode by running the following command, as <code class="codeph">root</code>:
                              </p><pre class="oac_no_warn" dir="ltr"># crsctl start crs -excl
</pre><p>After you start CSS in exclusive mode, you can replace the voting file, as follows:</p><pre class="oac_no_warn" dir="ltr"># crsctl replace votedisk <span class="italic">path_to_voting_disk</span></pre></div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-B2F1E3CA-AD08-41C2-AC07-746F45EFDE3E" name="GUID-B2F1E3CA-AD08-41C2-AC07-746F45EFDE3E"></a><h5 id="CWADD-GUID-B2F1E3CA-AD08-41C2-AC07-746F45EFDE3E" class="sect5">Migrating Voting Files to Oracle ASM</h5>
                     <div>
                        <div class="section">
                           <p>To <a id="d37753e6497" class="indexterm-anchor"></a>migrate voting files to Oracle ASM, specify the Oracle ASM disk group name in the following command:
                           </p><pre class="oac_no_warn" dir="ltr">$ crsctl replace votedisk +<span class="italic">asm_disk_group</span>
</pre><p>You can run this command on any node in the cluster.</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-3CFFB9B4-9DD2-45F1-B4AF-90CB5FB51095" name="GUID-3CFFB9B4-9DD2-45F1-B4AF-90CB5FB51095"></a><h5 id="CWADD-GUID-3CFFB9B4-9DD2-45F1-B4AF-90CB5FB51095" class="sect5">Verifying the Voting File Location</h5>
                     <div>
                        <div class="section">
                           <p>After modifying the voting file, verify the voting file location, as follows:</p><pre class="pre codeblock"><code>$ crsctl query css votedisk</code></pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>Related Topics</strong></p>
                           <ul>
                              <li><a href="oracle-clusterware-control-crsctl-utility-reference.html#GUID-D8EE89D2-BC62-4C16-A157-BFFAD80295F8" title="Displays the voting files used by Cluster Synchronization Services, the status of the voting files, and the location of the disks, whether they are stored in Oracle ASM or elsewhere.">crsctl query css votedisk</a></li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='00087.flashback.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Using Oracle Flashback Technology</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database Development Guide">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database Development Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-development-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-31T23:23:15-08:00">
      <meta name="dcterms.title" content="Database Development Guide">
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96334-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="advanced-part.html" title="Previous" type="text/html">
      <link rel="next" href="application-architecture.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="ADFNS">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="advanced-part.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="application-architecture.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database Development Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="advanced-part.html" property="item" typeof="WebPage"><span property="name">Advanced Topics for Application Developers</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Using Oracle Flashback Technology</li>
            </ol>
            <a id="GUID-03D1CAAE-D940-444A-8771-B1BC636D105D" name="GUID-03D1CAAE-D940-444A-8771-B1BC636D105D"></a><a id="ADFNS1069"></a><a id="ADFNS1008"></a>
            
            <h2 id="ADFNS-GUID-03D1CAAE-D940-444A-8771-B1BC636D105D" class="sect2"><span class="enumeration_chapter">19 </span>Using Oracle Flashback Technology
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This chapter explains how to use Oracle Flashback Technology in database applications.</p>
               <div class="section">
                  <p class="subhead1" id="GUID-03D1CAAE-D940-444A-8771-B1BC636D105D__GUID-FCFE9B61-1D9A-4A0A-9483-D7F6945E940E">Topics:</p>
               </div>
               <!-- class="section" -->
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="flashback.html#GUID-CAC23AAE-AD5A-47FA-B446-B4DE00B2B876">Overview of Oracle Flashback Technology</a></p>
                  </li>
                  <li>
                     <p><a href="flashback.html#GUID-779FB434-F3EA-4334-8B2A-A328555B5AFF">Configuring Your Database for Oracle Flashback Technology</a></p>
                  </li>
                  <li>
                     <p><a href="flashback.html#GUID-0BD1F4BD-894B-47BA-A44B-74BCA4CFD60E">Using Oracle Flashback Query (SELECT AS OF)</a></p>
                  </li>
                  <li>
                     <p><a href="flashback.html#GUID-544C00A0-D4F5-4B32-BE2F-5332EDCDD039">Using Oracle Flashback Version Query</a></p>
                  </li>
                  <li>
                     <p><a href="flashback.html#GUID-212A4073-ABE2-4053-A852-3A41DEF6A24D">Using Oracle Flashback Transaction Query</a></p>
                  </li>
                  <li>
                     <p><a href="flashback.html#GUID-115952E6-DB02-48D5-A2D3-B5C04AB68063">Using Oracle Flashback Transaction Query with Oracle Flashback Version Query</a></p>
                  </li>
                  <li>
                     <p><a href="flashback.html#GUID-AE6515D5-F5F5-46BF-85D8-EB9349737691">Using DBMS_FLASHBACK Package</a></p>
                  </li>
                  <li>
                     <p><a href="flashback.html#GUID-43425A2F-5932-4310-B387-C08D5331A74F">Using Flashback Transaction</a></p>
                  </li>
                  <li>
                     <p><a href="flashback.html#GUID-06AA782A-3F79-4235-86D5-2D136485F093">Using Flashback Data Archive</a></p>
                  </li>
                  <li>
                     <p><a href="flashback.html#GUID-0DAA9454-D91A-46AC-A8E0-510670672F19">General Guidelines for Oracle Flashback Technology</a></p>
                  </li>
                  <li>
                     <p><a href="flashback.html#GUID-B681D62C-E66C-4C77-A03B-2C2CE8FA49CA">Performance Guidelines for Oracle Flashback Technology</a></p>
                  </li>
                  <li>
                     <p><a href="flashback.html#GUID-DECBC705-B421-4861-A341-E07EBB883AC9">Multitenant Container Database Restrictions for Oracle Flashback Technology</a></p>
                  </li>
               </ul>
            </div><a id="ADFNS1070"></a><a id="ADFNS01001"></a><div class="props_rev_3"><a id="GUID-CAC23AAE-AD5A-47FA-B446-B4DE00B2B876" name="GUID-CAC23AAE-AD5A-47FA-B446-B4DE00B2B876"></a><h3 id="ADFNS-GUID-CAC23AAE-AD5A-47FA-B446-B4DE00B2B876" class="sect3">Overview of Oracle Flashback Technology</h3>
               <div>
                  <p>Oracle Flashback Technology is a group of Oracle Database features that let you view past states of database objects or to return database objects to a previous state without using point-in-time media recovery.</p>
                  <p>With flashback features, you can:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Perform queries that return past data</p>
                     </li>
                     <li>
                        <p>Perform queries that return metadata that shows a detailed history of changes to the database</p>
                     </li>
                     <li>
                        <p>Recover tables or rows to a previous point in time</p>
                     </li>
                     <li>
                        <p>Automatically track and archive transactional data changes</p>
                     </li>
                     <li>
                        <p>Roll back a transaction and its dependent transactions while the database remains online</p>
                     </li>
                  </ul>
                  <p>Oracle Flashback features use the Automatic Undo Management (AUM) system to obtain metadata and historical data for transactions. They rely on <strong class="term">undo data</strong>, which are records of the effects of individual transactions. For example, if a user runs an <code class="codeph">UPDATE</code> statement to change a salary from 1000 to 1100, then Oracle Database stores the value 1000 in the undo data.
                  </p>
                  <p>Undo data is persistent and survives a database shutdown. It is retained for the time specified by <code class="codeph">undo_retention</code>, or up to the tuned undo retention in the presence of Automatic Undo Management (AUM). By using flashback features, you can use undo data to query past data or recover from logical damage. Besides using it in flashback features, Oracle Database uses undo data to perform these actions:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Roll back active transactions</p>
                     </li>
                     <li>
                        <p>Recover terminated transactions by using database or process recovery</p>
                     </li>
                     <li>
                        <p>Provide read consistency for SQL queries</p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-CAC23AAE-AD5A-47FA-B446-B4DE00B2B876__GUID-D68E454A-8FAC-4CFB-B827-6C344C2D38C9">
                     <p class="notep1">Note:</p>
                     <p>After executing a <code class="codeph">CREATE</code> <code class="codeph">TABLE</code> statement, wait at least 15 seconds to commit any transactions, to ensure that Oracle Flashback features (especially Oracle Flashback Version Query) reflect those transactions.
                     </p>
                  </div>
                  <div class="infoboxnote" id="GUID-CAC23AAE-AD5A-47FA-B446-B4DE00B2B876__GUID-FBD3ADC9-C9A4-4DCA-8C61-419C57426AD4">
                     <p class="notep1">Note:</p>
                     <p>Oracle Database recommends to avoid the usage of <code class="codeph">versions_starttime</code>, <code class="codeph">versions_endtime</code> or <code class="codeph">scn_to_timestamp</code> columns in 
                     </p>
                     <p><code class="codeph">VERSIONS</code> queries (including <code class="codeph">CTAS</code> queries) to improve the performance.
                     </p>
                  </div>
                  <div class="section">
                     <p class="subhead2" id="GUID-CAC23AAE-AD5A-47FA-B446-B4DE00B2B876__GUID-085A8492-72A8-43AB-847F-43819862187A">Topics:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="flashback.html#GUID-EFCF3C98-C700-4578-A4E1-1F57A0FBEC55">Application Development Features</a></p>
                        </li>
                        <li>
                           <p><a href="flashback.html#GUID-603A2020-1F8E-4C2C-BAE6-73454C4CFD7E">Database Administration Features</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-CAC23AAE-AD5A-47FA-B446-B4DE00B2B876__FORADDITIONALGENERALINFORMATIONABOU-CADB9C11">
                        <p class="notep1">See Also:</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=CNCPT1439" target="_blank"><span class="italic">Oracle Database Concepts</span></a> for more information about flashback features
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADFNS599"></a><a id="ADFNS364"></a><a id="ADFNS604"></a><a id="ADFNS623"></a><a id="ADFNS624"></a><a id="ADFNS625"></a><a id="ADFNS598"></a><div class="props_rev_3"><a id="GUID-EFCF3C98-C700-4578-A4E1-1F57A0FBEC55" name="GUID-EFCF3C98-C700-4578-A4E1-1F57A0FBEC55"></a><h4 id="ADFNS-GUID-EFCF3C98-C700-4578-A4E1-1F57A0FBEC55" class="sect4">Application Development Features</h4>
                  <div>
                     <p>In application development, you can use these flashback features to report historical data or undo erroneous changes. (You can also use these features interactively as a database user or administrator.)</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-EFCF3C98-C700-4578-A4E1-1F57A0FBEC55__GUID-CA81BED0-3487-4A9F-ABE5-8EE3947F1508">Oracle Flashback Query</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Use this feature to retrieve data for an earlier time that you specify with the <code class="codeph">AS</code> <code class="codeph">OF</code> clause of the <code class="codeph">SELECT</code> statement. 
                        </p>
                        <div class="infoboxnotealso" id="GUID-EFCF3C98-C700-4578-A4E1-1F57A0FBEC55__FORMOREINFORMATIONSEEUSINGORACLEFLA-CADBF787">
                           <p class="notep1">See Also:</p>
                           <p><a href="flashback.html#GUID-0BD1F4BD-894B-47BA-A44B-74BCA4CFD60E">Using Oracle Flashback Query (SELECT AS OF)</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EFCF3C98-C700-4578-A4E1-1F57A0FBEC55__GUID-9F42FBD8-3B4D-4468-94E2-C37882F3CB99">Oracle Flashback Version Query</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Use this feature to retrieve metadata and historical data for a specific time interval (for example, to view all the rows of a table that ever existed during a given time interval). Metadata for each row version includes start and end time, type of change operation, and identity of the transaction that created the row version. To create an Oracle Flashback Version Query, use the <code class="codeph">VERSIONS</code> <code class="codeph">BETWEEN</code> clause of the <code class="codeph">SELECT</code> statement. 
                        </p>
                        <div class="infoboxnotealso" id="GUID-EFCF3C98-C700-4578-A4E1-1F57A0FBEC55__FORMOREINFORMATIONSEEUSINGORACLEFLA-CADC0449">
                           <p class="notep1">See Also:</p>
                           <p><a href="flashback.html#GUID-544C00A0-D4F5-4B32-BE2F-5332EDCDD039">Using Oracle Flashback Version Query</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EFCF3C98-C700-4578-A4E1-1F57A0FBEC55__GUID-851E5C4F-8CCF-4B21-A34B-E2E968DB4724">Oracle Flashback Transaction Query</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Use this feature to retrieve metadata and historical data for a given transaction or for all transactions in a given time interval. To perform an Oracle Flashback Transaction Query, select from the static data dictionary view <code class="codeph">FLASHBACK_TRANSACTION_QUERY</code>. 
                        </p>
                        <div class="infoboxnotealso" id="GUID-EFCF3C98-C700-4578-A4E1-1F57A0FBEC55__USINGORACLEFLASHBACKTRANSACTIONQUER-CADC0F8A">
                           <p class="notep1">See Also:</p>
                           <p><a href="flashback.html#GUID-212A4073-ABE2-4053-A852-3A41DEF6A24D">Using Oracle Flashback Transaction Query</a>.
                           </p>
                        </div>
                        <p>Typically, you use Oracle Flashback Transaction Query with an Oracle Flashback Version Query that provides the transaction IDs for the rows of interest.</p>
                        <div class="infoboxnotealso" id="GUID-EFCF3C98-C700-4578-A4E1-1F57A0FBEC55__USINGORACLEFLASHBACKTRANSACTIONQUER-CADC1987">
                           <p class="notep1">See Also:</p>
                           <p><a href="flashback.html#GUID-115952E6-DB02-48D5-A2D3-B5C04AB68063">Using Oracle Flashback Transaction Query with Oracle Flashback Version Query</a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EFCF3C98-C700-4578-A4E1-1F57A0FBEC55__GUID-69A9D99E-F677-4433-ACDD-36F7D625EC81">DBMS_FLASHBACK Package</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Use this feature to set the internal Oracle Database clock to an earlier time so that you can examine data that was current at that time, or to roll back a transaction and its dependent transactions while the database remains online.</p>
                        <div class="infoboxnotealso" id="GUID-EFCF3C98-C700-4578-A4E1-1F57A0FBEC55__USINGDBMS_FLASHBACKPACKAGE-CADC2A94">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="flashback.html#GUID-EFCF3C98-C700-4578-A4E1-1F57A0FBEC55__BJFIIEAA">Flashback Transaction</a></p>
                              </li>
                              <li>
                                 <p><a href="flashback.html#GUID-AE6515D5-F5F5-46BF-85D8-EB9349737691">Using DBMS_FLASHBACK Package</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-EFCF3C98-C700-4578-A4E1-1F57A0FBEC55__BJFIIEAA">
                        <p class="subhead3" id="GUID-EFCF3C98-C700-4578-A4E1-1F57A0FBEC55__GUID-1F735DFA-C42D-4848-A9C0-1314FFB4A349">Flashback Transaction</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Use Flashback Transaction to roll back a transaction and its dependent transactions while the database remains online. This recovery operation uses undo data to create and run the corresponding compensating transactions that return the affected data to its original state. (Flashback Transaction is part of <code class="codeph">DBMS_FLASHBACK</code> package). 
                        </p>
                        <div class="infoboxnotealso" id="GUID-EFCF3C98-C700-4578-A4E1-1F57A0FBEC55__USINGDBMS_FLASHBACKPACKAGE.-CADC4377">
                           <p class="notep1">See Also:</p>
                           <p><a href="flashback.html#GUID-AE6515D5-F5F5-46BF-85D8-EB9349737691">Using DBMS_FLASHBACK Package</a>.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EFCF3C98-C700-4578-A4E1-1F57A0FBEC55__GUID-9D48BD97-77F7-455E-8826-A17C155101D6">Flashback Data Archive</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Use Flashback Data Archive to automatically track and archive historical versions of changes to tables enabled for flashback archive, ensuring SQL-level access to the versions of database objects without getting a snapshot-too-old error. </p>
                        <div class="infoboxnotealso" id="GUID-EFCF3C98-C700-4578-A4E1-1F57A0FBEC55__USINGFLASHBACKDATAARCHIVE.-CADC496E">
                           <p class="notep1">See Also:</p>
                           <p><a href="flashback.html#GUID-06AA782A-3F79-4235-86D5-2D136485F093">Using Flashback Data Archive</a>.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADFNS606"></a><a id="ADFNS607"></a><a id="ADFNS608"></a><a id="ADFNS605"></a><div class="props_rev_3"><a id="GUID-603A2020-1F8E-4C2C-BAE6-73454C4CFD7E" name="GUID-603A2020-1F8E-4C2C-BAE6-73454C4CFD7E"></a><h4 id="ADFNS-GUID-603A2020-1F8E-4C2C-BAE6-73454C4CFD7E" class="sect4">Database Administration Features</h4>
                  <div>
                     <p>These flashback features are primarily for data recovery. Typically, you use these features only as a database administrator.</p>
                     <p>This chapter focuses on the <a href="flashback.html#GUID-EFCF3C98-C700-4578-A4E1-1F57A0FBEC55">Application Development Features</a>. 
                     </p>
                     <div class="infoboxnotealso" id="GUID-603A2020-1F8E-4C2C-BAE6-73454C4CFD7E__ORACLEDATABASEADMINISTRATORSGUIDEOR-CADCC0D6">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ADMIN015" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a></p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=BRADV80055" target="_blank"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="section">
                        <p class="subhead3" id="GUID-603A2020-1F8E-4C2C-BAE6-73454C4CFD7E__GUID-B42F260A-A693-4D82-957A-4972B6D1B71B">Oracle Flashback Table</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Use this feature to restore a table to its state at a previous point in time. You can restore a table while the database is on line, undoing changes to only the specified table.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-603A2020-1F8E-4C2C-BAE6-73454C4CFD7E__GUID-8857E1F7-DC17-4615-8BF0-4B30FD57907D">Oracle Flashback Drop</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Use this feature to recover a dropped table. This feature reverses the effects of a <code class="codeph">DROP</code> <code class="codeph">TABLE</code> statement.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-603A2020-1F8E-4C2C-BAE6-73454C4CFD7E__GUID-4CE51EEE-B818-4DE1-84FC-6834501DD702">Oracle Flashback Database</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Use this feature to quickly return the database to an earlier point in time, by using the recovery area. This is fast, because you do not have to restore database backups.</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="ADFNS01002"></a><div class="props_rev_3"><a id="GUID-779FB434-F3EA-4334-8B2A-A328555B5AFF" name="GUID-779FB434-F3EA-4334-8B2A-A328555B5AFF"></a><h3 id="ADFNS-GUID-779FB434-F3EA-4334-8B2A-A328555B5AFF" class="sect3">Configuring Your Database for Oracle Flashback Technology</h3>
               <div>
                  <div class="section">
                     <p>Before you can use flashback features in your application, you or your database administrator must perform the configuration tasks described in these topics:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Topics:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="flashback.html#GUID-D1F53BB8-8E1B-4171-857F-72B33447BFC3">Configuring Your Database for Automatic Undo Management</a></p>
                        </li>
                        <li>
                           <p><a href="flashback.html#GUID-EBC8258B-03D9-4037-8B31-1A2EE4C73FCF">Configuring Your Database for Oracle Flashback Transaction Query</a></p>
                        </li>
                        <li>
                           <p><a href="flashback.html#GUID-AFDC64F5-915A-4B72-BB80-AEBA445C8000">Configuring Your Database for Flashback Transaction</a></p>
                        </li>
                        <li>
                           <p><a href="flashback.html#GUID-9FEB8DBB-7763-49C2-A1D2-97B4DFF85AC1">Enabling Oracle Flashback Operations on Specific LOB Columns</a></p>
                        </li>
                        <li>
                           <p><a href="flashback.html#GUID-BA59D897-C98B-4418-8CAE-42C35AC5B08C">Granting Necessary Privileges</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADFNS609"></a><div class="props_rev_3"><a id="GUID-D1F53BB8-8E1B-4171-857F-72B33447BFC3" name="GUID-D1F53BB8-8E1B-4171-857F-72B33447BFC3"></a><h4 id="ADFNS-GUID-D1F53BB8-8E1B-4171-857F-72B33447BFC3" class="sect4">Configuring Your Database for Automatic Undo Management</h4>
                  <div>
                     <div class="section">
                        <p>To configure your database for Automatic Undo Management (AUM), you or your database administrator must:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Create an undo tablespace with enough space to keep the required data for flashback operations.</p>
                              <p>The more often users update the data, the more space is required. The database administrator usually calculates the space requirement.</p>
                           </li>
                           <li>
                              <p>Enable AUM, as explained in <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ADMIN013" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a>. Set these database initialization parameters:
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">UNDO_MANAGEMENT</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">UNDO_TABLESPACE</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">UNDO_RETENTION</code></p>
                                 </li>
                              </ul>
                              <p>For a fixed-size undo tablespace, Oracle Database automatically tunes the system to give the undo tablespace the best possible undo retention.</p>
                              <p>For an automatically extensible undo tablespace, Oracle Database retains undo data longer than the longest query duration and the low threshold of undo retention specified by the <code class="codeph">UNDO_RETENTION</code> parameter.
                              </p>
                              <div class="infoboxnote" id="GUID-D1F53BB8-8E1B-4171-857F-72B33447BFC3__GUID-45DE2398-98F5-419C-8364-B37B7D35FA7C">
                                 <p class="notep1">Note:</p>
                                 <p>You can query <code class="codeph">V$UNDOSTAT</code>.<code class="codeph">TUNED_UNDORETENTION</code> to determine the amount of time for which undo is retained for the current undo tablespace.
                                 </p>
                              </div>
                              <p>Setting <code class="codeph">UNDO_RETENTION</code> does not guarantee that unexpired undo data is not discarded. If the system needs more space, Oracle Database can overwrite unexpired undo with more recently generated undo data.
                              </p>
                           </li>
                           <li>
                              <p>Specify the <code class="codeph">RETENTION</code> <code class="codeph">GUARANTEE</code> clause for the undo tablespace to ensure that unexpired undo data is not discarded.
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-D1F53BB8-8E1B-4171-857F-72B33447BFC3__GUID-B8514A50-E871-4484-A63B-427DCA491228">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ADMIN013" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> for more information about creating an undo tablespace and enabling AUM
                                 </p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=REFRN30295" target="_blank"><span class="italic">Oracle Database Reference</span></a> for more information about <code class="codeph">V$UNDOSTAT</code></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADFNS610"></a><div class="props_rev_3"><a id="GUID-EBC8258B-03D9-4037-8B31-1A2EE4C73FCF" name="GUID-EBC8258B-03D9-4037-8B31-1A2EE4C73FCF"></a><h4 id="ADFNS-GUID-EBC8258B-03D9-4037-8B31-1A2EE4C73FCF" class="sect4">Configuring Your Database for Oracle Flashback Transaction Query</h4>
                  <div>
                     <div class="section">
                        <p>To configure your database for the Oracle Flashback Transaction Query feature, you or your database administrator must:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Ensure that Oracle Database is running with version 10.0 compatibility.</p>
                           </li>
                           <li>
                              <p>Enable supplemental logging:</p><pre class="oac_no_warn" dir="ltr">ALTER DATABASE ADD SUPPLEMENTAL LOG DATA;</pre></li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADFNS611"></a><div class="props_rev_3"><a id="GUID-AFDC64F5-915A-4B72-BB80-AEBA445C8000" name="GUID-AFDC64F5-915A-4B72-BB80-AEBA445C8000"></a><h4 id="ADFNS-GUID-AFDC64F5-915A-4B72-BB80-AEBA445C8000" class="sect4">Configuring Your Database for Flashback Transaction</h4>
                  <div>
                     <div class="section">
                        <p>To configure your database for the Flashback Transaction feature, you or your database administrator must:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>With the database mounted but not open, enable <code class="codeph">ARCHIVELOG</code>:
                              </p><pre class="oac_no_warn" dir="ltr">ALTER DATABASE ARCHIVELOG;
</pre></li>
                           <li>
                              <p>Open at least one archive log:</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM ARCHIVE LOG CURRENT;
</pre></li>
                           <li>
                              <p>If not done, enable minimal and primary key supplemental logging:</p><pre class="oac_no_warn" dir="ltr">ALTER DATABASE ADD SUPPLEMENTAL LOG DATA;
ALTER DATABASE ADD SUPPLEMENTAL LOG DATA (PRIMARY KEY) COLUMNS;
</pre></li>
                           <li>
                              <p>If you want to track foreign key dependencies, enable foreign key supplemental logging:</p><pre class="oac_no_warn" dir="ltr">ALTER DATABASE ADD SUPPLEMENTAL LOG DATA (FOREIGN KEY) COLUMNS;</pre></li>
                        </ul>
                        <div class="infoboxnote" id="GUID-AFDC64F5-915A-4B72-BB80-AEBA445C8000__GUID-C0F0D2F1-A657-4466-B6F4-B57FC8C2933A">
                           <p class="notep1">Note:</p>
                           <p>If you have very many foreign key constraints, enabling foreign key supplemental logging might not be worth the performance penalty.</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADFNS612"></a><div class="props_rev_3"><a id="GUID-9FEB8DBB-7763-49C2-A1D2-97B4DFF85AC1" name="GUID-9FEB8DBB-7763-49C2-A1D2-97B4DFF85AC1"></a><h4 id="ADFNS-GUID-9FEB8DBB-7763-49C2-A1D2-97B4DFF85AC1" class="sect4">Enabling Oracle Flashback Operations on Specific LOB Columns</h4>
                  <div>
                     <div class="section">
                        <p>To enable flashback operations on specific LOB columns of a table, use the <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> statement with the <code class="codeph">RETENTION</code> option.
                        </p>
                        <p>Because undo data for LOB columns can be voluminous, you must define which LOB columns to use with flashback operations.</p>
                        <div class="infoboxnotealso" id="GUID-9FEB8DBB-7763-49C2-A1D2-97B4DFF85AC1__GUID-6ACA95C8-A69B-4CF1-8B34-C4FE392E3DFC">
                           <p class="notep1">See Also:</p>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ADLOB101" target="_blank"><span class="italic">Oracle Database SecureFiles and Large Objects Developer's Guide</span></a> to learn about LOB storage and the <code class="codeph">RETENTION</code> parameter
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADFNS614"></a><a id="ADFNS615"></a><a id="ADFNS616"></a><a id="ADFNS617"></a><a id="ADFNS613"></a><div class="props_rev_3"><a id="GUID-BA59D897-C98B-4418-8CAE-42C35AC5B08C" name="GUID-BA59D897-C98B-4418-8CAE-42C35AC5B08C"></a><h4 id="ADFNS-GUID-BA59D897-C98B-4418-8CAE-42C35AC5B08C" class="sect4">Granting Necessary Privileges</h4>
                  <div>
                     <div class="section">
                        <p>You or your database administrator must grant privileges to users, roles, or applications that must use these flashback features. </p>
                        <div class="infoboxnotealso" id="GUID-BA59D897-C98B-4418-8CAE-42C35AC5B08C__FORINFORMATIONABOUTTHEGRANTSTATEMEN-CADD3A45">
                           <p class="notep1">See Also:</p>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=SQLRF01603" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about the <code class="codeph">GRANT</code> statement
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BA59D897-C98B-4418-8CAE-42C35AC5B08C__GUID-C4D6BF66-E34F-44EF-9D17-CFB68139801D">For Oracle Flashback Query and Oracle Flashback Version Query</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>To allow access to specific objects during queries, grant <code class="codeph">FLASHBACK</code> and either <code class="codeph">READ</code> or <code class="codeph">SELECT</code> privileges on those objects.
                        </p>
                        <p>To allow queries on all tables, grant the <code class="codeph">FLASHBACK</code> <code class="codeph">ANY</code> <code class="codeph">TABLE</code> privilege.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BA59D897-C98B-4418-8CAE-42C35AC5B08C__GUID-A54C42FA-15A0-4AA1-8D8E-CD6B2AA88507">For Oracle Flashback Transaction Query</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Grant the <code class="codeph">SELECT</code> <code class="codeph">ANY</code> <code class="codeph">TRANSACTION</code> privilege.
                        </p>
                        <p>To allow execution of undo SQL code retrieved by an Oracle Flashback Transaction Query, grant <code class="codeph">SELECT</code>, <code class="codeph">UPDATE</code>, <code class="codeph">DELETE</code>, and <code class="codeph">INSERT</code> privileges for specific tables.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BA59D897-C98B-4418-8CAE-42C35AC5B08C__GUID-56BB5AAB-C32E-4C18-B6F4-00398387AAC1">For DBMS_FLASHBACK Package</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>To allow access to the features in the <code class="codeph">DBMS_FLASHBACK</code> package, grant the <code class="codeph">EXECUTE</code> privilege on <code class="codeph">DBMS_FLASHBACK</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BA59D897-C98B-4418-8CAE-42C35AC5B08C__GUID-C8B20D79-DC3F-48E3-AADD-FF36BBCC916C">For Flashback Data Archive</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>To allow a specific user to enable Flashback Data Archive on tables, using a specific Flashback Data Archive, grant the <code class="codeph">FLASHBACK</code> <code class="codeph">ARCHIVE</code> object privilege on that Flashback Data Archive to that user. To grant the <code class="codeph">FLASHBACK</code> <code class="codeph">ARCHIVE</code> object privilege, you must either be logged on as <code class="codeph">SYSDBA</code> or have <code class="codeph">FLASHBACK</code> <code class="codeph">ARCHIVE</code> <code class="codeph">ADMINISTER</code> system privilege.
                        </p>
                        <p>To allow execution of these statements, grant the <code class="codeph">FLASHBACK</code> <code class="codeph">ARCHIVE</code> <code class="codeph">ADMINISTER</code> system privilege:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">CREATE</code> <code class="codeph">FLASHBACK</code> <code class="codeph">ARCHIVE</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">ALTER</code> <code class="codeph">FLASHBACK</code> <code class="codeph">ARCHIVE</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">DROP</code> <code class="codeph">FLASHBACK</code> <code class="codeph">ARCHIVE</code></p>
                           </li>
                        </ul>
                        <p>To grant the <code class="codeph">FLASHBACK</code> <code class="codeph">ARCHIVE</code> <code class="codeph">ADMINISTER</code> system privilege, you must be logged on as <code class="codeph">SYSDBA</code>.
                        </p>
                        <p>To create a default Flashback Data Archive, using either the <code class="codeph">CREATE</code> <code class="codeph">FLASHBACK</code> <code class="codeph">ARCHIVE</code> or <code class="codeph">ALTER</code> <code class="codeph">FLASHBACK</code> <code class="codeph">ARCHIVE</code> statement, you must be logged on as <code class="codeph">SYSDBA</code>.
                        </p>
                        <p>To disable Flashback Data Archive for a table that has been enabled for Flashback Data Archive, you must either be logged on as <code class="codeph">SYSDBA</code> or have the <code class="codeph">FLASHBACK</code> <code class="codeph">ARCHIVE</code> <code class="codeph">ADMINISTER</code> system privilege.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="ADFNS1071"></a><a id="ADFNS01003"></a><div class="props_rev_3"><a id="GUID-0BD1F4BD-894B-47BA-A44B-74BCA4CFD60E" name="GUID-0BD1F4BD-894B-47BA-A44B-74BCA4CFD60E"></a><h3 id="ADFNS-GUID-0BD1F4BD-894B-47BA-A44B-74BCA4CFD60E" class="sect3">Using Oracle Flashback Query (SELECT AS OF)</h3>
               <div>
                  <div class="section">
                     <p>To use Oracle Flashback Query, use a <code class="codeph">SELECT</code> statement with an <code class="codeph">AS</code> <code class="codeph">OF</code> clause. Oracle Flashback Query retrieves data as it existed at an earlier time. The query explicitly references a past time through a time stamp or System Change Number (SCN). It returns committed data that was current at that point in time.
                     </p>
                     <p>Uses of Oracle Flashback Query include:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Recovering lost data or undoing incorrect, committed changes.</p>
                           <p>For example, if you mistakenly delete or update rows, and then commit them, you can immediately undo the mistake.</p>
                        </li>
                        <li>
                           <p>Comparing current data with the corresponding data at an earlier time.</p>
                           <p>For example, you can run a daily report that shows the change in data from yesterday. You can compare individual rows of table data or find intersections or unions of sets of rows.</p>
                        </li>
                        <li>
                           <p>Checking the state of transactional data at a particular time.</p>
                           <p>For example, you can verify the account balance of a certain day.</p>
                        </li>
                        <li>
                           <p>Selecting data that was valid at a particular time or at any time within a user-defined valid time period.</p>
                           <p>For example, you can find employees with valid employee information as of a particular timestamp or between a specified start and end time in the specified valid time period. (For more information, see <a href="design_basics.html#GUID-53F19441-81F3-4A4D-923C-464CAE0964D3">Temporal Validity Support</a>.)
                           </p>
                        </li>
                        <li>
                           <p>Simplifying application design by removing the need to store some kinds of temporal data.</p>
                           <p>Oracle Flashback Query lets you retrieve past data directly from the database.</p>
                        </li>
                        <li>
                           <p>Applying packaged applications, such as report generation tools, to past data.</p>
                        </li>
                        <li>
                           <p>Providing self-service error correction for an application, thereby enabling users to undo and correct their errors.</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-0BD1F4BD-894B-47BA-A44B-74BCA4CFD60E__GUID-EF0D44C4-4969-4AB5-8230-A1540466408A">Topics:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="flashback.html#GUID-19914A94-FAE3-41CF-925E-22294CAFCBF8">Example: Examining and Restoring Past Data</a></p>
                        </li>
                        <li>
                           <p><a href="flashback.html#GUID-32B9B091-2BE6-486D-B7E6-3A1BAF37BCCE">Guidelines for Oracle Flashback Query</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-0BD1F4BD-894B-47BA-A44B-74BCA4CFD60E__FORMOREINFORMATIONABOUTTHESELECTASO-CADD8969">
                        <p class="notep1">See Also:</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=SQLRF01702" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information about the <code class="codeph">SELECT</code> <code class="codeph">AS</code> <code class="codeph">OF</code> statement 
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADFNS619"></a><a id="ADFNS620"></a><a id="ADFNS618"></a><div class="props_rev_3"><a id="GUID-19914A94-FAE3-41CF-925E-22294CAFCBF8" name="GUID-19914A94-FAE3-41CF-925E-22294CAFCBF8"></a><h4 id="ADFNS-GUID-19914A94-FAE3-41CF-925E-22294CAFCBF8" class="sect4">Example: Examining and Restoring Past Data</h4>
                  <div>
                     <p>Suppose that you discover at 12:30 PM that the row for employee Chung was deleted from the <code class="codeph">employees</code> table, and you know that at 9:30AM the data for Chung was correctly stored in the database. You can use Oracle Flashback Query to examine the contents of the table at 9:30 AM to find out what data was lost. If appropriate, you can restore the lost data.
                     </p>
                     <p><a href="flashback.html#GUID-19914A94-FAE3-41CF-925E-22294CAFCBF8__BABHIHFF">Example 19-1</a> retrieves the state of the record for <code class="codeph">Chung</code> at 9:30AM, April 4, 2004:
                     </p>
                     <div class="example" id="GUID-19914A94-FAE3-41CF-925E-22294CAFCBF8__BABHIHFF">
                        <p class="titleinexample">Example 19-1 Retrieving a Lost Row with Oracle Flashback Query</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM employees
AS OF TIMESTAMP
TO_TIMESTAMP('2004-04-04 09:30:00', 'YYYY-MM-DD HH:MI:SS')
WHERE last_name = 'Chung';
</pre><p><a href="flashback.html#GUID-19914A94-FAE3-41CF-925E-22294CAFCBF8__BABJJCFE">Example 19-2</a> restores Chung's information to the <code class="codeph">employees</code> table:
                        </p>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-19914A94-FAE3-41CF-925E-22294CAFCBF8__BABJJCFE">
                        <p class="titleinexample">Example 19-2 Restoring a Lost Row After Oracle Flashback Query</p><pre class="oac_no_warn" dir="ltr">INSERT INTO employees (
  SELECT * FROM employees
  AS OF TIMESTAMP
  TO_TIMESTAMP('2004-04-04 09:30:00', 'YYYY-MM-DD HH:MI:SS')
  WHERE last_name = 'Chung'
);</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADFNS621"></a><div class="props_rev_3"><a id="GUID-32B9B091-2BE6-486D-B7E6-3A1BAF37BCCE" name="GUID-32B9B091-2BE6-486D-B7E6-3A1BAF37BCCE"></a><h4 id="ADFNS-GUID-32B9B091-2BE6-486D-B7E6-3A1BAF37BCCE" class="sect4">Guidelines for Oracle Flashback Query</h4>
                  <div>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>You can specify or omit the <code class="codeph">AS</code> <code class="codeph">OF</code> clause for each table and specify different times for different tables.
                           </p>
                           <div class="infoboxnote" id="GUID-32B9B091-2BE6-486D-B7E6-3A1BAF37BCCE__GUID-E43E43D9-13F9-4F95-8E60-EB2D935660E6">
                              <p class="notep1">Note:</p>
                              <p>If a table is a Flashback Data Archive and you specify a time for it that is earlier than its creation time, the query returns zero rows for that table, rather than causing an error.</p>
                           </div>
                        </li>
                        <li>
                           <p>You can use the <code class="codeph">AS</code> <code class="codeph">OF</code> clause in queries to perform data definition language (DDL) operations (such as creating and truncating tables) or data manipulation language (DML) statements (such as <code class="codeph">INSERT</code> and <code class="codeph">DELETE</code>) in the same session as Oracle Flashback Query.
                           </p>
                        </li>
                        <li>
                           <p>To use the result of Oracle Flashback Query in a DDL or DML statement that affects the current state of the database, use an <code class="codeph">AS</code> <code class="codeph">OF</code> clause inside an <code class="codeph">INSERT</code> or <code class="codeph">CREATE</code> <code class="codeph">TABLE</code> <code class="codeph">AS</code> <code class="codeph">SELECT</code> statement.
                           </p>
                        </li>
                        <li>
                           <p>If a possible 3-second error (maximum) is important to Oracle Flashback Query in your application, use an SCN instead of a time stamp. See <a href="flashback.html#GUID-0DAA9454-D91A-46AC-A8E0-510670672F19">General Guidelines for Oracle Flashback Technology</a>.
                           </p>
                        </li>
                        <li>
                           <p>You can create a view that refers to past data by using the <code class="codeph">AS</code> <code class="codeph">OF</code> clause in the <code class="codeph">SELECT</code> statement that defines the view.
                           </p>
                           <p>If you specify a relative time by subtracting from the current time on the database host, the past time is recalculated for each query. For example:</p><pre class="oac_no_warn" dir="ltr">CREATE VIEW hour_ago AS
  SELECT * FROM employees
    AS OF TIMESTAMP (SYSTIMESTAMP - INTERVAL '60' MINUTE);
</pre><p><code class="codeph">SYSTIMESTAMP</code> refers to the time zone of the database host environment.
                           </p>
                        </li>
                        <li>
                           <p>You can use the <code class="codeph">AS</code> <code class="codeph">OF</code> clause in self-joins, or in set operations such as <code class="codeph">INTERSECT</code> and <code class="codeph">MINUS</code>, to extract or compare data from two different times.
                           </p>
                           <p>You can store the results by preceding Oracle Flashback Query with a <code class="codeph">CREATE</code> <code class="codeph">TABLE</code> <code class="codeph">AS</code> <code class="codeph">SELECT</code> or <code class="codeph">INSERT</code> <code class="codeph">INTO</code> <code class="codeph">TABLE</code> <code class="codeph">SELECT</code> statement. For example, this query reinserts into table <code class="codeph">employees</code> the rows that existed an hour ago:
                           </p><pre class="oac_no_warn" dir="ltr">INSERT INTO employees
    (SELECT * FROM employees
     AS OF TIMESTAMP (SYSTIMESTAMP - INTERVAL '60' MINUTE)
    MINUS SELECT * FROM employees;
</pre><p><code class="codeph">SYSTIMESTAMP</code> refers to the time zone of the database host environment.
                           </p>
                        </li>
                        <li>
                           <p>You can use the <code class="codeph">AS</code> <code class="codeph">OF</code> clause in queries to check for data that was valid at a particular time.
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-32B9B091-2BE6-486D-B7E6-3A1BAF37BCCE__GUID-6989D7BA-FF19-4781-86BB-5CD26A6B975F">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="design_basics.html#GUID-53F19441-81F3-4A4D-923C-464CAE0964D3">Temporal Validity Support</a></p>
                           </li>
                           <li>
                              <p><a href="flashback.html#GUID-06AA782A-3F79-4235-86D5-2D136485F093">Using Flashback Data Archive</a> for information about Flashback Data Archives
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="ADFNS622"></a><a id="ADFNS01004"></a><div class="props_rev_3"><a id="GUID-544C00A0-D4F5-4B32-BE2F-5332EDCDD039" name="GUID-544C00A0-D4F5-4B32-BE2F-5332EDCDD039"></a><h3 id="ADFNS-GUID-544C00A0-D4F5-4B32-BE2F-5332EDCDD039" class="sect3">Using Oracle Flashback Version Query</h3>
               <div>
                  <div class="section">
                     <p>Use Oracle Flashback Version Query to retrieve the different versions of specific rows that existed during a given time interval. A row version is created whenever a <code class="codeph">COMMIT</code> statement is executed.
                     </p>
                     <div class="infoboxnote" id="GUID-544C00A0-D4F5-4B32-BE2F-5332EDCDD039__GUID-5F6D784C-46C6-4B26-8D9B-D7862B2E072D">
                        <p class="notep1">Note:</p>
                        <p>After executing a <code class="codeph">CREATE</code> <code class="codeph">TABLE</code> statement, wait at least 15 seconds to commit any transactions, to ensure that Oracle Flashback Version Query reflects those transactions.
                        </p>
                     </div>
                     <p>Specify Oracle Flashback Version Query using the <code class="codeph">VERSIONS</code> <code class="codeph">BETWEEN</code> clause of the <code class="codeph">SELECT</code> statement. The syntax is either:
                     </p><pre class="oac_no_warn" dir="ltr">VERSIONS BETWEEN { SCN | TIMESTAMP } <span class="italic"><code class="codeph">start</code></span> AND <span class="italic"><code class="codeph">end</code></span>
</pre><p>where <span class="italic"><code class="codeph">start</code></span> and <span class="italic"><code class="codeph">end</code></span> are expressions representing the start and end, respectively, of the time interval to be queried. The time interval includes (<span class="italic"><code class="codeph">start</code></span> and <span class="italic"><code class="codeph">end</code></span>). 
                     </p>
                     <p>or:</p><pre class="oac_no_warn" dir="ltr">VERSIONS PERIOD FOR <span class="italic">user_valid_time</span> [ BETWEEN TIMESTAMP <span class="italic"><code class="codeph">start</code></span> AND <span class="italic"><code class="codeph">end</code></span> ]
</pre><p>where <span class="italic"><code class="codeph">user_valid_time</code></span> refers to the user-specified valid time period, as explained in <a href="design_basics.html#GUID-53F19441-81F3-4A4D-923C-464CAE0964D3">Temporal Validity Support</a>.
                     </p>
                     <p>Oracle Flashback Version Query returns a table with a row for each version of the row that existed at any time during the specified time interval. Each row in the table includes pseudocolumns of metadata about the row version, which can reveal when and how a particular change (perhaps erroneous) occurred to your database.</p>
                     <p><a href="flashback.html#GUID-544C00A0-D4F5-4B32-BE2F-5332EDCDD039__G1020732" title="This table summarizes the pseudocolumns of Flashback Version Query rows.">Table 19-1</a> describes the pseudocolumns of metadata about the row version. The <code class="codeph">VERSIONS_*</code> pseudocolumns have values only for transaction-time Flashback Version Queries (that is, queries with the clause <code class="codeph">BETWEEN</code> <code class="codeph">TIMESTAMP</code> <span class="italic"><code class="codeph">start</code></span> <code class="codeph">AND</code> <span class="italic"><code class="codeph">end</code></span>).
                     </p>
                     <div class="tblformal" id="GUID-544C00A0-D4F5-4B32-BE2F-5332EDCDD039__G1020732">
                        <p class="titleintable">Table 19-1  Oracle Flashback Version Query Row Data Pseudocolumns</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title=" Oracle Flashback Version Query Row Data Pseudocolumns" summary="This table summarizes the pseudocolumns of Flashback Version Query rows." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="21%" id="d111972e2489">Pseudocolumn Name </th>
                                 <th align="left" valign="bottom" width="79%" id="d111972e2492">Description </th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="21%" id="d111972e2497" headers="d111972e2489 ">
                                    <p><code class="codeph">VERSIONS_STARTSCN</code></p>
                                    <p><code class="codeph">VERSIONS_STARTTIME</code></p>
                                 </td>
                                 <td align="left" valign="top" width="79%" headers="d111972e2497 d111972e2492 ">
                                    <p>Starting System Change Number (SCN) or <code class="codeph">TIMESTAMP</code> when the row version was created. This pseudocolumn identifies the time when the data first had the values reflected in the row version. Use this pseudocolumn to identify the past target time for Oracle Flashback Table or Oracle Flashback Query.
                                    </p>
                                    <p>If this pseudocolumn is <code class="codeph">NULL</code>, then the row version was created before <span class="italic"><code class="codeph">start</code></span>.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="21%" id="d111972e2520" headers="d111972e2489 ">
                                    <p><code class="codeph">VERSIONS_ENDSCN</code></p>
                                    <p><code class="codeph">VERSIONS_ENDTIME</code></p>
                                 </td>
                                 <td align="left" valign="top" width="79%" headers="d111972e2520 d111972e2492 ">
                                    <p>SCN or <code class="codeph">TIMESTAMP</code> when the row version expired.
                                    </p>
                                    <p>If this pseudocolumn is <code class="codeph">NULL</code>, then either the row version was current at the time of the query or the row corresponds to a <code class="codeph">DELETE</code> operation.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="21%" id="d111972e2542" headers="d111972e2489 ">
                                    <p><code class="codeph">VERSIONS_XID</code></p>
                                 </td>
                                 <td align="left" valign="top" width="79%" headers="d111972e2542 d111972e2492 ">
                                    <p>Identifier of the transaction that created the row version.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="21%" id="d111972e2550" headers="d111972e2489 ">
                                    <p><code class="codeph">VERSIONS_OPERATION</code></p>
                                 </td>
                                 <td align="left" valign="top" width="79%" headers="d111972e2550 d111972e2492 ">
                                    <p>Operation performed by the transaction: <code class="codeph">I</code> for insertion, <code class="codeph">D</code> for deletion, or <code class="codeph">U</code> for update. The version is that of the row that was inserted, deleted, or updated; that is, the row after an <code class="codeph">INSERT </code>operation, the row before a <code class="codeph">DELETE</code> operation, or the row affected by an <code class="codeph">UPDATE</code> operation.
                                    </p>
                                    <p>For user updates of an index key, Oracle Flashback Version Query might treat an <code class="codeph">UPDATE</code> operation as two operations, <code class="codeph">DELETE</code> plus <code class="codeph">INSERT</code>, represented as two version rows with a <code class="codeph">D</code> followed by an <code class="codeph">I</code> <code class="codeph">VERSIONS_OPERATION</code>.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>A given row version is valid starting at its time <code class="codeph">VERSIONS_START*</code> up to, but not including, its time <code class="codeph">VERSIONS_END*</code>. That is, it is valid for any time <span class="italic">t</span> such that <code class="codeph">VERSIONS_START*</code> <span class="bold">&lt;=</span> <span class="italic">t</span> <span class="bold">&lt;</span> <code class="codeph">VERSIONS_END*</code>. For example, this output indicates that the salary was 10243 from September 9, 2002, included, to November 25, 2003, excluded.
                     </p><pre class="oac_no_warn" dir="ltr">VERSIONS_START_TIME     VERSIONS_END_TIME     SALARY
-------------------     -----------------     ------
09-SEP-2003             25-NOV-2003           10243
</pre><p>Here is a typical use of Oracle Flashback Version Query:</p><pre class="oac_no_warn" dir="ltr">SELECT versions_startscn, versions_starttime,
       versions_endscn, versions_endtime,
       versions_xid, versions_operation,
       last_name, salary
  FROM employees
  VERSIONS BETWEEN TIMESTAMP
      TO_TIMESTAMP('2008-12-18 14:00:00', 'YYYY-MM-DD HH24:MI:SS')
  AND TO_TIMESTAMP('2008-12-18 17:00:00', 'YYYY-MM-DD HH24:MI:SS')
  WHERE first_name = 'John';
</pre><p>You can use <code class="codeph">VERSIONS_XID</code> with Oracle Flashback Transaction Query to locate this transaction's metadata, including the SQL required to undo the row change and the user responsible for the change.
                     </p>
                     <p>Flashback Version Query allows index-only access only with IOTs (index-organized tables), but index fast full scan is not allowed.</p>
                     <div class="infoboxnotealso" id="GUID-544C00A0-D4F5-4B32-BE2F-5332EDCDD039__GUID-EFC77F2C-E339-4E16-B1ED-5A9B437C0FEE">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=SQLRF01702" target="_blank"><span class="italic">Oracle Database SQL Language Reference </span></a>for information about Oracle Flashback Version Query pseudocolumns and the syntax of the <code class="codeph">VERSIONS</code> clause
                              </p>
                           </li>
                           <li>
                              <p><a href="flashback.html#GUID-212A4073-ABE2-4053-A852-3A41DEF6A24D">Using Oracle Flashback Transaction Query</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADFNS01005"></a><div class="props_rev_3"><a id="GUID-212A4073-ABE2-4053-A852-3A41DEF6A24D" name="GUID-212A4073-ABE2-4053-A852-3A41DEF6A24D"></a><h3 id="ADFNS-GUID-212A4073-ABE2-4053-A852-3A41DEF6A24D" class="sect3">Using Oracle Flashback Transaction Query</h3>
               <div>
                  <div class="section">
                     <p>Use Oracle Flashback Transaction Query to retrieve metadata and historical data for a given transaction or for all transactions in a given time interval. Oracle Flashback Transaction Query queries the static data dictionary view <code class="codeph">FLASHBACK_TRANSACTION_QUERY</code>, whose columns are described in <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=REFRN29086" target="_blank"><span class="italic">Oracle Database Reference</span></a>.
                     </p>
                     <p>The column <code class="codeph">UNDO_SQL</code> shows the SQL code that is the logical opposite of the DML operation performed by the transaction. You can usually use this code to reverse the logical steps taken during the transaction. However, there are cases where the <code class="codeph">UNDO_SQL</code> code is not the exact opposite of the original transaction. For example, a <code class="codeph">UNDO_SQL</code> <code class="codeph">INSERT</code> operation might not insert a row back in a table at the same <code class="codeph">ROWID</code> from which it was deleted.
                     </p>
                     <p>This statement queries the <code class="codeph">FLASHBACK_TRANSACTION_QUERY</code> view for transaction information, including the transaction ID, the operation, the operation start and end SCNs, the user responsible for the operation, and the SQL code that shows the logical opposite of the operation:
                     </p><pre class="oac_no_warn" dir="ltr">SELECT xid, operation, start_scn, commit_scn, logon_user, undo_sql
FROM flashback_transaction_query
WHERE xid = HEXTORAW('000200030000002D');
</pre><p>This statement uses Oracle Flashback Version Query as a subquery to associate each row version with the <code class="codeph">LOGON_USER</code> responsible for the row data change:
                     </p><pre class="oac_no_warn" dir="ltr">SELECT xid, logon_user
FROM flashback_transaction_query
WHERE xid IN (
  SELECT versions_xid FROM employees VERSIONS BETWEEN TIMESTAMP
  TO_TIMESTAMP('2003-07-18 14:00:00', 'YYYY-MM-DD HH24:MI:SS') AND
  TO_TIMESTAMP('2003-07-18 17:00:00', 'YYYY-MM-DD HH24:MI:SS')
);</pre><div class="infoboxnote" id="GUID-212A4073-ABE2-4053-A852-3A41DEF6A24D__GUID-70943774-9713-4087-9B22-53D0508CC0A8">
                        <p class="notep1">Note:</p>
                        <p>If you query <code class="codeph">FLASHBACK_TRANSACTION_QUERY</code> without specifying <code class="codeph">XID</code> in the <code class="codeph">WHERE</code> clause, the query scans many unrelated rows, degrading performance.
                        </p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-212A4073-ABE2-4053-A852-3A41DEF6A24D__GUID-A4F63316-8FD0-4C60-ACB2-2DB6F07D8B10">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=BRADV81517" target="_blank"><span class="italic">Oracle Database Backup and Recovery User's Guide.</span></a> for information about how a database administrator can use Flashback Table to restore an entire table, rather than individual rows
                              </p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ADMIN01512" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> for information about how a database administrator can use Flashback Table to restore an entire table, rather than individual rows
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADFNS1006"></a><div class="props_rev_3"><a id="GUID-115952E6-DB02-48D5-A2D3-B5C04AB68063" name="GUID-115952E6-DB02-48D5-A2D3-B5C04AB68063"></a><h3 id="ADFNS-GUID-115952E6-DB02-48D5-A2D3-B5C04AB68063" class="sect3">Using Oracle Flashback Transaction Query with Oracle Flashback Version Query</h3>
               <div>
                  <div class="section">
                     <p>In this example, a database administrator does this:</p><pre class="oac_no_warn" dir="ltr">DROP TABLE emp;
CREATE TABLE emp (
  empno   NUMBER PRIMARY KEY,
  empname VARCHAR2(16),
  salary  NUMBER
);
INSERT INTO emp (empno, empname, salary) VALUES (111, 'Mike', 555);
COMMIT;

DROP TABLE dept;
CREATE TABLE dept (
  deptno   NUMBER,
  deptname VARCHAR2(32)
);
INSERT INTO dept (deptno, deptname) VALUES (10, 'Accounting');
COMMIT;
</pre><p>Now <code class="codeph">emp</code> and <code class="codeph">dept</code> have one row each. In terms of row versions, each table has one version of one row. Suppose that an erroneous transaction deletes <code class="codeph">empno</code> <code class="codeph">111</code> from table <code class="codeph">emp</code>:
                     </p><pre class="oac_no_warn" dir="ltr">UPDATE emp SET salary = salary + 100 WHERE empno = 111;
INSERT INTO dept (deptno, deptname) VALUES (20, 'Finance');
DELETE FROM emp WHERE empno = 111;
COMMIT;
</pre><p>Next, a transaction reinserts <code class="codeph">empno</code> <code class="codeph">111</code> into the <code class="codeph">emp</code> table with a new employee name:
                     </p><pre class="oac_no_warn" dir="ltr">INSERT INTO emp (empno, empname, salary) VALUES (111, 'Tom', 777);
UPDATE emp SET salary = salary + 100 WHERE empno = 111;
UPDATE emp SET salary = salary + 50 WHERE empno = 111;
COMMIT;
</pre><p>The database administrator detects the application error and must diagnose the problem. The database administrator issues this query to retrieve versions of the rows in the <code class="codeph">emp</code> table that correspond to empno <code class="codeph">111</code>. The query uses Oracle Flashback Version Query pseudocolumns:
                     </p><pre class="oac_no_warn" dir="ltr">SELECT versions_xid XID, versions_startscn START_SCN,
  versions_endscn END_SCN, versions_operation OPERATION,
  empname, salary
FROM emp
VERSIONS BETWEEN SCN MINVALUE AND MAXVALUE
WHERE empno = 111;
</pre><p>Results are similar to:</p><pre class="oac_no_warn" dir="ltr">XID               START_SCN    END_SCN O EMPNAME              SALARY
---------------- ---------- ---------- - ---------------- ----------
09001100B2200000   10093466            I Tom                     927
030002002B210000   10093459            D Mike                    555
0800120096200000   10093375   10093459 I Mike                    555
 
3 rows selected.
</pre><p>The results table rows are in descending chronological order. The third row corresponds to the version of the row in the table <code class="codeph">emp</code> that was inserted in the table when the table was created. The second row corresponds to the row in <code class="codeph">emp</code> that the erroneous transaction deleted. The first row corresponds to the version of the row in <code class="codeph">emp</code> that was reinserted with a new employee name.
                     </p>
                     <p>The database administrator identifies transaction <code class="codeph">030002002B210000</code> as the erroneous transaction and uses Oracle Flashback Transaction Query to audit all changes made by this transaction:
                     </p><pre class="oac_no_warn" dir="ltr">SELECT  xid, start_scn, commit_scn, operation, logon_user, undo_sql
FROM flashback_transaction_query
WHERE xid = HEXTORAW('<span class="bold">000200030000002D</span>');
</pre><p>Results are similar to:</p><pre class="oac_no_warn" dir="ltr">XID               START_SCN COMMIT_SCN OPERATION LOGON_USER
---------------- ---------- ---------- --------- ------------------------------
UNDO_SQL
--------------------------------------------------------------------------------
 
030002002B210000   10093452   10093459 DELETE    HR
insert into "HR"."EMP"("EMPNO","EMPNAME","SALARY") values ('111','Mike','655');
 
030002002B210000   10093452   10093459 INSERT    HR
delete from "HR"."DEPT" where ROWID = 'AAATjuAAEAAAAJrAAB';
 
030002002B210000   10093452   10093459 UPDATE    HR
update "HR"."EMP" set "SALARY" = '555' where ROWID = 'AAATjsAAEAAAAJ7AAA';
 
030002002B210000   10093452   10093459 BEGIN     HR
 
 
4 rows selected.
</pre><p>To make the result of the next query easier to read, the database administrator uses these SQL*Plus commands:</p><pre class="oac_no_warn" dir="ltr">COLUMN operation FORMAT A9
COLUMN table_name FORMAT A10
COLUMN table_owner FORMAT A11
</pre><p>To see the details of the erroneous transaction and all subsequent transactions, the database administrator performs this query:</p><pre class="oac_no_warn" dir="ltr">SELECT xid, start_scn, commit_scn, operation, table_name, table_owner
FROM flashback_transaction_query
WHERE table_owner = 'HR'
AND start_timestamp &gt;=
  TO_TIMESTAMP ('2002-04-16 11:00:00','YYYY-MM-DD HH:MI:SS');
</pre><p>Results are similar to:</p><pre class="oac_no_warn" dir="ltr">XID               START_SCN COMMIT_SCN OPERATION TABLE_NAME TABLE_OWNER
---------------- ---------- ---------- --------- ---------- -----------
02000E0074200000   10093435   10093446 INSERT    DEPT       HR
030002002B210000   10093452   10093459 DELETE    EMP        HR
030002002B210000   10093452   10093459 INSERT    DEPT       HR
030002002B210000   10093452   10093459 UPDATE    EMP        HR
0800120096200000   10093374   10093375 INSERT    EMP        HR
09001100B2200000   10093462   10093466 UPDATE    EMP        HR
09001100B2200000   10093462   10093466 UPDATE    EMP        HR
09001100B2200000   10093462   10093466 INSERT    EMP        HR
 
8 rows selected.
</pre><div class="infoboxnote" id="GUID-115952E6-DB02-48D5-A2D3-B5C04AB68063__GUID-A85FE82C-1F7E-4349-AACE-6A9A377A9F41">
                        <p class="notep1">Note:</p>
                        <p>Because the preceding query does not specify the <code class="codeph">XID</code> in the <code class="codeph">WHERE</code> clause, it scans many unrelated rows, degrading performance.
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADFNS01009"></a><div class="props_rev_3"><a id="GUID-AE6515D5-F5F5-46BF-85D8-EB9349737691" name="GUID-AE6515D5-F5F5-46BF-85D8-EB9349737691"></a><h3 id="ADFNS-GUID-AE6515D5-F5F5-46BF-85D8-EB9349737691" class="sect3">Using DBMS_FLASHBACK Package</h3>
               <div>
                  <div class="section">
                     <p>The <code class="codeph">DBMS_FLASHBACK</code> package provides the same functionality as Oracle Flashback Query, but Oracle Flashback Query is sometimes more convenient.
                     </p>
                     <p>The <code class="codeph">DBMS_FLASHBACK</code> package acts as a time machine: you can turn back the clock, perform normal queries as if you were at that earlier time, and then return to the present. Because you can use the <code class="codeph">DBMS_FLASHBACK</code> package to perform queries on past data without special clauses such as <code class="codeph">AS</code> <code class="codeph">OF</code> or <code class="codeph">VERSIONS</code> <code class="codeph">BETWEEN</code>, you can reuse existing PL/SQL code to query the database at earlier times.
                     </p>
                     <p>You must have the <code class="codeph">EXECUTE</code> privilege on the <code class="codeph">DBMS_FLASHBACK</code> package.
                     </p>
                     <p>To use the <code class="codeph">DBMS_FLASHBACK</code> package in your PL/SQL code:
                     </p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>Specify a past time by invoking either <code class="codeph">DBMS_FLASHBACK</code>.<code class="codeph">ENABLE_AT_TIME</code> or <code class="codeph">DBMS_FLASHBACK</code>.<code class="codeph">ENABLE_AT_SYSTEM_CHANGE_NUMBER</code>.</span></li>
                     <li class="stepexpand"><span>Perform regular queries (that is, queries without special flashback-feature syntax such as <code class="codeph">AS</code> <code class="codeph">OF</code>). Do not perform DDL or DML operations.</span><div>
                           <p>The database is queried at the specified past time.</p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>Return to the present by invoking <code class="codeph">DBMS_FLASHBACK.DISABLE</code>.</span><div>
                           <p>You must invoke <code class="codeph">DBMS_FLASHBACK</code>.<code class="codeph">DISABLE</code> before invoking <code class="codeph">DBMS_FLASHBACK</code>.<code class="codeph">ENABLE_AT_TIME</code> or <code class="codeph">DBMS_FLASHBACK</code>.<code class="codeph">ENABLE_AT_SYSTEM_CHANGE_NUMBER</code> again. You cannot nest enable/disable pairs.
                           </p>
                        </div>
                     </li>
                  </ol>
                  <div class="section">
                     <p>To use a cursor to store the results of queries, open the cursor before invoking <code class="codeph">DBMS_FLASHBACK</code>.<code class="codeph">DISABLE</code>. After storing the results and invoking <code class="codeph">DBMS_FLASHBACK</code>.<code class="codeph">DISABLE</code>, you can:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Perform <code class="codeph">INSERT</code> or <code class="codeph">UPDATE</code> operations to modify the current database state by using the stored results from the past.
                           </p>
                        </li>
                        <li>
                           <p>Compare current data with the past data. After invoking <code class="codeph">DBMS_FLASHBACK</code>.<code class="codeph">DISABLE</code>, open a second cursor. Fetch from the first cursor to retrieve past data; fetch from the second cursor to retrieve current data. You can store the past data in a temporary table and then use set operators such as <code class="codeph">MINUS</code> or <code class="codeph">UNION</code> to contrast or combine the past and current data.
                           </p>
                        </li>
                     </ul>
                     <p>You can invoke <code class="codeph">DBMS_FLASHBACK</code>.<code class="codeph">GET_SYSTEM_CHANGE_NUMBER</code> at any time to get the current System Change Number (SCN). <code class="codeph">DBMS_FLASHBACK</code>.<code class="codeph">GET_SYSTEM_CHANGE_NUMBER</code> returns the current SCN regardless of previous invocations of <code class="codeph">DBMS_FLASHBACK</code>.<code class="codeph">ENABLE</code>.
                     </p>
                     <div class="infoboxnotealso" id="GUID-AE6515D5-F5F5-46BF-85D8-EB9349737691__GUID-EDCCFEAF-536C-4139-B996-1BBDBB891FE4">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ARPLS142" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for details of the <code class="codeph">DBMS_FLASHBACK</code> package
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADFNS1073"></a><a id="ADFNS1010"></a><div class="props_rev_3"><a id="GUID-43425A2F-5932-4310-B387-C08D5331A74F" name="GUID-43425A2F-5932-4310-B387-C08D5331A74F"></a><h3 id="ADFNS-GUID-43425A2F-5932-4310-B387-C08D5331A74F" class="sect3">Using Flashback Transaction</h3>
               <div>
                  <div class="section">
                     <p>The <code class="codeph">DBMS_FLASHBACK</code>.<code class="codeph">TRANSACTION_BACKOUT</code> procedure rolls back a transaction and its dependent transactions while the database remains online. This recovery operation uses undo data to create and run the <span class="bold">compensating transactions</span> that return the affected data to its original state.
                     </p>
                     <p>The transactions being rolled back are subject to these restrictions:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>They cannot have performed DDL operations that changed the logical structure of database tables.</p>
                        </li>
                        <li>
                           <p>They cannot use Large Object (LOB) Data Types:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">BFILE</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">BLOB</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">CLOB</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">NCLOB</code></p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>They cannot use features that LogMiner does not support.</p>
                           <p>The features that LogMiner supports depends on the value of the <code class="codeph">COMPATIBLE</code> initialization parameter for the database that is rolling back the transaction. The default value is the release number of the most recent major release.
                           </p>
                           <p>Flashback Transaction inherits SQL data type support from LogMiner. Therefore, if LogMiner fails due to an unsupported SQL data type in a the transaction, Flashback Transaction fails too.</p>
                           <p>Some data types, though supported by LogMiner, do not generate undo information as part of operations that modify columns of such types. Therefore, Flashback Transaction does not support tables containing these data types. These include tables with BLOB, CLOB and XML type.</p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-43425A2F-5932-4310-B387-C08D5331A74F__GUID-A08AFCA6-0CAF-49E3-A9B6-946A8C5780D3">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=SBYDB00305" target="_blank"><span class="italic">Oracle Data Guard Concepts and Administration</span></a> for information about data type and DDL support on a logical standby database
                              </p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=SQLRF50994" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about LOB data types
                              </p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=SUTIL019" target="_blank"><span class="italic">Oracle Database Utilities</span></a> for information about LogMiner
                              </p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ADMIN11112" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> for information about the <code class="codeph">COMPATIBLE</code> initialization parameter
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-43425A2F-5932-4310-B387-C08D5331A74F__GUID-16F4E208-C19E-475E-998B-65D41E225B80">Topics:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="flashback.html#GUID-94AF779C-E12E-4953-B25A-5370EFE3A279">Dependent Transactions</a></p>
                        </li>
                        <li>
                           <p><a href="flashback.html#GUID-E7E19FDE-2F69-4F9E-95A7-69BE906DC648">TRANSACTION_BACKOUT Parameters</a></p>
                        </li>
                        <li>
                           <p><a href="flashback.html#GUID-B1449BF8-678C-4AB5-96EB-884AE428BD46">TRANSACTION_BACKOUT Reports</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADFNS1074"></a><div class="props_rev_3"><a id="GUID-94AF779C-E12E-4953-B25A-5370EFE3A279" name="GUID-94AF779C-E12E-4953-B25A-5370EFE3A279"></a><h4 id="ADFNS-GUID-94AF779C-E12E-4953-B25A-5370EFE3A279" class="sect4">Dependent Transactions</h4>
                  <div>
                     <p>In the context of Flashback Transaction, transaction 2 can depend on transaction 1 in any of these ways:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="bold">Write-after-write dependency</span></p>
                           <p>Transaction 1 changes a row of a table, and later transaction 2 changes the same row.</p>
                        </li>
                        <li>
                           <p><span class="bold">Primary key dependency</span></p>
                           <p>A table has a primary key constraint on column c. In a row of the table, column c has the value v. Transaction 1 deletes that row, and later transaction 2 inserts a row into the same table, assigning the value v to column c.</p>
                        </li>
                        <li>
                           <p><span class="bold">Foreign key dependency</span></p>
                           <p>In table b, column b1 has a foreign key constraint on column a1 of table a. Transaction 1 changes a value in a1, and later transaction 2 changes a value in b1.</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="ADFNS627"></a><a id="ADFNS626"></a><div class="props_rev_3"><a id="GUID-E7E19FDE-2F69-4F9E-95A7-69BE906DC648" name="GUID-E7E19FDE-2F69-4F9E-95A7-69BE906DC648"></a><h4 id="ADFNS-GUID-E7E19FDE-2F69-4F9E-95A7-69BE906DC648" class="sect4">TRANSACTION_BACKOUT Parameters</h4>
                  <div>
                     <div class="section">
                        <p>The parameters of the <code class="codeph">TRANSACTION_BACKOUT</code> procedure are:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Number of transactions to be backed out</p>
                           </li>
                           <li>
                              <p>List of transactions to be backed out, identified either by name or by XID</p>
                           </li>
                           <li>
                              <p>Time hint, if you identify transactions by name</p>
                              <p>Specify a time that is earlier than any transaction started.</p>
                           </li>
                           <li>
                              <p>Backout option from <a href="flashback.html#GUID-E7E19FDE-2F69-4F9E-95A7-69BE906DC648__G4913725" title="This table summarizes the Flashback TRANSACTION_BACKOUT options.">Table 19-2</a></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-E7E19FDE-2F69-4F9E-95A7-69BE906DC648__G4913725">
                        <p class="titleintable">Table 19-2 Flashback TRANSACTION_BACKOUT Options</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Flashback TRANSACTION_BACKOUT Options" summary="This table summarizes the Flashback TRANSACTION_BACKOUT options." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="26%" id="d111972e3761">Option</th>
                                 <th align="left" valign="bottom" width="74%" id="d111972e3764">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d111972e3769" headers="d111972e3761 ">
                                    <p><code class="codeph">CASCADE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="74%" headers="d111972e3769 d111972e3764 ">
                                    <p>Backs out specified transactions and all dependent transactions in a post-order fashion (that is, children are backed out before parents are backed out).</p>
                                    <p>Without <code class="codeph">CASCADE</code>, if any dependent transaction is not specified, an error occurs.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d111972e3782" headers="d111972e3761 ">
                                    <p><code class="codeph">NOCASCADE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="74%" headers="d111972e3782 d111972e3764 ">
                                    <p>Default. Backs out specified transactions, which are expected to have no dependent transactions. First dependent transactions causes an error and appears in <code class="codeph">*_FLASHBACK_TXN_REPORT</code>.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d111972e3793" headers="d111972e3761 ">
                                    <p><code class="codeph">NOCASCADE_FORCE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="74%" headers="d111972e3793 d111972e3764 ">
                                    <p>Backs out specified transactions, ignoring dependent transactions. Server runs undo SQL statements for specified transactions in reverse order of commit times.</p>
                                    <p>If no constraints break and you are satisfied with the result, you can commit the changes; otherwise, you can roll them back.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="26%" id="d111972e3803" headers="d111972e3761 ">
                                    <p><code class="codeph">NONCONFLICT_ONLY</code></p>
                                 </td>
                                 <td align="left" valign="top" width="74%" headers="d111972e3803 d111972e3764 ">
                                    <p>Backs out changes to nonconflicting rows of the specified transactions. Database remains consistent, but transaction atomicity is lost.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p><code class="codeph">TRANSACTION_BACKOUT</code> analyzes the transactional dependencies, performs DML operations, and generates reports. <code class="codeph">TRANSACTION_BACKOUT</code> does not commit the DML operations that it performs as part of transaction backout, but it holds all the required locks on rows and tables in the right form, preventing other dependencies from entering the system. To make the transaction backout permanent, you must explicitly commit the transaction.
                        </p>
                        <div class="infoboxnotealso" id="GUID-E7E19FDE-2F69-4F9E-95A7-69BE906DC648__FORTHESYNTAXOFTHETRANSACTION_BACKOU-CAF3EA82">
                           <p class="notep1">See Also:</p>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ARPLS66407" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for syntax of the <code class="codeph">TRANSACTION_BACKOUT</code> procedure and detailed parameter descriptions
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADFNS628"></a><div class="props_rev_3"><a id="GUID-B1449BF8-678C-4AB5-96EB-884AE428BD46" name="GUID-B1449BF8-678C-4AB5-96EB-884AE428BD46"></a><h4 id="ADFNS-GUID-B1449BF8-678C-4AB5-96EB-884AE428BD46" class="sect4">TRANSACTION_BACKOUT Reports</h4>
                  <div>
                     <div class="section">
                        <p>To see the reports that <code class="codeph">TRANSACTION_BACKOUT</code> generates, query the static data dictionary views <code class="codeph">*_FLASHBACK_TXN_STATE</code> and <code class="codeph">*_FLASHBACK_TXN_REPORT</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div><a id="ADFNS629"></a><div class="props_rev_3"><a id="GUID-86D7C7BA-0542-45B6-9D43-3BD13C975113" name="GUID-86D7C7BA-0542-45B6-9D43-3BD13C975113"></a><h5 id="ADFNS-GUID-86D7C7BA-0542-45B6-9D43-3BD13C975113" class="sect5">*_FLASHBACK_TXN_STATE</h5>
                     <div>
                        <div class="section">
                           <p>The static data dictionary view <code class="codeph">*_FLASHBACK_TXN_STATE</code> shows whether a transaction is active or backed out. If a transaction appears in this view, it is backed out.
                           </p>
                           <p><code class="codeph">*_FLASHBACK_TXN_STATE</code> is maintained atomically for compensating transactions. If a compensating transaction is backed out, all changes that it made are also backed out, and <code class="codeph">*_FLASHBACK_TXN_STATE</code> reflects this. For example, if compensating transaction <code class="codeph">ct</code> backs out transactions <code class="codeph">t1</code> and <code class="codeph">t2</code>, then <code class="codeph">t1</code> and <code class="codeph">t2</code> appear in <code class="codeph">*_FLASHBACK_TXN_STATE</code>. If <code class="codeph">ct</code> itself is later backed out, the effects of <code class="codeph">t1</code> and <code class="codeph">t2</code> are reinstated, and <code class="codeph">t1</code> and <code class="codeph">t2</code> disappear from <code class="codeph">*_FLASHBACK_TXN_STATE</code>.
                           </p>
                           <div class="infoboxnotealso" id="GUID-86D7C7BA-0542-45B6-9D43-3BD13C975113__GUID-09C7540E-7068-46E7-9AB5-27851262264A">
                              <p class="notep1">See Also:</p>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=REFRN23588" target="_blank"><span class="italic">Oracle Database Reference</span></a> for more information about <code class="codeph">*_FLASHBACK_TXN_STATE</code></p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="ADFNS630"></a><div class="props_rev_3"><a id="GUID-789658E2-21E6-4301-97CF-FC722F3445D5" name="GUID-789658E2-21E6-4301-97CF-FC722F3445D5"></a><h5 id="ADFNS-GUID-789658E2-21E6-4301-97CF-FC722F3445D5" class="sect5">*_FLASHBACK_TXN_REPORT</h5>
                     <div>
                        <div class="section">
                           <p>The static data dictionary view <code class="codeph">*_FLASHBACK_TXN_REPORT</code> provides a detailed report for each backed-out transaction.
                           </p>
                           <div class="infoboxnotealso" id="GUID-789658E2-21E6-4301-97CF-FC722F3445D5__GUID-F4399864-CFBB-4391-8166-BA1FFCD4399A">
                              <p class="notep1">See Also:</p>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=REFRN23587" target="_blank"><span class="italic">Oracle Database Reference</span></a> for more information about <code class="codeph">*_FLASHBACK_TXN_REPORT</code></p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
            </div><a id="ADFNS1075"></a><a id="ADFNS01011"></a><div class="props_rev_3"><a id="GUID-06AA782A-3F79-4235-86D5-2D136485F093" name="GUID-06AA782A-3F79-4235-86D5-2D136485F093"></a><h3 id="ADFNS-GUID-06AA782A-3F79-4235-86D5-2D136485F093" class="sect3">Using Flashback Data Archive</h3>
               <div>
                  <div class="section">
                     <p>A Flashback Data Archive provides the ability to track and store transactional changes to a table over its lifetime. A Flashback Data Archive is useful for compliance with record stage policies and audit reports.</p>
                     <p>A Flashback Data Archive consists of one or more tablespaces or parts thereof. You can have multiple Flashback Data Archives. If you are logged on as <code class="codeph">SYSDBA</code>, you can specify a default Flashback Data Archive for the system. A Flashback Data Archive is configured with retention time. Data archived in the Flashback Data Archive is retained for the retention time specified when the Flashback Data Archive was created.
                     </p>
                     <p>By default, Flashback Data Archive is not enabled for any tables. You can enable Flashback Data Archive for a table if all of these conditions are true:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>You have the <code class="codeph">FLASHBACK</code> <code class="codeph">ARCHIVE</code> object privilege on the Flashback Data Archive to use for that table.
                           </p>
                        </li>
                        <li>
                           <p>The table is not nested, temporary, remote, or external.</p>
                        </li>
                        <li>
                           <p>The table contains neither <code class="codeph">LONG</code> nor nested columns.
                           </p>
                        </li>
                        <li>
                           <p>The table does not use any of these Flashback Data Archive reserved words as column names:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">STARTSCN</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">ENDSCN</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">RID</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">XID</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">OP</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">OPERATION</code></p>
                              </li>
                           </ul>
                        </li>
                     </ul>
                     <p>You cannot enable Flashback Data Archive on a nested table, temporary table, external table, materialized view, Advanced Query (AQ) table, or non-table object.</p>
                     <p>After Flashback Data Archive is enabled for a table, you can disable it only if you either have the <code class="codeph">FLASHBACK</code> <code class="codeph">ARCHIVE</code> <code class="codeph">ADMINISTER</code> system privilege or you are logged on as <code class="codeph">SYSDBA</code>.
                     </p>
                     <p>When choosing a Flashback Data Archive for a specific table, consider the data retention requirements for the table and the retention times of the Flashback Data Archives on which you have the <code class="codeph">FLASHBACK</code> <code class="codeph">ARCHIVE</code> object privilege.
                     </p>
                     <p>Effective with Oracle Database 12<span class="italic">c</span> Release 1 (12.1.0.1), Flashback Data Archive is enhanced to include the following:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="bold">User context tracking</span>. The metadata information for tracking transactions can include (if the feature is enabled) the user context, which makes it easier to determine which user made which changes to a table.
                           </p>
                           <p>To set the user context level (determining how much user context is to be saved), use the <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ARPLS74566" target="_blank"><code class="codeph">DBMS_FLASHBACK_ARCHIVE.SET_CONTEXT_LEVEL</code></a> procedure. To access the context information, use the <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ARPLS74555" target="_blank"><code class="codeph">DBMS_FLASHBACK_ARCHIVE.GET_SYS_CONTEXT</code></a> function.
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">Database hardening</span>. This feature enables you to associate a set of tables together in an "application", and then enable Flashback Data Archive on all those tables with a single command. Also, database hardening enables you to lock all the tables with a single command, preventing any DML on those tables until they are subsequently unlocked. Database hardening is designed to make it easier to use Flashback Data Archive to track and protect the security-sensitive tables for an application.
                           </p>
                           <p>To register an application for database hardening, use the <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ARPLS74562" target="_blank"><code class="codeph">DBMS_FLASHBACK_ARCHIVE.REGISTER_APPLICATION</code></a> procedure, which is described in <span class="italic">Oracle Database PL/SQL Packages and Types Reference</span>.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-06AA782A-3F79-4235-86D5-2D136485F093__GUID-FD8940DD-95FA-407F-AF49-EC8E4A5566B7">Topics:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="flashback.html#GUID-28F62D88-B5DF-4A09-9D72-6605F9A56308">Creating a Flashback Data Archive</a></p>
                        </li>
                        <li>
                           <p><a href="flashback.html#GUID-FC792CEF-8F8C-4FC4-91A4-ED5CD4321037">Altering a Flashback Data Archive</a></p>
                        </li>
                        <li>
                           <p><a href="flashback.html#GUID-5E8447E3-3122-47C8-A791-125D784C51FC">Dropping a Flashback Data Archive</a></p>
                        </li>
                        <li>
                           <p><a href="flashback.html#GUID-51570960-CB42-4A13-BE80-00EB84E765B0">Specifying the Default Flashback Data Archive</a></p>
                        </li>
                        <li>
                           <p><a href="flashback.html#GUID-8CF548A0-FA45-45B2-87CE-9F6F17ED1A41">Enabling and Disabling Flashback Data Archive</a></p>
                        </li>
                        <li>
                           <p><a href="flashback.html#GUID-D01864A9-C642-4EDF-9EB0-796020A26F2D">DDL Statements on Tables Enabled for Flashback Data Archive</a></p>
                        </li>
                        <li>
                           <p><a href="flashback.html#GUID-CDD50508-CCFA-4A15-8512-63DB2AA1984F">Viewing Flashback Data Archive Data</a></p>
                        </li>
                        <li>
                           <p><a href="flashback.html#GUID-3386EBA7-91D8-432A-B92F-F1546700FE08">Flashback Data Archive Scenarios</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-06AA782A-3F79-4235-86D5-2D136485F093__NOTE-1342-CAF66260">
                        <p class="notep1">See Also:</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ARPLS72463" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information about <code class="codeph">DBMS_FLASHBACK_ARCHIVE</code> package
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADFNS632"></a><a id="ADFNS631"></a><div class="props_rev_3"><a id="GUID-28F62D88-B5DF-4A09-9D72-6605F9A56308" name="GUID-28F62D88-B5DF-4A09-9D72-6605F9A56308"></a><h4 id="ADFNS-GUID-28F62D88-B5DF-4A09-9D72-6605F9A56308" class="sect4">Creating a Flashback Data Archive</h4>
                  <div>
                     <div class="section">
                        <p>Create a Flashback Data Archive with the <code class="codeph">CREATE</code> <code class="codeph">FLASHBACK</code> <code class="codeph">ARCHIVE</code> statement, specifying:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Name of the Flashback Data Archive</p>
                           </li>
                           <li>
                              <p>Name of the first tablespace of the Flashback Data Archive</p>
                           </li>
                           <li>
                              <p>(Optional) Maximum amount of space that the Flashback Data Archive can use in the first tablespace</p>
                              <p>The default is unlimited. Unless your space quota on the first tablespace is also unlimited, you must specify this value; otherwise, error ORA-55621 occurs.</p>
                           </li>
                           <li>
                              <p>Retention time (number of days that Flashback Data Archive data for the table is guaranteed to be stored)</p>
                           </li>
                           <li>
                              <p>(Optional) Whether to optimize the storage of data in the history tables maintained in the Flashback Data Archive, using <code class="codeph">[NO]</code> <code class="codeph">OPTIMIZE</code> <code class="codeph">DATA</code>.
                              </p>
                              <p>The default is <code class="codeph">NO</code> <code class="codeph">OPTIMIZE</code> <code class="codeph">DATA</code>.
                              </p>
                           </li>
                        </ul>
                        <p>If you are logged on as <code class="codeph">SYSDBA</code>, you can also specify that this is the default Flashback Data Archive for the system. If you omit this option, you can still make this Flashback Data Archive as default at a later stage.
                        </p>
                        <p>Oracle recommends that all users who must use Flashback Data Archive have unlimited quota on the Flashback Data Archive tablespace; however, if this is not the case, you must grant sufficient quota on that tablespace to those users.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-28F62D88-B5DF-4A09-9D72-6605F9A56308__GUID-4773BC71-C8BC-4CFB-B0F1-077FB00B6C66">Examples</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Create a default Flashback Data Archive named <code class="codeph">fla1</code> that uses up to 10 G of tablespace <code class="codeph">tbs1</code>, whose data are retained for one year:
                              </p><pre class="oac_no_warn" dir="ltr">CREATE FLASHBACK ARCHIVE DEFAULT fla1 TABLESPACE tbs1
  QUOTA 10G RETENTION 1 YEAR;
</pre></li>
                           <li>
                              <p>Create a Flashback Data Archive named <code class="codeph">fla2</code> that uses tablespace <code class="codeph">tbs2</code>, whose data are retained for two years:
                              </p><pre class="oac_no_warn" dir="ltr">CREATE FLASHBACK ARCHIVE fla2 TABLESPACE tbs2 RETENTION 2 YEAR;
</pre></li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-28F62D88-B5DF-4A09-9D72-6605F9A56308__NOTE-1243-CAF81924">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=SQLRF20008" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information about the <code class="codeph">CREATE</code> <code class="codeph">FLASHBACK</code> <code class="codeph">ARCHIVE</code> statement
                                 </p>
                              </li>
                              <li>
                                 <p><a href="flashback.html#GUID-51570960-CB42-4A13-BE80-00EB84E765B0">Specifying the Default Flashback Data Archive</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADFNS634"></a><a id="ADFNS633"></a><div class="props_rev_3"><a id="GUID-FC792CEF-8F8C-4FC4-91A4-ED5CD4321037" name="GUID-FC792CEF-8F8C-4FC4-91A4-ED5CD4321037"></a><h4 id="ADFNS-GUID-FC792CEF-8F8C-4FC4-91A4-ED5CD4321037" class="sect4">Altering a Flashback Data Archive</h4>
                  <div>
                     <div class="section">
                        <p>With the <code class="codeph">ALTER</code> <code class="codeph">FLASHBACK</code> <code class="codeph">ARCHIVE</code> statement, you can:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Change the retention time of a Flashback Data Archive</p>
                           </li>
                           <li>
                              <p>Purge some or all of its data</p>
                           </li>
                           <li>
                              <p>Add, modify, and remove tablespaces</p>
                              <div class="infoboxnote" id="GUID-FC792CEF-8F8C-4FC4-91A4-ED5CD4321037__GUID-38D3C1BE-8AB8-4FA4-8E72-AFB53201CE20">
                                 <p class="notep1">Note:</p>
                                 <p>Removing all tablespaces of a Flashback Data Archive causes an error.</p>
                              </div>
                           </li>
                        </ul>
                        <p>If you are logged on as <code class="codeph">SYSDBA</code>, you can also use the <code class="codeph">ALTER</code> <code class="codeph">FLASHBACK</code> <code class="codeph">ARCHIVE</code> statement to make a specific file the default Flashback Data Archive for the system.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FC792CEF-8F8C-4FC4-91A4-ED5CD4321037__GUID-25121B22-97F7-4AA9-B7E3-882F0DD13112">Examples</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Make Flashback Data Archive <code class="codeph">fla1</code> the default Flashback Data Archive:
                              </p><pre class="oac_no_warn" dir="ltr">ALTER FLASHBACK ARCHIVE fla1 SET DEFAULT;
</pre></li>
                           <li>
                              <p>To Flashback Data Archive <code class="codeph">fla1</code>, add up to 5 G of tablespace <code class="codeph">tbs3</code>:
                              </p><pre class="oac_no_warn" dir="ltr">ALTER FLASHBACK ARCHIVE fla1 ADD TABLESPACE tbs3 QUOTA 5G;
</pre></li>
                           <li>
                              <p>To Flashback Data Archive <code class="codeph">fla1</code>, add as much of tablespace <code class="codeph">tbs4</code> as needed:
                              </p><pre class="oac_no_warn" dir="ltr">ALTER FLASHBACK ARCHIVE fla1 ADD TABLESPACE tbs4;
</pre></li>
                           <li>
                              <p>Change the maximum space that Flashback Data Archive <code class="codeph">fla1</code> can use in tablespace <code class="codeph">tbs3</code> to 20 G:
                              </p><pre class="oac_no_warn" dir="ltr">ALTER FLASHBACK ARCHIVE fla1 MODIFY TABLESPACE tbs3 QUOTA 20G;
</pre></li>
                           <li>
                              <p>Allow Flashback Data Archive <code class="codeph">fla1</code> to use as much of tablespace <code class="codeph">tbs1</code> as needed:
                              </p><pre class="oac_no_warn" dir="ltr">ALTER FLASHBACK ARCHIVE fla1 MODIFY TABLESPACE tbs1;
</pre></li>
                           <li>
                              <p>Change the retention time for Flashback Data Archive <code class="codeph">fla1</code> to two years:
                              </p><pre class="oac_no_warn" dir="ltr">ALTER FLASHBACK ARCHIVE fla1 MODIFY RETENTION 2 YEAR;
</pre></li>
                           <li>
                              <p>Remove tablespace <code class="codeph">tbs2</code> from Flashback Data Archive <code class="codeph">fla1</code>:
                              </p><pre class="oac_no_warn" dir="ltr">ALTER FLASHBACK ARCHIVE fla1 REMOVE TABLESPACE tbs2;
</pre><p>(Tablespace <code class="codeph">tbs2</code> is not dropped.)
                              </p>
                           </li>
                           <li>
                              <p>Purge all historical data from Flashback Data Archive <code class="codeph">fla1</code>:
                              </p><pre class="oac_no_warn" dir="ltr">ALTER FLASHBACK ARCHIVE fla1 PURGE ALL;
</pre></li>
                           <li>
                              <p>Purge all historical data older than one day from Flashback Data Archive <code class="codeph">fla1</code>:
                              </p><pre class="oac_no_warn" dir="ltr">ALTER FLASHBACK ARCHIVE fla1
  PURGE BEFORE TIMESTAMP (SYSTIMESTAMP - INTERVAL '1' DAY);
</pre></li>
                           <li>
                              <p>Purge all historical data older than SCN 728969 from Flashback Data Archive <code class="codeph">fla1</code>:
                              </p><pre class="oac_no_warn" dir="ltr">ALTER FLASHBACK ARCHIVE fla1 PURGE BEFORE SCN 728969;
</pre></li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-FC792CEF-8F8C-4FC4-91A4-ED5CD4321037__FORMOREINFORMATIONABOUTTHEALTERFLAS-CAF873C3">
                           <p class="notep1">See Also:</p>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=SQLRF20009" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information about the <code class="codeph">ALTER</code> <code class="codeph">FLASHBACK</code> <code class="codeph">ARCHIVE</code> statement
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADFNS636"></a><a id="ADFNS635"></a><div class="props_rev_3"><a id="GUID-5E8447E3-3122-47C8-A791-125D784C51FC" name="GUID-5E8447E3-3122-47C8-A791-125D784C51FC"></a><h4 id="ADFNS-GUID-5E8447E3-3122-47C8-A791-125D784C51FC" class="sect4">Dropping a Flashback Data Archive</h4>
                  <div>
                     <div class="section">
                        <p>Drop a Flashback Data Archive with the <code class="codeph">DROP</code> <code class="codeph">FLASHBACK</code> <code class="codeph">ARCHIVE</code> statement. Dropping a Flashback Data Archive deletes its historical data, but does not drop its tablespaces.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5E8447E3-3122-47C8-A791-125D784C51FC__GUID-0635D20D-C12E-4FA7-9EE6-F2BA23CD3014">Example</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Remove Flashback Data Archive <code class="codeph">fla1</code> and all its historical data, but not its tablespaces:
                        </p><pre class="oac_no_warn" dir="ltr">DROP FLASHBACK ARCHIVE fla1;
</pre><p><a href="../sqlrf/DROP-FLASHBACK-ARCHIVE.html#SQLRF20010" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information about the <code class="codeph">DROP</code> <code class="codeph">FLASHBACK</code> <code class="codeph">ARCHIVE</code> statement
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADFNS637"></a><div class="props_rev_3"><a id="GUID-51570960-CB42-4A13-BE80-00EB84E765B0" name="GUID-51570960-CB42-4A13-BE80-00EB84E765B0"></a><h4 id="ADFNS-GUID-51570960-CB42-4A13-BE80-00EB84E765B0" class="sect4">Specifying the Default Flashback Data Archive</h4>
                  <div>
                     <div class="section">
                        <p>By default, the system has no default Flashback Data Archive. If you are logged on as <code class="codeph">SYSDBA</code>, you can specify default Flashback Data Archive in either of these ways:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Specify the name of an existing Flashback Data Archive in the <code class="codeph">SET</code> <code class="codeph">DEFAULT</code> clause of the <code class="codeph">ALTER</code> <code class="codeph">FLASHBACK</code> <code class="codeph">ARCHIVE</code> statement. For example:
                              </p><pre class="oac_no_warn" dir="ltr">ALTER FLASHBACK ARCHIVE fla1 SET DEFAULT;
</pre><p>If <code class="codeph">fla1</code> does not exist, an error occurs.
                              </p>
                           </li>
                           <li>
                              <p>Include <code class="codeph">DEFAULT</code> in the <code class="codeph">CREATE</code> <code class="codeph">FLASHBACK</code> <code class="codeph">ARCHIVE</code> statement when you create a Flashback Data Archive. For example:
                              </p><pre class="oac_no_warn" dir="ltr">CREATE FLASHBACK ARCHIVE DEFAULT fla2 TABLESPACE tbs1
  QUOTA 10G RETENTION 1 YEAR;
</pre></li>
                        </ul>
                        <p>The default Flashback Data Archive for the system is the default Flashback Data Archive for every user who does not have his or her own default Flashback Data Archive.</p>
                        <div class="infoboxnotealso" id="GUID-51570960-CB42-4A13-BE80-00EB84E765B0__GUID-3AD582E6-8D71-474C-9FD9-4E9380847AEF">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../sqlrf/CREATE-FLASHBACK-ARCHIVE.html#SQLRF20008" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information about the <code class="codeph">CREATE</code> <code class="codeph">FLASHBACK</code> <code class="codeph">ARCHIVE</code> statement
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../sqlrf/ALTER-DATABASE.html#SQLRF00802" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information about the <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> statement
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADFNS639"></a><a id="ADFNS638"></a><div class="props_rev_3"><a id="GUID-8CF548A0-FA45-45B2-87CE-9F6F17ED1A41" name="GUID-8CF548A0-FA45-45B2-87CE-9F6F17ED1A41"></a><h4 id="ADFNS-GUID-8CF548A0-FA45-45B2-87CE-9F6F17ED1A41" class="sect4">Enabling and Disabling Flashback Data Archive</h4>
                  <div>
                     <div class="section">
                        <p>By default, Flashback Data Archive is disabled for any table. You can enable Flashback Data Archive for a table if you have the <code class="codeph">FLASHBACK</code> <code class="codeph">ARCHIVE</code> object privilege on the Flashback Data Archive to use for that table.
                        </p>
                        <p>To enable Flashback Data Archive for a table, include the <code class="codeph">FLASHBACK</code> <code class="codeph">ARCHIVE</code> clause in either the <code class="codeph">CREATE</code> <code class="codeph">TABLE</code> or <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> statement. In the <code class="codeph">FLASHBACK</code> <code class="codeph">ARCHIVE</code> clause, you can specify the Flashback Data Archive where the historical data for the table are stored. The default is the default Flashback Data Archive for the system. If you specify a nonexistent Flashback Data Archive, an error occurs.
                        </p>
                        <p>If you enable Flashback Data Archive for a table, but AUM is disabled, error ORA-55614 occurs when you try to modify the table.</p>
                        <p>If a table has Flashback Data Archive enabled, and you try to enable it again with a different Flashback Data Archive, an error occurs.</p>
                        <p>After Flashback Data Archive is enabled for a table, you can disable it only if you either have the <code class="codeph">FLASHBACK</code> <code class="codeph">ARCHIVE</code> <code class="codeph">ADMINISTER</code> system privilege or you are logged on as <code class="codeph">SYSDBA</code>. To disable Flashback Data Archive for a table, specify <code class="codeph">NO</code> <code class="codeph">FLASHBACK</code> <code class="codeph">ARCHIVE</code> in the <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> statement. (It is unnecessary to specify <code class="codeph">NO</code> <code class="codeph">FLASHBACK</code> <code class="codeph">ARCHIVE</code> in the <code class="codeph">CREATE</code> <code class="codeph">TABLE</code> statement, because that is the default.)
                        </p>
                        <p>After enabling Flashback Data Archive on a table, Oracle recommends waiting at least 20 seconds before inserting data into the table, and waiting up to 5 minutes before using Flashback Query on the table.</p>
                        <div class="infoboxnotealso" id="GUID-8CF548A0-FA45-45B2-87CE-9F6F17ED1A41__GUID-358FA1FA-3A42-48CE-B66B-31F757CDCD10">
                           <p class="notep1">See Also:</p>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=SQLRF30014" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information about the <code class="codeph">FLASHBACK</code> <code class="codeph">ARCHIVE</code> clause of the <code class="codeph">CREATE</code> <code class="codeph">TABLE</code> statement, including restrictions on its use
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8CF548A0-FA45-45B2-87CE-9F6F17ED1A41__GUID-56D00A7D-1967-4633-9AD3-9BAE3B7D7514">Examples</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Create table <code class="codeph">employee</code> and store the historical data in the default Flashback Data Archive:
                              </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE employee (EMPNO NUMBER(4) NOT NULL, ENAME VARCHAR2(10),
  JOB VARCHAR2(9), MGR NUMBER(4)) FLASHBACK ARCHIVE;
</pre></li>
                           <li>
                              <p>Create table <code class="codeph">employee</code> and store the historical data in the Flashback Data Archive <code class="codeph">fla1</code>:
                              </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE employee (EMPNO NUMBER(4) NOT NULL, ENAME VARCHAR2(10),
  JOB VARCHAR2(9), MGR NUMBER(4)) FLASHBACK ARCHIVE fla1;
</pre></li>
                           <li>
                              <p>Enable Flashback Data Archive for the table <code class="codeph">employee</code> and store the historical data in the default Flashback Data Archive:
                              </p><pre class="oac_no_warn" dir="ltr">ALTER TABLE employee FLASHBACK ARCHIVE;
</pre></li>
                           <li>
                              <p>Enable Flashback Data Archive for the table <code class="codeph">employee</code> and store the historical data in the Flashback Data Archive <code class="codeph">fla1</code>:
                              </p><pre class="oac_no_warn" dir="ltr">ALTER TABLE employee FLASHBACK ARCHIVE fla1;
</pre></li>
                           <li>
                              <p>Disable Flashback Data Archive for the table <code class="codeph">employee</code>:
                              </p><pre class="oac_no_warn" dir="ltr">ALTER TABLE employee NO FLASHBACK ARCHIVE;
</pre></li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADFNS640"></a><div class="props_rev_3"><a id="GUID-D01864A9-C642-4EDF-9EB0-796020A26F2D" name="GUID-D01864A9-C642-4EDF-9EB0-796020A26F2D"></a><h4 id="ADFNS-GUID-D01864A9-C642-4EDF-9EB0-796020A26F2D" class="sect4">DDL Statements on Tables Enabled for Flashback Data Archive</h4>
                  <div>
                     <p>Flashback Data Archive supports only these DDL statements:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">ALTER</code> <code class="codeph">TABLE</code> statement that does any of the following:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Adds, drops, renames, or modifies a column</p>
                              </li>
                              <li>
                                 <p>Adds, drops, or renames a constraint</p>
                              </li>
                              <li>
                                 <p>Drops or truncates a partition or subpartition operation</p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p><code class="codeph">TRUNCATE</code> <code class="codeph">TABLE</code> statement
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">RENAME</code> statement that renames a table
                           </p>
                        </li>
                     </ul>
                     <p>Flashback Data Archive does not support DDL statements that move, split, merge, or coalesce partitions or subpartitions, move tables, or convert <code class="codeph">LONG</code> columns to <code class="codeph">LOB</code> columns.
                     </p>
                     <p>For example, the following DDL statements cause error ORA-55610 when used on a table enabled for Flashback Data Archive:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">ALTER</code> <code class="codeph">TABLE</code> statement that includes an <code class="codeph">UPGRADE</code> <code class="codeph">TABLE</code> clause, with or without an <code class="codeph">INCLUDING</code> <code class="codeph">DATA</code> clause
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">ALTER</code> <code class="codeph">TABLE</code> statement that moves or exchanges a partition or subpartition operation
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">DROP</code> <code class="codeph">TABLE</code> statement
                           </p>
                        </li>
                     </ul>
                     <p>If you must use unsupported DDL statements on a table enabled for Flashback Data Archive, use the <code class="codeph">DBMS_FLASHBACK_ARCHIVE</code>.<code class="codeph">DISASSOCIATE_FBA</code> procedure to disassociate the base table from its Flashback Data Archive. To reassociate the Flashback Data Archive with the base table afterward, use the <code class="codeph">DBMS_FLASHBACK_ARCHIVE</code>.<code class="codeph">REASSOCIATE_FBA</code> procedure. Also, to drop a table enabled for Flashback Data Archive, you must first disable Flashback Data Archive on the table by using the <code class="codeph">ALTER TABLE ... NO FLASHBACK ARCHIVE</code> clause.
                     </p>
                     <div class="infoboxnotealso" id="GUID-D01864A9-C642-4EDF-9EB0-796020A26F2D__GUID-8E5FB68C-F9B0-40E1-876F-430760618AE3">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=SQLRF01001" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about the <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> statement
                              </p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=SQLRF01707" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about the <code class="codeph">TRUNCATE</code> <code class="codeph">TABLE</code> statement
                              </p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=SQLRF01608" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about the <code class="codeph">RENAME</code> statement
                              </p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/DROP-TABLE.html#SQLRF01806" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about the <code class="codeph">DROP</code> <code class="codeph">TABLE</code> statement
                              </p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ARPLS72463" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for information about the <code class="codeph">DBMS_FLASHBACK_ARCHIVE</code> package
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ADFNS642"></a><a id="ADFNS641"></a><div class="props_rev_3"><a id="GUID-CDD50508-CCFA-4A15-8512-63DB2AA1984F" name="GUID-CDD50508-CCFA-4A15-8512-63DB2AA1984F"></a><h4 id="ADFNS-GUID-CDD50508-CCFA-4A15-8512-63DB2AA1984F" class="sect4">Viewing Flashback Data Archive Data</h4>
                  <div>
                     <div class="section">
                        <p><a href="flashback.html#GUID-CDD50508-CCFA-4A15-8512-63DB2AA1984F__BJFJFFJD" title="This table summarizes the static data dictionary views that display information about Flashback Data Archives.">Table 19-3</a> lists and briefly describes the static data dictionary views that you can query for information about Flashback Data Archive files.
                        </p>
                        <div class="tblformal" id="GUID-CDD50508-CCFA-4A15-8512-63DB2AA1984F__BJFJFFJD">
                           <p class="titleintable">Table 19-3 Static Data Dictionary Views for Flashback Data Archive Files</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Static Data Dictionary Views for Flashback Data Archive Files" summary="This table summarizes the static data dictionary views that display information about Flashback Data Archives." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="39%" id="d111972e5893">View</th>
                                    <th align="left" valign="bottom" width="61%" id="d111972e5896">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="39%" id="d111972e5901" headers="d111972e5893 ">
                                       <p><code class="codeph">*_FLASHBACK_ARCHIVE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="61%" headers="d111972e5901 d111972e5896 ">
                                       <p>Displays information about Flashback Data Archive files.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="39%" id="d111972e5909" headers="d111972e5893 ">
                                       <p><code class="codeph">*_FLASHBACK_ARCHIVE_TS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="61%" headers="d111972e5909 d111972e5896 ">
                                       <p>Displays tablespaces of Flashback Data Archive files.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="39%" id="d111972e5917" headers="d111972e5893 ">
                                       <p><code class="codeph">*_FLASHBACK_ARCHIVE_TABLES</code></p>
                                    </td>
                                    <td align="left" valign="top" width="61%" headers="d111972e5917 d111972e5896 ">
                                       <p>Displays information about tables that are enabled for Data Flashback Archive files.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="infoboxnotealso" id="GUID-CDD50508-CCFA-4A15-8512-63DB2AA1984F__GUID-8F1FC4B2-CE16-471C-BDB4-3F8ACF434625">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=REFRN26719" target="_blank"><span class="italic">Oracle Database Reference</span></a> for detailed information about <code class="codeph">*_FLASHBACK_ARCHIVE</code></p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=REFRN23720" target="_blank"><span class="italic">Oracle Database Reference</span></a> for detailed information about <code class="codeph">*_FLASHBACK_ARCHIVE_TS</code></p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=REFRN26715" target="_blank"><span class="italic">Oracle Database Reference</span></a> for detailed information about <code class="codeph">*_FLASHBACK_ARCHIVE_TABLES</code></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADFNS643"></a><div class="props_rev_3"><a id="GUID-3386EBA7-91D8-432A-B92F-F1546700FE08" name="GUID-3386EBA7-91D8-432A-B92F-F1546700FE08"></a><h4 id="ADFNS-GUID-3386EBA7-91D8-432A-B92F-F1546700FE08" class="sect4">Flashback Data Archive Scenarios</h4>
                  <div>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="flashback.html#GUID-4BB5C910-ADEC-4975-9D87-F8003EC9C687">Scenario: Using Flashback Data Archive to Enforce Digital Shredding</a></p>
                        </li>
                        <li>
                           <p><a href="flashback.html#GUID-ED0F756B-99FA-4B2F-94B5-744687EDB0F3">Scenario: Using Flashback Data Archive to Access Historical Data</a></p>
                        </li>
                        <li>
                           <p><a href="flashback.html#GUID-74B7EA4F-CF41-4633-A24E-66F7B89C6443">Scenario: Using Flashback Data Archive to Generate Reports</a></p>
                        </li>
                        <li>
                           <p><a href="flashback.html#GUID-AEB6257D-3277-4740-A576-08F275A75C42">Scenario: Using Flashback Data Archive for Auditing</a></p>
                        </li>
                        <li>
                           <p><a href="flashback.html#GUID-E7372F07-2795-42CA-A1BC-8799CE8659AA">Scenario: Using Flashback Data Archive to Recover Data</a></p>
                        </li>
                     </ul>
                  </div><a id="ADFNS644"></a><div class="props_rev_3"><a id="GUID-4BB5C910-ADEC-4975-9D87-F8003EC9C687" name="GUID-4BB5C910-ADEC-4975-9D87-F8003EC9C687"></a><h5 id="ADFNS-GUID-4BB5C910-ADEC-4975-9D87-F8003EC9C687" class="sect5">Scenario: Using Flashback Data Archive to Enforce Digital Shredding</h5>
                     <div>
                        <p>Your company wants to "shred" (delete) historical data changes to the <code class="codeph">Taxes</code> table after ten years. When you create the Flashback Data Archive for <code class="codeph">Taxes</code>, you specify a retention time of ten years:
                        </p><pre class="oac_no_warn" dir="ltr">CREATE FLASHBACK ARCHIVE taxes_archive TABLESPACE tbs1 RETENTION 10 YEAR;
</pre><p>When history data from transactions on <code class="codeph">Taxes</code> exceeds the age of ten years, it is purged. (The <code class="codeph">Taxes</code> table itself, and history data from transactions less than ten years old, are not purged.)
                        </p>
                     </div>
                  </div><a id="ADFNS645"></a><div class="props_rev_3"><a id="GUID-ED0F756B-99FA-4B2F-94B5-744687EDB0F3" name="GUID-ED0F756B-99FA-4B2F-94B5-744687EDB0F3"></a><h5 id="ADFNS-GUID-ED0F756B-99FA-4B2F-94B5-744687EDB0F3" class="sect5">Scenario: Using Flashback Data Archive to Access Historical Data</h5>
                     <div>
                        <p>You want to be able to retrieve the inventory of all items at the beginning of the year from the table <code class="codeph">inventory</code>, and to be able to retrieve the stock price for each symbol in your portfolio at the close of business on any specified day of the year from the table <code class="codeph">stock_data</code>.
                        </p>
                        <p>Create a default Flashback Data Archive named <code class="codeph">fla1</code> that uses up to 10 G of tablespace <code class="codeph">tbs1</code>, whose data are retained for five years (you must be logged on as <code class="codeph">SYSDBA</code>):
                        </p><pre class="oac_no_warn" dir="ltr">CREATE FLASHBACK ARCHIVE DEFAULT fla1 TABLESPACE tbs1
  QUOTA 10G RETENTION 5 YEAR;
</pre><p>Enable Flashback Data Archive for the tables <code class="codeph">inventory</code> and <code class="codeph">stock_data</code>, and store the historical data in the default Flashback Data Archive:
                        </p><pre class="oac_no_warn" dir="ltr">ALTER TABLE inventory FLASHBACK ARCHIVE;
ALTER TABLE stock_data FLASHBACK ARCHIVE;
</pre><p>To retrieve the inventory of all items at the beginning of the year 2007, use this query:</p><pre class="oac_no_warn" dir="ltr">SELECT product_number, product_name, count FROM inventory AS OF
  TIMESTAMP TO_TIMESTAMP ('2007-01-01 00:00:00', 'YYYY-MM-DD HH24:MI:SS');
</pre><p>To retrieve the stock price for each symbol in your portfolio at the close of business on July 23, 2007, use this query:</p><pre class="oac_no_warn" dir="ltr">SELECT symbol, stock_price FROM stock_data AS OF
  TIMESTAMP TO_TIMESTAMP ('2007-07-23 16:00:00', 'YYYY-MM-DD HH24:MI:SS')
  WHERE symbol IN my_portfolio;</pre></div>
                  </div><a id="ADFNS646"></a><div class="props_rev_3"><a id="GUID-74B7EA4F-CF41-4633-A24E-66F7B89C6443" name="GUID-74B7EA4F-CF41-4633-A24E-66F7B89C6443"></a><h5 id="ADFNS-GUID-74B7EA4F-CF41-4633-A24E-66F7B89C6443" class="sect5">Scenario: Using Flashback Data Archive to Generate Reports</h5>
                     <div>
                        <p>You want users to be able to generate reports from the table <code class="codeph">investments</code>, for data stored in the past five years.
                        </p>
                        <p>Create a default Flashback Data Archive named <code class="codeph">fla2</code> that uses up to 20 G of tablespace <code class="codeph">tbs1</code>, whose data are retained for five years (you must be logged on as <code class="codeph">SYSDBA</code>):
                        </p><pre class="oac_no_warn" dir="ltr">CREATE FLASHBACK ARCHIVE DEFAULT fla2 TABLESPACE tbs1
  QUOTA 20G RETENTION 5 YEAR;
</pre><p>Enable Flashback Data Archive for the table <code class="codeph">investments</code>, and store the historical data in the default Flashback Data Archive:
                        </p><pre class="oac_no_warn" dir="ltr">ALTER TABLE investments FLASHBACK ARCHIVE;
</pre><p>Lisa wants a report on the performance of her investments at the close of business on December 31, 2006. She uses this query:</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM investments AS OF
  TIMESTAMP TO_TIMESTAMP ('2006-12-31 16:00:00', 'YYYY-MM-DD HH24:MI:SS')
  WHERE name = 'LISA';</pre></div>
                  </div><a id="ADFNS648"></a><div class="props_rev_3"><a id="GUID-AEB6257D-3277-4740-A576-08F275A75C42" name="GUID-AEB6257D-3277-4740-A576-08F275A75C42"></a><h5 id="ADFNS-GUID-AEB6257D-3277-4740-A576-08F275A75C42" class="sect5">Scenario: Using Flashback Data Archive for Auditing</h5>
                     <div>
                        <p>A medical insurance company must audit a medical clinic. The medical insurance company has its claims in the table <code class="codeph">Billings</code>, and creates a default Flashback Data Archive named <code class="codeph">fla4</code> that uses up to 100 G of tablespace <code class="codeph">tbs1</code>, whose data are retained for 10 years:
                        </p><pre class="oac_no_warn" dir="ltr">CREATE FLASHBACK ARCHIVE DEFAULT fla4 TABLESPACE tbs1
  QUOTA 100G RETENTION 10 YEAR;
</pre><p>The company enables Flashback Data Archive for the table <code class="codeph">Billings</code>, and stores the historical data in the default Flashback Data Archive:
                        </p><pre class="oac_no_warn" dir="ltr">ALTER TABLE Billings FLASHBACK ARCHIVE;
</pre><p>On May 1, 2007, clients were charged the wrong amounts for some diagnoses and tests. To see the records as of May 1, 2007, the company uses this query:</p><pre class="oac_no_warn" dir="ltr">SELECT date_billed, amount_billed, patient_name, claim_Id,
  test_costs, diagnosis FROM Billings AS OF TIMESTAMP
  TO_TIMESTAMP('2007-05-01 00:00:00', 'YYYY-MM-DD HH24:MI:SS');</pre></div>
                  </div><a id="ADFNS649"></a><div class="props_rev_3"><a id="GUID-E7372F07-2795-42CA-A1BC-8799CE8659AA" name="GUID-E7372F07-2795-42CA-A1BC-8799CE8659AA"></a><h5 id="ADFNS-GUID-E7372F07-2795-42CA-A1BC-8799CE8659AA" class="sect5">Scenario: Using Flashback Data Archive to Recover Data</h5>
                     <div>
                        <p>An end user recovers from erroneous transactions that were previously committed in the database. The undo data for the erroneous transactions is no longer available, but because the required historical information is available in the Flashback Data Archive, Flashback Query works seamlessly.</p>
                        <p>Lisa manages a software development group whose product sales are doing well. On November 3, 2007, she decides to give all her level-three employees who have more than two years of experience a salary increase of 10% and a promotion to level four. Lisa asks her HR representative, Bob, to make the changes.</p>
                        <p>Using the HR web application, Bob updates the <code class="codeph">employee</code> table to give Lisa's level-three employees a 10% raise and a promotion to level four. Then Bob finishes his work for the day and leaves for home, unaware that he omitted the requirement of two years of experience in his transaction. A few days later, Lisa checks to see if Bob has done the updates and finds that everyone in the group was given a raise! She calls Bob immediately and asks him to correct the error.
                        </p>
                        <p>At first, Bob thinks he cannot return the employee table to its prior state without going to the backups. Then he remembers that the <code class="codeph">employee</code> table has Flashback Data Archive enabled.
                        </p>
                        <p>First, he verifies that no other transaction modified the <code class="codeph">employee</code> table after his: The commit time stamp from the transaction query corresponds to Bob's transaction, two days ago.
                        </p>
                        <p>Next, Bob uses these statements to return the <code class="codeph">employee</code> table to the way it was before his erroneous change:
                        </p><pre class="oac_no_warn" dir="ltr">DELETE EMPLOYEE WHERE MANAGER = 'LISA JOHNSON';
INSERT INTO EMPLOYEE
  SELECT * FROM EMPLOYEE
    AS OF TIMESTAMP (SYSTIMESTAMP - INTERVAL '2' DAY)
      WHERE MANAGER = 'LISA JOHNSON';
</pre><p>Bob then reexecutes the update that Lisa had requested.</p>
                     </div>
                  </div>
               </div>
            </div><a id="ADFNS01012"></a><div class="props_rev_3"><a id="GUID-0DAA9454-D91A-46AC-A8E0-510670672F19" name="GUID-0DAA9454-D91A-46AC-A8E0-510670672F19"></a><h3 id="ADFNS-GUID-0DAA9454-D91A-46AC-A8E0-510670672F19" class="sect3">General Guidelines for Oracle Flashback Technology</h3>
               <div>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Use the <code class="codeph">DBMS_FLASHBACK</code>.<code class="codeph">ENABLE</code> and <code class="codeph">DBMS_FLASHBACK</code>.<code class="codeph">DISABLE</code> procedures around SQL code that you do not control, or when you want to use the same past time for several consecutive queries.
                        </p>
                     </li>
                     <li>
                        <p>Use Oracle Flashback Query, Oracle Flashback Version Query, or Oracle Flashback Transaction Query for SQL code that you write, for convenience. An Oracle Flashback Query, for example, is flexible enough to do comparisons and store results in a single query.</p>
                     </li>
                     <li>
                        <p>To obtain an SCN to use later with a flashback feature, use <code class="codeph">DBMS_FLASHBACK</code>.<code class="codeph">GET_SYSTEM_CHANGE_NUMBER</code>.
                        </p>
                     </li>
                     <li>
                        <p>To compute or retrieve a past time to use in a query, use a function return value as a time stamp or SCN argument. For example, add or subtract an <code class="codeph">INTERVAL</code> value to the value of the <code class="codeph">SYSTIMESTAMP</code> function.
                        </p>
                     </li>
                     <li>
                        <p>Use Oracle Flashback Query, Oracle Flashback Version Query, and Oracle Flashback Transaction Query locally or remotely. An example of a remote Oracle Flashback Query is:</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM employees@some_remote_host AS OF 
    TIMESTAMP (SYSTIMESTAMP - INTERVAL '60' MINUTE);
</pre></li>
                     <li>
                        <p>To ensure database consistency, perform a <code class="codeph">COMMIT</code> or <code class="codeph">ROLLBACK</code> operation before querying past data.
                        </p>
                     </li>
                     <li>
                        <p>Remember that all flashback processing uses the current session settings, such as national language and character set, not the settings that were in effect at the time being queried.</p>
                     </li>
                     <li>
                        <p>Remember that DDLs that alter the structure of a table (such as drop/modify column, move table, drop partition, truncate table/partition, and add constraint) invalidate any existing undo data for the table. If you try to retrieve data from a time before such a DDL executed, error ORA-01466 occurs. DDL operations that alter the storage attributes of a table (such as <code class="codeph">PCTFREE</code>, <code class="codeph">INITRANS</code>, and <code class="codeph">MAXTRANS</code>) do not invalidate undo data.
                        </p>
                     </li>
                     <li>
                        <p>To query past data at a precise time, use an SCN. If you use a time stamp, the actual time queried might be up to 3 seconds earlier than the time you specify. Oracle Database uses SCNs internally and maps them to time stamps at a granularity of 3 seconds.</p>
                        <p>For example, suppose that the SCN values 1000 and 1005 are mapped to the time stamps 8:41 AM and 8:46 AM, respectively. A query for a time between 8:41:00 and 8:45:59 AM is mapped to SCN 1000; an Oracle Flashback Query for 8:46 AM is mapped to SCN 1005. Therefore, if you specify a time that is slightly after a DDL operation (such as a table creation) Oracle Database might use an SCN that is immediately before the DDL operation, causing error ORA-01466.</p>
                     </li>
                     <li>
                        <p>You cannot retrieve past data from a dynamic performance (<code class="codeph">V$</code>) view. A query on such a view returns current data.
                        </p>
                     </li>
                     <li>
                        <p>You can perform queries on past data in static data dictionary views, such as <code class="codeph">*_TABLES</code>.
                        </p>
                     </li>
                     <li>
                        <p>You can enable optimization of data storage for history tables maintained by Flashback Data Archive by specifying <code class="codeph">OPTIMIZE</code> <code class="codeph">DATA</code> when creating or altering a Flashback Data Archive.
                        </p>
                        <p><code class="codeph">OPTIMIZE</code> <code class="codeph">DATA</code> optimizes the storage of data in history tables by using any of these features:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Advanced Row Compression</p>
                           </li>
                           <li>
                              <p>Advanced LOB Compression</p>
                           </li>
                           <li>
                              <p>Advanced LOB Deduplication</p>
                           </li>
                           <li>
                              <p>Segment-level compression tiering</p>
                           </li>
                           <li>
                              <p>Row-level compression tiering</p>
                           </li>
                        </ul>
                        <p>The default is not to optimize the storage of data in history tables.</p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-0DAA9454-D91A-46AC-A8E0-510670672F19__IMPORTINGUSER-GENERATEDHISTORYCANLE-09803154">
                     <p class="notep1">Caution:</p>
                     <p>Importing user-generated history can lead to inaccurate, or unreliable results. This procedure should only be used after consulting with Oracle Support.</p>
                  </div>
               </div>
            </div><a id="ADFNS01013"></a><div class="props_rev_3"><a id="GUID-B681D62C-E66C-4C77-A03B-2C2CE8FA49CA" name="GUID-B681D62C-E66C-4C77-A03B-2C2CE8FA49CA"></a><h3 id="ADFNS-GUID-B681D62C-E66C-4C77-A03B-2C2CE8FA49CA" class="sect3">Performance Guidelines for Oracle Flashback Technology</h3>
               <div>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Use the <code class="codeph">DBMS_STATS</code> package to generate statistics for all tables involved in an Oracle Flashback Query. Keep the statistics current. Oracle Flashback Query uses the cost-based optimizer, which relies on these statistics.
                        </p>
                     </li>
                     <li>
                        <p>Minimize the amount of undo data that must be accessed. Use queries to select small sets of past data using indexes, not to scan entire tables. If you must scan a full table, add a parallel hint to the query.</p>
                        <p>The performance cost in I/O is the cost of paging in data and undo blocks that are not in the buffer cache. The performance cost in CPU use is the cost of applying undo information to affected data blocks. When operating on changes in the recent past, flashback operations are CPU-bound.</p>
                        <p>Oracle recommends that you have enough buffer cache, so that the versions query for the archiver finds the undo data in the buffer cache. Buffer cache access is significantly faster than disk access.</p>
                     </li>
                     <li>
                        <p>If very large transactions (such as affecting more than 1 million rows) are performed on tracked tables, set the large pool size high enough (at least 1 GB) for Parallel Query not to have to allocate new chunks out of the SGA.</p>
                     </li>
                     <li>
                        <p>For Oracle Flashback Version Query, use index structures. Oracle Database keeps undo data for index changes and data changes. Performance of index lookup-based Oracle Flashback Version Query is an order of magnitude faster than the full table scans that are otherwise needed.</p>
                     </li>
                     <li>
                        <p>In an Oracle Flashback Transaction Query, the <code class="codeph">xid</code> column is of the type <code class="codeph">RAW(8)</code>. To take advantage of the index built on the <code class="codeph">xid</code> column, use the <code class="codeph">HEXTORAW</code> conversion function: <code class="codeph">HEXTORAW(xid)</code>. 
                        </p>
                     </li>
                     <li>
                        <p>An Oracle Flashback Query against a materialized view does not take advantage of query rewrite optimization.</p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-B681D62C-E66C-4C77-A03B-2C2CE8FA49CA__NOTE-132-CAFE29F4">
                     <p class="notep1">See Also:</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=TGDBA558" target="_blank"><span class="italic">Oracle Database Performance Tuning Guide</span></a> for information about setting the large pool size
                     </p>
                  </div>
               </div>
            </div><a id="ADFNS98765"></a><div class="props_rev_3"><a id="GUID-DECBC705-B421-4861-A341-E07EBB883AC9" name="GUID-DECBC705-B421-4861-A341-E07EBB883AC9"></a><h3 id="ADFNS-GUID-DECBC705-B421-4861-A341-E07EBB883AC9" class="sect3">Multitenant Container Database Restrictions for Oracle Flashback Technology</h3>
               <div>
                  <p>These Oracle Flashback Technology features are unavailable for a multitenant container database (CDB):</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>For Oracle Database 12<span class="italic">c</span> Release 1 (12.1.0.1), Flashback Data Archive (FDA) is not supported in a CDB.
                        </p>
                        <p>For Oracle Database 12<span class="italic">c</span> Release 1 (12.1.0.2), this restriction is removed.
                        </p>
                     </li>
                     <li>
                        <p>Flashback Transaction Query is not supported in a CDB.</p>
                     </li>
                     <li>
                        <p>Flashback Transaction Backout is not supported in a CDB.</p>
                     </li>
                  </ul>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='00382.installing-oracle-database-creating-database.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="This chapter describes how to install Oracle Database software and create a single instance Oracle Database.">
      <meta name="description" content="This chapter describes how to install Oracle Database software and create a single instance Oracle Database.">
      <title>Installing Oracle Database and Creating a Database</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="2 Day DBA">
      <meta property="og:description" content="This chapter describes how to install Oracle Database software and create a single instance Oracle Database.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="2 Day DBA">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="2-day-dba.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-04-23T23:13:13-07:00">
      <meta name="dcterms.title" content="2 Day DBA">
      <meta name="dcterms.dateCopyrighted" content="2004, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96197-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="introduction.html" title="Previous" type="text/html">
      <link rel="next" href="getting-started-with-database-administration.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="ADMQS">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="introduction.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="getting-started-with-database-administration.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">2 Day DBA</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Installing Oracle Database and Creating a Database</li>
            </ol>
            <a id="GUID-6B14A3EB-DD51-43C3-AB26-6978B13E2E1E" name="GUID-6B14A3EB-DD51-43C3-AB26-6978B13E2E1E"></a><a id="ADMQS002"></a>
            
            <h2 id="ADMQS-GUID-6B14A3EB-DD51-43C3-AB26-6978B13E2E1E" class="sect2"><span class="enumeration_chapter">2 </span> Installing Oracle Database and Creating a Database
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This chapter describes how to install Oracle Database software and create a single instance Oracle Database.</p>
               <p>If you are using an earlier release of Oracle Database and want to install a later release of the Oracle Database software, then you can <span class="italic">upgrade</span> your existing Oracle Database and use it with the new release of the database software. See <span class="q">"<a href="managing-oracle-database-software.html#GUID-CCF98C09-4211-4F87-B097-1FBCD0A2E9ED" title="Oracle provides upgrade options and strategies that are designed for your database environment, and an array of tools that automate the Oracle Database upgrade process.">Upgrading a Database</a>"</span>.
               </p>
               <p>This chapter contains the following sections:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="installing-oracle-database-creating-database.html#GUID-DBC8C390-D3B7-40A6-B625-26AE44AA45E1" title="To install your Oracle Database software, use Oracle Universal Installer (OUI). OUI is a graphical user interface utility that enables you to install new Oracle Database software.">Overview of Installing Oracle Database Software and Creating a Database</a></p>
                  </li>
                  <li>
                     <p><a href="installing-oracle-database-creating-database.html#GUID-011C3545-9427-44F7-9645-2D402A88017F" title="This section briefly describes the steps for a system class installation. Most steps are common to all platforms and involve running Oracle Universal Installer (OUI).">Installing Oracle Database Software</a></p>
                  </li>
                  <li>
                     <p><a href="installing-oracle-database-creating-database.html#GUID-2A1B1AF2-CC36-405A-89EB-72E7A33F7E2B" title="Unless you specified that only the Oracle Database software should be installed, Oracle Universal Installer (OUI) automatically runs Database Configuration Assistant (DBCA) after software installation is complete.">Creating and Managing a Database with DBCA</a></p>
                  </li>
                  <li>
                     <p><a href="installing-oracle-database-creating-database.html#GUID-75C198E5-5690-43F4-990E-91A3892F7A54" title="You may decide sometime after the initial database installation that you would like to install the database sample schemas. You can create the sample schemas manually by running SQL scripts.">Manually Installing the Database Sample Schemas Post-Installation</a></p>
                  </li>
                  <li>
                     <p><a href="installing-oracle-database-creating-database.html#GUID-1426CDE5-D4E2-428D-8409-0333799EE8C2" title="Oracle By Example (OBE) has a series on the Oracle Database 2 Day DBA guide. This OBE steps you through the tasks in this chapter and includes annotated screenshots.">Installation: Oracle By Example Series</a></p>
                  </li>
               </ul>
               <div class="infoboxnote" id="GUID-6B14A3EB-DD51-43C3-AB26-6978B13E2E1E__GUID-2589A04D-CEAE-461D-9316-95ABCFED3715">
                  <p class="notep1">Note:</p>
                  <p>This chapter provides an overview of how to install Oracle Database software and create a single instance Oracle Database. This chapter is not a complete installation guide for Oracle Database.</p>
                  <p>For more detailed information about installing Oracle Database software, see <a href="../install-and-upgrade.html" target="_blank"><span><cite>Oracle Database Installation Guide</cite></span></a> for your platform.
                  </p>
               </div>
            </div><a id="ADMQS021"></a><div class="props_rev_3"><a id="GUID-DBC8C390-D3B7-40A6-B625-26AE44AA45E1" name="GUID-DBC8C390-D3B7-40A6-B625-26AE44AA45E1"></a><h3 id="ADMQS-GUID-DBC8C390-D3B7-40A6-B625-26AE44AA45E1" class="sect3"><span class="enumeration_section">2.1 </span>Overview of Installing Oracle Database Software and Creating a Database
               </h3>
               <div>
                  <div><span>To install your Oracle Database software, use Oracle Universal Installer (OUI). OUI is a graphical user interface utility that enables you to install new Oracle Database software.</span> Online Help is available to guide you through the installation process.
                  </div>
                  <p>During the installation process, you are given the opportunity to create a database. If you choose to do so, then OUI automatically starts Oracle Database Configuration Assistant (DBCA) to guide you through the process of creating and configuring a database.</p>
                  <p>Before you start the installation process, see the following sections for information about prerequisites and installation choices:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="installing-oracle-database-creating-database.html#GUID-B13AFC3F-970C-4E86-94B3-A169142E52AC" title="Before installing the software, Oracle Universal Installer (OUI) performs several automated checks to ensure that your computer fulfills the basic hardware and software requirements for an Oracle Database installation.">Checking Oracle Database Installation Prerequisites</a></p>
                     </li>
                     <li>
                        <p><a href="installing-oracle-database-creating-database.html#GUID-BB081EDA-2652-4AB1-B1D6-B03EE08917B3" title="Oracle Universal Installer (OUI) guides you through an interview phase where you specify your choices for installation and database creation. The exact sequence of steps depends on your operating system. As you progress through the installation, you are presented with choices on how to configure the database.">Deciding on Oracle Database Installation Choices</a></p>
                     </li>
                  </ul>
                  <p>If you do not create a database during installation, then you must run DBCA at some point after installation to create a database.</p>
                  <div class="infoboxnote" id="GUID-DBC8C390-D3B7-40A6-B625-26AE44AA45E1__GUID-B44DB889-E56F-4239-B9F6-E38872A4E327">
                     <p class="notep1">Note:</p>
                     <p>After you create a database, either during installation or as a standalone operation, you do not have to create another. Rather than requiring that you create multiple databases to accommodate different applications, you can separate data into different <span class="italic">schemas</span> within a single Oracle Database. See <span class="q">"<a href="administering-user-accounts-and-security.html#GUID-434BA586-DDFC-4C37-B442-C9348C2853AE" title="For users to access your database, you must create user accounts and grant appropriate database access privileges to those accounts.">About User Accounts</a>"</span> for more information about schemas.
                     </p>
                     <p>Starting with Oracle Database 12<span class="italic">c</span>, it is also possible to create a <a id="d5037e167" class="indexterm-anchor"></a>multitenant container database (CDB) that can support zero, one, or many user-created p<a id="d5037e172" class="indexterm-anchor"></a>luggable databases (PDBs). All Oracle databases created before Oracle Database 12<span class="italic">c</span> are non-CDBs. This manual describes the OUI and DBCA options for creating  <a id="d5037e180" class="indexterm-anchor"></a>CDBs and <a id="d5037e186" class="indexterm-anchor"></a>PDBs, and subsequent chapters provide information on managing CDBs and PDBs.
                     </p>
                  </div>
                  <div class="infoboxnotealso" id="GUID-DBC8C390-D3B7-40A6-B625-26AE44AA45E1__GUID-8E4C12DB-DE87-48E1-8BE7-1B0FFFD732EB">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../multi/introduction-to-the-multitenant-architecture.html#CNCPT89234" target="_blank"><span><cite>Oracle Multitenant Administrator's Guide</cite></span></a> for conceptual information about CDBs and PDBS
                           </p>
                        </li>
                        <li>
                           <p><a href="../multi/managing-a-multitenant-environment.html#ADMIN13506" target="_blank"><span><cite>Oracle Multitenant Administrator's Guide</cite></span></a> for information about managing CDBs and PDBs
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="ADMQS0211"></a><div class="props_rev_3"><a id="GUID-B13AFC3F-970C-4E86-94B3-A169142E52AC" name="GUID-B13AFC3F-970C-4E86-94B3-A169142E52AC"></a><h4 id="ADMQS-GUID-B13AFC3F-970C-4E86-94B3-A169142E52AC" class="sect4"><span class="enumeration_section">2.1.1 </span>Checking Oracle Database Installation Prerequisites
                  </h4>
                  <div>
                     <div><span>Before installing the software, Oracle Universal Installer (OUI) performs several automated checks to ensure that your computer fulfills the basic hardware and software requirements for an Oracle Database installation.</span> If your computer does not meet a requirement, then an error message is displayed.
                     </div>
                     <p>The requirements may vary depending upon the type of computer and operating system you are using, but some prerequisites include:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a id="d5037e246" class="indexterm-anchor"></a>There is a minimum of 1 GB of physical memory.
                           </p>
                        </li>
                        <li>
                           <p>Sufficient paging space is available.</p>
                        </li>
                        <li>
                           <p>The appropriate service packs or patches for your operating system are installed.</p>
                        </li>
                        <li>
                           <p>An appropriate file system format is being used.</p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-B13AFC3F-970C-4E86-94B3-A169142E52AC__GUID-49AF4D04-FEDF-4847-AB77-808F12CADA54">
                        <p class="notep1">See Also:</p>
                        <p><a href="../install-and-upgrade.html" target="_blank"><span class="italic">Oracle Database Installation Guide</span></a> for your platform for more information about preinstallation requirements and tasks
                        </p>
                     </div>
                  </div>
               </div><a id="ADMQS0212"></a><div class="props_rev_3"><a id="GUID-BB081EDA-2652-4AB1-B1D6-B03EE08917B3" name="GUID-BB081EDA-2652-4AB1-B1D6-B03EE08917B3"></a><h4 id="ADMQS-GUID-BB081EDA-2652-4AB1-B1D6-B03EE08917B3" class="sect4"><span class="enumeration_section">2.1.2 </span>Deciding on Oracle Database Installation Choices
                  </h4>
                  <div>
                     <p>Oracle Universal Installer (OUI) guides you through an interview phase where you specify your choices for installation and database creation. The exact sequence of steps depends on your operating system. As you progress through the installation, you are presented with choices on how to configure the database.</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="installing-oracle-database-creating-database.html#GUID-6E134F2D-0E9E-4283-884C-75AF8EE82E00" title="You can choose to create and configure a database, or to only install the database software.">Install Option for Oracle Database</a></p>
                        </li>
                        <li>
                           <p><a href="installing-oracle-database-creating-database.html#GUID-88C6DF2F-C098-4B46-9639-150053639D7A" title="The installation classes are Desktop Class and Server Class.">Installation Class for Oracle Database</a></p>
                        </li>
                        <li>
                           <p><a href="installing-oracle-database-creating-database.html#GUID-BC2E9026-1EE7-46BD-8F2B-64FE9719832A" title="When you install Oracle Database during basic and advanced installations, you can choose a database edition.">Installation Edition for Oracle Database</a></p>
                        </li>
                        <li>
                           <p><a href="installing-oracle-database-creating-database.html#GUID-8DF09815-92DE-47D5-A96B-691C05F86483" title="You must specify the directory in which the Oracle Database software is installed, or the location where the product binary files are copied from the installation media.">Software Installation Directories for Oracle Database</a></p>
                        </li>
                        <li>
                           <p><a href="installing-oracle-database-creating-database.html#GUID-B35A1130-F17A-42BA-A455-2D351CF4A96F" title="A database includes several files that store the user data, database metadata, and information required to recover from failures. As an administrator, you decide what kind of storage subsystem to use for these files.">Database File Location for Oracle Database</a></p>
                        </li>
                        <li>
                           <p><a href="installing-oracle-database-creating-database.html#GUID-B30C4CAE-CC53-4285-8D6C-C50A8E3B497E" title="These options include your global database name and system identifier (SID).">Database Identifiers for Oracle Database</a></p>
                        </li>
                        <li>
                           <p><a href="installing-oracle-database-creating-database.html#GUID-88470480-5B7B-467C-9C66-894B77CA8C63" title="During advanced installations using the Server Class method you are prompted to make the additional choices listed in this section, and the choices for a typical installation.">About Advanced Installation for Oracle Database</a></p>
                        </li>
                     </ul>
                  </div><a id="ADMQS12378"></a><div class="props_rev_3"><a id="GUID-6E134F2D-0E9E-4283-884C-75AF8EE82E00" name="GUID-6E134F2D-0E9E-4283-884C-75AF8EE82E00"></a><h5 id="ADMQS-GUID-6E134F2D-0E9E-4283-884C-75AF8EE82E00" class="sect5"><span class="enumeration_section">2.1.2.1 </span>Install Option for Oracle Database
                     </h5>
                     <div>
                        <p>You can choose to create and configure a database, or to only install the database software.</p>
                        <p>You can create a preconfigured database or a custom-configured database during installation. If you choose not to create a database during installation, then you must run Database Configuration Assistant (DBCA) after installation to create a database.</p>
                        <div class="infoboxnote" id="GUID-6E134F2D-0E9E-4283-884C-75AF8EE82E00__GUID-9965E407-2F0D-48DB-BEBE-43E338932AD9">
                           <p class="notep1">Note:</p>
                           <p>If you choose to create and configure a database, then Oracle Universal Installer (OUI) will start DBCA at the end of the installation to configure the database.</p>
                           <p>If you choose to only install the database software using OUI, then you must manually run DBCA after the installation to create and configure the database. With this approach, more options are available for controlling database configuration.</p>
                        </div>
                        <p>Preconfigured databases are based on templates that Oracle provides or that you create. Each Oracle-provided template is optimized for a particular workload type. See <a href="installing-oracle-database-creating-database.html#GUID-E59E0AE9-AF91-4DD2-B311-C92E3EFE9948__BABHDEDA" title="This table describes the DBCA template environments.">Table 2-2</a> for information about the types of preconfigured databases.
                        </p>
                        <p>If you choose to use a Desktop Class installation, then the general purpose database template is used. To create a custom database in which you configure your own database structure, see <span class="q">"<a href="installing-oracle-database-creating-database.html#GUID-88470480-5B7B-467C-9C66-894B77CA8C63" title="During advanced installations using the Server Class method you are prompted to make the additional choices listed in this section, and the choices for a typical installation.">About Advanced Installation for Oracle Database</a>."</span></p>
                        <div class="infoboxnote" id="GUID-6E134F2D-0E9E-4283-884C-75AF8EE82E00__GUID-962176D3-8BAF-4700-ACF3-1426624506D1">
                           <p class="notep1">Note:</p>
                           <p>If you must create a new database, then Oracle recommends that you install a preconfigured database, which is faster and easier. You can customize the database after it has been created.</p>
                        </div>
                     </div>
                  </div><a id="ADMQS12379"></a><div class="props_rev_3"><a id="GUID-88C6DF2F-C098-4B46-9639-150053639D7A" name="GUID-88C6DF2F-C098-4B46-9639-150053639D7A"></a><h5 id="ADMQS-GUID-88C6DF2F-C098-4B46-9639-150053639D7A" class="sect5"><span class="enumeration_section">2.1.2.2 </span>Installation Class for Oracle Database
                     </h5>
                     <div>
                        <p>The installation classes are Desktop Class and Server Class.</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="bold">Desktop Class</span>â€”This installation class is most appropriate for laptop or desktop computers. It includes a starter database and requires minimal configuration.
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">Server Class</span>â€”This installation class is for servers, such as you would find in a data center, or used to support enterprise-level applications. Choose this installation class if you need access to advanced configuration options.
                              </p>
                           </li>
                        </ul>
                        <p>During a Desktop Class installation, you make only basic choices. For a Server Class installation, you choose either typical installation (where you make only basic choices) or advanced installation.</p>
                        <p>During a Desktop Class or a typical installation, Oracle Database automatically installs the sample schemas.</p>
                     </div>
                  </div><a id="ADMQS02121"></a><div class="props_rev_3"><a id="GUID-BC2E9026-1EE7-46BD-8F2B-64FE9719832A" name="GUID-BC2E9026-1EE7-46BD-8F2B-64FE9719832A"></a><h5 id="ADMQS-GUID-BC2E9026-1EE7-46BD-8F2B-64FE9719832A" class="sect5"><span class="enumeration_section">2.1.2.3 </span>Installation Edition for Oracle Database
                     </h5>
                     <div>
                        <p>When you install Oracle Database during basic and advanced installations, you can choose a database edition.</p>
                        <p>For example, you can choose one of these database editions:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="bold">Enterprise Edition</span>â€”This installation type is the full-featured Oracle Database product that provides data management for enterprise-level applications. It is intended for mission-critical, high-security online transaction processing (OLTP) and data warehousing environments.
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">Standard Edition 2</span>â€”This installation type is designed for department or workgroup- level applications and for small and medium-sized enterprises (SMEs). It is engineered to provide core relational database management services and options. It installs an integrated set of management tools, full distribution, replication, Web features, and facilities for building business-critical applications.
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="ADMQS12380"></a><div class="props_rev_3"><a id="GUID-8DF09815-92DE-47D5-A96B-691C05F86483" name="GUID-8DF09815-92DE-47D5-A96B-691C05F86483"></a><h5 id="ADMQS-GUID-8DF09815-92DE-47D5-A96B-691C05F86483" class="sect5"><span class="enumeration_section">2.1.2.4 </span>Software Installation Directories for Oracle Database
                     </h5>
                     <div>
                        <div><span>You must specify the directory in which the Oracle Database software is installed, or the location where the product binary files are copied from the installation media.</span> You must choose a location that has enough disk space to contain the software and is accessible by the operating system user performing the installation.
                        </div>
                        <p>You also specify the location of the Oracle base directory, which is used by all Oracle software products installed on the server. The first time you install Oracle software on a server, you are prompted to specify the location of the inventory directory, called <code class="codeph">oraInventory</code>. This directory provides a centralized inventory of all Oracle software products installed on the server. You should use the same value for the Oracle inventory directory each time you perform an Oracle software installation on the server.
                        </p>
                     </div>
                  </div><a id="ADMQS12381"></a><div class="props_rev_3"><a id="GUID-B35A1130-F17A-42BA-A455-2D351CF4A96F" name="GUID-B35A1130-F17A-42BA-A455-2D351CF4A96F"></a><h5 id="ADMQS-GUID-B35A1130-F17A-42BA-A455-2D351CF4A96F" class="sect5"><span class="enumeration_section">2.1.2.5 </span>Database File Location for Oracle Database
                     </h5>
                     <div>
                        <p>A database includes several files that store the user data, database metadata, and information required to recover from failures. As an administrator, you decide what kind of storage subsystem to use for these files.</p>
                        <p>You can select from the following options:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="bold">File System</span>â€”This default option creates database files that are managed by the file system of your operating system. You can specify the directory path where database files are to be stored. Oracle Database can create and manage the actual files.
                              </p>
                              <p>If you are not certain about which option to use, then select File System (the default).</p>
                           </li>
                           <li>
                              <p><span class="bold">Automatic Storage Management</span>â€”<a id="d5037e586" class="indexterm-anchor"></a>This option enables you to place your data files in Oracle Automatic Storage Management (Oracle ASM) disk groups. If you choose Oracle ASM, then Oracle Database automatically manages database file placement and naming. For environments with a large number of disks, this option simplifies database administration and maximizes performance. Oracle ASM performs software striping and mirroring at the file level for maximum storage flexibility, performance, and availability.
                              </p>
                              <p>Oracle ASM uses an Oracle ASM instance, which is distinct from the database instance, to configure and manage disk groups. A single Oracle ASM instance can provide storage for multiple databases on the same server. </p>
                              <p>For more information, see <a href="../ostmg/asm-intro.html#OSTMG036" target="_blank"><span class="italic">Oracle Automatic Storage Management Administrator's Guide</span></a>.
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-B35A1130-F17A-42BA-A455-2D351CF4A96F__GUID-8B2CF73C-212D-4FD2-972A-F687A92C6567">
                           <p class="notep1">Note:</p>
                           <p>In past releases, Oracle ASM was installed as part of the Oracle Database installation. With Oracle Database 11<span class="italic">g</span> Release 2 (11.2), Oracle ASM is part of an Oracle Grid Infrastructure installation.
                           </p>
                           <p>To use Oracle ASM for storing database files, you must have installed Oracle ASM and created one or more disk groups before performing the Oracle Database installation.</p>
                        </div>
                     </div>
                  </div><a id="ADMQS12382"></a><div class="props_rev_3"><a id="GUID-B30C4CAE-CC53-4285-8D6C-C50A8E3B497E" name="GUID-B30C4CAE-CC53-4285-8D6C-C50A8E3B497E"></a><h5 id="ADMQS-GUID-B30C4CAE-CC53-4285-8D6C-C50A8E3B497E" class="sect5"><span class="enumeration_section">2.1.2.6 </span>Database Identifiers for Oracle Database
                     </h5>
                     <div>
                        <div><span>These options include your global database name and system identifier (SID).</span> The <span class="bold">SID</span> is a unique identifier that is used to distinguish this instance from other Oracle Database instances that you may create later and run concurrently on your system.
                        </div>
                        <p>The global database name is the full name of the database that uniquely distinguishes it from any other database. The global database name is in the form <code class="codeph">database_name.database_domain</code>, for example <code class="codeph">sales.example.com</code>. The database name portion <code class="codeph">sales</code> is a simple name you call your database. The database domain portion <code class="codeph">example.com</code> specifies the database domain in which the database is located. Together, the database name and domain form the global database name.
                        </p>
                     </div>
                  </div><a id="ADMQS02122"></a><div class="props_rev_3"><a id="GUID-88470480-5B7B-467C-9C66-894B77CA8C63" name="GUID-88470480-5B7B-467C-9C66-894B77CA8C63"></a><h5 id="ADMQS-GUID-88470480-5B7B-467C-9C66-894B77CA8C63" class="sect5"><span class="enumeration_section">2.1.2.7 </span>About Advanced Installation for Oracle Database
                     </h5>
                     <div>
                        <div><span>During advanced installations using the Server Class method you are prompted to make the additional choices listed in this section, and the choices for a typical installation.</span> The installation process provides default values for every choice.
                        </div>
                        <p>This guide describes, but does not document, these additional advanced installation choices. For more information, see <a href="../install-and-upgrade.html" target="_blank"><span class="italic">Oracle Database Installation Guide</span></a> for your platform.
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a id="d5037e705" class="indexterm-anchor"></a>Product Languages
                              </p>
                              <p>You choose which language the software should use after it is installed. You can select multiple languages. The default value is English. If you choose a value other than English, it does not change the language used by the installation.</p>
                           </li>
                           <li>
                              <p>Database Configuration Type</p>
                              <p>You select a template to use when configuring the database. You can choose either General Purpose/Transaction Processing or Data Warehousing.</p>
                           </li>
                           <li>
                              <p><a id="d5037e719" class="indexterm-anchor"></a><a id="d5037e721" class="indexterm-anchor"></a><a id="d5037e723" class="indexterm-anchor"></a><a id="d5037e725" class="indexterm-anchor"></a>Database Configuration Options
                              </p>
                              <p>You can choose how to configure the database created by the installer. You can select the memory size and management options, the character sets used to store data, the security options for database access, and whether the sample schemas should be installed.</p>
                              <p>To complete the exercises in this guide and related course material, you must install the sample schemas. This data is also used in most examples throughout Oracle Database documentation. Oracle recommends that you install the sample schemas.</p>
                              <p>This choice is a configuration option only during advanced installation. Sample schemas are installed by default during typical or Desktop class installations.</p>
                           </li>
                           <li>
                              <p>Recovery Options</p>
                              <p>During an advanced installation, you can configure backup and recovery optins for the database. If you choose this option, you must specify whether the recovery area should be stored on the local file system or in an Oracle ASM disk group.</p>
                              <div class="infoboxnote" id="GUID-88470480-5B7B-467C-9C66-894B77CA8C63__GUID-D014944A-B201-40E3-8841-98D28B2B0095">
                                 <p class="notep1">Note:</p>
                                 <p>To use Oracle ASM for recovery area storage, you must have installed Oracle ASM as part of an Oracle Grid Infrastructure installation and created one or more disk groups before performing the Oracle Database installation.</p>
                              </div>
                           </li>
                           <li>
                              <p>Schema Passwords</p>
                              <p>When you create a database, certain administrative user accounts are created automatically. You are prompted to enter the passwords for administrative accounts such as the <code class="codeph">SYS</code> and <code class="codeph">SYSTEM</code> accounts, which enable you to manage and administer the database. You can use the same password for each account, or specify passwords for each account individually. If you do not enter a secure password, you will receive a warning message during installation.
                              </p>
                           </li>
                           <li>
                              <p><a id="d5037e757" class="indexterm-anchor"></a><a id="d5037e759" class="indexterm-anchor"></a><a id="d5037e761" class="indexterm-anchor"></a>Operating System Groups
                              </p>
                              <p>Administrative access to the database is granted by membership in certain operating system groups. You can choose the operating system group to be used for <code class="codeph">SYSDBA</code> access (typically <code class="codeph">dba</code>) and <code class="codeph">SYSOPER</code> access (typically <code class="codeph">oper</code>).
                              </p>
                              <p>The <code class="codeph">SYSDBA</code> group identifies operating system user accounts that have database administrative privileges and can log in with <code class="codeph">SYSDBA</code> access. The <code class="codeph">SYSOPER</code> group is an optional group for users that should have limited database administrative privileges. See <span class="q">"<a href="administering-user-accounts-and-security.html#GUID-2033E766-8FE6-4FBA-97E0-2607B083FA2C" title="SYSDBA and SYSOPER are administrative privileges required to perform high-level administrative operations such as creating, starting up, shutting down, backing up, or recovering the database.">SYSDBA and SYSOPER System Privileges</a>"</span> for more information about these groups and privileges.
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="ADMQS12124"></a><a id="ADMQS022"></a><div class="props_rev_3"><a id="GUID-011C3545-9427-44F7-9645-2D402A88017F" name="GUID-011C3545-9427-44F7-9645-2D402A88017F"></a><h3 id="ADMQS-GUID-011C3545-9427-44F7-9645-2D402A88017F" class="sect3"><span class="enumeration_section">2.2 </span>Installing Oracle Database Software
               </h3>
               <div>
                  <div><span>This section briefly describes the steps for a system class installation. Most steps are common to all platforms and involve running Oracle Universal Installer (OUI).</span> Platform-specific steps are noted. For further assistance, consult the online Help or the <a href="../install-and-upgrade.html" target="_blank"><span><cite>Oracle Database Installation Guide</cite></span></a> for your platform.
                  </div>
                  <div class="section">
                     <div class="infoboxnote" id="GUID-011C3545-9427-44F7-9645-2D402A88017F__GUID-8368BD9F-428C-4E55-B820-5945A8F775A1">
                        <p class="notep1">Note:</p>
                        <p>The following steps describe the OUI workflow for a host computer that has no previous Oracle software installed. If your host computer has Oracle software installed, then you may see a different workflow.</p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-011C3545-9427-44F7-9645-2D402A88017F__GUID-690015CD-19F4-4918-AAEE-D06CA36A531A">To perform a basic installation:</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>Log on to your computer as a member of the administrative group that is authorized to install Oracle Database software and to create and run the database. </span><div>
                           <p><a id="d5037e864" class="indexterm-anchor"></a>Refer to your operating system-specific documentation or contact your system administrator to determine whether you have the necessary privileges and permissions to install new software.
                           </p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>Do one of the following:</span><div>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>If you are installing from distribution media, then insert the distribution media for the database into your computer.</p>
                                 <p>The Autorun feature opens the Select a Product to Install window automatically.</p>
                              </li>
                              <li>
                                 <p>If you downloaded the installation software from the Oracle Web site, then follow the instructions on the site to run the Oracle Universal Installer. Or, see the <a href="../install-and-upgrade.html" target="_blank"><span><cite>Oracle Database Installation Guide</cite></span></a> for your platform.
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </li>
                     <li class="stepexpand"><span>The first window that appears is the Configuration Option window. Choose the <span class="uicontrol bold">Create and configure a database single instance</span> option. Or, you also have the option of choosing to only install the database software, but then you must create a database in an additional step after the software is installed. If you are currently using a previous version of Oracle Database, choose <span class="uicontrol bold">Upgrade an existing database</span>. After you have chosen an option, click <span class="uicontrol bold">Next</span>.</span><div>
                           <p>The System Class window appears.</p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>Choose <span class="uicontrol bold">Server Class</span>. </span><div>
                           <p>You can choose the Server Class option to customize your installation. For example, you use this method to configure Oracle Automatic Storage Management for your database, install the Sample Schemas, or configure backup and recovery options.</p>
                           <p>The steps for a Desktop Class installation are similar to the steps for a Server Class installation, but fewer choices are required to install the database.</p>
                           <p>Click <span class="uicontrol bold">Next</span>.
                           </p>
                           <p>The Install Type window appears.</p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>Choose <span class="uicontrol bold">Typical install</span> and click <span class="uicontrol bold">Next</span>.</span><div>If you choose <span class="uicontrol bold">Advanced install</span>, some of the installation steps are not documented in this guide. For more information about the advanced choices, see <span class="q">"<a href="installing-oracle-database-creating-database.html#GUID-88470480-5B7B-467C-9C66-894B77CA8C63" title="During advanced installations using the Server Class method you are prompted to make the additional choices listed in this section, and the choices for a typical installation.">About Advanced Installation for Oracle Database</a>"</span>. Also see <a href="../install-and-upgrade.html" target="_blank"><span><cite>Oracle Database Installation Guide</cite></span></a> for your platform.
                           <div class="infoboxnote" id="GUID-011C3545-9427-44F7-9645-2D402A88017F__GUID-06759BF4-8A59-49C7-B89F-BAFD354FAF1C">
                              <p class="notep1">Note:</p>
                              <p><span class="italic">On Microsoft Windows operating systems only</span>, the Specify Oracle Home User window appears. This window enables you to use a non-administrator, low privileged Windows User Account as the Oracle Home User. This option is recommended for database installation to ensure that Oracle services run with limited privileges. For single instance databases, you can also choose to allow the Oracle Installer to create a new Windows User Account (local user only) which will then be used as the Oracle Home User.
                              </p>
                              <p>If you decline this option, all the services will be installed and will run as the System user.</p>
                              <p>See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admqs&amp;id=NTQRF672" target="_blank"><span><cite>Oracle Database Administratorâ€™s Reference for Microsoft Windows</cite></span></a> for more information about this feature.
                              </p>
                           </div>
                           <p>The Typical Installation window appears.</p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>Provide the following configuration details for the database:</span><div>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a id="d5037e972" class="indexterm-anchor"></a><a id="d5037e974" class="indexterm-anchor"></a>Oracle baseâ€” The Oracle base directory helps to facilitate the organization of multiple Oracle software installations. See <a href="../install-and-upgrade.html" target="_blank"><span><cite>Oracle Database Installation Guide</cite></span></a> for your platform for more information about <code class="codeph">ORACLE_BASE</code>.
                                 </p>
                                 <p>If you did not set the <code class="codeph">ORACLE_BASE</code> environment variable before starting OUI, then the Oracle base directory is created in an <code class="codeph">app/</code><span class="italic"><code class="codeph">username</code></span><code class="codeph">/</code>directory on the first existing and writable directory from <code class="codeph">/u01</code> through <code class="codeph">/u09</code> for UNIX and Linux systems, or on the disk drive with the most available space for Windows systems. If <code class="codeph">/u01</code> through <code class="codeph">/u09</code> does not exist on the UNIX or Linux system, then the default location is <span class="italic"><code class="codeph">user_home_directory</code></span><code class="codeph">/app/</code><span class="italic"><code class="codeph">username</code></span>. 
                                 </p>
                                 <p>You can click <span class="uicontrol bold">Browse</span> to find the directory you want to act as the Oracle base directory.
                                 </p>
                              </li>
                              <li>
                                 <p><a id="d5037e1028" class="indexterm-anchor"></a><a id="d5037e1030" class="indexterm-anchor"></a>Software locationâ€”The software location is the Oracle home for your database. You must specify a new Oracle home directory for each new installation of Oracle Database software. By default, the Oracle home directory is a subdirectory of the Oracle base directory.
                                 </p>
                                 <p>You can click <span class="uicontrol bold">Browse</span> to find the directory where you want to install the Oracle Database software.
                                 </p>
                              </li>
                              <li>
                                 <p>Storage typeâ€”You can choose either <span class="uicontrol bold">File system</span> or <span class="uicontrol bold">Oracle Automatic Storage Management</span>.
                                 </p>
                              </li>
                              <li>
                                 <p>Database file locationâ€”The database file location is the location where Oracle Database files are stored. By default, this location is <span class="italic"><code class="codeph">Oracle_base</code></span><code class="codeph">/oradata</code>. You can click <span class="uicontrol bold">Browse</span> to select a different location.
                                 </p>
                              </li>
                              <li>
                                 <p>Database editionâ€”Select either <span class="uicontrol bold">Enterprise Edition</span> or <span class="uicontrol bold">Personal Edition</span> (Microsoft Windows platforms only). See <span class="q">"<a href="installing-oracle-database-creating-database.html#GUID-BC2E9026-1EE7-46BD-8F2B-64FE9719832A" title="When you install Oracle Database during basic and advanced installations, you can choose a database edition.">Installation Edition for Oracle Database</a>"</span>.
                                 </p>
                              </li>
                              <li>
                                 <p>OSDBA group (Linux and UNIX platforms only)â€”Specify the operating system DBA group. Host computer users in this group have administrative privileges on the database. This group is typically named <span class="bold"><code class="codeph">dba</code></span>. Refer to <a href="../ladbi/index.html" target="_blank"><span><cite>Oracle Database Installation Guide for Linux</cite></span></a> or for your UNIX platform for more details.
                                 </p>
                              </li>
                              <li>
                                 <p>Global database nameâ€”Enter the fully qualified global database name. See <span class="q">"<a href="installing-oracle-database-creating-database.html#GUID-B30C4CAE-CC53-4285-8D6C-C50A8E3B497E" title="These options include your global database name and system identifier (SID).">Database Identifiers for Oracle Database</a>"</span> for more information about global database names.
                                 </p>
                              </li>
                              <li>
                                 <p>Administrative passwordâ€”Specify the initial password for administrator accounts such as the <code class="codeph">SYS</code> and <code class="codeph">SYSTEM</code> accounts. If the password you choose is not a secure password, a warning message will be displayed.
                                 </p>
                              </li>
                              <li>
                                 <p><span class="uicontrol bold">Create as Container database</span>: Enable this option to <a id="d5037e1112" class="indexterm-anchor"></a><a id="d5037e1116" class="indexterm-anchor"></a>create the database as a multitenant container database (CDB) that can support zero, one, or many user-created pluggable databases (PDBs).
                                 </p>
                                 <p>If you want Database Configuration Assistant (DBCA) to create a PDB when it creates the CDB, specify the PDB name in the <span class="uicontrol bold">Pluggable database name</span> field.
                                 </p>
                              </li>
                           </ul>
                           <p>After you enter the required information, click <span class="uicontrol bold">Next</span>.
                           </p>
                           <p><span class="italic">For first time installations on Linux and UNIX operating systems only</span>, if Oracle software has not previously been installed on this server, then the Create Inventory window appears. If this is not the first installation attempt on this server, then the Perform Prerequisite Checks window appears.
                           </p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>If the Create Inventory windows appears, specify a directory for installation files and the name of an operating system group that has write permissions for that directory. </span><div>
                           <p><a id="d5037e1140" class="indexterm-anchor"></a>If this is the first time you are installing any Oracle software on this computer, then the Create Inventory Directory window appears. You must specify a local directory for the inventory, which OUI uses to keep track of all Oracle software installed on the computer. This information is used while applying patches or upgrading an existing installation, and while deinstalling Oracle software. Note that this directory is different from the Oracle home directory. The recommended value for the inventory directory is <span class="italic"><code class="codeph">Oracle_base</code></span><code class="codeph">/../oraInventory</code>, or one level above the Oracle base directory, in the <code class="codeph">oraInventory</code> subdirectory. If your Oracle base directory is <code class="codeph">/u01/app/oracle</code>, then the Oracle inventory directory defaults to   <code class="codeph">/u01/app/oraInventory</code>.
                           </p>
                           <p>In this window you can also specify the operating system group that has write permissions on the inventory directory. This prevents other users from writing over the Oracle product installation files.</p>
                           <p>After you enter a directory path and specify an operating system group, click <span class="uicontrol bold">Next</span> to continue.
                           </p>
                           <p>The Perform Prerequisite Checks window appears. </p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>If any checks failed, then take corrective actions.</span><div>
                           <p>OUI performs several environment checks and indicates whether the check was a success, or resulted in a warning or failure. Details of the checks are provided in the displayed window. The installation can proceed only when all checks have a status of either Succeeded or Warning. If any of the environment checks failed, then they must be resolved manually. See <span class="q">"<a href="installing-oracle-database-creating-database.html#GUID-B13AFC3F-970C-4E86-94B3-A169142E52AC" title="Before installing the software, Oracle Universal Installer (OUI) performs several automated checks to ensure that your computer fulfills the basic hardware and software requirements for an Oracle Database installation.">Checking Oracle Database Installation Prerequisites</a>"</span> for more information.
                           </p>
                           <p>If all the prerequisite checks passed, or after you click <span class="uicontrol bold">Next</span>, the Summary window appears.
                           </p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>Review the installation summary, then click <span class="uicontrol bold">Install</span> to start the installation. </span><div>
                           <p>The Install Product window appears, showing the installation progress.</p>
                        </div>
                     </li>
                     <li class="stepexpand"><span><span class="italic">For Linux and UNIX operating systems only</span>, you are prompted to run configuration scripts. To run root scripts automatically, select <span class="bold">Automatically run configuration scripts</span>. Alternatively, you can run the configuration scripts manually as the <code class="codeph">root</code> user. Run the scripts and then click <span class="uicontrol bold">OK</span>.</span><div>
                           <p>When the installation is complete, the Finish window appears.</p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>Make note of the information in the Finish window, then click <span class="uicontrol bold">Close</span> to exit OUI. </span><div>
                           <p>Your installation and database creation is now complete.</p>
                           <p>You use Oracle Enterprise Manager Database Express (EM Express) to perform common database administration tasks.</p>
                           <p>Use the URL for EM Express that is provided in the Finish window to start EM Express, specifying your database hostname instead of 'localhost.' When EM Express prompts you for your username and password, log in as a user with DBA privilege (such as SYSTEM).</p>
                           <div class="infoboxnote" id="GUID-011C3545-9427-44F7-9645-2D402A88017F__GUID-FA3927F4-56A7-4E82-B131-4BE364C29C84">
                              <p class="notep1">Note:</p>
                              <p>By default, DBCA picks a free port from the 5500 to 5599 range to use as the EM Express port.</p>
                              <p>If you want a <a id="d5037e1229" class="indexterm-anchor"></a>particular port to be used as the EM Express port, specify that port using the <code class="codeph">DBEXPRESS_HTTPS_PORT</code> operating system environment variable before starting OUI or DBCA.
                              </p>
                              <p>For more information on setting environment variables, see <span class="q">"<a href="getting-started-with-database-administration.html#GUID-EC18C4A6-3BA5-4C14-9D76-B0DD62FEFFF2" title="Before using certain tools that access the Oracle database, such as SQL*Plus, you must configure environment variables for your operating system. These environment variables are used by Oracle Database to determine the database instance to which the tool should connect.">Configuring the Operating System Environment Variables</a>."</span></p>
                           </div>
                           <div class="infoboxnotealso" id="GUID-011C3545-9427-44F7-9645-2D402A88017F__GUID-1074340E-88E5-4823-A0DB-85561BBD93C4">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="../multi/introduction-to-the-multitenant-architecture.html#CNCPT89234" target="_blank"><span><cite>Oracle Multitenant Administrator's Guide</cite></span></a> for conceptual information about CDBs and PDBs.
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="../multi/managing-a-multitenant-environment.html#ADMIN13506" target="_blank"><span><cite>Oracle Multitenant Administrator's Guide</cite></span></a> for information about managing CDBs and PDBs.
                                    </p>
                                 </li>
                                 <li>
                                    <p><span class="q">"<a href="administering-user-accounts-and-security.html#GUID-CF1CD853-AF15-41EC-BC80-61918C73FDB5" title="The SYS and SYSTEM administrative user accounts are automatically created when you install Oracle Database. They are both created with the password that you supplied upon installation, and they are both automatically granted the DBA role.">SYS and SYSTEM Users</a>"</span> for information about the recommended alternative to using the <code class="codeph">SYSTEM</code> account for day-to-day administrative tasks.
                                    </p>
                                 </li>
                                 <li>
                                    <p><span class="q">"<a href="getting-started-with-database-administration.html#GUID-2BF9BB16-53C9-4E40-952D-774FEA514335" title="This chapter provides a brief roadmap for administering your database. It introduces you to Oracle Enterprise Manager Database Express (EM Express), the Web-based interface for managing an Oracle database.">Getting Started with Database Administration</a>"</span> for more information about using EM Express.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                     </li>
                  </ol>
               </div>
            </div><a id="ADMQS023"></a><div class="props_rev_3"><a id="GUID-2A1B1AF2-CC36-405A-89EB-72E7A33F7E2B" name="GUID-2A1B1AF2-CC36-405A-89EB-72E7A33F7E2B"></a><h3 id="ADMQS-GUID-2A1B1AF2-CC36-405A-89EB-72E7A33F7E2B" class="sect3"><span class="enumeration_section">2.3 </span>Creating and Managing a Database with DBCA
               </h3>
               <div>
                  <div><span>Unless you specified that only the Oracle Database software should be installed, Oracle Universal Installer (OUI) automatically runs Database Configuration Assistant (DBCA) after software installation is complete.</span> DBCA then creates a database using the information you provided. If you do not create a starter database and later want to create one, or to create additional databases, use DBCA.
                  </div>
                  <div class="infoboxnote" id="GUID-2A1B1AF2-CC36-405A-89EB-72E7A33F7E2B__GUID-784D35A2-7818-400C-8EC9-F68608AEEAFC">
                     <p class="notep1">Note:</p>
                     <p>With Oracle Database, you typically have a single database that hosts multiple applications. You do not need multiple databases to run different applications. Instead, you can separate the objects that support each different application into different <span class="italic">schemas</span> in the same database. However, there may be situations in which you want to create multiple Oracle databases on the same host computer. When you do this with DBCA, the new databases typically use the same Oracle home directory as the first database, but store database data files separately from those of the first database.
                     </p>
                  </div>
                  <p>DBCA also enables you to modify a database configuration, delete a database, and more.&nbsp;You can perform the following DBCA tasks:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="installing-oracle-database-creating-database.html#GUID-F922EBB9-BA89-4A94-B89F-E3BB4BA14ACD" title="This section describes how to start Database Configuration Assistant (DBCA).">Starting DBCA</a></p>
                     </li>
                     <li>
                        <p><a href="installing-oracle-database-creating-database.html#GUID-3584C0F1-E59E-4EB6-9566-55D325DDA9AD" title="Database Configuration Assistant (DBCA) enables you to create an Oracle database by following a step-by-step guided workflow.">Creating a Database Using DBCA</a></p>
                     </li>
                     <li>
                        <p><a href="installing-oracle-database-creating-database.html#GUID-FA73C24D-64ED-419C-A9F5-3550BFEA64EA" title="You can use Database Configuration Assistant (DBCA) to change the configuration of an existing database.">Changing the Configuration of a Database Using DBCA</a></p>
                     </li>
                     <li>
                        <p><a href="installing-oracle-database-creating-database.html#GUID-C0DDA1A8-90CE-4A99-8C3B-B72A40D96D0B" title="You can use Database Configuration Assistant (DBCA) to delete a database.">Deleting a Database Using DBCA</a></p>
                     </li>
                     <li>
                        <p><a href="installing-oracle-database-creating-database.html#GUID-2B8A3B5E-D319-4377-8B22-8BB67DCC9885" title="Database Configuration Assistant (DBCA) templates are XML files that contain information required to create a database. Templates are used in DBCA to create new databases and duplicate existing databases.">Managing Templates with DBCA</a></p>
                     </li>
                     <li>
                        <p><a href="installing-oracle-database-creating-database.html#GUID-42F4AB20-8DD8-48B3-B7B9-FCC151C06987" title="When a multitenant container database (CDB) exists, you can use Database Configuration Assistant (DBCA) to perform pluggable database (PDB) operations in the CDB.">Using DBCA to Manage PDBs</a></p>
                     </li>
                  </ul>
                  <p>Online Help is available by clicking <span class="bold">Help</span>. It provides information that guides you in selecting configuration options. 
                  </p>
               </div><a id="ADMQS12125"></a><a id="ADMQS0231"></a><div class="props_rev_3"><a id="GUID-F922EBB9-BA89-4A94-B89F-E3BB4BA14ACD" name="GUID-F922EBB9-BA89-4A94-B89F-E3BB4BA14ACD"></a><h4 id="ADMQS-GUID-F922EBB9-BA89-4A94-B89F-E3BB4BA14ACD" class="sect4"><span class="enumeration_section">2.3.1 </span>Starting DBCA
                  </h4>
                  <div>
                     <p>This section describes how to start Database Configuration Assistant (DBCA).</p>
                     <div class="section">
                        <div class="infoboxnote" id="GUID-F922EBB9-BA89-4A94-B89F-E3BB4BA14ACD__GUID-D1FECB4E-6F0C-487D-9C56-67359385C6C9">
                           <p class="notep1">Note:</p>
                           <p>If you choose to create a starter database while installing the Oracle Database software, then Oracle Universal Installer (OUI) automatically starts DBCA.</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F922EBB9-BA89-4A94-B89F-E3BB4BA14ACD__GUID-BFC6616F-44EA-4197-B6B5-BDC3261ED798">To start DBCA:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Log on to your computer as a member of the administrative group that is authorized to install Oracle Database software and to create and run the database.</span></li>
                        <li class="stepexpand"><span>Do one of the following:</span><div>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>To start DBCA on a Microsoft Windows operating system, click <span class="bold">Start</span>, select <span class="bold">Programs</span> (or <span class="bold">All Programs</span>), then <span class="bold">Oracle - </span><span class="italic"><span class="bold">HOME_NAME</span></span>, then <span class="bold">Configuration and Migration Tools</span>, and then <span class="bold">Database Configuration Assistant</span>.
                                    </p>
                                 </li>
                                 <li>
                                    <p>To start DBCA on UNIX or Linux, or at the command-line prompt on the Windows operating system, enter the following command:</p><pre class="oac_no_warn" dir="ltr">dbca
</pre><p>The <code class="codeph">dbca</code> utility is typically located in the <span class="italic"><code class="codeph"><span class="codeinlineitalic"><code class="codeph">ORACLE_HOME</code></span></code></span><code class="codeph">/bin</code> directory.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                     </ol>
                  </div>
               </div><a id="ADMQS12126"></a><a id="ADMQS0232"></a><div class="props_rev_3"><a id="GUID-3584C0F1-E59E-4EB6-9566-55D325DDA9AD" name="GUID-3584C0F1-E59E-4EB6-9566-55D325DDA9AD"></a><h4 id="ADMQS-GUID-3584C0F1-E59E-4EB6-9566-55D325DDA9AD" class="sect4"><span class="enumeration_section">2.3.2 </span>Creating a Database Using DBCA
                  </h4>
                  <div>
                     <p>Database Configuration Assistant (DBCA) enables you to create an Oracle database by following a step-by-step guided workflow.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-3584C0F1-E59E-4EB6-9566-55D325DDA9AD__GUID-9A601B6C-3102-48E1-9B17-FCC86A88EFF7">To create a database using DBCA:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>Start DBCA as described in <span class="q">"<a href="installing-oracle-database-creating-database.html#GUID-F922EBB9-BA89-4A94-B89F-E3BB4BA14ACD" title="This section describes how to start Database Configuration Assistant (DBCA).">Starting DBCA</a>"</span>.</span></li>
                        <li><span><a id="d5037e1522" class="indexterm-anchor"></a>In the Database Operation window, select <span class="bold">Create a database</span> and click <span class="bold">Next</span> to start the guided workflow for creating a database. If you then select <span class="bold">Advanced Mode</span> and click <span class="bold">Next</span>, the workflow requests your input in the following windows:</span></li>
                     </ol>
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="installing-oracle-database-creating-database.html#GUID-4EFA14AD-37E6-43A8-88F5-7574EB06ACB9" title="The Database Configuration Assistant (DBCA) Creation Mode window enables you to create a database with typical configuration or with advanced configuration.">DBCA Creation Mode Window</a></p>
                           </li>
                           <li>
                              <p><a href="installing-oracle-database-creating-database.html#GUID-157FFD6E-04B0-46D8-A6C9-A9362E5D717D" title="The Database Configuration Assistant (DBCA) Deployment Type window enables you to select the type of database template to use to create the database.">DBCA Deployment Type Window</a></p>
                           </li>
                           <li>
                              <p><a href="installing-oracle-database-creating-database.html#GUID-38477526-1CA5-49DD-9C61-F99C96D8CFE6" title="In the Global database name field of the Database Configuration Assistant (DBCA) Database Identification window, enter the database name in the form database_name.domain_name.">DBCA Database Identification Window</a></p>
                           </li>
                           <li>
                              <p><a href="installing-oracle-database-creating-database.html#GUID-48D4F967-B447-4DB4-BFCD-F1E08BB91552" title="In the Database Configuration Assistant (DBCA) Storage Option window, specify the storage option for your database.">DBCA Storage Option Window</a></p>
                           </li>
                           <li>
                              <p><a href="installing-oracle-database-creating-database.html#GUID-390885BE-7455-4EC0-AF69-870F6B74DC42" title="The DBCA Fast Recovery Option window enables you to configure a backup and recovery area for your database.">DBCA Fast Recovery Option Window</a></p>
                           </li>
                           <li>
                              <p><a href="installing-oracle-database-creating-database.html#GUID-DE22D504-4BCC-4592-AECA-EDEF75533480" title="In the Database Configuration Assistant (DBCA) Network Configuration window, the listeners in the current Oracle home are displayed.">DBCA Network Configuration Window</a></p>
                           </li>
                           <li>
                              <p><a href="installing-oracle-database-creating-database.html#GUID-C273DC80-842C-4853-B34D-92CF8742BF15" title="The Database Configuration Assistant (DBCA) Database Vault Option window enables you to configure Oracle Database Vault and Oracle Database Label Security for your database.">DBCA Database Vault Option Window</a></p>
                           </li>
                           <li>
                              <p><a href="installing-oracle-database-creating-database.html#GUID-6BB6422C-296D-4040-9A78-5ADED91FCF44" title="The links in the Database Configuration Assistant (DBCA) Configuration Options window provide access to additional windows that enable you to further configure your database.">DBCA Configuration Options Window</a></p>
                           </li>
                           <li>
                              <p><a href="installing-oracle-database-creating-database.html#GUID-C617CBCD-B9E8-4458-A000-67D27E1D6A33" title="Use the Database Configuration Assistant (DBCA) Management Options window to set up your database so it can be managed with Oracle Enterprise Manager.">DBCA Management Options Window</a></p>
                           </li>
                           <li>
                              <p><a href="installing-oracle-database-creating-database.html#GUID-0711B83C-CA06-4869-AEAF-D406758B9E1D" title="In the Database Configuration Assistant (DBCA) User Credentials window, specify the passwords for the administrative accounts such as SYS, SYSTEM, and PDBADMIN.">DBCA User Credentials Window</a></p>
                           </li>
                           <li>
                              <p><a href="installing-oracle-database-creating-database.html#GUID-86C6F0BB-9274-4B7A-AD98-62CD50C89C6F" title="The Database Configuration Assistant (DBCA) Creation Option window enables you to select different options for creating the database.">DBCA Creation Option Window</a></p>
                           </li>
                           <li>
                              <p><a href="installing-oracle-database-creating-database.html#GUID-782D8C37-473B-42F2-AF5E-7975DE9CF421" title="The Database Configuration Assistant (DBCA) Summary window displays a summary of the configuration options that you have chosen for the database.">DBCA Summary Window</a></p>
                           </li>
                           <li>
                              <p><a href="installing-oracle-database-creating-database.html#GUID-41D812A9-4073-472B-946F-8B97FD233B4E" title="The Database Configuration Assistant (DBCA) Progress window displays the progress of the database creation operation.">DBCA Progress Window</a></p>
                           </li>
                           <li>
                              <p><a href="installing-oracle-database-creating-database.html#GUID-6B4E99C9-36C5-4D9B-BDDA-4931F554EBDA" title="The DBCA Finish window appears after DBCA finishes configuring the database.">DBCA Finish Window</a></p>
                           </li>
                        </ul>
                        <p>Most of these windows provide default settings. Depending on the options you choose in DBCA, some of these windows may not be displayed.</p>
                     </div>
                     <!-- class="section" -->
                  </div><a id="ADMQS12393"></a><div class="props_rev_3"><a id="GUID-4EFA14AD-37E6-43A8-88F5-7574EB06ACB9" name="GUID-4EFA14AD-37E6-43A8-88F5-7574EB06ACB9"></a><h5 id="ADMQS-GUID-4EFA14AD-37E6-43A8-88F5-7574EB06ACB9" class="sect5"><span class="enumeration_section">2.3.2.1 </span>DBCA Creation Mode Window
                     </h5>
                     <div>
                        <p>The Database Configuration Assistant (DBCA) Creation Mode window enables you to create a database with typical configuration or with advanced configuration.</p>
                        <div class="section">
                           <p>If you choose <span class="bold">Advanced configuration</span>, you can customize storage locations, management options, database options, and different passwords for Administrator user accounts.
                           </p>
                           <p>If you choose <span class="bold">Typical configuration</span>, you make fewer choices in the options for your database, which allows you to create your database sooner.
                           </p>
                           <p>When you select <span class="bold">Typical configuration</span>, you can select the following options:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="bold">Global database name</span>: Enter the database name in the form <span class="italic">database_name.domain_name</span>.
                                 </p>
                              </li>
                              <li>
                                 <p><span class="bold">Storage type</span>: Choose either <span class="bold">File System</span> or <span class="bold">Automatic Storage Management</span>.
                                 </p>
                                 <p>When you choose <span class="bold">File System</span>, your database files are managed by the file system of your operating system.
                                 </p>
                                 <p>When you choose <span class="bold">Automatic Storage Management</span>, you place your data files in Oracle Automatic Storage Management (Oracle ASM) disk groups.
                                 </p>
                              </li>
                              <li>
                                 <p><span class="bold">Database files location</span>: The choice you make for the <span class="bold">Storage type</span> option determines what you specify for the <span class="bold">Database files location</span> option.
                                 </p>
                                 <p>When you choose <span class="bold">File System</span> in the <span class="bold">Storage type</span> field, you specify the directory path where the database files are to be stored in the <span class="bold">Database files location</span> field. Oracle Database can create and manage the actual files.
                                 </p>
                                 <p>When you choose <span class="bold">Automatic Storage Management</span> in the <span class="bold">Storage type</span> field, you specify the disk group to use in the <span class="bold">Database files location</span> field (the disk group must already exist). With Oracle ASM, Oracle Database automatically manages database file placement and naming.
                                 </p>
                              </li>
                              <li>
                                 <p><span class="bold">Fast Recovery Area (FRA)</span>: Specify a backup and recovery area.
                                 </p>
                              </li>
                              <li>
                                 <p><span class="bold">Database character set</span>: Choose the character set to use for the database. See <span class="q">"<a href="installing-oracle-database-creating-database.html#GUID-D2FC796C-4FE1-4B97-A4DE-55F9FF2B106D" title="Use the Character sets tab of the Database Configuration Assistant (DBCA) Configuration Options window to determine how character data is stored in the database.">Character Sets</a>"</span> for more information about character sets.
                                 </p>
                              </li>
                              <li>
                                 <p><span class="bold">Administrative password</span>: Enter the password to use for the database administrative passwords (such as the <code class="codeph">SYS</code> and <code class="codeph">SYSTEM</code> accounts).
                                 </p>
                              </li>
                              <li>
                                 <p><span class="bold">User "Oracle Home User" Password</span> <span class="italic">(on Microsoft Windows operating systems only)</span>: If during the installation you specified a non-administrator, low privileged  Windows User Account (as Oracle Home User) to run the database services under, you are prompted for the password of that user account.
                                 </p>
                              </li>
                              <li>
                                 <p><span class="bold">Create as Container database</span>: Enable this option to <a id="d5037e1804" class="indexterm-anchor"></a><a id="d5037e1808" class="indexterm-anchor"></a>create the database as a multitenant container database (CDB) that can support zero, one, or many user-created pluggable databases (PDBs).
                                 </p>
                                 <p>If you want DBCA to create a PDB when it creates the CDB, specify the PDB name in the <span class="bold">Pluggable database name</span> field.
                                 </p>
                              </li>
                           </ul>
                           <div class="infoboxnotealso" id="GUID-4EFA14AD-37E6-43A8-88F5-7574EB06ACB9__GUID-B3082120-C159-442C-9CD4-0577AB27542C">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admqs&amp;id=NTQRF672" target="_blank"><span class="italic">Oracle Database Platform Guide for Microsoft Windows</span></a> for more information about the Oracle Home User feature
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="../multi/introduction-to-the-multitenant-architecture.html#CNCPT89234" target="_blank"><span><cite>Oracle Multitenant Administrator's Guide</cite></span></a> for an introduction to CDBs and PDBs
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="../multi/managing-a-multitenant-environment.html#ADMIN13506" target="_blank"><span><cite>Oracle Multitenant Administrator's Guide</cite></span></a> for information about managing CDBs and PDBs
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="ADMQS02321"></a><div class="props_rev_3"><a id="GUID-157FFD6E-04B0-46D8-A6C9-A9362E5D717D" name="GUID-157FFD6E-04B0-46D8-A6C9-A9362E5D717D"></a><h5 id="ADMQS-GUID-157FFD6E-04B0-46D8-A6C9-A9362E5D717D" class="sect5"><span class="enumeration_section">2.3.2.2 </span>DBCA Deployment Type Window
                     </h5>
                     <div>
                        <div><span>The Database Configuration Assistant (DBCA) Deployment Type window enables you to select the type of database template to use to create the database.</span> You can select:
                        </div>
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="bold">Data Warehouse</span></p>
                              </li>
                              <li>
                                 <p><span class="bold">General Purpose or Transaction Processing</span></p>
                              </li>
                              <li>
                                 <p><span class="bold">Custom Database</span></p>
                              </li>
                           </ul>
                           <p>Oracle Enterprise Manager Database Express (EM Express) supports Oracle single instance databases, including non-CDBs, multitenant container databases (CDBs), and pluggable databases (PDBs).</p>
                           <p>You can use DBCA to create a database from templates supplied by Oracle or from templates that you create. The templates contain settings optimized for a particular type of workload.</p>
                           <p>Oracle ships templates for the following two workload types:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>General purpose or transaction processing</p>
                              </li>
                              <li>
                                 <p>Data warehouse</p>
                              </li>
                           </ul>
                           <p>Select the template suited to the type of workload your database will support. If you are not sure which to choose, then select the default <span class="bold">General Purpose or Transaction Processing</span> template.
                           </p>
                           <div class="infoboxnote" id="GUID-157FFD6E-04B0-46D8-A6C9-A9362E5D717D__GUID-1EC9A0A6-948F-472D-BECD-9179B857CFED">
                              <p class="notep1">Note:</p>
                              <p>The General Purpose or Transaction template and the Data Warehouse template create a database with the <code class="codeph">COMPATIBLE</code> initialization parameter set to <code class="codeph">12.2.0.0.0</code>.
                              </p>
                           </div>
                           <p>For more complex environments, you can select the <span class="bold">Custom Database</span> option. This option does not use templates and results in a more extensive interview, which means that it takes longer to create your database.
                           </p>
                           <div class="infoboxnotealso" id="GUID-157FFD6E-04B0-46D8-A6C9-A9362E5D717D__GUID-841DE0BC-61FE-4F06-AF16-CB7363542F69">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="../refrn/COMPATIBLE.html#REFRN10019" target="_blank"><span class="italic">Oracle Database Reference</span></a> for more information about the <code class="codeph">COMPATIBLE</code> initialization parameter
                                    </p>
                                 </li>
                                 <li>
                                    <p><span class="q">"<a href="installing-oracle-database-creating-database.html#GUID-2B8A3B5E-D319-4377-8B22-8BB67DCC9885" title="Database Configuration Assistant (DBCA) templates are XML files that contain information required to create a database. Templates are used in DBCA to create new databases and duplicate existing databases.">Managing Templates with DBCA</a>"</span> for more information about using database templates
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="ADMQS02322"></a><div class="props_rev_3"><a id="GUID-38477526-1CA5-49DD-9C61-F99C96D8CFE6" name="GUID-38477526-1CA5-49DD-9C61-F99C96D8CFE6"></a><h5 id="ADMQS-GUID-38477526-1CA5-49DD-9C61-F99C96D8CFE6" class="sect5"><span class="enumeration_section">2.3.2.3 </span>DBCA Database Identification Window
                     </h5>
                     <div>
                        <p>In the <span class="bold">Global database name</span> field of the Database Configuration Assistant (DBCA) Database Identification window, enter the database name in the form <span class="italic">database_name</span>.<span class="italic">domain_name</span>.
                        </p>
                        <div class="section">
                           <p>In the <span class="bold">SID</span> field, enter the system identifier. The SID defaults to the database name and uniquely identifies the instance that runs the database.
                           </p>
                           <p>If you enable the <span class="bold">Create as Container database</span> option, the database is created as a <a id="d5037e1987" class="indexterm-anchor"></a><a id="d5037e1991" class="indexterm-anchor"></a>multitenant container database (CDB) that can support zero, one, or many user-created pluggable databases (PDBs).
                           </p>
                           <p>If you do not want DBCA to create a PDB when it creates the CDB, enable the <span class="bold">Create an empty Container database</span> option.
                           </p>
                           <p>If you want DBCA to create one or more PDBs when it creates the CDB, enable the <span class="bold">Create a Container database with one or more PDBs</span> option. Then enter the number of PDBs to create in the <span class="bold">Number of PDBs</span> field. In the <span class="bold">PDB Name</span> field, specify the name to use for the PDB or PDBS to be created. When you create multiple PDBs, the PDB name you specify is used as a prefix for the PDBs to be created. For example, if you ask for 3 PDBs to be created and specify SANDBOXPDB as the PDB name, then the names of the PDBs created will be SANDBOXPDB1, SANDBOXPDB2, and SANDBOXPDB3.
                           </p>
                           <div class="infoboxnotealso" id="GUID-38477526-1CA5-49DD-9C61-F99C96D8CFE6__GUID-051AE7AB-521A-4319-BE8A-51AFA743364A">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="../multi/introduction-to-the-multitenant-architecture.html#CNCPT89234" target="_blank"><span><cite>Oracle Multitenant Administrator's Guide</cite></span></a> for an introduction to CDBs and PDBs
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="../multi/managing-a-multitenant-environment.html#ADMIN13506" target="_blank"><span><cite>Oracle Multitenant Administrator's Guide</cite></span></a> for information about managing CDBs and PDBs
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="ADMQS02326"></a><div class="props_rev_3"><a id="GUID-48D4F967-B447-4DB4-BFCD-F1E08BB91552" name="GUID-48D4F967-B447-4DB4-BFCD-F1E08BB91552"></a><h5 id="ADMQS-GUID-48D4F967-B447-4DB4-BFCD-F1E08BB91552" class="sect5"><span class="enumeration_section">2.3.2.4 </span>DBCA Storage Option Window
                     </h5>
                     <div>
                        <p>In the Database Configuration Assistant (DBCA) Storage Option window, specify the storage option for your database.</p>
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="uicontrol bold">Use template file for database storage attributes</span>â€”This option instructs DBCA to use the directory information as specified in the template.
                                 </p>
                              </li>
                              <li>
                                 <p><span class="uicontrol bold">Use following for the database storage attributes</span>â€”This option requires you to specify where the database files will be stored.
                                 </p>
                                 <p>With this option, you need to choose how the database files will be managed:</p>
                                 <p>If you choose <span class="uicontrol bold">File System</span>, your database files are managed by the file system of your operating system.
                                 </p>
                                 <p>If you choose <span class="uicontrol bold">Automatic Storage Management (ASM)</span>, you place your data files in Oracle Automatic Storage Management (Oracle ASM) disk groups.
                                 </p>
                                 <p>If you specify the <span class="uicontrol bold">Use Oracle-Managed Files (OMF)</span> option, Oracle Database will directly manage operating system files comprising an Oracle database. You specify the default location, called a database area, for all your files. Oracle Database thereafter automatically creates and deletes files in this location, as required. When you select this option, you delegate the complete management of database files to the database. You no longer have to specify the file names, their location, or their sizes.
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-390885BE-7455-4EC0-AF69-870F6B74DC42" name="GUID-390885BE-7455-4EC0-AF69-870F6B74DC42"></a><h5 id="ADMQS-GUID-390885BE-7455-4EC0-AF69-870F6B74DC42" class="sect5"><span class="enumeration_section">2.3.2.5 </span>DBCA Fast Recovery Option Window
                     </h5>
                     <div>
                        <p>The DBCA Fast Recovery Option window enables you to configure a backup and recovery area for your database.</p>
                        <div class="section">
                           <p>Then specify the locations for the Oracle database files. Select one of the following options:</p>
                           <p>When you create a new database, it is important to configure the database so you can recover your data if a system failure occurs. Online redo log files contain a record of changes that were made to data files. Online redo log files are stored in online redo log groups. You must have at least two online redo log groups for your database. After the online redo log files in a group have filled up, the log writer process (LGWR) switches the writing of redo records to a new online redo log group. Oracle Database can automatically save the inactive group of online redo log files to one or more offline destinations, known collectively as the <span class="bold">archived redo log</span> (also called the archive log). The process of turning online redo log files into archived redo log files is called <span class="bold">archiving</span>. 
                           </p>
                           <p>Archiving can be performed only if the database is running in <code class="codeph">ARCHIVELOG</code> mode. A group of online redo log files cannot be reused by the log writer (LGWR) process until the group is archived. If the database is running in <code class="codeph">NOARCHIVELOG</code> mode, then when a group becomes inactive after the LGWR process switches to a new group, the inactive group is available for immediate reuse by the LGWR process.
                           </p>
                           <p>The <code class="codeph">NOARCHIVELOG</code> mode protects a database from instance failure but not from media failure. Only the most recent changes made to the database, which are stored in the online redo log files, are available for instance recovery. To restore a database operating in <code class="codeph">NOARCHIVELOG</code> mode, you can use only entire database backups taken while the database is closed. Therefore, if you operate a database in <code class="codeph">NOARCHIVELOG</code> mode, then back up the entire database at regular, frequent intervals.
                           </p>
                           <p>The archiving of online redo log files has the following advantages:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>A database backup, with online and archived redo log files, guarantees that you can recover all committed transactions if the operating system or hardware fails.</p>
                              </li>
                              <li>
                                 <p>You can recover the database using a backup that was taken while the database was open and being used, if you have a copy of the archived log files that were written while the database was being backed up.</p>
                              </li>
                              <li>
                                 <p>You can perform online tablespace backups, and use these backups to restore a tablespace following media failure.</p>
                              </li>
                              <li>
                                 <p>You can keep a standby database current with its original database by continuously applying the original archived redo log files to the standby database.</p>
                              </li>
                           </ul>
                           <p>Before you can archive the online redo log files, you must determine the destination to which you want to archive. Oracle recommends that the archive log be stored in a fast recovery area because it can simplify backup and recovery operations for your database. A <span class="bold">fast recovery area</span> is a location in which Oracle Database can store and manage files related to backup and recovery. It is distinct from the database area, which is a location for the current database files (data files, control files, and online redo log files).
                           </p>
                           <p>When creating your database, you can select the following options:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="uicontrol bold">Specify Fast Recovery Area</span>â€”Select this option to specify a backup and recovery area and its directory location and size. You can use variables to identify standard locations.
                                 </p>
                                 <div class="p">With this option, you also make choices for these fields:
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p><span class="uicontrol bold">Recovery files storage type</span>â€”Specify the directory to use for the fast recovery area.
                                          </p>
                                       </li>
                                       <li>
                                          <p><span class="uicontrol bold">Fast Recovery Area</span>â€”Specify the type of storage you would like your database to use for recovery-related files.
                                          </p>
                                       </li>
                                       <li>
                                          <p><span class="uicontrol bold">Fast Recovery Area size</span>â€”Specify the size of the fast recovery area.
                                          </p>
                                       </li>
                                    </ul>
                                 </div>
                              </li>
                              <li>
                                 <p><span class="uicontrol bold">Enable Archiving</span>â€”Select this option to enable the archiving of database online redo log files, which can be used to recover a database. Selecting this option is the same as running the database in <code class="codeph">ARCHIVELOG</code> mode. 
                                 </p>
                                 <p>Oracle recommends you select <span class="bold">Enable Archiving</span>. Selecting this option provides better protection for your database for software or hardware failure. If you do not select this option now, then you can enable ARCHIVELOG mode later. See <span class="q">"<a href="performing-backup-and-recovery.html#GUID-292CD2F6-ECDC-4F94-B750-97DD2D526B22" title="This section explains how to set up your database to take advantage of Oracle suggested backup strategies.">Configuring Your Database for Basic Backup and Recovery</a>"</span>.
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="ADMQS12457"></a><div class="props_rev_3"><a id="GUID-DE22D504-4BCC-4592-AECA-EDEF75533480" name="GUID-DE22D504-4BCC-4592-AECA-EDEF75533480"></a><h5 id="ADMQS-GUID-DE22D504-4BCC-4592-AECA-EDEF75533480" class="sect5"><span class="enumeration_section">2.3.2.6 </span>DBCA Network Configuration Window
                     </h5>
                     <div>
                        <div><span>In the Database Configuration Assistant (DBCA) Network Configuration window, the listeners in the current Oracle home are displayed.</span> If you want to create a new listener in the current Oracle home, you can do it in the Network Configuration window.
                        </div>
                     </div>
                  </div><a id="ADMQS02328"></a><div class="props_rev_3"><a id="GUID-C273DC80-842C-4853-B34D-92CF8742BF15" name="GUID-C273DC80-842C-4853-B34D-92CF8742BF15"></a><h5 id="ADMQS-GUID-C273DC80-842C-4853-B34D-92CF8742BF15" class="sect5"><span class="enumeration_section">2.3.2.7 </span>DBCA Database Vault Option Window
                     </h5>
                     <div>
                        <p>The Database Configuration Assistant (DBCA) Database Vault Option window enables you to configure Oracle Database Vault and Oracle Database Label Security for your database.</p>
                        <div class="section">
                           <p>You can configure Oracle Database Vault and Oracle Label Security in this window, or you can click <span class="uicontrol bold">Next</span> to continue through DBCA without configuring Oracle Database Vault and Oracle Label Security.
                           </p>
                           <div class="infoboxnotealso" id="GUID-C273DC80-842C-4853-B34D-92CF8742BF15__GUID-82133DFD-D70A-4B2D-B811-2FFBBD4D93E2">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="../dvadm/introduction-to-oracle-database-vault.html#DVADM001" target="_blank"><span class="italic">Oracle Database Vault Administrator's Guide</span></a> for more information about Oracle Database Vault
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="../olsag/introduction-to-oracle-label-security.html#OLSAG001" target="_blank"><span class="italic">Oracle Label Security Administrator's Guide</span></a> for more information about Oracle Label Security
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="ADMQS02329"></a><div class="props_rev_3"><a id="GUID-6BB6422C-296D-4040-9A78-5ADED91FCF44" name="GUID-6BB6422C-296D-4040-9A78-5ADED91FCF44"></a><h5 id="ADMQS-GUID-6BB6422C-296D-4040-9A78-5ADED91FCF44" class="sect5"><span class="enumeration_section">2.3.2.8 </span>DBCA Configuration Options Window
                     </h5>
                     <div>
                        <p>The links in the Database Configuration Assistant (DBCA) Configuration Options window provide access to additional windows that enable you to further configure your database.</p>
                        <p>For example, you can use this window to configure the following for your database:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="installing-oracle-database-creating-database.html#GUID-58B107F9-3009-4E88-9136-C0B020CB8297" title="Use the Memory tab of the Database Configuration Assistant (DBCA) Configuration Options window to control how the database manages its memory.">Memory</a></p>
                           </li>
                           <li>
                              <p><a href="installing-oracle-database-creating-database.html#GUID-FACA06D5-8BB7-43D1-AE43-110BBA3E4837" title="In the Sizing tab of the Database Configuration Assistant (DBCA) Configuration Options window, you specify the smallest block size and the maximum number of operating system user processes that can simultaneously connect to the database.">Sizing</a></p>
                           </li>
                           <li>
                              <p><a href="installing-oracle-database-creating-database.html#GUID-D2FC796C-4FE1-4B97-A4DE-55F9FF2B106D" title="Use the Character sets tab of the Database Configuration Assistant (DBCA) Configuration Options window to determine how character data is stored in the database.">Character Sets</a></p>
                           </li>
                           <li>
                              <p><a href="installing-oracle-database-creating-database.html#GUID-74B81780-1E65-400C-A5A4-380715C84515" title="Use the Connection mode tab of the Database Configuration Assistant (DBCA) Configuration Options window to select the database connection mode.">Connection mode</a></p>
                           </li>
                           <li>
                              <p><a href="installing-oracle-database-creating-database.html#GUID-5A53654C-12AA-4AD0-95CF-C0D771E7F10F" title="Use the Sample schema tab of the Database Configuration Assistant (DBCA) Configuration Options window to configure the Oracle database sample schemas.">Sample schema</a></p>
                           </li>
                        </ul>
                     </div><a id="ADMQS02332"></a><div class="props_rev_3"><a id="GUID-58B107F9-3009-4E88-9136-C0B020CB8297" name="GUID-58B107F9-3009-4E88-9136-C0B020CB8297"></a><h6 id="ADMQS-GUID-58B107F9-3009-4E88-9136-C0B020CB8297" class="sect6"><span class="enumeration_section">2.3.2.8.1 </span>Memory
                        </h6>
                        <div>
                           <p>Use the Memory tab of the Database Configuration Assistant (DBCA) Configuration Options window to control how the database manages its memory.</p>
                           <div class="section">
                              <p> You can choose from the following memory management methods:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><span class="uicontrol bold">Use Automatic Shared Memory Management</span></p>
                                    <p>This method enables you to allocate specific amounts of memory to the SGA and aggregate PGA. Automatic shared memory management is enabled for the SGA, and memory is allocated to the individual PGAs as needed.</p>
                                    <p>To learn more about SGA and PGA, see <span class="q">"<a href="managing-the-oracle-instance.html#GUID-5B7510F1-C811-4B74-A847-7C9D67CA933E" title="The sizes of the instance memory structures affect database performance and are controlled by initialization parameters.">About Instance Memory Structures</a>"</span>.
                                    </p>
                                 </li>
                                 <li>
                                    <p><span class="uicontrol bold">Use Manual Shared Memory Management</span></p>
                                    <p>This method requires you to enter specific values for each SGA component and the aggregate PGA. You determine how the SGA memory is distributed among the SGA memory components. This method is intended for experienced Oracle Database administrators.</p>
                                 </li>
                                 <li>
                                    <p><span class="uicontrol bold">Use Automatic Memory Management</span></p>
                                    <p>This method requires you to set the Oracle systemwide usable memory in the <span class="uicontrol bold">Memory target</span> field, and then the system automatically tunes many of the memory components of the SGA, and allocates memory to individual PGAs as needed. The system can also dynamically decrease or increase the total amount of memory allocated to the SGA or aggregate PGA, depending on processing demands. The total memory used for the database instance never exceeds the amount you specify.
                                    </p>
                                    <div class="infoboxnote" id="GUID-58B107F9-3009-4E88-9136-C0B020CB8297__GUID-FC87DEA3-A146-457C-8FCB-E6C90496ECFC">
                                       <p class="notep1">Note:</p>
                                       <p>If the total physical memory of your database instance is greater than 4 GB, then you cannot select the <span class="uicontrol bold">Use Automatic Memory Management</span> option. Instead, use automatic shared memory management. Automatic shared memory management automatically distributes the available memory among the various components as required, allowing the system to maximize the use of all available SGA memory.
                                       </p>
                                    </div>
                                 </li>
                              </ul>
                              <div class="infoboxnotealso" id="GUID-58B107F9-3009-4E88-9136-C0B020CB8297__GUID-001630CE-D0FE-4ACC-8D1E-E87A8D5DE559">
                                 <p class="notep1">See Also:</p>
                                 <p><span class="q">"<a href="managing-the-oracle-instance.html#GUID-579B4CD1-8A8D-4F6B-BBDF-EEC4DFEC98CD" title="This chapter provides background information about the Oracle instance and instructions for managing the instance.">Managing the Oracle Instance</a>"</span> for more information about memory management options
                                 </p>
                              </div>
                           </div>
                           <!-- class="section" -->
                        </div>
                     </div><a id="ADMQS02333"></a><div class="props_rev_3"><a id="GUID-FACA06D5-8BB7-43D1-AE43-110BBA3E4837" name="GUID-FACA06D5-8BB7-43D1-AE43-110BBA3E4837"></a><h6 id="ADMQS-GUID-FACA06D5-8BB7-43D1-AE43-110BBA3E4837" class="sect6"><span class="enumeration_section">2.3.2.8.2 </span>Sizing
                        </h6>
                        <div>
                           <p>In the Sizing tab of the Database Configuration Assistant (DBCA) Configuration Options window, you specify the smallest block size and the maximum number of operating system user processes that can simultaneously connect to the database.</p>
                           <div class="section">
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a id="d5037e2500" class="indexterm-anchor"></a><span class="bold">Block Size</span>â€”Use this list to select the block size, or accept the default. Oracle Database data is stored in data blocks of the size specified. One data block corresponds to a specific number of bytes of physical space on disk. Selecting a block size other than the default 8 kilobytes (KB) value requires advanced knowledge and should be done only when absolutely required.
                                    </p>
                                    <p>While using predefined templates, this list is not enabled because the database will be created with the default block size of 8 KB. </p>
                                 </li>
                                 <li>
                                    <p><span class="bold">Processes</span>â€”In this field, specify the maximum number of processes that can simultaneously connect to the database. Enter a number or accept the default value of 320. The default value for this parameter is appropriate for many environments. The value you select should allow for all <a id="d5037e2514" class="indexterm-anchor"></a>background processes, user processes, and parallel execution processes.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <!-- class="section" -->
                        </div>
                     </div><a id="ADMQS02334"></a><div class="props_rev_3"><a id="GUID-D2FC796C-4FE1-4B97-A4DE-55F9FF2B106D" name="GUID-D2FC796C-4FE1-4B97-A4DE-55F9FF2B106D"></a><h6 id="ADMQS-GUID-D2FC796C-4FE1-4B97-A4DE-55F9FF2B106D" class="sect6"><span class="enumeration_section">2.3.2.8.3 </span>Character Sets
                        </h6>
                        <div>
                           <div><span>Use the Character sets tab of the Database Configuration Assistant (DBCA) Configuration Options window to determine how character data is stored in the database.</span> <span class="bold">Character sets</span> are the encoding schemes used to display characters on your computer screen. The character set determines what languages can be represented in the database.
                           </div>
                           <div class="section">
                              <p>Oracle recommends using Unicode (AL32UTF8) as the database character set. AL32UTF8 is Oracle's name for the UTF-8 encoding of the Unicode standard. The Unicode standard is the universal character set that supports most of the currently spoken languages of the world. The use of the Unicode standard is indispensable for any multilingual technology, including database processing.</p>
                              <p>After a database is created and accumulates production data, changing the database character set is a time consuming and complex project. Therefore, it is very important to select the right character set at installation time. Even if the database does not currently store multilingual data but is expected to store multilingual data within a few years, the choice of AL32UTF8 for the database character set is usually the only good decision.</p>
                              <p>If you create a multitenant container database (CDB), consider that the character set you select determines which other databases you can later plug into the CDB. Only databases with a compatible database character set can be plugged into the CDB.</p>
                              <p>The default character set used by Oracle Universal Installer (OUI) and DBCA for the UNIX, Linux, and Microsoft Windows platforms is not AL32UTF8, but a Microsoft Windows character set known as an ANSI code page. The particular character set is selected based on the current language (locale) of the operating system session that started OUI or DBCA. If the language is American English or a Western European language, then the default character set is WE8MSWIN1252. Each Microsoft Windows ANSI Code Page can store data from only one language or a limited group of languages, such as only Western European, or only Eastern European, or only Japanese.</p>
                              <p>A Microsoft Windows character set is the default even for databases created on UNIX and Linux platforms because Microsoft Windows is the prevalent platform for client workstations. Oracle Client libraries automatically perform the necessary character set conversion between the database character set and the character sets used by non-Windows client applications.</p>
                              <p>You may also choose to use any other character set from the presented list of character sets. You can use this option to select a particular character set required by an application vendor, or choose a particular character set that is the common character set used by all clients connecting to this database.</p>
                              <p>Because AL32UTF8 is a multibyte character set, database operations on character data may be slightly slower when compared to single-byte database character sets, such as WE8MSWIN1252. Storage space requirements for text in most languages that use characters outside of the ASCII repertoire are higher in AL32UTF8 compared to legacy character sets supporting the language. Note that the increase in storage space concerns only character data and only data that is not in English. The universality and flexibility of Unicode usually outweighs these additional costs.</p>
                              <p>Choose one of the following for the database character set:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><span class="bold">Use Unicode (AL32UTF8)</span>â€”Select this option to support multiple languages for your database users and database applications.
                                    </p>
                                    <div class="infoboxnote" id="GUID-D2FC796C-4FE1-4B97-A4DE-55F9FF2B106D__GUID-279F167E-3864-45DE-A347-841B8DA2C665">
                                       <p class="notep1">Note:</p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p>AL32UTF8 is a variable-width multibyte character set. Applications connecting to a database that uses AL32UTF8 for character data processing must be correctly programmed to work with such character sets. Always verify the character set requirements of the applications that use the database. Contact the application vendor and ask for a Unicode-capable version, if your current application version does not support the Unicode standard.</p>
                                          </li>
                                          <li>
                                             <p>Oracle recommends using AL32UTF8 as the database character set. AL32UTF8 is the proper implementation of the Unicode encoding UTF-8. Starting with Oracle Database 12c Release 2, AL32UTF8 is used as the default database character set while creating a database using OUI as well as DBCA.</p>
                                          </li>
                                          <li>
                                             <p>Do not use UTF8 as the database character set as it is not a proper implementation of the Unicode encoding UTF-8. If the UTF8 character set is used where UTF-8 processing is expected, then data loss and security issues may occur. This is especially true for Web related data, such as XML and URL addresses. </p>
                                          </li>
                                          <li>
                                             <p>AL32UTF8 and UTF8 character sets are not compatible with each other as they have different maximum character widths (four versus three bytes per character).</p>
                                          </li>
                                       </ul>
                                    </div>
                                 </li>
                                 <li>
                                    <p><span class="bold">Use OS character set (WE8MSWIN1252)â€”</span>Select this option to select only the language currently used by the operating system for all your database users and database applications.
                                    </p>
                                 </li>
                                 <li>
                                    <p><span class="bold">Choose from the list of character setsâ€”</span>Select this option if you want Oracle Database to use a character set other than the default character set used by the operating system.
                                    </p>
                                 </li>
                              </ul>
                              <p>Choose a national character set:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><span class="bold">National Character Setâ€”</span>In this list, select a character set or accept the default. The national character set, also called <code class="codeph">NCHAR</code> character set, is the character set used to store and process data of data types <code class="codeph">NVARCHAR2</code>, <code class="codeph">NCHAR</code>, and <code class="codeph">NCLOB</code>. These data types allow storing of Unicode characters in a database that does not have a Unicode database character set. Unless installation requirements of any of your applications specify otherwise, accept the default value of AL16UTF16 as the national character set.
                                    </p>
                                    <div class="infoboxnote" id="GUID-D2FC796C-4FE1-4B97-A4DE-55F9FF2B106D__GUID-5E722C92-7D29-4C9D-9A2D-511D2B4AEBE3">
                                       <p class="notep1">Note:</p>
                                       <p>Although this character set is called "national," after the SQL standard (ISO/IEC 9075), it is not better suited to support globalized applications than the database character set. Because working with national character set data requires additional API calls in client applications, and because national character set data is not supported by some database components, such as Oracle Text, Oracle recommends that multilingual applications use <code class="codeph">VARCHAR2</code>, <code class="codeph">CHAR</code>, and <code class="codeph">CLOB</code> data types and an Oracle database with the database character set AL32UTF8.
                                       </p>
                                    </div>
                                 </li>
                                 <li>
                                    <p><span class="bold">Default language</span>â€”In this list, select a default database language or accept the default. The default language determines how the database supports locale-sensitive information such as day and month abbreviations, default sorting sequence for character data, and reading direction (left to right or right to left).
                                    </p>
                                 </li>
                                 <li>
                                    <p><span class="bold">Default territoryâ€”</span>In this list, select the name of the territory whose conventions are to be followed for day and week numbering or accept the default. The default territory also establishes the default date format, the default decimal character and group separator, and the default International Standardization Organization (ISO) and local currency symbols. For example, in the United Kingdom, the default date format is DD-MON-YYYY, where DD is the day of the month (1-31), MON is the abbreviated name of the month, and YYYY is the 4-digit year.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <!-- class="section" -->
                        </div>
                     </div><a id="ADMQS02335"></a><div class="props_rev_3"><a id="GUID-74B81780-1E65-400C-A5A4-380715C84515" name="GUID-74B81780-1E65-400C-A5A4-380715C84515"></a><h6 id="ADMQS-GUID-74B81780-1E65-400C-A5A4-380715C84515" class="sect6"><span class="enumeration_section">2.3.2.8.4 </span>Connection mode
                        </h6>
                        <div>
                           <div><span>Use the Connection mode tab of the Database Configuration Assistant (DBCA) Configuration Options window to select the database connection mode.</span> You can run the database in either of the following connection modes:
                           </div>
                           <div class="section">
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><span class="uicontrol bold">Dedicated server mode</span>â€”This mode allows a dedicated server process for each user process. Select this option when the number of total clients is expected to be small, for example, 50 or fewer. You might also choose this option when database clients typically make persistent, long-running requests to the database. By default, the database is configured for dedicated server processes.
                                    </p>
                                 </li>
                                 <li>
                                    <p><span class="uicontrol bold">Shared server modeâ€”</span>This mode allows several client connections to share a database-allocated pool of resources. Use this mode in configurations in which client load is expected to cause a strain on memory and other system resources. If you choose shared server mode, then you must indicate the number of server processes you want to create when a database instance is started. For more information about setting this parameter, click <span class="uicontrol bold">Help</span>.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <!-- class="section" -->
                        </div>
                     </div>
                     <div class="sect5"><a id="GUID-5A53654C-12AA-4AD0-95CF-C0D771E7F10F" name="GUID-5A53654C-12AA-4AD0-95CF-C0D771E7F10F"></a><h6 id="ADMQS-GUID-5A53654C-12AA-4AD0-95CF-C0D771E7F10F" class="sect6"><span class="enumeration_section">2.3.2.8.5 </span>Sample schema
                        </h6>
                        <div>
                           <p>Use the Sample schema tab of the Database Configuration Assistant (DBCA) Configuration Options window to configure the Oracle database sample schemas.</p>
                           <div class="section">
                              <p>To include the sample schemas in your database, select <span class="uicontrol bold">Add sample schemas to the database</span>.
                              </p>
                           </div>
                           <!-- class="section" -->
                        </div>
                     </div>
                  </div><a id="ADMQS02323"></a><div class="props_rev_3"><a id="GUID-C617CBCD-B9E8-4458-A000-67D27E1D6A33" name="GUID-C617CBCD-B9E8-4458-A000-67D27E1D6A33"></a><h5 id="ADMQS-GUID-C617CBCD-B9E8-4458-A000-67D27E1D6A33" class="sect5"><span class="enumeration_section">2.3.2.9 </span>DBCA Management Options Window
                     </h5>
                     <div>
                        <div><span>Use the Database Configuration Assistant (DBCA) Management Options window to set up your database so it can be managed with Oracle Enterprise Manager.</span> Oracle Enterprise Manager provides Web-based management tools for individual databases, and central management tools for managing your entire Oracle environment.
                        </div>
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>To manage your database locally, select <span class="uicontrol bold">Configure Enterprise Manager (EM) database express</span>. You can accept the assigned port for EM Express or enter a different unused port.
                                 </p>
                              </li>
                              <li>
                                 <p>If the Oracle Management Agent is installed on your host computer, then you can choose <span class="uicontrol bold">Register with Enterprise Manager (EM) cloud control</span> and then specify the host and port for the Management Service and the EM Admin username and password.
                                 </p>
                                 <div class="infoboxnotealso" id="GUID-C617CBCD-B9E8-4458-A000-67D27E1D6A33__GUID-45BA1A2F-0BE3-45DF-B9F7-7C680882C88D">
                                    <p class="notep1">See Also:</p>
                                    <p><a href="../admin/distributed-database-concepts.html#ADMIN12110" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> for more information about Oracle Enterprise Manager Cloud Control
                                    </p>
                                 </div>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="ADMQS02324"></a><div class="props_rev_3"><a id="GUID-0711B83C-CA06-4869-AEAF-D406758B9E1D" name="GUID-0711B83C-CA06-4869-AEAF-D406758B9E1D"></a><h5 id="ADMQS-GUID-0711B83C-CA06-4869-AEAF-D406758B9E1D" class="sect5"><span class="enumeration_section">2.3.2.10 </span>DBCA User Credentials Window
                     </h5>
                     <div>
                        <p>In the Database Configuration Assistant (DBCA) User Credentials window, specify the passwords for the administrative accounts such as <code class="codeph">SYS</code>, <code class="codeph">SYSTEM</code>, and <code class="codeph">PDBADMIN</code>.
                        </p>
                        <div class="section">
                           <p><span class="italic">On Microsoft Windows operating systems only:</span> If during the installation you specified a non-administrator, low privileged Windows User Account as Oracle Home User, you are prompted for the password of that user account.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="ADMQS02337"></a><div class="props_rev_3"><a id="GUID-86C6F0BB-9274-4B7A-AD98-62CD50C89C6F" name="GUID-86C6F0BB-9274-4B7A-AD98-62CD50C89C6F"></a><h5 id="ADMQS-GUID-86C6F0BB-9274-4B7A-AD98-62CD50C89C6F" class="sect5"><span class="enumeration_section">2.3.2.11 </span>DBCA Creation Option Window
                     </h5>
                     <div>
                        <p>The Database Configuration Assistant (DBCA) Creation Option window enables you to select different options for creating the database.</p>
                        <div class="section">
                           <p>For example, in the Database Configuration Assistant (DBCA) Creation Option window, select any of the following options for creating the database:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="bold">Create database</span>â€”Select this option to create your database now.
                                 </p>
                              </li>
                              <li>
                                 <p><span class="bold">Save as a database template</span>â€”Select this option to save the database definition as a template to use at a later time.
                                 </p>
                              </li>
                              <li>
                                 <p><span class="bold">Generate database creation scripts</span>â€”Select this option to generate a SQL database creation script that you can run at a later time.
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="ADMQS12395"></a><div class="props_rev_3"><a id="GUID-782D8C37-473B-42F2-AF5E-7975DE9CF421" name="GUID-782D8C37-473B-42F2-AF5E-7975DE9CF421"></a><h5 id="ADMQS-GUID-782D8C37-473B-42F2-AF5E-7975DE9CF421" class="sect5"><span class="enumeration_section">2.3.2.12 </span>DBCA Summary Window
                     </h5>
                     <div>
                        <div><span>The Database Configuration Assistant (DBCA) Summary window displays a summary of the configuration options that you have chosen for the database.</span> Review the summary information.
                        </div>
                        <div class="section">
                           <p>To change any of these options, click <span class="bold">Back</span> and return to the window where you can modify the option.
                           </p>
                           <p>Click <span class="bold">Finish</span> to have DBCA begin the creation of the database with the specified configuration options.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="ADMQS12396"></a><div class="props_rev_3"><a id="GUID-41D812A9-4073-472B-946F-8B97FD233B4E" name="GUID-41D812A9-4073-472B-946F-8B97FD233B4E"></a><h5 id="ADMQS-GUID-41D812A9-4073-472B-946F-8B97FD233B4E" class="sect5"><span class="enumeration_section">2.3.2.13 </span>DBCA Progress Window
                     </h5>
                     <div>
                        <p>The Database Configuration Assistant (DBCA) Progress window displays the progress of the database creation operation.</p>
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-6B4E99C9-36C5-4D9B-BDDA-4931F554EBDA" name="GUID-6B4E99C9-36C5-4D9B-BDDA-4931F554EBDA"></a><h5 id="ADMQS-GUID-6B4E99C9-36C5-4D9B-BDDA-4931F554EBDA" class="sect5"><span class="enumeration_section">2.3.2.14 </span>DBCA Finish Window
                     </h5>
                     <div>
                        <p>The DBCA Finish window appears after DBCA finishes configuring the database.</p>
                        <div class="section">
                           <p>The Finish window provides information about:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The location of the DBCA log files</p>
                              </li>
                              <li>
                                 <p>The global database name, SID, and server parameter file name for the database</p>
                              </li>
                              <li>
                                 <p>The URL to use to access Enterprise Manager to manage the database</p>
                              </li>
                              <li>
                                 <p>Managing the database accounts that were created</p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="ADMQS12127"></a><a id="ADMQS0233"></a><div class="props_rev_3"><a id="GUID-FA73C24D-64ED-419C-A9F5-3550BFEA64EA" name="GUID-FA73C24D-64ED-419C-A9F5-3550BFEA64EA"></a><h4 id="ADMQS-GUID-FA73C24D-64ED-419C-A9F5-3550BFEA64EA" class="sect4"><span class="enumeration_section">2.3.3 </span>Changing the Configuration of a Database Using DBCA
                  </h4>
                  <div>
                     <div><span>You can use Database Configuration Assistant (DBCA) to change the configuration of an existing database.</span> For example, you can make configuration changes such as:
                     </div>
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Add database options that were not previously configured (for example, Oracle Label Security or Oracle OLAP)</p>
                           </li>
                           <li>
                              <p>Change default security settings</p>
                           </li>
                           <li>
                              <p>Change the server mode from dedicated to shared, or the reverse</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FA73C24D-64ED-419C-A9F5-3550BFEA64EA__GUID-801CC112-C689-4DAC-9244-B21F032EE3E6">To change the configuration of a database using DBCA:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>Start DBCA as described in <span class="q">"<a href="installing-oracle-database-creating-database.html#GUID-F922EBB9-BA89-4A94-B89F-E3BB4BA14ACD" title="This section describes how to start Database Configuration Assistant (DBCA).">Starting DBCA</a>"</span>.</span></li>
                        <li><span>In the Database Operation window, select <span class="bold">Configure an existing database</span> and click <span class="bold">Next</span>.</span></li>
                        <li><span>Follow the instructions in the DBCA guided workflow.</span></li>
                     </ol>
                  </div>
               </div><a id="ADMQS12128"></a><a id="ADMQS0234"></a><div class="props_rev_3"><a id="GUID-C0DDA1A8-90CE-4A99-8C3B-B72A40D96D0B" name="GUID-C0DDA1A8-90CE-4A99-8C3B-B72A40D96D0B"></a><h4 id="ADMQS-GUID-C0DDA1A8-90CE-4A99-8C3B-B72A40D96D0B" class="sect4"><span class="enumeration_section">2.3.4 </span>Deleting a Database Using DBCA
                  </h4>
                  <div>
                     <div><span>You can use Database Configuration Assistant (DBCA) to delete a database.</span> When DBCA deletes a database, it shuts down the database instance and then deletes all database files. On the Windows platform, it also deletes associated Windows services.
                     </div>
                     <div class="section">
                        <p class="subhead3" id="GUID-C0DDA1A8-90CE-4A99-8C3B-B72A40D96D0B__GUID-5EE04131-058E-4A52-8990-68D48AD876CF">To delete a database using DBCA:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>Start DBCA as described in <span class="q">"<a href="installing-oracle-database-creating-database.html#GUID-F922EBB9-BA89-4A94-B89F-E3BB4BA14ACD" title="This section describes how to start Database Configuration Assistant (DBCA).">Starting DBCA</a>"</span>.</span></li>
                        <li><span>In the Database Operation window, select <span class="bold">Delete database</span> and click <span class="bold">Next</span>.</span></li>
                        <li><span>Select the database to delete and click <span class="bold">Next</span>.</span></li>
                        <li><span>Follow the instructions in the DBCA guided workflow.</span></li>
                     </ol>
                  </div>
               </div><a id="ADMQS0235"></a><div class="props_rev_3"><a id="GUID-2B8A3B5E-D319-4377-8B22-8BB67DCC9885" name="GUID-2B8A3B5E-D319-4377-8B22-8BB67DCC9885"></a><h4 id="ADMQS-GUID-2B8A3B5E-D319-4377-8B22-8BB67DCC9885" class="sect4"><span class="enumeration_section">2.3.5 </span>Managing Templates with DBCA
                  </h4>
                  <div>
                     <div><span>Database Configuration Assistant (DBCA) templates are XML files that contain information required to create a database. Templates are used in DBCA to create new databases and duplicate existing databases.</span> The information in templates includes database options, initialization parameters, and storage attributes (for data files, tablespaces, control files, and online redo log files).
                     </div>
                     <p>Templates can be used just like scripts, but they are more powerful than scripts because you have the option of duplicating a database. Duplication saves time because you copy the files of an existing database, referred to as a <span class="italic">seed database</span>, to the correct locations.
                     </p>
                     <p>Templates are stored in the following directory:</p><pre class="oac_no_warn" dir="ltr"><span class="italic"><code class="codeph">ORACLE_HOME</code></span>/assistants/dbca/templates</pre></div><a id="ADMQS02351"></a><div class="props_rev_3"><a id="GUID-2BE4A2D6-E2DA-47B9-A708-6329CDAB42D9" name="GUID-2BE4A2D6-E2DA-47B9-A708-6329CDAB42D9"></a><h5 id="ADMQS-GUID-2BE4A2D6-E2DA-47B9-A708-6329CDAB42D9" class="sect5"><span class="enumeration_section">2.3.5.1 </span>Advantages of Using DBCA Templates
                     </h5>
                     <div>
                        <div><span>There are several advantages to using Database Configuration Assistant (DBCA) templates.</span> For example:
                        </div>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Time saving. If you use a template, then you do not have to define the database.</p>
                           </li>
                           <li>
                              <p>Easy duplication. By creating a template containing your database settings, you can easily create a duplicate database without specifying parameters twice. </p>
                           </li>
                           <li>
                              <p>Easy editing. You can quickly change database options from the template settings. </p>
                           </li>
                           <li>
                              <p>Easy sharing. Templates can be copied from one computer to another. </p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="ADMQS12327"></a><a id="ADMQS02352"></a><div class="props_rev_3"><a id="GUID-418CDFD6-340C-40B4-AC08-5005560ED9DC" name="GUID-418CDFD6-340C-40B4-AC08-5005560ED9DC"></a><h5 id="ADMQS-GUID-418CDFD6-340C-40B4-AC08-5005560ED9DC" class="sect5"><span class="enumeration_section">2.3.5.2 </span>Types of DBCA Templates
                     </h5>
                     <div>
                        <p>Database Configuration Assistant (DBCA) templates include seed templates and nonseed templates.</p>
                        <p>The characteristics of each are shown in <a href="installing-oracle-database-creating-database.html#GUID-418CDFD6-340C-40B4-AC08-5005560ED9DC__BABJJIIG" title="This table describes the DBCA template types.">Table 2-1</a>.
                        </p>
                        <div class="tblformal" id="GUID-418CDFD6-340C-40B4-AC08-5005560ED9DC__BABJJIIG">
                           <p class="titleintable">Table 2-1 DBCA Template Types</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DBCA Template Types" summary="This table describes the DBCA template types." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="12%" id="d5037e3268">Type</th>
                                    <th align="left" valign="bottom" width="16%" id="d5037e3271">File Extension</th>
                                    <th align="left" valign="bottom" width="12%" id="d5037e3274">Includes Data Files</th>
                                    <th align="left" valign="bottom" width="60%" id="d5037e3277">Database Structure</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="12%" id="d5037e3282" headers="d5037e3268 ">
                                       <p>Seed</p>
                                    </td>
                                    <td align="left" valign="top" width="16%" headers="d5037e3282 d5037e3271 ">
                                       <p><code class="codeph">.dbc</code></p>
                                    </td>
                                    <td align="left" valign="top" width="12%" headers="d5037e3282 d5037e3274 ">
                                       <p>Yes</p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d5037e3282 d5037e3277 ">
                                       <p>This type of template contains both the structure and the physical data files of an existing database, referred to as the <span class="italic">seed database</span>. Your new database starts as a copy of the seed database, and requires only the following changes:
                                       </p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p>Name of the database</p>
                                          </li>
                                          <li>
                                             <p>Destination of the data files</p>
                                          </li>
                                          <li>
                                             <p>Number of control files</p>
                                          </li>
                                          <li>
                                             <p>Number of online redo log groups</p>
                                          </li>
                                          <li>
                                             <p>Initialization parameters</p>
                                          </li>
                                       </ul>
                                       <p>Other changes can be made after database creation using custom scripts that can be invoked by DBCA, command-line SQL statements, or Oracle Enterprise Manager Database Express (EM Express). </p>
                                       <p>The data files for the seed database are stored in compressed Recovery Manager (RMAN) backup format in a file with a .dfb extension. The seed database control file is stored in a file with .ctl extension. (This file is needed only when storing data files in Oracle Automatic Storage Management (Oracle ASM) disk groups or as Oracle Managed Files.) The .dbc file contains the location of the seed database data files and contains the source database name used to mount the control file.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="12%" id="d5037e3319" headers="d5037e3268 ">
                                       <p>Nonseed</p>
                                    </td>
                                    <td align="left" valign="top" width="16%" headers="d5037e3319 d5037e3271 ">
                                       <p><code class="codeph">.dbt</code></p>
                                    </td>
                                    <td align="left" valign="top" width="12%" headers="d5037e3319 d5037e3274 ">
                                       <p>No</p>
                                    </td>
                                    <td align="left" valign="top" width="60%" headers="d5037e3319 d5037e3277 ">
                                       <p>This type of template is used to create a new database. It contains the characteristics of the database to be created. Nonseed templates are more flexible than their seed counterparts because all data files and online redo log files are created to your specification, and names, sizes, and other attributes can be changed as required.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                  </div><a id="ADMQS12328"></a><a id="ADMQS02353"></a><div class="props_rev_3"><a id="GUID-E59E0AE9-AF91-4DD2-B311-C92E3EFE9948" name="GUID-E59E0AE9-AF91-4DD2-B311-C92E3EFE9948"></a><h5 id="ADMQS-GUID-E59E0AE9-AF91-4DD2-B311-C92E3EFE9948" class="sect5"><span class="enumeration_section">2.3.5.3 </span>DBCA Templates Provided by Oracle
                     </h5>
                     <div>
                        <div><span>Oracle provides Database Configuration Assistant (DBCA) templates for data warehouses, general purpose or transaction processing databases, and for custom databases.</span> These templates are described in <a href="installing-oracle-database-creating-database.html#GUID-E59E0AE9-AF91-4DD2-B311-C92E3EFE9948__BABHDEDA" title="This table describes the DBCA template environments.">Table 2-2</a>.
                        </div>
                        <div class="tblformal" id="GUID-E59E0AE9-AF91-4DD2-B311-C92E3EFE9948__BABHDEDA">
                           <p class="titleintable">Table 2-2 Oracle-Provided DBCA Templates and Their Corresponding Workloads</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Oracle-Provided DBCA Templates and Their Corresponding Workloads" summary="This table describes the DBCA template environments." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="27%" id="d5037e3374">Template</th>
                                    <th align="left" valign="bottom" width="73%" id="d5037e3377">Workload</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d5037e3382" headers="d5037e3374 ">
                                       <p>Data warehouse</p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d5037e3382 d5037e3377 ">
                                       <p>Users perform numerous, complex queries that process large volumes of data. Response time, accuracy, and availability are key issues.</p>
                                       <p>These queries (<code class="codeph">SELECT</code> statements) range from a fetch of a few records to queries that sort thousands of records from many different tables. 
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d5037e3394" headers="d5037e3374 ">
                                       <p>General Purpose or Transaction processing</p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d5037e3394 d5037e3377 ">
                                       <p>Many concurrent users perform numerous transactions that require rapid access to data. Availability, speed, concurrency, and recoverability are key issues.</p>
                                       <p>Transactions consist of reading (<code class="codeph">SELECT</code> statements), writing (<code class="codeph">INSERT</code> and <code class="codeph">UPDATE</code> statements), and deleting (<code class="codeph">DELETE</code> statements) data in database tables. 
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d5037e3415" headers="d5037e3374 ">
                                       <p>Custom database</p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d5037e3415 d5037e3377 ">
                                       <p>This template allows you maximum flexibility in defining a database because you can change any of the settings for the database being created.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                  </div><a id="ADMQS12129"></a><a id="ADMQS02354"></a><div class="props_rev_3"><a id="GUID-30EAECFB-26D2-4D97-8450-75838B8229F4" name="GUID-30EAECFB-26D2-4D97-8450-75838B8229F4"></a><h5 id="ADMQS-GUID-30EAECFB-26D2-4D97-8450-75838B8229F4" class="sect5"><span class="enumeration_section">2.3.5.4 </span>Creating Templates Using DBCA
                     </h5>
                     <div>
                        <p>Follow the instructions in this section to create your own Database Configuration Assistant (DBCA) templates.</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-30EAECFB-26D2-4D97-8450-75838B8229F4__GUID-1303D761-44BA-4F1D-9345-C2B34B417722">To create templates:</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>Start DBCA as described in <span class="q">"<a href="installing-oracle-database-creating-database.html#GUID-F922EBB9-BA89-4A94-B89F-E3BB4BA14ACD" title="This section describes how to start Database Configuration Assistant (DBCA).">Starting DBCA</a>"</span>.</span></li>
                           <li class="stepexpand"><span>In the Database Operation window, select <span class="uicontrol bold">Manage templates</span> and click <span class="uicontrol bold">Next</span>.</span></li>
                           <li class="stepexpand"><span>In the Template Management window, select <span class="uicontrol bold">Create a database template</span>, enter values for the following fields, and click <span class="uicontrol bold">Next</span>.</span><div>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><span class="uicontrol bold">Template name</span></p>
                                       <p>The name you provide in the <span class="uicontrol bold">Template name</span> field identifies the template when it appears on the Database Templates page when you are creating a new database.
                                       </p>
                                    </li>
                                    <li>
                                       <p><span class="uicontrol bold">Template location</span></p>
                                       <p>Specify a location to store the template.</p>
                                    </li>
                                    <li>
                                       <p><span class="uicontrol bold">Description</span></p>
                                       <p>Use the <span class="uicontrol bold">Description</span> field to provide information about the purpose and features of databases created with the template. The description appears just below the template name when you click <span class="uicontrol bold">View Details</span> for the template on the Deployment Type page.
                                       </p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Follow the instructions in the DBCA guided workflow to create your template.</span></li>
                        </ol>
                     </div>
                  </div><a id="ADMQS12130"></a><a id="ADMQS02355"></a><div class="props_rev_3"><a id="GUID-AE6DC463-FBA6-494E-8559-3F60FEB709B1" name="GUID-AE6DC463-FBA6-494E-8559-3F60FEB709B1"></a><h5 id="ADMQS-GUID-AE6DC463-FBA6-494E-8559-3F60FEB709B1" class="sect5"><span class="enumeration_section">2.3.5.5 </span>Deleting DBCA Templates
                     </h5>
                     <div>
                        <p>When you delete a Database Configuration Assistant (DBCA) template, it is no longer available to create a new database or a new template.</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-AE6DC463-FBA6-494E-8559-3F60FEB709B1__GUID-D3BA40D4-4CC6-42ED-8AC0-C914BAE146F6">To delete a template:</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li><span>Start DBCA as described in <span class="q">"<a href="installing-oracle-database-creating-database.html#GUID-F922EBB9-BA89-4A94-B89F-E3BB4BA14ACD" title="This section describes how to start Database Configuration Assistant (DBCA).">Starting DBCA</a>"</span>.</span></li>
                           <li><span>In the Database Operation window, select <span class="uicontrol bold">Manage templates</span> and click <span class="uicontrol bold">Next</span>.</span></li>
                           <li><span>In the Template Management window, select <span class="uicontrol bold">Delete a database template</span> and click <span class="uicontrol bold">Next</span>.</span></li>
                           <li><span>Select the template to delete and click <span class="uicontrol bold">Next</span>.</span></li>
                           <li><span>Follow the instructions in the DBCA guided workflow.</span></li>
                        </ol>
                     </div>
                  </div>
               </div><a id="ADMQS12458"></a><div class="props_rev_3"><a id="GUID-42F4AB20-8DD8-48B3-B7B9-FCC151C06987" name="GUID-42F4AB20-8DD8-48B3-B7B9-FCC151C06987"></a><h4 id="ADMQS-GUID-42F4AB20-8DD8-48B3-B7B9-FCC151C06987" class="sect4"><span class="enumeration_section">2.3.6 </span>Using DBCA to Manage PDBs
                  </h4>
                  <div>
                     <div><span>When a multitenant container database (CDB) exists, you can use Database Configuration Assistant (DBCA) to perform pluggable database (PDB) operations in the CDB.</span> For example, you can use DBCA to perform the following PDB operations in the CDB:
                     </div>
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Create a PDB</p>
                              <p>This option creates a new PDB in a CDB.</p>
                              <p>DBCA can create the new PDB:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>From an existing PDB</p>
                                 </li>
                                 <li>
                                    <p>From the CDB seed, PDB$SEED</p>
                                 </li>
                                 <li>
                                    <p>Using a PDB archive (.pdb) file for an unplugged PDB</p>
                                 </li>
                                 <li>
                                    <p>Using a PDB file set for an unplugged PDB</p>
                                    <p>A PDB file set includes a PDB metadata (.xml) file and a PDB datafile backup (.dfb) file.</p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>Delete a PDB</p>
                              <p>This option deletes a PDB.</p>
                           </li>
                           <li>
                              <p>Unplug a PDB</p>
                              <p>This option unplugs a PDB. The unplugged PDB can be plugged into the same CDB or another CDB.</p>
                              <p>You can use DBCA to create a PDB archive (.pdb) file or a PDB file set (.xml file and .dfb file) when you unplug a PDB.</p>
                           </li>
                           <li>
                              <p>Configure a PDB</p>
                              <p>This option enables you to specify an Oracle Enterprise Manager Database Express (EM Express) port for the PDB, so that you can manage the PDB using EM Express. It also allows you to configure other database options for the PDB.</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div><a id="ADMQS12460"></a><a id="ADMQS12459"></a><div class="props_rev_3"><a id="GUID-4B0E065E-86FF-464F-B5B3-F3AB6A17666E" name="GUID-4B0E065E-86FF-464F-B5B3-F3AB6A17666E"></a><h5 id="ADMQS-GUID-4B0E065E-86FF-464F-B5B3-F3AB6A17666E" class="sect5"><span class="enumeration_section">2.3.6.1 </span>Managing PDBs in a CDB using DBCA
                     </h5>
                     <div>
                        <p>You can use Database Configuration Assistant (DBCA) to create, unplug, delete, or configure a pluggable database (PDB) in an existing multitenant container database (CDB).</p>
                        <div class="section">
                           <div class="infoboxnote" id="GUID-4B0E065E-86FF-464F-B5B3-F3AB6A17666E__GUID-1B591722-B532-4139-97B0-E65B0C66248A">
                              <p class="notep1">Note:</p>
                              <p>The PDB operations can be performed only in a CDB. DBCA issues an error message if you attempt to perform PDB operations in a database that is not a CDB.</p>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-4B0E065E-86FF-464F-B5B3-F3AB6A17666E__GUID-7164086E-5489-4DD1-8CAB-B980EC011466">To manage PDBs using DBCA:</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li><span>Start DBCA as described in <span class="q">"<a href="installing-oracle-database-creating-database.html#GUID-F922EBB9-BA89-4A94-B89F-E3BB4BA14ACD" title="This section describes how to start Database Configuration Assistant (DBCA).">Starting DBCA</a>"</span>.</span></li>
                           <li><span>In the Database Operation window, select <span class="uicontrol bold">Manage Pluggable databases</span> and click <span class="uicontrol bold">Next</span></span></li>
                           <li><span>In the Manage Pluggable Databases window, select one of the PDB operations and click <span class="uicontrol bold">Next</span>.</span></li>
                           <li><span>In the Select Database window, select the CDB in which to perform the selected PDB operation and click <span class="uicontrol bold">Next</span>.</span></li>
                           <li><span>Follow the instructions in the DBCA guided workflow for the selected PDB operation.</span></li>
                        </ol>
                        <div class="section">
                           <div class="infoboxnotealso" id="GUID-4B0E065E-86FF-464F-B5B3-F3AB6A17666E__GUID-00923466-844C-45E2-8EF1-4D0E7783CC71">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="../multi/introduction-to-the-multitenant-architecture.html#CNCPT89234" target="_blank"><span><cite>Oracle Multitenant Administrator's Guide</cite></span></a> for an introduction to CDBs and PDBs
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="../multi/managing-a-multitenant-environment.html#ADMIN13506" target="_blank"><span><cite>Oracle Multitenant Administrator's Guide</cite></span></a> for information about managing CDBs and PDBs
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
            </div><a id="ADMQS12461"></a><div class="props_rev_3"><a id="GUID-75C198E5-5690-43F4-990E-91A3892F7A54" name="GUID-75C198E5-5690-43F4-990E-91A3892F7A54"></a><h3 id="ADMQS-GUID-75C198E5-5690-43F4-990E-91A3892F7A54" class="sect3"><span class="enumeration_section">2.4 </span>Manually Installing the Database Sample Schemas Post-Installation
               </h3>
               <div>
                  <p>You may decide sometime after the initial database installation that you would like to install the database sample schemas. You can create the sample schemas manually by running SQL scripts.</p>
                  <div class="infoboxnotealso" id="GUID-75C198E5-5690-43F4-990E-91A3892F7A54__GUID-C54B2E4A-BF56-440D-A933-D04705D1252E">
                     <p class="notep1">See Also:</p>
                     <p><a href="../comsc/installing-sample-schemas.html#COMSC-GUID-A2C3DC59-CDA1-47C0-BA6B-F6EA6395A85F" target="_blank"><span><cite>Oracle Database Sample Schemas</cite></span></a> for more information about creating the sample schemas manually using SQL
                     </p>
                  </div>
               </div>
            </div><a id="ADMQS025"></a><div class="props_rev_3"><a id="GUID-1426CDE5-D4E2-428D-8409-0333799EE8C2" name="GUID-1426CDE5-D4E2-428D-8409-0333799EE8C2"></a><h3 id="ADMQS-GUID-1426CDE5-D4E2-428D-8409-0333799EE8C2" class="sect3"><span class="enumeration_section">2.5 </span>Installation: Oracle By Example Series
               </h3>
               <div>
                  <p>Oracle By Example (OBE) has a series on the <span class="italic">Oracle Database 2 Day DBA</span> guide. This OBE steps you through the tasks in this chapter and includes annotated screenshots.
                  </p>
                  <div class="section">
                     <p>To view the Installing Oracle Database and Creating a Database OBE, enter the following URL in your web browser:</p>
                     <p><a href="https://apexapps.oracle.com/pls/apex/f?p=44785:24:::NO:24:P24_CONTENT_ID:16826" target="_blank"><code class="codeph">https://apexapps.oracle.com/pls/apex/f?p=44785:24:::NO:24:P24_CONTENT_ID:16826</code></a></p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='00564.jms-basic-operation.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Oracle Java Message Service Basic Operations</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Advanced Queuing User's Guide ">
      <meta property="og:description" content>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Advanced Queuing User's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="oracle-database-advanced-queuing.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-12T10:53:09-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96511-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="jms-introduction.html" title="Previous" type="text/html">
      <link rel="next" href="jms-point-to-point.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="OracleÂ® Database Advanced Queuing">
    <meta name="dcterms.isVersionOf" content="ADQUE">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="jms-introduction.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="jms-point-to-point.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Advanced Queuing User's Guide </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Oracle Java Message Service Basic Operations</li>
            </ol>
            <a id="GUID-5A5BF079-B078-46FD-A29E-41192DC459B0" name="GUID-5A5BF079-B078-46FD-A29E-41192DC459B0"></a><a id="ADQUE1200"></a>
            
            <h2 id="ADQUE-GUID-5A5BF079-B078-46FD-A29E-41192DC459B0" class="sect2"><span class="enumeration_chapter">12 </span> Oracle Java Message Service Basic Operations
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The following topics describe the basic operational <a href="glossary.html#GUID-3A98EBD4-296B-4BE8-82AE-5B42D07E9894"><span class="xrefglossterm">Java Message Service</span></a> (JMS) administrative interface to Oracle Database Advanced Queuing (AQ). 
               </p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="jms-basic-operation.html#GUID-8B40F957-13A1-430A-BC95-344AE4E66F55">EXECUTE Privilege on DBMS_AQIN</a></p>
                  </li>
                  <li>
                     <p><a href="jms-basic-operation.html#GUID-39A4A122-2DED-4CFC-B9F2-7757A2A900F1">Registering a ConnectionFactory</a></p>
                  </li>
                  <li>
                     <p><a href="jms-basic-operation.html#GUID-46B979D5-6D78-483D-AF29-B1D2DBAF9B19">Unregistering a Queue/Topic ConnectionFactory</a></p>
                  </li>
                  <li>
                     <p><a href="jms-basic-operation.html#GUID-584FEE3F-7C94-4EC4-8500-128D47BFDA74">Getting a QueueConnectionFactory or TopicConnectionFactory</a></p>
                  </li>
                  <li>
                     <p><a href="jms-basic-operation.html#GUID-2F381380-8A18-40CB-918B-70544AB610CA">Getting a Queue or Topic in LDAP</a></p>
                  </li>
                  <li>
                     <p><a href="jms-basic-operation.html#GUID-CAE40CF5-1060-45AE-96A0-8FB7016D038E">Creating a Non-Sharded Queue Table</a></p>
                  </li>
                  <li>
                     <p><a href="jms-basic-operation.html#GUID-C5773BA3-31DD-4860-B894-579F97C4581D">Creating a Queue</a></p>
                  </li>
                  <li>
                     <p><a href="jms-basic-operation.html#GUID-225E5EC1-1D99-432D-A031-5959005D953A">Getting a Non-Sharded Queue Table</a></p>
                  </li>
                  <li>
                     <p><a href="jms-basic-operation.html#GUID-E1BE8E40-4CB2-4366-B161-DCB4F6E62DC0">Granting and Revoking Privileges</a></p>
                  </li>
                  <li>
                     <p><a href="jms-basic-operation.html#GUID-3F0936CB-2532-4C08-A620-F2054BDD7160">Managing Destinations</a></p>
                  </li>
                  <li>
                     <p><a href="jms-basic-operation.html#GUID-5916ED2D-BF69-4033-8E5C-1CF00657966A">Propagation Schedules</a></p>
                  </li>
               </ul>
            </div><a id="ADQUE2935"></a><div class="props_rev_3"><a id="GUID-8B40F957-13A1-430A-BC95-344AE4E66F55" name="GUID-8B40F957-13A1-430A-BC95-344AE4E66F55"></a><h3 id="ADQUE-GUID-8B40F957-13A1-430A-BC95-344AE4E66F55" class="sect3"><span class="enumeration_section">12.1 </span>EXECUTE Privilege on DBMS_AQIN
               </h3>
               <div>
                  <p>Users should never directly call methods in the <code class="codeph">DBMS_AQIN</code> package, but they do need the <code class="codeph">EXECUTE</code> privilege on <code class="codeph">DBMS_AQIN</code>. Use the following syntax to accomplish this: 
                  </p><pre class="oac_no_warn" dir="ltr">GRANT EXECUTE ON DBMS_AQIN to <span class="italic">user</span>; </pre></div>
            </div><a id="ADQUE2936"></a><div class="props_rev_3"><a id="GUID-39A4A122-2DED-4CFC-B9F2-7757A2A900F1" name="GUID-39A4A122-2DED-4CFC-B9F2-7757A2A900F1"></a><h3 id="ADQUE-GUID-39A4A122-2DED-4CFC-B9F2-7757A2A900F1" class="sect3"><span class="enumeration_section">12.2 </span>Registering a ConnectionFactory
               </h3>
               <div>
                  <p>You can register a <a href="glossary.html#GUID-BA2DFFB2-5E44-4256-9DDD-D5B2AE0D81B9"><span class="xrefglossterm">ConnectionFactory</span></a> four ways:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="jms-basic-operation.html#GUID-B05B8B15-C664-4BC5-A134-BAFFAF4E65EC">Registering Through the Database Using JDBC Connection Parameters</a></p>
                     </li>
                     <li>
                        <p><a href="jms-basic-operation.html#GUID-63C09F7B-EC9F-4509-8B52-9C41FA220A7B">Registering Through the Database Using a JDBC URL</a></p>
                     </li>
                     <li>
                        <p><a href="jms-basic-operation.html#GUID-6ADF431B-AEEF-41FD-86DA-D0733E1BB751">Registering Through LDAP Using JDBC Connection Parameters </a></p>
                     </li>
                     <li>
                        <p><a href="jms-basic-operation.html#GUID-27A881D3-1755-4CF6-8288-607A8DE62C2B">Registering Through LDAP Using a JDBC URL</a></p>
                     </li>
                  </ul>
               </div><a id="ADQUE2938"></a><a id="ADQUE2937"></a><div class="props_rev_3"><a id="GUID-B05B8B15-C664-4BC5-A134-BAFFAF4E65EC" name="GUID-B05B8B15-C664-4BC5-A134-BAFFAF4E65EC"></a><h4 id="ADQUE-GUID-B05B8B15-C664-4BC5-A134-BAFFAF4E65EC" class="sect4"><span class="enumeration_section">12.2.1 </span>Registering Through the Database Using JDBC Connection Parameters
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public static int registerConnectionFactory(java.sql.Connection connection,
                                            java.lang.String conn_name,
                                            java.lang.String hostname,
                                            java.lang.String oracle_sid,
                                            int portno,
                                            java.lang.String driver,
                                            java.lang.String type)
                                     throws JMSException
</pre><p>This method registers a <code class="codeph">QueueConnectionFactory</code> or TopicConnectionFactory through the database to a <a href="glossary.html#GUID-6BF3485C-E98F-4344-A7DE-64950BCCE160"><span class="xrefglossterm">Lightweight Directory Access Protocol</span></a> (LDAP) server with JDBC connection parameters. This method is static and has the following parameters:
                        </p>
                        <div class="tblformal" id="GUID-B05B8B15-C664-4BC5-A134-BAFFAF4E65EC__GUID-037FD542-5649-4D1F-861C-76675EE958FE">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e329">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e332">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e337" headers="d78385e329 ">
                                       <p><code class="codeph">connection</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e337 d78385e332 ">
                                       <p>JDBC connection used in registration</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e345" headers="d78385e329 ">
                                       <p><code class="codeph">conn_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e345 d78385e332 ">
                                       <p>Name of the connection to be registered</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e353" headers="d78385e329 ">
                                       <p><code class="codeph">hostname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e353 d78385e332 ">
                                       <p>Name of the host running Oracle Database Advanced Queuing</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e361" headers="d78385e329 ">
                                       <p><code class="codeph">oracle_sid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e361 d78385e332 ">
                                       <p>Oracle system identifier</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e369" headers="d78385e329 ">
                                       <p><code class="codeph">portno</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e369 d78385e332 ">
                                       <p>Port number</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e377" headers="d78385e329 ">
                                       <p><code class="codeph">driver</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e377 d78385e332 ">
                                       <p>JDBC driver type</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e385" headers="d78385e329 ">
                                       <p><code class="codeph">type</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e385 d78385e332 ">
                                       <p>Connection factory type (<code class="codeph">QUEUE</code> or <code class="codeph">TOPIC</code>)
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>The database connection passed to <code class="codeph">registerConnectionFactory</code> must be granted <code class="codeph">AQ_ADMINISTRATOR_ROLE</code>. After registration, you can look up the connection factory using <a href="glossary.html#GUID-73476CA0-7AD9-41B9-97E6-7A34F0D4161F"><span class="xrefglossterm">Java Naming and Directory Interface</span></a> (JNDI).
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-B05B8B15-C664-4BC5-A134-BAFFAF4E65EC__GUID-51558DD1-7D10-4FC6-987A-2FDD2B96C69E">
                        <p class="titleinexample">Example 12-1 Registering Through the Database Using JDBC Connection Parameters</p><pre class="oac_no_warn" dir="ltr">String               url;
java.sql.connection  db_conn;

url = "jdbc:oracle:thin:@sun-123:1521:db1";
db_conn = DriverManager.getConnection(url, "scott", "tiger");
AQjmsFactory.registerConnectionFactory(
   db_conn, "queue_conn1", "sun-123", "db1", 1521, "thin", "queue");</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2940"></a><a id="ADQUE2939"></a><div class="props_rev_3"><a id="GUID-63C09F7B-EC9F-4509-8B52-9C41FA220A7B" name="GUID-63C09F7B-EC9F-4509-8B52-9C41FA220A7B"></a><h4 id="ADQUE-GUID-63C09F7B-EC9F-4509-8B52-9C41FA220A7B" class="sect4"><span class="enumeration_section">12.2.2 </span>Registering Through the Database Using a JDBC URL
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public static int registerConnectionFactory(java.sql.Connection connection,
                                            java.lang.String conn_name,
                                            java.lang.String jdbc_url,
                                            java.util.Properties info,
                                            java.lang.String type)
                                     throws JMSException
</pre><p>This method registers a <code class="codeph">QueueConnectionFactory</code> or TopicConnectionFactory through the database with a JDBC URL to LDAP. It is static and has the following parameters:
                        </p>
                        <div class="tblformal" id="GUID-63C09F7B-EC9F-4509-8B52-9C41FA220A7B__GUID-96F5E9A8-166D-4217-8D8A-D6F1A5FDE085">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e507">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e510">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e515" headers="d78385e507 ">
                                       <p><code class="codeph">connection</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e515 d78385e510 ">
                                       <p>JDBC connection used in registration</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e523" headers="d78385e507 ">
                                       <p><code class="codeph">conn_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e523 d78385e510 ">
                                       <p>Name of the connection to be registered</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e531" headers="d78385e507 ">
                                       <p><code class="codeph">jdbc_url</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e531 d78385e510 ">
                                       <p>URL to connect to</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e539" headers="d78385e507 ">
                                       <p><code class="codeph">info</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e539 d78385e510 ">
                                       <p>Properties information</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e547" headers="d78385e507 ">
                                       <p><code class="codeph">portno</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e547 d78385e510 ">
                                       <p>Port number</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e555" headers="d78385e507 ">
                                       <p><code class="codeph">type</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e555 d78385e510 ">
                                       <p>Connection factory type (<code class="codeph">QUEUE</code> or <code class="codeph">TOPIC</code>)
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p><a id="d78385e569" class="indexterm-anchor"></a><a id="d78385e573" class="indexterm-anchor"></a><a id="d78385e577" class="indexterm-anchor"></a>The database connection passed to <code class="codeph">registerConnectionFactory</code> must be granted <code class="codeph">AQ_ADMINISTRATOR_ROLE</code>. After registration, you can look up the connection factory using JNDI.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-63C09F7B-EC9F-4509-8B52-9C41FA220A7B__GUID-35985DC7-913A-4774-A20A-E2D41B916EB2">
                        <p class="titleinexample">Example 12-2 Registering Through the Database Using a JDBC URL</p><pre class="oac_no_warn" dir="ltr">String                        url;
java.sql.connection           db_conn;

url = "jdbc:oracle:thin:@sun-123:1521:db1";
db_conn = DriverManager.getConnection(url, "scott", "tiger");
AQjmsFactory.registerConnectionFactory(
   db_conn, "topic_conn1", url, null, "topic");</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2942"></a><a id="ADQUE2941"></a><div class="props_rev_3"><a id="GUID-6ADF431B-AEEF-41FD-86DA-D0733E1BB751" name="GUID-6ADF431B-AEEF-41FD-86DA-D0733E1BB751"></a><h4 id="ADQUE-GUID-6ADF431B-AEEF-41FD-86DA-D0733E1BB751" class="sect4"><span class="enumeration_section">12.2.3 </span>Registering Through LDAP Using JDBC Connection Parameters 
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public static int registerConnectionFactory(java.util.Hashtable env,
                                            java.lang.String conn_name,
                                            java.lang.String hostname,
                                            java.lang.String oracle_sid,
                                            int portno,
                                            java.lang.String driver,
                                            java.lang.String type)
                                     throws JMSException
</pre><p>This method registers a <code class="codeph">QueueConnectionFactory</code> or TopicConnectionFactory through LDAP with JDBC connection parameters to LDAP. It is static and has the following parameters:
                        </p>
                        <div class="tblformal" id="GUID-6ADF431B-AEEF-41FD-86DA-D0733E1BB751__GUID-F8836CD9-E623-4FC3-83F0-A60747EE606C">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e682">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e685">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e690" headers="d78385e682 ">
                                       <p><code class="codeph">env</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e690 d78385e685 ">
                                       <p>Environment of LDAP connection</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e698" headers="d78385e682 ">
                                       <p><code class="codeph">conn_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e698 d78385e685 ">
                                       <p>Name of the connection to be registered</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e706" headers="d78385e682 ">
                                       <p><code class="codeph">hostname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e706 d78385e685 ">
                                       <p>Name of the host running Oracle Database Advanced Queuing</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e714" headers="d78385e682 ">
                                       <p><code class="codeph">oracle_sid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e714 d78385e685 ">
                                       <p>Oracle system identifier</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e722" headers="d78385e682 ">
                                       <p><code class="codeph">portno</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e722 d78385e685 ">
                                       <p>Port number</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e730" headers="d78385e682 ">
                                       <p><code class="codeph">driver</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e730 d78385e685 ">
                                       <p>JDBC driver type</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e738" headers="d78385e682 ">
                                       <p><code class="codeph">type</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e738 d78385e685 ">
                                       <p>Connection factory type (<code class="codeph">QUEUE</code> or <code class="codeph">TOPIC</code>)
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p><a id="d78385e752" class="indexterm-anchor"></a><a id="d78385e756" class="indexterm-anchor"></a><a id="d78385e760" class="indexterm-anchor"></a>The hash table passed to <code class="codeph">registerConnectionFactory()</code> must contain all the information to establish a valid connection to the LDAP server. Furthermore, the connection must have write access to the connection factory entries in the LDAP server (which requires the LDAP user to be either the database itself or be granted <code class="codeph">GLOBAL_AQ_USER_ROLE</code>). After registration, look up the connection factory using JNDI.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-6ADF431B-AEEF-41FD-86DA-D0733E1BB751__GUID-D0B36527-243B-403D-91CD-7FD936D31C62">
                        <p class="titleinexample">Example 12-3 Registering Through LDAP Using JDBC Connection Parameters</p><pre class="oac_no_warn" dir="ltr">Hashtable            env = new Hashtable(5, 0.75f);
/* the following statements set in hashtable env:
   * service provider package
   * the URL of the ldap server
   * the distinguished name of the database server
   * the authentication method (simple)
   * the LDAP username
   * the LDAP user password
*/
env.put(Context.INITIAL_CONTEXT_FACTORY, "com.sun.jndi.ldap.LdapCtxFactory");
env.put(Context.PROVIDER_URL, "ldap://sun-456:389");
env.put("searchbase", "cn=db1,cn=Oraclecontext,cn=acme,cn=com");
env.put(Context.SECURITY_AUTHENTICATION, "simple");
env.put(Context.SECURITY_PRINCIPAL, "cn=db1aqadmin,cn=acme,cn=com");
env.put(Context.SECURITY_CREDENTIALS, "welcome");

AQjmsFactory.registerConnectionFactory(env, 
                                       "queue_conn1", 
                                       "sun-123",
                                       "db1", 
                                       1521, 
                                       "thin", 
                                       "queue");</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2944"></a><a id="ADQUE2943"></a><div class="props_rev_3"><a id="GUID-27A881D3-1755-4CF6-8288-607A8DE62C2B" name="GUID-27A881D3-1755-4CF6-8288-607A8DE62C2B"></a><h4 id="ADQUE-GUID-27A881D3-1755-4CF6-8288-607A8DE62C2B" class="sect4"><span class="enumeration_section">12.2.4 </span>Registering Through LDAP Using a JDBC URL
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public static int registerConnectionFactory(java.util.Hashtable env,
                                            java.lang.String conn_name,
                                            java.lang.String jdbc_url,
                                            java.util.Properties info,
                                            java.lang.String type)
                                     throws JMSException
</pre><p>This method registers a <code class="codeph">QueueConnectionFactory</code> or TopicConnectionFactory through LDAP with JDBC connection parameters to LDAP. It is static and has the following parameters:
                        </p>
                        <div class="tblformal" id="GUID-27A881D3-1755-4CF6-8288-607A8DE62C2B__GUID-5030AF3B-7578-4203-AE1F-BFE35ECB2574">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e868">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e871">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e876" headers="d78385e868 ">
                                       <p><code class="codeph">env</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e876 d78385e871 ">
                                       <p>Environment of LDAP connection</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e884" headers="d78385e868 ">
                                       <p><code class="codeph">conn_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e884 d78385e871 ">
                                       <p>Name of the connection to be registered</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e892" headers="d78385e868 ">
                                       <p><code class="codeph">jdbc_url</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e892 d78385e871 ">
                                       <p>URL to connect to</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e900" headers="d78385e868 ">
                                       <p>info</p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e900 d78385e871 ">
                                       <p>Properties information</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e907" headers="d78385e868 ">
                                       <p><code class="codeph">type</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e907 d78385e871 ">
                                       <p>Connection factory type (<code class="codeph">QUEUE</code> or <code class="codeph">TOPIC</code>)
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>The hash table passed to <code class="codeph">registerConnectionFactory()</code> must contain all the information to establish a valid connection to the LDAP server. Furthermore, the connection must have write access to the connection factory entries in the LDAP server (which requires the LDAP user to be either the database itself or be granted <code class="codeph">GLOBAL_AQ_USER_ROLE)</code>. After registration, look up the connection factory using JNDI.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-27A881D3-1755-4CF6-8288-607A8DE62C2B__GUID-B85D2DA7-0D60-4E4E-BB54-C0DF68C3BDE4">
                        <p class="titleinexample">Example 12-4 Registering Through LDAP Using a JDBC URL</p><pre class="oac_no_warn" dir="ltr">String               url;
Hashtable            env = new Hashtable(5, 0.75f);

/* the following statements set in hashtable env:
   * service provider package
   * the URL of the ldap server
   * the distinguished name of the database server
   * the authentication method (simple)
   * the LDAP username
   * the LDAP user password
*/
env.put(Context.INITIAL_CONTEXT_FACTORY, "com.sun.jndi.ldap.LdapCtxFactory");
env.put(Context.PROVIDER_URL, "ldap://sun-456:389");
env.put("searchbase", "cn=db1,cn=Oraclecontext,cn=acme,cn=com");
env.put(Context.SECURITY_AUTHENTICATION, "simple");
env.put(Context.SECURITY_PRINCIPAL, "cn=db1aqadmin,cn=acme,cn=com");
env.put(Context.SECURITY_CREDENTIALS, "welcome");
url = "jdbc:oracle:thin:@sun-123:1521:db1";
AQjmsFactory.registerConnectionFactory(env, "topic_conn1", url, null, "topic");</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="ADQUE2945"></a><div class="props_rev_3"><a id="GUID-46B979D5-6D78-483D-AF29-B1D2DBAF9B19" name="GUID-46B979D5-6D78-483D-AF29-B1D2DBAF9B19"></a><h3 id="ADQUE-GUID-46B979D5-6D78-483D-AF29-B1D2DBAF9B19" class="sect3"><span class="enumeration_section">12.3 </span>Unregistering a Queue/Topic ConnectionFactory
               </h3>
               <div>
                  <div class="section">
                     <p>You can unregister a queue/topic <code class="codeph">ConnectionFactory</code> in LDAP two ways:
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="jms-basic-operation.html#GUID-54F0C563-919E-4AB6-B852-A9E06614732D">Unregistering Through the Database</a></p>
                        </li>
                        <li>
                           <p><a href="jms-basic-operation.html#GUID-23ECDDCA-FC09-4536-B8CD-B8FD3559AB0B">Unregistering Through LDAP</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADQUE2947"></a><a id="ADQUE2946"></a><div class="props_rev_3"><a id="GUID-54F0C563-919E-4AB6-B852-A9E06614732D" name="GUID-54F0C563-919E-4AB6-B852-A9E06614732D"></a><h4 id="ADQUE-GUID-54F0C563-919E-4AB6-B852-A9E06614732D" class="sect4"><span class="enumeration_section">12.3.1 </span>Unregistering Through the Database
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public static int unregisterConnectionFactory(java.sql.Connection connection,
                                              java.lang.String conn_name)
                                       throws JMSException
</pre><p>This method unregisters a <code class="codeph">QueueConnectionFactory</code> or <code class="codeph">TopicConnectionFactory</code> in LDAP. It is static and has the following parameters:
                        </p>
                        <div class="tblformal" id="GUID-54F0C563-919E-4AB6-B852-A9E06614732D__GUID-2DC684E6-4461-45EF-8328-1F3B00991342">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e1092">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e1095">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e1100" headers="d78385e1092 ">
                                       <p><code class="codeph">connection</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e1100 d78385e1095 ">
                                       <p>JDBC connection used in registration</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e1108" headers="d78385e1092 ">
                                       <p><code class="codeph">conn_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e1108 d78385e1095 ">
                                       <p>Name of the connection to be registered</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>The database connection passed to <code class="codeph">unregisterConnectionFactory()</code> must be granted <code class="codeph">AQ_ADMINISTRATOR_ROLE</code>. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-54F0C563-919E-4AB6-B852-A9E06614732D__GUID-83092A18-4582-4898-93CB-A78EE1247E78">
                        <p class="titleinexample">Example 12-5 Unregistering Through the Database</p><pre class="oac_no_warn" dir="ltr">String               url;
java.sql.connection  db_conn;

url = "jdbc:oracle:thin:@sun-123:1521:db1";
db_conn = DriverManager.getConnection(url, "scott", "tiger");
AQjmsFactory.unregisterConnectionFactory(db_conn, "topic_conn1");</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2949"></a><a id="ADQUE2948"></a><div class="props_rev_3"><a id="GUID-23ECDDCA-FC09-4536-B8CD-B8FD3559AB0B" name="GUID-23ECDDCA-FC09-4536-B8CD-B8FD3559AB0B"></a><h4 id="ADQUE-GUID-23ECDDCA-FC09-4536-B8CD-B8FD3559AB0B" class="sect4"><span class="enumeration_section">12.3.2 </span>Unregistering Through LDAP
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public static int unregisterConnectionFactory(java.util.Hashtable env,
                                              java.lang.String conn_name)
                                       throws JMSException
</pre><p>This method unregisters a <code class="codeph">QueueConnectionFactory</code> or TopicConnectionFactory in LDAP. It is static and has the following parameters:
                        </p>
                        <div class="tblformal" id="GUID-23ECDDCA-FC09-4536-B8CD-B8FD3559AB0B__GUID-4B933D40-1058-48C6-AA64-EE836B1E1F47">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e1218">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e1221">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e1226" headers="d78385e1218 ">
                                       <p><code class="codeph">env</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e1226 d78385e1221 ">
                                       <p>Environment of LDAP connection</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e1234" headers="d78385e1218 ">
                                       <p><code class="codeph">conn_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e1234 d78385e1221 ">
                                       <p>Name of the connection to be registered</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>The hash table passed to <code class="codeph">unregisterConnectionFactory()</code> must contain all the information to establish a valid connection to the LDAP server. Furthermore, the connection must have write access to the connection factory entries in the LDAP server (which requires the LDAP user to be either the database itself or be granted <code class="codeph">GLOBAL_AQ_USER_ROLE</code>).
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-23ECDDCA-FC09-4536-B8CD-B8FD3559AB0B__GUID-21DB945E-8024-4EE5-802B-AF30B03008F5">
                        <p class="titleinexample">Example 12-6 Unregistering Through LDAP</p><pre class="oac_no_warn" dir="ltr">Hashtable            env = new Hashtable(5, 0.75f);

/* the following statements set in hashtable env:
   * service provider package
   * the distinguished name of the database server
   * the authentication method (simple)
   * the LDAP username
   * the LDAP user password
*/
env.put(Context.INITIAL_CONTEXT_FACTORY, "com.sun.jndi.ldap.LdapCtxFactory");
env.put(Context.PROVIDER_URL, "ldap://sun-456:389");
env.put("searchbase", "cn=db1,cn=Oraclecontext,cn=acme,cn=com");
env.put(Context.SECURITY_AUTHENTICATION, "simple");
env.put(Context.SECURITY_PRINCIPAL, "cn=db1aqadmin,cn=acme,cn=com");
env.put(Context.SECURITY_CREDENTIALS, "welcome");
url = "jdbc:oracle:thin:@sun-123:1521:db1";
AQjmsFactory.unregisterConnectionFactory(env, "queue_conn1");</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="ADQUE2950"></a><div class="props_rev_3"><a id="GUID-584FEE3F-7C94-4EC4-8500-128D47BFDA74" name="GUID-584FEE3F-7C94-4EC4-8500-128D47BFDA74"></a><h3 id="ADQUE-GUID-584FEE3F-7C94-4EC4-8500-128D47BFDA74" class="sect3"><span class="enumeration_section">12.4 </span>Getting a QueueConnectionFactory or TopicConnectionFactory
               </h3>
               <div>
                  <div class="section">
                     <p>This section contains these topics:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="jms-basic-operation.html#GUID-3C6BB70B-A655-4EDC-BA2B-11137CD64177">Getting a QueueConnectionFactory with JDBC URL</a></p>
                        </li>
                        <li>
                           <p><a href="jms-basic-operation.html#GUID-5F834FCA-61D5-4530-9824-CDEFDD025E3B">Getting a QueueConnectionFactory with JDBC Connection Parameters</a></p>
                        </li>
                        <li>
                           <p><a href="jms-basic-operation.html#GUID-B7BE60B5-CA40-43AC-800F-AAF54B944454">Getting a TopicConnectionFactory with JDBC URL</a></p>
                        </li>
                        <li>
                           <p><a href="jms-basic-operation.html#GUID-B80C7CFE-7821-4093-A49E-A6268D3988F4">Getting a TopicConnectionFactory with JDBC Connection Parameters</a></p>
                        </li>
                        <li>
                           <p><a href="jms-basic-operation.html#GUID-03035D18-B86B-49B1-A204-F985E27AF491">Getting a QueueConnectionFactory or TopicConnectionFactory in LDAP</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADQUE2952"></a><a id="ADQUE2951"></a><div class="props_rev_3"><a id="GUID-3C6BB70B-A655-4EDC-BA2B-11137CD64177" name="GUID-3C6BB70B-A655-4EDC-BA2B-11137CD64177"></a><h4 id="ADQUE-GUID-3C6BB70B-A655-4EDC-BA2B-11137CD64177" class="sect4"><span class="enumeration_section">12.4.1 </span>Getting a QueueConnectionFactory with JDBC URL
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public static javax.jms.QueueConnectionFactory getQueueConnectionFactory(
              java.lang.String jdbc_url,
              java.util.Properties info)
       throws JMSException
</pre><p>This method gets a <code class="codeph">QueueConnectionFactory</code> with JDBC URL. It is static and has the following parameters:
                        </p>
                        <div class="tblformal" id="GUID-3C6BB70B-A655-4EDC-BA2B-11137CD64177__GUID-A8B7D6CF-51C7-4FBD-9B9D-01FAACFA0559">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e1413">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e1416">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e1421" headers="d78385e1413 ">
                                       <p><code class="codeph">jdbc_url</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e1421 d78385e1416 ">
                                       <p>URL to connect to</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e1429" headers="d78385e1413 ">
                                       <p>info</p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e1429 d78385e1416 ">
                                       <p>Properties information</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-3C6BB70B-A655-4EDC-BA2B-11137CD64177__GUID-28D6670A-A1C5-46C0-BEE3-C01327AA8E0E">
                        <p class="titleinexample">Example 12-7 Getting a QueueConnectionFactory with JDBC URL</p><pre class="oac_no_warn" dir="ltr"> String      url          = "jdbc:oracle:oci10:internal/oracle"
 Properties  info         = new Properties();
 QueueConnectionFactory   qc_fact;

 info.put("internal_logon", "sysdba");
 qc_fact = AQjmsFactory.getQueueConnectionFactory(url, info);</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2954"></a><a id="ADQUE2953"></a><div class="props_rev_3"><a id="GUID-5F834FCA-61D5-4530-9824-CDEFDD025E3B" name="GUID-5F834FCA-61D5-4530-9824-CDEFDD025E3B"></a><h4 id="ADQUE-GUID-5F834FCA-61D5-4530-9824-CDEFDD025E3B" class="sect4"><span class="enumeration_section">12.4.2 </span>Getting a QueueConnectionFactory with JDBC Connection Parameters
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public static javax.jms.QueueConnectionFactory getQueueConnectionFactory(
              java.lang.String hostname,
              java.lang.String oracle_sid,
              int portno,
              java.lang.String driver)
       throws JMSException
</pre><p>This method gets a <code class="codeph">QueueConnectionFactory</code> with JDBC connection parameters. It is static and has the following parameters:
                        </p>
                        <div class="tblformal" id="GUID-5F834FCA-61D5-4530-9824-CDEFDD025E3B__GUID-C147AAA7-BB51-4E87-AE40-9FF1D0F0E161">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e1512">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e1515">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e1520" headers="d78385e1512 ">
                                       <p><code class="codeph">hostname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e1520 d78385e1515 ">
                                       <p>Name of the host running Oracle Database Advanced Queuing</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e1528" headers="d78385e1512 ">
                                       <p><code class="codeph">oracle_sid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e1528 d78385e1515 ">
                                       <p>Oracle system identifier</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e1536" headers="d78385e1512 ">
                                       <p><code class="codeph">portno</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e1536 d78385e1515 ">
                                       <p>Port number</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e1544" headers="d78385e1512 ">
                                       <p><code class="codeph">driver</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e1544 d78385e1515 ">
                                       <p>JDBC driver type</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-5F834FCA-61D5-4530-9824-CDEFDD025E3B__GUID-81C1D1C2-0964-48F1-9FA9-659E6F3A65FC">
                        <p class="titleinexample">Example 12-8 Getting a QueueConnectionFactory with JDBC Connection Parameters</p><pre class="oac_no_warn" dir="ltr"> String      host         = "dlsun";
 String      ora_sid      = "rdbms10i"
 String      driver       = "thin";
 int         port         = 5521;
 QueueConnectionFactory   qc_fact;

 qc_fact = AQjmsFactory.getQueueConnectionFactory(host, ora_sid, port, driver);</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2956"></a><a id="ADQUE2955"></a><div class="props_rev_3"><a id="GUID-B7BE60B5-CA40-43AC-800F-AAF54B944454" name="GUID-B7BE60B5-CA40-43AC-800F-AAF54B944454"></a><h4 id="ADQUE-GUID-B7BE60B5-CA40-43AC-800F-AAF54B944454" class="sect4"><span class="enumeration_section">12.4.3 </span>Getting a TopicConnectionFactory with JDBC URL
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public static javax.jms.QueueConnectionFactory getQueueConnectionFactory(
              java.lang.String jdbc_url,
              java.util.Properties info)
       throws JMSException
</pre><p>This method gets a <code class="codeph">TopicConnectionFactory</code> with a JDBC URL. It is static and has the following parameters:
                        </p>
                        <div class="tblformal" id="GUID-B7BE60B5-CA40-43AC-800F-AAF54B944454__GUID-C2D18EE2-0C45-4748-8873-F4D9BC0E1C08">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e1631">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e1634">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e1639" headers="d78385e1631 ">
                                       <p><code class="codeph">jdbc_url</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e1639 d78385e1634 ">
                                       <p>URL to connect to</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e1647" headers="d78385e1631 ">
                                       <p>info</p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e1647 d78385e1634 ">
                                       <p>Properties information</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-B7BE60B5-CA40-43AC-800F-AAF54B944454__GUID-42409D94-EBEC-406E-9692-060589366A17">
                        <p class="titleinexample">Example 12-9 Getting a TopicConnectionFactory with JDBC URL</p><pre class="oac_no_warn" dir="ltr"> String      url          = "jdbc:oracle:oci10:internal/oracle"
 Properties  info         = new Properties();
 TopicConnectionFactory   tc_fact;

 info.put("internal_logon", "sysdba");
 tc_fact = AQjmsFactory.getTopicConnectionFactory(url, info);</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2958"></a><a id="ADQUE2957"></a><div class="props_rev_3"><a id="GUID-B80C7CFE-7821-4093-A49E-A6268D3988F4" name="GUID-B80C7CFE-7821-4093-A49E-A6268D3988F4"></a><h4 id="ADQUE-GUID-B80C7CFE-7821-4093-A49E-A6268D3988F4" class="sect4"><span class="enumeration_section">12.4.4 </span>Getting a TopicConnectionFactory with JDBC Connection Parameters
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public static javax.jms.TopicConnectionFactory getTopicConnectionFactory(
              java.lang.String hostname,
              java.lang.String oracle_sid,
              int portno,
              java.lang.String driver)
       throws JMSException
</pre><p>This method gets a <code class="codeph">TopicConnectionFactory</code> with JDBC connection parameters. It is static and has the following parameters:
                        </p>
                        <div class="tblformal" id="GUID-B80C7CFE-7821-4093-A49E-A6268D3988F4__GUID-A2F81B94-8C2B-4B58-9E0D-9D6DC3BF3922">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e1732">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e1735">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e1740" headers="d78385e1732 ">
                                       <p><code class="codeph">hostname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e1740 d78385e1735 ">
                                       <p>Name of the host running Oracle Database Advanced Queuing</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e1748" headers="d78385e1732 ">
                                       <p><code class="codeph">oracle_sid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e1748 d78385e1735 ">
                                       <p>Oracle system identifier</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e1756" headers="d78385e1732 ">
                                       <p><code class="codeph">portno</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e1756 d78385e1735 ">
                                       <p>Port number</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e1764" headers="d78385e1732 ">
                                       <p><code class="codeph">driver</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e1764 d78385e1735 ">
                                       <p>JDBC driver type</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-B80C7CFE-7821-4093-A49E-A6268D3988F4__GUID-19E0781F-6B26-49B5-90B2-3D3B79488D56">
                        <p class="titleinexample">Example 12-10 Getting a TopicConnectionFactory with JDBC Connection Parameters</p><pre class="oac_no_warn" dir="ltr">String      host         = "dlsun";
String      ora_sid      = "rdbms10i"
String      driver       = "thin";
int         port         = 5521;
TopicConnectionFactory   tc_fact;

tc_fact = AQjmsFactory.getTopicConnectionFactory(host, ora_sid, port, driver);</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2960"></a><a id="ADQUE2959"></a><div class="props_rev_3"><a id="GUID-03035D18-B86B-49B1-A204-F985E27AF491" name="GUID-03035D18-B86B-49B1-A204-F985E27AF491"></a><h4 id="ADQUE-GUID-03035D18-B86B-49B1-A204-F985E27AF491" class="sect4"><span class="enumeration_section">12.4.5 </span>Getting a QueueConnectionFactory or TopicConnectionFactory in LDAP
                  </h4>
                  <div>
                     <div class="section">
                        <p>This method gets a <code class="codeph">QueueConnectionFactory</code> or <code class="codeph">TopicConnectionFactory</code> from LDAP.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-03035D18-B86B-49B1-A204-F985E27AF491__GUID-21D83AA0-16E9-4B1E-9E86-4BBBC5C943B0">
                        <p class="titleinexample">Example 12-11 Getting a QueueConnectionFactory or TopicConnectionFactory in LDAP</p><pre class="oac_no_warn" dir="ltr">Hashtable              env = new Hashtable(5, 0.75f);
DirContext             ctx;
queueConnectionFactory qc_fact;

/* the following statements set in hashtable env:
   * service provider package
   * the URL of the ldap server
   * the distinguished name of the database server
   * the authentication method (simple)
   * the LDAP username
   * the LDAP user password
*/
env.put(Context.INITIAL_CONTEXT_FACTORY, "com.sun.jndi.ldap.LdapCtxFactory");
env.put(Context.PROVIDER_URL, "ldap://sun-456:389");
env.put(Context.SECURITY_AUTHENTICATION, "simple");
env.put(Context.SECURITY_PRINCIPAL, "cn=db1aquser1,cn=acme,cn=com");
env.put(Context.SECURITY_CREDENTIALS, "welcome");

ctx = new InitialDirContext(env);
ctx = (DirContext)ctx.lookup("cn=OracleDBConnections,cn=db1,cn=Oraclecontext,cn=acme,cn=com");
qc_fact = (queueConnectionFactory)ctx.lookup("cn=queue_conn1");</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="ADQUE2962"></a><a id="ADQUE2961"></a><div class="props_rev_3"><a id="GUID-2F381380-8A18-40CB-918B-70544AB610CA" name="GUID-2F381380-8A18-40CB-918B-70544AB610CA"></a><h3 id="ADQUE-GUID-2F381380-8A18-40CB-918B-70544AB610CA" class="sect3"><span class="enumeration_section">12.5 </span>Getting a Queue or Topic in LDAP
               </h3>
               <div>
                  <div class="section">
                     <p>This method gets a queue or topic from LDAP.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-2F381380-8A18-40CB-918B-70544AB610CA__GUID-F9D198B9-2CC2-41BF-A911-4208E8A46D06">
                     <p class="titleinexample">Example 12-12 Getting a Queue or Topic in LDAP</p><pre class="oac_no_warn" dir="ltr">Hashtable              env = new Hashtable(5, 0.75f);
DirContext             ctx;
topic                  topic_1;

/* the following statements set in hashtable env:
   * service provider package
   * the URL of the ldap server
   * the distinguished name of the database server
   * the authentication method (simple)
   * the LDAP username
   * the LDAP user password
*/
env.put(Context.INITIAL_CONTEXT_FACTORY, "com.sun.jndi.ldap.LdapCtxFactory");
env.put(Context.PROVIDER_URL, "ldap://sun-456:389");
env.put(Context.SECURITY_AUTHENTICATION, "simple");
env.put(Context.SECURITY_PRINCIPAL, "cn=db1aquser1,cn=acme,cn=com");
env.put(Context.SECURITY_CREDENTIALS, "welcome");

ctx = new InitialDirContext(env);
ctx = (DirContext)ctx.lookup("cn=OracleDBQueues,cn=db1,cn=Oraclecontext,cn=acme,cn=com");
topic_1 = (topic)ctx.lookup("cn=topic_1");</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE2964"></a><a id="ADQUE2963"></a><div class="props_rev_3"><a id="GUID-CAE40CF5-1060-45AE-96A0-8FB7016D038E" name="GUID-CAE40CF5-1060-45AE-96A0-8FB7016D038E"></a><h3 id="ADQUE-GUID-CAE40CF5-1060-45AE-96A0-8FB7016D038E" class="sect3"><span class="enumeration_section">12.6 </span>Creating a Non-Sharded Queue Table
               </h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public oracle.AQ.AQQueueTable createQueueTable(
                 java.lang.String owner,
                 java.lang.String name,
                 oracle.AQ.AQQueueTableProperty property)
          throws JMSException
</pre><p>This method creates a <a href="glossary.html#GUID-45894F1F-4871-4A00-9171-2743821BAD3A"><span class="xrefglossterm">queue table</span></a>. It has the following parameters:
                     </p>
                     <div class="tblformal" id="GUID-CAE40CF5-1060-45AE-96A0-8FB7016D038E__GUID-6C77926E-2E43-4E59-96AD-7B18216DF47C">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d78385e2020">Parameter</th>
                                 <th align="left" valign="bottom" width="76%" id="d78385e2023">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d78385e2028" headers="d78385e2020 ">
                                    <p><code class="codeph">owner</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d78385e2028 d78385e2023 ">
                                    <p>Queue table owner (<a href="glossary.html#GUID-CBE1EC43-DFD2-4701-B758-DCE2C98C277A"><span class="xrefglossterm">schema</span></a>)
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d78385e2040" headers="d78385e2020 ">
                                    <p>name</p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d78385e2040 d78385e2023 ">
                                    <p>Queue table name</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d78385e2047" headers="d78385e2020 ">
                                    <p>property</p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d78385e2047 d78385e2023 ">
                                    <p>Queue table properties</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>If the queue table is used to hold queues, then the queue table must not be multiconsumer enabled (default). If the queue table is used to hold topics, then the queue table must be multiconsumer enabled.</p>
                     <p><a href="glossary.html#GUID-6A19CAEE-F2E5-435D-B582-2ECB47FD4D06"><span class="xrefglossterm">CLOB</span></a>, <a href="glossary.html#GUID-A62D4CF7-C903-40B3-89DC-0D6E4233D7C9"><span class="xrefglossterm">BLOB</span></a>, and <a href="glossary.html#GUID-A8B4B248-A9A3-462C-A52B-517BCFAEE0ED"><span class="xrefglossterm">BFILE</span></a> objects are valid attributes for an Oracle Database Advanced Queuing <a href="glossary.html#GUID-5A1E34E2-9B71-497D-879B-E355EDCF7108"><span class="xrefglossterm">object type</span></a> load. However, only CLOB and BLOB can be propagated using Oracle Database Advanced Queuing <a href="glossary.html#GUID-DE5B852F-823C-4DC8-B6BB-4825D688A00A"><span class="xrefglossterm">propagation</span></a> in Oracle8<span class="italic">i</span> and after.
                     </p>
                     <div class="infoboxnote" id="GUID-CAE40CF5-1060-45AE-96A0-8FB7016D038E__GUID-077D28C3-32A5-4316-938F-7682683C227D">
                        <p class="notep1">Note:</p>
                        <p>Currently JMS Sharded Queues can be created and dropped only through the <code class="codeph">DBMS_AQADM</code> PL/SQL APIs.
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-CAE40CF5-1060-45AE-96A0-8FB7016D038E__GUID-810C1B17-91C8-4A7E-B6D3-BECD5C085CBA">
                     <p class="titleinexample">Example 12-13 Creating a Queue Table</p><pre class="oac_no_warn" dir="ltr">QueueSession              q_sess    = null;
AQQueueTable              q_table   = null;
AQQueueTableProperty      qt_prop   = null;

qt_prop = new AQQueueTableProperty("SYS.AQ$_JMS_BYTES_MESSAGE");
q_table = ((AQjmsSession)q_sess).createQueueTable(
    "boluser", "bol_ship_queue_table", qt_prop);</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE2967"></a><div class="props_rev_3"><a id="GUID-C5773BA3-31DD-4860-B894-579F97C4581D" name="GUID-C5773BA3-31DD-4860-B894-579F97C4581D"></a><h3 id="ADQUE-GUID-C5773BA3-31DD-4860-B894-579F97C4581D" class="sect3"><span class="enumeration_section">12.7 </span>Creating a Queue
               </h3>
               <div>
                  <p>This section contains these topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="jms-basic-operation.html#GUID-7FBF80A4-ABD8-47FD-AAC4-EF17C732A12E">Creating a Point-to-Point Queue</a></p>
                     </li>
                     <li>
                        <p><a href="jms-basic-operation.html#GUID-B484260C-4585-4FD0-954F-7D32B80A3DB3">Creating a Publish/Subscribe Topic</a></p>
                     </li>
                     <li>
                        <p><a href="jms-basic-operation.html#GUID-FC3FA789-8ECD-4259-A9F5-AD3BB3A6F48E">Creating a Sharded Queue for Point-to-Point Queue and Publish/Subscribe Topic</a></p>
                     </li>
                  </ul>
               </div><a id="ADQUE2969"></a><a id="ADQUE2968"></a><div class="props_rev_3"><a id="GUID-7FBF80A4-ABD8-47FD-AAC4-EF17C732A12E" name="GUID-7FBF80A4-ABD8-47FD-AAC4-EF17C732A12E"></a><h4 id="ADQUE-GUID-7FBF80A4-ABD8-47FD-AAC4-EF17C732A12E" class="sect4"><span class="enumeration_section">12.7.1 </span>Creating a Point-to-Point Queue
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public javax.jms.Queue createQueue(
             oracle.AQ.AQQueueTable q_table,
             java.lang.String queue_name,
             oracle.jms.AQjmsDestinationProperty dest_property)
      throws JMSException
</pre><p>This method creates a queue in a specified queue table. It has the following parameters:</p>
                        <div class="tblformal" id="GUID-7FBF80A4-ABD8-47FD-AAC4-EF17C732A12E__GUID-29378977-5F78-49AC-84C9-C2490ADD7DDE">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e2237">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e2240">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e2245" headers="d78385e2237 ">
                                       <p><code class="codeph">q_table</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e2245 d78385e2240 ">
                                       <p>Queue table in which the queue is to be created. The queue table must be single-consumer.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e2253" headers="d78385e2237 ">
                                       <p><code class="codeph">queue_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e2253 d78385e2240 ">
                                       <p>Name of the queue to be created</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e2261" headers="d78385e2237 ">
                                       <p><code class="codeph">dest_property</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e2261 d78385e2240 ">
                                       <p>Queue properties</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>This method is specific to Oracle JMS. You cannot use standard Java <code class="codeph">javax.jms.Session</code> objects with it. Instead, you must cast the standard type to the Oracle JMS concrete class <code class="codeph">oracle.jms.AQjmsSession</code>. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-7FBF80A4-ABD8-47FD-AAC4-EF17C732A12E__GUID-90EADA94-A112-4902-B126-86517492638D">
                        <p class="titleinexample">Example 12-14 Creating a Point-to-Point Queue</p><pre class="oac_no_warn" dir="ltr">QueueSession             q_sess;
AQQueueTable             q_table;
AqjmsDestinationProperty dest_prop;
Queue                    queue;

queue = ((AQjmsSession)q_sess).createQueue(q_table, "jms_q1", dest_prop);</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2971"></a><a id="ADQUE2972"></a><a id="ADQUE2970"></a><div class="props_rev_3"><a id="GUID-B484260C-4585-4FD0-954F-7D32B80A3DB3" name="GUID-B484260C-4585-4FD0-954F-7D32B80A3DB3"></a><h4 id="ADQUE-GUID-B484260C-4585-4FD0-954F-7D32B80A3DB3" class="sect4"><span class="enumeration_section">12.7.2 </span>Creating a Publish/Subscribe Topic
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public javax.jms.Topic createTopic(
             oracle.AQ.AQQueueTable q_table,
             java.lang.String topic_name,
             oracle.jms.AQjmsDestinationProperty dest_property)
      throws JMSException
</pre><p>This method creates a topic in the <a href="glossary.html#GUID-C1099A1A-C20D-4C9C-AD73-BBF6BC8939B5"><span class="xrefglossterm">publish/subscribe</span></a> model. It has the following parameters:
                        </p>
                        <div class="tblformal" id="GUID-B484260C-4585-4FD0-954F-7D32B80A3DB3__GUID-F76FAA7F-BD5A-418E-AFD6-760CB01B9943">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e2353">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e2356">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e2361" headers="d78385e2353 ">
                                       <p><code class="codeph">q_table</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e2361 d78385e2356 ">
                                       <p>Queue table in which the queue is to be created. The queue table must be multiconsumer.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e2369" headers="d78385e2353 ">
                                       <p><code class="codeph">queue_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e2369 d78385e2356 ">
                                       <p>Name of the queue to be created</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e2377" headers="d78385e2353 ">
                                       <p><code class="codeph">dest_property</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e2377 d78385e2356 ">
                                       <p>Queue properties</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>This method is specific to Oracle JMS. You cannot use standard Java <code class="codeph">javax.jms.Session</code> objects with it. Instead, you must cast the standard type to the Oracle JMS concrete class <code class="codeph">oracle.jms.AQjmsSession</code>. 
                        </p>
                        <p>In <a href="jms-basic-operation.html#GUID-B484260C-4585-4FD0-954F-7D32B80A3DB3__CHDIGCAE">Example 12-16</a>, if an order cannot be filled because of insufficient inventory, then the transaction processing the order is terminated. The <code class="codeph">bookedorders</code> topic is set up with <code class="codeph">max_retries</code> = 4 and <code class="codeph">retry_delay</code> = 12 hours.Thus, if an order is not filled up in two days, then it is moved to an exception queue.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-B484260C-4585-4FD0-954F-7D32B80A3DB3__GUID-EAD1FE4F-058B-493A-8C39-5FC4FB484189">
                        <p class="titleinexample">Example 12-15 Creating a Publish/Subscribe Topic</p><pre class="oac_no_warn" dir="ltr">TopicSession             t_sess;
AQQueueTable             q_table;
AqjmsDestinationProperty dest_prop;
Topic                    topic;

topic = ((AQjmsSessa)t_sess).createTopic(q_table, "jms_t1", dest_prop);
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-B484260C-4585-4FD0-954F-7D32B80A3DB3__CHDIGCAE">
                        <p class="titleinexample">Example 12-16 Specifying Max Retries and Max Delays in Messages</p><pre class="oac_no_warn" dir="ltr">public BolOrder process_booked_order(TopicSession jms_session)
  {
    Topic            topic;
    TopicSubscriber  tsubs;
    ObjectMessage    obj_message;
    BolCustomer      customer;
    BolOrder         booked_order = null;
    String           country;
    int              i = 0;

    try
    {
      /* get a handle to the OE_bookedorders_topic */
      topic = ((AQjmsSession)jms_session).getTopic("WS",
                                                   "WS_bookedorders_topic");

      /* Create local subscriber - to track messages for Western Region  */
      tsubs = jms_session.createDurableSubscriber(topic, "SUBS1",
                                       "Region = 'Western' ",
                                                   false);

       /* wait for a message to show up in the topic */
       obj_message = (ObjectMessage)tsubs.receive(10);

       booked_order = (BolOrder)obj_message.getObject();

       customer = booked_order.getCustomer();
       country    = customer.getCountry();

       if (country == "US")
       {
          jms_session.commit();
       }
       else
       {
          jms_session.rollback();
          booked_order = null;
       }
    }catch (JMSException ex)
    { System.out.println("Exception " + ex) ;}

     return booked_order;
   }</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-FC3FA789-8ECD-4259-A9F5-AD3BB3A6F48E" name="GUID-FC3FA789-8ECD-4259-A9F5-AD3BB3A6F48E"></a><h4 id="ADQUE-GUID-FC3FA789-8ECD-4259-A9F5-AD3BB3A6F48E" class="sect4"><span class="enumeration_section">12.7.3 </span>Creating a Sharded Queue for Point-to-Point Queue and Publish/Subscribe Topic
                  </h4>
                  <div>
                     <div class="section">
                        <p>AQ JMS has defined a new APIs to create and drop sharded queues. There is no alter queue API in JMS. The signatures are as follows:</p><pre class="oac_no_warn" dir="ltr">    /**
     * Create a JMS sharded queue. It also internally creates the related queue
     * objects (table, indexes) based on this name.
     *
     * @param queueName name of the queue to be created, format is <span class="italic">schema</span>.<span class="italic">queueName</span>
     *        (where the <span class="italic">schema</span>. is optional
     * @param isMultipleConsumer flag to indicate whether the queue is a
     *        multi-consumer or single-consumer queue
     * @return javax.jms.Destination
     * @throws JMSException if the queue could not be created
     */
    public synchronized javax.jms.Destination createJMSShardedQueue(String queueName,
            boolean isMultipleConsumer) throws JMSException {
        return createJMSShardedQueue(queueName, isMultipleConsumer, null, 0, null);
    }</pre><pre class="oac_no_warn" dir="ltr">
    /**
     * Create a JMS sharded queue. It also internally creates the related queue
     * objects (table, indexes) based on this name.
     *
     * @param queueName name of the queue to be created, format is <span class="italic">schema</span>.<span class="italic">queueName</span>
     *        (where the <span class="italic">schema</span>. is optional
     * @param isMultipleConsumer flag to indicate whether the queue is a
     *        multi-consumer or single-consumer queue
     * @param storageClause additional storage clause
     * @param maxRetries retry count before skip the message while dequeue
     * @param comment comment for the queue
     * @return javax.jms.Destination
     * @throws JMSException if the queue could not be created 
*/
public Destination createJMSShardedQueue(java.lang.String queueName,
                                         boolean isMultipleConsumer,
                                         java.lang.String storageClause,
                                         int maxRetries,
                                         java.lang.String comment)
                                  throws JMSException</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="ADQUE2966"></a><a id="ADQUE2965"></a><div class="props_rev_3"><a id="GUID-225E5EC1-1D99-432D-A031-5959005D953A" name="GUID-225E5EC1-1D99-432D-A031-5959005D953A"></a><h3 id="ADQUE-GUID-225E5EC1-1D99-432D-A031-5959005D953A" class="sect3"><span class="enumeration_section">12.8 </span>Getting a Non-Sharded Queue Table
               </h3>
               <div>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">public oracle.AQ.AQQueueTable getQueueTable(java.lang.String owner,
                                            java.lang.String name)
                                     throws JMSException
</pre><p>This method gets a queue table for a non-sharded queue. It has the following parameters:</p>
                     <div class="tblformal" id="GUID-225E5EC1-1D99-432D-A031-5959005D953A__GUID-F9E22AEA-2E6B-4F10-A39C-6C40DBB860A2">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d78385e2568">Parameter</th>
                                 <th align="left" valign="bottom" width="76%" id="d78385e2571">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d78385e2576" headers="d78385e2568 ">
                                    <p><code class="codeph">owner</code></p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d78385e2576 d78385e2571 ">
                                    <p>Queue table owner (<a href="glossary.html#GUID-CBE1EC43-DFD2-4701-B758-DCE2C98C277A"><span class="xrefglossterm">schema</span></a>)
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d78385e2588" headers="d78385e2568 ">
                                    <p>name</p>
                                 </td>
                                 <td align="left" valign="top" width="76%" headers="d78385e2588 d78385e2571 ">
                                    <p>Queue table name</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>If the caller that opened the connection is not the owner of the queue table, then the caller must have Oracle Database Advanced Queuing <a href="glossary.html#GUID-B21E60F7-4BFA-42A2-9A8F-B781C2A55ED9"><span class="xrefglossterm">enqueue</span></a>/<a href="glossary.html#GUID-BC8D60E8-953A-4C6C-8163-F7AE187B768B"><span class="xrefglossterm">dequeue</span></a> privileges on queues/topics in the queue table. Otherwise the queue table is not returned.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-225E5EC1-1D99-432D-A031-5959005D953A__GUID-8EC710C3-4DA7-48EF-AC2B-8ED34FCE599B">
                     <p class="titleinexample">Example 12-17 Getting a Queue Table</p><pre class="oac_no_warn" dir="ltr">QueueSession              q_sess;
AQQueueTable              q_table;

q_table = ((AQjmsSession)q_sess).getQueueTable(
   "boluser", "bol_ship_queue_table");</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE2973"></a><div class="props_rev_3"><a id="GUID-E1BE8E40-4CB2-4366-B161-DCB4F6E62DC0" name="GUID-E1BE8E40-4CB2-4366-B161-DCB4F6E62DC0"></a><h3 id="ADQUE-GUID-E1BE8E40-4CB2-4366-B161-DCB4F6E62DC0" class="sect3"><span class="enumeration_section">12.9 </span>Granting and Revoking Privileges
               </h3>
               <div>
                  <p>This section contains these topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="jms-basic-operation.html#GUID-28C0E4D2-57DC-40F4-82A7-1342DCC0E77D">Granting Oracle Database Advanced Queuing System Privileges</a></p>
                     </li>
                     <li>
                        <p><a href="jms-basic-operation.html#GUID-6FCA0DB4-8716-4780-8F64-B02DFE35A7F1">Revoking Oracle Database Advanced Queuing System Privileges</a></p>
                     </li>
                     <li>
                        <p><a href="jms-basic-operation.html#GUID-831E4DC7-9EBC-446E-BC55-B5C39C56ED6A">Granting Publish/Subscribe Topic Privileges</a></p>
                     </li>
                     <li>
                        <p><a href="jms-basic-operation.html#GUID-54BD1CAE-E66F-4E1C-8398-22FDEB3F6166">Revoking Publish/Subscribe Topic Privileges</a></p>
                     </li>
                     <li>
                        <p><a href="jms-basic-operation.html#GUID-FDD257B4-ACBA-43E7-940C-E515F6946081">Granting Point-to-Point Queue Privileges</a></p>
                     </li>
                     <li>
                        <p><a href="jms-basic-operation.html#GUID-CF07D682-06AF-4F6D-958C-81415605E540">Revoking Point-to-Point Queue Privileges</a></p>
                     </li>
                  </ul>
               </div><a id="ADQUE2975"></a><a id="ADQUE2974"></a><div class="props_rev_3"><a id="GUID-28C0E4D2-57DC-40F4-82A7-1342DCC0E77D" name="GUID-28C0E4D2-57DC-40F4-82A7-1342DCC0E77D"></a><h4 id="ADQUE-GUID-28C0E4D2-57DC-40F4-82A7-1342DCC0E77D" class="sect4"><span class="enumeration_section">12.9.1 </span>Granting Oracle Database Advanced Queuing System Privileges
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void grantSystemPrivilege(java.lang.String privilege,
                                 java.lang.String grantee,
                                 boolean admin_option)
                          throws JMSException
</pre><p>This method grants Oracle Database Advanced Queuing system privileges to a user or role.</p>
                        <div class="tblformal" id="GUID-28C0E4D2-57DC-40F4-82A7-1342DCC0E77D__GUID-B67A7907-7484-4B4C-8235-4FE9498682F3">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e2769">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e2772">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e2777" headers="d78385e2769 ">
                                       <p><code class="codeph">privilege</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e2777 d78385e2772 ">
                                       <p><code class="codeph">ENQUEUE_ANY</code>, <code class="codeph">DEQUEUE_ANY</code> or <code class="codeph">MANAGE_ANY</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e2792" headers="d78385e2769 ">
                                       <p><code class="codeph">grantee</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e2792 d78385e2772 ">
                                       <p>Grantee (user, role, or <code class="codeph">PUBLIC</code>)
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e2803" headers="d78385e2769 ">
                                       <p><code class="codeph">admin_option</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e2803 d78385e2772 ">
                                       <p>If this is set to true, then the grantee is allowed to use this procedure to grant the system privilege to other users or roles</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>Initially only <code class="codeph">SYS</code> and <code class="codeph">SYSTEM</code> can use this procedure successfully. Users granted the <code class="codeph">ENQUEUE_ANY</code> privilege are allowed to enqueue messages to any queues in the database. Users granted the <code class="codeph">DEQUEUE_ANY</code> privilege are allowed to dequeue messages from any queues in the database. Users granted the <code class="codeph">MANAGE_ANY</code> privilege are allowed to run <code class="codeph">DBMS_AQADM</code> calls on any schemas in the database.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-28C0E4D2-57DC-40F4-82A7-1342DCC0E77D__GUID-BF561370-2569-40A1-AAC1-AD3414CFAE66">
                        <p class="titleinexample">Example 12-18 Granting Oracle Database Advanced Queuing System Privileges</p><pre class="oac_no_warn" dir="ltr">TopicSession             t_sess;

((AQjmsSession)t_sess).grantSystemPrivilege("ENQUEUE_ANY", "scott", false);</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2977"></a><a id="ADQUE2976"></a><div class="props_rev_3"><a id="GUID-6FCA0DB4-8716-4780-8F64-B02DFE35A7F1" name="GUID-6FCA0DB4-8716-4780-8F64-B02DFE35A7F1"></a><h4 id="ADQUE-GUID-6FCA0DB4-8716-4780-8F64-B02DFE35A7F1" class="sect4"><span class="enumeration_section">12.9.2 </span>Revoking Oracle Database Advanced Queuing System Privileges
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void revokeSystemPrivilege(java.lang.String privilege,
                                  java.lang.String grantee)
                           throws JMSException
</pre><p>This method revokes Oracle Database Advanced Queuing system privileges from a user or role. It has the following parameters:</p>
                        <div class="tblformal" id="GUID-6FCA0DB4-8716-4780-8F64-B02DFE35A7F1__GUID-41E5FE8D-1357-4D5B-A3B1-384834A69DA9">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e2919">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e2922">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e2927" headers="d78385e2919 ">
                                       <p><code class="codeph">privilege</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e2927 d78385e2922 ">
                                       <p><code class="codeph">ENQUEUE_ANY</code>, <code class="codeph">DEQUEUE_ANY</code> or <code class="codeph">MANAGE_ANY</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e2942" headers="d78385e2919 ">
                                       <p><code class="codeph">grantee</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e2942 d78385e2922 ">
                                       <p>Grantee (user, role, or <code class="codeph">PUBLIC</code>)
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>Users granted the <code class="codeph">ENQUEUE_ANY</code> privilege are allowed to enqueue messages to any queues in the database. Users granted the <code class="codeph">DEQUEUE_ANY</code> privilege are allowed to dequeue messages from any queues in the database. Users granted the <code class="codeph">MANAGE_ANY</code> privilege are allowed to run <code class="codeph">DBMS_AQADM</code> calls on any schemas in the database.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-6FCA0DB4-8716-4780-8F64-B02DFE35A7F1__GUID-4ADD89C9-6599-4B6D-BFFF-7E614D2B9FA0">
                        <p class="titleinexample">Example 12-19 Revoking Oracle Database Advanced Queuing System Privileges</p><pre class="oac_no_warn" dir="ltr">TopicSession             t_sess;

((AQjmsSession)t_sess).revokeSystemPrivilege("ENQUEUE_ANY", "scott");</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2979"></a><a id="ADQUE2978"></a><div class="props_rev_3"><a id="GUID-831E4DC7-9EBC-446E-BC55-B5C39C56ED6A" name="GUID-831E4DC7-9EBC-446E-BC55-B5C39C56ED6A"></a><h4 id="ADQUE-GUID-831E4DC7-9EBC-446E-BC55-B5C39C56ED6A" class="sect4"><span class="enumeration_section">12.9.3 </span>Granting Publish/Subscribe Topic Privileges
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void grantTopicPrivilege(javax.jms.Session session,
                                java.lang.String privilege,
                                java.lang.String grantee,
                                boolean grant_option)
                         throws JMSException
</pre><p>This method grants a topic privilege in the publish/subscribe model. Initially only the queue table owner can use this procedure to grant privileges on the topic. It has the following parameters:</p>
                        <div class="tblformal" id="GUID-831E4DC7-9EBC-446E-BC55-B5C39C56ED6A__GUID-BAA7C31A-D222-402C-88F0-F74D686737A3">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e3045">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e3048">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3053" headers="d78385e3045 ">
                                       <p><code class="codeph">session</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3053 d78385e3048 ">
                                       <p><a href="glossary.html#GUID-F7331CE7-BF82-4FA0-81B3-42D454068F03"><span class="xrefglossterm">JMS session</span></a></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3063" headers="d78385e3045 ">
                                       <p><code class="codeph">privilege</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3063 d78385e3048 ">
                                       <p><code class="codeph">ENQUEUE</code>, <code class="codeph">DEQUEUE,</code> or <code class="codeph">ALL</code> (<code class="codeph">ALL</code> means both.)
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3082" headers="d78385e3045 ">
                                       <p><code class="codeph">grantee</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3082 d78385e3048 ">
                                       <p>Grantee (user, role, or <code class="codeph">PUBLIC</code>)
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3093" headers="d78385e3045 ">
                                       <p><code class="codeph">grant_option</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3093 d78385e3048 ">
                                       <p>If this is set to true, then the grantee is allowed to use this procedure to grant the system privilege to other users or roles</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-831E4DC7-9EBC-446E-BC55-B5C39C56ED6A__GUID-FE472CD9-F2B8-4C42-A692-6C1FBEAF4DE8">
                        <p class="titleinexample">Example 12-20 Granting Publish/Subscribe Topic Privileges</p><pre class="oac_no_warn" dir="ltr">TopicSession             t_sess;
Topic                    topic;

((AQjmsDestination)topic).grantTopicPrivilege(
   t_sess, "ENQUEUE", "scott", false);</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2981"></a><a id="ADQUE2980"></a><div class="props_rev_3"><a id="GUID-54BD1CAE-E66F-4E1C-8398-22FDEB3F6166" name="GUID-54BD1CAE-E66F-4E1C-8398-22FDEB3F6166"></a><h4 id="ADQUE-GUID-54BD1CAE-E66F-4E1C-8398-22FDEB3F6166" class="sect4"><span class="enumeration_section">12.9.4 </span>Revoking Publish/Subscribe Topic Privileges
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void revokeTopicPrivilege(javax.jms.Session session,
                                 java.lang.String privilege,
                                 java.lang.String grantee)
                          throws JMSException
</pre><p>This method revokes a topic privilege in the publish/subscribe model. It has the following parameters:</p>
                        <div class="tblformal" id="GUID-54BD1CAE-E66F-4E1C-8398-22FDEB3F6166__GUID-69BAAB69-58DE-4EBF-B82A-F219A9BCE61F">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e3174">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e3177">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3182" headers="d78385e3174 ">
                                       <p><code class="codeph">session</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3182 d78385e3177 ">
                                       <p>JMS session</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3190" headers="d78385e3174 ">
                                       <p><code class="codeph">privilege</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3190 d78385e3177 ">
                                       <p><code class="codeph">ENQUEUE</code>, <code class="codeph">DEQUEUE,</code> or <code class="codeph">ALL</code> (<code class="codeph">ALL</code> means both.)
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3209" headers="d78385e3174 ">
                                       <p><code class="codeph">grantee</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3209 d78385e3177 ">
                                       <p>Revoked grantee (user, role, or <code class="codeph">PUBLIC</code>)
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-54BD1CAE-E66F-4E1C-8398-22FDEB3F6166__GUID-0342E667-71DD-4383-80C8-8D2155622DBB">
                        <p class="titleinexample">Example 12-21 Revoking Publish/Subscribe Topic Privileges</p><pre class="oac_no_warn" dir="ltr">TopicSession             t_sess;
Topic                    topic;

((AQjmsDestination)topic).revokeTopicPrivilege(t_sess, "ENQUEUE", "scott");</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2983"></a><a id="ADQUE2982"></a><div class="props_rev_3"><a id="GUID-FDD257B4-ACBA-43E7-940C-E515F6946081" name="GUID-FDD257B4-ACBA-43E7-940C-E515F6946081"></a><h4 id="ADQUE-GUID-FDD257B4-ACBA-43E7-940C-E515F6946081" class="sect4"><span class="enumeration_section">12.9.5 </span>Granting Point-to-Point Queue Privileges
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void grantQueuePrivilege(javax.jms.Session session,
                                java.lang.String privilege,
                                java.lang.String grantee,
                                boolean grant_option)
                         throws JMSException
</pre><p>This method grants a queue privilege in the point-to-point model. Initially only the queue table owner can use this procedure to grant privileges on the queue. It has the following parameters:</p>
                        <div class="tblformal" id="GUID-FDD257B4-ACBA-43E7-940C-E515F6946081__GUID-D14E7410-DE6C-4CFD-8E9F-D903372839FF">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e3301">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e3304">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3309" headers="d78385e3301 ">
                                       <p><code class="codeph">session</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3309 d78385e3304 ">
                                       <p>JMS session</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3317" headers="d78385e3301 ">
                                       <p><code class="codeph">privilege</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3317 d78385e3304 ">
                                       <p><code class="codeph">ENQUEUE</code>, <code class="codeph">DEQUEUE,</code> or <code class="codeph">ALL</code> (<code class="codeph">ALL</code> means both.)
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3336" headers="d78385e3301 ">
                                       <p><code class="codeph">grantee</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3336 d78385e3304 ">
                                       <p>Grantee (user, role, or <code class="codeph">PUBLIC</code>)
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3347" headers="d78385e3301 ">
                                       <p><code class="codeph">grant_option</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3347 d78385e3304 ">
                                       <p>If this is set to true, then the grantee is allowed to use this procedure to grant the system privilege to other users or roles</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-FDD257B4-ACBA-43E7-940C-E515F6946081__GUID-D46FDB5E-FFDB-4B99-8634-84F67109B78B">
                        <p class="titleinexample">Example 12-22 Granting Point-to-Point Queue Privileges</p><pre class="oac_no_warn" dir="ltr">QueueSession             q_sess;
Queue                    queue;

((AQjmsDestination)queue).grantQueuePrivilege(
   q_sess, "ENQUEUE", "scott", false);</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2985"></a><a id="ADQUE2984"></a><div class="props_rev_3"><a id="GUID-CF07D682-06AF-4F6D-958C-81415605E540" name="GUID-CF07D682-06AF-4F6D-958C-81415605E540"></a><h4 id="ADQUE-GUID-CF07D682-06AF-4F6D-958C-81415605E540" class="sect4"><span class="enumeration_section">12.9.6 </span>Revoking Point-to-Point Queue Privileges
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void revokeQueuePrivilege(javax.jms.Session session,
                                 java.lang.String privilege,
                                 java.lang.String grantee)
                          throws JMSException
</pre><p>This method revokes queue privileges in the point-to-point model. Initially only the queue table owner can use this procedure to grant privileges on the queue. It has the following parameters:</p>
                        <div class="tblformal" id="GUID-CF07D682-06AF-4F6D-958C-81415605E540__GUID-A2A791EE-1D96-4E70-B604-60A2647DF74A">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e3437">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e3440">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3445" headers="d78385e3437 ">
                                       <p><code class="codeph">session</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3445 d78385e3440 ">
                                       <p>JMS session</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3453" headers="d78385e3437 ">
                                       <p><code class="codeph">privilege</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3453 d78385e3440 ">
                                       <p><code class="codeph">ENQUEUE</code>, <code class="codeph">DEQUEUE,</code> or <code class="codeph">ALL</code> (<code class="codeph">ALL</code> means both.)
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3472" headers="d78385e3437 ">
                                       <p><code class="codeph">grantee</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3472 d78385e3440 ">
                                       <p>Revoked grantee (user, role, or <code class="codeph">PUBLIC</code>)
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>To revoke a privilege, the revoker must be the original grantor of the privilege. Privileges propagated through the <code class="codeph">GRANT</code> option are revoked if the grantor privilege is also revoked. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-CF07D682-06AF-4F6D-958C-81415605E540__GUID-B1E470C3-D99A-468F-A117-4499CDC1F79A">
                        <p class="titleinexample">Example 12-23 Revoking Point-to-Point Queue Privileges</p><pre class="oac_no_warn" dir="ltr">QueueSession             q_sess;
Queue                    queue;

((AQjmsDestination)queue).revokeQueuePrivilege(q_sess, "ENQUEUE", "scott");</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="ADQUE2986"></a><div class="props_rev_3"><a id="GUID-3F0936CB-2532-4C08-A620-F2054BDD7160" name="GUID-3F0936CB-2532-4C08-A620-F2054BDD7160"></a><h3 id="ADQUE-GUID-3F0936CB-2532-4C08-A620-F2054BDD7160" class="sect3"><span class="enumeration_section">12.10 </span>Managing Destinations
               </h3>
               <div>
                  <p>This section contains these topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="jms-basic-operation.html#GUID-671472A1-A13F-4BEA-BCDF-F336838800B8">Starting a Destination</a></p>
                     </li>
                     <li>
                        <p><a href="jms-basic-operation.html#GUID-667929DA-D743-4A84-8B4C-DFEA44871DFE">Stopping a Destination</a></p>
                     </li>
                     <li>
                        <p><a href="jms-basic-operation.html#GUID-EE2368BC-8B0D-4FD6-9B1D-4B966702D0CB">Altering a Destination </a></p>
                     </li>
                     <li>
                        <p><a href="jms-basic-operation.html#GUID-6A77B510-BA26-483F-B55F-4CCB69AF14B9">Dropping a Destination</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-3F0936CB-2532-4C08-A620-F2054BDD7160__GUID-3DA62304-F8B9-4308-BF74-E59082BB3F98">
                     <p class="notep1">Note:</p>
                     <p>Currently JMS Sharded Queues can be managed only through the <code class="codeph">DBMS_AQADM</code> PL/SQL APIs.
                     </p>
                  </div>
               </div><a id="ADQUE2988"></a><a id="ADQUE2987"></a><div class="props_rev_3"><a id="GUID-671472A1-A13F-4BEA-BCDF-F336838800B8" name="GUID-671472A1-A13F-4BEA-BCDF-F336838800B8"></a><h4 id="ADQUE-GUID-671472A1-A13F-4BEA-BCDF-F336838800B8" class="sect4"><span class="enumeration_section">12.10.1 </span>Starting a Destination
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void start(javax.jms.Session session,
                  boolean enqueue,
                  boolean dequeue)
           throws JMSException
</pre><p>This method starts a destination. It has the following parameters:</p>
                        <div class="tblformal" id="GUID-671472A1-A13F-4BEA-BCDF-F336838800B8__GUID-A663B8CF-903B-4143-A605-91F1807DF963">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e3633">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e3636">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3641" headers="d78385e3633 ">
                                       <p><code class="codeph">session</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3641 d78385e3636 ">
                                       <p>JMS session</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3649" headers="d78385e3633 ">
                                       <p><code class="codeph">enqueue</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3649 d78385e3636 ">
                                       <p>If set to <code class="codeph">TRUE</code>, then enqueue is enabled
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3660" headers="d78385e3633 ">
                                       <p>dequeue</p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3660 d78385e3636 ">
                                       <p>If set to <code class="codeph">TRUE</code>, then dequeue is enabled
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-671472A1-A13F-4BEA-BCDF-F336838800B8__GUID-8851156D-C798-4FC2-98BB-4630875D8BA2">
                        <p class="titleinexample">Example 12-24 Starting a Destination</p><pre class="oac_no_warn" dir="ltr">TopicSession t_sess;
QueueSession q_sess;
Topic        topic;
Queue        queue;

(AQjmsDestination)topic.start(t_sess, true, true);
(AQjmsDestination)queue.start(q_sess, true, true);</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2990"></a><a id="ADQUE2989"></a><div class="props_rev_3"><a id="GUID-667929DA-D743-4A84-8B4C-DFEA44871DFE" name="GUID-667929DA-D743-4A84-8B4C-DFEA44871DFE"></a><h4 id="ADQUE-GUID-667929DA-D743-4A84-8B4C-DFEA44871DFE" class="sect4"><span class="enumeration_section">12.10.2 </span>Stopping a Destination
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void stop(javax.jms.Session session,
                 boolean enqueue,
                 boolean dequeue,
                 boolean wait)
          throws JMSException
</pre><p>This method stops a destination. It has the following parameters:</p>
                        <div class="tblformal" id="GUID-667929DA-D743-4A84-8B4C-DFEA44871DFE__GUID-1568D617-184D-4812-8322-CD2A7E674DE9">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e3737">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e3740">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3745" headers="d78385e3737 ">
                                       <p><code class="codeph">session</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3745 d78385e3740 ">
                                       <p>JMS session</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3753" headers="d78385e3737 ">
                                       <p><code class="codeph">enqueue</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3753 d78385e3740 ">
                                       <p>If set to <code class="codeph">TRUE</code>, then enqueue is disabled
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3764" headers="d78385e3737 ">
                                       <p>dequeue</p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3764 d78385e3740 ">
                                       <p>If set to <code class="codeph">TRUE</code>, then dequeue is disabled
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3774" headers="d78385e3737 ">
                                       <p><code class="codeph">wait</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3774 d78385e3740 ">
                                       <p>If set to true, then pending transactions on the queue/topic are allowed to complete before the destination is stopped</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-667929DA-D743-4A84-8B4C-DFEA44871DFE__GUID-DD6C8480-734F-452F-AC28-2A6F8646077F">
                        <p class="titleinexample">Example 12-25 Stopping a Destination</p><pre class="oac_no_warn" dir="ltr">TopicSession t_sess;
Topic        topic;

((AQjmsDestination)topic).stop(t_sess, true, false);</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2992"></a><a id="ADQUE2991"></a><div class="props_rev_3"><a id="GUID-EE2368BC-8B0D-4FD6-9B1D-4B966702D0CB" name="GUID-EE2368BC-8B0D-4FD6-9B1D-4B966702D0CB"></a><h4 id="ADQUE-GUID-EE2368BC-8B0D-4FD6-9B1D-4B966702D0CB" class="sect4"><span class="enumeration_section">12.10.3 </span>Altering a Destination 
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void alter(javax.jms.Session session,
                  oracle.jms.AQjmsDestinationProperty dest_property)
           throws JMSException
</pre><p>This method alters a destination. It has the following properties:</p>
                        <div class="tblformal" id="GUID-EE2368BC-8B0D-4FD6-9B1D-4B966702D0CB__GUID-01E065BC-89A2-4190-91CD-375F149E35E7">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e3850">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e3853">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3858" headers="d78385e3850 ">
                                       <p><code class="codeph">session</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3858 d78385e3853 ">
                                       <p>JMS session</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3866" headers="d78385e3850 ">
                                       <p>dest_property</p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3866 d78385e3853 ">
                                       <p>New properties of the queue or topic</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-EE2368BC-8B0D-4FD6-9B1D-4B966702D0CB__GUID-DEB9C472-FDA6-4C50-8D95-6E41CFD26797">
                        <p class="titleinexample">Example 12-26 Altering a Destination</p><pre class="oac_no_warn" dir="ltr">QueueSession q_sess;
Queue        queue;
TopicSession t_sess;
Topic        topic;
AQjmsDestionationProperty dest_prop1, dest_prop2;

((AQjmsDestination)queue).alter(dest_prop1);
((AQjmsDestination)topic).alter(dest_prop2);</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2994"></a><a id="ADQUE2993"></a><div class="props_rev_3"><a id="GUID-6A77B510-BA26-483F-B55F-4CCB69AF14B9" name="GUID-6A77B510-BA26-483F-B55F-4CCB69AF14B9"></a><h4 id="ADQUE-GUID-6A77B510-BA26-483F-B55F-4CCB69AF14B9" class="sect4"><span class="enumeration_section">12.10.4 </span>Dropping a Destination
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void drop(javax.jms.Session session)
          throws JMSException
</pre><p>This method drops a destination. It has the following parameter:</p>
                        <div class="tblformal" id="GUID-6A77B510-BA26-483F-B55F-4CCB69AF14B9__GUID-7BA5199B-C1F6-4012-8A35-F466FC019EFF">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e3940">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e3943">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e3948" headers="d78385e3940 ">
                                       <p><code class="codeph">session</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e3948 d78385e3943 ">
                                       <p>JMS session</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-6A77B510-BA26-483F-B55F-4CCB69AF14B9__GUID-5DAF65BD-69B4-40A3-8C9A-1C50BE0CEB55">
                        <p class="titleinexample">Example 12-27 Dropping a Destination</p><pre class="oac_no_warn" dir="ltr">QueueSession q_sess;
Queue        queue;
TopicSession t_sess;
Topic        topic;

((AQjmsDestionation)queue).drop(q_sess);
((AQjmsDestionation)topic).drop(t_sess);</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="ADQUE2995"></a><div class="props_rev_3"><a id="GUID-5916ED2D-BF69-4033-8E5C-1CF00657966A" name="GUID-5916ED2D-BF69-4033-8E5C-1CF00657966A"></a><h3 id="ADQUE-GUID-5916ED2D-BF69-4033-8E5C-1CF00657966A" class="sect3"><span class="enumeration_section">12.11 </span>Propagation Schedules
               </h3>
               <div>
                  <p>This section contains these topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="jms-basic-operation.html#GUID-6AE9BA1A-2413-4656-855D-62470AD0328D">Scheduling a Propagation</a></p>
                     </li>
                     <li>
                        <p><a href="jms-basic-operation.html#GUID-D66614E3-6291-4C23-B60C-5D150AE769E3">Enabling a Propagation Schedule</a></p>
                     </li>
                     <li>
                        <p><a href="jms-basic-operation.html#GUID-C27DC562-4602-4862-A64F-15DD4FF5BFF7">Altering a Propagation Schedule</a></p>
                     </li>
                     <li>
                        <p><a href="jms-basic-operation.html#GUID-DA8925B2-A76D-45E6-AA05-638A0386C2F1">Disabling a Propagation Schedule</a></p>
                     </li>
                     <li>
                        <p><a href="jms-basic-operation.html#GUID-2CB43510-0940-4866-8F24-87DF05C01D2C">Unscheduling a Propagation</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-5916ED2D-BF69-4033-8E5C-1CF00657966A__GUID-55963588-65F5-4B96-AFE5-7C8F43F9BEA2">
                     <p class="notep1">Note:</p>
                     <p>JMS Sharded Queues are currently managed only through the <code class="codeph">DBMS_AQADM</code> PL/SQL APIs and do not support propagation.
                     </p>
                  </div>
               </div><a id="ADQUE2997"></a><a id="ADQUE2996"></a><div class="props_rev_3"><a id="GUID-6AE9BA1A-2413-4656-855D-62470AD0328D" name="GUID-6AE9BA1A-2413-4656-855D-62470AD0328D"></a><h4 id="ADQUE-GUID-6AE9BA1A-2413-4656-855D-62470AD0328D" class="sect4"><span class="enumeration_section">12.11.1 </span>Scheduling a Propagation
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void schedulePropagation(javax.jms.Session session,
                                java.lang.String destination,
                                java.util.Date start_time,
                                java.lang.Double duration,
                                java.lang.String next_time,
                                java.lang.Double latency)
                         throws JMSException
</pre><p>This method schedules a propagation. It has the following parameters:</p>
                        <div class="tblformal" id="GUID-6AE9BA1A-2413-4656-855D-62470AD0328D__GUID-EDB18AF0-CF3F-4100-8798-5F6FAC51316C">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e4118">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e4121">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e4126" headers="d78385e4118 ">
                                       <p><code class="codeph">session</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e4126 d78385e4121 ">
                                       <p>JMS session</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e4134" headers="d78385e4118 ">
                                       <p><code class="codeph">destination</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e4134 d78385e4121 ">
                                       <p>Database link of the remote database for which propagation is being scheduled. A null string means that propagation is scheduled for all subscribers in the database of the topic.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e4142" headers="d78385e4118 ">
                                       <p><code class="codeph">start_time</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e4142 d78385e4121 ">
                                       <p>Time propagation starts</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e4150" headers="d78385e4118 ">
                                       <p><code class="codeph">duration</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e4150 d78385e4121 ">
                                       <p>Duration of propagation</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e4158" headers="d78385e4118 ">
                                       <p><code class="codeph">next_time</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e4158 d78385e4121 ">
                                       <p>Next time propagation starts</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e4166" headers="d78385e4118 ">
                                       <p><code class="codeph">latency</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e4166 d78385e4121 ">
                                       <p>Latency in seconds that can be tolerated. Latency is the difference between the time a message was enqueued and the time it was propagated.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>If a <a href="glossary.html#GUID-2028AECF-DB3E-40E2-99B6-A35674C08038"><span class="xrefglossterm">message</span></a> has multiple recipients at the same destination in either the same or different queues, then it is propagated to all of them at the same time. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-6AE9BA1A-2413-4656-855D-62470AD0328D__GUID-8CD6BDE0-EF59-44C7-9F29-128452AA59C2">
                        <p class="titleinexample">Example 12-28 Scheduling a Propagation</p><pre class="oac_no_warn" dir="ltr">TopicSession t_sess;
Topic        topic;

((AQjmsDestination)topic).schedulePropagation(
   t_sess, null, null, null, null, new Double(0));</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE2999"></a><a id="ADQUE2998"></a><div class="props_rev_3"><a id="GUID-D66614E3-6291-4C23-B60C-5D150AE769E3" name="GUID-D66614E3-6291-4C23-B60C-5D150AE769E3"></a><h4 id="ADQUE-GUID-D66614E3-6291-4C23-B60C-5D150AE769E3" class="sect4"><span class="enumeration_section">12.11.2 </span>Enabling a Propagation Schedule
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void enablePropagationSchedule(javax.jms.Session session,
                                      java.lang.String destination)
                               throws JMSException
</pre><p>This method enables a propagation schedule. It has the following parameters:</p>
                        <div class="tblformal" id="GUID-D66614E3-6291-4C23-B60C-5D150AE769E3__GUID-02935B7E-707F-4F5E-AEB2-71FBAE0E15A1">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e4253">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e4256">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e4261" headers="d78385e4253 ">
                                       <p><code class="codeph">session</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e4261 d78385e4256 ">
                                       <p>JMS session</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e4269" headers="d78385e4253 ">
                                       <p><code class="codeph">destination</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e4269 d78385e4256 ">
                                       <p>Database link of the destination database. A null string means that propagation is to the local database.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-D66614E3-6291-4C23-B60C-5D150AE769E3__GUID-20CE848D-23A7-4FCA-8C42-2E5247D9A816">
                        <p class="titleinexample">Example 12-29 Enabling a Propagation Schedule</p><pre class="oac_no_warn" dir="ltr">TopicSession             t_sess;
Topic                    topic;

((AQjmsDestination)topic).enablePropagationSchedule(t_sess, "dbs1");</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE3001"></a><a id="ADQUE3000"></a><div class="props_rev_3"><a id="GUID-C27DC562-4602-4862-A64F-15DD4FF5BFF7" name="GUID-C27DC562-4602-4862-A64F-15DD4FF5BFF7"></a><h4 id="ADQUE-GUID-C27DC562-4602-4862-A64F-15DD4FF5BFF7" class="sect4"><span class="enumeration_section">12.11.3 </span>Altering a Propagation Schedule
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void alterPropagationSchedule(javax.jms.Session session,
                                     java.lang.String destination,
                                     java.lang.Double duration,
                                     java.lang.String next_time,
                                     java.lang.Double latency)
                              throws JMSException
</pre><p>This method alters a propagation schedule. It has the following parameters:</p>
                        <div class="tblformal" id="GUID-C27DC562-4602-4862-A64F-15DD4FF5BFF7__GUID-C540F04B-58A9-4336-A1E4-58338E07D5EE">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e4351">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e4354">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e4359" headers="d78385e4351 ">
                                       <p><code class="codeph">session</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e4359 d78385e4354 ">
                                       <p>JMS session</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e4367" headers="d78385e4351 ">
                                       <p><code class="codeph">destination</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e4367 d78385e4354 ">
                                       <p>Database link of the remote database for which propagation is being scheduled. A null string means that propagation is scheduled for all subscribers in the database of the topic.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e4375" headers="d78385e4351 ">
                                       <p><code class="codeph">duration</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e4375 d78385e4354 ">
                                       <p>Duration of propagation</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e4383" headers="d78385e4351 ">
                                       <p><code class="codeph">next_time</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e4383 d78385e4354 ">
                                       <p>Next time propagation starts</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e4391" headers="d78385e4351 ">
                                       <p><code class="codeph">latency</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e4391 d78385e4354 ">
                                       <p>Latency in seconds that can be tolerated. Latency is the difference between the time a message was enqueued and the time it was propagated.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-C27DC562-4602-4862-A64F-15DD4FF5BFF7__GUID-252688D0-3FBA-497F-8CEA-EE44850D8191">
                        <p class="titleinexample">Example 12-30 Altering a Propagation Schedule</p><pre class="oac_no_warn" dir="ltr">TopicSession             t_sess;
Topic                    topic;

((AQjmsDestination)topic).alterPropagationSchedule(
   t_sess, null, 30, null, new Double(30));</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE3003"></a><a id="ADQUE3002"></a><div class="props_rev_3"><a id="GUID-DA8925B2-A76D-45E6-AA05-638A0386C2F1" name="GUID-DA8925B2-A76D-45E6-AA05-638A0386C2F1"></a><h4 id="ADQUE-GUID-DA8925B2-A76D-45E6-AA05-638A0386C2F1" class="sect4"><span class="enumeration_section">12.11.4 </span>Disabling a Propagation Schedule
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void disablePropagationSchedule(javax.jms.Session session,
                                       java.lang.String destination)
                                throws JMSException
</pre><p>This method disables a propagation schedule. It has the following parameters:</p>
                        <div class="tblformal" id="GUID-DA8925B2-A76D-45E6-AA05-638A0386C2F1__GUID-0F96EC9A-AE53-498B-B41B-4FCC7C72D02B">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e4472">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e4475">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e4480" headers="d78385e4472 ">
                                       <p><code class="codeph">session</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e4480 d78385e4475 ">
                                       <p>JMS session</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e4488" headers="d78385e4472 ">
                                       <p><code class="codeph">destination</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e4488 d78385e4475 ">
                                       <p>Database link of the destination database. A null string means that propagation is to the local database.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-DA8925B2-A76D-45E6-AA05-638A0386C2F1__GUID-EA8430E5-50AD-4736-BA3D-9160C187E388">
                        <p class="titleinexample">Example 12-31 Disabling a Propagation Schedule</p><pre class="oac_no_warn" dir="ltr">TopicSession             t_sess;
Topic                    topic;

((AQjmsDestination)topic).disablePropagationSchedule(t_sess, "dbs1");</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADQUE3005"></a><a id="ADQUE3004"></a><div class="props_rev_3"><a id="GUID-2CB43510-0940-4866-8F24-87DF05C01D2C" name="GUID-2CB43510-0940-4866-8F24-87DF05C01D2C"></a><h4 id="ADQUE-GUID-2CB43510-0940-4866-8F24-87DF05C01D2C" class="sect4"><span class="enumeration_section">12.11.5 </span>Unscheduling a Propagation
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">public void unschedulePropagation(javax.jms.Session session,
                                  java.lang.String destination)
                           throws JMSException
</pre><p>This method unschedules a previously scheduled propagation. It has the following parameters:</p>
                        <div class="tblformal" id="GUID-2CB43510-0940-4866-8F24-87DF05C01D2C__GUID-7E5F9698-A3D1-4C37-879B-29842D494F37">
                           <table cellpadding="4" cellspacing="0" class="Formal" title summary="The first column is the name of a parameter. The second column describes it." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d78385e4575">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d78385e4578">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e4583" headers="d78385e4575 ">
                                       <p><code class="codeph">session</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e4583 d78385e4578 ">
                                       <p>JMS session</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d78385e4591" headers="d78385e4575 ">
                                       <p><code class="codeph">destination</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d78385e4591 d78385e4578 ">
                                       <p>Database link of the destination database. A null string means that propagation is to the local database.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-2CB43510-0940-4866-8F24-87DF05C01D2C__GUID-A5FDF52A-5ECA-4A70-991B-0B1497BFAB17">
                        <p class="titleinexample">Example 12-32 Unscheduling a Propagation</p><pre class="oac_no_warn" dir="ltr">TopicSession   t_sess;
Topic          topic;

((AQjmsDestination)topic).unschedulePropagation(t_sess, "dbs1");</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>