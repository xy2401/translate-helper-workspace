<html id='08316.UNIFIED_AUDIT_TRAIL.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="This view displays audit records in tabular form by retrieving the audit records from the audit trail.">
      <meta name="description" content="This view displays audit records in tabular form by retrieving the audit records from the audit trail.">
      <title>UNIFIED_AUDIT_TRAIL</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database Reference">
      <meta property="og:description" content="This view displays audit records in tabular form by retrieving the audit records from the audit trail.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-10T14:59:27-08:00">
      <meta name="dcterms.title" content="Database Reference">
      <meta name="dcterms.dateCopyrighted" content="2002, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96196-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="UNI_PLUGGABLE_SET_CHECK.html" title="Previous" type="text/html">
      <link rel="next" href="USABLE_EDITIONS.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="REFRN">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="UNI_PLUGGABLE_SET_CHECK.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="USABLE_EDITIONS.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database Reference</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="static-data-dictionary-views.html" property="item" typeof="WebPage"><span property="name">   Static Data Dictionary Views </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="static-data-dictionary-views-5.html" property="item" typeof="WebPage"><span property="name"> Static Data Dictionary Views: DBA_STREAMS_ADD_COLUMN to USER_ZONEMAPS</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">UNIFIED_AUDIT_TRAIL</li>
            </ol>
            <a id="GUID-B7CE1C02-2FD4-47D6-80AA-CF74A60CDD1D" name="GUID-B7CE1C02-2FD4-47D6-80AA-CF74A60CDD1D"></a><a id="REFRN29162"></a>
            
            <h2 id="REFRN-GUID-B7CE1C02-2FD4-47D6-80AA-CF74A60CDD1D" class="sect2"><span class="enumeration_section">6.261 </span>UNIFIED_AUDIT_TRAIL
            </h2>
         </header>
         <div class="ind"><script type="text/javascript">window.name='UNIFIED_AUDIT_TRAIL'</script><script type="text/javascript">
    function footdisplay(footnum,footnote) {
    var msg = window.open('about:blank', 'NewWindow' + footnum,
        'directories=no,height=100,location=no,menubar=no,resizable=yes,' +
        'scrollbars=yes,status=no,toolbar=no,width=598');
    msg.document.open('text/html');
    msg.document.write('<!DOCTYPE html ');
    msg.document.write('PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" ');
    msg.document.write('"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">'); 
    msg.document.write('<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us" dir="ltr"><head><title>');
   
    msg.document.write('Footnote&nbsp; ' + footnum);
    msg.document.write('<\/title><meta http-equiv="Content-Type" ');
    msg.document.write('content="text/html; charset=utf-8" />');
    msg.document.write('<meta http-equiv="Content-Script-Type" ');
    msg.document.write('content="text/javascript" />');
    msg.document.write('<style type="text/css"> <![CDATA[ ');
    msg.document.write('h1 {text-align: center; font-size: 14pt;}');
    msg.document.write('fieldset {border: none;}');
    msg.document.write('form {text-align: center;}');
    msg.document.write(' ]]\u003e <\/style>');
    msg.document.write('<\/head><body><div id="footnote"><h1>Footnote&nbsp; ' + footnum + '<\/h1><p>');
    msg.document.write(footnote);
    msg.document.write('<\/p><form action="" method="post"><fieldset>');
    msg.document.write('<input type="button" value="OK" ');
    msg.document.write('onclick="window.close();" />');
    msg.document.write('<\/fieldset><\/form><\/div><\/body><\/html>');
    msg.document.close();
    setTimeout(function() {
        var height = msg.document.getElementById('footnote').offsetHeight;
        msg.resizeTo(598, height + 100);
    }
    , 100);
    msg.focus();
}
            </script><noscript>
               <p>The script content on this page is for navigation purposes only and does not alter the content in any way.</p>
            </noscript>
            <div>
               <div>When unified auditing is enabled in Oracle Database, the audit records are populated in this new audit trail.  <span>This view displays audit records in tabular form by retrieving the audit records from the audit trail.</span></div>
               <div class="section">
                  <div class="infoboxnote" id="GUID-B7CE1C02-2FD4-47D6-80AA-CF74A60CDD1D__GUID-DB101C65-273F-4440-935A-716C041298F0">
                     <p class="notep1">Note:</p>
                     <p>This view is populated only in an Oracle Database where unified auditing is enabled.</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>See <a href="../dbseg/part_6.html#DBSEG006" target="_blank"><span><cite>Oracle Database Security Guide</cite></span></a> for more information about unified auditing.
                           </p>
                        </li>
                        <li>
                           <p>See <a href="../upgrd/recommended-and-best-practices-complete-upgrading-oracle-database.html#UPGRD52810" target="_blank"><span><cite>Oracle Database Upgrade Guide</cite></span></a> for more information about migrating to unified auditing.
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="tblformalwide" id="GUID-B7CE1C02-2FD4-47D6-80AA-CF74A60CDD1D__GUID-C3C0AB5F-A1FC-4E95-A05C-1B0F35A7E1DF">
                  <table cellpadding="4" cellspacing="0" class="FormalWide" title="" summary="This table describes the columns for this database view" width="100%" frame="hsides" border="1" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="24%" id="d1454073e193">Column</th>
                           <th align="left" valign="bottom" width="18%" id="d1454073e196">Datatype</th>
                           <th align="left" valign="bottom" width="14%" id="d1454073e199">NULL</th>
                           <th align="left" valign="bottom" width="45%" id="d1454073e202">Description</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e207" headers="d1454073e193 ">
                              <p><code class="codeph">AUDIT_TYPE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e207 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(64)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e207 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e207 d1454073e202 ">
                              <p>Type of auditing:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Standard</p>
                                 </li>
                                 <li>
                                    <p>FineGrainedAudit</p>
                                 </li>
                                 <li>
                                    <p>XS</p>
                                 </li>
                                 <li>
                                    <p>Database Vault</p>
                                 </li>
                                 <li>
                                    <p>Label Security</p>
                                 </li>
                                 <li>
                                    <p>RMAN_AUDIT</p>
                                 </li>
                                 <li>
                                    <p>Datapump</p>
                                 </li>
                                 <li>
                                    <p>Direct path API</p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e247" headers="d1454073e193 ">
                              <p><code class="codeph">SESSIONID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e247 d1454073e196 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e247 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e247 d1454073e202 ">
                              <p>Audit session identifier</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e262" headers="d1454073e193 ">
                              <p><code class="codeph">PROXY_SESSIONID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e262 d1454073e196 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e262 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e262 d1454073e202 ">
                              <p>Audit session identifier of proxying session</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e277" headers="d1454073e193 ">
                              <p><code class="codeph">OS_USERNAME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e277 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(128)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e277 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e277 d1454073e202 ">
                              <p>Name of the operating system user for the database session</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e292" headers="d1454073e193 ">
                              <p><code class="codeph">USERHOST</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e292 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(128)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e292 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e292 d1454073e202 ">
                              <p>Name of the host machine from which the session was spawned</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e307" headers="d1454073e193 ">
                              <p><code class="codeph">TERMINAL</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e307 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(30)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e307 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e307 d1454073e202 ">
                              <p>The operating system terminal of the user session</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e322" headers="d1454073e193 ">
                              <p><code class="codeph">INSTANCE_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e322 d1454073e196 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e322 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e322 d1454073e202 ">
                              <p>Instance number as specified in the initialization parameter file, init.ora</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e337" headers="d1454073e193 ">
                              <p><code class="codeph">DBID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e337 d1454073e196 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e337 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e337 d1454073e202 ">
                              <p>Database identifier of the audited database</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e352" headers="d1454073e193 ">
                              <p><code class="codeph">AUTHENTICATION_TYPE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e352 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(1024)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e352 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e352 d1454073e202 ">
                              <p>Type of authentication for the session user</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e367" headers="d1454073e193 ">
                              <p><code class="codeph">DBUSERNAME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e367 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(128)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e367 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e367 d1454073e202 ">
                              <p>Database user name of the user whose actions were audited</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e382" headers="d1454073e193 ">
                              <p><code class="codeph">DBPROXY_USERNAME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e382 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(128)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e382 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e382 d1454073e202 ">
                              <p>Proxying user name, in the case of proxy authentication</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e398" headers="d1454073e193 ">
                              <p><code class="codeph">EXTERNAL_USERID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e398 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(1024)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e398 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e398 d1454073e202 ">
                              <p>External user name, in the case of network or external authentication</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e413" headers="d1454073e193 ">
                              <p><code class="codeph">GLOBAL_USERID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e413 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(32)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e413 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e413 d1454073e202 ">
                              <p>Global user identifier for the user, for a user logged in as an enterprise user</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e428" headers="d1454073e193 ">
                              <p><code class="codeph">CLIENT_PROGRAM_NAME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e428 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(48)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e428 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e428 d1454073e202 ">
                              <p>Name of the program used for the database session</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e443" headers="d1454073e193 ">
                              <p><code class="codeph">DBLINK_INFO</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e443 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(4000)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e443 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e443 d1454073e202 ">
                              <p>Value of <code class="codeph">SYS_CONTEXT('USERENV','DBLINK_INFO')</code>. Valid if the connection was via a database link.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e461" headers="d1454073e193 ">
                              <p><code class="codeph">XS_USER_NAME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e461 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(128)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e461 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e461 d1454073e202 ">
                              <p>Name of the Real Application Security user</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e476" headers="d1454073e193 ">
                              <p><code class="codeph">XS_SESSIONID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e476 d1454073e196 ">
                              <p><code class="codeph">RAW(33)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e476 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e476 d1454073e202 ">
                              <p>Identifer of the Real Application Security session</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e491" headers="d1454073e193 ">
                              <p><code class="codeph">ENTRY_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e491 d1454073e196 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e491 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e491 d1454073e202 ">
                              <p>Numeric ID for each audit trail entry in the session</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e506" headers="d1454073e193 ">
                              <p><code class="codeph">STATEMENT_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e506 d1454073e196 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e506 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e506 d1454073e202 ">
                              <p>Numeric ID for each statement run (a statement may cause many actions)</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e521" headers="d1454073e193 ">
                              <p><code class="codeph">EVENT_TIMESTAMP</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e521 d1454073e196 ">
                              <p><code class="codeph">TIMESTAMP(6)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e521 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e521 d1454073e202 ">
                              <p>Timestamp of the creation of the audit trail entry in the local time zone</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e536" headers="d1454073e193 ">
                              <p><code class="codeph">EVENT_TIMESTAMP_UTC</code><a id="fn_1" name="fn_1" href="#fn_1" onclick="footdisplay(1, "This column is available starting with Oracle Database release 19c, version 19.1.")"><sup>Foot&nbsp;1</sup></a></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e536 d1454073e196 ">
                              <p><code class="codeph">TIMESTAMP(6)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e536 d1454073e199 ">&nbsp;</td>
                           <td align="left" valign="top" width="45%" headers="d1454073e536 d1454073e202 ">
                              <p>Timestamp of the creation of the audit trail entry in UTC (Coordinated Universal Time)</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e551" headers="d1454073e193 ">
                              <p><code class="codeph">ACTION_NAME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e551 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(64)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e551 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e551 d1454073e202 ">
                              <p>Name of the action executed by the user. The name should be read in conjunction with the <code class="codeph">AUDIT_TYPE</code> to understand the real action.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e570" headers="d1454073e193 ">
                              <p><code class="codeph">RETURN_CODE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e570 d1454073e196 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e570 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e570 d1454073e202 ">
                              <p>Oracle error code generated by the action. Zero if the action succeeded</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e585" headers="d1454073e193 ">
                              <p><code class="codeph">OS_PROCESS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e585 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(16)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e585 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e585 d1454073e202 ">
                              <p>Operating system process identifier of the Oracle database process</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e600" headers="d1454073e193 ">
                              <p><code class="codeph">TRANSACTION_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e600 d1454073e196 ">
                              <p><code class="codeph">RAW(8)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e600 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e600 d1454073e202 ">
                              <p>Transaction identifier of the transaction in which the object is modified</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e615" headers="d1454073e193 ">
                              <p><code class="codeph">SCN</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e615 d1454073e196 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e615 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e615 d1454073e202 ">
                              <p>System change number (SCN) of the query at the time of the event</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e630" headers="d1454073e193 ">
                              <p><code class="codeph">EXECUTION_ID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e630 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(64)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e630 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e630 d1454073e202 ">
                              <p>Execution context identifier for each action</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e645" headers="d1454073e193 ">
                              <p><code class="codeph">OBJECT_SCHEMA</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e645 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(128)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e645 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e645 d1454073e202 ">
                              <p>Schema name of object affected by the action</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e660" headers="d1454073e193 ">
                              <p><code class="codeph">OBJECT_NAME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e660 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(128)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e660 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e660 d1454073e202 ">
                              <p>Name of the object affected by the action</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e675" headers="d1454073e193 ">
                              <p><code class="codeph">SQL_TEXT</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e675 d1454073e196 ">
                              <p><code class="codeph">CLOB</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e675 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e675 d1454073e202 ">
                              <p>SQL associated with the event</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e690" headers="d1454073e193 ">
                              <p><code class="codeph">SQL_BINDS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e690 d1454073e196 ">
                              <p><code class="codeph">CLOB</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e690 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e690 d1454073e202 ">
                              <p>List of bind variables, if any, associated with <code class="codeph">SQL_TEXT</code></p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e707" headers="d1454073e193 ">
                              <p><code class="codeph">APPLICATION_CONTEXTS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e707 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(4000)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e707 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e707 d1454073e202 ">
                              <p>Semicolon-seperated list of Application Context Namespace, Attribute, Value information in (APPCTX_NSPACE,APPCTX_ATTRIBUTE=&lt;value&gt;) format</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e722" headers="d1454073e193 ">
                              <p><code class="codeph">CLIENT_IDENTIFIER</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e722 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(64)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e722 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e722 d1454073e202 ">
                              <p>Client identifier in each Oracle session</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e738" headers="d1454073e193 ">
                              <p><code class="codeph">NEW_SCHEMA</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e738 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(128)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e738 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e738 d1454073e202 ">
                              <p>The schema of the object named in the NEW_NAME column</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e753" headers="d1454073e193 ">
                              <p><code class="codeph">NEW_NAME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e753 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(128)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e753 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e753 d1454073e202 ">
                              <p>New name of object after RENAME, or name of underlying object (for example, CREATE INDEX owner.obj_name ON new_owner.new_name)</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e768" headers="d1454073e193 ">
                              <p><code class="codeph">OBJECT_EDITION</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e768 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(128)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e768 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e768 d1454073e202 ">
                              <p>Name of the edition containing the audited object</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e783" headers="d1454073e193 ">
                              <p><code class="codeph">SYSTEM_PRIVILEGE_USED</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e783 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(1024)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e783 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e783 d1454073e202 ">
                              <p>Comma-separated list of system privileges used to execute the action</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e798" headers="d1454073e193 ">
                              <p><code class="codeph">SYSTEM_PRIVILEGE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e798 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(40)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e798 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e798 d1454073e202 ">
                              <p>System privilege granted/revoked by a GRANT/REVOKE statement</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e813" headers="d1454073e193 ">
                              <p><code class="codeph">AUDIT_OPTION</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e813 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(40)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e813 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e813 d1454073e202 ">
                              <p>AUDIT/NOAUDIT SQL command</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e828" headers="d1454073e193 ">
                              <p><code class="codeph">OBJECT_PRIVILEGES</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e828 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(35)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e828 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e828 d1454073e202 ">
                              <p>Object privileges granted/revoked by a GRANT/REVOKE statement</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e843" headers="d1454073e193 ">
                              <p><code class="codeph">ROLE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e843 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(128)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e843 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e843 d1454073e202 ">
                              <p>Roles granted or revoked or set by GRANT/REVOKE/SET ROLE command</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e858" headers="d1454073e193 ">
                              <p><code class="codeph">TARGET_USER</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e858 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(128)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e858 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e858 d1454073e202 ">
                              <p>User on whom the GRANT/REVOKE/AUDIT/NOAUDIT statement was executed</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e873" headers="d1454073e193 ">
                              <p><code class="codeph">EXCLUDED_USER</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e873 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(128)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e873 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e873 d1454073e202 ">
                              <p>User who was excluded when the AUDIT/NOAUDIT statement was executed</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e888" headers="d1454073e193 ">
                              <p><code class="codeph">EXCLUDED_SCHEMA</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e888 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(128)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e888 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e888 d1454073e202 ">
                              <p>Displays the schema of the excluded objects</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e904" headers="d1454073e193 ">
                              <p><code class="codeph">EXCLUDED_OBJECT</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e904 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(128)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e904 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e904 d1454073e202 ">
                              <p>Displays object excluded from the action</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e919" headers="d1454073e193 ">
                              <p><code class="codeph">CURRENT_USER</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e919 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(128)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e919 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e919 d1454073e202 ">
                              <p>Effective user for the statement execution</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e934" headers="d1454073e193 ">
                              <p><code class="codeph">ADDITIONAL_INFO</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e934 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(4000)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e934 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e934 d1454073e202 ">
                              <p>Text comment on the audit trail entry, if any</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e949" headers="d1454073e193 ">
                              <p><code class="codeph">UNIFIED_AUDIT_POLICIES</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e949 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(4000)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e949 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e949 d1454073e202 ">
                              <p>Lists the audit policies that caused the current audit record. For example, if <code class="codeph">SELECT ON SCOTT.EMP</code> was configured from policy <code class="codeph">SCOTT_EMP_POL</code>, for the <code class="codeph">SELECT</code> event this column will display <code class="codeph">SCOTT_EMP_POL</code>.
                              </p>
                              <p>If more than one policy was configured, the list of policies that caused the event to be recorded in the audit trail are displayed in a comma-separated list.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e978" headers="d1454073e193 ">
                              <p><code class="codeph">FGA_POLICY_NAME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e978 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(128)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e978 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e978 d1454073e202 ">
                              <p>Fine-grained auditing (FGA) policy name that generated this FGA audit record</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e993" headers="d1454073e193 ">
                              <p><code class="codeph">XS_INACTIVITY_TIMEOUT</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e993 d1454073e196 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e993 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e993 d1454073e202 ">
                              <p>Inactivity timeout of the Real Application Security session</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e1008" headers="d1454073e193 ">
                              <p><code class="codeph">XS_ENTITY_TYPE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e1008 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(32)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e1008 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e1008 d1454073e202 ">
                              <p>Type of the Real Application Security entity. Possible values are <code class="codeph">USER</code>, <code class="codeph">ROLE</code>, <code class="codeph">ROLESET</code>, <code class="codeph">SECURITYCLASS</code>, <code class="codeph">ACL</code>, <code class="codeph">DATASECURITY</code>, and <code class="codeph">NSTEMPLATE</code>.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e1045" headers="d1454073e193 ">
                              <p><code class="codeph">XS_TARGET_PRINCIPAL_NAME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e1045 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(128)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e1045 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e1045 d1454073e202 ">
                              <p>Target principal name in Real Application Security operations. Possible operations are set verifier, set password, add proxy, remove proxy, switch user, assign user, create session,and grant roles.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e1060" headers="d1454073e193 ">
                              <p><code class="codeph">XS_PROXY_USER_NAME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e1060 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(128)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e1060 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e1060 d1454073e202 ">
                              <p>Name of the Real Application Security proxy user</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e1075" headers="d1454073e193 ">
                              <p><code class="codeph">XS_DATASEC_POLICY_NAME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e1075 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(128)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e1075 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e1075 d1454073e202 ">
                              <p>Name of the Real Application Security data security policy enabled or disabled</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e1090" headers="d1454073e193 ">
                              <p><code class="codeph">XS_SCHEMA_NAME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e1090 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(128)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e1090 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e1090 d1454073e202 ">
                              <p>Name of the schema in enable, disable data security policy and global callback operation</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e1106" headers="d1454073e193 ">
                              <p><code class="codeph">XS_CALLBACK_EVENT_TYPE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e1106 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(32)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e1106 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e1106 d1454073e202 ">
                              <p>Real Application Security global callback event type</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e1121" headers="d1454073e193 ">
                              <p><code class="codeph">XS_PACKAGE_NAME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e1121 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(128)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e1121 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e1121 d1454073e202 ">
                              <p>Real Application Security callback package name for the global callback</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e1136" headers="d1454073e193 ">
                              <p><code class="codeph">XS_PROCEDURE_NAME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e1136 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(128)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e1136 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e1136 d1454073e202 ">
                              <p>Real Application Security callback procedure name for the global callback</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e1151" headers="d1454073e193 ">
                              <p><code class="codeph">XS_ENABLED_ROLE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e1151 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(128)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e1151 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e1151 d1454073e202 ">
                              <p>The role that is enabled</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e1166" headers="d1454073e193 ">
                              <p><code class="codeph">XS_COOKIE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e1166 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(1024)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e1166 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e1166 d1454073e202 ">
                              <p>Real Application Security session cookie</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e1181" headers="d1454073e193 ">
                              <p><code class="codeph">XS_NS_NAME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e1181 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(128)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e1181 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e1181 d1454073e202 ">
                              <p>Name of the Real Application Security session namespace</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e1196" headers="d1454073e193 ">
                              <p><code class="codeph">XS_NS_ATTRIBUTE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e1196 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(4000)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e1196 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e1196 d1454073e202 ">
                              <p>Name of the Real Application Security session namespace attribute</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e1211" headers="d1454073e193 ">
                              <p><code class="codeph">XS_NS_ATTRIBUTE_OLD_VAL</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e1211 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(4000)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e1211 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e1211 d1454073e202 ">
                              <p>The old value of the Real Application Security session namespace attribute</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e1226" headers="d1454073e193 ">
                              <p><code class="codeph">XS_NS_ATTRIBUTE_NEW_VAL</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e1226 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(4000)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e1226 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e1226 d1454073e202 ">
                              <p>The new value of the Real Application Security session namespace</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e1241" headers="d1454073e193 ">
                              <p><code class="codeph">DV_ACTION_CODE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e1241 d1454073e196 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e1241 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e1241 d1454073e202 ">
                              <p>Numeric action type code for Database Vault</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e1256" headers="d1454073e193 ">
                              <p><code class="codeph">DV_ACTION_NAME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e1256 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(30)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e1256 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e1256 d1454073e202 ">
                              <p>Name of the action whose numeric code appears in the <code class="codeph">DV_ACTION_CODE</code> column
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e1275" headers="d1454073e193 ">
                              <p><code class="codeph">DV_EXTENDED_ACTION_CODE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e1275 d1454073e196 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e1275 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e1275 d1454073e202 ">
                              <p>Numeric action type code for Database Vault administration</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e1290" headers="d1454073e193 ">
                              <p><code class="codeph">DV_GRANTEE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e1290 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(128)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e1290 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e1290 d1454073e202 ">
                              <p>Name of the user whose Database Vault authorization was modified</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e1305" headers="d1454073e193 ">
                              <p><code class="codeph">DV_RETURN_CODE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e1305 d1454073e196 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e1305 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e1305 d1454073e202 ">
                              <p>Database Vault specific error code</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e1320" headers="d1454073e193 ">
                              <p><code class="codeph">DV_ACTION_OBJECT_NAME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e1320 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(128)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e1320 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e1320 d1454073e202 ">
                              <p>The unique name of the Database Vault object that was modified</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e1335" headers="d1454073e193 ">
                              <p><code class="codeph">DV_RULE_SET_NAME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e1335 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(128)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e1335 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e1335 d1454073e202 ">
                              <p>The unique name of the rule set that was executing and caused the audit event to trigger</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e1350" headers="d1454073e193 ">
                              <p><code class="codeph">DV_COMMENT</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e1350 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(4000)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e1350 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e1350 d1454073e202 ">
                              <p>Text comment on the audit trail entry, providing more information about the statement audited</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e1365" headers="d1454073e193 ">
                              <p><code class="codeph">DV_FACTOR_CONTEXT</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e1365 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(4000)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e1365 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e1365 d1454073e202 ">
                              <p>An XML document that contains all of the factor identifiers for the current session at the point when the audit event was triggered</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e1380" headers="d1454073e193 ">
                              <p><code class="codeph">DV_OBJECT_STATUS</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e1380 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(1)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e1380 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e1380 d1454073e202 ">
                              <p>Indicates whether a particular Database Vault object is enabled or disabled. For example, if a Database Vault administrator enables or disables a realm, then this event will be audited and the <code class="codeph">DV_OBJECT_STATUS</code> value will show the status of the realm after the event occurred. Possible values for this column are:
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">Y</code> - The object is enabled
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">N</code> - The object is disabled
                                    </p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e1409" headers="d1454073e193 ">
                              <p><code class="codeph">OLS_POLICY_NAME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e1409 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(128)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e1409 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e1409 d1454073e202 ">
                              <p>Name of the Oracle Label Security (OLS) policy for which this audit record is generated</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e1424" headers="d1454073e193 ">
                              <p><code class="codeph">OLS_GRANTEE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e1424 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(1024)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e1424 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e1424 d1454073e202 ">
                              <p>Name of the user whose OLS authorization was modified</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e1439" headers="d1454073e193 ">
                              <p><code class="codeph">OLS_MAX_READ_LABEL</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e1439 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(4000)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e1439 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e1439 d1454073e202 ">
                              <p>Maximum read label assigned to a user</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e1455" headers="d1454073e193 ">
                              <p><code class="codeph">OLS_MAX_WRITE_LABEL</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e1455 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(4000)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e1455 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e1455 d1454073e202 ">
                              <p>Maximum write label assigned to a user</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e1470" headers="d1454073e193 ">
                              <p><code class="codeph">OLS_MIN_WRITE_LABEL</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e1470 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(4000)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e1470 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e1470 d1454073e202 ">
                              <p>Minimum write label assigned to a user</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e1485" headers="d1454073e193 ">
                              <p><code class="codeph">OLS_PRIVILEGES_GRANTED</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e1485 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(128)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e1485 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e1485 d1454073e202 ">
                              <p>OLS privileges assigned to a user or a trusted stored procedure</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e1500" headers="d1454073e193 ">
                              <p><code class="codeph">OLS_PROGRAM_UNIT_NAME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e1500 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(128)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e1500 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e1500 d1454073e202 ">
                              <p>Name of the trusted stored procedure whose authorization was modified or was executed</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e1515" headers="d1454073e193 ">
                              <p><code class="codeph">OLS_PRIVILEGES_USED</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e1515 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(128)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e1515 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e1515 d1454073e202 ">
                              <p>OLS privileges used for an event</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e1530" headers="d1454073e193 ">
                              <p><code class="codeph">OLS_STRING_LABEL</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e1530 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(4000)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e1530 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e1530 d1454073e202 ">
                              <p>String representation of the OLS label</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e1545" headers="d1454073e193 ">
                              <p><code class="codeph">OLS_LABEL_COMPONENT_TYPE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e1545 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(12)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e1545 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e1545 d1454073e202 ">
                              <p>Type of the OLS label component</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e1560" headers="d1454073e193 ">
                              <p><code class="codeph">OLS_LABEL_COMPONENT_NAME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e1560 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(30)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e1560 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e1560 d1454073e202 ">
                              <p>Name of the OLS label component</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e1575" headers="d1454073e193 ">
                              <p><code class="codeph">OLS_PARENT_GROUP_NAME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e1575 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(30)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e1575 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e1575 d1454073e202 ">
                              <p>Name of the parent of the OLS group</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e1590" headers="d1454073e193 ">
                              <p><code class="codeph">OLS_OLD_VALUE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e1590 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(4000)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e1590 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e1590 d1454073e202 ">
                              <p>Old value for OLS ALTER events</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e1605" headers="d1454073e193 ">
                              <p><code class="codeph">OLS_NEW_VALUE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e1605 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(4000)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e1605 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e1605 d1454073e202 ">
                              <p>New value for OLS ALTER events</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e1621" headers="d1454073e193 ">
                              <p><code class="codeph">RMAN_SESSION_RECID</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e1621 d1454073e196 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e1621 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e1621 d1454073e202 ">
                              <p>RMAN session identifier. Together with <code class="codeph">RMAN_SESSION_STAMP</code> uniquely identifies an RMAN job (note that this is not same as user session ID; the value is a recid in controlfile that identifies RMAN job)
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e1639" headers="d1454073e193 ">
                              <p><code class="codeph">RMAN_SESSION_STAMP</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e1639 d1454073e196 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e1639 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e1639 d1454073e202 ">
                              <p>Timestamp for the session</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e1654" headers="d1454073e193 ">
                              <p><code class="codeph">RMAN_OPERATION</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e1654 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(20)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e1654 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e1654 d1454073e202 ">
                              <p>The RMAN operation executed by the job. One row will be added for each distinct operation within an RMAN session. For example, a backup job would contain <code class="codeph">BACKUP</code> in the <code class="codeph">RMAN_OPERATION</code> column.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e1675" headers="d1454073e193 ">
                              <p><code class="codeph">RMAN_OBJECT_TYPE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e1675 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(20)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e1675 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e1675 d1454073e202 ">
                              <p>Type of objects involved for backup or restore/recover or change/delete/crosscheck commands.</p>
                              <p>It contains one of the following values. If RMAN command does not satisfy one of them, then preference is given in order, from top to bottom of the list:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">DB FULL</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">RECVR AREA</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">DB INCR</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">DATAFILE FULL</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">DATAFILE INCR</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ARCHIVELOG</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">CONTROLFILE</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">SPFILE</code></p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e1725" headers="d1454073e193 ">
                              <p><code class="codeph">RMAN_DEVICE_TYPE</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e1725 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(5)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e1725 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e1725 d1454073e202 ">
                              <p>Device involved in the RMAN job. It may be <code class="codeph">DISK</code> or <code class="codeph">SBT_TAPE</code> or  <code class="codeph">*</code>  (An <code class="codeph">*</code> indicates that more than one location is involved).
                              </p>
                              <p>For a backup job, it will be the output device type. For other commands (such as restore or crosscheck), it will be the input device type.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e1754" headers="d1454073e193 ">
                              <p><code class="codeph">DP_TEXT_PARAMETERS1</code> 
                              </p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e1754 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(512)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e1754 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e1754 d1454073e202 ">
                              <p>Parameters during a Data Pump operation that have a text/string value. This may contain the values for:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">ACCESS METHODS</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">DATA OPTIONS</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">DUMPER DIRECTORY</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">JOB_TYPE</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">JOB VERSION</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">MASTER TABLE</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">METADATA_JOB_MODE</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">PARTITION OPTIONS</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">REMOTE LINK</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">TABLE EXISTS</code></p>
                                 </li>
                              </ul>
                              <p>For descriptions and more information about the settings that can appear for these Data Pump text parameters, see <a href="UNIFIED_AUDIT_TRAIL.html#GUID-B7CE1C02-2FD4-47D6-80AA-CF74A60CDD1D__CHDJBHFG" title="Provides more information about the values that can appear in the DP_TEXT_PARAMETERS1 column">Table 6-2</a>.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e1818" headers="d1454073e193 ">
                              <p><code class="codeph">DP_BOOLEAN_PARAMETERS1</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e1818 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(512)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e1818 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e1818 d1454073e202 ">
                              <p>Parameters during a Data Pump operation that have a boolean value. This may contain the values for:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">DATA_ONLY</code> - Boolean value for whether or not the operation processed data only (as opposed to metadata only, or metadata and data combined)
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">DUMPFILE_PRESENT</code> - Denotes whether a dump file exists. Typically, it indicates whether a network export in which no dumpfile is required.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">JOB_RESTARTED</code> - Boolean that indicates if the export or import job had to be restarted
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">MASTER_ONLY</code> - Indicates whether the import job imported just the master table and then stopped the job so that the contents of the master table can be examined
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">METADATA_ONLY</code> - Boolean value for whether or not the operation processed metadata only (as opposed to data only, or metadata and data combined)
                                    </p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e1859" headers="d1454073e193 ">
                              <p><code class="codeph">DIRECT_PATH_NUM_COLUMNS_LOADED</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e1859 d1454073e196 ">
                              <p><code class="codeph">NUMBER</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e1859 d1454073e199 ">
                              <p> </p> 
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e1859 d1454073e202 ">
                              <p>Shows the number of columns that were loaded using the SQL*Loader direct path load method</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e1875" headers="d1454073e193 ">
                              <p><code class="codeph">RLS_INFO</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e1875 d1454073e196 ">
                              <p><code class="codeph">CLOB</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e1875 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e1875 d1454073e202 ">
                              <p>Stores virtual private database (VPD) policy names and predicates separated by delimiter.</p>
                              <p>To format the output into individual rows, use the <code class="codeph">DBMS_AUDIT_UTIL.DECODE_RLS_INFO_ATRAIL_UNI</code> function.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e1895" headers="d1454073e193 ">
                              <p><code class="codeph">KSACL_USER_NAME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e1895 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(128)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e1895 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e1895 d1454073e202 ">
                              <p>The connecting user name</p>
                              <p>The value in this column is meaningful only when the <code class="codeph">UNIFIED_AUDIT_TRAIL.RETURN_CODE</code> is <code class="codeph">46981</code>, which is the denial-of-service (DoS) error code.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e1918" headers="d1454073e193 ">
                              <p><code class="codeph">KSACL_SERVICE_NAME</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e1918 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(512)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e1918 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e1918 d1454073e202 ">
                              <p>The target database service name</p>
                              <p>The value in this column is meaningful only when the <code class="codeph">UNIFIED_AUDIT_TRAIL.RETURN_CODE</code> is <code class="codeph">46981</code>, which is the denial-of-service (DoS) error code.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="24%" id="d1454073e1942" headers="d1454073e193 ">
                              <p><code class="codeph">KSACL_SOURCE_LOCATION</code></p>
                           </td>
                           <td align="left" valign="top" width="18%" headers="d1454073e1942 d1454073e196 ">
                              <p><code class="codeph">VARCHAR2(48)</code></p>
                           </td>
                           <td align="left" valign="top" width="14%" headers="d1454073e1942 d1454073e199 ">
                              <p> </p>
                           </td>
                           <td align="left" valign="top" width="45%" headers="d1454073e1942 d1454073e202 ">
                              <p>The source location of the initiating connection</p>
                              <p>The value in this column is meaningful only when the <code class="codeph">UNIFIED_AUDIT_TRAIL.RETURN_CODE</code> is <code class="codeph">46981</code>, which is the denial-of-service (DoS) error code.
                              </p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
               <p class="tablefootnote"><sup class="tablefootnote">Footnote&nbsp;1 </sup>This column is available starting with Oracle Database release 19c, version 19.1.
               </p>
               <div class="tblformal" id="GUID-B7CE1C02-2FD4-47D6-80AA-CF74A60CDD1D__CHDJBHFG">
                  <p class="titleintable">Table 6-2 Data Pump Text Parameter Descriptions</p>
                  <table cellpadding="4" cellspacing="0" class="Formal" title="Data Pump Text Parameter Descriptions" summary="Provides more information about the values that can appear in the DP_TEXT_PARAMETERS1 column" width="100%" frame="hsides" border="1" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="31%" id="d1454073e1974">Parameter</th>
                           <th align="left" valign="bottom" width="69%" id="d1454073e1977">Description</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="31%" id="d1454073e1982" headers="d1454073e1974 ">
                              <p><code class="codeph">ACCESS METHOD</code></p>
                           </td>
                           <td align="left" valign="top" width="69%" headers="d1454073e1982 d1454073e1977 ">
                              <p>The method used to load the data. Settings can be:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">AUTOMATIC</code>: Enables Oracle Data Pump to determine the optimal load method
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">DIRECT_PATH</code> : Uses the direct path API to pass the data to be loaded. 
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">EXTERNAL_TABLE</code>: Loads data using the external tables option. 
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">CONVENTIONAL</code>: Loads the data using SQL <code class="codeph">INSERT</code> statements
                                    </p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="31%" id="d1454073e2014" headers="d1454073e1974 ">
                              <p><code class="codeph">DATA OPTIONS</code></p>
                           </td>
                           <td align="left" valign="top" width="69%" headers="d1454073e2014 d1454073e1977 ">
                              <p>Indicates how certain types of data were handled during import operations. Settings are in bit-mask format, which are as follows: </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">1</code> (<code class="codeph">SKIP_CONSTRAINT_ERRORS</code>): Specifies that the import operation proceeded even if non-deferred constraint violations were encountered.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">8</code> (<code class="codeph">DISABLE_APPEND_HINT</code>): The import operation did not use the <code class="codeph">APPEND</code> hint while loading a data object.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">16</code> (<code class="codeph">REJECT_ROWS_WITH_REPL_CHAR</code>): Warnings are issued when the replacement character may be used and an option was added to reject data rows where the replacement character was used during a Data Pump import. This situation can occur if different character sets are used for the export/import process
                                    </p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="31%" id="d1454073e2050" headers="d1454073e1974 ">
                              <p><code class="codeph">DUMPER DIRECTORY</code></p>
                           </td>
                           <td align="left" valign="top" width="69%" headers="d1454073e2050 d1454073e1977 ">
                              <p>Not in use</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="31%" id="d1454073e2058" headers="d1454073e1974 ">
                              <p><code class="codeph">JOB_TYPE</code></p>
                           </td>
                           <td align="left" valign="top" width="69%" headers="d1454073e2058 d1454073e1977 ">
                              <p>Is either <code class="codeph">EXPORT</code> or <code class="codeph">IMPORT</code></p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="31%" id="d1454073e2071" headers="d1454073e1974 ">
                              <p><code class="codeph">JOB VERSION</code></p>
                           </td>
                           <td align="left" valign="top" width="69%" headers="d1454073e2071 d1454073e1977 ">
                              <p>Specifies the version of database objects that were imported</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="31%" id="d1454073e2079" headers="d1454073e1974 ">
                              <p><code class="codeph">MASTER TABLE</code></p>
                           </td>
                           <td align="left" valign="top" width="69%" headers="d1454073e2079 d1454073e1977 ">
                              <p>Indicates the name of the master table. By default, it appears as follows for export operations:</p><pre class="oac_no_warn" dir="ltr"><span class="italic">schema_name</span>.SYS_EXPORT_TABLE_<span class="italic">n</span></pre><p>For import operations, it appears as follows:</p><pre class="oac_no_warn" dir="ltr"><span class="italic">schema_name</span>.SYS_IMPORT_TABLE_<span class="italic">n</span></pre><p>The <span class="italic"><code class="codeph">n</code></span> represents a numeric value of <code class="codeph">01</code>. If 01 is in use, the number is incremented with <code class="codeph">02</code>, <code class="codeph">03</code>, and so on.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="31%" id="d1454073e2116" headers="d1454073e1974 ">
                              <p><code class="codeph">METADATA_JOB_MODE</code></p>
                           </td>
                           <td align="left" valign="top" width="69%" headers="d1454073e2116 d1454073e1977 ">
                              <p>Type of export or import operation. For example a table export would be <code class="codeph">TABLE_EXPORT</code></p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="31%" id="d1454073e2126" headers="d1454073e1974 ">
                              <p><code class="codeph">PARTITION OPTIONS</code></p>
                           </td>
                           <td align="left" valign="top" width="69%" headers="d1454073e2126 d1454073e1977 ">
                              <p>Indicates how table partitions were created during an import operation. Settings can be: </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">NONE</code>: The tables were created as they existed on the system from which the export operation was performed.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">DEPARTITION</code>: Each partition or subpartition was promoted to a new individual table.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">MERGE</code>: All partitions and subpartitions were merged into one table
                                    </p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="31%" id="d1454073e2150" headers="d1454073e1974 ">
                              <p><code class="codeph">REMOTE LINK</code></p>
                           </td>
                           <td align="left" valign="top" width="69%" headers="d1454073e2150 d1454073e1977 ">
                              <p>Indicates that the export was performed from a (source) database identified by a valid database link. The data from the source database instance was written to a dump file set on the connected database instance. </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="31%" id="d1454073e2158" headers="d1454073e1974 ">
                              <p><code class="codeph">TABLE EXISTS</code></p>
                           </td>
                           <td align="left" valign="top" width="69%" headers="d1454073e2158 d1454073e1977 ">
                              <p>Indicates the action that was taken on an import operation when the target table already existed. The values are as follows:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">REPLACE</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">TRUNCATE</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">SKIP</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">APPEND</code></p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
               <div class="section">
                  <div class="infoboxnotealso" id="GUID-B7CE1C02-2FD4-47D6-80AA-CF74A60CDD1D__GUID-D3DAA77A-86BA-4AD0-89A6-36FA099FFA44">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../arpls/DBMS_AUDIT_MGMT.html#ARPLS241" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> for more information about the <code class="codeph">DBMS_AUDIT_MGMT</code> package
                           </p>
                        </li>
                        <li>
                           <p><a href="../arpls/DBMS_AUDIT_UTIL.html#ARPLS-GUID-33BF0E4E-BD12-4278-BF9E-F3B694A8B54F" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> for more information about the <code class="codeph">DBMS_AUDIT_UTIL.DECODE_RLS_INFO_ATRAIL_UNI</code> function
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html><html id='04757.high-availability-in-oci.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="This chapter describes high availability (HA) features in OCI.">
      <meta name="description" content="This chapter describes high availability (HA) features in OCI.">
      <title>High Availability in OCI</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Programmer's Guide">
      <meta property="og:description" content="This chapter describes high availability (HA) features in OCI.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Programmer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="oracle-call-interface-programmers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-14T08:46:00-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96204-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="session-and-connection-pooling.html" title="Previous" type="text/html">
      <link rel="next" href="notification-streams-advanced-queuing.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle Call Interface Programmer's Guide">
    <meta name="dcterms.isVersionOf" content="LNOCI">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="session-and-connection-pooling.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="notification-streams-advanced-queuing.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Programmer's Guide</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">High Availability in OCI</li>
            </ol>
            <a id="GUID-F9EC61C1-5892-41E3-A382-853E9A47789C" name="GUID-F9EC61C1-5892-41E3-A382-853E9A47789C"></a>
            
            <h2 id="LNOCI-GUID-F9EC61C1-5892-41E3-A382-853E9A47789C" class="sect2"><span class="enumeration_chapter">12 </span>High Availability in OCI
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This chapter describes high availability (HA) features in OCI.</p>
               <div class="p">This chapter includes the following topics:
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="high-availability-in-oci.html#GUID-A8B79A40-C4AA-4FBA-8042-C70C8FD2D2EF" title="Runtime connection load balancing routes work requests to sessions in a session pool that best serve the work.">Runtime Connection Load Balancing</a></p>
                     </li>
                     <li>
                        <p><a href="high-availability-in-oci.html#GUID-EF4E3248-D4F9-4F06-ADC5-700A36AAE5E7" title="Use HA event notification to provide a best-effort programmatic signal to the client if there is a database failure for high availability clients connected to an Oracle RAC database.">HA Event Notification</a></p>
                     </li>
                     <li>
                        <p><a href="high-availability-in-oci.html#GUID-F7817CD2-4A2C-4D37-BD36-56DBABD4725F" title="Transparent application failover (TAF) is a client-side feature designed to minimize disruptions to end-user applications that occur when database connectivity fails because of instance or network failure.">Transparent Application Failover in OCI</a></p>
                     </li>
                     <li>
                        <p><a href="high-availability-in-oci.html#GUID-A675AF7B-6FF0-460D-A6E6-C15E7C328C8F" title="Transaction Guard introduces the concept of at-most-once transaction execution in case of a planned or unplanned outage to help prevent an application upon failover from submitting a duplicate submission of an original submission.">OCI and Transaction Guard</a></p>
                     </li>
                     <li>
                        <p><a href="high-availability-in-oci.html#GUID-A8DD9422-2F82-42A9-9555-134296416E8F" title="Application Continuity (AC) gives High Availability (HA) during planned and unplanned outages. OCI support for AC was introduced with Oracle Database 12c Release 2 (12.2).">OCI and Application Continuity</a></p>
                     </li>
                  </ul>
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-A8B79A40-C4AA-4FBA-8042-C70C8FD2D2EF" name="GUID-A8B79A40-C4AA-4FBA-8042-C70C8FD2D2EF"></a><h3 id="LNOCI-GUID-A8B79A40-C4AA-4FBA-8042-C70C8FD2D2EF" class="sect3"><span class="enumeration_section">12.1 </span>Runtime Connection Load Balancing
               </h3>
               <div>
                  <p>Runtime connection load balancing routes work requests to sessions in a session pool that best serve the work.</p>
                  <p>It occurs when an application selects a session from an existing session pool and thus is a very frequent activity. For session pools that support services at one instance only, the first available session in the pool is adequate. When the pool supports services that span multiple instances, there is a need to distribute the work requests across instances so that the instances that are providing better service or have greater capacity get more requests.</p>
                  <p>Applications must connect to an Oracle RAC instance to enable runtime connection load balancing. Furthermore, these applications must: </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Initialize the OCI Environment in <code class="codeph">OCI_EVENTS</code> mode
                        </p>
                     </li>
                     <li>
                        <p>Connect to a service that has runtime connection load balancing enabled (use the <code class="codeph">DBMS_SERVICE.MODIFY_SERVICE</code> procedure to set <code class="codeph">GOAL</code> and <code class="codeph">CLB_GOAL</code> as appropriate)
                        </p>
                     </li>
                     <li>
                        <p>Link with a thread library</p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-A8B79A40-C4AA-4FBA-8042-C70C8FD2D2EF__GUID-50651043-7613-4F36-95E2-4122F0E8CD32">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../racad/workload-management-with-dynamic-database-services.html#RACAD7302" target="_blank"><span><cite>Oracle Real Application Clusters Administration and Deployment Guide</cite></span></a> for information about load balancing advisory
                           </p>
                        </li>
                        <li>
                           <p><a href="../adfns/connection_strategies.html#ADFNS229" target="_blank"><span><cite>Oracle Database Development Guide</cite></span></a> for information about enabling and disabling runtime connection load balancing for the supported interfaces, and receiving load balancing advisory FAN events
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-EF4E3248-D4F9-4F06-ADC5-700A36AAE5E7" name="GUID-EF4E3248-D4F9-4F06-ADC5-700A36AAE5E7"></a><h3 id="LNOCI-GUID-EF4E3248-D4F9-4F06-ADC5-700A36AAE5E7" class="sect3"><span class="enumeration_section">12.2 </span>HA Event Notification
               </h3>
               <div>
                  <p>Use HA event notification to provide a best-effort programmatic signal to the client if there is a database failure for high availability clients connected to an Oracle RAC database. </p>
                  <p>Suppose that a user employs a web browser to log in to an application server that accesses a back-end database server. Failure of the database instance can result in a wait that can be up to minutes in duration before the failure is known to the user. The ability to quickly detect failures of server instances, communicate this to the client, close connections, and clean up idle connections in connection pools is provided by HA event notification.</p>
                  <p>For high availability clients connected to an Oracle RAC database, you can use HA event notification to provide a best-effort programmatic signal to the client if there is a database failure. Client applications can register a callback on the environment handle to signal interest in this information. When a significant failure event occurs that applies to a connection made by this client, the callback is invoked, with information concerning the event (the event payload) and a list of connections (server handles) that were disconnected because of the failure.</p>
                  <p>For example, consider a client application that has two connections to instance A and two connections to instance B of the same database. If instance A goes down, a notification of the event is sent to the client, which then disconnects the two connections to instance B and invokes the registered callback. Note that if another instance C of the same database goes down, the client is not notified (because it does not affect any of the client's connections).</p>
                  <p>The HA event notification mechanism improves the response time of the application in the presence of failure. Before the mechanism was introduced in Oracle Database 10g Release 2 (10.2), a failure would result in the connection being broken only after the TCP timeout interval expired, which could take minutes. With HA event notification, the standalone, connection pool, and session pool connections are automatically broken and cleaned up by OCI, and the application callback is invoked within seconds of the failure event. If any of these server handles are TAF-enabled, failover is also automatically engaged by OCI.</p>
                  <p>In the current release, this functionality depends on Oracle Notification Service (ONS). It requires Oracle Clusterware to be installed and configured on the database server for the clients to receive the HA notifications through ONS. All clusterware installations (for example, Oracle Data Guard) should have the same ONS port. There is no client configuration required for ONS.</p>
                  <div class="infoboxnote" id="GUID-EF4E3248-D4F9-4F06-ADC5-700A36AAE5E7__GUID-3B124258-ED11-4264-B861-1783110DF5A9">
                     <p class="notep1">Note:</p>
                     <p>The client transparently gets the ONS server information from the database to which it connects. The application administrator can augment or override that information using the deployment configuration file <code class="codeph">oraaccess.xml</code>. 
                     </p>
                  </div>
                  <p>Applications must connect to an Oracle RAC instance to enable HA event notification. Furthermore, these applications must: </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Initialize the OCI Environment in <code class="codeph">OCI_EVENTS</code> mode
                        </p>
                     </li>
                     <li>
                        <p>Connect to a service that has notifications enabled (use the <code class="codeph">DBMS_SERVICE.MODIFY_SERVICE</code> procedure to set <code class="codeph">AQ_HA_NOTIFICATIONS</code> to <code class="codeph">TRUE</code>)
                        </p>
                     </li>
                     <li>
                        <p>Link with a thread library</p>
                     </li>
                  </ul>
                  <p>Then these applications can register a callback that is invoked whenever an HA event occurs.</p>
                  <div class="p">This section includes the following topics:
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="high-availability-in-oci.html#GUID-7A565C79-9A70-459D-BD31-F94BA3E31CE0" title="The OCIEvent handle encapsulates the attributes from the event payload.">OCIEvent Handle</a></p>
                        </li>
                        <li>
                           <p><a href="high-availability-in-oci.html#GUID-F514FB5E-049B-4759-8E39-16853213F7C9" title="A connection pool in an instance of Oracle RAC consists of a pool of connections connected to different instances of Oracle RAC.">OCI Failover for Connection and Session Pools</a></p>
                        </li>
                        <li>
                           <p><a href="high-availability-in-oci.html#GUID-9588A120-E61E-4E87-85E8-1E6D9155B581" title="No special handling is required for independent connections; all such connections that are connected to failed instances are immediately disconnected.">OCI Failover for Independent Connections</a></p>
                        </li>
                        <li>
                           <p><a href="high-availability-in-oci.html#GUID-889935A8-154F-460B-9050-1600C4B53EA7" title="Shows the signature of the event callback of type OCIEventCallback.">Event Callback</a></p>
                        </li>
                        <li>
                           <p><a href="high-availability-in-oci.html#GUID-4EDF9F6A-6210-4731-909A-838EC0E7BB2E" title="Using custom pools, you can retrieve the server handle’s tag information so appropriate cleanup can be performed.">Custom Pooling: Tagged Server Handles</a></p>
                        </li>
                        <li>
                           <p><a href="high-availability-in-oci.html#GUID-D34432B4-2962-48A7-9D9C-789200091B43" title="You can have the application adjust its behavior if a connection is or is not TAF-enabled.">About Determining Transparent Application Failover (TAF) Capabilities</a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="infoboxnotealso" id="GUID-EF4E3248-D4F9-4F06-ADC5-700A36AAE5E7__GUID-1F9FADDE-F254-4189-BACF-D2D94DC3B0B6">
                     <p class="notep1">See Also:</p>
                     <p><a href="build-and-configure-oci-applications.html#GUID-7F47F9F7-EF51-4D68-8B2A-2443C837710B" title="When equivalent parameters are set both in the sqlnet.ora and oraaccess.xml files, the oraaccess.xml file setting takes precedence over the corresponding sqlnet.ora file setting.">About Client-Side Deployment Parameters Specified in oraaccess.xml</a> for more information about <code class="codeph">oraaccess.xml</code> and details about the parameters under <code class="codeph">&lt;events&gt;</code>, <code class="codeph">&lt;fan&gt;</code> and <code class="codeph">&lt;ons&gt;</code></p>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-7A565C79-9A70-459D-BD31-F94BA3E31CE0" name="GUID-7A565C79-9A70-459D-BD31-F94BA3E31CE0"></a><h4 id="LNOCI-GUID-7A565C79-9A70-459D-BD31-F94BA3E31CE0" class="sect4"><span class="enumeration_section">12.2.1 </span>OCIEvent Handle
                  </h4>
                  <div>
                     <p>The <code class="codeph">OCIEvent</code> handle encapsulates the attributes from the event payload.
                     </p>
                     <p>OCI implicitly allocates this handle before calling the event callback, which can obtain the read-only attributes of the event by calling <code class="codeph">OCIAttrGet()</code>. Memory associated with these attributes is only valid for the duration of the event callback.
                     </p>
                     <div class="infoboxnotealso" id="GUID-7A565C79-9A70-459D-BD31-F94BA3E31CE0__GUID-1B9666B6-1DDA-4C42-8026-351B232F60AD">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="handle-and-descriptor-attributes.html#GUID-0AE31265-370D-4373-82D6-837A7C8C8463" title="Lists and describes event handle attributes.">Event Handle Attributes</a></p>
                           </li>
                           <li>
                              <p><a href="handle-and-descriptor-functions.html#GUID-FA199A99-4D7A-42C2-BB0A-C20047B95DF9" title="Gets the value of an attribute of a handle.">OCIAttrGet()</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-F514FB5E-049B-4759-8E39-16853213F7C9" name="GUID-F514FB5E-049B-4759-8E39-16853213F7C9"></a><h4 id="LNOCI-GUID-F514FB5E-049B-4759-8E39-16853213F7C9" class="sect4"><span class="enumeration_section">12.2.2 </span>OCI Failover for Connection and Session Pools
                  </h4>
                  <div>
                     <p>A connection pool in an instance of Oracle RAC consists of a pool of connections connected to different instances of Oracle RAC.</p>
                     <p>Upon receiving the node failure notification, all the connections connected to that particular instance should be cleaned up. For the connections that are in use, OCI must close the connections: transparent application failover (TAF) occurs immediately, and those connections are reestablished. The connections that are idle and in the free list of the pool must be purged, so that a bad connection is never returned to the user from the pool.</p>
                     <p>To accommodate custom connection pools, OCI provides a callback function that can be registered on the environment handle. If registered, this callback is invoked when an HA event occurs. Session pools are treated the same way as connection pools. Note that server handles from OCI connection pools or session pools are not passed to the callback. Hence in some cases, the callback could be called with an empty list of connections.</p>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-9588A120-E61E-4E87-85E8-1E6D9155B581" name="GUID-9588A120-E61E-4E87-85E8-1E6D9155B581"></a><h4 id="LNOCI-GUID-9588A120-E61E-4E87-85E8-1E6D9155B581" class="sect4"><span class="enumeration_section">12.2.3 </span>OCI Failover for Independent Connections
                  </h4>
                  <div>
                     <p>No special handling is required for independent connections; all such connections that are connected to failed instances are immediately disconnected.</p>
                     <p>For idle connections, TAF is engaged to reestablish the connection when the connection is used on a subsequent OCI call. Connections that are in use at the time of the failure event are broken out immediately, so that TAF can begin. Note that this applies for the "in-use" connections of connection and session pools also.</p>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-889935A8-154F-460B-9050-1600C4B53EA7" name="GUID-889935A8-154F-460B-9050-1600C4B53EA7"></a><h4 id="LNOCI-GUID-889935A8-154F-460B-9050-1600C4B53EA7" class="sect4"><span class="enumeration_section">12.2.4 </span>Event Callback
                  </h4>
                  <div>
                     <p>Shows the signature of the  event callback of type <code class="codeph">OCIEventCallback</code>.
                     </p>
                     <p>The event callback, of type <code class="codeph">OCIEventCallback</code>, has the following signature: 
                     </p><pre class="oac_no_warn" dir="ltr">void evtcallback_fn (void      *evtctx,
                     OCIEvent  *eventhp );
</pre><p>In this signature <code class="codeph">evtctx</code> is the client context, and <code class="codeph">OCIEvent</code> is an event handle that is opaque to the OCI library. The other input argument is <code class="codeph">eventhp</code>, the event handle (the attributes associated with an event).
                     </p>
                     <p>If registered, this function is called once for each event. For Oracle RAC HA events, this callback is invoked after the affected connections have been disconnected. The following environment handle attributes are used to register an event callback and context, respectively:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">OCI_ATTR_EVTCBK</code> is of data type <code class="codeph">OCIEventCallback</code> <code class="codeph">*</code>. It is read-only.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">OCI_ATTR_EVTCTX</code> is of data type <code class="codeph">void</code> <code class="codeph">*</code>. It is also read-only.
                           </p>
                        </li>
                     </ul><pre class="oac_no_warn" dir="ltr">text *myctx = "dummy context"; /* dummy context passed to callback fn */
...
/* OCI_ATTR_EVTCBK and OCI_ATTR_EVTCTX are read-only. */
OCIAttrSet(envhp, (ub4) OCI_HTYPE_ENV, (void *) evtcallback_fn,
           (ub4) 0, (ub4) OCI_ATTR_EVTCBK, errhp);
OCIAttrSet(envhp, (ub4) OCI_HTYPE_ENV, (void *) myctx,
           (ub4) 0, (ub4) OCI_ATTR_EVTCTX, errhp);
...
</pre><p>Within the OCI event callback, the list of affected server handles is encapsulated in the <code class="codeph">OCIEvent</code> handle. For Oracle RAC HA DOWN events, client applications can iterate over a list of server handles that are affected by the event by using <code class="codeph">OCIAttrGet()</code> with attribute types <code class="codeph">OCI_ATTR_HA_SRVFIRST</code> and <code class="codeph">OCI_ATTR_HA_SRVNEXT</code>: 
                     </p><pre class="oac_no_warn" dir="ltr">OCIAttrGet(eventhp, OCI_HTYPE_EVENT, (void *)&amp;srvhp, (ub4 *)0,
           OCI_ATTR_HA_SRVFIRST, errhp); 
/* or, */
OCIAttrGet(eventhp, OCI_HTYPE_EVENT, (void *)&amp;srvhp, (ub4 *)0,
           OCI_ATTR_HA_SRVNEXT, errhp);
</pre><p>When called with attribute <code class="codeph">OCI_ATTR_HA_SRVFIRST</code>, this function retrieves the first server handle in the list of server handles affected. When called with attribute <code class="codeph">OCI_ATTR_HA_SRVNEXT</code>, this function retrieves the next server handle in the list. This function returns <code class="codeph">OCI_NO_DATA</code> and <code class="codeph">srvhp</code> is a <code class="codeph">NULL</code> pointer, when there are no more server handles to return.
                     </p>
                     <p><code class="codeph">srvhp</code> is an output pointer to a server handle whose connection has been closed because of an HA event. <code class="codeph">errhp</code> is an error handle to populate. The application returns an <code class="codeph">OCI_NO_DATA</code> error when there are no more affected server handles to retrieve.
                     </p>
                     <p>When retrieving the list of server handles that have been affected by an HA event, be aware that the connection has already been closed and many server handle attributes are no longer valid. Instead, use the user memory segment of the server handle to store any per-connection attributes required by the event notification callback. This memory remains valid until the server handle is freed.</p>
                     <div class="infoboxnotealso" id="GUID-889935A8-154F-460B-9050-1600C4B53EA7__GUID-512ED298-0BDC-46CA-8748-FCE0D864A337">
                        <p class="notep1">See Also:</p>
                        <p><a href="handle-and-descriptor-functions.html#GUID-FA199A99-4D7A-42C2-BB0A-C20047B95DF9" title="Gets the value of an attribute of a handle.">OCIAttrGet()</a></p>
                     </div>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-4EDF9F6A-6210-4731-909A-838EC0E7BB2E" name="GUID-4EDF9F6A-6210-4731-909A-838EC0E7BB2E"></a><h4 id="LNOCI-GUID-4EDF9F6A-6210-4731-909A-838EC0E7BB2E" class="sect4"><span class="enumeration_section">12.2.5 </span>Custom Pooling: Tagged Server Handles
                  </h4>
                  <div>
                     <p>Using custom pools, you can retrieve the server handle’s tag information so appropriate cleanup can be performed.</p>
                     <p>The following features apply to custom pools:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>You can tag a server handle with its parent connection object if it is created on behalf of a custom pool. Use the "user memory" parameters of <code class="codeph">OCIHandleAlloc()</code> to request that the server handle be allocated with a user memory segment. A pointer to the "user memory" segment is returned by <code class="codeph">OCIHandleAlloc()</code>.
                           </p>
                        </li>
                        <li>
                           <p>When an HA event occurs and an affected server handle has been retrieved, there is a means to retrieve the server handle's tag information so appropriate cleanup can be performed. The attribute <code class="codeph">OCI_ATTR_USER_MEMORY</code> is used to retrieve a pointer to a handle's user memory segment. <code class="codeph">OCI_ATTR_USER_MEMORY</code> is valid for all user-allocated handles. If the handle was allocated with extra memory, this attribute returns a pointer to the user memory. A <code class="codeph">NULL</code> pointer is returned for those handles not allocated with extra memory. This attribute is read-only and is of data type <code class="codeph">void*</code>.
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-4EDF9F6A-6210-4731-909A-838EC0E7BB2E__GUID-CECC5161-D15D-4AE2-91F9-E2FD8EB99A8F">
                        <p class="notep1">Note:</p>
                        <p>You are free to define the precise contents of the server handle's user memory segment to facilitate cleanup activities from within the HA event callback (or for other purposes if needed) because OCI does not write or read from this memory in any way. The user memory segment is freed with the <code class="codeph">OCIHandleFree()</code> call on the server handle.
                        </p>
                     </div>
                     <p><a href="high-availability-in-oci.html#GUID-4EDF9F6A-6210-4731-909A-838EC0E7BB2E__CACCIFIF">Example 12-1</a> shows an example of event notification.
                     </p>
                     <div class="example" id="GUID-4EDF9F6A-6210-4731-909A-838EC0E7BB2E__CACCIFIF">
                        <p class="titleinexample">Example 12-1 Event Notification</p><pre class="oac_no_warn" dir="ltr">sword retval;
OCIServer *srvhp;
struct myctx {
   void *parentConn_myctx;
   uword numval_myctx;
};
typedef struct myctx myctx; 
myctx  *myctxp;
/* Allocate a server handle with user memory - pre 10.2 functionality */
if (retval = OCIHandleAlloc(envhp, (void **)&amp;srvhp, OCI_HTYPE_SERVER,
                            (size_t)sizeof(myctx), (void **)&amp;myctxp)
/* handle error */
myctxp-&gt;parentConn_myctx = &lt;parent connection reference&gt;;
 
/* In an event callback function, retrieve the pointer to the user memory */
evtcallback_fn(void *evtctx, OCIEvent *eventhp)
{ 
  myctx *ctxp = (myctx *)evtctx;
  OCIServer *srvhp;
  OCIError *errhp;
  sb4       retcode;
  retcode = OCIAttrGet(eventhp, OCI_HTYPE_SERVER, &amp;srvhp, (ub4 *)0,
                       OCI_ATTR_HA_SRVFIRST, errhp); 
  while (!retcode) /* OCIAttrGet will return OCI_NO_DATA if no more srvhp */ 
  {  
     OCIAttrGet((void *)srvhp, OCI_HTYPE_SERVER, (void *)&amp;ctxp,
                (ub4)0, (ub4)OCI_ATTR_USER_MEMORY, errhp);
           /* Remove the server handle from the parent connection object */
     retcode = OCIAttrGet(eventhp, OCI_HTYPE_SERVER, &amp;srvhp, (ub4 *)0,
                          OCI_ATTR_HA_SRVNEXT, errhp);
...
  }
...
}
</pre><div class="infoboxnotealso" id="GUID-4EDF9F6A-6210-4731-909A-838EC0E7BB2E__GUID-1BF0FA44-60E1-411F-87C2-8DEC2078F8C3">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="handle-and-descriptor-functions.html#GUID-C5BF55F7-A110-4CB5-9663-5056590F12B5" title="Returns a pointer to an allocated and initialized handle.">OCIHandleAlloc()</a></p>
                              </li>
                              <li>
                                 <p><a href="handle-and-descriptor-functions.html#GUID-E87E9F91-D3DC-4F35-BE7C-F1EFBFEEBA0A" title="Explicitly deallocates a handle">OCIHandleFree()</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-D34432B4-2962-48A7-9D9C-789200091B43" name="GUID-D34432B4-2962-48A7-9D9C-789200091B43"></a><h4 id="LNOCI-GUID-D34432B4-2962-48A7-9D9C-789200091B43" class="sect4"><span class="enumeration_section">12.2.6 </span>About Determining Transparent Application Failover (TAF) Capabilities
                  </h4>
                  <div>
                     <p>You can have the application adjust its behavior if a connection is or is not TAF-enabled.</p>
                     <p>Use <code class="codeph">OCIAttrGet()</code> as follows to determine if a server handle is TAF-enabled:
                     </p><pre class="oac_no_warn" dir="ltr">boolean taf_capable;
...
OCIAttrGet(srvhp, (ub4) OCI_HTYPE_SERVER, (void *) &amp;taf_capable, 
           (ub4) sizeof(taf_capable), (ub4)OCI_ATTR_TAF_ENABLED, errhp);
...
</pre><p>In this example, <code class="codeph">taf_capable</code> is a <span>Boolean variable</span>, which this call sets to <code class="codeph">TRUE</code> if the server handle is TAF-enabled, and <code class="codeph">FALSE</code> if not; <code class="codeph">srvhp</code> is an input target server handle; <code class="codeph">OCI_ATTR_TAF_ENABLED</code> is an attribute that is a pointer to a <span>Boolean</span> variable and is read-only; <code class="codeph">errhp</code> is an input error handle.
                     </p>
                  </div>
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-F7817CD2-4A2C-4D37-BD36-56DBABD4725F" name="GUID-F7817CD2-4A2C-4D37-BD36-56DBABD4725F"></a><h3 id="LNOCI-GUID-F7817CD2-4A2C-4D37-BD36-56DBABD4725F" class="sect3"><span class="enumeration_section">12.3 </span>Transparent Application Failover in OCI
               </h3>
               <div>
                  <p>Transparent application failover (TAF) is a client-side feature designed to minimize disruptions to end-user applications that occur when database connectivity fails because of instance or network failure.</p>
                  <p>TAF can be implemented on a variety of system configurations including Oracle Real Application Clusters (Oracle RAC) and Oracle Data Guard physical standby databases. TAF can also be used after restarting a single instance system (for example, when repairs are made).</p>
                  <p>TAF can be configured to restore database sessions and optionally, to replay open queries. Starting with Oracle Database 10g Release 2 (10.2) all statements that an application attempts to use after a failure attempt failover. That is, an attempt to execute or fetch against other statements engages TAF recovery just as for the failure-time statement. Subsequent statements may now succeed (whereas in the past they failed), or the application may receive errors corresponding to an attempted TAF recovery (such as <code class="codeph">ORA-25401</code>).
                  </p>
                  <div class="infoboxnote" id="GUID-F7817CD2-4A2C-4D37-BD36-56DBABD4725F__GUID-ECE2F46C-FE35-4806-873B-0E4A5F9DC5E3">
                     <p class="notep1">Note:</p>
                     <p>Oracle recommends for applications to register a callback, so when failover happens, the callback can be used to restore the session to the desired state.</p>
                  </div>
                  <div class="infoboxnote" id="GUID-F7817CD2-4A2C-4D37-BD36-56DBABD4725F__GUID-F4ECC2C1-0DBC-4EB2-A14F-C44453ECDFE4">
                     <p class="notep1">Note:</p>
                     <p>TAF is not supported for remote database links or for DML statements.</p>
                  </div>
                  <div class="p">This section contains the following topics:
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="high-availability-in-oci.html#GUID-B80BF32E-A4E5-4995-A5C6-0C53F823130F" title="TAF can be configured on both the client side and the server side. If both are configured, server-side settings take precedence.">About Configuring Transparent Application Failover</a></p>
                        </li>
                        <li>
                           <p><a href="high-availability-in-oci.html#GUID-0CBC5C17-608B-4C5D-9A88-37FBE27D8029" title="Because of the delay that can occur during failover, the application developer may want to inform the user that failover is in progress, and request that the user wait for notification that failover is complete.">Transparent Application Failover Callbacks in OCI</a></p>
                        </li>
                        <li>
                           <p><a href="high-availability-in-oci.html#GUID-3C9922CC-3346-4C29-81F8-8E3CF7170CF6" title="Describes the TAF Callback structure and parameters.">Transparent Application Failover Callback Structure and Parameters</a></p>
                        </li>
                        <li>
                           <p><a href="high-availability-in-oci.html#GUID-C3241340-0A2E-4D02-9981-A7F091051664" title="Shows and describes the basic structure of a user-defined application failover callback function.">Failover Callback Structure and Parameters</a></p>
                        </li>
                        <li>
                           <p><a href="high-availability-in-oci.html#GUID-6DDC46DE-B960-4DD6-9B2F-DC4AA904A2F3" title="For the failover callback to be used, it must be registered on the server context handle. This registration is done by creating a callback definition structure and setting the OCI_ATTR_FOCBK attribute of the server handle to this structure.">Failover Callback Registration</a></p>
                        </li>
                        <li>
                           <p><a href="high-availability-in-oci.html#GUID-860A2B81-F867-4345-96DE-F423753D1D91" title="Shows several failover callback examples.">Failover Callback Example</a></p>
                        </li>
                        <li>
                           <p><a href="high-availability-in-oci.html#GUID-8B99BA40-ABB5-4EA8-8820-FBAAA43CA4F8" title="A failover attempt is not always successful. If the attempt fails, the callback function receives a value of OCI_FO_ABORT or OCI_FO_ERROR in the fo_event parameter.">Handling OCI_FO_ERROR</a></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-B80BF32E-A4E5-4995-A5C6-0C53F823130F" name="GUID-B80BF32E-A4E5-4995-A5C6-0C53F823130F"></a><h4 id="LNOCI-GUID-B80BF32E-A4E5-4995-A5C6-0C53F823130F" class="sect4"><span class="enumeration_section">12.3.1 </span>About Configuring Transparent Application Failover
                  </h4>
                  <div>
                     <p>TAF can be configured on both the client side and the server side. If both are configured, server-side settings take precedence.</p>
                     <p>Configure TAF on the client side by including the <code class="codeph">FAILOVER_MODE</code> parameter in the <code class="codeph">CONNECT_DATA</code> portion of a connect descriptor. 
                     </p>
                     <p>Configure TAF on the server side by modifying the target service with the <code class="codeph">DBMS_SERVICE.MODIFY_SERVICE</code> packaged procedure.
                     </p>
                     <p>An initial attempt at failover may not always succeed. OCI provides a mechanism for retrying failover after an unsuccessful attempt. </p>
                     <div class="infoboxnotealso" id="GUID-B80BF32E-A4E5-4995-A5C6-0C53F823130F__GUID-5399ECA3-3E96-456B-AB8A-58C06FF94417">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../netrf/local-naming-parameters-in-tns-ora-file.html#NETRF279" target="_blank"><span><cite>Oracle Database Net Services Reference</cite></span></a> for more information about client-side configuration of TAF (Connect Data Section)
                              </p>
                           </li>
                           <li>
                              <p><a href="../arpls/DBMS_SERVICE.html#ARPLS092" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> for more information about the server-side configuration of TAF (DBMS_SERVICE)
                              </p>
                           </li>
                        </ul>
                        <p> </p>
                     </div>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-0CBC5C17-608B-4C5D-9A88-37FBE27D8029" name="GUID-0CBC5C17-608B-4C5D-9A88-37FBE27D8029"></a><h4 id="LNOCI-GUID-0CBC5C17-608B-4C5D-9A88-37FBE27D8029" class="sect4"><span class="enumeration_section">12.3.2 </span>Transparent Application Failover Callbacks in OCI
                  </h4>
                  <div>
                     <p>Because of the delay that can occur during failover, the application developer may want to inform the user that failover is in progress, and request that the user wait for notification that failover is complete. </p>
                     <p>Additionally, the session on the initial instance may have received some <code class="codeph">ALTER</code> <code class="codeph">SESSION</code> commands. These <code class="codeph">ALTER</code> <code class="codeph">SESSION</code> commands are not automatically replayed on the second instance. Consequently, the developer may want to replay them on the second instance. <code class="codeph">OCIAttrSet()</code> calls that affect the session must also be reexecuted.
                     </p>
                     <p>To accommodate these requirements, the application developer can register a failover callback function. If failover occurs, the callback function is invoked several times while reestablishing the user's session.</p>
                     <p>The first call to the callback function occurs when the database first detects an instance connection loss. This callback is intended to allow the application to inform the user of an upcoming delay. If failover is successful, a second call to the callback function occurs when the connection is reestablished and usable.</p>
                     <p>Once the connection has been reestablished, the client may want to replay <code class="codeph">ALTER</code> <code class="codeph">SESSION</code> commands and inform the user that failover has happened. If failover is unsuccessful, then the callback is called to inform the application that failover cannot occur. Additionally, the callback is called each time a user handle besides the primary handle is reauthenticated on the new connection. Because each user handle represents a server-side session, the client may want to replay <code class="codeph">ALTER</code> <code class="codeph">SESSION</code> commands for that session.
                     </p>
                     <div class="infoboxnotealso" id="GUID-0CBC5C17-608B-4C5D-9A88-37FBE27D8029__GUID-3472650E-73ED-4D3C-AAB5-ECA412AFD7F0">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="handle-and-descriptor-functions.html#GUID-3741D7BD-7652-4D7A-8813-AC2AEA8D3B03" title="Sets the value of an attribute of a handle or a descriptor.">OCIAttrSet()</a></p>
                           </li>
                           <li>
                              <p><a href="high-availability-in-oci.html#GUID-8B99BA40-ABB5-4EA8-8820-FBAAA43CA4F8" title="A failover attempt is not always successful. If the attempt fails, the callback function receives a value of OCI_FO_ABORT or OCI_FO_ERROR in the fo_event parameter.">Handling OCI_FO_ERROR</a> for more information about this scenario
                              </p>
                           </li>
                        </ul>
                        <p></p>
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-3C9922CC-3346-4C29-81F8-8E3CF7170CF6" name="GUID-3C9922CC-3346-4C29-81F8-8E3CF7170CF6"></a><h4 id="LNOCI-GUID-3C9922CC-3346-4C29-81F8-8E3CF7170CF6" class="sect4"><span class="enumeration_section">12.3.3 </span>Transparent Application Failover Callback Structure and Parameters
                  </h4>
                  <div>
                     <p>Describes the TAF Callback structure and parameters.</p>
                     <p>The basic structure of a Transparent Application Failover (TAF) callback function is as follows:</p><pre class="oac_no_warn" dir="ltr">sb4  TAFcbk_fn(OCISvcCtx *svchp, 
               OCIEnv    *envhp, 
               void      *fo_ctx, 
               ub4        fo_type, 
               ub4        fo_event);
</pre><dl>
                        <dt class="dlterm"><a name="GUID-3C9922CC-3346-4C29-81F8-8E3CF7170CF6__GUID-D2B2B2EF-2CB2-422C-A086-3A0869BC79E2">
                              <!-- --></a>svchp
                        </dt>
                        <dd>
                           <p>The service context handle.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-3C9922CC-3346-4C29-81F8-8E3CF7170CF6__GUID-95AD87F7-0C9D-4B30-B3B8-E677F2AFA49B">
                              <!-- --></a>envhp
                        </dt>
                        <dd>
                           <p>The OCI environment handle.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-3C9922CC-3346-4C29-81F8-8E3CF7170CF6__GUID-C3669A54-4D7A-4E4C-ADD3-CC8DEF859713">
                              <!-- --></a>fo_ctx
                        </dt>
                        <dd>
                           <p>The client context. This is a pointer to memory specified by the client. In this area the client can keep any necessary state or context.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-3C9922CC-3346-4C29-81F8-8E3CF7170CF6__GUID-CEC7681E-9839-416B-9CC3-BCAA294790B4">
                              <!-- --></a>fo_type
                        </dt>
                        <dd>
                           <div class="p"> The failover type. This lets the callback know what type of failover the client has requested. The usual values are as follows: 
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">OCI_FO_SESSION</code> indicates that the user has requested only session failover.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">OCI_FO_SELECT</code> indicates that the user has requested select failover as well.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </dd>
                        <dt class="dlterm"><a name="GUID-3C9922CC-3346-4C29-81F8-8E3CF7170CF6__GUID-CEAF5918-C959-4396-949E-7BB327B85000">
                              <!-- --></a>fo_event
                        </dt>
                        <dd>
                           <div class="p"> The failover event indicates the current status of the failover.
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">OCI_FO_BEGIN</code> indicates that failover has detected a lost connection and failover is starting.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">OCI_FO_END</code> indicates successful completion of failover. 
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">OCI_FO_ABORT</code> indicates that failover was unsuccessful, and there is no option of retrying.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">OCI_FO_ERROR</code> also indicates that failover was unsuccessful, but it gives the application the opportunity to handle the error and retry failover. 
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">OCI_FO_REAUTH</code> indicates that you have multiple authentication handles and failover has occurred after the original authentication. It indicates that a user handle has been reauthenticated. To determine which one, the application checks the <code class="codeph">OCI_ATTR_SESSION</code> attribute of the service context handle <code class="codeph">svchp</code>.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </dd>
                     </dl>
                     <p>If Application Continuity is configured, the TAF callback is called with <code class="codeph">OCI_FO_END</code> after successfully re-connecting, re-authenicating, and determining the status of the inflight transaction.
                     </p>
                     <p>Upon completion of the TAF callback, OCI returns an error if an open transaction is present and Application Continuity for OCI is enabled.</p>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-C3241340-0A2E-4D02-9981-A7F091051664" name="GUID-C3241340-0A2E-4D02-9981-A7F091051664"></a><h4 id="LNOCI-GUID-C3241340-0A2E-4D02-9981-A7F091051664" class="sect4"><span class="enumeration_section">12.3.4 </span>Failover Callback Structure and Parameters
                  </h4>
                  <div>
                     <p>Shows and describes the basic structure of a user-defined application failover callback function.</p>
                     <p>The basic structure of a user-defined application failover callback function is as follows:</p><pre class="oac_no_warn" dir="ltr">sb4 appfocallback_fn ( void       * svchp, 
                       void       * envhp, 
                       void       * fo_ctx, 
                       ub4        fo_type, 
                       ub4        fo_event );
</pre><p>An example is provided in "Failover Callback Example" on page&nbsp;9‐31 for the following parameters:</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-C3241340-0A2E-4D02-9981-A7F091051664__GUID-BEA274C9-256A-4618-AF1E-8B752BA5FA54">
                              <!-- --></a>svchp
                        </dt>
                        <dd>
                           <p>The first parameter, <code class="codeph">svchp</code>, is the service context handle. It is of type <code class="codeph">void *</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C3241340-0A2E-4D02-9981-A7F091051664__GUID-E0324FA7-6FDD-4AB3-A132-C3C6BB676F0E">
                              <!-- --></a>envhp
                        </dt>
                        <dd>
                           <p>The second parameter, <code class="codeph">envhp</code>, is the OCI environment handle. It is of type <code class="codeph">void *</code>. 
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C3241340-0A2E-4D02-9981-A7F091051664__GUID-7BEAF6CC-5C8B-4669-B86E-AC9C71BAB580">
                              <!-- --></a>fo_ctx
                        </dt>
                        <dd>
                           <p>The third parameter, <code class="codeph">fo_ctx</code>, is a client context. It is a pointer to memory specified by the client. In this area the client can keep any necessary state or context. It is passed as a <code class="codeph">void *</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C3241340-0A2E-4D02-9981-A7F091051664__GUID-F02332EE-B218-4728-BE16-CE8F7120B294">
                              <!-- --></a>fo_type
                        </dt>
                        <dd>
                           <p>The fourth parameter, <code class="codeph">fo_type</code>, is the failover type. This lets the callback know what type of failover the client has requested. The usual values are as follows: 
                           </p>
                        </dd>
                     </dl>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">OCI_FO_SESSION</code> indicates that the user has requested only session failover.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">OCI_FO_SELECT</code> indicates that the user has requested select failover as well.
                           </p>
                        </li>
                     </ul>
                     <dl>
                        <dt class="dlterm"><a name="GUID-C3241340-0A2E-4D02-9981-A7F091051664__GUID-B41E338F-B047-400E-B249-F54CD38EBD55">
                              <!-- --></a>fo_event
                        </dt>
                        <dd>
                           <p>The last parameter is the failover event. This indicates to the callback why it is being called. It has several possible values:</p>
                        </dd>
                     </dl>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">OCI_FO_BEGIN</code> indicates that failover has detected a lost connection and failover is starting.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">OCI_FO_END</code> indicates successful completion of failover. 
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">OCI_FO_ABORT</code> indicates that failover was unsuccessful, and there is no option of retrying.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">OCI_FO_ERROR</code> also indicates that failover was unsuccessful, but it gives the application the opportunity to handle the error and retry failover. 
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">OCI_FO_REAUTH</code> indicates that you have multiple authentication handles and failover has occurred after the original authentication. It indicates that a user handle has been reauthenticated. To determine which one, the application checks the <code class="codeph">OCI_ATTR_SESSION</code> attribute of the service context handle (which is the first parameter).
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-6DDC46DE-B960-4DD6-9B2F-DC4AA904A2F3" name="GUID-6DDC46DE-B960-4DD6-9B2F-DC4AA904A2F3"></a><h4 id="LNOCI-GUID-6DDC46DE-B960-4DD6-9B2F-DC4AA904A2F3" class="sect4"><span class="enumeration_section">12.3.5 </span>Failover Callback Registration
                  </h4>
                  <div>
                     <p>For the failover callback to be used, it must be registered on the server context handle. This registration is done by creating a callback definition structure and setting the <code class="codeph">OCI_ATTR_FOCBK</code> attribute of the server handle to this structure. 
                     </p>
                     <p>The callback definition structure must be of type <code class="codeph">OCIFocbkStruct</code>. It has two fields: <code class="codeph">callback_function</code>, which contains the address of the function to call, and <code class="codeph">fo_ctx</code>, which contains the address of the client context. 
                     </p>
                     <div class="infoboxnotealso" id="GUID-6DDC46DE-B960-4DD6-9B2F-DC4AA904A2F3__GUID-BBC89C26-CBD9-4036-B6B0-B436EC2662EC">
                        <p class="notep1">See Also:</p>
                        <p><a href="high-availability-in-oci.html#GUID-860A2B81-F867-4345-96DE-F423753D1D91__CACDAEEJ">Example 12-3</a> for an example of callback registration
                        </p>
                     </div>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-860A2B81-F867-4345-96DE-F423753D1D91" name="GUID-860A2B81-F867-4345-96DE-F423753D1D91"></a><h4 id="LNOCI-GUID-860A2B81-F867-4345-96DE-F423753D1D91" class="sect4"><span class="enumeration_section">12.3.6 </span>Failover Callback Example
                  </h4>
                  <div>
                     <p>Shows several failover callback examples.</p>
                     <div class="section">
                        <p>This section shows an example of a simple user-defined callback function definition (see <a href="high-availability-in-oci.html#GUID-860A2B81-F867-4345-96DE-F423753D1D91__CACJJHGH">Example 12-2</a>), failover callback registration (see <a href="high-availability-in-oci.html#GUID-860A2B81-F867-4345-96DE-F423753D1D91__CACDAEEJ">Example 12-3</a>), and failover callback unregistration (see <a href="high-availability-in-oci.html#GUID-860A2B81-F867-4345-96DE-F423753D1D91__CACDJGDG">Example 12-4</a>).
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-860A2B81-F867-4345-96DE-F423753D1D91__CACJJHGH">
                        <p class="titleinexample">Example 12-2 User-Defined Failover Callback Function Definition</p><pre class="oac_no_warn" dir="ltr">sb4  callback_fn(svchp, envhp, fo_ctx, fo_type, fo_event)
void * svchp;
void * envhp;
void *fo_ctx;
ub4 fo_type;
ub4 fo_event;
{
switch (fo_event) 
   {
   case OCI_FO_BEGIN:
   {
     printf(" Failing Over ... Please stand by \n");
     printf(" Failover type was found to be %s \n",
                     ((fo_type==OCI_FO_SESSION) ? "SESSION" 
                     :(fo_type==OCI_FO_SELECT) ? "SELECT"
                     : "UNKNOWN!")); 
     printf(" Failover Context is :%s\n", 
                    (fo_ctx?(char *)fo_ctx:"NULL POINTER!"));
     break;
   }
   case OCI_FO_ABORT:
   {
     printf(" Failover stopped. Failover will not occur.\n");
     break;
   }
   case    OCI_FO_END:
   {
       printf(" Failover ended ...resuming services\n");
     break;
   }
   case OCI_FO_REAUTH:
   {
       printf(" Failed over user. Resuming services\n");
     break;
   }
   default:
   {
     printf("Bad Failover Event: %d.\n",  fo_event);
     break;
   }
   }
   return 0;
}</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-860A2B81-F867-4345-96DE-F423753D1D91__CACDAEEJ">
                        <p class="titleinexample">Example 12-3 Failover Callback Registration</p><pre class="oac_no_warn" dir="ltr">int register_callback(srvh, errh)
void *srvh; /* the server handle */
OCIError *errh; /* the error handle */
{
  OCIFocbkStruct failover;                 /*  failover callback structure */
  /* allocate memory for context */
  if (!(failover.fo_ctx = (void *)malloc(strlen("my context.")+1)))
     return(1);
  /* initialize the context. */
  strcpy((char *)failover.fo_ctx, "my context.");
  failover.callback_function = &amp;callback_fn;
  /* do the registration */
  if (OCIAttrSet(srvh, (ub4) OCI_HTYPE_SERVER,
                (void *) &amp;failover, (ub4) 0,
                (ub4) OCI_ATTR_FOCBK, errh)  != OCI_SUCCESS)
     return(2);
  /* successful conclusion */
  return (0);
}
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-860A2B81-F867-4345-96DE-F423753D1D91__CACDJGDG">
                        <p class="titleinexample">Example 12-4 Failover Callback Unregistration</p><pre class="oac_no_warn" dir="ltr">OCIFocbkStruct failover;   /*  failover callback structure */
sword status;
 
  /* set the failover context to null */
  failover.fo_ctx = NULL; 
  /* set the failover callback to null */ 
  failover.callback_function = NULL; 
  /* unregister the callback */
  status = OCIAttrSet(srvhp, (ub4) OCI_HTYPE_SERVER,
                      (void *) &amp;failover, (ub4) 0,
                      (ub4) OCI_ATTR_FOCBK, errhp);
</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-8B99BA40-ABB5-4EA8-8820-FBAAA43CA4F8" name="GUID-8B99BA40-ABB5-4EA8-8820-FBAAA43CA4F8"></a><h4 id="LNOCI-GUID-8B99BA40-ABB5-4EA8-8820-FBAAA43CA4F8" class="sect4"><span class="enumeration_section">12.3.7 </span>Handling OCI_FO_ERROR
                  </h4>
                  <div>
                     <p>A failover attempt is not always successful. If the attempt fails, the callback function receives a value of <code class="codeph">OCI_FO_ABORT</code> or <code class="codeph">OCI_FO_ERROR</code> in the <code class="codeph">fo_event</code> parameter. 
                     </p>
                     <div class="section">
                        <p>A value of <code class="codeph">OCI_FO_ABORT</code> indicates that failover was unsuccessful, and no further failover attempts are possible. <code class="codeph">OCI_FO_ERROR</code>, however, provides the callback function with the opportunity to handle the error. For example, the callback may choose to wait a specified period of time and then indicate to the OCI library that it must reattempt failover.
                        </p>
                        <div class="infoboxnote" id="GUID-8B99BA40-ABB5-4EA8-8820-FBAAA43CA4F8__GUID-57E6B159-985F-486D-860A-BDBC85CA75F6">
                           <p class="notep1">Note:</p>
                           <p>This functionality is only available to applications linked with the 8.0.5 or later OCI libraries running against any Oracle Database server.</p>
                           <p>Failover does not work if a LOB column is part of the select list.</p>
                        </div>
                        <p>Consider the timeline of events presented in <a href="high-availability-in-oci.html#GUID-8B99BA40-ABB5-4EA8-8820-FBAAA43CA4F8__CACEHAGA" title="This table is described by 2 columns. Column 1 is the time designated as a timeline T0 through T7 and column 2 is the event that occurs for each timeline time.">Table 12-1</a>.
                        </p>
                        <div class="tblformal" id="GUID-8B99BA40-ABB5-4EA8-8820-FBAAA43CA4F8__CACEHAGA">
                           <p class="titleintable">Table 12-1 Time and Event</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Time and Event" summary="This table is described by 2 columns. Column 1 is the time designated as a timeline T0 through T7 and column 2 is the event that occurs for each timeline time." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="15%" id="d119972e4097">Time</th>
                                    <th align="left" valign="bottom" width="85%" id="d119972e4100">Event</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="15%" id="d119972e4105" headers="d119972e4097 ">
                                       <p>T0</p>
                                    </td>
                                    <td align="left" valign="top" width="85%" headers="d119972e4105 d119972e4100 ">
                                       <p>Database fails (failure lasts until T5).</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="15%" id="d119972e4112" headers="d119972e4097 ">
                                       <p>T1</p>
                                    </td>
                                    <td align="left" valign="top" width="85%" headers="d119972e4112 d119972e4100 ">
                                       <p>Failover is triggered by user activity.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="15%" id="d119972e4119" headers="d119972e4097 ">
                                       <p>T2</p>
                                    </td>
                                    <td align="left" valign="top" width="85%" headers="d119972e4119 d119972e4100 ">
                                       <p>User attempts to reconnect; attempt fails.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="15%" id="d119972e4126" headers="d119972e4097 ">
                                       <p>T3</p>
                                    </td>
                                    <td align="left" valign="top" width="85%" headers="d119972e4126 d119972e4100 ">
                                       <p>Failover callback is invoked with <code class="codeph">OCI_FO_ERROR</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="15%" id="d119972e4136" headers="d119972e4097 ">
                                       <p>T4</p>
                                    </td>
                                    <td align="left" valign="top" width="85%" headers="d119972e4136 d119972e4100 ">
                                       <p>Failover callback enters a predetermined sleep period.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="15%" id="d119972e4143" headers="d119972e4097 ">
                                       <p>T5</p>
                                    </td>
                                    <td align="left" valign="top" width="85%" headers="d119972e4143 d119972e4100 ">
                                       <p>Database comes back up again.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="15%" id="d119972e4150" headers="d119972e4097 ">
                                       <p>T6</p>
                                    </td>
                                    <td align="left" valign="top" width="85%" headers="d119972e4150 d119972e4100 ">
                                       <p>Failover callback triggers a new failover attempt; it is successful.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="15%" id="d119972e4157" headers="d119972e4097 ">
                                       <p>T7</p>
                                    </td>
                                    <td align="left" valign="top" width="85%" headers="d119972e4157 d119972e4100 ">
                                       <p>User successfully reconnects.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>The callback function triggers the new failover attempt by returning a value of <code class="codeph">OCI_FO_RETRY</code> from the function.
                        </p>
                        <p><a href="high-availability-in-oci.html#GUID-8B99BA40-ABB5-4EA8-8820-FBAAA43CA4F8__CACFEBEJ">Example 12-5</a> shows a callback function that you can use to implement the failover strategy similar to the scenario described earlier. In this case, the failover callback enters a loop in which it sleeps and then reattempts failover until it is successful:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-8B99BA40-ABB5-4EA8-8820-FBAAA43CA4F8__CACFEBEJ">
                        <p class="titleinexample">Example 12-5 Callback Function That Implements a Failover Strategy</p><pre class="oac_no_warn" dir="ltr">/*--------------------------------------------------------------------*/
/* the user-defined failover callback  */
/*--------------------------------------------------------------------*/
sb4  callback_fn(svchp, envhp, fo_ctx, fo_type, fo_event )
void * svchp;
void * envhp;
void *fo_ctx;
ub4 fo_type;
ub4 fo_event;
{
   OCIError *errhp;
   OCIHandleAlloc(envhp, (void **)&amp;errhp, (ub4) OCI_HTYPE_ERROR,
              (size_t) 0, (void **) 0);
   switch (fo_event) 
   {
   case OCI_FO_BEGIN:
   {
     printf(" Failing Over ... Please stand by \n");
     printf(" Failover type was found to be %s \n",
            ((fo_type==OCI_FO_NONE) ? "NONE"
             :(fo_type==OCI_FO_SESSION) ? "SESSION" 
             :(fo_type==OCI_FO_SELECT) ? "SELECT"
             :(fo_type==OCI_FO_TXNAL) ? "TRANSACTION"
             : "UNKNOWN!")); 
     printf(" Failover Context is :%s\n", 
            (fo_ctx?(char *)fo_ctx:"NULL POINTER!"));
     break;
   }
   case OCI_FO_ABORT:
   {
     printf(" Failover aborted. Failover will not occur.\n");
     break;
   }
   case    OCI_FO_END:
   { 
       printf("\n Failover ended ...resuming services\n");
     break;
   }
   case OCI_FO_REAUTH:
   { 
       printf(" Failed over user. Resuming services\n");
     break;
   }
   case OCI_FO_ERROR:
   {
     /* all invocations of this can only generate one line. The newline
      * will be put at fo_end time.
      */
     printf(" Failover error gotten. Sleeping...");
     sleep(3);
     printf("Retrying. ");
     return (OCI_FO_RETRY);
     break;
   }
   default:
   {
     printf("Bad Failover Event: %d.\n",  fo_event);
     break;
   }
   }
   return 0;
}
</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-A675AF7B-6FF0-460D-A6E6-C15E7C328C8F" name="GUID-A675AF7B-6FF0-460D-A6E6-C15E7C328C8F"></a><h3 id="LNOCI-GUID-A675AF7B-6FF0-460D-A6E6-C15E7C328C8F" class="sect3"><span class="enumeration_section">12.4 </span>OCI and Transaction Guard
               </h3>
               <div>
                  <p>Transaction Guard introduces the concept of at-most-once transaction execution in case of a planned or unplanned outage to help prevent an application upon failover from submitting a duplicate submission of an original submission.</p>
                  <p></p>
                  <p>When an application opens a connection to the database using this service, the logical transaction ID (LTXID) is generated at authentication and stored in the session handle. This is a globally unique ID that identifies the database transaction from the application perspective. When there is an outage, an application using Transaction Guard can retrieve the LTXID from the previous failed session's handle and use it to determine the outcome of the transaction that was active prior to the session failure. If the LTXID is determined to be unused, then the application can replay an uncommitted transaction by first blocking the original submission using the retrieved LTXID. If the LTXID is determined to be used, then the transaction is committed and the result is returned to the application.</p>
                  <p>Transaction Guard is a developer API supported for JDBC Type 4 (Oracle Thin), OCI, OCCI, and Oracle Data Provider for .NET (ODP.NET) drivers. For OCI, when an application is written to support Transaction Guard, upon an outage, the OCI client driver acquires and retrieves the LTXID from the previous failed session's handle by calling <code class="codeph">OCI_ATTR_GET()</code> using the <code class="codeph">OCI_ATTR_LTXID</code> session handle attribute. 
                  </p>
                  <p>This section includes the following topic: <a href="high-availability-in-oci.html#GUID-6A12DE3A-479A-4D06-8305-AA450BFF6B23" title="This section describes developing OCI user applications that use Transaction Guard.">Developing Applications that Use Transaction Guard</a>.
                  </p>
                  <div class="infoboxnotealso" id="GUID-A675AF7B-6FF0-460D-A6E6-C15E7C328C8F__GUID-E3CF22A9-BA3E-4F88-87D2-C7DF883994E7">
                     <p class="notep1">See Also:</p>
                     <p><a href="../adfns/transaction-guard.html#ADFNS8000" target="_blank"><span><cite>Oracle Database Development Guide</cite></span></a> for information in the chapter about using Transaction Guard in for an overview of Transaction Guard, supported transaction types, transaction types that are not supported, and database configuration information for using Transaction Guard.
                     </p>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-6A12DE3A-479A-4D06-8305-AA450BFF6B23" name="GUID-6A12DE3A-479A-4D06-8305-AA450BFF6B23"></a><h4 id="LNOCI-GUID-6A12DE3A-479A-4D06-8305-AA450BFF6B23" class="sect4"><span class="enumeration_section">12.4.1 </span>Developing Applications that Use Transaction Guard
                  </h4>
                  <div>
                     <p>This section describes developing OCI user applications that use Transaction Guard. </p>
                     <div class="section">
                        <p>See the chapter about using Transaction Guard in <a href="../adfns/transaction-guard.html#ADFNS8000" target="_blank"><span><cite>Oracle Database Development Guide</cite></span></a> for more detailed information about developing applications using Transaction Guard.
                        </p>
                        <p>For the third-party or user application to use Transaction Guard in order to be able to fail over a session for OCI, it must include several major steps:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Verify if Transparent Application Failover (TAF) is enabled for the connection. Do not attempt to explicitly use Transaction Guard on a TAF-enabled connection, as TAF will automatically check the <code class="codeph">LTXID</code>.</span></li>
                        <li class="stepexpand"><span>On receipt of an error, determine whether the error is a recoverable error - <code class="codeph">OCI_ATTR_ERROR_IS_RECOVERABLE</code> on <code class="codeph">OCI_ERROR</code> handle. If the error is recoverable, then continue to Step <a href="high-availability-in-oci.html#GUID-6A12DE3A-479A-4D06-8305-AA450BFF6B23__CACFHAAG">3</a>. </span><div>
                              <div class="infoboxnote" id="GUID-6A12DE3A-479A-4D06-8305-AA450BFF6B23__GUID-DFBE8124-9838-4780-9E59-E7F81EB3CE57">
                                 <p class="notep1">Note:</p>
                                 <p>Do not attempt to use the LTXID to check transaction outcome if the connection has not suffered a recoverable error. </p>
                              </div>
                           </div>
                        </li>
                        <li class="stepexpand" id="GUID-6A12DE3A-479A-4D06-8305-AA450BFF6B23__CACFHAAG"><span>Retrieve the LTXID associated with the failed session by using OCI_ATTR_GET() to get the OCI_ATTR_LTXID from the user session handle. </span></li>
                        <li class="stepexpand"><span>Reconnect to the database.</span><div>
                              <div class="infoboxnote" id="GUID-6A12DE3A-479A-4D06-8305-AA450BFF6B23__GUID-82ABA5C6-B605-44B2-AD42-9FC952306A5B">
                                 <p class="notep1">Note:</p>
                                 <p>The new session will have a new LTXID, but you will not need it when checking the status of the original session. </p>
                              </div>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Invoke the <code class="codeph">DBMS_APP_CONT.GET_LTXID_OUTCOME</code> PL/SQL procedure with the LTXID obtained from the <code class="codeph">OCI_ATTR_GET()</code> call. The original LTXID of the failed-over session is marked as forced if that LTXID has not been used. The return state tells the driver if the last transaction was <code class="codeph">COMMITTED (TRUE/FALSE)</code> and <code class="codeph">USER_CALL_COMPLETED (TRUE/FALSE)</code>.</span></li>
                        <li class="stepexpand"><span>The application can replay an uncommitted transaction or return the result to the user. If the replay itself incurs an outage, then the LTXID for the replaying session is used for the <code class="codeph">DBMS_APP_CONT.GET_LTXID_OUTCOME</code> procedure.</span></li>
                     </ol>
                     <div class="section">
                        <div class="p">See the following sections for Transaction Guard usage and examples:
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="high-availability-in-oci.html#GUID-10A6CFB0-E480-48FE-B3A2-BB5AE6F88DF0" title="Shows typical usage of Transaction Guard using pseudocode.">Typical Transaction Guard Usage</a></p>
                              </li>
                              <li>
                                 <p><a href="high-availability-in-oci.html#GUID-671647AA-875B-45B6-BAA8-311B3E007EB9" title="Shows a Transaction Guard demo program.">Transaction Guard Examples</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div class="props_rev_3"><a id="GUID-10A6CFB0-E480-48FE-B3A2-BB5AE6F88DF0" name="GUID-10A6CFB0-E480-48FE-B3A2-BB5AE6F88DF0"></a><h5 id="LNOCI-GUID-10A6CFB0-E480-48FE-B3A2-BB5AE6F88DF0" class="sect5"><span class="enumeration_section">12.4.1.1 </span>Typical Transaction Guard Usage
                     </h5>
                     <div>
                        <p>Shows typical usage of Transaction Guard using pseudocode.</p>
                        <p>The following pseudocode shows a typical usage of Transaction Guard:</p>
                        <ol>
                           <li>
                              <p>Receive a FAN down event (or recoverable error)</p>
                           </li>
                           <li>
                              <p>FAN aborts the dead session</p>
                           </li>
                           <li>
                              <p>Call <code class="codeph">OCIAttrGet()</code> using the <code class="codeph">OCI_ATTR_TAF_ENABLED</code> attribute on the server handle. If the value is <code class="codeph">TRUE</code>, stop. If the value is <code class="codeph">FALSE</code>, proceed to the next step.
                              </p>
                           </li>
                           <li>
                              <p>If it is a recoverable error, for OCI (<code class="codeph">OCI_ATTR_ERROR_IS_RECOVERABLE</code> on <code class="codeph">OCI_ERROR</code> handle):
                              </p>
                              <ol type="a">
                                 <li>
                                    <p>Get the last LTXID from the dead session by calling <code class="codeph">OCIAttrGet()</code> using the <code class="codeph">OCI_ATTR_LTXID</code> session handle attribute to retrieve the LTXID associated with the session's handle
                                    </p>
                                 </li>
                                 <li>
                                    <p>Obtain a new session </p>
                                 </li>
                                 <li>
                                    <p>Call <code class="codeph">DBMS_APP_CONT.GET_LTXID_OUTCOME</code> with the last LTXID to get the return state
                                    </p>
                                 </li>
                              </ol>
                           </li>
                           <li>
                              <p>If the return state is: </p>
                              <ol type="a">
                                 <li>
                                    <p><code class="codeph">COMMITTED</code> and <code class="codeph">USER_CALL_COMPLETED</code> 
                                    </p>
                                    <p>Then return the result.</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ELSEIF COMMITTED</code> and <code class="codeph">NOT USER_CALL_COMPLETED</code> 
                                    </p>
                                    <p>Then return the result with a warning (with details, such as out binds or row count was not returned).</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ELSEIF NOT COMMITTED</code> 
                                    </p>
                                    <p>Resubmit the transaction or series of calls or both, or return error to user.</p>
                                 </li>
                              </ol>
                           </li>
                        </ol>
                        <div class="infoboxnotealso" id="GUID-10A6CFB0-E480-48FE-B3A2-BB5AE6F88DF0__GUID-0C2AAC04-96F7-42F7-9374-B15025B62630">
                           <p class="notep1">See Also:</p>
                           <p><a href="handle-and-descriptor-functions.html#GUID-FA199A99-4D7A-42C2-BB0A-C20047B95DF9" title="Gets the value of an attribute of a handle.">OCIAttrGet()</a></p>
                        </div>
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-671647AA-875B-45B6-BAA8-311B3E007EB9" name="GUID-671647AA-875B-45B6-BAA8-311B3E007EB9"></a><h5 id="LNOCI-GUID-671647AA-875B-45B6-BAA8-311B3E007EB9" class="sect5"><span class="enumeration_section">12.4.1.2 </span>Transaction Guard Examples
                     </h5>
                     <div>
                        <p>Shows a Transaction Guard demo program.</p>
                        <div class="section">
                           <p><a href="high-availability-in-oci.html#GUID-671647AA-875B-45B6-BAA8-311B3E007EB9__CACJFEEC">Example 12-6</a> is an OCI Transaction Guard demo program (<code class="codeph">cdemotg.c</code>) that demonstrates: 
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Use of the attribute <code class="codeph">OCI_ATTR_ERROR_IS_RECOVERABLE</code>. When an error occurs, the program checks if the error is recoverable.
                                 </p>
                              </li>
                              <li>
                                 <p>Use of the packaged procedure <code class="codeph">DBMS_APP_CONT.GET_LTXID_OUTCOME</code>. If the error is recoverable, the program calls <code class="codeph">DBMS_APP_CONT.GET_LTXID_OUTCOME</code> to determine the status of the active transaction.
                                 </p>
                              </li>
                           </ul>
                           <p>If the transaction has not committed, the program re-executes the failed transaction.</p>
                           <div class="infoboxnote" id="GUID-671647AA-875B-45B6-BAA8-311B3E007EB9__GUID-42DD9B5E-8641-4B24-A9DD-1CA396998A6B">
                              <p class="notep1">Note:</p>
                              <p>This program does not modify the session state such as NLS parameters, and so forth. Programs that do so may need to reexecute such commands after obtaining a new session from the pool following the error.</p>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-671647AA-875B-45B6-BAA8-311B3E007EB9__CACJFEEC">
                           <p class="titleinexample">Example 12-6 Transaction Guard Demo Program</p><pre class="oac_no_warn" dir="ltr">*/
 
#ifndef OCISP_ORACLE
# include &lt;cdemosp.h&gt; 
#endif
 
/* Maximum Number of threads  */ 
#define MAXTHREAD 1
static ub4 sessMin = 1;
static ub4 sessMax = 9;
static ub4 sessIncr = 2;
 
static OCIError   *errhp;
static OCIEnv     *envhp;
static OCISPool   *poolhp=(OCISPool *) 0;
static int employeeNum[MAXTHREAD];
 
static OraText *poolName;
static ub4 poolNameLen;
static CONST OraText *database = (text *)"ltxid_service";
static CONST OraText *appusername =(text *)"scott";
static CONST OraText *apppassword =(text *)"tiger";
 
static CONST char getLtxid[]= 
  ("BEGIN <span class="bold">DBMS_APP_CONT.GET_LTXID_OUTCOME</span> ("
   ":ltxid,:committed,:callComplete); END;");
 
static CONST char insertst1[] = 
  ("INSERT INTO EMP(ENAME, EMPNO) values ('NAME1', 1000)");
 
static void checkerr (OCIError *errhp, sword status);
static void threadFunction (dvoid *arg);
 
int main(void)
{
  int i = 0;
  sword lstat;
  int timeout =1;
  OCIEnvCreate (&amp;envhp, OCI_THREADED, (dvoid *)0,  NULL,
                NULL, NULL, 0, (dvoid *)0);
 
  (void) OCIHandleAlloc((dvoid *) envhp, (dvoid **) &amp;errhp, OCI_HTYPE_ERROR,
                        (size_t) 0, (dvoid **) 0);
 
  (void) OCIHandleAlloc((dvoid *) envhp, (dvoid **) &amp;poolhp, OCI_HTYPE_SPOOL,
                        (size_t) 0, (dvoid **) 0);
 
  /* Create the session pool */
  checkerr(errhp, OCIAttrSet((dvoid *) poolhp,
           (ub4) OCI_HTYPE_SPOOL, (dvoid *) &amp;timeout, (ub4)0, 
           OCI_ATTR_SPOOL_TIMEOUT, errhp));
 
  if (lstat = OCISessionPoolCreate(envhp, errhp,poolhp, (OraText **)&amp;poolName, 
              (ub4 *)&amp;poolNameLen, database, 
              (ub4)strlen((const char *)database),
              sessMin, sessMax, sessIncr,
              (OraText *)appusername,
              (ub4)strlen((const char *)appusername),
              (OraText *)apppassword,
              (ub4)strlen((const char *)apppassword),
              OCI_SPC_STMTCACHE|OCI_SPC_HOMOGENEOUS))
  {
    checkerr(errhp,lstat);
  }
 
  printf("Session Pool Created \n");
 
  /* Multiple threads using the session pool */
  {
    OCIThreadId *thrid[MAXTHREAD];
    OCIThreadHandle *thrhp[MAXTHREAD];
 
    OCIThreadProcessInit ();
    checkerr (errhp, OCIThreadInit (envhp, errhp));
    for (i = 0; i &lt; MAXTHREAD; ++i)
    {
      checkerr (errhp, OCIThreadIdInit (envhp, errhp, &amp;thrid[i]));
      checkerr (errhp, OCIThreadHndInit (envhp, errhp, &amp;thrhp[i]));
    }
    for (i = 0; i &lt; MAXTHREAD; ++i)
    {
      employeeNum[i]=i;
      /* Inserting into EMP table */
      checkerr (errhp, OCIThreadCreate (envhp, errhp, threadFunction,
                (dvoid *) &amp;employeeNum[i], thrid[i], thrhp[i]));
    }
    for (i = 0; i &lt; MAXTHREAD; ++i)
    {
      checkerr (errhp, OCIThreadJoin (envhp, errhp, thrhp[i]));
      checkerr (errhp, OCIThreadClose (envhp, errhp, thrhp[i]));
      checkerr (errhp, OCIThreadIdDestroy (envhp, errhp, &amp;(thrid[i])));
      checkerr (errhp, OCIThreadHndDestroy (envhp, errhp, &amp;(thrhp[i])));
    }
    checkerr (errhp, OCIThreadTerm (envhp, errhp));
  } /* ALL THE THREADS ARE COMPLETE */
  lstat =  OCISessionPoolDestroy(poolhp, errhp, OCI_DEFAULT);
 
  printf("Session Pool Destroyed \n");
  
  if (lstat != OCI_SUCCESS)
    checkerr(errhp, lstat);
    
  checkerr(errhp, OCIHandleFree((dvoid *)poolhp, OCI_HTYPE_SPOOL));
    
  checkerr(errhp, OCIHandleFree((dvoid *)errhp, OCI_HTYPE_ERROR));
  return 0;
 
} /* end of main () */
 
/* Inserts records into EMP table */ 
static void threadFunction (dvoid *arg)
{
  int empno = *(int *)arg;
  OCISvcCtx *svchp = (OCISvcCtx *) 0;
  OCISvcCtx *svchp2 = (OCISvcCtx *) 0;
  OCISession *embUsrhp = (OCISession *)0;
  OCIBind *bnd1p, *bnd2p, *bnd3p;
 
  OCIStmt *stmthp = (OCIStmt *)0;
  OCIStmt *getLtxidStm = (OCIStmt *)0;
  OCIError  *errhp2 = (OCIError *) 0;
  OCIAuthInfo *authp = (OCIAuthInfo *)0;
  sword lstat;
  text name[10];
 
  boolean callCompl, committed, isRecoverable;
  ub1 *myLtxid;
  ub4  myLtxidLen;
 
  ub4 numAttempts = 0;
 
  (void) OCIHandleAlloc((dvoid *) envhp, (dvoid **) &amp;errhp2, OCI_HTYPE_ERROR,
                     (size_t) 0, (dvoid **) 0);
 
  lstat =  OCIHandleAlloc((dvoid *) envhp,
                          (dvoid **)&amp;authp, (ub4) OCI_HTYPE_AUTHINFO,
                          (size_t) 0, (dvoid **) 0);
  if (lstat)
    checkerr(errhp2, lstat);
 
  checkerr(errhp2, OCIAttrSet((dvoid *) authp,(ub4) OCI_HTYPE_AUTHINFO, 
           (dvoid *) appusername, (ub4) strlen((char *)appusername),
           (ub4) OCI_ATTR_USERNAME, errhp2));
 
  checkerr(errhp2,OCIAttrSet((dvoid *) authp,(ub4) OCI_HTYPE_AUTHINFO, 
           (dvoid *) apppassword, (ub4) strlen((char *)apppassword),
           (ub4) OCI_ATTR_PASSWORD, errhp2));
 
restart:
  if  (lstat = OCISessionGet(envhp, errhp2, &amp;svchp, authp,
               (OraText *)poolName, (ub4)strlen((char *)poolName), NULL, 
               0, NULL, NULL, NULL, OCI_SESSGET_SPOOL))
  {
    checkerr(errhp2,lstat);
  } 
  
  /* save the ltxid from the session in case we need to call
   *  get_ltxid_outcome to determine the transaction status.
   */
  checkerr(errhp2, OCIAttrGet(svchp, OCI_HTYPE_SVCCTX,
                              (dvoid *)&amp;embUsrhp, (ub4 *)0,
                              (ub4)OCI_ATTR_SESSION, errhp2));
  checkerr(errhp2, OCIAttrGet(embUsrhp, OCI_HTYPE_SESSION,
                              (dvoid *)&amp;myLtxid, (ub4 *)&amp;myLtxidLen,
                              (ub4)OCI_ATTR_LTXID, errhp2));
  
 
  /* */
  checkerr(errhp2, OCIStmtPrepare2(svchp, &amp;stmthp, errhp2, 
                                   (CONST OraText *)insertst1, 
                                   (ub4)sizeof(insertst1),
                                   (const oratext *)0, (ub4)0,
                                   OCI_NTV_SYNTAX, OCI_DEFAULT));
 
  if (!numAttempts)
  {
    char input[1];
 
    printf("Kill SCOTT's session now. Press ENTER when complete\n");
    gets(input);
  }
  lstat = OCIStmtExecute (svchp, stmthp, errhp2, (ub4)1, (ub4)0,
                          (OCISnapshot *)0, (OCISnapshot *)0, 
                          OCI_DEFAULT );
  if (lstat == OCI_ERROR)
  {
    checkerr(errhp2, OCIAttrGet(errhp2, OCI_HTYPE_ERROR,
                                (dvoid *)&amp;isRecoverable, (ub4 *)0,
                                (ub4)<span class="bold">OCI_ATTR_ERROR_IS_RECOVERABLE</span>, errhp2));
    if (isRecoverable)
    {
 
      printf("Recoverable error occurred; checking transaction status.\n");
      /* get another session to use for the get_ltxid_outcome call */
      if  (lstat = OCISessionGet(envhp, errhp2, &amp;svchp2, authp,
                                 (OraText *)poolName, 
                                 (ub4)strlen((char *)poolName), NULL, 
                                 0, NULL, NULL, NULL, OCI_SESSGET_SPOOL))
      {
        checkerr(errhp2,lstat);
      } 
      
      checkerr(errhp2,OCIStmtPrepare2(svchp2,&amp;getLtxidStm, errhp2, 
                                      (CONST OraText *)getLtxid,
                                      (ub4)sizeof(getLtxid),
                                      (const oratext *)0, (ub4)0,
                                      OCI_NTV_SYNTAX, OCI_DEFAULT));
      checkerr(errhp, OCIBindByPos(getLtxidStm, &amp;bnd1p, errhp, 1,
                                   (dvoid *) myLtxid, (sword)myLtxidLen,
                                   SQLT_BIN, (dvoid *)0,
                                   (ub2 *) 0, (ub2 *) 0, (ub4) 0, (ub4 *) 0,
                                   OCI_DEFAULT));
      checkerr(errhp, OCIBindByPos(getLtxidStm, &amp;bnd2p, errhp, 2,
                                   (dvoid *) &amp;committed, 
                                   (sword)sizeof(committed),
                                   SQLT_BOL, (dvoid *)0,
                                   (ub2 *) 0, (ub2 *) 0, (ub4) 0, (ub4 *) 0,
                                   OCI_DEFAULT));
      checkerr(errhp, OCIBindByPos(getLtxidStm, &amp;bnd3p, errhp, 3,
                                   (dvoid *) &amp;callCompl, 
                                   (sword)sizeof(callCompl),
                                   SQLT_BOL, (dvoid *)0,
                                   (ub2 *) 0, (ub2 *) 0, (ub4) 0, (ub4 *) 0,
                                   OCI_DEFAULT));
      
      checkerr(errhp2,OCIStmtExecute(svchp2, getLtxidStm, errhp2, 
                                     (ub4)1, (ub4)0,
                                     (OCISnapshot *)0, (OCISnapshot *)0, 
                                     OCI_DEFAULT ));
      checkerr(errhp2, OCISessionRelease(svchp2, errhp2, 
                                         NULL, 0, OCI_DEFAULT));
      if (committed &amp;&amp; callCompl)
        printf("Insert successfully commited \n");
      else if (!committed)
      {
        printf("Transaction did not commit; re-executing last transaction\n");
        numAttempts++;
 
        /* As there was an outage, do not return this session to the pool */
        checkerr(errhp2, 
                 OCISessionRelease(svchp, errhp2, 
                                   NULL, 0, OCI_SESSRLS_DROPSESS));
        svchp = (OCISvcCtx *)0;
        goto restart;
      }
    }
  }
  else
  {
    checkerr(errhp2, OCITransCommit(svchp,errhp2,(ub4)0));
    printf("Transaction committed successfully\n");
  }
  if (stmthp)
    checkerr(errhp2, OCIStmtRelease((dvoid *) stmthp, errhp2,
                                    (void *)0, 0, OCI_DEFAULT));
  if (getLtxidStm)
    checkerr(errhp2, OCIStmtRelease((dvoid *) getLtxidStm, errhp2,
                                    (void *)0, 0, OCI_DEFAULT));
 
  if (svchp)
    checkerr(errhp2, OCISessionRelease(svchp, errhp2, NULL, 0, OCI_DEFAULT));
  OCIHandleFree((dvoid *)authp, OCI_HTYPE_AUTHINFO);
  OCIHandleFree((dvoid *)errhp2, OCI_HTYPE_ERROR);
 
} /* end of threadFunction (dvoid *) */
 
/* This function prints the error */
void checkerr(errhp, status)
OCIError *errhp;
sword status;
{
  text errbuf[512];
  sb4 errcode = 0;
 
  switch (status)
  {
  case OCI_SUCCESS:
    break;
  case OCI_SUCCESS_WITH_INFO:
    (void) printf("Error - OCI_SUCCESS_WITH_INFO\n");
    break;
  case OCI_NEED_DATA:
    (void) printf("Error - OCI_NEED_DATA\n");
    break;
  case OCI_NO_DATA:
    (void) printf("Error - OCI_NODATA\n");
    break;
  case OCI_ERROR:
    (void) OCIErrorGet((dvoid *)errhp, (ub4) 1, (text *) NULL, &amp;errcode,
                       errbuf, (ub4) sizeof(errbuf), OCI_HTYPE_ERROR);
    (void) printf("Error - %.*s\n", 512, errbuf);
    break;
  case OCI_INVALID_HANDLE:
    (void) printf("Error - OCI_INVALID_HANDLE\n");
    break;
  case OCI_STILL_EXECUTING:
    (void) printf("Error - OCI_STILL_EXECUTE\n");
    break;
  case OCI_CONTINUE:
    (void) printf("Error - OCI_CONTINUE\n");
    break;
  default:
    break;
  }
}
</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div>
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-A8DD9422-2F82-42A9-9555-134296416E8F" name="GUID-A8DD9422-2F82-42A9-9555-134296416E8F"></a><h3 id="LNOCI-GUID-A8DD9422-2F82-42A9-9555-134296416E8F" class="sect3"><span class="enumeration_section">12.5 </span>OCI and Application Continuity
               </h3>
               <div>
                  <p>Application Continuity (AC) gives High Availability (HA) during planned and unplanned outages. OCI support for AC was introduced with Oracle Database 12<span class="italic">c</span> Release 2 (12.2).
                  </p>
                  <p>AC masks hardware, software, network, storage errors, and timeouts in a HA environment running either Oracle RAC, Oracle RAC One, or Active Data Guard for instance or site failover. AC provides support for SQL*Plus, Tuxedo, WebLogic Server, and JDBC Type 4 (Oracle Thin), OCI, and Oracle Data Provider for .NET (ODP.NET) drivers.</p>
                  <p>With planned outages for applications that use the OCI session pool, the OCI session pool detects when a connection has been affected by a <code class="codeph">PLANNED DOWN</code> event and terminates the connection when it is returned to the pool. In planned outages for applications that do not use the OCI session pool, an OCI application detects when a connection has been impacted by a planned shutdown event. In either case, OCI implicitly determines when DML replay is safe and applications see fewer errors following a shutdown event.
                  </p>
                  <p>With unplanned outages, OCI uses Transaction Guard, which enables an OCI application to reliably determine the outcome of a transaction by recovering an in-flight transaction after a recoverable error occurs. This support means the completion of application requests during outages incurs only a minor delay while restoring database connectivity and session state. AC only attempts to replay an in-flight transaction if it can determine the transaction did not commit during original execution.</p>
                  <p>For AC support for OCI, Oracle recommends you use an OCI session pool or Tuxedo.</p>
                  <div class="p">This section includes the following topics:
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="high-availability-in-oci.html#GUID-BC59C816-621E-496D-8CC6-23176518BE75" title="Oracle Database release 18c, version 18.1 adds more support for Application Continuity.">About Added Support for Application Continuity</a></p>
                        </li>
                        <li>
                           <p><a href="high-availability-in-oci.html#GUID-E3D181AA-0346-4DF6-B154-DA43EE56EC1E" title="Following a recoverable error, database sessions fail over from one database instance to another database instance.">What Happens Following a Recoverable Error</a></p>
                        </li>
                        <li>
                           <p><a href="high-availability-in-oci.html#GUID-B291B826-C3EE-4A34-92CD-4F4CECC5D730" title="Successful driver replay requires that the client-visible effects of a post-failover transaction be identical to the initial submission.">Criteria for Successful Replay</a></p>
                        </li>
                        <li>
                           <p><a href="high-availability-in-oci.html#GUID-6936353C-3193-4052-AD34-D062FFF56B71" title="Lists the factors that implicitly disables Application Continuity in OCI until the start of the next application request.">What Factors Disable Application Continuity in OCI</a></p>
                        </li>
                        <li>
                           <p><a href="high-availability-in-oci.html#GUID-D40FACA1-FBE1-4540-B3C1-8E772404E655" title="What causes replay to fail.">Failed Replay</a></p>
                        </li>
                        <li>
                           <p><a href="high-availability-in-oci.html#GUID-6DACCD89-3CDE-42F5-882F-CB146E73A581" title="What determines the effectiveness of Application Continuity in OCI.">When Is Application Continuity Most Effective</a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="infoboxnotealso" id="GUID-A8DD9422-2F82-42A9-9555-134296416E8F__GUID-EB448EFF-AE3D-494C-B870-2DA307C92E20">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../racad/workload-management-with-dynamic-database-services.html#RACAD-GUID-87EDF90F-1776-474A-AD9C-93F9CBE6CB31" target="_blank"><span><cite>Oracle Real Application Clusters Administration and Deployment Guide</cite></span></a> for information about creating services for Application Continuity and Transaction Guard.
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-BC59C816-621E-496D-8CC6-23176518BE75" name="GUID-BC59C816-621E-496D-8CC6-23176518BE75"></a><h4 id="LNOCI-GUID-BC59C816-621E-496D-8CC6-23176518BE75" class="sect4"><span class="enumeration_section">12.5.1 </span>About Added Support for Application Continuity
                  </h4>
                  <div>
                     <p>Oracle Database release 18c, version 18.1 adds more support for Application Continuity.</p>
                     <div class="p">Beginning with Oracle Database release 18c, version 18.1, the following support is added for Application Continuity:
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Support is added for OCI dynamic binds and defines for numeric, character, and date/time types. This means the following OCI APIs are extended to support Application Continuity: <code class="codeph">OCIBindDynamic()</code> and <code class="codeph">OCIDefineDynamic()</code>.
                              </p>
                           </li>
                           <li>
                              <p>Support is added for binding and defining objects. This means the following OCI APIs are extended to support Application Continuity: <code class="codeph">OCIBindObject()</code>, <code class="codeph">OCIDefineObject()</code>, and <code class="codeph">OCITypeByName()</code>.
                              </p>
                           </li>
                           <li>
                              <p>During execution of LOB calls, Application Continuity now supports the handling of connection failure by restarting LOB calls that were interrupted by an outage.</p>
                           </li>
                           <li>
                              <p>OCI now supports the new Application Continuity <code class="codeph">FAILOVER_TYPE</code> of <code class="codeph">AUTO</code>, which only attempts to fail over if the session state is known to be restorable at the explicit request boundary.
                              </p>
                           </li>
                        </ul> 
                     </div>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-E3D181AA-0346-4DF6-B154-DA43EE56EC1E" name="GUID-E3D181AA-0346-4DF6-B154-DA43EE56EC1E"></a><h4 id="LNOCI-GUID-E3D181AA-0346-4DF6-B154-DA43EE56EC1E" class="sect4"><span class="enumeration_section">12.5.2 </span>What Happens Following a Recoverable Error
                  </h4>
                  <div>
                     <p>Following a recoverable error, database sessions fail over from one database instance to another database instance. </p>
                     <p>The new instance may be part of the same Oracle RAC cluster, or an Oracle Data Guard standby database that has been brought up as a primary database following a site failure. After transparent application failover (TAF) successfully reconnects and reauthenticates, Application Continuity in OCI replays the call history associated with the failed session, including all SQL and PL/SQL statements. Replay operates on a single session and does not attempt to synchronize the re-submission activity with any other database session. Replay is successful only if the client-visible results of transaction replay are identical to the original submission.</p>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-B291B826-C3EE-4A34-92CD-4F4CECC5D730" name="GUID-B291B826-C3EE-4A34-92CD-4F4CECC5D730"></a><h4 id="LNOCI-GUID-B291B826-C3EE-4A34-92CD-4F4CECC5D730" class="sect4"><span class="enumeration_section">12.5.3 </span>Criteria for Successful Replay
                  </h4>
                  <div>
                     <p>Successful driver replay requires that the client-visible effects of a post-failover transaction be identical to the initial submission.</p>
                     <p>This success is indicated by the following criteria:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Return codes and error message text must be identical.</p>
                        </li>
                        <li>
                           <p>Result sets must be identical. The define data must be identical and the rows must be returned in the same order.</p>
                        </li>
                        <li>
                           <p>The rows processed count must be identical. For example, a post-failover update statement must update the same number of rows as the original update statement.</p>
                        </li>
                        <li>
                           <p>Session state for the new connection matches session state from the original connection. </p>
                        </li>
                     </ul>
                     <p>See <a href="../racad/ensuring-application-continuity.html#RACAD-GUID-BD699AEB-9F85-42A8-8687-5A979918938D" target="_blank"><span><cite>Oracle Real Application Clusters Administration and Deployment Guide</cite></span></a> for information about these criteria.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-B291B826-C3EE-4A34-92CD-4F4CECC5D730__GUID-067C96FD-AB0D-45CB-A6F4-416CB1D5A52A">Stability of Mutable Data and Application Continuity</p>
                        <p>When values change from one execution to the next for a mutable object, its data is considered to be mutable and is thus guaranteed to be non-replayable. Sequences are an example of this mutable data. </p>
                        <p>To improve the success rate for DML replay, it is necessary to replay DML involving mutable data with the values used at initial submission. If the original values are not kept and if different values for these mutable objects are returned to the client, replay is rejected because the client sees different results. </p>
                        <p>Support for keeping mutable object values is currently provided for <code class="codeph">SYSDATE</code>, <code class="codeph">SYSTIMESTAMP</code>, <code class="codeph">SYS_GUID</code>, and <code class="codeph"><span class="codeinlineitalic">sequence</span>.NEXTVAL</code>.
                        </p>
                        <div class="infoboxnotealso" id="GUID-B291B826-C3EE-4A34-92CD-4F4CECC5D730__GUID-B3DAD364-9822-4E00-965C-23F36E142B47">
                           <p class="notep1">See Also:</p>
                           <p><a href="../racad/ensuring-application-continuity.html#RACAD-GUID-E4A114A2-EA77-4037-A62A-BDFCF1E6D072" target="_blank"><span><cite>Oracle Real Application Clusters Administration and Deployment Guide</cite></span></a> for more information about mutable objects and Application Continuity.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-6936353C-3193-4052-AD34-D062FFF56B71" name="GUID-6936353C-3193-4052-AD34-D062FFF56B71"></a><h4 id="LNOCI-GUID-6936353C-3193-4052-AD34-D062FFF56B71" class="sect4"><span class="enumeration_section">12.5.4 </span>What Factors Disable Application Continuity in OCI
                  </h4>
                  <div>
                     <p>Lists the factors that implicitly disables Application Continuity in OCI until the start of the next application request.</p>
                     <p>The following situations implicitly disables Application Continuity in OCI until the start of the next application request:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The server detects a condition that is not consistent with replay. For example, for <code class="codeph">SESSION_STATE_CONSISTENCY=DYNAMIC</code> if a PL/SQL anonymous block has an embedded top level <code class="codeph">COMMIT</code> statement (autonomous transactions are not considered top level), the driver implicitly disables Application Continuity in OCI.
                           </p>
                        </li>
                        <li>
                           <p>The application calls an OCI function that is not supported by Application Continuity in OCI.</p>
                        </li>
                     </ul>
                     <p>The application can explicitly disable Application Continuity in OCI by calling <code class="codeph">OCIRequestDisableReplay()</code>.
                     </p>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-D40FACA1-FBE1-4540-B3C1-8E772404E655" name="GUID-D40FACA1-FBE1-4540-B3C1-8E772404E655"></a><h4 id="LNOCI-GUID-D40FACA1-FBE1-4540-B3C1-8E772404E655" class="sect4"><span class="enumeration_section">12.5.5 </span>Failed Replay
                  </h4>
                  <div>
                     <p>What causes replay to fail.</p>
                     <p>When Application Continuity in OCI replays a transaction, the following situations will cause replay to fail:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Encountering a <code class="codeph">COMMIT</code> statement at replay time
                           </p>
                        </li>
                        <li>
                           <p>Replay results are not consistent with the initial submission of the transaction</p>
                        </li>
                        <li>
                           <p>Presence of a recoverable error during replay if the internal replay retries limit is exceeded</p>
                        </li>
                        <li>
                           <p>Applications that use <code class="codeph">OCIStmtPrepare()</code> return the following error: <code class="codeph">Error - ORA-25412: transaction replay disabled by call to OCIStmtPrepare</code>. Use the <code class="codeph">OCIStmtPrepare2()</code> call to support the use of Application Continuity in an HA infrastructure.
                           </p>
                        </li>
                     </ul>
                     <p>Application Continuity returns an error if it cannot successfully replay a failed transaction. Additional diagnostic information will be logged in the client-side trace file to indicate the reason for the replay failure.</p>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-6DACCD89-3CDE-42F5-882F-CB146E73A581" name="GUID-6DACCD89-3CDE-42F5-882F-CB146E73A581"></a><h4 id="LNOCI-GUID-6DACCD89-3CDE-42F5-882F-CB146E73A581" class="sect4"><span class="enumeration_section">12.5.6 </span>When Is Application Continuity Most Effective
                  </h4>
                  <div>
                     <p>What determines the effectiveness of Application Continuity in OCI.</p>
                     <p>Application Continuity in OCI is most effective under the following conditions:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The database service specifies the <code class="codeph">COMMIT_OUTCOME</code> attribute and transparent application failover (TAF) is configured.
                           </p>
                        </li>
                        <li>
                           <p>An application is able to mark the beginning and end of an application request, either explicitly (calling <code class="codeph">OCIRequestBegin()</code> and <code class="codeph">OCIRequestEnd()</code>) or implicitly through use of an OCI session pool.
                           </p>
                        </li>
                        <li>
                           <p>An application request contains at most one database transaction that is committed at the end of the request.</p>
                        </li>
                        <li>
                           <div class="p">If the application executes PL/SQL or Java in the server, that PL/SQL or Java: 
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Does not have embedded <code class="codeph">COMMIT</code> statements
                                    </p>
                                 </li>
                                 <li>
                                    <p>Does not set any state (for example, package variables) that is expected to persist after the PL/SQL or Java completes.</p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li>
                           <p>The TAF callback does not leave an open database transaction.</p>
                        </li>
                     </ul>
                     <div class="p">This section includes the following topics:
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="high-availability-in-oci.html#GUID-D30079AC-4E59-4CC3-86E8-6487A4891BA2" title="Describes with which functions when Application Continuity in OCI can fail over if an outage occurs.">When Application Continuity in OCI Can Fail Over</a></p>
                           </li>
                           <li>
                              <p><a href="high-availability-in-oci.html#GUID-8B38BDC1-A606-4893-A18F-CF1712DE29B2" title="What constructs are not supported by Application Continuity in OCI.">Application Continuity in OCI Does Not Support These Constructs</a></p>
                           </li>
                           <li>
                              <p><a href="high-availability-in-oci.html#GUID-B54C508E-60E7-4053-BD7F-95272F8EDE35" title="Application Continuity in OCI replays the original PL/SQL and SQL statements following a recoverable error once a session is rebuilt and the database state is restored. The replay leaves side-effects that are seen twice, which may or may not be desirable.">Possible Side Effects of Application Continuity</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-D30079AC-4E59-4CC3-86E8-6487A4891BA2" name="GUID-D30079AC-4E59-4CC3-86E8-6487A4891BA2"></a><h5 id="LNOCI-GUID-D30079AC-4E59-4CC3-86E8-6487A4891BA2" class="sect5"><span class="enumeration_section">12.5.6.1 </span>When Application Continuity in OCI Can Fail Over
                     </h5>
                     <div>
                        <p>Describes with which functions when Application Continuity in OCI can fail over if an outage occurs.</p>
                        <div class="p">Application Continuity in OCI can fail over if an outage occurs during one of the following functions:
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">OCILobAppend()</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCILobArrayRead()</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCILobArrayWrite()</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCILobAssign()</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCILobCharSetForm()</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCILobClose()</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCILobCopy2()</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCILobCreateTemporary()</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCILobDisableBuffering()</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCILobEnableBuffering()</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCILobFileClose()</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCILobFileCloseAll()</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCILobFileGetName()</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCILobFileIsOpen()</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCILobFileOpen()</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCILobFileSetName()</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCILobFlushBuffer()</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCILobFreeTemporary()</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCILobGetChunkSize()</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCILobGetLength()</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCILobGetLength2()</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCILobGetStorageLimit()</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCILobIsEqual()</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCILobIsOpen()</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCILobIsTemporary()</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCILobLoadFromFile()</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCILobLoadFromFile2()</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCILobLocatorAssign()</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCILobLocatorIsInit()</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCILobOpen()</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCILobRead()</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCILobRead2()</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCILobTrim()</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCILobTrim2()</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCILobWriteAppend()</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCILobWriteAppend2()</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCILobWrite()</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCILobWrite2()</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCIPing()</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCIStmtExecute()</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCIStmtFetch()</code> 
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCIStmtFetch2()</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCISessionEnd()</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCITransCommit()</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">OCITransRollback()</code></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-8B38BDC1-A606-4893-A18F-CF1712DE29B2" name="GUID-8B38BDC1-A606-4893-A18F-CF1712DE29B2"></a><h5 id="LNOCI-GUID-8B38BDC1-A606-4893-A18F-CF1712DE29B2" class="sect5"><span class="enumeration_section">12.5.6.2 </span>Application Continuity in OCI Does Not Support These Constructs
                     </h5>
                     <div>
                        <p>What constructs are not supported by Application Continuity in OCI.</p>
                        <p>Application Continuity in OCI does not support the following constructs:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>XA Transactions </p>
                           </li>
                           <li>
                              <p>PL/SQL blocks with embedded <code class="codeph">COMMIT</code> statements
                              </p>
                           </li>
                           <li>
                              <p>AQ Dequeue in dequeue immediate mode (deqopt.visibility)</p>
                           </li>
                           <li>
                              <p>Streaming binds or defines of descriptor-based types such as objects or lob locators</p>
                           </li>
                           <li>
                              <p>Function <code class="codeph">OCIStmtPrepare()</code></p>
                           </li>
                           <li>
                              <p>Registered OCI callbacks of type <code class="codeph">OCI_CBTYPE_ENTRY</code> that do not return <code class="codeph">OCI_CONTINUE</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">COMMIT NOWAIT</code> statement
                              </p>
                           </li>
                           <li>
                              <p>DCL commands</p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-B54C508E-60E7-4053-BD7F-95272F8EDE35" name="GUID-B54C508E-60E7-4053-BD7F-95272F8EDE35"></a><h5 id="LNOCI-GUID-B54C508E-60E7-4053-BD7F-95272F8EDE35" class="sect5"><span class="enumeration_section">12.5.6.3 </span>Possible Side Effects of Application Continuity
                     </h5>
                     <div>
                        <p>Application Continuity in OCI replays the original PL/SQL and SQL statements following a recoverable error once a session is rebuilt and the database state is restored. The replay leaves side-effects that are seen twice, which may or may not be desirable.</p>
                        <p>It is important that applications understand these side-effects and decide whether duplicate execution is acceptable. If it is not acceptable, then the application must take action to accommodate or mitigate the effects of replay. For example, by calling <code class="codeph">OCIRequestDisableReplay()</code>.
                        </p>
                        <div class="infoboxnotealso" id="GUID-B54C508E-60E7-4053-BD7F-95272F8EDE35__GUID-74A846EB-F08C-48A9-9B33-7F917E67CB00">
                           <p class="notep1">See Also:</p>
                           <p><a href="../racad/ensuring-application-continuity.html#RACAD-GUID-A250F3F8-D681-4F44-8969-7A8434E065DD" target="_blank"><span><cite>Oracle Real Application Clusters Administration and Deployment Guide</cite></span></a> for more information about examples of actions that create side effects.
                           </p>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='03682.SDO_GEOR_IP-reference-ref.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="The SDO_GEOR_IP package contains subprograms (functions and procedures) for performing image processing operations on GeoRaster objects. This chapter presents reference information, with one or more examples, for each subprogram.">
      <meta name="description" content="The SDO_GEOR_IP package contains subprograms (functions and procedures) for performing image processing operations on GeoRaster objects. This chapter presents reference information, with one or more examples, for each subprogram.">
      <title>SDO_GEOR_IP Package Reference</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="GeoRaster Developer's Guide ">
      <meta property="og:description" content="The SDO_GEOR_IP package contains subprograms (functions and procedures) for performing image processing operations on GeoRaster objects. This chapter presents reference information, with one or more examples, for each subprogram.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="GeoRaster Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="spatial-and-graph-georaster-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-14T11:48:45-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E94793-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="SDO_GEOR_GDAL-reference.html" title="Previous" type="text/html">
      <link rel="next" href="sdo-geor-ra-ref.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Spatial and Graph GeoRaster Developer's Guide">
    <meta name="dcterms.isVersionOf" content="GEORS">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="SDO_GEOR_GDAL-reference.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="sdo-geor-ra-ref.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">GeoRaster Developer's Guide </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">SDO_GEOR_IP Package Reference</li>
            </ol>
            <a id="GUID-658BBDD1-0155-44BC-8A21-CDC1C088E74F" name="GUID-658BBDD1-0155-44BC-8A21-CDC1C088E74F"></a>
            
            <h2 id="GEORS-GUID-658BBDD1-0155-44BC-8A21-CDC1C088E74F" class="sect2"><span class="enumeration_chapter">11 </span>SDO_GEOR_IP Package Reference
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The SDO_GEOR_IP package contains subprograms (functions and procedures) for performing image processing operations on GeoRaster objects. This chapter presents reference information, with one or more examples, for each subprogram.</p>
               <p>Many examples in this chapter refer to a table named GEORASTER_TABLE, whose definition is presented after <a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D__CHDGDCEC">Example 1-1</a> in <a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D">Storage Parameters</a>.
               </p>
               <p>All SDO_GEOR_IP subprograms can work on GeoRaster objects defined in schemas other than the current connection schema.</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="SDO_GEOR_IP-reference-ref.html#GUID-6E3461D5-3DCB-4212-ADE5-7E200F541FA4">SDO_GEOR_IP.dodge</a><br></li>
                  <li class="ulchildlink"><a href="SDO_GEOR_IP-reference-ref.html#GUID-5E8228CC-DD00-42F4-80A4-458533A998EA">SDO_GEOR_IP.equalize</a><br></li>
                  <li class="ulchildlink"><a href="SDO_GEOR_IP-reference-ref.html#GUID-2EDEFFD7-15AA-4C94-B1D0-87B078B7444E">SDO_GEOR_IP.filter</a><br></li>
                  <li class="ulchildlink"><a href="SDO_GEOR_IP-reference-ref.html#GUID-A3F4F825-3B80-4673-9CC0-010AFCBE01AA">SDO_GEOR_IP.histogramMatch</a><br></li>
                  <li class="ulchildlink"><a href="SDO_GEOR_IP-reference-ref.html#GUID-2D8EF3FF-9A5D-49ED-BC27-56D145E96C77">SDO_GEOR_IP.normalize</a><br></li>
                  <li class="ulchildlink"><a href="SDO_GEOR_IP-reference-ref.html#GUID-4996A4C1-3CEA-4F4A-9D3E-1251AC3DEFB3">SDO_GEOR_IP.piecewiseStretch</a><br></li>
                  <li class="ulchildlink"><a href="SDO_GEOR_IP-reference-ref.html#GUID-B6E29A85-58A4-4DCA-BF00-D0B4C46DFE8E">SDO_GEOR_IP.stretch</a><br></li>
               </ul>
            </div>
            
            <div class="props_rev_3"><a id="GUID-6E3461D5-3DCB-4212-ADE5-7E200F541FA4" name="GUID-6E3461D5-3DCB-4212-ADE5-7E200F541FA4"></a><h3 id="GEORS-GUID-6E3461D5-3DCB-4212-ADE5-7E200F541FA4" class="sect3"><span class="enumeration_section">11.1 </span>SDO_GEOR_IP.dodge
               </h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-6E3461D5-3DCB-4212-ADE5-7E200F541FA4__GUID-8E20AF1B-1BF6-45CD-B916-968D01F77A55">Format</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_IP.dodge(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRaster        IN SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gridsize           IN SDO_NUMBER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;samplingFactor     IN VARCHAR2 DEFAULT NULL, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;means              IN SDO_NUMBER_ARRAY DEFAULT NULL,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;standardDeviations IN SDO_NUMBER_ARRAY DEFAULT NULL,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam       IN VARCHAR2 DEFAULT NULL, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outGeoraster       IN OUT SDO_GEORASTER,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parallelParam      IN VARCHAR2 DEFAULT NULL);&nbsp;&nbsp;</pre><p>or</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_IP.dodge(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRaster        IN SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gridsize           IN SDO_NUMBER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;samplingFactor     IN VARCHAR2 DEFAULT NULL, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;refGeoraster       IN SDO_GEORASTER,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;standardDeviations IN SDO_NUMBER_ARRAY DEFAULT NULL,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam       IN VARCHAR2 DEFAULT NULL, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outGeoraster       IN OUT SDO_GEORASTER,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parallelParam      IN VARCHAR2 DEFAULT NULL);&nbsp;&nbsp;</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6E3461D5-3DCB-4212-ADE5-7E200F541FA4__GUID-30001566-2066-4178-914A-29A2C4E14931">Description</p>
                     <p>Apply a dodging algorithm on the input GeoRaster object to color balance the image.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6E3461D5-3DCB-4212-ADE5-7E200F541FA4__GUID-A4E56862-4676-418D-B075-C48E5282EEDC">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-6E3461D5-3DCB-4212-ADE5-7E200F541FA4__GUID-5ADDA38B-C93C-4009-B5A0-ABF84079D8EF">
                              <!-- --></a>inGeoRaster
                        </dt>
                        <dd>
                           <p>The SDO_GEORASTER object to be processed.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6E3461D5-3DCB-4212-ADE5-7E200F541FA4__GUID-64B1D897-7A25-4BB6-96EA-00B02ECA27BA">
                              <!-- --></a>gridSize
                        </dt>
                        <dd>
                           <p>The size of each grid in x and y direction, respectively. It is an array of one or two numbers. If only one number is specified, then it is for both x and y direction.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6E3461D5-3DCB-4212-ADE5-7E200F541FA4__GUID-6781222E-EB8D-4E59-9E8B-17C8E054D47A">
                              <!-- --></a>samplingFactor
                        </dt>
                        <dd>
                           <p>Sampling factor, used to control the calculation of the statistics, in the format<code class="codeph">'samplingFactor=n'</code>, with the denominator <span class="italic">n</span> in 1/(<span class="italic">n</span>*<span class="italic">n</span>) representing the number of cells skipped in both row and column dimensions in computing the statistics. For example, if <code class="codeph">samplingFactor</code> is 4, one-sixteenth of the cells are sampled; but if <code class="codeph">samplingFactor</code> is 1, all cells are sampled. The higher the value, the less accurate the statistics are likely to be, but the more quickly they will be computed. If not specified (null), the default is 1.
                           </p>
                           <p><code class="codeph">samplingFactor</code> cannot be greater than or equal to one-half (0.5) of <code class="codeph">gridSize</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6E3461D5-3DCB-4212-ADE5-7E200F541FA4__GUID-601AB169-0880-4E5D-8A5F-B745FEE654CF">
                              <!-- --></a>means
                        </dt>
                        <dd>
                           <p>The target mean values for each output bands. If only one value is specified, it is applied to all the output bands; otherwise, it must have the same number of values as the number bands of the output GeoRaster object.  If null, it is calculated as the average mean value over all the grids.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6E3461D5-3DCB-4212-ADE5-7E200F541FA4__GUID-AF4C41A3-ECAB-4DF4-86E5-6C48265E2AA9">
                              <!-- --></a>standardDeviations
                        </dt>
                        <dd>
                           <p>The target standard deviation values for each output bands. If only one value is specified, it is applied to all the output bands; otherwise, it must have the same number of values as the number of bands of the output GeoRaster object.    If null, it is calculated as the average standard deviation over all the grids.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6E3461D5-3DCB-4212-ADE5-7E200F541FA4__GUID-AFBD7B00-0596-40DA-AEA4-F8A403DB2B4D">
                              <!-- --></a>refGeoraster
                        </dt>
                        <dd>
                           <p>The reference GeoRaster object.&nbsp; The output of the dodging result will adapt to the statistics of the reference GeoRaster object.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6E3461D5-3DCB-4212-ADE5-7E200F541FA4__GUID-F10DDAB3-73E9-41CE-A679-4B4F52354084">
                              <!-- --></a>storageParam
                        </dt>
                        <dd>
                           <p>A string specifying storage parameters, as explained in <a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D">Storage Parameters</a>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6E3461D5-3DCB-4212-ADE5-7E200F541FA4__GUID-2BEDAFFB-EF0C-4813-8821-D91342CE7381">
                              <!-- --></a>outGeoRaster
                        </dt>
                        <dd>
                           <p>The output SDO_GEORASTER object that reflects the results of the operation. Must be either a valid existing GeoRaster object or an empty GeoRaster object. (Empty GeoRaster objects are explained in <a href="georaster-overview-and-concepts.html#GUID-C4D574D6-340B-49DC-95BD-87FDEB11CE16">Blank and Empty GeoRaster Objects</a>.) Cannot be the same GeoRaster object as <code class="codeph">inGeoRaster</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6E3461D5-3DCB-4212-ADE5-7E200F541FA4__GUID-07E2EEEE-819F-46A9-AA46-F77A18458317">
                              <!-- --></a>parallelParam
                        </dt>
                        <dd>
                           <p>Specifies the degree of parallelism for the operation. If specified, must be in the form <code class="codeph">parallel=</code><span class="italic">n</span>, where <span class="italic">n</span> is greater than 1. The database optimizer uses the degree of parallelism specified by this parameter. If not specified, then by default there is no parallel processing. (For more information, see <a href="georaster-overview-and-concepts.html#GUID-8EC0357C-9089-448E-9ED0-1B33F36E8F3C" title="There are two types of parallel processing with GeoRaster.">Parallel Processing in GeoRaster</a>.)
                           </p>
                           <p>If parallelism is specified, the procedure performs an internal commit while the process is running. Therefore, you cannot roll back the results of this procedure. If an error occurs (even if it is raised by the Oracle parallel server), you must delete the resulting output GeoRaster object explicitly in order to roll back the operation. </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6E3461D5-3DCB-4212-ADE5-7E200F541FA4__GUID-7A3C229B-0601-4669-9D51-0721954D7EAA">Usage Notes</p>
                     <p>This dodging operation uses an adaptive image enhancement method to make the image tone more balanced, that is, the darker area becomes brighter and the bright area becomes darker. The statistics for the grid defined by the <code class="codeph">gridsize</code> parameter are collected on the fly and adjusted to the target mean and standard deviation values. The grid size should be smaller than the imbalanced area in order to remove the imbalance. Adjust the <code class="codeph">gridSize</code> parameter to achieve the best result.
                     </p>
                     <p>The input GeoRaster image must have a <code class="codeph">cellDepth</code> value of <code class="codeph">8BIT_U</code>. Any <code class="codeph">celldepth</code> value in the storage parameters is ignored. The cell depth of the <code class="codeph">outGeoRaster</code> object is always <code class="codeph">8BIT_U</code>.
                     </p>
                     <p>Color map in the input GeoRaster object is not supported.</p>
                     <p>The output GeoRaster object has no pyramid or mask.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6E3461D5-3DCB-4212-ADE5-7E200F541FA4__GUID-88BE7296-40B8-481C-8112-BAF85E6D7DAE">Examples</p>
                     <p>The following example creates a GeoRaster object that is the result of dodging on the input GeoRaster object.  The desired mean and standard deviation are set as 125 and 80, respectively. The grid size is 512 on x and y direction. (It refers to a table named GEORASTER_TABLE, whose definition is presented after <a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D__CHDGDCEC">Example 1-1</a> in <a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D">Storage Parameters</a>.)
                     </p><pre class="oac_no_warn" dir="ltr">DECLARE
  gr1 sdo_georaster;
  gr2 sdo_georaster;
BEGIN
  INSERT INTO georaster_table (georid, georaster)
    VALUES (41, sdo_geor.init('RDT_1'))
    RETURNING georaster INTO gr2;

  SELECT georaster INTO gr1 FROM georaster_table WHERE georid=4;

  sdo_geor_ip.dodge(gr1, sdo_number_array(512, 512), ‘samplingFactor=3’, sdo_number_array(125), sdo_number_array(80), null, gr2);
  UPDATE georaster_table SET georaster=gr2 WHERE georid=41;
  COMMIT;
END;
/
</pre><p>The following example creates a GeoRaster object that is the result of dodging on the input GeoRaster object based on the reference GeoRaster object. Parallel processing is enabled with parallel degree of 4. The grid size is 512 on x and y direction. (It refers to a table named GEORASTER_TABLE, whose definition is presented after <a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D__CHDGDCEC">Example 1-1</a> in <a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D">Storage Parameters</a>.)
                     </p><pre class="oac_no_warn" dir="ltr">DECLARE
gr1 sdo_georaster;
gr2 sdo_georaster;
refgr sdo_georaster;
BEGIN
  INSERT INTO georaster_table (georid, georaster) VALUES (41, sdo_geor.init('RDT_1'))
     RETURNING georaster INTO gr2;
  SELECT georaster INTO gr1 FROM georaster_table WHERE georid=4;
  SELECT georaster INTO refgr FROM georaster_table WHERE georid=1;
  sdo_geor_ip.dodge(gr1, sdo_number_array(512, 512), ‘samplingFactor=3’, refgr, null,
                    gr2, 'parallel=4');
  UPDATE georaster_table SET georaster=gr2 WHERE georid=41;
COMMIT;
END;
/ </pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="SDO_GEOR_IP-reference-ref.html#GUID-658BBDD1-0155-44BC-8A21-CDC1C088E74F" title="The SDO_GEOR_IP package contains subprograms (functions and procedures) for performing image processing operations on GeoRaster objects. This chapter presents reference information, with one or more examples, for each subprogram.">SDO_GEOR_IP Package Reference</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-5E8228CC-DD00-42F4-80A4-458533A998EA" name="GUID-5E8228CC-DD00-42F4-80A4-458533A998EA"></a><h3 id="GEORS-GUID-5E8228CC-DD00-42F4-80A4-458533A998EA" class="sect3"><span class="enumeration_section">11.2 </span>SDO_GEOR_IP.equalize
               </h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-5E8228CC-DD00-42F4-80A4-458533A998EA__GUID-8E20AF1B-1BF6-45CD-B916-968D01F77A55">Format</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_IP.equalize(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRaster  IN SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel IN NUMBER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea     IN SDO_NUMBER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bandNumbers  IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outGeoraster IN OUT SDO_GEORASTER,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parallelParam IN VARCHAR2 DEFAULT NULL);</pre><p>or</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_IP.equalize(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRaster  IN SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel IN NUMBER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea     IN SDO_GEOMETRY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumbers IN VARCHAR2,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outGeoraster IN OUT SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parallelParam IN VARCHAR2 DEFAULT NULL);</pre><p>or</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_IP.equalize(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRaster  IN SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel IN NUMBER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea     IN SDO_NUMBER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bandNumbers  IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rasterBlob   IN OUT BLOB,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outArea      OUT SDO_GEOMETRY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outWindow    OUT SDO_NUMBER_ARRAY);</pre><p>or</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_IP.equalize(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRaster  IN SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel IN NUMBER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea     IN SDO_GEOMETRY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumbers IN VARCHAR2,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rasterBlob   IN OUT BLOB,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outArea      OUT SDO_GEOMETRY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outWindow    OUT SDO_NUMBER_ARRAY);</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5E8228CC-DD00-42F4-80A4-458533A998EA__GUID-30001566-2066-4178-914A-29A2C4E14931">Description</p>
                     <p>Process the input GeoRaster object by using histogram equalization method. The processed image is stored in the output GeoRaster object or in a BLOB.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5E8228CC-DD00-42F4-80A4-458533A998EA__GUID-A4E56862-4676-418D-B075-C48E5282EEDC">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-5E8228CC-DD00-42F4-80A4-458533A998EA__GUID-5ADDA38B-C93C-4009-B5A0-ABF84079D8EF">
                              <!-- --></a>inGeoRaster
                        </dt>
                        <dd>
                           <p>The SDO_GEORASTER object to be equalized.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5E8228CC-DD00-42F4-80A4-458533A998EA__GUID-5B08A3DD-8FB5-4C77-B33B-E715FE86C843">
                              <!-- --></a>pyramidLevel
                        </dt>
                        <dd>
                           <p>A number specifying the pyramid level to be equalized in the source GeoRaster object. If null, the default is 0.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5E8228CC-DD00-42F4-80A4-458533A998EA__GUID-B990F65D-6226-455A-94B8-87A3958C9239">
                              <!-- --></a>cropArea
                        </dt>
                        <dd>
                           <p>Crop area definition. If <code class="codeph">cropArea</code> is of type SDO_GEOMETRY, use the <code class="codeph">layerNumbers</code> parameter to specify one or more layer numbers; if <code class="codeph">cropArea</code> is of type SDO_NUMBER_ARRAY, use the <code class="codeph">bandNumbers</code> parameter to specify one or more band numbers.
                           </p>
                           <p>If the data type is SDO_NUMBER_ARRAY, the parameter identifies the upper-left (row, column) and lower-right (row, column) coordinates of a rectangular window, and raster space is assumed. If the data type is SDO_GEOMETRY, the minimum bounding rectangle (MBR) of the geometry object is used as the crop area; see also the Usage Notes for SDO_SRID requirements.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5E8228CC-DD00-42F4-80A4-458533A998EA__GUID-64B1D897-7A25-4BB6-96EA-00B02ECA27BA">
                              <!-- --></a>bandNumbers
                        </dt>
                        <dd>
                           <p>A string identifying the physical band numbers on which the operation is to be performed. Use commas to delimit the values, and a hyphen to indicate a range (for example, <code class="codeph">1-3</code> for bands 1, 2, and 3).
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5E8228CC-DD00-42F4-80A4-458533A998EA__GUID-7D092C87-2E10-476C-A9DB-B1C0D3E01C1D">
                              <!-- --></a>layerNumbers
                        </dt>
                        <dd>
                           <p>A string identifying the logical layer numbers on which the operation is to be performed. Use commas to delimit the values, and a hyphen to indicate a range (for example, <code class="codeph">2-4</code> for layers 2, 3, and 4).
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5E8228CC-DD00-42F4-80A4-458533A998EA__GUID-F10DDAB3-73E9-41CE-A679-4B4F52354084">
                              <!-- --></a>storageParam
                        </dt>
                        <dd>
                           <p>A string specifying storage parameters, as explained in <a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D">Storage Parameters</a>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5E8228CC-DD00-42F4-80A4-458533A998EA__GUID-6B0389F3-BBAD-42E8-9206-F5875FF03A15">
                              <!-- --></a>outGeoRaster
                        </dt>
                        <dd>
                           <p>The output SDO_GEORASTER object that reflects the results of the operation. Must be either a valid existing GeoRaster object or an empty GeoRaster object. (Empty GeoRaster objects are explained in <a href="georaster-overview-and-concepts.html#GUID-C4D574D6-340B-49DC-95BD-87FDEB11CE16">Blank and Empty GeoRaster Objects</a>.) Cannot be the same GeoRaster object as <code class="codeph">inGeoRaster</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5E8228CC-DD00-42F4-80A4-458533A998EA__GUID-9E414F13-BBF7-411D-9B84-8382EB5900D2">
                              <!-- --></a>parallelParam
                        </dt>
                        <dd>
                           <p>Specifies the degree of parallelism for the operation. If specified, must be in the form <code class="codeph">parallel=</code><span class="italic">n</span>, where <span class="italic">n</span> is greater than 1. The database optimizer uses the degree of parallelism specified by this parameter. If not specified, then by default there is no parallel processing. (For more information, see <a href="georaster-overview-and-concepts.html#GUID-8EC0357C-9089-448E-9ED0-1B33F36E8F3C" title="There are two types of parallel processing with GeoRaster.">Parallel Processing in GeoRaster</a>.)
                           </p>
                           <p>If parallelism is specified, the procedure performs an internal commit while the process is running. Therefore, you cannot roll back the results of this procedure. If an error occurs (even if it is raised by the Oracle parallel server), you must delete the resulting output GeoRaster object explicitly in order to roll back the operation. </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5E8228CC-DD00-42F4-80A4-458533A998EA__GUID-5E5A311B-2852-47E4-8D38-12E9EAC38E7C">
                              <!-- --></a>rasterBlob
                        </dt>
                        <dd>
                           <p>BLOB to hold the output of the processing result. It must exist or have been initialized before the operation.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5E8228CC-DD00-42F4-80A4-458533A998EA__GUID-8055532C-9900-40CB-8E43-64B682831D5C">
                              <!-- --></a>outArea
                        </dt>
                        <dd>
                           <p>An SDO_GEOMETRY object containing the MBR (minimum bounding rectangle) in the model coordinate system of the resulting object.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-5E8228CC-DD00-42F4-80A4-458533A998EA__GUID-9C93D567-0081-43C9-9554-B7ADF2EB5032">
                              <!-- --></a>outWindow
                        </dt>
                        <dd>
                           <p>An SDO_NUMBER_ARRAY object identifying the coordinates of the upper-left and lower-right corners of the output window in the cell space.</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5E8228CC-DD00-42F4-80A4-458533A998EA__GUID-7A3C229B-0601-4669-9D51-0721954D7EAA">Usage Notes</p>
                     <p>The input GeoRaster object must have histogram generated for each output band.</p>
                     <p>The equalization is performed based on the histograms stored in the metadata of the input GeoRaster object.</p>
                     <p>Color map stored in the input GeoRaster object is not supported.</p>
                     <p>The output GeoRaster object has no pyramid or mask.</p>
                     <p>The cell depth of the  output GeoRaster object is always <code class="codeph">8BIT_U</code>.
                     </p>
                     <p>If the <code class="codeph">cropArea</code> parameter data type is SDO_GEOMETRY, the SDO_SRID value must be one of the following:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Null, to specify raster space</p>
                        </li>
                        <li>
                           <p>A value from the SRID column of the MDSYS.CS_SRS table</p>
                           <p>If the SDO_SRID values for the <code class="codeph">cropArea</code> parameter geometry and the model space are different, the <code class="codeph">cropArea</code> parameter geometry is automatically transformed to the coordinate system of the model space before the operation is performed. (Raster space and model space are explained in <a href="georaster-overview-and-concepts.html#GUID-E38F1F16-4272-4CC8-A199-C97B11C634BA" title="Raster data can have some or all of the following elements.">GeoRaster Data Model</a>.)
                           </p>
                        </li>
                     </ul>
                     <p>If the <code class="codeph">cropArea</code> parameter specifies a geodetic MBR, it cannot cross the date line meridian
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5E8228CC-DD00-42F4-80A4-458533A998EA__GUID-88BE7296-40B8-481C-8112-BAF85E6D7DAE">Examples</p>
                     <p>The following example creates a GeoRaster object that has each input band equalized based on the histogram stored in the metadata. (It refers to a table named GEORASTER_TABLE, whose definition is presented after <a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D__CHDGDCEC">Example 1-1</a> in <a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D">Storage Parameters</a>.)
                     </p><pre class="oac_no_warn" dir="ltr">DECLARE
  gr1 sdo_georaster;
  gr2 sdo_georaster;
  cropArea sdo_number_array := null;
BEGIN
  INSERT INTO georaster_table (georid, georaster)
    VALUES (41, sdo_geor.init('RDT_1'))
    RETURNING georaster INTO gr2;

  SELECT georaster INTO gr1 FROM georaster_table WHERE georid=4;

  sdo_geor_ip.equalize(gr1, cropArea, null, null, gr2);
  UPDATE georaster_table SET georaster=gr2 WHERE georid=41;
  COMMIT;
END;
/
</pre><p>The following example performs the image equalization based on the histogram stored in the metadata; the output is in a temporary BLOB. (It refers to a table named GEORASTER_TABLE, whose definition is presented after <a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D__CHDGDCEC">Example 1-1</a> in <a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D">Storage Parameters</a>.)
                     </p><pre class="oac_no_warn" dir="ltr">DECLARE
  gr1 sdo_georaster;
  out_lob BLOB;
  cropArea sdo_number_array := null;
  outArea sdo_geometry;
  outWindow sdo_number_array;
BEGIN
  dbms_lob.create_temporary(out_lob, TRUE);
  SELECT georaster INTO gr1 FROM georaster_table WHERE georid=4;

  sdo_geor_ip.equalize(gr1, cropArea, null, null, out_lob, outArea, outWindow);
  if outWindow is not null then
     dbms_output.put_line('output window: (' || outWindow(1) || ',' ||
                           outWindow(2) || ',' || outWindow(3) || ',' || outWindow(4) || ')');
  end if;
  dbms_lob.freeTemporary(out_lob);
END;
/
</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="SDO_GEOR_IP-reference-ref.html#GUID-658BBDD1-0155-44BC-8A21-CDC1C088E74F" title="The SDO_GEOR_IP package contains subprograms (functions and procedures) for performing image processing operations on GeoRaster objects. This chapter presents reference information, with one or more examples, for each subprogram.">SDO_GEOR_IP Package Reference</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-2EDEFFD7-15AA-4C94-B1D0-87B078B7444E" name="GUID-2EDEFFD7-15AA-4C94-B1D0-87B078B7444E"></a><h3 id="GEORS-GUID-2EDEFFD7-15AA-4C94-B1D0-87B078B7444E" class="sect3"><span class="enumeration_section">11.3 </span>SDO_GEOR_IP.filter
               </h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-2EDEFFD7-15AA-4C94-B1D0-87B078B7444E__GUID-8E20AF1B-1BF6-45CD-B916-968D01F77A55">Format</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_IP.filter(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRaster  IN SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel IN NUMBER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea     IN SDO_NUMBER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bandNumbers  IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filterParam  IN VARCHAR2,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filterKernel IN SDO_NUMBER_ARRAY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outGeoraster IN OUT SDO_GEORASTER,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parallelParam IN VARCHAR2 DEFAULT NULL);</pre><p>or</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_IP.filter(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRaster  IN SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel IN NUMBER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea     IN SDO_GEOMETRY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumbers IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filterParam  IN VARCHAR2,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filterKernel IN SDO_NUMBER_ARRAY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outGeoraster IN OUT SDO_GEORASTER,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parallelParam IN VARCHAR2 DEFAULT NULL);</pre><p>or</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_IP.filter(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRaster  IN SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel IN NUMBER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea     IN SDO_NUMBER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bandNumbers  IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filterParam  IN VARCHAR2,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filterKernel IN SDO_NUMBER_ARRAY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rasterBlob   IN OUT BLOB,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outArea      OUT SDO_GEOMETRY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outWindow    OUT SDO_NUMBER_ARRAY);</pre><p>or</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_IP.filter(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRaster  IN SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel IN NUMBER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea     IN SDO_GEOMETRY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumbers IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filterParam  IN VARCHAR2,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filterKernel IN SDO_NUMBER_ARRAY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rasterBlob   IN OUT BLOB,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outArea      OUT SDO_GEOMETRY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outWindow    OUT SDO_NUMBER_ARRAY);</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2EDEFFD7-15AA-4C94-B1D0-87B078B7444E__GUID-30001566-2066-4178-914A-29A2C4E14931">Description</p>
                     <p>Applies the convolution filter on the input GeoRaster object. The processed image is stored in the output GeoRaster object or in a BLOB.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2EDEFFD7-15AA-4C94-B1D0-87B078B7444E__GUID-A4E56862-4676-418D-B075-C48E5282EEDC">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-2EDEFFD7-15AA-4C94-B1D0-87B078B7444E__GUID-5ADDA38B-C93C-4009-B5A0-ABF84079D8EF">
                              <!-- --></a>inGeoRaster
                        </dt>
                        <dd>
                           <p>The SDO_GEORASTER object for the filter operation.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2EDEFFD7-15AA-4C94-B1D0-87B078B7444E__GUID-5B08A3DD-8FB5-4C77-B33B-E715FE86C843">
                              <!-- --></a>pyramidLevel
                        </dt>
                        <dd>
                           <p>A number specifying the pyramid level for the filter operation in the source GeoRaster object. If null, the default is 0.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2EDEFFD7-15AA-4C94-B1D0-87B078B7444E__GUID-B990F65D-6226-455A-94B8-87A3958C9239">
                              <!-- --></a>cropArea
                        </dt>
                        <dd>
                           <p>Crop area definition. If <code class="codeph">cropArea</code> is of type SDO_GEOMETRY, use the <code class="codeph">layerNumbers</code> parameter to specify one or more layer numbers; if <code class="codeph">cropArea</code> is of type SDO_NUMBER_ARRAY, use the <code class="codeph">bandNumbers</code> parameter to specify one or more band numbers.
                           </p>
                           <p>If the data type is SDO_NUMBER_ARRAY, the parameter identifies the upper-left (row, column) and lower-right (row, column) coordinates of a rectangular window, and raster space is assumed. If the data type is SDO_GEOMETRY, the minimum bounding rectangle (MBR) of the geometry object is used as the crop area; see also the Usage Notes for SDO_SRID requirements.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2EDEFFD7-15AA-4C94-B1D0-87B078B7444E__GUID-64B1D897-7A25-4BB6-96EA-00B02ECA27BA">
                              <!-- --></a>bandNumbers
                        </dt>
                        <dd>
                           <p>A string identifying the physical band numbers on which the operation is to be performed. Use commas to delimit the values, and a hyphen to indicate a range (for example, <code class="codeph">1-3</code> for bands 1, 2, and 3).
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2EDEFFD7-15AA-4C94-B1D0-87B078B7444E__GUID-7D092C87-2E10-476C-A9DB-B1C0D3E01C1D">
                              <!-- --></a>layerNumbers
                        </dt>
                        <dd>
                           <p>A string identifying the logical layer numbers on which the operation is to be performed. Use commas to delimit the values, and a hyphen to indicate a range (for example, <code class="codeph">2-4</code> for layers 2, 3, and 4).
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2EDEFFD7-15AA-4C94-B1D0-87B078B7444E__GUID-C6F3DCD5-DAB2-43DC-8B39-628FA5A3A80B">
                              <!-- --></a>filterParam
                        </dt>
                        <dd>
                           <p>The type of the filter to be applied on the input GeoRaster. It is in the format <code class="codeph">‘filterType=</code><span class="italic">value</span><code class="codeph">’</code> where <span class="italic">value</span> can be one of the following: <code class="codeph">LPF</code> (low-pass filter, the default), <code class="codeph">HPF</code> (high-pass filter), <code class="codeph">HBF</code> (high-boost filter), <code class="codeph">MIN</code> (minimum filter), <code class="codeph">MAX</code> (maximum filter), <code class="codeph">MEDIAN</code> (median filter), <code class="codeph">MODE</code> (mode filter), or <code class="codeph">CUSTOM</code> (user-provided filter kernel).
                           </p>
                           <p><code class="codeph">filterParam</code> can also include:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">‘kernelSize=(</code><span class="italic">kx, ky</span><code class="codeph">)’</code> where <span class="italic">kx, ky</span> are the size of the kernel on the x and y direction. For a filter type other than <code class="codeph">CUSTOM</code>, the <code class="codeph">kx</code> and <code class="codeph">ky</code> should be odd numbers greater than or equal to 3.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">‘p1 = </code><span class="italic">value</span><code class="codeph">’</code>, used by the <code class="codeph">HBF</code> filter to indicate the degree of boost.
                                 </p>
                              </li>
                           </ul>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2EDEFFD7-15AA-4C94-B1D0-87B078B7444E__GUID-82D89140-9FAE-4CBB-9EA1-39593A53014B">
                              <!-- --></a>filterKernel
                        </dt>
                        <dd>
                           <p>Required only when <code class="codeph">filterType=CUSTOM</code>. It is the <code class="codeph">kx * ky</code> numbers in an SDO_NUMBER_ARRAY object.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2EDEFFD7-15AA-4C94-B1D0-87B078B7444E__GUID-F10DDAB3-73E9-41CE-A679-4B4F52354084">
                              <!-- --></a>storageParam
                        </dt>
                        <dd>
                           <p>A string specifying storage parameters, as explained in <a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D">Storage Parameters</a>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2EDEFFD7-15AA-4C94-B1D0-87B078B7444E__GUID-CB1B5309-8CBB-401F-966B-A90331871EE0">
                              <!-- --></a>outGeoRaster
                        </dt>
                        <dd>
                           <p>The output SDO_GEORASTER object that reflects the results of the operation. Must be either a valid existing GeoRaster object or an empty GeoRaster object. (Empty GeoRaster objects are explained in <a href="georaster-overview-and-concepts.html#GUID-C4D574D6-340B-49DC-95BD-87FDEB11CE16">Blank and Empty GeoRaster Objects</a>.) Cannot be the same GeoRaster object as <code class="codeph">inGeoRaster</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2EDEFFD7-15AA-4C94-B1D0-87B078B7444E__GUID-E5C71A16-77E0-4F1C-8615-594727E526FE">
                              <!-- --></a>parallelParam
                        </dt>
                        <dd>
                           <p>Specifies the degree of parallelism for the operation. If specified, must be in the form <code class="codeph">parallel=</code><span class="italic">n</span>, where <span class="italic">n</span> is greater than 1. The database optimizer uses the degree of parallelism specified by this parameter. If not specified, then by default there is no parallel processing. (For more information, see <a href="georaster-overview-and-concepts.html#GUID-8EC0357C-9089-448E-9ED0-1B33F36E8F3C" title="There are two types of parallel processing with GeoRaster.">Parallel Processing in GeoRaster</a>.)
                           </p>
                           <p>If parallelism is specified, the procedure performs an internal commit while the process is running. Therefore, you cannot roll back the results of this procedure. If an error occurs (even if it is raised by the Oracle parallel server), you must delete the resulting output GeoRaster object explicitly in order to roll back the operation. </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2EDEFFD7-15AA-4C94-B1D0-87B078B7444E__GUID-A7757357-237B-4C33-B6E1-46897551FC27">
                              <!-- --></a>rasterBlob
                        </dt>
                        <dd>
                           <p>BLOB to hold the output of the processing result. It must exist or have been initialized before the operation.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2EDEFFD7-15AA-4C94-B1D0-87B078B7444E__GUID-D475FA3B-5A8F-4A96-88D4-614729230A71">
                              <!-- --></a>outArea
                        </dt>
                        <dd>
                           <p>An SDO_GEOMETRY object containing the MBR (minimum bounding rectangle) in the model coordinate system of the resulting object.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2EDEFFD7-15AA-4C94-B1D0-87B078B7444E__GUID-3EA6ED19-EEA3-4006-9F23-A22DC31EF9AA">
                              <!-- --></a>outWindow
                        </dt>
                        <dd>
                           <p>An SDO_NUMBER_ARRAY object identifying the coordinates of the upper-left and lower-right corners of the output window in the cell space.</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2EDEFFD7-15AA-4C94-B1D0-87B078B7444E__GUID-7A3C229B-0601-4669-9D51-0721954D7EAA">Usage Notes</p>
                     <p>For an introduction to image filtering, see <a href="image-processing-virtual-mosaic.html#GUID-F3C5A387-4E89-4E85-B17D-75FB75917869" title="Image filtering is the process of applying a convolution filter on an image to achieve a specific purpose. For example, applying a low-pass filter on an image can smooth and reduce noise in an image, while applying a high-pass filter on an image can enhance the details of the image or even detect the edges inside the image.">Image Filtering</a>.
                     </p>
                     <p>The following are <code class="codeph">filterKernel</code> values for some of the predefined 3x3 filters:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>LPF: (1, 1, 1, 1, 1, 1, 1, 1, 1)*1/9</p>
                        </li>
                        <li>
                           <p>HPF: (-1, -1, -1, -1, 8, -1, -1, -1, -1)*1/9</p>
                        </li>
                        <li>
                           <p>HBF: (-k, -k, -k, -k, 8k, -k, -k, -k, -k)*1/9, where <span class="italic">k</span> is the boost factor specified by parameter <code class="codeph">p1</code></p>
                        </li>
                     </ul>
                     <p>For <code class="codeph">kernelSize</code>, <span class="italic">kx * ky</span> must be less than 10000.
                     </p>
                     <p>If the <code class="codeph">cropArea</code> parameter data type is SDO_GEOMETRY, the SDO_SRID value must be one of the following:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Null, to specify raster space</p>
                        </li>
                        <li>
                           <p>A value from the SRID column of the MDSYS.CS_SRS table</p>
                           <p>If the SDO_SRID values for the <code class="codeph">cropArea</code> parameter geometry and the model space are different, the <code class="codeph">cropArea</code> parameter geometry is automatically transformed to the coordinate system of the model space before the operation is performed. (Raster space and model space are explained in <a href="georaster-overview-and-concepts.html#GUID-E38F1F16-4272-4CC8-A199-C97B11C634BA" title="Raster data can have some or all of the following elements.">GeoRaster Data Model</a>.)
                           </p>
                        </li>
                     </ul>
                     <p>Color map in the input GeoRaster object is not supported.</p>
                     <p>The output GeoRaster object has no pyramid or mask.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2EDEFFD7-15AA-4C94-B1D0-87B078B7444E__GUID-88BE7296-40B8-481C-8112-BAF85E6D7DAE">Examples</p>
                     <p>The following example creates a GeoRaster object that is the result of using the default low-pass filter on the input GeoRaster object. The filter kernel size is 3 by 3. (It refers to a table named GEORASTER_TABLE, whose definition is presented after <a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D__CHDGDCEC">Example 1-1</a> in <a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D">Storage Parameters</a>.)
                     </p><pre class="oac_no_warn" dir="ltr">DECLARE
  gr1 sdo_georaster;
  gr2 sdo_georaster;
  cropArea sdo_geometry := null;
BEGIN
  INSERT INTO georaster_table (georid, georaster)
    VALUES (41, sdo_geor.init('RDT_1'))
    RETURNING georaster INTO gr2;

  SELECT georaster INTO gr1 FROM georaster_table WHERE georid=4;

  sdo_geor_ip.filter(gr1, 0, cropArea, null, ‘filtertype=LPF, kernelsize=(3, 3)’, null, null, gr2);
  UPDATE georaster_table SET georaster=gr2 WHERE georid=41;
  COMMIT;
END;
/
</pre><p>The following example applies a custom (user&#x2013;provided) 3 by 3 filter on the input GeoRaster object; the output is in a temporary BLOB. (It refers to a table named GEORASTER_TABLE, whose definition is presented after <a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D__CHDGDCEC">Example 1-1</a> in <a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D">Storage Parameters</a>.)
                     </p><pre class="oac_no_warn" dir="ltr">DECLARE
  gr1 sdo_georaster;
  gr2 sdo_georaster;
  cropArea sdo_geometry := null;
  out_lob  BLOB;
  outArea  sdo_geometry := null;
  outWindow sdo_geometry := null;
BEGIN
  dbms_lob.create_temporary(out_lob, TRUE);

  SELECT georaster INTO gr1 FROM georaster_table WHERE georid=4;

  sdo_geor_ip.filter(gr1, 0, cropArea, null, ‘filtertype=CUSTOM, kernelsize=(3,3)’, sdo_number_array(1/4, 1/2, 1/4, 1/2, 1, 1/2, 1/4, 1.2, 1/4 ), null, out_lob, outArea, outWindow);

  if outWindow is not null then
     dbms_output.put_line('output window: (' || outWindow(1) || ',' ||
                           outWindow(2) || ',' || outWindow(3) || ',' || outWindow(4) || ')');
  end if;
  dbms_lob.freeTemporary(out_lob);

 END;
/
</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="SDO_GEOR_IP-reference-ref.html#GUID-658BBDD1-0155-44BC-8A21-CDC1C088E74F" title="The SDO_GEOR_IP package contains subprograms (functions and procedures) for performing image processing operations on GeoRaster objects. This chapter presents reference information, with one or more examples, for each subprogram.">SDO_GEOR_IP Package Reference</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-A3F4F825-3B80-4673-9CC0-010AFCBE01AA" name="GUID-A3F4F825-3B80-4673-9CC0-010AFCBE01AA"></a><h3 id="GEORS-GUID-A3F4F825-3B80-4673-9CC0-010AFCBE01AA" class="sect3"><span class="enumeration_section">11.4 </span>SDO_GEOR_IP.histogramMatch
               </h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-A3F4F825-3B80-4673-9CC0-010AFCBE01AA__GUID-8E20AF1B-1BF6-45CD-B916-968D01F77A55">Format</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_IP.histogramMatch(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRaster    IN SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel   IN NUMBER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea       IN SDO_NUMBER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bandNumbers    IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;refHistograms  IN SDO_GEOR_HISTOGRAM_ARRAY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam   IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outGeoraster   IN OUT SDO_GEORASTER,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parallelParam IN VARCHAR2 DEFAULT NULL);</pre><p>or</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_IP.histogramMatch(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRaster    IN SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel   IN NUMBER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea       IN SDO_GEOMETRY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumbers   IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;refHistograms  IN SDO_GEOR_HISTOGRAM_ARRAY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam   IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outGeoraster   IN OUT SDO_GEORASTER,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parallelParam IN VARCHAR2 DEFAULT NULL);</pre><p>or</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_IP.histogramMatch(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRaster  IN SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel IN NUMBER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea     IN SDO_NUMBER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bandNumbers  IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;refGeoRaster IN SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outGeoraster IN OUT SDO_GEORASTER,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parallelParam IN VARCHAR2 DEFAULT NULL);</pre><p>or</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_IP.histogramMatch(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRaster  IN SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel IN NUMBER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea     IN SDO_GEOMETRY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumbers IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;refGeoRaster IN SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outGeoraster IN OUT SDO_GEORASTER,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parallelParam IN VARCHAR2 DEFAULT NULL);</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A3F4F825-3B80-4673-9CC0-010AFCBE01AA__GUID-30001566-2066-4178-914A-29A2C4E14931">Description</p>
                     <p>Processes the input GeoRaster object so that the histograms of the output GeoRaster object matches the histogram of a reference GeoRaster object (<code class="codeph">refGeoRaster</code>) or a reference histogram (<code class="codeph">refHistograms</code>).
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A3F4F825-3B80-4673-9CC0-010AFCBE01AA__GUID-A4E56862-4676-418D-B075-C48E5282EEDC">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-A3F4F825-3B80-4673-9CC0-010AFCBE01AA__GUID-5ADDA38B-C93C-4009-B5A0-ABF84079D8EF">
                              <!-- --></a>inGeoRaster
                        </dt>
                        <dd>
                           <p>The SDO_GEORASTER object for the histogram matching operation.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A3F4F825-3B80-4673-9CC0-010AFCBE01AA__GUID-5B08A3DD-8FB5-4C77-B33B-E715FE86C843">
                              <!-- --></a>pyramidLevel
                        </dt>
                        <dd>
                           <p>A number specifying the pyramid level for the histogram matching operation. If null, the default is 0.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A3F4F825-3B80-4673-9CC0-010AFCBE01AA__GUID-B990F65D-6226-455A-94B8-87A3958C9239">
                              <!-- --></a>cropArea
                        </dt>
                        <dd>
                           <p>Crop area definition. If <code class="codeph">cropArea</code> is of type SDO_GEOMETRY, use the <code class="codeph">layerNumbers</code> parameter to specify one or more layer numbers; if <code class="codeph">cropArea</code> is of type SDO_NUMBER_ARRAY, use the <code class="codeph">bandNumbers</code> parameter to specify one or more band numbers.
                           </p>
                           <p>If the data type is SDO_NUMBER_ARRAY, the parameter identifies the upper-left (row, column) and lower-right (row, column) coordinates of a rectangular window, and raster space is assumed. If the data type is SDO_GEOMETRY, the minimum bounding rectangle (MBR) of the geometry object is used as the crop area; see also the Usage Notes for SDO_SRID requirements.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A3F4F825-3B80-4673-9CC0-010AFCBE01AA__GUID-64B1D897-7A25-4BB6-96EA-00B02ECA27BA">
                              <!-- --></a>bandNumbers
                        </dt>
                        <dd>
                           <p>A string identifying the physical band numbers on which the operation is to be performed. Use commas to delimit the values, and a hyphen to indicate a range (for example, <code class="codeph">1-3</code> for bands 1, 2, and 3).
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A3F4F825-3B80-4673-9CC0-010AFCBE01AA__GUID-7D092C87-2E10-476C-A9DB-B1C0D3E01C1D">
                              <!-- --></a>layerNumbers
                        </dt>
                        <dd>
                           <p>A string identifying the logical layer numbers on which the operation is to be performed. Use commas to delimit the values, and a hyphen to indicate a range (for example, <code class="codeph">2-4</code> for layers 2, 3, and 4).
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A3F4F825-3B80-4673-9CC0-010AFCBE01AA__GUID-A81F7EC9-782B-4076-A288-B652219D728B">
                              <!-- --></a>refHistograms
                        </dt>
                        <dd>
                           <p>An array of reference histograms. If there is only one element in the array, all the output bands match to this histogram; otherwise, the length of the array must be the same as the number of the bands in the output GeoRaster object.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A3F4F825-3B80-4673-9CC0-010AFCBE01AA__GUID-C6F3DCD5-DAB2-43DC-8B39-628FA5A3A80B">
                              <!-- --></a>refGeoRaster
                        </dt>
                        <dd>
                           <p>The reference GeoRaster object. The reference GeoRaster object must have a histogram stored in the metadata, and must have the same number of bands as the input GeoRaster object.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A3F4F825-3B80-4673-9CC0-010AFCBE01AA__GUID-F10DDAB3-73E9-41CE-A679-4B4F52354084">
                              <!-- --></a>storageParam
                        </dt>
                        <dd>
                           <p>A string specifying storage parameters, as explained in <a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D">Storage Parameters</a>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A3F4F825-3B80-4673-9CC0-010AFCBE01AA__GUID-3F772D21-93B2-4674-AD00-B8D5117410B3">
                              <!-- --></a>outGeoRaster
                        </dt>
                        <dd>
                           <p>The output SDO_GEORASTER object that reflects the results of the operation. Must be either a valid existing GeoRaster object or an empty GeoRaster object. (Empty GeoRaster objects are explained in <a href="georaster-overview-and-concepts.html#GUID-C4D574D6-340B-49DC-95BD-87FDEB11CE16">Blank and Empty GeoRaster Objects</a>.) Cannot be the same GeoRaster object as <code class="codeph">inGeoRaster</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-A3F4F825-3B80-4673-9CC0-010AFCBE01AA__GUID-4CFABCAF-59E9-4E91-AFA8-F65CD9DACA15">
                              <!-- --></a>parallelParam
                        </dt>
                        <dd>
                           <p>Specifies the degree of parallelism for the operation. If specified, must be in the form <code class="codeph">parallel=</code><span class="italic">n</span>, where <span class="italic">n</span> is greater than 1. The database optimizer uses the degree of parallelism specified by this parameter. If not specified, then by default there is no parallel processing. (For more information, see <a href="georaster-overview-and-concepts.html#GUID-8EC0357C-9089-448E-9ED0-1B33F36E8F3C" title="There are two types of parallel processing with GeoRaster.">Parallel Processing in GeoRaster</a>.)
                           </p>
                           <p>If parallelism is specified, the procedure performs an internal commit while the process is running. Therefore, you cannot roll back the results of this procedure. If an error occurs (even if it is raised by the Oracle parallel server), you must delete the resulting output GeoRaster object explicitly in order to roll back the operation. </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A3F4F825-3B80-4673-9CC0-010AFCBE01AA__GUID-7A3C229B-0601-4669-9D51-0721954D7EAA">Usage Notes</p>
                     <p>The input GeoRaster object must have histograms generated for each band and stored in the metadata.</p>
                     <p>The reference GeoRaster object must have the same number of bands as the input GeoRaster object. The cell depth of the reference GeoRaster cannot be greater than the cell depth of the <code class="codeph">outGeoRaster</code> object. The reference GeoRaster object must have histograms set in the metadata.
                     </p>
                     <p>If the <code class="codeph">cropArea</code> parameter data type is SDO_GEOMETRY, the SDO_SRID value must be one of the following:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Null, to specify raster space</p>
                        </li>
                        <li>
                           <p>A value from the SRID column of the MDSYS.CS_SRS table</p>
                           <p>If the SDO_SRID values for the <code class="codeph">cropArea</code> parameter geometry and the model space are different, the <code class="codeph">cropArea</code> parameter geometry is automatically transformed to the coordinate system of the model space before the operation is performed. (Raster space and model space are explained in <a href="georaster-overview-and-concepts.html#GUID-E38F1F16-4272-4CC8-A199-C97B11C634BA" title="Raster data can have some or all of the following elements.">GeoRaster Data Model</a>.)
                           </p>
                        </li>
                     </ul>
                     <p>Color map stored in the input GeoRaster object is not supported.</p>
                     <p>The output GeoRaster object has no pyramid or mask.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A3F4F825-3B80-4673-9CC0-010AFCBE01AA__GUID-88BE7296-40B8-481C-8112-BAF85E6D7DAE">Examples</p>
                     <p>The following example creates a GeoRaster object that is the result of histogram matching the input GeoRaster object to the reference histograms. In the example, the reference histograms are stored in a table <code class="codeph">histogram_table(histogram sdo_geor_histogram, band number)</code>. (It refers to a table named GEORASTER_TABLE, whose definition is presented after <a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D__CHDGDCEC">Example 1-1</a> in <a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D">Storage Parameters</a>.)
                     </p><pre class="oac_no_warn" dir="ltr">DECLARE
  gr1 sdo_georaster;
  gr2 sdo_georaster;
  cropArea sdo_number_array := null;
  refHists sdo_geor_histogram_array;
BEGIN
  INSERT INTO georaster_table (georid, georaster)
    VALUES (41, sdo_geor.init('RDT_1'))
    RETURNING georaster INTO gr2;

  -- get the source GeoRaster object
  SELECT georaster INTO gr1 FROM georaster_table WHERE georid=4;

  -- get the reference histogram
  SELECT histogram bulk collect into refHists from histogram_table order by band;

  sdo_geor_ip.histogramMatch(gr1, 0, cropArea, null, refHists, null, gr2);
  UPDATE georaster_table SET georaster=gr2 WHERE georid=41;
  COMMIT;
END;
/
</pre><p>The following example creates a GeoRaster object that is the result of histogram matching the input GeoRaster object to the reference GeoRaster object. (It refers to a table named GEORASTER_TABLE, whose definition is presented after <a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D__CHDGDCEC">Example 1-1</a> in <a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D">Storage Parameters</a>.)
                     </p><pre class="oac_no_warn" dir="ltr">DECLARE
  gr1 sdo_georaster;
  gr2 sdo_georaster;
  refgr sdo_georaster;
  cropArea sdo_number_array := null;
BEGIN
  INSERT INTO georaster_table (georid, georaster)
    VALUES (41, sdo_geor.init('RDT_1'))
    RETURNING georaster INTO gr2;

  -- get the source GeoRaster object
  SELECT georaster INTO gr1 FROM georaster_table WHERE georid=4;

  -- get the reference GeoRaster object
  SELECT georaster INTO refgr FROM georaster_table WHERE georid=5;

  sdo_geor_ip.histogramMatch(gr1, 0, cropArea, null, refgr, null, gr2);
  UPDATE georaster_table SET georaster=gr2 WHERE georid=41;
  COMMIT;
END;
/
</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="SDO_GEOR_IP-reference-ref.html#GUID-658BBDD1-0155-44BC-8A21-CDC1C088E74F" title="The SDO_GEOR_IP package contains subprograms (functions and procedures) for performing image processing operations on GeoRaster objects. This chapter presents reference information, with one or more examples, for each subprogram.">SDO_GEOR_IP Package Reference</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-2D8EF3FF-9A5D-49ED-BC27-56D145E96C77" name="GUID-2D8EF3FF-9A5D-49ED-BC27-56D145E96C77"></a><h3 id="GEORS-GUID-2D8EF3FF-9A5D-49ED-BC27-56D145E96C77" class="sect3"><span class="enumeration_section">11.5 </span>SDO_GEOR_IP.normalize
               </h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-2D8EF3FF-9A5D-49ED-BC27-56D145E96C77__GUID-8E20AF1B-1BF6-45CD-B916-968D01F77A55">Format</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_IP.normalize(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRaster        IN SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel       IN NUMBER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea           IN SDO_NUMBER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bandNumbers        IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;means              IN SDO_NUMBER_ARRAY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;standardDeviations IN SDO_NUMBER_ARRAY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam       IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outGeoraster       IN OUT SDO_GEORASTER,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parallelParam      IN VARCHAR2 DEFAULT NULL);</pre><p>or</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_IP.normalize(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRaster        IN SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel       IN NUMBER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea           IN SDO_GEOMETRY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumbers       IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;means              IN SDO_NUMBER_ARRAY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;standardDeviations IN SDO_NUMBER_ARRAY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam       IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outGeoraster       IN OUT SDO_GEORASTER,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parallelParam      IN VARCHAR2 DEFAULT NULL);</pre><p>or</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_IP.normalize(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRaster        IN SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel       IN NUMBER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea           IN SDO_NUMBER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bandNumbers        IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;means              IN SDO_NUMBER_ARRAY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;standardDeviations IN SDO_NUMBER_ARRAY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam       IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rasterBlob         IN OUT BLOB,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outArea            OUT SDO_GEOMETRY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outWindow          OUT SDO_NUMBER_ARRAY);</pre><p>or</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_IP.normalize(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRaster        IN SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel       IN NUMBER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea           IN SDO_GEOMETRY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumbers       IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;means              IN SDO_NUMBER_ARRAY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;standardDeviations IN SDO_NUMBER_ARRAY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam       IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rasterBlob         IN OUT BLOB,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outArea            OUT SDO_GEOMETRY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outWindow          OUT SDO_NUMBER_ARRAY);</pre><p>or</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_IP.normalize(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRaster  IN SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel IN NUMBER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea     IN SDO_NUMBER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bandNumbers  IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;refGeoRaster IN SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outGeoraster IN OUT SDO_GEORASTER,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parallelParam IN VARCHAR2 DEFAULT NULL);</pre><p>or</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_IP.normalize(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRaster  IN SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel IN NUMBER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea     IN SDO_GEOMETRY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumbers IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;refGeoRaster IN SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outGeoraster IN OUT SDO_GEORASTER,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parallelParam IN VARCHAR2 DEFAULT NULL);</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2D8EF3FF-9A5D-49ED-BC27-56D145E96C77__GUID-30001566-2066-4178-914A-29A2C4E14931">Description</p>
                     <p>Normalizes the input GeoRaster object using the specified mean and standard deviation.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2D8EF3FF-9A5D-49ED-BC27-56D145E96C77__GUID-A4E56862-4676-418D-B075-C48E5282EEDC">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-2D8EF3FF-9A5D-49ED-BC27-56D145E96C77__GUID-5ADDA38B-C93C-4009-B5A0-ABF84079D8EF">
                              <!-- --></a>inGeoRaster
                        </dt>
                        <dd>
                           <p>The SDO_GEORASTER object to be normalized.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2D8EF3FF-9A5D-49ED-BC27-56D145E96C77__GUID-5B08A3DD-8FB5-4C77-B33B-E715FE86C843">
                              <!-- --></a>pyramidLevel
                        </dt>
                        <dd>
                           <p>A number specifying the pyramid level to be normalized in the source GeoRaster object. If null, the default is 0.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2D8EF3FF-9A5D-49ED-BC27-56D145E96C77__GUID-B990F65D-6226-455A-94B8-87A3958C9239">
                              <!-- --></a>cropArea
                        </dt>
                        <dd>
                           <p>Crop area definition. If <code class="codeph">cropArea</code> is of type SDO_GEOMETRY, use the <code class="codeph">layerNumbers</code> parameter to specify one or more layer numbers; if <code class="codeph">cropArea</code> is of type SDO_NUMBER_ARRAY, use the <code class="codeph">bandNumbers</code> parameter to specify one or more band numbers.
                           </p>
                           <p>If the data type is SDO_NUMBER_ARRAY, the parameter identifies the upper-left (row, column) and lower-right (row, column) coordinates of a rectangular window, and raster space is assumed. If the data type is SDO_GEOMETRY, the minimum bounding rectangle (MBR) of the geometry object is used as the crop area; see also the Usage Notes for SDO_SRID requirements.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2D8EF3FF-9A5D-49ED-BC27-56D145E96C77__GUID-64B1D897-7A25-4BB6-96EA-00B02ECA27BA">
                              <!-- --></a>bandNumbers
                        </dt>
                        <dd>
                           <p>A string identifying the physical band numbers on which the operation is to be performed. Use commas to delimit the values, and a hyphen to indicate a range (for example, <code class="codeph">1-3</code> for bands 1, 2, and 3).
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2D8EF3FF-9A5D-49ED-BC27-56D145E96C77__GUID-7D092C87-2E10-476C-A9DB-B1C0D3E01C1D">
                              <!-- --></a>layerNumbers
                        </dt>
                        <dd>
                           <p>A string identifying the logical layer numbers on which the operation is to be performed. Use commas to delimit the values, and a hyphen to indicate a range (for example, <code class="codeph">2-4</code> for layers 2, 3, and 4).
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2D8EF3FF-9A5D-49ED-BC27-56D145E96C77__GUID-601AB169-0880-4E5D-8A5F-B745FEE654CF">
                              <!-- --></a>means
                        </dt>
                        <dd>
                           <p>The target mean values for each output band. If only one value is specified, it is applied to all the output bands; otherwise, it must have the same number of values as the number of bands of the output GeoRaster object. The target mean values must be in the range of the cell depth of the <code class="codeph">outGeoRaster</code> object. If null, it defaults to 128.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2D8EF3FF-9A5D-49ED-BC27-56D145E96C77__GUID-AF4C41A3-ECAB-4DF4-86E5-6C48265E2AA9">
                              <!-- --></a>standardDeviations
                        </dt>
                        <dd>
                           <p>The target standard deviation values for each output band. If only one value is specified, it is applied to all the output bands; otherwise, it must have the same number of values as the number of bands of the output GeoRaster object. The target standard deviation values must be in the range of the cell depth of the <code class="codeph">outGeoRaster</code> object. If null, it defaults to 100.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2D8EF3FF-9A5D-49ED-BC27-56D145E96C77__GUID-C6F3DCD5-DAB2-43DC-8B39-628FA5A3A80B">
                              <!-- --></a>refGeoRaster
                        </dt>
                        <dd>
                           <p>The reference GeoRaster object. Instead of giving the target mean and standard deviation, the mean and standard deviation of <code class="codeph">refGeoRaster</code> are used as the target. The reference GeoRaster object must have the same number of bands as the input GeoRaster object.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2D8EF3FF-9A5D-49ED-BC27-56D145E96C77__GUID-F10DDAB3-73E9-41CE-A679-4B4F52354084">
                              <!-- --></a>storageParam
                        </dt>
                        <dd>
                           <p>A string specifying storage parameters, as explained in <a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D">Storage Parameters</a>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2D8EF3FF-9A5D-49ED-BC27-56D145E96C77__GUID-8A6B0107-A70D-45F4-8AA3-94310363730E">
                              <!-- --></a>outGeoRaster
                        </dt>
                        <dd>
                           <p>The output SDO_GEORASTER object that reflects the results of the operation. Must be either a valid existing GeoRaster object or an empty GeoRaster object. (Empty GeoRaster objects are explained in <a href="georaster-overview-and-concepts.html#GUID-C4D574D6-340B-49DC-95BD-87FDEB11CE16">Blank and Empty GeoRaster Objects</a>.) Cannot be the same GeoRaster object as <code class="codeph">inGeoRaster</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2D8EF3FF-9A5D-49ED-BC27-56D145E96C77__GUID-89C3EA11-4E66-47A3-8931-43A18D84E31E">
                              <!-- --></a>parallelParam
                        </dt>
                        <dd>
                           <p>Specifies the degree of parallelism for the operation. If specified, must be in the form <code class="codeph">parallel=</code><span class="italic">n</span>, where <span class="italic">n</span> is greater than 1. The database optimizer uses the degree of parallelism specified by this parameter. If not specified, then by default there is no parallel processing. (For more information, see <a href="georaster-overview-and-concepts.html#GUID-8EC0357C-9089-448E-9ED0-1B33F36E8F3C" title="There are two types of parallel processing with GeoRaster.">Parallel Processing in GeoRaster</a>.)
                           </p>
                           <p>If parallelism is specified, the procedure performs an internal commit while the process is running. Therefore, you cannot roll back the results of this procedure. If an error occurs (even if it is raised by the Oracle parallel server), you must delete the resulting output GeoRaster object explicitly in order to roll back the operation. </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2D8EF3FF-9A5D-49ED-BC27-56D145E96C77__GUID-C53644EC-C8C1-4E9D-9C78-50A8997D4064">
                              <!-- --></a>rasterBlob
                        </dt>
                        <dd>
                           <p>BLOB to hold the output of the processing result. It must exist or have been initialized before the operation.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2D8EF3FF-9A5D-49ED-BC27-56D145E96C77__GUID-E2EFFD60-7601-491A-8FB5-EFEC9E6EFB0E">
                              <!-- --></a>outArea
                        </dt>
                        <dd>
                           <p>An SDO_GEOMETRY object containing the MBR (minimum bounding rectangle) in the model coordinate system of the resulting object.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-2D8EF3FF-9A5D-49ED-BC27-56D145E96C77__GUID-43A2B3E0-9B49-4461-9577-903874CF7BAB">
                              <!-- --></a>outWindow
                        </dt>
                        <dd>
                           <p>An SDO_NUMBER_ARRAY object identifying the coordinates of the upper-left and lower-right corners of the output window in the cell space.</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2D8EF3FF-9A5D-49ED-BC27-56D145E96C77__GUID-7A3C229B-0601-4669-9D51-0721954D7EAA">Usage Notes</p>
                     <p>The input GeoRaster object must have statistics generated for each output band.</p>
                     <p>The reference GeoRaster object must have the same number of bands as the input GeoRaster object. The cell depth of the <code class="codeph">refGeoRaster</code> object cannot be greater than the cell depth of the <code class="codeph">outGeoRaster</code> object. The reference GeoRaster object must have statistics set in the metadata.
                     </p>
                     <p>If the <code class="codeph">cropArea</code> parameter data type is SDO_GEOMETRY, the SDO_SRID value must be one of the following:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Null, to specify raster space</p>
                        </li>
                        <li>
                           <p>A value from the SRID column of the MDSYS.CS_SRS table</p>
                           <p>If the SDO_SRID values for the <code class="codeph">cropArea</code> parameter geometry and the model space are different, the <code class="codeph">cropArea</code> parameter geometry is automatically transformed to the coordinate system of the model space before the operation is performed. (Raster space and model space are explained in <a href="georaster-overview-and-concepts.html#GUID-E38F1F16-4272-4CC8-A199-C97B11C634BA" title="Raster data can have some or all of the following elements.">GeoRaster Data Model</a>.)
                           </p>
                        </li>
                     </ul>
                     <p>Color map in the input GeoRaster object is not supported.</p>
                     <p>The output GeoRaster object has no pyramid or mask.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2D8EF3FF-9A5D-49ED-BC27-56D145E96C77__GUID-88BE7296-40B8-481C-8112-BAF85E6D7DAE">Examples</p>
                     <p>The following example creates a GeoRaster object and performs normalization on the bands of the input GeoRaster object based on the given means and standard deviations. (It refers to a table named GEORASTER_TABLE, whose definition is presented after <a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D__CHDGDCEC">Example 1-1</a> in <a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D">Storage Parameters</a>.)
                     </p><pre class="oac_no_warn" dir="ltr">DECLARE
  gr1 sdo_georaster;
  gr2 sdo_georaster;
  cropArea sdo_number_array := null;
BEGIN
  INSERT INTO georaster_table (georid, georaster)
    VALUES (41, sdo_geor.init('RDT_1'))
    RETURNING georaster INTO gr2;

  SELECT georaster INTO gr1 FROM georaster_table WHERE georid=4;

  sdo_geor_ip.normalize(gr1, 0, cropArea, null, sdo_number_array(50, 80, 100), sdo_number_array(30, 20, 50), null, gr2);
  UPDATE georaster_table SET georaster=gr2 WHERE georid=41;
  COMMIT;
END;
/
</pre><p>The following exampleperforms normalization on the bands of the input GeoRaster object based on the given means and standard deviations; the output is in a temporary BLOB. (It refers to a table named GEORASTER_TABLE, whose definition is presented after <a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D__CHDGDCEC">Example 1-1</a> in <a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D">Storage Parameters</a>.)
                     </p><pre class="oac_no_warn" dir="ltr">DECLARE
  gr1 sdo_georaster;
  gr2 sdo_georaster;
  cropArea sdo_number_array := null;
  out_lob  BLOB;
  outArea  sdo_geometry := null;
  outWindow sdo_geometry := null; 
BEGIN
  dbms_lob.create_temporary(out_lob, TRUE);

  SELECT georaster INTO gr1 FROM georaster_table WHERE georid=4;

  sdo_geor_ip.normalize(gr1, 0, cropArea, null, sdo_number_array(50, 80, 100), sdo_number_array(30, 20, 50), null, out_lob, outArea, outWindow);
  if outWindow is not null then
     dbms_output.put_line('output window: (' || outWindow(1) || ',' ||
                           outWindow(2) || ',' || outWindow(3) || ',' || outWindow(4) || ')');
  end if;
  dbms_lob.freeTemporary(out_lob);

END;
/
</pre><p>The following example creates a GeoRaster object and performs normalization on the bands of the input GeoRaster object based on the given reference GeoRaster object . (It refers to a table named GEORASTER_TABLE, whose definition is presented after <a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D__CHDGDCEC">Example 1-1</a> in <a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D">Storage Parameters</a>.)
                     </p><pre class="oac_no_warn" dir="ltr">DECLARE
  gr1 sdo_georaster;
  gr2 sdo_georaster;
  refgr sdo_georaster;
  cropArea sdo_number_array := null;
BEGIN
  INSERT INTO georaster_table (georid, georaster)
    VALUES (41, sdo_geor.init('RDT_1'))
    RETURNING georaster INTO gr2;

  -- get the source GeoRaster object 
  SELECT georaster INTO gr1 FROM georaster_table WHERE georid=4;

  -- get the reference GeoRaster object
  SELECT georaster INTO refgr FROM georaster_table WHERE georid=5;

  sdo_geor_ip.normalize(gr1, 0, cropArea, null, refgr, null, gr2);
  UPDATE georaster_table SET georaster=gr2 WHERE georid=41;
  COMMIT;
END;
/
</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="SDO_GEOR_IP-reference-ref.html#GUID-658BBDD1-0155-44BC-8A21-CDC1C088E74F" title="The SDO_GEOR_IP package contains subprograms (functions and procedures) for performing image processing operations on GeoRaster objects. This chapter presents reference information, with one or more examples, for each subprogram.">SDO_GEOR_IP Package Reference</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-4996A4C1-3CEA-4F4A-9D3E-1251AC3DEFB3" name="GUID-4996A4C1-3CEA-4F4A-9D3E-1251AC3DEFB3"></a><h3 id="GEORS-GUID-4996A4C1-3CEA-4F4A-9D3E-1251AC3DEFB3" class="sect3"><span class="enumeration_section">11.6 </span>SDO_GEOR_IP.piecewiseStretch
               </h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-4996A4C1-3CEA-4F4A-9D3E-1251AC3DEFB3__GUID-8E20AF1B-1BF6-45CD-B916-968D01F77A55">Format</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_IP.piecewiseStretch(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRaster  IN SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel IN NUMBER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea     IN SDO_NUMBER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bandNumbers  IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inValues     IN SDO_NUMBER_ARRAYSET DEFAULT NULL,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outValues    IN SDO_NUMBER_ARRAYSET DEFAULT NULL,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outGeoraster IN OUT SDO_GEORASTER,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parallelParam IN VARCHAR2 DEFAULT NULL);</pre><p>or</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_IP.piecewiseStretch(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRaster  IN SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel IN NUMBER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea     IN SDO_GEOMETRY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumbers IN VARCHAR2,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inValues     IN SDO_NUMBER_ARRAYSET DEFAULT NULL,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outValues    IN SDO_NUMBER_ARRAYSET DEFAULT NULL,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outGeoraster IN OUT SDO_GEORASTER,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parallelParam IN VARCHAR2 DEFAULT NULL);</pre><p>or</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_IP.piecewiseStretch(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRaster  IN SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel IN NUMBER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea     IN SDO_NUMBER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bandNumbers  IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inValues     IN SDO_NUMBER_ARRAYSET DEFAULT NULL,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outValues    IN SDO_NUMBER_ARRAYSET DEFAULT NULL,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rasterBlob   IN OUT BLOB,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outArea      OUT SDO_GEOMETRY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outWindow    OUT SDO_NUMBER_ARRAY);</pre><p>or</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_IP.piecewiseStretch(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRaster  IN SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel IN NUMBER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea     IN SDO_GEOMETRY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumbers IN VARCHAR2,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inValues     IN SDO_NUMBER_ARRAYSET DEFAULT NULL,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outValues    IN SDO_NUMBER_ARRAYSET DEFAULT NULL,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rasterBlob   IN OUT BLOB,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outArea      OUT SDO_GEOMETRY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outWindow    OUT SDO_NUMBER_ARRAY);</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4996A4C1-3CEA-4F4A-9D3E-1251AC3DEFB3__GUID-30001566-2066-4178-914A-29A2C4E14931">Description</p>
                     <p>Performs a linear stretch on the input GeoRaster object using the minimum and maximum values. The processed image is stored in the output GeoRaster object or in a BLOB.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4996A4C1-3CEA-4F4A-9D3E-1251AC3DEFB3__GUID-A4E56862-4676-418D-B075-C48E5282EEDC">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-4996A4C1-3CEA-4F4A-9D3E-1251AC3DEFB3__GUID-5ADDA38B-C93C-4009-B5A0-ABF84079D8EF">
                              <!-- --></a>inGeoRaster
                        </dt>
                        <dd>
                           <p>The SDO_GEORASTER object to be stretched.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-4996A4C1-3CEA-4F4A-9D3E-1251AC3DEFB3__GUID-5B08A3DD-8FB5-4C77-B33B-E715FE86C843">
                              <!-- --></a>pyramidLevel
                        </dt>
                        <dd>
                           <p>A number specifying the pyramid level to be stretched in the source GeoRaster object. If null, the default is 0.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-4996A4C1-3CEA-4F4A-9D3E-1251AC3DEFB3__GUID-B990F65D-6226-455A-94B8-87A3958C9239">
                              <!-- --></a>cropArea
                        </dt>
                        <dd>
                           <p>Crop area definition. If <code class="codeph">cropArea</code> is of type SDO_GEOMETRY, use the <code class="codeph">layerNumbers</code> parameter to specify one or more layer numbers; if <code class="codeph">cropArea</code> is of type SDO_NUMBER_ARRAY, use the <code class="codeph">bandNumbers</code> parameter to specify one or more band numbers.
                           </p>
                           <p>If the data type is SDO_NUMBER_ARRAY, the parameter identifies the upper-left (row, column) and lower-right (row, column) coordinates of a rectangular window, and raster space is assumed. If the data type is SDO_GEOMETRY, the minimum bounding rectangle (MBR) of the geometry object is used as the crop area; see also the Usage Notes for SDO_SRID requirements.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-4996A4C1-3CEA-4F4A-9D3E-1251AC3DEFB3__GUID-64B1D897-7A25-4BB6-96EA-00B02ECA27BA">
                              <!-- --></a>bandNumbers
                        </dt>
                        <dd>
                           <p>A string identifying the physical band numbers on which the operation is to be performed. Use commas to delimit the values, and a hyphen to indicate a range (for example, <code class="codeph">1-3</code> for bands 1, 2, and 3).
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-4996A4C1-3CEA-4F4A-9D3E-1251AC3DEFB3__GUID-7D092C87-2E10-476C-A9DB-B1C0D3E01C1D">
                              <!-- --></a>layerNumbers
                        </dt>
                        <dd>
                           <p>A string identifying the logical layer numbers on which the operation is to be performed. Use commas to delimit the values, and a hyphen to indicate a range (for example, <code class="codeph">2-4</code> for layers 2, 3, and 4).
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-4996A4C1-3CEA-4F4A-9D3E-1251AC3DEFB3__GUID-C6F3DCD5-DAB2-43DC-8B39-628FA5A3A80B">
                              <!-- --></a>inValues
                        </dt>
                        <dd>
                           <p>An array of SDO_NUMBER_ARRAY objects corresponding to each input band. If only one element is specified, all the output bands are stretched in the same way. Each SDO_NUMBER_ARRAY specifies the input GeoRaster object cell value ranges used in the stretch. For example, sdo_number_array(0, 50, 255) specifies two value ranges, from 0 to 50 and 50 to 255.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-4996A4C1-3CEA-4F4A-9D3E-1251AC3DEFB3__GUID-82D89140-9FAE-4CBB-9EA1-39593A53014B">
                              <!-- --></a>outValues
                        </dt>
                        <dd>
                           <p>An array of SDO_NUMBER_ARRAY objects corresponding to each output band. If only one element is specified, all the output bands are stretched in the same way. Each SDO_NUMBER_ARRAY specifies the target values ranges corresponding to the value ranges of the <code class="codeph">inValues</code> parameter. For example, sdo_number_array(0, 200, 255) specifies two value ranges, from 0 to 200 and 200 to 255.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-4996A4C1-3CEA-4F4A-9D3E-1251AC3DEFB3__GUID-F10DDAB3-73E9-41CE-A679-4B4F52354084">
                              <!-- --></a>storageParam
                        </dt>
                        <dd>
                           <p>A string specifying storage parameters, as explained in <a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D">Storage Parameters</a>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-4996A4C1-3CEA-4F4A-9D3E-1251AC3DEFB3__GUID-44642104-37C3-4CB8-AC3F-71AC8C4664E1">
                              <!-- --></a>outGeoRaster
                        </dt>
                        <dd>
                           <p>The output SDO_GEORASTER object that reflects the results of the operation. Must be either a valid existing GeoRaster object or an empty GeoRaster object. (Empty GeoRaster objects are explained in <a href="georaster-overview-and-concepts.html#GUID-C4D574D6-340B-49DC-95BD-87FDEB11CE16">Blank and Empty GeoRaster Objects</a>.) Cannot be the same GeoRaster object as <code class="codeph">inGeoRaster</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-4996A4C1-3CEA-4F4A-9D3E-1251AC3DEFB3__GUID-C4649244-7580-4F2D-8668-A6E937985730">
                              <!-- --></a>parallelParam
                        </dt>
                        <dd>
                           <p>Specifies the degree of parallelism for the operation. If specified, must be in the form <code class="codeph">parallel=</code><span class="italic">n</span>, where <span class="italic">n</span> is greater than 1. The database optimizer uses the degree of parallelism specified by this parameter. If not specified, then by default there is no parallel processing. (For more information, see <a href="georaster-overview-and-concepts.html#GUID-8EC0357C-9089-448E-9ED0-1B33F36E8F3C" title="There are two types of parallel processing with GeoRaster.">Parallel Processing in GeoRaster</a>.)
                           </p>
                           <p>If parallelism is specified, the procedure performs an internal commit while the process is running. Therefore, you cannot roll back the results of this procedure. If an error occurs (even if it is raised by the Oracle parallel server), you must delete the resulting output GeoRaster object explicitly in order to roll back the operation. </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-4996A4C1-3CEA-4F4A-9D3E-1251AC3DEFB3__GUID-654735E8-DE8F-4C1B-AA4A-80CE0A3BD9E5">
                              <!-- --></a>rasterBlob
                        </dt>
                        <dd>
                           <p>BLOB to hold the output of the processing result. It must exist or have been initialized before the operation.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-4996A4C1-3CEA-4F4A-9D3E-1251AC3DEFB3__GUID-ECC10B88-473D-4626-8B0D-F593D0FA1577">
                              <!-- --></a>outArea
                        </dt>
                        <dd>
                           <p>An SDO_GEOMETRY object containing the MBR (minimum bounding rectangle) in the model coordinate system of the resulting object.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-4996A4C1-3CEA-4F4A-9D3E-1251AC3DEFB3__GUID-F177EB15-EB0D-487B-91AB-DE22AF4DE107">
                              <!-- --></a>outWindow
                        </dt>
                        <dd>
                           <p>An SDO_NUMBER_ARRAY object identifying the coordinates of the upper-left and lower-right corners of the output window in the cell space.</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4996A4C1-3CEA-4F4A-9D3E-1251AC3DEFB3__GUID-7A3C229B-0601-4669-9D51-0721954D7EAA">Usage Notes</p>
                     <p>The <code class="codeph">inValues</code> and <code class="codeph">outValues</code> parameters must have the same number of values, and the range specified in the <code class="codeph">inValues</code> parameter must be in ascending order. The values in the <code class="codeph">inValues</code> parameter must be in the range of the cell depth of the <code class="codeph">inGeoRaster</code> object. The values in the <code class="codeph">outValues</code> parameter must be in the range of the cell depth of the <code class="codeph">outGeoRaster</code> object.
                     </p>
                     <p>If the <code class="codeph">cropArea</code> parameter data type is SDO_GEOMETRY, the SDO_SRID value must be one of the following:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Null, to specify raster space</p>
                        </li>
                        <li>
                           <p>A value from the SRID column of the MDSYS.CS_SRS table</p>
                           <p>If the SDO_SRID values for the <code class="codeph">cropArea</code> parameter geometry and the model space are different, the <code class="codeph">cropArea</code> parameter geometry is automatically transformed to the coordinate system of the model space before the operation is performed. (Raster space and model space are explained in <a href="georaster-overview-and-concepts.html#GUID-E38F1F16-4272-4CC8-A199-C97B11C634BA" title="Raster data can have some or all of the following elements.">GeoRaster Data Model</a>.)
                           </p>
                        </li>
                     </ul>
                     <p>Color map stored in the input GeoRaster object is not supported.</p>
                     <p>The output GeoRaster object has no pyramid or mask.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4996A4C1-3CEA-4F4A-9D3E-1251AC3DEFB3__GUID-88BE7296-40B8-481C-8112-BAF85E6D7DAE">Examples</p>
                     <p>The following example creates a GeoRaster object that piecewise stretches all bands of the input GeoRaster object into different cell depths: a linear stretch of input values between 0 and 255 to the range 0 to 2000. (It refers to a table named GEORASTER_TABLE, whose definition is presented after <a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D__CHDGDCEC">Example 1-1</a> in <a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D">Storage Parameters</a>.)
                     </p><pre class="oac_no_warn" dir="ltr">DECLARE
  gr1 sdo_georaster;
  gr2 sdo_georaster;
  cropArea sdo_number_array := null;
  inValues sdo_number_arrayset;
  outValues sdo_number_arrayset;
BEGIN
  INSERT INTO georaster_table (georid, georaster)
    VALUES (41, sdo_geor.init('RDT_1'))
    RETURNING georaster INTO gr2;

  SELECT georaster INTO gr1 FROM georaster_table WHERE georid=4;

  -- define the input and output value ranges
  inValues := sdo_number_arrayset(sdo_number_array(0, 255));
  outValues := sdo_number_arrayset(sdo_number_array(0, 2000));

  sdo_geor_ip.piecewisestretch(gr1, 0, cropArea, null, 
                inValues, outValues, 'celldepth=16bit_u', gr2);
  UPDATE georaster_table SET georaster=gr2 WHERE georid=41;
  COMMIT;
END;
/
</pre><p>The following example piecewise stretches each band for different ranges; the output is in a temporary BLOB. (It refers to a table named GEORASTER_TABLE, whose definition is presented after <a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D__CHDGDCEC">Example 1-1</a> in <a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D">Storage Parameters</a>.)
                     </p><pre class="oac_no_warn" dir="ltr">DECLARE
  gr1 sdo_georaster;
  cropArea sdo_number_array := null;
  inValues sdo_number_arrayset;
  outValues sdo_number_arrayset;
  out_lob  BLOB;
  outArea  sdo_geometry := null;
  outWindow sdo_geometry := null; 
 BEGIN
  dbms_lob.create_temporary(out_lob, TRUE);

  SELECT georaster INTO gr1 FROM georaster_table WHERE georid=4;

  -- define the input and output values ranges
  inValues := sdo_number_arrayset(sdo_number_array(0, 30, 80, 255), 
                                  sdo_number_array(0, 10, 50, 255),
                                  sdo_number_array(0, 50, 150, 255));
  outValues := sdo_number_arrayset(
                   sdo_number_array(0, 80, 200, 255),
                   sdo_number_array(0, 60, 150, 255),
                   sdo_number_array(0, 100, 250,255) );

  sdo_geor_ip.piecewisestretch(gr1, 0, cropArea, null, inValues, outValues,  
                                     null, out_lob, outArea, outWindow);

  if outWindow is not null then
     dbms_output.put_line('output window: (' || outWindow(1) || ',' ||
                           outWindow(2) || ',' || outWindow(3) || ',' || outWindow(4) || ')');
  end if;
  dbms_lob.freeTemporary(out_lob);

END;
/
</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="SDO_GEOR_IP-reference-ref.html#GUID-658BBDD1-0155-44BC-8A21-CDC1C088E74F" title="The SDO_GEOR_IP package contains subprograms (functions and procedures) for performing image processing operations on GeoRaster objects. This chapter presents reference information, with one or more examples, for each subprogram.">SDO_GEOR_IP Package Reference</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-B6E29A85-58A4-4DCA-BF00-D0B4C46DFE8E" name="GUID-B6E29A85-58A4-4DCA-BF00-D0B4C46DFE8E"></a><h3 id="GEORS-GUID-B6E29A85-58A4-4DCA-BF00-D0B4C46DFE8E" class="sect3"><span class="enumeration_section">11.7 </span>SDO_GEOR_IP.stretch
               </h3>
               <div>
                  <div class="section">
                     <p class="subhead2" id="GUID-B6E29A85-58A4-4DCA-BF00-D0B4C46DFE8E__GUID-8E20AF1B-1BF6-45CD-B916-968D01F77A55">Format</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_IP.stretch(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRaster  IN SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel  IN NUMBER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea      IN SDO_NUMBER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bandNumbers   IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;minValues     IN SDO_NUMBER_ARRAY DEFAULT NULL,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;maxValues     IN SDO_NUMBER_ARRAY DEFAULT NULL,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam  IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outGeoraster  IN OUT SDO_GEORASTER),
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parallelParam IN VARCHAR2 DEFAULT NULL);&nbsp;&nbsp;&nbsp;&nbsp;
</pre><p>or</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_IP.stretch(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRaster   IN SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel  IN NUMBER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea      IN SDO_GEOMETRY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumbers  IN VARCHAR2,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;minValues     IN SDO_NUMBER_ARRAY DEFAULT NULL,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;max_values    IN SDO_NUMBER_ARRAY DEFAULT NULL,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam  IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outGeoraster  IN OUT SDO_GEORASTER),
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parallelParam IN VARCHAR2 DEFAULT NULL);&nbsp;</pre><p>or</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_IP.stretch(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRaster  IN SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel  IN NUMBER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea      IN SDO_NUMBER_ARRAY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bandNumbers   IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;minValues     IN SDO_NUMBER_ARRAY DEFAULT NULL,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;maxValues     IN SDO_NUMBER_ARRAY DEFAULT NULL,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rasterBlob   IN OUT BLOB,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outArea      OUT SDO_GEOMETRY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outWindow    OUT SDO_NUMBER_ARRAY);</pre><p>or</p><pre class="oac_no_warn" dir="ltr">SDO_GEOR_IP.stretch(
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inGeoRaster   IN SDO_GEORASTER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pyramidLevel  IN NUMBER, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cropArea      IN SDO_GEOMETRY, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;layerNumbers  IN VARCHAR2,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;minValues     IN SDO_NUMBER_ARRAY DEFAULT NULL,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;max_values    IN SDO_NUMBER_ARRAY DEFAULT NULL,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;storageParam IN VARCHAR2, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rasterBlob   IN OUT BLOB,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outArea      OUT SDO_GEOMETRY,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outWindow    OUT SDO_NUMBER_ARRAY);</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B6E29A85-58A4-4DCA-BF00-D0B4C46DFE8E__GUID-30001566-2066-4178-914A-29A2C4E14931">Description</p>
                     <p>Performs a min-max linear stretch on the input GeoRaster object using the minimum and maximum values. The processed image is stored in the output GeoRaster object or in a BLOB.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B6E29A85-58A4-4DCA-BF00-D0B4C46DFE8E__GUID-A4E56862-4676-418D-B075-C48E5282EEDC">Parameters</p>
                     <dl>
                        <dt class="dlterm"><a name="GUID-B6E29A85-58A4-4DCA-BF00-D0B4C46DFE8E__GUID-5ADDA38B-C93C-4009-B5A0-ABF84079D8EF">
                              <!-- --></a>inGeoRaster
                        </dt>
                        <dd>
                           <p>The SDO_GEORASTER object to be stretched.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B6E29A85-58A4-4DCA-BF00-D0B4C46DFE8E__GUID-5B08A3DD-8FB5-4C77-B33B-E715FE86C843">
                              <!-- --></a>pyramidLevel
                        </dt>
                        <dd>
                           <p>A number specifying the pyramid level to be stretched in the source GeoRaster object. If null, the default is 0.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B6E29A85-58A4-4DCA-BF00-D0B4C46DFE8E__GUID-B990F65D-6226-455A-94B8-87A3958C9239">
                              <!-- --></a>cropArea
                        </dt>
                        <dd>
                           <p>Crop area definition. If <code class="codeph">cropArea</code> is of type SDO_GEOMETRY, use the <code class="codeph">layerNumbers</code> parameter to specify one or more layer numbers; if <code class="codeph">cropArea</code> is of type SDO_NUMBER_ARRAY, use the <code class="codeph">bandNumbers</code> parameter to specify one or more band numbers.
                           </p>
                           <p>If the data type is SDO_NUMBER_ARRAY, the parameter identifies the upper-left (row, column) and lower-right (row, column) coordinates of a rectangular window, and raster space is assumed. If the data type is SDO_GEOMETRY, the minimum bounding rectangle (MBR) of the geometry object is used as the crop area; see also the Usage Notes for SDO_SRID requirements.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B6E29A85-58A4-4DCA-BF00-D0B4C46DFE8E__GUID-64B1D897-7A25-4BB6-96EA-00B02ECA27BA">
                              <!-- --></a>bandNumbers
                        </dt>
                        <dd>
                           <p>A string identifying the physical band numbers on which the operation is to be performed. Use commas to delimit the values, and a hyphen to indicate a range (for example, <code class="codeph">1-3</code> for bands 1, 2, and 3).
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B6E29A85-58A4-4DCA-BF00-D0B4C46DFE8E__GUID-7D092C87-2E10-476C-A9DB-B1C0D3E01C1D">
                              <!-- --></a>layerNumbers
                        </dt>
                        <dd>
                           <p>A string identifying the logical layer numbers on which the operation is to be performed. Use commas to delimit the values, and a hyphen to indicate a range (for example, <code class="codeph">2-4</code> for layers 2, 3, and 4).
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B6E29A85-58A4-4DCA-BF00-D0B4C46DFE8E__GUID-C6F3DCD5-DAB2-43DC-8B39-628FA5A3A80B">
                              <!-- --></a>minValues
                        </dt>
                        <dd>
                           <p>The minimum values of the bands to be stretched. If it is null, the minimum value of the input GeoRaster object that is stored in the layer metadata is used. If there is only one value in the SDO_NUMBER_ARRAY, it is used as the minimum value of all the input bands; otherwise, the number of values in the SDO_NUMBER_ARRAY must be the same as the number of bands of the output GeoRaster object.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B6E29A85-58A4-4DCA-BF00-D0B4C46DFE8E__GUID-82D89140-9FAE-4CBB-9EA1-39593A53014B">
                              <!-- --></a>maxValues
                        </dt>
                        <dd>
                           <p>The maximum values of the bands to be stretched. If it is null, the maximum value of the input GeoRaster object that is stored in the layer metadata is used. If there is only one value in the SDO_NUMBER_ARRAY, it is used as the maximum value of all the input bands; otherwise, the number of values in the SDO_NUMBER_ARRAY must be the same as the number of bands of the output GeoRaster object.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B6E29A85-58A4-4DCA-BF00-D0B4C46DFE8E__GUID-F10DDAB3-73E9-41CE-A679-4B4F52354084">
                              <!-- --></a>storageParam
                        </dt>
                        <dd>
                           <p>A string specifying storage parameters, as explained in <a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D">Storage Parameters</a>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B6E29A85-58A4-4DCA-BF00-D0B4C46DFE8E__GUID-ABBEC23E-E834-44B7-BF98-45E0F10B4474">
                              <!-- --></a>outGeoRaster
                        </dt>
                        <dd>
                           <p>The output SDO_GEORASTER object that reflects the results of the operation. Must be either a valid existing GeoRaster object or an empty GeoRaster object. (Empty GeoRaster objects are explained in <a href="georaster-overview-and-concepts.html#GUID-C4D574D6-340B-49DC-95BD-87FDEB11CE16">Blank and Empty GeoRaster Objects</a>.) Cannot be the same GeoRaster object as <code class="codeph">inGeoRaster</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B6E29A85-58A4-4DCA-BF00-D0B4C46DFE8E__GUID-C598A40B-39CE-4D1D-8327-CA139A11C4EC">
                              <!-- --></a>parallelParam
                        </dt>
                        <dd>
                           <p>Specifies the degree of parallelism for the operation. If specified, must be in the form <code class="codeph">parallel=</code><span class="italic">n</span>, where <span class="italic">n</span> is greater than 1. The database optimizer uses the degree of parallelism specified by this parameter. If not specified, then by default there is no parallel processing. (For more information, see <a href="georaster-overview-and-concepts.html#GUID-8EC0357C-9089-448E-9ED0-1B33F36E8F3C" title="There are two types of parallel processing with GeoRaster.">Parallel Processing in GeoRaster</a>.)
                           </p>
                           <p>If parallelism is specified, the procedure performs an internal commit while the process is running. Therefore, you cannot roll back the results of this procedure. If an error occurs (even if it is raised by the Oracle parallel server), you must delete the resulting output GeoRaster object explicitly in order to roll back the operation. </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B6E29A85-58A4-4DCA-BF00-D0B4C46DFE8E__GUID-42FFD7A1-7CA2-47B0-8031-1959ECADD2D7">
                              <!-- --></a>rasterBlob
                        </dt>
                        <dd>
                           <p>BLOB to hold the output of the processing result. It must exist or have been initialized before the operation.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B6E29A85-58A4-4DCA-BF00-D0B4C46DFE8E__GUID-F35CAC73-6F21-4B19-8D8D-602E3D9ED51A">
                              <!-- --></a>outArea
                        </dt>
                        <dd>
                           <p>An SDO_GEOMETRY object containing the MBR (minimum bounding rectangle) in the model coordinate system of the resulting object.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-B6E29A85-58A4-4DCA-BF00-D0B4C46DFE8E__GUID-09E38767-1E57-4BE6-A3E3-B0FCBA77F5D9">
                              <!-- --></a>outWindow
                        </dt>
                        <dd>
                           <p>An SDO_NUMBER_ARRAY object identifying the coordinates of the upper-left and lower-right corners of the output window in the cell space.</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B6E29A85-58A4-4DCA-BF00-D0B4C46DFE8E__GUID-7A3C229B-0601-4669-9D51-0721954D7EAA">Usage Notes</p>
                     <p>The input GeoRaster object is stretched to 0-255 using the values in <code class="codeph">minValues</code> and <code class="codeph">maxValues</code> parameters, or the minimum and maximum values stored in the statistics metadata of the image. If the <code class="codeph">minValues</code> and <code class="codeph">maxValues</code> parameters are null, the input GeoRaster object must have the statistics set in its metadata.
                     </p>
                     <p>The cell depth of the output GeoRaster object is always <code class="codeph">8BIT_U</code>. When a GeoRaster image needs to be stretched to an image with a cell depth other than <code class="codeph">8BIT_U</code>, you can use <a href="SDO_GEOR_IP-reference-ref.html#GUID-4996A4C1-3CEA-4F4A-9D3E-1251AC3DEFB3">SDO_GEOR_IP.piecewiseStretch</a>.
                     </p>
                     <p>If the <code class="codeph">cropArea</code> parameter data type is SDO_GEOMETRY, the SDO_SRID value must be one of the following:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Null, to specify raster space</p>
                        </li>
                        <li>
                           <p>A value from the SRID column of the MDSYS.CS_SRS table</p>
                           <p>If the SDO_SRID values for the <code class="codeph">cropArea</code> parameter geometry and the model space are different, the <code class="codeph">cropArea</code> parameter geometry is automatically transformed to the coordinate system of the model space before the operation is performed. (Raster space and model space are explained in <a href="georaster-overview-and-concepts.html#GUID-E38F1F16-4272-4CC8-A199-C97B11C634BA" title="Raster data can have some or all of the following elements.">GeoRaster Data Model</a>.)
                           </p>
                        </li>
                     </ul>
                     <p>Color map stored in the input GeoRaster object is not supported.</p>
                     <p>The output GeoRaster object has no pyramid or mask.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B6E29A85-58A4-4DCA-BF00-D0B4C46DFE8E__GUID-88BE7296-40B8-481C-8112-BAF85E6D7DAE">Examples</p>
                     <p>The following example creates a GeoRaster object that stretches band 2 of the input GeoRaster object from value range of (30, 150) to (0, 255). (It refers to a table named GEORASTER_TABLE, whose definition is presented after <a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D__CHDGDCEC">Example 1-1</a> in <a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D">Storage Parameters</a>.)
                     </p><pre class="oac_no_warn" dir="ltr">DECLARE
  gr1 sdo_georaster;
  gr2 sdo_georaster;
  cropArea sdo_number_array := null;
BEGIN
  INSERT INTO georaster_table (georid, georaster)
    VALUES (41, sdo_geor.init('RDT_1'))
    RETURNING georaster INTO gr2;

  SELECT georaster INTO gr1 FROM georaster_table WHERE georid=4;

  sdo_geor_ip.stretch(gr1, 0, cropArea, '2', sdo_number_array(30), sdo_number_array(150), null, gr2);
  UPDATE georaster_table SET georaster=gr2 WHERE georid=41;
  COMMIT;
END;
/
</pre><p>The following example&nbsp;stretches band 2 of the input GeoRaster object from value range of (30, 150) to (0, 255); the output is in a temporary BLOB. (It refers to a table named GEORASTER_TABLE, whose definition is presented after <a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D__CHDGDCEC">Example 1-1</a> in <a href="georaster-overview-and-concepts.html#GUID-4B5901B5-879D-4E5F-BE73-2242F3D7CF9D">Storage Parameters</a>.)
                     </p><pre class="oac_no_warn" dir="ltr">DECLARE
  gr1 sdo_georaster;
  gr2 sdo_georaster;
  cropArea sdo_number_array := null;
  out_lob  BLOB;
  outArea  sdo_geometry := null;
  outWindow sdo_geometry := null; 
 BEGIN
  dbms_lob.create_temporary(out_lob, TRUE);

  SELECT georaster INTO gr1 FROM georaster_table WHERE georid=4;

  sdo_geor_ip.stretch(gr1, 0, cropArea, '2', sdo_number_array(30), sdo_number_array(150), null, out_lob, outArea, outWindow);

  if outWindow is not null then
     dbms_output.put_line('output window: (' || outWindow(1) || ',' ||
                           outWindow(2) || ',' || outWindow(3) || ',' || outWindow(4) || ')');
  end if;
  dbms_lob.freeTemporary(out_lob);
END;
/
</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="SDO_GEOR_IP-reference-ref.html#GUID-658BBDD1-0155-44BC-8A21-CDC1C088E74F" title="The SDO_GEOR_IP package contains subprograms (functions and procedures) for performing image processing operations on GeoRaster objects. This chapter presents reference information, with one or more examples, for each subprogram.">SDO_GEOR_IP Package Reference</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html><html id='01632.searching-document-sections-in-oracle-text.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="You can use document sections in a text query application.">
      <meta name="description" content="You can use document sections in a text query application.">
      <title>Searching Document Sections in Oracle Text</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Application Developer's Guide ">
      <meta property="og:description" content="You can use document sections in a text query application.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Application Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="text-application-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-07T01:45:16-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2001, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96275-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="tuning-oracle-text.html" title="Previous" type="text/html">
      <link rel="next" href="using-oracle-text-name-search.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Text Application Developer's Guide">
    <meta name="dcterms.isVersionOf" content="CCAPP">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="tuning-oracle-text.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="using-oracle-text-name-search.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Application Developer's Guide </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Searching Document Sections in Oracle Text</li>
            </ol>
            <a id="GUID-9455DBD9-2C23-4CB0-A3C5-FB8B2033516A" name="GUID-9455DBD9-2C23-4CB0-A3C5-FB8B2033516A"></a><a id="CCAPP0800"></a>
            
            <h2 id="CCAPP-GUID-9455DBD9-2C23-4CB0-A3C5-FB8B2033516A" class="sect2"><span class="enumeration_chapter">11 </span> Searching Document Sections in Oracle Text
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>You can use document sections in a text query application.</p>
               <p>This chapter contains the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="searching-document-sections-in-oracle-text.html#GUID-C9161012-F942-46BD-A9D6-68CF554F3D6D">About Oracle Text Document Section Searching</a></p>
                  </li>
                  <li>
                     <p><a href="searching-document-sections-in-oracle-text.html#GUID-2F7B1652-42FB-4A0A-A37F-652DDCB82182">HTML Section Searching with Oracle Text</a></p>
                  </li>
                  <li>
                     <p><a href="searching-document-sections-in-oracle-text.html#GUID-8D535B14-B377-4766-A062-1DA912438E23">XML Section Searching with Oracle Text</a></p>
                  </li>
               </ul>
            </div><a id="CCAPP9284"></a><div class="props_rev_3"><a id="GUID-C9161012-F942-46BD-A9D6-68CF554F3D6D" name="GUID-C9161012-F942-46BD-A9D6-68CF554F3D6D"></a><h3 id="CCAPP-GUID-C9161012-F942-46BD-A9D6-68CF554F3D6D" class="sect3"><span class="enumeration_section">11.1 </span>About Oracle Text Document Section Searching
               </h3>
               <div>
                  <p>Section searching enables you to narrow text queries down to blocks of text within documents. Section searching is useful when your documents have internal structure, such as HTML and XML documents. </p>
                  <p>You can also search for text at the sentence and paragraph level.</p>
                  <p>This section contains these topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="searching-document-sections-in-oracle-text.html#GUID-38C50A3D-B2EE-45F2-805B-AA3B02988C7C">Enabling Oracle Text Section Searching</a></p>
                     </li>
                     <li>
                        <p><a href="searching-document-sections-in-oracle-text.html#GUID-53221B04-7597-46BC-AF34-3B16BE898D7A">Oracle Text Section Types</a></p>
                     </li>
                     <li>
                        <p><a href="searching-document-sections-in-oracle-text.html#GUID-4C591F14-29A8-47CF-AD3B-AD84F919F3A7">Oracle Text Section Attributes</a></p>
                     </li>
                  </ul>
               </div><a id="CCAPP9285"></a><div class="props_rev_3"><a id="GUID-38C50A3D-B2EE-45F2-805B-AA3B02988C7C" name="GUID-38C50A3D-B2EE-45F2-805B-AA3B02988C7C"></a><h4 id="CCAPP-GUID-38C50A3D-B2EE-45F2-805B-AA3B02988C7C" class="sect4"><span class="enumeration_section">11.1.1 </span>Enabling Oracle Text Section Searching
                  </h4>
                  <div>
                     <p>The steps for enabling section searching for your document collection are:</p>
                     <ol>
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-B1DE6C9A-6010-45E8-941F-D2E4BDED2397">Create a Section Group</a></p>
                        </li>
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-193F643B-C72E-471F-A1CF-05F423C4C350">Define Your Sections</a></p>
                        </li>
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-4056667C-6298-42BF-B6B5-1A67108BFD4B">Index Your Documents</a></p>
                        </li>
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-2F97BA75-A0C4-48D1-BC73-C83921581E1D">Section Searching with the WITHIN Operator</a></p>
                        </li>
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-1A6CB754-E899-48B6-B042-01ACDEB78335">Path Searching with INPATH and HASPATH Operators</a></p>
                        </li>
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-7D3BD659-7C9D-44EF-9DA8-F047017BC165">Marking an SDATA Section to be Searchable</a></p>
                        </li>
                     </ol>
                  </div><a id="CCAPP9514"></a><a id="CCAPP9286"></a><div class="props_rev_3"><a id="GUID-B1DE6C9A-6010-45E8-941F-D2E4BDED2397" name="GUID-B1DE6C9A-6010-45E8-941F-D2E4BDED2397"></a><h5 id="CCAPP-GUID-B1DE6C9A-6010-45E8-941F-D2E4BDED2397" class="sect5"><span class="enumeration_section">11.1.1.1 </span>Create a Section Group
                     </h5>
                     <div>
                        <p>You enable section searching by defining section groups. You use one of the system-defined section groups to create an instance of a section group. Choose a section group that is appropriate for your document collection.</p>
                        <p>You use section groups to specify the type of document set that you have and implicitly indicate the tag structure. For instance, to index HTML tagged documents, use <code class="codeph">HTML_SECTION_GROUP.</code> Likewise, to index XML tagged documents, use <code class="codeph">XML_SECTION_GROUP.</code></p>
                        <p><a href="searching-document-sections-in-oracle-text.html#GUID-B1DE6C9A-6010-45E8-941F-D2E4BDED2397__BABEHHID" title="This table shows the various types of section types you can use.">Table 11-1</a> lists the different types of section groups.
                        </p>
                        <div class="tblformal" id="GUID-B1DE6C9A-6010-45E8-941F-D2E4BDED2397__BABEHHID">
                           <p class="titleintable">Table 11-1 Types of Section Groups</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Types of Section Groups" summary="This table shows the various types of section types you can use." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="36%" id="d28756e359">Section Group Preference</th>
                                    <th align="left" valign="bottom" width="64%" id="d28756e362">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d28756e367" headers="d28756e359 ">
                                       <p><code class="codeph">NULL_SECTION_GROUP</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d28756e367 d28756e362 ">
                                       <p>This is the default. Use this group type when you define no sections or when you define <span class="italic">only</span> <code class="codeph">SENTENCE</code> or <code class="codeph">PARAGRAPH</code> sections.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d28756e384" headers="d28756e359 ">
                                       <p><code class="codeph">BASIC_SECTION_GROUP</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d28756e384 d28756e362 ">
                                       <p>Use this group type for defining sections where the start and end tags are of the form <code class="codeph">&lt;A&gt;</code> and <code class="codeph">&lt;/A&gt;</code>.
                                       </p>
                                       <p><span class="bold">Note:</span> This group type does not support input such as unbalanced parentheses, comments tags, and attributes. Use <code class="codeph">HTML_SECTION_GROUP</code> for this type of input.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d28756e405" headers="d28756e359 ">
                                       <p><code class="codeph">HTML_SECTION_GROUP</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d28756e405 d28756e362 ">
                                       <p>Use this group type to index HTML documents and for defining sections in HTML documents. </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d28756e413" headers="d28756e359 ">
                                       <p><code class="codeph">XML_SECTION_GROUP</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d28756e413 d28756e362 ">
                                       <p>Use this group type to index XML documents and for defining sections in XML documents.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d28756e421" headers="d28756e359 ">
                                       <p><code class="codeph">AUTO_SECTION_GROUP</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d28756e421 d28756e362 ">
                                       <p>Use this group type to automatically create a zone section for each start-tag/end-tag pair in an XML document. As in XML, the section names derived from XML tags are case-sensitive. </p>
                                       <p>Attribute sections are created automatically for XML tags that have attributes. Attribute sections are named in the form <span class="italic">tag@attribute.</span></p>
                                       <p>Stop sections, empty tags, processing instructions, and comments are not indexed.</p>
                                       <p>The following limitations apply to automatic section groups:</p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p>You cannot add zone, field, or special sections to an automatic section group.</p>
                                          </li>
                                          <li>
                                             <p>Automatic sectioning does not index XML document types (root elements.)</p>
                                          </li>
                                          <li>
                                             <p>The length of the indexed tags, including prefix and namespace, cannot exceed 64 bytes. Tags longer than 64 bytes are not indexed. </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d28756e447" headers="d28756e359 ">
                                       <p><code class="codeph">PATH_SECTION_GROUP</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d28756e447 d28756e362 ">
                                       <p>Use this group type to index XML documents. This preference behaves like <code class="codeph">AUTO_SECTION_GROUP.</code></p>
                                       <p>The difference is that you can search paths with the <code class="codeph">INPATH</code> and <code class="codeph">HASPATH</code> operators. Queries are also case-sensitive for tag and attribute names.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="36%" id="d28756e465" headers="d28756e359 ">
                                       <p><code class="codeph">NEWS_SECTION_GROUP</code></p>
                                    </td>
                                    <td align="left" valign="top" width="64%" headers="d28756e465 d28756e362 ">
                                       <p>Use this group to define sections in newsgroup-formatted documents according to RFC 1036.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="infoboxnote" id="GUID-B1DE6C9A-6010-45E8-941F-D2E4BDED2397__GUID-DA793D0C-5C74-442B-AEC0-9A95B7D09BBA">
                           <p class="notep1">Note:</p>
                           <p>Documents sent to the <code class="codeph">HTML,</code> <code class="codeph">XML,</code> <code class="codeph">AUTO,</code> and <code class="codeph">PATH</code> sectioners must begin with <code class="codeph">\s*&lt;.</code> The <code class="codeph">\s*</code> represents zero or more whitespace characters. Otherwise, the document is treated as a plain-text document, and no sections are recognized.
                           </p>
                        </div>
                        <p>You use the <code class="codeph">CTX_DDL</code> package to create section groups and define sections as part of section groups. For example, to index HTML documents, create a section group with <code class="codeph">HTML_SECTION_GROUP</code>:
                        </p><pre class="oac_no_warn" dir="ltr">begin
ctx_ddl.create_section_group('htmgroup', 'HTML_SECTION_GROUP');
end;</pre><div class="section">
                           <div class="infoboxnote" id="GUID-B1DE6C9A-6010-45E8-941F-D2E4BDED2397__GUID-BD21B25D-9601-4B42-8B2A-AE0E3609E1AC">
                              <p class="notep1">Note:</p><span>Starting with Oracle Database 18c, use of <code class="codeph">NEWS_SECTION_GROUP</code> is deprecated in Oracle Text. Use external processing instead. </span><p>If you want to index USENET posts, then preprocess the posts to use <code class="codeph">BASIC_SECTION_GROUP</code> or <code class="codeph">HTML_SECTION_GROUP</code> within Oracle Text. USENET is rarely used commercially.
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="CCAPP9287"></a><div class="props_rev_3"><a id="GUID-193F643B-C72E-471F-A1CF-05F423C4C350" name="GUID-193F643B-C72E-471F-A1CF-05F423C4C350"></a><h5 id="CCAPP-GUID-193F643B-C72E-471F-A1CF-05F423C4C350" class="sect5"><span class="enumeration_section">11.1.1.2 </span>Define Your Sections
                     </h5>
                     <div>
                        <p>You define sections as part of the section group. The following example defines a zone section called heading for all text within the HTML <code class="codeph">&lt; H1&gt;</code> tag:
                        </p><pre class="oac_no_warn" dir="ltr">begin
ctx_ddl.create_section_group('htmgroup', 'HTML_SECTION_GROUP');
ctx_ddl.add_zone_section('htmgroup', 'heading', 'H1');
end;</pre><div class="infoboxnote" id="GUID-193F643B-C72E-471F-A1CF-05F423C4C350__GUID-F2B34EC4-1F68-4E25-A3C9-DEDBBD0BFBE9">
                           <p class="notep1">Note:</p>
                           <p>If you are using <code class="codeph">AUTO_SECTION_GROUP</code> or <code class="codeph">PATH_SECTION_GROUP</code> to index an XML document collection, then you do not have to explicitly define sections. The system defines the sections during indexing. 
                           </p>
                        </div>
                        <div class="infoboxnotealso" id="GUID-193F643B-C72E-471F-A1CF-05F423C4C350__GUID-2AEB8337-AE3B-408A-9917-E4063A097FB7">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="searching-document-sections-in-oracle-text.html#GUID-53221B04-7597-46BC-AF34-3B16BE898D7A">Oracle Text Section Types</a>"</span> for more information about sections
                                 </p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="searching-document-sections-in-oracle-text.html#GUID-8D535B14-B377-4766-A062-1DA912438E23">XML Section Searching with Oracle Text</a>"</span> for more information about section searching with XML
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="CCAPP9288"></a><div class="props_rev_3"><a id="GUID-4056667C-6298-42BF-B6B5-1A67108BFD4B" name="GUID-4056667C-6298-42BF-B6B5-1A67108BFD4B"></a><h5 id="CCAPP-GUID-4056667C-6298-42BF-B6B5-1A67108BFD4B" class="sect5"><span class="enumeration_section">11.1.1.3 </span>Index Your Documents
                     </h5>
                     <div>
                        <p>When you index your documents, you specify your section group in the parameter clause of <code class="codeph">CREATE</code> <code class="codeph">INDEX.</code></p><pre class="oac_no_warn" dir="ltr">create index myindex on docs(htmlfile) indextype is ctxsys.context 
parameters('filter ctxsys.null_filter section group htmgroup');</pre></div>
                  </div><a id="CCAPP9289"></a><div class="props_rev_3"><a id="GUID-2F97BA75-A0C4-48D1-BC73-C83921581E1D" name="GUID-2F97BA75-A0C4-48D1-BC73-C83921581E1D"></a><h5 id="CCAPP-GUID-2F97BA75-A0C4-48D1-BC73-C83921581E1D" class="sect5"><span class="enumeration_section">11.1.1.4 </span>Search Sections with the WITHIN Operator
                     </h5>
                     <div>
                        <p>When your documents are indexed, you can query within sections by using the <code class="codeph">WITHIN</code> operator. For example, to find all documents that contain the word <span class="italic">Oracle</span> within their headings, enter the following query:
                        </p><pre class="oac_no_warn" dir="ltr">'Oracle WITHIN heading'</pre><div class="infoboxnotealso" id="GUID-2F97BA75-A0C4-48D1-BC73-C83921581E1D__GUID-15ECB815-5B18-45BA-A47A-724A4F125E8A">
                           <p class="notep1">See Also:</p>
                           <p><a href="../ccref/oracle-text-CONTAINS-query-operators.html#CCREF0330" target="_blank"><span class="italic">Oracle Text Reference</span></a> to learn more about using the <code class="codeph">WITHIN</code> operator
                           </p>
                        </div>
                     </div>
                  </div><a id="CCAPP9290"></a><div class="props_rev_3"><a id="GUID-1A6CB754-E899-48B6-B042-01ACDEB78335" name="GUID-1A6CB754-E899-48B6-B042-01ACDEB78335"></a><h5 id="CCAPP-GUID-1A6CB754-E899-48B6-B042-01ACDEB78335" class="sect5"><span class="enumeration_section">11.1.1.5 </span>Search Paths with INPATH and HASPATH Operators
                     </h5>
                     <div>
                        <p>When you use <code class="codeph">PATH_SECTION_GROUP,</code> the system automatically creates XML sections. In addition to using the <code class="codeph">WITHIN</code> operator to enter queries, you can enter path queries with the <code class="codeph">INPATH</code> and <code class="codeph">HASPATH</code> operators.
                        </p>
                        <div class="infoboxnotealso" id="GUID-1A6CB754-E899-48B6-B042-01ACDEB78335__GUID-A0871D71-8EBE-4939-87B9-8F2FF5C5DA9C">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="searching-document-sections-in-oracle-text.html#GUID-8D535B14-B377-4766-A062-1DA912438E23">XML Section Searching with Oracle Text</a>"</span> to learn more about using these operators
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../ccref/oracle-text-CONTAINS-query-operators.html#CCREF-GUID-F78EC75C-55C8-4C79-A744-AE0DB2E1F581" target="_blank"><span class="italic">Oracle Text Reference</span></a> to learn more about using the <code class="codeph">INPATH</code> operator
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-7D3BD659-7C9D-44EF-9DA8-F047017BC165" name="GUID-7D3BD659-7C9D-44EF-9DA8-F047017BC165"></a><h5 id="CCAPP-GUID-7D3BD659-7C9D-44EF-9DA8-F047017BC165" class="sect5"><span class="enumeration_section">11.1.1.6 </span>Mark an SDATA Section to Be Searchable
                     </h5>
                     <div>
                        <div class="section">To mark an <code class="codeph">SDATA</code> section to be searchable and have a <code class="codeph">$S<span class="codeinlineitalic">datatype</span></code> table created, use the <code class="codeph">CTX_DDL.SET_SECTION_ATTRIBUTE</code> API. 
                           <p>The following tables are created:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">$SN</code> &#x2013; <code class="codeph">NUMBER</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">$SD</code> &#x2013; <code class="codeph">DATE</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">$SV</code> &#x2013; <code class="codeph">VARCHAR2</code>, <code class="codeph">CHAR</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">$SR</code> &#x2013; <code class="codeph">RAW</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">$SBD</code> &#x2013; <code class="codeph">BINARY DOUBLE</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">$SBF</code> &#x2013; <code class="codeph">BINARY FLOAT</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">$ST</code> &#x2013; <code class="codeph">TIMESTAMP</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">$STZ</code> &#x2013; <code class="codeph">TIMESTAMP WITH TIMEZONE</code></p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="section">The following example creates a <code class="codeph">$SV</code> table for this <code class="codeph">SDATA</code> section to allow efficient searching on that section.<pre class="pre codeblock"><code>ctx_ddl.add_sdata_section('sec_grp', 'sdata_sec', 'mytag', 'varchar');
ctx_ddl.set_section_attribute('sec_grp', 'sdata_sec', 'optimized_for', 'search');
</code></pre><p>The default value of this attribute is <code class="codeph">FALSE.</code></p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="CCAPP9515"></a><a id="CCAPP9291"></a><div class="props_rev_3"><a id="GUID-53221B04-7597-46BC-AF34-3B16BE898D7A" name="GUID-53221B04-7597-46BC-AF34-3B16BE898D7A"></a><h4 id="CCAPP-GUID-53221B04-7597-46BC-AF34-3B16BE898D7A" class="sect4"><span class="enumeration_section">11.1.2 </span>Oracle Text Section Types
                  </h4>
                  <div>
                     <p>All section types are blocks of text in a document. However, sections can differ in the way that they are delimited and the way that they are recorded in the index. Sections can be one of the following types:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-9BEFC13A-B5A6-42B7-B5AF-EDDE5345C12E">Zone Section</a></p>
                        </li>
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-426E9F80-530D-42B7-9C52-550EFCEDC720">Field Section</a></p>
                        </li>
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-4F6F335C-CDC5-4B08-84F4-2439DD908DA0">Stop Section</a></p>
                        </li>
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-58DBD861-FD45-4FE4-8862-7EA360BD9F71">MDATA Section</a></p>
                        </li>
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-22EEA9FE-6051-4314-92B2-9C67CE0D167D">NDATA Section</a></p>
                        </li>
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-F71A270E-4AFB-4B2C-B374-538566E5C403">SDATA Section</a></p>
                        </li>
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-CD1BE817-6122-4EF7-A664-DEB7667C4B5F">Attribute Section</a> (for XML documents)
                           </p>
                        </li>
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-2F7732AB-2AE4-496F-BC0A-37FAF21FC043">Special Sections</a> (sentence or paragraphs)
                           </p>
                        </li>
                     </ul>
                     <p><a href="searching-document-sections-in-oracle-text.html#GUID-53221B04-7597-46BC-AF34-3B16BE898D7A__CACCGFDE" title="Section Types and Section Groups">Table 11-2</a><a id="d28756e1130" class="indexterm-anchor"></a><a id="d28756e1134" class="indexterm-anchor"></a><a id="d28756e1138" class="indexterm-anchor"></a> shows which section types may be used with each kind of section group.
                     </p>
                     <div class="tblformalwide" id="GUID-53221B04-7597-46BC-AF34-3B16BE898D7A__CACCGFDE">
                        <p class="titleintable">Table 11-2 Section Types and Section Groups</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="Section Types and Section Groups" summary="Section Types and Section Groups" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="16%" id="d28756e1160">Section Group</th>
                                 <th align="left" valign="bottom" width="8%" id="d28756e1163">ZONE</th>
                                 <th align="left" valign="bottom" width="9%" id="d28756e1166">FIELD</th>
                                 <th align="left" valign="bottom" width="9%" id="d28756e1169">STOP</th>
                                 <th align="left" valign="bottom" width="11%" id="d28756e1172">MDATA</th>
                                 <th align="left" valign="bottom" width="10%" id="d28756e1175">NDATA</th>
                                 <th align="left" valign="bottom" width="10%" id="d28756e1178">SDATA</th>
                                 <th align="left" valign="bottom" width="15%" id="d28756e1181">ATTRIBUTE</th>
                                 <th align="left" valign="bottom" width="12%" id="d28756e1184">SPECIAL</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="16%" id="d28756e1189" headers="d28756e1160 ">
                                    <p>NULL</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d28756e1189 d28756e1163 ">
                                    <p>NO</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d28756e1189 d28756e1166 ">
                                    <p>NO</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d28756e1189 d28756e1169 ">
                                    <p>NO</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d28756e1189 d28756e1172 ">
                                    <p>NO</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d28756e1189 d28756e1175 ">
                                    <p>NO</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d28756e1189 d28756e1178 ">
                                    <p>NO</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d28756e1189 d28756e1181 ">
                                    <p>NO</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d28756e1189 d28756e1184 ">
                                    <p>YES</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="16%" id="d28756e1217" headers="d28756e1160 ">
                                    <p>BASIC</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d28756e1217 d28756e1163 ">
                                    <p>YES</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d28756e1217 d28756e1166 ">
                                    <p>YES</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d28756e1217 d28756e1169 ">
                                    <p>NO</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d28756e1217 d28756e1172 ">
                                    <p>YES</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d28756e1217 d28756e1175 ">
                                    <p>YES</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d28756e1217 d28756e1178 ">
                                    <p>YES</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d28756e1217 d28756e1181 ">
                                    <p>NO</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d28756e1217 d28756e1184 ">
                                    <p>YES</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="16%" id="d28756e1245" headers="d28756e1160 ">
                                    <p>HTML</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d28756e1245 d28756e1163 ">
                                    <p>YES</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d28756e1245 d28756e1166 ">
                                    <p>YES</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d28756e1245 d28756e1169 ">
                                    <p>NO</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d28756e1245 d28756e1172 ">
                                    <p>YES</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d28756e1245 d28756e1175 ">
                                    <p>YES</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d28756e1245 d28756e1178 ">
                                    <p>YES</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d28756e1245 d28756e1181 ">
                                    <p>NO</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d28756e1245 d28756e1184 ">
                                    <p>YES</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="16%" id="d28756e1273" headers="d28756e1160 ">
                                    <p>XML</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d28756e1273 d28756e1163 ">
                                    <p>YES</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d28756e1273 d28756e1166 ">
                                    <p>YES</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d28756e1273 d28756e1169 ">
                                    <p>NO</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d28756e1273 d28756e1172 ">
                                    <p>YES</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d28756e1273 d28756e1175 ">
                                    <p>YES</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d28756e1273 d28756e1178 ">
                                    <p>YES</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d28756e1273 d28756e1181 ">
                                    <p>YES</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d28756e1273 d28756e1184 ">
                                    <p>YES</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="16%" id="d28756e1301" headers="d28756e1160 ">
                                    <p>NEWS</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d28756e1301 d28756e1163 ">
                                    <p>YES</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d28756e1301 d28756e1166 ">
                                    <p>YES</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d28756e1301 d28756e1169 ">
                                    <p>NO</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d28756e1301 d28756e1172 ">
                                    <p>YES</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d28756e1301 d28756e1175 ">
                                    <p>YES</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d28756e1301 d28756e1178 ">
                                    <p>YES</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d28756e1301 d28756e1181 ">
                                    <p>NO</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d28756e1301 d28756e1184 ">
                                    <p>YES</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="16%" id="d28756e1329" headers="d28756e1160 ">
                                    <p>AUTO</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d28756e1329 d28756e1163 ">
                                    <p>NO</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d28756e1329 d28756e1166 ">
                                    <p>NO</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d28756e1329 d28756e1169 ">
                                    <p>YES</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d28756e1329 d28756e1172 ">
                                    <p>NO</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d28756e1329 d28756e1175 ">
                                    <p>NO</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d28756e1329 d28756e1178 ">
                                    <p>NO</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d28756e1329 d28756e1181 ">
                                    <p>NO</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d28756e1329 d28756e1184 ">
                                    <p>NO</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="16%" id="d28756e1357" headers="d28756e1160 ">
                                    <p>PATH</p>
                                 </td>
                                 <td align="left" valign="top" width="8%" headers="d28756e1357 d28756e1163 ">
                                    <p>NO</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d28756e1357 d28756e1166 ">
                                    <p>NO</p>
                                 </td>
                                 <td align="left" valign="top" width="9%" headers="d28756e1357 d28756e1169 ">
                                    <p>NO</p>
                                 </td>
                                 <td align="left" valign="top" width="11%" headers="d28756e1357 d28756e1172 ">
                                    <p>NO</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d28756e1357 d28756e1175 ">
                                    <p>NO</p>
                                 </td>
                                 <td align="left" valign="top" width="10%" headers="d28756e1357 d28756e1178 ">
                                    <p>NO</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d28756e1357 d28756e1181 ">
                                    <p>NO</p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d28756e1357 d28756e1184 ">
                                    <p>NO</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div><a id="CCAPP9688"></a><a id="CCAPP9689"></a><a id="CCAPP9690"></a><a id="CCAPP9292"></a><div class="props_rev_3"><a id="GUID-9BEFC13A-B5A6-42B7-B5AF-EDDE5345C12E" name="GUID-9BEFC13A-B5A6-42B7-B5AF-EDDE5345C12E"></a><h5 id="CCAPP-GUID-9BEFC13A-B5A6-42B7-B5AF-EDDE5345C12E" class="sect5"><span class="enumeration_section">11.1.2.1 </span>Zone Section
                     </h5>
                     <div>
                        <p>A zone section is a body of text delimited by start and end tags in a document. The positions of the start and end tags are recorded in the index so that any words in between the tags are considered to be within the section. Any instance of a zone section must have a start and an end tag.</p>
                        <p>For example, define the text between the <code class="codeph">&lt;TITLE&gt;</code> and <code class="codeph">&lt;/TITLE&gt;</code> tags as a zone section as follows:
                        </p><pre class="oac_no_warn" dir="ltr">&lt;TITLE&gt;Tale of Two Cities&lt;/TITLE&gt;
It was the best of times...
</pre><p>Zone sections can nest, overlap, and repeat within a document.</p>
                        <p>When querying zone sections, you use the <code class="codeph">WITHIN</code> operator to search for a term across all sections. Oracle Text returns those documents that contain the term within the defined section.
                        </p>
                        <p>Zone sections are well suited for defining sections in HTML and XML documents. To define a zone section, use <code class="codeph">CTX_DDL</code>.<code class="codeph">ADD_ZONE_SECTION.</code></p>
                        <p>For example, assume you define the <code class="codeph">booktitle</code> section as follows:
                        </p><pre class="oac_no_warn" dir="ltr">begin
ctx_ddl.create_section_group('htmgroup', 'HTML_SECTION_GROUP');
ctx_ddl.add_zone_section('htmgroup', 'booktitle', 'TITLE');
end;
</pre><p>After you index, you can search for all documents that contain the term<span class="italic"> Cities</span> within the <code class="codeph">booktitle</code> section as follows:
                        </p><pre class="oac_no_warn" dir="ltr">'Cities WITHIN booktitle'
</pre><p>With multiple query terms such as <span class="italic">(dog and cat) WITHIN booktitle,</span> Oracle Text returns those documents that contain <span class="italic">cat</span> and <span class="italic">dog</span> within the same instance of a <code class="codeph">booktitle</code> section.
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-9BEFC13A-B5A6-42B7-B5AF-EDDE5345C12E__GUID-B564CCB7-32DC-4943-8170-9A5463185000">Repeated Zone Sections</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>Zone sections can repeat. Each occurrence is treated as a separate section. For example, if <code class="codeph">&lt;H1&gt;</code> denotes a <code class="codeph">heading</code> section, the heading can be repeated in the same documents as follows: 
                           </p><pre class="oac_no_warn" dir="ltr">&lt;H1&gt; The Brown Fox &lt;/H1&gt;
&lt;H1&gt; The Gray Wolf &lt;/H1&gt;
</pre><p>Assuming that these zone sections are named <code class="codeph">Heading,</code> a query of <span class="italic">Brown WITHIN Heading</span> returns this document. However, a query of <span class="italic">(Brown and Gray) WITHIN Heading</span> does not.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-9BEFC13A-B5A6-42B7-B5AF-EDDE5345C12E__GUID-40B12380-F994-4F48-A51B-A6B9AE4AAE9F">Overlapping Zone Sections</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>Zone sections can overlap each other. For example, if <code class="codeph">&lt;B&gt;</code> and <code class="codeph">&lt;I&gt;</code> denote two different zone sections, they can overlap in a document as follows:
                           </p><pre class="oac_no_warn" dir="ltr">plain &lt;B&gt; bold &lt;I&gt; bold and italic &lt;/B&gt; only italic &lt;/I&gt;  plain</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-9BEFC13A-B5A6-42B7-B5AF-EDDE5345C12E__GUID-6133CD0C-CA68-44DD-8F9B-B7394D06060D">Nested Zone Sections</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>Zone sections can be nested, as follows:</p><pre class="oac_no_warn" dir="ltr">&lt;TD&gt; &lt;TABLE&gt;&lt;TD&gt;nested cell&lt;/TD&gt;&lt;/TABLE&gt;&lt;/TD&gt;
</pre><p>Using the <code class="codeph">WITHIN</code> operator, you can write queries to search for text in sections within sections. For example, assume that the <code class="codeph">BOOK1, BOOK2,</code> and <code class="codeph">AUTHOR</code> zone sections occur as follows in the doc1 and doc2 documents:
                           </p>
                           <p>doc1:</p><pre class="oac_no_warn" dir="ltr">&lt;book1&gt; &lt;author&gt;Scott Tiger&lt;/author&gt; This is a cool book to read.&lt;/book1&gt;
</pre><p>doc2:</p><pre class="oac_no_warn" dir="ltr">&lt;book2&gt; &lt;author&gt;Scott Tiger&lt;/author&gt; This is a great book to read.&lt;/book2&gt;
</pre><p>Consider the nested query. It returns only doc1.</p><pre class="oac_no_warn" dir="ltr">'(Scott within author) within book1'
</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="CCAPP9296"></a><div class="props_rev_3"><a id="GUID-426E9F80-530D-42B7-9C52-550EFCEDC720" name="GUID-426E9F80-530D-42B7-9C52-550EFCEDC720"></a><h5 id="CCAPP-GUID-426E9F80-530D-42B7-9C52-550EFCEDC720" class="sect5"><span class="enumeration_section">11.1.2.2 </span>Field Section
                     </h5>
                     <div>
                        <p>A field section is similar to a zone section in that it is a region of text delimited by start and end tags. Field sections are more efficient from zone sections and are different than zone sections in that the region is indexed separately from the rest of the document. You can create an unlimited number of field sections.</p>
                        <p>Because field sections are indexed differently, you can also get better query performance over zone sections when a large number of documents are indexed. </p>
                        <p>Field sections are more suited to a single occurrence of a section in a document, such as a field in a news header. Field sections can also be made visible to the rest of the document.</p>
                        <p>Unlike zone sections, field sections have the following restrictions:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>They cannot overlap.</p>
                           </li>
                           <li>
                              <p>They cannot repeat.</p>
                           </li>
                           <li>
                              <p>They cannot nest.</p>
                           </li>
                        </ul>
                        <div class="section">
                           <p class="subhead3" id="GUID-426E9F80-530D-42B7-9C52-550EFCEDC720__GUID-02402D8C-4645-4A45-A312-FAC19590F3A6">Visible and Invisible Field Sections</p>
                           <p>By default, field sections are indexed as a sub-document separate from the rest of the document. As such, field sections are invisible to the surrounding text and can only be queried by explicitly naming the section in the <code class="codeph">WITHIN</code> clause.
                           </p>
                           <p>You can make field sections visible if you want the text within the field section to be indexed as part of the enclosing document. You can query text within a visible field section with or without the <code class="codeph">WITHIN</code> operator.
                           </p>
                           <p>The following example shows the difference using invisible and visible field sections. The code defines a <code class="codeph">basicgroup</code> section group of the <code class="codeph">BASIC_SECTION_GROUP</code> type. It then creates a field section in <code class="codeph">basicgroup</code> called <code class="codeph">Author</code> for the <code class="codeph">&lt;A&gt;</code> tag. It also sets the visible flag to <code class="codeph">FALSE</code> to create an invisible section.
                           </p><pre class="oac_no_warn" dir="ltr">begin
ctx_ddl.create_section_group('basicgroup', 'BASIC_SECTION_GROUP');
ctx_ddl.add_field_section('basicgroup', 'Author', 'A', FALSE);
end;
</pre><p>Because the <code class="codeph">Author</code> field section is not visible, to find text within the <code class="codeph">Author</code> section, you must use the <code class="codeph">WITHIN</code> operator.
                           </p><pre class="oac_no_warn" dir="ltr">'(Martin Luther King) WITHIN Author'
</pre><p>A query of<span class="italic"> Martin Luther King</span> without the <code class="codeph">WITHIN</code> operator does not return instances of this term in field sections. If you want to query text within field sections without specifying <code class="codeph">WITHIN,</code> you must set the visible flag to <code class="codeph">TRUE</code> when you create the section, as follows:
                           </p><pre class="oac_no_warn" dir="ltr">begin
ctx_ddl.add_field_section('basicgroup', 'Author', 'A', TRUE);
end;</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-426E9F80-530D-42B7-9C52-550EFCEDC720__GUID-20A3E460-9B15-444F-9C36-60F9AF2A042C">Nested Field Sections</p>
                           <p>You cannot nest field sections. For example, if you define a field section to start with <code class="codeph">&lt;TITLE&gt;</code> and define another field section to start with <code class="codeph">&lt;FOO&gt;,</code> you <span class="italic">cannot</span> nest the two sections as follows:
                           </p><pre class="oac_no_warn" dir="ltr">&lt;TITLE&gt; dog &lt;FOO&gt; cat &lt;/FOO&gt; &lt;/TITLE&gt;
</pre><p>To work with nested sections, define them as zone sections.</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-426E9F80-530D-42B7-9C52-550EFCEDC720__GUID-B5B2DB9A-F68F-4000-8D41-6953B954538C">Repeated Field Sections</p>
                           <p>Repeated field sections are allowed, but <code class="codeph">WITHIN</code> queries treat them as a single section. Here is an example of a repeated field section in a document:
                           </p><pre class="oac_no_warn" dir="ltr">&lt;TITLE&gt; cat &lt;/TITLE&gt;
&lt;TITLE&gt; dog &lt;/TITLE&gt;
</pre><p>The query <span class="italic">dog and cat within title</span> returns the document, even though these words occur in different sections.
                           </p>
                           <p>To have <code class="codeph">WITHIN</code> queries distinguish repeated sections, define them as zone sections.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="CCAPP9300"></a><div class="props_rev_3"><a id="GUID-4F6F335C-CDC5-4B08-84F4-2439DD908DA0" name="GUID-4F6F335C-CDC5-4B08-84F4-2439DD908DA0"></a><h5 id="CCAPP-GUID-4F6F335C-CDC5-4B08-84F4-2439DD908DA0" class="sect5"><span class="enumeration_section">11.1.2.3 </span>Stop Section
                     </h5>
                     <div>
                        <p>When you add a stop section to an automatic section group, the automatic section indexing operation ignores the specified section in XML documents.</p>
                        <div class="infoboxnote" id="GUID-4F6F335C-CDC5-4B08-84F4-2439DD908DA0__GUID-ECB85666-5497-4F7A-B93B-AF63D292D784">
                           <p class="notep1">Note:</p>
                           <p>Adding a stop section causes no section information to be created in the index. However, the text within a stop section is always searchable. </p>
                        </div>
                        <p>Adding a stop section is useful when your documents contain many low-information tags. Adding stop sections also improves indexing performance with the automatic section group.</p>
                        <p>You can add an unlimited number of stop sections.</p>
                        <p>Stop sections do not have section names and are not recorded in the section views.</p>
                     </div>
                  </div><a id="CCAPP9301"></a><div class="props_rev_3"><a id="GUID-58DBD861-FD45-4FE4-8862-7EA360BD9F71" name="GUID-58DBD861-FD45-4FE4-8862-7EA360BD9F71"></a><h5 id="CCAPP-GUID-58DBD861-FD45-4FE4-8862-7EA360BD9F71" class="sect5"><span class="enumeration_section">11.1.2.4 </span>MDATA Section
                     </h5>
                     <div>
                        <p>You use an <code class="codeph">MDATA</code> section to reference user-defined metadata for a document. <code class="codeph">MDATA</code> sections can speed up mixed queries, and there is no limit to the number of <code class="codeph">MDATA</code> sections that can be returned in a query.
                        </p>
                        <p>Consider the case where you want to query according to text content and document type (magazine, newspaper, or novel). You can create an index with a column for text and a column for the document type, and then perform a mixed query of this form. In this case, search for all novels with the phrase <span class="italic">Adam Thorpe</span> (author of the novel <span class="italic">Ulverton</span>):
                        </p><pre class="oac_no_warn" dir="ltr">SELECT id FROM documents
   WHERE doctype = 'novel'
      AND CONTAINS(text, 'Adam Thorpe')&gt;0;
</pre><p>However, it is usually faster to incorporate the attribute (in this case, the document type) in a field section, rather than using a separate column, and then using a single <code class="codeph">CONTAINS</code> query.
                        </p><pre class="oac_no_warn" dir="ltr">SELECT id FROM documents
  WHERE CONTAINS(text, 'Adam Thorpe AND novel WITHIN doctype')&gt;0;
</pre><p>This approach has two drawbacks:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Each time the attribute is updated, the entire text document must be reindexed, resulting in increased index fragmentation and slower rates of data manipulation language (DML) processing. </p>
                           </li>
                           <li>
                              <p>Field sections tokenize the section value. Tokenization has several effects. Special characters in metadata, such as decimal points or currency characters, are not easily searchable; value searching (searching for <span class="italic">John Smith</span> but not <span class="italic">John Smith, Jr.</span>) is difficult; multiword values are queried by phrase, which is slower than single-token searching; and multiword values do not show up in browsed words, making author browsing or subject browsing impossible. 
                              </p>
                           </li>
                        </ul>
                        <p>For these reasons, using <code class="codeph">MDATA</code> sections instead of field sections may be worthwhile. <code class="codeph">MDATA</code> sections are indexed like field sections, but you can add and remove metadata values from documents without the need to reindex the document text. Unlike field sections, <code class="codeph">MDATA</code> values are not tokenized. Additionally, <code class="codeph">MDATA</code> section indexing generally takes up less disk space than field section indexing.
                        </p>
                        <p> Starting with Oracle Database 12<span class="italic">c</span> Release 2 (12.2), the <code class="codeph">MDATA</code> section can be updatable or nonupdatable depending on the value of its read-only tag, which can be set to either <code class="codeph">FALSE</code> or <code class="codeph">TRUE</code>.
                        </p>
                        <p>Use <code class="codeph">CTX_DDL.ADD_MDATA_SECTION</code> to add an <code class="codeph">MDATA</code> section to a section group. By default, the value of a read-only <code class="codeph">MDATA</code> section is <code class="codeph">FALSE.</code> It implies that you want to permit calling <code class="codeph">CTX_DDL.ADD_MDATA()</code> and <code class="codeph">CTX_DDL.REMOVE_MDATA()</code> for this <code class="codeph">MDATA</code> section, otherwise you can set it to <code class="codeph">TRUE.</code> When set to <code class="codeph">FALSE,</code> the queries on the <code class="codeph">MDATA</code> section run less efficiently because a cursor must be opened on the index table to track the deleted values for that <code class="codeph">MDATA</code> section. This example adds an <code class="codeph">MDATA</code> section called <code class="codeph">AUTHOR</code> and gives it the value <span class="italic">Soseki Natsume</span> (author of the novel <span class="italic">Kokoro</span>).
                        </p><pre class="oac_no_warn" dir="ltr">ctx_ddl.create.section.group('htmgroup', 'HTML_SECTION_GROUP');
ctx_ddl.add_mdata_section('htmgroup', 'author', 'Soseki Natsume');
</pre><p>You can change <code class="codeph">MDATA</code> values with <code class="codeph">CTX_DDL.ADD_MDATA,</code> and you can remove them with <code class="codeph">CTX_DDL.REMOVE_MDATA.</code> Also, <code class="codeph">MDATA</code> sections can have multiple values. Only the owner of the index may call <code class="codeph">CTX_DDL.ADD_MDATA</code> and <code class="codeph">CTX_DDL.REMOVE_MDATA.</code></p>
                        <p>Neither <code class="codeph">CTX_DDL.ADD_MDATA</code> nor <code class="codeph">CTX_DDL.REMOVE_MDATA</code> is supported for <code class="codeph">CTXCAT</code> and <code class="codeph">CTXRULE</code> indexes.
                        </p>
                        <p><code class="codeph">MDATA</code> values are not passed through a lexer. Instead, all values undergo the following simplified normalization:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Leading and trailing whitespace on the value is removed.</p>
                           </li>
                           <li>
                              <p>The value is truncated to 255 bytes.</p>
                           </li>
                           <li>
                              <p>The value is indexed as a single value; if the value consists of multiple words, it is not broken up.</p>
                           </li>
                           <li>
                              <p>Case is preserved. If the document is dynamically generated, you can implement case-insensitivity by uppercasing <code class="codeph">MDATA</code> values and making sure to search only in uppercase.
                              </p>
                           </li>
                        </ul>
                        <p>After you add <code class="codeph">MDATA</code> metadata to a document, you can query for that metadata by using the <code class="codeph">CONTAINS</code> query operator:
                        </p><pre class="oac_no_warn" dir="ltr">SELECT id FROM documents
   WHERE CONTAINS(text, 'Tokyo and MDATA(author, Soseki Natsume)')&gt;0;
</pre><p>This query is only successful if an <code class="codeph">AUTHOR</code> tag has the exact value <span class="italic">Soseki Natsume</span> (after simplified tokenization). <span class="italic">Soseki</span> or <span class="italic">Natsume Soseki</span> returns no rows. 
                        </p>
                        <p>The following are considerations for <code class="codeph">MDATA</code>:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">MDATA</code> values are not highlightable, do not appear in the output of <code class="codeph">CTX_DOC.TOKENS,</code> and do not appear when you enable <code class="codeph">FILTER PLAINTEXT.</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">MDATA</code> sections must be unique within section groups. For example, do not use <code class="codeph">FOO</code> as the name of an <code class="codeph">MDATA</code> section and a zone or field section in the same section group.
                              </p>
                           </li>
                           <li>
                              <p>Like field sections, <code class="codeph">MDATA</code> sections cannot overlap or nest. An <code class="codeph">MDATA</code> section is implicitly closed by the first tag encountered. In this example:
                              </p><pre class="oac_no_warn" dir="ltr">&lt;AUTHOR&gt;Dickens &lt;B&gt;Shelley&lt;/B&gt; Keats&lt;/AUTHOR&gt;
</pre><p>The <code class="codeph">&lt;B&gt;</code> tag closes the <code class="codeph">AUTHOR</code> <code class="codeph">MDATA</code> section; as a result, this document has an <code class="codeph">AUTHOR</code> of 'Dickens', but not of 'Shelley' or 'Keats'. 
                              </p>
                           </li>
                           <li>
                              <p>To prevent race conditions, each call to <code class="codeph">ADD_MDATA</code> and <code class="codeph">REMOVE_MDATA</code> locks out other calls on that rowid for that index for all values and sections. However, because <code class="codeph">ADD_MDATA</code> and <code class="codeph">REMOVE_MDATA</code> do not commit, it is possible for an application to deadlock when calling them both. It is the application's responsibility to prevent deadlocking.
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-58DBD861-FD45-4FE4-8862-7EA360BD9F71__GUID-8D6385E8-3361-4D68-ACB0-C9C0475EF504">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph"><span class="q">"ALTER INDEX"</span></code> in <a href="../ccref/changes-in-this-release.html#CCREF-GUID-000FA75C-978F-40D3-A2FA-DA5C241C65A3" target="_blank"><span class="italic">Oracle Text Reference</span></a></p>
                              </li>
                              <li>
                                 <p><code class="codeph"><span class="q">"ADD_MDATA_SECTION"</span></code> in <a href="../ccref/changes-in-this-release.html#CCREF-GUID-000FA75C-978F-40D3-A2FA-DA5C241C65A3" target="_blank"><span class="italic">Oracle Text Reference</span></a> 
                                 </p>
                              </li>
                              <li>
                                 <p>The <code class="codeph"><span class="q">"CONTAINS"</span></code> query operators chapter of the <a href="../ccref/oracle-text-CONTAINS-query-operators.html#CCREF0300" target="_blank"><span class="italic">Oracle Text Reference</span></a> for information on the <code class="codeph">MDATA</code> operator
                                 </p>
                              </li>
                              <li>
                                 <p>The <code class="codeph"><span class="q">"CTX_DDL"</span></code> package chapter of <a href="../ccref/CTX_DDL-package.html#CCREF0600" target="_blank"><span class="italic">Oracle Text Reference</span></a> for information on adding and removing <code class="codeph">MDATA</code> sections
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="CCAPP9555"></a><div class="props_rev_3"><a id="GUID-22EEA9FE-6051-4314-92B2-9C67CE0D167D" name="GUID-22EEA9FE-6051-4314-92B2-9C67CE0D167D"></a><h5 id="CCAPP-GUID-22EEA9FE-6051-4314-92B2-9C67CE0D167D" class="sect5"><span class="enumeration_section">11.1.2.5 </span>NDATA Section
                     </h5>
                     <div>
                        <p>For fields containing data to be indexed for name searching, you can specify them exclusively by adding <code class="codeph">NDATA</code> sections to section groups of type <code class="codeph">BASIC_SECTION_GROUP,</code> <code class="codeph">HTML_SECTION_GROUP,</code> or <code class="codeph">XML_SECTION_GROUP.</code></p>
                        <p>Users can synthesize textual documents, which contain name data, by using two possible datastores: <code class="codeph">MULTI_COLUMN_DATASTORE</code> or <code class="codeph">USER_DATASTORE.</code> The following example uses <code class="codeph">MULTI_COLUMN_DATASTORE</code> to pick up relevant columns containing the name data for indexing:
                        </p><pre class="oac_no_warn" dir="ltr">create table people(firstname varchar2(80), surname varchar2(80));
 insert into people values('John', 'Smith');
 commit;
 begin
   ctx_ddl.create_preference('nameds', 'MULTI_COLUMN_DATASTORE');
   ctx_ddl.set_attribute('nameds', 'columns', 'firstname,surname');
 end;
 / 
</pre><p>This example produces the following virtual text for indexing:</p><pre class="oac_no_warn" dir="ltr">&lt;FIRSTNAME&gt;
John
&lt;/FIRSTNAME&gt;
&lt;SURNAME&gt;
Smith
&lt;/SURNAME&gt;
</pre><p>You can then create <code class="codeph">NDATA</code> sections for <code class="codeph">FIRSTNAME</code> and <code class="codeph">SURNAME</code> sections:
                        </p><pre class="oac_no_warn" dir="ltr">begin
  ctx_ddl.create_section_group('namegroup', 'BASIC_SECTION_GROUP');
  ctx_ddl.add_ndata_section('namegroup', 'FIRSTNAME', 'FIRSTNAME');
  ctx_ddl.add_ndata_section('namegroup', 'SURNAME', 'SURNAME');
end;
/
</pre><p>Next, create the index by using the datastore preference and section group preference that you created earlier:</p><pre class="oac_no_warn" dir="ltr">create index peopleidx on people(firstname) indextype is ctxsys.context
parameters('section group namegroup datastore nameds');
</pre><p><code class="codeph">NDATA</code> sections support both single- and multibyte data with character- and term-based limitations. <code class="codeph">NDATA</code> section data that is indexed is constrained as follows:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The number of characters in a single, whitespace-delimited term: 511</p>
                           </li>
                           <li>
                              <p>The number of whitespace-delimited terms: 255</p>
                           </li>
                           <li>
                              <p>The total number of characters, including whitespaces: 511</p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="CCAPP9472"></a><div class="props_rev_3"><a id="GUID-F71A270E-4AFB-4B2C-B374-538566E5C403" name="GUID-F71A270E-4AFB-4B2C-B374-538566E5C403"></a><h5 id="CCAPP-GUID-F71A270E-4AFB-4B2C-B374-538566E5C403" class="sect5"><span class="enumeration_section">11.1.2.6 </span>SDATA Section
                     </h5>
                     <div>
                        <p>The <a id="d28756e2510" class="indexterm-anchor"></a><a id="d28756e2512" class="indexterm-anchor"></a><a id="d28756e2514" class="indexterm-anchor"></a><a id="d28756e2518" class="indexterm-anchor"></a><a id="d28756e2522" class="indexterm-anchor"></a><a id="d28756e2526" class="indexterm-anchor"></a><a id="d28756e2528" class="indexterm-anchor"></a><a id="d28756e2532" class="indexterm-anchor"></a><a id="d28756e2536" class="indexterm-anchor"></a><a id="d28756e2540" class="indexterm-anchor"></a>value of an <code class="codeph">SDATA</code> section is extracted from the document text like other sections, but it is indexed as structured data, also referred to as <code class="codeph">SDATA.</code> <code class="codeph">SDATA</code> sections support operations such as projection, range searches, and ordering. <code class="codeph">SDATA</code> sections  also enable <code class="codeph">SDATA</code> indexing of section data (such as embedded tags) and detail table or function invocations. You can perform various combinations of text and structured searches in one single SQL statement.
                        </p>
                        <p>Use <code class="codeph">SDATA</code> operators only as descendants of <code class="codeph">AND</code> operators that also have non-<code class="codeph">SDATA</code> children. <code class="codeph">SDATA</code> operators are meant to be used as secondary (checking or non-driving) criteria. For example, "find documents with DOG that also have price &gt; 5", rather than "find documents with rating &gt; 4". 
                        </p>
                        <p>Use <code class="codeph">CTX_DDL.ADD_SDATA_SECTION</code> to add an <code class="codeph">SDATA</code> section to a section group. Use <code class="codeph">CTX_DDL.UPDATE_SDATA</code> to update the values of an existing <code class="codeph">SDATA</code> section. When querying within an <code class="codeph">SDATA</code> section, you must use the <code class="codeph">CONTAINS</code> operator. The following example creates a table called <code class="codeph">items,</code> adds an <code class="codeph">SDATA</code> section called <code class="codeph">my_sec_group,</code> and then queries <code class="codeph">SDATA</code> in the section.
                        </p>
                        <p>After you create an <code class="codeph">SDATA</code> section, you can further modify the attributes of the <code class="codeph">SDATA</code> section by using <code class="codeph">CTX_DDL.SET_SECTION_ATTRIBUTE</code>.
                        </p>
                        <p>Create the <code class="codeph">items</code> table:
                        </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE items 
(id  NUMBER PRIMARY KEY, 
 doc VARCHAR2(4000));
 
INSERT INTO items VALUES (1, '&lt;description&gt; Honda Pilot &lt;/description&gt;
                              &lt;category&gt; Cars &amp; Trucks &lt;/category&gt;
                              &lt;price&gt; 27000 &lt;/price&gt;');
INSERT INTO items VALUES (2, '&lt;description&gt; Toyota Sequoia &lt;/description&gt;
                              &lt;category&gt; Cars &amp; Trucks &lt;/category&gt;
                              &lt;price&gt; 35000 &lt;/price&gt;');
INSERT INTO items VALUES (3, '&lt;description&gt; Toyota Land Cruiser &lt;/description&gt;
                              &lt;category&gt; Cars &amp; Trucks &lt;/category&gt;
                              &lt;price&gt; 45000 &lt;/price&gt;');
INSERT INTO items VALUES (4, '&lt;description&gt; Palm Pilot &lt;/description&gt;
                              &lt;category&gt; Electronics &lt;/category&gt;
                              &lt;price&gt; 5 &lt;/price&gt;');
INSERT INTO items VALUES (5, '&lt;description&gt; Toyota Land Cruiser Grill &lt;/description&gt;
                              &lt;category&gt; Parts &amp; Accessories &lt;/category&gt;
                              &lt;price&gt; 100 &lt;/price&gt;');
COMMIT;
</pre><p>Add the <code class="codeph">my_sec_group</code> <code class="codeph">SDATA</code> section:
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN
  CTX_DDL.CREATE_SECTION_GROUP('my_sec_group', 'BASIC_SECTION_GROUP');
  CTX_DDL.ADD_SDATA_SECTION('my_sec_group', 'category', 'category', 'VARCHAR2');
  CTX_DDL.ADD_SDATA_SECTION('my_sec_group', 'price', 'price', 'NUMBER');
END;
 </pre><p>Create the <code class="codeph">CONTEXT</code> index:
                        </p><pre class="oac_no_warn" dir="ltr">CREATE INDEX items$doc 
  ON items(doc) 
  INDEXTYPE IS CTXSYS.CONTEXT
  PARAMETERS('SECTION GROUP my_sec_group');
 </pre><p>Run a query:</p><pre class="oac_no_warn" dir="ltr">SELECT id, doc
  FROM items
  WHERE contains(doc, 'Toyota 
                       AND SDATA(category = ''Cars &amp; Trucks'') 
                       AND SDATA(price &lt;= 40000 )') &gt; 0;
</pre><p>Return the results:</p><pre class="oac_no_warn" dir="ltr">  ID DOC
---- ----------------------------------------------------------------------
   2 &lt;description&gt; Toyota Sequoia &lt;/description&gt;
                                   &lt;category&gt; Cars &amp; Trucks &lt;/category&gt;
                                   &lt;price&gt; 35000 &lt;/price&gt;</pre><p>Consider a document whose rowid is 1. This example updates the value of the <code class="codeph">price</code> <code class="codeph">SDATA</code> section to a new value of 30000:
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN
    SELECT ROWID INTO rowid_to_update FROM items WHERE id=1;

    CTX_DDL.UPDATE_SDATA('items$doc', 
                         'price',
                         SYS.ANYDATA.CONVERTVARCHAR2('30000'),
                         rowid_to_update);
END;</pre><p>After executing the query, the price of <code class="codeph">Honda Pilot</code> is changed from 27000 to 30000.
                        </p>
                        <div class="infoboxnote" id="GUID-F71A270E-4AFB-4B2C-B374-538566E5C403__GUID-5B810B7C-79CC-4234-94C1-5B8EC2747E83">
                           <p class="notep1">Note:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>You can also add an <code class="codeph">SDATA</code> section to an existing index. Use the <code class="codeph">ADD SDATA SECTION</code> parameter of the <code class="codeph">ALTER INDEX PARAMETERS</code> statement. See the "ALTER INDEX" section of the <a href="../ccref/oracle-text-SQL-statements-and-operators.html#CCREF-GUID-47E60252-C731-46A8-B587-AE30C1634F48" target="_blank"><span class="italic">Oracle Text Reference</span></a> for more information.
                                 </p>
                              </li>
                              <li>
                                 <p>Documents that were indexed before adding an <code class="codeph">SDATA</code> section do not reflect this new preference. Rebuild the index in this case.
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <div class="infoboxnotealso" id="GUID-F71A270E-4AFB-4B2C-B374-538566E5C403__GUID-BAC8590F-7D24-4D69-BBF7-AAF83041C8D9">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The "<code class="codeph">CONTAINS</code>" query section of the <a href="../ccref/oracle-text-CONTAINS-query-operators.html#CCREF0300" target="_blank"><span class="italic">Oracle Text Reference</span></a> for information on the <code class="codeph">SDATA</code> operator
                                 </p>
                              </li>
                              <li>
                                 <p>The "<code class="codeph">CTX_DDL</code>" package section of the <a href="../ccref/CTX_DDL-package.html#CCREF0600" target="_blank"><span class="italic">Oracle Text Reference</span></a> for information on adding and updating the <code class="codeph">SDATA</code> sections and changing their attributes by using the <code class="codeph">ADD_SDATA_SECTION</code>,  <code class="codeph">SET_SECTION_ATTRIBUTE</code>, and the <code class="codeph">UPDATE_SDATA</code> procedures
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <p><span class="bold">Storage</span></p>
                        <p>For <code class="codeph">optimized_for</code> search <code class="codeph">SDATA</code> sections, use <code class="codeph">CTX_DDL.SET_ATTRIBUTE</code> to specify the storage preferences for the <code class="codeph">$S<span class="codeinlineitalic">datatype</span></code> tables and the indexes on these tables.
                        </p>
                        <p>By default, large object (LOB) caching is turned on for <code class="codeph">$S*</code> tables and off for <code class="codeph">$S*</code> indexes. These attributes are valid only on <code class="codeph">SDATA</code> sections.
                        </p>
                        <p><span class="bold">Query Operators</span></p>
                        <p><code class="codeph">optimized_for search SDATA</code> supports the following query operators:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>=</p>
                           </li>
                           <li>
                              <p>&lt;&gt;</p>
                           </li>
                           <li>
                              <p>between</p>
                           </li>
                           <li>
                              <p>not between</p>
                           </li>
                           <li>
                              <p>&lt;=</p>
                           </li>
                           <li>
                              <p>&lt;</p>
                           </li>
                           <li>
                              <p>&gt;=</p>
                           </li>
                           <li>
                              <p>&gt;</p>
                           </li>
                           <li>
                              <p>is null</p>
                           </li>
                           <li>
                              <p>is not null</p>
                           </li>
                           <li>
                              <p>like</p>
                           </li>
                           <li>
                              <p>not like</p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="CCAPP9303"></a><div class="props_rev_3"><a id="GUID-CD1BE817-6122-4EF7-A664-DEB7667C4B5F" name="GUID-CD1BE817-6122-4EF7-A664-DEB7667C4B5F"></a><h5 id="CCAPP-GUID-CD1BE817-6122-4EF7-A664-DEB7667C4B5F" class="sect5"><span class="enumeration_section">11.1.2.7 </span>Attribute Section
                     </h5>
                     <div>
                        <p>You can define attribute sections to query on XML attribute text. You can also have the system automatically define and index XML attributes for you.</p>
                        <div class="infoboxnotealso" id="GUID-CD1BE817-6122-4EF7-A664-DEB7667C4B5F__GUID-03D76EEE-3C07-4227-8170-09E200A3AA7D">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="searching-document-sections-in-oracle-text.html#GUID-8D535B14-B377-4766-A062-1DA912438E23">XML Section Searching with Oracle Text</a>"</span></p>
                        </div>
                     </div>
                  </div><a id="CCAPP9516"></a><a id="CCAPP9304"></a><div class="props_rev_3"><a id="GUID-2F7732AB-2AE4-496F-BC0A-37FAF21FC043" name="GUID-2F7732AB-2AE4-496F-BC0A-37FAF21FC043"></a><h5 id="CCAPP-GUID-2F7732AB-2AE4-496F-BC0A-37FAF21FC043" class="sect5"><span class="enumeration_section">11.1.2.8 </span>Special Sections
                     </h5>
                     <div>
                        <p>Special sections are not recognized by tags. Currently, sentence and paragraph are the only supported special sections, and they enable you to search for a combination of words within sentences or paragraphs.</p>
                        <p>The sentence and paragraph boundaries are determined by the lexer. For example, <code class="codeph">BASIC_LEXER</code> recognizes sentence and paragraph section boundaries as follows:
                        </p>
                        <div class="tblformal" id="GUID-2F7732AB-2AE4-496F-BC0A-37FAF21FC043__GUID-C2295E0F-20F6-4E54-9C17-994C8979D217">
                           <p class="titleintable">Table 11-3 Sentence and Paragraph Section Boundaries for BASIC_LEXER</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Sentence and Paragraph Section Boundaries for BASIC_LEXER" summary="This table shows sentence and paragraph section boundaries for BASIC_LEXER." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d28756e2974">Special Section</th>
                                    <th align="left" valign="bottom" width="69%" id="d28756e2977">Boundary</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d28756e2982" headers="d28756e2974 ">
                                       <p>SENTENCE</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d28756e2982 d28756e2977 ">
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p>WORD/PUNCT/WHITESPACE</p>
                                          </li>
                                          <li>
                                             <p>WORD/PUNCT/NEWLINE</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d28756e2994" headers="d28756e2974 ">
                                       <p>PARAGRAPH</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d28756e2994 d28756e2977 ">
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p>WORD/PUNCT/NEWLINE/WHITESPACE</p>
                                          </li>
                                          <li>
                                             <p>WORD/PUNCT/NEWLINE/NEWLINE</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>If the lexer cannot recognize the boundaries, then no sentence or paragraph sections are indexed.</p>
                        <p>To add a special section, use the <code class="codeph">CTX_DDL</code>.<code class="codeph">ADD_SPECIAL_SECTION</code> procedure. For example, the following code enables searches within sentences in HTML documents:
                        </p><pre class="oac_no_warn" dir="ltr">begin
ctx_ddl.create_section_group('htmgroup', 'HTML_SECTION_GROUP');
ctx_ddl.add_special_section('htmgroup', 'SENTENCE');
end;
</pre><p>To enable zone and sentence searches, add zone sections to the group. The following example adds the <code class="codeph">Headline</code> zone section to the <code class="codeph">htmgroup</code> section group:
                        </p><pre class="oac_no_warn" dir="ltr">begin
ctx_ddl.create_section_group('htmgroup', 'HTML_SECTION_GROUP');
ctx_ddl.add_special_section('htmgroup', 'SENTENCE');
ctx_ddl.add_zone_section('htmgroup', 'Headline', 'H1');
end;</pre></div>
                  </div>
               </div><a id="CCAPP9557"></a><a id="CCAPP9556"></a><div class="props_rev_3"><a id="GUID-4C591F14-29A8-47CF-AD3B-AD84F919F3A7" name="GUID-4C591F14-29A8-47CF-AD3B-AD84F919F3A7"></a><h4 id="CCAPP-GUID-4C591F14-29A8-47CF-AD3B-AD84F919F3A7" class="sect4"><span class="enumeration_section">11.1.3 </span>Oracle Text Section Attributes
                  </h4>
                  <div>
                     <p>Section attributes are the settings for the Oracle Text sections of tokenized type, such as field, zone, hybrid, and <code class="codeph">SDATA.</code> Section attributes improve query performance because of the finer control at the section level, rather than at the document level or index level.
                     </p>
                     <p>By using the section attributes, you can specify:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Lexer preferences on certain sections of a document. The preferences are useful for part-name searches, when a section of a document containing a part name needs to be lexed differently than the rest of the document. You can also use the lexer preferences for handling multilanguage documents, where there is a section to language mapping.</p>
                        </li>
                        <li>
                           <p>A substring index only on certain sections of a document. This index helps reduce the index size.</p>
                        </li>
                        <li>
                           <p>Prefix tokens only on certain sections of a document. The prefix tokens improve the performance of right-truncated queries, but can also cause the index size to grow rapidly. Specifying prefix indexing only on certain sections provides improved performance for the right-truncated queries on the specific sections, without rapidly growing the size of the index.</p>
                        </li>
                        <li>
                           <p>Stoplists for certain sections of a document.</p>
                        </li>
                        <li>
                           <p>A new section type that combines the flexibility of zone sections with the performance of field sections. Currently, zone sections have poor performance compared with field sections. However, field sections do not support nested section search.</p>
                        </li>
                     </ul>
                     <p>To set section attributes, use the <code class="codeph">CTX_DDL.SET_SECTION_ATTRIBUTE</code> procedure.
                     </p>
                     <p><a href="searching-document-sections-in-oracle-text.html#GUID-4C591F14-29A8-47CF-AD3B-AD84F919F3A7__CACBGCHA" title="This table shows the various types of section types you can use.">Table 11-4</a><a id="d28756e3124" class="indexterm-anchor"></a><a id="d28756e3128" class="indexterm-anchor"></a><a id="d28756e3132" class="indexterm-anchor"></a> lists the section attributes that you can use:
                     </p>
                     <div class="tblformal" id="GUID-4C591F14-29A8-47CF-AD3B-AD84F919F3A7__CACBGCHA">
                        <p class="titleintable">Table 11-4 Section Attributes</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Section Attributes" summary="This table shows the various types of section types you can use." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="36%" id="d28756e3147">Section Attribute</th>
                                 <th align="left" valign="bottom" width="64%" id="d28756e3150">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d28756e3155" headers="d28756e3147 ">
                                    <p><code class="codeph">visible</code></p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d28756e3155 d28756e3150 ">
                                    <p>Use the <code class="codeph">visible</code> attribute for all section types that are tokenized, except the zone section type. Thus, the <code class="codeph">visible</code> attribute can be used for field, hybrid, and <code class="codeph">SDATA</code> section types.
                                    </p>
                                    <p>Specify <code class="codeph">TRUE</code> to make the text visible within a document. The text in the field section is indexed as part of the enclosing document.
                                    </p>
                                    <p>The default is <code class="codeph">FALSE</code>. The text in the field section is indexed separately from the rest of the document.
                                    </p>
                                    <p>For the Field section type, the visible attribute overrides the value specified in the <code class="codeph">CTX_DDL.ADD_FIELD_SECTION</code> procedure.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d28756e3187" headers="d28756e3147 ">
                                    <p><code class="codeph">lexer</code></p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d28756e3187 d28756e3150 ">
                                    <p>Use the <code class="codeph">lexer</code> attribute for all section types that are tokenized (field, zone, hybrid, and <code class="codeph">SDATA</code> sections).
                                    </p>
                                    <p>Specify the lexer preference name to decide the tokenization of an SDATA section. The default is <code class="codeph">NULL,</code> and the lexer for the main document is used.
                                    </p>
                                    <p>The lexer preference must be valid at the time of calling the <code class="codeph">set_section_attribute</code> procedure. If you try to drop one of the preferences when an existing field section refers to a lexer preference, then the <code class="codeph">drop_preference</code> procedure fails.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d28756e3214" headers="d28756e3147 ">
                                    <p><code class="codeph">wordlist</code></p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d28756e3214 d28756e3150 ">
                                    <p>Use the <code class="codeph">wordlist</code> attribute for all section types that are tokenized (field, zone, hybrid, and <code class="codeph">SDATA</code> sections).
                                    </p>
                                    <p>To enable section-specific prefix indexing and substring indexing, specify the wordlist preference name for a section. The default is <code class="codeph">NULL,</code> and the wordlist for the main document is used.
                                    </p>
                                    <p>The wordlist preference must be valid at the time of calling the <code class="codeph">set_section_attribute</code> procedure. If you try to drop one of the preferences when an existing field section refers to a wordlist preference, then the <code class="codeph">drop_preference</code> procedure fails.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="36%" id="d28756e3241" headers="d28756e3147 ">
                                    <p><code class="codeph">stoplist</code></p>
                                 </td>
                                 <td align="left" valign="top" width="64%" headers="d28756e3241 d28756e3150 ">
                                    <p>Use the <code class="codeph">stoplist</code> attribute for all section types that are tokenized (field, zone, hybrid, and <code class="codeph">SDATA</code> sections).
                                    </p>
                                    <p>To enable a section-specific stoplist, specify the stoplist preference name. The default is <code class="codeph">NULL,</code> and the stoplist for the main document is used.
                                    </p>
                                    <p>The stoplist preference must be valid at the time of calling the <code class="codeph">set_section_attribute</code> procedure. If you try to drop one of the preferences when an existing field section refers to a stoplist preference, then the <code class="codeph">drop_preference</code> procedure fails.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>The following example enables the <code class="codeph">visible</code> attribute of a Field section:
                     </p><pre class="oac_no_warn" dir="ltr">begin
ctx_ddl.create_section_group(‘fieldgroup', ‘BASIC_SECTION_GROUP');
ctx_ddl.add_field_section(‘fieldgroup', ‘author', ‘AUTHOR');
ctx_ddl.set_section_attribute(‘fieldgroup', ‘author', ‘visible', ‘true');
end;</pre><div class="infoboxnotealso" id="GUID-4C591F14-29A8-47CF-AD3B-AD84F919F3A7__GUID-D0818B4A-338D-4978-B048-1A576D45DF3F">
                        <p class="notep1">See Also:</p>
                        <p><a href="../ccref/oracle-text-CONTAINS-query-operators.html#CCREF0300" target="_blank"><span class="italic">Oracle Text Reference</span></a> for the syntax of <code class="codeph">CTX_DDL.SET_SECTION_ATTRIBUTE</code> procedure.
                        </p>
                     </div>
                  </div>
               </div>
            </div><a id="CCAPP9305"></a><div class="props_rev_3"><a id="GUID-2F7B1652-42FB-4A0A-A37F-652DDCB82182" name="GUID-2F7B1652-42FB-4A0A-A37F-652DDCB82182"></a><h3 id="CCAPP-GUID-2F7B1652-42FB-4A0A-A37F-652DDCB82182" class="sect3"><span class="enumeration_section">11.2 </span>HTML Section Searching with Oracle Text
               </h3>
               <div>
                  <p>HTML has internal structure in the form of tagged text that you can use for section searching. For example, define a section called <code class="codeph">headings</code> for the <code class="codeph">&lt;H1&gt;</code> tag, and then search for terms only within these tags across your document set. 
                  </p>
                  <p>To query, you use the <code class="codeph">WITHIN</code> operator. Oracle Text returns all documents that contain your query term within the <code class="codeph">headings</code> section. For example, if you want to find all documents that contain the word <code class="codeph">oracle</code> within <code class="codeph">headings,</code> enter the following query:
                  </p><pre class="oac_no_warn" dir="ltr">'oracle within headings'
</pre><p>This section contains these topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="searching-document-sections-in-oracle-text.html#GUID-407F6C32-D2C7-45A7-8B36-A6C8DBB2C6BC">Creating HTML Sections</a></p>
                     </li>
                     <li>
                        <p><a href="searching-document-sections-in-oracle-text.html#GUID-8BF45F86-6AFD-4BA2-A1DB-7F08D39A7E75">Searching HTML Meta Tags</a></p>
                     </li>
                  </ul>
               </div><a id="CCAPP9306"></a><div class="props_rev_3"><a id="GUID-407F6C32-D2C7-45A7-8B36-A6C8DBB2C6BC" name="GUID-407F6C32-D2C7-45A7-8B36-A6C8DBB2C6BC"></a><h4 id="CCAPP-GUID-407F6C32-D2C7-45A7-8B36-A6C8DBB2C6BC" class="sect4"><span class="enumeration_section">11.2.1 </span>Creating HTML Sections
                  </h4>
                  <div>
                     <p>The following code defines a section group called <code class="codeph">htmgroup</code> of type <code class="codeph">HTML_SECTION_GROUP.</code> It then creates a zone section in <code class="codeph">htmgroup</code> called <code class="codeph">heading</code> identified by the <code class="codeph">&lt;H1&gt;</code> tag:
                     </p><pre class="oac_no_warn" dir="ltr">begin
ctx_ddl.create_section_group('htmgroup', 'HTML_SECTION_GROUP');
ctx_ddl.add_zone_section('htmgroup', 'heading', 'H1');
end;
</pre><p>You can then index your documents as follows:</p><pre class="oac_no_warn" dir="ltr">create index myindex on docs(htmlfile) indextype is ctxsys.context
parameters('filter ctxsys.null_filter section group htmgroup');
</pre><p>After indexing with the <code class="codeph">htmgroup</code> section group, you can query within the <code class="codeph">heading</code> section by issuing this query:
                     </p><pre class="oac_no_warn" dir="ltr">'Oracle WITHIN heading'</pre></div>
               </div><a id="CCAPP9691"></a><a id="CCAPP9307"></a><div class="props_rev_3"><a id="GUID-8BF45F86-6AFD-4BA2-A1DB-7F08D39A7E75" name="GUID-8BF45F86-6AFD-4BA2-A1DB-7F08D39A7E75"></a><h4 id="CCAPP-GUID-8BF45F86-6AFD-4BA2-A1DB-7F08D39A7E75" class="sect4"><span class="enumeration_section">11.2.2 </span>Searching HTML Meta Tags
                  </h4>
                  <div>
                     <p>With HTML documents, you can also create sections for <code class="codeph">NAME/CONTENT</code> pairs in <code class="codeph">&lt;META&gt;</code> tags. When you do so, you can limit your searches to text within <code class="codeph">CONTENT.</code></p>
                     <div class="section">
                        <p>Consider an HTML document that has the following <code class="codeph">META</code> tag:
                        </p><pre class="oac_no_warn" dir="ltr">&lt;META NAME="author" CONTENT="ken"&gt;
</pre><p>Create a zone section that indexes all <code class="codeph">CONTENT</code> attributes for the <code class="codeph">META</code> tag whose <code class="codeph">NAME</code> value is author:
                        </p><pre class="oac_no_warn" dir="ltr">begin
ctx_ddl.create_section_group('htmgroup', 'HTML_SECTION_GROUP');
ctx_ddl.add_zone_section('htmgroup', 'author', 'meta@author');
end
</pre><p>After indexing with the <code class="codeph">htmgroup</code>  section group, you can query the document:
                        </p><pre class="oac_no_warn" dir="ltr">'ken WITHIN author'</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="CCAPP9309"></a><div class="props_rev_3"><a id="GUID-8D535B14-B377-4766-A062-1DA912438E23" name="GUID-8D535B14-B377-4766-A062-1DA912438E23"></a><h3 id="CCAPP-GUID-8D535B14-B377-4766-A062-1DA912438E23" class="sect3"><span class="enumeration_section">11.3 </span>XML Section Searching with Oracle Text
               </h3>
               <div>
                  <p>Like HTML documents, XML documents have tagged text that you can use to define blocks of text for section searching. You can search the contents of a section with the <code class="codeph">WITHIN</code> or <code class="codeph">INPATH</code> operators. 
                  </p>
                  <p>The following sections describe the different types of XML searching:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="searching-document-sections-in-oracle-text.html#GUID-46DC9D00-19DC-4B39-8D84-5D5E05288833">Automatic Sectioning</a></p>
                     </li>
                     <li>
                        <p><a href="searching-document-sections-in-oracle-text.html#GUID-91B86C14-8744-4958-99C4-E65337AB0797">Attribute Searching</a></p>
                     </li>
                     <li>
                        <p><a href="searching-document-sections-in-oracle-text.html#GUID-DA44A63B-459D-43E4-B454-871ED8BD36D7">Document Type Sensitive Sections</a></p>
                     </li>
                     <li>
                        <p><a href="searching-document-sections-in-oracle-text.html#GUID-B06BB08F-831F-4FBB-A586-32487D45F132">Path Section Searching</a></p>
                     </li>
                  </ul>
               </div><a id="CCAPP9310"></a><div class="props_rev_3"><a id="GUID-46DC9D00-19DC-4B39-8D84-5D5E05288833" name="GUID-46DC9D00-19DC-4B39-8D84-5D5E05288833"></a><h4 id="CCAPP-GUID-46DC9D00-19DC-4B39-8D84-5D5E05288833" class="sect4"><span class="enumeration_section">11.3.1 </span>Automatic Sectioning
                  </h4>
                  <div>
                     <p>To set up your indexing operation to automatically create sections from XML documents, use the <code class="codeph">AUTO_SECTION_GROUP</code> section group. The system creates zone sections for XML tags. Attribute sections are created for the tags that have attributes and for the sections named in the form <code class="codeph">tag@attribute.</code></p>
                     <p>For example, the following statement uses the <code class="codeph">AUTO_SECTION_GROUP</code> to create the <span class="italic">myindex</span> index on a column containing the XML files:
                     </p><pre class="oac_no_warn" dir="ltr">CREATE INDEX myindex
ON xmldocs(xmlfile)
 INDEXTYPE IS ctxsys.context
PARAMETERS ('datastore ctxsys.default_datastore 
             filter ctxsys.null_filter 
             section group ctxsys.auto_section_group'
           );</pre></div>
               </div><a id="CCAPP9311"></a><div class="props_rev_3"><a id="GUID-91B86C14-8744-4958-99C4-E65337AB0797" name="GUID-91B86C14-8744-4958-99C4-E65337AB0797"></a><h4 id="CCAPP-GUID-91B86C14-8744-4958-99C4-E65337AB0797" class="sect4"><span class="enumeration_section">11.3.2 </span>Attribute Searching
                  </h4>
                  <div>
                     <p>You can search XML attribute text in one of two ways: </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="bold">Creating Attribute Sections</span></p>
                           <p>Create attribute sections with <code class="codeph">CTX_DDL</code>.<code class="codeph">ADD_ATTR_SECTION</code> and then index with <code class="codeph">XML_SECTION_GROUP.</code> If you use <code class="codeph">AUTO_SECTION_GROUP</code> when you index, attribute sections are created automatically. You can query attribute sections with the <code class="codeph">WITHIN</code> operator. 
                           </p>
                           <p>Consider an XML file that defines the <code class="codeph">BOOK</code> tag with a <code class="codeph">TITLE</code> attribute:
                           </p><pre class="oac_no_warn" dir="ltr">&lt;BOOK TITLE="Tale of Two Cities"&gt; 
  It was the best of times. 
&lt;/BOOK&gt; 
</pre><p>To define the title attribute as an attribute section, create an <code class="codeph">XML_SECTION_GROUP</code> and define the attribute section:
                           </p><pre class="oac_no_warn" dir="ltr">begin
ctx_ddl.create_section_group('myxmlgroup', 'XML_SECTION_GROUP');
ctx_ddl.add_attr_section('myxmlgroup', 'booktitle', 'book@title');
end;
</pre><p>To index:</p><pre class="oac_no_warn" dir="ltr">CREATE INDEX myindex
ON xmldocs(xmlfile)
INDEXTYPE IS ctxsys.context
PARAMETERS ('datastore ctxsys.default_datastore 
             filter ctxsys.null_filter 
             section group myxmlgroup'
           );
</pre><p>To query the <span class="italic">booktitle</span> XML attribute section:
                           </p><pre class="oac_no_warn" dir="ltr">'Cities within booktitle'</pre></li>
                        <li>
                           <p><span class="bold">Searching Attributes with the INPATH Operator</span></p>
                           <p>Index with the <code class="codeph">PATH_SECTION_GROUP</code> and query attribute text with the <code class="codeph">INPATH</code> operator.
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-91B86C14-8744-4958-99C4-E65337AB0797__GUID-CB165855-F347-48D1-B6A0-48C5CD2C349F">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="searching-document-sections-in-oracle-text.html#GUID-B06BB08F-831F-4FBB-A586-32487D45F132">Path Section Searching</a>"</span></p>
                     </div>
                  </div>
               </div><a id="CCAPP9314"></a><div class="props_rev_3"><a id="GUID-DA44A63B-459D-43E4-B454-871ED8BD36D7" name="GUID-DA44A63B-459D-43E4-B454-871ED8BD36D7"></a><h4 id="CCAPP-GUID-DA44A63B-459D-43E4-B454-871ED8BD36D7" class="sect4"><span class="enumeration_section">11.3.3 </span>Document Type Sensitive Sections
                  </h4>
                  <div>
                     <p>For an XML document set that contains the <code class="codeph">&lt;book&gt;</code> tag declared for different document types, you may want to create a distinct book section for each document type to improve search capability. The following scenario shows you how to create book sections for each document type.
                     </p>
                     <p>Assume that <code class="codeph">mydocname1</code> is declared as an XML document type (root element):
                     </p><pre class="oac_no_warn" dir="ltr">&lt;!DOCTYPE mydocname1 ... [...
</pre><p>Within <code class="codeph">mydocname1,</code>, the <code class="codeph">&lt;book&gt;</code> element is declared. For this tag, you can create a section named <code class="codeph">mybooksec1</code> that is sensitive to the tag's document type:
                     </p><pre class="oac_no_warn" dir="ltr">begin</pre><pre class="oac_no_warn" dir="ltr">ctx_ddl.create_section_group('myxmlgroup', 'XML_SECTION_GROUP');
ctx_ddl.add_zone_section('myxmlgroup', 'mybooksec1', 'mydocname1(book)');</pre><pre class="oac_no_warn" dir="ltr">end;
</pre><p>Assume that <code class="codeph">mydocname2</code> is declared as another XML document type (root element):
                     </p><pre class="oac_no_warn" dir="ltr">&lt;!DOCTYPE mydocname2 ... [...
</pre><p>Within <code class="codeph">mydocname2,</code>, the <code class="codeph">&lt;book&gt;</code> element is declared. For this tag, you can create a section named <code class="codeph">mybooksec2</code> that is sensitive to the tag's document type:
                     </p><pre class="oac_no_warn" dir="ltr">begin</pre><pre class="oac_no_warn" dir="ltr">ctx_ddl.create_section_group('myxmlgroup', 'XML_SECTION_GROUP');
ctx_ddl.add_zone_section('myxmlgroup', 'mybooksec2', 'mydocname2(book)');</pre><pre class="oac_no_warn" dir="ltr">end;
</pre><p>To query within the <code class="codeph">mybooksec1</code> section, use <code class="codeph">WITHIN</code>:
                     </p><pre class="oac_no_warn" dir="ltr">'oracle within mybooksec1'</pre></div>
               </div><a id="CCAPP9315"></a><div class="props_rev_3"><a id="GUID-B06BB08F-831F-4FBB-A586-32487D45F132" name="GUID-B06BB08F-831F-4FBB-A586-32487D45F132"></a><h4 id="CCAPP-GUID-B06BB08F-831F-4FBB-A586-32487D45F132" class="sect4"><span class="enumeration_section">11.3.4 </span>Path Section Searching
                  </h4>
                  <div>
                     <p>XML documents can have parent-child tag structures such as:</p><pre class="oac_no_warn" dir="ltr">&lt;A&gt; &lt;B&gt; &lt;C&gt; dog &lt;/C&gt; &lt;/B&gt; &lt;/A&gt;
</pre><p>In this scenario, tag C is a child of tag B, which is a child of tag A.</p>
                     <p>With Oracle Text, you can search paths with <code class="codeph">PATH_SECTION_GROUP.</code> This section group enables you to specify direct parentage in queries, such as to find all documents that contain the term <span class="italic">dog</span> in element C, which is a child of element B, and so on.
                     </p>
                     <p>With <code class="codeph">PATH_SECTION_GROUP,</code> you can also perform attribute value searching and attribute equality testing.
                     </p>
                     <p>The new operators associated with this feature are </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">INPATH</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">HASPATH</code></p>
                        </li>
                     </ul>
                     <p>This section contains the following topics.</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-7C14AE2D-64AA-4459-8D62-2EAF5DBCF921">Creating an Index with PATH_SECTION_GROUP</a></p>
                        </li>
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-AC618E08-E422-4401-B654-2682DB8F4B1C">Top-Level Tag Searching</a></p>
                        </li>
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-71A48905-34EB-4392-A74E-E50CD66F4555">Any-Level Tag Searching</a></p>
                        </li>
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-B03DCEF8-1885-49CE-B4A2-8A742CE6C92A">Direct Parentage Searching</a></p>
                        </li>
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-2EA144DC-21AF-4CC0-A7BE-43A75566AB9E">Tag Value Testing</a></p>
                        </li>
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-4794BF0E-9681-45DC-B674-98969DD09C94">Attribute Searching</a></p>
                        </li>
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-D3AB31A4-C7BD-4575-A9B9-1A91C49DD7C5">Attribute Value Testing</a></p>
                        </li>
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-6AC290D3-4FDB-43F7-ABA3-040EE4191D53">Path Testing</a></p>
                        </li>
                        <li>
                           <p><a href="searching-document-sections-in-oracle-text.html#GUID-BAAF07B7-CD52-4082-BF6E-BCC05AF32146">Section Equality Testing with HASPATH</a></p>
                        </li>
                     </ul>
                  </div><a id="CCAPP9316"></a><div class="props_rev_3"><a id="GUID-7C14AE2D-64AA-4459-8D62-2EAF5DBCF921" name="GUID-7C14AE2D-64AA-4459-8D62-2EAF5DBCF921"></a><h5 id="CCAPP-GUID-7C14AE2D-64AA-4459-8D62-2EAF5DBCF921" class="sect5"><span class="enumeration_section">11.3.4.1 </span>Creating an Index with PATH_SECTION_GROUP
                     </h5>
                     <div>
                        <p>To enable path section searching, index your XML document set with <code class="codeph">PATH_SECTION_GROUP.</code> For example:
                        </p>
                        <p>Create the preference.</p><pre class="oac_no_warn" dir="ltr">begin
ctx_ddl.create_section_group('xmlpathgroup', 'PATH_SECTION_GROUP');
end;
</pre><p>Create the index.</p><pre class="oac_no_warn" dir="ltr">CREATE INDEX myindex
ON xmldocs(xmlfile)
INDEXTYPE IS ctxsys.context
PARAMETERS ('datastore ctxsys.default_datastore 
             filter ctxsys.null_filter 
             section group xmlpathgroup'
           );</pre><pre class="oac_no_warn" dir="ltr"></pre><p>When you create the index, you can use the <code class="codeph">INPATH</code> and <code class="codeph">HASPATH</code> operators.
                        </p>
                     </div>
                  </div><a id="CCAPP9317"></a><div class="props_rev_3"><a id="GUID-AC618E08-E422-4401-B654-2682DB8F4B1C" name="GUID-AC618E08-E422-4401-B654-2682DB8F4B1C"></a><h5 id="CCAPP-GUID-AC618E08-E422-4401-B654-2682DB8F4B1C" class="sect5"><span class="enumeration_section">11.3.4.2 </span>Top-Level Tag Searching
                     </h5>
                     <div>
                        <p>To find all documents that contain the term <span class="italic">dog</span> in the top-level tag <code class="codeph">&lt;A&gt;:</code></p><pre class="oac_no_warn" dir="ltr">dog INPATH (/A)
</pre><p>or</p><pre class="oac_no_warn" dir="ltr">dog INPATH(A)</pre></div>
                  </div><a id="CCAPP9318"></a><div class="props_rev_3"><a id="GUID-71A48905-34EB-4392-A74E-E50CD66F4555" name="GUID-71A48905-34EB-4392-A74E-E50CD66F4555"></a><h5 id="CCAPP-GUID-71A48905-34EB-4392-A74E-E50CD66F4555" class="sect5"><span class="enumeration_section">11.3.4.3 </span>Any-Level Tag Searching
                     </h5>
                     <div>
                        <p>To find all documents that contain the term <span class="italic">dog</span> in the <code class="codeph">&lt;A&gt;</code> tag at any level:
                        </p><pre class="oac_no_warn" dir="ltr">dog INPATH(//A)
</pre><p>This query finds the following documents:</p><pre class="oac_no_warn" dir="ltr">&lt;A&gt;dog&lt;/A&gt;
</pre><p>and</p><pre class="oac_no_warn" dir="ltr">&lt;C&gt;&lt;B&gt;&lt;A&gt;dog&lt;/A&gt;&lt;/B&gt;&lt;/C&gt;</pre></div>
                  </div><a id="CCAPP9319"></a><div class="props_rev_3"><a id="GUID-B03DCEF8-1885-49CE-B4A2-8A742CE6C92A" name="GUID-B03DCEF8-1885-49CE-B4A2-8A742CE6C92A"></a><h5 id="CCAPP-GUID-B03DCEF8-1885-49CE-B4A2-8A742CE6C92A" class="sect5"><span class="enumeration_section">11.3.4.4 </span>Direct Parentage Searching
                     </h5>
                     <div>
                        <p>To find all documents that contain the term <span class="italic">dog</span> in a B element that is a direct child of a top-level A element:
                        </p><pre class="oac_no_warn" dir="ltr">dog INPATH(A/B)
</pre><p>This query finds the following XML document:</p><pre class="oac_no_warn" dir="ltr">&lt;A&gt;&lt;B&gt;My dog is friendly.&lt;/B&gt;&lt;/A&gt;
</pre><p>but it does not find:</p><pre class="oac_no_warn" dir="ltr">&lt;C&gt;&lt;B&gt;My dog is friendly.&lt;/B&gt;&lt;/C&gt;</pre></div>
                  </div><a id="CCAPP9320"></a><div class="props_rev_3"><a id="GUID-2EA144DC-21AF-4CC0-A7BE-43A75566AB9E" name="GUID-2EA144DC-21AF-4CC0-A7BE-43A75566AB9E"></a><h5 id="CCAPP-GUID-2EA144DC-21AF-4CC0-A7BE-43A75566AB9E" class="sect5"><span class="enumeration_section">11.3.4.5 </span>Tag Value Testing
                     </h5>
                     <div>
                        <p>You can test the value of tags. For example, the query:</p><pre class="oac_no_warn" dir="ltr">dog INPATH(A[B="dog"])
</pre><p>Finds the following document:</p><pre class="oac_no_warn" dir="ltr">&lt;A&gt;&lt;B&gt;dog&lt;/B&gt;&lt;/A&gt;
</pre><p>But does not find:</p><pre class="oac_no_warn" dir="ltr">&lt;A&gt;&lt;B&gt;My dog is friendly.&lt;/B&gt;&lt;/A&gt;</pre></div>
                  </div><a id="CCAPP9321"></a><div class="props_rev_3"><a id="GUID-4794BF0E-9681-45DC-B674-98969DD09C94" name="GUID-4794BF0E-9681-45DC-B674-98969DD09C94"></a><h5 id="CCAPP-GUID-4794BF0E-9681-45DC-B674-98969DD09C94" class="sect5"><span class="enumeration_section">11.3.4.6 </span>Attribute Searching
                     </h5>
                     <div>
                        <p>You can search the content of attributes. For example, the query:</p><pre class="oac_no_warn" dir="ltr">dog INPATH(//A/@B)
</pre><p>Finds the document:</p><pre class="oac_no_warn" dir="ltr">&lt;C&gt;&lt;A  B="snoop dog"&gt; &lt;/A&gt; &lt;/C&gt;</pre></div>
                  </div><a id="CCAPP9322"></a><div class="props_rev_3"><a id="GUID-D3AB31A4-C7BD-4575-A9B9-1A91C49DD7C5" name="GUID-D3AB31A4-C7BD-4575-A9B9-1A91C49DD7C5"></a><h5 id="CCAPP-GUID-D3AB31A4-C7BD-4575-A9B9-1A91C49DD7C5" class="sect5"><span class="enumeration_section">11.3.4.7 </span>Attribute Value Testing
                     </h5>
                     <div>
                        <p>You can test the value of attributes. For example, the query:</p><pre class="oac_no_warn" dir="ltr">California INPATH (//A[@B = "home address"])
</pre><p>Finds the document:</p><pre class="oac_no_warn" dir="ltr">&lt;A B="home address"&gt;San Francisco, California, USA&lt;/A&gt;
</pre><p>But it does not find:</p><pre class="oac_no_warn" dir="ltr">&lt;A B="work address"&gt;San Francisco, California, USA&lt;/A&gt;</pre></div>
                  </div><a id="CCAPP9323"></a><div class="props_rev_3"><a id="GUID-6AC290D3-4FDB-43F7-ABA3-040EE4191D53" name="GUID-6AC290D3-4FDB-43F7-ABA3-040EE4191D53"></a><h5 id="CCAPP-GUID-6AC290D3-4FDB-43F7-ABA3-040EE4191D53" class="sect5"><span class="enumeration_section">11.3.4.8 </span>Path Testing
                     </h5>
                     <div>
                        <p>You can test if a path exists with the <code class="codeph">HASPATH</code> operator. For example, the query:
                        </p><pre class="oac_no_warn" dir="ltr">HASPATH(A/B/C)
</pre><p>finds and returns a score of 100 for the document</p><pre class="oac_no_warn" dir="ltr">&lt;A&gt;&lt;B&gt;&lt;C&gt;dog&lt;/C&gt;&lt;/B&gt;&lt;/A&gt;
</pre><p>without the query having to reference <span class="italic">dog</span> at all.
                        </p>
                     </div>
                  </div><a id="CCAPP9324"></a><div class="props_rev_3"><a id="GUID-BAAF07B7-CD52-4082-BF6E-BCC05AF32146" name="GUID-BAAF07B7-CD52-4082-BF6E-BCC05AF32146"></a><h5 id="CCAPP-GUID-BAAF07B7-CD52-4082-BF6E-BCC05AF32146" class="sect5"><span class="enumeration_section">11.3.4.9 </span>Section Equality Testing with HASPATH 
                     </h5>
                     <div>
                        <p>You can use the <code class="codeph">HASPATH</code> operator for section quality tests. For example, consider the following query:
                        </p><pre class="oac_no_warn" dir="ltr">dog INPATH A
</pre><p>It finds:</p><pre class="oac_no_warn" dir="ltr">&lt;A&gt;dog&lt;/A&gt;
</pre><p>but it also finds:</p><pre class="oac_no_warn" dir="ltr">&lt;A&gt;dog park&lt;/A&gt;
</pre><p>To limit the query to the term <span class="italic">dog</span> and nothing else, you can use a section equality test with the <code class="codeph">HASPATH</code> operator. For example,
                        </p><pre class="oac_no_warn" dir="ltr">HASPATH(A="dog")
</pre><p>finds and returns a score of 100 only for the first document, not for the second document.</p>
                        <div class="infoboxnotealso" id="GUID-BAAF07B7-CD52-4082-BF6E-BCC05AF32146__GUID-3D5DCCDD-4A30-423F-95AB-DCF3AC79B048">
                           <p class="notep1">See Also:</p>
                           <p><a href="../ccref/oracle-text-CONTAINS-query-operators.html#CCREF0300" target="_blank"><span class="italic">Oracle Text Reference</span></a> to learn more about using the <code class="codeph">INPATH</code> and <code class="codeph">HASPATH</code> operators
                           </p>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='00232.using-DBFS.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Using DBFS</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database SecureFiles and Large Objects Developer's Guide">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database SecureFiles and Large Objects Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="securefiles-and-large-objects-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-12T02:58:18-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96333-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="creating-your-own-DBFS-store.html" title="Previous" type="text/html">
      <link rel="next" href="LOB-demonstration-files.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SecureFiles and Large Objects Developer's Guide">
    <meta name="dcterms.isVersionOf" content="ADLOB">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="creating-your-own-DBFS-store.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="LOB-demonstration-files.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database SecureFiles and Large Objects Developer's Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="database-file-system.html" property="item" typeof="WebPage"><span property="name">   Database File System (DBFS)</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">   Using DBFS</li>
            </ol>
            <a id="GUID-817DFDC2-7729-4CB6-BAE7-598E9B021DD8" name="GUID-817DFDC2-7729-4CB6-BAE7-598E9B021DD8"></a><a id="ADLOB0006"></a>
            
            <h2 id="ADLOB-GUID-817DFDC2-7729-4CB6-BAE7-598E9B021DD8" class="sect2"><span class="enumeration_chapter">25 </span>   Using DBFS
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The DBFS File System implementation includes creating and accessing the file system and managing it.</p>
               <p>Topics: </p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="using-DBFS.html#GUID-E0712718-FD3F-40DF-8B5A-EC689B1C65DA" title="DBFS is a part of the Oracle database installation and is installed under ORACLE_HOME.">DBFS Installation</a></p>
                  </li>
                  <li>
                     <p><a href="using-DBFS.html#GUID-A4B1B3D5-7080-47EF-86C4-67D6E8F0FC37" title="A DBFS File system can be partitioned or non-partitioned. It may require users to have certain privileges.">Creating a DBFS File System</a></p>
                  </li>
                  <li>
                     <p><a href="using-DBFS.html#GUID-B03D476F-934D-4AD8-B4D7-493B1C0D7513" title="You access a DBFS file system by means of prerequisites, access interfaces, the DBFS security model, and XML DB server protocols.">DBFS File System Access</a></p>
                  </li>
                  <li>
                     <p><a href="using-DBFS.html#GUID-8665C1E7-C96A-4B17-A8F7-1889858EEF18" title="The dbfs_client program can failover to one of the other existing database instances if one of the database instances in an Oracle RAC cluster fails.">DBFS Administration</a></p>
                  </li>
                  <li>
                     <p><a href="using-DBFS.html#GUID-68FE78C8-798C-40DB-8566-F09EB27F4CC9" title="DBFS Online Filesystem Reorganization is a powerful data movement facility with these certain advantages.">Shrinking and Reorganizing DBFS Filesystems</a></p>
                  </li>
               </ul>
            </div><a id="ADLOB45994"></a><div class="props_rev_3"><a id="GUID-E0712718-FD3F-40DF-8B5A-EC689B1C65DA" name="GUID-E0712718-FD3F-40DF-8B5A-EC689B1C65DA"></a><h3 id="ADLOB-GUID-E0712718-FD3F-40DF-8B5A-EC689B1C65DA" class="sect3">DBFS Installation</h3>
               <div>
                  <p>DBFS is a part of the Oracle database installation and is installed under <code class="codeph">ORACLE_HOME</code>. 
                  </p>
                  <p><code class="codeph">$ORACLE_HOME/rdbms/admin</code> contains these DBFS utility scripts: 
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Content API (CAPI)</p>
                     </li>
                     <li>
                        <p>SecureFiles Store (SFS)</p>
                     </li>
                  </ul>
                  <p><code class="codeph">$ORACLE_HOME/bin</code> contains:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><code class="codeph">dbfs_client</code> executable
                        </p>
                     </li>
                  </ul>
                  <p><code class="codeph">$ORACLE_HOME/rdbms/admin</code> contains:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p> SQL (<code class="codeph">.plb</code> extension) scripts for the content store
                        </p>
                     </li>
                  </ul>
               </div>
            </div><a id="ADLOB45995"></a><div class="props_rev_3"><a id="GUID-A4B1B3D5-7080-47EF-86C4-67D6E8F0FC37" name="GUID-A4B1B3D5-7080-47EF-86C4-67D6E8F0FC37"></a><h3 id="ADLOB-GUID-A4B1B3D5-7080-47EF-86C4-67D6E8F0FC37" class="sect3">Creating a DBFS File System</h3>
               <div>
                  <p>A DBFS File system can be partitioned or non-partitioned. It may require users to have certain privileges.</p>
                  <p>Topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="using-DBFS.html#GUID-579C0D02-6F1F-4723-B1FA-674615E1F5FD" title="Database users must have a minimum set of privileges to create a file system.">Privileges Required to Create a DBFS File System</a></p>
                     </li>
                     <li>
                        <p><a href="using-DBFS.html#GUID-D78E46D3-8C20-45E2-9418-D674EA45317B" title="You can create either non-partitioned or partitioned file systems. Partitioning is the best performing and most scalable way to create a file system in DBFS and is the default.">Advantages of Non-Partitioned Versus Partitioned DBFS File Systems</a></p>
                     </li>
                     <li>
                        <p><a href="using-DBFS.html#GUID-C66F22F9-1C95-41C4-8F32-EE46DF9E4A62" title="You can create a file system by running DBFS_CREATE_FILESYSTEM.SQL while logged in as a user with DBFS administrator privileges.">Creating a Non-Partitioned File System</a></p>
                     </li>
                     <li>
                        <p><a href="using-DBFS.html#GUID-8735D535-2E13-4702-95F9-01F931F2BF46" title="Partitioning creates multiple physical segments in the database, and files are distributed randomly in these partitions.">Creating a Partitioned File System</a></p>
                     </li>
                     <li>
                        <p><a href="using-DBFS.html#GUID-04EDEAFA-765A-44BA-98D6-B7DD415B9020" title="You can drop a file system by running DBFS_DROP_FILESYSTEM.SQL.">Dropping a File System</a></p>
                     </li>
                  </ul>
               </div><a id="ADLOB46187"></a><div class="props_rev_3"><a id="GUID-579C0D02-6F1F-4723-B1FA-674615E1F5FD" name="GUID-579C0D02-6F1F-4723-B1FA-674615E1F5FD"></a><h4 id="ADLOB-GUID-579C0D02-6F1F-4723-B1FA-674615E1F5FD" class="sect4">Privileges Required to Create a DBFS File System</h4>
                  <div>
                     <p>Database users must have a minimum set of privileges to create a file system. </p>
                     <p>Users must have these privileges: </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">GRANT CONNECT</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">CREATE SESSION</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">RESOURCE</code>, <code class="codeph">CREATE TABLE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">CREATE PROCEDURE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">DBFS_ROLE</code></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="ADLOB46188"></a><div class="props_rev_3"><a id="GUID-D78E46D3-8C20-45E2-9418-D674EA45317B" name="GUID-D78E46D3-8C20-45E2-9418-D674EA45317B"></a><h4 id="ADLOB-GUID-D78E46D3-8C20-45E2-9418-D674EA45317B" class="sect4">Advantages of Non-Partitioned Versus Partitioned DBFS File Systems</h4>
                  <div>
                     <p>You can create either non-partitioned or partitioned file systems. Partitioning is the best performing and most scalable way to create a file system in DBFS and is the default. </p>
                     <p>Space cannot be shared between partitions, so it is possible for one partition to run out of space even when other partitions have space. This is usually not an issue if the file system size is big compared to the size of the individual files. However, if file sizes are a big percentage of the file system size, it may result in the <code class="codeph">ENOSPC</code> error even if the file system is not full.
                     </p>
                     <p>Another implication of partitioning is that a <span class="italic">rename</span> operation can require rewriting the file, which can be expensive if the file is big.
                     </p>
                  </div>
               </div><a id="ADLOB46189"></a><div class="props_rev_3"><a id="GUID-C66F22F9-1C95-41C4-8F32-EE46DF9E4A62" name="GUID-C66F22F9-1C95-41C4-8F32-EE46DF9E4A62"></a><h4 id="ADLOB-GUID-C66F22F9-1C95-41C4-8F32-EE46DF9E4A62" class="sect4">Creating a Non-Partitioned File System</h4>
                  <div>
                     <p>You can create a file system by running <code class="codeph">DBFS_CREATE_FILESYSTEM.SQL</code> while logged in as a user with DBFS administrator privileges. 
                     </p>
                     <div class="section">
                        <p>These steps enable you to create a file system. </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Log in to the database instance:</span><div><pre class="oac_no_warn" dir="ltr">$ sqlplus <span class="italic">dbfs_user</span>/<span class="italic">@db_server</span>
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Enter the following command:</span><div><pre class="oac_no_warn" dir="ltr">@$ORACLE_HOME/rdbms/admin/dbfs_create_filesystem.sql <span class="italic">tablespace_name</span>
     <span class="italic">file_system_name</span>
</pre></div>
                        </li>
                     </ol>
                     <div class="section">
                        <p>For example, to create a file system called <code class="codeph">staging_area</code> in an existing tablespace <code class="codeph">dbfs_tbspc</code>:
                        </p><pre class="oac_no_warn" dir="ltr">$ sqlplus <span class="italic">dbfs_user</span>/<span class="italic">db_server</span>
   @$ORACLE_HOME/rdbms/admin/dbfs_create_filesystem.sql
   dbfs_tbspc staging_area</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADLOB46190"></a><div class="props_rev_3"><a id="GUID-8735D535-2E13-4702-95F9-01F931F2BF46" name="GUID-8735D535-2E13-4702-95F9-01F931F2BF46"></a><h4 id="ADLOB-GUID-8735D535-2E13-4702-95F9-01F931F2BF46" class="sect4">Creating a Partitioned File System</h4>
                  <div>
                     <p>Partitioning creates multiple physical segments in the database, and files are distributed randomly in these partitions.</p>
                     <div class="section">
                        <p>You can create a partitioned file system by running <code class="codeph">DBFS_CREATE_FILESYSTEM</code><code class="codeph">_ADVANCED</code>.<code class="codeph">SQL</code> while logged in as a user with DBFS administrator privileges. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Log in to the database instance:</span><div><pre class="oac_no_warn" dir="ltr">$ sqlplus <span class="italic">dbfs_user</span>/<span class="italic">@db_server</span>
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Enter the following command:</span><div><pre class="oac_no_warn" dir="ltr">@$ORACLE_HOME/rdbms/admin/dbfs_create_filesystem_advanced.sql tablespace_name
       <span class="italic">file_system_name</span> nocompress nodeduplicate noencrypt partition
</pre></div>
                        </li>
                     </ol>
                     <div class="section">
                        <p>For example, to create a partitioned file system called <code class="codeph">staging_area</code> in an existing tablespace <code class="codeph">dbfs_tbspc</code>:
                        </p><pre class="oac_no_warn" dir="ltr">$ sqlplus <span class="italic">dbfs_user</span>/<span class="italic">@db_server</span>  
       @$ORACLE_HOME/rdbms/admin/dbfs_create_filesystem_advanced.sql dbfs_tbspc
       staging_area nocompress nodeduplicate noencrypt partition
</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADLOB45996"></a><div class="props_rev_3"><a id="GUID-04EDEAFA-765A-44BA-98D6-B7DD415B9020" name="GUID-04EDEAFA-765A-44BA-98D6-B7DD415B9020"></a><h4 id="ADLOB-GUID-04EDEAFA-765A-44BA-98D6-B7DD415B9020" class="sect4">Dropping a File System</h4>
                  <div>
                     <p>You can drop a file system by running <code class="codeph">DBFS_DROP_FILESYSTEM.SQL</code>. 
                     </p>
                     <ol>
                        <li class="stepexpand"><span>Log in to the database instance:</span><div><pre class="oac_no_warn" dir="ltr">$ sqlplus <span class="italic">dbfs_user</span>/<span class="italic">@db_server</span>
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Enter the following command:</span><div><pre class="oac_no_warn" dir="ltr">@$ORACLE_HOME/rdbms/admin/dbfs_drop_filesystem.sql <span class="italic"><code class="codeph">file_system_name</code></span>
</pre></div>
                        </li>
                     </ol>
                  </div>
               </div>
            </div><a id="ADLOB46191"></a><div class="props_rev_3"><a id="GUID-B03D476F-934D-4AD8-B4D7-493B1C0D7513" name="GUID-B03D476F-934D-4AD8-B4D7-493B1C0D7513"></a><h3 id="ADLOB-GUID-B03D476F-934D-4AD8-B4D7-493B1C0D7513" class="sect3">DBFS File System Access</h3>
               <div>
                  <p>You access a DBFS file system by means of prerequisites, access interfaces, the DBFS security model, and XML DB server protocols.</p>
                  <p>Topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="using-DBFS.html#GUID-A1D6C48E-E6AF-450A-8F0E-52FEBF06197B" title="The DBFS File System Client, which is named dbfs_client, runs on each system that will access DBFS filesystems, using certain prerequisites.">DBFS Client Prerequisites</a></p>
                     </li>
                     <li>
                        <p><a href="using-DBFS.html#GUID-F436D220-6BE5-4D72-BF2C-D59B343616CA" title="The DBFS client command-line interface allows you to directly access files stored in DBFS.">DBFS Client Command-Line Interface Operations</a></p>
                     </li>
                     <li>
                        <p><a href="using-DBFS.html#GUID-6B646446-BD50-44CD-9C52-4B1039242910" title="You can mount DBFS using the dbfs_client in Linux and Solaris only.">DBFS Mounting Interface (Linux and Solaris Only)</a></p>
                     </li>
                     <li>
                        <p><a href="using-DBFS.html#GUID-85540258-FBB9-452B-8C20-F1D00A2ECA31">File System Security Model </a></p>
                     </li>
                     <li>
                        <p><a href="using-DBFS.html#GUID-D6AE78C9-C618-4842-8B44-2BE42E1BEDE3">HTTP_ WebDAV_ and FTP Access to DBFS</a></p>
                     </li>
                  </ul>
               </div><a id="ADLOB45992"></a><div class="props_rev_3"><a id="GUID-A1D6C48E-E6AF-450A-8F0E-52FEBF06197B" name="GUID-A1D6C48E-E6AF-450A-8F0E-52FEBF06197B"></a><h4 id="ADLOB-GUID-A1D6C48E-E6AF-450A-8F0E-52FEBF06197B" class="sect4">DBFS Client Prerequisites</h4>
                  <div>
                     <p>The DBFS File System Client, which is named <code class="codeph">dbfs_client</code>, runs on each system that will access DBFS filesystems, using certain prerequisites.
                     </p>
                     <p> The prerequisites for the DBFS File System Client, <code class="codeph">dbfs_client</code>, are: 
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The <code class="codeph">dbfs_</code><code class="codeph">client</code> host must have the Oracle client libraries installed. 
                           </p>
                        </li>
                        <li>
                           <p>The <code class="codeph">dbfs_client</code> can be used as a direct RDBMS client using the DBFS Command Interface on Linux, Linux.X64, Solaris, Solaris64, AIX, HPUX and Windows platforms.
                           </p>
                        </li>
                        <li>
                           <p>The <code class="codeph">dbfs_client</code> can only be used as a mount client on Linux, Linux.X64, and Solaris 11 platforms. This requires the following:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">dbfs_client</code> host must have the <code class="codeph">FUSE</code> Linux package or the Solaris <code class="codeph">libfuse</code> package installed.
                                 </p>
                              </li>
                              <li>
                                 <p>A group named <code class="codeph">fuse</code> must be created, with the user name that runs the <code class="codeph">dbfs_client</code> as a member.
                                 </p>
                              </li>
                           </ul>
                           <div class="infoboxnotealso" id="GUID-A1D6C48E-E6AF-450A-8F0E-52FEBF06197B__NOTE-14334-DFF87B69">
                              <p class="notep1">See Also:</p>
                              <p><a href="using-DBFS.html#GUID-6B646446-BD50-44CD-9C52-4B1039242910" title="You can mount DBFS using the dbfs_client in Linux and Solaris only.">DBFS Mounting Interface (Linux and Solaris Only)</a> for further details.
                              </p>
                           </div>
                        </li>
                     </ul>
                  </div>
               </div><a id="ADLOB46002"></a><div class="props_rev_3"><a id="GUID-F436D220-6BE5-4D72-BF2C-D59B343616CA" name="GUID-F436D220-6BE5-4D72-BF2C-D59B343616CA"></a><h4 id="ADLOB-GUID-F436D220-6BE5-4D72-BF2C-D59B343616CA" class="sect4">DBFS Client Command-Line Interface Operations</h4>
                  <div>
                     <p>The DBFS client command-line interface allows you to directly access files stored in DBFS. </p>
                     <p>Topics:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="using-DBFS.html#GUID-456ECF58-F9B5-4F53-8111-B88079DE7650" title="The DBFS client command-line interface allows you to perform many pre-defined commands, such as copy files in and out of the DBFS filesystem from any host on the network.">About the DBFS Client Command-Line Interface</a></p>
                        </li>
                        <li>
                           <p><a href="using-DBFS.html#GUID-CF1B0455-8D24-44BA-9E74-167AC8A01FE5" title="You can create a content store path by providing a path name">Creating Content Store Paths</a></p>
                        </li>
                        <li>
                           <p><a href="using-DBFS.html#GUID-9022B3BF-FF83-4B71-85F1-449CDBF34B28" title="You can use the mkdir command to create a new directory.">Creating a Directory</a></p>
                        </li>
                        <li>
                           <p><a href="using-DBFS.html#GUID-FD6E5F79-2DE5-4F4E-99D2-6AF7D571ECBA" title="You can use the ls command to list the contents of a directory.">Listing a Directory</a></p>
                        </li>
                        <li>
                           <p><a href="using-DBFS.html#GUID-240F6913-94D1-4646-8130-8A3942298EE1" title="You can use the cp command to copy files or directories from the source location to the destination location.">Copying Files and Directories</a></p>
                        </li>
                        <li>
                           <p><a href="using-DBFS.html#GUID-FD1B94B7-57A3-4A53-9C46-ACB75A348B7A" title="You can use the command rm to delete a file or directory.">Removing Files and Directories</a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="props_rev_3"><a id="GUID-456ECF58-F9B5-4F53-8111-B88079DE7650" name="GUID-456ECF58-F9B5-4F53-8111-B88079DE7650"></a><h5 id="ADLOB-GUID-456ECF58-F9B5-4F53-8111-B88079DE7650" class="sect5">About the DBFS Client Command-Line Interface</h5>
                     <div>
                        <p>The DBFS client command-line interface allows you to perform many pre-defined commands, such as copy files in and out of the DBFS filesystem from any host on the network.</p>
                        <p></p>
                        <p>The command-line interface has slightly better performance than the DBFS client mount interface because it does not mount the file system, thus bypassing the user space file system. However, it is not transparent to applications. </p>
                        <p>The DBFS client mount interface allows DBFS to be mounted through a file system mount point thus providing transparent access to files stored in DBFS with generic file system operations. </p>
                        <p>To run DBFS commands, specify <code class="codeph">--command</code> to the DBFS client. 
                        </p>
                     </div>
                  </div><a id="ADLOB46192"></a><div class="props_rev_3"><a id="GUID-CF1B0455-8D24-44BA-9E74-167AC8A01FE5" name="GUID-CF1B0455-8D24-44BA-9E74-167AC8A01FE5"></a><h5 id="ADLOB-GUID-CF1B0455-8D24-44BA-9E74-167AC8A01FE5" class="sect5">Creating Content Store Paths</h5>
                     <div>
                        <p>You can create a content store path by providing a path name</p>
                        <div class="section">
                           <p>All DBFS content store paths must be preceded by <code class="codeph">dbfs:</code> .This is an example: <code class="codeph">dbfs:/staging_area/file1</code>. All database path names specified must be absolute paths.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">dbfs_client <span class="italic">db_user</span>@<span class="italic">db_server</span> <span class="bold">--command</span> <span class="italic">command</span> [<span class="italic">switches</span>] [<span class="italic">arguments</span>]
</pre><p>where:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="italic"><code class="codeph">command</code></span> is the executable command, such as <code class="codeph">ls</code>, <code class="codeph">cp</code>, <code class="codeph">mkdir</code>, or <code class="codeph">rm</code>.
                                 </p>
                              </li>
                              <li>
                                 <p><span class="italic"><code class="codeph">switches</code></span> are specific for each command.
                                 </p>
                              </li>
                              <li>
                                 <p><span class="italic"><code class="codeph">arguments</code></span> are file names or directory names, and are specific for each command.
                                 </p>
                              </li>
                           </ul>
                           <p>Note that <code class="codeph">dbfs_client</code> returns a nonzero value in case of failure.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="ADLOB46007"></a><div class="props_rev_3"><a id="GUID-9022B3BF-FF83-4B71-85F1-449CDBF34B28" name="GUID-9022B3BF-FF83-4B71-85F1-449CDBF34B28"></a><h5 id="ADLOB-GUID-9022B3BF-FF83-4B71-85F1-449CDBF34B28" class="sect5">Creating a Directory</h5>
                     <div>
                        <p>You can use the <code class="codeph">mkdir</code> command to create a new directory.
                        </p>
                        <div class="section">
                           <p>Use this syntax:</p><pre class="oac_no_warn" dir="ltr">dbfs_client <span class="italic">db_user</span>@<span class="italic">db_server</span> --command mkdir <span class="italic">directory_name</span>
</pre><p>where:</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="italic"><code class="codeph">directory_name</code></span> is the name of the directory created. For example:
                                 </p><pre class="oac_no_warn" dir="ltr">$ dbfs_client ETLUser@DBConnectString <span class="bold">--command mkdir</span> dbfs:/staging_area/dir1</pre></li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="ADLOB46004"></a><div class="props_rev_3"><a id="GUID-FD6E5F79-2DE5-4F4E-99D2-6AF7D571ECBA" name="GUID-FD6E5F79-2DE5-4F4E-99D2-6AF7D571ECBA"></a><h5 id="ADLOB-GUID-FD6E5F79-2DE5-4F4E-99D2-6AF7D571ECBA" class="sect5">Listing a Directory</h5>
                     <div>
                        <p>You can use the <code class="codeph">ls</code> command to list the contents of a directory.
                        </p>
                        <div class="section">
                           <p>Use this syntax:</p><pre class="oac_no_warn" dir="ltr">dbfs_client <span class="italic">db_user</span>@<span class="italic">db_server</span> <span class="bold">--command ls</span> [<span class="italic">switches</span>] <span class="italic">target</span>
</pre><p>where</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="italic"><code class="codeph">target</code></span> is the listed directory.
                                 </p>
                              </li>
                              <li>
                                 <p><span class="italic"><code class="codeph">switches</code></span> is any combination of the following: 
                                 </p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><code class="codeph">-</code><span class="italic"><code class="codeph">a</code></span> shows all files, including '<code class="codeph">.</code>' and '<code class="codeph">..</code>'.
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">-</code><span class="italic"><code class="codeph">l</code></span> shows the long listing format: name of each file, the file type, permissions, and size. 
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">-</code><span class="italic"><code class="codeph">R</code></span> lists subdirectories recursively.
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                           </ul>
                           <p>For example:</p><pre class="oac_no_warn" dir="ltr">$ dbfs_client ETLUser@DBConnectString <span class="bold">--command  ls</span> dbfs:/staging_area/dir1</pre><p>or</p><pre class="oac_no_warn" dir="ltr">$ dbfs_client ETLUser@DBConnectString --command  ls -l -a -R&nbsp;dbfs:/staging_area/dir1 </pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="ADLOB46005"></a><div class="props_rev_3"><a id="GUID-240F6913-94D1-4646-8130-8A3942298EE1" name="GUID-240F6913-94D1-4646-8130-8A3942298EE1"></a><h5 id="ADLOB-GUID-240F6913-94D1-4646-8130-8A3942298EE1" class="sect5">Copying Files and Directories</h5>
                     <div>
                        <p>You can use the <code class="codeph">cp</code> command to copy files or directories from the source location to the destination location. 
                        </p>
                        <div class="section">
                           <p>The <code class="codeph">cp</code> command also supports recursive copy of directories. 
                           </p><pre class="oac_no_warn" dir="ltr">dbfs_client <span class="italic">db_user</span>@<span class="italic">db_server</span> <span class="bold">--command cp</span> [<span class="italic">switches</span>] <code class="codeph">source</code> <code class="codeph">destination</code></pre><p>where:</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="italic"><code class="codeph">source</code></span> is the source location.
                                 </p>
                              </li>
                              <li>
                                 <p><span class="italic"><code class="codeph">destination</code></span> is the destination location.
                                 </p>
                              </li>
                              <li>
                                 <p><span class="italic"><code class="codeph">switches</code></span> is either <code class="codeph">-R</code> or <code class="codeph">-r</code>, the options to recursively copy all source contents into the destination directory.
                                 </p>
                              </li>
                           </ul>
                           <p>The following example copies the contents of the local directory, <code class="codeph">01-01-10-dump</code> recursively into a directory in DBFS:
                           </p><pre class="oac_no_warn" dir="ltr">$ dbfs_client ETLUser@DBConnectString <span class="bold">--command cp</span> -R  01-01-10-dump dbfs:/staging_area/</pre><p>The following example copies the file <code class="codeph">hello.txt</code> from DBFS to a local file <code class="codeph">Hi.txt</code>: 
                           </p><pre class="oac_no_warn" dir="ltr">$ dbfs_client ETLUser@DBConnectString <span class="bold">--command cp</span> dbfs:/staging_area/hello.txt Hi.txt</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="ADLOB46006"></a><div class="props_rev_3"><a id="GUID-FD1B94B7-57A3-4A53-9C46-ACB75A348B7A" name="GUID-FD1B94B7-57A3-4A53-9C46-ACB75A348B7A"></a><h5 id="ADLOB-GUID-FD1B94B7-57A3-4A53-9C46-ACB75A348B7A" class="sect5">Removing Files and Directories</h5>
                     <div>
                        <p>You can use the command <code class="codeph">rm</code> to delete a file or directory.
                        </p>
                        <div class="section">
                           <p>The command <code class="codeph">rm</code> also supports recursive delete of directories. 
                           </p><pre class="oac_no_warn" dir="ltr">dbfs_client <span class="italic">db_user</span>@<span class="italic">db_server</span> --command rm [<span class="italic">switches</span>] <span class="italic">target</span>
</pre><p>where:</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="italic"><code class="codeph">target</code></span> is the listed directory.
                                 </p>
                              </li>
                              <li>
                                 <p><span class="italic"><code class="codeph">switches</code></span> is either <code class="codeph">-R</code> or <code class="codeph">-r</code>, the options to recursively delete all contents.
                                 </p>
                              </li>
                           </ul>
                           <p>For example:</p><pre class="oac_no_warn" dir="ltr">$ dbfs_client ETLUser@DBConnectString --command rm  dbfs:/staging_area/srcdir/hello.txt</pre><p>or</p><pre class="oac_no_warn" dir="ltr">$ dbfs_client ETLUser@DBConnectString --command rm -R  dbfs:/staging_area/dir1</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="ADLOB45997"></a><div class="props_rev_3"><a id="GUID-6B646446-BD50-44CD-9C52-4B1039242910" name="GUID-6B646446-BD50-44CD-9C52-4B1039242910"></a><h4 id="ADLOB-GUID-6B646446-BD50-44CD-9C52-4B1039242910" class="sect4">DBFS Mounting Interface (Linux and Solaris Only)</h4>
                  <div>
                     <p>You can mount DBFS using the <code class="codeph">dbfs_client</code> in Linux and Solaris only. 
                     </p>
                     <p>The instructions indicate the different requirements for the Linux and Solaris platforms.</p>
                     <p>Topics:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="using-DBFS.html#GUID-0FA47FD4-B4CA-4365-9519-7C70F9DA3183" title="You can use dbfs_client as a mount client in Solaris 11 SRU7 and later, if you install FUSE">Installing FUSE on Solaris 11 SRU7 and Later</a></p>
                        </li>
                        <li>
                           <p><a href="using-DBFS.html#GUID-257CA83F-3AEC-45C9-A5D6-8B487FE43630" title="You can mount the DBFS store by running the dbfs_client program.">Mounting the DBFS Store </a></p>
                        </li>
                        <li>
                           <p><a href="using-DBFS.html#GUID-04B0BDF1-43D6-41DB-BC9C-95E9D90778D2" title="On Solaris, the user must have the Solaris privilege PRIV_SYS_MOUNT to perform mount and unmount operations on DBFS filesystems.">Solaris-Specific Privileges</a></p>
                        </li>
                        <li>
                           <p><a href="using-DBFS.html#GUID-4D1F748B-D6EF-48CA-B037-A42A7D295B64" title="The dbfs_client mount command for Solaris and Linux uses specific syntax.">About the Mount Command for Solaris and Linux</a></p>
                        </li>
                        <li>
                           <p><a href="using-DBFS.html#GUID-F959E952-C82E-4BEF-96C8-DC17A745D7F4" title="You can mount a file system with a wallet after configuring various environment variables.">Mounting a File System with a Wallet</a></p>
                        </li>
                        <li>
                           <p><a href="using-DBFS.html#GUID-69C0676E-EE2B-4B4B-9956-908D47AA3C54" title="You can mount a file system using dbfs_client.">Mounting a File System with Password at Command Prompt</a></p>
                        </li>
                        <li>
                           <p><a href="using-DBFS.html#GUID-AF702BBF-96BF-4CD7-A9F4-3C385839D5E2" title="You can mount a file system with a password read from a file.">Mounting a File System with Password Read from a File</a></p>
                        </li>
                        <li>
                           <p><a href="using-DBFS.html#GUID-0524AFB6-7C12-4F5B-B934-8C7026727ABB" title="In Linux, you can run fusermount to unmount file systems.">Unmounting a File System</a></p>
                        </li>
                        <li>
                           <p><a href="using-DBFS.html#GUID-135813E9-9DD0-48B1-BBE9-6FA28C757D3B" title="In Linux, you can configure fstab utility to use dbfs_client to mount a DBFS filesystem.">Mounting DBFS Through fstab Utility for Linux</a></p>
                        </li>
                        <li>
                           <p><a href="using-DBFS.html#GUID-69F6C5D1-FF77-4AA0-A07C-A7B525C0453F">Mounting DBFS Through the vfstab Utility for Solaris</a></p>
                        </li>
                        <li>
                           <p><a href="using-DBFS.html#GUID-78E752D1-3E67-483A-9A59-DD30FDF4A728">Restrictions on Mounted File Systems</a></p>
                        </li>
                     </ul>
                  </div><a id="ADLOB46193"></a><div class="props_rev_3"><a id="GUID-0FA47FD4-B4CA-4365-9519-7C70F9DA3183" name="GUID-0FA47FD4-B4CA-4365-9519-7C70F9DA3183"></a><h5 id="ADLOB-GUID-0FA47FD4-B4CA-4365-9519-7C70F9DA3183" class="sect5">Installing FUSE on Solaris 11 SRU7 and Later</h5>
                     <div>
                        <p>You can use <code class="codeph">dbfs_client</code> as a mount client in Solaris 11 SRU7 and later, if you install <code class="codeph">FUSE</code></p>
                        <div class="section">
                           <p> Install <code class="codeph">FUSE</code> to use <code class="codeph">dbfs_client</code> as a mount client in Solaris 11 SRU7 and later.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Run the following package as <code class="codeph">root</code>.
                                 </p><pre class="oac_no_warn" dir="ltr">pkg install libfuse</pre></li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="ADLOB45998"></a><div class="props_rev_3"><a id="GUID-257CA83F-3AEC-45C9-A5D6-8B487FE43630" name="GUID-257CA83F-3AEC-45C9-A5D6-8B487FE43630"></a><h5 id="ADLOB-GUID-257CA83F-3AEC-45C9-A5D6-8B487FE43630" class="sect5">Mounting the DBFS Store </h5>
                     <div>
                        <p>You can mount the DBFS store by running the <code class="codeph">dbfs_client</code> program. 
                        </p>
                        <div class="section">
                           <p>To run the <code class="codeph">dbfs_client</code> program. 
                           </p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li><span>Ensure that <code class="codeph">LD_LIBRARY_PATH</code> has the correct path to the Oracle client libraries.</span></li>
                           <li><span>Run the <code class="codeph">dbfs_client</code> program. </span></li>
                        </ol>
                        <div class="section">
                           <p>The <code class="codeph">dbfs_client</code> program does not return until the file system is unmounted. 
                           </p>
                           <div class="infoboxnotealso" id="GUID-257CA83F-3AEC-45C9-A5D6-8B487FE43630__USINGORACLEWALLETWITHDBFSCLIENTFORT-DFF8A2A0">
                              <p class="notep1">See Also:</p>
                              <p><a href="using-DBFS.html#GUID-52358A56-B0C5-4D07-BEF4-1C7F6F100C02">Using Oracle Wallet with DBFS Client</a> for the most secure method of specifying the password
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="ADLOB46194"></a><div class="props_rev_3"><a id="GUID-04B0BDF1-43D6-41DB-BC9C-95E9D90778D2" name="GUID-04B0BDF1-43D6-41DB-BC9C-95E9D90778D2"></a><h5 id="ADLOB-GUID-04B0BDF1-43D6-41DB-BC9C-95E9D90778D2" class="sect5">Solaris-Specific Privileges</h5>
                     <div>
                        <p>On Solaris, the user must have the Solaris privilege <code class="codeph">PRIV_SYS_MOUNT</code> to perform mount and unmount operations on DBFS filesystems.
                        </p>
                        <p>Give the user the Solaris privilege <code class="codeph">PRIV_SYS_MOUNT</code> . 
                        </p>
                        <ol>
                           <li>
                              <p>Edit <code class="codeph">/etc/user_attr</code>. 
                              </p>
                           </li>
                           <li>
                              <p>Add or modify the user entry (assuming the user is Oracle) as follows:</p><pre class="oac_no_warn" dir="ltr">oracle::::type=normal;project=group.dba;defaultpriv=basic,priv_sys_mount;;auth s=solaris.smf.*
</pre></li>
                        </ol>
                     </div>
                  </div><a id="ADLOB46195"></a><div class="props_rev_3"><a id="GUID-4D1F748B-D6EF-48CA-B037-A42A7D295B64" name="GUID-4D1F748B-D6EF-48CA-B037-A42A7D295B64"></a><h5 id="ADLOB-GUID-4D1F748B-D6EF-48CA-B037-A42A7D295B64" class="sect5">About the Mount Command for Solaris and Linux</h5>
                     <div>
                        <p>The <code class="codeph">dbfs_client</code> mount command for Solaris and Linux uses specific syntax. 
                        </p>
                        <p>Syntax:</p><pre class="oac_no_warn" dir="ltr">dbfs_client <span class="italic">db_user</span>@<span class="italic">db_server</span> <span class="italic">[</span>-o <span class="italic">option_1</span> -o <span class="italic">option_2</span> <span class="italic">...</span><span class="italic">]</span> <span class="italic">mount_point</span>
</pre><p>where the mandatory parameters are:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="italic"><code class="codeph">db_user</code></span> is the name of the database user who owns the DBFS content store file system.
                              </p>
                           </li>
                           <li>
                              <p><span class="italic"><code class="codeph">db_server</code></span> is a valid connect string to the Oracle Database server, such as <code class="codeph">hrdb_host:1521/hrservice</code>.
                              </p>
                           </li>
                           <li>
                              <p><span class="italic"><code class="codeph">mount_point</code></span> is the path where the Database File System is mounted. Note that all file systems owned by the database user are visible at the mount point.
                              </p>
                           </li>
                        </ul>
                        <p>The options are:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">direct_io</code>: To bypass the OS page cache and provide improved performance for large files. Programs in the file system cannot be executed with this option. Oracle recommends this option when DBFS is used as an ETL staging area.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">wallet</code>: To run the DBFS client in the background. The Wallet must be configured to get its credentials.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">failover</code>: To fail over the DBFS client to surviving database instances without data loss. Expect some performance cost on writes, especially for small files.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">allow_root</code>: To allow the root user to access the filesystem. You must set the <code class="codeph">user_allow_other</code> parameter in the <code class="codeph">/etc/fuse.conf</code> configuration file.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">allow_other</code>: To allow other users to access the filesystem. You must set the <code class="codeph">user_allow_other</code> parameter in the <code class="codeph">/etc/fuse.conf</code> configuration file.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">rw</code>: To mount the filesystem as read-write. This is the default setting.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">ro</code>: To mount the filesystem as read-only. Files cannot be modified.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">trace_level=</code><span class="italic"><code class="codeph">n</code></span> sets the trace level. Trace levels are:
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">1 DEBUG</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">2 INFO</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">3 WARNING</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">4 ERROR</code>: The default tracing level. It outputs diagnostic information only when an error happens. It is recommended that this tracing level is always enabled. 
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">5 CRITICAL</code></p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p><code class="codeph">trace_file=STR</code>: Specifies the tracing log file, where <code class="codeph">STR</code> can be either a <span class="italic"><code class="codeph">file_name</code></span> or <code class="codeph">syslog</code>.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">trace_size=</code><span class="italic"><code class="codeph">trcfile_size</code></span>: Specifies size of the trace file in MB. By default, <code class="codeph">dbfs_client</code> rotates tracing output between two 10MB files. Specifying <code class="codeph">0</code> for <code class="codeph">trace_size</code> sets the maximum size of the trace file to unlimited.
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="ADLOB46196"></a><div class="props_rev_3"><a id="GUID-F959E952-C82E-4BEF-96C8-DC17A745D7F4" name="GUID-F959E952-C82E-4BEF-96C8-DC17A745D7F4"></a><h5 id="ADLOB-GUID-F959E952-C82E-4BEF-96C8-DC17A745D7F4" class="sect5">Mounting a File System with a Wallet</h5>
                     <div>
                        <p>You can mount a file system with a wallet after configuring various environment variables.</p>
                        <div class="section">
                           <p>You must first configure the <code class="codeph">LD_LIBRARY_PATH</code> and <span class="italic"><code class="codeph">ORACLE_HOME</code></span> environment variables correctly before mounting a file system with a wallet. 
                           </p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>Login as admin user. </span></li>
                           <li class="stepexpand"><span>Mount the DBFS store. (Oracle recommends that you do not perform this step as root user.)</span><div><pre class="oac_no_warn" dir="ltr">% dbfs_client @/dbfsdb -o wallet,rw,user,direct_io /mnt/dbfs
</pre></div>
                           </li>
                           <li class="stepexpand"><span>[Optional] To test if the previous step was successful, as admin user, list the <code class="codeph">dbfs</code> directory.</span><div><pre class="oac_no_warn" dir="ltr">$ ls /mnt/tdbfs</pre></div>
                           </li>
                        </ol>
                     </div>
                     <div class="sect5"><a id="TASK-14-DFF8D7B9" name="TASK-14-DFF8D7B9"></a><h6 id="ADLOB-TASK-14-DFF8D7B9" class="sect6"></h6>
                        <div>
                           <div class="section">
                              <p class="subhead3" id="TASK-14-DFF8D7B9__GUID-47680EDD-07ED-4D75-BF40-EFF8F2558126"></p>
                              <div class="infoboxnotealso" id="TASK-14-DFF8D7B9__USINGORACLEWALLETWITHDBFSCLIENT-DFF8E4C4">
                                 <p class="notep1">See Also:</p>
                                 <p><a href="using-DBFS.html#GUID-52358A56-B0C5-4D07-BEF4-1C7F6F100C02">Using Oracle Wallet with DBFS Client</a></p>
                              </div>
                           </div>
                           <!-- class="section" -->
                        </div>
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-69C0676E-EE2B-4B4B-9956-908D47AA3C54" name="GUID-69C0676E-EE2B-4B4B-9956-908D47AA3C54"></a><h5 id="ADLOB-GUID-69C0676E-EE2B-4B4B-9956-908D47AA3C54" class="sect5">Mounting a File System with Password at Command Prompt</h5>
                     <div>
                        <p>You can mount a file system using <code class="codeph">dbfs_client</code>.
                        </p>
                        <div class="section">
                           <p>You must enter a password on the command prompt to mount a file system using <code class="codeph">dbfs_client</code>.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Run the following:</p><pre class="oac_no_warn" dir="ltr">$ dbfs_client ETLUser@DBConnectString /mnt/dbfs
  password: xxxxxxx</pre></li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-AF702BBF-96BF-4CD7-A9F4-3C385839D5E2" name="GUID-AF702BBF-96BF-4CD7-A9F4-3C385839D5E2"></a><h5 id="ADLOB-GUID-AF702BBF-96BF-4CD7-A9F4-3C385839D5E2" class="sect5">Mounting a File System with Password Read from a File</h5>
                     <div>
                        <p>You can mount a file system with a password read from a file.</p>
                        <div class="section">
                           <p>The following example mounts a file system and frees the terminal. It reads the password from a file: </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Run the following:</p><pre class="oac_no_warn" dir="ltr">$ nohup dbfs_client ETLUser@DBConnectString /mnt/dbfs &lt; <span class="italic">passwordfile</span>.f &amp;
$ ls -l /mnt/dbfs
drwxrwxrwx 10 root root 0 Feb  9 17:28 staging_area</pre></li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="ADLOB45999"></a><div class="props_rev_3"><a id="GUID-0524AFB6-7C12-4F5B-B934-8C7026727ABB" name="GUID-0524AFB6-7C12-4F5B-B934-8C7026727ABB"></a><h5 id="ADLOB-GUID-0524AFB6-7C12-4F5B-B934-8C7026727ABB" class="sect5">Unmounting a File System</h5>
                     <div>
                        <p>In Linux, you can run <code class="codeph">fusermount</code> to unmount file systems.
                        </p>
                        <div class="section">
                           <p>To run <code class="codeph">fusermount</code> in Linux, do the following:
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Run the following:</p><pre class="oac_no_warn" dir="ltr"> $ fusermount -u &lt;<span class="italic"><code class="codeph">mount point</code></span>&gt;
</pre></li>
                           </ul>
                           <p>In Solaris, you can run <code class="codeph">umount</code> to unmount file systems.
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Run the following:</p><pre class="oac_no_warn" dir="ltr"> $ umount -u &lt;<span class="italic"><code class="codeph">mount point</code></span>&gt;</pre></li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="ADLOB46000"></a><div class="props_rev_3"><a id="GUID-135813E9-9DD0-48B1-BBE9-6FA28C757D3B" name="GUID-135813E9-9DD0-48B1-BBE9-6FA28C757D3B"></a><h5 id="ADLOB-GUID-135813E9-9DD0-48B1-BBE9-6FA28C757D3B" class="sect5">Mounting DBFS Through fstab Utility for Linux</h5>
                     <div>
                        <p>In Linux, you can configure <code class="codeph">fstab</code> utility to use <code class="codeph">dbfs_client</code> to mount a DBFS filesystem. 
                        </p>
                        <div class="section">
                           <p>To mount DBFS through <code class="codeph">/etc/fstab</code>, you must use Oracle Wallet for authentication. 
                           </p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>Login as <code class="codeph">root</code> user.</span></li>
                           <li class="stepexpand"><span>Change the user and group of <code class="codeph">dbfs_client</code> to user <code class="codeph">root</code> and group <code class="codeph">fuse</code>.</span><div><pre class="oac_no_warn" dir="ltr"># chown root.fuse $ORACLE_HOME/bin/dbfs_client
</pre></div>
                           </li>
                           <li class="stepexpand"><span>Set the <code class="codeph">setuid</code> bit on <code class="codeph">dbfs_client</code> and restrict <code class="codeph">execute</code> privileges to the user and group only.</span><div><pre class="oac_no_warn" dir="ltr"># chmod u+rwxs,g+rx-w,o-rwx dbfs_client
</pre></div>
                           </li>
                           <li class="stepexpand"><span>Create a symbolic link to <code class="codeph">dbfs_client</code> in <code class="codeph">/sbin</code> as "<code class="codeph">mount.dbfs</code>".</span><div><pre class="oac_no_warn" dir="ltr">$ ln -s $ORACLE_HOME/bin/dbfs_client /sbin/mount.dbfs
</pre></div>
                           </li>
                           <li class="stepexpand"><span>Create a new Linux group called "<code class="codeph">fuse</code>".</span></li>
                           <li class="stepexpand"><span>Add the Linux user that is running the DBFS Client to the <code class="codeph">fuse</code> group.</span></li>
                           <li class="stepexpand"><span>Add the following line to <code class="codeph">/etc/fstab</code>:</span><div><pre class="oac_no_warn" dir="ltr">/sbin/mount.dbfs#<span class="italic">db_user</span>@<span class="italic">db_server</span> <span class="italic">mount_point</span> fuse rw,user,noauto 0 0
</pre><p>For example:</p><pre class="oac_no_warn" dir="ltr">/sbin/mount.dbfs#/@DBConnectString /mnt/dbfs fuse rw,user,noauto 0 0
</pre></div>
                           </li>
                           <li class="stepexpand"><span>The Linux user can mount the DBFS file system using the standard Linux <code class="codeph">mount</code> command. For example:</span><div><pre class="oac_no_warn" dir="ltr">$ mount /mnt/dbfs
</pre><p>Note that <code class="codeph">FUSE</code> does not currently support <code class="codeph">automount</code>.
                                 </p>
                              </div>
                           </li>
                        </ol>
                     </div>
                  </div><a id="ADLOB46197"></a><div class="props_rev_3"><a id="GUID-69F6C5D1-FF77-4AA0-A07C-A7B525C0453F" name="GUID-69F6C5D1-FF77-4AA0-A07C-A7B525C0453F"></a><h5 id="ADLOB-GUID-69F6C5D1-FF77-4AA0-A07C-A7B525C0453F" class="sect5">Mounting DBFS Through the vfstab Utility for Solaris</h5>
                     <div>
                        <div class="section">
                           <p>On Solaris, file systems are commonly configured using the <code class="codeph">vfstab</code> utility. 
                           </p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>Create a mount shell script <code class="codeph">mount_dbfs.sh</code> to use to start <code class="codeph">dbfs_client</code>. All the environment variables that are required for Oracle RDBMS must be exported. These environment variables include <code class="codeph">TNS_ADMIN</code>, <code class="codeph">ORACLE_HOME</code>, and <code class="codeph">LD_LIBRARY_PATH</code>. For example:</span><div><pre class="oac_no_warn" dir="ltr">#!/bin/ksh
export TNS_ADMIN=/export/home/oracle/dbfs/tnsadmin
export ORACLE_HOME=/export/home/oracle/11.2.0/dbhome_1
export DBFS_USER=dbfs_user
export DBFS_PASSWD=/tmp/passwd.f
export DBFS_DB_CONN=dbfs_db
export O=$ORACLE_HOME
export LD_LIBRARY_PATH=$O/lib:$O/rdbms/lib:/usr/lib:/lib:$LD_LIBRARY_PATH
export NOHUP_LOG=/tmp/dbfs.nohup

(nohup $ORACLE_HOME/bin/dbfs_client $DBFS_USER@$DBFS_DB_CONN &lt; $DBFS_PASSWD
         2&gt;&amp;1 &amp; ) &amp;</pre></div>
                           </li>
                           <li class="stepexpand"><span>Add an entry for DBFS to <code class="codeph">/etc/vfstab</code>. Specify the <code class="codeph">mount_dbfs.sh</code> script for the <code class="codeph">device_to_mount</code>. Specify <code class="codeph">uvfs</code> for the <code class="codeph">FS_type</code>. Specify no <code class="codeph">formount_at_boot</code>. Specify mount options as needed. For example:</span><div><pre class="oac_no_warn" dir="ltr">/usr/local/bin/mount_dbfs.sh - /mnt/dbfs uvfs - no rw,allow_other
</pre></div>
                           </li>
                           <li class="stepexpand"><span>User can mount the DBFS file system using the standard Solaris mount command. For example:</span><div><pre class="oac_no_warn" dir="ltr">$ mount /mnt/dbfs
</pre></div>
                           </li>
                           <li class="stepexpand"><span>User can unmount the DBFS file system using the standard Solaris umount command. For example:</span><div><pre class="oac_no_warn" dir="ltr">$ umount /mnt/dbfs
</pre></div>
                           </li>
                        </ol>
                     </div>
                  </div><a id="ADLOB46001"></a><div class="props_rev_3"><a id="GUID-78E752D1-3E67-483A-9A59-DD30FDF4A728" name="GUID-78E752D1-3E67-483A-9A59-DD30FDF4A728"></a><h5 id="ADLOB-GUID-78E752D1-3E67-483A-9A59-DD30FDF4A728" class="sect5">Restrictions on Mounted File Systems</h5>
                     <div>
                        <p>DBFS supports most file system operations with exceptions. Exceptions are:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">ioctl</code></p>
                           </li>
                           <li>
                              <p>range locking (file locking is supported)</p>
                           </li>
                           <li>
                              <p>asynchronous I/O through <code class="codeph">libaio</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">O_DIRECT</code> file opens
                              </p>
                           </li>
                           <li>
                              <p>hard links, pipes</p>
                           </li>
                           <li>
                              <p>other special file modes </p>
                           </li>
                        </ul>
                        <p>Memory-mapped files are supported except in shared-writable mode. For performance reasons, DBFS does not update the file access time every time file data or the file data attributes are read.</p>
                        <p>You cannot run programs from a DBFS-mounted file system if the <code class="codeph">direct_io</code> option is specified.
                        </p>
                        <p>Oracle does not support exporting DBFS file systems using NFS or Samba.</p>
                     </div>
                  </div>
               </div><a id="ADLOB46010"></a><div class="props_rev_3"><a id="GUID-85540258-FBB9-452B-8C20-F1D00A2ECA31" name="GUID-85540258-FBB9-452B-8C20-F1D00A2ECA31"></a><h4 id="ADLOB-GUID-85540258-FBB9-452B-8C20-F1D00A2ECA31" class="sect4">File System Security Model </h4>
                  <div>
                     <p>The database manages security in DBFS. It does not use the operating system security model. </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="using-DBFS.html#GUID-6006E126-7A80-4D8F-B35B-23E31096F512">About the File System Security Model</a></p>
                        </li>
                        <li>
                           <p><a href="using-DBFS.html#GUID-B23998F8-3354-4FBE-82F9-39D4739EE934">Enabling Shared Root Access</a></p>
                        </li>
                        <li>
                           <p><a href="using-DBFS.html#GUID-CBDEAA51-801F-444D-8895-CCDE0C21662B">About DBFS Access Among Multiple Database Users</a></p>
                        </li>
                        <li>
                           <p><a href="using-DBFS.html#GUID-0932DE6C-801B-4F37-8BA9-33866E76FF7A">Establishing DBFS Access Sharing Across Multiple Database Users</a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="props_rev_3"><a id="GUID-6006E126-7A80-4D8F-B35B-23E31096F512" name="GUID-6006E126-7A80-4D8F-B35B-23E31096F512"></a><h5 id="ADLOB-GUID-6006E126-7A80-4D8F-B35B-23E31096F512" class="sect5">About the File System Security Model</h5>
                     <div>
                        <p>DBFS operates under a security model where all file systems created by a user are private to that user, by default. </p>
                        <p>Oracle recommends maintaining this model. Because operating system users and Oracle Database users are different, it is possible to allow multiple operating system users to mount a single DBFS filesystem. These mounts may potentially have different mount options and permissions. For example, <code class="codeph">user1</code> may mount a DBFS filesystem as <code class="codeph">READ ONLY</code>, and <code class="codeph">user2</code> may mount it as <code class="codeph">READ WRITE</code>. However, Oracle Database views both users as having the same privileges because they would be accessing the filesystem as the same database user.
                        </p>
                        <p>Access to a database file system requires a database login as a database user with privileges on the tables that underlie the file system.The database administrator grants access to a file system to database users, and different database users may have different <code class="codeph">READ</code> or <code class="codeph">UPDATE</code> privileges to the file system. The database administrator has access to all files stored in the DBFS file system.
                        </p>
                        <p>On each client computer, access to a DBFS mount point is limited to the operating system user that mounts the file system. This, however, does not limit the number of users who can access the DBFS file system, because many users may separately mount the same DBFS file system.</p>
                        <p>DBFS only performs database privilege checking. Linux performs operating system file-level permission checking when a DBFS file system is mounted. DBFS does not perform this check either when using the command interface or when using the PL/SQL interface directly.</p>
                     </div>
                  </div><a id="ADLOB46163"></a><a id="ADLOB46162"></a><div class="props_rev_3"><a id="GUID-B23998F8-3354-4FBE-82F9-39D4739EE934" name="GUID-B23998F8-3354-4FBE-82F9-39D4739EE934"></a><h5 id="ADLOB-GUID-B23998F8-3354-4FBE-82F9-39D4739EE934" class="sect5">Enabling Shared Root Access</h5>
                     <div>
                        <div class="section">
                           <p>As an operating system user who mounts the file system, you can allow root access to the file system by specifying the <code class="codeph">allow_root</code> option. This option requires that the <code class="codeph">/etc/fuse.conf</code> file contain the <code class="codeph">user_allow_other</code> field, as demonstrated in <a href="using-DBFS.html#GUID-B23998F8-3354-4FBE-82F9-39D4739EE934__CIHDHFDH">Example 25-1</a>.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-B23998F8-3354-4FBE-82F9-39D4739EE934__CIHDHFDH">
                           <p class="titleinexample">Example 25-1 Enabling Root Access for Other Users</p><pre class="oac_no_warn" dir="ltr"># Allow users to specify the 'allow_root' mount option.
user_allow_other
</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="ADLOB46164"></a><div class="props_rev_3"><a id="GUID-CBDEAA51-801F-444D-8895-CCDE0C21662B" name="GUID-CBDEAA51-801F-444D-8895-CCDE0C21662B"></a><h5 id="ADLOB-GUID-CBDEAA51-801F-444D-8895-CCDE0C21662B" class="sect5">About DBFS Access Among Multiple Database Users</h5>
                     <div>
                        <p>Some circumstances may require that multiple database users access the same filesystem. For example, the database user that owns the filesystem may be a privileged user and sharing its user credentials may pose a security risk. To mitigate this, DBFS allows multiple database users to share a subset of the filesystem state.</p>
                        <p>While DBFS registrations and mounts made through the DBFS content API are private to each user, the underlying filesystem and the tables on which they rely may be shared across users. After this is done, the individual filesystems may be independently mounted and used by different database users, either through SQL/PLSQL, or through <code class="codeph">dbfs_client</code> APIs.
                        </p>
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-0932DE6C-801B-4F37-8BA9-33866E76FF7A" name="GUID-0932DE6C-801B-4F37-8BA9-33866E76FF7A"></a><h5 id="ADLOB-GUID-0932DE6C-801B-4F37-8BA9-33866E76FF7A" class="sect5">Establishing DBFS Access Sharing Across Multiple Database Users</h5>
                     <div>
                        <div class="section">
                           <p>You can share DBFS across multiple database users.</p>
                           <p>In the following example, user <code class="codeph">user1</code> is able to modify the filesystem, and user <code class="codeph">user2</code> can see these changes. Here, <code class="codeph">user1</code> is the database user that creates a filesystem, and <code class="codeph">user2</code> is the database user that eventually uses <code class="codeph">dbfs_client</code> to mount and access the filesystem. Both <code class="codeph">user1</code> and <code class="codeph">user2</code> must have the <code class="codeph">DBFS_ROLE</code> privilege.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>Connect as the user who creates the filesystem.</span><div><pre class="oac_no_warn" dir="ltr">sys@tank as sysdba&gt; connect user1
Connected.
</pre></div>
                           </li>
                           <li class="stepexpand"><span>Create the filesystem <code class="codeph">user1_FS</code>, register the store, and mount it as <code class="codeph">user1_mt</code>.</span><div><pre class="oac_no_warn" dir="ltr">user1@tank&gt; exec dbms_dbfs_sfs.createFilesystem('user1_FS');
user1@tank&gt; exec dbms_dbfs_content.registerStore('user1_FS', 'posix', 'DBMS_DBFS_SFS');
user1@tank&gt; exec dbms_dbfs_content.mountStore('user1_FS', 'user1_mnt');
user1@tank&gt; commit;
</pre></div>
                           </li>
                           <li class="stepexpand"><span>[Optional] You may check that the previous step has completed successfully by viewing all mounts.</span><div><pre class="oac_no_warn" dir="ltr">user1@tank&gt; select * from table(dbms_dbfs_content.listMounts);

STORE_NAME           |   STORE_ID|PROVIDER_NAME
---------------------|- ---------|------------------------------------------
PROVIDER_PKG         |PROVIDER_ID|PROVIDER_VERSION     |STORE_FEATURES
---------------------|-----------|---------------------|--------------------
STORE_GUID
----------
STORE_MOUNT
----------------------------------------------------------------------------
CREATED
----------------------------------------------------------------------------
MOUNT_PROPERTIES(PROPNAME, PROPVALUE, TYPECODE)
----------------------------------------------------------------------------
user1_FS             | 1362968596|posix
"DBMS_DBFS_SFS"      | 3350646887|0.5.0                | 12714135  141867344
user1_mnt
01-FEB-10 09.44.25.357858 PM
DBMS_DBFS_CONTENT_PROPERTIES_T(
&nbsp;&nbsp;DBMS_DBFS_CONTENT_PROPERTY_T('principal', (null), 9),
&nbsp;&nbsp;DBMS_DBFS_CONTENT_PROPERTY_T('owner', (null), 9), 
&nbsp;&nbsp;DBMS_DBFS_CONTENT_PROPERTY_T('acl', (null), 9), 
&nbsp;&nbsp;DBMS_DBFS_CONTENT_PROPERTY_T('asof', (null), 187),
&nbsp;&nbsp;DBMS_DBFS_CONTENT_PROPERTY_T('read_only', '0', 2))</pre><p></p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>[Optional] Connect as the user who will use the <code class="codeph">dbfs_client</code>.</span><div><pre class="oac_no_warn" dir="ltr">user1@tank&gt; connect user2
Connected.
</pre></div>
                           </li>
                           <li class="stepexpand"><span>[Optional] Note that <code class="codeph">user2</code> cannot see <code class="codeph">user1</code>'s DBFS state, as he has no mounts.</span><div><pre class="oac_no_warn" dir="ltr">user2@tank&gt; select * from table(dbms_dbfs_content.listMounts);
</pre></div>
                           </li>
                           <li class="stepexpand"><span>While connected as <code class="codeph">user1</code>, export filesystem <code class="codeph">user1_FS</code> for access to any user with <code class="codeph">DBFS_ROLE</code> privilege.</span><div><pre class="oac_no_warn" dir="ltr">user1@tank&gt; exec dbms_dbfs_sfs.exportFilesystem('user1_FS');
user1@tank&gt; commit;
</pre></div>
                           </li>
                           <li class="stepexpand"><span>Connect as the user who will use the <code class="codeph">dbfs_client</code>.</span><div><pre class="oac_no_warn" dir="ltr">user1@tank&gt; connect user2
Connected.
</pre></div>
                           </li>
                           <li class="stepexpand"><span>As <code class="codeph">user2</code>, view all available tables.</span><div><pre class="oac_no_warn" dir="ltr">user2@tank&gt; select * from table(dbms_dbfs_sfs.listTables);

SCHEMA_NAME&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |TABLE_NAME&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |PTABLE_NAME
---------------------------|---------------------------|-------------------
VERSION#
--------------------------------CREATED
---------------------------------------------------------------------------
FORMATTED
---------------------------------------------------------------------------
PROPERTIES(PROPNAME, PROPVALUE, TYPECODE)
---------------------------------------------------------------------------
user1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |SFS$_FST_11&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |SFS$_FSTP_11
0.5.0
01-FEB-10 09.43.53.497856 PM
01-FEB-10 09.43.53.497856 PM
(null)
</pre></div>
                           </li>
                           <li class="stepexpand"><span>As <code class="codeph">user2</code>, register and mount the store, but do not re-create the <code class="codeph">user1_FS</code> filesystem.</span><div><pre class="oac_no_warn" dir="ltr">user2@tank&gt; exec dbms_dbfs_sfs.registerFilesystem(
&nbsp;&nbsp;&nbsp;'user2_FS', 'user1', 'SFS$_FST_11');
user2@tank&gt; exec dbms_dbfs_content.registerStore(
&nbsp;&nbsp;&nbsp;'user2_FS', 'posix', 'DBMS_DBFS_SFS');
user2@tank&gt; exec dbms_dbfs_content.mountStore(
&nbsp;&nbsp;&nbsp;'user2_FS', 'user2_mnt');
user2@tank&gt; commit;
</pre></div>
                           </li>
                           <li class="stepexpand"><span>[Optional] As <code class="codeph">user2</code>, you may check that the previous step has completed successfully by viewing all mounts.</span><div><pre class="oac_no_warn" dir="ltr">user2@tank&gt; select * from table(dbms_dbfs_content.listMounts);

STORE_NAME           |   STORE_ID|PROVIDER_NAME
---------------------|- ---------|------------------------------------------
PROVIDER_PKG         |PROVIDER_ID|PROVIDER_VERSION     |STORE_FEATURES
---------------------|-----------|---------------------|--------------------
STORE_GUID
----------
STORE_MOUNT
----------------------------------------------------------------------------
CREATED
----------------------------------------------------------------------------
MOUNT_PROPERTIES(PROPNAME, PROPVALUE, TYPECODE)
----------------------------------------------------------------------------
user2_FS             | 1362968596|posix
"DBMS_DBFS_SFS"      | 3350646887|0.5.0                | 12714135  141867344
user1_mnt
01-FEB-10 09.46.16.013046 PM
DBMS_DBFS_CONTENT_PROPERTIES_T(
&nbsp;&nbsp;DBMS_DBFS_CONTENT_PROPERTY_T('principal', (null), 9),
&nbsp;&nbsp;DBMS_DBFS_CONTENT_PROPERTY_T('owner', (null), 9), 
&nbsp;&nbsp;DBMS_DBFS_CONTENT_PROPERTY_T('acl', (null), 9), 
&nbsp;&nbsp;DBMS_DBFS_CONTENT_PROPERTY_T('asof', (null), 187),
&nbsp;&nbsp;DBMS_DBFS_CONTENT_PROPERTY_T('read_only', '0', 2))</pre><p></p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>[Optional] List path names for <code class="codeph">user2</code> and <code class="codeph">user1</code>. Note that another mount, <code class="codeph">user2_mnt,</code>for store <code class="codeph">user2_FS,</code> is available for <code class="codeph">user2</code>. However, the underlying filesystem data is the same for <code class="codeph">user2</code> as for <code class="codeph">user1</code>.</span><div><pre class="oac_no_warn" dir="ltr">user2@tank&gt; select pathname from dbfs_content;
 
PATHNAME
-------------------------------------------------------------------------------
/user2_mnt
/user2_mnt/.sfs/tools
/user2_mnt/.sfs/snapshots
/user2_mnt/.sfs/content
/user2_mnt/.sfs/attributes
/user2_mnt/.sfs/RECYCLE
/user2_mnt/.sfs

user2@tank&gt; connect user1
Connected.

user1@tank&gt; select pathname from dbfs_content;
 
PATHNAME
---------------------
/user1_mnt
/user1_mnt/.sfs/tools
/user1_mnt/.sfs/snapshots
/user1_mnt/.sfs/content
/user1_mnt/.sfs/attributes
/user1_mnt/.sfs/RECYCLE
/user1_mnt/.sfs
</pre></div>
                           </li>
                           <li class="stepexpand"><span>In filesystem <code class="codeph">user1_FS</code>, <code class="codeph">user1</code> creates file <span class="italic"><code class="codeph">xxx</code></span>.</span><div><pre class="oac_no_warn" dir="ltr">user1@tank&gt; var ret number;
user1@tank&gt; var data blob;
user1@tank&gt; exec :ret := dbms_fuse.fs_create('/user1_mnt/<span class="italic">xxx</span>', content =&gt; :data);
user1@tank&gt; select :ret from dual;
      :RET
----------
         0
</pre></div>
                           </li>
                           <li class="stepexpand"><span>[Optional] Write to file <span class="italic"><code class="codeph">xxx</code></span>, created in the previous step.</span><div><pre class="oac_no_warn" dir="ltr">user1@tank&gt; var buf varchar2(100);
user1@tank&gt; exec :buf := 'hello world';
user1@tank&gt; exec dbms_lob.writeappend(:data, length(:buf), utl_raw.cast_to_raw(:buf));
user1@tank&gt; commit;
 </pre></div>
                           </li>
                           <li class="stepexpand"><span>[Optional] Show that file <span class="italic"><code class="codeph">xxx</code></span> exists, and contains the appended data.</span><div><pre class="oac_no_warn" dir="ltr">user1@tank&gt; select pathname, utl_raw.cast_to_varchar2(filedata) 
&nbsp;&nbsp;from dbfs_content where filedata is not null;
 
PATHNAME
-------------------------------------------------------------------------------
UTL_RAW.CAST_TO_VARCHAR2(FILEDATA)
-------------------------------------------------------------------------------
/user1_mnt/<span class="italic">xxx</span>
hello world
</pre></div>
                           </li>
                           <li class="stepexpand"><span>User <code class="codeph">user2</code> sees the same file in their own DBFS-specific path name and mount prefix.</span><div><pre class="oac_no_warn" dir="ltr">user1@tank&gt; connect user2
Connected.
 
user2@tank&gt; select pathname, utl_raw.cast_to_varchar2(filedata) from
&nbsp;&nbsp;dbfs_content where filedata is not null;
 
PATHNAME
-------------------------------------------------------------------------------
UTL_RAW.CAST_TO_VARCHAR2(FILEDATA)
-------------------------------------------------------------------------------
/user2_mnt/<span class="italic">xxx</span>
hello world
</pre></div>
                           </li>
                        </ol>
                        <div class="section">
                           <p>After the export and register pairing completes, both users behave as equals with regard to their usage of the underlying tables. The <code class="codeph">exportFilesystem()</code> procedure manages the necessary grants for access to the same data, which is shared between schemas. After <code class="codeph">user1</code> calls <code class="codeph">exportFilesystem()</code>, filesystem access may be granted to any user with <code class="codeph">DBFS_ROLE</code>. Note that a different role can be specified.
                           </p>
                           <p>Subsequently, <code class="codeph">user2</code> may create a new DBFS filesystem that shares the same underlying storage as the <code class="codeph">user1_FS</code> filesystem, by invoking <code class="codeph">dbms_dbfs_sfs.registerFilesystem()</code>, <code class="codeph">dbms_dbfs_sfs.registerStore()</code>, and <code class="codeph">dmbs_dbfs_sfs.mountStore()</code> procedure calls.
                           </p>
                           <p>When multiple database users share a filesystem, they must ensure that all database users unregister their interest in the filesystem before the owner (here, <code class="codeph">user1</code>) drops the filesystem.
                           </p>
                           <p>Oracle does not recommend that you run the DBFS as <code class="codeph">root</code>.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="ADLOB46203"></a><div class="props_rev_3"><a id="GUID-D6AE78C9-C618-4842-8B44-2BE42E1BEDE3" name="GUID-D6AE78C9-C618-4842-8B44-2BE42E1BEDE3"></a><h4 id="ADLOB-GUID-D6AE78C9-C618-4842-8B44-2BE42E1BEDE3" class="sect4">HTTP, WebDAV, and FTP Access to DBFS</h4>
                  <div>
                     <p>Components that enable HTTP, WebDAV, and FTP access to DBFS over the Internet use various XML DB server protocols.</p>
                     <p>Topics:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="using-DBFS.html#GUID-A7D24E13-93A7-4B58-92BB-27A93D1A5226">Internet Access to DBFS Through XDB </a></p>
                        </li>
                        <li>
                           <p><a href="using-DBFS.html#GUID-253DFD3A-DEE3-4D0C-BC06-3D423EA05EC6">Web Distributed Authoring and Versioning (WebDAV) Access</a></p>
                        </li>
                        <li>
                           <p><a href="using-DBFS.html#GUID-02C9A2D0-3647-48BE-81FF-876EB45CBC2F">FTP Access to DBFS</a></p>
                        </li>
                        <li>
                           <p><a href="using-DBFS.html#GUID-7A591ACE-C0BD-4AED-A216-22CC06645901">HTTP Access to DBFS</a></p>
                        </li>
                     </ul>
                  </div><a id="ADLOB46212"></a><div class="props_rev_3"><a id="GUID-A7D24E13-93A7-4B58-92BB-27A93D1A5226" name="GUID-A7D24E13-93A7-4B58-92BB-27A93D1A5226"></a><h5 id="ADLOB-GUID-A7D24E13-93A7-4B58-92BB-27A93D1A5226" class="sect5">Internet Access to DBFS Through XDB </h5>
                     <div>
                        <p>To provide database users who have DBFS authentication with a hierarchical file system-like view of registered and mounted DBFS stores, stores are displayed under the path <code class="codeph">/dbfs</code>. 
                        </p>
                        <p>The <code class="codeph">/dbfs</code> folder is a virtual folder because the resources in its subtree are stored in DBFS stores, not the XDB repository. XDB issues a <code class="codeph">dbms_dbfs_content.list()</code> command for the root path name "<code class="codeph">/</code>" (with invoker rights) and receives a list of store access points as subfolders in the <code class="codeph">/dbfs</code> folder. The list is comparable to <code class="codeph">store_mount</code> parameters passed to <code class="codeph">dbms_dbfs_content.mountStore().</code> FTP and WebDAV users can navigate to these stores, while HTTP and HTTPS users access URLs from browsers. 
                        </p>
                        <p>Note that features implemented by the XDB repository, such as repository events, resource configurations, and ACLs, are not available for the <code class="codeph">/dbfs</code> folder. 
                        </p>
                        <p><a href="DBFS-content-API.html#GUID-630BE6DB-0178-4EE4-8D7D-824BA886F68E" title="You can enable applications to use the Database File System (DBFS) in several different programming environments.">DBFS Content API</a> for guidelines on DBFS store creation, registration, deregistration, mount, unmount and deletion
                        </p>
                     </div>
                  </div><a id="ADLOB46213"></a><div class="props_rev_3"><a id="GUID-253DFD3A-DEE3-4D0C-BC06-3D423EA05EC6" name="GUID-253DFD3A-DEE3-4D0C-BC06-3D423EA05EC6"></a><h5 id="ADLOB-GUID-253DFD3A-DEE3-4D0C-BC06-3D423EA05EC6" class="sect5">Web Distributed Authoring and Versioning (WebDAV) Access</h5>
                     <div>
                        <p>WebDAV is an IETF standard protocol that provides users with a file-system-like interface to a repository over the Internet. </p>
                        <p>WebDAV server folders are typically accessed through Web Folders on Microsoft Windows (2000/NT/XP/Vista/7, and so on). You can access a resource using its fully qualified name, for example, <code class="codeph">/dbfs/sfs1/dir1/file1.txt</code>, where <code class="codeph">sfs1</code> is the name of a DBFS store. 
                        </p>
                        <p>You need to set up WebDAV on Windows to access the DBFS filesystem.</p>
                        <div class="infoboxnotealso" id="GUID-253DFD3A-DEE3-4D0C-BC06-3D423EA05EC6__GUID-5B101177-8FAF-4C5D-859F-2EF0C594CFBD">
                           <p class="notep1">See Also:</p>
                           <p><a href="../adxdb/repository-access-using-protocols.html#ADXDB5562" target="_blank"><span class="italic">Oracle XML DB Developer's Guide</span></a></p>
                        </div>
                        <p>The user authentication required to access the DBFS virtual folder is the same as for the XDB repository.</p>
                        <p>When a WebDAV client connects to a WebDAV server for the first time, the user is typically prompted for a username and password, which the client uses for all subsequent requests. From a protocol point-of-view, every request contains authentication information, which XDB uses to authenticate the user as a valid database user. If the user does not exist, the client does not get access to the DBFS store or the XDB repository. Upon successful authentication, the database user becomes the current user in the session. </p>
                        <p>XDB supports both basic authentication and digest authentication. For security reasons, it is highly recommended that HTTPS transport be used if basic authentication is enabled.</p>
                     </div>
                  </div><a id="ADLOB46214"></a><div class="props_rev_3"><a id="GUID-02C9A2D0-3647-48BE-81FF-876EB45CBC2F" name="GUID-02C9A2D0-3647-48BE-81FF-876EB45CBC2F"></a><h5 id="ADLOB-GUID-02C9A2D0-3647-48BE-81FF-876EB45CBC2F" class="sect5">FTP Access to DBFS</h5>
                     <div>
                        <p>FTP access to DBFS uses the standard FTP clients found on most Unix-based distributions. FTP is a file transfer mechanism built on client-server architecture with separate control and data connections. </p>
                        <p>FTP users are authenticated as database users. The protocol, as outlined in RFC 959, uses clear text user name and password for authentication. Therefore, FTP is not a secure protocol. </p>
                        <p>The following commands are supported for DBFS:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">USER</code>: Authentication username
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">PASS</code>: Authentication password
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">CWD</code>: Change working directory
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">CDUP</code>: Change to Parent directory
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">QUIT</code>: Disconnect
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">PORT</code>: Specifies an address and port to which the server should connect
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">PASV</code>: Enter passive mode
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">TYPE</code>: Sets the transfer mode, such as, ASCII or Binary
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">RETR</code>: Transfer a copy of the file
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">STOR</code>: Accept the data and store the data as a file at the server site 
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">RNFR</code>: Rename From
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">RNTO</code>: Rename To
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">DELE</code>: Delete file
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">RMD</code>: Remove directory
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">MKD</code>: Make a directory
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">PWD</code>: Print working directory
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">LIST</code>: Listing of a file or directory. Default is current directory.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">NLST</code>: Returns file names in a directory
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">HELP</code>: Usage document
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">SYST</code>: Return system type
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">FEAT</code>: Gets the feature list implemented by the server
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">NOOP</code>: No operation (used for keep-alives)
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">EPRT</code>: Extended address (IPv6) and port to which the server should connect
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">EPSV</code>: Enter extended passive mode (IPv6)
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="ADLOB46215"></a><div class="props_rev_3"><a id="GUID-7A591ACE-C0BD-4AED-A216-22CC06645901" name="GUID-7A591ACE-C0BD-4AED-A216-22CC06645901"></a><h5 id="ADLOB-GUID-7A591ACE-C0BD-4AED-A216-22CC06645901" class="sect5">HTTP Access to DBFS</h5>
                     <div>
                        <p>Users have read-only access through HTTP/HTTPS protocols. Users point their browsers to a DBFS store using the XDB HTTP server with a URL such as <code class="codeph">https://hostname:</code><span class="italic"><code class="codeph">port</code></span><code class="codeph">/dbfs/sfs1</code> where <code class="codeph">sfs1</code> is a DBFS store name.
                        </p>
                     </div>
                  </div>
               </div>
            </div><a id="ADLOB46008"></a><div class="props_rev_3"><a id="GUID-8665C1E7-C96A-4B17-A8F7-1889858EEF18" name="GUID-8665C1E7-C96A-4B17-A8F7-1889858EEF18"></a><h3 id="ADLOB-GUID-8665C1E7-C96A-4B17-A8F7-1889858EEF18" class="sect3">DBFS Administration</h3>
               <div>
                  <p><a id="d96781e4827" class="indexterm-anchor"></a>DBFS administration includes tools that perform diagnostics, manage failover, perform backup and so on. 
                  </p>
                  <p>Topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="using-DBFS.html#GUID-52358A56-B0C5-4D07-BEF4-1C7F6F100C02">Using Oracle Wallet with DBFS Client</a></p>
                     </li>
                     <li>
                        <p><a href="using-DBFS.html#GUID-E834E96E-F30D-45C0-8AF0-55B2F6361723">DBFS Diagnostics</a></p>
                     </li>
                     <li>
                        <p><a href="using-DBFS.html#GUID-1FFAC0EF-36D7-449A-A17A-A9A9FB513F48" title="The dbfs_client program can failover to one of the other existing database instances if one of the database instances in an Oracle RAC cluster fails.">Preventing Data Loss During Failover Events</a></p>
                     </li>
                     <li>
                        <p><a href="using-DBFS.html#GUID-98B94C27-7E22-4198-A3D2-A1B697D6B681">Bypassing Client-Side Write Caching</a></p>
                     </li>
                     <li>
                        <p><a href="using-DBFS.html#GUID-FE5CE3DE-FDC1-4F47-8407-D70FFA00AF99">Backing up DBFS</a></p>
                     </li>
                     <li>
                        <p><a href="using-DBFS.html#GUID-DE04F6CD-8E24-4CD8-8A74-1FAAE54211A9">Small File Performance of DBFS</a></p>
                     </li>
                     <li>
                        <p><a href="using-DBFS.html#GUID-32BF7F5E-1E6C-4CDD-81DC-DC9E6E55DC22">Enabling Advanced SecureFiles LOB Features for DBFS</a></p>
                     </li>
                  </ul>
               </div><a id="ADLOB46009"></a><div class="props_rev_3"><a id="GUID-52358A56-B0C5-4D07-BEF4-1C7F6F100C02" name="GUID-52358A56-B0C5-4D07-BEF4-1C7F6F100C02"></a><h4 id="ADLOB-GUID-52358A56-B0C5-4D07-BEF4-1C7F6F100C02" class="sect4">Using Oracle Wallet with DBFS Client</h4>
                  <div>
                     <div class="section">
                        <p>An Oracle Wallet allows the DBFS client to mount a DBFS store without requiring the user to enter a password. </p>
                        <div class="infoboxnotealso" id="GUID-52358A56-B0C5-4D07-BEF4-1C7F6F100C02__ORACLEDATABASEENTERPRISEUSERSECURIT-DFF94F39">
                           <p class="notep1">See Also:</p>
                           <p><a href="../dbimi/using-oracle-wallet-manager.html#DBIMI160" target="_blank"><span class="italic">Oracle Database Enterprise User Security Administrator's Guide</span></a> for more information about creation and management of wallets
                           </p>
                        </div>
                        <p>The "<code class="codeph">/@</code>" syntax means to use the wallet, as shown in Step <a href="using-DBFS.html#GUID-52358A56-B0C5-4D07-BEF4-1C7F6F100C02__CIHEDBAE">7</a>. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Create a directory for the wallet. For example:</span><div><pre class="oac_no_warn" dir="ltr">mkdir $ORACLE_HOME/oracle/wallet
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Create an auto-login wallet.</span><div><pre class="oac_no_warn" dir="ltr">mkstore -wrl $ORACLE_HOME/oracle/wallet -create
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Add the wallet location in the client's <code class="codeph">sqlnet.ora</code> file:</span><div><pre class="oac_no_warn" dir="ltr">WALLET_LOCATION = (SOURCE = (METHOD = FILE) (METHOD_DATA = (DIRECTORY =
 $ORACLE_HOME/oracle/wallet) ) ) 
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Add the following parameter in the client's <code class="codeph">sqlnet.ora</code> file:</span><div><pre class="oac_no_warn" dir="ltr">SQLNET.WALLET_OVERRIDE = TRUE
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Create credentials:</span><div><pre class="oac_no_warn" dir="ltr">mkstore -wrl <span class="italic">wallet_location</span> -createCredential <span class="italic">db_connect_string</span> <span class="italic">username</span> <span class="italic">password</span>
</pre><p>For example:</p><pre class="oac_no_warn" dir="ltr">mkstore -wrl $ORACLE_HOME/oracle/wallet -createCredential DBConnectString scott <span class="italic">password</span>
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Add the connection alias to your <code class="codeph">tnsnames.ora</code> file.</span></li>
                        <li class="stepexpand" id="GUID-52358A56-B0C5-4D07-BEF4-1C7F6F100C02__CIHEDBAE"><span>Use <code class="codeph">dbfs_client</code> with Oracle Wallet.</span><div>
                              <p>For example:</p><pre class="oac_no_warn" dir="ltr">$ dbfs_client -o wallet /@DBConnectString /mnt/dbfs </pre></div>
                        </li>
                     </ol>
                  </div>
               </div><a id="ADLOB46011"></a><div class="props_rev_3"><a id="GUID-E834E96E-F30D-45C0-8AF0-55B2F6361723" name="GUID-E834E96E-F30D-45C0-8AF0-55B2F6361723"></a><h4 id="ADLOB-GUID-E834E96E-F30D-45C0-8AF0-55B2F6361723" class="sect4">DBFS Diagnostics</h4>
                  <div>
                     <p>The <code class="codeph">dbfs_client</code> program supports multiple levels of tracing to help diagnose problems. It  can either output traces to a file or to <code class="codeph">/var/log/messages</code> using the <code class="codeph">syslog</code> daemon on Linux. 
                     </p>
                     <p>When you trace to a file, the <code class="codeph">dbfs_client</code> program keeps two trace files on disk. <code class="codeph">dbfs_client</code>, rotates the trace files automatically, and limits disk usage to 20 MB.
                     </p>
                     <p>By default, tracing is turned off except for critical messages which are always logged to <code class="codeph">/var/log/messages</code>. 
                     </p>
                     <p>If <code class="codeph">dbfs_client</code> cannot connect to the Oracle Database, enable tracing using the <code class="codeph">trace_level</code> and <code class="codeph">trace_file</code> options. Tracing prints additional messages to log file for easier debugging.
                     </p>
                     <p>DBFS uses Oracle Database for storing files. Sometimes Oracle server issues are propagated to <code class="codeph">dbfs_client</code> as errors. If there is a <code class="codeph">dbfs_client</code> error, please view the Oracle server logs to see if that is the root cause.
                     </p>
                  </div>
               </div><a id="ADLOB46166"></a><a id="ADLOB46012"></a><div class="props_rev_3"><a id="GUID-1FFAC0EF-36D7-449A-A17A-A9A9FB513F48" name="GUID-1FFAC0EF-36D7-449A-A17A-A9A9FB513F48"></a><h4 id="ADLOB-GUID-1FFAC0EF-36D7-449A-A17A-A9A9FB513F48" class="sect4">Preventing Data Loss During Failover Events</h4>
                  <div>
                     <p>The <code class="codeph">dbfs_client</code> program can failover to one of the other existing database instances if one of the database instances in an Oracle RAC cluster fails. 
                     </p>
                     <div class="p">For <code class="codeph">dbfs_client</code> failover to work correctly, you must modify the Oracle database service and specify failover parameters.  Run the <code class="codeph">DBMS_SERVICE.MODIFY_SERVICE</code> procedure to modify the service as shown <a href="using-DBFS.html#GUID-1FFAC0EF-36D7-449A-A17A-A9A9FB513F48__CIHJDDEE">Example 25-2</a></div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-1FFAC0EF-36D7-449A-A17A-A9A9FB513F48__CIHJDDEE">
                        <p class="titleinexample">Example 25-2 Enabling DBFS Client Failover Events</p><pre class="oac_no_warn" dir="ltr">exec DBMS_SERVICE.MODIFY_SERVICE(service_name =&gt; 'service_name',
              aq_ha_notifications =&gt; true,
              failover_method =&gt; 'BASIC',
              failover_type =&gt; 'SELECT',
              failover_retries =&gt; 180,
              failover_delay =&gt; 1);
</pre><p>Once you have completed the prerequisite, you can prevent data loss during a failover of the DBFS connection after a failure of the back-end Oracle database instance. In this case, cached <span class="italic">writes</span> may be lost if the client loses the connection. However, back-end failover to other Oracle RAC instances or standby databases does not cause lost writes. 
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p> Specify the <code class="codeph">-o failover</code> mount option:
                              </p><pre class="oac_no_warn" dir="ltr">$ dbfs_client <span class="italic">database_user</span>@<span class="italic">database_server</span> -o failover /mnt/dbfs </pre></li>
                        </ul>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADLOB46013"></a><div class="props_rev_3"><a id="GUID-98B94C27-7E22-4198-A3D2-A1B697D6B681" name="GUID-98B94C27-7E22-4198-A3D2-A1B697D6B681"></a><h4 id="ADLOB-GUID-98B94C27-7E22-4198-A3D2-A1B697D6B681" class="sect4">Bypassing Client-Side Write Caching</h4>
                  <div>
                     <div class="section">
                        <p>The sharing and caching semantics for <code class="codeph">dbfs_client</code> are similar to NFS in using the <span class="italic">close-to-open cache consistency</span> behavior. This allows multiple copies of <code class="codeph">dbfs_client</code> to access the same shared file system. The default mode caches writes on the client and flushes them after a timeout or after the user closes the file. Also, writes to a file only appear to clients that open the file after the writer closed the file. 
                        </p>
                        <p>You can bypass client-side write caching.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Specify <code class="codeph">O_SYNC</code> when the file is opened.
                              </p>
                              <p>To force writes in the cache to disk call <code class="codeph">fsync</code>. 
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADLOB46014"></a><div class="props_rev_3"><a id="GUID-FE5CE3DE-FDC1-4F47-8407-D70FFA00AF99" name="GUID-FE5CE3DE-FDC1-4F47-8407-D70FFA00AF99"></a><h4 id="ADLOB-GUID-FE5CE3DE-FDC1-4F47-8407-D70FFA00AF99" class="sect4">Backing up DBFS</h4>
                  <div>
                     <p>You have two alternatives for backing up DBFS. You can back up the tables that underlie the file system at the database level or use a file system backup utility, such as Oracle Secure Backup, through a mount point.</p>
                     <p>Topics:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="using-DBFS.html#GUID-CF5FAA8E-5F15-483C-9684-7A9F05B7EE18">DBFS Backup at the Database Level</a></p>
                        </li>
                        <li>
                           <p><a href="using-DBFS.html#GUID-3A4486EB-05E9-442C-B93D-880984472D69">DBFS Backup Through a File System Utility</a></p>
                        </li>
                     </ul>
                  </div><a id="ADLOB46168"></a><div class="props_rev_3"><a id="GUID-CF5FAA8E-5F15-483C-9684-7A9F05B7EE18" name="GUID-CF5FAA8E-5F15-483C-9684-7A9F05B7EE18"></a><h5 id="ADLOB-GUID-CF5FAA8E-5F15-483C-9684-7A9F05B7EE18" class="sect5">DBFS Backup at the Database Level</h5>
                     <div>
                        <p>An advantage of backing up the tables at the database level is that the files in the file system are always consistent with the relational data in the database. A full restore and recover of the database also fully restores and recovers the file system with no data loss. During a point-in-time recovery of the database, the files are recovered to the specified time. As usual with database backup, modifications that occur during the backup do not affect the consistency of a restore. The entire restored file system is always consistent with respect to a specified time stamp.</p>
                     </div>
                  </div><a id="ADLOB46169"></a><div class="props_rev_3"><a id="GUID-3A4486EB-05E9-442C-B93D-880984472D69" name="GUID-3A4486EB-05E9-442C-B93D-880984472D69"></a><h5 id="ADLOB-GUID-3A4486EB-05E9-442C-B93D-880984472D69" class="sect5">DBFS Backup Through a File System Utility</h5>
                     <div>
                        <div class="section">
                           <p>The advantage of backing up the file system using a file system backup utility is that individual files can be restored from backup more easily. Any changes made to the restored files after the last backup are lost.</p>
                           <p>Specify the <code class="codeph">allow_root</code> mount option if backups are scheduled using the Oracle Secure Backup Administrative Server. 
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="ADLOB46015"></a><div class="props_rev_3"><a id="GUID-DE04F6CD-8E24-4CD8-8A74-1FAAE54211A9" name="GUID-DE04F6CD-8E24-4CD8-8A74-1FAAE54211A9"></a><h4 id="ADLOB-GUID-DE04F6CD-8E24-4CD8-8A74-1FAAE54211A9" class="sect4">Small File Performance of DBFS</h4>
                  <div>
                     <p>Like any shared file system, the performance of DBFS for small files lags the performance of a local file system. </p>
                     <p>Each file data or metadata operation in DBFS must go through the <code class="codeph">FUSE</code> user mode file system and then be forwarded across the network to the database. Therefore, each operation that is not cached on the client takes a few milliseconds to run in DBFS.
                     </p>
                     <p>For operations that involve an input/output (IO) to disk, the time delay overhead is masked by the wait for the disk IO. Naturally, larger IOs have a lower percentage overhead than smaller IOs. The network overhead is more noticeable for operations that do not issue a disk IO.</p>
                     <p>When you compare the operations on a few small files with a local file system, the overhead is not noticeable, but operations that affect thousands of small files incur a much more noticeable overhead. For example, listing a single directory or looking at a single file produce near instantaneous response, while searching across a directory tree with many thousands of files results in a larger relative overhead.</p>
                  </div>
               </div><a id="ADLOB46170"></a><a id="ADLOB46016"></a><div class="props_rev_3"><a id="GUID-32BF7F5E-1E6C-4CDD-81DC-DC9E6E55DC22" name="GUID-32BF7F5E-1E6C-4CDD-81DC-DC9E6E55DC22"></a><h4 id="ADLOB-GUID-32BF7F5E-1E6C-4CDD-81DC-DC9E6E55DC22" class="sect4">Enabling Advanced SecureFiles LOB Features for DBFS</h4>
                  <div>
                     <div class="section">
                        <p>DBFS offers advanced features available with SecureFiles LOBs: compression, deduplication, encryption, and partitioning. </p>
                        <p>For example, DBFS can be configured as a compressed file system with partitioning. At the time of creating a DBFS file system, you must specify the set of enabled features for the file system.</p>
                        <div class="infoboxnotealso" id="GUID-32BF7F5E-1E6C-4CDD-81DC-DC9E6E55DC22__USINGORACLELOBSTORAGEANDCREATINGAPA-DFF9C4E2">
                           <p class="notep1">See Also:</p>
                           <p><a href="using-oracle-LOBs-storage.html#GUID-EC76077B-3EE9-491E-AC6D-171DA919B84C" title="Oracle LOB storage has two types, SecureFiles LOB storage and BasicFiles LOB storage, which are used with different types of tablespaces.">Using Oracle LOB Storage</a> and <a href="using-DBFS.html#GUID-8735D535-2E13-4702-95F9-01F931F2BF46" title="Partitioning creates multiple physical segments in the database, and files are distributed randomly in these partitions.">Creating a Partitioned File System</a> for more information about the features of SecureFiles LOBs.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-32BF7F5E-1E6C-4CDD-81DC-DC9E6E55DC22__GUID-E34C30BB-4066-4E46-BC7E-ADA00283E4B9">
                        <p class="titleinexample">Example 25-3 Enabling Advanced Secure Files LOB Features for DBFS</p><pre class="oac_no_warn" dir="ltr">$ sqlplus @dbfs_create_filesystem_advanced <span class="italic">tablespace_name</span> <span class="italic">file_system­name</span>
&nbsp;&nbsp;[compress-high | compress-medium | compress-low | nocompress] 
&nbsp;&nbsp;[deduplicate | nodeduplicate]
&nbsp;&nbsp;[encrypt | noencrypt]
&nbsp;&nbsp;[partition | non-partition]</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="ADLOB46216"></a><div class="props_rev_3"><a id="GUID-68FE78C8-798C-40DB-8566-F09EB27F4CC9" name="GUID-68FE78C8-798C-40DB-8566-F09EB27F4CC9"></a><h3 id="ADLOB-GUID-68FE78C8-798C-40DB-8566-F09EB27F4CC9" class="sect3">Shrinking and Reorganizing DBFS Filesystems</h3>
               <div>
                  <p>A DBFS Filesystem uses Online Filesystem Reorganization to shrink itself, enabling the release of allocated space back to the containing tablespace. </p>
                  <p>Topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="using-DBFS.html#GUID-53227EBD-8AFE-47CF-813F-6B509677B83E">About Changing DBFS Filesystems</a></p>
                     </li>
                     <li>
                        <p><a href="using-DBFS.html#GUID-FD348CE7-CE3D-4A88-B5D2-6EBAFFC35923" title="DBFS Online Filesystem Reorganization is a powerful data movement facility with these certain advantages."> Advantages of Online Filesystem Reorganization</a></p>
                     </li>
                     <li>
                        <p><a href="using-DBFS.html#GUID-93914AB9-E5DB-4C02-82CC-D9E9EF15F00B">Determining Availability of Online Filesystem Reorganization</a></p>
                     </li>
                     <li>
                        <p><a href="using-DBFS.html#GUID-3DF29109-3B00-4C76-819F-6017BF4671A0">Invoking Online Filesystem Reorganization</a></p>
                     </li>
                  </ul>
               </div>
               <div class="props_rev_3"><a id="GUID-53227EBD-8AFE-47CF-813F-6B509677B83E" name="GUID-53227EBD-8AFE-47CF-813F-6B509677B83E"></a><h4 id="ADLOB-GUID-53227EBD-8AFE-47CF-813F-6B509677B83E" class="sect4">About Changing DBFS Filesystems</h4>
                  <div>
                     <p>DBFS filesystems, like other database segments, grow dynamically with the addition or enlargement of files and directories. Growth occurs with the allocation of space from the tablespace that holds the DBFS filesystem to the various segments that make up the filesystem.</p>
                     <p>However, even if files and directories in the DBFS filesystem are deleted, the allocated space is not released back to the containing tablespace, but continues to exist and be available for other DBFS entities. A process called Online Filesystem Reorganization solves this problem by shrinking the DBFS Filesystem.</p>
                     <p>The DBFS Online Filesystem Reorganization utility internally uses the Oracle Database online redefinition facility, with the original filesystem and a temporary placeholder corresponding to the base and interim objects in the online redefinition model. </p>
                     <div class="infoboxnotealso" id="GUID-53227EBD-8AFE-47CF-813F-6B509677B83E__GUID-A62284D2-7AD4-4C53-8DA1-C2A956837954">
                        <p class="notep1">See Also:</p>
                        <p><a href="../admin/managing-tables.html#ADMIN01514" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> for further information about online redefinition
                        </p>
                     </div>
                  </div>
               </div><a id="ADLOB46217"></a><div class="props_rev_3"><a id="GUID-FD348CE7-CE3D-4A88-B5D2-6EBAFFC35923" name="GUID-FD348CE7-CE3D-4A88-B5D2-6EBAFFC35923"></a><h4 id="ADLOB-GUID-FD348CE7-CE3D-4A88-B5D2-6EBAFFC35923" class="sect4"> Advantages of Online Filesystem Reorganization</h4>
                  <div>
                     <p>DBFS Online Filesystem Reorganization is a powerful data movement facility with these certain advantages. </p>
                     <p>These are:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="bold">It is online:</span> When reorganization is taking place, the filesystem remains fully available for read and write operations for all applications.
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">It can reorganize the structure:</span> The underlying physical structure and organization of the DBFS filesystem can be changed in many ways, such as:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>A non-partitioned filesystem can be converted to a partitioned filesystem and vice-versa.</p>
                              </li>
                              <li>
                                 <p>Special SecureFiles LOB properties can be selectively enabled or disabled in any combination, including the compression, encryption, and deduplication properties. </p>
                              </li>
                              <li>
                                 <p>The data in the filesystem can be moved across tablespaces or within the same tablespace.</p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p><span class="bold">It can reorganize multiple filesystems concurrently:</span> Multiple different filesystems can be reorganized at the same time, if no temporary filesystems have the same name and the tablespaces have enough free space, typically, twice the space requirement for each filesystem being reorganized.
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="ADLOB46218"></a><div class="props_rev_3"><a id="GUID-93914AB9-E5DB-4C02-82CC-D9E9EF15F00B" name="GUID-93914AB9-E5DB-4C02-82CC-D9E9EF15F00B"></a><h4 id="ADLOB-GUID-93914AB9-E5DB-4C02-82CC-D9E9EF15F00B" class="sect4">Determining Availability of Online Filesystem Reorganization</h4>
                  <div>
                     <div class="section">
                        <p>DBFS for Oracle Database 12<span class="italic">c</span> and later supports online filesystem reorganization. Some earlier versions also support the facility. To determine if your version does, query for a specific function in the DBFS PL/SQL packages, as shown below:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Query for a specific function in the DBFS PL/SQL packages.</p>
                           </li>
                        </ul><pre class="oac_no_warn" dir="ltr">$ sqlplus / as sysdba
SELECT * FROM dba_procedures
WHERE   owner = 'SYS'
    and object_name = 'DBMS_DBFS_SFS'
    and procedure_name = 'REORGANIZEFS';
</pre><p>If this query returns a single row similar to the one in this output, the DBFS installation supports Online Filesystem Reorganization. If the query does not return any rows, then the DBFS installation should either be upgraded or requires a patch for bug-10051996.</p><pre class="oac_no_warn" dir="ltr"> 
OWNER
----------------------------------------------------------------------------------
OBJECT_NAME
----------------------------------------------------------------------------------
PROCEDURE_NAME
----------------------------------------------------------------------------------
OBJECT_ID|SUBPROGRAM_ID|OVERLOAD                                |OBJECT_TYPE  |AGG|PIP
----------|-------------|-----------------------------------|-------------|---|---
IMPLTYPEOWNER
----------------------------------------------------------------------------------
IMPLTYPENAME
----------------------------------------------------------------------------------
PAR|INT|DET|AUTHID
---|---|---|------------
SYS
DBMS_DBFS_SFS
REORGANIZEFS
     11424|           52|(null)                                  |PACKAGE      |NO |NO
(null)
(null)
NO |NO |NO |CURRENT_USER
</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ADLOB46219"></a><div class="props_rev_3"><a id="GUID-3DF29109-3B00-4C76-819F-6017BF4671A0" name="GUID-3DF29109-3B00-4C76-819F-6017BF4671A0"></a><h4 id="ADLOB-GUID-3DF29109-3B00-4C76-819F-6017BF4671A0" class="sect4">Invoking Online Filesystem Reorganization</h4>
                  <div>
                     <div class="section">
                        <p>You can perform an Online Filesystem Reorganization by creating a temporary DBFS filesystem. </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>Create a temporary DBFS filesystem with the desired new organization and structure: including the desired target tablespace (which may be the same tablespace as the filesystem being reorganized), desired target SecureFiles LOB storage properties (compression, encryption, or deduplication), and so on.</span></li>
                        <li><span>Invoke the PL/SQL procedure to reorganize the DBFS filesystem using the newly-created temporary filesystem for data movement.</span></li>
                        <li><span>Once the reorganization procedure completes, drop the temporary filesystem.</span></li>
                     </ol>
                     <div class="section">
                        <p>The example below reorganizes DBFS filesystem <code class="codeph">FS1</code> in tablespace <code class="codeph">TS1</code> into a new tablespace <code class="codeph">TS2</code>, using a temporary filesystem named <code class="codeph">TMP_FS</code>, where all filesystems belong to database user <code class="codeph">dbfs_user</code>:
                        </p><pre class="oac_no_warn" dir="ltr">$ cd $ORACLE_HOME/rdbms/admin
$ sqlplus dbfs_user/***
 
@dbfs_create_filesystem TS2 TMP_FS
EXEC DBMS_DBFS_SFS.REORGANIZEFS('FS1', 'TMP_FS');
@dbfs_drop_filesystem TMP_FS
QUIT;
</pre><p>where:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">TMP_FS</code> can have any valid name. It is intended as a temporary placeholder and can be dropped (as shown in the example above) or retained as a fully materialized point-in-time snapshot of the original filesystem.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">FS1</code> is the original filesystem and is unaffected by the attempted reorganization. It remains usable for all DBFS operations, including SQL, PL/SQL, and <code class="codeph">dbfs_client</code> mounts and commandline, during the reorganization. At the end of the reorganization, FS1 has the new structure and organization used to create <code class="codeph">TMP_FS</code> and vice versa (<code class="codeph">TMP_FS</code> will have the structure and organization originally used for <code class="codeph">FS1</code>). If the reorganization fails for any reason, DBFS attempts to clean up the internal state of <code class="codeph">FS1</code>.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">TS2</code> needs enough space to accommodate all active (non-deleted) files and directories in <code class="codeph">FS1</code>.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">TS1</code> needs at least twice the amount of space being used by <code class="codeph">FS1</code> if the filesystem is moved within the same tablespace as part of a shrink.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='03687.georaster-datatypes.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="The object-relational implementation of GeoRaster consists of a set of object data types for storing data and system data.">
      <meta name="description" content="The object-relational implementation of GeoRaster consists of a set of object data types for storing data and system data.">
      <title>GeoRaster Data Types and Related Structures</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="GeoRaster Developer's Guide ">
      <meta property="og:description" content="The object-relational implementation of GeoRaster consists of a set of object data types for storing data and system data.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="GeoRaster Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="spatial-and-graph-georaster-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-14T11:48:45-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E94793-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="georaster-overview-and-concepts.html" title="Previous" type="text/html">
      <link rel="next" href="georaster-database-creation-management.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Spatial and Graph GeoRaster Developer's Guide">
    <meta name="dcterms.isVersionOf" content="GEORS">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="georaster-overview-and-concepts.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="georaster-database-creation-management.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">GeoRaster Developer's Guide </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">GeoRaster Data Types and Related Structures</li>
            </ol>
            <a id="GUID-98F692F8-C05A-4D8F-AB6A-484D5268D30A" name="GUID-98F692F8-C05A-4D8F-AB6A-484D5268D30A"></a><a id="GEORS200"></a>
            
            <h2 id="GEORS-GUID-98F692F8-C05A-4D8F-AB6A-484D5268D30A" class="sect2"><span class="enumeration_chapter">2 </span>GeoRaster Data Types and Related Structures
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The object-relational implementation of GeoRaster consists of a set of object data types for storing data and system data.</p>
               <p>Each image or gridded raster data is stored in a column of type SDO_GEORASTER, and the blocks in that raster data are stored in a raster data table of type SDO_RASTER, as explained and illustrated in <a href="georaster-overview-and-concepts.html#GUID-DB21CC32-06DC-4E18-A4FB-B15C389C1F72" title="GeoRaster optimizes the physical storage of metadata and data.">GeoRaster Physical Storage</a>. This chapter contains the following major sections.
               </p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="georaster-datatypes.html#GUID-80616475-2A56-43B9-B707-58B369661632">SDO_GEORASTER Object Type</a><br>In the GeoRaster object-relational model, a raster image or grid object is stored in a single row, in a single column of object type SDO_GEORASTER in a user-defined table. Tables with at least one column of type SDO_GEORASTER are referred to as GeoRaster tables.
                  </li>
                  <li class="ulchildlink"><a href="georaster-datatypes.html#GUID-9679F06D-50A0-4EF7-9204-E85CA2F38378">SDO_RASTER Object Type and the Raster Data Table</a><br>In the GeoRaster object-relational model, a raster data table is used to store all cell data in a raster image.
                  </li>
                  <li class="ulchildlink"><a href="georaster-datatypes.html#GUID-690756C5-5114-47B0-B417-B939BF5FBBA6">Other GeoRaster Types</a><br>GeoRaster also porvides some other data types.
                  </li>
                  <li class="ulchildlink"><a href="georaster-datatypes.html#GUID-657BA65F-E8FF-41D7-94B6-BA412993EC52">GeoRaster System Data Views (xxx_SDO_GEOR_SYSDATA)</a><br>GeoRaster uses a system data table (also called the sysdata table) to maintain the relationship between GeoRaster tables and their related raster data tables.
                  </li>
                  <li class="ulchildlink"><a href="georaster-datatypes.html#GUID-16D246D1-7895-4C68-BFFC-79DBA2926C46">GeoRaster XML Schema</a><br>GeoRaster defines an XML schema to store and manage the GeoRaster metadata. 
                  </li>
               </ul>
            </div>
            <a id="GEORS953"></a><div class="props_rev_3"><a id="GUID-80616475-2A56-43B9-B707-58B369661632" name="GUID-80616475-2A56-43B9-B707-58B369661632"></a><h3 id="GEORS-GUID-80616475-2A56-43B9-B707-58B369661632" class="sect3"><span class="enumeration_section">2.1 </span>SDO_GEORASTER Object Type
               </h3>
               <div>
                  <p>In the GeoRaster object-relational model, a raster image or grid object is stored in a single row, in a single column of object type SDO_GEORASTER in a user-defined table. Tables with at least one column of type SDO_GEORASTER are referred to as GeoRaster tables.</p>
                  <p>The SDO_GEORASTER object type is defined as:</p><pre class="oac_no_warn" dir="ltr">CREATE TYPE sdo_georaster AS OBJECT (
 rasterType       NUMBER,
 spatialExtent    SDO_GEOMETRY,
 rasterDataTable  VARCHAR2(128),
 rasterID         NUMBER,
 metadata         XMLType);
</pre><p>The sections that follow describe the semantics of each SDO_GEORASTER attribute.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="georaster-datatypes.html#GUID-FC03ECF3-D18F-46BE-A8D5-6B41AAA937AF">rasterType Attribute</a><br></li>
                     <li class="ulchildlink"><a href="georaster-datatypes.html#GUID-E392DB15-C7C3-40E8-815C-527D2CD1F45F">spatialExtent Attribute</a><br></li>
                     <li class="ulchildlink"><a href="georaster-datatypes.html#GUID-212AA5DB-FBB5-4B56-96D8-DF72403E372C">rasterDataTable Attribute</a><br></li>
                     <li class="ulchildlink"><a href="georaster-datatypes.html#GUID-9D0532DD-1A16-433A-AB57-205B2A0CAF19">rasterID Attribute</a><br></li>
                     <li class="ulchildlink"><a href="georaster-datatypes.html#GUID-3460694F-88BD-4132-B923-A4F06A058F43">metadata Attribute</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="georaster-datatypes.html#GUID-98F692F8-C05A-4D8F-AB6A-484D5268D30A" title="The object-relational implementation of GeoRaster consists of a set of object data types for storing data and system data.">GeoRaster Data Types and Related Structures</a></p>
                     </div>
                  </div>
               </div>
               <a id="GEORS954"></a><div class="props_rev_3"><a id="GUID-FC03ECF3-D18F-46BE-A8D5-6B41AAA937AF" name="GUID-FC03ECF3-D18F-46BE-A8D5-6B41AAA937AF"></a><h4 id="GEORS-GUID-FC03ECF3-D18F-46BE-A8D5-6B41AAA937AF" class="sect4"><span class="enumeration_section">2.1.1 </span>rasterType Attribute
                  </h4>
                  <div>
                     <p>The <code class="codeph">rasterType</code> attribute must be a 5-digit number in the format <code class="codeph">[d][b][t][gt]</code>, where:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">[d]</code> identifies the number of spatial dimensions. Must be 2 for the current release.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">[b]</code> indicates band or layer information: 0 means one band or layer; 1 means one or more than one band or layer. Note that you are <span class="italic">not</span> specifying the total number of bands or layers in this field. (For information about bands and layers, see <a href="georaster-overview-and-concepts.html#GUID-9E5186D8-1206-4619-A260-F689FF724CFC" title="In GeoRaster, band and layer are different concepts.">Bands_ Layers_ and Metadata</a>.)
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">[t]</code> is reserved for future use and should be specified as 0 (zero).
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">[gt]</code> identifies the 2-digit GeoRaster type, and must be one of the following values:
                           </p>
                           <div class="tblformal" id="GUID-FC03ECF3-D18F-46BE-A8D5-6B41AAA937AF__GUID-1927D903-68CE-49CD-B921-2060ADE60AC2">
                              <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This 2 column table gives [gt] (GeoRaster type) values and meanings. Column 1 is the [gt] Value. Column 2 is the meaning. " width="90%" frame="hsides" border="1" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="13%" id="d11341e236">[gt] Value</th>
                                       <th align="left" valign="bottom" width="87%" id="d11341e239">Meaning</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="13%" id="d11341e244" headers="d11341e236 ">
                                          <p>00</p>
                                       </td>
                                       <td align="left" valign="top" width="87%" headers="d11341e244 d11341e239 ">
                                          <p>Reserved for Oracle use.</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="13%" id="d11341e251" headers="d11341e236 ">
                                          <p>01</p>
                                       </td>
                                       <td align="left" valign="top" width="87%" headers="d11341e251 d11341e239 ">
                                          <p>Any GeoRaster type. This is the only value supported for the current release. This value causes GeoRaster not to apply any restrictions associated with specific types that might be implemented in future releases.</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="13%" id="d11341e258" headers="d11341e236 ">
                                          <p>02-50</p>
                                       </td>
                                       <td align="left" valign="top" width="87%" headers="d11341e258 d11341e239 ">
                                          <p>Reserved for Oracle use.</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="13%" id="d11341e265" headers="d11341e236 ">
                                          <p>51-99</p>
                                       </td>
                                       <td align="left" valign="top" width="87%" headers="d11341e265 d11341e239 ">
                                          <p>Reserved for customer use in future releases.</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </li>
                     </ul>
                     <p>For example, a RasterType value of 20001 means:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Two-dimensional data</p>
                        </li>
                        <li>
                           <p>One band (layer)</p>
                        </li>
                        <li>
                           <p>Any GeoRaster type</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="georaster-datatypes.html#GUID-80616475-2A56-43B9-B707-58B369661632" title="In the GeoRaster object-relational model, a raster image or grid object is stored in a single row, in a single column of object type SDO_GEORASTER in a user-defined table. Tables with at least one column of type SDO_GEORASTER are referred to as GeoRaster tables.">SDO_GEORASTER Object Type</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="GEORS955"></a><div class="props_rev_3"><a id="GUID-E392DB15-C7C3-40E8-815C-527D2CD1F45F" name="GUID-E392DB15-C7C3-40E8-815C-527D2CD1F45F"></a><h4 id="GEORS-GUID-E392DB15-C7C3-40E8-815C-527D2CD1F45F" class="sect4"><span class="enumeration_section">2.1.2 </span>spatialExtent Attribute
                  </h4>
                  <div>
                     <p>The <code class="codeph">spatialExtent</code> attribute identifies the <span class="bold">spatial extent</span>, or <span class="italic">footprint</span>, associated with the raster data. The spatial extent is an Oracle Spatial and Graph geometry of type SDO_GEOMETRY. The spatial extent geometry can be in any coordinate system, not necessarily in the GeoRaster model space, and can be directly updated by a SQL UPDATE statement specifying a geometry. However, the spatial extent geometry is in the model (ground) space of the GeoRaster object if the GeoRaster object is georeferenced and if you generate the spatial extent geometry using any of the following methods: calling the <a href="SDO_GEOR-reference.html#GUID-45E80146-A186-418F-9396-260BCC7A3BE8">SDO_GEOR.generateSpatialExtent</a> function, or specifying <code class="codeph">spatialExtent=TRUE</code> as a storage parameter to the <a href="SDO_GEOR-reference.html#GUID-07B69D26-239F-4C52-A2D2-E776B2BABF8B">SDO_GEOR.importFrom</a> procedure or the GeoRaster client-side loader (described in <a href="georaster-overview-and-concepts.html#GUID-4813E3BC-2DB8-4310-82E5-3ADC467C0253" title="Oracle Spatial includes tools for viewing, loading, and exporting GeoRaster data.">GeoRaster Tools: Viewer_ Loader_ Exporter</a>).
                     </p>
                     <p>You can call SDO_CS.transform to convert it to any other supported coordinate system. The spatial extent is set to null, rather than cell space, if its SRID value is null or 0 (zero). The SDO_GEOMETRY data type is described in <a href="../spatl/spatial-datatypes-metadata.html#SPATL489" target="_blank"><span class="italic">Oracle Spatial and Graph Developer's Guide</span></a>.
                     </p>
                     <p>The GeoRaster spatial extent is generally used to build a spatial R-tree index on the GeoRaster column. For example, you can use a geodetic SRID for all the spatial extents when all GeoRaster objects are in different local projections, and then build a whole-Earth based spatial index on the GeoRaster table and spatially search GeoRaster objects globally. Because of the potential performance benefits of spatial indexing for GeoRaster applications, the geometry is associated with the <code class="codeph">spatialExtent</code> attribute, rather than being included in the XML <code class="codeph">metadata</code> attribute described in <a href="georaster-datatypes.html#GUID-3460694F-88BD-4132-B923-A4F06A058F43">metadata Attribute</a>. For information about indexing GeoRaster data, see <a href="georaster-database-creation-management.html#GUID-F31E1BAD-DE81-462E-8103-7A67CF7A8D0E">Indexing GeoRaster Objects</a>.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="georaster-datatypes.html#GUID-80616475-2A56-43B9-B707-58B369661632" title="In the GeoRaster object-relational model, a raster image or grid object is stored in a single row, in a single column of object type SDO_GEORASTER in a user-defined table. Tables with at least one column of type SDO_GEORASTER are referred to as GeoRaster tables.">SDO_GEORASTER Object Type</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="GEORS956"></a><div class="props_rev_3"><a id="GUID-212AA5DB-FBB5-4B56-96D8-DF72403E372C" name="GUID-212AA5DB-FBB5-4B56-96D8-DF72403E372C"></a><h4 id="GEORS-GUID-212AA5DB-FBB5-4B56-96D8-DF72403E372C" class="sect4"><span class="enumeration_section">2.1.3 </span>rasterDataTable Attribute
                  </h4>
                  <div>
                     <p>The <code class="codeph">rasterDataTable</code> attribute identifies the name of the raster data table. The raster data table must be an object table of type SDO_RASTER or a relational table that includes all columns defined by object type SDO_RASTER. It contains a row for each raster block that is stored. You must create and (if necessary) drop the raster data table. You should never modify the rows in this table directly, but you can query this table to access the raster data.
                     </p>
                     <p>This attribute must be a valid nonquoted identifier without any period separators, and all the alphanumeric characters must be uppercase.</p>
                     <p>For more information about the raster data table and the SDO_RASTER type, see <a href="georaster-datatypes.html#GUID-9679F06D-50A0-4EF7-9204-E85CA2F38378" title="In the GeoRaster object-relational model, a raster data table is used to store all cell data in a raster image.">SDO_RASTER Object Type and the Raster Data Table</a>.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="georaster-datatypes.html#GUID-80616475-2A56-43B9-B707-58B369661632" title="In the GeoRaster object-relational model, a raster image or grid object is stored in a single row, in a single column of object type SDO_GEORASTER in a user-defined table. Tables with at least one column of type SDO_GEORASTER are referred to as GeoRaster tables.">SDO_GEORASTER Object Type</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="GEORS957"></a><div class="props_rev_3"><a id="GUID-9D0532DD-1A16-433A-AB57-205B2A0CAF19" name="GUID-9D0532DD-1A16-433A-AB57-205B2A0CAF19"></a><h4 id="GEORS-GUID-9D0532DD-1A16-433A-AB57-205B2A0CAF19" class="sect4"><span class="enumeration_section">2.1.4 </span>rasterID Attribute
                  </h4>
                  <div>
                     <p>The <code class="codeph">rasterID</code> attribute value is stored in the rows of the raster data table to identify which rows belong to the GeoRaster object. The <code class="codeph">rasterDataTable</code> attribute and <code class="codeph">rasterID</code> attribute together uniquely identify the GeoRaster object in the database. That is, each GeoRaster object has a raster data table, although a raster data table can contain data from multiple GeoRaster objects.
                     </p>
                     <p>You can specify the <code class="codeph">rasterID</code> and <code class="codeph">rasterDataTable</code> attributes for new GeoRaster objects, as long as each pair is unique in the database. If you do not specify these values, they are automatically generated by the <a href="SDO_GEOR-reference.html#GUID-524A6FD9-24D3-4CCA-A9D1-0B23819E4CA6">SDO_GEOR.init</a> and <a href="SDO_GEOR-reference.html#GUID-7D203CE7-A6F0-4545-92B4-5E8ED3E007FE">SDO_GEOR.createBlank</a> functions.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="georaster-datatypes.html#GUID-80616475-2A56-43B9-B707-58B369661632" title="In the GeoRaster object-relational model, a raster image or grid object is stored in a single row, in a single column of object type SDO_GEORASTER in a user-defined table. Tables with at least one column of type SDO_GEORASTER are referred to as GeoRaster tables.">SDO_GEORASTER Object Type</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="GEORS958"></a><div class="props_rev_3"><a id="GUID-3460694F-88BD-4132-B923-A4F06A058F43" name="GUID-3460694F-88BD-4132-B923-A4F06A058F43"></a><h4 id="GEORS-GUID-3460694F-88BD-4132-B923-A4F06A058F43" class="sect4"><span class="enumeration_section">2.1.5 </span>metadata Attribute
                  </h4>
                  <div>
                     <p>The <code class="codeph">metadata</code> attribute contains the GeoRaster metadata that is defined by Oracle. The metadata is described by the GeoRaster metadata XML schema, which is documented in <a href="georaster-metadata-xml-schema.html#GUID-6814D440-F50A-473C-84F6-60709DC5620D" title="This appendix provides the XML schema definition that is used for GeoRaster metadata."> GeoRaster Metadata XML Schema</a>. The metadata of any GeoRaster object must be validated against this XML schema, and it must also be validated using the <a href="SDO_GEOR-reference.html#GUID-72D06328-134D-473E-8279-F0C3B6ADEE34">SDO_GEOR.validateGeoRaster</a> function, which imposes additional restrictions not defined by this XML schema.
                     </p>
                     <p>The default storage option for GeoRaster metadata is binary XML.</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="georaster-datatypes.html#GUID-80616475-2A56-43B9-B707-58B369661632" title="In the GeoRaster object-relational model, a raster image or grid object is stored in a single row, in a single column of object type SDO_GEORASTER in a user-defined table. Tables with at least one column of type SDO_GEORASTER are referred to as GeoRaster tables.">SDO_GEORASTER Object Type</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="GEORS959"></a><div class="props_rev_3"><a id="GUID-9679F06D-50A0-4EF7-9204-E85CA2F38378" name="GUID-9679F06D-50A0-4EF7-9204-E85CA2F38378"></a><h3 id="GEORS-GUID-9679F06D-50A0-4EF7-9204-E85CA2F38378" class="sect3"><span class="enumeration_section">2.2 </span>SDO_RASTER Object Type and the Raster Data Table
               </h3>
               <div>
                  <p>In the GeoRaster object-relational model, a raster data table is used to store all cell data in a raster image.</p>
                  <p>The cell data of a GeoRaster object is blocked, and each block is stored in the raster data table as one row. You specify this table in the <code class="codeph">rasterDataTable</code> attribute of the SDO_GEORASTER object, as explained in <a href="georaster-datatypes.html#GUID-212AA5DB-FBB5-4B56-96D8-DF72403E372C">rasterDataTable Attribute</a>. You must create the raster data table before you store any cell data in it.
                  </p>
                  <p>The raster data table is an object table, defined as a table of SDO_RASTER object type or as a relational table that includes all columns defined by object type SDO_RASTER. The SDO_RASTER object type is defined as:</p><pre class="oac_no_warn" dir="ltr">CREATE TYPE sdo_raster AS OBJECT (
 rasterID           NUMBER,
 pyramidLevel       NUMBER,
 bandBlockNumber    NUMBER,
 rowBlockNumber     NUMBER,
 columnBlockNumber  NUMBER,
 blockMBR           SDO_GEOMETRY,
 rasterBlock        BLOB);
</pre><p>The sections that follow describe the semantics of each SDO_RASTER attribute.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="georaster-datatypes.html#GUID-9FCC8104-FAC4-4EFA-9BB5-66BD35E9E902">rasterID Attribute</a><br></li>
                     <li class="ulchildlink"><a href="georaster-datatypes.html#GUID-9FDB26F7-7EC2-4B50-99F5-FBF57BE46EFE">pyramidLevel Attribute</a><br></li>
                     <li class="ulchildlink"><a href="georaster-datatypes.html#GUID-A75AD25E-C3A5-4FCF-8EB3-E2B33EC3A638">bandBlockNumber Attribute</a><br></li>
                     <li class="ulchildlink"><a href="georaster-datatypes.html#GUID-426144E3-41B8-40A0-B890-FA566F6529CB">rowBlockNumber Attribute</a><br></li>
                     <li class="ulchildlink"><a href="georaster-datatypes.html#GUID-A925A136-FCE6-4AD3-A089-7EDBC4872B99">columnBlockNumber Attribute</a><br></li>
                     <li class="ulchildlink"><a href="georaster-datatypes.html#GUID-E06BC978-1039-48A9-B6B9-DE4152AB42B8">blockMBR Attribute</a><br></li>
                     <li class="ulchildlink"><a href="georaster-datatypes.html#GUID-0B5F4A05-37FF-402C-A69F-6304287438AA">rasterBlock Attribute</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="georaster-datatypes.html#GUID-98F692F8-C05A-4D8F-AB6A-484D5268D30A" title="The object-relational implementation of GeoRaster consists of a set of object data types for storing data and system data.">GeoRaster Data Types and Related Structures</a></p>
                     </div>
                  </div>
               </div>
               <a id="GEORS960"></a><div class="props_rev_3"><a id="GUID-9FCC8104-FAC4-4EFA-9BB5-66BD35E9E902" name="GUID-9FCC8104-FAC4-4EFA-9BB5-66BD35E9E902"></a><h4 id="GEORS-GUID-9FCC8104-FAC4-4EFA-9BB5-66BD35E9E902" class="sect4"><span class="enumeration_section">2.2.1 </span>rasterID Attribute
                  </h4>
                  <div>
                     <p>The <code class="codeph">rasterID</code> attribute in the SDO_RASTER object must be a number that matches the <code class="codeph">rasterID</code> value in its associated SDO_GEORASTER object. (The <code class="codeph">rasterID</code> attribute of the SDO_GEORASTER object is described in <a href="georaster-datatypes.html#GUID-9D0532DD-1A16-433A-AB57-205B2A0CAF19">rasterID Attribute</a>.) The matching of these numbers identifies the raster block as belonging to a specific GeoRaster object.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="georaster-datatypes.html#GUID-9679F06D-50A0-4EF7-9204-E85CA2F38378" title="In the GeoRaster object-relational model, a raster data table is used to store all cell data in a raster image.">SDO_RASTER Object Type and the Raster Data Table</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="GEORS961"></a><div class="props_rev_3"><a id="GUID-9FDB26F7-7EC2-4B50-99F5-FBF57BE46EFE" name="GUID-9FDB26F7-7EC2-4B50-99F5-FBF57BE46EFE"></a><h4 id="GEORS-GUID-9FDB26F7-7EC2-4B50-99F5-FBF57BE46EFE" class="sect4"><span class="enumeration_section">2.2.2 </span>pyramidLevel Attribute
                  </h4>
                  <div>
                     <p>The <code class="codeph">pyramidLevel</code> attribute identifies the pyramid level for this block of cells. The pyramid level is 0 or any positive integer. Pyramid levels are used to create reduced resolution images that require less storage space. A pyramid level of 0 indicates the original raster data; that is, there is no reduction in the image resolution and no change in the storage space required. Values greater than 0 (zero) indicate increasingly reduced levels of image resolution and reduced storage space requirements. For more information about pyramids, see <a href="georaster-overview-and-concepts.html#GUID-739D74CC-E256-4E89-AB7F-9251054B9E82" title="Pyramids are subobjects of a GeoRaster object that represent the raster image or raster data at differing sizes and degrees of resolution.">Pyramids</a>.
                     </p>
                     <p>This attribute and the <code class="codeph">bandBlockNumber</code> attribute (described in <a href="georaster-datatypes.html#GUID-A75AD25E-C3A5-4FCF-8EB3-E2B33EC3A638">bandBlockNumber Attribute</a>) are also used to indicate bitmap masks and their pyramids. For more information about bitmap masks, bitmap mask pyramids, and how the <code class="codeph">pyramidLevel</code> and <code class="codeph">bandBlockNumber</code> attributes are used, see <a href="georaster-overview-and-concepts.html#GUID-20696505-9B9E-4E08-B165-1B23A574BEB3" title="A bitmap mask is a special one-bit deep rectangular raster grid with each pixel having either the value of 0 or 1. It is used to define an irregularly shaped region inside another image. The 1-bits define the interior of the region, and the 0-bits define the exterior of the region.">Bitmap Masks</a>.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="georaster-datatypes.html#GUID-9679F06D-50A0-4EF7-9204-E85CA2F38378" title="In the GeoRaster object-relational model, a raster data table is used to store all cell data in a raster image.">SDO_RASTER Object Type and the Raster Data Table</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="GEORS962"></a><div class="props_rev_3"><a id="GUID-A75AD25E-C3A5-4FCF-8EB3-E2B33EC3A638" name="GUID-A75AD25E-C3A5-4FCF-8EB3-E2B33EC3A638"></a><h4 id="GEORS-GUID-A75AD25E-C3A5-4FCF-8EB3-E2B33EC3A638" class="sect4"><span class="enumeration_section">2.2.3 </span>bandBlockNumber Attribute
                  </h4>
                  <div>
                     <p>The <code class="codeph">bandBlockNumber</code> attribute identifies the block number along the band dimension. For information about bands and layers, see <a href="georaster-overview-and-concepts.html#GUID-9E5186D8-1206-4619-A260-F689FF724CFC" title="In GeoRaster, band and layer are different concepts.">Bands_ Layers_ and Metadata</a>. For more information about how the <code class="codeph">bandBlockNumber</code> attribute is used with bitmap masks and their pyramids, see <a href="georaster-overview-and-concepts.html#GUID-20696505-9B9E-4E08-B165-1B23A574BEB3" title="A bitmap mask is a special one-bit deep rectangular raster grid with each pixel having either the value of 0 or 1. It is used to define an irregularly shaped region inside another image. The 1-bits define the interior of the region, and the 0-bits define the exterior of the region.">Bitmap Masks</a>.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="georaster-datatypes.html#GUID-9679F06D-50A0-4EF7-9204-E85CA2F38378" title="In the GeoRaster object-relational model, a raster data table is used to store all cell data in a raster image.">SDO_RASTER Object Type and the Raster Data Table</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="GEORS963"></a><div class="props_rev_3"><a id="GUID-426144E3-41B8-40A0-B890-FA566F6529CB" name="GUID-426144E3-41B8-40A0-B890-FA566F6529CB"></a><h4 id="GEORS-GUID-426144E3-41B8-40A0-B890-FA566F6529CB" class="sect4"><span class="enumeration_section">2.2.4 </span>rowBlockNumber Attribute
                  </h4>
                  <div>
                     <p>The <code class="codeph">rowBlockNumber</code> attribute identifies the block number along the row dimension.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="georaster-datatypes.html#GUID-9679F06D-50A0-4EF7-9204-E85CA2F38378" title="In the GeoRaster object-relational model, a raster data table is used to store all cell data in a raster image.">SDO_RASTER Object Type and the Raster Data Table</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="GEORS964"></a><div class="props_rev_3"><a id="GUID-A925A136-FCE6-4AD3-A089-7EDBC4872B99" name="GUID-A925A136-FCE6-4AD3-A089-7EDBC4872B99"></a><h4 id="GEORS-GUID-A925A136-FCE6-4AD3-A089-7EDBC4872B99" class="sect4"><span class="enumeration_section">2.2.5 </span>columnBlockNumber Attribute
                  </h4>
                  <div>
                     <p>The <code class="codeph">columnBlockNumber</code> attribute identifies the block number along the column dimension.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="georaster-datatypes.html#GUID-9679F06D-50A0-4EF7-9204-E85CA2F38378" title="In the GeoRaster object-relational model, a raster data table is used to store all cell data in a raster image.">SDO_RASTER Object Type and the Raster Data Table</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="GEORS965"></a><div class="props_rev_3"><a id="GUID-E06BC978-1039-48A9-B6B9-DE4152AB42B8" name="GUID-E06BC978-1039-48A9-B6B9-DE4152AB42B8"></a><h4 id="GEORS-GUID-E06BC978-1039-48A9-B6B9-DE4152AB42B8" class="sect4"><span class="enumeration_section">2.2.6 </span>blockMBR Attribute
                  </h4>
                  <div>
                     <p>The <code class="codeph">blockMBR</code> attribute is the geometry (of type SDO_GEOMETRY) for the minimum bounding rectangle (MBR) for this block. The geometry is in cell space (that is, its SRID value is null), and all ordinates are integers. The ordinates represent the minimum row and column and the maximum row and column stored in this block.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="georaster-datatypes.html#GUID-9679F06D-50A0-4EF7-9204-E85CA2F38378" title="In the GeoRaster object-relational model, a raster data table is used to store all cell data in a raster image.">SDO_RASTER Object Type and the Raster Data Table</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="GEORS966"></a><div class="props_rev_3"><a id="GUID-0B5F4A05-37FF-402C-A69F-6304287438AA" name="GUID-0B5F4A05-37FF-402C-A69F-6304287438AA"></a><h4 id="GEORS-GUID-0B5F4A05-37FF-402C-A69F-6304287438AA" class="sect4"><span class="enumeration_section">2.2.7 </span>rasterBlock Attribute
                  </h4>
                  <div>
                     <p>The <code class="codeph">rasterBlock</code> attribute contains all raster cell data for this block. It is also used to store bitmap masks of the GeoRaster object. The <code class="codeph">rasterBlock</code> attribute is of type BLOB.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="georaster-datatypes.html#GUID-9679F06D-50A0-4EF7-9204-E85CA2F38378" title="In the GeoRaster object-relational model, a raster data table is used to store all cell data in a raster image.">SDO_RASTER Object Type and the Raster Data Table</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="GEORS967"></a><div class="props_rev_3"><a id="GUID-690756C5-5114-47B0-B417-B939BF5FBBA6" name="GUID-690756C5-5114-47B0-B417-B939BF5FBBA6"></a><h3 id="GEORS-GUID-690756C5-5114-47B0-B417-B939BF5FBBA6" class="sect3"><span class="enumeration_section">2.3 </span>Other GeoRaster Types
               </h3>
               <div>
                  <p>GeoRaster also porvides some other data types.</p>
                  <p>In addition to SDO_GEORASTER, SDO_RASTER, and SDO_RANGE_ARRAY and SDO_RANGE, GeoRaster provides several other object and collection types, which are used for specific kinds of operations. Unlike the SDO_GEORASTER and SDO_RASTER types, which are used for storage in the database (for example, to define a column in a table), the types described in this section are used only with the GeoRaster PL/SQL API in the current release.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="georaster-datatypes.html#GUID-0EFD151A-375D-493F-8C0F-CFD2DA8638FC">SDO_GEOR_HISTOGRAM Object Type</a><br></li>
                     <li class="ulchildlink"><a href="georaster-datatypes.html#GUID-CAF85499-604A-4406-9025-722051C21434">SDO_GEOR_HISTOGRAM_ARRAY Collection Type</a><br></li>
                     <li class="ulchildlink"><a href="georaster-datatypes.html#GUID-CEE244F7-DDDA-4B97-B128-53F97E89D9B3">SDO_GEOR_COLORMAP Object Type</a><br></li>
                     <li class="ulchildlink"><a href="georaster-datatypes.html#GUID-62D45A64-ABEB-4386-BD2F-0003BF2CC551">SDO_GEOR_GRAYSCALE Object Type</a><br></li>
                     <li class="ulchildlink"><a href="georaster-datatypes.html#GUID-512FF9E1-5DFE-4D90-ABCB-DE82CA02DA25">SDO_RASTERSET Collection Type</a><br></li>
                     <li class="ulchildlink"><a href="georaster-datatypes.html#GUID-A7C5B4C6-2B57-4E3F-B796-3313F6D67E57">SDO_GEOR_SRS Object Type</a><br></li>
                     <li class="ulchildlink"><a href="georaster-datatypes.html#GUID-339ED929-236B-4178-ADAB-F4901E37EBF6">SDO_GEOR_GCP Object Type</a><br></li>
                     <li class="ulchildlink"><a href="georaster-datatypes.html#GUID-622DEDBA-8E96-46A3-AFC3-DEBEEE15561D">SDO_GEOR_GCP_ COLLECTION Collection Type</a><br></li>
                     <li class="ulchildlink"><a href="georaster-datatypes.html#GUID-41205B52-4D3B-4870-A7DF-6B5AB9FFB58B">SDO_GEOR_GCPGEOREFTYPE Object Type</a><br></li>
                  </ul>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="georaster-datatypes.html#GUID-80616475-2A56-43B9-B707-58B369661632">SDO_GEORASTER Object Type</a></li>
                        <li><a href="georaster-datatypes.html#GUID-9679F06D-50A0-4EF7-9204-E85CA2F38378">SDO_RASTER Object Type and the Raster Data Table</a></li>
                        <li><a href="georaster-overview-and-concepts.html#GUID-3F2FCF41-FDE6-434F-A318-93E0667C927D">NODATA Values and Value Ranges</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="georaster-datatypes.html#GUID-98F692F8-C05A-4D8F-AB6A-484D5268D30A" title="The object-relational implementation of GeoRaster consists of a set of object data types for storing data and system data.">GeoRaster Data Types and Related Structures</a></p>
                     </div>
                  </div>
               </div><a id="GEORS1181"></a><a id="GEORS1180"></a><div class="props_rev_3"><a id="GUID-0EFD151A-375D-493F-8C0F-CFD2DA8638FC" name="GUID-0EFD151A-375D-493F-8C0F-CFD2DA8638FC"></a><h4 id="GEORS-GUID-0EFD151A-375D-493F-8C0F-CFD2DA8638FC" class="sect4"><span class="enumeration_section">2.3.1 </span>SDO_GEOR_HISTOGRAM Object Type
                  </h4>
                  <div>
                     <p>In GeoRaster, the histogram is stored in the GeoRaster metadata using the XML schema defined in <a href="georaster-metadata-xml-schema.html#GUID-6814D440-F50A-473C-84F6-60709DC5620D" title="This appendix provides the XML schema definition that is used for GeoRaster metadata."> GeoRaster Metadata XML Schema</a>. The SDO_GEOR_HISTOGRAM object type is used in the PL/SQL API to contain the histogram data of a GeoRaster object or a layer. The layers have the same histogram data structure. Each cell has a value, and for each cell value or a value range there may be any number of cells having that value or falling in that range. 
                     </p>
                     <p>The SDO_GEOR_HISTOGRAM object type is defined as:</p><pre class="oac_no_warn" dir="ltr">CREATE TYPE sdo_geor_histogram AS OBJECT(
  cellValue  SDO_NUMBER_ARRAY,
  count      SDO_NUMBER_ARRAY);
</pre><p><a href="georaster-datatypes.html#GUID-0EFD151A-375D-493F-8C0F-CFD2DA8638FC__BGBEDECG" title="This 2 column table lists the SDO_GEOR_HISTOGRAM Object Type Attributes. Column 1 is the attribute. Column 2 explains the attribute.">Table 2-1</a> describes the attributes of the SDO_GEOR_HISTOGRAM object type. The <code class="codeph">cellValue</code> array and the <code class="codeph">count</code> array must have the same length.
                     </p>
                     <div class="tblformal" id="GUID-0EFD151A-375D-493F-8C0F-CFD2DA8638FC__BGBEDECG">
                        <p class="titleintable">Table 2-1 SDO_GEOR_HISTOGRAM Object Type Attributes</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="SDO_GEOR_HISTOGRAM Object Type Attributes" summary="This 2 column table lists the SDO_GEOR_HISTOGRAM Object Type Attributes.  Column 1 is the attribute. Column 2 explains the attribute." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" id="d11341e1288">Attribute</th>
                                 <th align="left" valign="bottom" id="d11341e1291">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11341e1296" headers="d11341e1288 ">
                                    <p>cellValue</p>
                                 </td>
                                 <td align="left" valign="top" headers="d11341e1296 d11341e1291 ">
                                    <p>Array of cell values.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11341e1303" headers="d11341e1288 ">
                                    <p>count</p>
                                 </td>
                                 <td align="left" valign="top" headers="d11341e1303 d11341e1291 ">
                                    <p>Number of cells that correspond to each cell value or cell value range.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>The histogram contains the cell values (and the implied value ranges) and the total number of cells related to each cell value or each cell value range. For example, if (cellValue1, count1) and (cellValue2, count2) are the two adjacent entries in ascending order in the histogram, the implied value range is [cellValue1, cellValue2) and the total number of cells in this range is count1. The cell value range is always inclusive in its lower boundary and exclusive in the upper boundary. The size of each range does not necessarily have to be the same. Using this example, the range is equal to or greater than cellValue1 and less than cellValue2. For a lower cell depth (for example, 1-bit to 8-bit integers), the cell value ranges are typically the same as the cell values.</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="georaster-datatypes.html#GUID-690756C5-5114-47B0-B417-B939BF5FBBA6" title="GeoRaster also porvides some other data types.">Other GeoRaster Types</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-CAF85499-604A-4406-9025-722051C21434" name="GUID-CAF85499-604A-4406-9025-722051C21434"></a><h4 id="GEORS-GUID-CAF85499-604A-4406-9025-722051C21434" class="sect4"><span class="enumeration_section">2.3.2 </span>SDO_GEOR_HISTOGRAM_ARRAY Collection Type
                  </h4>
                  <div>
                     <p>The SDO_GEOR_HISTOGRAM_ARRAY collection type is used to store an array (collection) of <a href="georaster-datatypes.html#GUID-0EFD151A-375D-493F-8C0F-CFD2DA8638FC">SDO_GEOR_HISTOGRAM</a> objects.
                     </p>
                     <p>The SDO_GEOR_HISTOGRAM_ARRAY collection type is defined as:</p><pre class="oac_no_warn" dir="ltr">CREATE TYPE sdo_geor_histogram_array AS 
  VARRAY(10485760) OF SDO_GEOR_HISTOGRAM;</pre></div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="georaster-datatypes.html#GUID-690756C5-5114-47B0-B417-B939BF5FBBA6" title="GeoRaster also porvides some other data types.">Other GeoRaster Types</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="GEORS1183"></a><a id="GEORS1182"></a><div class="props_rev_3"><a id="GUID-CEE244F7-DDDA-4B97-B128-53F97E89D9B3" name="GUID-CEE244F7-DDDA-4B97-B128-53F97E89D9B3"></a><h4 id="GEORS-GUID-CEE244F7-DDDA-4B97-B128-53F97E89D9B3" class="sect4"><span class="enumeration_section">2.3.3 </span>SDO_GEOR_COLORMAP Object Type
                  </h4>
                  <div>
                     <p>In GeoRaster, the color information is stored in the GeoRaster metadata using the XML schema defined in <a href="georaster-metadata-xml-schema.html#GUID-6814D440-F50A-473C-84F6-60709DC5620D" title="This appendix provides the XML schema definition that is used for GeoRaster metadata."> GeoRaster Metadata XML Schema</a>. The SDO_GEOR_COLORMAP object type is used in the PL/SQL API to contain colormap information, that is, pseudocolor information for identifying the red, green, blue, and (optionally) alpha values of the color to be used to display cells that have a specific value or are in a specific value range. The colormap is also called the pseudocolor table or the palette table. The colormap in GeoRaster is in the default sRGB ColorSpace, which is a proposed standard RGB color space, as explained at
                     </p>
                     <p><a href="http://www.w3.org/Graphics/Color/sRGB.html" target="_blank"><code class="codeph">http://www.w3.org/Graphics/Color/sRGB.html</code></a></p>
                     <p>The ranges for red, green, blue, and alpha values are all scaled to be 8-bit unsigned integers from 0 to 255.</p>
                     <p><a id="d11341e1427" class="indexterm-anchor"></a><a id="d11341e1429" class="indexterm-anchor"></a><a id="d11341e1433" class="indexterm-anchor"></a>Alpha is also called opacity. An alpha value of 255 means that the color is completely opaque, and an alpha value of 0 means that the color is completely transparent. The color component values are never premultiplied by the alpha value.
                     </p>
                     <p>The SDO_GEOR_COLORMAP object type is defined as:</p><pre class="oac_no_warn" dir="ltr">CREATE TYPE sdo_geor_colormap AS OBJECT(
  cellValue  SDO_NUMBER_ARRAY,
  red        SDO_NUMBER_ARRAY,
  green      SDO_NUMBER_ARRAY,
  blue       SDO_NUMBER_ARRAY,
  alpha      SDO_NUMBER_ARRAY);
</pre><p><a href="georaster-datatypes.html#GUID-CEE244F7-DDDA-4B97-B128-53F97E89D9B3__BGBIFAIH" title="This 2 column table lists the SDO_GEOR_COLORMAP Object Type Attributes. Column 1 is the attribute. Column 2 explains the attribute.">Table 2-2</a> describes the attributes of the SDO_GEOR_COLORMAP object type. Each attribute is an array of numbers. The arrays must have the same length, and the values of the same index in each array must correspond to each other. Each <code class="codeph">cellValue</code> value must be consistent with the <code class="codeph">cellDepth</code> value of the GeoRaster object. 
                     </p>
                     <p>The colormap contains the cell values (and the implied value ranges) and the red, green, blue, and/or alpha values related to each cell value or each cell value range. For example, if (cellValue1, red1, green1, blue1, alpha1) and (cellValue2, red2, green2, blue2, alpha2) are the two adjacent entries in ascending order in the colormap, the implied value range is [cellValue1, cellValue2), and the color components associated with all cells in this range are (red1, green1, blue1, alpha1). The cell value range is always inclusive in its lower boundary and exclusive in the upper boundary. The size of each range does not necessarily have to be the same. In this example, the range is equal to or greater than cellValue1 and less than cellValue2. For a lower cell depth (for example, 1-bit to 8-bit integers), the cell value ranges are typically the same as the cell values.</p>
                     <div class="tblformal" id="GUID-CEE244F7-DDDA-4B97-B128-53F97E89D9B3__BGBIFAIH">
                        <p class="titleintable">Table 2-2 SDO_GEOR_COLORMAP Object Type Attributes</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="SDO_GEOR_COLORMAP Object Type Attributes" summary="This 2 column table lists the SDO_GEOR_COLORMAP Object Type Attributes. Column 1 is the attribute. Column 2 explains the attribute." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" id="d11341e1466">Attribute</th>
                                 <th align="left" valign="bottom" id="d11341e1469">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11341e1474" headers="d11341e1466 ">
                                    <p>cellValue</p>
                                 </td>
                                 <td align="left" valign="top" headers="d11341e1474 d11341e1469 ">
                                    <p>Array of cell values. The values must be stored in ascending order.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11341e1481" headers="d11341e1466 ">
                                    <p>red</p>
                                 </td>
                                 <td align="left" valign="top" headers="d11341e1481 d11341e1469 ">
                                    <p>Array of red component values for pseudocolor display of cells that have the values or value ranges in <code class="codeph">cellValue</code>. Must be integer values from 0 to 255.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11341e1491" headers="d11341e1466 ">
                                    <p>green</p>
                                 </td>
                                 <td align="left" valign="top" headers="d11341e1491 d11341e1469 ">
                                    <p>Array of green component values for pseudocolor display of cells that have the values or value ranges in <code class="codeph">cellValue</code>. Must be integer values from 0 to 255.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11341e1501" headers="d11341e1466 ">
                                    <p>blue</p>
                                 </td>
                                 <td align="left" valign="top" headers="d11341e1501 d11341e1469 ">
                                    <p>Array of blue component values for pseudocolor display of cells that have the values or value ranges in <code class="codeph">cellValue</code>. Must be integer values from 0 to 255.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11341e1511" headers="d11341e1466 ">
                                    <p>alpha</p>
                                 </td>
                                 <td align="left" valign="top" headers="d11341e1511 d11341e1469 ">
                                    <p>Array of alpha component values for pseudocolor display of cells that have the values or value ranges in <code class="codeph">cellValue</code>. Must be integer values from 0 to 255.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="georaster-datatypes.html#GUID-690756C5-5114-47B0-B417-B939BF5FBBA6" title="GeoRaster also porvides some other data types.">Other GeoRaster Types</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="GEORS1185"></a><a id="GEORS1184"></a><div class="props_rev_3"><a id="GUID-62D45A64-ABEB-4386-BD2F-0003BF2CC551" name="GUID-62D45A64-ABEB-4386-BD2F-0003BF2CC551"></a><h4 id="GEORS-GUID-62D45A64-ABEB-4386-BD2F-0003BF2CC551" class="sect4"><span class="enumeration_section">2.3.4 </span>SDO_GEOR_GRAYSCALE Object Type
                  </h4>
                  <div>
                     <p>In GeoRaster, the grayscale information is stored in the GeoRaster metadata using the XML schema defined in <a href="georaster-metadata-xml-schema.html#GUID-6814D440-F50A-473C-84F6-60709DC5620D" title="This appendix provides the XML schema definition that is used for GeoRaster metadata."> GeoRaster Metadata XML Schema</a>. The SDO_GEOR_GRAYSCALE object type is used in the PL/SQL API to contain grayscale information for identifying the grayscale value to be used to display cells that have a specific value or fall into a specific value range. The grayscale table cell values can be "stretched" in linear proportion using this grayscale table, so that the original raster data can be properly displayed. The grayscale table value range is 8-bit unsigned integer values from 0 to 255. The grayscale table is also called the contrast table or the lookup table.
                     </p>
                     <p>The SDO_GEOR_GRAYSCALE object type is defined as:</p><pre class="oac_no_warn" dir="ltr">CREATE TYPE sdo_geor_grayscale AS OBJECT(
  cellValue  SDO_NUMBER_ARRAY,
  gray       SDO_NUMBER_ARRAY);
</pre><p><a href="georaster-datatypes.html#GUID-62D45A64-ABEB-4386-BD2F-0003BF2CC551__BGBCHCGD" title="This 2 column table lists the SDO_GEOR_GRAYSCALE Object Type Attributes. Column 1 is the attribute. Column 2 explains the attribute.">Table 2-3</a> describes the attributes of the SDO_GEOR_GRAYSCALE object type. The <code class="codeph">cellValue</code> array and the <code class="codeph">gray</code> array must have the same length. Each <code class="codeph">cellValue</code> value must be consistent with the <code class="codeph">cellDepth</code> value of the GeoRaster object.
                     </p>
                     <p>The grayscale contains the cell values (and the implied value ranges) and the gray values related to each cell value or each cell value range. For example, if (cellValue1, gray1) and (cellValue2, gray2) are the two adjacent entries in ascending order in the grayscale table, the implied value range is [cellValue1, cellValue2), and the gray color associated with all cells in this range is gray1. The cell value range is always inclusive in its lower boundary and exclusive in the upper boundary. The size of each range does not necessarily have to be the same. Taking the same example, the range is equal to or greater than cellValue1 and less than cellValue2. For a lower cell depth (for example, 1-bit to 8-bit integers), the cell value ranges are typically the same as the cell values.</p>
                     <div class="tblformal" id="GUID-62D45A64-ABEB-4386-BD2F-0003BF2CC551__BGBCHCGD">
                        <p class="titleintable">Table 2-3 SDO_GEOR_GRAYSCALE Object Type Attributes</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="SDO_GEOR_GRAYSCALE Object Type Attributes" summary="This 2 column table lists the SDO_GEOR_GRAYSCALE Object Type Attributes. Column 1 is the attribute. Column 2 explains the attribute." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" id="d11341e1615">Attribute</th>
                                 <th align="left" valign="bottom" id="d11341e1618">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11341e1623" headers="d11341e1615 ">
                                    <p>cellValue</p>
                                 </td>
                                 <td align="left" valign="top" headers="d11341e1623 d11341e1618 ">
                                    <p>Array of cell values. The values must be stored in ascending order. </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11341e1630" headers="d11341e1615 ">
                                    <p>gray</p>
                                 </td>
                                 <td align="left" valign="top" headers="d11341e1630 d11341e1618 ">
                                    <p>Array of gray component values for grayscale display of cells that have the values or value ranges in <code class="codeph">cellValue</code>. Must be integer values from 0 to 255.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="georaster-datatypes.html#GUID-690756C5-5114-47B0-B417-B939BF5FBBA6" title="GeoRaster also porvides some other data types.">Other GeoRaster Types</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="GEORS1186"></a><div class="props_rev_3"><a id="GUID-512FF9E1-5DFE-4D90-ABCB-DE82CA02DA25" name="GUID-512FF9E1-5DFE-4D90-ABCB-DE82CA02DA25"></a><h4 id="GEORS-GUID-512FF9E1-5DFE-4D90-ABCB-DE82CA02DA25" class="sect4"><span class="enumeration_section">2.3.5 </span>SDO_RASTERSET Collection Type
                  </h4>
                  <div>
                     <p>The SDO_RASTERSET collection type is used as the return type of table functions that query the raster data blocks (one or many blocks, the whole set or a subset).</p>
                     <p>The SDO_RASTERSET collection type is defined as:</p><pre class="oac_no_warn" dir="ltr">CREATE TYPE sdo_rasterset AS TABLE of SDO_RASTER;
</pre></div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="georaster-datatypes.html#GUID-9679F06D-50A0-4EF7-9204-E85CA2F38378">SDO_RASTER Object Type and the Raster Data Table</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="georaster-datatypes.html#GUID-690756C5-5114-47B0-B417-B939BF5FBBA6" title="GeoRaster also porvides some other data types.">Other GeoRaster Types</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="GEORS1188"></a><a id="GEORS1187"></a><div class="props_rev_3"><a id="GUID-A7C5B4C6-2B57-4E3F-B796-3313F6D67E57" name="GUID-A7C5B4C6-2B57-4E3F-B796-3313F6D67E57"></a><h4 id="GEORS-GUID-A7C5B4C6-2B57-4E3F-B796-3313F6D67E57" class="sect4"><span class="enumeration_section">2.3.6 </span>SDO_GEOR_SRS Object Type
                  </h4>
                  <div>
                     <p>In GeoRaster, the spatial reference system (SRS) information is stored in the GeoRaster metadata using the XML schema defined in <a href="georaster-metadata-xml-schema.html#GUID-6814D440-F50A-473C-84F6-60709DC5620D" title="This appendix provides the XML schema definition that is used for GeoRaster metadata."> GeoRaster Metadata XML Schema</a>. The SDO_GEOR_SRS object type is used in the PL/SQL API to contain information related to the spatial referencing of a GeoRaster object. The metadata and the object type contain the same information. You can use the object type to retrieve the SRS information from GeoRaster objects or to load and update the SRS information in GeoRaster objects.
                     </p>
                     <p>The SDO_GEOR_SRS object type is defined as:</p><pre class="oac_no_warn" dir="ltr">CREATE TYPE sdo_geor_srs AS OBJECT (
   isReferenced       VARCHAR2(5),
   isRectified        VARCHAR2(5),
   isOrthoRectified   VARCHAR2(5),
   srid               NUMBER,
   spatialResolution  SDO_NUMBER_ARRAY,
   spatialTolerance   NUMBER,
   coordLocation      NUMBER,
   rowOff             NUMBER,
   columnOff          NUMBER,
   xOff               NUMBER,
   yOff               NUMBER,
   zOff               NUMBER,
   rowScale           NUMBER,
   columnScale        NUMBER,
   xScale             NUMBER,
   yScale             NUMBER,
   zScale             NUMBER,
   rowRMS             NUMBER,
   columnRMS          NUMBER,
   totalRMS           NUMBER,
   rowNumerator       SDO_NUMBER_ARRAY,
   rowDenominator     SDO_NUMBER_ARRAY,
   columnNumerator    SDO_NUMBER_ARRAY,
   columnDenominator  SDO_NUMBER_ARRAY,
   xRMS               NUMBER,
   yRMS               NUMBER,
   zRMS               NUMBER,
   modelTotalRMS      NUMBER,
   GCPgeoreferenceModel SDO_GEOR_GCPGEOREFTYPE);
</pre><p><a href="georaster-datatypes.html#GUID-A7C5B4C6-2B57-4E3F-B796-3313F6D67E57__BGBBBHHE" title="This 2 column table lists the SDO_GEOR_SRS object type attributes. Column 1 is the attribute. Column 2 explains the attribute.">Table 2-4</a> describes the attributes of the SDO_GEOR_SRS object type.
                     </p>
                     <div class="tblformal" id="GUID-A7C5B4C6-2B57-4E3F-B796-3313F6D67E57__BGBBBHHE">
                        <p class="titleintable">Table 2-4 SDO_GEOR_SRS Object Type Attributes</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="SDO_GEOR_SRS Object Type Attributes" summary="This 2 column table lists the SDO_GEOR_SRS object type attributes.  Column 1 is the attribute. Column 2 explains the attribute." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" id="d11341e1755">Attribute</th>
                                 <th align="left" valign="bottom" id="d11341e1758">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11341e1763" headers="d11341e1755 ">
                                    <p>isReferenced</p>
                                 </td>
                                 <td align="left" valign="top" headers="d11341e1763 d11341e1758 ">
                                    <p><code class="codeph">TRUE</code> if the GeoRaster object is georeferenced; <code class="codeph">FALSE</code> if the GeoRaster object is not georeferenced.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11341e1775" headers="d11341e1755 ">
                                    <p>isRectified</p>
                                 </td>
                                 <td align="left" valign="top" headers="d11341e1775 d11341e1758 ">
                                    <p><code class="codeph">TRUE</code> if the GeoRaster object is both georectified and georeferenced; <code class="codeph">FALSE</code> if the GeoRaster object is not georectified.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11341e1787" headers="d11341e1755 ">
                                    <p>isOrthoRectified</p>
                                 </td>
                                 <td align="left" valign="top" headers="d11341e1787 d11341e1758 ">
                                    <p><code class="codeph">TRUE</code> if the GeoRaster object is orthorectified, georectified, and georeferenced; <code class="codeph">FALSE</code> if the GeoRaster object is not orthorectified.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11341e1799" headers="d11341e1755 ">
                                    <p>srid</p>
                                 </td>
                                 <td align="left" valign="top" headers="d11341e1799 d11341e1758 ">
                                    <p>SRID value of the model (ground) coordinate system.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11341e1806" headers="d11341e1755 ">
                                    <p>spatialResolution</p>
                                 </td>
                                 <td align="left" valign="top" headers="d11341e1806 d11341e1758 ">
                                    <p>Spatial resolution values: an array of numeric values, one for each spatial dimension. Each value indicates the number of units of measurement associated with the data area represented by that spatial dimension of a cell.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11341e1813" headers="d11341e1755 ">
                                    <p>spatialTolerance</p>
                                 </td>
                                 <td align="left" valign="top" headers="d11341e1813 d11341e1758 ">
                                    <p>Tolerance value, for control of the precision.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11341e1820" headers="d11341e1755 ">
                                    <p>coordLocation</p>
                                 </td>
                                 <td align="left" valign="top" headers="d11341e1820 d11341e1758 ">
                                    <p>The model coordinate location defines the type of the cell space, which represents either upperleft-based (that is, coordLocation=1) or center-based (that is, coordLocation=0). For more information about model space and cell (raster) space, see <a href="georaster-overview-and-concepts.html#GUID-E38F1F16-4272-4CC8-A199-C97B11C634BA" title="Raster data can have some or all of the following elements.">GeoRaster Data Model</a>.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11341e1834" headers="d11341e1755 ">
                                    <p>rowOff</p>
                                 </td>
                                 <td align="left" valign="top" headers="d11341e1834 d11341e1758 ">
                                    <p>Row offset value.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11341e1841" headers="d11341e1755 ">
                                    <p>columnOff</p>
                                 </td>
                                 <td align="left" valign="top" headers="d11341e1841 d11341e1758 ">
                                    <p>Column offset value.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11341e1848" headers="d11341e1755 ">
                                    <p>xOff</p>
                                 </td>
                                 <td align="left" valign="top" headers="d11341e1848 d11341e1758 ">
                                    <p>X offset value.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11341e1855" headers="d11341e1755 ">
                                    <p>yOff</p>
                                 </td>
                                 <td align="left" valign="top" headers="d11341e1855 d11341e1758 ">
                                    <p>Y offset value.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11341e1863" headers="d11341e1755 ">
                                    <p>zOff</p>
                                 </td>
                                 <td align="left" valign="top" headers="d11341e1863 d11341e1758 ">
                                    <p>Z offset value.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11341e1870" headers="d11341e1755 ">
                                    <p>rowScale</p>
                                 </td>
                                 <td align="left" valign="top" headers="d11341e1870 d11341e1758 ">
                                    <p>Row scaling factor value.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11341e1877" headers="d11341e1755 ">
                                    <p>columnScale</p>
                                 </td>
                                 <td align="left" valign="top" headers="d11341e1877 d11341e1758 ">
                                    <p>Column scaling factor value.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11341e1884" headers="d11341e1755 ">
                                    <p>xScale</p>
                                 </td>
                                 <td align="left" valign="top" headers="d11341e1884 d11341e1758 ">
                                    <p>X scaling factor value.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11341e1891" headers="d11341e1755 ">
                                    <p>yScale</p>
                                 </td>
                                 <td align="left" valign="top" headers="d11341e1891 d11341e1758 ">
                                    <p>Y scaling factor value.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11341e1898" headers="d11341e1755 ">
                                    <p>zScale</p>
                                 </td>
                                 <td align="left" valign="top" headers="d11341e1898 d11341e1758 ">
                                    <p>Z scaling factor value.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11341e1905" headers="d11341e1755 ">
                                    <p>rowRMS</p>
                                 </td>
                                 <td align="left" valign="top" headers="d11341e1905 d11341e1758 ">
                                    <p>The row-dimension accuracy. It is computed using control points if you call <a href="SDO_GEOR-reference.html#GUID-BFA20035-A3A9-41C6-A7B0-DFB014C73F34">SDO_GEOR.georeference</a> using GCPs.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11341e1916" headers="d11341e1755 ">
                                    <p>columnRMS</p>
                                 </td>
                                 <td align="left" valign="top" headers="d11341e1916 d11341e1758 ">
                                    <p>The column-dimension accuracy. It is computed using control points if you call <a href="SDO_GEOR-reference.html#GUID-BFA20035-A3A9-41C6-A7B0-DFB014C73F34">SDO_GEOR.georeference</a> using GCPs
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11341e1927" headers="d11341e1755 ">
                                    <p>totalRMS</p>
                                 </td>
                                 <td align="left" valign="top" headers="d11341e1927 d11341e1758 ">
                                    <p>The total row and column accuracy. It is computed using control points if you call <a href="SDO_GEOR-reference.html#GUID-BFA20035-A3A9-41C6-A7B0-DFB014C73F34">SDO_GEOR.georeference</a> using GCPs
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11341e1938" headers="d11341e1755 ">
                                    <p>rowNumerator</p>
                                 </td>
                                 <td align="left" valign="top" headers="d11341e1938 d11341e1758 ">
                                    <p><code class="codeph">pType</code>, <code class="codeph">nVars</code>, <code class="codeph">order</code>, <code class="codeph">nCoefficients</code>, and all coefficients of the numerator of the row polynomial, where <code class="codeph">pType</code>=1 or 2; <code class="codeph">nVars</code>=0, 2, or 3; 0&lt;=<code class="codeph">order</code>&lt;=5; and <code class="codeph">nCoefficients</code> is derived from <code class="codeph">pType</code>, <code class="codeph">nVars</code>, and <code class="codeph">order</code>. The polynomials are explained in <a href="georaster-overview-and-concepts.html#GUID-D07DEFFD-F25A-4D8D-8A94-9AFD05CE4256">Functional Fitting Georeferencing Model</a>.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11341e1982" headers="d11341e1755 ">
                                    <p>rowDenominator</p>
                                 </td>
                                 <td align="left" valign="top" headers="d11341e1982 d11341e1758 ">
                                    <p><code class="codeph">pType</code>, <code class="codeph">nVars</code>, <code class="codeph">order</code>, <code class="codeph">nCoefficients</code>, and all coefficients of the denominator of the row polynomial, where <code class="codeph">pType</code>=1 or 2; <code class="codeph">nVars</code>=0, 2, or 3; 0&lt;=<code class="codeph">order</code>&lt;=5; and <code class="codeph">nCoefficients</code> is derived from <code class="codeph">pType</code>, <code class="codeph">nVars</code>, and <code class="codeph">order</code>. The polynomials are explained in <a href="georaster-overview-and-concepts.html#GUID-D07DEFFD-F25A-4D8D-8A94-9AFD05CE4256">Functional Fitting Georeferencing Model</a>.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11341e2027" headers="d11341e1755 ">
                                    <p>columnNumerator</p>
                                 </td>
                                 <td align="left" valign="top" headers="d11341e2027 d11341e1758 ">
                                    <p><code class="codeph">pType</code>, <code class="codeph">nVars</code>, <code class="codeph">order</code>, <code class="codeph">nCoefficients</code>, and all coefficients of the numerator of the column polynomial, where <code class="codeph">pType</code>=1 or 2; <code class="codeph">nVars</code>=0, 2, or 3; 0&lt;=<code class="codeph">order</code>&lt;=5; and <code class="codeph">nCoefficients</code> is derived from <code class="codeph">pType</code>, <code class="codeph">nVars</code>, and <code class="codeph">order</code>. The polynomials are explained in <a href="georaster-overview-and-concepts.html#GUID-D07DEFFD-F25A-4D8D-8A94-9AFD05CE4256">Functional Fitting Georeferencing Model</a>.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11341e2071" headers="d11341e1755 ">
                                    <p>columnDenominator</p>
                                 </td>
                                 <td align="left" valign="top" headers="d11341e2071 d11341e1758 ">
                                    <p><code class="codeph">pType</code>, <code class="codeph">nVars</code>, <code class="codeph">order</code>, <code class="codeph">nCoefficients</code>, and all coefficients of the denominator of the column polynomial, where <code class="codeph">pType</code>=1 or 2; <code class="codeph">nVars</code>=0, 2, or 3; 0&lt;=<code class="codeph">order</code>&lt;=5; and <code class="codeph">nCoefficients</code> is derived from <code class="codeph">pType</code>, <code class="codeph">nVars</code>, and <code class="codeph">order</code>. The polynomials are explained in <a href="georaster-overview-and-concepts.html#GUID-D07DEFFD-F25A-4D8D-8A94-9AFD05CE4256">Functional Fitting Georeferencing Model</a>.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11341e2115" headers="d11341e1755 ">
                                    <p>xRMS</p>
                                 </td>
                                 <td align="left" valign="top" headers="d11341e2115 d11341e1758 ">
                                    <p>The x-dimension accuracy. It is computed using check points if you call <a href="SDO_GEOR-reference.html#GUID-BFA20035-A3A9-41C6-A7B0-DFB014C73F34">SDO_GEOR.georeference</a> using GCPs.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11341e2126" headers="d11341e1755 ">
                                    <p>yRMS</p>
                                 </td>
                                 <td align="left" valign="top" headers="d11341e2126 d11341e1758 ">
                                    <p>The y-dimension accuracy. It is computed using check points if you call <a href="SDO_GEOR-reference.html#GUID-BFA20035-A3A9-41C6-A7B0-DFB014C73F34">SDO_GEOR.georeference</a> using GCPs.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11341e2137" headers="d11341e1755 ">
                                    <p>zRMS</p>
                                 </td>
                                 <td align="left" valign="top" headers="d11341e2137 d11341e1758 ">
                                    <p>The z-dimension accuracy. It is computed using check points if you call <a href="SDO_GEOR-reference.html#GUID-BFA20035-A3A9-41C6-A7B0-DFB014C73F34">SDO_GEOR.georeference</a> using GCPs.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11341e2148" headers="d11341e1755 ">
                                    <p>modelTotalRMS</p>
                                 </td>
                                 <td align="left" valign="top" headers="d11341e2148 d11341e1758 ">
                                    <p>The total model accuracy. It is computed using check points if you call <a href="SDO_GEOR-reference.html#GUID-BFA20035-A3A9-41C6-A7B0-DFB014C73F34">SDO_GEOR.georeference</a> using GCPs.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11341e2159" headers="d11341e1755 ">
                                    <p>GCPgeoreferenceModel</p>
                                 </td>
                                 <td align="left" valign="top" headers="d11341e2159 d11341e1758 ">
                                    <p>The stored function model information, that is, all information about the GCP-based georeferencing model. For information about GCP-based georeferencing model information, see <a href="georaster-datatypes.html#GUID-41205B52-4D3B-4870-A7DF-6B5AB9FFB58B">SDO_GEOR_GCPGEOREFTYPE Object Type</a>.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>However, when the direct and inverse solutions are derived from the functional fitting model, the accuracy values listed in <a href="georaster-datatypes.html#GUID-A7C5B4C6-2B57-4E3F-B796-3313F6D67E57__BGBBBHHE" title="This 2 column table lists the SDO_GEOR_SRS object type attributes. Column 1 is the attribute. Column 2 explains the attribute.">Table 2-4</a> are not considered in GeoRaster internal cell coordinate and model coordinate transformation computations for the current release.
                     </p>
                     <p><a id="d11341e2177" class="indexterm-anchor"></a>The SDO_GEOR_SRS object type has two constructors:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>One constructor takes no parameters and creates an instance of the type with the <code class="codeph">isReferenced</code> attribute set to <code class="codeph">FALSE</code> and the other attributes set to null values. This constructor allows you to set up either the functional fitting model or the stored function (GCP) model, or to set up both of them together.
                           </p>
                        </li>
                        <li>
                           <p>The other constructor takes all the attributes of this object type as parameters, except those related to the stored function (GCP) model.</p>
                        </li>
                     </ul>
                     <p>For examples of how to use the SDO_GEOR_SRS constructor, see the reference section for the <a href="SDO_GEOR-reference.html#GUID-0406AB05-BA9B-4331-8613-B480A9F12C09">SDO_GEOR.setSRS</a> procedure in <a href="SDO_GEOR-reference.html#GUID-587A19B6-40FF-4F1C-AC13-556891070C30" title="The SDO_GEOR package contains subprograms (functions and procedures) for creating, modifying, and retrieving information about GeoRaster objects. This chapter presents reference information, with one or more examples, for each subprogram."> SDO_GEOR Package Reference</a>.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="georaster-datatypes.html#GUID-690756C5-5114-47B0-B417-B939BF5FBBA6" title="GeoRaster also porvides some other data types.">Other GeoRaster Types</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="GEORS1190"></a><a id="GEORS1189"></a><div class="props_rev_3"><a id="GUID-339ED929-236B-4178-ADAB-F4901E37EBF6" name="GUID-339ED929-236B-4178-ADAB-F4901E37EBF6"></a><h4 id="GEORS-GUID-339ED929-236B-4178-ADAB-F4901E37EBF6" class="sect4"><span class="enumeration_section">2.3.7 </span>SDO_GEOR_GCP Object Type
                  </h4>
                  <div>
                     <p>In GeoRaster, the ground control point (GCP) information is stored in the GeoRaster metadata using the XML schema defined in <a href="georaster-metadata-xml-schema.html#GUID-6814D440-F50A-473C-84F6-60709DC5620D" title="This appendix provides the XML schema definition that is used for GeoRaster metadata."> GeoRaster Metadata XML Schema</a>. The SDO_GEOR_GCP object type is used in the PL/SQL API to contain GCP information related to the georeferencing of a GeoRaster object. The metadata and the object type contain the same information. You can use the object type to retrieve the GCP information from GeoRaster objects or to load and update the GCP information in GeoRaster objects.
                     </p>
                     <p>The SDO_GEOR_GCP object type is defined as:</p><pre class="oac_no_warn" dir="ltr">CREATE TYPE sdo_geor_gcp AS OBJECT (
     pointID          VARCHAR2(32),
     description      VARCHAR2(256),
     pointType        NUMBER,
     cellDimension    NUMBER,
     cellCoordinates  SDO_NUMBER_ARRAY,
     modelDimension   NUMBER,
     modelCoordinates SDO_NUMBER_ARRAY,
     accuracy         SDO_NUMBER_ARRAY,
     status           NUMBER
);
</pre><p><a href="georaster-datatypes.html#GUID-339ED929-236B-4178-ADAB-F4901E37EBF6__BABEAGDE" title="This 2 column table lists SDO_GEOR_GCP object type attributes. Column 1 is the attribute. Column 2 explains the attribute.">Table 2-5</a> describes the attributes of the SDO_GEOR_GCP object type.
                     </p>
                     <div class="tblformal" id="GUID-339ED929-236B-4178-ADAB-F4901E37EBF6__BABEAGDE">
                        <p class="titleintable">Table 2-5 SDO_GEOR_GCP Object Type Attributes</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="SDO_GEOR_GCP Object Type Attributes" summary="This 2 column table lists SDO_GEOR_GCP object type attributes.  Column 1 is the attribute. Column 2 explains the attribute." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" id="d11341e2277">Attribute</th>
                                 <th align="left" valign="bottom" id="d11341e2280">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11341e2285" headers="d11341e2277 ">
                                    <p>pointID</p>
                                 </td>
                                 <td align="left" valign="top" headers="d11341e2285 d11341e2280 ">
                                    <p>Unique ID of the control point. Must not more 32 characters.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11341e2292" headers="d11341e2277 ">
                                    <p>description</p>
                                 </td>
                                 <td align="left" valign="top" headers="d11341e2292 d11341e2280 ">
                                    <p>Descriptive information about the control point.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11341e2299" headers="d11341e2277 ">
                                    <p>pointType</p>
                                 </td>
                                 <td align="left" valign="top" headers="d11341e2299 d11341e2280 ">
                                    <p>Point type: 1 (control point) or 2 (check point).</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11341e2306" headers="d11341e2277 ">
                                    <p>cellDimension</p>
                                 </td>
                                 <td align="left" valign="top" headers="d11341e2306 d11341e2280 ">
                                    <p>Dimensionality (number of dimensions) of the cell coordinates: 2 or 3.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11341e2313" headers="d11341e2277 ">
                                    <p>cellCoordinates</p>
                                 </td>
                                 <td align="left" valign="top" headers="d11341e2313 d11341e2280 ">
                                    <p>Array of cell coordinates for the control points; (row, column) or (row, column, vertical) for each point.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11341e2320" headers="d11341e2277 ">
                                    <p>modelDimension</p>
                                 </td>
                                 <td align="left" valign="top" headers="d11341e2320 d11341e2280 ">
                                    <p>Dimensionality (number of dimensions) of the model coordinates: 2 or 3.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11341e2327" headers="d11341e2277 ">
                                    <p>modelCoordinates</p>
                                 </td>
                                 <td align="left" valign="top" headers="d11341e2327 d11341e2280 ">
                                    <p>Array of model coordinates for the control point, corresponding to the points in cell space; (X,Y) or (X,Y,Z) for each point.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11341e2334" headers="d11341e2277 ">
                                    <p>accuracy</p>
                                 </td>
                                 <td align="left" valign="top" headers="d11341e2334 d11341e2280 ">
                                    <p>Accuracy of the control point, expressed as the values of (xRMS, yRMS) or (xRMS, yRMS, zRMS).</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11341e2341" headers="d11341e2277 ">
                                    <p>status</p>
                                 </td>
                                 <td align="left" valign="top" headers="d11341e2341 d11341e2280 ">
                                    <p>Status of the GCP: <code class="codeph">Measured</code>, <code class="codeph">Removed</code>, <code class="codeph">Estimated</code>, <code class="codeph">Validated</code>, or <code class="codeph">Invalid</code>. The value of this column is informational only, and it has no effect on the usage of the GCP by GeoRaster. 
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>The SDO_GEOR_GCP constructor can be used to create an empty instance of this object type. You should then fill in the necessary data before you use this instance.</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="georaster-datatypes.html#GUID-690756C5-5114-47B0-B417-B939BF5FBBA6" title="GeoRaster also porvides some other data types.">Other GeoRaster Types</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="GEORS1191"></a><div class="props_rev_3"><a id="GUID-622DEDBA-8E96-46A3-AFC3-DEBEEE15561D" name="GUID-622DEDBA-8E96-46A3-AFC3-DEBEEE15561D"></a><h4 id="GEORS-GUID-622DEDBA-8E96-46A3-AFC3-DEBEEE15561D" class="sect4"><span class="enumeration_section">2.3.8 </span>SDO_GEOR_GCP_ COLLECTION Collection Type
                  </h4>
                  <div>
                     <p>The SDO_GEOR_GCP_ COLLECTION collection type is used to store an array (a collection) of ground control points (GCPs).</p>
                     <p>The SDO_GEOR_GCP_ COLLECTION collection type is defined as:</p><pre class="oac_no_warn" dir="ltr">CREATE TYPE sdo_geor_gcp_collection VARRAY(1048576) OF SDO_GEOR_GCP;
</pre></div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="georaster-datatypes.html#GUID-339ED929-236B-4178-ADAB-F4901E37EBF6">SDO_GEOR_GCP Object Type</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="georaster-datatypes.html#GUID-690756C5-5114-47B0-B417-B939BF5FBBA6" title="GeoRaster also porvides some other data types.">Other GeoRaster Types</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="GEORS1193"></a><a id="GEORS1192"></a><div class="props_rev_3"><a id="GUID-41205B52-4D3B-4870-A7DF-6B5AB9FFB58B" name="GUID-41205B52-4D3B-4870-A7DF-6B5AB9FFB58B"></a><h4 id="GEORS-GUID-41205B52-4D3B-4870-A7DF-6B5AB9FFB58B" class="sect4"><span class="enumeration_section">2.3.9 </span>SDO_GEOR_GCPGEOREFTYPE Object Type
                  </h4>
                  <div>
                     <p>In GeoRaster, the GCP-based georeferencing model information is stored in the GeoRaster metadata using the XML schema defined in <a href="georaster-metadata-xml-schema.html#GUID-6814D440-F50A-473C-84F6-60709DC5620D" title="This appendix provides the XML schema definition that is used for GeoRaster metadata."> GeoRaster Metadata XML Schema</a>. The SDO_GEOR_GCPGEOREFTYPE object includes the georeferencing functional fitting method (that is, the geometric model), control points for solving the model parameters, and solution accuracy. The SDO_GEOR_ GCPGEOREFTYPE object type is used in the PL/SQL API to contain georeferencing model information related to the GCP-based georeferencing of a GeoRaster object. The metadata and the object type contain the same information. You can use the object type to retrieve the georeferencing model information from GeoRaster objects or to load and update the georeferencing model information in GeoRaster objects.
                     </p>
                     <p>The SDO_GEOR_GCPGEOREFTYPE object type is defined as:</p><pre class="oac_no_warn" dir="ltr">CREATE TYPE sdo_geor_gcpgeoreftype AS OBJECT (
     FFMethodType     VARCHAR2(32),
     numberGCP        NUMBER,
     GCPs             SDO_GEOR_GCP_COLLECTION,
     solutionAccuracy SDO_NUMBER_ARRAY
);
</pre><p><a href="georaster-datatypes.html#GUID-41205B52-4D3B-4870-A7DF-6B5AB9FFB58B__BABBBIHF" title="This 2 column table lists SDO_GEOR_GCPGEOREFTYPE object type attributes. Column 1 is the attribute Column 2 is a description of that attribute.">Table 2-6</a> describes the attributes of the SDO_GEOR_GCPGEOREFTYPE object type.
                     </p>
                     <div class="tblformal" id="GUID-41205B52-4D3B-4870-A7DF-6B5AB9FFB58B__BABBBIHF">
                        <p class="titleintable">Table 2-6 SDO_GEOR_GCPGEOREFTYPE Object Type Attributes</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="SDO_GEOR_GCPGEOREFTYPE Object Type Attributes" summary="This 2 column table lists SDO_GEOR_GCPGEOREFTYPE object type attributes. Column 1 is the attribute Column 2 is a description of that attribute. " width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" id="d11341e2486">Attribute</th>
                                 <th align="left" valign="bottom" id="d11341e2489">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11341e2494" headers="d11341e2486 ">
                                    <p>FFMethodType</p>
                                 </td>
                                 <td align="left" valign="top" headers="d11341e2494 d11341e2489 ">
                                    <p>Functional fitting method. Must be one of the following: <code class="codeph">Affine</code>, <code class="codeph">QuadraticPolynomial</code>, <code class="codeph">CubicPolynomial</code>, <code class="codeph">DLT</code>, <code class="codeph">QuadraticRational</code>, or <code class="codeph">RPC</code>.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11341e2520" headers="d11341e2486 ">
                                    <p>numberGCP</p>
                                 </td>
                                 <td align="left" valign="top" headers="d11341e2520 d11341e2489 ">
                                    <p>Number of ground control points in the GCP collection (<code class="codeph">GCPs</code> parameter).
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11341e2530" headers="d11341e2486 ">
                                    <p>GCPs</p>
                                 </td>
                                 <td align="left" valign="top" headers="d11341e2530 d11341e2489 ">
                                    <p>The GCP collection, of type SDO_GEOR_GCP_COLLECTION (described in <a href="georaster-datatypes.html#GUID-622DEDBA-8E96-46A3-AFC3-DEBEEE15561D">SDO_GEOR_GCP_ COLLECTION Collection Type</a>).
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11341e2541" headers="d11341e2486 ">
                                    <p>solutionAccuracy</p>
                                 </td>
                                 <td align="left" valign="top" headers="d11341e2541 d11341e2489 ">
                                    <p>Array storing the accuracy of the georeferencing solution in the following format: (rowRMS, columnRMS, totalRMS, xRMS, yRMS, zRMS, modelTotalRMS). The first three RMS numbers are computed using control points, and the last four RMS numbers are computed using check points (if any). This information is for output only; do not store or modify values in this attribute.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>The SDO_GEOR_GCPGEOREFTYPE object type has one constructor. The constructor takes no parameters, and it creates an instance of the type with the <code class="codeph">FFMethodType</code> attribute set to <code class="codeph">Affine</code> and the other attributes set to null values.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="georaster-datatypes.html#GUID-690756C5-5114-47B0-B417-B939BF5FBBA6" title="GeoRaster also porvides some other data types.">Other GeoRaster Types</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="GEORS977"></a><div class="props_rev_3"><a id="GUID-657BA65F-E8FF-41D7-94B6-BA412993EC52" name="GUID-657BA65F-E8FF-41D7-94B6-BA412993EC52"></a><h3 id="GEORS-GUID-657BA65F-E8FF-41D7-94B6-BA412993EC52" class="sect3"><span class="enumeration_section">2.4 </span>GeoRaster System Data Views (xxx_SDO_GEOR_SYSDATA)
               </h3>
               <div>
                  <p>GeoRaster uses a system data table (also called the sysdata table) to maintain the relationship between GeoRaster tables and their related raster data tables.</p>
                  <p>Each GeoRaster object (if it is not null) has a related raster data table, and it might have other information, such as ground control points (GCPs) and value attribute tables (VATs).</p>
                  <p>For a given user, the raster data table name plus the <code class="codeph">rasterID</code> uniquely identify a GeoRaster object. It is possible for many GeoRaster objects (each with a different <code class="codeph">rasterID</code> value) in one GeoRaster table to share one raster data table.
                  </p>
                  <p>Whenever a new GeoRaster object (including empty and blank GeoRaster objects) is created, a raster data table is assigned to it and a <code class="codeph">rasterID</code> value is assigned. All SDO_GEORASTER objects (except atomic null objects) are automatically recorded in the system data table when they are created.
                  </p>
                  <p>The GeoRaster sysdata table is under the MDSYS schema. Most of the information in the GeoRaster system data table is available for retrieval through system data views, and thus it can be used as a dictionary or a catalog of all GeoRaster objects in a GeoRaster database. Each GeoRaster user has the following system data views available in the schema associated with that user:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a id="d11341e2620" class="indexterm-anchor"></a>USER_SDO_GEOR_SYSDATA contains system data for all GeoRaster objects owned by the current user.
                        </p>
                     </li>
                     <li>
                        <p><a id="d11341e2625" class="indexterm-anchor"></a>ALL_SDO_GEOR_SYSDATA contains system data for all GeoRaster objects accessible by the current user.
                        </p>
                     </li>
                  </ul>
                  <p>The GeoRaster sysdata table and the USER_SDO_GEOR_SYSDATA and ALL_SDO_GEOR_SYSDATA views should never be modified directly by users, although they are updated by the DML trigger that is automatically created on each SDO_GEORASTER column in each GeoRaster table.</p>
                  <p>The USER_SDO_GEOR_SYSDATA view has the following definition:</p><pre class="oac_no_warn" dir="ltr">(
   TABLE_NAME            VARCHAR2(128),
   COLUMN_NAME           VARCHAR2(1024),
   METADATA_COLUMN_NAME  VARCHAR2(1024),
   RDT_TABLE_NAME        VARCHAR2(128),
   RASTER_ID             NUMBER,
   OTHER_TABLE_NAMES     SDO_STRING_ARRAY
);
</pre><p>The ALL_SDO_GEOR_SYSDATA view has all columns in the USER_SDO_GEOR_SYSDATA view, but it also has an OWNER column identifying the schema that owns the table specified in the TABLE_NAME column.</p>
                  <p>This section describes each of the columns common to both views. Note that for VARCHAR2 data in any columns, names are stored in all uppercase characters.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="georaster-datatypes.html#GUID-441A9890-F85D-4C31-BAB7-AE58CB0E1F44">TABLE_NAME Column</a><br></li>
                     <li class="ulchildlink"><a href="georaster-datatypes.html#GUID-B242B9AD-9607-42B9-BEDC-3FA2AF77D780">COLUMN_NAME Column</a><br></li>
                     <li class="ulchildlink"><a href="georaster-datatypes.html#GUID-9A3C0441-67E6-447A-B769-01A313208D4B">METADATA_COLUMN_NAME Column</a><br></li>
                     <li class="ulchildlink"><a href="georaster-datatypes.html#GUID-20D7EC44-3CB5-4200-95F4-9AE2CCF4721F">RDT_TABLE_NAME Column</a><br></li>
                     <li class="ulchildlink"><a href="georaster-datatypes.html#GUID-0621B7B2-C7D1-4281-BF91-EACD4105954C">RASTER_ID Column</a><br></li>
                     <li class="ulchildlink"><a href="georaster-datatypes.html#GUID-1D3ED32A-EB9B-48CA-B48A-34F121D1D1FB">OTHER_TABLE_NAMES Column</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="georaster-datatypes.html#GUID-98F692F8-C05A-4D8F-AB6A-484D5268D30A" title="The object-relational implementation of GeoRaster consists of a set of object data types for storing data and system data.">GeoRaster Data Types and Related Structures</a></p>
                     </div>
                  </div>
               </div>
               <a id="GEORS978"></a><div class="props_rev_3"><a id="GUID-441A9890-F85D-4C31-BAB7-AE58CB0E1F44" name="GUID-441A9890-F85D-4C31-BAB7-AE58CB0E1F44"></a><h4 id="GEORS-GUID-441A9890-F85D-4C31-BAB7-AE58CB0E1F44" class="sect4"><span class="enumeration_section">2.4.1 </span>TABLE_NAME Column
                  </h4>
                  <div>
                     <p>The TABLE_NAME column contains the name of a GeoRaster table that has at least one column of type SDO_GEORASTER.</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="georaster-datatypes.html#GUID-657BA65F-E8FF-41D7-94B6-BA412993EC52" title="GeoRaster uses a system data table (also called the sysdata table) to maintain the relationship between GeoRaster tables and their related raster data tables.">GeoRaster System Data Views (xxx_SDO_GEOR_SYSDATA)</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="GEORS979"></a><div class="props_rev_3"><a id="GUID-B242B9AD-9607-42B9-BEDC-3FA2AF77D780" name="GUID-B242B9AD-9607-42B9-BEDC-3FA2AF77D780"></a><h4 id="GEORS-GUID-B242B9AD-9607-42B9-BEDC-3FA2AF77D780" class="sect4"><span class="enumeration_section">2.4.2 </span>COLUMN_NAME Column
                  </h4>
                  <div>
                     <p>The COLUMN_NAME column contains the name of a column of type SDO_GEORASTER in the GeoRaster table specified in the TABLE_NAME column.</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="georaster-datatypes.html#GUID-657BA65F-E8FF-41D7-94B6-BA412993EC52" title="GeoRaster uses a system data table (also called the sysdata table) to maintain the relationship between GeoRaster tables and their related raster data tables.">GeoRaster System Data Views (xxx_SDO_GEOR_SYSDATA)</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="GEORS980"></a><div class="props_rev_3"><a id="GUID-9A3C0441-67E6-447A-B769-01A313208D4B" name="GUID-9A3C0441-67E6-447A-B769-01A313208D4B"></a><h4 id="GEORS-GUID-9A3C0441-67E6-447A-B769-01A313208D4B" class="sect4"><span class="enumeration_section">2.4.3 </span>METADATA_COLUMN_NAME Column
                  </h4>
                  <div>
                     <p>The METADATA_COLUMN_NAME column is ignored for the current release. </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="georaster-datatypes.html#GUID-657BA65F-E8FF-41D7-94B6-BA412993EC52" title="GeoRaster uses a system data table (also called the sysdata table) to maintain the relationship between GeoRaster tables and their related raster data tables.">GeoRaster System Data Views (xxx_SDO_GEOR_SYSDATA)</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="GEORS981"></a><div class="props_rev_3"><a id="GUID-20D7EC44-3CB5-4200-95F4-9AE2CCF4721F" name="GUID-20D7EC44-3CB5-4200-95F4-9AE2CCF4721F"></a><h4 id="GEORS-GUID-20D7EC44-3CB5-4200-95F4-9AE2CCF4721F" class="sect4"><span class="enumeration_section">2.4.4 </span>RDT_TABLE_NAME Column
                  </h4>
                  <div>
                     <p>The RDT_TABLE_NAME column contains the name of the raster data table associated with the table and column specified in the TABLE_NAME and COLUMN_NAME columns.)</p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="georaster-datatypes.html#GUID-9679F06D-50A0-4EF7-9204-E85CA2F38378">SDO_RASTER Object Type and the Raster Data Table</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="georaster-datatypes.html#GUID-657BA65F-E8FF-41D7-94B6-BA412993EC52" title="GeoRaster uses a system data table (also called the sysdata table) to maintain the relationship between GeoRaster tables and their related raster data tables.">GeoRaster System Data Views (xxx_SDO_GEOR_SYSDATA)</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="GEORS982"></a><div class="props_rev_3"><a id="GUID-0621B7B2-C7D1-4281-BF91-EACD4105954C" name="GUID-0621B7B2-C7D1-4281-BF91-EACD4105954C"></a><h4 id="GEORS-GUID-0621B7B2-C7D1-4281-BF91-EACD4105954C" class="sect4"><span class="enumeration_section">2.4.5 </span>RASTER_ID Column
                  </h4>
                  <div>
                     <p>The RASTER_ID column contains a number that, together with the RDT_TABLE_NAME column value, uniquely identifies each GeoRaster object.</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="georaster-datatypes.html#GUID-657BA65F-E8FF-41D7-94B6-BA412993EC52" title="GeoRaster uses a system data table (also called the sysdata table) to maintain the relationship between GeoRaster tables and their related raster data tables.">GeoRaster System Data Views (xxx_SDO_GEOR_SYSDATA)</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="GEORS983"></a><div class="props_rev_3"><a id="GUID-1D3ED32A-EB9B-48CA-B48A-34F121D1D1FB" name="GUID-1D3ED32A-EB9B-48CA-B48A-34F121D1D1FB"></a><h4 id="GEORS-GUID-1D3ED32A-EB9B-48CA-B48A-34F121D1D1FB" class="sect4"><span class="enumeration_section">2.4.6 </span>OTHER_TABLE_NAMES Column
                  </h4>
                  <div>
                     <p>The OTHER_TABLE_NAMES column is ignored for the current release.</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="georaster-datatypes.html#GUID-657BA65F-E8FF-41D7-94B6-BA412993EC52" title="GeoRaster uses a system data table (also called the sysdata table) to maintain the relationship between GeoRaster tables and their related raster data tables.">GeoRaster System Data Views (xxx_SDO_GEOR_SYSDATA)</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="GEORS985"></a><a id="GEORS984"></a><div class="props_rev_3"><a id="GUID-16D246D1-7895-4C68-BFFC-79DBA2926C46" name="GUID-16D246D1-7895-4C68-BFFC-79DBA2926C46"></a><h3 id="GEORS-GUID-16D246D1-7895-4C68-BFFC-79DBA2926C46" class="sect3"><span class="enumeration_section">2.5 </span>GeoRaster XML Schema
               </h3>
               <div>
                  <p>GeoRaster defines an XML schema to store and manage the GeoRaster metadata. </p>
                  <p>The definition of this XML schema is included in <a href="georaster-metadata-xml-schema.html#GUID-6814D440-F50A-473C-84F6-60709DC5620D" title="This appendix provides the XML schema definition that is used for GeoRaster metadata."> GeoRaster Metadata XML Schema</a>. The namespace defined by the GeoRaster XML schema is <code class="codeph">http://xmlns.oracle.com/spatial/georaster</code>, and it is reserved for use by Oracle. You must refer to this namespace if you want to manipulate a GeoRaster metadata document using the SQL XML functions or the XMLType methods.
                  </p>
                  <p>GeoRaster uses a table named SDO_GEOR_XMLSCHEMA_TABLE to store the GeoRaster metadata XML schema and other information. This table is under the MDSYS schema, and you must include the schema name if you reference this table. For example:</p><pre class="oac_no_warn" dir="ltr">DESCRIBE mdsys.sdo_geor_xmlschema_table
 Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 ID                                        NOT NULL NUMBER
 GEORASTERFORMAT                                    VARCHAR2(1024)
 XMLSCHEMA                                          CLOB
</pre><p><a href="georaster-datatypes.html#GUID-16D246D1-7895-4C68-BFFC-79DBA2926C46__BGBCHEGG" title="This 3 column table shows the SDO_GEOR_XMLSCHEMA_TABLE table columns. Column 1 is the column name. Column 2 is the data type. Column 3 describes the column.">Table 2-7</a> describes the columns of the SDO_GEOR_XMLSCHEMA_TABLE table.
                  </p>
                  <div class="tblformal" id="GUID-16D246D1-7895-4C68-BFFC-79DBA2926C46__BGBCHEGG">
                     <p class="titleintable">Table 2-7 SDO_GEOR_XMLSCHEMA_TABLE Table Columns</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="SDO_GEOR_XMLSCHEMA_TABLE Table Columns" summary="This 3 column table shows the SDO_GEOR_XMLSCHEMA_TABLE table columns. Column 1 is the column name. Column 2 is the data type. Column 3 describes the column. " width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" id="d11341e3022">Column Name</th>
                              <th align="left" valign="bottom" id="d11341e3025">Data Type</th>
                              <th align="left" valign="bottom" id="d11341e3028">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d11341e3033" headers="d11341e3022 ">
                                 <p>id</p>
                              </td>
                              <td align="left" valign="top" headers="d11341e3033 d11341e3025 ">
                                 <p>NUMBER</p>
                              </td>
                              <td align="left" valign="top" headers="d11341e3033 d11341e3028 ">
                                 <p>ID number, assigned by Oracle. Values <code class="codeph">1</code> through <code class="codeph">50</code> are reserved for use by Oracle.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d11341e3049" headers="d11341e3022 ">
                                 <p>georasterFormat</p>
                              </td>
                              <td align="left" valign="top" headers="d11341e3049 d11341e3025 ">
                                 <p>VARCHAR2(1024)</p>
                              </td>
                              <td align="left" valign="top" headers="d11341e3049 d11341e3028 ">
                                 <p>GeoRaster format identifier, assigned by Oracle. The value <code class="codeph">GEORASTER</code> is reserved for use by Oracle.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d11341e3062" headers="d11341e3022 ">
                                 <p>xmlSchema</p>
                              </td>
                              <td align="left" valign="top" headers="d11341e3062 d11341e3025 ">
                                 <p>CLOB</p>
                              </td>
                              <td align="left" valign="top" headers="d11341e3062 d11341e3028 ">
                                 <p>GeoRaster metadata XML schema definition. This definition is included in <a href="georaster-metadata-xml-schema.html#GUID-6814D440-F50A-473C-84F6-60709DC5620D" title="This appendix provides the XML schema definition that is used for GeoRaster metadata."> GeoRaster Metadata XML Schema</a>.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p>There are no GeoRaster views defined on this table. It is mainly of interest to advanced users who might want to query the table for GeoRaster XML schema information.</p>
                  <p>You are encouraged not to modify the contents of this table, unless you want to define your own XML schema for other metadata that is not included in the GeoRaster XML schema, and to store that metadata in a new row in this table. If you add a row for your own metadata, do not use an ID column value of <code class="codeph">1</code> through <code class="codeph">50</code> or a GEORASTERFORMAT column value of <code class="codeph">GEORASTER</code>, because these column values are reserved for use by Oracle. If you specify an XMLSCHEMA column value, you should choose a unique namespace for your own XML schema and register it using a corresponding schema URL that will also be unique in the database. (For more information, see <span class="italic">Oracle XML DB Developer's Guide</span>.)
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="georaster-datatypes.html#GUID-98F692F8-C05A-4D8F-AB6A-484D5268D30A" title="The object-relational implementation of GeoRaster consists of a set of object data types for storing data and system data.">GeoRaster Data Types and Related Structures</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html><html id='01058.DBMS_MVIEW.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="DBMS_MVIEW enables you to understand capabilities for materialized views and potential materialized views, including their rewrite availability. It also enables you to refresh materialized views that are not part of the same refresh group and purge logs.">
      <meta name="description" content="DBMS_MVIEW enables you to understand capabilities for materialized views and potential materialized views, including their rewrite availability. It also enables you to refresh materialized views that are not part of the same refresh group and purge logs.">
      <title>DBMS_MVIEW</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="PL/SQL Packages and Types Reference">
      <meta property="og:description" content="DBMS_MVIEW enables you to understand capabilities for materialized views and potential materialized views, including their rewrite availability. It also enables you to refresh materialized views that are not part of the same refresh group and purge logs.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="PL/SQL Packages and Types Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-25T11:24:34-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96430-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="DBMS_MONITOR.html" title="Previous" type="text/html">
      <link rel="next" href="DBMS_MVIEW_STATS.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference">
    <meta name="dcterms.isVersionOf" content="ARPLS">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBMS_MONITOR.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="DBMS_MVIEW_STATS.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL/SQL Packages and Types Reference</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> DBMS_MVIEW</li>
            </ol>
            <a id="GUID-7FBA3522-B774-4B76-87B0-EA65DB797DD3" name="GUID-7FBA3522-B774-4B76-87B0-EA65DB797DD3"></a><a id="ARPLS027"></a><a id="ARPLS027"></a>
            
            <h2 id="ARPLS-GUID-7FBA3522-B774-4B76-87B0-EA65DB797DD3" class="sect2"><span class="enumeration_chapter">108 </span> DBMS_MVIEW
            </h2>
         </header>
         <div class="ind">
            <div>
               <p><code class="codeph">DBMS_MVIEW</code> enables you to understand capabilities for materialized views and potential materialized views, including their rewrite availability. It also enables you to refresh materialized views that are not part of the same refresh group and purge logs. 
               </p>
               <div class="infoboxnote" id="GUID-7FBA3522-B774-4B76-87B0-EA65DB797DD3__GUID-59AD2CE8-59D1-4059-9EE2-4AC2B8FBABD5">
                  <p class="notep1">Note:</p>
                  <p><code class="codeph">DBMS_MVIEW</code> is a synonym for <code class="codeph">DBMS_SNAPSHOT</code>.
                  </p>
               </div>
               <div class="infoboxnotealso" id="GUID-7FBA3522-B774-4B76-87B0-EA65DB797DD3__GUID-25D6D267-92D1-4255-AADB-64F5444A455D">
                  <p class="notep1">See Also:</p>
                  <p><a href="../dwhsg/basic-materialized-views.html#DWHSG-GUID-FC9E665B-8AB2-4B64-AB8A-FAA732511839" target="_blank"><span class="italic">Oracle Database Data Warehousing Guide </span></a>for more information about using materialized views in a data warehousing environment
                  </p>
               </div>
               <p>This chapter contains the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="DBMS_MVIEW.html#GUID-9348BF3F-382C-4FDB-A171-81304058C5EF" title="If a query is less than 256 characters long, you can invoke EXPLAIN_REWRITE using the EXECUTE command from SQL*Plus. Otherwise, the recommended method is to use a PL/SQL BEGIN..END block, as shown in the examples in /rdbms/demo/smxrw.sql.">Operational Notes</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_MVIEW.html#GUID-C60C8F58-7F70-4037-B7D6-39C87090F7D4" title="The DBMS_MVIEW package consists of a number of materialized view-related subprograms, each of which has different functionality and privilege requirements.">Security Model</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_MVIEW.html#GUID-B67C0D11-FA31-4194-9D3C-314CEA70BF72" title="The DBMS_MVIEW.EXPLAIN_REWRITE procedure cannot accept queries longer than 32627 characters. These restrictions also apply when passing the defining query of a materialized view to the DBMS_MVIEW.EXPLAIN_MVIEW procedure.">Rules and Limits</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_MVIEW.html#GUID-33DADD61-B2E8-407D-9117-387D3CE628D1" title="This table lists the DBMS_MVIEW subprograms and briefly describes them.">Summary of DBMS_MVIEW Subprograms</a></p>
                  </li>
               </ul>
            </div><a id="ARPLS67181"></a><a id="ARPLS67181"></a><div class="props_rev_3"><a id="GUID-9348BF3F-382C-4FDB-A171-81304058C5EF" name="GUID-9348BF3F-382C-4FDB-A171-81304058C5EF"></a><h3 id="ARPLS-GUID-9348BF3F-382C-4FDB-A171-81304058C5EF" class="sect3"><span class="enumeration_section">108.1 </span>DBMS_MVIEW Operational Notes
               </h3>
               <div>
                  <p>If a query is less than 256 characters long, you can invoke <code class="codeph">EXPLAIN_REWRITE</code> using the <code class="codeph">EXECUTE</code> command from SQL*Plus. Otherwise, the recommended method is to use a PL/SQL <code class="codeph">BEGIN..END</code> block, as shown in the examples in <code class="codeph">/rdbms/demo/smxrw.sql</code>.
                  </p>
               </div>
            </div><a id="ARPLS73297"></a><a id="ARPLS73297"></a><div class="props_rev_3"><a id="GUID-C60C8F58-7F70-4037-B7D6-39C87090F7D4" name="GUID-C60C8F58-7F70-4037-B7D6-39C87090F7D4"></a><h3 id="ARPLS-GUID-C60C8F58-7F70-4037-B7D6-39C87090F7D4" class="sect3"><span class="enumeration_section">108.2 </span>DBMS_MVIEW Security Model
               </h3>
               <div>
                  <p>The <code class="codeph">DBMS_MVIEW</code> package consists of a number of materialized view-related subprograms, each of which has different functionality and privilege requirements.
                  </p>
                  <div class="section">
                     <p>The privilege model is generally based on the invoker's right. Each package subprogram is executed by first checking the privileges against the invoker. If all the required privileges are met, the subprogram will be executed. Otherwise, an insufficient privileges error will be thrown.</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS67182"></a><a id="ARPLS67182"></a><div class="props_rev_3"><a id="GUID-B67C0D11-FA31-4194-9D3C-314CEA70BF72" name="GUID-B67C0D11-FA31-4194-9D3C-314CEA70BF72"></a><h3 id="ARPLS-GUID-B67C0D11-FA31-4194-9D3C-314CEA70BF72" class="sect3"><span class="enumeration_section">108.3 </span>DBMS_MVIEW Rules and Limits
               </h3>
               <div>
                  <p>The <code class="codeph">DBMS_MVIEW.EXPLAIN_REWRITE</code> procedure cannot accept queries longer than 32627 characters. These restrictions also apply when passing the defining query of a materialized view to the <code class="codeph">DBMS_MVIEW.EXPLAIN_MVIEW</code> procedure.
                  </p>
               </div>
            </div><a id="ARPLS67183"></a><a id="ARPLS67184"></a><a id="ARPLS67184"></a><a id="ARPLS67183"></a><div class="props_rev_3"><a id="GUID-33DADD61-B2E8-407D-9117-387D3CE628D1" name="GUID-33DADD61-B2E8-407D-9117-387D3CE628D1"></a><h3 id="ARPLS-GUID-33DADD61-B2E8-407D-9117-387D3CE628D1" class="sect3"><span class="enumeration_section">108.4 </span>Summary of DBMS_MVIEW Subprograms
               </h3>
               <div>
                  <p>This table lists the <code class="codeph">DBMS_MVIEW</code> subprograms and briefly describes them.
                  </p>
                  <div class="tblformal" id="GUID-33DADD61-B2E8-407D-9117-387D3CE628D1__GUID-D60DEACC-B70D-48DB-A3C3-57470B4BD2BB">
                     <p class="titleintable">Table 108-1 DBMS_MVIEW Package Subprograms</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_MVIEW Package Subprograms" summary="This table lists the DBMS_MVIEW subprograms in alphabetical order and briefly describes them." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="34%" id="d628027e548">Subprogram</th>
                              <th align="left" valign="bottom" width="66%" id="d628027e551">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d628027e556" headers="d628027e548 ">
                                 <p><a href="DBMS_MVIEW.html#GUID-0D46DA27-9C6C-405C-B9ED-F817EC4C0117" title="This procedure performs a process to preserve materialized view data needed for refresh. It must be called before a master table is reorganized.">BEGIN_TABLE_REORGANIZATION Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d628027e556 d628027e551 ">
                                 <p>Performs a process to preserve materialized view data needed for refresh</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d628027e568" headers="d628027e548 ">
                                 <p><a href="DBMS_MVIEW.html#GUID-A89E567E-178D-4CFC-8019-8F86C6F0BAC1" title="This procedure ensures that the materialized view data for the master table is valid and that the master table is in the proper state. It must be called after a master table is reorganized.">END_TABLE_REORGANIZATION Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d628027e568 d628027e551 ">
                                 <p>Ensures that the materialized view data for the master table is valid and that the master table is in the proper state</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d628027e580" headers="d628027e548 ">
                                 <p><a href="DBMS_MVIEW.html#GUID-9C1A3332-F698-4F1E-B805-EA253AAE2478" title="This procedure estimates the size of a materialized view that you might create, in bytes and number of rows.">ESTIMATE_MVIEW_SIZE Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d628027e580 d628027e551 ">
                                 <p>Estimates the size of a materialized view that you might create, in bytes and rows</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d628027e592" headers="d628027e548 ">
                                 <p><a href="DBMS_MVIEW.html#GUID-DB06F5D8-C883-4443-9123-E1519B44AFA6" title="This procedure enables you to learn what is possible with a materialized view or potential materialized view. For example, you can determine if a materialized view is fast refreshable and what types of query rewrite you can perform with a particular materialized view.">EXPLAIN_MVIEW Procedure </a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d628027e592 d628027e551 ">
                                 <p>Explains what is possible with a materialized view or potential materialized view</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d628027e604" headers="d628027e548 ">
                                 <p><a href="DBMS_MVIEW.html#GUID-82BEB5E9-EE35-4E0C-8C88-1AD72210178A" title="This procedure enables you to learn why a query failed to rewrite, or, if it rewrites, which materialized views will be used.">EXPLAIN_REWRITE Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d628027e604 d628027e551 ">
                                 <p>Explains why a query failed to rewrite or why the optimizer chose to rewrite a query with a particular materialized view or materialized views</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d628027e616" headers="d628027e548 ">
                                 <p><a href="DBMS_MVIEW.html#GUID-AFB4EFE5-D8CF-41D1-8605-378A68A2A549" title="This function returns the value of the I_AM_REFRESH package state.">I_AM_A_REFRESH Function</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d628027e616 d628027e551 ">
                                 <p>Returns the value of the <code class="codeph">I_AM_REFRESH</code> package state
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d628027e634" headers="d628027e548 ">
                                 <p><a href="DBMS_MVIEW.html#GUID-53A1C7F5-1F1F-44B5-A3D0-4C89B942E6FE" title="This function returns a partition marker from a rowid. It is used for Partition Change Tracking (PCT).">PMARKER Function</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d628027e634 d628027e551 ">
                                 <p>Returns a partition marker from a rowid, and is used for Partition Change Tracking (PCT)</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d628027e646" headers="d628027e548 ">
                                 <p><a href="DBMS_MVIEW.html#GUID-4D653487-732C-4400-804E-97C4C6802ABD" title="This procedure removes entries from the direct loader log after they are no longer needed for any known materialized view. This procedure usually is used in environments using Oracle's data warehousing technology.">PURGE_DIRECT_LOAD_LOG Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d628027e646 d628027e551 ">
                                 <p>Purges rows from the direct loader log after they are no longer needed by any materialized views (used with data warehousing)</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d628027e658" headers="d628027e548 ">
                                 <p><a href="DBMS_MVIEW.html#GUID-4BD53709-C9A1-4A5F-80F5-088D3CB1E01D" title="This procedure purges rows from the materialized view log.">PURGE_LOG Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d628027e658 d628027e551 ">
                                 <p>Purges rows from the materialized view log</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d628027e670" headers="d628027e548 ">
                                 <p><a href="DBMS_MVIEW.html#GUID-E3358A4E-AF64-400B-B707-B4A0866032CF" title="This procedure is called on the master site or master materialized view site to delete the rows in materialized view refresh related data dictionary tables maintained at the master for the specified materialized view identified by mview_id or the combination of mviewowner, mviewname, and mviewsite.">PURGE_MVIEW_FROM_LOG Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d628027e670 d628027e551 ">
                                 <p>Purges rows from the materialized view log</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d628027e694" headers="d628027e548 ">
                                 <p><a href="DBMS_MVIEW.html#GUID-DD332F65-A5BC-4DE6-814E-EAE2E0275F3D" title="This procedure refreshes a list of materialized views.">REFRESH Procedures</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d628027e694 d628027e551 ">
                                 <p>Refreshes one or more materialized views that are not members of the same refresh group</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d628027e707" headers="d628027e548 ">
                                 <p><a href="DBMS_MVIEW.html#GUID-3339D150-9B4C-4D75-A95A-C18DFA000377" title="This procedure refreshes all materialized views that have certain properties">REFRESH_ALL_MVIEWS Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d628027e707 d628027e551 ">
                                 <p>Refreshes all materialized views that do not reflect changes to their master table or master materialized view</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d628027e719" headers="d628027e548 ">
                                 <p><a href="DBMS_MVIEW.html#GUID-36379E2B-3F21-4F92-8019-F902BFB2896A" title="This procedure refreshes all materialized views that have certain properties.">REFRESH_DEPENDENT Procedures</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d628027e719 d628027e551 ">
                                 <p>Refreshes all table-based materialized views that depend on a specified master table or master materialized view, or list of master tables or master materialized views </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d628027e731" headers="d628027e548 ">
                                 <p><a href="DBMS_MVIEW.html#GUID-A601DB22-C8A0-4C58-BAC1-9D211D880B8D" title="This procedure enables the administration of individual materialized views. It is invoked at a master site or master materialized view site to register a materialized view.">REGISTER_MVIEW Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d628027e731 d628027e551 ">
                                 <p>Enables the administration of individual materialized views </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d628027e743" headers="d628027e548 ">
                                 <p><a href="DBMS_MVIEW.html#GUID-7FAEA86E-FDBB-4BE8-9037-7450299B6793" title="This procedure enables the administration of individual materialized views. It is invoked at a master site or master materialized view site to unregister a materialized view.">UNREGISTER_MVIEW Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d628027e743 d628027e551 ">
                                 <p>Enables the administration of individual materialized views once invoked at a master site or master materialized view site to unregister a materialized view</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="ARPLS67185"></a><a id="ARPLS67186"></a><a id="ARPLS67186"></a><a id="ARPLS67185"></a><div class="props_rev_3"><a id="GUID-0D46DA27-9C6C-405C-B9ED-F817EC4C0117" name="GUID-0D46DA27-9C6C-405C-B9ED-F817EC4C0117"></a><h4 id="ARPLS-GUID-0D46DA27-9C6C-405C-B9ED-F817EC4C0117" class="sect4"><span class="enumeration_section">108.4.1 </span>BEGIN_TABLE_REORGANIZATION Procedure
                  </h4>
                  <div>
                     <p>This procedure performs a process to preserve materialized view data needed for refresh. It must be called before a master table is reorganized.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-0D46DA27-9C6C-405C-B9ED-F817EC4C0117__GUID-DAEB7386-EF76-46F2-9670-EA55F7DDD450">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_MVIEW.BEGIN_TABLE_REORGANIZATION (
   tabowner    IN   VARCHAR2,
   tabname     IN   VARCHAR2);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0D46DA27-9C6C-405C-B9ED-F817EC4C0117__GUID-08632E3B-9FC7-404F-BA2E-EE23CFDCA9B9">Parameters</p>
                        <div class="tblformal" id="GUID-0D46DA27-9C6C-405C-B9ED-F817EC4C0117__GUID-3AEA1B6B-C1A0-417A-977E-D5B3CF485B9D">
                           <p class="titleintable">Table 108-2 BEGIN_TABLE_REORGANIZATION Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="BEGIN_TABLE_REORGANIZATION Procedure Parameters" summary="This table describes Parameters used by the DBMS_MVIEW.BEGIN_TABLE_REORGANIZATION subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="23%" id="d628027e866">Parameter</th>
                                    <th align="left" valign="bottom" width="77%" id="d628027e869">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d628027e874" headers="d628027e866 ">
                                       <p><code class="codeph">tabowner</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d628027e874 d628027e869 ">
                                       <p>Owner of the table being reorganized</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d628027e882" headers="d628027e866 ">
                                       <p><code class="codeph">tabname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d628027e882 d628027e869 ">
                                       <p>Name of the table being reorganized</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67187"></a><a id="ARPLS67188"></a><a id="ARPLS67188"></a><a id="ARPLS67187"></a><div class="props_rev_3"><a id="GUID-A89E567E-178D-4CFC-8019-8F86C6F0BAC1" name="GUID-A89E567E-178D-4CFC-8019-8F86C6F0BAC1"></a><h4 id="ARPLS-GUID-A89E567E-178D-4CFC-8019-8F86C6F0BAC1" class="sect4"><span class="enumeration_section">108.4.2 </span>END_TABLE_REORGANIZATION Procedure
                  </h4>
                  <div>
                     <p>This procedure ensures that the materialized view data for the master table is valid and that the master table is in the proper state. It must be called after a master table is reorganized.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-A89E567E-178D-4CFC-8019-8F86C6F0BAC1__GUID-F1ADC022-77AB-4C36-B052-49918EC92602">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_MVIEW.END_TABLE_REORGANIZATION (
   tabowner    IN   VARCHAR2,
   tabname     IN   VARCHAR2);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A89E567E-178D-4CFC-8019-8F86C6F0BAC1__GUID-2413B477-5093-4A8F-87AA-5BF78AE7A2B0">Parameters</p>
                        <div class="tblformal" id="GUID-A89E567E-178D-4CFC-8019-8F86C6F0BAC1__GUID-CE5F49E3-CAA2-4BF4-A4C0-34D90491AFAF">
                           <p class="titleintable">Table 108-3 END_TABLE_REORGANIZATION Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="END_TABLE_REORGANIZATION Procedure Parameters" summary="This table describes Parameters used by the DBMS_MVIEW.END_TABLE_REORGANIZATION subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="23%" id="d628027e1002">Parameter</th>
                                    <th align="left" valign="bottom" width="77%" id="d628027e1005">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d628027e1010" headers="d628027e1002 ">
                                       <p><code class="codeph">tabowner</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d628027e1010 d628027e1005 ">
                                       <p>Owner of the table being reorganized</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d628027e1018" headers="d628027e1002 ">
                                       <p><code class="codeph">tabname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d628027e1018 d628027e1005 ">
                                       <p>Name of the table being reorganized</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67189"></a><a id="ARPLS67190"></a><a id="ARPLS67190"></a><a id="ARPLS67189"></a><div class="props_rev_3"><a id="GUID-9C1A3332-F698-4F1E-B805-EA253AAE2478" name="GUID-9C1A3332-F698-4F1E-B805-EA253AAE2478"></a><h4 id="ARPLS-GUID-9C1A3332-F698-4F1E-B805-EA253AAE2478" class="sect4"><span class="enumeration_section">108.4.3 </span>ESTIMATE_MVIEW_SIZE Procedure
                  </h4>
                  <div>
                     <p>This procedure estimates the size of a materialized view that you might create, in bytes and number of rows. </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-9C1A3332-F698-4F1E-B805-EA253AAE2478__GUID-06AA5CA4-86E8-418C-A4E1-17EF73538B59">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_MVIEW.ESTIMATE_MVIEW_SIZE (
   stmt_id       IN  VARCHAR2,
   select_clause IN  VARCHAR2,
   num_rows      OUT NUMBER,
   num_bytes     OUT NUMBER);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9C1A3332-F698-4F1E-B805-EA253AAE2478__GUID-E7C4EC08-8315-41FC-B833-AAB73C9405E7">Parameters</p>
                        <div class="tblformal" id="GUID-9C1A3332-F698-4F1E-B805-EA253AAE2478__GUID-AF43ED2C-8AA6-40C3-BA49-DC9DEF3416CA">
                           <p class="titleintable">Table 108-4 ESTIMATE_MVIEW_SIZE Procedure Parameters </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="ESTIMATE_MVIEW_SIZE Procedure Parameters " summary="This table describes Parameters used by the DBMS_MVIEW.ESTIMATE_MVIEW_SIZE subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="19%" id="d628027e1135">Parameter</th>
                                    <th align="left" valign="bottom" width="81%" id="d628027e1138">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d628027e1143" headers="d628027e1135 ">
                                       <p><code class="codeph">stmt_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="81%" headers="d628027e1143 d628027e1138 ">
                                       <p>Arbitrary string used to identify the statement in an <code class="codeph">EXPLAIN PLAN</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d628027e1153" headers="d628027e1135 ">
                                       <p><code class="codeph">select_clause</code></p>
                                    </td>
                                    <td align="left" valign="top" width="81%" headers="d628027e1153 d628027e1138 ">
                                       <p>The <code class="codeph">SELECT</code> statement to be analyzed
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d628027e1164" headers="d628027e1135 ">
                                       <p><code class="codeph">num_rows</code></p>
                                    </td>
                                    <td align="left" valign="top" width="81%" headers="d628027e1164 d628027e1138 ">
                                       <p>Estimated cardinality</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="19%" id="d628027e1172" headers="d628027e1135 ">
                                       <p><code class="codeph">num_bytes</code></p>
                                    </td>
                                    <td align="left" valign="top" width="81%" headers="d628027e1172 d628027e1138 ">
                                       <p>Estimated number of bytes</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67191"></a><a id="ARPLS67192"></a><a id="ARPLS67192"></a><a id="ARPLS67191"></a><div class="props_rev_3"><a id="GUID-DB06F5D8-C883-4443-9123-E1519B44AFA6" name="GUID-DB06F5D8-C883-4443-9123-E1519B44AFA6"></a><h4 id="ARPLS-GUID-DB06F5D8-C883-4443-9123-E1519B44AFA6" class="sect4"><span class="enumeration_section">108.4.4 </span>EXPLAIN_MVIEW Procedure
                  </h4>
                  <div>
                     <p>This procedure enables you to learn what is possible with a materialized view or potential materialized view. For example, you can determine if a materialized view is fast refreshable and what types of query rewrite you can perform with a particular materialized view.</p>
                     <div class="section">
                        <p>Using this procedure is straightforward. You simply call <code class="codeph">DBMS_MVIEW</code>.<code class="codeph">EXPLAIN_MVIEW</code>, passing in as parameters the schema and materialized view name for an existing materialized view. Alternatively, you can specify the <code class="codeph">SELECT</code> string or <code class="codeph">CREATE</code> <code class="codeph">MATERIALIZED</code> <code class="codeph">VIEW</code> statement for a potential materialized view. The materialized view or potential materialized view is then analyzed and the results are written into either a table called <code class="codeph">MV_CAPABILITIES_TABLE</code>, which is the default, or to an array called <code class="codeph">MSG_ARRAY</code>.
                        </p>
                        <p>The procedure is overloaded:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The first version is for explaining an existing or potential materialized view with output to <code class="codeph">MV_CAPABILITIES_TABLE</code>.
                              </p>
                           </li>
                           <li>
                              <p>The second version is for explaining an existing or potential materialized view with output to a <code class="codeph">VARRAY</code>.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DB06F5D8-C883-4443-9123-E1519B44AFA6__GUID-9C793C9A-1125-4386-A99F-C244210821EC">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_MVIEW.EXPLAIN_MVIEW (
   mv            IN VARCHAR2,
   statement_id  IN VARCHAR2:= NULL);

DBMS_MVIEW.EXPLAIN_MVIEW (
   mv          IN VARCHAR2,
   msg_array   OUT SYS.ExplainMVArrayType);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DB06F5D8-C883-4443-9123-E1519B44AFA6__GUID-4D18F834-4C1F-4403-B286-118611A19147">Parameters</p>
                        <div class="tblformal" id="GUID-DB06F5D8-C883-4443-9123-E1519B44AFA6__GUID-F4A32BDD-CE54-4E08-B8D6-E65058E8C60C">
                           <p class="titleintable">Table 108-5 EXPLAIN_MVIEW Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="EXPLAIN_MVIEW Procedure Parameters" summary="This table describes Parameters used by the DBMS_MVIEW.EXPLAIN_MVIEW subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="23%" id="d628027e1334">Parameter</th>
                                    <th align="left" valign="bottom" width="77%" id="d628027e1337">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d628027e1342" headers="d628027e1334 ">
                                       <p><code class="codeph">mv</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d628027e1342 d628027e1337 ">
                                       <p>The name of an existing materialized view (optionally qualified with the owner name separated by a ".") or a <code class="codeph">SELECT</code> statement or a <code class="codeph">CREATE</code> <code class="codeph">MATERIALIZED</code> <code class="codeph">VIEW</code> statement for a potential materialized view.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d628027e1362" headers="d628027e1334 ">
                                       <p><code class="codeph">statement_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d628027e1362 d628027e1337 ">
                                       <p>A client-supplied unique identifier to associate output rows with specific invocations of <code class="codeph">EXPLAIN_MVIEW</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d628027e1372" headers="d628027e1334 ">
                                       <p><code class="codeph">msg_array</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d628027e1372 d628027e1337 ">
                                       <p>The PL/SQL <code class="codeph">VARRAY</code> that receives the output. Use this parameter to direct <code class="codeph">EXPLAIN_MVIEW</code>'s output to a PL/SQL VARRAY rather than <code class="codeph">MV_CAPABILITIES_TABLE</code>.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DB06F5D8-C883-4443-9123-E1519B44AFA6__GUID-EE24A27C-5E2E-47D1-8A0C-E600D4BB7BE6">Usage Notes</p>
                        <p>You must run the <code class="codeph">utlxmv.sql</code> script to create <code class="codeph">MV_CAPABILITIES_TABLE</code> in the current schema prior to calling <code class="codeph">EXPLAIN_MVIEW</code> except when you direct output to a <code class="codeph">VARRAY</code>. The script is found in the <code class="codeph">ADMIN</code> directory.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67193"></a><a id="ARPLS67194"></a><a id="ARPLS67194"></a><a id="ARPLS67193"></a><div class="props_rev_3"><a id="GUID-82BEB5E9-EE35-4E0C-8C88-1AD72210178A" name="GUID-82BEB5E9-EE35-4E0C-8C88-1AD72210178A"></a><h4 id="ARPLS-GUID-82BEB5E9-EE35-4E0C-8C88-1AD72210178A" class="sect4"><span class="enumeration_section">108.4.5 </span>EXPLAIN_REWRITE Procedure
                  </h4>
                  <div>
                     <p>This procedure enables you to learn why a query failed to rewrite, or, if it rewrites, which materialized views will be used. </p>
                     <div class="section">
                        <p>Using the results from the procedure, you can take the appropriate action needed to make a query rewrite if at all possible. The query specified in the <code class="codeph">EXPLAIN_REWRITE</code> statement is never actually executed.
                        </p>
                        <p>A demo file, <code class="codeph">xrwutl.sql</code>, is available to help format the output from <code class="codeph">EXPLAIN_REWRITE</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-82BEB5E9-EE35-4E0C-8C88-1AD72210178A__GUID-CDC901B7-4AC5-40CC-BDB0-1D784EF38964">Syntax</p>
                        <p>You can obtain the output from <code class="codeph">DBMS_MVIEW.EXPLAIN_REWRITE</code> in two ways. The first is to use a table, while the second is to create a <code class="codeph">VARRAY</code>. The following shows the basic syntax for using an output table:
                        </p><pre class="oac_no_warn" dir="ltr">DBMS_MVIEW.EXPLAIN_REWRITE (
    query           VARCHAR2,
    mv              VARCHAR2(30),
    statement_id    VARCHAR2(30));
</pre><p>You can create an output table called <code class="codeph">REWRITE_TABLE</code> by executing the <code class="codeph">utlxrw.sql</code> script.
                        </p>
                        <p>The <code class="codeph">query</code> parameter is a text string representing the SQL query. The parameter, <code class="codeph">mv</code>, is a fully qualified materialized view name in the form of <code class="codeph">schema.mv</code>. This is an optional parameter. When it is not specified, <code class="codeph">EXPLAIN_REWRITE</code> returns any relevant messages regarding all the materialized views considered for rewriting the given query. When <code class="codeph">schema</code> is omitted and only <code class="codeph">mv</code> is specified, <code class="codeph">EXPLAIN_REWRITE</code> looks for the materialized view in the current schema.
                        </p>
                        <p>If you want to direct the output of <code class="codeph">EXPLAIN_REWRITE</code> to a <code class="codeph">VARRAY</code> instead of a table, you should call the procedure as follows:
                        </p><pre class="oac_no_warn" dir="ltr">DBMS_MVIEW.EXPLAIN_REWRITE (
    query           [VARCHAR2 | CLOB],
    mv               VARCHAR2(30),
    output_array     SYS.RewriteArrayType);
</pre><p>Note that if the query is less than 256 characters long, <code class="codeph">EXPLAIN_REWRITE</code> can be easily invoked with the <code class="codeph">EXECUTE</code> command from SQL*Plus. Otherwise, the recommended method is to use a PL/SQL <code class="codeph">BEGIN... END</code> block, as shown in the examples in <code class="codeph">/rdbms/demo/smxrw*</code>.
                        </p>
                        <p>You can also use <code class="codeph">EXPLAIN_REWRITE</code> with multiple materialized views, in which case the syntax will be the same as with a single materialized view, except that the materialized views are specified by a comma-delimited string. For example, to find out whether a given set of materialized views <code class="codeph">mv1</code>, <code class="codeph">mv2</code>, and <code class="codeph">mv3</code> could be used to rewrite the query, <code class="codeph">query_txt</code>, and, if not, why not, use <code class="codeph">EXPLAIN_REWRITE</code> as follows:
                        </p><pre class="oac_no_warn" dir="ltr">DBMS_MVIEW.EXPLAIN_REWRITE(query_txt, 'mv1, mv2, mv3')
</pre><p>See <a href="../dwhsg/index.html" target="_blank"><span class="italic">Oracle Database Data Warehousing Guide</span></a> for more information on using the <code class="codeph">EXPLAIN_REWRITE</code> procedure.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-82BEB5E9-EE35-4E0C-8C88-1AD72210178A__GUID-7FCB636F-DB81-47B8-8C50-AC7F01F72FD5">Parameters</p>
                        <div class="tblformal" id="GUID-82BEB5E9-EE35-4E0C-8C88-1AD72210178A__GUID-E27DD6EB-2EAD-4A3A-8E35-F4E4684F03AB">
                           <p class="titleintable">Table 108-6 EXPLAIN_REWRITE Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="EXPLAIN_REWRITE Procedure Parameters" summary="This table describes Parameters used by the DBMS_MVIEW.EXPLAIN_REWRITE subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="23%" id="d628027e1632">Parameter</th>
                                    <th align="left" valign="bottom" width="77%" id="d628027e1635">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d628027e1640" headers="d628027e1632 ">
                                       <p><code class="codeph">query</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d628027e1640 d628027e1635 ">
                                       <p>SQL <code class="codeph">SELECT</code> statement to be explained
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d628027e1651" headers="d628027e1632 ">
                                       <p><code class="codeph">mv</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d628027e1651 d628027e1635 ">
                                       <p>The fully qualified name of an existing materialized view in the form of <code class="codeph">SCHEMA.MV</code>. For multiple materialized views, you can provide a comma-delimited list of names.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d628027e1662" headers="d628027e1632 ">
                                       <p><code class="codeph">statement_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d628027e1662 d628027e1635 ">
                                       <p>A client-supplied unique identifier to distinguish output messages</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d628027e1670" headers="d628027e1632 ">
                                       <p><code class="codeph">msg_array</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d628027e1670 d628027e1635 ">
                                       <p>The PL/SQL <code class="codeph">VARRAY</code> that receives the output. Use this parameter to direct <code class="codeph">EXPLAIN_REWRITE</code>'s output to a PL/SQL <code class="codeph">VARRAY</code>.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-82BEB5E9-EE35-4E0C-8C88-1AD72210178A__GUID-1A035987-7EA2-47A3-B533-3F8449F7401D">Usage Notes</p>
                        <p>To obtain the output into a table, you must run the <code class="codeph">utlxrw.sq</code>l script before calling <code class="codeph">EXPLAIN_REWRITE</code>. This script creates a table named <code class="codeph">REWRITE_TABLE</code> in the current schema.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67195"></a><a id="ARPLS67195"></a><div class="props_rev_3"><a id="GUID-AFB4EFE5-D8CF-41D1-8605-378A68A2A549" name="GUID-AFB4EFE5-D8CF-41D1-8605-378A68A2A549"></a><h4 id="ARPLS-GUID-AFB4EFE5-D8CF-41D1-8605-378A68A2A549" class="sect4"><span class="enumeration_section">108.4.6 </span>I_AM_A_REFRESH Function
                  </h4>
                  <div>
                     <p>This function returns the value of the <code class="codeph">I_AM_REFRESH</code> package state. 
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-AFB4EFE5-D8CF-41D1-8605-378A68A2A549__GUID-8EF8CC83-2EBC-40CC-A678-F7527325EB82">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_MVIEW.I_AM_A_REFRESH
   RETURN BOOLEAN;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AFB4EFE5-D8CF-41D1-8605-378A68A2A549__GUID-C83F8129-A8EC-40DC-865F-2176E391B088">Return Values</p>
                        <p>A return value of <code class="codeph">true</code> indicates that all local replication triggers for materialized views are effectively disabled in this session because each replication trigger first checks this state. A return value of <code class="codeph">false</code> indicates that these triggers are enabled.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67196"></a><a id="ARPLS67197"></a><a id="ARPLS67197"></a><a id="ARPLS67196"></a><div class="props_rev_3"><a id="GUID-53A1C7F5-1F1F-44B5-A3D0-4C89B942E6FE" name="GUID-53A1C7F5-1F1F-44B5-A3D0-4C89B942E6FE"></a><h4 id="ARPLS-GUID-53A1C7F5-1F1F-44B5-A3D0-4C89B942E6FE" class="sect4"><span class="enumeration_section">108.4.7 </span>PMARKER Function
                  </h4>
                  <div>
                     <p>This function returns a partition marker from a rowid. It is used for Partition Change Tracking (PCT).</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-53A1C7F5-1F1F-44B5-A3D0-4C89B942E6FE__GUID-D2B31507-F6CA-4C42-B2BA-B287890902CE">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_MVIEW.PMARKER(
   rid IN ROWID)
 RETURN NUMBER; </pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-53A1C7F5-1F1F-44B5-A3D0-4C89B942E6FE__GUID-6FE9B517-D56C-4DCB-8607-2B642F183D38">Parameters</p>
                        <div class="tblformal" id="GUID-53A1C7F5-1F1F-44B5-A3D0-4C89B942E6FE__GUID-43C98EF0-AD2B-4DBF-A8D7-D242F1FD1480">
                           <p class="titleintable">Table 108-7 PMARKER Function Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="PMARKER Function Parameters" summary="This table describes Parameters used by the DBMS_MVIEW.PMARKER subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="23%" id="d628027e1927">Parameter</th>
                                    <th align="left" valign="bottom" width="77%" id="d628027e1930">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d628027e1935" headers="d628027e1927 ">
                                       <p><code class="codeph">rid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d628027e1935 d628027e1930 ">
                                       <p>The rowid of a row entry in a master table</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67198"></a><a id="ARPLS67198"></a><div class="props_rev_3"><a id="GUID-4D653487-732C-4400-804E-97C4C6802ABD" name="GUID-4D653487-732C-4400-804E-97C4C6802ABD"></a><h4 id="ARPLS-GUID-4D653487-732C-4400-804E-97C4C6802ABD" class="sect4"><span class="enumeration_section">108.4.8 </span>PURGE_DIRECT_LOAD_LOG Procedure
                  </h4>
                  <div>
                     <p>This procedure removes entries from the direct loader log after they are no longer needed for any known materialized view. This procedure usually is used in environments using Oracle's data warehousing technology.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-4D653487-732C-4400-804E-97C4C6802ABD__GUID-77BF7B5D-EECB-4104-BC7B-486F43D0C65A">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_MVIEW.PURGE_DIRECT_LOAD_LOG();</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67199"></a><a id="ARPLS67200"></a><a id="ARPLS67200"></a><a id="ARPLS67199"></a><div class="props_rev_3"><a id="GUID-4BD53709-C9A1-4A5F-80F5-088D3CB1E01D" name="GUID-4BD53709-C9A1-4A5F-80F5-088D3CB1E01D"></a><h4 id="ARPLS-GUID-4BD53709-C9A1-4A5F-80F5-088D3CB1E01D" class="sect4"><span class="enumeration_section">108.4.9 </span>PURGE_LOG Procedure
                  </h4>
                  <div>
                     <p>This procedure purges rows from the materialized view log.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-4BD53709-C9A1-4A5F-80F5-088D3CB1E01D__GUID-B466798D-15F7-4FDF-9C16-4F0CD87A93DF">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_MVIEW.PURGE_LOG (
   master        IN   VARCHAR2,
   num           IN   BINARY_INTEGER := 1,
   flag          IN   VARCHAR2       := 'NOP');</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4BD53709-C9A1-4A5F-80F5-088D3CB1E01D__GUID-DE41FCE7-B404-4609-89CA-F588E4D81083">Parameters</p>
                        <div class="tblformal" id="GUID-4BD53709-C9A1-4A5F-80F5-088D3CB1E01D__GUID-0286D5C1-4991-482B-A91E-BD8591721356">
                           <p class="titleintable">Table 108-8 PURGE_LOG Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="PURGE_LOG Procedure Parameters" summary="This table describes Parameters used by the DBMS_MVIEW.PURGE_LOG subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d628027e2164">Parameter</th>
                                    <th align="left" valign="bottom" width="80%" id="d628027e2167">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d628027e2172" headers="d628027e2164 ">
                                       <p><code class="codeph">master</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d628027e2172 d628027e2167 ">
                                       <p>Name of the master table or master materialized view.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d628027e2180" headers="d628027e2164 ">
                                       <p><code class="codeph">num</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d628027e2180 d628027e2167 ">
                                       <p>Number of least recently refreshed materialized views whose rows you want to remove from materialized view log. For example, the following statement deletes rows needed to refresh the two least recently refreshed materialized views:</p>
                                       <p><code class="codeph">DBMS_MVIEW.PURGE_LOG('master_table', 2);</code></p>
                                       <p>To delete all rows in the materialized view log, indicate a high number of materialized views to disregard, as in this example:</p>
                                       <p><code class="codeph">DBMS_MVIEW.PURGE_LOG('master_table',9999);</code></p>
                                       <p>This statement completely purges the materialized view log that corresponds to <code class="codeph">master_table</code> if fewer than 9999 materialized views are based on <code class="codeph">master_table</code>. A simple materialized view whose rows have been purged from the materialized view log must be completely refreshed the next time it is refreshed.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d628027e2204" headers="d628027e2164 ">
                                       <p><code class="codeph">flag</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d628027e2204 d628027e2167 ">
                                       <p>Specify <code class="codeph">delete</code> to guarantee that rows are deleted from the materialized view log for at least one materialized view. This parameter can override the setting for the parameter <code class="codeph">num</code>. For example, the following statement deletes rows from the materialized view log that has dependency rows in the least recently refreshed materialized view:
                                       </p>
                                       <p><code class="codeph">DBMS_MVIEW.PURGE_LOG('master_table',1,'delete');</code></p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67201"></a><a id="ARPLS67202"></a><a id="ARPLS67202"></a><a id="ARPLS67201"></a><div class="props_rev_3"><a id="GUID-E3358A4E-AF64-400B-B707-B4A0866032CF" name="GUID-E3358A4E-AF64-400B-B707-B4A0866032CF"></a><h4 id="ARPLS-GUID-E3358A4E-AF64-400B-B707-B4A0866032CF" class="sect4"><span class="enumeration_section">108.4.10 </span>PURGE_MVIEW_FROM_LOG Procedure
                  </h4>
                  <div>
                     <p>This procedure is called on the master site or master materialized view site to delete the rows in materialized view refresh related data dictionary tables maintained at the master for the specified materialized view identified by <code class="codeph">mview_id</code> or the combination of <code class="codeph">mviewowner</code>, <code class="codeph">mviewname</code>, and <code class="codeph">mviewsite</code>. 
                     </p>
                     <div class="section">
                        <p>If the materialized view specified is the oldest materialized view to have refreshed from any of the master tables or master materialized views, then the materialized view log is also purged. This procedure does not unregister the materialized view.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E3358A4E-AF64-400B-B707-B4A0866032CF__GUID-A89C7815-AEF0-4B09-BEC5-A3EA13448C8D">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_MVIEW.PURGE_MVIEW_FROM_LOG (
   mview_id       IN   BINARY_INTEGER);

DBMS_MVIEW.PURGE_MVIEW_FROM_LOG (
   mviewowner     IN   VARCHAR2,
   mviewname      IN   VARCHAR2, 
   mviewsite      IN   VARCHAR2);</pre><div class="infoboxnote" id="GUID-E3358A4E-AF64-400B-B707-B4A0866032CF__GUID-B47B90E7-F63B-40A1-B1A8-2EB70AD70279">
                           <p class="notep1">Note:</p>
                           <p>This procedure is overloaded. The parameter <code class="codeph">mview_id</code> is mutually exclusive with the three remaining parameters: <code class="codeph">mviewowner</code>, <code class="codeph">mviewname</code>, and <code class="codeph">mviewsite</code>.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E3358A4E-AF64-400B-B707-B4A0866032CF__GUID-4DF0D5B8-DAE2-448A-9F54-05265D6E8500">Parameters</p>
                        <div class="tblformal" id="GUID-E3358A4E-AF64-400B-B707-B4A0866032CF__GUID-39B6694D-D4B3-4CC6-92B3-FCBCC5F8C6A2">
                           <p class="titleintable">Table 108-9 PURGE_MVIEW_FROM_LOG Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="PURGE_MVIEW_FROM_LOG Procedure Parameters" summary="This table describes Parameters used by the DBMS_MVIEW.PURGE_MVIEW_FROM_LOG subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d628027e2368">Parameter</th>
                                    <th align="left" valign="bottom" width="75%" id="d628027e2371">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d628027e2376" headers="d628027e2368 ">
                                       <p><code class="codeph">mview_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d628027e2376 d628027e2371 ">
                                       <p>If you want to execute this procedure based on the identification of the target materialized view, specify the materialized view identification using the <code class="codeph">mview_id</code> parameter. Query the <code class="codeph">DBA_BASE_TABLE_MVIEWS</code> view at the materialized view log site for a listing of materialized view IDs.
                                       </p>
                                       <p>Executing this procedure based on the materialized view identification is useful if the target materialized view is not listed in the list of registered materialized views (<code class="codeph">DBA_REGISTERED_MVIEWS</code>).
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d628027e2395" headers="d628027e2368 ">
                                       <p><code class="codeph">mviewowner</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d628027e2395 d628027e2371 ">
                                       <p>If you do not specify an <code class="codeph">mview_id</code>, enter the owner of the target materialized view using the <code class="codeph">mviewowner</code> parameter. Query the <code class="codeph">DBA_REGISTERED_MVIEWS</code> view at the materialized view log site to view the materialized view owners.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d628027e2412" headers="d628027e2368 ">
                                       <p><code class="codeph">mviewname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d628027e2412 d628027e2371 ">
                                       <p>If you do not specify an <code class="codeph">mview_id</code>, enter the name of the target materialized view using the <code class="codeph">mviewname</code> parameter. Query the <code class="codeph">DBA_REGISTERED_MVIEWS</code> view at the materialized view log site to view the materialized view names.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d628027e2429" headers="d628027e2368 ">
                                       <p><code class="codeph">mviewsite</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d628027e2429 d628027e2371 ">
                                       <p>If you do not specify an <code class="codeph">mview_id</code>, enter the site of the target materialized view using the <code class="codeph">mviewsite</code> parameter. Query the <code class="codeph">DBA_REGISTERED_MVIEWS</code> view at the materialized view log site to view the materialized view sites.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E3358A4E-AF64-400B-B707-B4A0866032CF__GUID-F419C691-A32A-4139-A518-E076345CA081">Usage Notes</p>
                        <p>If there is an error while purging one of the materialized view logs, the successful purge operations of the previous materialized view logs are not rolled back. This is to minimize the size of the materialized view logs. In case of an error, this procedure can be invoked again until all the materialized view logs are purged.</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67203"></a><a id="ARPLS67204"></a><a id="ARPLS67204"></a><a id="ARPLS67203"></a><div class="props_rev_3"><a id="GUID-DD332F65-A5BC-4DE6-814E-EAE2E0275F3D" name="GUID-DD332F65-A5BC-4DE6-814E-EAE2E0275F3D"></a><h4 id="ARPLS-GUID-DD332F65-A5BC-4DE6-814E-EAE2E0275F3D" class="sect4"><span class="enumeration_section">108.4.11 </span>REFRESH Procedures
                  </h4>
                  <div>
                     <p>This procedure refreshes a list of materialized views.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-DD332F65-A5BC-4DE6-814E-EAE2E0275F3D__GUID-E9AE55AA-CFB7-4B94-835C-35A247673CE8">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_MVIEW.REFRESH (
   { list                 IN     VARCHAR2,
   | tab                  IN     DBMS_UTILITY.UNCL_ARRAY,}
   method                 IN     VARCHAR2       := NULL,
   rollback_seg           IN     VARCHAR2       := NULL,
   push_deferred_rpc      IN     BOOLEAN        := true,
   refresh_after_errors   IN     BOOLEAN        := false,
   purge_option           IN     BINARY_INTEGER := 1,
   parallelism            IN     BINARY_INTEGER := 0,
   heap_size              IN     BINARY_INTEGER := 0,
   atomic_refresh         IN     BOOLEAN        := true,
   nested                 IN     BOOLEAN        := false,
   out_of_place           IN     BOOLEAN        := false,
   skip_ext_data   	      IN     BOOLEAN        := false);</pre><div class="infoboxnote" id="GUID-DD332F65-A5BC-4DE6-814E-EAE2E0275F3D__GUID-45E98B4B-C858-4A5B-B2C8-18A2EBF96E2E">
                           <p class="notep1">Note:</p>
                           <p>This procedure is overloaded. The <code class="codeph">list</code> and <code class="codeph">tab</code> parameters are mutually exclusive.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DD332F65-A5BC-4DE6-814E-EAE2E0275F3D__GUID-92DE2350-7611-48C5-9B69-9C9171389DB2">Parameters</p>
                        <div class="tblformal" id="GUID-DD332F65-A5BC-4DE6-814E-EAE2E0275F3D__GUID-14A332B9-75E5-4596-8C05-8A3B67187787">
                           <p class="titleintable">Table 108-10 REFRESH Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="REFRESH Procedure Parameters" summary="This table describes Parameters used by the DBMS_MVIEW.REFRESH subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="23%" id="d628027e2580">Parameter</th>
                                    <th align="left" valign="bottom" width="77%" id="d628027e2583">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d628027e2588" headers="d628027e2580 ">
                                       <p><code class="codeph">list | tab</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d628027e2588 d628027e2583 ">
                                       <p>Comma-delimited list of materialized views that you want to refresh. (Synonyms are not supported.) These materialized views can be located in different schemas and have different master tables or master materialized views. However, all of the listed materialized views must be in your local database.</p>
                                       <p>Alternatively, you may pass in a PL/SQL index-by table of type <code class="codeph">DBMS_UTILITY.UNCL_ARRAY</code>, where each element is the name of a materialized view.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d628027e2601" headers="d628027e2580 ">
                                       <p><code class="codeph">method</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d628027e2601 d628027e2583 ">
                                       <p>A string of refresh methods indicating how to refresh the listed materialized views. An <code class="codeph">f</code> indicates fast refresh, <code class="codeph">?</code> indicates force refresh, <code class="codeph">C</code> or <code class="codeph">c</code> indicates complete refresh, and <code class="codeph">A</code> or <code class="codeph">a</code> indicates always refresh. <code class="codeph">A</code> and <code class="codeph">C</code> are equivalent. <code class="codeph">P</code> or <code class="codeph">p</code> refreshes by recomputing the rows in the materialized view affected by changed partitions in the detail tables.
                                       </p>
                                       <p>If a materialized view does not have a corresponding refresh method (that is, if more materialized views are specified than refresh methods), then that materialized view is refreshed according to its default refresh method. For example, consider the following <code class="codeph">EXECUTE</code> statement within SQL*Plus:
                                       </p><pre class="oac_no_warn" dir="ltr">DBMS_MVIEW.REFRESH
   ('countries_mv,regions_mv,hr.employees_mv','cf');</pre><p>This statement performs a complete refresh of the <code class="codeph">countries_mv</code> materialized view, a fast refresh of the <code class="codeph">regions_mv</code> materialized view, and a default refresh of the <code class="codeph">hr.employees</code> materialized view.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d628027e2658" headers="d628027e2580 ">
                                       <p><code class="codeph">rollback_seg</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d628027e2658 d628027e2583 ">
                                       <p>Name of the materialized view site rollback segment to use while refreshing materialized views</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d628027e2666" headers="d628027e2580 ">
                                       <p><code class="codeph">push_deferred_rpc</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d628027e2666 d628027e2583 ">
                                       <p>Used by updatable materialized views only. Set this parameter to <code class="codeph">true</code> if you want to push changes from the materialized view to its associated master tables or master materialized views before refreshing the materialized view. Otherwise, these changes may appear to be temporarily lost.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d628027e2677" headers="d628027e2580 ">
                                       <p><code class="codeph">refresh_after_errors</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d628027e2677 d628027e2583 ">
                                       <p>If this parameter is <code class="codeph">true</code>, an updatable materialized view continues to refresh even if there are outstanding conflicts logged in the <code class="codeph">DEFERROR</code> view for the materialized view's master table or master materialized view. If this parameter is <code class="codeph">true</code> and <code class="codeph">atomic_refresh</code> is <code class="codeph">false</code>, this procedure continues to refresh other materialized views if it fails while refreshing a materialized view.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d628027e2700" headers="d628027e2580 ">
                                       <p><code class="codeph">purge_option</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d628027e2700 d628027e2583 ">
                                       <p>If you are using the parallel propagation mechanism (in other words, parallelism is set to 1 or greater), 0 means do not purge, 1 means lazy purge, and 2 means aggressive purge. In most cases, lazy purge is the optimal setting. Set purge to aggressive to trim the queue if multiple master replication groups are pushed to different target sites, and updates to one or more replication groups are infrequent and infrequently pushed. If all replication groups are infrequently updated and pushed, then set this parameter to <code class="codeph">0</code> and occasionally execute <code class="codeph">PUSH</code> with this parameter set to <code class="codeph">2</code> to reduce the queue.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d628027e2717" headers="d628027e2580 ">
                                       <p><code class="codeph">parallelism</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d628027e2717 d628027e2583 ">
                                       <p>0 specifies serial propagation.</p>
                                       <p><span class="italic">n </span>&gt; 1 specifies parallel propagation with <span class="italic">n</span> parallel processes.
                                       </p>
                                       <p>1 specifies parallel propagation using only one parallel process.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d628027e2734" headers="d628027e2580 ">
                                       <p><code class="codeph">heap_size</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d628027e2734 d628027e2583 ">
                                       <p>Maximum number of transactions to be examined simultaneously for parallel propagation scheduling. Oracle automatically calculates the default setting for optimal performance. </p>
                                       <p>Note<span class="bold">: </span>Do not set this parameter unless directed to do so by Oracle Support Services.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d628027e2747" headers="d628027e2580 ">
                                       <p><code class="codeph">atomic_refresh</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d628027e2747 d628027e2583 ">
                                       <p>If this parameter is set to <code class="codeph">true</code>, then the list of materialized views is refreshed in a single transaction. All of the refreshed materialized views are updated to a single point in time. If the refresh fails for any of the materialized views, none of the materialized views are updated.
                                       </p>
                                       <p>If this parameter is set to <code class="codeph">false</code>, then each of the materialized views is refreshed non-atomically in separate transactions.
                                       </p>
                                       <p>As part of complete refresh, if truncate is used (non-atomic refresh), unique index rebuild is executed. <code class="codeph">INDEX</code> <code class="codeph">REBUILD</code> automatically computes statistics. Thus, statistics are updated for truncated tables.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d628027e2771" headers="d628027e2580 ">
                                       <p><code class="codeph">nested</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d628027e2771 d628027e2583 ">
                                       <p>If <code class="codeph">true</code>, then perform nested refresh operations for the specified set of materialized views. Nested refresh operations refresh all the depending materialized views and the specified set of materialized views based on a dependency order to ensure the nested materialized views are truly fresh with respect to the underlying base tables.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d628027e2782" headers="d628027e2580 ">
                                       <p><code class="codeph">out_of_place</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d628027e2782 d628027e2583 ">
                                       <p>If <code class="codeph">true</code>, then it performs an out-of-place refresh. The default is <code class="codeph">false</code>.
                                       </p>
                                       <p>This parameter uses the four methods of refresh (<code class="codeph">F</code>, <code class="codeph">P</code>, <code class="codeph">C</code>, <code class="codeph">?</code>). So, for example, if you specify <code class="codeph">F</code> and <code class="codeph">out_of_place</code> <code class="codeph">=</code> <code class="codeph">true</code>, then an out-of-place fast refresh will be attempted. Similarly, if you specify <code class="codeph">P</code> and <code class="codeph">out_of_place</code> <code class="codeph">=</code> <code class="codeph">true</code>, then out-of-place PCT refresh will be attempted.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d628027e2837" headers="d628027e2580 ">
                                       <p><code class="codeph">skip_ext_data</code></p>
                                    </td>
                                    <td align="left" valign="top" width="77%" headers="d628027e2837 d628027e2583 ">
                                       <p>Provides you an option to skip the MV data refresh corresponding to the external partitions.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67205"></a><a id="ARPLS67206"></a><a id="ARPLS67206"></a><a id="ARPLS67205"></a><div class="props_rev_3"><a id="GUID-3339D150-9B4C-4D75-A95A-C18DFA000377" name="GUID-3339D150-9B4C-4D75-A95A-C18DFA000377"></a><h4 id="ARPLS-GUID-3339D150-9B4C-4D75-A95A-C18DFA000377" class="sect4"><span class="enumeration_section">108.4.12 </span>REFRESH_ALL_MVIEWS Procedure
                  </h4>
                  <div>
                     <p>This procedure refreshes all materialized views that have certain properties</p>
                     <div class="section">
                        <p>All materialized views with the following properties are refreshed:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The materialized view has not been refreshed since the most recent change to a master table or master materialized view on which it depends.</p>
                           </li>
                           <li>
                              <p>The materialized view and all of the master tables or master materialized views on which it depends are local.</p>
                           </li>
                           <li>
                              <p>The materialized view is in the view <code class="codeph">DBA_MVIEWS</code>.
                              </p>
                           </li>
                        </ul>
                        <p>This procedure is intended for use with data warehouses. </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3339D150-9B4C-4D75-A95A-C18DFA000377__GUID-72EA16B8-2778-410A-881D-23BFBCA25A38">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_MVIEW.REFRESH_ALL_MVIEWS (
   number_of_failures     OUT   BINARY_INTEGER,
   method                 IN    VARCHAR2         := NULL,
   rollback_seg           IN    VARCHAR2         := NULL,
   refresh_after_errors   IN    BOOLEAN          := false,
   atomic_refresh         IN    BOOLEAN          := true,
   out_of_place           IN    BOOLEAN          := false);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3339D150-9B4C-4D75-A95A-C18DFA000377__GUID-D78DE246-F76A-4F76-9D2A-0F55E719AFF5">Parameters</p>
                        <div class="tblformal" id="GUID-3339D150-9B4C-4D75-A95A-C18DFA000377__GUID-CE7B78EF-3F4A-4F41-95B0-238F1FD4064D">
                           <p class="titleintable">Table 108-11 REFRESH_ALL_MVIEWS Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="REFRESH_ALL_MVIEWS Procedure Parameters" summary="This table describes Parameters used by the DBMS_MVIEW.REFRESH_ALL_MVIEWS subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="27%" id="d628027e2982">Parameter</th>
                                    <th align="left" valign="bottom" width="73%" id="d628027e2985">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d628027e2990" headers="d628027e2982 ">
                                       <p><code class="codeph">number_of_failures</code></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d628027e2990 d628027e2985 ">
                                       <p>Returns the number of failures that occurred during processing</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d628027e2998" headers="d628027e2982 ">
                                       <p><code class="codeph">method</code></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d628027e2998 d628027e2985 ">
                                       <p>A single refresh method indicating the type of refresh to perform for each materialized view that is refreshed. <code class="codeph">F</code> or <code class="codeph">f</code> indicates fast refresh, <code class="codeph">?</code> indicates force refresh, <code class="codeph">C</code> or c indicates complete refresh, and <code class="codeph">A</code> or a indicates always refresh. <code class="codeph">A</code> and <code class="codeph">C</code> are equivalent. If no method is specified, a materialized view is refreshed according to its default refresh method. <code class="codeph">P</code> or <code class="codeph">p</code> refreshes by recomputing the rows in the materialized view affected by changed partitions in the detail tables.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d628027e3034" headers="d628027e2982 ">
                                       <p><code class="codeph">rollback_seg</code></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d628027e3034 d628027e2985 ">
                                       <p>Name of the materialized view site rollback segment to use while refreshing materialized views</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d628027e3042" headers="d628027e2982 ">
                                       <p><code class="codeph">refresh_after_errors</code></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d628027e3042 d628027e2985 ">
                                       <p>If this parameter is <code class="codeph">true</code>, an updatable materialized view continues to refresh even if there are outstanding conflicts logged in the <code class="codeph">DEFERROR</code> view for the materialized view's master table or master materialized view. If this parameter is <code class="codeph">true</code> and <code class="codeph">atomic_refresh</code> is <code class="codeph">false</code>, this procedure continues to refresh other materialized views if it fails while refreshing a materialized view.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d628027e3065" headers="d628027e2982 ">
                                       <p><code class="codeph">atomic_refresh</code></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d628027e3065 d628027e2985 ">
                                       <p>If this parameter is set to <code class="codeph">true</code>, then the refreshed materialized views are refreshed in a single transaction. All of the refreshed materialized views are updated to a single point in time. If the refresh fails for any of the materialized views, none of the materialized views are updated.
                                       </p>
                                       <p>If this parameter is set to <code class="codeph">false</code>, then each of the materialized views is refreshed non-atomically in separate transactions.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d628027e3081" headers="d628027e2982 ">
                                       <p><code class="codeph">out_of_place</code></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d628027e3081 d628027e2985 ">
                                       <p>If <code class="codeph">true</code>, then it performs an out-of-place refresh. The default is <code class="codeph">false</code>.
                                       </p>
                                       <p>This parameter uses the four methods of refresh (<code class="codeph">F</code>, <code class="codeph">P</code>, <code class="codeph">C</code>, <code class="codeph">?</code>). So, for example, if you specify <code class="codeph">F</code> and <code class="codeph">out_of_place</code> <code class="codeph">=</code> <code class="codeph">true</code>, then an out-of-place fast refresh will be attempted. Similarly, if you specify <code class="codeph">P</code> and <code class="codeph">out_of_place</code> <code class="codeph">=</code> <code class="codeph">true</code>, then out-of-place PCT refresh will be attempted.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67207"></a><a id="ARPLS67208"></a><a id="ARPLS67208"></a><a id="ARPLS67207"></a><div class="props_rev_3"><a id="GUID-36379E2B-3F21-4F92-8019-F902BFB2896A" name="GUID-36379E2B-3F21-4F92-8019-F902BFB2896A"></a><h4 id="ARPLS-GUID-36379E2B-3F21-4F92-8019-F902BFB2896A" class="sect4"><span class="enumeration_section">108.4.13 </span>REFRESH_DEPENDENT Procedures
                  </h4>
                  <div>
                     <p>This procedure refreshes all materialized views that have certain properties.</p>
                     <div class="section">
                        <p>Materialized views with the following properties are refreshed:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The materialized view depends on a master table or master materialized view in the list of specified masters.</p>
                           </li>
                           <li>
                              <p>The materialized view has not been refreshed since the most recent change to a master table or master materialized view on which it depends.</p>
                           </li>
                           <li>
                              <p>The materialized view and all of the master tables or master materialized views on which it depends are local.</p>
                           </li>
                           <li>
                              <p>The materialized view is in the view <code class="codeph">DBA_MVIEWS</code>.
                              </p>
                           </li>
                        </ul>
                        <p>This procedure is intended for use with data warehouses.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-36379E2B-3F21-4F92-8019-F902BFB2896A__GUID-5CA101DC-D596-47BA-9F15-1E14AAC724BE">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_MVIEW.REFRESH_DEPENDENT (
   number_of_failures     OUT    BINARY_INTEGER,
   { list                 IN     VARCHAR2,
   | tab                  IN     DBMS_UTILITY.UNCL_ARRAY,}
   method                 IN     VARCHAR2    := NULL,
   rollback_seg           IN     VARCHAR2    := NULL,
   refresh_after_errors   IN     BOOLEAN     := false,
   atomic_refresh         IN     BOOLEAN     := true,
   nested                 IN     BOOLEAN     := false,
   out_of_place           IN     BOOLEAN     := false);</pre><div class="infoboxnote" id="GUID-36379E2B-3F21-4F92-8019-F902BFB2896A__GUID-89ABAA53-51C0-4CFA-9E6B-860726C9637C">
                           <p class="notep1">Note:</p>
                           <p>This procedure is overloaded. The <code class="codeph">list</code> and <code class="codeph">tab</code> parameters are mutually exclusive.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-36379E2B-3F21-4F92-8019-F902BFB2896A__GUID-9ABC907D-2B19-4CCF-AA49-21293EDFA671">Parameters</p>
                        <div class="tblformal" id="GUID-36379E2B-3F21-4F92-8019-F902BFB2896A__GUID-08F73B49-0996-4AAE-9EC8-BD4DC411A26A">
                           <p class="titleintable">Table 108-12 REFRESH_DEPENDENT Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="REFRESH_DEPENDENT Procedure Parameters" summary="This table describes Parameters used by the DBMS_MVIEW.REFRESH_DEPENDENT subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="22%" id="d628027e3284">Parameter</th>
                                    <th align="left" valign="bottom" width="78%" id="d628027e3287">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d628027e3292" headers="d628027e3284 ">
                                       <p><code class="codeph">number_of_failures</code></p>
                                    </td>
                                    <td align="left" valign="top" width="78%" headers="d628027e3292 d628027e3287 ">
                                       <p>Returns the number of failures that occurred during processing</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d628027e3300" headers="d628027e3284 ">
                                       <p><code class="codeph">list | tab</code></p>
                                    </td>
                                    <td align="left" valign="top" width="78%" headers="d628027e3300 d628027e3287 ">
                                       <p>Comma-delimited list of master tables or master materialized views on which materialized views can depend. (Synonyms are not supported.) These tables and the materialized views that depend on them can be located in different schemas. However, all of the tables and materialized views must be in your local database.</p>
                                       <p>Alternatively, you may pass in a PL/SQL index-by table of type <code class="codeph">DBMS_UTILITY.UNCL_ARRAY</code>, where each element is the name of a table.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d628027e3313" headers="d628027e3284 ">
                                       <p><code class="codeph">method</code></p>
                                    </td>
                                    <td align="left" valign="top" width="78%" headers="d628027e3313 d628027e3287 ">
                                       <p>A string of refresh methods indicating how to refresh the dependent materialized views. All of the materialized views that depend on a particular table are refreshed according to the refresh method associated with that table. <code class="codeph">F</code> or <code class="codeph">f</code> indicates fast refresh, ? indicates force refresh, <code class="codeph">C</code> or <code class="codeph">c</code> indicates complete refresh, and <code class="codeph">A</code> or <code class="codeph">a</code> indicates always refresh. <code class="codeph">A</code> and <code class="codeph">C</code> are equivalent. <code class="codeph">P</code> or <code class="codeph">p</code> refreshes by recomputing the rows in the materialized view affected by changed partitions in the detail tables.
                                       </p>
                                       <p>If a table does not have a corresponding refresh method (that is, if more tables are specified than refresh methods), then any materialized view that depends on that table is refreshed according to its default refresh method. For example, the following <code class="codeph">EXECUTE</code> statement within SQL*Plus:
                                       </p><pre class="oac_no_warn" dir="ltr">DBMS_MVIEW.REFRESH_DEPENDENT
   ('employees,deptartments,hr.regions','cf');</pre><p>performs a complete refresh of the materialized views that depend on the <code class="codeph">employees</code> table, a fast refresh of the materialized views that depend on the <code class="codeph">departments</code> table, and a default refresh of the materialized views that depend on the <code class="codeph">hr.regions</code> table. 
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d628027e3370" headers="d628027e3284 ">
                                       <p><code class="codeph">rollback_seg</code></p>
                                    </td>
                                    <td align="left" valign="top" width="78%" headers="d628027e3370 d628027e3287 ">
                                       <p>Name of the materialized view site rollback segment to use while refreshing materialized views</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d628027e3378" headers="d628027e3284 ">
                                       <p><code class="codeph">refresh_after_errors</code></p>
                                    </td>
                                    <td align="left" valign="top" width="78%" headers="d628027e3378 d628027e3287 ">
                                       <p>If this parameter is <code class="codeph">true</code>, an updatable materialized view continues to refresh even if there are outstanding conflicts logged in the <code class="codeph">DEFERROR</code> view for the materialized view's master table or master materialized view. If this parameter is <code class="codeph">true</code> and <code class="codeph">atomic_refresh</code> is <code class="codeph">false</code>, this procedure continues to refresh other materialized views if it fails while refreshing a materialized view.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d628027e3401" headers="d628027e3284 ">
                                       <p><code class="codeph">atomic_refresh</code></p>
                                    </td>
                                    <td align="left" valign="top" width="78%" headers="d628027e3401 d628027e3287 ">
                                       <p>If this parameter is set to <code class="codeph">true</code>, then the refreshed materialized views are refreshed in a single transaction. All of the refreshed materialized views are updated to a single point in time. If the refresh fails for any of the materialized views, none of the materialized views are updated.
                                       </p>
                                       <p>If this parameter is set to <code class="codeph">false</code>, then each of the materialized views is refreshed non-atomically in separate transactions.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d628027e3417" headers="d628027e3284 ">
                                       <p><code class="codeph">nested</code></p>
                                    </td>
                                    <td align="left" valign="top" width="78%" headers="d628027e3417 d628027e3287 ">
                                       <p>If <code class="codeph">true</code>, then perform nested refresh operations for the specified set of tables. Nested refresh operations refresh all the depending materialized views of the specified set of tables based on a dependency order to ensure the nested materialized views are truly fresh with respect to the underlying base tables.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d628027e3428" headers="d628027e3284 ">
                                       <p><code class="codeph">out_of_place</code></p>
                                    </td>
                                    <td align="left" valign="top" width="78%" headers="d628027e3428 d628027e3287 ">
                                       <p>If <code class="codeph">true</code>, then it performs an out-of-place refresh. The default is <code class="codeph">false</code>.
                                       </p>
                                       <p>This parameter uses the four methods of refresh (<code class="codeph">F</code>, <code class="codeph">P</code>, <code class="codeph">C</code>, <code class="codeph">?</code>). So, for example, if you specify <code class="codeph">F</code> and <code class="codeph">out_of_place</code> <code class="codeph">=</code> <code class="codeph">true</code>, then an out-of-place fast refresh will be attempted. Similarly, if you specify <code class="codeph">P</code> and <code class="codeph">out_of_place</code> <code class="codeph">=</code> <code class="codeph">true</code>, then out-of-place PCT refresh will be attempted.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67209"></a><a id="ARPLS67210"></a><a id="ARPLS67210"></a><a id="ARPLS67209"></a><div class="props_rev_3"><a id="GUID-A601DB22-C8A0-4C58-BAC1-9D211D880B8D" name="GUID-A601DB22-C8A0-4C58-BAC1-9D211D880B8D"></a><h4 id="ARPLS-GUID-A601DB22-C8A0-4C58-BAC1-9D211D880B8D" class="sect4"><span class="enumeration_section">108.4.14 </span>REGISTER_MVIEW Procedure
                  </h4>
                  <div>
                     <p>This procedure enables the administration of individual materialized views. It is invoked at a master site or master materialized view site to register a materialized view.</p>
                     <div class="section">
                        <p>Note that, typically, a materialized view is registered automatically during materialized view creation. You should only run this procedure to manually register a materialized view if the automatic registration failed or if the registration information was deleted.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A601DB22-C8A0-4C58-BAC1-9D211D880B8D__GUID-6B25E8EC-B1F5-4CA3-A356-52D5D0B93EB0">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_MVIEW.REGISTER_MVIEW (
   mviewowner  IN   VARCHAR2,
   mviewname   IN   VARCHAR2,
   mviewsite   IN   VARCHAR2,
   mview_id    IN   DATE | BINARY_INTEGER,
   flag        IN   BINARY_INTEGER,
   qry_txt     IN   VARCHAR2,
   rep_type    IN   BINARY_INTEGER := DBMS_MVIEW.REG_UNKNOWN);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A601DB22-C8A0-4C58-BAC1-9D211D880B8D__GUID-2AC84405-6C11-447C-846D-4366041C1EB9">Parameters</p>
                        <div class="tblformal" id="GUID-A601DB22-C8A0-4C58-BAC1-9D211D880B8D__GUID-EFCC3903-AFF6-4DDE-85E3-8A1F55E736FF">
                           <p class="titleintable">Table 108-13 REGISTER_MVIEW Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="REGISTER_MVIEW Procedure Parameters" summary="This table describes Parameters used by the DBMS_MVIEW.REGISTER_MVIEW subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="16%" id="d628027e3597">Parameter</th>
                                    <th align="left" valign="bottom" width="84%" id="d628027e3600">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="16%" id="d628027e3605" headers="d628027e3597 ">
                                       <p><code class="codeph">mviewowner</code></p>
                                    </td>
                                    <td align="left" valign="top" width="84%" headers="d628027e3605 d628027e3600 ">
                                       <p>Owner of the materialized view.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="16%" id="d628027e3613" headers="d628027e3597 ">
                                       <p><code class="codeph">mviewname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="84%" headers="d628027e3613 d628027e3600 ">
                                       <p>Name of the materialized view.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="16%" id="d628027e3621" headers="d628027e3597 ">
                                       <p><code class="codeph">mviewsite</code></p>
                                    </td>
                                    <td align="left" valign="top" width="84%" headers="d628027e3621 d628027e3600 ">
                                       <p>Name of the materialized view site for a materialized view registering at an Oracle database version 8.x<span class="italic"> </span>and higher master site or master materialized view site. This name should not contain any double quotes.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="16%" id="d628027e3632" headers="d628027e3597 ">
                                       <p><code class="codeph">mview_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="84%" headers="d628027e3632 d628027e3600 ">
                                       <p>The identification number of the materialized view. Specify an Oracle database version 8.x and higher materialized view as a <code class="codeph">BINARY_INTEGER</code>. Specify an Oracle database version 7 materialized view registering at an Oracle database version 8.x and higher master sites or master materialized view sites as a <code class="codeph">DATE</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="16%" id="d628027e3646" headers="d628027e3597 ">
                                       <p><code class="codeph">flag</code></p>
                                    </td>
                                    <td align="left" valign="top" width="84%" headers="d628027e3646 d628027e3600 ">
                                       <p>A constant that describes the properties of the materialized view being registered. Valid constants that can be assigned include the following:</p>
                                       <p><code class="codeph">DBMS_MVIEW.REG_ROWID_MVIEW</code> for a rowid materialized view
                                       </p>
                                       <p><code class="codeph">DBMS_MVIEW.REG_PRIMARY_KEY_MVIEW</code> for a primary key materialized view
                                       </p>
                                       <p><code class="codeph">DBMS_MVIEW.REG_OBJECT_ID_MVIEW</code> for an object id materialized view
                                       </p>
                                       <p><code class="codeph">DBMS_MVIEW.REG_FAST_REFRESHABLE_MVIEW</code> for a materialized view that can be fast refreshed
                                       </p>
                                       <p><code class="codeph">DBMS_MVIEW.REG_UPDATABLE_MVIEW</code> for a materialized view that is updatable
                                       </p>
                                       <p>A materialized view can have more than one of these properties. In this case, use the plus sign (+) to specify more than one property. For example, if a primary key materialized view can be fast refreshed, you can enter the following for this parameter:</p>
                                       <p><code class="codeph">DBMS_MVIEW.REG_PRIMARY_KEY_MVIEW</code> + <code class="codeph">DBMS_MVIEW.REG_FAST_REFRESHABLE_MVIEW</code></p>
                                       <p>You can determine the properties of a materialized view by querying the <code class="codeph">ALL_MVIEWS</code> data dictionary view.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="16%" id="d628027e3687" headers="d628027e3597 ">
                                       <p><code class="codeph">qry_txt</code></p>
                                    </td>
                                    <td align="left" valign="top" width="84%" headers="d628027e3687 d628027e3600 ">
                                       <p>The first 32,000 bytes of the materialized view definition query.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="16%" id="d628027e3695" headers="d628027e3597 ">
                                       <p><code class="codeph">rep_type</code></p>
                                    </td>
                                    <td align="left" valign="top" width="84%" headers="d628027e3695 d628027e3600 ">
                                       <p>Version of the materialized view. Valid constants that can be assigned include the following: </p>
                                       <p><code class="codeph">DBMS_MVIEW.REG_V7_SNAPSHOT</code> if the materialized view is at an Oracle database version 7 site
                                       </p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">DBMS_MVIEW.REG_V8_SNAPSHOT</code></p>
                                          </li>
                                       </ul>
                                       <p><code class="codeph">reg_repapi_snapshot </code>if the materialized view is at an Oracle database version 8.x or higher site
                                       </p>
                                       <p><code class="codeph">DBMS_MVIEW.REG_UNKNOWN</code> (the default) if you do not know whether the materialized view is at an Oracle database version 7 site or an Oracle database version 8.x (or higher) site
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A601DB22-C8A0-4C58-BAC1-9D211D880B8D__GUID-291D1B60-C06D-4689-BF01-7FA88E881826">Usage Notes</p>
                        <p>This procedure is invoked at the master site or master materialized view site by a remote materialized view site using a remote procedure call. If <code class="codeph">REGISTER_MVIEW</code> is called multiple times with the same <code class="codeph">mviewowner</code>, <code class="codeph">mviewname</code>, and <code class="codeph">mviewsite</code>, then the most recent values for <code class="codeph">mview_id</code>, <code class="codeph">flag</code>, and <code class="codeph">qry_txt</code> are stored. If a query exceeds the maximum <code class="codeph">VARCHAR2</code> size, then <code class="codeph">qry_txt</code> contains the first 32000 characters of the query and the remainder is truncated. When invoked manually, the value of <code class="codeph">mview_id</code> must be looked up in the materialized view data dictionary views by the person who calls the procedure.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67211"></a><a id="ARPLS67212"></a><a id="ARPLS67212"></a><a id="ARPLS67211"></a><div class="props_rev_3"><a id="GUID-7FAEA86E-FDBB-4BE8-9037-7450299B6793" name="GUID-7FAEA86E-FDBB-4BE8-9037-7450299B6793"></a><h4 id="ARPLS-GUID-7FAEA86E-FDBB-4BE8-9037-7450299B6793" class="sect4"><span class="enumeration_section">108.4.15 </span>UNREGISTER_MVIEW Procedure
                  </h4>
                  <div>
                     <p>This procedure enables the administration of individual materialized views. It is invoked at a master site or master materialized view site to unregister a materialized view.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-7FAEA86E-FDBB-4BE8-9037-7450299B6793__GUID-BFEFFFA5-4E0B-4260-B298-1875B9BA3F30">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_MVIEW.UNREGISTER_MVIEW (
   mviewowner      IN   VARCHAR2,
   mviewname       IN   VARCHAR2,
   mviewsite       IN   VARCHAR2);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7FAEA86E-FDBB-4BE8-9037-7450299B6793__GUID-C3F0D8D2-79B4-4346-89A3-BB15A68A439A">Parameters</p>
                        <div class="tblformal" id="GUID-7FAEA86E-FDBB-4BE8-9037-7450299B6793__GUID-65A4FAAF-0AA5-483E-9E3D-50CAB4BDF27A">
                           <p class="titleintable">Table 108-14 UNREGISTER_MVIEW Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="UNREGISTER_MVIEW Procedure Parameters" summary="This table describes Parameters used by the DBMS_MVIEW.UNREGISTER_MVIEW subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="27%" id="d628027e3867">Parameters</th>
                                    <th align="left" valign="bottom" width="73%" id="d628027e3870">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d628027e3875" headers="d628027e3867 ">
                                       <p><code class="codeph">mviewowner</code></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d628027e3875 d628027e3870 ">
                                       <p>Owner of the materialized view</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d628027e3883" headers="d628027e3867 ">
                                       <p><code class="codeph">mviewname</code></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d628027e3883 d628027e3870 ">
                                       <p>Name of the materialized view</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d628027e3891" headers="d628027e3867 ">
                                       <p><code class="codeph">mviewsite</code></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d628027e3891 d628027e3870 ">
                                       <p>Name of the materialized view site</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>