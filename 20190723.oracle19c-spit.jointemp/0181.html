<html id='00097.plscope.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Using PL/Scope</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database Development Guide">
      <meta property="og:description" content>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database Development Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-development-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-31T23:23:15-08:00">
      <meta name="dcterms.title" content="Database Development Guide">
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96334-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="coding-subprograms-and-packages.html" title="Previous" type="text/html">
      <link rel="next" href="hierarchical-profiler.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="ADFNS">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="coding-subprograms-and-packages.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="hierarchical-profiler.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database Development Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="plsql-for-application-developers.html" property="item" typeof="WebPage"><span property="name">PL/SQL for Application Developers</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Using PL/Scope</li>
            </ol>
            <a id="GUID-24109CB5-7BB9-48B2-AD7A-39458AA13C0C" name="GUID-24109CB5-7BB9-48B2-AD7A-39458AA13C0C"></a><a id="ADFNS1043"></a><a id="ADFNS022"></a>
            
            <h2 id="ADFNS-GUID-24109CB5-7BB9-48B2-AD7A-39458AA13C0C" class="sect2"><span class="enumeration_chapter">14 </span>Using PL/Scope
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>PL/Scope lets you develop powerful and effective PL/Scope source code tools that increase PL/SQL developer productivity by minimizing time spent browsing and understanding source code.</p>
               <p>PL/Scope is intended for application developers, and is typically used in a development database environment.</p>
               <div class="infoboxnote" id="GUID-24109CB5-7BB9-48B2-AD7A-39458AA13C0C__GUID-492FD18B-99D4-4FB8-8832-70F4E8B7ED17">
                  <p class="notep1">Note:</p>
                  <p>PL/Scope cannot collect data for a PL/SQL unit whose source code is wrapped. For information about wrapping PL/SQL source code, see <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=LNPLS016" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a>.
                  </p>
               </div>
               <div class="section">
                  <p class="subhead1" id="GUID-24109CB5-7BB9-48B2-AD7A-39458AA13C0C__GUID-2A1AB535-8559-40D5-86EE-E2F4B2A2752D">Topics:</p>
               </div>
               <!-- class="section" -->
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="plscope.html#GUID-10A7702B-41E4-405D-BFAF-622956A40650" title="PL/Scope is a compiler-driven tool that collects PL/SQL and SQL identifiers as well as SQL statements usage in PL/SQL source code.">Overview of PL/Scope</a></p>
                  </li>
                  <li>
                     <p><a href="plscope.html#GUID-CF97DD72-26DD-4699-A499-1E4C35EA5246" title="By default, PUBLIC has SELECT privileges on various system tables and views, and EXECUTE privileges on various PL/SQL objects.">Privileges Required for Using PL/Scope</a></p>
                  </li>
                  <li>
                     <p><a href="plscope.html#GUID-3DED4E31-FC60-44BB-989F-8D61194F0CC3" title="By default, PL/Scope does not collect data for identifiers and statements in the PL/SQL source program. To enable and control what is collected, set the PL/SQL compilation parameter PLSCOPE_SETTINGS.">Specifying Identifier and Statement Collection</a></p>
                  </li>
                  <li>
                     <p><a href="plscope.html#GUID-F20FA032-8441-4913-8734-736346EA84BB">How Much Space is PL/Scope Data Using?</a></p>
                  </li>
                  <li>
                     <p><a href="plscope.html#GUID-7ABC54E9-BEE5-46BB-9534-44BD930740AA" title="PL/Scope usages are the verbs that describe actions performed on behalf of the identifier. Every identifier usage is given a numeric ID that is unique within the code unit.&nbsp; This is the USAGE_ID of the identifier.Identifier usages can be contexts for other identifier usages.&nbsp; This creates a one to many parent-child relationship among the usages. The USAGE_ID of the parent context usage is the USAGE_CONTEXT_ID for the child usages.The DBA_STATEMENTS static dictionary views family describes the SQL statements collected by PL/Scope. PL/Scope statement types represent the SQL statements used in PL/SQL.Each row in the DBA_STATEMENTS view represents a unique location of a SQL statement in the PL/SQL unit. This is equivalent to unique keys within a compilation unit.Statements can act as a context for other statements or identifiers. Statements can also be in the context of other statements or identifiers.Every SQL statement has a unique PL/Scope signature that identifies that instance of the statement in all the PL/SQL units.">Viewing PL/Scope Data</a></p>
                  </li>
                  <li>
                     <p><a href="plscope.html#GUID-89EFC1F5-339A-4567-A360-8E2CFBE94046" title="In addition to the PL/Scope data dictionary views, the following static dictionary views are most useful for PL/SQL programmers and are most often referenced in queries related to PL/SQL code management reports. This is not an exhaustive list of all static data dictionary views.">Overview of Data Dictionary Views Useful to Manage PL/SQL Code</a></p>
                  </li>
                  <li>
                     <p><a href="plscope.html#GUID-1D07E448-0183-42B6-A4CA-9163F2784928">Sample PL/Scope Session</a></p>
                  </li>
               </ul>
            </div>
            <div class="sect2"><a id="GUID-10A7702B-41E4-405D-BFAF-622956A40650" name="GUID-10A7702B-41E4-405D-BFAF-622956A40650"></a><h3 id="ADFNS-GUID-10A7702B-41E4-405D-BFAF-622956A40650" class="sect3">Overview of PL/Scope</h3>
               <div>
                  <p>PL/Scope is a compiler-driven tool that collects PL/SQL  and SQL identifiers as well as SQL statements usage in PL/SQL source code. </p>
                  <p>PL/Scope collects PL/SQL  identifiers, SQL identifiers, and SQL statements metadata at program-unit compilation time and makes it available in static data dictionary views. The collected data includes information about identifier types, usages (DECLARATION, DEFINITION, REFERENCE, CALL, ASSIGNMENT) and the location of each usage in the source code.</p>
                  <p>Starting with Oracle Database 12<span class="italic">c</span> Release 2 (12.2), PL/Scope has been enhanced to report on the occurrences of static SQL, and dynamic SQL call sites in PL/SQL units. The call site of the native dynamic SQL (EXECUTE IMMEDIATE, OPEN CURSOR FOR) and DBMS_SQL calls are collected. Dynamic SQL statements are generated at execution time, so only the call sites can be collected at compilation time. The collected data in the new DBA_STATEMENTS view can be queried along with the other data dictionary views to help answer questions about the scope of changes required for programming projects, and performing code analysis. It is also useful to identify the source of SQL statement not performing well. PL/Scope provides insight into dependencies between tables, views and the PL/SQL units. This level of details can be used as a migration assessment tool to determine the extent of changes required.
                  </p>
                  <div class="p">PL/Scope can help you answer questions such as :
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Where and how a column x in table y is used in the PL/SQL code?</p>
                        </li>
                        <li>
                           <p>Is the SQL in my application PL/SQL code compatible with TimesTen? </p>
                        </li>
                        <li>
                           <p>What are the constants, variables and exceptions in my application that are declared but never used? </p>
                        </li>
                        <li>
                           <p>Is my code at risk for SQL injection?</p>
                        </li>
                        <li>
                           <p>What are the SQL statements with an optimizer hint coded in the application? </p>
                        </li>
                        <li>
                           <p>Which SQL has a BULK COLLECT clause ? Where is the SQL called from ? </p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-CF97DD72-26DD-4699-A499-1E4C35EA5246" name="GUID-CF97DD72-26DD-4699-A499-1E4C35EA5246"></a><h3 id="ADFNS-GUID-CF97DD72-26DD-4699-A499-1E4C35EA5246" class="sect3">Privileges Required for Using PL/Scope </h3>
               <div>
                  <p>By default, PUBLIC has SELECT privileges on various system tables and views, and EXECUTE privileges on various PL/SQL objects. </p>
                  <div class="section">
                     <p>The PL/Scope data is available in the DBA_IDENTIFIERS and DBA_STATEMENTS data dictionary views. The user must have the privileges to query data in these views.</p>
                     <p>The following privileges have been granted on these relevant views.</p>
                     <div class="tblformal" id="GUID-CF97DD72-26DD-4699-A499-1E4C35EA5246__GUID-73B6F4FC-7BFB-4F56-BED1-83405AAD7A69">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="*_IDENTIFIERS and *_STATEMENTS Views Access Privileges Granted to Roles by Default" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="20%" id="d65520e411">View Name</th>
                                 <th align="left" valign="bottom" width="20%" id="d65520e413">Privilege Granted to Role</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d65520e417" headers="d65520e411 ">USER_IDENTIFIERS</td>
                                 <td align="left" valign="top" width="20%" headers="d65520e417 d65520e413 ">READ to PUBLIC</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d65520e422" headers="d65520e411 ">ALL_IDENTIFIERS</td>
                                 <td align="left" valign="top" width="20%" headers="d65520e422 d65520e413 ">READ to PUBLIC</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d65520e427" headers="d65520e411 ">DBA_IDENTIFIERS</td>
                                 <td align="left" valign="top" width="20%" headers="d65520e427 d65520e413 ">SELECT to SELECT_CATALOG_ROLE</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d65520e432" headers="d65520e411 ">USER_STATEMENTS</td>
                                 <td align="left" valign="top" width="20%" headers="d65520e432 d65520e413 ">READ to PUBLIC</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d65520e437" headers="d65520e411 ">ALL_STATEMENTS</td>
                                 <td align="left" valign="top" width="20%" headers="d65520e437 d65520e413 ">READ to PUBLIC</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d65520e442" headers="d65520e411 ">DBA_STATEMENTS</td>
                                 <td align="left" valign="top" width="20%" headers="d65520e442 d65520e413 ">SELECT to SELECT_CATALOG_ROLE</td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>A database administrator can verify the list of privileges on these views by using a query similar to the following:</p>
                     <div class="p"><pre class="pre codeblock"><code>SELECT&nbsp;*&nbsp; 
FROM&nbsp;&nbsp;&nbsp;SYS.DBA_TAB_PRIVS&nbsp; 
WHERE&nbsp;&nbsp;GRANTEE&nbsp;=&nbsp;'PUBLIC'&nbsp;
AND TABLE_NAME IN ('ALL_IDENTIFIERS','USER_IDENTIFIERS','ALL_STATEMENTS','USER_STATEMENTS');</code></pre></div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADFNS02201"></a><div class="props_rev_3"><a id="GUID-3DED4E31-FC60-44BB-989F-8D61194F0CC3" name="GUID-3DED4E31-FC60-44BB-989F-8D61194F0CC3"></a><h3 id="ADFNS-GUID-3DED4E31-FC60-44BB-989F-8D61194F0CC3" class="sect3">Specifying Identifier and Statement Collection</h3>
               <div>
                  <p>By default, PL/Scope does not collect data for identifiers and statements in the PL/SQL source program. To enable and control what is collected, set the PL/SQL compilation parameter PLSCOPE_SETTINGS.</p>
                  <div class="section">
                     <p>Starting with Oracle Database 12<span class="italic">c</span> Release 2 (12.2), the <code class="codeph">PLSCOPE_SETTINGS</code>  has a new syntax that offers more controls and options to collect identifiers and SQL statements metadata. The metadata is collected in the static data dictionary views <code class="codeph">DBA_IDENTIFIERS</code> and <code class="codeph">DBA_STATEMENTS</code>.
                     </p>
                     <p>To collect PL/Scope data for all identifiers in the PL/SQL source program, including identifiers in package bodies, set the PL/SQL compilation parameter <code class="codeph">PLSCOPE_SETTINGS</code> to <code class="codeph">'IDENTIFIERS</code>:<code class="codeph">ALL'</code>. The possible values for the<code class="codeph"> IDENTIFIERS</code> clause are : <code class="codeph">ALL, NONE</code> (default), <code class="codeph">PUBLIC, SQL</code>, and <code class="codeph">PLSQL</code>. New SQL identifiers are introduced for : <code class="codeph">ALIAS, COLUMN, MATERIALIZED VIEW, OPERATOR, TABLE, and VIEW</code>. The enhanced metadata collection enables the generation of reports useful for understanding the applications. PL/Scope can now be used as a tool to estimate the complexity of PL/SQL applications coding projects with a finer granularity than previously possible.
                     </p>
                     <p>To collect PL/Scope data for all SQL statements used in PL/SQL source program, set  the PL/SQL compilation parameter <code class="codeph">PLSCOPE_SETTINGS</code> to <code class="codeph">'STATEMENTS</code>:<code class="codeph">ALL'</code>. The default value is<code class="codeph"> NONE</code>. 
                     </p>
                     <div class="infoboxnote" id="GUID-3DED4E31-FC60-44BB-989F-8D61194F0CC3__GUID-FAF5E7DC-1005-4483-BC39-A353EEC8B0F8">
                        <p class="notep1">Note:</p>
                        <p>Collecting all identifiers and statements might generate large amounts of data and slow compile time.</p>
                     </div>
                     <p>PL/Scope stores the data that it collects in the <code class="codeph">SYSAUX</code> tablespace. If the PL/Scope collection is enabled and <code class="codeph">SYSAUX</code> tablespace is unavailable during compilation of a program unit, PL/Scope does not collect data for the compiled object. The compiler does not issue a warning, but it saves a warning in <code class="codeph">USER_ERRORS</code>.
                     </p>
                     <div class="infoboxnotealso" id="GUID-3DED4E31-FC60-44BB-989F-8D61194F0CC3__GUID-05CB1433-7843-42DB-864B-0D1BE0DAF138">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=REFRN10271" target="_blank"><span class="italic">Oracle Database Reference</span></a> for information about <code class="codeph">PLSCOPE_SETTINGS</code></p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=LNPLS0121" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for information about PL/SQL compilation parameters
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADFNS402"></a><a id="ADFNS02202"></a><div class="props_rev_3"><a id="GUID-F20FA032-8441-4913-8734-736346EA84BB" name="GUID-F20FA032-8441-4913-8734-736346EA84BB"></a><h3 id="ADFNS-GUID-F20FA032-8441-4913-8734-736346EA84BB" class="sect3">How Much Space is PL/Scope Data Using?</h3>
               <div>
                  <div class="section">
                     <p>PL/Scope stores its data in the <code class="codeph">SYSAUX</code> tablespace. If you are logged on as <code class="codeph">SYSDBA</code>, you can use the query in <a href="plscope.html#GUID-F20FA032-8441-4913-8734-736346EA84BB__CDEFCGAF">Example 14-1</a> to display the amount of space that PL/Scope data is using.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-F20FA032-8441-4913-8734-736346EA84BB__CDEFCGAF">
                     <p class="titleinexample">Example 14-1 How Much Space is PL/Scope Data Using?</p>
                     <p>Query:</p><pre class="oac_no_warn" dir="ltr">SELECT SPACE_USAGE_KBYTES
FROM V$SYSAUX_OCCUPANTS
WHERE OCCUPANT_NAME='PL/SCOPE';
 </pre><p>Result:</p><pre class="oac_no_warn" dir="ltr">SPACE_USAGE_KBYTES
------------------
              1920
 
1 row selected.
</pre></div>
                  <!-- class="example" -->
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-F20FA032-8441-4913-8734-736346EA84BB__NOTE-1212-CABFF9F5">
                        <p class="notep1">See Also:</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=ADMIN11384" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> for information about managing the <code class="codeph">SYSAUX</code> tablespace
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADFNS02203"></a><div class="props_rev_3"><a id="GUID-7ABC54E9-BEE5-46BB-9534-44BD930740AA" name="GUID-7ABC54E9-BEE5-46BB-9534-44BD930740AA"></a><h3 id="ADFNS-GUID-7ABC54E9-BEE5-46BB-9534-44BD930740AA" class="sect3">Viewing PL/Scope Data</h3>
               <div>
                  <div class="section">
                     <p>To view the data that PL/Scope has collected, you can use either:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="plscope.html#GUID-05D0F9D8-8344-4D77-ADAC-AA8DA59CAFD7" title="PL/Scope usages are the verbs that describe actions performed on behalf of the identifier. Every identifier usage is given a numeric ID that is unique within the code unit.&nbsp; This is the USAGE_ID of the identifier.Identifier usages can be contexts for other identifier usages.&nbsp; This creates a one to many parent-child relationship among the usages. The USAGE_ID of the parent context usage is the USAGE_CONTEXT_ID for the child usages.">Static Data Dictionary Views for PL/SQL and SQL Identifiers</a></p>
                        </li>
                        <li>
                           <p><a href="plscope.html#GUID-4EA56F25-D73A-4346-AB9A-A62F334D6628" title="The DBA_STATEMENTS static dictionary views family describes the SQL statements collected by PL/Scope.">Static Data Dictionary Views for SQL Statements</a></p>
                        </li>
                        <li>
                           <p><a href="plscope.html#GUID-F1C70DA3-6166-41A2-89E1-215C7F994EBF">SQL Developer</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="ADFNS1044"></a><a id="ADFNS403"></a><div class="props_rev_3"><a id="GUID-05D0F9D8-8344-4D77-ADAC-AA8DA59CAFD7" name="GUID-05D0F9D8-8344-4D77-ADAC-AA8DA59CAFD7"></a><h4 id="ADFNS-GUID-05D0F9D8-8344-4D77-ADAC-AA8DA59CAFD7" class="sect4">Static Data Dictionary Views for PL/SQL and SQL Identifiers</h4>
                  <div>
                     <p>The <code class="codeph">DBA_IDENTIFIERS</code> static data dictionary view family display information about PL/Scope identifiers, including their types and usages.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-05D0F9D8-8344-4D77-ADAC-AA8DA59CAFD7__GUID-2F2478EE-FE46-4C41-8279-5EF1FD3C4929">Topics:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="plscope.html#GUID-3FD51CE9-111D-451E-A2A4-1EBC7019B15A">PL/SQL and SQL Identifier Types that PL/Scope Collects</a></p>
                           </li>
                           <li>
                              <p><a href="plscope.html#GUID-C7F7893F-DD26-4C1A-BDC3-4C2BCCF6BDB7" title="PL/Scope usages are the verbs that describe actions performed on behalf of the identifier.">About Identifiers Usages</a></p>
                           </li>
                           <li>
                              <p><a href="plscope.html#GUID-97EA70F4-48D3-4AC7-979D-6E186642B8AC" title="Every identifier usage is given a numeric ID that is unique within the code unit.&nbsp; This is the USAGE_ID of the identifier.">Identifiers Usage Unique Keys</a></p>
                           </li>
                           <li>
                              <p><a href="plscope.html#GUID-F1F1FC14-5447-4D81-8C2E-22145059BF7C" title="Identifier usages can be contexts for other identifier usages.&nbsp; This creates a one to many parent-child relationship among the usages. The USAGE_ID of the parent context usage is the USAGE_CONTEXT_ID for the child usages.">About Identifiers Usage Context</a></p>
                           </li>
                           <li>
                              <p><a href="plscope.html#GUID-A0529D90-7F10-4C99-AD7D-DA8A953D20B1">About Identifiers Signature</a></p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-05D0F9D8-8344-4D77-ADAC-AA8DA59CAFD7__GUID-20CD7B36-659D-4794-A6E0-CEA4EE2F9396">
                           <p class="notep1">See Also:</p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=REFRN-GUID-F4B4C9F7-6335-42FF-97F4-FEB902A15E6E" target="_blank"><span class="italic">Oracle Database Reference</span></a> for more information about the dictionary view <code class="codeph">DBA_IDENTIFIERS</code> view 
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div><a id="ADFNS409"></a><a id="ADFNS02204"></a><div class="props_rev_3"><a id="GUID-3FD51CE9-111D-451E-A2A4-1EBC7019B15A" name="GUID-3FD51CE9-111D-451E-A2A4-1EBC7019B15A"></a><h5 id="ADFNS-GUID-3FD51CE9-111D-451E-A2A4-1EBC7019B15A" class="sect5">PL/SQL and SQL Identifier Types that PL/Scope Collects</h5>
                     <div>
                        <p><a href="plscope.html#GUID-3FD51CE9-111D-451E-A2A4-1EBC7019B15A__G3152275" title="This table summarizes the identifier types that PL/Scope collects.">Table 14-1</a> shows the identifier types that PL/Scope collects, in alphabetical order. The identifier types in <a href="plscope.html#GUID-3FD51CE9-111D-451E-A2A4-1EBC7019B15A__G3152275" title="This table summarizes the identifier types that PL/Scope collects.">Table 14-1</a> appear in the <code class="codeph">TYPE</code> column of the <code class="codeph">DBA_IDENTIFIERS</code> static data dictionary views family.
                        </p>
                        <div class="infoboxnote" id="GUID-3FD51CE9-111D-451E-A2A4-1EBC7019B15A__GUID-EA19EE62-1ACB-41AD-AE01-C15FD6143EEC">
                           <p class="notep1">Note:</p>
                           <p>Identifiers declared in compilation units that were not compiled with <code class="codeph">PLSCOPE_SETTINGS='IDENTIFIERS:ALL'</code> do not appear in <code class="codeph">DBA_IDENTIFIERS</code> static data dictionary views family.
                           </p>
                           <p>Pseudocolumns, such as ROWNUM, are not supported since they are not user defined identifiers.</p>
                           <p> PL/Scope ignores column names that are literal strings. </p>
                        </div>
                        <div class="tblformal" id="GUID-3FD51CE9-111D-451E-A2A4-1EBC7019B15A__G3152275">
                           <p class="titleintable">Table 14-1 Identifier Types that PL/Scope Collects</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Identifier Types that PL/Scope Collects" summary="This table summarizes the identifier types that PL/Scope collects." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="42%" id="d65520e1182">TYPE Column Value</th>
                                    <th align="left" valign="bottom" width="58%" id="d65520e1185">Comment</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d65520e1190" headers="d65520e1182 ">
                                       <p><code class="codeph">ALIAS</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d65520e1190 d65520e1185 ">
                                       <p>New SQL identifier introduced in Oracle Database 12<span class="italic">c</span> Release 2 (12.2).
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d65520e1202" headers="d65520e1182 ">
                                       <p><code class="codeph">ASSOCIATIVE ARRAY</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d65520e1202 d65520e1185 ">
                                       <p></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d65520e1210" headers="d65520e1182 ">
                                       <p><code class="codeph">COLUMN</code></p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d65520e1210 d65520e1185 ">
                                       <p>New SQL identifier introduced in Oracle Database 12<span class="italic">c</span> Release 2 (12.2).
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d65520e1221" headers="d65520e1182 ">
                                       <p><code class="codeph">CONSTANT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d65520e1221 d65520e1185 ">
                                       <p></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d65520e1228" headers="d65520e1182 ">
                                       <p><code class="codeph">CURSOR</code></p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d65520e1228 d65520e1185 ">
                                       <p></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d65520e1235" headers="d65520e1182 ">
                                       <p><code class="codeph">BFILE DATATYPE</code> 
                                       </p>
                                       <p><code class="codeph">BLOB DATATYPE</code> 
                                       </p>
                                       <p><code class="codeph">BOOLEAN DATATYPE</code> 
                                       </p>
                                       <p><code class="codeph">CHARACTER DATATYPE</code></p>
                                       <p> <code class="codeph">CLOB DATATYPE</code> 
                                       </p>
                                       <p><code class="codeph">DATE DATATYPE</code> 
                                       </p>
                                       <p><code class="codeph">INTERVAL DATATYPE</code> 
                                       </p>
                                       <p><code class="codeph">NUMBER DATATYPE</code> 
                                       </p>
                                       <p><code class="codeph">TIME DATATYPE</code> 
                                       </p>
                                       <p><code class="codeph">TIMESTAMP DATATYPE</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d65520e1235 d65520e1185 ">
                                       <p>Each <code class="codeph">DATATYPE</code> is a base type declared in package <code class="codeph">STANDARD</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d65520e1286" headers="d65520e1182 ">
                                       <p><code class="codeph">EXCEPTION</code></p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d65520e1286 d65520e1185 ">
                                       <p></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d65520e1293" headers="d65520e1182 ">
                                       <p><code class="codeph">FORMAL IN</code> 
                                       </p>
                                       <p><code class="codeph">FORMAL IN OUT</code></p>
                                       <p><code class="codeph">FORMAL OUT</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d65520e1293 d65520e1185 ">
                                       <p></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d65520e1308" headers="d65520e1182 ">
                                       <p><code class="codeph">FUNCTION</code></p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d65520e1308 d65520e1185 ">
                                       <p></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d65520e1315" headers="d65520e1182 ">
                                       <p><code class="codeph">INDEX TABLE</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d65520e1315 d65520e1185 ">
                                       <p></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d65520e1323" headers="d65520e1182 ">
                                       <p><code class="codeph">ITERATOR</code></p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d65520e1323 d65520e1185 ">
                                       <p>An iterator is the index of a <code class="codeph">FOR</code> loop.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d65520e1335" headers="d65520e1182 ">
                                       <p><code class="codeph">LABEL</code></p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d65520e1335 d65520e1185 ">
                                       <p>A label declaration also acts as a context.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d65520e1343" headers="d65520e1182 ">
                                       <p><code class="codeph">LIBRARY</code></p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d65520e1343 d65520e1185 ">
                                       <p></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d65520e1350" headers="d65520e1182 ">
                                       <p><code class="codeph">MATERIALIZED VIEW</code></p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d65520e1350 d65520e1185 ">
                                       <p>New SQL identifier introduced in Oracle Database 12<span class="italic">c</span> Release 2 (12.2).
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d65520e1361" headers="d65520e1182 ">
                                       <p><code class="codeph">NESTED TABLE</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d65520e1361 d65520e1185 ">
                                       <p></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d65520e1369" headers="d65520e1182 ">
                                       <p><code class="codeph">OBJECT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d65520e1369 d65520e1185 ">
                                       <p></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d65520e1376" headers="d65520e1182 ">
                                       <p><code class="codeph">OPAQUE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d65520e1376 d65520e1185 ">
                                       <p>Examples of internal opaque types are <code class="codeph">ANYDATA</code> and <code class="codeph">XMLType</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d65520e1390" headers="d65520e1182 ">
                                       <p><code class="codeph">OPERATOR</code></p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d65520e1390 d65520e1185 ">
                                       <p>New SQL identifier introduced in Oracle Database 12<span class="italic">c</span> Release 2 (12.2).
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d65520e1401" headers="d65520e1182 ">
                                       <p><code class="codeph">PACKAGE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d65520e1401 d65520e1185 ">
                                       <p></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d65520e1408" headers="d65520e1182 ">
                                       <p><code class="codeph">PROCEDURE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d65520e1408 d65520e1185 ">
                                       <p></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d65520e1415" headers="d65520e1182 ">
                                       <p><code class="codeph">RECORD</code></p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d65520e1415 d65520e1185 ">
                                       <p></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d65520e1422" headers="d65520e1182 ">
                                       <p><code class="codeph">REFCURSOR</code></p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d65520e1422 d65520e1185 ">
                                       <p></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d65520e1430" headers="d65520e1182 ">
                                       <p><code class="codeph">SEQUENCE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d65520e1430 d65520e1185 ">
                                       <p>New SQL identifier introduced in Oracle Database 12<span class="italic">c</span> Release 2 (12.2).
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d65520e1441" headers="d65520e1182 ">
                                       <p><code class="codeph">SUBTYPE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d65520e1441 d65520e1185 ">
                                       <p></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d65520e1448" headers="d65520e1182 ">
                                       <p><code class="codeph">SYNONYM</code></p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d65520e1448 d65520e1185 ">
                                       <p>PL/Scope does not resolve the base object name of a synonym. To find the base object name of a synonym, query <code class="codeph">*_SYNONYMS</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d65520e1459" headers="d65520e1182 ">
                                       <p><code class="codeph">TABLE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d65520e1459 d65520e1185 ">
                                       <p>New SQL identifier introduced in Oracle Database 12<span class="italic">c</span> Release 2 (12.2).
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d65520e1470" headers="d65520e1182 ">
                                       <p><code class="codeph">TRIGGER</code></p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d65520e1470 d65520e1185 ">
                                       <p></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d65520e1477" headers="d65520e1182 ">
                                       <p><code class="codeph">UROWID</code></p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d65520e1477 d65520e1185 ">
                                       <p></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d65520e1484" headers="d65520e1182 ">
                                       <p><code class="codeph">VARIABLE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d65520e1484 d65520e1185 ">
                                       <p>Can be object attribute, local variable, package variable, or record field.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d65520e1492" headers="d65520e1182 ">
                                       <p><code class="codeph">VARRAY</code></p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d65520e1492 d65520e1185 ">
                                       <p></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="42%" id="d65520e1499" headers="d65520e1182 ">
                                       <p><code class="codeph">VIEW</code></p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d65520e1499 d65520e1185 ">
                                       <p>This type is used for editioning views. </p>
                                       <p>New SQL identifier introduced in Oracle Database 12<span class="italic">c</span> Release 2 (12.2).
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="infoboxnotealso" id="GUID-3FD51CE9-111D-451E-A2A4-1EBC7019B15A__NOTE-124-CAC17C79">
                           <p class="notep1">See Also:</p>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=REFRN20599" target="_blank"><span class="italic">Oracle Database Reference</span></a> for more information about identifiers in the stored objects
                           </p>
                        </div>
                     </div>
                  </div><a id="ADFNS410"></a><a id="ADFNS02205"></a><div class="props_rev_3"><a id="GUID-C7F7893F-DD26-4C1A-BDC3-4C2BCCF6BDB7" name="GUID-C7F7893F-DD26-4C1A-BDC3-4C2BCCF6BDB7"></a><h5 id="ADFNS-GUID-C7F7893F-DD26-4C1A-BDC3-4C2BCCF6BDB7" class="sect5">About Identifiers Usages</h5>
                     <div>
                        <p>PL/Scope usages are the verbs that describe actions performed on behalf of the identifier. </p>
                        <p><a href="plscope.html#GUID-C7F7893F-DD26-4C1A-BDC3-4C2BCCF6BDB7__G3158742" title="This table summarizes that actions that PL/Scope reports.">Table 14-2</a> shows the usages that PL/Scope reports, in alphabetical order. The identifier actions in <a href="plscope.html#GUID-C7F7893F-DD26-4C1A-BDC3-4C2BCCF6BDB7__G3158742" title="This table summarizes that actions that PL/Scope reports.">Table 14-2</a> appear in the <code class="codeph">USAGE</code> column of the <code class="codeph">DBA_IDENTIFIERS</code> static data dictionary views family, which is described in <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=REFRN20599" target="_blank"><span class="italic">Oracle Database Reference</span></a>.
                        </p>
                        <div class="tblformal" id="GUID-C7F7893F-DD26-4C1A-BDC3-4C2BCCF6BDB7__G3158742">
                           <p class="titleintable">Table 14-2 Usages that PL/Scope Reports</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Usages that PL/Scope Reports" summary="This table summarizes that actions that PL/Scope reports." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d65520e1652">USAGE Column Value</th>
                                    <th align="left" valign="bottom" width="80%" id="d65520e1655">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d65520e1660" headers="d65520e1652 ">
                                       <p><code class="codeph">ASSIGNMENT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d65520e1660 d65520e1655 ">
                                       <p>An assignment can be made only to an identifier that can have a value, such as a <code class="codeph">VARIABLE</code>.
                                       </p>
                                       <p> Examples of assignments are:</p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p>Using an identifier to the left of an assignment operator</p>
                                          </li>
                                          <li>
                                             <p>Using an identifier in the <code class="codeph">INTO</code> clause of a <code class="codeph">FETCH</code> statement
                                             </p>
                                          </li>
                                          <li>
                                             <p>Passing an identifier to a subprogram by reference (<code class="codeph">OUT</code> mode)
                                             </p>
                                          </li>
                                          <li>
                                             <p>Using an identifier as the bind variable in the <code class="codeph">USING</code> clause of an <code class="codeph">EXECUTE</code> <code class="codeph">IMMEDIATE</code> statement in either <code class="codeph">OUT</code> or <code class="codeph">IN</code> <code class="codeph">OUT</code> mode
                                             </p>
                                          </li>
                                       </ul>
                                       <p>An identifier that is passed to a subprogram in <code class="codeph">IN</code> <code class="codeph">OUT</code> mode has both a <code class="codeph">REFERENCE</code> usage (corresponding to <code class="codeph">IN</code>) and an <code class="codeph">ASSIGNMENT</code> usage (corresponding to <code class="codeph">OUT</code>).
                                       </p>
                                       <p>Expressions and nested subqueries are not supported as assignment sources.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d65520e1737" headers="d65520e1652 ">
                                       <p><code class="codeph">CALL</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d65520e1737 d65520e1655 ">
                                       <p>In the context of PL/Scope, a <code class="codeph">CALL</code> is an operation that pushes a call onto the call stack; that is:
                                       </p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p>A call to a <code class="codeph">FUNCTION</code> or <code class="codeph">PROCEDURE</code></p>
                                          </li>
                                          <li>
                                             <p>Running or fetching a cursor identifier (a logical call to SQL)</p>
                                          </li>
                                       </ul>
                                       <p>A <code class="codeph">GOTO</code> statement, or a raise of an exception, is not a <code class="codeph">CALL</code>, because neither pushes a call onto the call stack.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d65520e1768" headers="d65520e1652 ">
                                       <p><code class="codeph">DECLARATION</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d65520e1768 d65520e1655 ">
                                       <p>A <code class="codeph">DECLARATION</code> tells the compiler that an identifier exists, and each identifier has exactly one <code class="codeph">DECLARATION</code>. Each <code class="codeph">DECLARATION</code> can have an associated data type.
                                       </p>
                                       <p>For a loop index declaration, <code class="codeph">LINE</code> and <code class="codeph">COL</code> (in <code class="codeph">*_IDENTIFIERS</code> views) are the line and column of the <code class="codeph">FOR</code> clause that implicitly declares the loop index.
                                       </p>
                                       <p>For a label declaration, <code class="codeph">LINE</code> and <code class="codeph">COL</code> are the line and column on which the label appears (and is implicitly declared) within the delimiters <code class="codeph">&lt;&lt;</code> and <code class="codeph">&gt;&gt;</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d65520e1813" headers="d65520e1652 ">
                                       <p><code class="codeph">DEFINITION</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d65520e1813 d65520e1655 ">
                                       <p>A <code class="codeph">DEFINITION</code> tells the compiler how to implement or use a previously declared identifier.
                                       </p>
                                       <p>Each of these types of identifiers has a <code class="codeph">DEFINITION</code>:
                                       </p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">EXCEPTION</code> (can have multiple definitions)
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">FUNCTION</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">OBJECT</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PACKAGE</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PROCEDURE</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">TRIGGER</code></p>
                                          </li>
                                       </ul>
                                       <p>For a top-level identifier only, the <code class="codeph">DEFINITION</code> and <code class="codeph">DECLARATION</code> are in the same place.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d65520e1863" headers="d65520e1652 ">
                                       <p><code class="codeph">REFERENCE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d65520e1863 d65520e1655 ">
                                       <p>A <code class="codeph">REFERENCE</code> uses an identifier without changing its value. 
                                       </p>
                                       <p>Examples of references are:</p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p>Raising an exception identifier</p>
                                          </li>
                                          <li>
                                             <p>Using a type identifier in the declaration of a variable or formal parameter</p>
                                          </li>
                                          <li>
                                             <p>Using a variable identifier whose type contains fields to access a field. For example, in <code class="codeph">myrecordvar</code>.<code class="codeph">myfield</code> <code class="codeph">:=</code> <code class="codeph">1</code>, a reference is made to <code class="codeph">myrecordvar</code>, and an assignment is made to <code class="codeph">myfield</code>.
                                             </p>
                                          </li>
                                          <li>
                                             <p>Using a cursor for any purpose except <code class="codeph">FETCH</code></p>
                                          </li>
                                          <li>
                                             <p>Passing an identifier to a subprogram by value (<code class="codeph">IN</code> mode)
                                             </p>
                                          </li>
                                          <li>
                                             <p>Using an identifier as the bind variable in the <code class="codeph">USING</code> clause of an <code class="codeph">EXECUTE</code> <code class="codeph">IMMEDIATE</code> statement in either <code class="codeph">IN</code> or <code class="codeph">IN</code> <code class="codeph">OUT</code> mode
                                             </p>
                                          </li>
                                       </ul>
                                       <p>An identifier that is passed to a subprogram in <code class="codeph">IN</code> <code class="codeph">OUT</code> mode has both a <code class="codeph">REFERENCE</code> usage (corresponding to <code class="codeph">IN</code>) and an <code class="codeph">ASSIGNMENT</code> usage (corresponding to <code class="codeph">OUT</code>).
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                  </div><a id="ADFNS404"></a><div class="props_rev_3"><a id="GUID-97EA70F4-48D3-4AC7-979D-6E186642B8AC" name="GUID-97EA70F4-48D3-4AC7-979D-6E186642B8AC"></a><h5 id="ADFNS-GUID-97EA70F4-48D3-4AC7-979D-6E186642B8AC" class="sect5">Identifiers Usage Unique Keys</h5>
                     <div>
                        <p>Every identifier usage is given a numeric ID that is unique within the code unit.&nbsp; This is the <code class="codeph">USAGE_ID</code> of the identifier.
                        </p>
                        <p>Each row of a <code class="codeph">*_IDENTIFIERS</code> view represents a unique usage of an identifier in the PL/SQL unit. In each of these views, these are equivalent unique keys within a compilation unit:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">LINE</code>, <code class="codeph">COL</code>, and <code class="codeph">USAGE</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">USAGE_ID</code></p>
                           </li>
                        </ul>
                        <p></p>
                        <div class="infoboxnote" id="GUID-97EA70F4-48D3-4AC7-979D-6E186642B8AC__GUID-887F8297-A62A-475E-9DE9-B5008626C7AF">
                           <p class="notep1">Note:</p>
                           <p>An identifier that is passed to a subprogram in <code class="codeph">IN OUT</code> mode has two rows in <code class="codeph">*_IDENTIFIERS</code>: a <code class="codeph">REFERENCE</code> usage (corresponding to <code class="codeph">IN</code>) and an <code class="codeph">ASSIGNMENT</code> usage (corresponding to <code class="codeph">OUT</code>).
                           </p>
                        </div>
                        <p>This example shows the USAGE_ID generated for PROCEDURE p1.</p><pre class="pre codeblock"><code>CREATE OR REPLACE PROCEDURE p1 (a OUT VARCHAR2) 
IS 
  b VARCHAR2(100) := 'hello FROM p1'; 
BEGIN 
  a := b; 
END;
/

SELECT USAGE_ID, USAGE, NAME
FROM ALL_IDENTIFIERS
WHERE OBJECT_NAME = 'P1'
ORDER BY USAGE_ID;</code></pre><pre class="oac_no_warn" dir="ltr">         1 DECLARATION P1
         2 DEFINITION  P1
         3 DECLARATION A
         4 REFERENCE   VARCHAR2
         5 DECLARATION B
         6 REFERENCE   VARCHAR2
         7 ASSIGNMENT  B
         8 ASSIGNMENT  A
         9 REFERENCE   B
</pre><div class="infoboxnotealso" id="GUID-97EA70F4-48D3-4AC7-979D-6E186642B8AC__NOTE-134-CAC251B0">
                           <p class="notep1">See Also:</p>
                           <p><a href="plscope.html#GUID-C7F7893F-DD26-4C1A-BDC3-4C2BCCF6BDB7" title="PL/Scope usages are the verbs that describe actions performed on behalf of the identifier.">About Identifiers Usages</a> for the usages in the <code class="codeph">*_IDENTIFIERS</code> views 
                           </p>
                        </div>
                     </div>
                  </div><a id="ADFNS405"></a><a id="ADFNS00097"></a><div class="props_rev_3"><a id="GUID-F1F1FC14-5447-4D81-8C2E-22145059BF7C" name="GUID-F1F1FC14-5447-4D81-8C2E-22145059BF7C"></a><h5 id="ADFNS-GUID-F1F1FC14-5447-4D81-8C2E-22145059BF7C" class="sect5">About Identifiers Usage Context</h5>
                     <div>
                        <p>Identifier usages can be contexts for other identifier usages.&nbsp; This creates a one to many parent-child relationship among the usages. The <code class="codeph">USAGE_ID</code> of the parent context usage is the <code class="codeph">USAGE_CONTEXT_ID</code> for the child usages.
                        </p>
                        <p>Context is useful for discovering relationships between usages. Except for top-level schema object declarations and definitions, every usage of an identifier happens within the context of another usage. </p>
                        <p>The default top-level context, which contains all top level objects, is identified by a<code class="codeph"> USAGE_CONTEXT_ID</code> of 0.
                        </p>
                        <p>For example:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>A local variable declaration happens within the context of a top-level procedure declaration.</p>
                           </li>
                           <li>
                              <p>If an identifier is declared as a variable, such as <code class="codeph">x VARCHAR2(10)</code>, the <code class="codeph">USAGE_CONTEXT_ID</code> of the <code class="codeph">VARCHAR2</code> type reference contains the <code class="codeph">USAGE_ID</code> of the <code class="codeph">x</code> declaration, allowing you to associate the variable declaration with its type.
                              </p>
                           </li>
                        </ul>
                        <p>In other words, <code class="codeph">USAGE_CONTEXT_ID</code> is a reflexive foreign key to <code class="codeph">USAGE_ID</code>, as <a href="plscope.html#GUID-F1F1FC14-5447-4D81-8C2E-22145059BF7C__CHDBBBJE">Example 14-2</a> shows.
                        </p>
                        <div class="example" id="GUID-F1F1FC14-5447-4D81-8C2E-22145059BF7C__CHDBBBJE">
                           <p class="titleinexample">Example 14-2 USAGE_CONTEXT_ID and USAGE_ID</p><pre class="pre codeblock"><code>ALTER SESSION SET PLSCOPE_SETTINGS = 'IDENTIFIERS:ALL';

CREATE OR REPLACE PROCEDURE a (p1 IN BOOLEAN) AUTHID DEFINER IS
  v PLS_INTEGER;
BEGIN
  v := 42;
  DBMS_OUTPUT.PUT_LINE(v);
  RAISE_APPLICATION_ERROR (-20000, 'Bad');
EXCEPTION
  WHEN Program_Error THEN NULL;
END a;
/
CREATE or REPLACE PROCEDURE b (
  p2 OUT PLS_INTEGER,
  p3 IN OUT VARCHAR2
)  AUTHID DEFINER
IS
  n NUMBER;
  q BOOLEAN := TRUE;
BEGIN
  FOR j IN 1..5 LOOP
    a(q); a(TRUE); a(TRUE);
    IF j &gt; 2 THEN
       GOTO z;
    END IF;
  END LOOP;
&lt;&lt;z&gt;&gt; DECLARE
  d CONSTANT CHAR(1) := 'X';
  BEGIN
    SELECT COUNT(*) INTO n FROM Dual WHERE Dummy = d;
  END z;
END b;
/
WITH v AS (
  SELECT    Line,
            Col,
            INITCAP(NAME) Name,
            LOWER(TYPE)   Type,
            LOWER(USAGE)  Usage,
            USAGE_ID,
            USAGE_CONTEXT_ID
    FROM USER_IDENTIFIERS
      WHERE Object_Name = 'B'
        AND Object_Type = 'PROCEDURE'
)
SELECT RPAD(LPAD(' ', 2*(Level-1)) ||
                 Name, 20, '.')||' '||
                 RPAD(Type, 20)||
                 RPAD(Usage, 20)
                 IDENTIFIER_USAGE_CONTEXTS
  FROM v
  START WITH USAGE_CONTEXT_ID = 0
  <span class="bold">CONNECT BY PRIOR USAGE_ID = USAGE_CONTEXT_ID</span>
  ORDER SIBLINGS BY Line, Col
/
</code></pre><p>Result:</p><pre class="oac_no_warn" dir="ltr">IDENTIFIER_USAGE_CONTEXTS
-------------------------------------------------------------
B................... procedure           declaration
  B................. procedure           definition
    P2.............. formal out          declaration
      Pls_Integer... subtype             reference
    P3.............. formal in out       declaration
      Varchar2...... character datatype  reference
    N............... variable            declaration
      Number........ number datatype     reference
    Q............... variable            declaration
      Q............. variable            assignment
      Boolean....... boolean datatype    reference
    J............... iterator            declaration
      A............. procedure           call
        Q........... variable            reference
      A............. procedure           call
      A............. procedure           call
      J............. iterator            reference
      Z............. label               reference
    Z............... label               declaration
      D............. constant            declaration
        D........... constant            assignment
        Char........ subtype             reference
</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="ADFNS406"></a><a id="ADFNS00098"></a><div class="props_rev_3"><a id="GUID-A0529D90-7F10-4C99-AD7D-DA8A953D20B1" name="GUID-A0529D90-7F10-4C99-AD7D-DA8A953D20B1"></a><h5 id="ADFNS-GUID-A0529D90-7F10-4C99-AD7D-DA8A953D20B1" class="sect5">About Identifiers Signature</h5>
                     <div>
                        <p>The signature of an identifier is unique within and across program units. That is, the signature distinguishes the identifier from other identifiers with the same name, whether they are defined in the same program unit or different program units.</p>
                        <p>For the program unit in <a href="plscope.html#GUID-A0529D90-7F10-4C99-AD7D-DA8A953D20B1__CHDIGGCG">Example 14-3</a>, which has two identifiers named <code class="codeph">p5</code>, the static data dictionary view <code class="codeph">USER_IDENTIFIERS</code> has several rows in which <code class="codeph">NAME</code> is <code class="codeph">p5</code>, but in these rows, <code class="codeph">SIGNATURE</code> varies. The rows associated with the outer procedure <code class="codeph">p5</code> have one signature, and the rows associated with the inner procedure <code class="codeph">p5</code> have another signature. If program unit <code class="codeph">q</code> calls procedure <code class="codeph">p5</code>, the <code class="codeph">USER_IDENTIFIERS</code> view for <code class="codeph">q</code> has a row in which <code class="codeph">NAME</code> is <code class="codeph">p5</code> and <code class="codeph">SIGNATURE</code> is the signature of the outer procedure <code class="codeph">p5</code>.
                        </p>
                        <div class="example" id="GUID-A0529D90-7F10-4C99-AD7D-DA8A953D20B1__CHDIGGCG">
                           <p class="titleinexample">Example 14-3 Program Unit with Two Identifiers Named p5</p>
                           <p>This example shows a program unit with two identifiers named p5 to demonstrate the uniqueness of the signature.</p><pre class="pre codeblock"><code>CREATE OR REPLACE PROCEDURE p5 AUTHID DEFINER IS
  PROCEDURE p5 IS
  BEGIN
    DBMS_OUTPUT.PUT_LINE('Inner p5');
  END p5;
BEGIN
  DBMS_OUTPUT.PUT_LINE('Outer p5');
  p5();
END p5;
/

SELECT LINE || ' &gt; ' || TEXT
FROM   ALL_SOURCE
WHERE  NAME = 'P5'
   AND TYPE = 'PROCEDURE'
ORDER BY LINE;
</code></pre><pre class="oac_no_warn" dir="ltr">1 &gt; PROCEDURE p5 AUTHID DEFINER IS
2 &gt;   PROCEDURE p5 IS
3 &gt;   BEGIN
4 &gt;     DBMS_OUTPUT.PUT_LINE('Inner p5');
5 &gt;   END p5;
6 &gt; BEGIN
7 &gt;   DBMS_OUTPUT.PUT_LINE('Outer p5');
8 &gt;   p5();
9 &gt; END p5;

</pre><p>The following query shows the SIGNATURE for the PL/SQL unit is the same for its DECLARATION and DEFINITION of the inner and outer p5. </p><pre class="pre codeblock"><code>SELECT SIGNATURE, USAGE, LINE, COL, USAGE_ID, USAGE_CONTEXT_ID 
FROM   ALL_IDENTIFIERS
WHERE OBJECT_NAME = 'P5'
ORDER BY LINE, COL, USAGE_ID;</code></pre><pre class="oac_no_warn" dir="ltr">75CD5986BA2EE5C61ACEED8C7162528F DECLARATION          1         11          1       0
75CD5986BA2EE5C61ACEED8C7162528F DEFINITION           1         11          2       1
33FB9F948F526C4B0634C0F35DFA91F6 DECLARATION          2         13          3       2
33FB9F948F526C4B0634C0F35DFA91F6 DEFINITION           2         13          4       3
33FB9F948F526C4B0634C0F35DFA91F6 CALL                 8          3          7       2
</pre><pre class="pre codeblock"><code>CREATE OR REPLACE PROCEDURE q AUTHID DEFINER IS
BEGIN
  p5();
END q;
/
</code></pre><pre class="oac_no_warn" dir="ltr">EXEC q;
Outer p5
Inner p5
</pre><pre class="pre codeblock"><code>SELECT SIGNATURE, USAGE, LINE, COL, USAGE_ID, USAGE_CONTEXT_ID
FROM   ALL_IDENTIFIERS
WHERE OBJECT_NAME = 'Q'
AND NAME = 'P5'
ORDER BY LINE, COL, USAGE_ID;</code></pre><pre class="oac_no_warn" dir="ltr">75CD5986BA2EE5C61ACEED8C7162528F CALL                 3          3          3       2
</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-A0529D90-7F10-4C99-AD7D-DA8A953D20B1__FINDALLUSAGESOFVARCHAR2-1FA55A26">
                           <p class="titleinexample">Example 14-4 Find All Usages of VARCHAR2</p>
                           <p>Identifier signatures are globally unique. This is useful to find all usages of an identifier in all units in the database.&nbsp; This example shows a query to find all usages of VARCHAR2.</p><pre class="pre codeblock"><code>SELECT UNIQUE OBJECT_NAME uses_varchar2 
FROM   ALL_IDENTIFIERS 
WHERE  SIGNATURE = (SELECT SIGNATURE 
                    FROM   ALL_IDENTIFIERS 
                    WHERE  OBJECT_NAME = 'STANDARD' 
                           AND OWNER = 'SYS' 
                           AND USAGE = 'DECLARATION' 
                           AND NAME = 'VARCHAR2') 
ORDER  BY OBJECT_NAME;</code></pre></div>
                        <!-- class="example" -->
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-4EA56F25-D73A-4346-AB9A-A62F334D6628" name="GUID-4EA56F25-D73A-4346-AB9A-A62F334D6628"></a><h4 id="ADFNS-GUID-4EA56F25-D73A-4346-AB9A-A62F334D6628" class="sect4">Static Data Dictionary Views for SQL Statements</h4>
                  <div>
                     <p>The DBA_STATEMENTS static dictionary views family describes the SQL statements collected by PL/Scope. </p>
                     <p>Starting with Oracle Database 12<span class="italic">c</span> Release 2 (12.2.0.1), a new view, DBA_STATEMENTS, reports on the occurrences of static SQL in PL/SQL units. It provides information about the SQL_ID, the canonical statement text, the statement type, useful statement usage attributes, its signature, and location in the PL/SQL code. Each row represents a SQL statement instance in the PL/SQL code. 
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-4EA56F25-D73A-4346-AB9A-A62F334D6628__GUID-025D99EC-9956-4069-B09D-08BFF044D9B9">Topics:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="plscope.html#GUID-BE0806E8-8EAE-4C85-B353-3BE4D635D21A" title="PL/Scope statement types represent the SQL statements used in PL/SQL.">SQL Statement Types that PL/Scope Collects</a></p>
                           </li>
                           <li>
                              <p><a href="plscope.html#GUID-B07F49CF-474B-4FA4-AED4-2DE3E30F5668" title="Each row in the DBA_STATEMENTS view represents a unique location of a SQL statement in the PL/SQL unit. This is equivalent to unique keys within a compilation unit.">Statements Location Unique Keys</a></p>
                           </li>
                           <li>
                              <p><a href="plscope.html#GUID-69BDA34C-8F80-4ECB-A83B-E268F1646923" title="Statements can act as a context for other statements or identifiers. Statements can also be in the context of other statements or identifiers.">About SQL Statement Usage Context</a></p>
                           </li>
                           <li>
                              <p><a href="plscope.html#GUID-2683886C-032F-4F96-8AD4-DFB007749EA2" title="Every SQL statement has a unique PL/Scope signature that identifies that instance of the statement in all the PL/SQL units.">About SQL Statements Signature</a></p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-4EA56F25-D73A-4346-AB9A-A62F334D6628__GUID-8D95BA0D-9421-4EF8-883A-E7AB1A23E7EA">
                           <p class="notep1">See Also:</p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=REFRN-GUID-36FF82A6-DD4B-45E4-8B46-2ECD38C2AE47" target="_blank"><span class="italic">Oracle Database Reference</span></a> for more information about the DBA_STATEMENTS view
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div class="sect4"><a id="GUID-BE0806E8-8EAE-4C85-B353-3BE4D635D21A" name="GUID-BE0806E8-8EAE-4C85-B353-3BE4D635D21A"></a><h5 id="ADFNS-GUID-BE0806E8-8EAE-4C85-B353-3BE4D635D21A" class="sect5">SQL Statement Types that PL/Scope Collects</h5>
                     <div>
                        <p>PL/Scope statement types represent the SQL statements used in PL/SQL.</p>
                        <p>SQL Statement types correspond to statements that can be used in PL/SQL to execute or otherwise interact with SQL. The statement type appear in the TYPE column of the DBA_STATEMENTS static data dictionary views family. </p>
                        <p> You must compile the PL/SQL units with the PLSCOPE_SETTINGS=STATEMENTS:ALL to collect this metadata.</p>
                        <div class="p" id="GUID-BE0806E8-8EAE-4C85-B353-3BE4D635D21A__SQLSTATEMENTTYPESTHATPLSCOPECOLLECT-1E98BFD3">SQL statement types that PL/Scope collects:
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>SELECT</p>
                              </li>
                              <li>
                                 <p>UPDATE</p>
                              </li>
                              <li>
                                 <p>INSERT</p>
                              </li>
                              <li>
                                 <p>DELETE</p>
                              </li>
                              <li>
                                 <p>MERGE</p>
                              </li>
                              <li>
                                 <p>EXECUTE IMMEDIATE</p>
                              </li>
                              <li>
                                 <p>SET TRANSACTION</p>
                              </li>
                              <li>
                                 <p>LOCK TABLE</p>
                              </li>
                              <li>
                                 <p>COMMIT</p>
                              </li>
                              <li>
                                 <p>SAVEPOINT</p>
                              </li>
                              <li>
                                 <p>ROLLBACK</p>
                              </li>
                              <li>
                                 <p>OPEN</p>
                              </li>
                              <li>
                                 <p>CLOSE</p>
                              </li>
                              <li>
                                 <p>FETCH</p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-B07F49CF-474B-4FA4-AED4-2DE3E30F5668" name="GUID-B07F49CF-474B-4FA4-AED4-2DE3E30F5668"></a><h5 id="ADFNS-GUID-B07F49CF-474B-4FA4-AED4-2DE3E30F5668" class="sect5">Statements Location Unique Keys</h5>
                     <div>
                        <p>Each row in the DBA_STATEMENTS view represents a unique location of a SQL statement in the PL/SQL unit. This is equivalent to unique keys within a compilation unit.</p>
                        <p>These following columns are used to determine the location of a statement in the PL/SQL code:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">OWNER, OBJECT_NAME, OBJECT_TYPE, LINE, COL</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">USAGE_ID</code></p>
                           </li>
                        </ul>
                        <p>The <code class="codeph">USAGE_ID</code> is uniquely defined within a PL/SQL unit. Unlike identifiers, SQL statements do not have different usages, such as <code class="codeph">DECLARATION</code>, <code class="codeph">ASSIGNMENT</code>, or <code class="codeph">REFERENCE</code>. All statements are considered an implicit<code class="codeph"> CALL</code> to the sql engine,&nbsp;therefore, the <code class="codeph">DBA_STATEMENTS</code> view does not have the <code class="codeph">USAGE</code> column, but it does use the <code class="codeph">USAGE_ID</code>.
                        </p>
                        <div class="example" id="GUID-B07F49CF-474B-4FA4-AED4-2DE3E30F5668__GUID-A89F62FA-0A14-40E2-931A-B26739725307">
                           <p class="titleinexample">Example 14-5 Using the USAGE_ID Column to Query SQL Identifiers and Statements</p><pre class="pre codeblock"><code>PROCEDURE p1 (p_cust_id   NUMBER, 
              p_cust_name OUT VARCHAR2) 
IS 
BEGIN 
    SELECT (SELECT CUST_FIRST_NAME 
            FROM   CUSTOMERS) 
    INTO   p_cust_name 
    FROM   CUSTOMERS 
    WHERE  CUSTOMER_ID = p_cust_id; 
END; 

SELECT USAGE_ID, TYPE, NAME, USAGE, LINE, COL 
FROM ( SELECT USAGE_ID, TYPE, NAME, USAGE, LINE, COL
       FROM ALL_IDENTIFIERS
       WHERE OBJECT_NAME = 'P1'
       UNION
       SELECT USAGE_ID, TYPE, 'SQL STATEMENT', " ", LINE, COL
       FROM ALL_STATEMENTS
       WHERE OBJECT_NAME = 'P1')
ORDER BY USAGE_ID;</code></pre><pre class="oac_no_warn" dir="ltr">USAGE_ID TYPE               NAME            USAGE        LINE   COL
---------- ------------------ --------------- ----------- ----- -----
         1 PROCEDURE          P1              DECLARATION     1    11
         2 PROCEDURE          P1              DEFINITION      1    11
         3 FORMAL IN          P_CUST_ID       DECLARATION     1    15
         4 NUMBER DATATYPE    NUMBER          REFERENCE       1    25
         5 FORMAL OUT         P_CUST_NAME     DECLARATION     1    33
         6 CHARACTER DATATYPE VARCHAR2        REFERENCE       1    49
         7 SQL STATEMENT      SELECT                          3     3
         8 TABLE              CUSTOMERS       REFERENCE       4    10
         9 FORMAL IN          P_CUST_ID       REFERENCE       4    38
        10 COLUMN             CUSTOMER_ID     REFERENCE       4    26
        11 FORMAL OUT         P_CUST_NAME     ASSIGNMENT      3    31
        12 COLUMN             CUST_FIRST_NAME REFERENCE       3    10</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-69BDA34C-8F80-4ECB-A83B-E268F1646923" name="GUID-69BDA34C-8F80-4ECB-A83B-E268F1646923"></a><h5 id="ADFNS-GUID-69BDA34C-8F80-4ECB-A83B-E268F1646923" class="sect5">About SQL Statement Usage Context</h5>
                     <div>
                        <p>Statements can act as a context for other statements or identifiers. Statements can also be in the context of other statements or identifiers.</p>
                        <p>The <code class="codeph">USAGE_CONTEXT_ID</code> column is used to determine the context of the statement. All identifiers appearing within a statement will be in the context of that statement.
                        </p>
                        <p>Expressions and nested subqueries are not supported as assignment sources.</p>
                        <div class="example" id="GUID-69BDA34C-8F80-4ECB-A83B-E268F1646923__GUID-F7953139-3090-43B2-99A1-66DA05AA7BB8">
                           <p class="titleinexample">Example 14-6 Using DBA_STATEMENTS USAGE_CONTEXT_ID to Query Identifiers</p>
                           <p>This example shows how to retrieve the identifiers in the context of the<code class="codeph"> SELECT</code> statement using the <code class="codeph">USAGE_CONTEXT_ID</code> column.
                           </p>
                           <div class="p"><pre class="pre codeblock"><code>PROCEDURE p1 (p_cust_id   NUMBER, 
              p_cust_name OUT VARCHAR2) 
IS 
BEGIN 
    SELECT (SELECT CUST_FIRST_NAME 
            FROM   CUSTOMERS) 
    INTO   p_cust_name 
    FROM   CUSTOMERS 
    WHERE  CUSTOMER_ID = p_cust_id; 
END; 

SELECT USAGE_ID, LPAD(' ', 2*(level-1)) || TO_CHAR(USAGE) || ' ' || NAME usages, LINE, COL
FROM ( SELECT OBJECT_NAME, USAGE, USAGE_ID, USAGE_CONTEXT_ID, NAME, LINE, COL
       FROM ALL_IDENTIFIERS
       WHERE OBJECT_NAME = 'P1'
       UNION
       SELECT OBJECT_NAME, TYPE usage, USAGE_ID, USAGE_CONTEXT_ID, 'Statement' name, LINE, COL 
       FROM ALL_STATEMENTS
       WHERE OBJECT_NAME = 'P1'
      )
      START WITH USAGE_CONTEXT_ID = 0 AND OBJECT_NAME = 'P1'
      CONNECT BY PRIOR USAGE_ID = USAGE_CONTEXT_ID AND OBJECT_NAME = 'P1';
</code></pre><pre class="oac_no_warn" dir="ltr">  USAGE_ID USAGES                                   LINE        COL
---------- ----------------------------------- ---------- ----------
          1 DECLARATION P1                              1         11
          2   DEFINITION P1                             1         11
          3     DECLARATION P_CUST_ID                   1         15
          4       REFERENCE NUMBER                      1         27
          5     DECLARATION P_CUST_NAME                 2         33
          6       REFERENCE VARCHAR2                    2         49
          7     SELECT STATEMENT                        5          5
          8       REFERENCE CUSTOMERS                   8         12
          9       REFERENCE P_CUST_ID                   9         26
         10       REFERENCE CUSTOMER_ID                 9         12
         11       REFERENCE CUSTOMERS                   6         20
         12       REFERENCE CUST_FIRST_NAME             5         20
         13       ASSIGNMENT P_CUST_NAME                7         12
</pre></div>
                        </div>
                        <!-- class="example" -->
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-2683886C-032F-4F96-8AD4-DFB007749EA2" name="GUID-2683886C-032F-4F96-8AD4-DFB007749EA2"></a><h5 id="ADFNS-GUID-2683886C-032F-4F96-8AD4-DFB007749EA2" class="sect5">About SQL Statements Signature</h5>
                     <div>
                        <p>Every SQL statement has a unique PL/Scope signature that identifies that instance of the statement in all the PL/SQL units.</p>
                        <p>The SQL statement signature distinguishes the call from a PL/SQL unit for the SQL with the same SQL_ID from another call from a different PL/SQL unit. </p>
                        <p>Nested subqueries are not individual SQL statements in ALL_STATEMENTS.</p>
                        <div class="example" id="GUID-2683886C-032F-4F96-8AD4-DFB007749EA2__GUID-F4B8A72C-4023-40EA-95AF-B0B2969A7FC2">
                           <p class="titleinexample">Example 14-7 Distinct SQL Signatures for the Same SQL Statement when Called from Different PL/SQL Units</p>
                           <p>This example shows two distinct signatures for the same SQL statement when it is called from PROCEDURE p1 and p2. You can observe the nested subquery is not assigned a distinct SQL_ID, therefore is not an individual SQL statements in ALL_STATEMENTS.</p>
                           <div class="p"><pre class="pre codeblock"><code>CREATE OR REPLACE PROCEDURE p1 (p_cust_id   NUMBER, 
                                p_cust_name OUT VARCHAR2) 
IS 
BEGIN 
    SELECT (SELECT CUST_FIRST_NAME 
            FROM   CUSTOMERS) 
    INTO   p_cust_name 
    FROM   CUSTOMERS 
    WHERE  CUSTOMER_ID = p_cust_id; 
END; 
/ 
CREATE OR REPLACE PROCEDURE P2 (p_cust_id   NUMBER, 
                                p_cust_name OUT VARCHAR2) 
IS 
BEGIN 
    SELECT (SELECT CUST_FIRST_NAME 
            FROM   CUSTOMERS) 
    INTO   p_cust_name 
    FROM   CUSTOMERS 
    WHERE  CUSTOMER_ID = p_cust_id; 
END; 
/ 

ACCEPT nam CHAR PROMPT "Enter OBJECT_NAME : "

SELECT * 
FROM   ALL_STATEMENTS
WHERE OBJECT_NAME = '&amp;&amp;nam'
ORDER BY LINE, COL;
</code></pre></div>
                           <div class="p">Select <code class="codeph">ALL_STATEMENTS</code> for P1 and P2 to observe the different SQL signatures for the same <code class="codeph">SQL_ID</code>.<pre class="oac_no_warn" dir="ltr">
new   3: WHERE OBJECT_NAME = 'P1'
OE
138835D3A2EBBA76A7A064E4DC14B466 SELECT
P1
PROCEDURE             7          5          5                2 c02b6yppqb46p NO  NO  NO  NO  NO  NO
YES SELECT (SELECT CUST_FIRST_NAME FROM CUSTOMERS) FROM CUSTOMERS WHERE CUSTOMER_ID   = :B1
SELECT (SELECT CUST_FIRST_NAME FROM CUSTOMERS) FROM CUSTOMERS WHERE CUSTOMER_ID      0


new   3: WHERE OBJECT_NAME = 'P2'
OE
E6A5E27E5E90997A169C5C25393FAB35 SELECT
P2
PROCEDURE             7          5          5                2 c02b6yppqb46p NO  NO  NO  NO  NO  NO
YES SELECT (SELECT CUST_FIRST_NAME FROM CUSTOMERS) FROM CUSTOMERS WHERE CUSTOMER_ID   = :B1
SELECT (SELECT CUST_FIRST_NAME FROM CUSTOMERS) FROM CUSTOMERS WHERE CUSTOMER_ID      0
</pre></div>
                        </div>
                        <!-- class="example" -->
                     </div>
                  </div>
               </div><a id="ADFNS408"></a><div class="props_rev_3"><a id="GUID-F1C70DA3-6166-41A2-89E1-215C7F994EBF" name="GUID-F1C70DA3-6166-41A2-89E1-215C7F994EBF"></a><h4 id="ADFNS-GUID-F1C70DA3-6166-41A2-89E1-215C7F994EBF" class="sect4">SQL Developer</h4>
                  <div>
                     <p>PL/Scope is a feature of SQL Developer. For information about using PL/Scope from SQL Developer, see SQL Developer online help</p>
                     <div class="infoboxnotealso" id="GUID-F1C70DA3-6166-41A2-89E1-215C7F994EBF__FORINFORMATIONABOUTUSINGPLSCOPEFROM-CAC295BD">
                        <p class="notep1">See Also:</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adfns&amp;id=RPTUG-GUID-464C045C-FBDF-417A-A20B-037D294B3BDA" target="_blank"><span class="italic">Oracle SQL Developer Users Guide</span></a></p>
                     </div>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-89EFC1F5-339A-4567-A360-8E2CFBE94046" name="GUID-89EFC1F5-339A-4567-A360-8E2CFBE94046"></a><h3 id="ADFNS-GUID-89EFC1F5-339A-4567-A360-8E2CFBE94046" class="sect3">Overview of Data Dictionary Views Useful to Manage PL/SQL Code</h3>
               <div>
                  <p>In addition to the PL/Scope data dictionary views, the following static dictionary views are most useful for PL/SQL programmers and are most often referenced in queries related to PL/SQL code management reports. This is not an exhaustive list of all static data dictionary views.</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-89EFC1F5-339A-4567-A360-8E2CFBE94046__GUID-44AB427A-B26F-4A69-931C-2F6798D4550F">Summary of the Data Dictionary Views Useful to Manage PL/SQL Code</p>
                     <div class="tblformal" id="GUID-89EFC1F5-339A-4567-A360-8E2CFBE94046__GUID-F6895B00-D3CC-4439-AEA8-CE487C7F689A">
                        <table cellpadding="4" cellspacing="0" class="Formal" title summary="List of static dictionary views most often used in queries related to PL/SQL code management reports" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="20%" id="d65520e3363">View Name</th>
                                 <th align="left" valign="bottom" width="20%" id="d65520e3365">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d65520e3369" headers="d65520e3363 ">ALL_ARGUMENTS</td>
                                 <td align="left" valign="top" width="20%" headers="d65520e3369 d65520e3365 ">Lists the arguments of the functions and procedures that are accessible to the current user</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d65520e3374" headers="d65520e3363 ">ALL_DEPENDENCIES</td>
                                 <td align="left" valign="top" width="20%" headers="d65520e3374 d65520e3365 ">Describes dependencies between procedures, packages, functions, package bodies, and triggers accessible to the current user</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d65520e3379" headers="d65520e3363 ">ALL_ERRORS</td>
                                 <td align="left" valign="top" width="20%" headers="d65520e3379 d65520e3365 ">Describes the current errors on the stored objects accessible to the current user</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d65520e3384" headers="d65520e3363 ">ALL_IDENTIFIERS</td>
                                 <td align="left" valign="top" width="20%" headers="d65520e3384 d65520e3365 ">Displays information about the identifiers in the stored objects accessible to the current user</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d65520e3389" headers="d65520e3363 ">USER_OBJECT_SIZE</td>
                                 <td align="left" valign="top" width="20%" headers="d65520e3389 d65520e3365 ">Describes the size, in bytes, of PL/SQL objects owned by the current user. Although this information is meant to be used by the compiler and runtime engine, you can use it to identify the large programs in your environment.</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d65520e3394" headers="d65520e3363 ">ALL_OBJECTS</td>
                                 <td align="left" valign="top" width="20%" headers="d65520e3394 d65520e3365 ">Describes all objects accessible to the current user</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d65520e3399" headers="d65520e3363 ">ALL_PLSQL_OBJECT_SETTINGS</td>
                                 <td align="left" valign="top" width="20%" headers="d65520e3399 d65520e3365 ">Displays information about the compiler settings for the stored objects accessible to the current user</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d65520e3404" headers="d65520e3363 ">ALL_PROCEDURES</td>
                                 <td align="left" valign="top" width="20%" headers="d65520e3404 d65520e3365 ">Describes all PL/SQL functions and procedures, along with associated properties, that are accessible to the current user</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d65520e3409" headers="d65520e3363 ">ALL_SEQUENCES</td>
                                 <td align="left" valign="top" width="20%" headers="d65520e3409 d65520e3365 ">Describes the sequences accessible to the current user</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d65520e3414" headers="d65520e3363 ">ALL_SOURCE</td>
                                 <td align="left" valign="top" width="20%" headers="d65520e3414 d65520e3365 ">Describes the text source of the stored objects accessible to the current user</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d65520e3419" headers="d65520e3363 ">ALL_STATEMENTS</td>
                                 <td align="left" valign="top" width="20%" headers="d65520e3419 d65520e3365 ">Describes all SQL statements in stored PL/SQL objects accessible to the user</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d65520e3425" headers="d65520e3363 ">ALL_STORED_SETTINGS</td>
                                 <td align="left" valign="top" width="20%" headers="d65520e3425 d65520e3365 ">Describes the persistent parameter settings for stored PL/SQL units for which the current user has execute privileges</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d65520e3430" headers="d65520e3363 ">ALL_SYNONYMS</td>
                                 <td align="left" valign="top" width="20%" headers="d65520e3430 d65520e3365 ">Describes the synonyms accessible to the current user</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d65520e3435" headers="d65520e3363 ">ALL_TAB_COLUMNS</td>
                                 <td align="left" valign="top" width="20%" headers="d65520e3435 d65520e3365 ">Describes the columns of the tables, views, and clusters accessible to the current user</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d65520e3440" headers="d65520e3363 ">ALL_TABLES</td>
                                 <td align="left" valign="top" width="20%" headers="d65520e3440 d65520e3365 ">Describes the relational tables accessible to the current user</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d65520e3445" headers="d65520e3363 ">ALL_TRIGGERS</td>
                                 <td align="left" valign="top" width="20%" headers="d65520e3445 d65520e3365 ">Describes the triggers on tables accessible to the current user</td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d65520e3450" headers="d65520e3363 ">ALL_VIEWS</td>
                                 <td align="left" valign="top" width="20%" headers="d65520e3450 d65520e3365 ">Describes the views accessible to the current user</td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADFNS02206"></a><div class="props_rev_3"><a id="GUID-1D07E448-0183-42B6-A4CA-9163F2784928" name="GUID-1D07E448-0183-42B6-A4CA-9163F2784928"></a><h3 id="ADFNS-GUID-1D07E448-0183-42B6-A4CA-9163F2784928" class="sect3">Sample PL/Scope Session</h3>
               <div>
                  <div class="section">
                     <p>In this sample session, assume that you are logged in as <code class="codeph">HR</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>Set the session parameter:</span><div><pre class="oac_no_warn" dir="ltr">ALTER SESSION SET PLSCOPE_SETTINGS='IDENTIFIERS:ALL';
</pre></div>
                     </li>
                     <li class="stepexpand"><span>Create this package:</span><div><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE PACKAGE pack1 AUTHID DEFINER IS
  TYPE r1 is RECORD (rf1 VARCHAR2(10));
  FUNCTION f1(fp1 NUMBER) RETURN NUMBER;
  PROCEDURE p1(pp1 VARCHAR2);
END PACK1;
/
CREATE OR REPLACE PACKAGE BODY pack1 IS
  FUNCTION f1(fp1 NUMBER) RETURN NUMBER IS
    a NUMBER := 10;
  BEGIN
    RETURN a;
  END f1;
  PROCEDURE p1(pp1 VARCHAR2) IS
    pr1 r1;
  BEGIN
    pr1.rf1 := pp1;
  END;
END pack1;
/
</pre></div>
                     </li>
                     <li class="stepexpand"><span>Verify that PL/Scope collected all identifiers for the package body:</span><div><pre class="oac_no_warn" dir="ltr">SELECT PLSCOPE_SETTINGS
FROM USER_PLSQL_OBJECT_SETTINGS
WHERE NAME='PACK1' AND TYPE='PACKAGE BODY'
</pre><p>Result:</p><pre class="oac_no_warn" dir="ltr">PLSCOPE_SETTINGS
------------------------------------------------------------------------
IDENTIFIERS:ALL
</pre></div>
                     </li>
                     <li class="stepexpand"><span>Display unique identifiers in <code class="codeph">HR</code> by querying for all <code class="codeph">DECLARATION</code> usages. For example, to see all unique identifiers with name like <code class="codeph">%1</code>, use these SQL*Plus formatting commands and this query:</span><div><pre class="oac_no_warn" dir="ltr">COLUMN NAME FORMAT A6
COLUMN SIGNATURE FORMAT A32
COLUMN TYPE FORMAT A9

SELECT NAME, SIGNATURE, TYPE
FROM USER_IDENTIFIERS
WHERE NAME LIKE '%1' AND USAGE='DECLARATION'
ORDER BY OBJECT_TYPE, USAGE_ID;
</pre><p>Result is similar to:</p><pre class="oac_no_warn" dir="ltr">NAME   SIGNATURE                        TYPE
------ -------------------------------- ---------
PACK1  41820FA4D5EF6BE707895178D0C5C4EF PACKAGE
R1     EEBB6849DEE31BC77BF186EBAE5D4E2D RECORD
RF1    41D70040337349634A7F547BC83517C7 VARIABLE
F1     D51E825FF334817C977174423E3D0765 FUNCTION
FP1    CAC3474C112DBEC67AB926978D9A16C1 FORMAL IN
P1     B7C0576BA4D00C33A65CC0C64CADAB89 PROCEDURE
PP1    6B74CF95A5B7377A735925DFAA280266 FORMAL IN
FP1    98EB63B8A4AFEB5EF94D50A20165D6CC FORMAL IN
PP1    62D8463A314BE1F996794723402278CF FORMAL IN
PR1    BDB1CB26C97562CCC20CD1F32D341D7C VARIABLE
 
10 rows selected.
</pre><p>The <code class="codeph">*_IDENTIFIERS</code> static data dictionary views display only basic type names; for example, the <code class="codeph">TYPE</code> of a local variable or record field is <code class="codeph">VARIABLE</code>. To determine the exact type of a <code class="codeph">VARIABLE</code>, you must use its <code class="codeph">USAGE_CONTEXT_ID</code>.
                           </p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>Find all local variables:</span><div><pre class="oac_no_warn" dir="ltr">COLUMN VARIABLE_NAME FORMAT A13
COLUMN CONTEXT_NAME FORMAT A12

SELECT a.NAME variable_name,
        b.NAME context_name,
        a.SIGNATURE
FROM USER_IDENTIFIERS a, USER_IDENTIFIERS b
WHERE a.USAGE_CONTEXT_ID = b.USAGE_ID
AND a.TYPE = 'VARIABLE'
AND a.USAGE = 'DECLARATION'
AND a.OBJECT_NAME = 'PACK1'
AND a.OBJECT_NAME = b.OBJECT_NAME
AND a.OBJECT_TYPE =  b.OBJECT_TYPE
AND (b.TYPE = 'FUNCTION' or b.TYPE = 'PROCEDURE')
ORDER BY a.OBJECT_TYPE, a.USAGE_ID;
</pre><p>Result is similar to:</p><pre class="oac_no_warn" dir="ltr">VARIABLE_NAME CONTEXT_NAME SIGNATURE
------------- ------------ --------------------------------
A             F1           1691C6B3C951FCAA2CBEEB47F85CF128
PR1           P1           BDB1CB26C97562CCC20CD1F32D341D7C
 
2 rows selected.
</pre></div>
                     </li>
                     <li class="stepexpand"><span>Find all usages performed on the local variable <code class="codeph">A</code>:</span><div><pre class="oac_no_warn" dir="ltr">COLUMN USAGE FORMAT A11
COLUMN USAGE_ID FORMAT 999
COLUMN OBJECT_NAME FORMAT A11
COLUMN OBJECT_TYPE FORMAT A12

SELECT USAGE, USAGE_ID, OBJECT_NAME, OBJECT_TYPE
FROM USER_IDENTIFIERS
WHERE SIGNATURE='1691C6B3C951FCAA2CBEEB47F85CF128'  -- signature of A
ORDER BY OBJECT_TYPE, USAGE_ID;
</pre><p>Result:</p><pre class="oac_no_warn" dir="ltr">USAGE       USAGE_ID OBJECT_NAME OBJECT_TYPE
----------- -------- ----------- ------------
DECLARATION        6 PACK1       PACKAGE BODY
ASSIGNMENT         8 PACK1       PACKAGE BODY
REFERENCE          9 PACK1       PACKAGE BODY
 
3 rows selected.
</pre><p>The usages performed on the local identifier <code class="codeph">A</code> are the identifier declaration (<code class="codeph">USAGE_ID</code> <code class="codeph">6</code>), an assignment (<code class="codeph">USAGE_ID</code> <code class="codeph">8</code>), and a reference (<code class="codeph">USAGE_ID</code> <code class="codeph">9</code>).
                           </p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>From the declaration of the local identifier <code class="codeph">A</code>, find its type:</span><div><pre class="oac_no_warn" dir="ltr">COLUMN NAME FORMAT A6
COLUMN TYPE FORMAT A15

SELECT a.NAME, a.TYPE
FROM USER_IDENTIFIERS a, USER_IDENTIFIERS b
WHERE a.USAGE = 'REFERENCE'
AND a.USAGE_CONTEXT_ID = b.USAGE_ID
AND b.USAGE = 'DECLARATION'
AND b.SIGNATURE = 'D51E825FF334817C977174423E3D0765'  -- signature of F1
AND a.OBJECT_TYPE = b.OBJECT_TYPE
AND a.OBJECT_NAME = b.OBJECT_NAME;
</pre><p>Result:</p><pre class="oac_no_warn" dir="ltr">NAME   TYPE
------ ---------------
NUMBER NUMBER DATATYPE
 
1 row selected.</pre></div>
                     </li>
                     <li class="stepexpand"><span>Find out where the assignment to local identifier <code class="codeph">A</code> occurred:</span><div><pre class="oac_no_warn" dir="ltr">SELECT LINE, COL, OBJECT_NAME, OBJECT_TYPE
FROM USER_IDENTIFIERS
WHERE SIGNATURE='1691C6B3C951FCAA2CBEEB47F85CF128'  -- signature of A
AND USAGE='ASSIGNMENT';
</pre><p>Result:</p><pre class="oac_no_warn" dir="ltr">      LINE        COL OBJECT_NAME OBJECT_TYPE
---------- ---------- ----------- ------------
         3          5 PACK1       PACKAGE BODY
 
1 row selected.</pre></div>
                     </li>
                  </ol>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='01719.process-architecture.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="This chapter discusses the processes in an Oracle database.">
      <meta name="description" content="This chapter discusses the processes in an Oracle database.">
      <title>Process Architecture</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database Concepts">
      <meta property="og:description" content="This chapter discusses the processes in an Oracle database.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database Concepts">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-concepts.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-09T07:47:16-08:00">
      <meta name="dcterms.title" content="Database Concepts">
      <meta name="dcterms.dateCopyrighted" content="1993, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96138-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="memory-architecture.html" title="Previous" type="text/html">
      <link rel="next" href="application-and-networking-architecture.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="CNCPT">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="memory-architecture.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="application-and-networking-architecture.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database Concepts</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="oracle-instance-architecture.html" property="item" typeof="WebPage"><span property="name">Oracle Instance Architecture</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Process Architecture</li>
            </ol>
            <a id="GUID-85D9852E-5BF1-4AC0-9E5A-49F0570DBD7A" name="GUID-85D9852E-5BF1-4AC0-9E5A-49F0570DBD7A"></a><a id="CNCPT008"></a>
            
            <h2 id="CNCPT-GUID-85D9852E-5BF1-4AC0-9E5A-49F0570DBD7A" class="sect2"><span class="enumeration_chapter">15 </span>Process Architecture
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This chapter discusses the processes in an Oracle database.</p>
               <p>This chapter contains the following sections:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="process-architecture.html#GUID-FB843ADE-8DDD-4F83-8EB9-D4B5E4B6B022" title="A process is a mechanism in an operating system that can run a series of steps.">Introduction to Processes</a></p>
                  </li>
                  <li>
                     <p><a href="process-architecture.html#GUID-6B71F47F-D097-42F0-BB71-1F5270F867E1" title="When a user runs an application such as a Pro*C program or SQL*Plus, the operating system creates a client process (sometimes called a user process) to run the user application. The client application has Oracle Database libraries linked into it that provide the APIs required to communicate with the database.">Overview of Client Processes</a></p>
                  </li>
                  <li>
                     <p><a href="process-architecture.html#GUID-310F28E9-793A-4816-87CB-FDB54AB68957" title="Oracle Database creates server processes to handle the requests of client processes connected to the instance. A client process always communicates with a database through a separate server process.">Overview of Server Processes</a></p>
                  </li>
                  <li>
                     <p><a href="process-architecture.html#GUID-D8AE1B78-69D5-4F0F-8BE3-C91AA2514F2D" title="Background processes are additional processes used by a multiprocess Oracle database. The background processes perform maintenance tasks required to operate the database and to maximize performance for multiple users.">Overview of Background Processes</a></p>
                  </li>
               </ul>
            </div><a id="CNCPT903"></a><a id="CNCPT901"></a><div class="props_rev_3"><a id="GUID-FB843ADE-8DDD-4F83-8EB9-D4B5E4B6B022" name="GUID-FB843ADE-8DDD-4F83-8EB9-D4B5E4B6B022"></a><h3 id="CNCPT-GUID-FB843ADE-8DDD-4F83-8EB9-D4B5E4B6B022" class="sect3">Introduction to Processes</h3>
               <div>
                  <p>A <span class="bold">process</span> is a mechanism in an operating system that can run a series of steps.
                  </p>
                  <p>The process execution architecture depends on the operating system. For example, on Windows an Oracle background process is a thread of execution within a process. On Linux and UNIX, an Oracle process is either an operating system process or a thread within an operating system process.</p>
                  <p>Processes run code modules. All connected Oracle Database users must run the following modules to access a <a href="glossary.html#GUID-CFB1A30E-76B6-44EA-839E-9E63C8DA31AC"><span class="xrefglossterm">database instance</span></a>:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Application or Oracle Database utility</p>
                        <p>A database user runs a database application, such as a <a href="glossary.html#GUID-FDCF892E-6AD5-4AC9-9D1D-A9C7D106D21D"><span class="xrefglossterm">precompiler</span></a> program or a database tool such as SQL*Plus, that issues SQL statements to a database. 
                        </p>
                     </li>
                     <li>
                        <p>Oracle database code</p>
                        <p>Each user has Oracle database code executing on his or her behalf that interprets and processes the application's SQL statements.</p>
                     </li>
                  </ul>
                  <p>A process normally runs in its own private memory area. Most processes can periodically write to an associated trace file.</p>
                  <div class="infoboxnotealso" id="GUID-FB843ADE-8DDD-4F83-8EB9-D4B5E4B6B022__GUID-52D7A87D-5712-4E2A-9D12-5E0C19DBC1C2">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="q">"<a href="oracle-database-instance.html#GUID-5206D90F-E288-4B60-83E9-F92A0C6E94AD" title="A trace file is a file that contains diagnostic data used to investigate problems. Also, trace files can provide guidance for tuning applications or an instance.">Trace Files</a>"</span></p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="concepts-for-database-administrators.html#GUID-FA659979-25B7-4611-AA8D-48B5404301FE" title="Oracle provides several tools for use in administering a database.">Tools for Database Administrators</a>"</span></p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="concepts-for-database-developers.html#GUID-D1C1BC1D-03C7-4A18-BB88-0D76F311DAF0" title="Oracle provides several tools for use in developing database applications. This section describes some commonly used development tools.">Tools for Database Developers</a>"</span></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="CNCPT89079"></a><a id="CNCPT1246"></a><div class="props_rev_3"><a id="GUID-B9B8BB8D-FB3D-46BC-AFBD-346A69BAB3EC" name="GUID-B9B8BB8D-FB3D-46BC-AFBD-346A69BAB3EC"></a><h4 id="CNCPT-GUID-B9B8BB8D-FB3D-46BC-AFBD-346A69BAB3EC" class="sect4">Types of Processes</h4>
                  <div>
                     <p>A database instance contains or interacts with multiple processes.</p>
                     <p>Processes are divided into the following types:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>A <a href="glossary.html#GUID-6F3BBCE8-F471-41E8-8C98-F4C62A85862B"><span class="xrefglossterm">client process</span></a> runs the application or Oracle tool code. 
                           </p>
                        </li>
                        <li>
                           <p>An <a href="glossary.html#GUID-DD083580-0AAF-4728-9186-BE1E319020DD"><span class="xrefglossterm">Oracle process</span></a> is a unit of execution that runs the Oracle database code. In the multithreaded architecture, an Oracle process can be an operating system process or a thread within an operating system process. Oracle processes include the following subtypes:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>A <a href="glossary.html#GUID-8EFE210D-EE23-42A9-B4F0-7EF79C9315EE"><span class="xrefglossterm">background process</span></a> starts with the database instance and perform maintenance tasks such as performing <a href="glossary.html#GUID-FFDBC27D-CE99-49C7-8BB9-C8C2D8D52801"><span class="xrefglossterm">instance recovery</span></a>, cleaning up processes, writing redo buffers to disk, and so on.
                                 </p>
                              </li>
                              <li>
                                 <p>A <a href="glossary.html#GUID-E660AC1C-B704-4DC1-A35A-DB49EFB34F4A"><span class="xrefglossterm">server process</span></a> performs work based on a client request. 
                                 </p>
                                 <p>For example, these processes parse SQL queries, place them in the <a href="glossary.html#GUID-64AFFF3A-C836-44F9-A25C-86CE4B9B16A8"><span class="xrefglossterm">shared pool</span></a>, create and execute a <a href="glossary.html#GUID-78BCF1CD-1865-4AEB-8F14-AFA4FF1981BF"><span class="xrefglossterm">query plan</span></a> for each <a href="glossary.html#GUID-CCF91C9F-A98A-498F-A84B-58A0FA16CD6E"><span class="xrefglossterm">query</span></a>, and read buffers from the <a href="glossary.html#GUID-7913177D-8183-4CC5-8F59-816FE66DA363"><span class="xrefglossterm">database buffer cache</span></a> or from disk.
                                 </p>
                                 <div class="infoboxnote" id="GUID-B9B8BB8D-FB3D-46BC-AFBD-346A69BAB3EC__GUID-5D832581-B0C2-4C4D-8CCB-72909319A8CF">
                                    <p class="notep1">Note:</p>
                                    <p>Server processes, and the process memory allocated in these processes, run in the database instance. The instance continues to function when server processes terminate.</p>
                                 </div>
                              </li>
                              <li>
                                 <p>A slave process performs additional tasks for a background or server process.</p>
                              </li>
                           </ul>
                        </li>
                     </ul>
                     <p>The process structure varies depending on the operating system and the choice of Oracle Database options. For example, you can configure the code for connected users for <a href="glossary.html#GUID-8B14C804-9D68-471C-A581-5AEE673A9FCD"><span class="xrefglossterm">dedicated server</span></a> or <a href="glossary.html#GUID-E94CE0E3-CC86-4F46-B8EF-54945F026326"><span class="xrefglossterm">shared server</span></a> connections. In a shared server architecture, each server process that runs database code can serve multiple client processes.
                     </p>
                     <p><a href="process-architecture.html#GUID-B9B8BB8D-FB3D-46BC-AFBD-346A69BAB3EC__BABHJDHD">Figure 15-1</a> shows a <a href="glossary.html#GUID-78C0E867-233A-4857-B9FE-A3852A9B7BDF"><span class="xrefglossterm">system global area (SGA)</span></a> and background processes using dedicated server connections. For each user connection, a client process runs the application. This client process that is different from the dedicated server process that runs the database code. Each client process is associated with its own server process, which has its own <a href="glossary.html#GUID-76021F69-AC7A-4D8D-A308-A7B8AC072EEF"><span class="xrefglossterm">program global area (PGA)</span></a>.
                     </p>
                     <div class="figure" id="GUID-B9B8BB8D-FB3D-46BC-AFBD-346A69BAB3EC__BABHJDHD">
                        <p class="titleinfigure">Figure 15-1 Oracle Processes and the SGA</p><img src="img/cncpt283.gif" alt="Description of Figure 15-1 follows" title="Description of Figure 15-1 follows" longdesc="img_text/cncpt283.html"><br><a href="img_text/cncpt283.html">Description of "Figure 15-1 Oracle Processes and the SGA"</a></div>
                     <!-- class="figure" -->
                     <div class="infoboxnotealso" id="GUID-B9B8BB8D-FB3D-46BC-AFBD-346A69BAB3EC__GUID-58699DF1-67D3-4467-9CA4-1C4231A12F58">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="application-and-networking-architecture.html#GUID-94AFB4A0-4979-4B48-A19A-0D9178771FB1" title="In a dedicated server architecture, the server process created on behalf of each client process is called a dedicated server process (or shadow process).">Dedicated Server Architecture</a>"</span> and <span class="q">"<a href="application-and-networking-architecture.html#GUID-F3281DD9-B210-463E-B572-173816D2B161" title="In a shared server architecture, a dispatcher directs multiple incoming network session requests to a pool of shared server processes">Shared Server Architecture</a>"</span></p>
                           </li>
                           <li>
                              <p>Your Oracle Database operating system-specific documentation for more details on configuration choices</p>
                           </li>
                           <li>
                              <p><a href="../refrn/V-PROCESS.html#REFRN30186" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> to learn about the <code class="codeph">V$PROCESS</code> view
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="CNCPT1245"></a><div class="props_rev_3"><a id="GUID-4B460E97-18A0-4F5A-A62F-9608FFD43664" name="GUID-4B460E97-18A0-4F5A-A62F-9608FFD43664"></a><h4 id="CNCPT-GUID-4B460E97-18A0-4F5A-A62F-9608FFD43664" class="sect4">Multiprocess and Multithreaded Oracle Database Systems</h4>
                  <div>
                     <p>Multiprocess Oracle Database (also called multiuser Oracle Database) uses several processes to run different parts of the Oracle Database code and additional Oracle processes for the userseither one process for each connected user or one or more processes shared by multiple users.</p>
                     <p>Most databases are multiuser because a primary advantage of a database is managing data needed by multiple users simultaneously. Each process in a database instance performs a specific job. By dividing the work of the database and applications into several processes, multiple users and applications can connect to an instance simultaneously while the system gives good performance.</p>
                     <p>In releases earlier than <span>Oracle Database 12c</span>, Oracle processes did not run as threads on UNIX and Linux systems. Starting in <span>Oracle Database 12c</span>, the <a href="glossary.html#GUID-A0106836-D69F-4157-A3D9-04842A99FDC8"><span class="xrefglossterm">multithreaded Oracle Database model</span></a> enables Oracle processes to execute as operating system threads in separate address spaces. When <span>Oracle Database 12c</span> is installed, the database runs in process mode. You must set the <code class="codeph">THREADED_EXECUTION</code> initialization parameter to <code class="codeph">TRUE</code> to run the database in threaded mode. In threaded mode, some background processes on UNIX and Linux run as processes (with each process containing one thread), whereas the remaining Oracle processes run as threads within processes.
                     </p>
                     <p>In a database running in threaded mode, PMON and DBW might run as operating system processes, whereas LGWR and CMON might run as threads within a single process. Two foreground processes and a parallel execution (PX) server process might run as threads in a second operating system process. A third operating system process might contain multiple foreground threads. Thus, "Oracle process" does not always mean "operating system process."</p>
                     <div class="infoboxnote" id="GUID-4B460E97-18A0-4F5A-A62F-9608FFD43664__GUID-2317ABBD-BA01-4044-B1AC-7F95649AEB8E">
                        <p class="notep1">Note:</p>When the <code class="codeph">THREADED_EXECUTION</code> initialization parameter is set to <code class="codeph">TRUE</code>, operating system authentication is not supported.
                     </div>
                     <div class="example" id="GUID-4B460E97-18A0-4F5A-A62F-9608FFD43664__GUID-5599E151-5CAD-40A5-BD57-C76FAE455853">
                        <p class="titleinexample">Example 15-1 Viewing Oracle Process Metadata</p>
                        <p>The <code class="codeph">V$PROCESS</code> view contains one row for each Oracle process connected to a database instance. For example, you can run the following query in SQL*Plus to get the operating system process ID and operating system thread ID for each process:
                        </p><pre class="pre codeblock"><code>COL SPID FORMAT a8
COL STID FORMAT a8
SELECT SPID, STID, PROGRAM FROM V$PROCESS ORDER BY SPID;
</code></pre><p>The query yields the following partial sample output:</p><pre class="pre codeblock"><code>SPID   STID   PROGRAM
-----  -----  ---------------------------
7190   7190   oracle@samplehost (PMON) 
7192   7192   oracle@samplehost (PSP0) 
7194   7194   oracle@samplehost (VKTM) 
7198   7198   oracle@samplehost (SCMN) 
7198   7200   oracle@samplehost (GEN0) 
7202   7202   oracle@samplehost (SCMN) 
7202   7204   oracle@samplehost (DIAG) 
7198   7205   oracle@samplehost (DBRM) 
7202   7206   oracle@samplehost (DIA0) 
.
.
.</code></pre><div class="infoboxnotealso" id="GUID-4B460E97-18A0-4F5A-A62F-9608FFD43664__GUID-25EA98F4-BF97-4B2A-839C-C884482C4DCF">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../tgdba/tuning-program-global-area.html#TGDBA477" target="_blank"><span><cite>Oracle Database Performance Tuning Guide</cite></span></a> to learn how to use the <code class="codeph">V$PROCESS</code> view
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../refrn/THREADED_EXECUTION.html#REFRN10335" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> to learn about the <code class="codeph">THREADED_EXECUTION</code> initialization parameter
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="CNCPT902"></a><div class="props_rev_3"><a id="GUID-6B71F47F-D097-42F0-BB71-1F5270F867E1" name="GUID-6B71F47F-D097-42F0-BB71-1F5270F867E1"></a><h3 id="CNCPT-GUID-6B71F47F-D097-42F0-BB71-1F5270F867E1" class="sect3">Overview of Client Processes</h3>
               <div>
                  <p>When a user runs an application such as a Pro*C program or SQL*Plus, the operating system creates a client process (sometimes called a <span class="italic">user process</span>) to run the user application. The client application has Oracle Database libraries linked into it that provide the APIs required to communicate with the database.
                  </p>
               </div><a id="CNCPT9836"></a><div class="props_rev_3"><a id="GUID-2FE492F0-76A1-4B4A-8E2D-ABE7EC671072" name="GUID-2FE492F0-76A1-4B4A-8E2D-ABE7EC671072"></a><h4 id="CNCPT-GUID-2FE492F0-76A1-4B4A-8E2D-ABE7EC671072" class="sect4">Client and Server Processes</h4>
                  <div>
                     <p>Client processes differ in important ways from the Oracle processes interacting directly with the instance.</p>
                     <p>The Oracle processes servicing the client process can read from and write to the SGA, whereas the client process cannot. A client process can run on a host other than the database host, whereas Oracle processes cannot.</p>
                     <p>For example, assume that a user on a client host starts SQL*Plus, and then connects over the network to database <code class="codeph">sample</code> on a different host when the database instance is not started:
                     </p><pre class="pre codeblock"><code>SQL&gt; CONNECT SYS@inst1 AS SYSDBA
Enter password: *********
Connected to an idle instance.
</code></pre><p>On the client host, a search of the processes for either <code class="codeph">sqlplus</code> or <code class="codeph">sample</code> shows only the <code class="codeph">sqlplus</code> client process:
                     </p><pre class="pre codeblock"><code>% ps -ef | grep -e sample -e sqlplus | grep -v grep
clientuser 29437 29436  0 15:40 pts/1    00:00:00 sqlplus           as sysdba
</code></pre><p>On the database host, a search of the processes for either <code class="codeph">sqlplus</code> or <code class="codeph">sample</code> shows a server process with a nonlocal connection, but no client process:
                     </p><pre class="pre codeblock"><code>% ps -ef | grep -e sample -e sqlplus | grep -v grep
serveruser 29441     1  0 15:40 ?        00:00:00 oraclesample (LOCAL=NO)</code></pre><div class="infoboxnotealso" id="GUID-2FE492F0-76A1-4B4A-8E2D-ABE7EC671072__GUID-CDE856A4-1C63-4F1B-9030-A887DC6E769B">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="oracle-database-instance.html#GUID-189ADDB5-1E71-4924-8371-F5B2EFB5B304" title="When Oracle Database starts an instance, it proceeds through stages.">How an Instance Is Started</a>"</span> to learn how a client can connect to a database when the instance is not started
                        </p>
                     </div>
                  </div>
               </div><a id="CNCPT89080"></a><a id="CNCPT89081"></a><a id="CNCPT89082"></a><a id="CNCPT89083"></a><a id="CNCPT1247"></a><div class="props_rev_3"><a id="GUID-3A11FF2F-50EE-4839-A1A6-F746DFF634AB" name="GUID-3A11FF2F-50EE-4839-A1A6-F746DFF634AB"></a><h4 id="CNCPT-GUID-3A11FF2F-50EE-4839-A1A6-F746DFF634AB" class="sect4">Connections and Sessions</h4>
                  <div>
                     <p>A database <span class="bold">connection</span> is a physical communication pathway between a client process and a database instance. 
                     </p>
                     <p>During a connection, a communication pathway is established using available interprocess communication mechanisms or network software. Typically, a connection occurs between a client process and a server process or dispatcher, but it can also occur between a client process and Oracle Connection Manager (CMAN).</p>
                     <p>A database <a href="glossary.html#GUID-0F44C072-9841-4E2E-B846-FB16A2E54139"><span class="xrefglossterm">session</span></a> is a logical entity in the database instance memory that represents the state of a current user login to a database. For example, when a user is authenticated by the database with a password, a session is established for this user. A session lasts from the time the user is authenticated by the database until the time the user disconnects or exits the database application.
                     </p>
                     <p>A single connection can have 0, 1, or more sessions established on it. The sessions are independent: a commit in one session does not affect transactions in other sessions.</p>
                     <div class="infoboxnote" id="GUID-3A11FF2F-50EE-4839-A1A6-F746DFF634AB__GUID-58E168A7-F4FE-4117-A02B-74B67BF24031">
                        <p class="notep1">Note:</p>
                        <p>If Oracle Net <a href="glossary.html#GUID-50E2A9E3-613B-460D-B815-E36205D4FB05"><span class="xrefglossterm">connection pooling</span></a> is configured, then it is possible for a connection to drop but leave the sessions intact.
                        </p>
                     </div>
                     <p>Multiple sessions can exist concurrently for a single database user. As shown in the following figure, user <code class="codeph">hr</code> can have multiple connections to a database. In dedicated server connections, the database creates a server process on behalf of each connection. Only the client process that causes the dedicated server to be created uses it. In a shared server connection, many client processes access a single shared server process.
                     </p>
                     <div class="figure" id="GUID-3A11FF2F-50EE-4839-A1A6-F746DFF634AB__BABDBIJC">
                        <p class="titleinfigure">Figure 15-2 One Session for Each Connection</p><img src="img/cncpt237.gif" alt="Description of Figure 15-2 follows" title="Description of Figure 15-2 follows" longdesc="img_text/cncpt237.html"><br><a href="img_text/cncpt237.html">Description of "Figure 15-2 One Session for Each Connection"</a></div>
                     <!-- class="figure" -->
                     <p><a href="process-architecture.html#GUID-3A11FF2F-50EE-4839-A1A6-F746DFF634AB__BABBCEEF">Figure 15-3</a> illustrates a case in which user <code class="codeph">hr</code> has a single connection to a database, but this connection has two sessions.
                     </p>
                     <div class="figure" id="GUID-3A11FF2F-50EE-4839-A1A6-F746DFF634AB__BABBCEEF">
                        <p class="titleinfigure">Figure 15-3 Two Sessions in One Connection</p><img src="img/cncpt238.gif" alt="Description of Figure 15-3 follows" title="Description of Figure 15-3 follows" longdesc="img_text/cncpt238.html"><br><a href="img_text/cncpt238.html">Description of "Figure 15-3 Two Sessions in One Connection"</a></div>
                     <!-- class="figure" -->
                     <p>Generating an autotrace report of SQL statement execution statistics re-creates the scenario in <a href="process-architecture.html#GUID-3A11FF2F-50EE-4839-A1A6-F746DFF634AB__BABBCEEF">Figure 15-3</a>. 
                     </p>
                     <p>The <code class="codeph">DISCONNECT</code> command in <a href="process-architecture.html#GUID-3A11FF2F-50EE-4839-A1A6-F746DFF634AB__BABGDIIB">Example 15-2</a> actually ends the <span class="italic">sessions</span>, not the connection. 
                     </p>
                     <div class="example" id="GUID-3A11FF2F-50EE-4839-A1A6-F746DFF634AB__BABGDIIB">
                        <p class="titleinexample">Example 15-2 Connections and Sessions</p>
                        <p>The following example connects SQL*Plus to the database as user <code class="codeph">SYSTEM</code> and enables tracing, thus creating a new session (sample output included):
                        </p><pre class="pre codeblock"><code>SQL&gt; SELECT SID, SERIAL#, PADDR FROM V$SESSION WHERE USERNAME = USER;

SID SERIAL# PADDR
--- ------- --------
 90      91 3BE2E41C
 
SQL&gt; SET AUTOTRACE ON STATISTICS;
SQL&gt; SELECT SID, SERIAL#, PADDR FROM V$SESSION WHERE USERNAME = USER;
 
SID SERIAL# PADDR
--- ------- --------
 88      93 3BE2E41C
 90      91 3BE2E41C
...
SQL&gt; DISCONNECT
</code></pre><p>The <code class="codeph">DISCONNECT</code> command actually ends the <span class="italic">sessions</span>, not the connection. Opening a new terminal and connecting to the instance as a different user, the following query shows that the connection with the address <code class="codeph">3BE2E41C</code> is still active.
                        </p><pre class="pre codeblock"><code>SQL&gt; CONNECT dba1@inst1
Password: ********
Connected.
SQL&gt; SELECT PROGRAM FROM V$PROCESS WHERE ADDR = HEXTORAW('3BE2E41C');

PROGRAM
------------------------------------------------
oracle@stbcs09-1 (TNS V1-V3)</code></pre><div class="infoboxnotealso" id="GUID-3A11FF2F-50EE-4839-A1A6-F746DFF634AB__GUID-1073DD9E-2641-4C52-869E-15BD4D0F2B73">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="application-and-networking-architecture.html#GUID-F3281DD9-B210-463E-B572-173816D2B161" title="In a shared server architecture, a dispatcher directs multiple incoming network session requests to a pool of shared server processes">Shared Server Architecture</a>"</span></p>
                        </div>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div><a id="CNCPT89228"></a><div class="props_rev_3"><a id="GUID-251AC080-BD5C-415E-8549-B67F8653AD40" name="GUID-251AC080-BD5C-415E-8549-B67F8653AD40"></a><h4 id="CNCPT-GUID-251AC080-BD5C-415E-8549-B67F8653AD40" class="sect4">Database Operations</h4>
                  <div>
                     <p>In the context of database monitoring, a <span class="bold">database operation</span> is session activity between two points in time, as defined by the end users or application code.
                     </p>
                     <p>A <span class="bold">simple database operation</span> is either a single SQL statement, or a single PL/SQL procedure or function. A <span class="bold">composite database operation</span> is a set of single or composite operations.
                     </p>
                     <p>To monitor, compare, and tune tasks, you can divide a large set of tasks into database operations, and subdivide operations into phases. A use case is a PL/SQL batch job that is running slower than normal. By configuring the job as a database operation, you can identify and tune the expensive steps in the job.</p>
                     <p>Each execution of a database operation is uniquely identified by a pair of attributes: operation name and execution ID. One session can start or stop a database operation in a different session by specifying its session ID and serial number.</p>
                     <p>Two occurrences of the same database operation can execute at the same time using the same name but different execution IDs. Each execution of a database operation with the same name can contain different statements. </p>
                     <p>You create and manage database operations with the <code class="codeph">DBMS_SQL_MONITOR</code> PL/SQL package. You can monitor operations using <code class="codeph">V$SQL_MONITOR</code>, <code class="codeph">V$SQL_PLAN_MONITOR</code>, and <code class="codeph">V$SQL_MONITOR_SESSTAT</code>.
                     </p>
                     <div class="infoboxnotealso" id="GUID-251AC080-BD5C-415E-8549-B67F8653AD40__GUID-4F7A0F2D-F46F-44D9-BC28-0587311B52A7">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../tgsql/monitoring-database-operations.html#TGSQL789" target="_blank"><span><cite>Oracle Database SQL Tuning Guide</cite></span></a> to learn how to monitor database operations
                              </p>
                           </li>
                           <li>
                              <p><a href="../dwhsg/index.html" target="_blank"><span><cite>Oracle Database Data Warehousing Guide</cite></span></a> to learn how to monitor long-running loads
                              </p>
                           </li>
                           <li>
                              <p><a href="../arpls/DBMS_SQL_MONITOR.html#ARPLS-GUID-13874A73-369E-42CD-9C43-A12F1B3BDEC6" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> to learn more about <code class="codeph">DBMS_SQL_MONITOR</code></p>
                           </li>
                           <li>
                              <p><a href="../refrn/V-SQL_MONITOR.html#GUID-79E97A84-9C27-4A5E-AC0D-C12CB3E748E6" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> to learn more about <code class="codeph">V$SQL_MONITOR</code></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="CNCPT1248"></a><div class="props_rev_3"><a id="GUID-310F28E9-793A-4816-87CB-FDB54AB68957" name="GUID-310F28E9-793A-4816-87CB-FDB54AB68957"></a><h3 id="CNCPT-GUID-310F28E9-793A-4816-87CB-FDB54AB68957" class="sect3">Overview of Server Processes</h3>
               <div>
                  <p>Oracle Database creates server processes to handle the requests of client processes connected to the instance. A client process always communicates with a database through a separate server process.</p>
                  <p>Server processes created on behalf of a database application can perform one or more of the following tasks: </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Parse and run SQL statements issued through the application, including creating and executing the <a href="glossary.html#GUID-78BCF1CD-1865-4AEB-8F14-AFA4FF1981BF"><span class="xrefglossterm">query plan</span></a></p>
                     </li>
                     <li>
                        <p>Execute PL/SQL code</p>
                     </li>
                     <li>
                        <p>Read data blocks from data files into the database buffer cache (the DBW background process has the task of writing modified blocks back to disk)</p>
                     </li>
                     <li>
                        <p>Return results in such a way that the application can process the information </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-310F28E9-793A-4816-87CB-FDB54AB68957__GUID-73D21F6F-4949-4E28-875A-FF3E5DDF2C4F">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="sql.html#GUID-1B95E60C-99C5-446D-9C6B-5D16EFE59ACF" title="The general stages of SQL processing are parsing, optimization, row source generation, and execution. Depending on the statement, the database may omit some of these steps.">Stages of SQL Processing</a>"</span></p>
                  </div>
               </div><a id="CNCPT9838"></a><div class="props_rev_3"><a id="GUID-8EB10017-7930-45CE-8012-2E1DE8DC4EB2" name="GUID-8EB10017-7930-45CE-8012-2E1DE8DC4EB2"></a><h4 id="CNCPT-GUID-8EB10017-7930-45CE-8012-2E1DE8DC4EB2" class="sect4">Dedicated Server Processes</h4>
                  <div>
                     <p>In dedicated server connections, the client connection is associated with one and only one server process.</p>
                     <p>On Linux, 20 client processes connected to a database instance are serviced by 20 server processes. Each client process communicates directly with its server process. This server process is dedicated to its client process for the duration of the session. The server process stores process-specific information and the UGA in its PGA.</p>
                     <div class="infoboxnotealso" id="GUID-8EB10017-7930-45CE-8012-2E1DE8DC4EB2__GUID-86C47065-5FBF-4940-A679-7504F1340115">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="application-and-networking-architecture.html#GUID-94AFB4A0-4979-4B48-A19A-0D9178771FB1" title="In a dedicated server architecture, the server process created on behalf of each client process is called a dedicated server process (or shadow process).">Dedicated Server Architecture</a>"</span></p>
                           </li>
                           <li>
                              <p> <span class="q">"<a href="memory-architecture.html#GUID-26FCB7D9-7B1D-4F5A-88AA-1DB1E0ACD2BE" title="PGA memory allocation depends on whether the database uses dedicated or shared server connections.">PGA Usage in Dedicated and Shared Server Modes</a>"</span></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="CNCPT9839"></a><div class="props_rev_3"><a id="GUID-A4FA88C6-8447-4636-911C-5864E0DC8572" name="GUID-A4FA88C6-8447-4636-911C-5864E0DC8572"></a><h4 id="CNCPT-GUID-A4FA88C6-8447-4636-911C-5864E0DC8572" class="sect4">Shared Server Processes</h4>
                  <div>
                     <p>In shared server connections, client applications connect over a network to a <span class="bold">dispatcher process</span>, not a server process. For example, 20 client processes can connect to a single dispatcher process.
                     </p>
                     <p>The dispatcher process receives requests from connected clients and puts them into a request queue in the large pool. The first available shared server process takes the request from the queue and processes it. Afterward, the shared server places the result into the dispatcher response queue. The dispatcher process monitors this queue and transmits the result to the client.</p>
                     <p>Like a dedicated server process, a shared server process has its own PGA. However, the UGA for a session is in the SGA so that any shared server can access session data.</p>
                     <div class="infoboxnotealso" id="GUID-A4FA88C6-8447-4636-911C-5864E0DC8572__GUID-E0BC680F-27E9-4DA9-8C4A-D99D1A4955A6">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="application-and-networking-architecture.html#GUID-F3281DD9-B210-463E-B572-173816D2B161" title="In a shared server architecture, a dispatcher directs multiple incoming network session requests to a pool of shared server processes">Shared Server Architecture</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="memory-architecture.html#GUID-1ECB5213-AC4E-4BB4-9113-91C761676B34" title="The large pool is an optional memory area intended for memory allocations that are larger than is appropriate for the shared pool.">Large Pool</a>"</span></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-13FE4098-61DF-4D76-882D-551A88E0EBB8" name="GUID-13FE4098-61DF-4D76-882D-551A88E0EBB8"></a><h4 id="CNCPT-GUID-13FE4098-61DF-4D76-882D-551A88E0EBB8" class="sect4">How Oracle Database Creates Server Processes</h4>
                  <div>
                     <p>The database creates server processes in various ways, depending on the connection methods.</p>
                     <p> The connection methods are as follows:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Bequeath</p>
                           <p>SQL*Plus, an OCI client, or another client application directly spawns the server process.</p>
                        </li>
                        <li>
                           <p>Oracle Net listener</p>
                           <p>The client application connects to the database through a listener.</p>
                        </li>
                        <li>
                           <p>Dedicated broker</p>
                           <p>This is a database process that creates foreground processes. Unlike the listener, the broker resides within the database instance. When using a dedicated broker, the client connects to the listener, which then hands off the connection to the dedicated broker.</p>
                        </li>
                     </ul>
                     <p>When a connection does <span class="italic">not</span> use bequeath, the database creates the server process as follows:
                     </p>
                     <ol>
                        <li>
                           <p>The client application requests a new connection from the listener or broker.</p>
                        </li>
                        <li>
                           <p>The listener or broker initiates the creation of a new process or thread.</p>
                        </li>
                        <li>
                           <p>The operating system creates the new process or thread.</p>
                        </li>
                        <li>
                           <p>Oracle Database initializes various components and notifications.</p>
                        </li>
                        <li>
                           <p>The database hands over the connection and connection-specific code.</p>
                        </li>
                     </ol>
                     <p>Optionally, if you use of the dedicated broker connection method, then you can pre-create a pool of server processes with the <code class="codeph">DBMS_PROCESS</code> package. In this case, the Process Manager (PMAN) background process monitors the pool of pre-created processes, which wait to be associated with a client request. When a connection requires a server process, the database skips Steps 2-4 of process creation and performs only Step 5. This optimization improves performance.
                     </p>
                     <div class="infoboxnote" id="GUID-13FE4098-61DF-4D76-882D-551A88E0EBB8__GUID-5CBF0F66-14C6-4D93-83B5-CF1AAE943978">
                        <p class="notep1">Note:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../refrn/background-processes.html#REFRN104" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> to learn about the <code class="codeph">DBMS_PROCESS</code> PL/SQL package
                              </p>
                           </li>
                           <li>
                              <p><a href="../refrn/background-processes.html#REFRN104" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> to learn about the PMAN background process
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="CNCPT1249"></a><div class="props_rev_3"><a id="GUID-D8AE1B78-69D5-4F0F-8BE3-C91AA2514F2D" name="GUID-D8AE1B78-69D5-4F0F-8BE3-C91AA2514F2D"></a><h3 id="CNCPT-GUID-D8AE1B78-69D5-4F0F-8BE3-C91AA2514F2D" class="sect3">Overview of Background Processes</h3>
               <div>
                  <p>Background processes are additional processes used by a multiprocess Oracle database. The background processes perform maintenance tasks required to operate the database and to maximize performance for multiple users.</p>
                  <p>Each background process has a separate task, but works with the other processes. For example, the LGWR process writes data from the <a href="glossary.html#GUID-BADF3CFF-08C6-42E8-A05E-DEB83502572A"><span class="xrefglossterm">redo log buffer</span></a> to the <a href="glossary.html#GUID-2A8BC112-AB70-4B06-9F85-FE975861CEE0"><span class="xrefglossterm">online redo log</span></a>. When a filled redo log file is ready to be archived, LGWR signals another process to archive the redo log file.
                  </p>
                  <p>Oracle Database creates background processes automatically when a database instance starts. An instance can have many background processes, not all of which always exist in every database configuration. The following query lists the background processes running on your database:</p><pre class="oac_no_warn" dir="ltr">SELECT PNAME 
FROM   V$PROCESS 
WHERE  PNAME IS NOT NULL 
ORDER BY PNAME;
</pre><p>This section includes the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="process-architecture.html#GUID-2E691FEA-9027-47E4-A3D0-1B235BBA295A" title="Mandatory background processes are present in all typical database configurations.">Mandatory Background Processes</a></p>
                     </li>
                     <li>
                        <p><a href="process-architecture.html#GUID-028BA4D6-F9BC-4F36-AD98-0FE3A191ED02" title="An optional background process is any background process not defined as mandatory.">Optional Background Processes</a></p>
                     </li>
                     <li>
                        <p><a href="process-architecture.html#GUID-BD43E5D1-82C1-4997-8461-7CBBAFC7ED49" title="Slave processes are background processes that perform work on behalf of other processes.">Slave Processes</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-D8AE1B78-69D5-4F0F-8BE3-C91AA2514F2D__GUID-58621A25-4C0B-4F2A-B303-E78B80BED83B">
                     <p class="notep1">See Also:</p>
                     <p><a href="../refrn/background-processes.html#REFRN104" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> for descriptions of all the background processes
                     </p>
                  </div>
               </div><a id="CNCPT9840"></a><div class="props_rev_3"><a id="GUID-2E691FEA-9027-47E4-A3D0-1B235BBA295A" name="GUID-2E691FEA-9027-47E4-A3D0-1B235BBA295A"></a><h4 id="CNCPT-GUID-2E691FEA-9027-47E4-A3D0-1B235BBA295A" class="sect4">Mandatory Background Processes</h4>
                  <div>
                     <p>Mandatory background processes are present in all typical database configurations. </p>
                     <p>These processes run by default in a read/write database instance started with a minimally configured initialization parameter file. A read-only database instance disables some of these processes.</p>
                     <p>This section describes the following mandatory background processes:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="process-architecture.html#GUID-B5CA9579-53DB-442C-A85F-F21FD334833A" title="The PMON group includes PMON, Cleanup Main Process (CLMN), and Cleanup Helper Processes (CLnn). These processes are responsible for the monitoring and cleanup of other processes.">Process Monitor Process (PMON) Group</a></p>
                        </li>
                        <li>
                           <p><a href="process-architecture.html#GUID-CFD15DE0-4CB6-4D22-BDA3-5EA48C9DC6A2" title="Process Manager (PMAN) oversees several background processes including shared servers, pooled servers, and job queue processes.">Process Manager (PMAN)</a></p>
                        </li>
                        <li>
                           <p><a href="process-architecture.html#GUID-9641E79F-7A45-4AB6-9A89-BF7D4C25269A" title="The listener registration process (LREG) registers information about the database instance and dispatcher processes with the Oracle Net Listener.">Listener Registration Process (LREG)</a></p>
                        </li>
                        <li>
                           <p><a href="process-architecture.html#GUID-21393D94-CA2D-4551-BD20-28BEFDC98631" title="The system monitor process (SMON) is in charge of a variety of system-level cleanup duties.">System Monitor Process (SMON)</a></p>
                        </li>
                        <li>
                           <p><a href="process-architecture.html#GUID-DC9CBDED-3978-450A-9D7A-0A94CE8FF233" title="The database writer process (DBW) writes the contents of database buffers to data files. DBW processes write modified buffers in the database buffer cache to disk.">Database Writer Process (DBW)</a></p>
                        </li>
                        <li>
                           <p><a href="process-architecture.html#GUID-B6BE2C31-1543-4504-9763-6FFBBF99DC85" title="The log writer process (LGWR) manages the online redo log buffer.">Log Writer Process (LGWR)</a></p>
                        </li>
                        <li>
                           <p><a href="process-architecture.html#GUID-D3174B3E-BCCA-473F-961E-84A36FD5C372" title="The checkpoint process (CKPT) updates the control file and data file headers with checkpoint information and signals DBW to write blocks to disk. Checkpoint information includes the checkpoint position, SCN, and location in online redo log to begin recovery.">Checkpoint Process (CKPT)</a></p>
                        </li>
                        <li>
                           <p><a href="process-architecture.html#GUID-D175CA2B-20FE-4D5D-9A89-5CAA279479EC" title="The manageability monitor process (MMON) performs many tasks related to the Automatic Workload Repository (AWR).">Manageability Monitor Processes (MMON and MMNL)</a></p>
                        </li>
                        <li>
                           <p><a href="process-architecture.html#GUID-9FF900D1-7DB8-4D41-8D34-8E99AF650CEC" title="In a distributed database, the recoverer process (RECO) automatically resolves failures in distributed transactions.">Recoverer Process (RECO)</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-2E691FEA-9027-47E4-A3D0-1B235BBA295A__GUID-DCAC8F55-0364-4765-AA4D-82C222331C6E">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="oracle-database-instance.html#GUID-04EF1A27-8001-46D8-9516-69C9DC9A81BF" title="Every database instance is either read/write or read-only.">Read/Write and Read-Only Instances</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="../refrn/background-processes.html#REFRN104" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> for descriptions of other mandatory processes, including MMAN, DIAG, VKTM, DBRM, and PSP0
                              </p>
                           </li>
                           <li>
                              <p><a href="../racad/introduction-to-oracle-rac.html#RACAD7275" target="_blank"><span><cite>Oracle Real Application Clusters Administration and Deployment Guide</cite></span></a> and <a href="../cwadd/introduction-to-oracle-clusterware.html#CWADD90953" target="_blank"><span><cite>Oracle Clusterware Administration and Deployment Guide</cite></span></a> for more information about background processes specific to Oracle RAC and Oracle Clusterware
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="CNCPT1254"></a><div class="props_rev_3"><a id="GUID-B5CA9579-53DB-442C-A85F-F21FD334833A" name="GUID-B5CA9579-53DB-442C-A85F-F21FD334833A"></a><h5 id="CNCPT-GUID-B5CA9579-53DB-442C-A85F-F21FD334833A" class="sect5">Process Monitor Process (PMON) Group</h5>
                     <div>
                        <p>The <span class="bold">PMON group</span> includes PMON, Cleanup Main Process (CLMN), and Cleanup Helper Processes (CL<span class="italic">nn</span>). These processes are responsible for the monitoring and cleanup of other processes.
                        </p>
                        <p>The PMON group oversees cleanup of the buffer cache and the release of resources used by a client process. For example, the PMON group is responsible for resetting the status of the active transaction table, releasing locks that are no longer required, and removing the process ID of terminated processes from the list of active processes. </p>
                        <p>The database must ensure that resources held by terminated processes are released so they are usable by other processes. Otherwise, process may end up blocked or stuck in contention.</p>
                     </div>
                     <div class="sect5"><a id="GUID-68866F5E-5671-4778-8079-83056F58C53B" name="GUID-68866F5E-5671-4778-8079-83056F58C53B"></a><h6 id="CNCPT-GUID-68866F5E-5671-4778-8079-83056F58C53B" class="sect6">Process Monitor Process (PMON)</h6>
                        <p>The <span class="bold">process monitor (PMON)</span> detects the termination of other background processes. If a server or dispatcher process terminates abnormally, then the PMON group is responsible for performing process recovery. Process termination can have multiple causes, including operating system kill commands or <code class="codeph">ALTER SYSTEM KILL SESSION</code> statements.
                        </p>
                     </div>
                     <div class="sect5"><a id="GUID-91C24E10-0B28-4415-A53F-3FA4B4373DB1" name="GUID-91C24E10-0B28-4415-A53F-3FA4B4373DB1"></a><h6 id="CNCPT-GUID-91C24E10-0B28-4415-A53F-3FA4B4373DB1" class="sect6">Cleanup Main Process (CLMN)</h6>
                        <div>
                           <p>PMON delegates cleanup work to the cleanup main process (CLMN). The task of detecting abnormal termination remains with PMON.</p>
                           <p>CLMN periodically performs cleanup of terminated processes, terminated sessions, transactions, network connections, idle sessions, detached transactions, and detached network connections that have exceeded their idle timeout. </p>
                        </div>
                     </div>
                     <div class="sect5"><a id="GUID-A6CB6578-5661-4B1E-97ED-4C44D41CA0DB" name="GUID-A6CB6578-5661-4B1E-97ED-4C44D41CA0DB"></a><h6 id="CNCPT-GUID-A6CB6578-5661-4B1E-97ED-4C44D41CA0DB" class="sect6">Cleanup Helper Processes (CLnn)</h6>
                        <div>
                           <p> CLMN delegates cleanup work to the CL<span class="italic">nn</span> helper processes.
                           </p>
                           <p>The CL<span class="italic">nn</span> processes assist in the cleanup of terminated processes and sessions. The number of helper processes is proportional to the amount of cleanup work to be done and the current efficiency of cleanup.
                           </p>
                           <p>A cleanup process can become blocked, which prevents it from proceeding to clean up other processes. Also, if multiple processes require cleanup, then cleanup time can be significant. For these reasons, Oracle Database can use multiple helper processes in parallel to perform cleanup, thus alleviating slow performance.</p>
                           <p>The <code class="codeph">V$CLEANUP_PROCESS</code> and <code class="codeph">V$DEAD_CLEANUP</code> views contain metadata about CLMN cleanup. The <code class="codeph">V$CLEANUP_PROCESS</code> view contains one row for every cleanup process. For example, if <code class="codeph">V$CLEANUP_PROCESS.STATE</code> is <code class="codeph">BUSY</code>, then the process is currently engaged in cleanup.
                           </p>
                           <div class="infoboxnotealso" id="GUID-A6CB6578-5661-4B1E-97ED-4C44D41CA0DB__GUID-63B36016-580C-4E9D-BFC3-0B1D59D279D9">
                              <p class="notep1">See Also:</p>
                              <p><a href="../refrn/V-CLEANUP_PROCESS.html#REFRN-GUID-B219D499-E80A-4FE5-8562-21CB7FD2AF69" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> to learn more about <code class="codeph">V$CLEANUP_PROCESS</code></p>
                           </div>
                        </div>
                     </div>
                     <div class="sect5"><a id="GUID-9DF16592-8B68-4C68-A46B-48DDF2614705" name="GUID-9DF16592-8B68-4C68-A46B-48DDF2614705"></a><h6 id="CNCPT-GUID-9DF16592-8B68-4C68-A46B-48DDF2614705" class="sect6">Database Resource Quarantine</h6>
                        <div>
                           <p>If a process or session terminates, then the PMON group releases the held resources to the database. In some cases, the PMON group can automatically quarantine corrupted, unrecoverable resources so that the database instance is not immediately forced to terminate.</p>
                           <p>The PMON group continues to perform as much cleanup as possible on the process or session that was holding the quarantined resource. The <code class="codeph">V$QUARANTINE</code> view contains metadata such as the type of resource, amount of memory consumed, Oracle error causing the quarantine, and so on.
                           </p>
                           <div class="infoboxnotealso" id="GUID-9DF16592-8B68-4C68-A46B-48DDF2614705__GUID-CE18EDDD-2696-4428-8D7A-CD8554386D7B">
                              <p class="notep1">See Also:</p>
                              <p><a href="../refrn/V-QUARANTINE.html#REFRN-GUID-2686217E-C55A-4E10-8C1F-2B3E00D8FBCA" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> to learn more about <code class="codeph">V$QUARANTINE</code></p>
                           </div>
                        </div>
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-CFD15DE0-4CB6-4D22-BDA3-5EA48C9DC6A2" name="GUID-CFD15DE0-4CB6-4D22-BDA3-5EA48C9DC6A2"></a><h5 id="CNCPT-GUID-CFD15DE0-4CB6-4D22-BDA3-5EA48C9DC6A2" class="sect5">Process Manager (PMAN)</h5>
                     <div>
                        <p><span class="bold">Process Manager (PMAN)</span> oversees several background processes including shared servers, pooled servers, and job queue processes.
                        </p>
                        <p>PMAN monitors, spawns, and stops the following types of processes:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Dispatcher and shared server processes</p>
                           </li>
                           <li>
                              <p>Connection broker and pooled server processes for database resident connection pools</p>
                           </li>
                           <li>
                              <p>Job queue processes</p>
                           </li>
                           <li>
                              <p>Restartable background processes</p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="CNCPT89329"></a><div class="props_rev_3"><a id="GUID-9641E79F-7A45-4AB6-9A89-BF7D4C25269A" name="GUID-9641E79F-7A45-4AB6-9A89-BF7D4C25269A"></a><h5 id="CNCPT-GUID-9641E79F-7A45-4AB6-9A89-BF7D4C25269A" class="sect5">Listener Registration Process (LREG)</h5>
                     <div>
                        <p>The <strong class="term">listener registration process (LREG)</strong> registers information about the database instance and dispatcher processes with the Oracle Net Listener. 
                        </p>
                        <p>When an instance starts, LREG polls the listener to determine whether it is running. If the listener is running, then LREG passes it relevant parameters. If it is not running, then LREG periodically attempts to contact it.</p>
                        <div class="infoboxnote" id="GUID-9641E79F-7A45-4AB6-9A89-BF7D4C25269A__GUID-A004EB19-9A80-44F6-9146-8F0397915DA1">
                           <p class="notep1">Note:</p>
                           <p>In releases before <span>Oracle Database 12c</span>, PMON performed the listener registration.
                           </p>
                        </div>
                        <div class="infoboxnotealso" id="GUID-9641E79F-7A45-4AB6-9A89-BF7D4C25269A__GUID-F38340BA-1B48-4B14-AE30-6C23D1F0F419">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="application-and-networking-architecture.html#GUID-D6E2465E-E8E6-4B95-95D3-B9581E264ED1" title="The Oracle Net Listener (the listener) is a server-side process that listens for incoming client connection requests and manages traffic to the database. When a database instance starts, and at various times during its life, the instance contacts a listener and establishes a communication pathway to this instance.">The Oracle Net Listener</a>"</span></p>
                        </div>
                     </div>
                  </div><a id="CNCPT1253"></a><div class="props_rev_3"><a id="GUID-21393D94-CA2D-4551-BD20-28BEFDC98631" name="GUID-21393D94-CA2D-4551-BD20-28BEFDC98631"></a><h5 id="CNCPT-GUID-21393D94-CA2D-4551-BD20-28BEFDC98631" class="sect5">System Monitor Process (SMON)</h5>
                     <div>
                        <p>The <span class="bold">system monitor process (SMON)</span> is in charge of a variety of system-level cleanup duties. 
                        </p>
                        <p>Duties assigned to SMON include:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Performing instance recovery, if necessary, at instance startup. In an Oracle RAC database, the SMON process of one database instance can perform instance recovery for a failed instance.</p>
                           </li>
                           <li>
                              <p>Recovering terminated transactions that were skipped during instance recovery because of file-read or tablespace offline errors. SMON recovers the transactions when the tablespace or file is brought back online.</p>
                           </li>
                           <li>
                              <p>Cleaning up unused temporary segments. For example, Oracle Database allocates extents when creating an index. If the operation fails, then SMON cleans up the temporary space.</p>
                           </li>
                           <li>
                              <p>Coalescing contiguous free extents within dictionary-managed tablespaces.</p>
                           </li>
                        </ul>
                        <p>SMON checks regularly to see whether it is needed. Other processes can call SMON if they detect a need for it.</p>
                     </div>
                  </div><a id="CNCPT1250"></a><div class="props_rev_3"><a id="GUID-DC9CBDED-3978-450A-9D7A-0A94CE8FF233" name="GUID-DC9CBDED-3978-450A-9D7A-0A94CE8FF233"></a><h5 id="CNCPT-GUID-DC9CBDED-3978-450A-9D7A-0A94CE8FF233" class="sect5">Database Writer Process (DBW)</h5>
                     <div>
                        <p>The <span class="bold">database writer process (DBW)</span> writes the contents of database buffers to data files. DBW processes write modified buffers in the database buffer cache to disk.
                        </p>
                        <p>Although one database writer process (DBW0) is adequate for most systems, you can configure additional processesDBW1 through DBW9, DBWa through DBWz, and BW36 through BW99to improve write performance if your system modifies data heavily. These additional DBW processes are not useful on uniprocessor systems.</p>
                        <p>The DBW process writes dirty buffers to disk under the following conditions: </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>When a server process cannot find a clean reusable buffer after scanning a threshold number of buffers, it signals DBW to write. DBW writes dirty buffers to disk asynchronously if possible while performing other processing. </p>
                           </li>
                           <li>
                              <p>DBW periodically writes buffers to advance the <a href="glossary.html#GUID-95DBDA37-4C57-444F-B660-D52B4A99D919"><span class="xrefglossterm">checkpoint</span></a>, which is the position in the <a href="glossary.html#GUID-68F9BFC2-703C-48FF-BE8C-236FE3BC8977"><span class="xrefglossterm">redo thread</span></a> from which instance recovery begins. The log position of the checkpoint is determined by the oldest dirty buffer in the buffer cache.
                              </p>
                           </li>
                        </ul>
                        <p>In many cases the blocks that DBW writes are scattered throughout the disk. Thus, the writes tend to be slower than the sequential writes performed by LGWR. DBW performs multiblock writes when possible to improve efficiency. The number of blocks written in a multiblock write varies by operating system. </p>
                        <div class="infoboxnotealso" id="GUID-DC9CBDED-3978-450A-9D7A-0A94CE8FF233__GUID-7ED63A79-FD5D-4927-BE35-926FF8F50213">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="memory-architecture.html#GUID-4FF66585-E469-4631-9225-29D75594CD14" title="The database buffer cache, also called the buffer cache, is the memory area that stores copies of data blocks read from data files.">Database Buffer Cache</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="oracle-database-instance.html#GUID-A6959126-0ECF-40A2-880D-D74A1BFB5BC4" title="A checkpoint is a crucial mechanism in consistent database shutdowns, instance recovery, and Oracle Database operation generally.">Overview of Checkpoints</a>"</span></p>
                              </li>
                              <li>
                                 <p><a href="../tgdba/instance-tuning-using-performance-views.html#GUID-01C9C892-4C0B-4524-82B3-146D1C191BDD" target="_blank"><span><cite>Oracle Database Performance Tuning Guide</cite></span></a> for advice on configuring, monitoring, and tuning DBW
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="CNCPT1251"></a><div class="props_rev_3"><a id="GUID-B6BE2C31-1543-4504-9763-6FFBBF99DC85" name="GUID-B6BE2C31-1543-4504-9763-6FFBBF99DC85"></a><h5 id="CNCPT-GUID-B6BE2C31-1543-4504-9763-6FFBBF99DC85" class="sect5">Log Writer Process (LGWR)</h5>
                     <div>
                        <p>The <span class="bold">log writer process (LGWR)</span> manages the online redo log buffer. 
                        </p>
                        <p>LGWR writes one portion of the buffer to the online redo log. By separating the tasks of modifying database buffers, performing scattered writes of dirty buffers to disk, and performing fast sequential writes of redo to disk, the database improves performance.</p>
                        <p>In the following circumstances, LGWR writes all redo entries that have been copied into the buffer since the last time it wrote:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>A user commits a transaction.</p>
                           </li>
                           <li>
                              <p>An online redo <a href="glossary.html#GUID-1A479613-DF95-469C-9C3B-D7DBA54F77F7"><span class="xrefglossterm">log switch</span></a> occurs.
                              </p>
                           </li>
                           <li>
                              <p>Three seconds have passed since LGWR last wrote.</p>
                           </li>
                           <li>
                              <p>The redo log buffer is one-third full or contains 1 MB of buffered data.</p>
                           </li>
                           <li>
                              <p>DBW must write modified buffers to disk.</p>
                              <p>Before DBW can write a dirty buffer, the database must write to disk the redo records associated with changes to the buffer (the <a href="glossary.html#GUID-A20D57FC-78FF-4F09-868E-849806568EE7"><span class="xrefglossterm">write-ahead protocol</span></a>). If DBW discovers that some redo records have not been written, it signals LGWR to write the records to disk, and waits for LGWR to complete before writing the data buffers to disk.
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-B6BE2C31-1543-4504-9763-6FFBBF99DC85__GUID-EFD78033-2AB6-4018-9824-521DA6930038">
                           <p class="notep1">See Also:</p>
                           <p> <span class="q">"<a href="transactions.html#GUID-C3FE1082-94AA-4BE8-98F2-480205D99DCA" title="A commit ends the current transaction and makes permanent all changes performed in the transaction.">Commits of Transactions</a>"</span></p>
                        </div>
                     </div><a id="CNCPT89084"></a><div class="props_rev_3"><a id="GUID-D85E9B89-D85C-40A2-9383-0AB068BAC228" name="GUID-D85E9B89-D85C-40A2-9383-0AB068BAC228"></a><h6 id="CNCPT-GUID-D85E9B89-D85C-40A2-9383-0AB068BAC228" class="sect6">LGWR and Commits</h6>
                        <div>
                           <p>Oracle Database uses a fast commit mechanism to improve performance for committed transactions.</p>
                           <p>When a user issues a <code class="codeph">COMMIT</code> statement, the transaction is assigned a <span class="bold">system change number (SCN)</span>. LGWR puts a commit record in the redo log buffer and writes it to disk immediately, along with the commit SCN and transaction's redo entries.
                           </p>
                           <p>The redo log buffer is circular. When LGWR writes redo entries from the redo log buffer to an online redo log file, server processes can copy new entries over the entries in the redo log buffer that have been written to disk. LGWR normally writes fast enough to ensure that space is always available in the buffer for new entries, even when access to the online redo log is heavy.</p>
                           <p>The atomic write of the redo entry containing the transaction's commit record is the single event that determines that the transaction has committed. Oracle Database returns a success code to the committing transaction although the data buffers have not yet been written to disk. The corresponding changes to data blocks are deferred until it is efficient for DBW to write them to the data files. </p>
                           <div class="infoboxnote" id="GUID-D85E9B89-D85C-40A2-9383-0AB068BAC228__GUID-B59CF13D-8D48-4640-80E7-93A898847ACE">
                              <p class="notep1">Note:</p>
                              <p>LGWR can write redo log entries to disk before a transaction commits. The changes that are protected by the redo entries become permanent only if the transaction later commits.</p>
                           </div>
                           <p>When activity is high, LGWR can use group commits. For example, a user commits, causing LGWR to write the transaction's redo entries to disk. During this write other users commit. LGWR cannot write to disk to commit these transactions until its previous write completes. Upon completion, LGWR can write the list of redo entries of waiting transactions (not yet committed) in one operation. In this way, the database minimizes disk I/O and maximizes performance. If commits requests continue at a high rate, then every write by LGWR can contain multiple commit records.</p>
                        </div>
                     </div><a id="CNCPT89085"></a><div class="props_rev_3"><a id="GUID-C0BF938F-84AB-4917-A1B3-115A2983C62C" name="GUID-C0BF938F-84AB-4917-A1B3-115A2983C62C"></a><h6 id="CNCPT-GUID-C0BF938F-84AB-4917-A1B3-115A2983C62C" class="sect6">LGWR and Inaccessible Files</h6>
                        <div>
                           <p>LGWR writes synchronously to the active mirrored group of online redo log files.</p>
                           <p>If a log file is inaccessible, then LGWR continues writing to other files in the group and writes an error to the LGWR trace file and the <a href="glossary.html#GUID-ACC7727F-41AE-47B1-AADB-2585EE828792"><span class="xrefglossterm">alert log</span></a>. If all files in a group are damaged, or if the group is unavailable because it has not been archived, then LGWR cannot continue to function.
                           </p>
                           <div class="infoboxnotealso" id="GUID-C0BF938F-84AB-4917-A1B3-115A2983C62C__GUID-022BB8CD-6F65-4549-BAC1-8679359C470C">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><span class="q">"<a href="physical-storage-structures.html#GUID-09A16A4D-A618-4339-826E-E398A6B0FBF1" title="The online redo log for a database instance is called a redo thread.">How Oracle Database Writes to the Online Redo Log</a>"</span> and <span class="q">"<a href="memory-architecture.html#GUID-C2AD1BF6-A5AE-42E9-9677-0AA08126864B" title="The redo log buffer is a circular buffer in the SGA that stores redo entries describing changes made to the database.">Redo Log Buffer</a>"</span></p>
                                 </li>
                                 <li>
                                    <p><a href="../tgdba/tuning-database-buffer-cache.html#TGDBA553" target="_blank"><span><cite>Oracle Database Performance Tuning Guide</cite></span></a>for information about how to monitor and tune the performance of LGWR
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                     </div>
                  </div><a id="CNCPT89086"></a><a id="CNCPT1252"></a><div class="props_rev_3"><a id="GUID-D3174B3E-BCCA-473F-961E-84A36FD5C372" name="GUID-D3174B3E-BCCA-473F-961E-84A36FD5C372"></a><h5 id="CNCPT-GUID-D3174B3E-BCCA-473F-961E-84A36FD5C372" class="sect5">Checkpoint Process (CKPT)</h5>
                     <div>
                        <p>The <span class="bold">checkpoint process (CKPT)</span> updates the control file and data file headers with checkpoint information and signals DBW to write blocks to disk. Checkpoint information includes the checkpoint position, SCN, and location in online redo log to begin recovery.
                        </p>
                        <p>As shown in <a href="process-architecture.html#GUID-D3174B3E-BCCA-473F-961E-84A36FD5C372__BABEACIA">Figure 15-4</a>, CKPT does not write data blocks to data files or redo blocks to online redo log files.
                        </p>
                        <div class="figure" id="GUID-D3174B3E-BCCA-473F-961E-84A36FD5C372__BABEACIA">
                           <p class="titleinfigure">Figure 15-4 Checkpoint Process</p><img src="img/cncpt228.gif" alt="Description of Figure 15-4 follows" title="Description of Figure 15-4 follows" longdesc="img_text/cncpt228.html"><br><a href="img_text/cncpt228.html">Description of "Figure 15-4 Checkpoint Process"</a></div>
                        <!-- class="figure" -->
                        <div class="infoboxnotealso" id="GUID-D3174B3E-BCCA-473F-961E-84A36FD5C372__GUID-81902423-E0A8-45AD-8D54-DE4B608B60D7">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="oracle-database-instance.html#GUID-A6959126-0ECF-40A2-880D-D74A1BFB5BC4" title="A checkpoint is a crucial mechanism in consistent database shutdowns, instance recovery, and Oracle Database operation generally.">Overview of Checkpoints</a>"</span></p>
                        </div>
                     </div>
                  </div><a id="CNCPT89087"></a><div class="props_rev_3"><a id="GUID-D175CA2B-20FE-4D5D-9A89-5CAA279479EC" name="GUID-D175CA2B-20FE-4D5D-9A89-5CAA279479EC"></a><h5 id="CNCPT-GUID-D175CA2B-20FE-4D5D-9A89-5CAA279479EC" class="sect5">Manageability Monitor Processes (MMON and MMNL)</h5>
                     <div>
                        <p>The <span class="bold">manageability monitor process (MMON)</span> performs many tasks related to the <span class="bold">Automatic Workload Repository (AWR)</span>. 
                        </p>
                        <p>For example, MMON writes when a <span class="bold">metric</span> violates its threshold value, taking snapshots, and capturing statistics value for recently modified SQL objects.
                        </p>
                        <p>The manageability monitor lite process (MMNL) writes statistics from the Active Session History (ASH) buffer in the SGA to disk. MMNL writes to disk when the ASH buffer is full.</p>
                        <div class="infoboxnotealso" id="GUID-D175CA2B-20FE-4D5D-9A89-5CAA279479EC__GUID-46AA81F8-FAB6-4264-9918-9281F38748F1">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="concepts-for-database-administrators.html#GUID-1C0B57E9-1D1D-4C48-8A3D-5F56160435ED" title="Automatic Workload Repository (AWR) is a repository of historical performance data that includes cumulative statistics for the system, sessions, individual SQL statements, segments, and services.">Automatic Workload Repository (AWR)</a>"</span> and <span class="q">"<a href="concepts-for-database-administrators.html#GUID-12C38C77-BD4A-4D0D-8A67-FF7BF2167C77" title="Active Session History (ASH) samples active database sessions each second, writing the data to memory and persistent storage. ASH is an integral part of the database self-management framework and is useful for diagnosing performance problems.">Active Session History (ASH)</a>"</span></p>
                        </div>
                     </div>
                  </div><a id="CNCPT1255"></a><div class="props_rev_3"><a id="GUID-9FF900D1-7DB8-4D41-8D34-8E99AF650CEC" name="GUID-9FF900D1-7DB8-4D41-8D34-8E99AF650CEC"></a><h5 id="CNCPT-GUID-9FF900D1-7DB8-4D41-8D34-8E99AF650CEC" class="sect5">Recoverer Process (RECO) </h5>
                     <div>
                        <p>In a distributed database, the <span class="bold">recoverer process (RECO)</span> automatically resolves failures in distributed transactions. 
                        </p>
                        <p>The RECO process of a node automatically connects to other databases involved in an in-doubt distributed transaction. When RECO reestablishes a connection between the databases, it automatically resolves all in-doubt transactions, removing from each database's pending transaction table any rows that correspond to the resolved transactions.</p>
                        <div class="infoboxnotealso" id="GUID-9FF900D1-7DB8-4D41-8D34-8E99AF650CEC__GUID-1D2703C0-F49C-4015-97D1-8444676E49D1">
                           <p class="notep1">See Also:</p>
                           <p><a href="../admin/managing-distributed-transactions.html#ADMIN12287" target="_blank"><span><cite>Oracle Database Administrators Guide</cite></span></a> for more information about transaction recovery in distributed systems
                           </p>
                        </div>
                     </div>
                  </div>
               </div><a id="CNCPT9841"></a><div class="props_rev_3"><a id="GUID-028BA4D6-F9BC-4F36-AD98-0FE3A191ED02" name="GUID-028BA4D6-F9BC-4F36-AD98-0FE3A191ED02"></a><h4 id="CNCPT-GUID-028BA4D6-F9BC-4F36-AD98-0FE3A191ED02" class="sect4">Optional Background Processes</h4>
                  <div>
                     <p>An optional background process is any background process not defined as mandatory. </p>
                     <p>Most optional background processes are specific to tasks or features. For example, background processes that support Oracle ASM are only available when this feature is enabled.</p>
                     <p>This section describes some common optional processes:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="process-architecture.html#GUID-7D7CB783-4CE9-4005-8D1D-B3FED61BF887" title="An archiver process (ARCn) copies online redo log files to offline storage after a redo log switch occurs.">Archiver Processes (ARCn)</a></p>
                        </li>
                        <li>
                           <p><a href="process-architecture.html#GUID-C67612E5-CA83-4AE0-B56D-05993A8B38F9" title="A queue process runs user jobs, often in batch mode. A job is a user-defined task scheduled to run one or more times.">Job Queue Processes (CJQ0 and Jnnn)</a></p>
                        </li>
                        <li>
                           <p><a href="process-architecture.html#GUID-20C38AD6-B413-4D04-A21C-A7B81280A153" title="The flashback data archive process (FBDA) archives historical rows of tracked tables into Flashback Data Archives.">Flashback Data Archive Process (FBDA)</a></p>
                        </li>
                        <li>
                           <p><a href="process-architecture.html#GUID-CBC4114F-88A1-442C-9327-7D36460E9EFC" title="The SMCO process coordinates the execution of various space management related tasks.">Space Management Coordinator Process (SMCO)</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-028BA4D6-F9BC-4F36-AD98-0FE3A191ED02__GUID-163A469B-8BE3-4294-8FC5-DFDDCDF270AB">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="topics-for-database-administrators-and-developers.html#GUID-7CCB29F5-6B3B-4D15-B428-D10A6BFB35D5" title="Advanced Queuing (AQ) is a robust and feature-rich message queuing system integrated with Oracle Database.">Oracle Database Advanced Queuing (AQ)</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="../refrn/background-processes.html#REFRN104" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> for descriptions of background processes specific to AQ and Oracle ASM
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="CNCPT1257"></a><div class="props_rev_3"><a id="GUID-7D7CB783-4CE9-4005-8D1D-B3FED61BF887" name="GUID-7D7CB783-4CE9-4005-8D1D-B3FED61BF887"></a><h5 id="CNCPT-GUID-7D7CB783-4CE9-4005-8D1D-B3FED61BF887" class="sect5">Archiver Processes (ARC<span class="italic">n</span>)
                     </h5>
                     <div>
                        <p>An <strong class="term">archiver process (ARCn)</strong> copies online redo log files to offline storage after a redo log switch occurs.
                        </p>
                        <p>These processes can also collect transaction redo data and transmit it to <a href="glossary.html#GUID-728D4956-0F56-4D39-A63A-2E3FF5CCEDE4"><span class="xrefglossterm">standby database</span></a> destinations. ARC<span class="italic">n</span> processes exist <span class="italic">only</span> when the database is in <a href="glossary.html#GUID-1AA9F015-FD15-4A08-BE06-04F0A6797782"><span class="xrefglossterm">ARCHIVELOG mode</span></a> and automatic archiving is enabled.
                        </p>
                        <div class="infoboxnotealso" id="GUID-7D7CB783-4CE9-4005-8D1D-B3FED61BF887__GUID-1D4CA947-553A-4B0F-90E8-C0A3A8E6359F">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="physical-storage-structures.html#GUID-4E3F6CAA-453F-4518-83B9-B3A3CCF11B2E" title="An archived redo log file is a copy of a filled member of an online redo log group. The file is not considered part of the database, but is an offline copy of an online redo log file created by the database and written to a user-specified location.">Archived Redo Log Files</a>"</span></p>
                              </li>
                              <li>
                                 <p><a href="../admin/managing-archived-redo-log-files.html#ADMIN11337" target="_blank"><span><cite>Oracle Database Administrators Guide</cite></span></a> to learn how to adjust the number of archiver processes
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../tgdba/tuning-database-buffer-cache.html#TGDBA553" target="_blank"><span><cite>Oracle Database Performance Tuning Guide</cite></span></a> to learn how to tune archiver performance
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="CNCPT1256"></a><div class="props_rev_3"><a id="GUID-C67612E5-CA83-4AE0-B56D-05993A8B38F9" name="GUID-C67612E5-CA83-4AE0-B56D-05993A8B38F9"></a><h5 id="CNCPT-GUID-C67612E5-CA83-4AE0-B56D-05993A8B38F9" class="sect5">Job Queue Processes (CJQ0 and Jnnn)</h5>
                     <div>
                        <p>A <span class="bold">queue process</span> runs user jobs, often in batch mode. A job is a user-defined task scheduled to run one or more times.
                        </p>
                        <p>For example, you can use a job queue to schedule a long-running update in the background. Given a start date and a time interval, the job queue processes attempt to run the job at the next occurrence of the interval.</p>
                        <p>Oracle Database manages job queue processes dynamically, thereby enabling job queue clients to use more job queue processes when required. The database releases resources used by the new processes when they are idle.</p>
                        <p>Dynamic job queue processes can run many jobs concurrently at a given interval. The sequence of events is as follows:</p>
                        <ol>
                           <li>
                              <p>The job coordinator process (CJQ0) is automatically started and stopped as needed by Oracle Scheduler. The coordinator process periodically selects jobs that need to be run from the system <code class="codeph">JOB$</code> table. New jobs selected are ordered by time.
                              </p>
                           </li>
                           <li>
                              <p>The coordinator process dynamically spawns job queue slave processes (Jnnn) to run the jobs.</p>
                           </li>
                           <li>
                              <p>The job queue process runs one of the jobs that was selected by the CJQ0 process for execution. Each job queue process runs one job at a time to completion.</p>
                           </li>
                           <li>
                              <p>After the process finishes execution of a single job, it polls for more jobs. If no jobs are scheduled for execution, then it enters a sleep state, from which it wakes up at periodic intervals and polls for more jobs. If the process does not find any new jobs, then it terminates after a preset interval.</p>
                           </li>
                        </ol>
                        <p>The initialization parameter <code class="codeph">JOB_QUEUE_PROCESSES</code> represents the maximum number of job queue processes that can concurrently run on an instance. However, clients should not assume that all job queue processes are available for job execution.
                        </p>
                        <div class="infoboxnote" id="GUID-C67612E5-CA83-4AE0-B56D-05993A8B38F9__GUID-0C5F1AD9-2AF4-43DA-BE02-8D79873257F8">
                           <p class="notep1">Note:</p>
                           <p>The coordinator process is not started if the initialization parameter <code class="codeph">JOB_QUEUE_PROCESSES</code> is set to 0.
                           </p>
                        </div>
                        <div class="infoboxnotealso" id="GUID-C67612E5-CA83-4AE0-B56D-05993A8B38F9__GUID-F3F04009-84B2-4762-A6D5-A45E69AA7354">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="concepts-for-database-administrators.html#GUID-077CBA84-5099-4550-AA11-250B301B609A" title="Oracle Scheduler (the Scheduler) enables database administrators and application developers to control when and where various tasks take place in the database environment.">Oracle Scheduler</a>"</span></p>
                              </li>
                              <li>
                                 <p><a href="../admin/scheduling-jobs-with-oracle-scheduler.html#ADMIN034" target="_blank"><span><cite>Oracle Database Administrators Guide</cite></span></a> to learn about Oracle Scheduler jobs
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../adque/aq-basic-components.html#ADQUE2530" target="_blank"><span><cite>Oracle Database Advanced Queuing User's Guide</cite></span></a> to learn about AQ background processes
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="CNCPT89089"></a><div class="props_rev_3"><a id="GUID-20C38AD6-B413-4D04-A21C-A7B81280A153" name="GUID-20C38AD6-B413-4D04-A21C-A7B81280A153"></a><h5 id="CNCPT-GUID-20C38AD6-B413-4D04-A21C-A7B81280A153" class="sect5">Flashback Data Archive Process (FBDA)</h5>
                     <div>
                        <p>The <strong class="term">flashback data archive process (FBDA)</strong> archives historical rows of tracked tables into Flashback Data Archives.
                        </p>
                        <p>When a transaction containing DML on a tracked table commits, this process stores the pre-image of the changed rows into the Flashback Data Archive. It also keeps metadata on the current rows.</p>
                        <p>FBDA automatically manages the Flashback Data Archive for space, organization, and retention. Additionally, the process keeps track of how long the archiving of tracked transactions has occurred.</p>
                     </div>
                  </div><a id="CNCPT89090"></a><div class="props_rev_3"><a id="GUID-CBC4114F-88A1-442C-9327-7D36460E9EFC" name="GUID-CBC4114F-88A1-442C-9327-7D36460E9EFC"></a><h5 id="CNCPT-GUID-CBC4114F-88A1-442C-9327-7D36460E9EFC" class="sect5">Space Management Coordinator Process (SMCO)</h5>
                     <div>
                        <p>The SMCO process coordinates the execution of various space management related tasks.</p>
                        <p>Typical tasks include proactive space allocation and space reclamation. SMCO dynamically spawns slave processes (W<span class="italic">nnn</span>) to implement the task.
                        </p>
                        <div class="infoboxnotealso" id="GUID-CBC4114F-88A1-442C-9327-7D36460E9EFC__GUID-DFCFE327-4BB4-4ADE-A0F6-CFB4FA75E8F0">
                           <p class="notep1">See Also:</p>
                           <p><a href="../adfns/flashback.html#ADFNS01011" target="_blank"><span><cite>Oracle Database Development Guide</cite></span></a> to learn about the Flashback Data Archive and the Temporal History feature
                           </p>
                        </div>
                     </div>
                  </div>
               </div><a id="CNCPT9847"></a><div class="props_rev_3"><a id="GUID-BD43E5D1-82C1-4997-8461-7CBBAFC7ED49" name="GUID-BD43E5D1-82C1-4997-8461-7CBBAFC7ED49"></a><h4 id="CNCPT-GUID-BD43E5D1-82C1-4997-8461-7CBBAFC7ED49" class="sect4">Slave Processes</h4>
                  <div>
                     <p>Slave processes are background processes that perform work on behalf of other processes. </p>
                     <p>This section describes some slave processes used by Oracle Database.</p>
                     <div class="infoboxnotealso" id="GUID-BD43E5D1-82C1-4997-8461-7CBBAFC7ED49__GUID-FC301A1B-EF2D-4BA0-A52F-61F6CB977146">
                        <p class="notep1">See Also:</p>
                        <p><a href="../refrn/background-processes.html#REFRN104" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> for descriptions of Oracle Database slave processes
                        </p>
                     </div>
                  </div><a id="CNCPT9848"></a><div class="props_rev_3"><a id="GUID-1C0B86EF-CA59-4146-BBFE-17B40CC9B02A" name="GUID-1C0B86EF-CA59-4146-BBFE-17B40CC9B02A"></a><h5 id="CNCPT-GUID-1C0B86EF-CA59-4146-BBFE-17B40CC9B02A" class="sect5">I/O Slave Processes</h5>
                     <div>
                        <p>I/O slave processes (Innn) simulate asynchronous I/O for systems and devices that do not support it.</p>
                        <p>In asynchronous I/O, there is no timing requirement for transmission, enabling other processes to start before the transmission has finished.</p>
                        <p>For example, assume that an application writes 1000 blocks to a disk on an operating system that does not support asynchronous I/O. Each write occurs sequentially and waits for a confirmation that the write was successful. With asynchronous disk, the application can write the blocks in bulk and perform other work while waiting for a response from the operating system that all blocks were written.</p>
                        <p>To simulate asynchronous I/O, one process oversees several slave processes. The invoker process assigns work to each of the slave processes, who wait for each write to complete and report back to the invoker when done. In true asynchronous I/O the operating system waits for the I/O to complete and reports back to the process, while in simulated asynchronous I/O the slaves wait and report back to the invoker.</p>
                        <p>The database supports different types of I/O slaves, including the following:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>I/O slaves for Recovery Manager (RMAN)</p>
                              <p>When using RMAN to back up or restore data, you can use I/O slaves for both disk and tape devices.</p>
                           </li>
                           <li>
                              <p>Database writer slaves</p>
                              <p>If it is not practical to use multiple database writer processes, such as when the computer has one CPU, then the database can distribute I/O over multiple slave processes. DBW is the only process that scans the buffer cache LRU list for blocks to be written to disk. However, I/O slaves perform the I/O for these blocks.</p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-1C0B86EF-CA59-4146-BBFE-17B40CC9B02A__GUID-1B8F63E1-4DA8-4C2A-8AF0-C3F0C33D5F75">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../bradv/tuning-rman-performance.html#BRADV90069" target="_blank"><span><cite>Oracle Database Backup and Recovery Users Guide</cite></span></a> to learn more about I/O slaves for backup and restore operations
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../tgdba/instance-tuning-using-performance-views.html#GUID-01C9C892-4C0B-4524-82B3-146D1C191BDD" target="_blank"><span><cite>Oracle Database Performance Tuning Guide</cite></span></a> to learn more about database writer slaves
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="CNCPT94676"></a><a id="CNCPT1475"></a><div class="props_rev_3"><a id="GUID-B25C8454-BFBD-40F7-AF80-5029C93AAE42" name="GUID-B25C8454-BFBD-40F7-AF80-5029C93AAE42"></a><h5 id="CNCPT-GUID-B25C8454-BFBD-40F7-AF80-5029C93AAE42" class="sect5">Parallel Execution (PX) Server Processes</h5>
                     <div>
                        <p>In <span class="bold">parallel execution</span>, multiple processes work together simultaneously to run a single SQL statement. 
                        </p>
                        <p>By dividing the work among multiple processes, Oracle Database can run the statement more quickly. For example, four processes handle four different quarters in a year instead of one process handling all four quarters by itself.</p>
                        <p>Parallel execution contrasts with <a href="glossary.html#GUID-02F8D8C0-F2BC-44CF-8383-9803180F76F7"><span class="xrefglossterm">serial execution</span></a>, in which a single server process performs all necessary processing for the sequential execution of a SQL statement. For example, to perform a <a href="glossary.html#GUID-BF9B54D6-892E-4C3B-8536-38958ACC069D"><span class="xrefglossterm">full table scan</span></a> such as <code class="codeph">SELECT * FROM employees</code>, one server process performs all of the work, as shown in <a href="process-architecture.html#GUID-B25C8454-BFBD-40F7-AF80-5029C93AAE42__BABDHFIC">Figure 15-5</a>.
                        </p>
                        <div class="figure" id="GUID-B25C8454-BFBD-40F7-AF80-5029C93AAE42__BABDHFIC">
                           <p class="titleinfigure">Figure 15-5 Serial Full Table Scan </p><img src="img/cncpt016.gif" alt="Description of Figure 15-5 follows" title="Description of Figure 15-5 follows" longdesc="img_text/cncpt016.html"><br><a href="img_text/cncpt016.html">Description of "Figure 15-5 Serial Full Table Scan "</a></div>
                        <!-- class="figure" -->
                        <p>Parallel execution reduces response time for data-intensive operations on large databases such as data warehouses. Symmetric multiprocessing (SMP) and clustered system gain the largest performance benefits from parallel execution because statement processing can be split up among multiple CPUs. Parallel execution can also benefit certain types of <a href="glossary.html#GUID-709E943F-FF0E-4AA6-979A-C4CB2A7B0C29"><span class="xrefglossterm">OLTP</span></a> and hybrid systems.
                        </p>
                        <p>In Oracle RAC systems, the service placement of a specific service controls parallel execution. Specifically, parallel processes run on the nodes on which the service is configured. By default, Oracle Database runs parallel processes only on an instance that offers the service used to connect to the database. This does not affect other parallel operations such as parallel recovery or the processing of <code class="codeph">GV$</code> queries.
                        </p>
                        <div class="infoboxnotealso" id="GUID-B25C8454-BFBD-40F7-AF80-5029C93AAE42__GUID-9D719B42-877E-4F24-8760-87C800AD687E">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../vldbg/using-parallel.html#VLDBG010" target="_blank"><span><cite>Oracle Database VLDB and Partitioning Guide</cite></span></a> to learn more about parallel execution
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../racad/workload-management-with-dynamic-database-services.html#RACAD7124" target="_blank"><span><cite>Oracle Real Application Clusters Administration and Deployment Guide</cite></span></a> for considerations regarding parallel execution in Oracle RAC environments
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div><a id="CNCPT220"></a><div class="props_rev_3"><a id="GUID-6487F7FA-2299-4428-8588-7937BD8675D3" name="GUID-6487F7FA-2299-4428-8588-7937BD8675D3"></a><h6 id="CNCPT-GUID-6487F7FA-2299-4428-8588-7937BD8675D3" class="sect6">Query Coordinator</h6>
                        <div>
                           <p>In parallel execution, the server process acts as the <span class="bold">query coordinator</span> (also called the <span class="italic">parallel execution coordinator</span>).
                           </p>
                           <p>The query coordinator is responsible for the following:</p>
                           <ol>
                              <li>
                                 <p>Parsing the query</p>
                              </li>
                              <li>
                                 <p>Allocating and controlling the parallel execution server processes</p>
                              </li>
                              <li>
                                 <p>Sending output to the user</p>
                              </li>
                           </ol>
                           <p>Given a <a href="glossary.html#GUID-78BCF1CD-1865-4AEB-8F14-AFA4FF1981BF"><span class="xrefglossterm">query plan</span></a> for a query, the coordinator breaks down each <a href="glossary.html#GUID-4BC5B7D2-6483-4742-AD66-E0B7C39047E3"><span class="xrefglossterm">operator</span></a> in a SQL query into parallel pieces, runs them in the order specified in the query, and integrates the partial results produced by the parallel execution servers executing the operators.
                           </p>
                           <p>The number of parallel execution servers assigned to a single operation is the <a href="glossary.html#GUID-C5F5E0B5-C13F-42F3-B8C4-ADCB4290C980"><span class="xrefglossterm">degree of parallelism</span></a> for an operation. Multiple operations within the same SQL statement all have the same degree of parallelism.
                           </p>
                        </div>
                     </div><a id="CNCPT94677"></a><a id="CNCPT9850"></a><div class="props_rev_3"><a id="GUID-61E6A6E3-3477-44F5-9E8D-12F607BF2D83" name="GUID-61E6A6E3-3477-44F5-9E8D-12F607BF2D83"></a><h6 id="CNCPT-GUID-61E6A6E3-3477-44F5-9E8D-12F607BF2D83" class="sect6">Producers and Consumers</h6>
                        <div>
                           <p>Parallel execution servers are divided into producers and consumers. The producers are responsible for processing their data and then distributing it to the consumers that need it. </p>
                           <p>The database can perform the distribution using a variety of techniques. Two common techniques are a broadcast and a hash. In a broadcast, each producer sends the rows to all consumers. In a hash, the database computes a hash function on a set of keys and makes each consumer responsible for a subset of hash values.</p>
                           <p><a href="process-architecture.html#GUID-61E6A6E3-3477-44F5-9E8D-12F607BF2D83__BABIDAFF">Figure 15-6</a> represents the interplay between producers and consumers in the parallel execution of the following statement:
                           </p><pre class="pre codeblock"><code>SELECT * FROM employees ORDER BY last_name;
</code></pre><p>The execution plan implements a full scan of the <code class="codeph">employees</code> table. The scan is followed by a sort of the retrieved rows. All of the producer processes involved in the scan operation send rows to the appropriate consumer process performing the sort.
                           </p>
                           <div class="figure" id="GUID-61E6A6E3-3477-44F5-9E8D-12F607BF2D83__BABIDAFF">
                              <p class="titleinfigure">Figure 15-6 Producers and Consumers</p><img src="img/vldbg013.gif" alt="Description of Figure 15-6 follows" title="Description of Figure 15-6 follows" longdesc="img_text/vldbg013.html"><br><a href="img_text/vldbg013.html">Description of "Figure 15-6 Producers and Consumers"</a></div>
                           <!-- class="figure" -->
                        </div>
                     </div><a id="CNCPT89092"></a><a id="CNCPT94678"></a><div class="props_rev_3"><a id="GUID-DC997182-FB4F-4FD2-ACCD-654E1D623239" name="GUID-DC997182-FB4F-4FD2-ACCD-654E1D623239"></a><h6 id="CNCPT-GUID-DC997182-FB4F-4FD2-ACCD-654E1D623239" class="sect6">Granules</h6>
                        <div>
                           <p>In parallel execution, a table is divided dynamically into load units. Each unit, called a <span class="bold">granule</span>, is the smallest unit of work when accessing data. 
                           </p>
                           <p>A block-based granule is a range of data blocks of the table read by a single parallel execution server (also called a <span class="italic">PX server</span>), which uses <code class="codeph">P<span class="codeinlineitalic">nnn</span></code> as a name format. To obtain an even distribution of work among parallel server processes, the number of granules is always much higher than the requested DOP.
                           </p>
                           <p><a href="process-architecture.html#GUID-DC997182-FB4F-4FD2-ACCD-654E1D623239__I3086">Figure 15-7</a> shows a parallel scan of the <code class="codeph">employees</code> table.
                           </p>
                           <div class="figure" id="GUID-DC997182-FB4F-4FD2-ACCD-654E1D623239__I3086">
                              <p class="titleinfigure">Figure 15-7 Parallel Full Table Scan</p><img src="img/cncpt017.gif" alt="Description of Figure 15-7 follows" title="Description of Figure 15-7 follows" longdesc="img_text/cncpt017.html"><br><a href="img_text/cncpt017.html">Description of "Figure 15-7 Parallel Full Table Scan"</a></div>
                           <!-- class="figure" -->
                           <p>The database maps granules to parallel execution servers at execution time. When a parallel execution server finishes reading the rows corresponding to a granule, and when granules remain, it obtains another granule from the query coordinator. This operation continues until the table has been read. The execution servers send results back to the coordinator, which assembles the pieces into the desired <a href="glossary.html#GUID-BF9B54D6-892E-4C3B-8536-38958ACC069D"><span class="xrefglossterm">full table scan</span></a>.
                           </p>
                           <div class="infoboxnotealso" id="GUID-DC997182-FB4F-4FD2-ACCD-654E1D623239__GUID-5C70CA39-DC9A-4D11-B777-5EB7FA125AB6">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="../vldbg/using-parallel.html#VLDBG010" target="_blank"><span><cite>Oracle Database VLDB and Partitioning Guide</cite></span></a> to learn how to use parallel execution
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="../dwhsg/refreshing-materialized-views.html#DWHSG8371" target="_blank"><span><cite>Oracle Database Data Warehousing Guide</cite></span></a> to learn about recommended initialization parameters for parallelism
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='01135.DBMS_XA.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="The DBMS_XA package contains the XA/Open interface for applications to call XA interface in PL/SQL. Using this package, application developers can switch or share transactions across SQL*Plus sessions or processes using PL/SQL.">
      <meta name="description" content="The DBMS_XA package contains the XA/Open interface for applications to call XA interface in PL/SQL. Using this package, application developers can switch or share transactions across SQL*Plus sessions or processes using PL/SQL.">
      <title>DBMS_XA</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="PL/SQL Packages and Types Reference">
      <meta property="og:description" content="The DBMS_XA package contains the XA/Open interface for applications to call XA interface in PL/SQL. Using this package, application developers can switch or share transactions across SQL*Plus sessions or processes using PL/SQL.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="PL/SQL Packages and Types Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-25T11:24:34-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96430-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="DBMS_WORKLOAD_REPOSITORY.html" title="Previous" type="text/html">
      <link rel="next" href="DBMS_XDB.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference">
    <meta name="dcterms.isVersionOf" content="ARPLS">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBMS_WORKLOAD_REPOSITORY.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="DBMS_XDB.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL/SQL Packages and Types Reference</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> DBMS_XA </li>
            </ol>
            <a id="GUID-2651DDA5-02B7-4432-9843-C07E1F52E904" name="GUID-2651DDA5-02B7-4432-9843-C07E1F52E904"></a><a id="ARPLS209"></a><a id="ARPLS209"></a>
            
            <h2 id="ARPLS-GUID-2651DDA5-02B7-4432-9843-C07E1F52E904" class="sect2"><span class="enumeration_chapter">185 </span> DBMS_XA 
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The <code class="codeph">DBMS_XA</code> package contains the XA/Open interface for applications to call XA interface in PL/SQL. Using this package, application developers can switch or share transactions across SQL*Plus sessions or processes using PL/SQL.
               </p>
               <p>The chapter contains the following topics: </p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="DBMS_XA.html#GUID-3244BEBB-110C-46DE-86B9-783E9F11C943" title="These subprograms allow a PL/SQL application to define a global transaction branch ID (XID) and associate or disassociate the current session with the transaction branch.">Overview</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_XA.html#GUID-FFF8E2A1-B242-4A29-87EA-C65A5113F4DB" title="This package is created under SYS. Operations provided by this package are performed under the current calling user, not under the package owner SYS.Any DBMS_XA subprogram called from an anonymous PL/SQL block is executed using the privileges of the current user. Any DBMS_XA subprogram called from a stored procedure is executed using the privileges of the owner of the stored procedure.">Security Model</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_XA.html#GUID-CB96E823-2462-4350-BF9A-2ACE6F29A643" title="The DBMS_XA package defines several constants that can be used for specifying parameter values.">Constants</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_XA.html#GUID-40814FCC-E43B-411A-A27D-AC63DF20732E" title="In compliance with the XA specification of the X/Open CAE Standard for Distributed Transaction Processing, XA_PREPARE/COMMIT/ ROLLBACK/FORGET may not be called when the transaction is still associated with the current session. Only after XA_END has been called so that there is not any transaction associated with the current session, the application may call XA_PREPARE/COMMIT/ ROLLBACK/FORGET.">Operational Notes</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_XA.html#GUID-BAB2807B-7F40-463F-BEA3-0253944BE576" title="The DBMS_XA package uses this OBJECT type and associated TABLE type.">Data Structures</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_XA.html#GUID-F21B6DFA-2785-49B3-BFF0-CAC7181C5FA9" title="This table lists the DBMS_XA subprograms and briefly describes them.">Summary of DBMS_XA Subprograms</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-2651DDA5-02B7-4432-9843-C07E1F52E904__GUID-B917CB66-A2CC-4E80-8781-5B219A41647E">
                  <p class="notep1">See Also:</p>
                  <p><span class="italic">Oracle Database Advanced Application Developer's Guide</span> for more information about <a href="../adfns/xa.html#ADFNS017" target="_blank">"Developing Applications with Oracle XA"</a> 
                  </p>
               </div>
            </div><a id="ARPLS69151"></a><a id="ARPLS69151"></a><div class="props_rev_3"><a id="GUID-3244BEBB-110C-46DE-86B9-783E9F11C943" name="GUID-3244BEBB-110C-46DE-86B9-783E9F11C943"></a><h3 id="ARPLS-GUID-3244BEBB-110C-46DE-86B9-783E9F11C943" class="sect3"><span class="enumeration_section">185.1 </span>DBMS_XA Overview
               </h3>
               <div>
                  <p>These subprograms allow a PL/SQL application to define a global transaction branch ID (<code class="codeph">XID</code>) and associate or disassociate the current session with the transaction branch. 
                  </p>
                  <div class="section">
                     <p>Subsequently, these transaction branches may be prepared and committed by following the two-phase commit protocol. A single-phase commit protocol is also supported if only one resource manager is involved. </p>
                     <p>Interfaces are also provided for a PL/SQL application to set the timeout values for any new global transaction branches that may start with the current session.</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS69152"></a><a id="ARPLS69152"></a><div class="props_rev_3"><a id="GUID-FFF8E2A1-B242-4A29-87EA-C65A5113F4DB" name="GUID-FFF8E2A1-B242-4A29-87EA-C65A5113F4DB"></a><h3 id="ARPLS-GUID-FFF8E2A1-B242-4A29-87EA-C65A5113F4DB" class="sect3"><span class="enumeration_section">185.2 </span>DBMS_XA Security Model
               </h3>
               <div>
                  <p>This package is created under <code class="codeph">SYS</code>. Operations provided by this package are performed under the current calling user, not under the package owner <code class="codeph">SYS</code>.Any <code class="codeph">DBMS_XA</code> subprogram called from an anonymous PL/SQL block is executed using the privileges of the current user. Any <code class="codeph">DBMS_XA</code> subprogram called from a stored procedure is executed using the privileges of the owner of the stored procedure.
                  </p>
                  <div class="section">
                     <p><code class="codeph">SELECT</code> or <code class="codeph">READ</code> privilege on <code class="codeph">SYS</code>.<code class="codeph">DBA_PENDING_TRANSACTIONS</code> is required for users who need to execute <code class="codeph">XA_RECOVER</code> subprogram.
                     </p>
                     <p><code class="codeph">FORCE ANY TRANSACTION</code> privilege is required for users who need to manipulate XA transactions created by other users.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS69153"></a><a id="ARPLS69154"></a><a id="ARPLS69155"></a><a id="ARPLS69154"></a><a id="ARPLS69155"></a><a id="ARPLS69153"></a><div class="props_rev_3"><a id="GUID-CB96E823-2462-4350-BF9A-2ACE6F29A643" name="GUID-CB96E823-2462-4350-BF9A-2ACE6F29A643"></a><h3 id="ARPLS-GUID-CB96E823-2462-4350-BF9A-2ACE6F29A643" class="sect3"><span class="enumeration_section">185.3 </span>DBMS_XA Constants
               </h3>
               <div>
                  <p>The <code class="codeph">DBMS_XA</code> package defines several constants that can be used for specifying parameter values. 
                  </p>
                  <div class="section">
                     <p>The package uses the constants shown in <a href="DBMS_XA.html#GUID-CB96E823-2462-4350-BF9A-2ACE6F29A643__BEHJAGEE" title="This table describes constants used by DBMS_XA subprograms.">Table 185-1</a> for use in the flag field of the <a href="DBMS_XA.html#GUID-61B54B33-22CE-4860-95FA-5B6490FC7119" title="This function associates the current session with a transaction branch specified by the xid.">XA_START Function</a> and the <a href="DBMS_XA.html#GUID-AF35D417-FCAF-4076-8C3F-EEDA9B9B964E" title="This function disassociates the current session from the transaction branch specified by xid.">XA_END Function</a>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-CB96E823-2462-4350-BF9A-2ACE6F29A643__BEHJAGEE">
                     <p class="titleintable">Table 185-1 DBMS_XA Constants for Flag Field of XA_START &amp; XA_END Functions</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_XA Constants for Flag Field of XA_START &amp; XA_END Functions" summary="This table describes constants used by DBMS_XA subprograms." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="25%" id="d1125079e552">Name</th>
                              <th align="left" valign="bottom" width="18%" id="d1125079e555">Type</th>
                              <th align="left" valign="bottom" width="25%" id="d1125079e558">Value</th>
                              <th align="left" valign="bottom" width="32%" id="d1125079e561">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d1125079e566" headers="d1125079e552 ">
                                 <p><code class="codeph">TMNOFLAGS</code></p>
                              </td>
                              <td align="left" valign="top" width="18%" headers="d1125079e566 d1125079e555 ">
                                 <p><code class="codeph">PLS_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1125079e566 d1125079e558 ">
                                 <p>00000000</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d1125079e566 d1125079e561 ">
                                 <p>Indicates no flag value is selected.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d1125079e581" headers="d1125079e552 ">
                                 <p><code class="codeph">TMSUCCESS</code></p>
                              </td>
                              <td align="left" valign="top" width="18%" headers="d1125079e581 d1125079e555 ">
                                 <p><code class="codeph">PLS_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1125079e581 d1125079e558 ">
                                 <p><code class="codeph">UTL_RAW.CAST_TO_BINARY_INTEGER</code> ('04000000')
                                 </p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d1125079e581 d1125079e561 ">
                                 <p>Dissociates caller from transaction branch</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d1125079e598" headers="d1125079e552 ">
                                 <p><code class="codeph">TMJOIN</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="18%" headers="d1125079e598 d1125079e555 ">
                                 <p><code class="codeph">PLS_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1125079e598 d1125079e558 ">
                                 <p><code class="codeph">UTL_RAW.CAST_TO_BINARY_INTEGER</code> ('00200000')
                                 </p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d1125079e598 d1125079e561 ">
                                 <p>Caller is joining existing transaction branch.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d1125079e616" headers="d1125079e552 ">
                                 <p><code class="codeph">TMSUSPEND</code></p>
                              </td>
                              <td align="left" valign="top" width="18%" headers="d1125079e616 d1125079e555 ">
                                 <p><code class="codeph">PLS_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1125079e616 d1125079e558 ">
                                 <p><code class="codeph">UTL_RAW.CAST_TO_BINARY_INTEGER</code> ('02000000')
                                 </p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d1125079e616 d1125079e561 ">
                                 <p>Caller is suspending, not ending, association</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d1125079e633" headers="d1125079e552 ">
                                 <p><code class="codeph">TMRESUME</code></p>
                              </td>
                              <td align="left" valign="top" width="18%" headers="d1125079e633 d1125079e555 ">
                                 <p><code class="codeph">PLS_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d1125079e633 d1125079e558 ">
                                 <p><code class="codeph">UTL_RAW.CAST_TO_BINARY_INTEGER</code> ('08000000')
                                 </p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d1125079e633 d1125079e561 ">
                                 <p>Caller is resuming association with suspended transaction branch.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>The <code class="codeph">DBMS_XA</code> package uses the constants shown in <a href="DBMS_XA.html#GUID-CB96E823-2462-4350-BF9A-2ACE6F29A643__BABCHFEI" title="This table describes constants used by DBMS_XA subprograms.">Table 185-2</a> for Possible Return Values
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-CB96E823-2462-4350-BF9A-2ACE6F29A643__BABCHFEI">
                     <p class="titleintable">Table 185-2 DBMS_XA Constants for Possible Return Values</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_XA Constants for Possible Return Values" summary="This table describes constants used by DBMS_XA subprograms." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="25%" id="d1125079e672">Name</th>
                              <th align="left" valign="bottom" width="18%" id="d1125079e675">Type</th>
                              <th align="left" valign="bottom" width="24%" id="d1125079e678">Value</th>
                              <th align="left" valign="bottom" width="33%" id="d1125079e681">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d1125079e686" headers="d1125079e672 ">
                                 <p><code class="codeph">XA_RBBASE</code></p>
                              </td>
                              <td align="left" valign="top" width="18%" headers="d1125079e686 d1125079e675 ">
                                 <p><code class="codeph">PLS_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d1125079e686 d1125079e678 ">
                                 <p>100</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d1125079e686 d1125079e681 ">
                                 <p>Inclusive lower bound of the rollback codes</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d1125079e701" headers="d1125079e672 ">
                                 <p><code class="codeph">XA_RBROLLBACK</code></p>
                              </td>
                              <td align="left" valign="top" width="18%" headers="d1125079e701 d1125079e675 ">
                                 <p><code class="codeph">PLS_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d1125079e701 d1125079e678 ">
                                 <p><code class="codeph">XA_RBBASE</code></p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d1125079e701 d1125079e681 ">
                                 <p>Rollback was caused by an unspecified reason</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d1125079e717" headers="d1125079e672 ">
                                 <p><code class="codeph">XA_RBCOMMFAIL</code></p>
                              </td>
                              <td align="left" valign="top" width="18%" headers="d1125079e717 d1125079e675 ">
                                 <p><code class="codeph">PLS_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d1125079e717 d1125079e678 ">
                                 <p><code class="codeph">XA_RBBASE</code>+1
                                 </p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d1125079e717 d1125079e681 ">
                                 <p>Rollback was caused by a communication failure</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d1125079e734" headers="d1125079e672 ">
                                 <p><code class="codeph">XA_RBDEADLOCK</code></p>
                              </td>
                              <td align="left" valign="top" width="18%" headers="d1125079e734 d1125079e675 ">
                                 <p><code class="codeph">PLS_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d1125079e734 d1125079e678 ">
                                 <p><code class="codeph">XA_RBBASE</code>+2
                                 </p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d1125079e734 d1125079e681 ">
                                 <p>Deadlock was detected</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d1125079e751" headers="d1125079e672 ">
                                 <p><code class="codeph">XA_RBINTEGRITY</code></p>
                              </td>
                              <td align="left" valign="top" width="18%" headers="d1125079e751 d1125079e675 ">
                                 <p><code class="codeph">PLS_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d1125079e751 d1125079e678 ">
                                 <p><code class="codeph">XA_RBBASE</code>+3
                                 </p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d1125079e751 d1125079e681 ">
                                 <p>Condition that violates the integrity of the resources was detected</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d1125079e768" headers="d1125079e672 ">
                                 <p><code class="codeph">XA_RBOTHER</code></p>
                              </td>
                              <td align="left" valign="top" width="18%" headers="d1125079e768 d1125079e675 ">
                                 <p><code class="codeph">PLS_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d1125079e768 d1125079e678 ">
                                 <p><code class="codeph">XA_RBBASE</code>+4
                                 </p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d1125079e768 d1125079e681 ">
                                 <p>Resource manager rolled back the transaction for an unlisted reason</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d1125079e785" headers="d1125079e672 ">
                                 <p><code class="codeph">XA_RBPROTO</code></p>
                              </td>
                              <td align="left" valign="top" width="18%" headers="d1125079e785 d1125079e675 ">
                                 <p><code class="codeph">PLS_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d1125079e785 d1125079e678 ">
                                 <p><code class="codeph">XA_RBBASE</code>+5
                                 </p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d1125079e785 d1125079e681 ">
                                 <p>Protocol error occurred in the resource manager</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d1125079e802" headers="d1125079e672 ">
                                 <p><code class="codeph">XA_RBTIMEOUT</code></p>
                              </td>
                              <td align="left" valign="top" width="18%" headers="d1125079e802 d1125079e675 ">
                                 <p><code class="codeph">PLS_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d1125079e802 d1125079e678 ">
                                 <p><code class="codeph">XA_RBBASE</code>+6
                                 </p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d1125079e802 d1125079e681 ">
                                 <p>transaction branch took long</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d1125079e819" headers="d1125079e672 ">
                                 <p><code class="codeph">XA_RBTRANSIENT</code></p>
                              </td>
                              <td align="left" valign="top" width="18%" headers="d1125079e819 d1125079e675 ">
                                 <p><code class="codeph">PLS_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d1125079e819 d1125079e678 ">
                                 <p><code class="codeph">XA_RBBASE</code>+7
                                 </p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d1125079e819 d1125079e681 ">
                                 <p>May retry the transaction branch</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d1125079e836" headers="d1125079e672 ">
                                 <p><code class="codeph">XA_RBEND</code></p>
                              </td>
                              <td align="left" valign="top" width="18%" headers="d1125079e836 d1125079e675 ">
                                 <p><code class="codeph">PLS_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d1125079e836 d1125079e678 ">
                                 <p><code class="codeph">XA_RBTRANSIENT</code></p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d1125079e836 d1125079e681 ">
                                 <p>Inclusive upper bound of the rollback codes</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d1125079e852" headers="d1125079e672 ">
                                 <p><code class="codeph">XA_NOMIGRATE</code></p>
                              </td>
                              <td align="left" valign="top" width="18%" headers="d1125079e852 d1125079e675 ">
                                 <p><code class="codeph">PLS_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d1125079e852 d1125079e678 ">
                                 <p>9</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d1125079e852 d1125079e681 ">
                                 <p>Transaction branch may have been heuristically completed</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d1125079e868" headers="d1125079e672 ">
                                 <p><code class="codeph">XA_HEURHAZ</code></p>
                              </td>
                              <td align="left" valign="top" width="18%" headers="d1125079e868 d1125079e675 ">
                                 <p><code class="codeph">PLS_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d1125079e868 d1125079e678 ">
                                 <p>8</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d1125079e868 d1125079e681 ">
                                 <p>Transaction branch may have been heuristically completed</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d1125079e883" headers="d1125079e672 ">
                                 <p><code class="codeph">XA_HEURCOM</code></p>
                              </td>
                              <td align="left" valign="top" width="18%" headers="d1125079e883 d1125079e675 ">
                                 <p><code class="codeph">PLS_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d1125079e883 d1125079e678 ">
                                 <p>7</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d1125079e883 d1125079e681 ">
                                 <p>Transaction branch has been heuristically committed</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d1125079e898" headers="d1125079e672 ">
                                 <p><code class="codeph">XA_HEURRB</code></p>
                              </td>
                              <td align="left" valign="top" width="18%" headers="d1125079e898 d1125079e675 ">
                                 <p><code class="codeph">PLS_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d1125079e898 d1125079e678 ">
                                 <p>6</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d1125079e898 d1125079e681 ">
                                 <p>Transaction branch has been heuristically rolled back</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d1125079e913" headers="d1125079e672 ">
                                 <p><code class="codeph">XA_HEURMIX</code></p>
                              </td>
                              <td align="left" valign="top" width="18%" headers="d1125079e913 d1125079e675 ">
                                 <p><code class="codeph">PLS_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d1125079e913 d1125079e678 ">
                                 <p>5</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d1125079e913 d1125079e681 ">
                                 <p>Some of the transaction branches have been heuristically committed, others rolled back</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d1125079e928" headers="d1125079e672 ">
                                 <p><code class="codeph">XA_RETRY</code></p>
                              </td>
                              <td align="left" valign="top" width="18%" headers="d1125079e928 d1125079e675 ">
                                 <p><code class="codeph">PLS_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d1125079e928 d1125079e678 ">
                                 <p>4</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d1125079e928 d1125079e681 ">
                                 <p>Routine returned with no effect and may be re-issued</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d1125079e943" headers="d1125079e672 ">
                                 <p><code class="codeph">XA_RDONLY</code></p>
                              </td>
                              <td align="left" valign="top" width="18%" headers="d1125079e943 d1125079e675 ">
                                 <p><code class="codeph">PLS_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d1125079e943 d1125079e678 ">
                                 <p>3</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d1125079e943 d1125079e681 ">
                                 <p>Transaction was read-only and has been committed</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d1125079e958" headers="d1125079e672 ">
                                 <p><code class="codeph">XA_OK</code></p>
                              </td>
                              <td align="left" valign="top" width="18%" headers="d1125079e958 d1125079e675 ">
                                 <p><code class="codeph">PLS_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d1125079e958 d1125079e678 ">
                                 <p>0</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d1125079e958 d1125079e681 ">
                                 <p>Normal execution</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d1125079e973" headers="d1125079e672 ">
                                 <p><code class="codeph">XAER_ASYNC</code></p>
                              </td>
                              <td align="left" valign="top" width="18%" headers="d1125079e973 d1125079e675 ">
                                 <p><code class="codeph">PLS_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d1125079e973 d1125079e678 ">
                                 <p>-2</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d1125079e973 d1125079e681 ">
                                 <p>Asynchronous operation already outstanding</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d1125079e988" headers="d1125079e672 ">
                                 <p><code class="codeph">XAER_RMERR</code></p>
                              </td>
                              <td align="left" valign="top" width="18%" headers="d1125079e988 d1125079e675 ">
                                 <p><code class="codeph">PLS_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d1125079e988 d1125079e678 ">
                                 <p>-3</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d1125079e988 d1125079e681 ">
                                 <p>Resource manager error occurred in the transaction branch</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d1125079e1003" headers="d1125079e672 ">
                                 <p><code class="codeph">XAER_NOTA</code></p>
                              </td>
                              <td align="left" valign="top" width="18%" headers="d1125079e1003 d1125079e675 ">
                                 <p><code class="codeph">PLS_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d1125079e1003 d1125079e678 ">
                                 <p>-4</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d1125079e1003 d1125079e681 ">
                                 <p>XID is not valid</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d1125079e1018" headers="d1125079e672 ">
                                 <p><code class="codeph">XAER_INVAL</code></p>
                              </td>
                              <td align="left" valign="top" width="18%" headers="d1125079e1018 d1125079e675 ">
                                 <p><code class="codeph">PLS_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d1125079e1018 d1125079e678 ">
                                 <p>-5</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d1125079e1018 d1125079e681 ">
                                 <p>Invalid arguments were given</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d1125079e1034" headers="d1125079e672 ">
                                 <p><code class="codeph">XAER_PROTO</code></p>
                              </td>
                              <td align="left" valign="top" width="18%" headers="d1125079e1034 d1125079e675 ">
                                 <p><code class="codeph">PLS_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d1125079e1034 d1125079e678 ">
                                 <p>-6</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d1125079e1034 d1125079e681 ">
                                 <p>Routine invoked in an improper context</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d1125079e1049" headers="d1125079e672 ">
                                 <p><code class="codeph">XAER_RMFAIL</code></p>
                              </td>
                              <td align="left" valign="top" width="18%" headers="d1125079e1049 d1125079e675 ">
                                 <p><code class="codeph">PLS_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d1125079e1049 d1125079e678 ">
                                 <p>-7</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d1125079e1049 d1125079e681 ">
                                 <p>Resource manager unavailable</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d1125079e1064" headers="d1125079e672 ">
                                 <p><code class="codeph">XAER_DUPID</code></p>
                              </td>
                              <td align="left" valign="top" width="18%" headers="d1125079e1064 d1125079e675 ">
                                 <p><code class="codeph">PLS_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d1125079e1064 d1125079e678 ">
                                 <p>-8</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d1125079e1064 d1125079e681 ">
                                 <p>XID already exists</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="25%" id="d1125079e1079" headers="d1125079e672 ">
                                 <p><code class="codeph">XAER_OUTSIDE</code></p>
                              </td>
                              <td align="left" valign="top" width="18%" headers="d1125079e1079 d1125079e675 ">
                                 <p><code class="codeph">PLS_INTEGER</code></p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d1125079e1079 d1125079e678 ">
                                 <p>-9</p>
                              </td>
                              <td align="left" valign="top" width="33%" headers="d1125079e1079 d1125079e681 ">
                                 <p>Resource manager doing work outside global transaction</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="ARPLS69156"></a><a id="ARPLS69156"></a><div class="props_rev_3"><a id="GUID-40814FCC-E43B-411A-A27D-AC63DF20732E" name="GUID-40814FCC-E43B-411A-A27D-AC63DF20732E"></a><h3 id="ARPLS-GUID-40814FCC-E43B-411A-A27D-AC63DF20732E" class="sect3"><span class="enumeration_section">185.4 </span>DBMS_XA Operational Notes
               </h3>
               <div>
                  <p>In compliance with the XA specification of the X/Open CAE Standard for Distributed Transaction Processing, <code class="codeph">XA_PREPARE</code>/<code class="codeph">COMMIT</code>/ <code class="codeph">ROLLBACK</code>/<code class="codeph">FORGET</code> may not be called when the transaction is still associated with the current session. Only after <code class="codeph">XA_END</code> has been called so that there is not any transaction associated with the current session, the application may call <code class="codeph">XA_PREPARE</code>/<code class="codeph">COMMIT</code>/ <code class="codeph">ROLLBACK</code>/<code class="codeph">FORGET</code>. 
                  </p>
                  <div class="section">
                     <p><code class="codeph">XAER_PROTO</code> error is returned from <code class="codeph">XA_PREPARE</code>/<code class="codeph">COMMIT</code>/<code class="codeph">ROLLBACK</code>/<code class="codeph">FORGET</code> if a transaction is being associated with the current session.
                     </p>
                     <p>Prior to calling any of the package subprograms, a connection/session must have already been established to the Oracle database server backend, or a resource manager. Resource manager identifiers are not supported. If multiple resource managers are involved, multiple connections/sessions must be pre-established to each resource manager before calling any the package subprograms. If multiple connections/sessions are established during the course of global transaction processing, the caller must ensure that all of those connections/sessions associated with a specific global transaction branch identifier (XID) are established to the same resource manager.</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS69157"></a><a id="ARPLS69157"></a><div class="props_rev_3"><a id="GUID-BAB2807B-7F40-463F-BEA3-0253944BE576" name="GUID-BAB2807B-7F40-463F-BEA3-0253944BE576"></a><h3 id="ARPLS-GUID-BAB2807B-7F40-463F-BEA3-0253944BE576" class="sect3"><span class="enumeration_section">185.5 </span>DBMS_XA Data Structures
               </h3>
               <div>
                  <p>The <code class="codeph">DBMS_XA</code> package uses this <code class="codeph">OBJECT</code> type and associated <code class="codeph">TABLE</code> type.
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-BAB2807B-7F40-463F-BEA3-0253944BE576__GUID-A3550EDB-3344-4C06-A18E-79AFDF5FD63E">OBJECT Types</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="DBMS_XA.html#GUID-310813B4-B1BD-4022-AFD5-A44D4C5133F6" title="The PL/SQL XA interface allows the PL/SQL application to define a global transaction branch id (XID) and associate/disassociate the current session with the transaction branch. XID is defined as a PL/SQL object type.">DBMS_XA_XID Object Type</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-BAB2807B-7F40-463F-BEA3-0253944BE576__GUID-96540941-F6B9-4449-A2B4-11F85B0E0EB0">TABLE Types</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="DBMS_XA.html#GUID-D6DAAF67-611E-4C06-A433-212C5C259726" title="This type is used to define an array of xid that represent a list of global transaction branches.">DBMS_XA_XID_ARRAY Table Type</a></p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="ARPLS69158"></a><a id="ARPLS69159"></a><a id="ARPLS69159"></a><a id="ARPLS69158"></a><div class="props_rev_3"><a id="GUID-310813B4-B1BD-4022-AFD5-A44D4C5133F6" name="GUID-310813B4-B1BD-4022-AFD5-A44D4C5133F6"></a><h4 id="ARPLS-GUID-310813B4-B1BD-4022-AFD5-A44D4C5133F6" class="sect4"><span class="enumeration_section">185.5.1 </span>DBMS_XA DBMS_XA_XID Object Type
                  </h4>
                  <div>
                     <p>The PL/SQL XA interface allows the PL/SQL application to define a global transaction branch id (XID) and associate/disassociate the current session with the transaction branch. XID is defined as a PL/SQL object type. </p>
                     <div class="section">
                        <div class="infoboxnote" id="GUID-310813B4-B1BD-4022-AFD5-A44D4C5133F6__GUID-D093D6E5-7D25-4E2D-B976-627B75D2EE1E">
                           <p class="notep1">Note:</p>
                           <p>For more information, see "Distributed Transaction Processing: The XA Specification" in the public XA Standard. </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-310813B4-B1BD-4022-AFD5-A44D4C5133F6__GUID-A145AF50-7350-467B-A8D0-EEBAF7912F64">Syntax</p><pre class="oac_no_warn" dir="ltr">TYPE DBMS_XA_XID IS OBJECT(
  formatid      NUMBER,
  gtrid         RAW(64),
  bqual         RAW(64),
  constructor function DBMS_XA_XID(
       gtrid     IN   NUMBER)
    RETURN SELF AS RESULT,
  constructor function DBMS_XA_XID (
       gtrid     IN   RAW, 
       bqual     IN   RAW)
    <code class="codeph">RETURN SELF AS RESULT</code>,
  constructor function DBMS_XA_XID(
       formatid  IN   NUMBER,
       gtrid     IN   RAW,
       bqual     IN   RAW DEFAULT HEXTORAW('00000000000000000000000000000001'))
    <code class="codeph">RETURN SELF AS RESULT</code>)</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-310813B4-B1BD-4022-AFD5-A44D4C5133F6__GUID-D74E2A9A-CBDB-4DC1-A08D-9FB256B3067F">Attributes</p>
                        <div class="tblformal" id="GUID-310813B4-B1BD-4022-AFD5-A44D4C5133F6__GUID-59043300-58C7-4223-A8A3-D952C1549B2B">
                           <p class="titleintable">Table 185-3 DBMS_XA_XID Object Type</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_XA_XID Object Type" summary="This table liststhe attributes of the DBMS_XA_XID object type and briefly describes them." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1125079e1469">Attribute</th>
                                    <th align="left" valign="bottom" width="69%" id="d1125079e1472">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1125079e1477" headers="d1125079e1469 ">
                                       <p><code class="codeph">formatid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1125079e1477 d1125079e1472 ">
                                       <p>Format identifier, a number identifying different transaction managers (TM)</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1125079e1485" headers="d1125079e1469 ">
                                       <p><code class="codeph">gtrid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1125079e1485 d1125079e1472 ">
                                       <p>Global transaction identifier uniquely identifying a global transaction, of which the maximum size is 64 bytes</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1125079e1493" headers="d1125079e1469 ">
                                       <p><code class="codeph">bqual</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1125079e1493 d1125079e1472 ">
                                       <p>Branch qualifier, of which the maximum size is 64 bytes</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS69160"></a><a id="ARPLS69160"></a><div class="props_rev_3"><a id="GUID-D6DAAF67-611E-4C06-A433-212C5C259726" name="GUID-D6DAAF67-611E-4C06-A433-212C5C259726"></a><h4 id="ARPLS-GUID-D6DAAF67-611E-4C06-A433-212C5C259726" class="sect4"><span class="enumeration_section">185.5.2 </span>DBMS_XA DBMS_XA_XID_ARRAY Table Type
                  </h4>
                  <div>
                     <p>This type is used to define an array of <code class="codeph">xid</code> that represent a list of global transaction branches.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-D6DAAF67-611E-4C06-A433-212C5C259726__GUID-FEEC37CF-E288-4E7B-996F-8AD3F9A13224">Syntax</p><pre class="oac_no_warn" dir="ltr">TYPE DBMS_XA_XID_ARRAY as TABLE of DBMS_XA_XID</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="ARPLS69161"></a><a id="ARPLS69162"></a><a id="ARPLS69162"></a><a id="ARPLS69161"></a><div class="props_rev_3"><a id="GUID-F21B6DFA-2785-49B3-BFF0-CAC7181C5FA9" name="GUID-F21B6DFA-2785-49B3-BFF0-CAC7181C5FA9"></a><h3 id="ARPLS-GUID-F21B6DFA-2785-49B3-BFF0-CAC7181C5FA9" class="sect3"><span class="enumeration_section">185.6 </span>Summary of DBMS_XA Subprograms
               </h3>
               <div>
                  <p>This table lists the <code class="codeph">DBMS_XA</code> subprograms and briefly describes them.
                  </p>
                  <div class="tblformal" id="GUID-F21B6DFA-2785-49B3-BFF0-CAC7181C5FA9__GUID-7F6D5B24-8F5E-4D15-A75D-7AA09B94A34E">
                     <p class="titleintable">Table 185-4 DBMS_XA Package Subprograms</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_XA Package Subprograms" summary="This table lists the DBMS_XA subprograms in alphabetical order and briefly describes them." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="35%" id="d1125079e1700">Subprogram</th>
                              <th align="left" valign="bottom" width="65%" id="d1125079e1703">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d1125079e1708" headers="d1125079e1700 ">
                                 <p><a href="DBMS_XA.html#GUID-534C5304-32D7-46D7-A059-83FF33A8A2F9" title="This procedure can be used to synchronize in-doubt transactions when one of the Oracle Real Application Clusters (Oracle RAC) instances fails.">DIST_TXN_SYNC Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d1125079e1708 d1125079e1703 ">
                                 <p>Used in recovery of synchronization when utilizing Oracle Real Application Clusters (Oracle RAC)</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d1125079e1720" headers="d1125079e1700 ">
                                 <p><a href="DBMS_XA.html#GUID-E183C7FF-6818-430B-B92D-7691DC9F8153" title="This function commits the global transaction specified by xid.">XA_COMMIT Function</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d1125079e1720 d1125079e1703 ">
                                 <p>Commits the global transaction specified by <code class="codeph">xid</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d1125079e1737" headers="d1125079e1700 ">
                                 <p><a href="DBMS_XA.html#GUID-AF35D417-FCAF-4076-8C3F-EEDA9B9B964E" title="This function disassociates the current session from the transaction branch specified by xid.">XA_END Function</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d1125079e1737 d1125079e1703 ">
                                 <p>Disassociates the current session from the transaction branch specified by <code class="codeph">xid</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d1125079e1754" headers="d1125079e1700 ">
                                 <p><a href="DBMS_XA.html#GUID-7C7ED6D4-AE4B-45BE-B23B-F918FD49F8AA" title="This function informs the resource manager to forget about a heuristically committed or rolled back transaction branch.">XA_FORGET Function</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d1125079e1754 d1125079e1703 ">
                                 <p>Informs the resource manager to forget about a heuristically committed or rolled back transaction branch.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d1125079e1766" headers="d1125079e1700 ">
                                 <p><a href="DBMS_XA.html#GUID-0FDEBDC0-3A1A-43BF-8EE3-C8C58054ED08" title="This function obtains the last Oracle error code, in case of failure of previous XA calls.">XA_GETLASTOER Function</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d1125079e1766 d1125079e1703 ">
                                 <p>Obtains the last Oracle error code, in case of failure of previous XA calls.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d1125079e1778" headers="d1125079e1700 ">
                                 <p><a href="DBMS_XA.html#GUID-F19AA44E-5B1D-45BF-8B5B-2079E07CB3B1" title="This function prepares the transaction branch specified in xid for committing the transaction subsequently if possible.">XA_PREPARE Function</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d1125079e1778 d1125079e1703 ">
                                 <p>Prepares the transaction branch specified in <code class="codeph">xid</code> for committing the transaction subsequently if possible
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d1125079e1796" headers="d1125079e1700 ">
                                 <p><a href="DBMS_XA.html#GUID-4EBFF4D3-BAC8-4BF4-9573-1270786FC1CE" title="This function obtains a list of prepared or heuristically completed transaction branches from a resource manager.">XA_RECOVER Function</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d1125079e1796 d1125079e1703 ">
                                 <p>Obtains a list of prepared or heuristically completed transaction branches from a resource manager</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d1125079e1808" headers="d1125079e1700 ">
                                 <p><a href="DBMS_XA.html#GUID-AB177806-535A-4221-B678-0A5630289AEC" title="This function informs the resource manager to roll back work done on behalf of a transaction branch.">XA_ROLLBACK Function</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d1125079e1808 d1125079e1703 ">
                                 <p>Informs the resource manager to roll back work done on behalf of a transaction branch </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d1125079e1820" headers="d1125079e1700 ">
                                 <p><a href="DBMS_XA.html#GUID-606B11FB-5AF6-4737-A81C-BF65D9E14545" title="This function sets the transaction timeout in seconds for the current session.">XA_SETTIMEOUT Function</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d1125079e1820 d1125079e1703 ">
                                 <p>Sets the transaction timeout in seconds for the current session</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d1125079e1832" headers="d1125079e1700 ">
                                 <p><a href="DBMS_XA.html#GUID-61B54B33-22CE-4860-95FA-5B6490FC7119" title="This function associates the current session with a transaction branch specified by the xid.">XA_START Function</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d1125079e1832 d1125079e1703 ">
                                 <p>Associates the current session with the transaction branch specified by <code class="codeph">xid</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="ARPLS69163"></a><a id="ARPLS69163"></a><div class="props_rev_3"><a id="GUID-534C5304-32D7-46D7-A059-83FF33A8A2F9" name="GUID-534C5304-32D7-46D7-A059-83FF33A8A2F9"></a><h4 id="ARPLS-GUID-534C5304-32D7-46D7-A059-83FF33A8A2F9" class="sect4"><span class="enumeration_section">185.6.1 </span>DIST_TXN_SYNC Procedure
                  </h4>
                  <div>
                     <p>This procedure can be used to synchronize in-doubt transactions when one of the Oracle Real Application Clusters (Oracle RAC) instances fails. </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-534C5304-32D7-46D7-A059-83FF33A8A2F9__GUID-2B8F3C5E-91B7-45D3-B910-9F50429B5F5B">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_XA.DIST_TXN_SYNC; </pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS69164"></a><a id="ARPLS69165"></a><a id="ARPLS69165"></a><a id="ARPLS69164"></a><div class="props_rev_3"><a id="GUID-E183C7FF-6818-430B-B92D-7691DC9F8153" name="GUID-E183C7FF-6818-430B-B92D-7691DC9F8153"></a><h4 id="ARPLS-GUID-E183C7FF-6818-430B-B92D-7691DC9F8153" class="sect4"><span class="enumeration_section">185.6.2 </span>XA_COMMIT Function
                  </h4>
                  <div>
                     <p>This function commits the global transaction specified by <code class="codeph">xid</code>.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-E183C7FF-6818-430B-B92D-7691DC9F8153__GUID-5879765A-C9B9-41ED-90CB-D37641283668">Syntax </p><pre class="oac_no_warn" dir="ltr">DBMS_XA.XA_COMMIT (
   xid       IN  DBMS_XA_XID,
   onePhase  IN  BOOLEAN)
RETURN PLS_INTEGER;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E183C7FF-6818-430B-B92D-7691DC9F8153__GUID-CCA1C21F-F6BA-4095-9225-F3DF76780296">Parameters</p>
                        <div class="tblformal" id="GUID-E183C7FF-6818-430B-B92D-7691DC9F8153__GUID-FCB3601F-2B6F-4994-B236-EDB4C14B3A12">
                           <p class="titleintable">Table 185-5 <span class="italic"><span class="bold">XA_COMMIT Function Parameters</span></span></p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="XA_COMMIT Function Parameters" summary="This table describes the Parameters of DBMS_XA.XA_COMMIT subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1125079e2059">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d1125079e2062">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1125079e2067" headers="d1125079e2059 ">
                                       <p><code class="codeph">xid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1125079e2067 d1125079e2062 ">
                                       <p>See <a href="DBMS_XA.html#GUID-310813B4-B1BD-4022-AFD5-A44D4C5133F6" title="The PL/SQL XA interface allows the PL/SQL application to define a global transaction branch id (XID) and associate/disassociate the current session with the transaction branch. XID is defined as a PL/SQL object type.">DBMS_XA_XID Object Type</a></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1125079e2081" headers="d1125079e2059 ">
                                       <p><code class="codeph">onePhase</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1125079e2081 d1125079e2062 ">
                                       <p>If <code class="codeph">TRUE</code>, apply single phase commit
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E183C7FF-6818-430B-B92D-7691DC9F8153__GUID-5B6A30D7-05B0-4AA0-BE8B-B32374BC67A9">Return Values</p>
                        <p>See <a href="DBMS_XA.html#GUID-CB96E823-2462-4350-BF9A-2ACE6F29A643__BABCHFEI" title="This table describes constants used by DBMS_XA subprograms.">Table 185-2</a>. Possible return values indicating error are: <code class="codeph">XAER_RMERR</code>, <code class="codeph">XAER_RMFAIL</code>, <code class="codeph">XAER_NOTA</code>, <code class="codeph">XAER_INVAL</code>, or <code class="codeph">XAER_PROTO</code>. Other possible return values include: <code class="codeph">XA_OK</code>, <code class="codeph">XA_RB</code>*, <code class="codeph">XA_HEURHAZ</code>, <code class="codeph">XA_HEURCOM</code>, <code class="codeph">XA_HEURRB</code>, and <code class="codeph">XA_HEURMIX</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E183C7FF-6818-430B-B92D-7691DC9F8153__GUID-866006D1-7FB8-4931-81D9-0F0BA69AA45C">Usage Notes</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>An application must not call <code class="codeph">COMMIT</code>, but instead must call <code class="codeph">XA_COMMIT</code> to commit the global transaction specified by <code class="codeph">xid</code>. If a user needs to commit a transaction branch that is created by other users, <code class="codeph">FORCE</code> <code class="codeph">ANY</code> <code class="codeph">TRANSACTION</code> must be granted to the user.
                              </p>
                           </li>
                           <li>
                              <p>If <code class="codeph">onePhase</code> is <code class="codeph">TRUE</code>, the resource manager should use a one-phase commit protocol to commit the work done on behalf of <code class="codeph">xid</code>. Otherwise, only if all branches of the global transaction have been prepared successfully and the preceding <code class="codeph">XA_PREPARE</code> call has returned <code class="codeph">XA_OK</code>, should <code class="codeph">XA_COMMIT</code> be called. 
                              </p>
                           </li>
                           <li>
                              <p>The application must make a separate <code class="codeph">XA_COMMIT</code> call for each of the transaction branches of the global transaction for which <code class="codeph">XA_PREPARE</code> has returned <code class="codeph">XA_OK</code>.
                              </p>
                           </li>
                           <li>
                              <p>If the resource manager did not commit the transaction and the parameter <code class="codeph">onePhase</code> is set to <code class="codeph">TRUE</code>, the resource manager may return one of the <code class="codeph">XA_RB</code>* code. Upon return, the resource manager has rolled back the branch's work and has released all held resources.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS69166"></a><a id="ARPLS69167"></a><a id="ARPLS69167"></a><a id="ARPLS69166"></a><div class="props_rev_3"><a id="GUID-AF35D417-FCAF-4076-8C3F-EEDA9B9B964E" name="GUID-AF35D417-FCAF-4076-8C3F-EEDA9B9B964E"></a><h4 id="ARPLS-GUID-AF35D417-FCAF-4076-8C3F-EEDA9B9B964E" class="sect4"><span class="enumeration_section">185.6.3 </span>XA_END Function
                  </h4>
                  <div>
                     <p>This function disassociates the current session from the transaction branch specified by <code class="codeph">xid</code>.
                     </p>
                     <div class="section">
                        <p>A transaction manager calls <code class="codeph">XA_END</code> when a thread of control finishes, or needs to suspend work on, a transaction branch. This occurs when the application completes a portion of its work, either partially or in its entirety (for example, before blocking on some event in order to let other threads of control work on the branch). When <code class="codeph">XA_END</code> successfully returns, the calling thread of control is no longer actively associated with the branch but the branch still exists
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AF35D417-FCAF-4076-8C3F-EEDA9B9B964E__GUID-F3F5D129-36A0-4B51-9D51-C5200A03089D">Syntax </p><pre class="oac_no_warn" dir="ltr">DBMS_XA.XA_END (
   xid   IN  DBMS_XA_XID,
   flag  IN  PLS_INTEGER)
RETURN PLS_INTEGER;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AF35D417-FCAF-4076-8C3F-EEDA9B9B964E__GUID-9C44CDE8-5244-41CB-9DE5-091837C5FE36">Parameters</p>
                        <div class="tblformal" id="GUID-AF35D417-FCAF-4076-8C3F-EEDA9B9B964E__GUID-ABB30DA5-636C-4220-A4E8-ADAC0E634813">
                           <p class="titleintable">Table 185-6 <span class="italic"><span class="bold">XA_END Function Parameters</span></span></p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="XA_END Function Parameters" summary="This table describes the Parameters of DBMS_XA.XA_END subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1125079e2332">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d1125079e2335">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1125079e2340" headers="d1125079e2332 ">
                                       <p><code class="codeph">xid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1125079e2340 d1125079e2335 ">
                                       <p>See <a href="DBMS_XA.html#GUID-310813B4-B1BD-4022-AFD5-A44D4C5133F6" title="The PL/SQL XA interface allows the PL/SQL application to define a global transaction branch id (XID) and associate/disassociate the current session with the transaction branch. XID is defined as a PL/SQL object type.">DBMS_XA_XID Object Type</a></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1125079e2354" headers="d1125079e2332 ">
                                       <p><code class="codeph">flag</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1125079e2354 d1125079e2335 ">
                                       <p>See <a href="DBMS_XA.html#GUID-CB96E823-2462-4350-BF9A-2ACE6F29A643__BEHJAGEE" title="This table describes constants used by DBMS_XA subprograms.">Table 185-1</a>.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AF35D417-FCAF-4076-8C3F-EEDA9B9B964E__GUID-E8703022-662B-49DD-BC8B-C48CE11B1FD7">Return Values</p>
                        <p>See <a href="DBMS_XA.html#GUID-CB96E823-2462-4350-BF9A-2ACE6F29A643__BABCHFEI" title="This table describes constants used by DBMS_XA subprograms.">Table 185-2</a>. Possible return values in error are <code class="codeph">XAER_RMERR</code>, <code class="codeph">XAER_RMFAILED</code>, <code class="codeph">XAER_NOTA</code>, <code class="codeph">XAER_INVAL</code>, <code class="codeph">XAER_PROTO</code>, or <code class="codeph">XA_RB</code>*.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AF35D417-FCAF-4076-8C3F-EEDA9B9B964E__GUID-94D88503-44DC-464F-A6F8-93C83A4C1D77">Usage Notes</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">TMSUCCESS</code> or <code class="codeph">TMSUSPEND</code> may be specified in flag, and the transaction branch is disassociated with the current session in detached state if the return value is <code class="codeph">XA_OK</code>. <code class="codeph">TMFAIL</code> is not supported. <code class="codeph">XA_END</code> may be called with either <code class="codeph">TMSUCCESS</code> or <code class="codeph">TMSUSPEND</code> to disassociate the transaction branch identified by xid from the current session.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">XA_OK</code> is returned if <code class="codeph">XA_END</code> succeeds. An application must check the return value and handle error cases. Only when <code class="codeph">XA_OK</code> is returned, the application should proceed for other normal operations.
                              </p>
                           </li>
                           <li>
                              <p>Executing a <code class="codeph">ROLLBACK</code> statement without calling <code class="codeph">XA_END</code> first will rollback the changes made by the current transaction. However, the transaction context is still associated with the current session until <code class="codeph">XA_END</code> is called.
                              </p>
                           </li>
                           <li>
                              <p>Executing a <code class="codeph">COMMIT</code> statement without calling <code class="codeph">XA_END</code> first will result in <code class="codeph">ORA</code>-<code class="codeph">02089</code>: <code class="codeph">COMMIT</code> is not allowed in a subordinate session. 
                              </p>
                           </li>
                           <li>
                              <p>Executing a COMMIT or a ROLLBACK statement after <code class="codeph">XA_END</code> has no effect on the transaction identified by <code class="codeph">xid</code>, since this transaction is no longer associated with the current session. To commit the transaction ID or the <a href="DBMS_XA.html#GUID-AB177806-535A-4221-B678-0A5630289AEC" title="This function informs the resource manager to roll back work done on behalf of a transaction branch.">XA_ROLLBACK Function</a> to commit/rollback the transaction specified by the <code class="codeph">xid</code>.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS69168"></a><a id="ARPLS69169"></a><a id="ARPLS69169"></a><a id="ARPLS69168"></a><div class="props_rev_3"><a id="GUID-7C7ED6D4-AE4B-45BE-B23B-F918FD49F8AA" name="GUID-7C7ED6D4-AE4B-45BE-B23B-F918FD49F8AA"></a><h4 id="ARPLS-GUID-7C7ED6D4-AE4B-45BE-B23B-F918FD49F8AA" class="sect4"><span class="enumeration_section">185.6.4 </span>XA_FORGET Function
                  </h4>
                  <div>
                     <p>This function informs the resource manager to forget about a heuristically committed or rolled back transaction branch.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-7C7ED6D4-AE4B-45BE-B23B-F918FD49F8AA__GUID-42A4E721-D5FA-42E9-97C1-2C30259FD2A0">Syntax </p><pre class="oac_no_warn" dir="ltr">DBMS_XA.XA_FORGET (
   xid       IN  DBMS_XA_XID)
RETURN PLS_INTEGER;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7C7ED6D4-AE4B-45BE-B23B-F918FD49F8AA__GUID-FE71C854-8C37-4B9C-A658-22BE3933698F">Parameters</p>
                        <div class="tblformal" id="GUID-7C7ED6D4-AE4B-45BE-B23B-F918FD49F8AA__GUID-BD3BFAD7-7819-458C-A62F-33D73973DDDC">
                           <p class="titleintable">Table 185-7 <span class="italic"><span class="bold">XA_FORGET Function Parameters</span></span></p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="XA_FORGET Function Parameters" summary="This table describes the Parameters of DBMS_XA.XA_FORGET subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1125079e2595">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d1125079e2598">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1125079e2603" headers="d1125079e2595 ">
                                       <p><code class="codeph">xid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1125079e2603 d1125079e2598 ">
                                       <p>See <a href="DBMS_XA.html#GUID-310813B4-B1BD-4022-AFD5-A44D4C5133F6" title="The PL/SQL XA interface allows the PL/SQL application to define a global transaction branch id (XID) and associate/disassociate the current session with the transaction branch. XID is defined as a PL/SQL object type.">DBMS_XA_XID Object Type</a></p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7C7ED6D4-AE4B-45BE-B23B-F918FD49F8AA__GUID-F8C5DFBE-CCF9-4382-9D05-9715C2F6B97B">Return Values</p>
                        <p>See <a href="DBMS_XA.html#GUID-CB96E823-2462-4350-BF9A-2ACE6F29A643__BABCHFEI" title="This table describes constants used by DBMS_XA subprograms.">Table 185-2</a>. Possible return values are <code class="codeph">XA_OK</code>, <code class="codeph">XAER_RMERR</code>, <code class="codeph">XAER_RMFAIL</code>, <code class="codeph">XAER_NOTA</code>, <code class="codeph">XAER_INVAL</code>, or <code class="codeph">XAER_PROTO</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS69170"></a><a id="ARPLS69170"></a><div class="props_rev_3"><a id="GUID-0FDEBDC0-3A1A-43BF-8EE3-C8C58054ED08" name="GUID-0FDEBDC0-3A1A-43BF-8EE3-C8C58054ED08"></a><h4 id="ARPLS-GUID-0FDEBDC0-3A1A-43BF-8EE3-C8C58054ED08" class="sect4"><span class="enumeration_section">185.6.5 </span>XA_GETLASTOER Function
                  </h4>
                  <div>
                     <p>This function obtains the last Oracle error code, in case of failure of previous XA calls.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-0FDEBDC0-3A1A-43BF-8EE3-C8C58054ED08__GUID-E0C0804C-023A-45D7-A1FB-2E04F5B77C60">Syntax </p><pre class="oac_no_warn" dir="ltr">DBMS_XA.XA_GETLASTOER  
 RETURN PLS_INTEGER;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0FDEBDC0-3A1A-43BF-8EE3-C8C58054ED08__GUID-E65E92AC-3837-4E92-B69D-6723F328E52F">Return Values</p>
                        <p>The return value carries the last Oracle error code.</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS69171"></a><a id="ARPLS69172"></a><a id="ARPLS69172"></a><a id="ARPLS69171"></a><div class="props_rev_3"><a id="GUID-F19AA44E-5B1D-45BF-8B5B-2079E07CB3B1" name="GUID-F19AA44E-5B1D-45BF-8B5B-2079E07CB3B1"></a><h4 id="ARPLS-GUID-F19AA44E-5B1D-45BF-8B5B-2079E07CB3B1" class="sect4"><span class="enumeration_section">185.6.6 </span>XA_PREPARE Function
                  </h4>
                  <div>
                     <p>This function prepares the transaction branch specified in <code class="codeph">xid</code> for committing the transaction subsequently if possible.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-F19AA44E-5B1D-45BF-8B5B-2079E07CB3B1__GUID-622B5DFA-4C2C-4AFB-88DC-E274BD718A1C">Syntax </p><pre class="oac_no_warn" dir="ltr">DBMS_XA.XA_PREPARE (
   xid   IN  DBMS_XA_XID)
RETURN PLS_INTEGER;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F19AA44E-5B1D-45BF-8B5B-2079E07CB3B1__GUID-E2ECA847-73EA-4C48-938B-8FE4E2D105BA">Parameters</p>
                        <div class="tblformal" id="GUID-F19AA44E-5B1D-45BF-8B5B-2079E07CB3B1__GUID-12680E1E-5767-42D2-8A08-BC8641505D16">
                           <p class="titleintable">Table 185-8 <span class="italic"><span class="bold">XA_PREPARE Function Parameters</span></span></p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="XA_PREPARE Function Parameters" summary="This table describes the Parameters of DBMS_XA.XA_PREPARE subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1125079e2861">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d1125079e2864">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1125079e2869" headers="d1125079e2861 ">
                                       <p><code class="codeph">xid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1125079e2869 d1125079e2864 ">
                                       <p>See <a href="DBMS_XA.html#GUID-310813B4-B1BD-4022-AFD5-A44D4C5133F6" title="The PL/SQL XA interface allows the PL/SQL application to define a global transaction branch id (XID) and associate/disassociate the current session with the transaction branch. XID is defined as a PL/SQL object type.">DBMS_XA_XID Object Type</a></p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F19AA44E-5B1D-45BF-8B5B-2079E07CB3B1__GUID-D8BEBE2A-A285-40FD-8014-22EFEA486F28">Return Values</p>
                        <p>See <a href="DBMS_XA.html#GUID-CB96E823-2462-4350-BF9A-2ACE6F29A643__BABCHFEI" title="This table describes constants used by DBMS_XA subprograms.">Table 185-2</a>. Possible return codes include: <code class="codeph">XA_OK</code>, <code class="codeph">XA_RDONLY</code>, <code class="codeph">XA_RB</code>*, <code class="codeph">XAER_RMERR</code>, <code class="codeph">XAER_RMFAIL</code>, <code class="codeph">XAER_NOTA</code>, <code class="codeph">XAER_INVAL</code>, or <code class="codeph">XAER_PROTO</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F19AA44E-5B1D-45BF-8B5B-2079E07CB3B1__GUID-4639F145-8C22-42FD-809D-A3F43150F05A">Usage Notes</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>If a user needs to prepare a transaction branch that is created by other users, <code class="codeph">FORCE</code> <code class="codeph">ANY</code> <code class="codeph">TRANSACTION</code> must be granted to the user.
                              </p>
                           </li>
                           <li>
                              <p>An application must keep track of all the branches of one global transaction, and prepare each transaction branch. Only if all branches of the global transaction have been prepared successfully and <code class="codeph">XA_PREPARE</code> has returned <code class="codeph">XA_OK</code>, the application may proceed to call <code class="codeph">XA_COMMIT</code>.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS69173"></a><a id="ARPLS69173"></a><div class="props_rev_3"><a id="GUID-4EBFF4D3-BAC8-4BF4-9573-1270786FC1CE" name="GUID-4EBFF4D3-BAC8-4BF4-9573-1270786FC1CE"></a><h4 id="ARPLS-GUID-4EBFF4D3-BAC8-4BF4-9573-1270786FC1CE" class="sect4"><span class="enumeration_section">185.6.7 </span>XA_RECOVER Function
                  </h4>
                  <div>
                     <p>This function obtains a list of prepared or heuristically completed transaction branches from a resource manager.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-4EBFF4D3-BAC8-4BF4-9573-1270786FC1CE__GUID-DDFEC683-1F6F-4FFC-85E0-504374C70822">Syntax </p><pre class="oac_no_warn" dir="ltr">DBMS_XA.XA_RECOVER 
 RETURN DBMS_XA_XID_ARRAY;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4EBFF4D3-BAC8-4BF4-9573-1270786FC1CE__GUID-A84459CC-4AE3-41AE-B124-86E65CB60EFF">Return Values</p>
                        <p>See <a href="DBMS_XA.html#GUID-D6DAAF67-611E-4C06-A433-212C5C259726" title="This type is used to define an array of xid that represent a list of global transaction branches.">DBMS_XA_XID_ARRAY Table Type</a></p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4EBFF4D3-BAC8-4BF4-9573-1270786FC1CE__GUID-CDB8A72F-2682-4E56-81D5-8B58EE64CA21">Usage Notes</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The flags <code class="codeph">TMSTARTSCAN</code>, <code class="codeph">TMENDSCAN</code>, <code class="codeph">TMNOFLAGS</code> are not supported.
                              </p>
                           </li>
                           <li>
                              <p>The privilege <code class="codeph">SELECT</code> <code class="codeph">ON</code> <code class="codeph">DBA_PENDING_TRANSACTIONS</code> must be granted to the user who needs to call <code class="codeph">XA_RECOVER</code>.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS69174"></a><a id="ARPLS69175"></a><a id="ARPLS69175"></a><a id="ARPLS69174"></a><div class="props_rev_3"><a id="GUID-AB177806-535A-4221-B678-0A5630289AEC" name="GUID-AB177806-535A-4221-B678-0A5630289AEC"></a><h4 id="ARPLS-GUID-AB177806-535A-4221-B678-0A5630289AEC" class="sect4"><span class="enumeration_section">185.6.8 </span>XA_ROLLBACK Function
                  </h4>
                  <div>
                     <p>This function informs the resource manager to roll back work done on behalf of a transaction branch.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-AB177806-535A-4221-B678-0A5630289AEC__GUID-2778E7B3-FF1A-4025-BA6E-77BDF91D0534">Syntax </p><pre class="oac_no_warn" dir="ltr">DBMS_XA.XA_ROLLBACK (
   xid       IN  DBMS_XA_XID)
 RETURN PLS_INTEGER;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AB177806-535A-4221-B678-0A5630289AEC__GUID-0E08D3A4-6456-4B94-8B5D-16DE8BCC90D7">Parameters</p>
                        <div class="tblformal" id="GUID-AB177806-535A-4221-B678-0A5630289AEC__GUID-7AB10B23-B2FB-4704-8473-AD7BB511FAE6">
                           <p class="titleintable">Table 185-9 <span class="italic"><span class="bold">XA_ROLLBACK Function Parameters</span></span></p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="XA_ROLLBACK Function Parameters" summary="This table describes the Parameters of DBMS_XA.XA_ROLLBACK subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1125079e3198">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d1125079e3201">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1125079e3206" headers="d1125079e3198 ">
                                       <p><code class="codeph">xid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1125079e3206 d1125079e3201 ">
                                       <p>See <a href="DBMS_XA.html#GUID-310813B4-B1BD-4022-AFD5-A44D4C5133F6" title="The PL/SQL XA interface allows the PL/SQL application to define a global transaction branch id (XID) and associate/disassociate the current session with the transaction branch. XID is defined as a PL/SQL object type.">DBMS_XA_XID Object Type</a></p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AB177806-535A-4221-B678-0A5630289AEC__GUID-AA3409D7-0510-429F-A26C-CA00851FA41D">Return Values</p>
                        <p>See <a href="DBMS_XA.html#GUID-CB96E823-2462-4350-BF9A-2ACE6F29A643__BABCHFEI" title="This table describes constants used by DBMS_XA subprograms.">Table 185-2</a>. Possible return values are: <code class="codeph">XA_OK</code>, <code class="codeph">XA_RB</code>*, <code class="codeph">XA_HEURHAZ</code>, <code class="codeph">XA_HEURCOM</code>, <code class="codeph">XA_HEURRB</code>, or <code class="codeph">XA_HEURMIX</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AB177806-535A-4221-B678-0A5630289AEC__GUID-4B3542BE-4404-4185-A48C-5FCCFD6ECCC3">Usage Notes</p>
                        <p>If a user needs to rollback a transaction branch that created by other users, the privilege <code class="codeph">FORCE</code> <code class="codeph">ANY</code> <code class="codeph">TRANSACTION</code> must be granted to the user.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS69176"></a><a id="ARPLS69177"></a><a id="ARPLS69177"></a><a id="ARPLS69176"></a><div class="props_rev_3"><a id="GUID-606B11FB-5AF6-4737-A81C-BF65D9E14545" name="GUID-606B11FB-5AF6-4737-A81C-BF65D9E14545"></a><h4 id="ARPLS-GUID-606B11FB-5AF6-4737-A81C-BF65D9E14545" class="sect4"><span class="enumeration_section">185.6.9 </span>XA_SETTIMEOUT Function
                  </h4>
                  <div>
                     <p>This function sets the transaction timeout in seconds for the current session.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-606B11FB-5AF6-4737-A81C-BF65D9E14545__GUID-541583CB-5A31-4FB1-9672-F647ABE766B0">Syntax </p><pre class="oac_no_warn" dir="ltr">DBMS_XA.XA_SETTIMEOUT (
   seconds  IN  PLS_INTEGER)
RETURN PLS_INTEGER;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-606B11FB-5AF6-4737-A81C-BF65D9E14545__GUID-B660AD2F-FA2F-4A75-92FC-7443BAD29191">Parameters</p>
                        <div class="tblformal" id="GUID-606B11FB-5AF6-4737-A81C-BF65D9E14545__GUID-3AB0AF93-A741-46CD-9AB7-501A19522D99">
                           <p class="titleintable">Table 185-10 <span class="italic"><span class="bold">XA_SETTIMEOUT Function Parameters</span></span></p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="XA_SETTIMEOUT Function Parameters" summary="This table describes the Parameters of DBMS_XA.XA_SETTIMEOUTT subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1125079e3374">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d1125079e3377">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1125079e3382" headers="d1125079e3374 ">
                                       <p><code class="codeph">seconds</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1125079e3382 d1125079e3377 ">
                                       <p>The timeout value indicates the maximum time in seconds that a transaction branch may be disassociated from the session before the system automatically aborts the transaction. The default value is 60 seconds.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-606B11FB-5AF6-4737-A81C-BF65D9E14545__GUID-85B174D6-9A12-4657-AAB2-2658A2D0F548">Return Values</p>
                        <p>See <a href="DBMS_XA.html#GUID-CB96E823-2462-4350-BF9A-2ACE6F29A643__BABCHFEI" title="This table describes constants used by DBMS_XA subprograms.">Table 185-2</a>. Possible return values are <code class="codeph">XA_OK</code>, <code class="codeph">XAER_RMERR</code>, <code class="codeph">XAER_RMFAIL</code>, or <code class="codeph">XAER_INVAL</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-606B11FB-5AF6-4737-A81C-BF65D9E14545__GUID-D5C1FDC1-8378-42DE-A76F-6B154935B186">Usage Notes</p>
                        <p>Only if return value is <code class="codeph">XA_OK</code>, is the timeout value successfully set.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS69178"></a><a id="ARPLS69179"></a><a id="ARPLS69179"></a><a id="ARPLS69178"></a><div class="props_rev_3"><a id="GUID-61B54B33-22CE-4860-95FA-5B6490FC7119" name="GUID-61B54B33-22CE-4860-95FA-5B6490FC7119"></a><h4 id="ARPLS-GUID-61B54B33-22CE-4860-95FA-5B6490FC7119" class="sect4"><span class="enumeration_section">185.6.10 </span>XA_START Function
                  </h4>
                  <div>
                     <p>This function associates the current session with a transaction branch specified by the <code class="codeph">xid</code>. 
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-61B54B33-22CE-4860-95FA-5B6490FC7119__GUID-8567E2FF-8C05-44AE-B126-12E77EBB0760">Syntax </p><pre class="oac_no_warn" dir="ltr">DBMS_XA.XA_START (
   xid   IN  DBMS_XA_XID,    flag  IN  PLS_INTEGER)  RETURN PLS_INTEGER;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-61B54B33-22CE-4860-95FA-5B6490FC7119__GUID-2F8821FC-3FB4-48B0-AD58-4E1D5DA47198">Parameters</p>
                        <div class="tblformal" id="GUID-61B54B33-22CE-4860-95FA-5B6490FC7119__GUID-568EDD3B-8EA7-41E6-874B-060B8884F875">
                           <p class="titleintable">Table 185-11 <span class="italic"><span class="bold">XA_START Function Parameters</span></span></p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="XA_START Function Parameters" summary="This table describes the Parameters of DBMS_XA.XA_STARTsubprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d1125079e3534">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d1125079e3537">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1125079e3542" headers="d1125079e3534 ">
                                       <p><code class="codeph">xid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1125079e3542 d1125079e3537 ">
                                       <p>See <a href="DBMS_XA.html#GUID-310813B4-B1BD-4022-AFD5-A44D4C5133F6" title="The PL/SQL XA interface allows the PL/SQL application to define a global transaction branch id (XID) and associate/disassociate the current session with the transaction branch. XID is defined as a PL/SQL object type.">DBMS_XA_XID Object Type</a></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d1125079e3556" headers="d1125079e3534 ">
                                       <p><code class="codeph">flag</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d1125079e3556 d1125079e3537 ">
                                       <p>See <a href="DBMS_XA.html#GUID-CB96E823-2462-4350-BF9A-2ACE6F29A643__BEHJAGEE" title="This table describes constants used by DBMS_XA subprograms.">Table 185-1</a>.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-61B54B33-22CE-4860-95FA-5B6490FC7119__GUID-847E2176-EB8B-40C5-A88E-6BF7710E72B2">Return Values</p>
                        <p>See <a href="DBMS_XA.html#GUID-CB96E823-2462-4350-BF9A-2ACE6F29A643__BABCHFEI" title="This table describes constants used by DBMS_XA subprograms.">Table 185-2</a></p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-61B54B33-22CE-4860-95FA-5B6490FC7119__GUID-4A637354-35D2-4CDE-B631-6F4BBD58CA8B">Usage Notes</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>If <code class="codeph">TMJOIN</code> or <code class="codeph">TMRESUME</code> is specified in flag, the start is for joining an existing transaction branch identified by the <code class="codeph">xid</code>. <code class="codeph">TMJOIN</code> flag should be used when the transaction is detached with <code class="codeph">TMSUCCESS</code> flag. <code class="codeph">TMRESUME</code> should be used when the transaction branch is detached with <code class="codeph">TMSUSPEND</code> flag. <code class="codeph">XA_START</code> may be called with either flag to join an existing transaction branch.
                              </p>
                           </li>
                           <li>
                              <p>If <code class="codeph">TMNOFLAGS</code> is specified in flag, and neither <code class="codeph">TMJOIN</code> nor <code class="codeph">TMRESUME</code> is specified, a new transaction branch is to be started. If the transaction branch specified in <code class="codeph">xid</code> already exists, <code class="codeph">XA_START</code> returns an <code class="codeph">XAER_DUPID</code> error code.
                              </p>
                           </li>
                           <li>
                              <p>Possible return values in error include: <code class="codeph">XAER_RMERR</code>, <code class="codeph">XAER_RMFAIL</code>, <code class="codeph">XAER_DUPID</code>, <code class="codeph">XAER_OUTSIDE</code>, <code class="codeph">XAER_NOTA</code>, <code class="codeph">XAER_INVAL</code>, and <code class="codeph">XAER_PROTO</code>.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">XA_OK</code> is returned if <code class="codeph">XA_START</code> succeeds. An application must check the return value and handle error cases. Only when <code class="codeph">XA_OK</code> is returned, the PL/SQL application should proceed for other normal operations.Transaction stacking is not supported. If there is an active transaction associated with the current session, may not be called to start or join another transaction. <code class="codeph">XAER_PROTO</code> will be returned if <code class="codeph">XA_START</code> is called with an active global transaction branch associated with the session. <code class="codeph">XAER_OUTSIDE</code> will be returned if <code class="codeph">XA_START</code> is called with a local transaction associated with the current session.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='09660.using-RMAN-in-oracle-data-guard-configurations.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="You can create backup strategies using Oracle Recovery Manager (RMAN) with Oracle Data Guard and standby databases.">
      <meta name="description" content="You can create backup strategies using Oracle Recovery Manager (RMAN) with Oracle Data Guard and standby databases.">
      <title>Using RMAN to Back Up and Restore Files</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Concepts and Administration ">
      <meta property="og:description" content="You can create backup strategies using Oracle Recovery Manager (RMAN) with Oracle Data Guard and standby databases.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Concepts and Administration">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="data-guard-concepts-and-administration.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-12T10:50:21-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96244-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="managing-oracle-data-guard-logical-standby-databases.html" title="Previous" type="text/html">
      <link rel="next" href="using-sql-apply-to-perform-rolling-upgrade.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Data Guard Concepts and Administration">
    <meta name="dcterms.isVersionOf" content="SBYDB">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="managing-oracle-data-guard-logical-standby-databases.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="using-sql-apply-to-perform-rolling-upgrade.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Concepts and Administration </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="oracle-data-guard-concepts.html" property="item" typeof="WebPage"><span property="name">  Concepts and Administration </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Using RMAN to Back Up and Restore Files</li>
            </ol>
            <a id="GUID-516D9C60-F2EF-4822-BB87-5D3BE877B69B" name="GUID-516D9C60-F2EF-4822-BB87-5D3BE877B69B"></a><a id="SBYDB04700"></a>
            
            <h2 id="SBYDB-GUID-516D9C60-F2EF-4822-BB87-5D3BE877B69B" class="sect2"><span class="enumeration_chapter">12 </span> Using RMAN to Back Up and Restore Files
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>You can create backup strategies using Oracle Recovery Manager (RMAN) with Oracle Data Guard and standby databases.</p>
               <p>RMAN can perform backups with minimal effect on the primary database and quickly recover from the loss of individual data files, or the entire database. RMAN and Oracle Data Guard can be used together to simplify the administration of an Oracle Data Guard configuration.</p>
               <p>See the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="using-RMAN-in-oracle-data-guard-configurations.html#GUID-7B0909F0-2DEA-4A16-8E91-A4687F634D4E" title="RMAN uses a recovery catalog to track filenames for all database files in an Oracle Data Guard environment.">About RMAN File Management in an Oracle Data Guard Configuration</a></p>
                  </li>
                  <li>
                     <p><a href="using-RMAN-in-oracle-data-guard-configurations.html#GUID-8D525402-9629-44EC-A3F1-F6B8C3307E8C" title="In an Oracle Data Guard configuration, the process of backing up control files, data files, and archived logs can be offloaded to the standby system, thereby minimizing the effect of backups on the production system.">About RMAN Configuration in an Oracle Data Guard Environment</a></p>
                  </li>
                  <li>
                     <p><a href="using-RMAN-in-oracle-data-guard-configurations.html#GUID-33B70E30-2454-484C-9110-A5AC452E63CB" title="These configurations can simplify backup and recovery operations.">Recommended RMAN and Oracle Database Configurations</a></p>
                  </li>
                  <li>
                     <p><a href="using-RMAN-in-oracle-data-guard-configurations.html#GUID-410FEFAD-7805-405A-8C02-B9D8F74C60F4" title="You can use RMAN scripts and procedures to back up Oracle Database in an Oracle Data Guard configuration.">Backup Procedures</a></p>
                  </li>
                  <li>
                     <p><a href="using-RMAN-in-oracle-data-guard-configurations.html#GUID-9C54A243-6B84-4755-957E-AFC57B9BC3B6" title="Only the primary database must be explicitly registered using the REGISTER DATABASE command. Do this after connecting RMAN to the recovery catalog and primary database as TARGET.">Registering and Unregistering Databases in an Oracle Data Guard Environment</a></p>
                  </li>
                  <li>
                     <p><a href="using-RMAN-in-oracle-data-guard-configurations.html#GUID-D13E9A5E-5DBB-4DF4-8534-F1E16FA33618" title="Use the RMAN LIST, REPORT, and SHOW commands with the FOR DB_UNIQUE_NAME clause to view information about a specific database.">Reporting in an Oracle Data Guard Environment</a></p>
                  </li>
                  <li>
                     <p><a href="using-RMAN-in-oracle-data-guard-configurations.html#GUID-4B1696A8-1A90-426C-A620-D5F313365E54" title="The files in an Oracle Data Guard environment (data files, archived logs, backup pieces, image copies, and proxy copies) are associated with a database through use of the DB_UNIQUE_NAME parameter.">Performing Backup Maintenance in an Oracle Data Guard Environment</a></p>
                  </li>
                  <li>
                     <p><a href="using-RMAN-in-oracle-data-guard-configurations.html#GUID-44539CC5-0BAB-47F8-B51F-BFD0A1D6DA40" title="These are some of recovery scenarios that can occur in an Oracle Data Guard environment.">Recovery Scenarios in an Oracle Data Guard Environment</a></p>
                  </li>
                  <li>
                     <p><a href="using-RMAN-in-oracle-data-guard-configurations.html#GUID-211E08A4-C19E-4159-80B2-429431314278" title="You can modify the backup procedures for other configurations, such as when the standby and primary databases cannot share backup files; the standby instance is only used to remotely archive redo log files; or the standby database filenames are different than the primary database.">Additional Backup Situations</a></p>
                  </li>
                  <li>
                     <p><a href="using-RMAN-in-oracle-data-guard-configurations.html#GUID-F0EB4F8E-7D2F-4674-9A5B-AABC368D8F11" title="As of Oracle Database 12c, RMAN lets you restore or recover files by connecting, over the network, to a physical standby database that contains the required files.">Restoring and Recovering Files Over the Network</a></p>
                  </li>
                  <li>
                     <p><a href="using-RMAN-in-oracle-data-guard-configurations.html#GUID-72F008A1-527F-41DB-89CD-623FA06D0420" title="RMAN supports point-in-time recovery (PITR) of a multitenant container database (CDB) at a standby. (Individual pluggable databases (PDBs) do not have their own individual standbys.)">RMAN Support for CDBs In an Oracle Data Guard Environment</a></p>
                  </li>
               </ul>
               <div class="infoboxnote" id="GUID-516D9C60-F2EF-4822-BB87-5D3BE877B69B__GUID-B845DC4E-2CDB-4220-9B4D-4BA79F9BAF8A">
                  <p class="notep1">Note:</p>
                  <p>Because a logical standby database is not a block-for-block copy of the primary database, you cannot use a logical standby database to back up the primary database.</p>
               </div>
               <div class="infoboxnotealso" id="GUID-516D9C60-F2EF-4822-BB87-5D3BE877B69B__GUID-1E5E4442-BAC3-43B3-84FF-70E9B4E14E0A">
                  <p class="notep1">See Also:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=BRADV89346" target="_blank"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a> for more information about RMAN concepts and about using RMAN in an Oracle Data Guard environment
                        </p>
                     </li>
                     <li>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=RCMRF001" target="_blank"><span class="italic">Oracle Database Backup and Recovery Reference</span></a> for detailed information about RMAN commands
                        </p>
                     </li>
                  </ul>
               </div>
            </div><a id="SBYDB4847"></a><div class="props_rev_3"><a id="GUID-7B0909F0-2DEA-4A16-8E91-A4687F634D4E" name="GUID-7B0909F0-2DEA-4A16-8E91-A4687F634D4E"></a><h3 id="SBYDB-GUID-7B0909F0-2DEA-4A16-8E91-A4687F634D4E" class="sect3"><span class="enumeration_section">12.1 </span>About RMAN File Management in an Oracle Data Guard Configuration
               </h3>
               <div>
                  <p>RMAN uses a recovery catalog to track filenames for all database files in an Oracle Data Guard environment. </p>
                  <p>A recovery catalog is a database schema used by RMAN to store metadata about one or more Oracle databases. The catalog also records where the online redo logs, standby redo logs, tempfiles, archived redo logs, backup sets, and image copies are created. </p>
               </div><a id="SBYDB4848"></a><div class="props_rev_3"><a id="GUID-075FF361-A398-4533-9E7B-9255A288A662" name="GUID-075FF361-A398-4533-9E7B-9255A288A662"></a><h4 id="SBYDB-GUID-075FF361-A398-4533-9E7B-9255A288A662" class="sect4"><span class="enumeration_section">12.1.1 </span>Interchangeability of Backups in an Oracle Data Guard Environment
                  </h4>
                  <div>
                     <p>RMAN commands use the recovery catalog metadata to behave transparently across different physical databases in the Oracle Data Guard environment.</p>
                     <p>For example, you can back up a tablespace on a physical standby database and restore and recover it on the primary database. Similarly, you can back up a tablespace on a primary database and restore and recover it on a physical standby database.</p>
                     <div class="infoboxnote" id="GUID-075FF361-A398-4533-9E7B-9255A288A662__GUID-C796926F-7651-4EE5-8CC6-B34FD5EC9145">
                        <p class="notep1">Note:</p>
                        <p>Backups of logical standby databases are not usable at the primary database.</p>
                     </div>
                     <p>Backups of standby control files and nonstandby control files are interchangeable. For example, you can restore a standby control file on a primary database and a primary control file on a physical standby database. This interchangeability means that you can offload control file backups to one database in an Oracle Data Guard environment. RMAN automatically updates the filenames for database files during restore and recovery at the databases.</p>
                  </div>
               </div><a id="SBYDB4849"></a><div class="props_rev_3"><a id="GUID-73A75929-1F78-46F1-9CBE-EC2611388A6B" name="GUID-73A75929-1F78-46F1-9CBE-EC2611388A6B"></a><h4 id="SBYDB-GUID-73A75929-1F78-46F1-9CBE-EC2611388A6B" class="sect4"><span class="enumeration_section">12.1.2 </span>Association of Backups in an Oracle Data Guard Environment
                  </h4>
                  <div>
                     <p>The recovery catalog tracks the files in the Oracle Data Guard environment by associating every database file or backup file with a <code class="codeph">DB_UNIQUE_NAME</code>. 
                     </p>
                     <p>The database that creates a file is associated with the file. For example, if RMAN backs up the database with the unique name of <code class="codeph">standby1</code>, then <code class="codeph">standby1</code> is associated with this backup. A backup remains associated with the database that created it unless you use the <code class="codeph">CHANGE</code> <code class="codeph">... RESET DB_UNIQUE_NAME</code> to associate the backup with a different database.
                     </p>
                  </div>
               </div><a id="SBYDB4850"></a><div class="props_rev_3"><a id="GUID-61ABB2C2-0813-4DD9-94F4-BB292CB21194" name="GUID-61ABB2C2-0813-4DD9-94F4-BB292CB21194"></a><h4 id="SBYDB-GUID-61ABB2C2-0813-4DD9-94F4-BB292CB21194" class="sect4"><span class="enumeration_section">12.1.3 </span>Accessibility of Backups in an Oracle Data Guard Environment
                  </h4>
                  <div>
                     <p>By default, in an Oracle Data Guard environment, the recovery catalog considers disk backups as accessible only to the database with which it is associated, whereas tape backups created on one database are accessible to all databases.</p>
                     <div class="p">You can override the default behavior by using the following RMAN command:<pre class="pre codeblock"><code>SET BACKUP FILES FOR DEVICE TYPE device_specifier TO [NOTACCESSIBLE | ACCESSIBLE]</code></pre> The accessibility setting is at the session level which means that after the RMAN session is disconnected, the association of backups reverts back to default behavior.</div>
                     <p>If a backup file is not associated with any database, then the row describing it in the recovery catalog view shows <code class="codeph">null</code> for the <code class="codeph">SITE_KEY</code> column. By default, RMAN associates files whose <code class="codeph">SITE_KEY</code> is <code class="codeph">null</code> with the target database.
                     </p>
                     <p>RMAN commands such as <code class="codeph">BACKUP</code>, <code class="codeph">RESTORE</code>, and <code class="codeph">CROSSCHECK</code> work on any accessible backup. For example, for a <code class="codeph">RECOVER COPY</code> operation, RMAN considers only image copies that are associated with the database as eligible to be recovered. RMAN considers the incremental backups on disk and tape as eligible to recover the image copies. In a database recovery, RMAN considers only the disk backups associated with the database and all files on tape as eligible to be restored.
                     </p>
                     <p>To illustrate the differences in backup accessibility, assume that databases <code class="codeph">prod</code> and <code class="codeph">standby1</code> reside on different hosts. RMAN backs up data file 1 on <code class="codeph">prod</code> to <code class="codeph">/prmhost/disk1/df1.dbf</code> on the production host and also to tape. RMAN backs up data file 1 on <code class="codeph">standby1</code> to <code class="codeph">/sbyhost/disk2/df1.dbf</code> on the standby host and also to tape. If RMAN is connected to database <code class="codeph">prod</code>, then you cannot use RMAN commands to perform operations with the <code class="codeph">/sbyhost/disk2/df1.dbf</code> backup located on the standby host. However, RMAN does consider the tape backup made on <code class="codeph">standby1</code> as eligible to be restored.
                     </p>
                     <div class="infoboxnote" id="GUID-61ABB2C2-0813-4DD9-94F4-BB292CB21194__GUID-77DE5DBE-E968-43BC-AF85-42BF02FF27C4">
                        <p class="notep1">Note:</p>
                        <p>You can FTP a backup from a standby host to a primary host or vice versa, connect as <code class="codeph">TARGET</code> to the database on this host, and then <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=RCMRF109" target="_blank"><code class="codeph">CATALOG</code></a> the backup. After a file is cataloged by the target database, the file is associated with the target database.
                        </p>
                     </div>
                  </div>
               </div>
            </div><a id="SBYDB4851"></a><div class="props_rev_3"><a id="GUID-8D525402-9629-44EC-A3F1-F6B8C3307E8C" name="GUID-8D525402-9629-44EC-A3F1-F6B8C3307E8C"></a><h3 id="SBYDB-GUID-8D525402-9629-44EC-A3F1-F6B8C3307E8C" class="sect3"><span class="enumeration_section">12.2 </span>About RMAN Configuration in an Oracle Data Guard Environment
               </h3>
               <div>
                  <p>In an Oracle Data Guard configuration, the process of backing up control files, data files, and archived logs can be offloaded to the standby system, thereby minimizing the effect of backups on the production system. </p>
                  <p>These backups can be used to recover the primary or standby database.</p>
                  <p>RMAN uses the <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter to distinguish one database site from another database site. Thus, it is critical that the uniqueness of <code class="codeph">DB_UNIQUE_NAME</code> be maintained in an Oracle Data Guard configuration.
                  </p>
                  <p>Only the primary database must be explicitly registered using the RMAN <code class="codeph">REGISTER DATABASE</code> command. You do this after connecting RMAN to the recovery catalog and primary database as target. 
                  </p>
                  <p>Use the RMAN <code class="codeph">CONFIGURE</code> command to set the RMAN configurations. When the <code class="codeph">CONFIGURE</code> command is used with the <code class="codeph">FOR DB_UNIQUE_NAME</code> option, it sets the RMAN site-specific configuration for the database with the DB_UNIQUE_NAME you specify.
                  </p>
                  <p>For example, after connecting to the recovery catalog, you could use the following commands at an RMAN prompt to set the default device type to <code class="codeph">SBT</code> for the <code class="codeph">BOSTON</code> database that has a DBID of 1625818158. The RMAN <code class="codeph">SET DBID</code> command is required only if you are not connected to a database as target.
                  </p><pre class="oac_no_warn" dir="ltr">SET DBID 1625818158;
CONFIGURE DEFAULT DEVICE TYPE TO SBT FOR DB_UNIQUE_NAME BOSTON;</pre></div>
            </div><a id="SBYDB5054"></a><a id="SBYDB4852"></a><div class="props_rev_3"><a id="GUID-33B70E30-2454-484C-9110-A5AC452E63CB" name="GUID-33B70E30-2454-484C-9110-A5AC452E63CB"></a><h3 id="SBYDB-GUID-33B70E30-2454-484C-9110-A5AC452E63CB" class="sect3"><span class="enumeration_section">12.3 </span>Recommended RMAN and Oracle Database Configurations
               </h3>
               <div>
                  <p>These configurations can simplify backup and recovery operations.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="using-RMAN-in-oracle-data-guard-configurations.html#GUID-B7FFF73A-B8C0-49DD-8404-F6FE9F784C41" title="These Oracle Database configurations are recommended on every primary and standby database in the Oracle Data Guard environment.">Oracle Database Configurations on Primary and Standby Databases</a></p>
                     </li>
                     <li>
                        <p><a href="using-RMAN-in-oracle-data-guard-configurations.html#GUID-2AEB88E7-075F-47F4-BBCE-77B274A50683" title="To simplify ongoing use of RMAN, you can set a number of persistent configuration settings for each database in the Oracle Data Guard environment.">RMAN Configurations at the Primary Database</a></p>
                     </li>
                     <li>
                        <p><a href="using-RMAN-in-oracle-data-guard-configurations.html#GUID-FBB66066-8FD4-4328-9AF2-0D7625803FDB" title="These RMAN configurations are recommended at a standby database where backups are done.">RMAN Configurations at a Standby Database Where Backups are Performed</a></p>
                     </li>
                     <li>
                        <p><a href="using-RMAN-in-oracle-data-guard-configurations.html#GUID-F4CD9CD2-1006-409F-92D8-909114931B06" title="These RMAN configurations are recommended at a standby database where backups are not done.">RMAN Configurations at a Standby Where Backups Are Not Performed</a></p>
                     </li>
                  </ul>
                  <div class="section">
                     <p class="subhead2" id="GUID-33B70E30-2454-484C-9110-A5AC452E63CB__GUID-B9B1D627-EC55-4F67-AAAE-55DB07E2BECA">Configuration Assumptions</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>These configurations make the following assumptions:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The standby database is a physical standby database, and backups are taken only on the standby database. See <a href="using-RMAN-in-oracle-data-guard-configurations.html#GUID-75F78440-2A7C-4FDC-AFF9-CABB440CB651" title="If the standby databases are far apart from one another, then the backups taken on them may not be easily accessible by the primary system or other standby systems.">Standby Databases Too Geographically Distant to Share Backups</a> for procedural changes if backups are taken on both primary and standby databases.
                           </p>
                        </li>
                        <li>
                           <p>An RMAN recovery catalog is required so that backups taken on one database server can be restored to another database server. It is not sufficient to use only the control file as the RMAN repository because the primary database has no knowledge of backups taken on the standby database.</p>
                           <p>The RMAN recovery catalog organizes backup histories and other recovery-related metadata in a centralized location. The recovery catalog is configured in a database and maintains backup metadata. A recovery catalog does not have the space limitations of the control file and can store more historical data about backups.</p>
                           <p>A catalog server, physically separate from the primary and standby sites, is recommended in an Oracle Data Guard configuration because a disaster at either site will not affect the ability to recover the latest backups.</p>
                           <div class="infoboxnotealso" id="GUID-33B70E30-2454-484C-9110-A5AC452E63CB__GUID-40CEB303-D9CD-43BE-B3EF-6D9368D1F439">
                              <p class="notep1">See Also:</p>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=BRADV8015" target="_blank"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a> for more information about managing a recovery catalog
                              </p>
                           </div>
                        </li>
                        <li>
                           <p>All databases in the configuration use Oracle Database 11<span class="italic">g</span> Release 1 (11.1) or later.
                           </p>
                        </li>
                        <li>
                           <p>Oracle Secure Backup software or 3rd-party media management software is configured with RMAN to make backups to tape.</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div><a id="SBYDB4853"></a><div class="props_rev_3"><a id="GUID-B7FFF73A-B8C0-49DD-8404-F6FE9F784C41" name="GUID-B7FFF73A-B8C0-49DD-8404-F6FE9F784C41"></a><h4 id="SBYDB-GUID-B7FFF73A-B8C0-49DD-8404-F6FE9F784C41" class="sect4"><span class="enumeration_section">12.3.1 </span>Oracle Database Configurations on Primary and Standby Databases
                  </h4>
                  <div>
                     <p>These Oracle Database configurations are recommended on every primary and standby database in the Oracle Data Guard environment.</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Configure a fast recovery area for each database (the recovery area is local to a database).</p>
                           <p>The fast recovery area is a single storage location on a file system or Oracle Automatic Storage Management (Oracle ASM) disk group where all files needed for recovery reside. These files include the control file, archived logs, online redo logs, flashback logs, and RMAN backups. As new backups and archived logs are created in the fast recovery area, older files (which are either outside of the retention period, or have been backed up to tertiary storage) are automatically deleted to make room for them. In addition, notifications can be set up to alert the DBA when space consumption in the fast recovery area is nearing its predefined limit. The DBA can then take action, such as increasing the recovery area space limit, adding disk hardware, or decreasing the retention period.</p>
                           <p></p>
                           <p>Set the following initialization parameters to configure the fast recovery area:</p><pre class="oac_no_warn" dir="ltr">DB_RECOVERY_FILE_DEST = &lt;file system location or Oracle ASM Disk Group&gt;
DB_RECOVERY_FILE_DEST_SIZE = &lt;disk space quota&gt;</pre><div class="infoboxnotealso" id="GUID-B7FFF73A-B8C0-49DD-8404-F6FE9F784C41__GUID-C42B4850-3659-432F-A93B-C26A86C0F8D8">
                              <p class="notep1">See Also:</p>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=BRADV8183" target="_blank"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a> for more information about configuring a fast recovery area
                              </p>
                           </div>
                        </li>
                        <li>
                           <p>Use a server parameter file (SPFILE) so that it can be backed up to save instance parameters in backups.</p>
                        </li>
                        <li>
                           <p>Enable Flashback Database on primary and standby databases.</p>
                           <p>When Flashback Database is enabled, Oracle Database maintains flashback logs in the fast recovery area. These logs can be used to roll the database back to an earlier point in time, without requiring a complete restore. </p>
                           <div class="infoboxnotealso" id="GUID-B7FFF73A-B8C0-49DD-8404-F6FE9F784C41__GUID-A633BB4E-A8ED-4B72-AE87-D872ACAE1E31">
                              <p class="notep1">See Also:</p>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=BRADV595" target="_blank"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a> for more information about enabling Flashback Database
                              </p>
                           </div>
                        </li>
                     </ul>
                  </div>
               </div><a id="SBYDB4854"></a><div class="props_rev_3"><a id="GUID-2AEB88E7-075F-47F4-BBCE-77B274A50683" name="GUID-2AEB88E7-075F-47F4-BBCE-77B274A50683"></a><h4 id="SBYDB-GUID-2AEB88E7-075F-47F4-BBCE-77B274A50683" class="sect4"><span class="enumeration_section">12.3.2 </span>RMAN Configurations at the Primary Database
                  </h4>
                  <div>
                     <p>To simplify ongoing use of RMAN, you can set a number of persistent configuration settings for each database in the Oracle Data Guard environment. </p>
                     <div class="section">
                        <p>These settings control many aspects of RMAN behavior. For example, you can configure the backup retention policy, default destinations for backups to tape or disk, default backup device type, and so on. You can use the <code class="codeph">CONFIGURE</code> command to set and change RMAN configurations. The following RMAN configurations are recommended at the primary database:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Connect RMAN to the primary database and recovery catalog.</span></li>
                        <li class="stepexpand"><span>Configure the retention policy for the database as <span class="italic"><code class="codeph">n</code></span> days:</span><div><pre class="oac_no_warn" dir="ltr">CONFIGURE RETENTION POLICY TO RECOVERY WINDOW OF &lt;n&gt; DAYS;
</pre><p>This configuration lets you keep the backups necessary to perform database recovery to any point in time within the specified number of days. </p>
                              <p>Use the <code class="codeph">DELETE</code> <code class="codeph">OBSOLETE</code> command to delete any backups that are not required (per the retention policy in place) to perform recovery within the specified number of days.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Specify when archived logs can be deleted with the <code class="codeph">CONFIGURE ARCHIVELOG DELETION POLICY</code> command. For example, to delete logs after ensuring that they <span class="italic">shipped</span> to all destinations, use the following configuration:</span><div><pre class="oac_no_warn" dir="ltr">CONFIGURE ARCHIVELOG DELETION POLICY TO SHIPPED TO ALL STANDBY;
</pre><p>To delete logs after ensuring that they were <span class="italic">applied</span> on all standby destinations, use the following configuration:
                              </p><pre class="oac_no_warn" dir="ltr">CONFIGURE ARCHIVELOG DELETION POLICY TO APPLIED ON ALL STANDBY;
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Configure the connect string for the primary database and all standby databases, so that RMAN can connect remotely and perform resynchronization when the <code class="codeph">RESYNC CATALOG FROM DB_UNIQUE_NAME</code> command is used. When you connect to the target instance, you must provide a net service name. This requirement applies even if the other database instance from where the resynchronization is done is on the local host. The target and remote instances must use the same <code class="codeph">SYSDBA</code> (or <code class="codeph">SYSBACKUP</code>) password, which means that both instances must already have password files. You can create the password file with a single password so you can start all the database instances with that password file. For example, if the TNS alias to connect to a standby in Boston is <code class="codeph">boston_conn_str</code>, you can use the following command to configure the connect identifier for the <code class="codeph">BOSTON</code> database site:</span><div><pre class="oac_no_warn" dir="ltr">CONFIGURE DB_UNIQUE_NAME BOSTON CONNECT IDENTIFIER 'boston_conn_str';
</pre><p>Note that the <code class="codeph">'boston_conn_str'</code> does not include a username and password. It contains only the Oracle Net service name that can be used from any database site to connect to the <code class="codeph">BOSTON</code> database site.
                              </p>
                              <p>After connect identifiers are configured for all standby databases, you can verify the list of standbys by using the <code class="codeph">LIST DB_UNIQUE_NAME OF DATABASE</code> command.
                              </p>
                           </div>
                        </li>
                     </ol>
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-2AEB88E7-075F-47F4-BBCE-77B274A50683__GUID-81E4B6DA-3925-474F-8A46-792AC36955CF">
                           <p class="notep1">See Also:</p>
                           <p> </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../bradv/configuring-rman-client-advanced.html#BRADV006" target="_blank"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a> for more information about RMAN configurations
                                 </p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=RCMRF113" target="_blank"><span class="italic">Oracle Database Backup and Recovery Reference</span></a> for more information about the RMAN <code class="codeph">CONFIGURE</code> command
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="SBYDB4855"></a><div class="props_rev_3"><a id="GUID-FBB66066-8FD4-4328-9AF2-0D7625803FDB" name="GUID-FBB66066-8FD4-4328-9AF2-0D7625803FDB"></a><h4 id="SBYDB-GUID-FBB66066-8FD4-4328-9AF2-0D7625803FDB" class="sect4"><span class="enumeration_section">12.3.3 </span>RMAN Configurations at a Standby Database Where Backups are Performed
                  </h4>
                  <div>
                     <p>These RMAN configurations are recommended at a standby database where backups are done.</p>
                     <ol>
                        <li class="stepexpand"><span>Connect RMAN to the standby database (where backups are performed) as target, and to the recovery catalog.</span></li>
                        <li class="stepexpand"><span>Enable automatic backup of the control file and the server parameter file:</span><div><pre class="oac_no_warn" dir="ltr">CONFIGURE CONTROLFILE AUTOBACKUP ON;
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Skip backing up data files for which there already exists a valid backup with the same checkpoint:</span><div><pre class="oac_no_warn" dir="ltr">CONFIGURE BACKUP OPTIMIZATION ON;
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Configure the tape channels to create backups as required by media management software:</span><div><pre class="oac_no_warn" dir="ltr">CONFIGURE CHANNEL DEVICE TYPE SBT PARMS '&lt;channel parameters&gt;';
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Because the archived logs are backed up at the standby database, Oracle recommends that you configure the <code class="codeph">BACKED UP</code> option for the log deletion policy:</span><div><pre class="oac_no_warn" dir="ltr">CONFIGURE ARCHIVELOG DELETION POLICY BACKED UP <span class="italic">n</span> TIMES TO DEVICE TYPE SBT;</pre></div>
                        </li>
                     </ol>
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-FBB66066-8FD4-4328-9AF2-0D7625803FDB__GUID-F042CE3F-2867-4CE4-A848-0623D0ACE30E">
                           <p class="notep1">See Also:</p>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=BRADV89439" target="_blank"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a> for more information about enabling deletion policies for archived redo logs
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="SBYDB4856"></a><div class="props_rev_3"><a id="GUID-F4CD9CD2-1006-409F-92D8-909114931B06" name="GUID-F4CD9CD2-1006-409F-92D8-909114931B06"></a><h4 id="SBYDB-GUID-F4CD9CD2-1006-409F-92D8-909114931B06" class="sect4"><span class="enumeration_section">12.3.4 </span>RMAN Configurations at a Standby Where Backups Are Not Performed
                  </h4>
                  <div>
                     <p>These RMAN configurations are recommended at a standby database where backups are <span class="italic">not</span> done.
                     </p>
                     <ol>
                        <li class="stepexpand"><span>Connect RMAN to the standby database as target, and to the recovery catalog.</span></li>
                        <li class="stepexpand"><span>Enable automatic deletion of archived logs once they are applied at the standby database (this is also applicable to all terminal databases when the cascading or far sync instance features are in use):</span><div><pre class="oac_no_warn" dir="ltr">CONFIGURE ARCHIVELOG DELETION POLICY TO APPLIED ON ALL STANDBY;</pre></div>
                        </li>
                     </ol>
                  </div>
               </div>
            </div><a id="SBYDB5055"></a><a id="SBYDB00755"></a><div class="props_rev_3"><a id="GUID-410FEFAD-7805-405A-8C02-B9D8F74C60F4" name="GUID-410FEFAD-7805-405A-8C02-B9D8F74C60F4"></a><h3 id="SBYDB-GUID-410FEFAD-7805-405A-8C02-B9D8F74C60F4" class="sect3"><span class="enumeration_section">12.4 </span>Backup Procedures
               </h3>
               <div>
                  <p>You can use RMAN scripts and procedures to back up Oracle Database in an Oracle Data Guard configuration.</p>
                  <p>See the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="using-RMAN-in-oracle-data-guard-configurations.html#GUID-104006BF-5611-44C9-B892-87D140474DD3" title="The fast recovery area on the standby database can serve as a disk cache for tape backup.">Using Disk as Cache for Tape Backups</a></p>
                     </li>
                     <li>
                        <p><a href="using-RMAN-in-oracle-data-guard-configurations.html#GUID-9102A173-7F1B-46B2-A750-E2599F74305F" title="Oracle's Media Management Layer (MML) API lets third-party vendors build a media manager, software that works with RMAN and the vendor's hardware to allow backups to sequential media devices such as tape drives.">Performing Backups Directly to Tape</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-410FEFAD-7805-405A-8C02-B9D8F74C60F4__GUID-A38275CC-E493-405E-A445-9E29D19787A4">
                     <p class="notep1">Note:</p>
                     <p>Oracle's Maximum Availability Architecture (MAA) best practices recommend that backups be taken at both the primary and the standby databases to reduce MTTR, in case of double outages and to avoid introducing new site practices upon switchover and failover.</p>
                  </div>
                  <div class="section">
                     <p class="subhead2" id="GUID-410FEFAD-7805-405A-8C02-B9D8F74C60F4__GUID-B862B1D0-AF45-46D2-84FF-0D3208E7684F">Backups of Server Parameter Files</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>All backup operations can be offloaded to a single standby database, except backups of the SPFILE. Backups of the SPFILE can only be restored to the database from which they were backed up.</p>
                     <p>For databases that are not backed up, Oracle recommends that you at least back up the SPFILE to a known local disk location. If the SPFILE backups need to be further backed up to tape, you can copy them to the database site where backups to tape have been configured. The SPFILE backups can then be cataloged at that database using the following RMAN command:</p><pre class="oac_no_warn" dir="ltr">CATALOG START WITH '&lt;SPFILE backup directory&gt;';
</pre><p>Then back up the SPFILE backups to tape:</p><pre class="oac_no_warn" dir="ltr">BACKUP BACKUPSET ALL;
</pre><p>When the SPFILE needs to be restored for a specific database, the appropriate SPFILE backup is restored from disk or tape.</p>
                  </div>
                  <!-- class="section" -->
               </div><a id="SBYDB4857"></a><div class="props_rev_3"><a id="GUID-104006BF-5611-44C9-B892-87D140474DD3" name="GUID-104006BF-5611-44C9-B892-87D140474DD3"></a><h4 id="SBYDB-GUID-104006BF-5611-44C9-B892-87D140474DD3" class="sect4"><span class="enumeration_section">12.4.1 </span>Using Disk as Cache for Tape Backups
                  </h4>
                  <div>
                     <p>The fast recovery area on the standby database can serve as a disk cache for tape backup.</p>
                     <p>Disk is used as the primary storage for backups, with tape providing long term, archival storage. Incremental tape backups are taken daily and full tape backups are taken weekly. The commands used to perform these backups are described in the following sections.</p>
                  </div><a id="SBYDB4858"></a><div class="props_rev_3"><a id="GUID-88CA9C62-4AFF-4395-B47D-05A145E7EFAE" name="GUID-88CA9C62-4AFF-4395-B47D-05A145E7EFAE"></a><h5 id="SBYDB-GUID-88CA9C62-4AFF-4395-B47D-05A145E7EFAE" class="sect5"><span class="enumeration_section">12.4.1.1 </span>Commands for Daily Tape Backups Using Disk as Cache
                     </h5>
                     <div>
                        <p>When deciding on your backup strategy, Oracle recommends that you take advantage of daily incremental backups. </p>
                        <p>Data file image copies can be rolled forward with the latest incremental backups, thereby providing up-to-date data file image copies at all times. RMAN uses the resulting image copy for media recovery just as it would use a full image copy taken at that system change number (SCN), without the overhead of performing a full image copy of the database every day. An additional advantage is that the time-to-recover is reduced because the image copy is updated with the latest block changes and fewer redo logs are required to bring the database back to the current state.</p>
                        <p>To implement daily incremental backups, a full database backup is taken on the first day, followed by an incremental backup on day two. Archived redo logs can be used to recover the database to any point in either day. For day three and onward, the previous day's incremental backup is merged with the data file copy and a current incremental backup is taken, allowing fast recovery to any point within the last day. Redo logs can be used to recover the database to any point during the current day.</p>
                        <p>The script to perform daily backups looks as follows (the last line, <code class="codeph">DELETE ARCHIVELOG ALL</code> is only needed if the fast recovery area is not used to store logs):
                        </p><pre class="oac_no_warn" dir="ltr">RESYNC CATALOG FROM DB_UNIQUE_NAME ALL;
RECOVER COPY OF DATABASE WITH TAG 'OSS';
BACKUP DEVICE TYPE DISK INCREMENTAL LEVEL 1 FOR RECOVER OF COPY WITH TAG 'OSS' DATABASE;
BACKUP DEVICE TYPE DISK DATAFILECOPY ALL NOT BACKED UP AT ANY SCN;
BACKUP DEVICE TYPE SBT ARCHIVELOG ALL;
BACKUP BACKUPSET ALL;
DELETE ARCHIVELOG ALL;
</pre><p>The standby control file is automatically backed up at the conclusion of the backup operation because the control file auto backup is enabled.</p>
                        <p>Explanations for what each command in the script does are as follows:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">RESYNC CATALOG FROM DB_UNIQUE_NAME ALL</code></p>
                              <p>Resynchronizes the information from all other database sites (primary and other standby databases) in the Oracle Data Guard setup that are known to recovery catalog. For <code class="codeph">RESYNC CATALOG FROM DB_UNIQUE_NAME</code> to work, RMAN must be connected to the target using the Oracle Net service name and all databases must use the same password file.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">RECOVER COPY OF DATABASE WITH TAG 'OSS'</code></p>
                              <p>Rolls forward level 0 copy of the database by applying the level 1 incremental backup taken the day before. In the example script just shown, the previous day's incremental level 1 was tagged <code class="codeph">OSS</code>. This incremental is generated by the <code class="codeph">BACKUP DEVICE TYPE DISK ... DATABASE</code> command. On the first day this command is run there is no roll forward because there is no incremental level 1 yet. A level 0 incremental is created by the <code class="codeph">BACKUP DEVICE TYPE DISK ... DATABASE</code> command. Again on the second day there is no roll forward because there is only a level 0 incremental. A level 1 incremental tagged <code class="codeph">OSS</code> is created by the <code class="codeph">BACKUP DEVICE TYPE DISK ... DATABASE</code> command. On the third and following days, the roll forward is performed using the level 1 incremental tagged <code class="codeph">OSS</code> created on the previous day.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">BACKUP DEVICE TYPE DISK INCREMENTAL LEVEL 1 FOR RECOVER OF COPY WITH TAG 'OSS' DATABASE</code></p>
                              <p>Create a new level 1 incremental backup. On the first day this command is run, a base datafile copy is created. On the second and following days, this is a level 1 incremental.</p>
                           </li>
                           <li><code class="codeph">BACKUP DEVICE TYPE DISK DATAFILECOPY ALL NOT BACKED UP AT ANY SCN</code><p>Backs up only the data files that have not yet been backed up.</p>
                           </li>
                           <li>
                              <p><code class="codeph">BACKUP DEVICE TYPE SBT ARCHIVELOG ALL</code></p>
                              <p>Backs up archived logs to tape according to the deletion policy in place. </p>
                           </li>
                           <li>
                              <p><code class="codeph">BACKUP BACKUPSET ALL</code></p>
                              <p>Backs up any backup sets created as a result of incremental backup creation.</p>
                           </li>
                           <li>
                              <p><code class="codeph">DELETE ARCHIVELOG ALL</code></p>
                              <p>Deletes archived logs according to the log deletion policy set by the <code class="codeph">CONFIGURE ARCHIVELOG DELETION POLICY</code> command. If the archived logs are in a fast recovery area, then they are automatically deleted when more open disk space is required. Therefore, you only need to use this command if you explicitly want to delete logs each day.
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="SBYDB4859"></a><div class="props_rev_3"><a id="GUID-66665A86-0B71-41FE-BED0-B9992A405C35" name="GUID-66665A86-0B71-41FE-BED0-B9992A405C35"></a><h5 id="SBYDB-GUID-66665A86-0B71-41FE-BED0-B9992A405C35" class="sect5"><span class="enumeration_section">12.4.1.2 </span>Commands for Weekly Tape Backups Using Disk as Cache
                     </h5>
                     <div>
                        <p>To back up all recovery-related files to tape, use the RMAN <code class="codeph">BACKUP RECOVERY FILES</code> command once a week.
                        </p>
                        <div class="section">
                           <p>This ensures that all current incremental, image copy, and archived log backups on disk are backed up to tape.</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="SBYDB4860"></a><div class="props_rev_3"><a id="GUID-9102A173-7F1B-46B2-A750-E2599F74305F" name="GUID-9102A173-7F1B-46B2-A750-E2599F74305F"></a><h4 id="SBYDB-GUID-9102A173-7F1B-46B2-A750-E2599F74305F" class="sect4"><span class="enumeration_section">12.4.2 </span>Performing Backups Directly to Tape
                  </h4>
                  <div>
                     <p>Oracle's Media Management Layer (MML) API lets third-party vendors build a media manager, software that works with RMAN and the vendor's hardware to allow backups to sequential media devices such as tape drives.</p>
                     <div class="section">
                        <p>A media manager handles loading, unloading, and labeling of sequential media such as tapes. You must install Oracle Secure Backup or third-party media management software to use RMAN with sequential media devices.</p>
                        <p>Take the following steps to perform backups directly to tape, by default:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Connect RMAN to the standby database (as the target database) and recovery catalog.</span></li>
                        <li class="stepexpand"><span>Execute the <code class="codeph">CONFIGURE</code> command as follows:</span><div><pre class="oac_no_warn" dir="ltr">CONFIGURE DEFAULT DEVICE TYPE TO SBT;
</pre></div>
                        </li>
                     </ol>
                     <div class="section">
                        <p>In this scenario, full backups are taken weekly, with incremental backups taken daily on the standby database.</p>
                        <div class="infoboxnotealso" id="GUID-9102A173-7F1B-46B2-A750-E2599F74305F__GUID-E3E29B26-407C-4576-81BF-BDF5B06A0E89">
                           <p class="notep1">See Also:</p>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=BRADV132" target="_blank"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a> for more information about how to configure RMAN for use with a media manager
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div><a id="SBYDB4861"></a><div class="props_rev_3"><a id="GUID-110EF96F-1018-44FE-A7D4-6BED2786424B" name="GUID-110EF96F-1018-44FE-A7D4-6BED2786424B"></a><h5 id="SBYDB-GUID-110EF96F-1018-44FE-A7D4-6BED2786424B" class="sect5"><span class="enumeration_section">12.4.2.1 </span>Commands for Daily Backups Directly to Tape
                     </h5>
                     <div>
                        <p>The RMAN commands used to perform daily backups directly to tape  resynchronize the information from all other databases in the Oracle Data Guard environment.</p>
                        <div class="section">
                           <p>Take the following steps to perform daily backups directly to tape:</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>Connect RMAN to the standby database (as target database) and to the recovery manager.</span></li>
                           <li class="stepexpand"><span>Execute the following RMAN commands:</span><div><pre class="oac_no_warn" dir="ltr">RESYNC CATALOG FROM DB_UNIQUE_NAME ALL;
BACKUP AS BACKUPSET INCREMENTAL LEVEL 1 DATABASE PLUS ARCHIVELOG; 
DELETE ARCHIVELOG ALL;
</pre></div>
                           </li>
                        </ol>
                        <div class="section">
                           <p>These commands also create a level 1 incremental backup of the database, including all archived logs. On the first day this script is run, if no level 0 backups are found, then a level 0 backup is created.</p>
                           <p>The <code class="codeph">DELETE ARCHIVELOG ALL</code> command is necessary only if all archived log files are not in a fast recovery area.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="SBYDB4862"></a><div class="props_rev_3"><a id="GUID-859B3851-D933-44E0-A114-5430EFD1F662" name="GUID-859B3851-D933-44E0-A114-5430EFD1F662"></a><h5 id="SBYDB-GUID-859B3851-D933-44E0-A114-5430EFD1F662" class="sect5"><span class="enumeration_section">12.4.2.2 </span>Commands for Weekly Backups Directly to Tape
                     </h5>
                     <div>
                        <p>One day a week, perform a weekly backup directly to tape.</p>
                        <div class="section">
                           <p>Take the following steps:</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>Connect RMAN to the standby database (as target database) and to the recovery catalog.</span></li>
                           <li class="stepexpand"><span>Execute the following RMAN commands:</span><div><pre class="oac_no_warn" dir="ltr">RESYNC CATALOG FROM DB_UNIQUE_NAME ALL;
BACKUP AS BACKUPSET INCREMENTAL LEVEL 0 DATABASE PLUS ARCHIVELOG;
DELETE ARCHIVELOG ALL;
</pre></div>
                           </li>
                        </ol>
                        <div class="section">
                           <p>These commands resynchronize the information from all other databases in the Oracle Data Guard environment, and create a level 0 database backup that includes all archived logs.</p>
                           <p>The <code class="codeph">DELETE ARCHIVELOG ALL</code> command is necessary only if all archived log files are not in a fast recovery area.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
            </div><a id="SBYDB4863"></a><div class="props_rev_3"><a id="GUID-9C54A243-6B84-4755-957E-AFC57B9BC3B6" name="GUID-9C54A243-6B84-4755-957E-AFC57B9BC3B6"></a><h3 id="SBYDB-GUID-9C54A243-6B84-4755-957E-AFC57B9BC3B6" class="sect3"><span class="enumeration_section">12.5 </span>Registering and Unregistering Databases in an Oracle Data Guard Environment
               </h3>
               <div>
                  <p>Only the primary database must be explicitly registered using the <code class="codeph">REGISTER DATABASE</code> command. Do this after connecting RMAN to the recovery catalog and primary database as <code class="codeph">TARGET</code>.
                  </p>
                  <p>A new standby is automatically registered in the recovery catalog when you connect to a standby database or when the <code class="codeph">CONFIGURE DB_UNIQUE_NAME</code> command is used to configure the connect identifier.
                  </p>
                  <p>To unregister information about a specific standby database, you can use the <code class="codeph">UNREGISTER DB_UNIQUE_NAME</code> command. When a standby database is completely removed from an Oracle Data Guard environment, the database information in the recovery catalog can also be removed after you connect to another database in the same Oracle Data Guard environment. The backups that were associated with the database that was unregistered are still usable by other databases. You can associate these backups with any other existing database by using the <code class="codeph">CHANGE BACKUP RESET DB_UNIQUE_NAME</code> command.
                  </p>
                  <p>When the <code class="codeph">UNREGISTER DB_UNIQUE_NAME</code> command is used with the <code class="codeph">INCLUDING BACKUPS</code> option, the metadata for all the backup files associated with the database being unregistered is also unregistered from the recovery catalog.
                  </p>
               </div>
            </div><a id="SBYDB4864"></a><div class="props_rev_3"><a id="GUID-D13E9A5E-5DBB-4DF4-8534-F1E16FA33618" name="GUID-D13E9A5E-5DBB-4DF4-8534-F1E16FA33618"></a><h3 id="SBYDB-GUID-D13E9A5E-5DBB-4DF4-8534-F1E16FA33618" class="sect3"><span class="enumeration_section">12.6 </span>Reporting in an Oracle Data Guard Environment
               </h3>
               <div>
                  <p>Use the RMAN <code class="codeph">LIST</code>, <code class="codeph">REPORT</code>, and <code class="codeph">SHOW</code> commands with the <code class="codeph">FOR DB_UNIQUE_NAME</code> clause to view information about a specific database.
                  </p>
                  <p>For example, after connecting to the recovery catalog, you could use the following commands to display information for a database with a DBID of 1625818158 and to list the database in the Oracle Data Guard environment. The <code class="codeph">SET DBID</code> command is required only if you are not connected to a database as <code class="codeph">TARGET</code>. The last three commands list archive logs, database file names, and RMAN configuration information for a database with a <code class="codeph">DB_UNIQUE_NAME</code> of <code class="codeph">BOSTON</code>.
                  </p><pre class="oac_no_warn" dir="ltr">SET DBID 1625818158;
LIST DB_UNIQUE_NAME OF DATABASE;
LIST ARCHIVELOG ALL FOR DB_UNIQUE_NAME BOSTON;
REPORT SCHEMA FOR DB_UNIQUE_NAME BOSTON;
SHOW ALL FOR DB_UNIQUE_NAME BOSTON;</pre></div>
            </div><a id="SBYDB4865"></a><div class="props_rev_3"><a id="GUID-4B1696A8-1A90-426C-A620-D5F313365E54" name="GUID-4B1696A8-1A90-426C-A620-D5F313365E54"></a><h3 id="SBYDB-GUID-4B1696A8-1A90-426C-A620-D5F313365E54" class="sect3"><span class="enumeration_section">12.7 </span>Performing Backup Maintenance in an Oracle Data Guard Environment
               </h3>
               <div>
                  <p>The files in an Oracle Data Guard environment (data files, archived logs, backup pieces, image copies, and proxy copies) are associated with a database through use of the <code class="codeph">DB_UNIQUE_NAME</code> parameter.
                  </p>
                  <p> Therefore, it is important that the value supplied for <code class="codeph">DB_UNIQUE_NAME</code> be unique for each database in an Oracle Data Guard environment. This information, along with file-sharing attributes, is used to determine which files can be accessed during various RMAN operations. 
                  </p>
                  <p>File sharing attributes state that files on disk are accessible only at the database with which they are associated, whereas all files on tape are assumed to be accessible by all databases. RMAN commands such as <code class="codeph">BACKUP</code> and <code class="codeph">RESTORE</code>, as well as other maintenance commands, work according to this assumption. For example, during a roll-forward operation of an image copy at a database, only image copies associated with the database are rolled forward. The incremental backups on disk associated with that database and any incremental backups on tape are used to roll forward the image copies. Similarly, during recovery operations, only disk backups associated with the database and files on tape are considered as sources for backups.
                  </p>
                  <div class="infoboxnotealso" id="GUID-4B1696A8-1A90-426C-A620-D5F313365E54__GUID-C9F3BDAF-8809-4085-BFF6-C79AB0C3306E">
                     <p class="notep1">See Also:</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=RCMRF001" target="_blank"><span class="italic">Oracle Database Backup and Recovery Reference</span></a> for detailed information about RMAN commands
                     </p>
                  </div>
               </div><a id="SBYDB5056"></a><a id="SBYDB5057"></a><a id="SBYDB5058"></a><a id="SBYDB4866"></a><div class="props_rev_3"><a id="GUID-13FC0BEC-C528-47DA-95D5-35A67B3A97A1" name="GUID-13FC0BEC-C528-47DA-95D5-35A67B3A97A1"></a><h4 id="SBYDB-GUID-13FC0BEC-C528-47DA-95D5-35A67B3A97A1" class="sect4"><span class="enumeration_section">12.7.1 </span>Changing Metadata in the Recovery Catalog
                  </h4>
                  <div>
                     <p> The RMAN <code class="codeph">CHANGE</code> command can be used with various operands to change metadata in the recovery catalog.
                     </p>
                     <div class="section">
                        <p>For example:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Changing File Association From One Standby Database to Another</p>
                              <p>Use the <code class="codeph">CHANGE</code> command with the <code class="codeph">RESET DB_UNIQUE_NAME</code> option to alter the association of files from one database to another within an Oracle Data Guard environment. The <code class="codeph">CHANGE</code> command is useful when disk backups or archived logs are transferred from one database to another and you want to use them on the database to which they were transferred. The <code class="codeph">CHANGE</code> command can also change the association of a file from one database to another database, without having to directly connect to either database using the <code class="codeph">FOR DB_UNIQUE_NAME</code> and <code class="codeph">RESET DB_UNIQUE_NAME TO</code> options.
                              </p>
                           </li>
                           <li>
                              <p>Changing the DB_UNIQUE_NAME Initialization Parameter for a Database</p>
                              <p>If the value of the <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter changes for a database, then the same change must be made in the Oracle Data Guard environment. The RMAN recovery catalog, after connecting to that database instance, knows both the old and new value for <code class="codeph">DB_UNIQUE_NAME</code>. To merge the information for the old and new values within the recovery catalog schema, you must use the RMAN <code class="codeph">CHANGE DB_UNIQUE_NAME</code> command. If the value of the <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter changes for a database, the same change must be made in RMAN so that it is aware of the new <code class="codeph">DB_UNIQUE_NAME</code>. For example, perform the following steps to change the database with <code class="codeph">DB_UNIQUE_NAME</code> of <code class="codeph">BOSTON_A</code> to <code class="codeph">BOSTON_B</code>:
                              </p>
                              <ol>
                                 <li>
                                    <p>In the initialization parameter file or SQL, change the <code class="codeph">DB_UNIQUE_NAME</code> initialization parameter from <code class="codeph">BOSTON_A</code> to <code class="codeph">BOSTON_B</code>.
                                    </p>
                                 </li>
                                 <li>
                                    <div class="p">In RMAN, connect to any database in the Oracle Data Guard environment as target database and connect to the recovery catalog. Then execute the <code class="codeph">CHANGE</code> command: <pre class="pre codeblock"><code>CHANGE DB_UNIQUE_NAME FROM BOSTON_A TO BOSTON_B;</code></pre></div>
                                 </li>
                              </ol>
                           </li>
                           <li>
                              <p>Making Backups Unavailable or Removing Their Metadata</p>
                              <p>Use <code class="codeph">CHANGE</code> command options such as <code class="codeph">AVAILABLE</code>, <code class="codeph">UNAVAILABLE</code>, <code class="codeph">KEEP</code>, and <code class="codeph">UNCATALOG</code> to make backups available or unavailable for restore and recovery purposes, and to keep or remove their metadata.
                              </p>
                              <div class="infoboxnotealso" id="GUID-13FC0BEC-C528-47DA-95D5-35A67B3A97A1__GUID-14ED5188-25A5-41F3-9B78-D1438EC22667">
                                 <p class="notep1">See Also:</p>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=RCMRF110" target="_blank"><span class="italic">Oracle Database Backup and Recovery Reference</span></a> for more information about the RMAN <code class="codeph">CHANGE</code> command
                                 </p>
                              </div>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="SBYDB4867"></a><div class="props_rev_3"><a id="GUID-38EB0163-6F07-4F89-9A17-FC21FD779785" name="GUID-38EB0163-6F07-4F89-9A17-FC21FD779785"></a><h4 id="SBYDB-GUID-38EB0163-6F07-4F89-9A17-FC21FD779785" class="sect4"><span class="enumeration_section">12.7.2 </span>Deleting Archived Logs or Backups
                  </h4>
                  <div>
                     <p>Use the RMAN <code class="codeph">DELETE</code> command to delete backup sets, image copies, archived logs, or proxy copies.
                     </p>
                     <p> To delete only files that are associated with a specific database, you must use the <code class="codeph">FOR DB_UNIQUE_NAME</code> option with the <code class="codeph">DELETE</code> command.
                     </p>
                     <p>File metadata is deleted for all successfully deleted files associated with the current target database (or for files that are not associated with any known database). If a file could not be successfully deleted, you can use the <code class="codeph">FORCE</code> option to remove the file's metadata.
                     </p>
                     <p>When a file associated with another database is deleted successfully, its metadata in the recovery catalog is also deleted. Any files that are associated with other databases, and that could not be successfully deleted, are listed at the completion of the <code class="codeph">DELETE</code> command, along with instructions for you to perform the same operation at the database with which the files are associated (files are grouped by database). The <code class="codeph">FORCE</code> option cannot be used to override this behavior. If you are certain that deleting the metadata for the non-deletable files will not cause problems, you can use the <code class="codeph">CHANGE RESET DB_UNIQUE_NAME</code> command to change the metadata for association of files with the database and use the <code class="codeph">DELETE</code> command with the <code class="codeph">FORCE</code> option to delete the metadata for the file.
                     </p>
                     <div class="infoboxnotealso" id="GUID-38EB0163-6F07-4F89-9A17-FC21FD779785__GUID-06311517-F1C2-405E-B449-F64CBEBB5E1E">
                        <p class="notep1">See Also:</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=RCMRF121" target="_blank"><span class="italic">Oracle Database Backup and Recovery Reference</span></a> for more information about the RMAN <code class="codeph">DELETE</code> command
                        </p>
                     </div>
                  </div>
               </div><a id="SBYDB4868"></a><div class="props_rev_3"><a id="GUID-5C9C8A2E-E23A-4D62-BE5B-2205B5E877CB" name="GUID-5C9C8A2E-E23A-4D62-BE5B-2205B5E877CB"></a><h4 id="SBYDB-GUID-5C9C8A2E-E23A-4D62-BE5B-2205B5E877CB" class="sect4"><span class="enumeration_section">12.7.3 </span>Validating Recovery Catalog Metadata
                  </h4>
                  <div>
                     <p>Use the <code class="codeph">CROSSCHECK</code> command to validate and update file status in the recovery catalog schema.
                     </p>
                     <p>Metadata for all files associated with the current target database (or for any files that are not associated with any database), is marked <code class="codeph">AVAILABLE</code> or <code class="codeph">EXPIRED</code> according to the results of the <code class="codeph">CROSSCHECK</code> operation.
                     </p>
                     <p>If a file associated with another database is successfully inspected, its metadata in the recovery catalog is also changed to <code class="codeph">AVAILABLE</code>. Any files that are associated with other databases, and that could not be inspected successfully, are listed at the completion of the <code class="codeph">CROSSCHECK</code> command, along with instructions for you to perform the same operation at the database with which the files are associated (files are grouped by site). If you are certain of the configuration and still want to change status metadata for unavailable files, you can use the <code class="codeph">CHANGE RESET DB_UNIQUE_NAME</code> command to change metadata for association of files with the database and execute the <code class="codeph">CROSSCHECK</code> command to update status metadata to <code class="codeph">EXPIRED</code>.
                     </p>
                     <div class="infoboxnotealso" id="GUID-5C9C8A2E-E23A-4D62-BE5B-2205B5E877CB__GUID-9847EC13-4E04-4492-8E7A-55915CAE2BA6">
                        <p class="notep1">See Also:</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=RCMRF119" target="_blank"><span class="italic">Oracle Database Backup and Recovery Reference</span></a> for more information about the RMAN <code class="codeph">CROSSCHECK</code> command
                        </p>
                     </div>
                  </div>
               </div>
            </div><a id="SBYDB00754"></a><div class="props_rev_3"><a id="GUID-44539CC5-0BAB-47F8-B51F-BFD0A1D6DA40" name="GUID-44539CC5-0BAB-47F8-B51F-BFD0A1D6DA40"></a><h3 id="SBYDB-GUID-44539CC5-0BAB-47F8-B51F-BFD0A1D6DA40" class="sect3"><span class="enumeration_section">12.8 </span>Recovery Scenarios in an Oracle Data Guard Environment
               </h3>
               <div>
                  <p>These are some of recovery scenarios that can occur in an Oracle Data Guard environment.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="using-RMAN-in-oracle-data-guard-configurations.html#GUID-1F1D37FE-48A6-46D4-98DB-C0E3707E3BCF" title="You can restore and recover files over the network by connecting to a physical standby database that contains the required files.">Recovery from Loss of Files on the Primary or Standby Database</a></p>
                     </li>
                     <li>
                        <p><a href="using-RMAN-in-oracle-data-guard-configurations.html#GUID-7D1A6CBF-6E72-4700-87D8-64E534EFAA2B" title="If all online log members for the current ACTIVE group or for an inactive group which has not yet been archived are lost, then you must fail over to the standby database.">Recovery from Loss of Online Redo Log Files</a></p>
                     </li>
                     <li>
                        <p><a href="using-RMAN-in-oracle-data-guard-configurations.html#GUID-E8430B01-A852-4EAF-A711-10F3211F36A3" title="Incomplete recovery of the primary database is normally done in cases such as when the database is logically corrupted (by a user or an application) or when a tablespace or data file was accidentally dropped from database.">Incomplete Recovery of the Primary Database</a></p>
                     </li>
                     <li>
                        <p><a href="using-RMAN-in-oracle-data-guard-configurations.html#GUID-2B3CB228-F8AD-4FE0-8C3B-BEED91DFB424" title="After an RMAN tablespace point-in-time recovery (TSPITR) is performed at the primary, the recovered data files have a new system change number (SCN), and are therefore treated like new data files at the primary.">Actions Needed on Standby After TSPITR or Tablespace Plugin at Primary</a></p>
                     </li>
                  </ul>
               </div><a id="SBYDB4869"></a><div class="props_rev_3"><a id="GUID-1F1D37FE-48A6-46D4-98DB-C0E3707E3BCF" name="GUID-1F1D37FE-48A6-46D4-98DB-C0E3707E3BCF"></a><h4 id="SBYDB-GUID-1F1D37FE-48A6-46D4-98DB-C0E3707E3BCF" class="sect4"><span class="enumeration_section">12.8.1 </span>Recovery from Loss of Files on the Primary or Standby Database
                  </h4>
                  <div>
                     <p>You can restore and recover files over the network by connecting to a physical standby database that contains the required files.</p>
                     <p>This can be useful when you want to restore lost data files, control files, or tablespaces on a primary database using the corresponding files on the physical standby database. You can also use the same process to restore files on a physical standby database by using the primary database.</p>
                     <div class="infoboxnote" id="GUID-1F1D37FE-48A6-46D4-98DB-C0E3707E3BCF__GUID-3013E54B-17E9-4350-849F-B2740EC3DE86">
                        <p class="notep1">Note:</p>
                        <p>In releases prior to Oracle Database 12<span class="italic">c</span>, to recover from loss of files on the primary, you used the RMAN recovery catalog, and the RMAN <code class="codeph">BACKUP</code>, <code class="codeph">CATALOG DATAFILE</code>, and <code class="codeph">SWITCH DATAFILE</code> commands. To recover from loss of files on the standby, you used the <code class="codeph">RESTORE</code> and <code class="codeph">RECOVER</code> commands. Those methods are no longer necessary as of Oracle Database 12<span class="italic">c</span>. If you need information about using them, refer to Oracle Database 11<span class="italic">g</span> documentation.
                        </p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-1F1D37FE-48A6-46D4-98DB-C0E3707E3BCF__GUID-52F9483F-E402-4FDD-9D4C-6A91C65753C1">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sbydb&amp;id=BRADV680" target="_blank"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a> for more information about using RMAN to restore and recover files over the network
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="SBYDB4873"></a><div class="props_rev_3"><a id="GUID-7D1A6CBF-6E72-4700-87D8-64E534EFAA2B" name="GUID-7D1A6CBF-6E72-4700-87D8-64E534EFAA2B"></a><h4 id="SBYDB-GUID-7D1A6CBF-6E72-4700-87D8-64E534EFAA2B" class="sect4"><span class="enumeration_section">12.8.2 </span>Recovery from Loss of Online Redo Log Files
                  </h4>
                  <div>
                     <p>If all online log members for the current <code class="codeph">ACTIVE</code> group or for an inactive group which has not yet been archived are lost, then you must fail over to the standby database.
                     </p>
                     <div class="section">
                        <p> Refer to <a href="managing-oracle-data-guard-role-transitions.html#GUID-44F26D5F-E036-4ACD-B8F0-224F5498FBCE" title="An Oracle Data Guard configuration consists of one database that functions in the primary role and one or more databases that function in the standby role."> Role Transitions</a> for the failover procedure.
                        </p>
                        <p>For information about how to recover from the loss of online redo log files in other circumstances, see <a href="../bradv/user-managed-recovery-advanced.html#BRADV229" target="_blank"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a>. 
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="SBYDB5061"></a><a id="SBYDB5062"></a><a id="SBYDB5063"></a><a id="SBYDB4874"></a><div class="props_rev_3"><a id="GUID-E8430B01-A852-4EAF-A711-10F3211F36A3" name="GUID-E8430B01-A852-4EAF-A711-10F3211F36A3"></a><h4 id="SBYDB-GUID-E8430B01-A852-4EAF-A711-10F3211F36A3" class="sect4"><span class="enumeration_section">12.8.3 </span>Incomplete Recovery of the Primary Database
                  </h4>
                  <div>
                     <p>Incomplete recovery of the primary database is normally done in cases such as when the database is logically corrupted (by a user or an application) or when a tablespace or data file was accidentally dropped from database. </p>
                     <div class="section">
                        <p>Depending on the current database checkpoint SCN on the standby database instances, you can use one of the following procedures to perform incomplete recovery of the primary database. All the procedures are in order of preference, starting with the one that is the least time consuming. </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E8430B01-A852-4EAF-A711-10F3211F36A3__GUID-1CB2F407-B630-4CC0-B37A-98E013FBAF71">Using Flashback Database</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Using Flashback Database is the recommended procedure when the Flashback Database feature is enabled on the primary database, none of the database files are lost, and the point-in-time recovery is greater than the oldest flashback SCN or the oldest flashback time. See <a href="examples-of-using-oracle-data-guard.html#GUID-BAA5ED38-29A0-4E8D-8435-AA083D19C13E" title="If an error occurrs on the primary database in an Oracle Data Guard configuration in which the standby database is using real-time apply, then the same error is applied on the standby database. if Flashback Database is enabled, you can revert the primary and standby databases back to their pre-error condition.">Using Flashback Database After Issuing an Open Resetlogs Statement</a> for the procedure to use Flashback Database to do point-in-time recovery.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E8430B01-A852-4EAF-A711-10F3211F36A3__GUID-F9282BCB-F58D-4E68-AD68-879466B6A190">Using the standby database instance</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>This is the recommended procedure when the standby database is behind the desired incomplete recovery time, and Flashback Database is not enabled on the primary or standby databases:</p>
                        <ol>
                           <li>
                              <p>Recover the standby database to the desired point in time. Be sure to stop the managed redo process (MRP) before issuing the following command:</p><pre class="oac_no_warn" dir="ltr">RECOVER DATABASE UNTIL TIME '<span class="italic">time</span>';
</pre><p>Alternatively, incomplete recovery time can be specified using the SCN or log sequence number:</p><pre class="oac_no_warn" dir="ltr">RECOVER DATABASE UNTIL SCN <span class="variable" translate="no">incomplete recovery SCN</span>';
RECOVER DATABASE UNTIL LOGSEQ <span class="variable" translate="no">incomplete recovery log sequence number</span> THREAD <span class="variable" translate="no">thread number</span>;
</pre></li>
                           <li>
                              <p>Open the standby database in read-only mode to verify the state of database.</p>
                              <p>If the state is not what is desired, use the LogMiner utility to look at the archived redo log files to find the right target time or SCN for incomplete recovery. Alternatively, you can start by recovering the standby database to a point that you know is before the target time, and then open the database in read-only mode to examine the state of the data. Repeat this process until the state of the database is verified to be correct. If you recover the database too far (past the SCN where the error occurred) you cannot return it to an earlier SCN.</p>
                           </li>
                           <li>
                              <p>Activate<a id="d31144e3236" class="indexterm-anchor"></a> <a id="d31144e3241" class="indexterm-anchor"></a>the standby database using the SQL <code class="codeph">ALTER DATABASE ACTIVATE STANDBY DATABASE</code> statement. This converts the standby database to a primary database, creates a new resetlogs branch, and opens the database. See <a href="managing-oracle-data-guard-physical-standby-databases.html#GUID-02218512-31A6-461E-96B4-0B9997DCFC4A" title="Oracle Data Guard allows recovery on a physical standby database to continue after the primary database has been opened with the RESETLOGS option.">Recovering Through the OPEN RESETLOGS Statement</a> to learn how the standby database reacts to the new reset logs branch.
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E8430B01-A852-4EAF-A711-10F3211F36A3__GUID-D0C83B59-F397-461E-908E-8DF88C7CE0FC">Using the primary database instance</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>If all of the standby database instances have already been recovered past the desired point in time and Flashback Database is not enabled on the primary or standby database, then this is your only option.</p>
                        <p>Use the following procedure to perform incomplete recovery on the primary database:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Use LogMiner or another means to identify the time or SCN at which all the data in the database is known to be good.</span></li>
                        <li class="stepexpand"><span>Using the time or SCN, issue the following RMAN commands to do incomplete database recovery and open the database with the <code class="codeph">RESETLOGS</code> option (after connecting to catalog database and primary instance that is in <code class="codeph">MOUNT</code> state):</span><div><pre class="oac_no_warn" dir="ltr">RUN 
{
SET UNTIL TIME '<span class="italic">time</span>';
RESTORE DATABASE;
RECOVER DATABASE;
}
ALTER DATABASE OPEN RESETLOGS;
</pre></div>
                        </li>
                     </ol>
                     <div class="section">
                        <p>After this process, all standby database instances must be reestablished in the Oracle Data Guard configuration.</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="SBYDB5429"></a><div class="props_rev_3"><a id="GUID-2B3CB228-F8AD-4FE0-8C3B-BEED91DFB424" name="GUID-2B3CB228-F8AD-4FE0-8C3B-BEED91DFB424"></a><h4 id="SBYDB-GUID-2B3CB228-F8AD-4FE0-8C3B-BEED91DFB424" class="sect4"><span class="enumeration_section">12.8.4 </span>Actions Needed on Standby After TSPITR or Tablespace Plugin at Primary
                  </h4>
                  <div>
                     <p>After an RMAN tablespace point-in-time recovery (TSPITR) is performed at the primary, the recovered data files have a new system change number (SCN), and are therefore treated like new data files at the primary.</p>
                     <p>These data files cannot be automatically created at the standby.</p>
                     <p>Likewise, when a new plugged in tablespace is added to the primary database, the data files are treated like new data files at the primary.</p>
                     <p>The managed redo process (MRP) at the standby stops when the Redo Apply process encounters creation of these new files. The required new data files must be copied and restored to the standby. You can do this using either backups or a direct copy from the primary. For example, to copy all files that belong to a tablespace that has undergone an RMAN TSPITR, you can use the following RMAN command: </p><pre class="oac_no_warn" dir="ltr">RMAN&gt; RESTORE TABLESPACE &lt;tbs_name1, tbs_name2&gt; FROM SERVICE &lt;tnsalias-of-primary&gt;
</pre><p>The number of disk channels allocated is per RMAN configurations. So, if <code class="codeph">CONFIGURE DEVICE TYPE DISK PARALLELISM 4</code> is executed, then 4 disk channels are used to pull the files from the primary database.
                     </p>
                     <p>When the new data files are available at the standby, restart the MRP to continue applying the logs.</p>
                     <div class="infoboxnotealso" id="GUID-2B3CB228-F8AD-4FE0-8C3B-BEED91DFB424__GUID-DC7926CE-9304-45EE-9975-3FF148B12D51">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../bradv/performing-rman-tspitr.html#BRADV009" target="_blank"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a> for more information about RMAN TSPITR
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="SBYDB00752"></a><div class="props_rev_3"><a id="GUID-211E08A4-C19E-4159-80B2-429431314278" name="GUID-211E08A4-C19E-4159-80B2-429431314278"></a><h3 id="SBYDB-GUID-211E08A4-C19E-4159-80B2-429431314278" class="sect3"><span class="enumeration_section">12.9 </span>Additional Backup Situations
               </h3>
               <div>
                  <p>You can modify the backup procedures for other configurations, such as when the standby and primary databases cannot share backup files; the standby instance is only used to remotely archive redo log files; or the standby database filenames are different than the primary database.</p>
               </div><a id="SBYDB4875"></a><div class="props_rev_3"><a id="GUID-75F78440-2A7C-4FDC-AFF9-CABB440CB651" name="GUID-75F78440-2A7C-4FDC-AFF9-CABB440CB651"></a><h4 id="SBYDB-GUID-75F78440-2A7C-4FDC-AFF9-CABB440CB651" class="sect4"><span class="enumeration_section">12.9.1 </span>Standby Databases Too Geographically Distant to Share Backups
                  </h4>
                  <div>
                     <p>If the standby databases are far apart from one another, then the backups taken on them may not be easily accessible by the primary system or other standby systems. </p>
                     <div class="section">
                        <p>Perform a complete backup of the database on all systems to perform recovery operations. The fast recovery area can reside locally on the primary and standby systems; it does not have to be the same for the primary and standby databases.</p>
                        <p>In this scenario, you can still use the general strategies described in <a href="using-RMAN-in-oracle-data-guard-configurations.html#GUID-44539CC5-0BAB-47F8-B51F-BFD0A1D6DA40" title="These are some of recovery scenarios that can occur in an Oracle Data Guard environment.">Recovery Scenarios in an Oracle Data Guard Environment</a>, with the following exceptions:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Backup files created by RMAN must be tagged with the local system name, and with <code class="codeph">RESTORE</code> operations that tag must be used to restrict RMAN from selecting backups taken on the same host. In other words, the <code class="codeph">BACKUP</code> command must use the <code class="codeph">TAG</code> <span class="variable" translate="no">system name</span> option when creating backups; the <code class="codeph">RESTORE</code> command must use the <code class="codeph">FROM TAG</code> <span class="variable" translate="no">system name</span> option; and the <code class="codeph">RECOVER</code> command must use the  <code class="codeph">FROM TAG</code> <span class="variable" translate="no">system name</span> <code class="codeph">ARCHIVELOG TAG</code> <span class="variable" translate="no">system name</span> option.
                              </p>
                           </li>
                           <li>
                              <p>Disaster recovery of the standby site:</p>
                              <ol>
                                 <li>
                                    <p>Start the standby instance in the <code class="codeph">NOMOUNT</code> state using the same parameter files with which the standby was operating earlier.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Create a standby control file on the primary instance using the SQL <code class="codeph">ALTER DATABASE CREATE STANDBY CONTROLFILE AS</code> <span class="variable" translate="no">filename</span> statement, and use the created control file to mount the standby instance.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Issue the following RMAN commands to restore and recover the database files:</p><pre class="oac_no_warn" dir="ltr">RESTORE DATABASE FROM TAG '<span class="variable" translate="no">system name</span>';
RECOVER DATABASE FROM TAG '<span class="variable" translate="no">system name</span>' ARCHIVELOG TAG '<span class="variable" translate="no">system name</span>';
</pre></li>
                                 <li>
                                    <p>Restart Redo Apply.</p>
                                 </li>
                              </ol>
                           </li>
                        </ul>
                        <p>The standby instance fetches the remaining archived redo log files.</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="SBYDB4876"></a><div class="props_rev_3"><a id="GUID-BA288622-6D29-444E-ACD6-7CFC293C32D5" name="GUID-BA288622-6D29-444E-ACD6-7CFC293C32D5"></a><h4 id="SBYDB-GUID-BA288622-6D29-444E-ACD6-7CFC293C32D5" class="sect4"><span class="enumeration_section">12.9.2 </span>Standby Database Does Not Contain Data Files, Used as a FAL Server
                  </h4>
                  <div>
                     <p>The FAL server can be used as a backup source for all archived redo log files, thus off-loading backups of archived redo log files to the FAL server.</p>
                     <div class="section">
                        <p>Use the same procedure described in <a href="using-RMAN-in-oracle-data-guard-configurations.html#GUID-410FEFAD-7805-405A-8C02-B9D8F74C60F4" title="You can use RMAN scripts and procedures to back up Oracle Database in an Oracle Data Guard configuration.">Backup Procedures</a>, with the exception that the RMAN commands that back up database files cannot be run against the FAL server. 
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="SBYDB4877"></a><div class="props_rev_3"><a id="GUID-75A2D339-D737-44A1-B0E0-3BF8443D2FA4" name="GUID-75A2D339-D737-44A1-B0E0-3BF8443D2FA4"></a><h4 id="SBYDB-GUID-75A2D339-D737-44A1-B0E0-3BF8443D2FA4" class="sect4"><span class="enumeration_section">12.9.3 </span>Standby Database File Names Are Different From Primary Database
                  </h4>
                  <div>
                     <p>As of Oracle Database 11<span class="italic">g</span>, the recovery catalog can resynchronize the file names from each standby database site. 
                     </p>
                     <p>However, if the database filenames are not the same on the primary and standby databases that were never resynchronized, then the <code class="codeph">RESTORE</code> and <code class="codeph">RECOVER</code> commands you use are slightly different. To obtain the actual data file names on the standby database, query the <code class="codeph">V$DATAFILE</code> view and specify the <code class="codeph">SET NEWNAME</code> option for all the data files in the database:
                     </p><pre class="oac_no_warn" dir="ltr">RUN 
{
SET NEWNAME FOR DATAFILE 1 TO '<span class="variable" translate="no">existing file location for file#1</span> from V$DATAFILE';
SET NEWNAME FOR DATAFILE 2 TO '<span class="variable" translate="no">existing file location for file#2</span> from V$DATAFILE';


 SET NEWNAME FOR DATAFILE <span class="variable" translate="no">n</span> TO '<span class="variable" translate="no">existing file location for file#n</span> from V$DATAFILE';
 RESTORE {DATAFILE &lt;<span class="variable" translate="no">n,m,</span>&gt; | TABLESPACE <span class="variable" translate="no">tbs_name_1, 2, </span>| DATABASE;
SWITCH DATAFILE ALL; 
RECOVER DATABASE {NOREDO};
}
</pre><p>Similarly, you use the <code class="codeph">SET NEWNAME</code> option of the RMAN <code class="codeph">DUPLICATE</code> command to specify new filenames during standby database creation. Or you could set the <code class="codeph">LOG_FILE_NAME_CONVERT</code> and <code class="codeph">DB_FILE_NAME_CONVERT</code> parameters.
                     </p>
                     <div class="infoboxnotealso" id="GUID-75A2D339-D737-44A1-B0E0-3BF8443D2FA4__GUID-ED37F32E-B0F2-4901-A7F2-901C835FB989">
                        <p class="notep1">See Also:</p>
                        <p><a href="examples-of-using-oracle-data-guard.html#GUID-6FB574E5-2F3A-4C9E-A3F0-7C9154B0F540" title="When you create standby databases, there are additional steps that must be performed if the primary database uses Oracle Managed Files (OMF) or Oracle Automatic Storage Management (Oracle ASM).">Creating a Standby Database That Uses OMF or Oracle ASM</a> for information about precedence rules when both the <code class="codeph">DB_FILE_NAME_CONVERT</code> and <code class="codeph">DB_CREATE_FILE_DEST</code> parameters are set on the standby
                        </p>
                     </div>
                  </div>
               </div>
            </div><a id="SBYDB5457"></a><div class="props_rev_3"><a id="GUID-F0EB4F8E-7D2F-4674-9A5B-AABC368D8F11" name="GUID-F0EB4F8E-7D2F-4674-9A5B-AABC368D8F11"></a><h3 id="SBYDB-GUID-F0EB4F8E-7D2F-4674-9A5B-AABC368D8F11" class="sect3"><span class="enumeration_section">12.10 </span>Restoring and Recovering Files Over the Network
               </h3>
               <div>
                  <p>As of Oracle Database 12<span class="italic">c</span>, RMAN lets you restore or recover files by connecting, over the network, to a physical standby database that contains the required files.
                  </p>
                  <p> You can restore an entire database, data files, control files, spfile, or tablespaces. Restoring files over the network is very useful in scenarios where you need to synchronize the primary and standby databases.</p>
                  <p>RMAN restores database files, over the network, from a physical standby database by using the <code class="codeph">FROM</code> <code class="codeph">SERVICE</code> clause of the <code class="codeph">RESTORE</code> command. The <code class="codeph">FROM</code> <code class="codeph">SERVICE</code> clause provides the service name of the physical standby database from which the files must be restored. During the restore operation, RMAN creates backup sets, on the physical standby database, of the files that need to be restored and then transfers these backup sets to the target database over the network.
                  </p>
                  <div class="infoboxnote" id="GUID-F0EB4F8E-7D2F-4674-9A5B-AABC368D8F11__GUID-063A5B63-188F-4B0E-80D3-E27100F43128">
                     <p class="notep1">Note:</p>
                     <p>In releases prior to Oracle Database 12<span class="italic">c</span>, to restore and recover files over the network, you used the <a id="d31144e3944" class="indexterm-anchor"></a><a id="d31144e3946" class="indexterm-anchor"></a><a id="d31144e3950" class="indexterm-anchor"></a>RMAN <code class="codeph">BACKUP INCREMENTAL FROM SCN</code> command to create a backup on the primary database that started at the current SCN of the standby, and was then used to roll the standby database forward in time. That manual, multi-step method is not necessary as of Oracle Database 12<span class="italic">c</span>. If you need information about using that method, refer to Oracle Database 11<span class="italic">g</span> documentation.
                     </p>
                  </div>
                  <div class="infoboxnotealso" id="GUID-F0EB4F8E-7D2F-4674-9A5B-AABC368D8F11__GUID-B8967DE5-3197-42F7-9165-98AABB3EAC1E">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../bradv/rman-recovery-advanced.html#BRADV680" target="_blank"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a> for more information about using RMAN to restore and recover files over the network
                           </p>
                        </li>
                        <li>
                           <p> My Oracle Support note 2005729.1 at <a href="http://support.oracle.com" target="_blank"><code class="codeph">http://support.oracle.com</code></a> for information about reducing transportable tablespace downtime using cross-platform incremental backups.
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-53AF8403-7ECC-4329-966E-965FDBFB4455" name="GUID-53AF8403-7ECC-4329-966E-965FDBFB4455"></a><h3 id="SBYDB-GUID-53AF8403-7ECC-4329-966E-965FDBFB4455" class="sect3"><span class="enumeration_section">12.11 </span>Rolling Forward a Standby With One Command
               </h3>
               <div>
                  <p>As of Oracle Database 18c, you can refresh a standby database over the network using one RMAN command, <code class="codeph">RECOVER STANDBY DATABASE</code>.
                  </p>
                  <p>The<code class="codeph"> RECOVER STANDBY DATABASE</code> command restarts the standby instance, refreshes the control file from the primary database, and automatically renames data files, temp files, and online logs. It restores new data files that were added to the primary database and recovers the standby database up to the current time. 
                  </p>
                  <p>When you use the <code class="codeph">RECOVER STANDBY DATABASE</code> command to refresh a standby database,  you specify either a <code class="codeph">FROM SERVICE</code> clause or a <code class="codeph">NOREDO</code> clause. The <code class="codeph">FROM SERVICE</code> clause specifies the name of a primary service. The <code class="codeph">NOREDO</code> clause specifies that backups should be used for the refresh, which allows a standby to be rolled forward to a specific time or SCN.
                  </p>
                  <p>The MRP must be manually stopped on the standby before any attempt is made to sync with primary database.</p>
                  <p>The following is an example of using the <code class="codeph">RECOVER STANDBY DATABASE</code> command. It shows optional usage of the <code class="codeph">PFILE</code> clause to specify a parameter file for the standby database (used when the spfile is not available).
                  </p><pre class="pre codeblock"><code>RECOVER STANDBY DATABASE FROM SERVICE service_name PFILE=pfile_location;</code></pre><div class="infoboxnotealso" id="GUID-53AF8403-7ECC-4329-966E-965FDBFB4455__GUID-D8EAEF1D-6BE6-4B7F-8B25-AC2D6B3D51D8">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../bradv/rman-recovery-advanced.html#BRADV-GUID-828A4953-3F7E-4975-ADA4-5469D6794BB0" target="_blank"><span><cite>Oracle Database Backup and Recovery Users Guide</cite></span></a> for more information about using the <code class="codeph">RECOVER STANDBY DATABASE</code> command to refresh a physical standby database with changes made to the primary database
                           </p>
                        </li>
                     </ul> 
                  </div>
               </div>
            </div><a id="SBYDB5261"></a><div class="props_rev_3"><a id="GUID-72F008A1-527F-41DB-89CD-623FA06D0420" name="GUID-72F008A1-527F-41DB-89CD-623FA06D0420"></a><h3 id="SBYDB-GUID-72F008A1-527F-41DB-89CD-623FA06D0420" class="sect3"><span class="enumeration_section">12.12 </span>RMAN Support for CDBs In an Oracle Data Guard Environment
               </h3>
               <div>
                  <p>RMAN supports point-in-time recovery (PITR) of a multitenant container database (CDB) at a standby. (Individual pluggable databases (PDBs) do not have their own individual standbys.)</p>
                  <p>This is in addition to the support RMAN provides for complete database recovery and complete data file recovery at a standby. </p>
                  <p>To perform a CDB PITR at a standby, connect to the CDB as root and issue the RMAN <code class="codeph">BACKUP</code>, <code class="codeph">RESTORE</code>, and <code class="codeph">RECOVER</code> commands as necessary.
                  </p>
                  <p>Be aware that when a CDB PITR is performed on a standby, any pluggable databases (PDBs) that were in a disabled state before the CDB PITR become enabled. To return a PDB to a disabled state, connect to it, ensure it is closed (the <code class="codeph">OPEN_MODE</code> column in the <code class="codeph">V$PDBS</code> view shows a value of <code class="codeph">MOUNTED</code>), and then execute the SQL statement <code class="codeph">ALTER</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> <code class="codeph">DISABLE</code> <code class="codeph">RECOVERY</code>.
                  </p>
                  <p>The <code class="codeph">ALTER</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> <code class="codeph">DISABLE</code> <code class="codeph">RECOVERY</code> statement takes all data files belonging to the PDB offline and disables recovery for the PDB. The data files that belong to the PDB are not part of any recovery session until the PDB is enabled again. Any new data files created while recovery is disabled are created as unnamed files and are marked offline.
                  </p>
                  <p>To bring all data files that belong to a PDB back online and enable it for recovery, connect to it, ensure it is closed (the <code class="codeph">OPEN_MODE</code> column in the <code class="codeph">V$PDBS</code> view shows a value of <code class="codeph">MOUNTED</code>), and issue the SQL statement <code class="codeph">ALTER</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> <code class="codeph">ENABLE</code> <code class="codeph">RECOVERY</code>. 
                  </p>
                  <p>To check whether recovery is enabled or disabled on a PDB, query the <code class="codeph">V$PDBS</code> view as follows:
                  </p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT RECOVERY_STATUS FROM V$PDBS;
</pre><div class="section">
                     <p class="subhead2" id="GUID-72F008A1-527F-41DB-89CD-623FA06D0420__GUID-A86DE91D-C851-4188-8BB4-9E2D47B77BF4">Flashing Back a PDB</p>
                     <p>As of Oracle Database 12<span class="italic">c</span> Release 2 (12.2.0.1), you can use the <code class="codeph">FLASHBACK PLUGGABLE DATABASE</code> command (available through SQL or Recovery Manager) to perform a flashback operation on a specific PDB. You can flashback to a specific restore point  an alias for system change number (SCN) in the past without affecting other PDBs in a CDB. (Performing such an operation on a PDB is analogous to <code class="codeph">FLASHBACK DATABASE</code> in a non-CDB.)
                     </p>
                     <p>You can also flashback a PDB on a standby. In effect, flashing back a PDB on a standby rewinds the data files for the PDB to a previous point in time, as if restoring a backup of the PDB. Flashing back a PDB on a standby allows the standby to quickly follow the primary after you perform a PDB PITR/flashback operation on the primary, as described in <a href="examples-of-using-oracle-data-guard.html#GUID-8D948A24-A3B7-4E4F-917A-00B047CF3CAF" title="After you perform a PDB PITR or PDB Flashback on a primary, you can either restore the PDB or flashback the PDB on the standby to let the standby follow the primary.">Actions Needed On a Standby After a PDB PITR On a Primary</a>. 
                     </p>
                     <div class="infoboxnote" id="GUID-72F008A1-527F-41DB-89CD-623FA06D0420__FILESTHATAREBROUGHTONLINEOROFFLINEA-43A25B1E">
                        <p class="notep1">Note:</p>
                        <p>Files that are brought online or offline as a result of an <code class="codeph">ALTER</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code> <code class="codeph">[</code><code class="codeph">ENABLE</code> <code class="codeph">|</code> <code class="codeph">DISABLE</code><code class="codeph">] </code>operation remain in that state even if you flashback the database to a point before the operation was performed.
                        </p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-72F008A1-527F-41DB-89CD-623FA06D0420__ACTIONSNEEDEDONASTANDBYAFTERAPDBPIT-43A25B1E">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="examples-of-using-oracle-data-guard.html#GUID-8D948A24-A3B7-4E4F-917A-00B047CF3CAF" title="After you perform a PDB PITR or PDB Flashback on a primary, you can either restore the PDB or flashback the PDB on the standby to let the standby follow the primary.">Actions Needed On a Standby After a PDB PITR On a Primary</a> for information about actions needed on a standby after a PDB PITR on a primary
                              </p>
                           </li>
                           <li>
                              <p><a href="using-RMAN-in-oracle-data-guard-configurations.html#GUID-2B3CB228-F8AD-4FE0-8C3B-BEED91DFB424" title="After an RMAN tablespace point-in-time recovery (TSPITR) is performed at the primary, the recovered data files have a new system change number (SCN), and are therefore treated like new data files at the primary.">Actions Needed on Standby After TSPITR or Tablespace Plugin at Primary</a> for information about actions needed on a standby after TSPITR or tablespace plugin at the primary
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='00629.XML-DB-repository-events.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="You can use Oracle XML&nbsp;DB Repository to store and access data of any kind, in the form of repository resources. You can access repository data from any application. Sometimes your application needs to perform certain actions whenever a particular repository operation occurs. You can do this using repository events.">
      <meta name="description" content="You can use Oracle XML&nbsp;DB Repository to store and access data of any kind, in the form of repository resources. You can access repository data from any application. Sometimes your application needs to perform certain actions whenever a particular repository operation occurs. You can do this using repository events.">
      <title>Oracle XML&nbsp;DB Repository Events</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Developer's Guide ">
      <meta property="og:description" content="You can use Oracle XML&nbsp;DB Repository to store and access data of any kind, in the form of repository resources. You can access repository data from any application. Sometimes your application needs to perform certain actions whenever a particular repository operation occurs. You can do this using repository events.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="xml-db-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-30T12:32:42-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2002, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96222-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="user-defined-repository-metadata.html" title="Previous" type="text/html">
      <link rel="next" href="how-to-write-XML-DB-applications-in-Java.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="XML DB Developer's Guide">
    <meta name="dcterms.isVersionOf" content="ADXDB">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="user-defined-repository-metadata.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="how-to-write-XML-DB-applications-in-Java.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Developer's Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="XML-DB-repository.html" property="item" typeof="WebPage"><span property="name"> Oracle XML&nbsp;DB Repository</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Oracle XML&nbsp;DB Repository Events</li>
            </ol>
            <a id="GUID-1A25D4D1-2353-41FC-9D86-9C35F9F95532" name="GUID-1A25D4D1-2353-41FC-9D86-9C35F9F95532"></a><a id="ADXDB2580"></a>
            
            <h2 id="ADXDB-GUID-1A25D4D1-2353-41FC-9D86-9C35F9F95532" class="sect2"><span class="enumeration_chapter">30 </span> Oracle XML&nbsp;DB Repository Events
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>You can use Oracle XML&nbsp;DB Repository to store and access data of any kind, in the form of repository resources. You can access repository data from any application. Sometimes your application needs to perform certain actions whenever a particular repository operation occurs. You can do this using repository events.</p>
               <div class="section"></div>
               <!-- class="section" -->
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="XML-DB-repository-events.html#GUID-33531811-B433-4257-A176-88D7AAAD48EC">Overview of Repository Events</a><br>Your application can perform specific actions when events associated with repository operations occur. For example, you might want to perform a move-to-wastebasket or another backup action whenever a resource is deleted. 
                  </li>
                  <li class="ulchildlink"><a href="XML-DB-repository-events.html#GUID-5F7D0772-848D-49EA-832B-AB1117B9E3F1">Possible Repository Events</a><br>Repository operations are associated with predefined events. Except for a rendering operation, events come in pre and post pairs.
                  </li>
                  <li class="ulchildlink"><a href="XML-DB-repository-events.html#GUID-5821696E-5128-4221-9E9F-D36E2ACE5834">Repository Operations and Events</a><br>The same repository event can occur with different Oracle XML&nbsp;DB Repository operations, and a given repository operation can produce more than one repository event.
                  </li>
                  <li class="ulchildlink"><a href="XML-DB-repository-events.html#GUID-C4139224-FF34-4B6D-9B68-481FA41E634C">Repository Event Handler Considerations</a><br>Some considerations are listed for defining handlers for Oracle XML&nbsp;DB Repository events.
                  </li>
                  <li class="ulchildlink"><a href="XML-DB-repository-events.html#GUID-C7D110F1-CB15-475B-83E6-7C186DF0E119">Configuration of Repository Events</a><br>In a resource configuration file, you use element <code class="codeph">event-listeners</code>, child of element <code class="codeph">ResConfig</code>, to configure Oracle XML&nbsp;DB Repository event handling. 
                  </li>
               </ul>
               <div class="relinfo">
                  <p><strong>Related Topics</strong></p>
                  <ul>
                     <li><a href="configuration-of-XML-DB-repository.html#GUID-E44B59D4-7A7E-4303-ACE3-B801797B06AF" title="Overall configuration of Oracle XML&nbsp;DB Repository applies to all repository resources. It does not include configuring parameters for handling events or managing XLink and XInclude processing. You use resource configuration files to configure resources.">Configuration of Oracle XML&nbsp;DB Repository</a></li>
                  </ul>
               </div>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="XML-DB-repository.html#GUID-840EBE35-8FC8-4150-9FC8-78442FD1B12B" title="Oracle XML&nbsp;DB Repository lets you version your data, implement and manage security, and use APIs to access and manipulate repository resources.">Oracle XML&nbsp;DB Repository</a></p>
                  </div>
               </div>
            </div>
            <a id="ADXDB5591"></a><div class="props_rev_3"><a id="GUID-33531811-B433-4257-A176-88D7AAAD48EC" name="GUID-33531811-B433-4257-A176-88D7AAAD48EC"></a><h3 id="ADXDB-GUID-33531811-B433-4257-A176-88D7AAAD48EC" class="sect3"><span class="enumeration_section">30.1 </span>Overview of Repository Events
               </h3>
               <div>
                  <p>Your application can perform specific actions when events associated with repository operations occur. For example, you might want to perform a move-to-wastebasket or another backup action whenever a resource is deleted. </p>
                  <p>Repository resource operations include creating, deleting, locking, unlocking, rendering, linking, unlinking, placing under version control, checking in, checking out, unchecking out (reverting a checked out version), opening, and updating. </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="XML-DB-repository-events.html#GUID-8D76D959-A3B7-4401-9024-ADB29A703B36">Repository Events: Use Cases</a><br>Examples of cases where you can use repository events include moving a resource to a wastebasket and categorizing a resource based on its MIME type. 
                     </li>
                     <li class="ulchildlink"><a href="XML-DB-repository-events.html#GUID-9CC45EFA-9CBF-415D-A150-911F0A64A087">Repository Events and Database Triggers</a><br>You cannot use a database trigger to let your application react to repository operations. A given repository operation can consist of multiple database operations on multiple underlying, internal tables. Because these underlying tables are internal to Oracle XML&nbsp;DB, you cannot easily map them to specific repository operations. 
                     </li>
                     <li class="ulchildlink"><a href="XML-DB-repository-events.html#GUID-65551F91-CDC8-4053-A2F6-E949027BD604">Repository Event Listeners and Event Handlers</a><br>Each repository operation is associated with events. Your application can configure event listeners for particular resources or the entire repository. A listener can be restricted by a node-existence precondition. A listener is a set of PL/SQL or Java handlers, each of which processes a single event.
                     </li>
                     <li class="ulchildlink"><a href="XML-DB-repository-events.html#GUID-AC610F25-FF1F-418E-8F92-515C219E9523">Repository Event Configuration</a><br>Repository event configuration involves defining resource configuration files and defining the order in which they are processed. The files define event listeners. Such configuration applies to events on individual resources and events for the repository as a whole.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="XML-DB-repository-events.html#GUID-1A25D4D1-2353-41FC-9D86-9C35F9F95532" title="You can use Oracle XML&nbsp;DB Repository to store and access data of any kind, in the form of repository resources. You can access repository data from any application. Sometimes your application needs to perform certain actions whenever a particular repository operation occurs. You can do this using repository events.">Oracle XML&nbsp;DB Repository Events</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADXDB5592"></a><div class="props_rev_3"><a id="GUID-8D76D959-A3B7-4401-9024-ADB29A703B36" name="GUID-8D76D959-A3B7-4401-9024-ADB29A703B36"></a><h4 id="ADXDB-GUID-8D76D959-A3B7-4401-9024-ADB29A703B36" class="sect4"><span class="enumeration_section">30.1.1 </span>Repository Events: Use Cases
                  </h4>
                  <div>
                     <p>Examples of cases where you can use repository events include moving a resource to a wastebasket and categorizing a resource based on its MIME type. </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="italic">Wastebasket &#x2013;</span> You can use an <code class="codeph">UnLink</code> pre-event handler to effectively move a resource to a wastebasket instead of deleting it. Create a link in a wastebasket folder before removing the original link. The link in the wastebasket ensures that the resource is not removed. When you subsequently undelete a resource from the waste basket, the original link can be created again and the wastebasket link removed. The wastebasket link name can be different from the name of the link being removed because a resource at a certain path could be unlinked more than once from that path. The wastebasket would then have multiple links corresponding to that path, with different link properties and possibly pointing to different resources. 
                           </p>
                        </li>
                        <li>
                           <p><span class="italic">Categorization &#x2013;</span> An application might categorize the resources it manages based on MIME type or other properties. It might keep track of GIF, text, and XML files by maintaining links to them from repository folders <code class="codeph">/my-app/gif</code>, <code class="codeph">/my-app/txt</code>, and <code class="codeph">/my-app/xml</code>. Three post-event handlers could be used here: <code class="codeph">LinkIn</code>, <code class="codeph">UnlinkIn</code>, and <code class="codeph">Update</code>. The <code class="codeph">LinkIn</code> post-event handler would examine the resource and create a link in the appropriate category folder, if not already present. The <code class="codeph">UnlinkIn</code> post-event handler would remove the link from the category folder. The <code class="codeph">Update</code> post-event handler would effectively move the resource from one category folder to another if its category changes.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="XML-DB-repository-events.html#GUID-33531811-B433-4257-A176-88D7AAAD48EC" title="Your application can perform specific actions when events associated with repository operations occur. For example, you might want to perform a move-to-wastebasket or another backup action whenever a resource is deleted.">Overview of Repository Events</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB5593"></a><div class="props_rev_3"><a id="GUID-9CC45EFA-9CBF-415D-A150-911F0A64A087" name="GUID-9CC45EFA-9CBF-415D-A150-911F0A64A087"></a><h4 id="ADXDB-GUID-9CC45EFA-9CBF-415D-A150-911F0A64A087" class="sect4"><span class="enumeration_section">30.1.2 </span>Repository Events and Database Triggers
                  </h4>
                  <div>
                     <p>You cannot use a database trigger to let your application react to repository operations. A given repository operation can consist of multiple database operations on multiple underlying, internal tables. Because these underlying tables are internal to Oracle XML&nbsp;DB, you cannot easily map them to specific repository operations. </p>
                     <p>For example, internal table <code class="codeph">XDB$H_INDEX</code> might be updated by either a database update operation, if an ACL is changed, or a link operation. Even in cases where you might be able to accomplish the same thing using database triggers, you would not want to do that: A repository event is a higher-level abstraction than would be a set of database triggers on the underlying tables.
                     </p>
                     <p>When a repository event occurs, information associated with the operation, such as the resource path used, can be passed to the corresponding event handler. Such information is not readily available using database triggers.</p>
                     <p>Repository events and database triggers can both be applied to XML data. You can use triggers on <code class="codeph">XMLType</code> tables, for instance. However, if an <code class="codeph">XMLType</code> table is also a repository table (hierarchy-enabled), then do not duplicate in an event handler any trigger code that applies to the table. Otherwise, that code is executed twice.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="XML-DB-repository-events.html#GUID-33531811-B433-4257-A176-88D7AAAD48EC" title="Your application can perform specific actions when events associated with repository operations occur. For example, you might want to perform a move-to-wastebasket or another backup action whenever a resource is deleted.">Overview of Repository Events</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB5594"></a><div class="props_rev_3"><a id="GUID-65551F91-CDC8-4053-A2F6-E949027BD604" name="GUID-65551F91-CDC8-4053-A2F6-E949027BD604"></a><h4 id="ADXDB-GUID-65551F91-CDC8-4053-A2F6-E949027BD604" class="sect4"><span class="enumeration_section">30.1.3 </span>Repository Event Listeners and Event Handlers
                  </h4>
                  <div>
                     <p>Each repository operation is associated with events. Your application can configure event listeners for particular resources or the entire repository. A listener can be restricted by a node-existence precondition. A listener is a set of PL/SQL or Java handlers, each of which processes a single event.</p>
                     <p></p>
                     <p>A repository <strong class="term">event listener</strong> is a Java class or a PL/SQL package or object type. It comprises a set of PL/SQL procedures or Java methods, each of which is called an <strong class="term">event handler</strong>. 
                     </p>
                     <p>You associate a repository event listener with a resource by mapping a <strong class="term">resource configuration file</strong> to the resource. You use PL/SQL package <code class="codeph">DBMS_RESCONFIG</code> to manipulate resource configuration files, including associating them with the resources they configure. In particular, PL/SQL function <code class="codeph">DBMS_RESCONFIG.getListeners</code> lists all event listeners for a given resource. 
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="XML-DB-repository-events.html#GUID-33531811-B433-4257-A176-88D7AAAD48EC" title="Your application can perform specific actions when events associated with repository operations occur. For example, you might want to perform a move-to-wastebasket or another backup action whenever a resource is deleted.">Overview of Repository Events</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB5595"></a><div class="props_rev_3"><a id="GUID-AC610F25-FF1F-418E-8F92-515C219E9523" name="GUID-AC610F25-FF1F-418E-8F92-515C219E9523"></a><h4 id="ADXDB-GUID-AC610F25-FF1F-418E-8F92-515C219E9523" class="sect4"><span class="enumeration_section">30.1.4 </span>Repository Event Configuration
                  </h4>
                  <div>
                     <p>Repository event configuration involves defining resource configuration files and defining the order in which they are processed. The files define event listeners. Such configuration applies to events on individual resources and events for the repository as a whole.</p>
                     <p>A given resource can be configured by multiple resource configuration files. These are stored in a <strong class="term">resource configuration list</strong>, and they are processed in list order. Events for the repository as a whole can also be configured by multiple resource configuration files. Similarly, the repository also has a resource configuration list. Event handling that is configured for the repository as a whole takes effect before any resource-specific event handling. All applicable repository-wide events are processed before any resource-specific events.
                     </p>
                     <p>A given resource configuration file can define multiple event listeners for the resources it configures, and each event listener can define multiple event handlers. </p>
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="XML-DB-repository-events.html#GUID-C7D110F1-CB15-475B-83E6-7C186DF0E119" title="In a resource configuration file, you use element event-listeners, child of element ResConfig, to configure Oracle XML&nbsp;DB Repository event handling.">Configuration of Repository Events</a></li>
                        </ul>
                     </div>
                     <div class="infoboxnotealso" id="GUID-AC610F25-FF1F-418E-8F92-515C219E9523__GUID-E13A1B35-9ADA-455A-9100-98BAF411026F">
                        <p class="notep1">See Also:</p>
                        <p><a href="configuration-of-XML-DB-repository.html#GUID-5ADEA709-733D-4E05-933A-AB1E7262D8AA" title="You configure an Oracle XML&nbsp;DB Repository resource for any purpose by associating it with a resource configuration file, which defines configurable parameters for the resource. A resource configuration file is itself a resource in Oracle XML&nbsp;DB Repository.">Resource Configuration Files</a> for general information about resource configuration and resource configuration lists
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="XML-DB-repository-events.html#GUID-33531811-B433-4257-A176-88D7AAAD48EC" title="Your application can perform specific actions when events associated with repository operations occur. For example, you might want to perform a move-to-wastebasket or another backup action whenever a resource is deleted.">Overview of Repository Events</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADXDB5597"></a><a id="ADXDB5596"></a><div class="props_rev_3"><a id="GUID-5F7D0772-848D-49EA-832B-AB1117B9E3F1" name="GUID-5F7D0772-848D-49EA-832B-AB1117B9E3F1"></a><h3 id="ADXDB-GUID-5F7D0772-848D-49EA-832B-AB1117B9E3F1" class="sect3"><span class="enumeration_section">30.2 </span>Possible Repository Events
               </h3>
               <div>
                  <p>Repository operations are associated with predefined events. Except for a rendering operation, events come in pre and post pairs.</p>
                  <p>A rendering operation is associated with a single repository event. Except for rendering, all repository operations are associated with one or more <span class="italic">pairs</span> of events. 
                  </p>
                  <p>For example, a resource creation is associated with three pairs of events, with the events occurring in this order:</p>
                  <ol>
                     <li>
                        <p>Pre-creation event</p>
                     </li>
                     <li>
                        <p>Post-creation event</p>
                     </li>
                     <li>
                        <p>Pre-link-in event</p>
                     </li>
                     <li>
                        <p>Pre-link-to event</p>
                     </li>
                     <li>
                        <p>Post-link-to event</p>
                     </li>
                     <li>
                        <p>Post-link-in event</p>
                     </li>
                  </ol>
                  <p><a href="XML-DB-repository-events.html#GUID-5F7D0772-848D-49EA-832B-AB1117B9E3F1__BABHJGBH" title="This table lists the events associated with each repository operation. Their order is indicated in the handler columns.">Table 30-1</a> lists the events associated with each repository operation. Their order is indicated in the handler columns. 
                  </p>
                  <div class="tblformalwide" id="GUID-5F7D0772-848D-49EA-832B-AB1117B9E3F1__BABHJGBH">
                     <p class="titleintable">Table 30-1 Predefined Repository Events</p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="Predefined Repository Events" summary="This table lists the events associated with each repository operation. Their order is indicated in the handler columns. " width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="20%" id="d146411e511">Repository Event Type</th>
                              <th align="left" valign="bottom" width="36%" id="d146411e514">Description</th>
                              <th align="left" valign="bottom" width="23%" id="d146411e517">Pre Handler Execution</th>
                              <th align="left" valign="bottom" width="21%" id="d146411e520">Post Handler Execution</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d146411e525" headers="d146411e511 ">
                                 <p><code class="codeph">Render</code></p>
                              </td>
                              <td align="left" valign="top" width="36%" headers="d146411e525 d146411e514 ">
                                 <p>A <code class="codeph">Render</code> event occurs only for <span class="italic">file</span> resources, never for folder resources.
                                 </p>
                                 <p>Occurs when resource contents are accessed using any of the following:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>Protocols</p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">XDBURIType</code> methods <code class="codeph">getCLOB()</code>, <code class="codeph">getBLOB()</code>, and <code class="codeph">getXML()</code></p>
                                    </li>
                                 </ul>
                                 <p>Does <span class="italic">not</span> occur when resource contents are accessed using any of the following:
                                 </p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><code class="codeph">SELECT ... FROM RESOURCE_VIEW</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">XDBURIType</code> method <code class="codeph">getResource()</code></p>
                                    </li>
                                 </ul>
                                 <p>Only one handler for a <code class="codeph">Render</code> event can set the rendered output. The first handler to call <code class="codeph">setRenderStream</code> or <code class="codeph">setRenderPath</code> controls the rendering.
                                 </p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d146411e525 d146411e517 ">
                                 <p>N/A</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d146411e525 d146411e520 ">
                                 <p>N/A</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d146411e592" headers="d146411e511 ">
                                 <p><code class="codeph">Create</code></p>
                              </td>
                              <td align="left" valign="top" width="36%" headers="d146411e592 d146411e514 ">
                                 <p>Occurs when a resource is created. The pre and post handlers executed are those defined on the folder of the new resource.</p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d146411e592 d146411e517 ">
                                 <p>After pre-parsing, after validating the parent resource ACL and locks, and before assigning default values to undefined properties.</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d146411e592 d146411e520 ">
                                 <p>After inserting the resource into the system resource table.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d146411e606" headers="d146411e511 ">
                                 <p><code class="codeph">Delete</code></p>
                              </td>
                              <td align="left" valign="top" width="36%" headers="d146411e606 d146411e514 ">
                                 <p>Occurs when the resource and its contents are removed from disk, that is, when the resource <code class="codeph">REF</code> count is zero (0).
                                 </p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d146411e606 d146411e517 ">
                                 <p>After validating the resource ACL and locks and before removing the resource from disk.</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d146411e606 d146411e520 ">
                                 <p>After removing the resource and its contents from disk and after touching the parent folder to update its last modifier and modification time.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d146411e623" headers="d146411e511 ">
                                 <p><code class="codeph">Update</code></p>
                              </td>
                              <td align="left" valign="top" width="36%" headers="d146411e623 d146411e514 ">
                                 <p>Occurs when a resource is updated on disk.</p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d146411e623 d146411e517 ">
                                 <p>After validating the resource ACL and locks and before updating the last modifier and modification time.</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d146411e623 d146411e520 ">
                                 <p>After writing the resource to disk.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d146411e637" headers="d146411e511 ">
                                 <p><code class="codeph">Lock</code></p>
                              </td>
                              <td align="left" valign="top" width="36%" headers="d146411e637 d146411e514 ">
                                 <p>Occurs during a lock-resource operation.</p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d146411e637 d146411e517 ">
                                 <p>After validating the resource ACL and locks and before creating the new lock on the resource.</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d146411e637 d146411e520 ">
                                 <p>After creating the new lock.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d146411e651" headers="d146411e511 ">
                                 <p><code class="codeph">Unlock</code></p>
                              </td>
                              <td align="left" valign="top" width="36%" headers="d146411e651 d146411e514 ">
                                 <p>Occurs during an unlock-resource operation.</p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d146411e651 d146411e517 ">
                                 <p>After validating the resource ACL and delete token.</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d146411e651 d146411e520 ">
                                 <p>After removing the lock.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d146411e665" headers="d146411e511 ">
                                 <p><code class="codeph">LinkIn</code></p>
                              </td>
                              <td align="left" valign="top" width="36%" headers="d146411e665 d146411e514 ">
                                 <p>Occurs before a <code class="codeph">LinkTo</code> event during a link operation. The event target is the folder in which the link is created. Always accompanied by a <code class="codeph">LinkTo</code> event.
                                 </p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d146411e665 d146411e517 ">
                                 <p>After validating the resource ACL and locks and before creating the link.</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d146411e665 d146411e520 ">
                                 <p>After executing <code class="codeph">LinkTo</code> post handler.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d146411e688" headers="d146411e511 ">
                                 <p><code class="codeph">LinkTo</code></p>
                              </td>
                              <td align="left" valign="top" width="36%" headers="d146411e688 d146411e514 ">
                                 <p>Occurs after a <code class="codeph">LinkIn</code> event during a link operation. The event target is the resource that is the link destination. 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d146411e688 d146411e517 ">
                                 <p>After executing <code class="codeph">LinkIn</code> pre handler and before creating the link.
                                 </p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d146411e688 d146411e520 ">
                                 <p>After creating the link and after updating the last modifier and modification time of the parent folder.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d146411e708" headers="d146411e511 ">
                                 <p><code class="codeph">UnLinkIn</code></p>
                              </td>
                              <td align="left" valign="top" width="36%" headers="d146411e708 d146411e514 ">
                                 <p>Occurs before an <code class="codeph">UnlinkFrom</code> event during an unlink operation. Always accompanied by an <code class="codeph">UnlinkFrom</code> event.
                                 </p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d146411e708 d146411e517 ">
                                 <p>After validating the resource ACL and locks and before removing the link.</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d146411e708 d146411e520 ">
                                 <p>After executing the <code class="codeph">UnlinkFrom</code> post handler.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d146411e731" headers="d146411e511 ">
                                 <p><code class="codeph">UnlinkFrom</code></p>
                              </td>
                              <td align="left" valign="top" width="36%" headers="d146411e731 d146411e514 ">
                                 <p>Occurs after an <code class="codeph">UnlinkIn</code> event during an unlink operation.
                                 </p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d146411e731 d146411e517 ">
                                 <p>After executing the <code class="codeph">UnlinkIn</code> pre handler.
                                 </p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d146411e731 d146411e520 ">
                                 <p>After removing the link.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d146411e751" headers="d146411e511 ">
                                 <p><code class="codeph">CheckIn</code></p>
                              </td>
                              <td align="left" valign="top" width="36%" headers="d146411e751 d146411e514 ">
                                 <p>Occurs during check-in of a resource.</p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d146411e751 d146411e517 ">
                                 <p>After validating the resource ACL and locks and after verifying that the resource is version-controlled and has been checked out.</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d146411e751 d146411e520 ">
                                 <p>After checking in the resource.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d146411e766" headers="d146411e511 ">
                                 <p><code class="codeph">CheckOut</code></p>
                              </td>
                              <td align="left" valign="top" width="36%" headers="d146411e766 d146411e514 ">
                                 <p>Occurs during check-out of a resource.</p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d146411e766 d146411e517 ">
                                 <p>After validating the resource ACL and locks and after verifying that the resource is version-controlled and is not already checked out.</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d146411e766 d146411e520 ">
                                 <p>After checking out the resource.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d146411e780" headers="d146411e511 ">
                                 <p><code class="codeph">UncheckOut</code></p>
                              </td>
                              <td align="left" valign="top" width="36%" headers="d146411e780 d146411e514 ">
                                 <p>Occurs during uncheck-out of a resource.</p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d146411e780 d146411e517 ">
                                 <p>Before removing the record that the resource is checked out.</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d146411e780 d146411e520 ">
                                 <p>After unchecking out the resource.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d146411e794" headers="d146411e511 ">
                                 <p><code class="codeph">VersionControl</code></p>
                              </td>
                              <td align="left" valign="top" width="36%" headers="d146411e794 d146411e514 ">
                                 <p>Occurs when a version history is created for a resource.</p>
                                 <p>Note: You can call <code class="codeph">DBMS_XDB_VERSION.MakeVersioned()</code> multiple times, but the version history is created only at the first call. Subsequent calls have no effect, so no <code class="codeph">VersionControl</code> event occurs.
                                 </p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d146411e794 d146411e517 ">
                                 <p>Before creating the version history for the resource.</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d146411e794 d146411e520 ">
                                 <p>After creating the first version of the resource.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p>For simplicity, the documentation generally treats both members of a repository event pair together, referring, for example, to the <code class="codeph">LinkIn</code> event type as shorthand for the pre-link-in and post-link-in event types. For the same reason, the event-type names used here are derived from the Java interface <code class="codeph">XDBRepositoryEventListener</code> by dropping the prefixes <code class="codeph">handlePre</code> and <code class="codeph">handlePost</code>. 
                  </p>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-5F7D0772-848D-49EA-832B-AB1117B9E3F1__GUID-B09E0E1F-45BC-4E97-841C-A913C5C661FB">
                     <p class="notep1">See Also:</p>
                     <p><a href="../arpls/DBMS_XEVENT.html#ARPLS210" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> for the PL/SQL repository event types
                     </p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="XML-DB-repository-events.html#GUID-1A25D4D1-2353-41FC-9D86-9C35F9F95532" title="You can use Oracle XML&nbsp;DB Repository to store and access data of any kind, in the form of repository resources. You can access repository data from any application. Sometimes your application needs to perform certain actions whenever a particular repository operation occurs. You can do this using repository events.">Oracle XML&nbsp;DB Repository Events</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADXDB5599"></a><a id="ADXDB5598"></a><div class="props_rev_3"><a id="GUID-5821696E-5128-4221-9E9F-D36E2ACE5834" name="GUID-5821696E-5128-4221-9E9F-D36E2ACE5834"></a><h3 id="ADXDB-GUID-5821696E-5128-4221-9E9F-D36E2ACE5834" class="sect3"><span class="enumeration_section">30.3 </span>Repository Operations and Events
               </h3>
               <div>
                  <p>The same repository event can occur with different Oracle XML&nbsp;DB Repository operations, and a given repository operation can produce more than one repository event.</p>
                  <p> <a href="XML-DB-repository-events.html#GUID-5821696E-5128-4221-9E9F-D36E2ACE5834__BABCCJGG" title="This table lists the events that are associated with each repository operation.">Table 30-2</a> lists the events that are associated with each repository operation. See <a href="XML-DB-repository-events.html#GUID-5F7D0772-848D-49EA-832B-AB1117B9E3F1__BABHJGBH" title="This table lists the events associated with each repository operation. Their order is indicated in the handler columns.">Table 30-1</a> for the event order when multiple repository events occur for the same operations.
                  </p>
                  <div class="tblformalwide" id="GUID-5821696E-5128-4221-9E9F-D36E2ACE5834__BABCCJGG">
                     <p class="titleintable">Table 30-2 Oracle XML&nbsp;DB Repository Operations and Events</p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="Oracle XML&nbsp;DB Repository Operations and Events" summary="This table lists the events that are associated with each repository operation." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="55%" id="d146411e893">Operation</th>
                              <th align="left" valign="bottom" width="45%" id="d146411e896">Repository Events Occurring</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="55%" id="d146411e901" headers="d146411e893 ">
                                 <p>Get binary representation of resource contents by path name</p>
                              </td>
                              <td align="left" valign="top" width="45%" headers="d146411e901 d146411e896 ">
                                 <p><code class="codeph">Render</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="55%" id="d146411e909" headers="d146411e893 ">
                                 <p>Get XML representation of resource contents by path name</p>
                              </td>
                              <td align="left" valign="top" width="45%" headers="d146411e909 d146411e896 ">
                                 <p><code class="codeph">Render</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="55%" id="d146411e917" headers="d146411e893 ">
                                 <p>Create or update a resource</p>
                              </td>
                              <td align="left" valign="top" width="45%" headers="d146411e917 d146411e896 ">
                                 <p>If the resource already exists: <code class="codeph">Create</code>, <code class="codeph">LinkIn</code>, <code class="codeph">LinkTo</code></p>
                                 <p>If resource doe not yet exist (HTTP and FTP only): <code class="codeph">Update</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="55%" id="d146411e936" headers="d146411e893 ">
                                 <p>Create a folder</p>
                              </td>
                              <td align="left" valign="top" width="45%" headers="d146411e936 d146411e896 ">
                                 <p><code class="codeph">Create</code>, <code class="codeph">LinkIn</code>, <code class="codeph">LinkTo</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="55%" id="d146411e950" headers="d146411e893 ">
                                 <p>Create a link to an existing resource</p>
                              </td>
                              <td align="left" valign="top" width="45%" headers="d146411e950 d146411e896 ">
                                 <p><code class="codeph">LinkIn</code> on the folder containing the link target, <code class="codeph">LinkTo</code> on the target resource to be linked
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="55%" id="d146411e962" headers="d146411e893 ">
                                 <p>Unlink a file resource or an empty folder resource. (Decrement <code class="codeph">RefCount</code>, and if it becomes zero then delete the resource from disk.)
                                 </p>
                              </td>
                              <td align="left" valign="top" width="45%" headers="d146411e962 d146411e896 ">
                                 <p><code class="codeph">UnlinkIn</code>, <code class="codeph">UnlinkFrom</code>, and, if <code class="codeph">RefCount</code> is zero, <code class="codeph">Delete</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="55%" id="d146411e982" headers="d146411e893 ">
                                 <p>Forcibly delete a folder and its contents</p>
                              </td>
                              <td align="left" valign="top" width="45%" headers="d146411e982 d146411e896 ">
                                 <p>Recursively produce events for unlinking a resource. Folder child resources are deleted recursively, then the folder is deleted.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="55%" id="d146411e989" headers="d146411e893 ">
                                 <p>Forcibly remove all links to a resource</p>
                              </td>
                              <td align="left" valign="top" width="45%" headers="d146411e989 d146411e896 ">
                                 <p>Produce unlinking events for each link removed. </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="55%" id="d146411e996" headers="d146411e893 ">
                                 <p>Update the contents, properties, or ACL of a resource by path name</p>
                              </td>
                              <td align="left" valign="top" width="45%" headers="d146411e996 d146411e896 ">
                                 <p><code class="codeph">Update</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="55%" id="d146411e1004" headers="d146411e893 ">
                                 <p>Put a depth-zero WebDAV lock on a resource</p>
                              </td>
                              <td align="left" valign="top" width="45%" headers="d146411e1004 d146411e896 ">
                                 <p><code class="codeph">Lock</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="55%" id="d146411e1012" headers="d146411e893 ">
                                 <p>Remove a depth-zero WebDAV lock from a resource</p>
                              </td>
                              <td align="left" valign="top" width="45%" headers="d146411e1012 d146411e896 ">
                                 <p><code class="codeph">Lock</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="55%" id="d146411e1021" headers="d146411e893 ">
                                 <p>Rename (move) a resource</p>
                              </td>
                              <td align="left" valign="top" width="45%" headers="d146411e1021 d146411e896 ">
                                 <p><code class="codeph">LinkIn</code> and <code class="codeph">LinkTo</code> on the new location, <code class="codeph">UnlinkIn</code> and <code class="codeph">UnlinkFrom</code> on the old location
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="55%" id="d146411e1039" headers="d146411e893 ">
                                 <p>Copy a resource</p>
                              </td>
                              <td align="left" valign="top" width="45%" headers="d146411e1039 d146411e896 ">
                                 <p><code class="codeph">Create</code>, <code class="codeph">LinkIn</code>, and <code class="codeph">LinkTo</code> on the new location
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="55%" id="d146411e1054" headers="d146411e893 ">
                                 <p>Check out a resource</p>
                              </td>
                              <td align="left" valign="top" width="45%" headers="d146411e1054 d146411e896 ">
                                 <p><code class="codeph">CheckOut</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="55%" id="d146411e1062" headers="d146411e893 ">
                                 <p>Check in a resource</p>
                              </td>
                              <td align="left" valign="top" width="45%" headers="d146411e1062 d146411e896 ">
                                 <p><code class="codeph">CheckIn</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="55%" id="d146411e1070" headers="d146411e893 ">
                                 <p>Place a resource under version control</p>
                              </td>
                              <td align="left" valign="top" width="45%" headers="d146411e1070 d146411e896 ">
                                 <p><code class="codeph">VersionControl</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="55%" id="d146411e1078" headers="d146411e893 ">
                                 <p>Uncheck out a resource</p>
                              </td>
                              <td align="left" valign="top" width="45%" headers="d146411e1078 d146411e896 ">
                                 <p><code class="codeph">UncheckOut</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p>All operations listed in <a href="XML-DB-repository-events.html#GUID-5821696E-5128-4221-9E9F-D36E2ACE5834__BABCCJGG" title="This table lists the events that are associated with each repository operation.">Table 30-2</a> are atomic, except for these:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Forced deletion of a folder and its contents</p>
                     </li>
                     <li>
                        <p>Update of resource properties by path name using HTTP (only)</p>
                     </li>
                     <li>
                        <p>Copy of a folder using HTTP (only)</p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-5821696E-5128-4221-9E9F-D36E2ACE5834__GUID-7FF30433-3489-441D-8DA6-439037134710">
                     <p class="notep1">See Also:</p>
                     <p><a href="accessing-XML-DB-repository-data.html#GUID-B162A199-F7F8-4E81-B2FD-919B90F7FE83__BABBJJDI" title="This table describes the API options for accessing Oracle XML DB Repository.">Table 21-3</a> for information on accessing resources using APIs and protocols
                     </p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="XML-DB-repository-events.html#GUID-1A25D4D1-2353-41FC-9D86-9C35F9F95532" title="You can use Oracle XML&nbsp;DB Repository to store and access data of any kind, in the form of repository resources. You can access repository data from any application. Sometimes your application needs to perform certain actions whenever a particular repository operation occurs. You can do this using repository events.">Oracle XML&nbsp;DB Repository Events</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADXDB5600"></a><div class="props_rev_3"><a id="GUID-C4139224-FF34-4B6D-9B68-481FA41E634C" name="GUID-C4139224-FF34-4B6D-9B68-481FA41E634C"></a><h3 id="ADXDB-GUID-C4139224-FF34-4B6D-9B68-481FA41E634C" class="sect3"><span class="enumeration_section">30.4 </span>Repository Event Handler Considerations
               </h3>
               <div>
                  <p>Some considerations are listed for defining handlers for Oracle XML&nbsp;DB Repository events.</p>
                  <p></p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>In any handler: Do not use <code class="codeph">COMMIT</code>, <code class="codeph">ROLLBACK</code>, or data definition language (DDL) statements in a handler. Do not call PL/SQL functions or procedures, such as <code class="codeph">DBMS_XMLSCHEMA.registerSchema</code>, that behave similarly to DDL statements. In a <code class="codeph">Render</code> handler: Do not use data manipulation language (DML) statements.
                        </p>
                        <p>To work around these restrictions, a handler can use such statements inside an autonomous transaction, but it must ensure that lock conflicts cannot arise.</p>
                     </li>
                     <li>
                        <p>In a <code class="codeph">Render</code> handler, do not close an output stream. (You can append to a stream.)
                        </p>
                     </li>
                     <li>
                        <p>Do <span class="italic">not</span> use modifier methods from class <code class="codeph">XDBResource</code> in a handler, unless it is a <code class="codeph">Pre-Create</code> or <code class="codeph">Pre-Update</code> handler. Do <span class="italic">not</span> use method <code class="codeph">XDBResource.save()</code> in any handler.
                        </p>
                     </li>
                     <li>
                        <p>Oracle recommends that you develop only safe repository event handlers. In particular:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Write only resource properties that are in namespaces owned by your application, never in the <code class="codeph">xdb</code> namespace.
                              </p>
                           </li>
                           <li>
                              <p>Do not delete a resource while it is being created.</p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p>A repository event handler is passed an <code class="codeph">XDBRepositoryEvent</code> object, which exists only during the current SQL statement or protocol operation. You can use PL/SQL procedures and Java methods on this object to obtain information about the resource, the event, and the associated event handlers.
                        </p>
                     </li>
                     <li>
                        <p>When an event handler performs operations that cause other repository events to occur, those cascading events occur immediately. They are not queued to occur after the handlers for the current event are finished. Each event thus occurs in the context of its corresponding operation.</p>
                     </li>
                     <li>
                        <p>Repository event handlers are called synchronously. They are executed in the process, session, and transaction context of the corresponding operation. However, handlers can use Oracle Database Advanced Queuing (AQ) to queue repository events that are then handled asynchronously by some other process.</p>
                     </li>
                     <li>
                        <p>Because a repository event handler is executed in the transaction context of its corresponding operation, any locks acquired by that operation, or by other operations run previously in the transaction, are still active. An event handler must not start a separate session or transaction that tries to acquire such a lock. Otherwise, the handler hangs.</p>
                     </li>
                     <li>
                        <p>Repository event handlers are called in the order that they appear in a resource configuration file. If preconditions are defined for a resource configuration, then only those handlers are called for which the precondition is satisfied.</p>
                     </li>
                     <li>
                        <p>Although handlers are called in the order they are defined in a configuration file, avoid letting your code depend upon this. If the user who is current when a handler is invoked has privilege <code class="codeph">write-config</code>, then the handler invocation order could be changed inside an executing handler.
                        </p>
                     </li>
                     <li>
                        <p>The entire list of handlers applicable to a given repository event occurrence is determined before any of the handlers is invoked. This means, in particular, that the precondition for each handler is evaluated before any handlers are invoked.</p>
                     </li>
                     <li>
                        <p>The following considerations apply to <span class="italic">error handling</span> for repository events:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>A pre-operation event handler is never invoked if access checks for the operation fail.</p>
                           </li>
                           <li>
                              <p>All handlers for a given event are checked before any of them are called. If any of them is not usable (for example, no longer exists), then <span class="italic">none</span> of them are called.
                              </p>
                           </li>
                           <li>
                              <p>If an error is raised during event handling, then other, subsequent event handlers are not invoked for the same SQL statement or protocol operation. The current statement or operation is canceled and all of its changes are rolled back.</p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p>The following considerations apply to <span class="italic">resource security</span> for repository events:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>An event handler can have invoker's rights or definer rights. You specify the execution rights of a PL/SQL package when you create the package. You specify the execution rights of Java classes when you load them into the database using the <code class="codeph">loadjava</code> utility. If you specify invoker's rights, but a given handler is not configured for invoker's rights, then an insufficient-privilege error is raised.
                              </p>
                           </li>
                           <li>
                              <p>Within an event handler, the current user privileges, whether obtained by invoker or definer rights, are determined in detail for a given resource by its ACL. These privileges determine what the handler can do with the resource. For example, if the current user has privileges <code class="codeph">read-properties</code> and <code class="codeph">read-contents</code> for a particular resource, then an event handler can read that resource.
                              </p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p>The following considerations apply to repository events for <span class="italic">linking</span> and <span class="italic">unlinking</span>:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>After creating a link to a resource, if you want any resource configuration files of the parent folder to also apply to the linked resource, then use procedure <code class="codeph">DBMS_RESCONFIG.appendResConfig</code> to add the configuration files to the linked resource. You can invoke this procedure from a <code class="codeph">Post-LinkTo</code> event handler for the linked resource. 
                              </p>
                           </li>
                           <li>
                              <p>After unlinking a resource, if you want to remove any such resource configuration files added when linking, then use procedure <code class="codeph">DBMS_RESCONFIG.deleteResConfig</code> to remove them from the unlinked resource. You can invoke this procedure from a <code class="codeph">Post-UnlinkFrom</code> event handler for the unlinked resource.
                              </p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p>Do not define handlers for events on folder <code class="codeph">/sys/schemas</code> or on resources under this folder. Events do not occur for any such resources, so such event handlers are ignored. This implies that XML schema operations that affect the repository (registration, deletion, and so on) do not produce events.
                        </p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-C4139224-FF34-4B6D-9B68-481FA41E634C__GUID-9974B3C1-2ED9-4C48-8823-85F0F8415501">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../arpls/DBMS_XEVENT.html#ARPLS210" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> for information about PL/SQL functions and procedures for manipulating repository events
                           </p>
                        </li>
                        <li>
                           <p><a href="../jaxml/index.html" target="_blank"><span><cite>Oracle Database XML Java API Reference</cite></span></a>, classes <code class="codeph">XDBRepositoryEvent</code> and <code class="codeph">XDBEvent</code> for information about Java methods for manipulating repository events
                           </p>
                        </li>
                        <li>
                           <p><a href="XML-DB-repository-events.html#GUID-C7D110F1-CB15-475B-83E6-7C186DF0E119" title="In a resource configuration file, you use element event-listeners, child of element ResConfig, to configure Oracle XML&nbsp;DB Repository event handling.">Configuration of Repository Events</a> for information about defining repository event handlers with invoker's rights
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="XML-DB-repository-events.html#GUID-1A25D4D1-2353-41FC-9D86-9C35F9F95532" title="You can use Oracle XML&nbsp;DB Repository to store and access data of any kind, in the form of repository resources. You can access repository data from any application. Sometimes your application needs to perform certain actions whenever a particular repository operation occurs. You can do this using repository events.">Oracle XML&nbsp;DB Repository Events</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADXDB5601"></a><div class="props_rev_3"><a id="GUID-C7D110F1-CB15-475B-83E6-7C186DF0E119" name="GUID-C7D110F1-CB15-475B-83E6-7C186DF0E119"></a><h3 id="ADXDB-GUID-C7D110F1-CB15-475B-83E6-7C186DF0E119" class="sect3"><span class="enumeration_section">30.5 </span>Configuration of Repository Events
               </h3>
               <div>
                  <p>In a resource configuration file, you use element <code class="codeph">event-listeners</code>, child of element <code class="codeph">ResConfig</code>, to configure Oracle XML&nbsp;DB Repository event handling. 
                  </p>
                  <p>You configure event treatment for Oracle XML&nbsp;DB Repository resources as you would configure any other treatment of repository resourcessee <span class="q">"<a href="configuration-of-XML-DB-repository.html#GUID-AB3B6205-AE7B-4A12-A6B9-C3CC0C1108D3" title="Configuring an Oracle XML&nbsp;DB Repository resource involves creating a configuration file, adding that file to the repository as a configuration resource, and mapping the configuration resource to the resources it configures or to the entire repository.">Configuring a Resource</a>"</span>. 
                  </p>
                  <p>By default, repository events are enabled, but you can disable them by setting parameter <code class="codeph">XML_DB_EVENTS</code> to <code class="codeph">DISABLE</code>. To disable repository events at the session level, use the following SQL*Plus command. You must have role <code class="codeph">XDBADMIN</code> to do this.
                  </p><pre class="oac_no_warn" dir="ltr">ALTER SESSION SET XML_DB_EVENTS = DISABLE;
</pre><p>To disable repository events at the system level, use the following SQL*Plus command, and then restart your database. Repository events are disabled for subsequent sessions. You must have privilege <code class="codeph">ALTER SYSTEM</code> to do this.
                  </p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET XML_DB_EVENTS = DISABLE;
</pre><p>To enable repository events again, set the value of <code class="codeph">XML_DB_EVENTS</code> to <code class="codeph">ENABLE</code>.
                  </p>
                  <p>A resource configuration file is an XML file that conforms to the XML schema <code class="codeph">XDBResConfig.xsd</code>, which is accessible in Oracle XML&nbsp;DB Repository at path <code class="codeph">/sys/schemas/PUBLIC/xmlns.oracle.com/xdb/XDBResConfig.xsd</code>. You use element <code class="codeph">event-listeners</code>, child of element <code class="codeph">ResConfig</code>, to configure repository event handling.
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="XML-DB-repository-events.html#GUID-FC91D1C8-A5BF-4FEB-B6C9-6953FA9F6279">Configuration Element event-listeners</a><br>Each resource configuration file can have one <code class="codeph">event-listeners</code> element, as a child of element <code class="codeph">ResConfig</code>. This configures all event handling for the target resource. If the resource configuration file applies to the entire repository, not to a particular resource, then it defines event handling for all resources in the repository.
                     </li>
                     <li class="ulchildlink"><a href="XML-DB-repository-events.html#GUID-BA0619E8-B9F4-4824-BD6A-0C65A3C040C8">Configuration Element listener</a><br>Element <code class="codeph">listener</code> is a child of element <code class="codeph">event-listeners</code>, and it configures an individual repository event listener.
                     </li>
                     <li class="ulchildlink"><a href="XML-DB-repository-events.html#GUID-52AEF536-45B7-40B3-88FF-0B1DD0C56976">Repository Events Configuration Examples</a><br>Examples of configuring repository events are presented. Resource configuration files define Java and PL/SQL event listeners, with and without preconditions, respectively. An example categorizes resources according to MIME type. It includes PL/SQL code to create the resource configuration file. Examples implement listeners in Java and PL/SQL.
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-C7D110F1-CB15-475B-83E6-7C186DF0E119__GUID-1867B84E-ADA5-490B-98EE-4F8E680F4E6E">
                     <p class="notep1">See Also:</p>
                     <p><a href="configuration-of-XML-DB-repository.html#GUID-E44B59D4-7A7E-4303-ACE3-B801797B06AF" title="Overall configuration of Oracle XML&nbsp;DB Repository applies to all repository resources. It does not include configuring parameters for handling events or managing XLink and XInclude processing. You use resource configuration files to configure resources.">Configuration of Oracle XML&nbsp;DB Repository</a> for general information about configuring repository resources
                     </p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="XML-DB-repository-events.html#GUID-1A25D4D1-2353-41FC-9D86-9C35F9F95532" title="You can use Oracle XML&nbsp;DB Repository to store and access data of any kind, in the form of repository resources. You can access repository data from any application. Sometimes your application needs to perform certain actions whenever a particular repository operation occurs. You can do this using repository events.">Oracle XML&nbsp;DB Repository Events</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADXDB5602"></a><div class="props_rev_3"><a id="GUID-FC91D1C8-A5BF-4FEB-B6C9-6953FA9F6279" name="GUID-FC91D1C8-A5BF-4FEB-B6C9-6953FA9F6279"></a><h4 id="ADXDB-GUID-FC91D1C8-A5BF-4FEB-B6C9-6953FA9F6279" class="sect4"><span class="enumeration_section">30.5.1 </span>Configuration Element event-listeners
                  </h4>
                  <div>
                     <p>Each resource configuration file can have one <code class="codeph">event-listeners</code> element, as a child of element <code class="codeph">ResConfig</code>. This configures all event handling for the target resource. If the resource configuration file applies to the entire repository, not to a particular resource, then it defines event handling for all resources in the repository.
                     </p>
                     <p>Element <code class="codeph">event-listeners</code> has the following optional attributes:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">set-invoker</code> &#x2013; Set this to <code class="codeph">true</code> to if the resource configuration defines one or more repository event handlers to have invoker's rights. The default value is <code class="codeph">false</code>, meaning that definer rights are used. 
                           </p>
                           <p>To define an invoker-rights repository event handler, you must have database role <code class="codeph">XDB_SET_INVOKER</code>. This role is granted to <code class="codeph">DBA</code>, but not to <code class="codeph">XDBADMIN</code>. Role <code class="codeph">XDB_SET_INVOKER</code> is checked only when a resource configuration file is created or updated. Only attribute <code class="codeph">set-invoker</code>, not role <code class="codeph">XDB_SET_INVOKER</code>, is checked at run time to ensure sufficient privilege.
                           </p>
                           <div class="infoboxnotealso" id="GUID-FC91D1C8-A5BF-4FEB-B6C9-6953FA9F6279__GUID-72EEDD2E-3937-4C70-8C6D-8D0C78091409">
                              <p class="notep1">See Also:</p>
                              <p><a href="XML-DB-repository-events.html#GUID-C4139224-FF34-4B6D-9B68-481FA41E634C" title="Some considerations are listed for defining handlers for Oracle XML&nbsp;DB Repository events.">Repository Event Handler Considerations</a> for information about insufficient-privilege errors
                              </p>
                           </div>
                        </li>
                        <li>
                           <p><code class="codeph">default-schema</code> &#x2013; The default schema value, used for listeners for which no <code class="codeph">schema</code> element is defined.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">default-language</code> &#x2013;The default language value, used for listeners for which no <code class="codeph">language</code> element is defined.
                           </p>
                        </li>
                     </ul>
                     <p>Element <code class="codeph">event-listeners</code> has a sequence of <code class="codeph">listener</code> elements as children. These configure individual repository event listeners. The listeners are processed at run time in the order of the <code class="codeph">listener</code> elements.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="XML-DB-repository-events.html#GUID-C7D110F1-CB15-475B-83E6-7C186DF0E119" title="In a resource configuration file, you use element event-listeners, child of element ResConfig, to configure Oracle XML&nbsp;DB Repository event handling.">Configuration of Repository Events</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB5603"></a><div class="props_rev_3"><a id="GUID-BA0619E8-B9F4-4824-BD6A-0C65A3C040C8" name="GUID-BA0619E8-B9F4-4824-BD6A-0C65A3C040C8"></a><h4 id="ADXDB-GUID-BA0619E8-B9F4-4824-BD6A-0C65A3C040C8" class="sect4"><span class="enumeration_section">30.5.2 </span>Configuration Element listener
                  </h4>
                  <div>
                     <p>Element <code class="codeph">listener</code> is a child of element <code class="codeph">event-listeners</code>, and it configures an individual repository event listener.
                     </p>
                     <div class="section">
                        <p>Each <code class="codeph">listener</code> element has the following child elements. All of these are optional except <code class="codeph">source</code>, and they can appear in any order (their order is irrelevant).
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">description</code> &#x2013; Description of the listener.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">schema</code> &#x2013; Database schema for the Java or PL/SQL implementation of the repository event handlers. If neither this nor <code class="codeph">default-schema</code> is defined, then an error is raised.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">source</code> (required) &#x2013; Name of the Java class, PL/SQL package, or object type that provides the handler methods. Java class names must be qualified with a package name. Use an empty <code class="codeph">source</code> element to indicate that the repository event handlers are standalone PL/SQL stored procedures.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">language</code> &#x2013; Implementation language of the listener class (Java) or package (PL/SQL). If neither this nor <code class="codeph">default-language</code> is defined, then an error is raised.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">pre-condition</code> &#x2013; Precondition to be met for any repository event handlers in this listener to be executed. This is identical to the <code class="codeph">pre-condition</code> child of general resource configuration element <code class="codeph">configuration</code> &#x2013; see <a href="configuration-of-XML-DB-repository.html#GUID-5010D4C5-38CA-4ABE-A559-C1D1001359D3" title="Configuration element defaultChildConfig applies to only folders. It holds configuration information to be applied to all child resources in the folder. Element defaultChildConfig has one or more configuration child elements, each of which defines a possible configuration for resources in the folder.">Configuration Elements defaultChildConfig and configuration</a>.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">events</code> &#x2013; Sequence of unique repository event type names: <code class="codeph">Render</code>, <code class="codeph">Pre-Create</code>, and so on. Only handlers for repository events of these types are enabled for the listener. See <a href="XML-DB-repository-events.html#GUID-5F7D0772-848D-49EA-832B-AB1117B9E3F1" title="Repository operations are associated with predefined events. Except for a rendering operation, events come in pre and post pairs.">Possible Repository Events</a> for the list of possible repository event types. If element <code class="codeph">events</code> is not present, then handlers of repository events of all types are enabled for the listener, which can be wasteful. Provide element <code class="codeph">events</code> to eliminate handler invocations for insignificant repository events.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="XML-DB-repository-events.html#GUID-C7D110F1-CB15-475B-83E6-7C186DF0E119" title="In a resource configuration file, you use element event-listeners, child of element ResConfig, to configure Oracle XML&nbsp;DB Repository event handling.">Configuration of Repository Events</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB5605"></a><a id="ADXDB5606"></a><a id="ADXDB5607"></a><a id="ADXDB5608"></a><a id="ADXDB5609"></a><a id="ADXDB5604"></a><div class="props_rev_3"><a id="GUID-52AEF536-45B7-40B3-88FF-0B1DD0C56976" name="GUID-52AEF536-45B7-40B3-88FF-0B1DD0C56976"></a><h4 id="ADXDB-GUID-52AEF536-45B7-40B3-88FF-0B1DD0C56976" class="sect4"><span class="enumeration_section">30.5.3 </span>Repository Events Configuration Examples
                  </h4>
                  <div>
                     <p>Examples of configuring repository events are presented. Resource configuration files define Java and PL/SQL event listeners, with and without preconditions, respectively. An example categorizes resources according to MIME type. It includes PL/SQL code to create the resource configuration file. Examples implement listeners in Java and PL/SQL.</p>
                     <div class="section">
                        <p><a href="XML-DB-repository-events.html#GUID-52AEF536-45B7-40B3-88FF-0B1DD0C56976__BABDEGAA">Example 30-1</a> shows the content of a resource configuration file that defines two event listeners. Each listener defines handlers for repository events of types <code class="codeph">Post-LinkIn</code>, <code class="codeph">Post-UnlinkIn</code>, and <code class="codeph">Post-Update</code>. It defines preconditions, the default language (Java), and the default database schema.
                        </p>
                        <p>The implementation of the handlers of the first listener is in Java class <code class="codeph">oracle.cm.quota</code> defined in database schema <code class="codeph">CM</code>. These handlers are invoked only for events on resources of <code class="codeph">ContentType</code> <code class="codeph">image/gif</code>.
                        </p>
                        <p>The implementation of the handlers of the second listener is in Java class <code class="codeph">oracle.ifs.quota</code> defined in database schema <code class="codeph">IFS</code> (the default schema for this resource configuration file). These handlers are invoked only for events on resources of type <code class="codeph">ifs-file</code> in namespace <code class="codeph">http://foo.xsd</code>.
                        </p>
                        <div class="infoboxnotealso" id="GUID-52AEF536-45B7-40B3-88FF-0B1DD0C56976__GUID-81D0675B-D3D5-4DD8-8ABE-0FC83C72E847">
                           <p class="notep1">See Also:</p>
                           <p><a href="configuration-of-XML-DB-repository.html#GUID-5010D4C5-38CA-4ABE-A559-C1D1001359D3" title="Configuration element defaultChildConfig applies to only folders. It holds configuration information to be applied to all child resources in the folder. Element defaultChildConfig has one or more configuration child elements, each of which defines a possible configuration for resources in the folder.">Configuration Elements defaultChildConfig and configuration</a> for a description of elements <code class="codeph">defaultChildConfig</code> and <code class="codeph">applicationData</code></p>
                        </div>
                        <p>As a simple end-to-end illustration, suppose that an application needs to categorize the resources in folder <code class="codeph">/public/res-app</code> according to their MIME types. It creates links to resources in folders <code class="codeph">/public/app/XML-TXT</code>, <code class="codeph">/public/app/IMG</code>, and <code class="codeph">/public/app/FOLDER</code>, depending on whether the resource MIME type is <code class="codeph">text/xml</code>, <code class="codeph">image/gif</code>, or <code class="codeph">application/octet-stream</code>, respectively. This is illustrated in <a href="XML-DB-repository-events.html#GUID-52AEF536-45B7-40B3-88FF-0B1DD0C56976__BABBJGAC">Example 30-2</a>, <a href="XML-DB-repository-events.html#GUID-52AEF536-45B7-40B3-88FF-0B1DD0C56976__BABCDJEH">Example 30-3</a>, and <a href="XML-DB-repository-events.html#GUID-52AEF536-45B7-40B3-88FF-0B1DD0C56976__BABIHGGH">Example 30-5</a>.
                        </p>
                        <p><a href="XML-DB-repository-events.html#GUID-52AEF536-45B7-40B3-88FF-0B1DD0C56976__BABBJGAC">Example 30-2</a> shows the PL/SQL code to create the configuration file for this categorization illustration. It defines a single listener that handles events of types <code class="codeph">Pre-UnlinkIn</code> and <code class="codeph">Post-LinkIn</code>. It explicitly defines the language (PL/SQL) and database schema. No preconditions are defined.
                        </p>
                        <p><a href="XML-DB-repository-events.html#GUID-52AEF536-45B7-40B3-88FF-0B1DD0C56976__BABCDJEH">Example 30-3</a> shows the PL/SQL code that implements the event handlers that are configured in <a href="XML-DB-repository-events.html#GUID-52AEF536-45B7-40B3-88FF-0B1DD0C56976__BABBJGAC">Example 30-2</a>. The <code class="codeph">Post-LinkIn</code> event handler creates a link to the <code class="codeph">eventObject</code> resource in one of the folders <code class="codeph">/public/app/XML-TXT</code>, <code class="codeph">/public/app/IMG</code>, and <code class="codeph">/public/app/FOLDER</code>, depending on the resource MIME type. The <code class="codeph">Pre-UnlinkIn</code> event handler deletes the links that are created by the   <code class="codeph">Post-LinkIn</code> event handler. 
                        </p>
                        <div class="infoboxnotealso" id="GUID-52AEF536-45B7-40B3-88FF-0B1DD0C56976__GUID-34892E6E-8B01-423B-A170-E0504253AF45">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../arpls/DBMS_XDBRESOURCE.html#ARPLS230" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> for information about PL/SQL package <code class="codeph">DBMS_XDBRESOURCE</code></p>
                              </li>
                              <li>
                                 <p><a href="../arpls/DBMS_XEVENT.html#ARPLS210" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> for information about PL/SQL package <code class="codeph">DBMS_XEVENT</code></p>
                              </li>
                              <li>
                                 <p><a href="../arpls/DBMS_XDB_REPOS.html#ARPLS74188" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> for information about PL/SQL package <code class="codeph">DBMS_XDB_REPOS</code></p>
                              </li>
                           </ul>
                        </div>
                        <p>A Java example would be configured the same as in <a href="XML-DB-repository-events.html#GUID-52AEF536-45B7-40B3-88FF-0B1DD0C56976__BABBJGAC">Example 30-2</a>, with the exception of these two lines, which would replace the elements with the same names in <a href="XML-DB-repository-events.html#GUID-52AEF536-45B7-40B3-88FF-0B1DD0C56976__BABBJGAC">Example 30-2</a>:
                        </p><pre class="oac_no_warn" dir="ltr">                &lt;source&gt;<span class="bold">category</span>&lt;/source&gt;
                &lt;language&gt;<span class="bold">Java</span>&lt;/language&gt;
</pre><p><a href="XML-DB-repository-events.html#GUID-52AEF536-45B7-40B3-88FF-0B1DD0C56976__BABCFCIH">Example 30-4</a> shows the Java code that implements the event handlers. The logic is identical to that in <a href="XML-DB-repository-events.html#GUID-52AEF536-45B7-40B3-88FF-0B1DD0C56976__BABCDJEH">Example 30-3</a>.
                        </p>
                        <p><a href="XML-DB-repository-events.html#GUID-52AEF536-45B7-40B3-88FF-0B1DD0C56976__BABIHGGH">Example 30-5</a> demonstrates the invocation of the event handlers that are implemented in <a href="XML-DB-repository-events.html#GUID-52AEF536-45B7-40B3-88FF-0B1DD0C56976__BABCDJEH">Example 30-3</a> or <a href="XML-DB-repository-events.html#GUID-52AEF536-45B7-40B3-88FF-0B1DD0C56976__BABCFCIH">Example 30-4</a>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-52AEF536-45B7-40B3-88FF-0B1DD0C56976__BABDEGAA">
                        <p class="titleinexample">Example 30-1 Resource Configuration File for Java Event Listeners with Preconditions</p><pre class="oac_no_warn" dir="ltr">&lt;ResConfig xmlns="http://xmlns.oracle.com/xdb/XDBResConfig.xsd"
           xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
           xsi:schemaLocation="http://xmlns.oracle.com/xdb/XDBResConfig.xsd
                               http://xmlns.oracle.com/xdb/XDBResConfig.xsd"&gt;
  &lt;event-listeners <span class="bold">default-language="Java" default-schema="IFS"</span>&gt;
    &lt;listener&gt;
      &lt;description&gt;Category application&lt;/description&gt;
      &lt;schema&gt;CM&lt;/schema&gt;
      &lt;source&gt;<span class="bold">oracle.cm.category</span>&lt;/source&gt;
      &lt;events&gt;
        <span class="bold">&lt;Post-LinkIn/&gt;</span>
        <span class="bold">&lt;Post-UnlinkIn/&gt;</span>
        <span class="bold">&lt;Post-Update/&gt;</span>
      &lt;/events&gt;
      &lt;pre-condition&gt;
        &lt;existsNode&gt;
          &lt;XPath&gt;/Resource<span class="bold">[ContentType="image/gif"]</span>&lt;/XPath&gt;
        &lt;/existsNode&gt;
      &lt;/pre-condition&gt;
    &lt;/listener&gt;
    &lt;listener&gt;
      &lt;description&gt;Check quota&lt;/description&gt;
      &lt;source&gt;<span class="bold">oracle.ifs.quota</span>&lt;/source&gt;
      &lt;events&gt;
        <span class="bold">&lt;Post-LinkIn/&gt;</span>
        <span class="bold">&lt;Post-UnlinkIn/&gt;</span>
        <span class="bold">&lt;Post-Update/&gt;</span>
      &lt;/events&gt;
      &lt;pre-condition&gt;
        &lt;existsNode&gt;
          &lt;XPath&gt;r:/Resource/<span class="bold">[ns:type="ifs-file"]</span>&lt;/XPath&gt;
          &lt;namespace&gt;xmlns:r="http://xmlns.oracle.com/xdb/XDBResource.xsd"
                     xmlns:<span class="bold">ns="http://foo.xsd</span>"
          &lt;/namespace&gt;
        &lt;/existsNode&gt;
      &lt;/pre-condition&gt;
    &lt;/listener&gt;
  &lt;/event-listeners&gt;
  &lt;defaultChildConfig&gt;
    &lt;configuration&gt;
      &lt;path&gt;/sys/xdb/resconfig/user_rc.xml&lt;/path&gt;
    &lt;/configuration&gt;
  &lt;/defaultChildConfig&gt;
  &lt;applicationData&gt;
    &lt;foo:data xmlns:foo="http://foo.xsd"&gt;
      &lt;foo:item1&gt;1234&lt;/foo:item1&gt;
    &lt;/foo:data&gt;
  &lt;/applicationData&gt;
&lt;/ResConfig&gt;
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-52AEF536-45B7-40B3-88FF-0B1DD0C56976__BABBJGAC">
                        <p class="titleinexample">Example 30-2 Resource Configuration File for PL/SQL Event Listeners with No Preconditions</p><pre class="oac_no_warn" dir="ltr">DECLARE
  b BOOLEAN := FALSE;
BEGIN
  b := DBMS_XDB_REPOS.createFolder('/public/resconfig');
  b := DBMS_XDB_REPOS.createResource(
         '/public/resconfig/appcatg-rc1.xml',
         '&lt;ResConfig xmlns="http://xmlns.oracle.com/xdb/XDBResConfig.xsd"
                     xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                     xsi:schemaLocation="http://xmlns.oracle.com/xdb/XDBResConfig.xsd
                                         http://xmlns.oracle.com/xdb/XDBResConfig.xsd"&gt;
            &lt;event-listeners&gt;
              &lt;listener&gt;
                &lt;description&gt;Category application&lt;/description&gt;
           <span class="bold">     &lt;schema&gt;APPCATGUSER1&lt;/schema&gt;</span>
                <span class="bold">&lt;source&gt;APPCATG_EVT_PKG1&lt;/source&gt;</span>
           <span class="bold">     &lt;language&gt;PL/SQL&lt;/language&gt;</span>
                &lt;events&gt;
             <span class="bold">     &lt;Pre-UnlinkIn/&gt;</span>
                  <span class="bold">&lt;Post-LinkIn/&gt;</span>
                &lt;/events&gt;
              &lt;/listener&gt;
            &lt;/event-listeners&gt;
            &lt;defaultChildConfig&gt;
              &lt;configuration&gt;
                &lt;path&gt;/public/resconfig/appcatg-rc1.xml&lt;/path&gt;
              &lt;/configuration&gt;
            &lt;/defaultChildConfig&gt;
          &lt;/ResConfig&gt;',
         'http://xmlns.oracle.com/xdb/XDBResConfig.xsd',
         'ResConfig');
END;
/
BEGIN
  DBMS_RESCONFIG.appendResConfig('/public/res-app', 
                                 '/public/resconfig/appcatg-rc1.xml',
                                 DBMS_RESCONFIG.APPEND_RECURSIVE);
END;
/
 </pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-52AEF536-45B7-40B3-88FF-0B1DD0C56976__BABCDJEH">
                        <p class="titleinexample">Example 30-3 PL/SQL Code Implementing Event Listeners</p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE PACKAGE appcatg_evt_pkg1 AS
 
  PROCEDURE handlePreUnlinkIn (eventObject DBMS_XEVENT.XDBRepositoryEvent);
  PROCEDURE handlePostLinkIn (eventObject DBMS_XEVENT.XDBRepositoryEvent);
 
END;
/
CREATE OR REPLACE PACKAGE BODY appcatg_evt_pkg1 AS
 
  PROCEDURE <span class="bold">handlePreUnlinkIn</span> (eventObject DBMS_XEVENT.XDBRepositoryEvent) AS
      XDBResourceObj DBMS_XDBRESOURCE.XDBResource;
      ResDisplayName VARCHAR2(100);
      ResPath        VARCHAR2(1000);
      ResOwner       VARCHAR2(1000);
      ResDeletedBy   VARCHAR2(1000);
      XDBPathobj     DBMS_XEVENT.XDBPath;
      XDBEventobj    DBMS_XEVENT.XDBEvent;
      SeqChar        VARCHAR2(1000);
      LinkName       VARCHAR2(10000);
      ResType        VARCHAR2(100);
      LinkFolder     VARCHAR2(100);
    BEGIN
      XDBResourceObj := DBMS_XEVENT.getResource(eventObject);
      ResDisplayName := DBMS_XDBRESOURCE.getDisplayName(XDBResourceObj);
      ResOwner       := DBMS_XDBRESOURCE.getOwner(XDBResourceObj);
      XDBPathobj     := DBMS_XEVENT.getPath(eventObject);
      ResPath        := DBMS_XEVENT.getName(XDBPathObj);
      XDBEventobj    := DBMS_XEVENT.getXDBEvent(eventObject);
      ResDeletedBy   := DBMS_XEVENT.getCurrentUser(XDBEventobj);
      BEGIN
        SELECT XMLCast(
                 XMLQuery(
                   'declare namespace ns = "http://xmlns.oracle.com/xdb/XDBResource.xsd";
                    /ns:Resource/ns:ContentType'
                   PASSING r.RES RETURNING CONTENT) AS VARCHAR2(100))
          INTO ResType
          FROM PATH_VIEW r WHERE r.PATH=ResPath;
          EXCEPTION WHEN OTHERS THEN NULL;
      END;
      IF ResType = '<span class="bold">text/xml</span>' THEN LinkFolder := '<span class="bold">/public/app/XML-TXT/</span>';
      END IF;
      IF ResType = '<span class="bold">image/gif</span>' THEN LinkFolder := '<span class="bold">/public/app/IMG/</span>';
      END IF;
      IF ResType = '<span class="bold">application/octet-stream</span>' THEN LinkFolder := '/<span class="bold">public/app/FOLDER/</span>';
      END IF;
      DBMS_XDB_REPOS.<span class="bold">deleteResource</span>(LinkFolder || ResDisplayName);
  END;
 
  PROCEDURE <span class="bold">handlePostLinkIn</span> (eventObject DBMS_XEVENT.XDBRepositoryEvent) AS
      XDBResourceObj DBMS_XDBRESOURCE.XDBResource;
      ResDisplayName VARCHAR2(100);
      ResPath        VARCHAR2(1000);
      ResOwner       VARCHAR2(1000);
      ResDeletedBy   VARCHAR2(1000);
      XDBPathobj     DBMS_XEVENT.XDBPath;
      XDBEventobj    DBMS_XEVENT.XDBEvent;
      SeqChar        VARCHAR2(1000);
      LinkName       VARCHAR2(10000);
      ResType        VARCHAR2(100);
      LinkFolder     VARCHAR2(100);
    BEGIN
      XDBResourceObj := DBMS_XEVENT.getResource(eventObject);
      ResDisplayName := DBMS_XDBRESOURCE.getDisplayName(XDBResourceObj);
      ResOwner       := DBMS_XDBRESOURCE.getOwner(XDBResourceObj);
      XDBPathobj     := DBMS_XEVENT.getPath(eventObject);
      ResPath        := DBMS_XEVENT.getName(XDBPathObj);
      XDBEventobj    := DBMS_XEVENT.getXDBEvent(eventObject);
      ResDeletedBy   := DBMS_XEVENT.getCurrentUser(XDBEventobj);
      SELECT XMLCast(
               XMLQuery(
                 'declare namespace ns = "http://xmlns.oracle.com/xdb/XDBResource.xsd";
                  /ns:Resource/ns:ContentType'
                 PASSING r.RES RETURNING CONTENT) AS VARCHAR2(100))
        INTO ResType
        FROM PATH_VIEW r WHERE r.PATH=ResPath;
      IF ResType = '<span class="bold">text/xml</span>' THEN LinkFolder := '<span class="bold">/public/app/XML-TXT</span>';
      END IF;
      IF ResType = '<span class="bold">image/gif</span>' THEN LinkFolder := '<span class="bold">/public/app/IMG</span>';
      END IF;
      IF ResType = '<span class="bold">application/octet-stream</span>' THEN LinkFolder := '<span class="bold">/public/app/FOLDER</span>';
      END IF;
      DBMS_XDB_REPOS.<span class="bold">link</span>(ResPath, LinkFolder, ResDisplayName);
    END;
 END;
 /
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-52AEF536-45B7-40B3-88FF-0B1DD0C56976__BABCFCIH">
                        <p class="titleinexample">Example 30-4 Java Code Implementing Event Listeners</p><pre class="oac_no_warn" dir="ltr">import oracle.xdb.event.*;
import oracle.xdb.spi.*;
import java.sql.*;
import java.io.*;
import java.net.*;
import oracle.jdbc.*;
import oracle.sql.*;
import oracle.xdb.XMLType;
import oracle.xdb.dom.*;
 
public class <span class="bold">category</span>
extends oracle.xdb.event.XDBBasicEventListener
{
  public Connection <span class="bold">connectToDB</span>() throws java.sql.SQLException
  {
    try
    {
      String strUrl="jdbc:oracle:kprb:";
      String strUname="appcatguser1";
      String strPwd="appcatguser1 ";
      Connection conn=null;
      OraclePreparedStatement stmt=null;
      DriverManager.registerDriver(new oracle.jdbc.OracleDriver());
      conn = DriverManager.getConnection(strUrl, strUname, strPwd);
      return conn;
    }
    catch(Exception e1)
    {
      System.out.println("Exception in connectToDB java function");
      System.out.println("e1:" + e1.toString());
      return null;
    }
  }
  public void <span class="bold">handlePostLinkIn</span> (XDBRepositoryEvent eventObject)
  {
    XDBPath objXDBPath = null;
    String strPathName="";
    objXDBPath = eventObject.getPath();
    strPathName = objXDBPath.getName();
    XDBResource objXDBResource1;
    objXDBResource1 = eventObject.getResource();
    String textResDisplayName = objXDBResource1.getDisplayName();
    String resType = objXDBResource1.getContentType();
    String linkFolder="";
    System.out.println("resType" + resType+"sumit");
    System.out.println("strPathName:" + strPathName);
    System.out.println("textResDisplayName:" + textResDisplayName);
    if (resType.equals("<span class="bold">text/xml</span>")) linkFolder = "<span class="bold">/public/app/XML-TXT/</span>";
    else if (resType.equals("<span class="bold">image/gif</span>")) linkFolder = "<span class="bold">/public/app/IMG/</span>";
    else if (resType.equals("<span class="bold">application/octet-stream</span>"))
            linkFolder = "<span class="bold">/public/app/FOLDER/</span>";
    System.out.println("linkFolder:" + linkFolder);
    try
    {
      Connection con1 = connectToDB();
      OraclePreparedStatement stmt=null;
      stmt = (OraclePreparedStatement)con1.prepareStatement(
               "CALL DBMS_XDB_REPOS.<span class="bold">link</span>(?,?,?)");
      stmt.setString(1,strPathName);
      stmt.setString(2,linkFolder);
      stmt.setString(3,textResDisplayName);
      stmt.execute();
      stmt.close();
      con1.close();
    }
    catch(java.sql.SQLException ej1)
    {
      System.out.println("ej1:" + ej1.toString());
    }
 
  /* Make sure the link is not in the category folders.
     Then check the target resource's mime type and create a link
     in the appropriate category folder. */
  }
  public void <span class="bold">handlePreUnlinkIn</span> (XDBRepositoryEvent eventObject)
  {
    XDBPath objXDBPath = null;
    String strPathName="";
    objXDBPath = eventObject.getPath();
    strPathName = objXDBPath.getName();
    XDBResource objXDBResource1;
    objXDBResource1 = eventObject.getResource();
    String textResDisplayName = objXDBResource1.getDisplayName();
    String resType = objXDBResource1.getContentType();
    String linkFolder="";
    if (resType.equals("<span class="bold">text/xml</span>")) linkFolder = "<span class="bold">/public/app/XML-TXT/</span>";
    else if (resType.equals("<span class="bold">image/gif</span>")) linkFolder = "<span class="bold">/public/app/IMG/</span>";
    else if (resType.equals("<span class="bold">application/octet-stream</span>"))
            linkFolder = "<span class="bold">/public/app/FOLDER/</span>";
    try
    {
      Connection con1 = connectToDB();
      OraclePreparedStatement stmt=null;
      stmt = (OraclePreparedStatement)con1.prepareStatement(
               "CALL DBMS_XDB_REPOS.<span class="bold">deleteResource</span>(?)");
      stmt.setString(1,linkFolder+textResDisplayName);
      stmt.execute();
      stmt.close();
      con1.close();
    }
    catch(java.sql.SQLException ej1)
    {
      System.out.println("ej1:" + ej1.toString());
    }
  }
}
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-52AEF536-45B7-40B3-88FF-0B1DD0C56976__BABIHGGH">
                        <p class="titleinexample">Example 30-5 Invoking Event Handlers</p><pre class="oac_no_warn" dir="ltr">DECLARE
  ret BOOLEAN;
BEGIN
  ret := DBMS_XDB_REPOS.createResource('/public/<span class="bold">res-app/res1.xml</span>',
                                       '&lt;name&gt;TestForEventType-1&lt;/name&gt;');
END;
/
DECLARE
  b BOOLEAN := FALSE;
  dummy_data CLOB := 'AAA';
BEGIN
  b := DBMS_XDB_REPOS.createResource('/public/<span class="bold">res-app/res2.gif</span>', dummy_data);
END;
/
DECLARE
  b BOOLEAN := FALSE;
  dummy_data CLOB := 'AAA';
BEGIN
  b := DBMS_XDB_REPOS.createFolder('/public/<span class="bold">res-app/res-appfolder1</span>');
END;
 
SELECT PATH FROM PATH_VIEW WHERE PATH LIKE '/public/<span class="bold">app</span>/%' ORDER BY PATH;
 
PATH
---------------------------------
/public/app/FOLDER
/public/<span class="bold">app/FOLDER/res-appfolder1</span>
/public/app/IMG
/public/<span class="bold">app/IMG/res2.gif</span>
/public/app/XML-TXT
/public/<span class="bold">app/XML-TXT/res1.xml</span>
 
6 rows selected.
 
-- Delete the /res-app resources. The /app resources are deleted also.
EXEC DBMS_XDB_REPOS.deleteResource('/public/res-app/res2.gif');
EXEC DBMS_XDB_REPOS.deleteResource('/public/res-app/res1.xml');
EXEC DBMS_XDB_REPOS.deleteResource('/public/res-app/res-appfolder1');
 
SELECT PATH FROM PATH_VIEW WHERE PATH LIKE '/public/<span class="bold">app</span>/%' ORDER BY PATH;
 
PATH
-------------------
/public/app/FOLDER
/public/app/IMG
/public/app/XML-TXT
 
3 rows selected.</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="XML-DB-repository-events.html#GUID-C7D110F1-CB15-475B-83E6-7C186DF0E119" title="In a resource configuration file, you use element event-listeners, child of element ResConfig, to configure Oracle XML&nbsp;DB Repository event handling.">Configuration of Repository Events</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='02662.administering-enterprise-user-security.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Administering Enterprise User Security</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Enterprise User Security Administrator's Guide">
      <meta property="og:description" content>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Enterprise User Security Administrator's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="enterprise-user-security-administrators-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-11T05:14:01-08:00">
      <meta name="dcterms.title" content="Enterprise User Security Administrator's Guide">
      <meta name="dcterms.dateCopyrighted" content="2000, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96086-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="enterprise-user-security-configuration-tasks-and-troubleshooting.html" title="Previous" type="text/html">
      <link rel="next" href="using-oracle-wallet-manager.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="DBIMI">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="using-oracle-wallet-manager.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Enterprise User Security Administrator's Guide</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Administering Enterprise User Security</li>
            </ol>
            <a id="GUID-5D6F6512-751D-4918-BD69-E19C39DDF2F7" name="GUID-5D6F6512-751D-4918-BD69-E19C39DDF2F7"></a><a id="DBIMI130"></a>
            
            <h2 id="DBIMI-GUID-5D6F6512-751D-4918-BD69-E19C39DDF2F7" class="sect2"><span class="enumeration_chapter">5 </span>Administering Enterprise User Security
            </h2>
         </header>
         <div class="ind">
            <div>
               <div class="p">This chapter describes how to use Oracle Enterprise Manager to administer Enterprise User Security in Oracle Databases. This chapter contains the following topics:
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="administering-enterprise-user-security.html#GUID-E1AE9543-3177-4686-B738-79EEE2FA171B">Administering Identity Management Realms</a></p>
                     </li>
                     <li>
                        <p><a href="administering-enterprise-user-security.html#GUID-9EDEE774-CD10-4E52-A8F5-B143014F5FEC">Administering Enterprise Users</a></p>
                     </li>
                     <li>
                        <p><a href="administering-enterprise-user-security.html#GUID-70D49166-491F-416B-8CCB-F09B3DDB64E2">Configuring User-Defined Enterprise Groups</a></p>
                     </li>
                     <li>
                        <p><a href="administering-enterprise-user-security.html#GUID-0EBE5754-4005-4AEA-8C49-CE0F85093DD3">Configuring Databases for Enterprise User Security</a></p>
                     </li>
                     <li>
                        <p><a href="administering-enterprise-user-security.html#GUID-AFE7B1B2-A7E1-4548-BF05-EDC57313005D">Administering Enterprise Domains</a></p>
                     </li>
                  </ul>
               </div>
            </div><a id="DBIMI270"></a><div class="props_rev_3"><a id="GUID-E1AE9543-3177-4686-B738-79EEE2FA171B" name="GUID-E1AE9543-3177-4686-B738-79EEE2FA171B"></a><h3 id="DBIMI-GUID-E1AE9543-3177-4686-B738-79EEE2FA171B" class="sect3">Administering Identity Management Realms</h3>
               <div>
                  <p>An identity management realm is a subtree of directory entries, all of which are governed by the same administrative policies. A realm Oracle Context is a subtree in a directory identity management realm that contains the data used by any installed Oracle product that uses the directory. </p>
                  <p>You can set properties of an identity management realm using Oracle Internet Directory tools like the Oracle Internet Directory Self-Service Console.</p>
                  <p>The Oracle Enterprise Manager Web interface enables you to manage Enterprise User Security related entries in an identity management realm.</p>
                  <div class="p">This section describes administering identity management realms for Enterprise User Security. It contains the following topics:
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="administering-enterprise-user-security.html#GUID-D070FED4-014E-4BE3-825C-097C99FB5D9C">Identity Management Realm Versions</a></p>
                        </li>
                        <li>
                           <p><a href="administering-enterprise-user-security.html#GUID-CE62462D-4A95-4E6E-A0F2-A4EF8BBB24C9">Setting Properties of an Identity Management Realm</a></p>
                        </li>
                        <li>
                           <p><a href="administering-enterprise-user-security.html#GUID-EEDDF2CA-0078-4AF8-A513-438429EEA370">Setting the Default Database-to-Directory Authentication Type for an Identity Management Realm</a></p>
                        </li>
                        <li>
                           <p><a href="administering-enterprise-user-security.html#GUID-EEC0E949-1A69-4A16-8352-A3493E2AA1EC">Managing Identity Management Realm Administrators</a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="infoboxnote" id="GUID-E1AE9543-3177-4686-B738-79EEE2FA171B__GUID-D82F1917-B297-418B-BAAE-0F960A8E6A60">
                     <p class="notep1">Note:</p>
                     <p>Do not create users within a realm Oracle Context.</p>
                  </div>
                  <div class="infoboxnotealso" id="GUID-E1AE9543-3177-4686-B738-79EEE2FA171B__GUID-B5C3F352-DA73-4551-A536-E655977B7B37">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="q">"<a href="introducing-enterprise-user-security.html#GUID-C0DA3539-0811-4384-9CC3-47A78F59A581">How Oracle Internet Directory Implements Identity Management</a>"</span> for a discussion about identity management realms and realm Oracle Contexts and how they are related to one another
                           </p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="introducing-enterprise-user-security.html#GUID-C5CE376D-2FB1-4A5C-8B5E-D93585621205">About Enterprise User Security Directory Entries</a>"</span> for a discussion on the Oracle Internet Directory entries that are used for Enterprise User Security
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="DBIMI271"></a><div class="props_rev_3"><a id="GUID-D070FED4-014E-4BE3-825C-097C99FB5D9C" name="GUID-D070FED4-014E-4BE3-825C-097C99FB5D9C"></a><h4 id="DBIMI-GUID-D070FED4-014E-4BE3-825C-097C99FB5D9C" class="sect4">Identity Management Realm Versions</h4>
                  <div>
                     <p>Enterprise User Security can only use an identity management realm supplied by Oracle Internet Directory 10<span class="italic">g</span> (9.0.4), or later, which ships with Oracle Application Server 10<span class="italic">g</span> (9.0.4), or later. You can manage Enterprise User Security directory entries in a version 9.0.4 (or later) identity management realm by using Oracle Enterprise Manager for Oracle Database 12<span class="italic">c</span> Release 1 (12.1).
                     </p>
                  </div>
               </div><a id="DBIMI603"></a><a id="DBIMI272"></a><div class="props_rev_3"><a id="GUID-CE62462D-4A95-4E6E-A0F2-A4EF8BBB24C9" name="GUID-CE62462D-4A95-4E6E-A0F2-A4EF8BBB24C9"></a><h4 id="DBIMI-GUID-CE62462D-4A95-4E6E-A0F2-A4EF8BBB24C9" class="sect4">Setting Properties of an Identity Management Realm</h4>
                  <div>
                     <div class="section">
                        <p>An identity management realm has a number of properties that can be viewed and managed by using Oracle Internet Directory tools like the Oracle Internet Directory Self-Service Console. These properties are described in <a href="administering-enterprise-user-security.html#GUID-CE62462D-4A95-4E6E-A0F2-A4EF8BBB24C9__G1012360" title="This table has 2 columns and lists and describes the identity management realm properties that pertain to Enterprise User Security. Column 1 is the property and column 2 is its description.">Table 5-1</a>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-CE62462D-4A95-4E6E-A0F2-A4EF8BBB24C9__G1012360">
                        <p class="titleintable">Table 5-1 Identity Management Realm Properties</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Identity Management Realm Properties" summary="This table has 2 columns and lists and describes the identity management realm properties that pertain to Enterprise User Security. Column 1 is the property and column 2 is its description." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d21530e449">Property</th>
                                 <th align="left" valign="bottom" width="69%" id="d21530e452">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d21530e457" headers="d21530e449 ">
                                    <p>Attribute for Login Name</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d21530e457 d21530e452 ">
                                    <p>Name of the directory attribute used to store login names. By default, login names are stored in the <code class="codeph">uid</code> attribute, but they can be changed to correspond to your directory configuration. In previous releases, this was the <code class="codeph">cn</code> attribute.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d21530e470" headers="d21530e449 ">
                                    <p>Attribute for Kerberos Principal Name</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d21530e470 d21530e452 ">
                                    <p>Name of the directory attribute used to store Kerberos principal names. By default, Kerberos principal names are stored in the <code class="codeph">krbPrincipalName</code> directory attribute, but they can be changed to correspond to your directory configuration by changing <code class="codeph">orclCommonKrbPrincipalAttribute</code> in the identity management realm.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d21530e483" headers="d21530e449 ">
                                    <p>User Search Base</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d21530e483 d21530e452 ">
                                    <p>Full distinguished name (DN) for the node at which enterprise users are stored in the directory.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d21530e490" headers="d21530e449 ">
                                    <p>Group Search Base</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d21530e490 d21530e452 ">
                                    <p>Full DN for the node at which user groups are stored for this identity management realm in the directory.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d21530e497" headers="d21530e449 ">
                                    <p>Version Compatibility</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d21530e497 d21530e452 ">
                                    <p>This property is no longer used. However, you should ensure that it is not set to <code class="codeph">81000</code>, because release 8.1.7 and earlier databases cannot be in the same realm with Oracle Database 10<span class="italic">g</span> or later databases.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <div class="infoboxnote" id="GUID-CE62462D-4A95-4E6E-A0F2-A4EF8BBB24C9__GUID-EABE6770-1D4A-473B-862B-F9ECAB46F238">
                           <p class="notep1">Note:</p>
                           <p>Each identity management realm includes an <code class="codeph">orcladmin</code> user who is the root user of that realm only. These realm-specific <code class="codeph">orcladmin</code> users are represented by the directory entries <code class="codeph">cn=orcladmin,cn=Users,</code><span class="italic"><code class="codeph">realm_DN</code></span>. Note that when you are logged in to Enterprise User Security administration tools as a realm-specific <code class="codeph">orcladmin</code> user, then you can manage only directory objects for that realm. To manage objects in another realm, you must log in to administration tools as the <code class="codeph">orcladmin</code> user for that realm.
                           </p>
                           <p>This sections includes the following topic: <a href="administering-enterprise-user-security.html#GUID-CE2E1AE1-D6FB-40D2-AEAB-125A163F8CCA">Setting Login Name, Kerberos Principal Name, User Search Base, and Group Search Base Identity Management Realm Attributes</a>.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div><a id="DBIMI604"></a><a id="DBIMI273"></a><div class="props_rev_3"><a id="GUID-CE2E1AE1-D6FB-40D2-AEAB-125A163F8CCA" name="GUID-CE2E1AE1-D6FB-40D2-AEAB-125A163F8CCA"></a><h5 id="DBIMI-GUID-CE2E1AE1-D6FB-40D2-AEAB-125A163F8CCA" class="sect5">Setting Login Name, Kerberos Principal Name, User Search Base, and Group Search Base Identity Management Realm Attributes</h5>
                     <div>
                        <div class="section">
                           <p>Setting these identity management realm attributes enables the database to locate Enterprise User Security entries.</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-CE2E1AE1-D6FB-40D2-AEAB-125A163F8CCA__GUID-4BD7E950-EC66-44DA-BD36-E0B189032A18">To set Login Name, Kerberos Principal Name, User Search Base, and Group Search Base identity management realm attributes:</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>Log in to the Oracle Internet Directory Self-Service Console. </span><div>
                                 <p>Enter the URL to access the Oracle Internet Directory Self-Service Console in a browser window. For example:</p><pre class="oac_no_warn" dir="ltr">http://myhost1:7777/oiddas
</pre><p>Log in as the <code class="codeph">orcladmin</code> user.
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Click the <span class="bold">Configuration</span> tab. Click the <span class="bold">Identity Management Realm</span> subtab.</span><div>
                                 <p>The Directory Configuration page appears. </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Enter the appropriate information into the available fields.</span></li>
                           <li class="stepexpand"><span>Click <span class="bold">Submit</span> to save your changes to the directory.</span></li>
                        </ol>
                        <div class="section">
                           <div class="infoboxnotealso" id="GUID-CE2E1AE1-D6FB-40D2-AEAB-125A163F8CCA__GUID-F55716BA-D52A-42CF-A1CB-E7ED5804A1C7">
                              <p class="notep1">See Also:</p>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbimi&amp;id=OIMDA004" target="_blank"><span class="italic">Oracle Identity Management Guide to Delegated Administration</span></a> for detailed information on using the Oracle Internet Directory Self-Service Console
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="DBIMI605"></a><a id="DBIMI274"></a><div class="props_rev_3"><a id="GUID-EEDDF2CA-0078-4AF8-A513-438429EEA370" name="GUID-EEDDF2CA-0078-4AF8-A513-438429EEA370"></a><h4 id="DBIMI-GUID-EEDDF2CA-0078-4AF8-A513-438429EEA370" class="sect4">Setting the Default Database-to-Directory Authentication Type for an Identity Management Realm</h4>
                  <div>
                     <div class="section">
                        <p>The initial value for the <code class="codeph">LDAP_DIRECTORY_ACCESS</code> parameter is picked from the default database-to-directory authentication attribute setting at the realm level. This parameter is set on individual databases when they are registered in Oracle Internet Directory.
                        </p>
                        <p>The Oracle Enterprise Manager interface enables you to set the authentication mechanism that the database uses to authenticate to Oracle Internet Directory. The authentication mechanism can be set to password or SSL.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EEDDF2CA-0078-4AF8-A513-438429EEA370__GUID-D40D5A16-9051-4F08-AC89-B395F9308D81">To set the default database-to-directory authentication type for an identity management realm:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Log in to Enterprise Manager Cloud Control, as an administrative user.</span></li>
                        <li class="stepexpand"><span>To navigate to your database, select <span class="bold">Databases</span> from the <span class="bold">Targets</span> menu.</span></li>
                        <li class="stepexpand"><span>Click the database name in the list that appears. The database page appears.</span></li>
                        <li class="stepexpand"><span>Under the <span class="bold">Administration</span> menu, select<span class="bold"> Security, Enterprise User Security.</span> The Oracle Internet Directory Login page appears.</span></li>
                        <li class="stepexpand"><span>Enter the distinguished name (DN) of a directory user who can administer enterprise users in the <span class="bold">User</span> field. Enter the user password in the <span class="bold">Password</span> field. Click <span class="bold">Login</span>.</span><div>
                              <p>The Enterprise User Security page appears.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Click <span class="bold">OID Realm Administration</span>.</span><div>
                              <p>The OID Realm Administration page appears. The current DB-OID authentication method is displayed.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>To change the current DB-OID authentication method, click <span class="bold">Change</span>.</span><div>
                              <p>The Realm Configuration page appears. </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Select Password or SSL under <span class="bold">DB-OID Authentication</span>.</span></li>
                        <li class="stepexpand"><span>If all the databases and clients in the realm are release 10<span class="italic">g</span> or higher, you can turn off the password verifiers feature. This feature is used by the directory to populate an additional password field for pre-10<span class="italic">g</span> databases. To turn off password verifiers, deselect <span class="bold">Password Verifiers</span>.</span></li>
                        <li class="stepexpand"><span>Click <span class="bold">OK</span>.</span></li>
                     </ol>
                  </div>
               </div><a id="DBIMI606"></a><a id="DBIMI607"></a><a id="DBIMI275"></a><div class="props_rev_3"><a id="GUID-EEC0E949-1A69-4A16-8352-A3493E2AA1EC" name="GUID-EEC0E949-1A69-4A16-8352-A3493E2AA1EC"></a><h4 id="DBIMI-GUID-EEC0E949-1A69-4A16-8352-A3493E2AA1EC" class="sect4">Managing Identity Management Realm Administrators</h4>
                  <div>
                     <div class="section">
                        <p>An identity management realm contains administrative groups that have varying levels of privileges. The administrative groups for an identity management realm, which pertain to Enterprise User Security, are defined in <a href="administering-enterprise-user-security.html#GUID-EEC0E949-1A69-4A16-8352-A3493E2AA1EC__G1012386" title="This table has 2 columns and lists and describes the identity management realm administrators who manage enterprise user security objects in the directory. Column 1 is the administrative group and column 2 is its definition.">Table 5-2</a>. For more information about these groups, see <span class="q">"<a href="introducing-enterprise-user-security.html#GUID-973D39A9-33F1-4A47-9DF0-9D455076E02A">Administrative Groups</a>"</span>.
                        </p>
                        <div class="tblformal" id="GUID-EEC0E949-1A69-4A16-8352-A3493E2AA1EC__G1012386">
                           <p class="titleintable">Table 5-2 Enterprise User Security Identity Management Realm Administrators</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Enterprise User Security Identity Management Realm Administrators" summary="This table has 2 columns and lists and describes the identity management realm administrators who manage enterprise user security objects in the directory. Column 1 is the administrative group and column 2 is its definition." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="37%" id="d21530e972">Administrative Group</th>
                                    <th align="left" valign="bottom" width="63%" id="d21530e975">Definition</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="37%" id="d21530e980" headers="d21530e972 ">
                                       <p>Oracle Database Registration Administrators</p>
                                       <p>(OracleDBCreators)</p>
                                    </td>
                                    <td align="left" valign="top" width="63%" headers="d21530e980 d21530e975 ">
                                       <p>Registers new databases in the realm.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="37%" id="d21530e989" headers="d21530e972 ">
                                       <p>Oracle Database Security Administrators</p>
                                       <p>(OracleDBSecurityAdmins)</p>
                                    </td>
                                    <td align="left" valign="top" width="63%" headers="d21530e989 d21530e975 ">
                                       <p>Has all privileges on the OracleDBSecurity directory subtree. Creates, modifies, and can read all Enterprise User Security directory objects.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="37%" id="d21530e998" headers="d21530e972 ">
                                       <p>Oracle Context Administrators</p>
                                       <p>(OracleContextAdmins)</p>
                                    </td>
                                    <td align="left" valign="top" width="63%" headers="d21530e998 d21530e975 ">
                                       <p>Has full access to all groups and entries within its associated realm.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="37%" id="d21530e1007" headers="d21530e972 ">
                                       <p>User Security Administrators</p>
                                       <p>(OracleUserSecurityAdmins)</p>
                                    </td>
                                    <td align="left" valign="top" width="63%" headers="d21530e1007 d21530e975 ">
                                       <p>Has relevant permissions necessary to administer security aspects for enterprise users in the directory. For example, OracleUserSecurityAdmins can modify user passwords.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EEC0E949-1A69-4A16-8352-A3493E2AA1EC__GUID-22A1DA66-AFA7-409C-B3D5-1C41257A96D8">To manage identity management realm administrators:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Log in to Enterprise Manager Cloud Control, as an administrative user.</span></li>
                        <li class="stepexpand"><span>To navigate to your database, select <span class="bold">Databases</span> from the <span class="bold">Targets</span> menu.</span></li>
                        <li class="stepexpand"><span>Click the database name in the list that appears. The database page appears.</span></li>
                        <li class="stepexpand"><span>Under the <span class="bold">Administration</span> menu, select<span class="bold"> Security, Enterprise User Security.</span> The Oracle Internet Directory Login page appears.</span></li>
                        <li class="stepexpand"><span>Enter the distinguished name (DN) of a directory user who can administer enterprise users in the <span class="bold">User</span> field. Enter the user password in the <span class="bold">Password</span> field. Click <span class="bold">Login</span>.</span><div>
                              <p>The Enterprise User Security page appears.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Click <span class="bold">OID Realm Administration</span>.</span><div>
                              <p>The OID Realm Administration page appears. This page lists the Enterprise User Security related administrative groups in the identity management realm.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Select the administrative group that you wish to edit. Click <span class="bold">Edit</span>.</span><div>
                              <p>The Edit page appears. It lists the directory users that are currently members of the group selected in the OID Realm Administration page.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>To add a directory user to the group, click <span class="bold">Add</span>.</span><div>
                              <p>The Select Users window appears. </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Select the <span class="bold">Search Base</span>. The Search Base is the directory subtree that you wish to search for locating the user. Click <span class="bold">Go</span>.</span></li>
                        <li class="stepexpand"><span>Select the user that you wish to add as an administrator. Click <span class="bold">Select</span>.</span><div>
                              <p>The user is added in the Edit page. </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Click <span class="bold">OK</span>.</span></li>
                     </ol>
                  </div>
               </div>
            </div><a id="DBIMI276"></a><div class="props_rev_3"><a id="GUID-9EDEE774-CD10-4E52-A8F5-B143014F5FEC" name="GUID-9EDEE774-CD10-4E52-A8F5-B143014F5FEC"></a><h3 id="DBIMI-GUID-9EDEE774-CD10-4E52-A8F5-B143014F5FEC" class="sect3">Administering Enterprise Users</h3>
               <div>
                  <div class="p">This section describes how to use Oracle Internet Directory Self-Service Console and Oracle Enterprise Manager to administer enterprise users. It contains the following topics:
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="administering-enterprise-user-security.html#GUID-250B15FC-6A53-4688-9A56-8B08D030EA46">Creating New Enterprise Users</a></p>
                        </li>
                        <li>
                           <p><a href="administering-enterprise-user-security.html#GUID-D839CEDE-6FF5-4FF5-B2C5-04C9767341A5">Setting Enterprise User Passwords</a></p>
                        </li>
                        <li>
                           <p><a href="administering-enterprise-user-security.html#GUID-5D59386E-68C9-43DD-B3FF-AB4BB41A743D">Granting Enterprise Roles to Enterprise Users</a></p>
                        </li>
                        <li>
                           <p><a href="administering-enterprise-user-security.html#GUID-A43BE0BB-9846-4D8B-867E-4E058D55E69E">Granting Proxy Permissions to Enterprise Users</a></p>
                        </li>
                        <li>
                           <p><a href="administering-enterprise-user-security.html#GUID-C000CF3B-AB20-4241-B388-716138580B91">Creating User-Schema Mappings for Enterprise Users</a></p>
                        </li>
                        <li>
                           <p><a href="administering-enterprise-user-security.html#GUID-098BC2C4-BEFF-46FD-BB6A-1BC79F858564">Creating Label Authorizations for Enterprise Users</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="DBIMI608"></a><a id="DBIMI277"></a><div class="props_rev_3"><a id="GUID-250B15FC-6A53-4688-9A56-8B08D030EA46" name="GUID-250B15FC-6A53-4688-9A56-8B08D030EA46"></a><h4 id="DBIMI-GUID-250B15FC-6A53-4688-9A56-8B08D030EA46" class="sect4">Creating New Enterprise Users</h4>
                  <div>
                     <div class="section">
                        <p>You can use Oracle Internet Directory tools like the Oracle Internet Directory Self-Service Console to create users in the directory.</p>
                        <div class="infoboxnote" id="GUID-250B15FC-6A53-4688-9A56-8B08D030EA46__GUID-CBB18472-B5F3-4E2B-B6F7-ACA70AD5CC6A">
                           <p class="notep1">Note:</p>
                           <p>Before creating new enterprise users, you must first define the user search base in the directory and also verify the user create base. See <span class="q">"<a href="administering-enterprise-user-security.html#GUID-CE2E1AE1-D6FB-40D2-AEAB-125A163F8CCA">Setting Login Name, Kerberos Principal Name, User Search Base, and Group Search Base Identity Management Realm Attributes</a>"</span></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-250B15FC-6A53-4688-9A56-8B08D030EA46__GUID-15838A70-5F79-4D00-9A5F-8F2B8D790601">To create new enterprise users:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Log in to the Oracle Internet Directory Self-Service Console. </span><div>
                              <p>Enter the URL to access the Oracle Internet Directory Self-Service Console in a browser window. For example:</p><pre class="oac_no_warn" dir="ltr">http://myhost1:7777/oiddas
</pre><p>Log in as the <code class="codeph">orcladmin</code> user.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Click the <span class="bold">Directory</span> tab. Click the <span class="bold">Users</span> subtab.</span><div>
                              <p>The Users page appears. </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Click <span class="bold">Create</span> to create a new user. </span><div>
                              <p>The Create User page appears. </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Enter the appropriate user information in the Create User page. Click <span class="bold">Submit</span> to create a new enterprise user.</span></li>
                     </ol>
                     <div class="section">
                        <div class="infoboxnote" id="GUID-250B15FC-6A53-4688-9A56-8B08D030EA46__GUID-B8A2BC01-71C7-469F-9BC1-4DE4AEC2B766">
                           <p class="notep1">Note:</p>
                           <p>Note that if your users are authenticated to the database by using Kerberos credentials, and the <code class="codeph">krbPrincipalName</code> attribute is not there, then see <span class="q">"<a href="enterprise-user-security-configuration-tasks-and-troubleshooting.html#GUID-73C75D2F-5A13-49AA-B55A-0CBA14FD602F__I1009790">Task 1: Configure Oracle Internet Directory Self-Service Console to display the Kerberos principal name attribute</a>"</span>  for information about how to configure this.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="DBIMI609"></a><a id="DBIMI278"></a><div class="props_rev_3"><a id="GUID-D839CEDE-6FF5-4FF5-B2C5-04C9767341A5" name="GUID-D839CEDE-6FF5-4FF5-B2C5-04C9767341A5"></a><h4 id="DBIMI-GUID-D839CEDE-6FF5-4FF5-B2C5-04C9767341A5" class="sect4">Setting Enterprise User Passwords</h4>
                  <div>
                     <div class="section">
                        <p>You can use Oracle Internet Directory Self-Service Console to set and maintain enterprise user passwords in Oracle Internet Directory.</p>
                        <p>The enterprise user password is used for:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Directory logon</p>
                           </li>
                           <li>
                              <p>Database logon, to databases that support password authentication for global users</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D839CEDE-6FF5-4FF5-B2C5-04C9767341A5__GUID-853B74E1-C4D6-47CF-B250-909697109020">To set the password for an enterprise user:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Log in to the Oracle Internet Directory Self-Service Console. </span><div>
                              <p>Enter the URL to access the Oracle Internet Directory Self-Service Console in a browser window. For example:</p><pre class="oac_no_warn" dir="ltr">http://myhost1:7777/oiddas
</pre><p>Log in as the <code class="codeph">orcladmin</code> user.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Click the <span class="bold">Directory</span> tab. Click the <span class="bold">Users</span> subtab.</span><div>
                              <p>The Users page appears. </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Enter part of the enterprise user's user name (login name) or e-mail address in the <span class="bold">Search</span> field. Click <span class="bold">Go</span>.</span><div>
                              <p>A list of all users who match your search criteria displays.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Select the user for whom you wish to create a new password. Click <span class="bold">Edit</span>.</span><div>
                              <p>The Edit User page appears. </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Enter the new password in the <span class="bold">Password</span> field. Confirm the password in the <span class="bold">Confirm Password</span> field. Click <span class="bold">Submit</span>.</span></li>
                     </ol>
                  </div>
               </div><a id="DBIMI279"></a><div class="props_rev_3"><a id="GUID-5D59386E-68C9-43DD-B3FF-AB4BB41A743D" name="GUID-5D59386E-68C9-43DD-B3FF-AB4BB41A743D"></a><h4 id="DBIMI-GUID-5D59386E-68C9-43DD-B3FF-AB4BB41A743D" class="sect4">Granting Enterprise Roles to Enterprise Users</h4>
                  <div>
                     <div class="section">
                        <p>Enterprise roles are directory objects that allow you to group global roles from various databases. You can assign enterprise roles to enterprise users, which gives them privileges across enterprise databases. </p>
                        <p>To grant enterprise roles to enterprise users:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Log in to Enterprise Manager Cloud Control, as an administrative user.</span></li>
                        <li class="stepexpand"><span>To navigate to your database, select <span class="bold">Databases</span> from the <span class="bold">Targets</span> menu.</span></li>
                        <li class="stepexpand"><span>Click the database name in the list that appears. The database page appears.</span></li>
                        <li class="stepexpand"><span>Under the <span class="bold">Administration</span> menu, select<span class="bold"> Security, Enterprise User Security.</span> The Oracle Internet Directory Login page appears.</span></li>
                        <li class="stepexpand"><span>Enter the distinguished name (DN) of a directory user who can administer enterprise users in the <span class="bold">User</span> field. Enter the user password in the <span class="bold">Password</span> field. Click <span class="bold">Login</span>.</span><div>
                              <p>The Enterprise User Security page appears.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Click <span class="bold">Configure Enterprise Users</span>.</span><div>
                              <p>The Configure Enterprise Users page appears.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Select the <span class="bold">Search Base</span> in which the enterprise user is located. The search base is the subtree which contains the enterprise user entry. You can optionally enter the common name of the enterprise user in the <span class="bold">Name</span> field. Select User in the <span class="bold">View</span> box. Click <span class="bold">Go</span>.</span><div>
                              <p>A list of users with matching criteria appears.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Select the enterprise user that you wish to configure. Click <span class="bold">Configure</span>.</span><div>
                              <p>The Configure User page appears.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Click the Enterprise Roles tab.</span></li>
                        <li class="stepexpand"><span>Click <span class="bold">Grant</span>.</span><div>
                              <p>The Select Enterprise Roles window appears.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Select the enterprise role that you wish to grant. Click <span class="bold">Select</span>.</span></li>
                        <li class="stepexpand"><span>Click <span class="bold">OK</span> in the Configure User page.</span></li>
                     </ol>
                  </div>
               </div><a id="DBIMI280"></a><div class="props_rev_3"><a id="GUID-A43BE0BB-9846-4D8B-867E-4E058D55E69E" name="GUID-A43BE0BB-9846-4D8B-867E-4E058D55E69E"></a><h4 id="DBIMI-GUID-A43BE0BB-9846-4D8B-867E-4E058D55E69E" class="sect4">Granting Proxy Permissions to Enterprise Users</h4>
                  <div>
                     <div class="section">
                        <p>Proxy permissions allow an enterprise user to proxy a local database user, which means that the enterprise user can log in to the database as the local database user. You can grant proxy permissions to individual users or groups. Proxy permissions are especially useful for middle tier applications that operate across multiple databases as enterprise users. </p>
                        <p>Proxy permissions are created at the enterprise domain level. After creating a proxy permission for an enterprise domain, you can grant it to an enterprise user.</p>
                        <p>To grant proxy permissions to enterprise users:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Log in to Enterprise Manager Cloud Control, as an administrative user.</span></li>
                        <li class="stepexpand"><span>To navigate to your database, select <span class="bold">Databases</span> from the <span class="bold">Targets</span> menu.</span></li>
                        <li class="stepexpand"><span>Click the database name in the list that appears. The database page appears.</span></li>
                        <li class="stepexpand"><span>Under the <span class="bold">Administration</span> menu, select<span class="bold"> Security, Enterprise User Security.</span> The Oracle Internet Directory Login page appears.</span></li>
                        <li class="stepexpand"><span>Enter the distinguished name (DN) of a directory user who can administer enterprise users in the <span class="bold">User</span> field. Enter the user password in the <span class="bold">Password</span> field. Click <span class="bold">Login</span>.</span><div>
                              <p>The Enterprise User Security page appears.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Click <span class="bold">Configure Enterprise Users</span>.</span><div>
                              <p>The Configure Enterprise Users page appears.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Select the <span class="bold">Search Base</span> in which the enterprise user is located. The search base is the subtree which contains the enterprise user entry. You can optionally enter the common name of the enterprise user in the <span class="bold">Name</span> field. Select User in the <span class="bold">View</span> box. Click <span class="bold">Go</span>.</span><div>
                              <p>A list of users with matching criteria appears.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Select the enterprise user that you wish to configure. Click <span class="bold">Configure</span>.</span><div>
                              <p>The Configure User page appears.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Click the <span class="bold">Proxy Permissions</span> tab.</span></li>
                        <li class="stepexpand"><span>Click <span class="bold">Grant</span>.</span><div>
                              <p>The Select Proxy Permissions window appears. </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Select the Proxy Permission to be granted. The proxy permission must have already been created for the enterprise domain. Click <span class="bold">Select</span>.</span></li>
                        <li class="stepexpand"><span>Click <span class="bold">OK</span> in the Configure User page.</span></li>
                     </ol>
                  </div>
               </div><a id="DBIMI281"></a><div class="props_rev_3"><a id="GUID-C000CF3B-AB20-4241-B388-716138580B91" name="GUID-C000CF3B-AB20-4241-B388-716138580B91"></a><h4 id="DBIMI-GUID-C000CF3B-AB20-4241-B388-716138580B91" class="sect4">Creating User-Schema Mappings for Enterprise Users</h4>
                  <div>
                     <div class="section">
                        <p>A user-schema mapping maps an enterprise user to a global database schema. When the enterprise user logs in to the database, he is connected to the mapped schema, by default.</p>
                        <p>To create a user-schema mapping:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Log in to Enterprise Manager Cloud Control, as an administrative user.</span></li>
                        <li class="stepexpand"><span>To navigate to your database, select <span class="bold">Databases</span> from the <span class="bold">Targets</span> menu.</span></li>
                        <li class="stepexpand"><span>Click the database name in the list that appears. The database page appears.</span></li>
                        <li class="stepexpand"><span>Under the <span class="bold">Administration</span> menu, select<span class="bold"> Security, Enterprise User Security.</span> The Oracle Internet Directory Login page appears.</span></li>
                        <li class="stepexpand"><span>Enter the distinguished name (DN) of a directory user who can administer enterprise users in the <span class="bold">User</span> field. Enter the user password in the <span class="bold">Password</span> field. Click <span class="bold">Login</span>.</span><div>
                              <p>The Enterprise User Security page appears.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Click <span class="bold">Configure Enterprise Users</span>.</span><div>
                              <p>The Configure Enterprise Users page appears.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Select the <span class="bold">Search Base</span> in which the enterprise user is located. The search base is the subtree which contains the enterprise user entry. You can optionally enter the common name of the enterprise user in the <span class="bold">Name</span> field. Select User in the <span class="bold">View</span> box. Click <span class="bold">Go</span>.</span><div>
                              <p>A list of users with matching criteria appears.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Select the enterprise user that you wish to configure. Click <span class="bold">Configure</span>.</span><div>
                              <p>The Configure User page appears.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Click the <span class="bold">User-Schema Mappings</span> tab. All user-schema maps that apply to the user directly or indirectly are displayed. </span><div>
                              <p>A user can be individually mapped to a schema. Alternatively, you can map a directory subtree containing multiple users to the database schema.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Click <span class="bold">Create</span>.</span><div>
                              <p>The Create Mapping page is displayed.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Under the From section, select <span class="bold">Users</span> to map an individual enterprise user to a database schema. Alternatively, select <span class="bold">Subtree</span> to map a directory subtree containing multiple users.</span></li>
                        <li class="stepexpand"><span>Under To, select <span class="bold">Database</span> to map to a database schema. Select <span class="bold">Domain</span> to map to a schema common to all databases in the enterprise domain.</span><div>
                              <p>You can have multiple databases in an enterprise domain that have a common schema name. When you map an enterprise user to such a schema, the enterprise user is automatically mapped to the individual schemas in each database contained in the domain.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>If you selected Database in the preceding step, then select the name of the database that contains the schema. Next, enter the database schema name. You can also use the search icon to select the schema. You will be required to log in to the database to select the schema.</span><div>
                              <p>If you selected Domain in the preceding step, then select the name of the domain and enter the common schema name in the <span class="bold">Schema</span> field. 
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Click <span class="bold">Continue</span> in the Create Mapping page.</span></li>
                        <li class="stepexpand"><span>Click <span class="bold">OK</span> in the Configure User page.</span></li>
                     </ol>
                  </div>
               </div><a id="DBIMI282"></a><div class="props_rev_3"><a id="GUID-098BC2C4-BEFF-46FD-BB6A-1BC79F858564" name="GUID-098BC2C4-BEFF-46FD-BB6A-1BC79F858564"></a><h4 id="DBIMI-GUID-098BC2C4-BEFF-46FD-BB6A-1BC79F858564" class="sect4">Creating Label Authorizations for Enterprise Users</h4>
                  <div>
                     <div class="section">
                        <p>An Oracle Label Security (OLS) policy stored in the directory can have multiple profiles associated with it. Each profile is a set of policy authorizations and privileges. These policy authorizations and privileges apply to all enterprise users who belong to the profile. You can assign a profile to an enterprise user.</p>
                        <p>To assign label authorizations to an enterprise user:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Log in to Enterprise Manager Cloud Control, as an administrative user.</span></li>
                        <li class="stepexpand"><span>To navigate to your database, select <span class="bold">Databases</span> from the <span class="bold">Targets</span> menu.</span></li>
                        <li class="stepexpand"><span>Click the database name in the list that appears. The database page appears.</span></li>
                        <li class="stepexpand"><span>Under the <span class="bold">Administration</span> menu, select<span class="bold"> Security, Enterprise User Security.</span> The Oracle Internet Directory Login page appears.</span></li>
                        <li class="stepexpand"><span>Enter the distinguished name (DN) of a directory user who can administer enterprise users in the <span class="bold">User</span> field. Enter the user password in the <span class="bold">Password</span> field. Click <span class="bold">Login</span>.</span><div>
                              <p>The Enterprise User Security page appears.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Click <span class="bold">Configure Enterprise Users</span>.</span><div>
                              <p>The Configure Enterprise Users page appears.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Select the <span class="bold">Search Base</span> in which the enterprise user is located. The search base is the subtree which contains the enterprise user entry. You can optionally enter the common name of the enterprise user in the <span class="bold">Name</span> field. Select User in the <span class="bold">View</span> box. Click <span class="bold">Go</span>.</span><div>
                              <p>A list of users with matching criteria appears.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Select the enterprise user that you wish to configure. Click <span class="bold">Configure</span>.</span><div>
                              <p>The Configure User page appears.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Click the <span class="bold">Label Authorizations</span> tab.</span><div>
                              <p>A list of all user profiles associated with the user is displayed. </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Click <span class="bold">Add</span>. </span><div>
                              <p>The Select User Profile window appears. </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Select the user profiles that you want the user to be added to, and click <span class="bold">Select</span>. You can only select one profile per policy. </span></li>
                        <li class="stepexpand"><span>Click <span class="bold">OK</span> in the Configure User page.</span></li>
                     </ol>
                  </div>
               </div>
            </div><a id="DBIMI283"></a><div class="props_rev_3"><a id="GUID-70D49166-491F-416B-8CCB-F09B3DDB64E2" name="GUID-70D49166-491F-416B-8CCB-F09B3DDB64E2"></a><h3 id="DBIMI-GUID-70D49166-491F-416B-8CCB-F09B3DDB64E2" class="sect3"> Configuring User-Defined Enterprise Groups</h3>
               <div>
                  <p>User-defined enterprise groups help group together enterprise users that require the same roles or privileges across enterprise databases. Enterprise groups are stored in the directory.</p>
                  <p>This section includes the following topic: <a href="administering-enterprise-user-security.html#GUID-7FEDBD6F-5427-4824-A401-C9C2C88CBDAB">Granting Enterprise Roles to User-Defined Enterprise Groups</a>.
                  </p>
               </div><a id="DBIMI284"></a><a id="EUSTK013"></a><div class="props_rev_3"><a id="GUID-7FEDBD6F-5427-4824-A401-C9C2C88CBDAB" name="GUID-7FEDBD6F-5427-4824-A401-C9C2C88CBDAB"></a><h4 id="DBIMI-GUID-7FEDBD6F-5427-4824-A401-C9C2C88CBDAB" class="sect4">Granting Enterprise Roles to User-Defined Enterprise Groups</h4>
                  <div>
                     <div class="section">
                        <p>Enterprise roles are directory objects that allow you to group global roles from various databases. You can assign an enterprise role to an enterprise group, which gives the group members privileges across enterprise databases.</p>
                        <p>To grant an enterprise role to an enterprise group:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Log in to Enterprise Manager Cloud Control, as an administrative user.</span></li>
                        <li class="stepexpand"><span>To navigate to your database, select <span class="bold">Databases</span> from the <span class="bold">Targets</span> menu.</span></li>
                        <li class="stepexpand"><span>Click the database name in the list that appears. The database page appears.</span></li>
                        <li class="stepexpand"><span>Under the <span class="bold">Administration</span> menu, select<span class="bold"> Security, Enterprise User Security.</span> The Oracle Internet Directory Login page appears.</span></li>
                        <li class="stepexpand"><span>Enter the distinguished name (DN) of a directory user who can administer enterprise users in the <span class="bold">User</span> field. Enter the user password in the <span class="bold">Password</span> field. Click <span class="bold">Login</span>.</span><div>
                              <p>The Enterprise User Security page appears.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Click <span class="bold">Configure User Defined Enterprise Groups</span>.</span><div>
                              <p>The Configure Enterprise Groups page appears.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Select the <span class="bold">Search Base</span> in which the enterprise group is located. The search base is the subtree which contains the enterprise group entry. Optionally, enter the common name of the enterprise group in the <span class="bold">Name</span> field. Select Group in the <span class="bold">View</span> box. Click <span class="bold">Go</span>.</span><div>
                              <p>A list of groups with matching criteria appears.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Select the enterprise group that you wish to configure. Click <span class="bold">Configure</span>.</span><div>
                              <p>The Configure Group page appears.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Click the Enterprise Roles tab.</span><div>
                              <p>A list of enterprise roles granted to the enterprise group is displayed. </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Click <span class="bold">Grant</span> to grant a new enterprise role to the group.</span><div>
                              <p>The Select Enterprise Roles window appears.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Select the enterprise roles that you wish to grant. Click <span class="bold">Select</span>.</span></li>
                        <li class="stepexpand"><span>Click <span class="bold">OK</span> in the Configure Group page.</span></li>
                     </ol>
                  </div>
               </div>
            </div><a id="DBIMI285"></a><div class="props_rev_3"><a id="GUID-0EBE5754-4005-4AEA-8C49-CE0F85093DD3" name="GUID-0EBE5754-4005-4AEA-8C49-CE0F85093DD3"></a><h3 id="DBIMI-GUID-0EBE5754-4005-4AEA-8C49-CE0F85093DD3" class="sect3">Configuring Databases for Enterprise User Security</h3>
               <div>
                  <p>Enterprise User Security for databases registered with Oracle Internet Directory can be configured using Enterprise Manager. You can map users or subtrees to database schemas. You can also configure administrators in the directory that can modify schema mappings and enterprise domain membership of the database.</p>
                  <div class="p">See the following sections for more information:
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="administering-enterprise-user-security.html#GUID-CA33BD75-D63D-4EF2-8C2E-4D4796563284">Creating User-Schema Mappings for a Database</a></p>
                        </li>
                        <li>
                           <p><a href="administering-enterprise-user-security.html#GUID-63EDAE01-CABC-4254-AF8A-869A7336FFAA">Adding Administrators to Manage Database Schema Mappings</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="DBIMI286"></a><a id="EUSTK016"></a><div class="props_rev_3"><a id="GUID-CA33BD75-D63D-4EF2-8C2E-4D4796563284" name="GUID-CA33BD75-D63D-4EF2-8C2E-4D4796563284"></a><h4 id="DBIMI-GUID-CA33BD75-D63D-4EF2-8C2E-4D4796563284" class="sect4">Creating User-Schema Mappings for a Database</h4>
                  <div>
                     <div class="section">
                        <p>A user-schema mapping maps an enterprise user to a global schema in the database. When the enterprise user logs in to the database, he is connected to the mapped schema, by default.</p>
                        <p>To create a user-schema mapping:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Log in to Enterprise Manager Cloud Control, as an administrative user.</span></li>
                        <li class="stepexpand"><span>To navigate to your database, select <span class="bold">Databases</span> from the <span class="bold">Targets</span> menu.</span></li>
                        <li class="stepexpand"><span>Click the database name in the list that appears. The database page appears.</span></li>
                        <li class="stepexpand"><span>Under the <span class="bold">Administration</span> menu, select<span class="bold"> Security, Enterprise User Security.</span> The Oracle Internet Directory Login page appears.</span></li>
                        <li class="stepexpand"><span>Enter the distinguished name (DN) of a directory user who can administer enterprise users in the <span class="bold">User</span> field. Enter the user password in the <span class="bold">Password</span> field. Click <span class="bold">Login</span>.</span><div>
                              <p>The Enterprise User Security page appears.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Click <span class="bold">Configure Databases</span>.</span><div>
                              <p>The Configure Databases page appears. A list of databases registered in the identity management realm is displayed.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Select the database name. Click <span class="bold">Configure</span>.</span><div>
                              <p>The Configure Database page appears. </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Click the <span class="bold">User-Schema Mappings</span> tab. All user-schema maps created at the database level are displayed. User-schema maps created at the enterprise domain levels are not displayed here.</span></li>
                        <li class="stepexpand"><span>Click <span class="bold">Create</span> to create a new user-schema mapping for the database.</span><div>
                              <p>The Create Mapping page is displayed.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Under the From section, select <span class="bold">Users</span> to map an individual enterprise user to a database schema. Alternatively, select <span class="bold">Subtree</span> to map a directory subtree containing multiple users. You can use the Search icon to search for the appropriate user or subtree.</span></li>
                        <li class="stepexpand"><span>Under the To section, enter the name of the <span class="bold">Schema</span> to which the user or subtree should be mapped. You can use the search icon to search for the appropriate schema in the database. You will be required to log in to the database to access the schema names.</span></li>
                        <li class="stepexpand"><span>Click <span class="bold">Continue</span> in the Create Mapping page.</span></li>
                        <li class="stepexpand"><span>Click <span class="bold">OK</span> in the Configure Database page.</span></li>
                     </ol>
                  </div>
               </div><a id="DBIMI287"></a><a id="EUSTK018"></a><div class="props_rev_3"><a id="GUID-63EDAE01-CABC-4254-AF8A-869A7336FFAA" name="GUID-63EDAE01-CABC-4254-AF8A-869A7336FFAA"></a><h4 id="DBIMI-GUID-63EDAE01-CABC-4254-AF8A-869A7336FFAA" class="sect4">Adding Administrators to Manage Database Schema Mappings</h4>
                  <div>
                     <div class="section">
                        <p>Directory users who are authorized to manage database schema mappings for a database can create or delete database schema mappings for the database.</p>
                        <p>To add administrators for managing database schema mappings:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Log in to Enterprise Manager Cloud Control, as an administrative user.</span></li>
                        <li class="stepexpand"><span>To navigate to your database, select <span class="bold">Databases</span> from the <span class="bold">Targets</span> menu.</span></li>
                        <li class="stepexpand"><span>Click the database name in the list that appears. The database page appears.</span></li>
                        <li class="stepexpand"><span>Under the <span class="bold">Administration</span> menu, select<span class="bold"> Security, Enterprise User Security.</span> The Oracle Internet Directory Login page appears.</span></li>
                        <li class="stepexpand"><span>Enter the distinguished name (DN) of a directory user who can administer enterprise users in the <span class="bold">User</span> field. Enter the user password in the <span class="bold">Password</span> field. Click <span class="bold">Login</span>.</span><div>
                              <p>The Enterprise User Security page appears.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Click <span class="bold">Configure Databases</span>.</span><div>
                              <p>The Configure Databases page appears. A list of databases registered in the identity management realm is displayed.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Select the database name. Click <span class="bold">Configure</span>.</span><div>
                              <p>The Configure Database page appears. </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Click the <span class="bold">Administrators</span> tab. A list of administrators who can manage database schema mappings is displayed.</span></li>
                        <li class="stepexpand"><span>Click <span class="bold">Add</span> to add an administrator.</span><div>
                              <p>The Select Users window appears. </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Select the <span class="bold">Search Base</span>. The Search Base is the directory subtree that you wish to search for locating the user. Click <span class="bold">Go</span>.</span></li>
                        <li class="stepexpand"><span>Select the user that you wish to add as an administrator. Click <span class="bold">Select</span>.</span><div>
                              <p>The user is added in the Configure Database page. </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>If you want the user to be able to add or remove other administrators, then select the <span class="bold">Admin Group Owner</span> check box corresponding to the added user.</span></li>
                        <li class="stepexpand"><span>Click <span class="bold">OK</span>.</span></li>
                     </ol>
                  </div>
               </div>
            </div><a id="DBIMI288"></a><div class="props_rev_3"><a id="GUID-AFE7B1B2-A7E1-4548-BF05-EDC57313005D" name="GUID-AFE7B1B2-A7E1-4548-BF05-EDC57313005D"></a><h3 id="DBIMI-GUID-AFE7B1B2-A7E1-4548-BF05-EDC57313005D" class="sect3">Administering Enterprise Domains</h3>
               <div>
                  <p>Enterprise Domains are groups of databases that can share enterprise roles, proxy permissions, user-schema mappings, current user database links, and permitted authentication mechanisms. A database can belong to only one enterprise domain. </p>
                  <p>An enterprise domain can be thought of as an administrative domain, administered by the Domain Admins group for that domain. These administrators can add databases to the enterprise domain.</p>
                  <p>An identity management realm contains an enterprise domain called <code class="codeph">OracleDefaultDomain</code>. <code class="codeph">OracleDefaultDomain</code> is part of the realm when it is first created in the directory. When a new database is registered into a realm, it automatically becomes a member of <code class="codeph">OracleDefaultDomain</code> in that realm. You can create and remove your own enterprise domains, but you must not remove <code class="codeph">OracleDefaultDomain</code> from a realm.
                  </p>
                  <div class="p">This section describes how to use Oracle Enterprise Manager to administer enterprise domains in the directory. It contains the following topics:
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="administering-enterprise-user-security.html#GUID-38C395C8-3D91-4177-9A0E-D24A3744080F">Creating an Enterprise Domain</a></p>
                        </li>
                        <li>
                           <p><a href="administering-enterprise-user-security.html#GUID-694B2052-0A04-4A76-9A2E-73334A3CA4ED">Adding Databases to an Enterprise Domain</a></p>
                        </li>
                        <li>
                           <p><a href="administering-enterprise-user-security.html#GUID-8386D563-E7B0-41F4-B052-7726523205C7">Creating User-Schema Mappings for an Enterprise Domain</a></p>
                        </li>
                        <li>
                           <p><a href="administering-enterprise-user-security.html#GUID-00E6222A-4690-475F-9814-C02848C48003">Configuring Enterprise Roles</a></p>
                        </li>
                        <li>
                           <p><a href="administering-enterprise-user-security.html#GUID-8DA40CE7-514C-4200-9A9F-93D1DB46A93E">Configuring Proxy Permissions</a></p>
                        </li>
                        <li>
                           <p><a href="administering-enterprise-user-security.html#GUID-1338F679-CC93-4A46-9676-47248F110393">Configuring User Authentication Types and Enabling Current User Database Links</a></p>
                        </li>
                        <li>
                           <p><a href="administering-enterprise-user-security.html#GUID-0738C81F-B1D1-4C63-B59C-1607F4EB1DC6">Configuring Domain Administrators</a></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="DBIMI289"></a><div class="props_rev_3"><a id="GUID-38C395C8-3D91-4177-9A0E-D24A3744080F" name="GUID-38C395C8-3D91-4177-9A0E-D24A3744080F"></a><h4 id="DBIMI-GUID-38C395C8-3D91-4177-9A0E-D24A3744080F" class="sect4">Creating an Enterprise Domain</h4>
                  <div>
                     <div class="section">
                        <p>An enterprise domain is an administrative domain of databases that can share enterprise roles, proxy permissions, user-schema mappings, current user database links, and permitted authentication mechanisms.</p>
                        <p>If you do not want to use <code class="codeph">OracleDefaultDomain</code>, then you can create a new enterprise domain in your identity management realm.
                        </p>
                        <p>To create an enterprise domain:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Log in to Enterprise Manager Cloud Control, as an administrative user.</span></li>
                        <li class="stepexpand"><span>To navigate to your database, select <span class="bold">Databases</span> from the <span class="bold">Targets</span> menu.</span></li>
                        <li class="stepexpand"><span>Click the database name in the list that appears. The database page appears.</span></li>
                        <li class="stepexpand"><span>Under the <span class="bold">Administration</span> menu, select<span class="bold"> Security, Enterprise User Security.</span> The Oracle Internet Directory Login page appears.</span></li>
                        <li class="stepexpand"><span>Enter the distinguished name (DN) of a directory user who can administer enterprise users in the <span class="bold">User</span> field. Enter the user password in the <span class="bold">Password</span> field. Click <span class="bold">Login</span>.</span><div>
                              <p>The Enterprise User Security page appears.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Click <span class="bold">Manage Enterprise Domains</span>.</span><div>
                              <p>The Manage Enterprise Domains page appears. This page lists the enterprise domains in the identity management realm.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Click <span class="bold">Create</span> to create a new enterprise domain.</span><div>
                              <p>The Create Domain page appears.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Enter the name for the new enterprise domain in the <span class="bold">Name</span> field. Click <span class="bold">OK</span>.</span><div>
                              <p>The new enterprise domain is added to the list of enterprise domains in the Enterprise Domains page.</p>
                           </div>
                        </li>
                     </ol>
                  </div>
               </div><a id="DBIMI290"></a><div class="props_rev_3"><a id="GUID-694B2052-0A04-4A76-9A2E-73334A3CA4ED" name="GUID-694B2052-0A04-4A76-9A2E-73334A3CA4ED"></a><h4 id="DBIMI-GUID-694B2052-0A04-4A76-9A2E-73334A3CA4ED" class="sect4">Adding Databases to an Enterprise Domain</h4>
                  <div>
                     <div class="section">
                        <p>A member of the Domain Admins group can add databases to the enterprise domain. You can add databases to an enterprise domain from the Configure Domain page. You can also add databases from the Create Domain page, if you are creating a new enterprise domain.</p>
                        <div class="infoboxnote" id="GUID-694B2052-0A04-4A76-9A2E-73334A3CA4ED__GUID-FE0BB98B-8CE0-4CE1-A602-8FE117CDCBD7">
                           <p class="notep1">Note:</p>
                           <p>The following restrictions apply to adding databases to an enterprise domain:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>You can add a database to an enterprise domain only if both the database and the enterprise domain exist<span class="italic"> </span>in the same<span class="italic"> </span>realm.
                                 </p>
                              </li>
                              <li>
                                 <p>A database cannot be added as a member of two different enterprise domains.</p>
                              </li>
                           </ul>
                        </div>
                        <p>To add databases to an enterprise domain:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Log in to Enterprise Manager Cloud Control, as an administrative user.</span></li>
                        <li class="stepexpand"><span>To navigate to your database, select <span class="bold">Databases</span> from the <span class="bold">Targets</span> menu.</span></li>
                        <li class="stepexpand"><span>Click the database name in the list that appears. The database page appears.</span></li>
                        <li class="stepexpand"><span>Under the <span class="bold">Administration</span> menu, select<span class="bold"> Security, Enterprise User Security.</span> The Oracle Internet Directory Login page appears.</span></li>
                        <li class="stepexpand"><span>Enter the distinguished name (DN) of a directory user who can administer enterprise users in the <span class="bold">User</span> field. Enter the user password in the <span class="bold">Password</span> field. Click <span class="bold">Login</span>.</span><div>
                              <p>The Enterprise User Security page appears.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Click <span class="bold">Manage Enterprise Domains</span>.</span><div>
                              <p>The Manage Enterprise Domains page appears. This page lists the enterprise domains in the identity management realm.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Select the enterprise domain that you wish to configure. Click <span class="bold">Configure</span>.</span><div>
                              <p>The Configure Domain page appears. </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Make sure that the Databases tab is selected. Click <span class="bold">Add</span> to add new databases to the enterprise domain.</span><div>
                              <p>The Select Databases page appears. A list of databases, that are registered with the identity management realm, is displayed. You can add a database only if it is not part of any other enterprise domain.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Select the databases to add. Click <span class="bold">Select</span>. </span></li>
                        <li class="stepexpand"><span>Click <span class="bold">OK</span> in the Configure Domain page.</span></li>
                     </ol>
                  </div>
               </div><a id="DBIMI291"></a><div class="props_rev_3"><a id="GUID-8386D563-E7B0-41F4-B052-7726523205C7" name="GUID-8386D563-E7B0-41F4-B052-7726523205C7"></a><h4 id="DBIMI-GUID-8386D563-E7B0-41F4-B052-7726523205C7" class="sect4">Creating User-Schema Mappings for an Enterprise Domain</h4>
                  <div>
                     <div class="section">
                        <p>A user-schema mapping maps an enterprise user to a global schema in the database. When the enterprise user logs in to the database, he is connected to the mapped schema, by default.</p>
                        <p>When you create a user-schema mapping for an enterprise domain, it applies to all databases in the domain. However, for the mapping to be effective in a database, that database must have a schema with the name used in the mapping.</p>
                        <p>To create a user-schema mapping for an enterprise domain:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Log in to Enterprise Manager Cloud Control, as an administrative user.</span></li>
                        <li class="stepexpand"><span>To navigate to your database, select <span class="bold">Databases</span> from the <span class="bold">Targets</span> menu.</span></li>
                        <li class="stepexpand"><span>Click the database name in the list that appears. The database page appears.</span></li>
                        <li class="stepexpand"><span>Under the <span class="bold">Administration</span> menu, select<span class="bold"> Security, Enterprise User Security.</span> The Oracle Internet Directory Login page appears.</span></li>
                        <li class="stepexpand"><span>Enter the distinguished name (DN) of a directory user who can administer enterprise users in the <span class="bold">User</span> field. Enter the user password in the <span class="bold">Password</span> field. Click <span class="bold">Login</span>.</span><div>
                              <p>The Enterprise User Security page appears.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Click <span class="bold">Manage Enterprise Domains</span>.</span><div>
                              <p>The Manage Enterprise Domains page appears. This page lists the enterprise domains in the identity management realm.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Select the enterprise domain that you wish to configure. Click <span class="bold">Configure</span>.</span><div>
                              <p>The Configure Domain page appears. </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Click the <span class="bold">User-Schema Mappings</span> tab. All user-schema maps created at the domain level are displayed. User-schema maps created at database levels are not displayed here.</span></li>
                        <li class="stepexpand"><span>Click <span class="bold">Create</span> to create a new user-schema mapping for the domain.</span><div>
                              <p>The Create Mapping page is displayed.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Under the From section, select <span class="bold">Users</span> to map an individual enterprise user to a database schema. Alternatively, select <span class="bold">Subtree</span> to map a directory subtree containing multiple users. You can use the Search icon to search for the appropriate user or subtree.</span></li>
                        <li class="stepexpand"><span>Under the To section, enter the name of the <span class="bold">Schema</span> to which the user or subtree should be mapped.</span></li>
                        <li class="stepexpand"><span>Click <span class="bold">Continue</span> in the Create Mapping page.</span></li>
                        <li class="stepexpand"><span>Click <span class="bold">OK</span> in the Configure Domain page.</span></li>
                     </ol>
                  </div>
               </div><a id="DBIMI292"></a><div class="props_rev_3"><a id="GUID-00E6222A-4690-475F-9814-C02848C48003" name="GUID-00E6222A-4690-475F-9814-C02848C48003"></a><h4 id="DBIMI-GUID-00E6222A-4690-475F-9814-C02848C48003" class="sect4">Configuring Enterprise Roles</h4>
                  <div>
                     <div class="section">
                        <p>An <a href="glossary.html#GUID-54BA3120-94F0-4B48-8A39-7B81DA675240"><span class="xrefglossterm">enterprise domain</span></a> within an identity management realm can contain multiple <a href="glossary.html#GUID-2038C643-C389-452E-9317-2105E39909A8"><span class="xrefglossterm">enterprise role</span></a><span class="bold">s</span>. An enterprise role is a set of Oracle role-based <a href="glossary.html#GUID-4484B1EF-5BBA-4AFF-BA8E-88844A58C2B4"><span class="xrefglossterm">authorization</span></a><span class="bold">s</span> across one or more databases in an enterprise domain.
                        </p>
                        <p>Enterprise roles allow you to group global roles from different databases that are part of the enterprise domain. Enterprise roles can be assigned to enterprise users.</p>
                        <p>To create enterprise roles:</p>
                        <ol>
                           <li>
                              <p>Log in to Enterprise Manager Cloud Control, as an administrative user.</p>
                           </li>
                           <li>
                              <p>To navigate to your database, select <span class="bold">Databases</span> from the <span class="bold">Targets</span> menu.
                              </p>
                           </li>
                           <li>
                              <p>Click the database name in the list that appears. The database page appears.</p>
                           </li>
                           <li>
                              <p>Under the <span class="bold">Administration</span> menu, select<span class="bold"> Security, Enterprise User Security.</span> The Oracle Internet Directory Login page appears.
                              </p>
                           </li>
                           <li>
                              <p>Enter the distinguished name (DN) of a directory user who can administer enterprise users in the <span class="bold">User</span> field. Enter the user password in the <span class="bold">Password</span> field. Click <span class="bold">Login</span>.
                              </p>
                              <p>The Enterprise User Security page appears.</p>
                           </li>
                           <li>
                              <p>Click <span class="bold">Manage Enterprise Domains</span>.
                              </p>
                              <p>The Manage Enterprise Domains page appears. This page lists the enterprise domains in the identity management realm.</p>
                           </li>
                           <li>
                              <p>Select the enterprise domain that you wish to configure. Click <span class="bold">Configure</span>.
                              </p>
                              <p>The Configure Domain page appears. </p>
                           </li>
                           <li>
                              <p>Click the <span class="bold">Enterprise Roles</span> tab. 
                              </p>
                           </li>
                           <li>
                              <p>Click <span class="bold">Create</span> to create a new enterprise role.
                              </p>
                              <p>The <span class="bold">Create Enterprise Role</span> page appears.
                              </p>
                           </li>
                           <li>
                              <p>Enter a name for the enterprise role in the <span class="bold">Name</span> field. Click <span class="bold">Continue</span>.
                              </p>
                              <p>The new role is displayed in the Configure Domain page. </p>
                           </li>
                        </ol>
                        <p>Next, you can configure the enterprise role that you just created. Configuring an enterprise role includes adding database global roles to the enterprise role and assigning the enterprise role to enterprise users or groups. </p>
                        <p>To add database global roles to the enterprise role:</p>
                        <ol>
                           <li>
                              <p>Select the enterprise role that you just created in the Configure Domain page. Click <span class="bold">Edit</span>.
                              </p>
                              <p> The Edit Enterprise Role page is displayed.</p>
                           </li>
                           <li id="GUID-00E6222A-4690-475F-9814-C02848C48003__CACHGGCE">
                              <p>Make sure that the <span class="bold">DB Global Roles</span> tab is selected. Click <span class="bold">Add</span> to add global roles from databases that are part of the enterprise domain.
                              </p>
                              <p>The Search and Select Database Global Roles page appears. </p>
                           </li>
                           <li>
                              <p>Select the <span class="bold">Database</span> that contains the global roles you wish to add. Log in to the selected database by supplying a <span class="bold">User Name</span> and <span class="bold">Password</span>. Click <span class="bold">Go</span>.
                              </p>
                           </li>
                           <li id="GUID-00E6222A-4690-475F-9814-C02848C48003__CACGBEDJ">
                              <p>Select the global roles to add. Click <span class="bold">Select</span>.
                              </p>
                              <p>The selected roles appear in the Edit Enterprise Role page. </p>
                           </li>
                           <li>
                              <p>Repeat Steps 2 to 4 for the other databases. </p>
                           </li>
                        </ol>
                        <p>You can now assign the enterprise role to enterprise users or groups. </p>
                        <p>To assign the enterprise role to enterprise users or groups:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Click the <span class="bold">Grantees</span> tab in the Edit Enterprise Role page.</span></li>
                        <li class="stepexpand"><span>Click <span class="bold">Add</span>.</span><div>
                              <p>The Select Users or Groups page is displayed.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Select the <span class="bold">Search Base</span> or the subtree that contains the user or group. Select User under <span class="bold">View</span> if you are granting the enterprise role to a user. Select Group under <span class="bold">View</span>, if you are granting the role to a group. Optionally, enter the common name of the user or group in the <span class="bold">Name</span> field. Click <span class="bold">Go</span>.</span></li>
                        <li class="stepexpand"><span>Select the users or groups to be granted the enterprise role. Click <span class="bold">Select</span>.</span></li>
                        <li class="stepexpand"><span>Click <span class="bold">Continue</span> in the Edit Enterprise Role page.</span></li>
                        <li class="stepexpand"><span>Click <span class="bold">OK</span> in the Configure Domain page.</span></li>
                     </ol>
                  </div>
               </div><a id="DBIMI293"></a><div class="props_rev_3"><a id="GUID-8DA40CE7-514C-4200-9A9F-93D1DB46A93E" name="GUID-8DA40CE7-514C-4200-9A9F-93D1DB46A93E"></a><h4 id="DBIMI-GUID-8DA40CE7-514C-4200-9A9F-93D1DB46A93E" class="sect4">Configuring Proxy Permissions</h4>
                  <div>
                     <div class="section">
                        <p>Proxy permissions are created at the enterprise domain level. Proxy permissions allow an enterprise user to proxy a local database user, which means that the enterprise user can log in to the database as the local database user. You can grant proxy permissions to individual enterprise users or groups. Proxy permissions are especially useful for middle tier applications that operate across multiple databases as enterprise users. </p>
                        <p>To create a proxy permission for an enterprise domain:</p>
                        <ol>
                           <li>
                              <p>Log in to Enterprise Manager Cloud Control, as an administrative user.</p>
                           </li>
                           <li>
                              <p>To navigate to your database, select <span class="bold">Databases</span> from the <span class="bold">Targets</span> menu.
                              </p>
                           </li>
                           <li>
                              <p>Click the database name in the list that appears. The database page appears.</p>
                           </li>
                           <li>
                              <p>Under the <span class="bold">Administration</span> menu, select<span class="bold"> Security, Enterprise User Security.</span> The Oracle Internet Directory Login page appears.
                              </p>
                           </li>
                           <li>
                              <p>Enter the distinguished name (DN) of a directory user who can administer enterprise users in the <span class="bold">User</span> field. Enter the user password in the <span class="bold">Password</span> field. Click <span class="bold">Login</span>.
                              </p>
                              <p>The Enterprise User Security page appears.</p>
                           </li>
                           <li>
                              <p>Click <span class="bold">Manage Enterprise Domains</span>.
                              </p>
                              <p>The Manage Enterprise Domains page appears. This page lists the enterprise domains in the identity management realm.</p>
                           </li>
                           <li>
                              <p>Select the enterprise domain that you wish to configure. Click <span class="bold">Configure</span>.
                              </p>
                              <p>The Configure Domain page appears. </p>
                           </li>
                           <li>
                              <p>Click the <span class="bold">Proxy Permissions</span> tab. 
                              </p>
                           </li>
                           <li>
                              <p>Click <span class="bold">Create</span> to create a new proxy permission.
                              </p>
                              <p>The <span class="bold">Create Proxy Permission</span> page appears.
                              </p>
                           </li>
                           <li>
                              <p>Enter the name for the proxy permission in the <span class="bold">Name</span> field. Click <span class="bold">Continue</span>.
                              </p>
                              <p>The proxy permission appears in the Configure Domain page. </p>
                           </li>
                        </ol>
                        <p>Next, you need to add target database users for the permission. You also need to grant the permission to enterprise users or groups, who can then proxy the target database users. </p>
                        <p>To add target database users for the proxy permission:</p>
                        <ol>
                           <li>
                              <p>Select the proxy permission that you just created in the Configure Domain page. Click <span class="bold">Edit</span>.
                              </p>
                              <p>The Edit Proxy Permissions page appears.</p>
                           </li>
                           <li>
                              <p>Ensure that the <span class="bold">Target DB Users</span> tab is selected. Click <span class="bold">Add</span>.
                              </p>
                              <p>The Search and Select window appears. A list of all database users that have been altered to allow enterprise user proxy is displayed.</p>
                           </li>
                           <li>
                              <p>Select the target database users that you wish to proxy. Click <span class="bold">Select</span>.
                              </p>
                           </li>
                        </ol>
                        <p>You can now grant the proxy permission to enterprise users or groups. </p>
                        <p>To grant the proxy permission to an enterprise user or group:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Click the <span class="bold">Grantees</span> tab in the Edit Proxy Permission page.</span></li>
                        <li class="stepexpand"><span>Click <span class="bold">Add</span>.</span><div>
                              <p> The Select Users or Groups window appears.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Select the <span class="bold">Search Base</span> or the subtree that contains the user or group. Select User under <span class="bold">View</span> if you are granting the proxy permission to a user. Select Group under <span class="bold">View</span>, if you are granting the proxy permission to a group. Optionally, enter the common name of the user or group in the <span class="bold">Name</span> field. Click <span class="bold">Go</span>.</span></li>
                        <li class="stepexpand"><span>Select the Users or Groups to grant them the proxy permission. Click <span class="bold">Select</span>.</span></li>
                        <li class="stepexpand"><span>Click <span class="bold">Continue</span> in the Edit Proxy Permission page.</span></li>
                        <li class="stepexpand"><span>Click <span class="bold">OK</span> in the Configure Domain page.</span></li>
                     </ol>
                  </div>
               </div><a id="DBIMI294"></a><div class="props_rev_3"><a id="GUID-1338F679-CC93-4A46-9676-47248F110393" name="GUID-1338F679-CC93-4A46-9676-47248F110393"></a><h4 id="DBIMI-GUID-1338F679-CC93-4A46-9676-47248F110393" class="sect4">Configuring User Authentication Types and Enabling Current User Database Links</h4>
                  <div>
                     <div class="section">
                        <p>Enterprise users can be authenticated using password authentication, SSL authentication, or Kerberos authentication. You can set the authentication modes that are allowed for an enterprise domain using Enterprise Manager. You can also enable current user database links for databases in the enterprise domain. These links enable databases to trust each other to authenticate users.</p>
                        <p>To configure user authentication types and enable current user database links:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Log in to Enterprise Manager Cloud Control, as an administrative user.</span></li>
                        <li class="stepexpand"><span>To navigate to your database, select <span class="bold">Databases</span> from the <span class="bold">Targets</span> menu.</span></li>
                        <li class="stepexpand"><span>Click the database name in the list that appears. The database page appears.</span></li>
                        <li class="stepexpand"><span>Under the <span class="bold">Administration</span> menu, select<span class="bold"> Security, Enterprise User Security.</span> The Oracle Internet Directory Login page appears.</span></li>
                        <li class="stepexpand"><span>Enter the distinguished name (DN) of a directory user who can administer enterprise users in the <span class="bold">User</span> field. Enter the user password in the <span class="bold">Password</span> field. Click <span class="bold">Login</span>.</span><div>
                              <p>The Enterprise User Security page appears.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Click <span class="bold">Manage Enterprise Domains</span>.</span><div>
                              <p>The Manage Enterprise Domains page appears. This page lists the enterprise domains in the identity management realm.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Select the enterprise domain that you wish to configure. Click <span class="bold">Configure</span>.</span><div>
                              <p>The Configure Domain page appears. </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Click the <span class="bold">Configuration</span> tab. </span></li>
                        <li class="stepexpand"><span>Under User Authentication Types Accepted, select the authentication types that you want to allow.</span></li>
                        <li class="stepexpand"><span>If you wish to enable current user database links for the domain, then select <span class="bold">Enable Current User Database Links in this domain</span>.</span></li>
                        <li class="stepexpand"><span>Click <span class="bold">OK</span>.</span></li>
                     </ol>
                  </div>
               </div><a id="DBIMI295"></a><div class="props_rev_3"><a id="GUID-0738C81F-B1D1-4C63-B59C-1607F4EB1DC6" name="GUID-0738C81F-B1D1-4C63-B59C-1607F4EB1DC6"></a><h4 id="DBIMI-GUID-0738C81F-B1D1-4C63-B59C-1607F4EB1DC6" class="sect4">Configuring Domain Administrators</h4>
                  <div>
                     <div class="section">
                        <p>Domain administrators have full privileges in the domain. They can add or remove databases to the domain, create user-schema mappings, manage proxy permissions and modify domain configuration settings. You can add or remove domain administrators from Enterprise Manager.</p>
                        <p>To add an enterprise domain administrator:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Log in to Enterprise Manager Cloud Control, as an administrative user.</span></li>
                        <li class="stepexpand"><span>To navigate to your database, select <span class="bold">Databases</span> from the <span class="bold">Targets</span> menu.</span></li>
                        <li class="stepexpand"><span>Click the database name in the list that appears. The database page appears.</span></li>
                        <li class="stepexpand"><span>Under the <span class="bold">Administration</span> menu, select<span class="bold"> Security, Enterprise User Security.</span> The Oracle Internet Directory Login page appears.</span></li>
                        <li class="stepexpand"><span>Enter the distinguished name (DN) of a directory user who can administer enterprise users in the <span class="bold">User</span> field. Enter the user password in the <span class="bold">Password</span> field. Click <span class="bold">Login</span>.</span><div>
                              <p>The Enterprise User Security page appears.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Click <span class="bold">Manage Enterprise Domains</span>.</span><div>
                              <p>The Manage Enterprise Domains page appears. This page lists the enterprise domains in the identity management realm.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Select the enterprise domain that you wish to configure. Click <span class="bold">Configure</span>.</span><div>
                              <p>The Configure Domain page appears. </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Click the <span class="bold">Administrators</span> tab. A list of administrators for the enterprise domain is displayed.</span></li>
                        <li class="stepexpand"><span>Click <span class="bold">Add</span> to add an administrator.</span><div>
                              <p>The Select Users window appears. </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Select the <span class="bold">Search Base</span>. The Search Base is the directory subtree that you wish to search for locating the user. Click <span class="bold">Go</span>.</span></li>
                        <li class="stepexpand"><span>Select the user that you wish to add as an administrator. Click <span class="bold">Select</span>.</span><div>
                              <p>The user is added in the Configure Domain page. </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>If you want the user to be able to add or remove other administrators, then select the <span class="bold">Admin Group Owner</span> check box corresponding to the added user.</span></li>
                        <li class="stepexpand"><span>Click <span class="bold">OK</span>.</span></li>
                     </ol>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='00556.aq-operations-using-pl-sql.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="These topics describes the Oracle Database Advanced Queuing (AQ) PL/SQL operational interface.">
      <meta name="description" content="These topics describes the Oracle Database Advanced Queuing (AQ) PL/SQL operational interface.">
      <title>Oracle Database Advanced Queuing Operations Using PL/SQL</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Advanced Queuing User's Guide ">
      <meta property="og:description" content="These topics describes the Oracle Database Advanced Queuing (AQ) PL/SQL operational interface.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Advanced Queuing User's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="oracle-database-advanced-queuing.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-12T10:53:09-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96511-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="aq-messaging-gateway-views.html" title="Previous" type="text/html">
      <link rel="next" href="jms-introduction.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle Database Advanced Queuing">
    <meta name="dcterms.isVersionOf" content="ADQUE">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="aq-messaging-gateway-views.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="jms-introduction.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Advanced Queuing User's Guide </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Oracle Database Advanced Queuing Operations Using PL/SQL</li>
            </ol>
            <a id="GUID-B302CBDB-0B75-4BF6-B705-5DC3EA26E605" name="GUID-B302CBDB-0B75-4BF6-B705-5DC3EA26E605"></a><a id="ADQUE1000"></a>
            
            <h2 id="ADQUE-GUID-B302CBDB-0B75-4BF6-B705-5DC3EA26E605" class="sect2"><span class="enumeration_chapter">10 </span> Oracle Database Advanced Queuing Operations Using PL/SQL
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>These topics describes the Oracle Database Advanced Queuing (AQ) PL/SQL operational interface.</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="aq-operations-using-pl-sql.html#GUID-5A2D60AC-21B1-4F6E-BA1E-78071CA98FD4" title="For secure queues, you must specify the sender_id in the messages_properties parameter.">Using Secure Queues</a></p>
                  </li>
                  <li>
                     <p><a href="aq-operations-using-pl-sql.html#GUID-1CEA86B9-4FDF-445F-93C1-67E21C033D35" title="This procedure adds a message to the specified queue.">Enqueuing Messages</a></p>
                  </li>
                  <li>
                     <p><a href="aq-operations-using-pl-sql.html#GUID-92FCE63B-7713-443A-84A3-9F543F0A8819" title="Use the ENQUEUE_ARRAY function to enqueue an array of payloads using a corresponding array of message properties.">Enqueuing an Array of Messages</a></p>
                  </li>
                  <li>
                     <p><a href="aq-operations-using-pl-sql.html#GUID-B5606574-8C70-41AE-A362-A753033C3A70" title="This procedure specifies which queue or queues to monitor.">Listening to One or More Queues</a></p>
                  </li>
                  <li>
                     <p><a href="aq-operations-using-pl-sql.html#GUID-5F84DA85-7D5B-4EEC-9785-80877F3FCA54" title="This procedure dequeues a message from the specified queue.">Dequeuing Messages</a></p>
                  </li>
                  <li>
                     <p><a href="aq-operations-using-pl-sql.html#GUID-0B018200-824D-458D-98E7-7445AF8B628F" title="Use the DEQUEUE_ARRAY function to dequeue an array of payloads and a corresponding array of message properties.">Dequeuing an Array of Messages</a></p>
                  </li>
                  <li>
                     <p><a href="aq-operations-using-pl-sql.html#GUID-DBBE096A-EEA0-4E1E-AC3F-6E1B492D1FB5" title="This procedure registers an e-mail address, user-defined PL/SQL procedure, or HTTP URL for message notification.">Registering for Notification</a></p>
                  </li>
                  <li>
                     <p><a href="aq-operations-using-pl-sql.html#GUID-4C80C7E8-DAD2-49CA-9294-895581A64378" title="This procedure posts to a list of anonymous subscriptions, allowing all clients who are registered for the subscriptions to get notifications of persistent messages.">Posting for Subscriber Notification</a></p>
                  </li>
                  <li>
                     <p><a href="aq-operations-using-pl-sql.html#GUID-E4F131CA-964F-4DF7-86EE-FB37078DD157" title="This procedure creates an entry for an Oracle Database Advanced Queuing agent in the LDAP server.">Adding an Agent to the LDAP Server</a></p>
                  </li>
                  <li>
                     <p><a href="aq-operations-using-pl-sql.html#GUID-E6B7E2DC-9FD6-4EA8-8A92-D9929B9EA1B7" title="This procedure removes the entry for an Oracle Database Advanced Queuing agent from the LDAP server.">Removing an Agent from the LDAP Server</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-B302CBDB-0B75-4BF6-B705-5DC3EA26E605__GUID-28DFCBA4-B8D5-4261-91C3-8FA46FFA1784">
                  <p class="notep1">See Also:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="aq-program-interfaces.html#GUID-9A4C8FD4-235D-4F90-B757-3E36B2E5CF76" title="These topics describe the various language options and elements you must work with and issues to consider in preparing your Oracle Database Advanced Queuing (AQ) application environment.">  Oracle Database Advanced Queuing: Programmatic Interfaces</a> for a list of available functions in each programmatic interface
                        </p>
                     </li>
                     <li>
                        <p>"DBMS_AQ" in <a href="../arpls/DBMS_AQ.html#ARPLS004" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information on the PL/SQL interface
                        </p>
                     </li>
                     <li>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adque&amp;id=JAJMS" target="_blank"><span class="italic">Oracle Database Advanced Queuing Java API Reference</span></a> for more information on the Java interface
                        </p>
                     </li>
                     <li>
                        <p>"More OCI Relational Functions" in <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adque&amp;id=LNOCI160" target="_blank"><span class="italic">Oracle Call Interface Programmer's Guide</span></a></p>
                     </li>
                     <li>
                        <p>"OCI Programming Advanced Topics" in <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adque&amp;id=LNOCI090" target="_blank"><span class="italic">Oracle Call Interface Programmer's Guide</span></a> for more information on the <a href="glossary.html#GUID-4C11A79C-E65E-4B48-8A30-E628E322B025"><span class="xrefglossterm">Oracle Call Interface</span></a> (OCI)
                        </p>
                     </li>
                  </ul>
               </div>
            </div><a id="ADQUE2812"></a><div class="props_rev_3"><a id="GUID-5A2D60AC-21B1-4F6E-BA1E-78071CA98FD4" name="GUID-5A2D60AC-21B1-4F6E-BA1E-78071CA98FD4"></a><h3 id="ADQUE-GUID-5A2D60AC-21B1-4F6E-BA1E-78071CA98FD4" class="sect3"><span class="enumeration_section">10.1 </span>Using Secure Queues
               </h3>
               <div>
                  <p>For secure queues, you must specify the <code class="codeph">sender_id</code> in the <code class="codeph">messages_properties</code> parameter. 
                  </p>
                  <p>See "MESSAGE_PROPERTIES_T Type" in <a href="../arpls/advanced-queuing-AQ-types.html#ARPLS71690" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information about <code class="codeph">sender_id</code>.
                  </p>
                  <p>When you use secure queues, the following are required:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>You must have created a valid Oracle Database Advanced Queuing agent using <code class="codeph">DBMS_AQADM.CREATE_AQ_AGENT</code>.
                        </p>
                     </li>
                     <li>
                        <p>You must map <code class="codeph">sender_id</code> to a database user with enqueue privileges on the secure queue. Use <code class="codeph">DBMS_AQADM.ENABLE_DB_ACCESS</code> to do this.
                        </p>
                        <div class="infoboxnotealso" id="GUID-5A2D60AC-21B1-4F6E-BA1E-78071CA98FD4__GUID-D2FAC091-B405-4A6E-AEF0-2B80819A8CF1">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="aq-administrative-interface.html#GUID-ECF60C92-C8D6-4027-BE63-63C3D92872BD" title="DBMS_AQADM.CREATE_AQ_AGENT registers an agent for Oracle Database Advanced Queuing Internet access using HTTP protocols.">Creating an Oracle Database Advanced Queuing Agent</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="aq-administrative-interface.html#GUID-8CD0B0E9-37F8-4B70-95BD-75DE22F92586" title="DBMS_AQADM.ENABLE_DB_ACCESS grants an Oracle Database Advanced Queuing Internet agent the privileges of a specific database user. The agent should have been previously created using the CREATE_AQ_AGENT procedure.">Enabling Database Access</a>"</span></p>
                              </li>
                           </ul>
                        </div>
                     </li>
                  </ul>
               </div>
            </div><a id="ADQUE2814"></a><a id="ADQUE2815"></a><a id="ADQUE2818"></a><a id="ADQUE2821"></a><a id="ADQUE2823"></a><a id="ADQUE2826"></a><a id="ADQUE2828"></a><a id="ADQUE2816"></a><a id="ADQUE2817"></a><a id="ADQUE2819"></a><a id="ADQUE2820"></a><a id="ADQUE2822"></a><a id="ADQUE2824"></a><a id="ADQUE2825"></a><a id="ADQUE2827"></a><a id="ADQUE2829"></a><a id="ADQUE2830"></a><a id="ADQUE2813"></a><div class="props_rev_3"><a id="GUID-1CEA86B9-4FDF-445F-93C1-67E21C033D35" name="GUID-1CEA86B9-4FDF-445F-93C1-67E21C033D35"></a><h3 id="ADQUE-GUID-1CEA86B9-4FDF-445F-93C1-67E21C033D35" class="sect3"><span class="enumeration_section">10.2 </span>Enqueuing Messages
               </h3>
               <div>
                  <p>This procedure adds a message to the specified queue.</p>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_AQ.ENQUEUE(
   queue_name          IN      VARCHAR2,
   enqueue_options     IN      enqueue_options_t,
   message_properties  IN      message_properties_t,
   payload             IN      "<span class="italic">type_name</span>",
   msgid               OUT     RAW);
</pre><p>It is not possible to update the <a href="glossary.html#GUID-2028AECF-DB3E-40E2-99B6-A35674C08038"><span class="xrefglossterm">message</span></a> payload after a message has been enqueued. If you want to change the message payload, then you must dequeue the message and enqueue a new message.
                     </p>
                     <p>To store a payload of type <code class="codeph">RAW</code>, Oracle Database Advanced Queuing creates a <a href="glossary.html#GUID-45894F1F-4871-4A00-9171-2743821BAD3A"><span class="xrefglossterm">queue table</span></a> with <code class="codeph">LOB</code> column as the payload repository. The maximum size of the payload is determined by which programmatic interface you use to access Oracle Database Advanced Queuing. For PL/SQL, Java and precompilers the limit is 32K; for the OCI the limit is 4G.
                     </p>
                     <p>If a message is enqueued to a multiconsumer queue with no <a href="glossary.html#GUID-F50CE039-717A-4D4C-B4D9-62EB3191885A"><span class="xrefglossterm">recipient</span></a> and the <a href="glossary.html#GUID-583DEF67-C9BC-4B83-B8DC-2375A5BE08BB"><span class="xrefglossterm">queue</span></a> has no subscribers (or rule-based subscribers that match this message), then Oracle error ORA 24033 is raised. This is a warning that the message will be discarded because there are no recipients or subscribers to whom it can be delivered.
                     </p>
                     <p>If several messages are enqueued in the same second, then they all have the same <code class="codeph">enq_time</code>. In this case the order in which messages are dequeued depends on <code class="codeph">step_no</code>, a variable that is monotonically increasing for each message that has the same <code class="codeph">enq_time</code>. There is no situation when both <code class="codeph">enq_time</code> and <code class="codeph">step_no</code> are the same for two messages enqueued in the same session.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-1CEA86B9-4FDF-445F-93C1-67E21C033D35__CHDGBIHI">
                     <p class="subhead2" id="GUID-1CEA86B9-4FDF-445F-93C1-67E21C033D35__GUID-76732F12-5ED0-4BFB-8C7C-C41774B30189">Enqueue Options</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The <code class="codeph">enqueue_options</code> parameter specifies the options available for the enqueue operation. It has the following attributes:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a id="d61372e491" class="indexterm-anchor"></a><a id="d61372e495" class="indexterm-anchor"></a><code class="codeph">visibility</code></p>
                           <p>The <code class="codeph">visibility</code> attribute specifies the transactional behavior of the enqueue request. <code class="codeph">ON_COMMIT</code> (the default) makes the enqueue is part of the current transaction. <code class="codeph">IMMEDIATE</code> makes the enqueue operation an autonomous transaction which commits at the end of the operation. 
                           </p>
                           <p>Do not use the <code class="codeph">IMMEDIATE</code> option when you want to use <a href="glossary.html#GUID-E0E22C6A-42AE-41CF-A021-5CB63BABB48E"><span class="xrefglossterm">LOB</span></a> locators. LOB locators are valid only for the duration of the transaction. Your locator will not be valid, because the <code class="codeph">immediate</code> option automatically commits the transaction.
                           </p>
                           <p>You must set the <code class="codeph">visibility</code> attribute to <code class="codeph">IMMEDIATE</code> to use buffered messaging.
                           </p>
                        </li>
                        <li>
                           <p><a id="d61372e534" class="indexterm-anchor"></a><code class="codeph">relative_msgid</code></p>
                           <p>The <code class="codeph">relative_msgid</code> attribute specifies the message identifier of the message referenced in the sequence deviation operation. This parameter is ignored unless <code class="codeph">sequence_deviation</code> is specified with the <code class="codeph">BEFORE</code> attribute.
                           </p>
                        </li>
                        <li>
                           <p><a id="d61372e553" class="indexterm-anchor"></a><code class="codeph">sequence_deviation</code></p>
                           <p>The <code class="codeph">sequence_deviation</code> attribute specifies when the message should be dequeued, relative to other messages already in the queue. <code class="codeph">BEFORE</code> puts the message ahead of the message specified by <code class="codeph">relative_msgid</code>. <code class="codeph">TOP</code> puts the message ahead of any other messages.
                           </p>
                           <p>Specifying <code class="codeph">sequence_deviation</code> for a message introduces some restrictions for the delay and priority values that can be specified for this message. The delay of this message must be less than or equal to the delay of the message before which this message is to be enqueued. The priority of this message must be greater than or equal to the priority of the message before which this message is to be enqueued.
                           </p>
                           <div class="infoboxnote" id="GUID-1CEA86B9-4FDF-445F-93C1-67E21C033D35__GUID-392936A6-CAC3-4107-8ADD-DCD2DA03A3E7">
                              <p class="notep1">Note:</p>
                              <p>The <code class="codeph">sequence_deviation</code> attribute has no effect in releases prior to Oracle Database Advanced Queuing 10<span class="italic">g</span> Release 1 (10.1) if <code class="codeph">message_grouping</code> is set to <code class="codeph">TRANSACTIONAL</code>.
                              </p>
                              <p>The sequence deviation feature is deprecated in Oracle Database Advanced Queuing 10<span class="italic">g</span> Release 2 (10.2).
                              </p>
                           </div>
                        </li>
                        <li>
                           <p><code class="codeph">transformation</code></p>
                           <p>The <code class="codeph">transformation</code> attribute specifies a transformation that will be applied before enqueuing the message. The return type of the transformation function must match the type of the queue. 
                           </p>
                        </li>
                        <li>
                           <p><a id="d61372e609" class="indexterm-anchor"></a><code class="codeph">delivery_mode</code></p>
                           <p>If the <code class="codeph">delivery_mode</code> attribute is the default <code class="codeph">PERSISTENT</code>, then the message is enqueued as a persistent message. If it is set to <code class="codeph">BUFFERED</code>, then the message is enqueued as an buffered message. Null values are not allowed.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-1CEA86B9-4FDF-445F-93C1-67E21C033D35__CHDEHJBH">
                     <p class="subhead2" id="GUID-1CEA86B9-4FDF-445F-93C1-67E21C033D35__GUID-BE7741DD-0DA3-4539-B78A-88875F18922E">Message Properties</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The <code class="codeph">message_properties</code> parameter contains the information that Oracle Database Advanced Queuing uses to manage individual messages. It has the following attributes:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a id="d61372e638" class="indexterm-anchor"></a><code class="codeph">priority</code></p>
                           <p>The <code class="codeph">priority</code> attribute specifies the priority of the message. It can be any number, including negative numbers. A smaller number indicates higher priority. 
                           </p>
                        </li>
                        <li>
                           <p><a id="d61372e651" class="indexterm-anchor"></a><code class="codeph">delay</code></p>
                           <p>The <code class="codeph">delay</code> attribute specifies the number of seconds during which a message is in the <code class="codeph">WAITING</code> state. After this number of seconds, the message is in the <code class="codeph">READY</code> state and available for dequeuing. If you specify <code class="codeph">NO_DELAY</code>, then the message is available for immediate dequeuing. Dequeuing by <code class="codeph">msgid</code> overrides the <code class="codeph">delay</code> specification. 
                           </p>
                           <div class="infoboxnote" id="GUID-1CEA86B9-4FDF-445F-93C1-67E21C033D35__GUID-CED76F26-467F-41C8-A970-CF3312DE1EF6">
                              <p class="notep1">Note:</p>
                              <p>Delay is not supported with buffered messaging.</p>
                           </div>
                        </li>
                        <li>
                           <p><a id="d61372e683" class="indexterm-anchor"></a><code class="codeph">expiration</code></p>
                           <p>The <code class="codeph">expiration</code> attribute specifies the number of seconds during which the message is available for dequeuing, starting from when the message reaches the <code class="codeph">READY</code> state. If the message is not dequeued before it expires, then it is moved to the exception queue in the <code class="codeph">EXPIRED</code> state. If you specify <code class="codeph">NEVER</code>, then the message does not expire.
                           </p>
                           <div class="infoboxnote" id="GUID-1CEA86B9-4FDF-445F-93C1-67E21C033D35__GUID-6A23C691-6D72-479E-BA72-D8A16990074D">
                              <p class="notep1">Note:</p>
                              <p>Message delay and expiration are enforced by the queue monitor (<code class="codeph">QMN</code>) background processes. You must start the QMN processes for the database if you intend to use the delay and expiration features of Oracle Database Advanced Queuing.
                              </p>
                           </div>
                        </li>
                        <li>
                           <p><a id="d61372e711" class="indexterm-anchor"></a><a id="d61372e715" class="indexterm-anchor"></a><code class="codeph">correlation</code></p>
                           <p>The <code class="codeph">correlation</code> attribute is an identifier supplied by the producer of the message at enqueue time.
                           </p>
                        </li>
                        <li>
                           <p><a id="d61372e728" class="indexterm-anchor"></a><code class="codeph">attempts</code></p>
                           <p>The <code class="codeph">attemps</code> attribute specifies the number of attempts that have been made to dequeue the message. This parameter cannot be set at enqueue time.
                           </p>
                        </li>
                        <li>
                           <p><a id="d61372e741" class="indexterm-anchor"></a><code class="codeph">recipient_list</code></p>
                           <p>The <code class="codeph">recipient_list</code> parameter is valid only for queues that allow multiple consumers. The default recipients are the queue subscribers. 
                           </p>
                        </li>
                        <li>
                           <p><a id="d61372e754" class="indexterm-anchor"></a><code class="codeph">exception_queue</code></p>
                           <p>The <code class="codeph">exception_queue</code> attribute specifies the name of the queue into which the message is moved if it cannot be processed successfully. If the exception queue specified does not exist at the time of the move, then the message is moved to the default exception queue associated with the queue table, and a warning is logged in the alert log. 
                           </p>
                        </li>
                        <li>
                           <p><a id="d61372e767" class="indexterm-anchor"></a><code class="codeph">delivery_mode</code></p>
                           <p>Any value for <code class="codeph">delivery_mode</code> specified in message properties at enqueue time is ignored. The value specified in enqueue options is used to set the delivery mode of the message. If the delivery mode in enqueue options is left unspecified, then it defaults to persistent.
                           </p>
                        </li>
                        <li>
                           <p><a id="d61372e780" class="indexterm-anchor"></a><code class="codeph">enqueue_time</code></p>
                           <p>The <code class="codeph">enqueue_time</code> attribute specifies the time the message was enqueued. This value is determined by the system and cannot be set by the user at enqueue time.
                           </p>
                           <div class="infoboxnote" id="GUID-1CEA86B9-4FDF-445F-93C1-67E21C033D35__GUID-646FD683-98E1-4FE4-9934-674E5317A11A">
                              <p class="notep1">Note:</p>
                              <p>Because information about seasonal changes in the system clock (switching between standard time and daylight-saving time, for example) is stored with each queue table, seasonal changes are automatically reflected in <code class="codeph">enqueue_time</code>. If the system clock is changed for some other reason, then you must restart the database for Oracle Database Advanced Queuing to pick up the changed time.
                              </p>
                           </div>
                        </li>
                        <li>
                           <p><a id="d61372e799" class="indexterm-anchor"></a><code class="codeph">state</code></p>
                           <p>The <code class="codeph">state</code> attribute specifies the state of the message at the time of the dequeue. This parameter cannot be set at enqueue time. 
                           </p>
                        </li>
                        <li>
                           <p><a id="d61372e812" class="indexterm-anchor"></a><code class="codeph">sender_id</code></p>
                           <p>The <code class="codeph">sender_id</code> attribute is an identifier of type <code class="codeph">aq$_agent</code> specified at enqueue time by the message producer.
                           </p>
                        </li>
                        <li>
                           <p><a id="d61372e829" class="indexterm-anchor"></a><code class="codeph">original_msgid</code></p>
                           <p>The original_msgid attribute is used by Oracle Database AQ for propagating messages.</p>
                        </li>
                        <li>
                           <p><a id="d61372e839" class="indexterm-anchor"></a><code class="codeph">transaction_group</code></p>
                           <p>The <code class="codeph">transaction_group</code> attribute specifies the transaction group for the message. This attribute is set only by <code class="codeph">DBMS_AQ.DEQUEUE_ARRAY</code>. This attribute cannot be used to set the transaction group of a message through <code class="codeph">DBMS_AQ.ENQUEUE</code> or <code class="codeph">DBMS_AQ.ENQUEUE_ARRAY</code>.
                           </p>
                        </li>
                        <li>
                           <p><a id="d61372e861" class="indexterm-anchor"></a><code class="codeph">user_property</code></p>
                           <p>The <code class="codeph">user_property</code> attribute is optional. It is used to store additional information about the payload.
                           </p>
                        </li>
                     </ul>
                     <p>The examples in the following topics use the same users, message types, queue tables, and queues as do the examples in <a href="aq-administrative-interface.html#GUID-31CF7723-6AB8-455A-8841-8683D936DD3E" title="These topics describe the Oracle Database Advanced Queuing (AQ) administrative interface."> Oracle Database Advanced Queuing Administrative Interface</a>. If you have not already created these structures in your test environment, then you must run the following examples:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="aq-administrative-interface.html#GUID-7A35067E-0A52-4EC2-B0F8-3540E8554E41__CHDECGGJ">Example 8-1</a></p>
                        </li>
                        <li>
                           <p><a href="aq-administrative-interface.html#GUID-7A35067E-0A52-4EC2-B0F8-3540E8554E41__CHDJIFCF">Example 8-2</a></p>
                        </li>
                        <li>
                           <p><a href="aq-administrative-interface.html#GUID-7A35067E-0A52-4EC2-B0F8-3540E8554E41__CHDCBGCF">Example 8-3</a></p>
                        </li>
                        <li>
                           <p><a href="aq-administrative-interface.html#GUID-7A35067E-0A52-4EC2-B0F8-3540E8554E41__CHDBEADD">Example 8-5</a></p>
                        </li>
                        <li>
                           <p><a href="aq-administrative-interface.html#GUID-7A35067E-0A52-4EC2-B0F8-3540E8554E41__CHDEAEID">Example 8-7</a></p>
                        </li>
                        <li>
                           <p><a href="aq-administrative-interface.html#GUID-7A35067E-0A52-4EC2-B0F8-3540E8554E41__CHDFEDEC">Example 8-8</a></p>
                        </li>
                        <li>
                           <p><a href="aq-administrative-interface.html#GUID-E140B4B5-DB4C-4DFC-8F67-C032516D0324__CHDEFAFG">Example 8-23</a></p>
                        </li>
                        <li>
                           <p><a href="aq-administrative-interface.html#GUID-E140B4B5-DB4C-4DFC-8F67-C032516D0324__CHDHEAID">Example 8-25</a></p>
                        </li>
                        <li>
                           <p><a href="aq-administrative-interface.html#GUID-E140B4B5-DB4C-4DFC-8F67-C032516D0324__CHDHEACA">Example 8-26</a></p>
                        </li>
                        <li>
                           <p><a href="aq-administrative-interface.html#GUID-E140B4B5-DB4C-4DFC-8F67-C032516D0324__CHDGCFHI">Example 8-27</a></p>
                        </li>
                        <li>
                           <p><a href="aq-administrative-interface.html#GUID-E140B4B5-DB4C-4DFC-8F67-C032516D0324__CHDIAEEH">Example 8-28</a></p>
                        </li>
                        <li>
                           <p><a href="aq-administrative-interface.html#GUID-264A3C43-93B3-43B5-820F-C25F686E97BD__CHDCIADC">Example 8-36</a></p>
                        </li>
                     </ul>
                     <p>For <a href="aq-administrative-interface.html#GUID-7A35067E-0A52-4EC2-B0F8-3540E8554E41__CHDECGGJ">Example 8-1</a>, you must connect as a user with administrative privileges. For the other examples in the preceding list, you can connect as user <code class="codeph">test_adm</code>. After you have created the queues, you must start them as shown in <span class="q">"<a href="aq-administrative-interface.html#GUID-8370927B-0D5E-4E75-A2A5-7309BC13219C" title="DBMS_AQADM.START_QUEUE enables the specified non-sharded queue for enqueuing or dequeuing.">Starting a Queue</a>"</span>. Except as noted otherwise, you can connect as ordinary queue user <code class="codeph">'test'</code> to run all examples.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1CEA86B9-4FDF-445F-93C1-67E21C033D35__GUID-547D3A7A-CD28-41CF-9ABE-E4C33179EF4A">Enqueuing a LOB Type Message</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><a href="aq-operations-using-pl-sql.html#GUID-1CEA86B9-4FDF-445F-93C1-67E21C033D35__CHDGJCIG">Example 10-3</a> creates procedure <code class="codeph">blobenqueue()</code> using the <code class="codeph">test.lob_type</code> message payload object type created in <a href="aq-administrative-interface.html#GUID-7A35067E-0A52-4EC2-B0F8-3540E8554E41__CHDECGGJ">Example 8-1</a>. On enqueue, the LOB attribute is set to <code class="codeph">EMPTY_BLOB</code>. After the enqueue completes, but before the transaction is committed, the LOB attribute is selected from the <code class="codeph">user_data</code> column of the <code class="codeph">test.lob_qtab</code> queue table. The LOB data is written to the queue using the <code class="codeph">LOB</code> interfaces (which are available through both OCI and PL/SQL). The actual enqueue operation is shown in 
                     </p>
                     <p>On dequeue, the message payload will contain the LOB locator. You can use this LOB locator after the dequeue, but before the transaction is committed, to read the LOB data. This is shown in <a href="aq-operations-using-pl-sql.html#GUID-5F84DA85-7D5B-4EEC-9785-80877F3FCA54__CHDGIIIC">Example 10-14</a>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1CEA86B9-4FDF-445F-93C1-67E21C033D35__GUID-54A30117-6D9C-4C38-8C05-DB438DF05CD3">Enqueuing Multiple Messages to a Single-Consumer Queue</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><a href="aq-operations-using-pl-sql.html#GUID-1CEA86B9-4FDF-445F-93C1-67E21C033D35__CHDGIJGG">Example 10-5</a> enqueues six messages to <code class="codeph">test.obj_queue</code>. These messages are dequeued in <a href="aq-operations-using-pl-sql.html#GUID-5F84DA85-7D5B-4EEC-9785-80877F3FCA54__CHDIACIJ">Example 10-17</a>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1CEA86B9-4FDF-445F-93C1-67E21C033D35__GUID-D341EC8C-B504-4FA3-AAAC-D15A19F1FD81">Enqueuing Multiple Messages to a Multiconsumer Queue</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><a href="aq-operations-using-pl-sql.html#GUID-1CEA86B9-4FDF-445F-93C1-67E21C033D35__CHDBGAFA">Example 10-6</a> requires that you connect as user <code class="codeph">'test_adm</code>' to add subscribers <code class="codeph">RED</code> and <code class="codeph">GREEN</code> to queue <code class="codeph">test.multiconsumer_queue</code>. The subscribers are required for <a href="aq-operations-using-pl-sql.html#GUID-1CEA86B9-4FDF-445F-93C1-67E21C033D35__CHDHGEFG">Example 10-7</a>.
                     </p>
                     <p><a href="aq-operations-using-pl-sql.html#GUID-1CEA86B9-4FDF-445F-93C1-67E21C033D35__CHDHGEFG">Example 10-7</a> enqueues multiple messages from sender 001. MESSAGE 1 is intended for all queue subscribers. MESSAGE 2 is intended for RED and BLUE. These messages are dequeued in <a href="aq-operations-using-pl-sql.html#GUID-5F84DA85-7D5B-4EEC-9785-80877F3FCA54__CHDIACIJ">Example 10-17</a>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1CEA86B9-4FDF-445F-93C1-67E21C033D35__GUID-55E07B91-FFEE-4148-862C-6D502F4CA3B0">Enqueuing Grouped Messages</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><a href="aq-operations-using-pl-sql.html#GUID-1CEA86B9-4FDF-445F-93C1-67E21C033D35__CHDFBDDD">Example 10-8</a> enqueues three groups of messages, with three messages in each group. These messages are dequeued in <a href="aq-operations-using-pl-sql.html#GUID-5F84DA85-7D5B-4EEC-9785-80877F3FCA54__CHDGAIBA">Example 10-16</a>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1CEA86B9-4FDF-445F-93C1-67E21C033D35__GUID-361520D8-6C61-4AF3-8A8A-414E1493335B">Enqueuing a Message with Delay and Expiration</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>In <a href="aq-operations-using-pl-sql.html#GUID-1CEA86B9-4FDF-445F-93C1-67E21C033D35__CHDIIGAG">Example 10-9</a>, an application wants a message to be dequeued no earlier than a week from now, but no later than three weeks from now. Because expiration is calculated from the earliest dequeue time, this requires setting the expiration time for two weeks.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-1CEA86B9-4FDF-445F-93C1-67E21C033D35__I1005829">
                     <p class="titleinexample">Example 10-1 Enqueuing a Message, Specifying Queue Name and Payload</p><pre class="oac_no_warn" dir="ltr">DECLARE
   enqueue_options     DBMS_AQ.enqueue_options_t;
   message_properties  DBMS_AQ.message_properties_t;
   message_handle      RAW(16);
   message             test.message_typ;
BEGIN
   message := test.message_typ(001, 'TEST MESSAGE', 'First message to obj_queue');
   DBMS_AQ.ENQUEUE(
      queue_name              =&gt; 'test.obj_queue',
      enqueue_options         =&gt; enqueue_options,
      message_properties      =&gt; message_properties,
      payload                 =&gt; message,
      msgid                   =&gt; message_handle);
   COMMIT;
END;
/</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-1CEA86B9-4FDF-445F-93C1-67E21C033D35__I1005850">
                     <p class="titleinexample">Example 10-2 Enqueuing a Message, Specifying Priority</p><pre class="oac_no_warn" dir="ltr">DECLARE 
   enqueue_options       DBMS_AQ.enqueue_options_t; 
   message_properties    DBMS_AQ.message_properties_t; 
   message_handle        RAW(16); 
   message               test.order_typ; 
BEGIN 
   message := test.order_typ(002, 'PRIORITY MESSAGE', 'priority 30'); 
   message_properties.priority := 30; 
   DBMS_AQ.ENQUEUE(
      queue_name              =&gt; 'test.priority_queue', 
      enqueue_options         =&gt; enqueue_options, 
      message_properties      =&gt; message_properties, 
      payload                 =&gt; message, 
      msgid                   =&gt; message_handle); 
   COMMIT; 
END;
/
</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-1CEA86B9-4FDF-445F-93C1-67E21C033D35__CHDGJCIG">
                     <p class="titleinexample">Example 10-3 Creating an Enqueue Procedure for LOB Type Messages</p><pre class="oac_no_warn" dir="ltr">
CREATE OR REPLACE PROCEDURE blobenqueue(msgno IN NUMBER) AS
   enq_userdata          test.lob_typ; 
   enq_msgid             RAW(16); 
   enqueue_options       DBMS_AQ.enqueue_options_t; 
   message_properties    DBMS_AQ.message_properties_t; 
   lob_loc               BLOB; 
   buffer                RAW(4096); 
BEGIN 
   buffer       := HEXTORAW(RPAD('FF', 4096, 'FF')); 
   enq_userdata := test.lob_typ(msgno, 'Large Lob data', EMPTY_BLOB(), msgno); 
   DBMS_AQ.ENQUEUE(
      queue_name          =&gt; 'test.lob_queue',
      enqueue_options     =&gt; enqueue_options,
      message_properties  =&gt; message_properties,
      payload             =&gt; enq_userdata, 
      msgid               =&gt; enq_msgid); 
   SELECT t.user_data.data INTO lob_loc 
      FROM lob_qtab t 
      WHERE t.msgid = enq_msgid; 
   DBMS_LOB.WRITE(lob_loc, 2000, 1, buffer ); 
   COMMIT; 
END;
/ </pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-1CEA86B9-4FDF-445F-93C1-67E21C033D35__CHDGECGJ">
                     <p class="titleinexample">Example 10-4 Enqueuing a LOB Type Message</p><pre class="oac_no_warn" dir="ltr">BEGIN 
   FOR i IN 1..5 LOOP 
      blobenqueue(i); 
   END LOOP; 
END;
/</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-1CEA86B9-4FDF-445F-93C1-67E21C033D35__CHDGIJGG">
                     <p class="titleinexample">Example 10-5 Enqueuing Multiple Messages</p><pre class="oac_no_warn" dir="ltr">SET SERVEROUTPUT ON
DECLARE
   enqueue_options     DBMS_AQ.enqueue_options_t;
   message_properties  DBMS_AQ.message_properties_t;
   message_handle      RAW(16);
   message             test.message_typ;
BEGIN
   message := test.message_typ(001, 'ORANGE', 'ORANGE enqueued first.');
   DBMS_AQ.ENQUEUE(
         queue_name           =&gt; 'test.obj_queue', 
         enqueue_options      =&gt; enqueue_options,
         message_properties   =&gt; message_properties,
         payload              =&gt; message,
         msgid                =&gt; message_handle);
   message := test.message_typ(001, 'ORANGE', 'ORANGE also enqueued second.');
   DBMS_AQ.ENQUEUE(
         queue_name           =&gt; 'test.obj_queue', 
         enqueue_options      =&gt; enqueue_options,
         message_properties   =&gt; message_properties,
         payload              =&gt; message,
         msgid                =&gt; message_handle);
   message := test.message_typ(001, 'YELLOW', 'YELLOW enqueued third.');
   DBMS_AQ.ENQUEUE(
         queue_name           =&gt; 'test.obj_queue', 
         enqueue_options      =&gt; enqueue_options,
         message_properties   =&gt; message_properties,
         payload              =&gt; message,
         msgid                =&gt; message_handle);
   message := test.message_typ(001, 'VIOLET', 'VIOLET enqueued fourth.');
   DBMS_AQ.ENQUEUE(
         queue_name           =&gt; 'test.obj_queue', 
         enqueue_options      =&gt; enqueue_options,
         message_properties   =&gt; message_properties,
         payload              =&gt; message,
         msgid                =&gt; message_handle);
   message := test.message_typ(001, 'PURPLE', 'PURPLE enqueued fifth.');
   DBMS_AQ.ENQUEUE(
         queue_name           =&gt; 'test.obj_queue', 
         enqueue_options      =&gt; enqueue_options,
         message_properties   =&gt; message_properties,
         payload              =&gt; message,
         msgid                =&gt; message_handle);
   message := test.message_typ(001, 'PINK', 'PINK enqueued sixth.');
   DBMS_AQ.ENQUEUE(
         queue_name           =&gt; 'test.obj_queue', 
         enqueue_options      =&gt; enqueue_options,
         message_properties   =&gt; message_properties,
         payload              =&gt; message,
         msgid                =&gt; message_handle);
   COMMIT;
END;
/
</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-1CEA86B9-4FDF-445F-93C1-67E21C033D35__CHDBGAFA">
                     <p class="titleinexample">Example 10-6 Adding Subscribers RED and GREEN</p><pre class="oac_no_warn" dir="ltr">DECLARE
   subscriber         sys.aq$_agent;
BEGIN
   subscriber     :=  sys.aq$_agent('RED', NULL, NULL);
   DBMS_AQADM.ADD_SUBSCRIBER(
      queue_name  =&gt;  'test.multiconsumer_queue',
      subscriber  =&gt;  subscriber);

   subscriber     :=  sys.aq$_agent('GREEN', NULL, NULL);
   DBMS_AQADM.ADD_SUBSCRIBER(
      queue_name  =&gt;  'test.multiconsumer_queue',
      subscriber  =&gt;  subscriber); 
END;
/
</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-1CEA86B9-4FDF-445F-93C1-67E21C033D35__CHDHGEFG">
                     <p class="titleinexample">Example 10-7 Enqueuing Multiple Messages to a Multiconsumer Queue</p><pre class="oac_no_warn" dir="ltr">DECLARE
   enqueue_options     DBMS_AQ.enqueue_options_t;
   message_properties  DBMS_AQ.message_properties_t;
   recipients          DBMS_AQ.aq$_recipient_list_t;
   message_handle      RAW(16);
   message             test.message_typ;
BEGIN
   message := test.message_typ(001, 'MESSAGE 1','For queue subscribers');
   DBMS_AQ.ENQUEUE(
      queue_name          =&gt; 'test.multiconsumer_queue',
      enqueue_options     =&gt; enqueue_options,
      message_properties  =&gt; message_properties,
      payload             =&gt; message,
      msgid               =&gt; message_handle);

   message := test.message_typ(001, 'MESSAGE 2', 'For two recipients');
   recipients(1) := sys.aq$_agent('RED', NULL, NULL);
   recipients(2) := sys.aq$_agent('BLUE', NULL, NULL);
   message_properties.recipient_list := recipients;
   DBMS_AQ.ENQUEUE(
      queue_name          =&gt; 'test.multiconsumer_queue',
      enqueue_options     =&gt; enqueue_options,
      message_properties  =&gt; message_properties,
      payload             =&gt; message,
      msgid               =&gt; message_handle);
   COMMIT;
END;
/
</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-1CEA86B9-4FDF-445F-93C1-67E21C033D35__CHDFBDDD">
                     <p class="titleinexample">Example 10-8 Enqueuing Grouped Messages</p><pre class="oac_no_warn" dir="ltr">DECLARE
   enqueue_options     DBMS_AQ.enqueue_options_t;
   message_properties  DBMS_AQ.message_properties_t;
   message_handle      RAW(16);
   message             test.message_typ;
BEGIN
  FOR groupno in 1..3 LOOP
    FOR msgno in 1..3 LOOP
      message := test.message_typ(
               001,
               'GROUP ' || groupno, 
               'Message ' || msgno || ' in group ' || groupno);
      DBMS_AQ.ENQUEUE(
         queue_name             =&gt; 'test.group_queue',
         enqueue_options        =&gt; enqueue_options,
         message_properties     =&gt; message_properties,
         payload                =&gt; message,
         msgid                  =&gt; message_handle);
    END LOOP;
    COMMIT; 
  END LOOP;
END;
/
</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-1CEA86B9-4FDF-445F-93C1-67E21C033D35__CHDIIGAG">
                     <p class="titleinexample">Example 10-9 Enqueuing a Message, Specifying Delay and Expiration</p><pre class="oac_no_warn" dir="ltr">DECLARE
   enqueue_options     DBMS_AQ.enqueue_options_t;
   message_properties  DBMS_AQ.message_properties_t;
   message_handle      RAW(16);
   message             test.message_typ;
BEGIN
   message := test.message_typ(001, 'DELAYED', 'Message is delayed one week.');
   message_properties.delay      := 7*24*60*60;
   message_properties.expiration := 2*7*24*60*60;
   DBMS_AQ.ENQUEUE(
      queue_name           =&gt; 'test.obj_queue',
      enqueue_options      =&gt; enqueue_options,
      message_properties   =&gt; message_properties,
      payload              =&gt; message,
      msgid                =&gt; message_handle);
   COMMIT;
END;
/
</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-1CEA86B9-4FDF-445F-93C1-67E21C033D35__GUID-8E44D782-7D0F-4A57-82F1-4410AE9A27F1">
                     <p class="titleinexample">Example 10-10 Enqueuing a Message, Specifying a Transformation</p><pre class="oac_no_warn" dir="ltr">DECLARE
   enqueue_options     DBMS_AQ.enqueue_options_t;
   message_properties  DBMS_AQ.message_properties_t;
   message_handle      RAW(16);
   message             test.message_typ;
BEGIN
   message := test.message_typ(001, 'NORMAL MESSAGE', 'enqueued to obj_queue');
   enqueue_options.transformation := 'message_order_transform';
   DBMS_AQ.ENQUEUE(
      queue_name              =&gt; 'test.priority_queue', 
      enqueue_options         =&gt; enqueue_options,
      message_properties      =&gt; message_properties,
      payload                 =&gt; message,
      msgid                   =&gt; message_handle);
   COMMIT;
END;
/</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE2832"></a><a id="ADQUE2831"></a><div class="props_rev_3"><a id="GUID-92FCE63B-7713-443A-84A3-9F543F0A8819" name="GUID-92FCE63B-7713-443A-84A3-9F543F0A8819"></a><h3 id="ADQUE-GUID-92FCE63B-7713-443A-84A3-9F543F0A8819" class="sect3"><span class="enumeration_section">10.3 </span>Enqueuing an Array of Messages
               </h3>
               <div>
                  <p>Use the <code class="codeph">ENQUEUE_ARRAY</code> function to enqueue an array of payloads using a corresponding array of message properties. 
                  </p>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_AQ.ENQUEUE_ARRAY(
   queue_name                IN   VARCHAR2,
   enqueue_options           IN   enqueue_options_t,
   array_size                IN   PLS_INTEGER,
   message_properties_array  IN   message_properties_array_t,
   payload_array             IN   VARRAY,
   msid_array                OUT  msgid_array_t)
RETURN PLS_INTEGER;
</pre><p>The output is an array of message identifiers of the enqueued messages. The function returns the number of messages successfully enqueued.</p>
                     <p>Array enqueuing is not supported for buffered messages, but you can still use <code class="codeph">DBMS_AQ.ENQUEUE_ARRAY()</code> to enqueue buffered messages by setting <code class="codeph">array_size</code> to <code class="codeph">1</code>.
                     </p>
                     <p><a id="d61372e1196" class="indexterm-anchor"></a>The <code class="codeph">message_properties_array</code> parameter is an array of message properties. Each element in the payload array must have a corresponding element in this record. All messages in an array have the same delivery mode.
                     </p>
                     <p>The payload structure can be a VARRAY or nested table. The message IDs are returned into an array of RAW(16) entries of type <code class="codeph">DBMS_AQ.msgid_array_t</code>.
                     </p>
                     <p>As with array operations in the relational world, it is not possible to provide a single optimum array size that will be correct in all circumstances. Application developers must experiment with different array sizes to determine the optimal value for their particular applications. </p>
                     <div class="p">
                        <div class="infoboxnotealso" id="GUID-92FCE63B-7713-443A-84A3-9F543F0A8819__GUID-C7F9D646-5989-437A-90E9-724FA0FD0D0C">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="aq-operations-using-pl-sql.html#GUID-1CEA86B9-4FDF-445F-93C1-67E21C033D35__CHDGBIHI">Enqueue Options</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="aq-operations-using-pl-sql.html#GUID-1CEA86B9-4FDF-445F-93C1-67E21C033D35__CHDEHJBH">Message Properties</a>"</span></p>
                                 <p></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-92FCE63B-7713-443A-84A3-9F543F0A8819__CHDHAFJA">
                     <p class="titleinexample">Example 10-11 Enqueuing an Array of Messages</p><pre class="oac_no_warn" dir="ltr">DECLARE
  enqueue_options       DBMS_AQ.enqueue_options_t;
  msg_prop_array        DBMS_AQ.message_properties_array_t;
  msg_prop              DBMS_AQ.message_properties_t;
  payload_array         test.msg_table;
  msgid_array           DBMS_AQ.msgid_array_t;
  retval                PLS_INTEGER;
BEGIN
  payload_array  := msg_table(
      message_typ(001, 'MESSAGE  1', 'array enqueued to obj_queue'), 
      message_typ(001, 'MESSAGE  2', 'array enqueued to obj_queue'));
  msg_prop_array := DBMS_AQ.message_properties_array_t(msg_prop, msg_prop);
 
  retval := DBMS_AQ.ENQUEUE_ARRAY( 
                 queue_name               =&gt; 'test.obj_queue',
                 enqueue_options          =&gt; enqueue_options,
                 array_size               =&gt; 2,
                 message_properties_array =&gt; msg_prop_array,
                 payload_array            =&gt; payload_array,
                 msgid_array              =&gt; msgid_array);
  COMMIT;
END;/</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE2834"></a><a id="ADQUE2833"></a><div class="props_rev_3"><a id="GUID-B5606574-8C70-41AE-A362-A753033C3A70" name="GUID-B5606574-8C70-41AE-A362-A753033C3A70"></a><h3 id="ADQUE-GUID-B5606574-8C70-41AE-A362-A753033C3A70" class="sect3"><span class="enumeration_section">10.4 </span>Listening to One or More Queues
               </h3>
               <div>
                  <p>This procedure specifies which queue or queues to monitor.</p>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_AQ.LISTEN(
   agent_list             IN    aq$_agent_list_t,
   wait                   IN    BINARY_INTEGER DEFAULT FOREVER, 
   listen_delivery_mode   IN    PLS_INTEGER DEFAULT PERSISTENT,
   agent                  OUT   sys.aq$_agent
   message_delivery_mode  OUT   PLS_INTEGER);

TYPE aq$_agent_list_t IS TABLE of aq$_agent INDEXED BY BINARY_INTEGER;
</pre><p>This call takes a list of agents as an argument. Each agent is identified by a unique combination of name, address, and protocol.</p>
                     <p>You specify the queue to be monitored in the address field of each agent listed. Agents must have dequeue privileges on each monitored queue. You must specify the name of the agent when monitoring multiconsumer queues; but you must not specify an agent name for single-consumer queues. Only local queues are supported as addresses. Protocol is reserved for future use.</p>
                     <div class="infoboxnote" id="GUID-B5606574-8C70-41AE-A362-A753033C3A70__GUID-C30E8565-C2A5-4CAA-88D8-2CB98D12F85E">
                        <p class="notep1">Note:</p>
                        <p>Listening to multiconsumer queues is not supported in the Java <a href="glossary.html#GUID-2003BA71-5534-477C-990D-5ABE432A5907"><span class="xrefglossterm">API</span></a>.
                        </p>
                     </div>
                     <p><a id="d61372e1335" class="indexterm-anchor"></a><a id="d61372e1337" class="indexterm-anchor"></a><a id="d61372e1339" class="indexterm-anchor"></a><a id="d61372e1341" class="indexterm-anchor"></a><a id="d61372e1345" class="indexterm-anchor"></a><a id="d61372e1349" class="indexterm-anchor"></a>The <code class="codeph">listen_delivery_mode</code> parameter specifies what types of message interest the agent. If it is the default 	<code class="codeph">PERSISTENT</code>, then the agent is informed about persistent messages only. If it is set to <code class="codeph">BUFFERED</code>, then the agent is informed about buffered messages only. If it is set to <code class="codeph">PERSISTENT_OR_BUFFERED</code>, then the agent is informed about both types. 
                     </p>
                     <p>This is a blocking call that returns the agent and message type when there is a message ready for consumption for an agent in the list. If there are messages for more than one agent, then only the first agent listed is returned. If there are no messages found when the wait time expires, then an error is raised.</p>
                     <p>A successful return from the <code class="codeph">listen</code> call is only an indication that there is a message for one of the listed agents in one of the specified queues. The interested agent must still dequeue the relevant message.
                     </p>
                     <div class="infoboxnote" id="GUID-B5606574-8C70-41AE-A362-A753033C3A70__GUID-5B5EB749-0D97-42BD-BA20-88A7A6C8159B">
                        <p class="notep1">Note:</p>
                        <p>You cannot call <code class="codeph">LISTEN</code> on <a href="glossary.html#GUID-A91ACE79-576B-49F6-BE03-D4A792B9B468"><span class="xrefglossterm">nonpersistent</span></a> queues.
                        </p>
                     </div>
                     <p>Even though both <code class="codeph">test.obj_queue</code> and <code class="codeph">test.priority_queue</code> contain messages (enqueued in <a href="aq-operations-using-pl-sql.html#GUID-1CEA86B9-4FDF-445F-93C1-67E21C033D35__I1005829">Example 10-1</a> and <a href="aq-operations-using-pl-sql.html#GUID-1CEA86B9-4FDF-445F-93C1-67E21C033D35__I1005850">Example 10-2</a> respectively) <a href="aq-operations-using-pl-sql.html#GUID-B5606574-8C70-41AE-A362-A753033C3A70__I1006167">Example 10-12</a> returns only:
                     </p><pre class="oac_no_warn" dir="ltr">Message in Queue: "TEST"."OBJ_QUEUE"
</pre><p>If the order of agents in <code class="codeph">test_agent_list</code> is reversed, so <code class="codeph">test.priority_queue</code> appears before <code class="codeph">test.obj_queue</code>, then the example returns:
                     </p><pre class="oac_no_warn" dir="ltr">Message in Queue: "TEST"."PRIORITY_QUEUE"
</pre><div class="p">
                        <div class="infoboxnotealso" id="GUID-B5606574-8C70-41AE-A362-A753033C3A70__GUID-838E4211-ABD3-4179-AF08-A4210592F6CD">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="aq-basic-components.html#GUID-2C5557D9-E11B-4AB9-94E0-F923C85D6E0A" title="This component identifies a producer or consumer of a message.">AQ Agent Type</a>"</span></p>
                        </div>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-B5606574-8C70-41AE-A362-A753033C3A70__I1006167">
                     <p class="titleinexample">Example 10-12 Listening to a Single-Consumer Queue with Zero Timeout</p><pre class="oac_no_warn" dir="ltr">SET SERVEROUTPUT ON
DECLARE
   agent            sys.aq$_agent;
   test_agent_list  DBMS_AQ.aq$_agent_list_t;
BEGIN
   test_agent_list(1) := sys.aq$_agent(NULL, 'test.obj_queue',  NULL);
   test_agent_list(2) := sys.aq$_agent(NULL, 'test.priority_queue', NULL);
   DBMS_AQ.LISTEN(
      agent_list   =&gt;   test_agent_list, 
      wait         =&gt;   0, 
      agent        =&gt;   agent);
   DBMS_OUTPUT.PUT_LINE('Message in Queue: ' ||  agent.address);
END;
/
</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE2836"></a><a id="ADQUE2838"></a><a id="ADQUE2841"></a><a id="ADQUE2843"></a><a id="ADQUE2845"></a><a id="ADQUE2837"></a><a id="ADQUE2839"></a><a id="ADQUE2840"></a><a id="ADQUE2842"></a><a id="ADQUE2844"></a><a id="ADQUE2846"></a><a id="ADQUE2847"></a><a id="ADQUE2835"></a><div class="props_rev_3"><a id="GUID-5F84DA85-7D5B-4EEC-9785-80877F3FCA54" name="GUID-5F84DA85-7D5B-4EEC-9785-80877F3FCA54"></a><h3 id="ADQUE-GUID-5F84DA85-7D5B-4EEC-9785-80877F3FCA54" class="sect3"><span class="enumeration_section">10.5 </span>Dequeuing Messages
               </h3>
               <div>
                  <p>This procedure dequeues a message from the specified queue.</p>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_AQ.DEQUEUE(
   queue_name          IN      VARCHAR2,
   dequeue_options     IN      dequeue_options_t,
   message_properties  OUT     message_properties_t,
   payload             OUT     "<span class="italic">type_name</span>",
   msgid               OUT     RAW);
</pre><p>You can choose to dequeue only persistent messages, only buffered messages, or both. See <code class="codeph">delivery_mode</code> in the following list of dequeue options.
                     </p>
                     <div class="infoboxnotealso" id="GUID-5F84DA85-7D5B-4EEC-9785-80877F3FCA54__GUID-1829FDEA-E6AF-4073-92A1-F448F7A7DBA5">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="aq-operations-using-pl-sql.html#GUID-1CEA86B9-4FDF-445F-93C1-67E21C033D35__CHDEHJBH">Message Properties</a>"</span></p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-5F84DA85-7D5B-4EEC-9785-80877F3FCA54__CHDBBGGE">
                     <p class="subhead2" id="GUID-5F84DA85-7D5B-4EEC-9785-80877F3FCA54__GUID-C982B34C-340F-4111-A84C-5EB96605498E">Dequeue Options</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>The <code class="codeph">dequeue_options</code> parameter specifies the options available for the dequeue operation. It has the following attributes:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a id="d61372e1550" class="indexterm-anchor"></a><code class="codeph">consumer_name</code></p>
                           <p>A consumer can dequeue a message from a queue by supplying the name that was used in the <code class="codeph">AQ$_AGENT</code> type of the <code class="codeph">DBMS_AQADM</code>.<code class="codeph">ADD_SUBSCRIBER</code> procedure or the recipient list of the message properties. If a value is specified, then only those messages matching <code class="codeph">consumer_name</code> are accessed. If a queue is not set up for multiple consumers, then this field must be set to NULL (the default).
                           </p>
                        </li>
                        <li>
                           <p><a id="d61372e1572" class="indexterm-anchor"></a><code class="codeph">dequeue_mode</code></p>
                           <p>The <code class="codeph">dequeue_mode</code> attribute specifies the locking behavior associated with the dequeue. If <code class="codeph">BROWSE</code> is specified, then the message is dequeued without acquiring any lock. If <code class="codeph">LOCKED</code> is specified, then the message is dequeued with a write lock that lasts for the duration of the transaction. If <code class="codeph">REMOVE</code> is specified, then the message is dequeued and deleted (the default). The message can be retained in the queue table based on the retention properties. If <code class="codeph">REMOVE_NO_DATA</code> is specified, then the message is marked as updated or deleted.
                           </p>
                        </li>
                        <li>
                           <p><a id="d61372e1597" class="indexterm-anchor"></a><code class="codeph">navigation</code></p>
                           <p>The <code class="codeph">navigation</code> attribute specifies the position of the dequeued message. If <code class="codeph">FIRST_MESSAGE</code> is specified, then the first available message matching the search criteria is dequeued. If <code class="codeph">NEXT_MESSAGE</code> is specified, then the next available message matching the search criteria is dequeued (the default). If the previous message belongs to a message group, then the next available message matching the search criteria in the message group is dequeued. 
                           </p>
                           <p>If <code class="codeph">NEXT_TRANSACTION</code> is specified, then any messages in the current transaction group are skipped and the first message of the next transaction group is dequeued. This setting can only be used if message grouping is enabled for the queue.
                           </p>
                        </li>
                        <li>
                           <p><a id="d61372e1621" class="indexterm-anchor"></a><a id="d61372e1625" class="indexterm-anchor"></a><code class="codeph">visibility</code></p>
                           <p>The <code class="codeph">visibility</code> attribute specifies when the new message is dequeued. If <code class="codeph">ON_COMMIT</code> is specified, then the dequeue is part of the current transaction (the default). If <code class="codeph">IMMEDIATE</code> is specified, then the dequeue operation is an autonomous transaction that commits at the end of the operation. The <code class="codeph">visibility</code> attribute is ignored in <code class="codeph">BROWSE</code> dequeue mode. 
                           </p>
                           <p>Visibility must always be <code class="codeph">IMMEDIATE</code> when dequeuing messages with delivery mode <code class="codeph">DBMS_AQ.BUFFERED</code> or <code class="codeph">DBMS_AQ.PERSISTENT_OR_BUFFERED</code>.
                           </p>
                        </li>
                        <li>
                           <p><a id="d61372e1661" class="indexterm-anchor"></a><code class="codeph">wait</code></p>
                           <p>The <code class="codeph">wait</code> attribute specifies the wait time if there is currently no message available matching the search criteria. If a number is specified, then the operation waits that number of seconds. If <code class="codeph">FOREVER</code> is specified, then the operation waits forever (the default). If <code class="codeph">NO_WAIT</code> is specified, then the operation does not wait.
                           </p>
                        </li>
                        <li>
                           <p><a id="d61372e1680" class="indexterm-anchor"></a><code class="codeph">msgid</code></p>
                           <p>The <code class="codeph">msgid</code> attribute specifies the message identifier of the dequeued message. Only messages in the <code class="codeph">READY</code> state are dequeued unless <code class="codeph">msgid</code> is specified.
                           </p>
                        </li>
                        <li>
                           <p><a id="d61372e1699" class="indexterm-anchor"></a><a id="d61372e1703" class="indexterm-anchor"></a><code class="codeph">correlation</code></p>
                           <p>The correlation attribute specifies the correlation identifier of the dequeued message. The correlation identifier cannot be changed between successive dequeue calls without specifying the <code class="codeph">FIRST_MESSAGE</code> navigation option. 
                           </p>
                           <p>Correlation identifiers are application-defined identifiers that are not interpreted by Oracle Database Advanced Queuing. You can use special pattern matching characters, such as the percent sign and the underscore. If more than one message satisfies the pattern, then the order of dequeuing is indeterminate, and the sort order of the queue is not honored.</p>
                           <div class="infoboxnote" id="GUID-5F84DA85-7D5B-4EEC-9785-80877F3FCA54__GUID-375C4287-02E6-4B0D-B46D-1F948E0097A2">
                              <p class="notep1">Note:</p>
                              <p>Although dequeue options <code class="codeph">correlation</code> and <code class="codeph">deq_condition</code> are both supported for buffered messages, it is not possible to create indexes to optimize these queries.
                              </p>
                           </div>
                        </li>
                        <li>
                           <p><a id="d61372e1727" class="indexterm-anchor"></a><code class="codeph">deq_condition</code></p>
                           <p>The <code class="codeph">deq_condition</code> attribute is a Boolean expression similar to the WHERE clause of a SQL query. This Boolean expression can include conditions on message properties, user data properties (object payloads only), and PL/SQL or SQL functions. 
                           </p>
                           <p>To specify dequeue conditions on a message payload (object payload), use attributes of the object type in clauses. You must prefix each attribute with <code class="codeph">tab.user_data</code> as a qualifier to indicate the specific column of the queue table that stores the payload. 
                           </p>
                           <p>The <code class="codeph">deq_condition</code> attribute cannot exceed 4000 characters. If more than one message satisfies the dequeue condition, then the order of dequeuing is indeterminate, and the sort order of the queue is not honored.
                           </p>
                        </li>
                        <li>
                           <p><a id="d61372e1750" class="indexterm-anchor"></a><code class="codeph">transformation</code></p>
                           <p>The <code class="codeph">transformation</code> attribute specifies a transformation that will be applied after the message is dequeued but before returning the message to the caller.
                           </p>
                        </li>
                        <li>
                           <p><a id="d61372e1763" class="indexterm-anchor"></a><code class="codeph">delivery_mode</code></p>
                           <p>The <code class="codeph">delivery_mode</code> attribute specifies what types of messages to dequeue. If it is set to <code class="codeph">DBMS_AQ.PERSISTENT</code>, then only persistent messages are dequeued. If it is set to <code class="codeph">DBMS_AQ.BUFFERED</code>, then only buffered messages are dequeued. 
                           </p>
                           <p>If it is the default <code class="codeph">DBMS_AQ.PERSISTENT_OR_BUFFERED</code>, then both persistent and buffered messages are dequeued. The <code class="codeph">delivery_mode</code> attribute in the message properties of the dequeued message indicates whether the dequeued message was buffered or persistent.
                           </p>
                        </li>
                     </ul>
                     <p>The dequeue order is determined by the values specified at the time the queue table is created unless overridden by the message identifier and correlation identifier in dequeue options.</p>
                     <p>The database consistent read mechanism is applicable for queue operations. For example, a <code class="codeph">BROWSE</code> call may not see a message that is enqueued after the beginning of the browsing transaction. 
                     </p>
                     <p>In a <a href="glossary.html#GUID-F4FC927D-BBFE-451D-9CCA-96C7387A39B0"><span class="xrefglossterm">commit-time queue</span></a>, messages are not visible to <code class="codeph">BROWSE</code> or <code class="codeph">DEQUEUE</code> calls until a deterministic order can be established among them based on an <a href="glossary.html#GUID-30A3A407-F784-4083-9041-D548D9E1C6C5"><span class="xrefglossterm">approximate CSCN</span></a>.
                     </p>
                     <p>If the <code class="codeph">navigation</code> attribute of the <code class="codeph">dequeue_conditions</code> parameter is <code class="codeph">NEXT</code>_<code class="codeph">MESSAGE</code> (the default), then subsequent dequeues retrieve messages from the queue based on the snapshot obtained in the first dequeue. A message enqueued after the first dequeue command, therefore, will be processed only after processing all remaining messages in the queue. This is not a problem if all the messages have already been enqueued or if the queue does not have priority-based ordering. But if an application must process the highest-priority message in the queue, then it must use the <code class="codeph">FIRST_MESSAGE</code> navigation option. 
                     </p>
                     <div class="infoboxnote" id="GUID-5F84DA85-7D5B-4EEC-9785-80877F3FCA54__GUID-8E7AAAEC-9DCE-4CCC-905B-8942EFE5EC15">
                        <p class="notep1">Note:</p>
                        <p>It can also be more efficient to use the <code class="codeph">FIRST_MESSAGE</code> navigation option when there are messages being concurrently enqueued. If the <code class="codeph">FIRST_MESSAGE</code> option is not specified, then Oracle Database Advanced Queuing continually generates the snapshot as of the first dequeue command, leading to poor performance. If the <code class="codeph">FIRST_MESSAGE</code> option is specified, then Oracle Database Advanced Queuing uses a new snapshot for every dequeue command. 
                        </p>
                     </div>
                     <p>Messages enqueued in the same transaction into a queue that has been enabled for message grouping form a group. If only one message is enqueued in the transaction, then this effectively forms a group of one message. There is no upper limit to the number of messages that can be grouped in a single transaction. </p>
                     <p>In queues that have not been enabled for message grouping, a dequeue in <code class="codeph">LOCKED</code> or <code class="codeph">REMOVE</code> mode locks only a single message. By contrast, a dequeue operation that seeks to dequeue a message that is part of a group locks the entire group. This is useful when all the messages in a group must be processed as a unit. 
                     </p>
                     <p>When all the messages in a group have been dequeued, the dequeue returns an error indicating that all messages in the group have been processed. The application can then use <code class="codeph">NEXT_TRANSACTION</code> to start dequeuing messages from the next available group. In the event that no groups are available, the dequeue times out after the period specified in the <code class="codeph">wait</code> attribute of <code class="codeph">dequeue_options</code>. 
                     </p>
                     <p>Typically, you expect the consumer of messages to access messages using the dequeue interface. You can view processed messages or messages still to be processed by browsing by message ID or by using <code class="codeph">SELECT</code> commands.
                     </p>
                     <p><a href="aq-operations-using-pl-sql.html#GUID-5F84DA85-7D5B-4EEC-9785-80877F3FCA54__I1007064">Example 10-13</a> returns the message enqueued in <a href="aq-operations-using-pl-sql.html#GUID-1CEA86B9-4FDF-445F-93C1-67E21C033D35__I1005829">Example 10-1</a>. It returns:
                     </p><pre class="oac_no_warn" dir="ltr">From Sender No.1
Subject: TEST MESSAGE
Text: First message to obj_queue
</pre><div class="infoboxnotealso" id="GUID-5F84DA85-7D5B-4EEC-9785-80877F3FCA54__GUID-8152627B-1C44-45C5-9318-9F2CAC878BA8">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="aq-introduction.html#GUID-AA8621D3-88E6-460A-8EC4-8EE6F53DE56A__CHDCEDDG">Dequeue Modes</a>"</span></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5F84DA85-7D5B-4EEC-9785-80877F3FCA54__GUID-9176C3FC-41D5-4ECE-AC76-45D87ABB2A95">Dequeuing LOB Type Messages</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><a href="aq-operations-using-pl-sql.html#GUID-5F84DA85-7D5B-4EEC-9785-80877F3FCA54__CHDGIIIC">Example 10-14</a> creates procedure <code class="codeph">blobdequeue()</code> to dequeue the LOB type messages enqueued in <a href="aq-operations-using-pl-sql.html#GUID-1CEA86B9-4FDF-445F-93C1-67E21C033D35__CHDGECGJ">Example 10-4</a>. The actual dequeue is shown in <a href="aq-operations-using-pl-sql.html#GUID-5F84DA85-7D5B-4EEC-9785-80877F3FCA54__CHDDJJDC">Example 10-15</a>. It returns:
                     </p><pre class="oac_no_warn" dir="ltr">Amount of data read: 2000
Amount of data read: 2000
Amount of data read: 2000
Amount of data read: 2000
Amount of data read: 2000</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5F84DA85-7D5B-4EEC-9785-80877F3FCA54__GUID-20130382-02AC-4E0A-81DD-38C8BFDB7315">Dequeuing Grouped Messages</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>You can dequeue the grouped messages enqueued in <a href="aq-operations-using-pl-sql.html#GUID-1CEA86B9-4FDF-445F-93C1-67E21C033D35__CHDFBDDD">Example 10-8</a> by running <a href="aq-operations-using-pl-sql.html#GUID-5F84DA85-7D5B-4EEC-9785-80877F3FCA54__CHDGAIBA">Example 10-16</a>. It returns:
                     </p><pre class="oac_no_warn" dir="ltr">GROUP 1: Message 1 in group 1
GROUP 1: Message 2 in group 1
GROUP 1: Message 3 in group 1
Finished GROUP 1
GROUP 2: Message 1 in group 2
GROUP 2: Message 2 in group 2
GROUP 2: Message 3 in group 2
Finished GROUP 2
GROUP 3: Message 1 in group 3
GROUP 3: Message 2 in group 3
GROUP 3: Message 3 in group 3
Finished GROUP 3
No more messages</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5F84DA85-7D5B-4EEC-9785-80877F3FCA54__GUID-383818A3-E888-4864-A6C3-D89FD80DA1CC">Dequeuing from a Multiconsumer Queue</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>You can dequeue the messages enqueued for <code class="codeph">RED</code> in <a href="aq-operations-using-pl-sql.html#GUID-1CEA86B9-4FDF-445F-93C1-67E21C033D35__CHDHGEFG">Example 10-7</a> by running <a href="aq-operations-using-pl-sql.html#GUID-5F84DA85-7D5B-4EEC-9785-80877F3FCA54__CHDIACIJ">Example 10-17</a>. If you change <code class="codeph">RED</code> to <code class="codeph">GREEN</code> and then to <code class="codeph">BLUE</code>, you can use it to dequeue their messages as well. The output of the example will be different in each case.
                     </p>
                     <p><code class="codeph">RED</code> is a subscriber to the multiconsumer queue and is also a specified recipient of MESSAGE 2, so it gets both messages:
                     </p><pre class="oac_no_warn" dir="ltr">Message: MESSAGE 1 .. For queue subscribers
Message: MESSAGE 2 .. For two recipients
No more messages for RED
</pre><p><code class="codeph">GREEN</code> is only a subscriber, so it gets only those messages in the queue for which no recipients have been specified (in this case, MESSAGE 1):
                     </p><pre class="oac_no_warn" dir="ltr">Message: MESSAGE 1 .. For queue subscribers
No more messages for GREEN
</pre><p><code class="codeph">BLUE</code>, while not a subscriber to the queue, is nevertheless specified to receive MESSAGE 2.
                     </p><pre class="oac_no_warn" dir="ltr">Message: MESSAGE 2 .. For two recipients
No more messages for BLUE</pre><p><a href="aq-operations-using-pl-sql.html#GUID-5F84DA85-7D5B-4EEC-9785-80877F3FCA54__CHDBJBDB">Example 10-18</a> browses messages enqueued in <a href="aq-operations-using-pl-sql.html#GUID-1CEA86B9-4FDF-445F-93C1-67E21C033D35__CHDGIJGG">Example 10-5</a> until it finds PINK, which it removes. The example returns:
                     </p><pre class="oac_no_warn" dir="ltr">Browsed Message Text: ORANGE enqueued first.
Browsed Message Text: ORANGE also enqueued second.
Browsed Message Text: YELLOW enqueued third.
Browsed Message Text: VIOLET enqueued fourth.
Browsed Message Text: PURPLE enqueued fifth.
Browsed Message Text: PINK enqueued sixth.
Removed Message Text: PINK enqueued sixth.</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5F84DA85-7D5B-4EEC-9785-80877F3FCA54__GUID-5AC58A5D-35D0-4D5C-9650-EDB98872FEBF">Dequeue Modes</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><a href="aq-operations-using-pl-sql.html#GUID-5F84DA85-7D5B-4EEC-9785-80877F3FCA54__CHDDCJFF">Example 10-19</a> previews in locked mode the messages enqueued in <a href="aq-operations-using-pl-sql.html#GUID-1CEA86B9-4FDF-445F-93C1-67E21C033D35__CHDGIJGG">Example 10-5</a> until it finds PURPLE, which it removes. The example returns:
                     </p><pre class="oac_no_warn" dir="ltr">Locked Message Text: ORANGE enqueued first.
Locked Message Text: ORANGE also enqueued second.
Locked Message Text: YELLOW enqueued third.
Locked Message Text: VIOLET enqueued fourth.
Locked Message Text: PURPLE enqueued fifth.
Removed Message Text: PURPLE enqueued fifth.</pre></div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-5F84DA85-7D5B-4EEC-9785-80877F3FCA54__I1007064">
                     <p class="titleinexample">Example 10-13 Dequeuing Object Type Messages</p><pre class="oac_no_warn" dir="ltr">SET SERVEROUTPUT ON
DECLARE
dequeue_options     DBMS_AQ.dequeue_options_t;
message_properties  DBMS_AQ.message_properties_t;
message_handle      RAW(16);
message             test.message_typ;
BEGIN
   dequeue_options.navigation := DBMS_AQ.FIRST_MESSAGE;
   DBMS_AQ.DEQUEUE(
      queue_name          =&gt;     'test.obj_queue',
      dequeue_options     =&gt;     dequeue_options,
      message_properties  =&gt;     message_properties,
      payload             =&gt;     message,
      msgid               =&gt;     message_handle);
   DBMS_OUTPUT.PUT_LINE('From Sender No.'|| message.sender_id);
   DBMS_OUTPUT.PUT_LINE('Subject: '||message.subject);
   DBMS_OUTPUT.PUT_LINE('Text: '||message.text);
   COMMIT;
END;
/</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-5F84DA85-7D5B-4EEC-9785-80877F3FCA54__CHDGIIIC">
                     <p class="titleinexample">Example 10-14 Creating a Dequeue Procedure for LOB Type Messages</p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE PROCEDURE blobdequeue(msgno IN NUMBER) AS
   dequeue_options     DBMS_AQ.dequeue_options_t; 
   message_properties  DBMS_AQ.message_properties_t; 
   msgid               RAW(16); 
   payload             test.lob_typ; 
   lob_loc             BLOB; 
   amount              BINARY_INTEGER; 
   buffer              RAW(4096); 
BEGIN 
   DBMS_AQ.DEQUEUE(
      queue_name          =&gt;  'test.lob_queue',
      dequeue_options     =&gt;   dequeue_options, 
      message_properties  =&gt;   message_properties, 
      payload             =&gt;   payload,
      msgid               =&gt;   msgid); 
   lob_loc                :=   payload.data;
   amount                 :=   2000; 
   DBMS_LOB.READ(lob_loc, amount, 1, buffer);
   DBMS_OUTPUT.PUT_LINE('Amount of data read: '|| amount); 
   COMMIT;
END;
/</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-5F84DA85-7D5B-4EEC-9785-80877F3FCA54__CHDDJJDC">
                     <p class="titleinexample">Example 10-15 Dequeuing LOB Type Messages</p><pre class="oac_no_warn" dir="ltr">BEGIN 
   FOR i IN 1..5 LOOP 
     blobdequeue(i); 
   END LOOP; 
END;
/</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-5F84DA85-7D5B-4EEC-9785-80877F3FCA54__CHDGAIBA">
                     <p class="titleinexample">Example 10-16 Dequeuing Grouped Messages</p><pre class="oac_no_warn" dir="ltr">SET SERVEROUTPUT ON
DECLARE
   dequeue_options       DBMS_AQ.dequeue_options_t;
   message_properties    DBMS_AQ.message_properties_t;
   message_handle        RAW(16);
   message               test.message_typ;
   no_messages           exception;
   end_of_group          exception;
   PRAGMA EXCEPTION_INIT (no_messages, -25228);
   PRAGMA EXCEPTION_INIT (end_of_group, -25235);
BEGIN
   dequeue_options.wait       := DBMS_AQ.NO_WAIT;
   dequeue_options.navigation := DBMS_AQ.FIRST_MESSAGE;
   LOOP
     BEGIN
     DBMS_AQ.DEQUEUE(
        queue_name         =&gt; 'test.group_queue',
        dequeue_options    =&gt; dequeue_options,
        message_properties =&gt; message_properties,
        payload            =&gt; message,
        msgid              =&gt; message_handle);
     DBMS_OUTPUT.PUT_LINE(message.subject || ': ' || message.text );
     dequeue_options.navigation := DBMS_AQ.NEXT_MESSAGE;
     EXCEPTION
       WHEN end_of_group THEN
         DBMS_OUTPUT.PUT_LINE ('Finished ' || message.subject);
         COMMIT;
         dequeue_options.navigation := DBMS_AQ.NEXT_TRANSACTION;
     END;
   END LOOP;
   EXCEPTION
     WHEN no_messages THEN
       DBMS_OUTPUT.PUT_LINE ('No more messages');
END;
/</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-5F84DA85-7D5B-4EEC-9785-80877F3FCA54__CHDIACIJ">
                     <p class="titleinexample">Example 10-17 Dequeuing Messages for RED from a Multiconsumer Queue</p><pre class="oac_no_warn" dir="ltr">SET SERVEROUTPUT ON
DECLARE
  dequeue_options       DBMS_AQ.dequeue_options_t;
  message_properties    DBMS_AQ.message_properties_t;
  message_handle        RAW(16);
  message               test.message_typ;
  no_messages           exception;
  PRAGMA EXCEPTION_INIT (no_messages, -25228);
BEGIN
  dequeue_options.wait          := DBMS_AQ.NO_WAIT;
  dequeue_options.consumer_name := 'RED';
  dequeue_options.navigation    := DBMS_AQ.FIRST_MESSAGE;
  LOOP
   BEGIN
    DBMS_AQ.DEQUEUE(
      queue_name         =&gt; 'test.multiconsumer_queue',
      dequeue_options    =&gt; dequeue_options,
      message_properties =&gt; message_properties,
      payload            =&gt; message,
      msgid              =&gt; message_handle);
    DBMS_OUTPUT.PUT_LINE('Message: '|| message.subject ||' .. '|| message.text );
    dequeue_options.navigation := DBMS_AQ.NEXT_MESSAGE;
   END;
  END LOOP;
  EXCEPTION
    WHEN no_messages THEN
    DBMS_OUTPUT.PUT_LINE ('No more messages for RED');
  COMMIT;
END;
/
</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-5F84DA85-7D5B-4EEC-9785-80877F3FCA54__CHDBJBDB">
                     <p class="titleinexample">Example 10-18 Dequeue in Browse Mode and Remove Specified Message </p><pre class="oac_no_warn" dir="ltr">SET SERVEROUTPUT ON
DECLARE
   dequeue_options     DBMS_AQ.dequeue_options_t;
   message_properties  DBMS_AQ.message_properties_t;
   message_handle      RAW(16);
   message             test.message_typ;
BEGIN
   dequeue_options.dequeue_mode := DBMS_AQ.BROWSE;
   LOOP
      DBMS_AQ.DEQUEUE(
        queue_name              =&gt; 'test.obj_queue',
        dequeue_options         =&gt; dequeue_options,
        message_properties      =&gt; message_properties,
        payload                 =&gt; message,
        msgid                   =&gt; message_handle);
      DBMS_OUTPUT.PUT_LINE ('Browsed Message Text: ' || message.text);
      EXIT WHEN message.subject = 'PINK';
   END LOOP;
   dequeue_options.dequeue_mode := DBMS_AQ.REMOVE;
   dequeue_options.msgid        := message_handle;
   DBMS_AQ.DEQUEUE(
           queue_name           =&gt; 'test.obj_queue',
           dequeue_options      =&gt; dequeue_options,
           message_properties   =&gt; message_properties,
           payload              =&gt; message,
           msgid                =&gt; message_handle);
   DBMS_OUTPUT.PUT_LINE('Removed Message Text: ' || message.text);
   COMMIT;
END;
/
</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-5F84DA85-7D5B-4EEC-9785-80877F3FCA54__CHDDCJFF">
                     <p class="titleinexample">Example 10-19 Dequeue in Locked Mode and Remove Specified Message</p><pre class="oac_no_warn" dir="ltr">SET SERVEROUTPUT ON
DECLARE
   dequeue_options     DBMS_AQ.dequeue_options_t;
   message_properties  DBMS_AQ.message_properties_t;
   message_handle      RAW(16);
   message             test.message_typ;
BEGIN
   dequeue_options.dequeue_mode := DBMS_AQ.LOCKED;
   LOOP
      DBMS_AQ.dequeue(
        queue_name         =&gt; 'test.obj_queue',
        dequeue_options    =&gt; dequeue_options,
        message_properties =&gt; message_properties,
        payload            =&gt; message,
        msgid              =&gt; message_handle);
      DBMS_OUTPUT.PUT_LINE('Locked Message Text: ' || message.text);
      EXIT WHEN message.subject = 'PURPLE';
   END LOOP;
   dequeue_options.dequeue_mode := DBMS_AQ.REMOVE;
   dequeue_options.msgid        := message_handle;
   DBMS_AQ.DEQUEUE(
     queue_name           =&gt; 'test.obj_queue',
     dequeue_options      =&gt; dequeue_options,
     message_properties   =&gt; message_properties,
     payload              =&gt; message,
     msgid                =&gt; message_handle);
   DBMS_OUTPUT.PUT_LINE('Removed Message Text: ' || message.text);
   COMMIT;
END;
/
</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE2849"></a><a id="ADQUE2848"></a><div class="props_rev_3"><a id="GUID-0B018200-824D-458D-98E7-7445AF8B628F" name="GUID-0B018200-824D-458D-98E7-7445AF8B628F"></a><h3 id="ADQUE-GUID-0B018200-824D-458D-98E7-7445AF8B628F" class="sect3"><span class="enumeration_section">10.6 </span>Dequeuing an Array of Messages
               </h3>
               <div>
                  <p>Use the <code class="codeph">DEQUEUE_ARRAY</code> function to dequeue an array of payloads and a corresponding array of message properties. 
                  </p>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_AQ.DEQUEUE_ARRAY(
   queue_name                IN      VARCHAR2,
   dequeue_options           IN      dequeue_options_t,
   array_size                IN      PLS_INTEGER, 
   message_properties_array  OUT     message_properties_array_t,
   payload_array             OUT     VARRAY,
   msgid_array               OUT     msgid_array_t)
RETURN PLS_INTEGER;
</pre><p>The output is an array of payloads, message IDs, and message properties of the dequeued messages. The function returns the number of messages successfully dequeued.</p>
                     <p><a id="d61372e2102" class="indexterm-anchor"></a>Array dequeuing is not supported for buffered messages, but you can still use <code class="codeph">DBMS_AQ.DEQUEUE_ARRAY()</code> to dequeue buffered messages by setting <code class="codeph">array_size</code> to <code class="codeph">1</code>.
                     </p>
                     <p>The payload structure can be a <code class="codeph">VARRAY</code> or nested table. The message identifiers are returned into an array of <code class="codeph">RAW(16)</code> entries of type <code class="codeph">DBMS_AQ.msgid_array_t</code>. The message properties are returned into an array of type <code class="codeph">DBMS_AQ.message_properties_array_t</code>.
                     </p>
                     <p>As with array operations in the relational world, it is not possible to provide a single optimum array size that will be correct in all circumstances. Application developers must experiment with different array sizes to determine the optimal value for their particular applications. </p>
                     <p>All dequeue options available with <code class="codeph">DBMS_AQ.DEQUEUE</code> are also available with <code class="codeph">DBMS_AQ.DEQUEUE_ARRAY</code>. You can choose to dequeue only persistent messages, only buffered messages, or both. In addition, the <code class="codeph">navigation</code> attribute of <code class="codeph">dequeue_options</code> offers two options specific to <code class="codeph">DBMS_AQ.DEQUEUE_ARRAY</code>.
                     </p>
                     <p>When dequeuing messages, you might want to dequeue all the messages for a transaction group with a single call. You might also want to dequeue messages that span multiple transaction groups. You can specify either of these methods by using one of the following navigation methods:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">NEXT_MESSAGE_ONE_GROUP</code> 
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">FIRST_MESSAGE_ONE_GROUP</code> 
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">NEXT_MESSAGE_MULTI_GROUP</code> 
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">FIRST_MESSAGE_MULTI_GROUP</code> 
                           </p>
                        </li>
                     </ul>
                     <p>Navigation method <code class="codeph">NEXT_MESSAGE_ONE_GROUP</code> dequeues messages that match the search criteria from the next available transaction group into an array. Navigation method <code class="codeph">FIRST_MESSAGE_ONE_GROUP</code> resets the position to the beginning of the queue and dequeues all the messages in a single transaction group that are available and match the search criteria.
                     </p>
                     <p>The number of messages dequeued is determined by an array size limit. If the number of messages in the transaction group exceeds <code class="codeph">array_size</code>, then multiple calls to <code class="codeph">DEQUEUE_ARRAY</code> must be made to dequeue all the messages for the transaction group.
                     </p>
                     <p>Navigation methods <code class="codeph">NEXT_MESSAGE_MULTI_GROUP</code> and <code class="codeph">FIRST_MESSAGE_MULTI_GROUP</code> work like their <code class="codeph">ONE_GROUP</code> counterparts, but they are not limited to a single transaction group. Each message that is dequeued into the array has an associated set of message properties. Message property <code class="codeph">transaction_group</code> determines which messages belong to the same transaction group.
                     </p>
                     <p><a href="aq-operations-using-pl-sql.html#GUID-0B018200-824D-458D-98E7-7445AF8B628F__BCFEACBF">Example 10-20</a> dequeues the messages enqueued in <a href="aq-operations-using-pl-sql.html#GUID-92FCE63B-7713-443A-84A3-9F543F0A8819__CHDHAFJA">Example 10-11</a>. It returns:
                     </p><pre class="oac_no_warn" dir="ltr">Number of messages dequeued: 2</pre><div class="infoboxnotealso" id="GUID-0B018200-824D-458D-98E7-7445AF8B628F__GUID-F361158F-D049-488D-AF9F-B24E0E89A854">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="aq-operations-using-pl-sql.html#GUID-5F84DA85-7D5B-4EEC-9785-80877F3FCA54" title="This procedure dequeues a message from the specified queue.">Dequeuing Messages</a>"</span></p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-0B018200-824D-458D-98E7-7445AF8B628F__BCFEACBF">
                     <p class="titleinexample">Example 10-20 Dequeuing an Array of Messages</p><pre class="oac_no_warn" dir="ltr">SET SERVEROUTPUT ON
DECLARE
  dequeue_options       DBMS_AQ.dequeue_options_t;
  msg_prop_array        DBMS_AQ.message_properties_array_t := 
                        DBMS_AQ.message_properties_array_t();
  payload_array         test.msg_table;
  msgid_array           DBMS_AQ.msgid_array_t;
  retval                PLS_INTEGER;
BEGIN
  retval := DBMS_AQ.DEQUEUE_ARRAY( 
              queue_name               =&gt; 'test.obj_queue',
              dequeue_options          =&gt; dequeue_options,
              array_size               =&gt; 2,
              message_properties_array =&gt; msg_prop_array,
              payload_array            =&gt; payload_array,
              msgid_array              =&gt; msgid_array);
  DBMS_OUTPUT.PUT_LINE('Number of messages dequeued: ' || retval);
END;/
 </pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE2851"></a><a id="ADQUE2850"></a><div class="props_rev_3"><a id="GUID-DBBE096A-EEA0-4E1E-AC3F-6E1B492D1FB5" name="GUID-DBBE096A-EEA0-4E1E-AC3F-6E1B492D1FB5"></a><h3 id="ADQUE-GUID-DBBE096A-EEA0-4E1E-AC3F-6E1B492D1FB5" class="sect3"><span class="enumeration_section">10.7 </span>Registering for Notification
               </h3>
               <div>
                  <p>This procedure registers an e-mail address, user-defined PL/SQL procedure, or HTTP URL for message notification. </p>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_AQ.REGISTER(
   reg_list     IN SYS.AQ$_REG_INFO_LIST,
   reg_count    IN NUMBER);
</pre><div class="infoboxnote" id="GUID-DBBE096A-EEA0-4E1E-AC3F-6E1B492D1FB5__GUID-6B6EAB4C-AB32-4C3C-A4AC-7C396FB3DDED">
                        <p class="notep1">Note:</p>
                        <p>Starting from 12<span class="italic">c</span> Release 2 (12.2.), the maximum length of user-generated queue names is 122 bytes. See <span class="q">"<a href="aq-administrative-interface.html#GUID-E140B4B5-DB4C-4DFC-8F67-C032516D0324" title="DBMS_AQADM.CREATE_QUEUE creates a non-sharded queue.">Creating a Queue</a>"</span>.
                        </p>
                     </div>
                     <p><a id="d61372e2326" class="indexterm-anchor"></a>The <code class="codeph">reg_list</code> parameter is a list of <code class="codeph">SYS.AQ$_REG_INFO</code> objects. You can specify notification quality of service with the <code class="codeph">qosflags</code> attribute of <code class="codeph">SYS.AQ$_REG_INFO</code>. 
                     </p>
                     <p><a id="d61372e2344" class="indexterm-anchor"></a>The <code class="codeph">reg_count</code> parameter specifies the number of entries in the <code class="codeph">reg_list</code>. Each subscription requires its own <code class="codeph">reg_list</code> entry. Interest in several subscriptions can be registered at one time. 
                     </p>
                     <p>When PL/SQL notification is received, the Oracle Database Advanced Queuing message properties descriptor that the callback is invoked with specifies the <code class="codeph">delivery_mode</code> of the message notified as <code class="codeph">DBMS_AQ.PERSISTENT</code> or <code class="codeph">DBMS_AQ.BUFFERED</code>.
                     </p>
                     <p>If you register for e-mail notifications, then you must set the host name and port name for the SMTP server that will be used by the database to send e-mail notifications. If required, you should set the send-from e-mail address, which is set by the database as the <code class="codeph">sent from</code> field. You need a Java-enabled database to use this feature.
                     </p>
                     <p>If you register for HTTP notifications, then you might want to set the host name and port number for the proxy server and a list of no-proxy domains that will be used by the database to post HTTP notifications.</p>
                     <p>An internal queue called <code class="codeph">SYS.AQ_SRVNTFN_TABLE_Q</code> stores the notifications to be processed by the job queue processes. If notification fails, then Oracle Database Advanced Queuing retries the failed notification up to <code class="codeph">MAX_RETRIES</code> attempts. 
                     </p>
                     <div class="infoboxnote" id="GUID-DBBE096A-EEA0-4E1E-AC3F-6E1B492D1FB5__GUID-AC99BBC6-B0E9-4AAC-882D-D5FBCF031214">
                        <p class="notep1">Note:</p>
                        <p>You can change the <code class="codeph">MAX_RETRIES</code> and <code class="codeph">RETRY_DELAY</code> properties of <code class="codeph">SYS.AQ_SRVNTFN_TABLE_Q</code>. The new settings are applied across all notifications.
                        </p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-DBBE096A-EEA0-4E1E-AC3F-6E1B492D1FB5__GUID-4648DC70-9119-4219-9335-AB242EBBBE0A">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="aq-basic-components.html#GUID-94CBE09C-EE8C-4874-A30D-CCBE1F8D862E" title="This component identifies a producer or a consumer of a message.">AQ Registration Information Type</a>"</span> for more information on <code class="codeph">SYS.AQ$_REG_INFO</code> objects
                              </p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="aq-basic-components.html#GUID-5B9C62D6-ED8A-4E35-9889-16F5166D4144" title="This component specifies the Oracle Database Advanced Queuing descriptor received by AQ PL/SQL callbacks upon notification.">AQ Notification Descriptor Type</a>"</span> for more information on the message properties descriptor
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-DBBE096A-EEA0-4E1E-AC3F-6E1B492D1FB5__GUID-67FA4C4E-5B24-46EB-90DC-32E056D08BF1">
                     <p class="titleinexample">Example 10-21 Registering for Notifications</p><pre class="oac_no_warn" dir="ltr">DECLARE
  reginfo             sys.aq$_reg_info;
  reg_list            sys.aq$_reg_info_list;
BEGIN
  reginfo := sys.aq$_reg_info(
                      'test.obj_queue',
                      DBMS_AQ.NAMESPACE_ANONYMOUS,
                      'http://www.company.com:8080', 
                      HEXTORAW('FF'));
  reg_list  := sys.aq$_reg_info_list(reginfo);
  DBMS_AQ.REGISTER(
    reg_list     =&gt; reg_list, 
    reg_count    =&gt; 1);
  COMMIT;
END;
/
</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE2852"></a><div class="props_rev_3"><a id="GUID-3FD95C26-D2FF-49CF-BBCF-A6E40468D55E" name="GUID-3FD95C26-D2FF-49CF-BBCF-A6E40468D55E"></a><h3 id="ADQUE-GUID-3FD95C26-D2FF-49CF-BBCF-A6E40468D55E" class="sect3"><span class="enumeration_section">10.8 </span>Unregistering for Notification
               </h3>
               <div>
                  <p>This procedure unregisters an e-mail address, user-defined PL/SQL procedure, or HTTP URL for message notification. </p>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_AQ.UNREGISTER(
   reg_list     IN SYS.AQ$_REG_INFO_LIST,
   reg_count    IN NUMBER);
</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADQUE2854"></a><a id="ADQUE2853"></a><div class="props_rev_3"><a id="GUID-4C80C7E8-DAD2-49CA-9294-895581A64378" name="GUID-4C80C7E8-DAD2-49CA-9294-895581A64378"></a><h3 id="ADQUE-GUID-4C80C7E8-DAD2-49CA-9294-895581A64378" class="sect3"><span class="enumeration_section">10.9 </span>Posting for Subscriber Notification
               </h3>
               <div>
                  <p>This procedure posts to a list of anonymous subscriptions, allowing all clients who are registered for the subscriptions to get notifications of persistent messages. </p>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_AQ.POST(
  post_list       IN  SYS.AQ$_POST_INFO_LIST,
  post_count      IN  NUMBER);
</pre><p>This feature is not supported with buffered messages.</p>
                     <p>The <code class="codeph">count</code> parameter specifies the number of entries in the <code class="codeph">post_list</code>. Each posted subscription must have its own entry in the <code class="codeph">post_list</code>. Several subscriptions can be posted to at one time. 
                     </p>
                     <p>The <code class="codeph">post_list</code> parameter specifies the list of anonymous subscriptions to which you want to post. It has three attributes:
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a id="d61372e2592" class="indexterm-anchor"></a><code class="codeph">name</code></p>
                           <p>The <code class="codeph">name</code> attribute specifies the name of the anonymous subscription to which you want to post.
                           </p>
                        </li>
                        <li>
                           <p><a id="d61372e2605" class="indexterm-anchor"></a><code class="codeph">namespace</code></p>
                           <p>The <code class="codeph">namespace</code> attribute specifies the namespace of the subscription. To receive notifications from other applications through <code class="codeph">DBMS_AQ.POST</code> the namespace must be <code class="codeph">DBMS_AQ.NAMESPACE_ANONYMOUS</code>.
                           </p>
                        </li>
                        <li>
                           <p><a id="d61372e2624" class="indexterm-anchor"></a><code class="codeph">payload</code></p>
                           <p>The <code class="codeph">payload</code> attribute specifies the payload to be posted to the anonymous subscription. It is possible for no payload to be associated with this call. 
                           </p>
                        </li>
                     </ul>
                     <p>This call provides a best-effort guarantee. A notification goes to registered clients at most once. This call is primarily used for lightweight notification. If an application needs more rigid guarantees, then it can enqueue to a queue. </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-4C80C7E8-DAD2-49CA-9294-895581A64378__GUID-94657F22-8CCB-44FB-9686-716FBFE77755">
                     <p class="titleinexample">Example 10-22 Posting Object-Type Messages</p><pre class="oac_no_warn" dir="ltr">DECLARE
  postinfo            sys.aq$_post_info;
  post_list           sys.aq$_post_info_list;
BEGIN
  postinfo  := sys.aq$_post_info('test.obj_queue',0,HEXTORAW('FF')); 
  post_list := sys.aq$_post_info_list(postinfo);
  DBMS_AQ.POST(
    post_list       =&gt; post_list,
    post_count      =&gt; 1);
  COMMIT;
END;
/</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="ADQUE2855"></a><div class="props_rev_3"><a id="GUID-E4F131CA-964F-4DF7-86EE-FB37078DD157" name="GUID-E4F131CA-964F-4DF7-86EE-FB37078DD157"></a><h3 id="ADQUE-GUID-E4F131CA-964F-4DF7-86EE-FB37078DD157" class="sect3"><span class="enumeration_section">10.10 </span>Adding an Agent to the LDAP Server
               </h3>
               <div>
                  <p>This procedure creates an entry for an Oracle Database Advanced Queuing agent in the LDAP server.</p>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_AQ.BIND_AGENT(
   agent        IN SYS.AQ$_AGENT,
   certificate  IN VARCHAR2 default NULL);
</pre><p>The <code class="codeph">agent</code> parameter specifies the Oracle Database Advanced Queuing Agent that is to be registered in <a href="glossary.html#GUID-6BF3485C-E98F-4344-A7DE-64950BCCE160"><span class="xrefglossterm">Lightweight Directory Access Protocol</span></a> (LDAP) server. 
                     </p>
                     <p><a id="d61372e2718" class="indexterm-anchor"></a>The <code class="codeph">certificate</code> parameter specifies the location (LDAP distinguished name) of the <code class="codeph">OrganizationalPerson</code> entry in LDAP whose digital certificate (attribute <code class="codeph">usercertificate</code>) is to be used for this agent. For example, "<code class="codeph">cn=OE, cn=ACME, cn=com</code>" is a distinguished name for a <code class="codeph">OrganizationalPerson</code> <code class="codeph">OE</code> whose certificate will be used with the specified agent. If the agent does not have a digital certificate, then this parameter is defaulted to null.
                     </p>
                     <div class="infoboxnotealso" id="GUID-E4F131CA-964F-4DF7-86EE-FB37078DD157__GUID-31833F55-0391-4079-9C42-9B56505965F8">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="aq-basic-components.html#GUID-2C5557D9-E11B-4AB9-94E0-F923C85D6E0A" title="This component identifies a producer or consumer of a message.">AQ Agent Type</a>"</span></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADQUE2856"></a><div class="props_rev_3"><a id="GUID-E6B7E2DC-9FD6-4EA8-8A92-D9929B9EA1B7" name="GUID-E6B7E2DC-9FD6-4EA8-8A92-D9929B9EA1B7"></a><h3 id="ADQUE-GUID-E6B7E2DC-9FD6-4EA8-8A92-D9929B9EA1B7" class="sect3"><span class="enumeration_section">10.11 </span>Removing an Agent from the LDAP Server
               </h3>
               <div>
                  <p>This procedure removes the entry for an Oracle Database Advanced Queuing agent from the LDAP server.</p>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">DBMS_AQ.UNBIND_AGENT(
   agent    IN SYS.AQ$_AGENT);
</pre></div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='13406.upgrading-oracle-database-upgrade-assistant-dbua.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Database Upgrade Assistant (DBUA) provides a graphical user interface to guide you through the upgrade of Oracle Database. DBUA works for CDB and non-CDB database systems.">
      <meta name="description" content="Database Upgrade Assistant (DBUA) provides a graphical user interface to guide you through the upgrade of Oracle Database. DBUA works for CDB and non-CDB database systems.">
      <title>Upgrading with Oracle Database Upgrade Assistant (DBUA)</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database Upgrade Guide">
      <meta property="og:description" content="Database Upgrade Assistant (DBUA) provides a graphical user interface to guide you through the upgrade of Oracle Database. DBUA works for CDB and non-CDB database systems.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database Upgrade Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-upgrade-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-04-25T08:26:31-07:00">
      <meta name="dcterms.title" content="Database Upgrade Guide">
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96252-05">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="upgrading-parallel-upgrade-utility-catctl-pl.html" title="Previous" type="text/html">
      <link rel="next" href="upgrade-scenarios-non-cdb-oracle-databases.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="UPGRD">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="upgrading-parallel-upgrade-utility-catctl-pl.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="upgrade-scenarios-non-cdb-oracle-databases.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database Upgrade Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="upgrading-oracle-database.html" property="item" typeof="WebPage"><span property="name">Upgrading Oracle Database</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Upgrading with Oracle Database Upgrade Assistant (DBUA)</li>
            </ol>
            <a id="GUID-BBF591A5-EB02-405A-9F99-572429838C73" name="GUID-BBF591A5-EB02-405A-9F99-572429838C73"></a><a id="UPGRD105"></a>
            
            <h2 id="UPGRD-GUID-BBF591A5-EB02-405A-9F99-572429838C73" class="sect2">Upgrading with Oracle Database Upgrade Assistant (DBUA)</h2>
         </header>
         <div class="ind">
            <div>
               <p>Database Upgrade Assistant (DBUA) provides a graphical user interface to guide you through the upgrade of Oracle Database. DBUA works for CDB and non-CDB database systems.</p>
               <div class="infoboxnote" id="GUID-BBF591A5-EB02-405A-9F99-572429838C73__GUID-9D6A6600-CD13-4A5C-99AE-334C4DD0EB43">
                  <p class="notep1">Note:</p>
                  <p>You can start DBUA in silent mode, which does not present a user interface. Silent mode can be useful for large roll-outs and scripts.</p>
               </div>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="upgrading-oracle-database-upgrade-assistant-dbua.html#GUID-04161A85-6A67-4404-B7A7-69A3713C5F99">Recommendations for Using DBUA</a><br>Review this topic to use Database Upgrade Assistant (DBUA) for multitenant architecture and non-CDB Oracle Database upgrades. 
                  </li>
                  <li class="ulchildlink"><a href="upgrading-oracle-database-upgrade-assistant-dbua.html#GUID-A10C2BBB-F884-4BD3-A8EA-3A8E48029E2E">About Stopping DBUA When Upgrading</a><br>You must complete an upgrade manually if you stop DBUA.
                  </li>
                  <li class="ulchildlink"><a href="upgrading-oracle-database-upgrade-assistant-dbua.html#GUID-0F7FD8A1-4615-46EA-8083-E565CB450EAA">How DBUA Processes the Upgrade for Oracle Database</a><br>You can start DBUA as part of the database software installation, or you can start it manually after installing the software.
                  </li>
                  <li class="ulchildlink"><a href="upgrading-oracle-database-upgrade-assistant-dbua.html#GUID-8BDDF859-1638-45AC-824D-78FC8154847C">Upgrade Scripts Started by DBUA</a><br>During the upgrade, DBUA automatically runs the appropriate upgrade scripts to automate the upgrade and minimize downtime. 
                  </li>
                  <li class="ulchildlink"><a href="upgrading-oracle-database-upgrade-assistant-dbua.html#GUID-307DACD9-ECEE-4079-B767-B22620B99900">Using DBUA to Upgrade the Database on Linux, Unix, and Windows Systems</a><br>To upgrade a database using the DBUA graphical user interface, perform these steps from within the new Oracle home.
                  </li>
                  <li class="ulchildlink"><a href="upgrading-oracle-database-upgrade-assistant-dbua.html#GUID-F929338D-48EE-434F-A5F9-A9E7CD61B17F">Moving a Database from an Existing Oracle Home</a><br>Use this procedure to migrate Oracle Databases to another Oracle Database 18c or later home. 
                  </li>
                  <li class="ulchildlink"><a href="upgrading-oracle-database-upgrade-assistant-dbua.html#GUID-25EB7D5A-284E-4A39-85E2-640DE452AC57">Using DBUA in Silent Mode to Upgrade Oracle Database</a><br>You can DBUA with the <code>-silent</code> command line option to carry out noninteractive (silent) upgrades using DBUA.
                  </li>
               </ul>
               <div class="relinfo">
                  <p><strong>Related Topics</strong></p>
                  <ul>
                     <li><a href="upgrading-oracle-database-upgrade-assistant-dbua.html#GUID-25EB7D5A-284E-4A39-85E2-640DE452AC57" title="You can DBUA with the -silent command line option to carry out noninteractive (silent) upgrades using DBUA.">Using DBUA in Silent Mode to Upgrade Oracle Database</a></li>
                  </ul>
               </div>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="upgrading-oracle-database.html#GUID-CC88F262-3370-4FFA-8604-EDA9F20F56D9" title="Oracle provides a comprehensive set of tools for upgrading Oracle Database with minimal downtime and for migrating your applications to the new release.">Upgrading Oracle Database</a></p>
                  </div>
               </div>
            </div><a id="UPGRD52727"></a><div class="props_rev_3"><a id="GUID-04161A85-6A67-4404-B7A7-69A3713C5F99" name="GUID-04161A85-6A67-4404-B7A7-69A3713C5F99"></a><h3 id="UPGRD-GUID-04161A85-6A67-4404-B7A7-69A3713C5F99" class="sect3">Recommendations for Using DBUA</h3>
               <div>
                  <p>Review this topic to use Database Upgrade Assistant (DBUA) for multitenant architecture and non-CDB Oracle Database upgrades. </p>
                  <p>You can use DBUA to upgrade multitenant architecture container databases (CDB), pluggable databases (PDBs), and non-CDB databases. The procedures are the same, but the choices you must make and the behavior of DBUA are different, depending on the type of upgrade:</p>
                  <div class="infoboxnote" id="GUID-04161A85-6A67-4404-B7A7-69A3713C5F99__GUID-1CCC8017-B87A-4886-A797-25EDF0EAAA25">
                     <p class="notep1">Note:</p>
                     <p>Starting with Oracle Database 12<span class="italic">c</span>, release 1 (12.1), non-CDB architecture is deprecated. It can be desupported in a future release.
                     </p>
                  </div>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>For all upgrades, before using DBUA to upgrade your system, Oracle strongly recommends that you run the Pre-Upgrade Information Tool manually. DBUA runs the Pre-Upgrade Information Tool as part of the prerequisite checks it performs before starting the upgrade. However, to reduce downtime, Oracle recommends that you run the Pre-Upgrade Information Tool as part of your upgrade planning, so that you can analyze the database, and take proactive steps before your planned upgrade date.</p>
                     </li>
                     <li>
                        <div class="p">To use guaranteed restore points, ensure that the database ARCHIVE LOG and FLASHBACK modes are on during upgrade. You can confirm that they are on by entering the following SQL command:<pre class="pre codeblock"><code>SQL&gt; select log_mode,flashback_on from v$database;</code></pre></div>
                     </li>
                     <li>
                        <p>If the database instance is not running, then DBUA tries to start the instance. If the instance is up and running, then DBUA connects to it.</p>
                     </li>
                     <li>
                        <p>If you restore your database manually (not using DBUA), then before starting DBUA, remove the <code class="codeph">Welcome_</code><span class="variable" translate="no">SID</span><code class="codeph">.txt</code> file, which is located in the directory <code class="codeph"><span class="variable" translate="no">ORACLE_HOME</span>/cfgtoollogs/dbua/logs/</code>. If DBUA finds this file, then DBUA starts in a re-run operation.
                        </p>
                     </li>
                     <li>
                        <p>Restore scripts generally enable you to restore your database (Non-CDB single instance, high availability, or Oracle RAC) back to the earlier release and earlier Oracle home location. However, if you have registered your database with Oracle Internet Directory (OID), then the restore script cannot unregister Oracle Internet Directory. You must log in as an authorized user, and unregister the later release database manually. </p>
                     </li>
                     <li>
                        <p>If Oracle Database Vault is enabled, then review in this document Requirement for Upgrading Oracle Databases That Use Oracle Database Vault. </p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-04161A85-6A67-4404-B7A7-69A3713C5F99__GUID-7C229766-ACAD-45F2-AAA7-F5286FF58892">
                     <p class="notep1">See Also:</p>
                     <p><a href="../multi/introduction-to-the-multitenant-architecture.html#CNCPT89234" target="_blank"><span><cite>Oracle Database Concepts</cite></span></a> for an overview and documentation roadmap for working with a CDB and PDBs
                     </p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="upgrading-oracle-database-upgrade-assistant-dbua.html#GUID-BBF591A5-EB02-405A-9F99-572429838C73" title="Database Upgrade Assistant (DBUA) provides a graphical user interface to guide you through the upgrade of Oracle Database. DBUA works for CDB and non-CDB database systems.">Upgrading with Oracle Database Upgrade Assistant (DBUA)</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="UPGRD60156"></a><div class="props_rev_3"><a id="GUID-A10C2BBB-F884-4BD3-A8EA-3A8E48029E2E" name="GUID-A10C2BBB-F884-4BD3-A8EA-3A8E48029E2E"></a><h3 id="UPGRD-GUID-A10C2BBB-F884-4BD3-A8EA-3A8E48029E2E" class="sect3">About Stopping DBUA When Upgrading</h3>
               <div>
                  <p>You must complete an upgrade manually if you stop DBUA.</p>
                  <p>If you stop the upgrade, but do not restore the database, then you cannot continue to upgrade using DBUA. You must instead continue the upgrade using the manual (command line) upgrade procedure. You cannot go back to the original Oracle Database server unless you restore your database.</p>
                  <p></p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="manual-upgrade-scenarios-multitenant-architecture-oracle-databases.html#GUID-7E127507-D2F5-4771-A8A9-BAF6E553831B">Manually Upgrading a Multitenant Container Oracle Database (CDB)</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="upgrading-oracle-database-upgrade-assistant-dbua.html#GUID-BBF591A5-EB02-405A-9F99-572429838C73" title="Database Upgrade Assistant (DBUA) provides a graphical user interface to guide you through the upgrade of Oracle Database. DBUA works for CDB and non-CDB database systems.">Upgrading with Oracle Database Upgrade Assistant (DBUA)</a></p>
                     </div>
                  </div>
               </div>
            </div><a id="UPGRD52728"></a><div class="props_rev_3"><a id="GUID-0F7FD8A1-4615-46EA-8083-E565CB450EAA" name="GUID-0F7FD8A1-4615-46EA-8083-E565CB450EAA"></a><h3 id="UPGRD-GUID-0F7FD8A1-4615-46EA-8083-E565CB450EAA" class="sect3">How DBUA Processes the Upgrade for Oracle Database</h3>
               <div>
                  <p>You can start DBUA as part of the database software installation, or you can start it manually after installing the software.</p>
                  <p>If you install the new Oracle Database software, and you specify that you are upgrading an existing Oracle database, then DBUA starts automatically. You can also start DBUA independently after the installation is completed.</p>
                  <p>While the upgrade is in process, DBUA shows the upgrade progress for each component. DBUA writes detailed trace and log files and produces a complete HTML report for later reference. To enhance security, DBUA automatically locks new user accounts in the upgraded database. DBUA then proceeds to create new configuration files (parameter and listener files) in the new Oracle home.</p>
                  <p>DBUA does not begin the upgrade process until all the pre-upgrade steps are completed.</p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="rerunning-upgrades-oracle-database.html#GUID-190D00A4-BE9A-4139-B3FC-A29C2BFBE91B">Rerunning Upgrades for Oracle Database</a></li>
                        <li><a href="tasks-to-prepare-for-oracle-database-upgrades.html#GUID-3C319260-B5CD-4C50-B606-36D060FDF0BE">Tasks to Prepare for Oracle Database Upgrades</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="upgrading-oracle-database-upgrade-assistant-dbua.html#GUID-BBF591A5-EB02-405A-9F99-572429838C73" title="Database Upgrade Assistant (DBUA) provides a graphical user interface to guide you through the upgrade of Oracle Database. DBUA works for CDB and non-CDB database systems.">Upgrading with Oracle Database Upgrade Assistant (DBUA)</a></p>
                     </div>
                  </div>
               </div>
            </div><a id="UPGRD52730"></a><div class="props_rev_3"><a id="GUID-8BDDF859-1638-45AC-824D-78FC8154847C" name="GUID-8BDDF859-1638-45AC-824D-78FC8154847C"></a><h3 id="UPGRD-GUID-8BDDF859-1638-45AC-824D-78FC8154847C" class="sect3">Upgrade Scripts Started by DBUA</h3>
               <div>
                  <p>During the upgrade, DBUA automatically runs the appropriate upgrade scripts to automate the upgrade and minimize downtime. </p>
                  <p></p>
                  <p>During the prerequisite phase, DBUA runs the Pre-Upgrade Information Tool script, and uses the following logic to modify or create new required tablespaces:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>If the data files are auto-extensible and have enough disk space to grow, then DBUA continues with the upgrade.</p>
                     </li>
                     <li>
                        <p>If the data files are not auto-extensible, then DBUA prompts you and makes the files auto-extensible.</p>
                     </li>
                     <li>
                        <p>If the tablespaces are auto-extensible and the <code class="codeph">MAXSIZE</code> initialization parameter needs adjustment, then DBUA prompts you to for this adjustment, and adjusts the <code class="codeph">MAXSIZE</code> parameter.
                        </p>
                     </li>
                     <li>
                        <p>If there is not enough disk space to grow, then DBUA prompts you to create space by adding more data files. DBUA does not automatically add new data files, because DBUA cannot determine where to create the files.</p>
                     </li>
                  </ul>
                  <p>DBUA addresses many issues found during the prerequisite phase. For example, DBUA can ensure that the correct time zone file is used, and make ACL adjustments for network access control lists.</p>
                  <p>During the upgrade phase, DBUA runs <code class="codeph">catctl.pl</code>, which runs the upgrade processes in parallel instead of serially. Parallel runs optimize utilization of CPU resources to hasten the upgrade and minimize downtime.
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="upgrading-oracle-database-upgrade-assistant-dbua.html#GUID-BBF591A5-EB02-405A-9F99-572429838C73" title="Database Upgrade Assistant (DBUA) provides a graphical user interface to guide you through the upgrade of Oracle Database. DBUA works for CDB and non-CDB database systems.">Upgrading with Oracle Database Upgrade Assistant (DBUA)</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="UPGRD52860"></a><div class="props_rev_3"><a id="GUID-307DACD9-ECEE-4079-B767-B22620B99900" name="GUID-307DACD9-ECEE-4079-B767-B22620B99900"></a><h3 id="UPGRD-GUID-307DACD9-ECEE-4079-B767-B22620B99900" class="sect3">Using DBUA to Upgrade the Database on Linux, Unix, and Windows Systems</h3>
               <div>
                  <p>To upgrade a database using the DBUA graphical user interface, perform these steps from within the new Oracle home.</p>
                  <p>On Microsoft Windows systems (Windows), run DBUA either as an Oracle Database administrative user (a user with the operating system-assigned <code class="codeph">ORA_DBA</code> role), or as the Oracle installation owner account.
                  </p>
                  <ol id="GUID-307DACD9-ECEE-4079-B767-B22620B99900__OL_YND_2LF_WFB">
                     <li>
                        <p> Start Oracle Database Upgrade Assistant (DBUA) from the Oracle home where the new database software is installed. The <code>dbua</code> executable is located in the directory path <code><span class="variable" translate="no">ORACLE_HOME</span>/bin</code>.
                        </p>
                        <ul style="list-style-type: disc;" id="GUID-307DACD9-ECEE-4079-B767-B22620B99900__UL_ZND_2LF_WFB">
                           <li>
                              <p>On Linux or Unix platforms, log in as a user with SYSDBA privileges, and enter the following command at a system prompt in the new home for Oracle Database 19c:</p><pre class="pre codeblock"><code>./dbua</code></pre></li>
                           <li>
                              <p>On Windows operating systems, select <span class="uicontrol bold">Start</span>, then <span class="uicontrol bold">Programs</span>, then <span class="uicontrol bold">Oracle <span class="variable" translate="no">HOME_NAME</span></span>, then<span class="uicontrol bold"> Configuration and Migration Tools</span>, and then <span class="uicontrol bold">Database Upgrade Assistant</span>.
                              </p>
                           </li>
                        </ul>
                     </li>
                     <li>The <span class="wintitle">Select Database</span> window displays. If you have earlier release Oracle Database installations, then these installations are listed as available to upgrade. 
                        <div class="figure" id="GUID-307DACD9-ECEE-4079-B767-B22620B99900__FIG_GWQ_4KJ_SFB"><img id="GUID-307DACD9-ECEE-4079-B767-B22620B99900__IMAGE_QY2_TKJ_SFB" src="img/dbua_1.png" alt="Description of dbua_1.png follows" title="Description of dbua_1.png follows" longdesc="img_text/dbua_1.html"><br><a href="img_text/dbua_1.html">Description of the illustration dbua_1.png</a></div>
                        <!-- class="figure" -->
                        <p>If you need help on any DBUA window, or if you want to consult more documentation about DBUA, then click <span class="uicontrol bold">Help</span> to open the online help.
                        </p>
                        <p>If needed, enter the SYSDBA user name and password for the database that you select. </p>
                        <p>If you run DBUA from a user account that does not have <code class="codeph">SYSDBA</code> privileges, or if the source database does not have operating system authentication, then you must enter the user name and password credentials to enable <code class="codeph">SYSDBA</code> privileges for the selected database. If the user account you use has SYSDBA privileges, or you used operating system authentication, then you do not need to enter the user name and password.
                        </p>
                        <p>Click <span class="uicontrol bold">Next</span> after making your selection.
                        </p>
                        <div class="infoboxnote" id="GUID-307DACD9-ECEE-4079-B767-B22620B99900__GUID-9A3BD702-6F5A-48BD-9F1F-72AF1AA0EF4E">
                           <p class="notep1">Note:</p>
                           <ul style="list-style-type: disc;" id="GUID-307DACD9-ECEE-4079-B767-B22620B99900__UL_A4D_2LF_WFB">
                              <li>
                                 <p>You can select only one database at a time.</p>
                              </li>
                              <li>
                                 <p>With single-instance upgrades, if the database does not appear in the list, then check to see if an entry with the database name exists in <code>/etc/oratab</code>. If the database is not listed there, then direct DBUA to upgrade particular databases:
                                 </p>
                                 <ul style="list-style-type: disc;" id="GUID-307DACD9-ECEE-4079-B767-B22620B99900__UL_B4D_2LF_WFB">
                                    <li>
                                       <p>If your single-instance database is not listed in <code class="codeph">/etc/oratab</code>, and DBUA can connect to the database, then you can direct DBUA to upgrade that database explicitly by starting DBUA using the command-line arguments <code class="codeph">-sid <span class="variable" translate="no">Oracle_SID</span></code>, <code class="codeph">-oracleHome <span class="variable" translate="no">Oracle_home</span>, and <code class="codeph">sysDBAPassword <span class="variable" translate="no">password</span></code></code> as a command-line argument. For example:
                                       </p><pre class="pre codeblock"><code>dbua -sid <span class="variable" translate="no">Oracle_SID</span> &#x2013;oracleHome /u01/app/oracle/18.1.0/dbhome1 -sysDBAUserName SYS -sysDBAPassword <span class="variable" translate="no">password</span></code></pre></li>
                                 </ul>
                              </li>
                              <li>
                                 <div class="p">If your account does not have SYSDBA privileges, or you do not have operating system authentication set up, then you can use the following syntax to connect, where <code class="codeph"><span class="variable" translate="no">mydb</span></code> is your Oracle Database SID, <code class="codeph"><span class="variable" translate="no">username</span></code> is a user name with SYSDBA privileges, and <code class="codeph"><span class="variable" translate="no">password</span></code> is that user names password:<pre class="pre codeblock"><code>dbua -sid <span class="variable" translate="no">mydb</span> &#x2013;oracleHome /u01/app/oracle/18.1.0/dbhome1 -sysDBAUserName - <span class="variable" translate="no">username</span> -sysDBAPassword - <span class="variable" translate="no">password</span></code></pre></div>
                              </li>
                              <li>
                                 <p>Oracle Real Application Clusters (Oracle RAC) upgrades: If the database does not appear on the list, then enter the following <code class="codeph">crsctl</code> command to check for Oracle RAC instances:
                                 </p>
                                 <p><code class="codeph">crsctl status resource -t</code></p>
                                 <p>You can also enter the following command to check for a particular Oracle RAC database, where <code class="codeph"><span class="variable" translate="no">db_name</span></code> is the Oracle RAC database name: 
                                 </p>
                                 <p><code class="codeph">crsctl status resource ora.<span class="variable" translate="no">db_name</span>.db</code></p>
                              </li>
                              <li>
                                 <p>On Microsoft Windows, the following security changes affect authentication and user accounts:</p>
                                 <ul style="list-style-type: disc;" id="GUID-307DACD9-ECEE-4079-B767-B22620B99900__UL_C4D_2LF_WFB">
                                    <li>
                                       <p>For security reasons, Windows NTS authentication using the NTLM protocol is no longer supported. Kerberos authentication is the only supported authentication. In this release, NTS does not work either in Windows NT domains, or in domains with Windows NT controllers.</p>
                                    </li>
                                    <li>
                                       <p>Oracle uses standard Microsoft Windows user accounts instead of the Windows <code class="codeph">LocalSystem</code> account to run Oracle database services. Reducing the account access privileges for the Oracle installation owner provides better security on Microsoft Windows.
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                           </ul>
                        </div>
                     </li>
                     <li>
                        <p>If the selected database is a multitenant container database (CDB), then DBUA displays the <span class="wintitle">Pluggable Databases</span> window. The <span class="wintitle">Pluggable Databases</span> window lists the pluggable databases contained in the CDB. The listed PDBs are upgraded as part of the upgrade for the selected CDB.
                        </p>
                        <div class="figure" id="GUID-307DACD9-ECEE-4079-B767-B22620B99900__GUID-67555BED-FD39-47A0-A127-2C7900FD17BD"><img id="GUID-307DACD9-ECEE-4079-B767-B22620B99900__IMAGE_E3Q_ZNJ_SFB" src="img/dbua_2.png" alt="Description of dbua_2.png follows" title="Description of dbua_2.png follows" longdesc="img_text/dbua_2.html"><br><a href="img_text/dbua_2.html">Description of the illustration dbua_2.png</a></div>
                        <!-- class="figure" -->
                        <p>You can select the upgrade priority for PDBs. Click in the priority column for each PDB, and enter a numeric value for upgrade priority, where 1 is upgraded first, 2 is upgraded second, and so on. </p>
                        <p>By default, <code class="codeph">CDB$ROOT</code>, <code class="codeph">PDB$SEED</code>, and all PDBs that are plugged into the CDB are upgraded. If you do not want some PDBs to be upgraded now, then unplug those PDBs. 
                        </p>
                        <p>When you have completed selecting PDBs and upgrade priorities, click <span class="uicontrol bold">Next</span>.
                        </p>
                     </li>
                     <li>
                        <p>Windows platforms only: If the upgrade target home is a secure home that is associated with an Oracle home user, then the <span class="wintitle">Specify Oracle Home User Password</span> window opens. For other platforms, proceed to the next step.
                        </p>
                        <div class="figure" id="GUID-307DACD9-ECEE-4079-B767-B22620B99900__GUID-5A3948CA-F65D-4F9A-87E7-66E82E7A9DDD"><img id="GUID-307DACD9-ECEE-4079-B767-B22620B99900__IMAGE_TZT_M42_TFB" src="img/dbua3a-win.png" alt="Description of dbua3a-win.png follows" title="Description of dbua3a-win.png follows" longdesc="img_text/dbua3a-win.html"><br><a href="img_text/dbua3a-win.html">Description of the illustration dbua3a-win.png</a></div>
                        <!-- class="figure" -->
                        <p>Provide the Oracle home user name, and provide the password for this user account, and click <span class="uicontrol bold">Next</span>. 
                        </p>
                     </li>
                     <li>
                        <p>The<span class="wintitle"> Prerequisite Checks</span> window opens. DBUA analyzes the databases, performing preupgrade checks and displaying warnings as necessary. The following is a list of examples of DBUA checks, and of actions that DBUA performs on the database:
                        </p>
                        <ul style="list-style-type: disc;" id="GUID-307DACD9-ECEE-4079-B767-B22620B99900__UL_D4D_2LF_WFB">
                           <li>
                              <p>Empty database recycle bin.</p>
                           </li>
                           <li>
                              <p>Identify invalid objects.</p>
                           </li>
                           <li>
                              <p>Identify deprecated and desupported initialization parameters.</p>
                           </li>
                           <li>
                              <p>Identify time zone data file version.</p>
                           </li>
                        </ul>
                        <p>The analysis takes several minutes to complete.</p>
                        <p>When DBUA finishes its analysis, the <span class="wintitle">Prerequisite Checks</span> window displays again, showing the results of the checks.
                        </p>
                        <div class="figure" id="GUID-307DACD9-ECEE-4079-B767-B22620B99900__GUID-24158971-D20A-4D41-B274-01DF86FF4EA8"><img id="GUID-307DACD9-ECEE-4079-B767-B22620B99900__IMAGE_O3D_RPJ_SFB" src="img/dbua_3.png" alt="Description of dbua_3.png follows" title="Description of dbua_3.png follows" longdesc="img_text/dbua_3.html"><br><a href="img_text/dbua_3.html">Description of the illustration dbua_3.png</a></div>
                        <!-- class="figure" -->
                        <p>The<span class="wintitle"> Prerequisite Checks</span> window shows the checks that DBUA has completed, and the severity of any errors discovered. When DBUA finds errors, it indicates which errors are fixable, and what action you can take to correct the error.
                        </p>
                        <p>Select <span class="uicontrol bold">Fix &amp; Check Again</span> if any errors that DBUA can fix appear.
                        </p>
                        <p>If DBUA detects errors that it cannot correct, then fix the cause of the error manually, and select <span class="uicontrol bold">Check Again</span>.
                        </p>
                        <p>If DBUA finds no errors or warnings, then the DBUA automatically bypasses this window and proceeds to the next window. </p>
                        <p>When you have fixed detected errors, click <span class="uicontrol bold">Next</span>.
                        </p>
                     </li>
                     <li>
                        <p>The <span class="wintitle">Select Upgrade Options</span> window displays. 
                        </p>
                        <div class="figure" id="GUID-307DACD9-ECEE-4079-B767-B22620B99900__GUID-80053CDF-0A36-4BFA-A3F4-CE9B177FDCF5"><img id="GUID-307DACD9-ECEE-4079-B767-B22620B99900__IMAGE_PZH_4QJ_SFB" src="img/dbua_4.png" alt="Description of dbua_4.png follows" title="Description of dbua_4.png follows" longdesc="img_text/dbua_4.html"><br><a href="img_text/dbua_4.html">Description of the illustration dbua_4.png</a></div>
                        <!-- class="figure" -->
                        <p>This window provides the following options:</p>
                        <p><span class="uicontrol bold">Enable Parallel Upgrade</span></p>
                        <p>Select this option if you want to enable parallelism during the upgrade process. Running upgrade processes in parallel reduces the time required to perform the upgrade, based on the number of CPUs available to handle the running of scripts and processes simultaneously.</p>
                        <p><span class="uicontrol bold">Recompile Invalid Objects During Post Upgrade</span></p>
                        <p>This option recompiles all invalid PL/SQL modules after the upgrade is complete. If you do not have DBUA recompile invalid objects in its post-upgrade phase, then you must manually recompile invalid objects after the database is upgraded.</p>
                        <p><span class="uicontrol bold">Upgrade Time Zone Data</span></p>
                        <p>This option updates the time zone data file for this release. If you do not select this option, then you must update the time zone configuration file manually after the upgrade.</p>
                        <p><span class="uicontrol bold">Specify custom SQL scripts to be executed</span>.
                        </p>
                        <p>If you want to run custom SQL scripts as part of your upgrade, then select this option. As needed, click <span class="uicontrol bold">Browse</span> for the <span class="uicontrol bold">Before Upgrade</span> or <span class="uicontrol bold">After Upgrade</span> input fields. Navigate to the location where your custom SQL scripts are located.
                        </p>
                        <p>When you have made your selections, click <span class="uicontrol bold">Next</span>. 
                        </p>
                     </li>
                     <li>
                        <p>The <span class="wintitle">Select Recovery Options</span> window appears. To recover the database if a failure occurs during upgrade, select from one of the following options:
                        </p>
                        <ul style="list-style-type: disc;" id="GUID-307DACD9-ECEE-4079-B767-B22620B99900__UL_E4D_2LF_WFB">
                           <li>
                              <p><span class="uicontrol bold">Use Flashback and Guaranteed Restore Point</span>.
                              </p>
                              <p>You can create a new Guaranteed Restore Point, or use an existing one. If you use an existing restore point, then click the selection field to select the restore point that you want to use. </p>
                              <div class="infoboxnote" id="GUID-307DACD9-ECEE-4079-B767-B22620B99900__GUID-8D48FEDD-7742-4B20-87BA-AF4C9D69B90D">
                                 <p class="notep1">Note:</p>
                                 <p>If the database that you are upgrading has Oracle Data Guard physical standbys, then you must first create a guaranteed restore point on each standby before you create one on the primary database. If you do not create restore points on each standby first, then you must recreate all standby databases again after using the guaranteed restore point to downgrade the primary database. After the upgrade is successful, you must manually drop all guaranteed restore points on the standbys.</p>
                              </div>
                           </li>
                           <li>
                              <p><span class="uicontrol bold">Use RMAN Backup</span></p>
                              <p>You can create a new offline RMAN backup, or use an existing backup. Click <span class="uicontrol bold">Browse</span> to specify a path for the backup.
                              </p>
                           </li>
                           <li>
                              <p><span class="uicontrol bold">Use Latest Available RMAN Backup</span></p>
                              <p>You can use an existing backup. Click <span class="uicontrol bold">View/Edit Restore Script</span> to select the backup that you want to use. 
                              </p>
                           </li>
                           <li>
                              <p><span class="uicontrol bold">I have my own backup and restore strategy</span>.
                              </p>
                              <p>Select this option only if you have a third-party backup solution in place for your existing database. </p>
                           </li>
                        </ul>
                        <p>When you have made your selections, click <span class="uicontrol bold">Next</span>. 
                        </p>
                     </li>
                     <li>
                        <p>For single-instance database installations, the <span class="wintitle">Configure Network</span> window opens. Select one or more listeners from the source Oracle home that you want to migrate to the new upgraded Oracle home, or create a new listener during installation. 
                        </p>
                        <div class="figure" id="GUID-307DACD9-ECEE-4079-B767-B22620B99900__GUID-C2DC7C5D-4369-436A-BA18-4CECA2AD2FDC"><img id="GUID-307DACD9-ECEE-4079-B767-B22620B99900__IMAGE_EMT_FSJ_SFB" src="img/dbua_6.png" alt="Description of dbua_6.png follows" title="Description of dbua_6.png follows" longdesc="img_text/dbua_6.html"><br><a href="img_text/dbua_6.html">Description of the illustration dbua_6.png</a></div>
                        <!-- class="figure" -->
                        <p>The Listener Selection area of the Network Configuration window shows a table with the following columns: </p>
                        <ul style="list-style-type: disc;" id="GUID-307DACD9-ECEE-4079-B767-B22620B99900__UL_F4D_2LF_WFB">
                           <li>
                              <p>Select column. Select the listeners that you want to update. </p>
                           </li>
                           <li>
                              <p><span class="uicontrol bold">Name</span> This column shows listener names.
                              </p>
                           </li>
                           <li>
                              <p><span class="uicontrol bold">Port</span> This column shows the ports on which listeners are configured.
                              </p>
                           </li>
                           <li>
                              <p><span class="uicontrol bold">Oracle Home</span> This column shows the Oracle home where listeners are configured.
                              </p>
                           </li>
                           <li>
                              <p><span class="uicontrol bold">Status</span> This column shows the listener status (up or down). 
                              </p>
                           </li>
                           <li>
                              <p><span class="uicontrol bold">Migrate</span> Select this column, and choose <kbd class="userinput">Yes</kbd> to migrate, or <kbd class="userinput">No</kbd> if you do not want to migrate.
                              </p>
                           </li>
                        </ul>
                        <p>You can also select to create a new listener. If you create a new listener, then provide the listener name, the Oracle home where you want it placed, and the port that you want to configure the listener to monitor.</p>
                        <p>After you make your choices, DBUA completes the following steps for any listeners that you migrate:</p>
                        <ol type="a" id="GUID-307DACD9-ECEE-4079-B767-B22620B99900__OL_G4D_2LF_WFB">
                           <li>
                              <p>DBUA adds the selected listener to the <code>listener.ora</code> file of the target Oracle home, and starts it.
                              </p>
                           </li>
                           <li>
                              <p>DBUA removes the entry of the upgraded database from the old (source) <code>listener.ora</code> file.
                              </p>
                           </li>
                           <li>
                              <p>DBUA reloads the <code>listener.ora</code> file in both the source and target Oracle Database environments.
                              </p>
                           </li>
                        </ol>
                        <div class="infoboxnote" id="GUID-307DACD9-ECEE-4079-B767-B22620B99900__GUID-1FB4DACA-15B2-4CAF-8DDB-940C6145FBB4">
                           <p class="notep1">Note:</p>
                           <p>If there are other databases registered with the same listener, then their new client connection requests can be affected during listener migration.</p>
                        </div>
                        <p>Click <span class="uicontrol bold">Next</span> when you have completed your choices.
                        </p>
                     </li>
                     <li>
                        <p>The <span class="wintitle">Configure Management </span> window appears. In the <span class="wintitle">Configure Management</span> window, select the management options: 
                        </p>
                        <div class="figure" id="GUID-307DACD9-ECEE-4079-B767-B22620B99900__GUID-9E8CB2FC-E203-400B-BD14-B719BC533F4B"><img id="GUID-307DACD9-ECEE-4079-B767-B22620B99900__IMAGE_A5L_25J_SFB" src="img/dbua_7.png" alt="Description of dbua_7.png follows" title="Description of dbua_7.png follows" longdesc="img_text/dbua_7.html"><br><a href="img_text/dbua_7.html">Description of the illustration dbua_7.png</a></div>
                        <!-- class="figure" -->
                        <ul style="list-style-type: disc;" id="GUID-307DACD9-ECEE-4079-B767-B22620B99900__UL_H4D_2LF_WFB">
                           <li>
                              <p><span class="uicontrol bold">Configure Enterprise Manager (EM) database express</span></p>
                              <p>Oracle Enterprise Manager Database Express is a web-based database management application that is built into Oracle Database. EM Express replaces the DB Control component that was available in earlier releases. If you select to configure Enterprise Manager Database Express, then Enter the EM Database Express Port number. For example: 5500. You can also select the check box to configure the express port as the global port. </p>
                           </li>
                           <li>
                              <p><span class="uicontrol bold">Register with Enterprise Manager (EM) Cloud Control</span></p>
                              <p>Registering with Oracle Enterprise Manager Cloud Control adds the database and its related entities, such as Listener, Oracle ASM disk groups, and Oracle Clusterware, as targets that you can manage with EM Cloud Control.</p>
                              <p>If you select this option, then you must provide information in the following fields:</p>
                              <ul style="list-style-type: disc;" id="GUID-307DACD9-ECEE-4079-B767-B22620B99900__UL_I4D_2LF_WFB">
                                 <li>
                                    <p>OMS Host</p>
                                 </li>
                                 <li>
                                    <p>OMS Port</p>
                                 </li>
                                 <li>
                                    <p>EM Admin Username</p>
                                 </li>
                                 <li>
                                    <p>EM Admin Password</p>
                                 </li>
                                 <li>
                                    <p>DBSNMP User Password</p>
                                 </li>
                                 <li>
                                    <p>ASMSNMP User Password</p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                        <p>When you have completed entering information, click <span class="uicontrol bold">Next</span>.
                        </p>
                     </li>
                     <li>
                        <p>The <span class="wintitle">Summary</span> window opens. The Summary window shows the information that you have provided for the upgrade. Scroll down the list to review the information. The summary includes information such as the following:
                        </p>
                        <ul style="list-style-type: disc;" id="GUID-307DACD9-ECEE-4079-B767-B22620B99900__UL_J4D_2LF_WFB">
                           <li>
                              <p>Source Database</p>
                           </li>
                           <li>
                              <p>Target Database</p>
                           </li>
                           <li>
                              <p>Pluggable Databases</p>
                           </li>
                           <li>
                              <p>Pre-Upgrade Checks</p>
                           </li>
                           <li>
                              <p>Initialization Parameters changes</p>
                           </li>
                           <li>
                              <p>Timezone Upgrade</p>
                           </li>
                        </ul>
                        <p>Check your selections. Then, either select a link to the item that you want to change, or click <span class="uicontrol bold">Back</span> to go to earlier pages, or select <span class="uicontrol bold">Finish</span>:
                        </p>
                        <ul style="list-style-type: disc;" id="GUID-307DACD9-ECEE-4079-B767-B22620B99900__UL_K4D_2LF_WFB">
                           <li>
                              <p> If you see information in the <span class="wintitle">Summary</span> window that you want to correct, then click a link on an item that you want to update, or click <span class="uicontrol bold">Back</span> to navigate backward through the DBUA configuration interview. 
                              </p>
                           </li>
                           <li>
                              <p>Click <span class="uicontrol bold">Finish</span> if the information that you see in the <span class="wintitle">Summary</span> window is correct. The upgrade begins after you select <span class="uicontrol bold">Finish</span>.
                              </p>
                           </li>
                        </ul>
                        <p>The <span class="wintitle">Progress</span> window displays with the progress bar, as DBUA begins the upgrade. The <span class="wintitle">Progress</span> window displays a table that shows the steps DBUA is completing during the upgrade. This table shows the time duration, and the upgrade steps status as the upgrade proceeds. DBUA provides a <span class="uicontrol bold">Stop</span> button in case you must cancel the upgrade at this point.
                        </p>
                        <div class="figure" id="GUID-307DACD9-ECEE-4079-B767-B22620B99900__GUID-5A0F0230-11C8-4892-9BF4-5DB7B3E2C31E"><img id="GUID-307DACD9-ECEE-4079-B767-B22620B99900__IMAGE_EHN_WTD_TFB" src="img/dbua_9.png" alt="Description of dbua_9.png follows" title="Description of dbua_9.png follows" longdesc="img_text/dbua_9.html"><br><a href="img_text/dbua_9.html">Description of the illustration dbua_9.png</a></div>
                        <!-- class="figure" -->
                        <p>When the upgrade has progressed through finishing the upgrade of the CDB root and each PDB seed, the <span class="wintitle">Progress</span> window marks the status as <span class="uicontrol bold">Finished</span>.
                        </p>
                     </li>
                     <li>
                        <p>After the upgrade is complete, the <span class="wintitle">Results</span> window opens. The <span class="wintitle">Results</span> window displays information about the original database, and about the upgraded database. The Upgrade Results report also shows changes that DBUA made to the initialization parameters. If you are upgrading a multitenant architecture database, then the <span class="wintitle">Results</span> window also shows pluggable databases, and the directory where log files are stored after the upgrade. Scroll down to see more details about preupgrade checks. If the upgrade is successful, then the Upgrade Results field reports the results, and you do not see warning messages. If the upgrade was unsuccessful, as this example image shows, then the <span class="uicontrol bold">Restore Database</span> button is displayed on the lower right corner below the display field. You can click this button to start a database restoration. 
                        </p>
                        <div class="figure" id="GUID-307DACD9-ECEE-4079-B767-B22620B99900__GUID-5E5FCA53-7DBA-42CC-9BD0-E394C91DA6AA"><img id="GUID-307DACD9-ECEE-4079-B767-B22620B99900__IMAGE_GYJ_Q5D_TFB" src="img/dbua_10.png" alt="Description of dbua_10.png follows" title="Description of dbua_10.png follows" longdesc="img_text/dbua_10.html"><br><a href="img_text/dbua_10.html">Description of the illustration dbua_10.png</a></div>
                        <!-- class="figure" -->
                     </li>
                     <li>
                        <p>Optional: Examine the log files to obtain more details about the upgrade process. If the Oracle base environment variable is set, then the DBUA log files are located in the path <code>/<span class="variable" translate="no">ORACLE_BASE</span>/cfgtoollogs/dbua/upgradesession_<span class="variable" translate="no">timestamp</span>/<span class="variable" translate="no">SID</span></code>. If Oracle base is not set, then the DBUA log files are located in the path <code>/<span class="variable" translate="no">ORACLE_HOME</span>/cfgtoollogs/dbua/upgradesession_<span class="variable" translate="no">timestamp</span>/<span class="variable" translate="no">SID</span></code></p>
                        <div class="infoboxnote" id="GUID-307DACD9-ECEE-4079-B767-B22620B99900__GUID-D621C2AA-E950-4E9C-9783-3534ED5F7A9B">
                           <p class="notep1">Note:</p>
                           <p>An HTML version of the Upgrade Results window is also saved in the log files directory. You can click the links in this HTML window to view the log windows in your browser.</p>
                        </div>
                        <p>If you are satisfied with the upgrade results, then click <span class="uicontrol bold">Close</span> to quit DBUA.
                        </p>
                     </li>
                     <li>
                        <p>After your upgrade is completed, carry out post-upgrade procedures described in this book. When you have completed post-upgrade procedures, your upgraded database is ready to use.</p>
                     </li>
                  </ol>
                  <div class="infoboxnote" id="GUID-307DACD9-ECEE-4079-B767-B22620B99900__GUID-660564CA-EA5E-45A1-A62D-A46BC94FE6AB">
                     <p class="notep1">Caution:</p>
                     <p>To prevent unauthorized use of the database, Oracle recommends that you change all user passwords immediately after you upgrade your database.</p>
                     <p>If the default security settings for Oracle Database 12c and later releases are in place, then passwords must be at least eight characters. Passwords such as <code class="codeph">welcome</code> and <code class="codeph">oracle</code> are not allowed.
                     </p>
                  </div>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="upgrading-oracle-database-upgrade-assistant-dbua.html#GUID-BBF591A5-EB02-405A-9F99-572429838C73" title="Database Upgrade Assistant (DBUA) provides a graphical user interface to guide you through the upgrade of Oracle Database. DBUA works for CDB and non-CDB database systems.">Upgrading with Oracle Database Upgrade Assistant (DBUA)</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="UPGRD60002"></a><div class="props_rev_3"><a id="GUID-F929338D-48EE-434F-A5F9-A9E7CD61B17F" name="GUID-F929338D-48EE-434F-A5F9-A9E7CD61B17F"></a><h3 id="UPGRD-GUID-F929338D-48EE-434F-A5F9-A9E7CD61B17F" class="sect3">Moving a Database from an Existing Oracle Home</h3>
               <div>
                  <p>Use this procedure to migrate Oracle Databases to another Oracle Database 18c or later home. </p>
                  <p>With Oracle Database 18c and later releases, you can use Database Upgrade Assistant (DBUA) to migrate Oracle Database databases from an existing Oracle home to another Oracle home.</p>
                  <ol>
                     <li>
                        <p>Start DBUA.</p>
                        <p>DBUA opens the <span class="wintitle">Select Database</span> window.
                        </p>
                        <p>All databases on the server are listed. DBUA indicates the type of operation that you can perform for each database (upgrade, move, in place), depending on the database release and location.</p>
                        <div class="figure" id="GUID-F929338D-48EE-434F-A5F9-A9E7CD61B17F__GUID-C2588B20-8EA4-4B6F-BECF-7AD76580AA51"><img id="GUID-F929338D-48EE-434F-A5F9-A9E7CD61B17F__IMAGE_PXK_QW2_TFB" src="img/dbua_11.png" alt="Description of dbua_11.png follows" title="Description of dbua_11.png follows" longdesc="img_text/dbua_11.html"><br><a href="img_text/dbua_11.html">Description of the illustration dbua_11.png</a></div>
                        <!-- class="figure" -->
                        <div class="figure" id="GUID-F929338D-48EE-434F-A5F9-A9E7CD61B17F__GUID-CBFB059C-F0F2-4DA4-9EA9-96013AE2A048"></div>
                        <!-- class="figure" -->
                        <p>Select a database that you want to move to the new Oracle home. If you have not enabled operating system authentication for the database, then provide the SYSDBA user name and password for the database that you select.</p>
                        <p>Click <span class="uicontrol bold">Next</span>. The <span class="wintitle">Move Database Options</span> window appears.
                        </p>
                     </li>
                     <li>
                        <div class="p">In the<span class="wintitle"> Select Move Options</span> window, you can specify custom SQL scripts that you want to run after moving the database, and identify where the files are located. 
                           <div class="figure" id="GUID-F929338D-48EE-434F-A5F9-A9E7CD61B17F__GUID-B3D2857A-84F2-4CEF-A0A6-A8544CAC350A"><img id="GUID-F929338D-48EE-434F-A5F9-A9E7CD61B17F__IMAGE_BVL_1Y2_TFB" src="img/dbua_12.png" alt="Description of dbua_12.png follows" title="Description of dbua_12.png follows" longdesc="img_text/dbua_12.html"><br><a href="img_text/dbua_12.html">Description of the illustration dbua_12.png</a></div>
                           <!-- class="figure" -->
                        </div>
                        <p>Click <span class="uicontrol bold">Next</span>. The <span class="wintitle">Configure Network</span> window appears.
                        </p>
                     </li>
                     <li>
                        <p>On single-instance systems, you can either select an existing listener, or create a new listener. If you create a new listener, then you must provide a listener name, and a port number for the listener. </p>
                        <div class="figure" id="GUID-F929338D-48EE-434F-A5F9-A9E7CD61B17F__GUID-5D92FF18-1909-43D5-B6AB-8BA072F467A2"><img id="GUID-F929338D-48EE-434F-A5F9-A9E7CD61B17F__IMAGE_RRV_VNZ_XFB" src="img/dbua3mvnetwork.png" alt="Description of dbua3mvnetwork.png follows" title="Description of dbua3mvnetwork.png follows" longdesc="img_text/dbua3mvnetwork.html"><br><a href="img_text/dbua3mvnetwork.html">Description of the illustration dbua3mvnetwork.png</a></div>
                        <!-- class="figure" -->
                        <p>Click <span class="uicontrol bold">Next</span>. The <span class="wintitle"> Database Move Summary</span> window appears.
                        </p>
                     </li>
                     <li>
                        <p>Review the summary for the move operation and click <span class="uicontrol bold">Next</span>.
                        </p>
                     </li>
                     <li>
                        <p>The <span class="wintitle">Setup</span> window appears, which shows DBUA processes as it moves the database.
                        </p>
                     </li>
                     <li>
                        <p>When the move operation completes, click <span class="uicontrol bold">Finish</span>.
                        </p>
                     </li>
                     <li>
                        <p>The <span class="wintitle">Results</span> window appears. You can review the source and target database information, and check move steps, or check log files. When you are finished with your review, click <span class="uicontrol bold">Close</span>. 
                        </p>
                     </li>
                  </ol>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="upgrading-oracle-database-upgrade-assistant-dbua.html#GUID-BBF591A5-EB02-405A-9F99-572429838C73" title="Database Upgrade Assistant (DBUA) provides a graphical user interface to guide you through the upgrade of Oracle Database. DBUA works for CDB and non-CDB database systems.">Upgrading with Oracle Database Upgrade Assistant (DBUA)</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="UPGRD52861"></a><div class="props_rev_3"><a id="GUID-25EB7D5A-284E-4A39-85E2-640DE452AC57" name="GUID-25EB7D5A-284E-4A39-85E2-640DE452AC57"></a><h3 id="UPGRD-GUID-25EB7D5A-284E-4A39-85E2-640DE452AC57" class="sect3">Using DBUA in Silent Mode to Upgrade Oracle Database</h3>
               <div>
                  <p>You can DBUA with the <code>-silent</code> command line option to carry out noninteractive (silent) upgrades using DBUA.
                  </p>
                  <p>. In silent mode, DBUA does not present a user interface. DBUA writes messages (including information, errors, and warnings) to a log file in <code class="codeph"><span class="variable" translate="no">ORACLE_HOME</span>/cfgtools/dbua/upgrade<span class="variable" translate="no">session_timestamp</span></code>, where <code class="codeph"><span class="variable" translate="no">session_timestamp</span></code> represents the timestamp for the upgrade that DBUA has run. Oracle strongly recommends that you read the resulting DBUA log files to ensure a successful upgrade.
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="upgrading-oracle-database-upgrade-assistant-dbua.html#GUID-29C7651A-28FD-4AA3-ACE4-D15708A9882B">Running DBUA in Silent Mode</a><br>Use this procedure to start DBUA in noninteractive (or silent) mode. 
                     </li>
                     <li class="ulchildlink"><a href="upgrading-oracle-database-upgrade-assistant-dbua.html#GUID-EF6ABCBB-DEB4-4061-8106-0024F8BFB3F1">DBUA Command-Line Syntax for Silent Mode</a><br>Use this syntax to run Database Upgrade Assistant (DBUA) by using the <code class="codeph">-silent</code> option.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="upgrading-oracle-database-upgrade-assistant-dbua.html#GUID-BBF591A5-EB02-405A-9F99-572429838C73" title="Database Upgrade Assistant (DBUA) provides a graphical user interface to guide you through the upgrade of Oracle Database. DBUA works for CDB and non-CDB database systems.">Upgrading with Oracle Database Upgrade Assistant (DBUA)</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="props_rev_3"><a id="GUID-29C7651A-28FD-4AA3-ACE4-D15708A9882B" name="GUID-29C7651A-28FD-4AA3-ACE4-D15708A9882B"></a><h4 id="UPGRD-GUID-29C7651A-28FD-4AA3-ACE4-D15708A9882B" class="sect4">Running DBUA in Silent Mode</h4>
                  <div>
                     <p>Use this procedure to start DBUA in noninteractive (or silent) mode. </p>
                     <p></p>
                     <ol>
                        <li>
                           <p>To start DBUA in silent mode, enter the <code class="codeph">dbua -silent -sid</code> command. The command starts DBUA in silent mode, and identifies the database that you want to upgrade. 
                           </p>
                           <p>For example, enter the following command, where the database name is ORCL: </p><pre class="pre codeblock"><code>dbua -silent -sid ORCL &amp;
</code></pre></li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="upgrading-oracle-database-upgrade-assistant-dbua.html#GUID-25EB7D5A-284E-4A39-85E2-640DE452AC57" title="You can DBUA with the -silent command line option to carry out noninteractive (silent) upgrades using DBUA.">Using DBUA in Silent Mode to Upgrade Oracle Database</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-EF6ABCBB-DEB4-4061-8106-0024F8BFB3F1" name="GUID-EF6ABCBB-DEB4-4061-8106-0024F8BFB3F1"></a><h4 id="UPGRD-GUID-EF6ABCBB-DEB4-4061-8106-0024F8BFB3F1" class="sect4">DBUA Command-Line Syntax for Silent Mode</h4>
                  <div>
                     <p>Use this syntax to run Database Upgrade Assistant (DBUA) by using the <code class="codeph">-silent</code> option.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-EF6ABCBB-DEB4-4061-8106-0024F8BFB3F1__GUID-4104CC38-C755-4F5B-A8C5-AD0E92310C66">Purpose</p>
                        <p>When you run DBUA by using the command-line option, you can specify all valid DBUA options in a script form. The script form enables you to avoid entering configuration information in a graphic user interface dialog. </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EF6ABCBB-DEB4-4061-8106-0024F8BFB3F1__GUID-60AB6FE4-E917-4A3B-8F23-ACAD4FC9E39F">File Path</p><code><span class="variable" translate="no">$ORACLE_HOME</span>/directory_name</code></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EF6ABCBB-DEB4-4061-8106-0024F8BFB3F1__GUID-4878548E-50D7-4EBC-BCB2-E55EE704A524">Syntax</p><pre class="pre codeblock"><code>dbua [ -silent ] [ -sid <span class="variable" translate="no">SID</span> ] [-oracleHome <span class="variable" translate="no">Oraclehome_path_and_name</span>] [-oracleBase <span class="variable" translate="no">Oraclebase_path_and_name</span>]
[-asmsnmpPassword - <span class="variable" translate="no">password</span>]
[-auditFileDest - <span class="variable" translate="no">Database_Audit_File_path</span>]
[-backupLocation - <span class="variable" translate="no">backup_directory_filepath</span>]
[-changeUserTablespacesReadOnly - [true | false]]
[-createGRP - true | false]
[-createListener - true | false] [- listener_name:listener_port]]
[-dbName - <span class="variable" translate="no">database_name</span>]
[-dbsnmpPassword - <span class="variable" translate="no">password</span>]
[-disableArchiveLogMode - true | false]
[-disableUpgradeScriptLogging - true | false]
][-emConfiguration - [DBEXPRESS | CENTRAL | BOTH | NONE]
[-emExpressPort - <span class="variable" translate="no">port</span>]
[-emPassword - <span class="variable" translate="no">password</span>]
[-emUser - <span class="variable" translate="no">Enterprise_Manager_Admin_User</span>]
[-enablePasswordProfile - true | false]
[-ignorePreReqs - true | false]
[-ignoreScriptErrors - true | false]
[-initParam - <span class="variable" translate="no">initname</span>=<span class="variable" translate="no">value</span>,<span class="variable" translate="no">initname</span>=<span class="variable" translate="no">value</span>,<span class="variable" translate="no">initname</span>=<span class="variable" translate="no">value</span>, . . .]
[-initParamsEscapeChar - <span class="variable" translate="no">character</span>]
[-keepDeprecatedParams - true | false]
[-listeners - <span class="variable" translate="no">listenerName</span>:<span class="variable" translate="no">Oracle_home</span>,<span class="variable" translate="no">listenerName</span>:<span class="variable" translate="no">Oracle_home</span>,<span class="variable" translate="no">listenerName</span>:<span class="variable" translate="no">Oracle_home</span>,. . .] 
[-localRacSid - <span class="variable" translate="no">localSID</span>]
[-logDir - <span class="variable" translate="no">custom_log_path</span>]
[-newGlobalDbName - <span class="variable" translate="no">GlobalDBname</span>](Oracle Express Edition upgrades only)
[-newSid - sid] (Oracle Express Edition upgrades only)
[-omsHost - <span class="variable" translate="no">Enterprise_Management_Server_Hostname</span>]
[-omsPort - <span class="variable" translate="no">Enterprise_Management_Server_port</span>]
[-oracleHome - <span class="variable" translate="no">Oracle_DB_Oracle_home</span>]
[-oracleHomeUserPassword - <span class="variable" translate="no">Oracle_home_installation_owner_password</span>]
[-pdbs - <span class="variable" translate="no">pdb-A</span>,<span class="variable" translate="no">pdb-B</span>,<span class="variable" translate="no">pdb-C</span>, . . .| ALL | NONE]
-pdbsWithPriority - <span class="variable" translate="no">pdb-A</span>:1,<span class="variable" translate="no">pdb-B</span>:2,<span class="variable" translate="no">pdb-C</span>:3, . . . ]
[-performFixUp - true | false]
[-postUpgradeScripts - <span class="variable" translate="no">filepath/script1</span>,<span class="variable" translate="no">filepath/script2</span>, . . .]
[-preUpgradeScripts - <span class="variable" translate="no">filepath/script1</span>,<span class="variable" translate="no">filepath/script2</span>, . . .]
[-recompile_invalid_objects - true | false]
[-sid - <span class="variable" translate="no">SID</span>]
[-sysDBAPassword - <span class="variable" translate="no">SYSDBA_UserName_password</span>]
[-sysDBAUserName - <span class="variable" translate="no">SYSDBA_UserName_password</span>]
[-upgrade_parallelism - <span class="variable" translate="no">cpu_number_for_parallel_upgrade</span>]
[-upgradeTimezone - true | false]
[-useExistingBackup - true | false]
[-useGRP - true | false]
</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EF6ABCBB-DEB4-4061-8106-0024F8BFB3F1__GUID-1AD3BC46-FD74-402B-A739-B725EFFB99C7">Options</p>
                        <p>The following table lists DBUA command-line options:</p>
                        <div class="tblformal" id="GUID-EF6ABCBB-DEB4-4061-8106-0024F8BFB3F1__GUID-B73D4111-55E0-42B2-9769-EC1D9EDC3643">
                           <p class="titleintable">Table 4-2 DBUA Command-Line Syntax for Silent Mode</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DBUA Command-Line Syntax for Silent Mode" summary="DBUA command-line options for silent mode" width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d28060e1919">Command Option </th>
                                    <th align="left" valign="bottom" id="d28060e1921">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d28060e1925" headers="d28060e1919 ">
                                       <p><code class="codeph">-asmsnmpPassword</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d28060e1925 d28060e1921 ">
                                       <p>Specifies the password for the ASMSNMP user.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d28060e1933" headers="d28060e1919 ">
                                       <p><code class="codeph">-auditFileDest</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d28060e1933 d28060e1921 ">
                                       <p>Specifies the Oracle Database Audit File Destination.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d28060e1941" headers="d28060e1919 ">
                                       <p><code class="codeph">-backupLocation</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d28060e1941 d28060e1921 ">
                                       <p>(Optional) Specifies the directory where you want your database backed up before starting the upgrade.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d28060e1949" headers="d28060e1919 ">
                                       <p><code class="codeph">-changeUserTablespacesReadOnly</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d28060e1949 d28060e1921 ">
                                       <p>Options <code class="codeph">true</code> | <code class="codeph">false</code>. When <code class="codeph">true</code>, changes the user tablespaces to read-only during the upgrade.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d28060e1966" headers="d28060e1919 ">
                                       <p><code class="codeph">-createGRP</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d28060e1966 d28060e1921 ">
                                       <p>When <code class="codeph">true</code>, specifies that DBUA creates a guaranteed restore point (GRP) when the database is in archive log and flashback mode.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d28060e1977" headers="d28060e1919 ">
                                       <p><code class="codeph">-createListener</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d28060e1977 d28060e1921 ">
                                       <p>Options <code class="codeph">true</code> | <code class="codeph">false</code>. When <code class="codeph">true</code>, specifies to create a listener in the new Oracle home release. Provide the listener name and port in the format <kbd class="userinput"><span class="variable" translate="no">listener_name</span>:<span class="variable" translate="no">listener_port</span></kbd></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d28060e2000" headers="d28060e1919 ">
                                       <p><code class="codeph">-dbName</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d28060e2000 d28060e1921 ">
                                       <p>Specifies the database name that you want to upgrade. </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d28060e2008" headers="d28060e1919 ">
                                       <p><code class="codeph">-dbsnmpPassword</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d28060e2008 d28060e1921 ">
                                       <p>Specifies the DBSNMP user password</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d28060e2016" headers="d28060e1919 ">
                                       <p><code class="codeph">-disableArchiveLogMode</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d28060e2016 d28060e1921 ">
                                       <p>Options <code class="codeph">true</code> | <code class="codeph">false</code>. When <code class="codeph">true</code>, turns off Archiving and Flashback Logging during the upgrade.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d28060e2033" headers="d28060e1919 ">
                                       <p><code class="codeph">-disableParallelUpgrade</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d28060e2033 d28060e1921 ">
                                       <p>Disables the parallel execution of database upgrades</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d28060e2041" headers="d28060e1919 ">
                                       <p><code class="codeph">-disableUpgradeScriptLogging</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d28060e2041 d28060e1921 ">
                                       <p>Options <code class="codeph">true</code> | <code class="codeph">false</code>. By default, this option is <code class="codeph">true</code>. When set to <code class="codeph">false</code>, disables the detailed log generation for running SQL scripts during the upgrade process. 
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d28060e2062" headers="d28060e1919 ">
                                       <p><code class="codeph">-emConfiguration</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d28060e2062 d28060e1921 ">
                                       <p>Options <code>DBEXPRESS</code> | <code>CENTRAL</code> | <code>BOTH</code> | <code>NONE</code>. Specify the type of Oracle Enterprise Manager deployment that you want to implement with the upgrade. 
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d28060e2082" headers="d28060e1919 ">
                                       <p><code class="codeph">-emExpressPort</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d28060e2082 d28060e1921 ">
                                       <p>Specifies the Enterprise Manager Express port. Set only if you use the <code class="codeph">-emConfiguration</code> option with <code class="codeph">dbua -silent</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d28060e2096" headers="d28060e1919 ">
                                       <p><code class="codeph">-emPassword</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d28060e2096 d28060e1921 ">
                                       <p>Specifies the Enterprise Manager Administrator user password. Set only if you use the <code class="codeph">-emConfiguration</code> option with <code class="codeph">dbua -silent</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d28060e2110" headers="d28060e1919 ">
                                       <p><code class="codeph">-emUser</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d28060e2110 d28060e1921 ">
                                       <p>Specifies the Enterprise Manager user with Administrator privileges to add or modify targets. Set only if you use the <code class="codeph">-emConfiguration</code> option with <code class="codeph">dbua -silent</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d28060e2124" headers="d28060e1919 ">
                                       <p><code class="codeph">-enablePasswordProfile</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d28060e2124 d28060e1921 ">
                                       <p>When <code class="codeph">true</code>, enables the password profile for administrative users as part of the database upgrade.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d28060e2135" headers="d28060e1919 ">
                                       <p><code class="codeph">-executePreReqs &#x2013;sid <span class="variable" translate="no">name</span>|&#x2013;dbName <span class="variable" translate="no">name</span></code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d28060e2135 d28060e1921 ">
                                       <p>Runs only the preupgrade checks for the specified database.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d28060e2148" headers="d28060e1919 ">
                                       <p><code class="codeph">-help</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d28060e2148 d28060e1921 ">
                                       <p>Displays command syntax and explanation for its use. </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d28060e2156" headers="d28060e1919 ">
                                       <p><code class="codeph">-ignorePreReqs</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d28060e2156 d28060e1921 ">
                                       <p>Options <code>true</code> | <code>false</code>. When <code>true</code>, DBUA ignores error conditions in pre-upgrade checks. 
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d28060e2173" headers="d28060e1919 ">
                                       <p><code class="codeph">-ignoreScriptErrors</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d28060e2173 d28060e1921 ">
                                       <p>Options <code>true</code> | <code>false</code>. When <code>true</code>, DBUA ignores <code class="codeph">ORA-</code> errors when you run custom scripts. 
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d28060e2193" headers="d28060e1919 ">
                                       <p><code class="codeph">-initParam</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d28060e2193 d28060e1921 ">
                                       <p>Specifies a comma-delimited list of initialization parameter values, using the format <code class="codeph"><span class="variable" translate="no">name</span>=<span class="variable" translate="no">value</span>,<span class="variable" translate="no">name</span>=<span class="variable" translate="no">value</span></code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d28060e2213" headers="d28060e1919 ">
                                       <p><code class="codeph">-initParamsEscapeChar</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d28060e2213 d28060e1921 ">
                                       <p>Specifies an escape character for commas when an initialization parameter has multiple values. If you do not specify an escape character, then the default escape character is a backslash [<code class="codeph">/</code>].
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d28060e2225" headers="d28060e1919 ">
                                       <p><code class="codeph">-keepDeprecatedParams</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d28060e2225 d28060e1921 ">
                                       <p>Options <code>true</code> | <code>false</code>. When <code>true</code>, DBUA retains deprecated parameters during database upgrade.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d28060e2242" headers="d28060e1919 ">
                                       <p><code class="codeph">-listeners</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d28060e2242 d28060e1921 ">
                                       <p>Migrates and registers specified existing earlier-release listeners with the upgraded database. Specify listeners using one of the following options:listener names, o a comma-delimited list in the format <span class="variable" translate="no">listenerName</span>:<span class="variable" translate="no">Oraclehome</span>.
                                       </p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p>A comma-delimited list of listener names, in the following format:</p>
                                             <p><kbd class="userinput">-lisnrName1,LsnrName2, LsnrName3</kbd></p>
                                          </li>
                                          <li>
                                             <p>A comma-delimited list of listener names qualified by Oracle homes, in the following format:</p>
                                             <p><code class="codeph">-listeners lsnrName1:Oracle_home_path, -listeners lsnrName2:Oracle_home_path</code></p>
                                          </li>
                                       </ul>
                                       <p>When you select this option, DBUA searches for the specified listeners in the following order: In the Oracle Grid Infrastructure home (Grid home), in the target home, and then in the source home.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d28060e2271" headers="d28060e1919 ">
                                       <p><code class="codeph">-localListenerWithoutAlias</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d28060e2271 d28060e1921 ">
                                       <p>Sets LOCAL_LISTENER without using the TNS alias. </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d28060e2279" headers="d28060e1919 ">
                                       <p><code class="codeph">-localRacSid</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d28060e2279 d28060e1921 ">
                                       <p>If the Oracle RAC database is not registered in the cluster Oracle Cluster Registry (OCR), then this option specifies the local System Identifier (SID) of an Oracle Real Application Clusters (Oracle RAC) database.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d28060e2287" headers="d28060e1919 ">
                                       <p><code class="codeph">-logDir</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d28060e2287 d28060e1921 ">
                                       <p>Specifies the path to a custom log directory.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d28060e2295" headers="d28060e1919 ">
                                       <p><code class="codeph">-newGlobalDbName</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d28060e2295 d28060e1921 ">
                                       <p>Specifies a new Global Database Name. You can use this option only with Oracle Express Edition upgrades.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d28060e2303" headers="d28060e1919 ">
                                       <p><code class="codeph">-newSid</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d28060e2303 d28060e1921 ">
                                       <p>Specifies a new System Identifier (SID). You can use this option only with Oracle Express Edition upgrades.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d28060e2311" headers="d28060e1919 ">
                                       <p><code class="codeph">-omsHost</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d28060e2311 d28060e1921 ">
                                       <p>Specifies the Oracle Enterprise Manager management server host name.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d28060e2319" headers="d28060e1919 ">
                                       <p><code class="codeph">-omsPort</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d28060e2319 d28060e1921 ">
                                       <p>Specifies the Oracle Enterprise Manager management server port number.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d28060e2327" headers="d28060e1919 ">
                                       <p><code class="codeph">-oracleHome &#x2013;sid <span class="variable" translate="no">id</span> | dbName <span class="variable" translate="no">name</span></code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d28060e2327 d28060e1921 ">
                                       <p>Specifies the Oracle home path of the database..Identify the database either by using the <code class="codeph">&#x2013;sid</code> flag, and providing a system identifier, or by using the <code class="codeph">&#x2013;dbName</code> flag, and specifying a database name.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d28060e2346" headers="d28060e1919 ">
                                       <p><code class="codeph">-oracleHomeUserPassword</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d28060e2346 d28060e1921 ">Specifies the password for the Oracle installation owner for the Oracle Database that you are upgrading.  </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d28060e2354" headers="d28060e1919 ">
                                       <p><code class="codeph">-pdbs</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d28060e2354 d28060e1921 ">Specifies which PDBs are upgraded. Specify your choice with the following options:
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p>A comma-delimited list of the names of pluggable databases (PDBs) that you want DBUA to upgrade with the CDB.</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">ALL</code>, which designates that you want all the PDBs upgraded with the CDB.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">NONE</code>, which designates that you want only the CDB upgraded. None of the PDBs are upgraded. 
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d28060e2375" headers="d28060e1919 ">
                                       <p><code class="codeph">-pdbsWithPriority </code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d28060e2375 d28060e1921 ">
                                       <p>Specifies the priority order in which you want DBUA to upgrade PDBs. Specify the priority order with a comma-delimited list of pluggable database (PDB) names in the following format, where 1 is the top priority: <code class="codeph">pdb-A:1,pdb-B:2,pdb-C:3</code>. In this example, PDB-A is upgraded first, and pdb-C is upgraded last. 
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d28060e2386" headers="d28060e1919 ">
                                       <p><code class="codeph">-performFixUp</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d28060e2386 d28060e1921 ">
                                       <p>Options <code>true</code> | <code>false</code>. When <code>true</code>, DBUA is enabled to perform fixups during silent upgrade mode. 
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d28060e2403" headers="d28060e1919 ">
                                       <p><code class="codeph">-postUpgradeScripts</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d28060e2403 d28060e1921 ">
                                       <p>Specifies SQL scripts that you want to run after DBUA completes the upgrade. Provide a comma-delimited list of scripts with their complete file paths.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d28060e2411" headers="d28060e1919 ">
                                       <p><code class="codeph">preUpgradeScripts</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d28060e2411 d28060e1921 ">
                                       <p>Specifies SQL scripts that you want to run before DBUA completes the upgrade. Provide a comma-delimited list of SQL scripts with their complete filepaths. </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d28060e2419" headers="d28060e1919 ">
                                       <p><code class="codeph">-recompile_invalid_objects</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d28060e2419 d28060e1921 ">
                                       <p>Options <code>true</code> | <code>false</code>. When <code>true</code>, DBUA recompiles invalid objects as part of the upgrade.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d28060e2436" headers="d28060e1919 ">
                                       <p><code class="codeph">-sid </code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d28060e2436 d28060e1921 ">
                                       <p>Specifies the system identifier (SID) of the database that you want to upgrade.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d28060e2444" headers="d28060e1919 ">
                                       <p><code class="codeph">-sysDBAPassword</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d28060e2444 d28060e1921 ">
                                       <p>Specifies the password for the user name you designate as the SYSDBA privileges user with <code>sysDBAUserName</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d28060e2455" headers="d28060e1919 ">
                                       <p><code class="codeph">-sysDBAUserName</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d28060e2455 d28060e1921 ">
                                       <p>Specifies a user name that is granted the SYSDBA system privilege for the database. </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d28060e2463" headers="d28060e1919 ">
                                       <p><code class="codeph">-upgrade_parallelism</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d28060e2463 d28060e1921 ">
                                       <p>Specifies the number of CPUs that you want DBUA to use for parallel upgrading. </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d28060e2471" headers="d28060e1919 ">
                                       <p><code class="codeph">-upgradeTimezone</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d28060e2471 d28060e1921 ">
                                       <p>Options <code>true</code> | <code>false</code>. When <code>true</code>, DBUA upgrades the Oracle Database time zone files.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d28060e2489" headers="d28060e1919 ">
                                       <p><code class="codeph">-useExistingBackup</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d28060e2489 d28060e1921 ">
                                       <p>When <code class="codeph">true</code>, specifies that DBUA uses an existing RMAN backup to restore the database.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d28060e2500" headers="d28060e1919 ">
                                       <p><code class="codeph">-useGRP</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d28060e2500 d28060e1921 ">
                                       <p>Options <code>true</code> | <code>false</code>. When <code>true</code>, specifies that DBUA uses a named guaranteed restore point to restore the database.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EF6ABCBB-DEB4-4061-8106-0024F8BFB3F1__GUID-69FC119A-76C8-4E71-8C3D-1DB5D74B2EFA">Examples</p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-EF6ABCBB-DEB4-4061-8106-0024F8BFB3F1__GUID-584967C8-D4BA-4962-A6A6-6B9C0170F8BE">
                        <p class="titleinexample">Example 4-3 Selecting a Database for Upgrade with DBUA</p>
                        <p>The following command selects the database <code class="codeph">orcl</code> for upgrade:
                        </p><pre class="pre codeblock"><code>dbua -sid orcl</code></pre><div class="infoboxnote" id="GUID-EF6ABCBB-DEB4-4061-8106-0024F8BFB3F1__GUID-A1DF2064-D340-44B5-BFF1-A166FBFA7EFA">
                           <p class="notep1">Note:</p>
                           <p>You can use DBUA commands to set passwords. If the default Oracle Database security settings are in place, then passwords must be at least eight characters, and passwords such as <code class="codeph">welcome</code> and <code class="codeph">oracle</code> are not allowed.
                           </p>
                        </div>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-EF6ABCBB-DEB4-4061-8106-0024F8BFB3F1__GUID-BEBB59CB-2D39-4531-A9C1-633853D12A73">
                        <p class="titleinexample">Example 4-4 Selecting a Database for Upgrade with DBUA Using Noninteractive ("Silent") Option</p>
                        <p>The following command selects the database <code class="codeph">orcl</code> for upgrade using the noninteractive ("silent") option:
                        </p><pre class="pre codeblock"><code>dbua -silent -sid orcl</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-EF6ABCBB-DEB4-4061-8106-0024F8BFB3F1__GUID-7E94ACA8-1A3E-48FF-AAC9-97033A3BE3F9">
                        <p class="titleinexample">Example 4-5 Use Cases for Running DBUA in Noninteractive (Silent") Mode </p>
                        <p>The examples that follow illustrate how you can use DBUA with the noninteractive (silent") option to carry out a variety of upgrade scenarios.</p><pre class="pre codeblock"><code>dbua -silent -sid sidb112 -backupLocation /u01/sidb1123/backup -sysDBAUserName sys -sysDBAPassword r3aDy2upg -oracleHome /u01/app/product/11.2.0/dbhome_1 -upgradeTimezone true dbua -silent -sid sidb1123 -backupLocation /u01/sidb1123/backup -sysDBAUserName sys -sysDBAPassword r3aDy2upg -oracleHome /u01/app/product/11.2.0/dbhome_1 -upgrade_parallelism 1 -upgradeTimezone true </code></pre><pre class="pre codeblock"><code>dbua -silent -sid db1124 -backupLocation /u01/sidb1123/backup -sysDBAUserName sys -sysDBAPassword r3aDy2upg -performFixUp true -upgradeTimezone true </code></pre><pre class="pre codeblock"><code>dbua -silent -dbName rdbcdb -oracleHome /u01/app/product/11.2.0/dbhome_1 -sysDBAUserName sys -sysDBAPassword r3aDy2upg -backupLocation /u01/sidb1123/backup -recompile_invalid_objects true -upgradeTimezone true </code></pre><pre class="pre codeblock"><code>dbua -silent -dbName amdb -oracleHome /u01/app/product/11.2.0/dbhome_1 -sysDBAUserName sys -sysDBAPassword r3aDy2upg -recompile_invalid_objects true -useGRP GRP_20170620bfupgrade -upgradeTimezone true </code></pre><pre class="pre codeblock"><code>dbua -silent -dbName rdb121 -oracleHome /u01/app/product/12.1.0/dbhome_2 -sysDBAUserName sys -sysDBAPassword r3aDy2upg -backupLocation /u01/sidb1123/backup -recompile_invalid_objects true -upgradeTimezone true </code></pre><pre class="pre codeblock"><code>dbua -silent -dbName ronedb -oracleHome /u01/app/product/12.1.0/dbhome_2 -sysDBAUserName sys -sysDBAPassword r3aDy2upg -changeUserTablespacesReadOnly true -recompile_invalid_objects true -upgradeTimezone true -createGRP true</code></pre><div class="infoboxnote" id="GUID-EF6ABCBB-DEB4-4061-8106-0024F8BFB3F1__GUID-B514E5B1-A35D-43C6-B0F5-779407279E80">
                           <p class="notep1">Note:</p>
                           <p>Refer to <cite>Oracle Database Security Guide</cite> for information about security best practices. 
                           </p>
                        </div>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="../dbseg/keeping-your-oracle-database-secure.html#DBSEG10005" target="_blank"><span><cite>Oracle Database Security Guide</cite></span></a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="upgrading-oracle-database-upgrade-assistant-dbua.html#GUID-25EB7D5A-284E-4A39-85E2-640DE452AC57" title="You can DBUA with the -silent command line option to carry out noninteractive (silent) upgrades using DBUA.">Using DBUA in Silent Mode to Upgrade Oracle Database</a></p>
                        </div>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='01878.SH-sample-schema-table-descriptions.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>SH Sample Schema Table Descriptions</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database Sample Schemas">
      <meta property="og:description" content>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database Sample Schemas">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-sample-schemas.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-13T19:24:57-08:00">
      <meta name="dcterms.title" content="Database Sample Schemas">
      <meta name="dcterms.dateCopyrighted" content="2002, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96482-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="SH-sample-schema-scripts-and-objects.html" title="Previous" type="text/html">
      <link rel="next" href="book-index.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="COMSC">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="SH-sample-schema-scripts-and-objects.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="book-index.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database Sample Schemas</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="sample-schema-scripts-and-object-descriptions.html" property="item" typeof="WebPage"><span property="name">Sample Schema Scripts and Object Descriptions </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">SH Sample Schema Table Descriptions</li>
            </ol>
            <a id="GUID-537FD098-CB66-4436-A36F-2500698E5B58" name="GUID-537FD098-CB66-4436-A36F-2500698E5B58"></a><a id="COMSC00033"></a>
            
            <h2 id="COMSC-GUID-537FD098-CB66-4436-A36F-2500698E5B58" class="sect2"><span class="enumeration_section">4.11 </span>SH Sample Schema Table Descriptions
            </h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p>Consider the columns of each table of <code class="codeph">SH</code> sample schema.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="SH-sample-schema-table-descriptions.html#GUID-8DAEEFE9-51FD-4CA6-8E84-F099CE43AFEB">Table SH.CHANNELS</a></p>
                     </li>
                     <li>
                        <p><a href="SH-sample-schema-table-descriptions.html#GUID-450FA78C-0399-41E0-8AAD-AAD9E6115E0A">Table SH.COSTS</a></p>
                     </li>
                     <li>
                        <p><a href="SH-sample-schema-table-descriptions.html#GUID-43E79743-FC96-40F5-858C-3F6BB65ADAD0">Table SH.COUNTRIES</a></p>
                     </li>
                     <li>
                        <p><a href="SH-sample-schema-table-descriptions.html#GUID-92E421F1-C6F0-4474-A4BE-040A9D233279">Table SH.CUSTOMERS</a></p>
                     </li>
                     <li>
                        <p><a href="SH-sample-schema-table-descriptions.html#GUID-6DF1685B-444B-4DCF-9255-62D0518958C4">Table SH.PRODUCTS</a></p>
                     </li>
                     <li>
                        <p><a href="SH-sample-schema-table-descriptions.html#GUID-9A2BAA1F-E27B-4D4F-85CD-00BC42BB950B">Table SH.PROMOTIONS</a></p>
                     </li>
                     <li>
                        <p><a href="SH-sample-schema-table-descriptions.html#GUID-6ABFB1BA-7676-44DD-AAEB-A42032EB3063">Table SH.SALES</a></p>
                     </li>
                     <li>
                        <p><a href="SH-sample-schema-table-descriptions.html#GUID-06826F1B-0565-4CD6-AC47-999A60512BEC">Table SH.TIMES</a></p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
            </div><a id="COMSC144"></a><div class="props_rev_3"><a id="GUID-8DAEEFE9-51FD-4CA6-8E84-F099CE43AFEB" name="GUID-8DAEEFE9-51FD-4CA6-8E84-F099CE43AFEB"></a><h3 id="COMSC-GUID-8DAEEFE9-51FD-4CA6-8E84-F099CE43AFEB" class="sect3"><span class="enumeration_section">4.11.1 </span>Table SH.CHANNELS
               </h3>
               <div>
                  <div class="tblformal" id="GUID-8DAEEFE9-51FD-4CA6-8E84-F099CE43AFEB__GUID-5AA16F4C-2F37-4393-AEFA-7960ED98A7E8">
                     <p class="titleintable">Table 4-28 SH.CHANNELS Table Description</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="SH.CHANNELS Table Description" summary="SH.CHANNELS table description. This is a 3 column table. Column 1 is the table column name. Column 2 indicates whether it is a null value. Column 3 gives the data type and length." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="39%" id="d20373e154">Column Name</th>
                              <th align="left" valign="bottom" width="20%" id="d20373e157">Null?</th>
                              <th align="left" valign="bottom" width="41%" id="d20373e160">Type</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e165" headers="d20373e154 ">
                                 <p><code class="codeph">CHANNEL_ID</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e165 d20373e157 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e165 d20373e160 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e178" headers="d20373e154 ">
                                 <p><code class="codeph">CHANNEL_DESC</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e178 d20373e157 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e178 d20373e160 ">
                                 <p><code class="codeph">VARCHAR2(20)</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e191" headers="d20373e154 ">
                                 <p><code class="codeph">CHANNEL_CLASS</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e191 d20373e157 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e191 d20373e160 ">
                                 <p><code class="codeph">VARCHAR2(20)</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e204" headers="d20373e154 ">
                                 <p><code class="codeph">CHANNEL_CLASS_ID</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e204 d20373e157 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e204 d20373e160 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e217" headers="d20373e154 ">
                                 <p><code class="codeph">CHANNEL_TOTAL</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e217 d20373e157 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e217 d20373e160 ">
                                 <p><code class="codeph">VARCHAR2(13)</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e230" headers="d20373e154 ">
                                 <p><code class="codeph">CHANNEL_TOTAL_ID</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e230 d20373e157 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e230 d20373e160 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="COMSC145"></a><div class="props_rev_3"><a id="GUID-450FA78C-0399-41E0-8AAD-AAD9E6115E0A" name="GUID-450FA78C-0399-41E0-8AAD-AAD9E6115E0A"></a><h3 id="COMSC-GUID-450FA78C-0399-41E0-8AAD-AAD9E6115E0A" class="sect3"><span class="enumeration_section">4.11.2 </span>Table SH.COSTS
               </h3>
               <div>
                  <div class="tblformal" id="GUID-450FA78C-0399-41E0-8AAD-AAD9E6115E0A__GUID-B5BA3928-DBC1-41F0-BE07-EA07FDFD4499">
                     <p class="titleintable">Table 4-29 SH.COSTS Table Description</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="SH.COSTS Table Description" summary="SH.COSTS table description. This is a 3 column table. Column 1 is the table column name. Column 2 indicates whether it is a null value. Column 3 gives the data type and length." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="39%" id="d20373e310">Column Name</th>
                              <th align="left" valign="bottom" width="20%" id="d20373e313">Null?</th>
                              <th align="left" valign="bottom" width="41%" id="d20373e316">Type</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e321" headers="d20373e310 ">
                                 <p><code class="codeph">PROD_ID</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e321 d20373e313 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e321 d20373e316 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e334" headers="d20373e310 ">
                                 <p><code class="codeph">TIME_DESC</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e334 d20373e313 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e334 d20373e316 ">
                                 <p><code class="codeph">DATE</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e347" headers="d20373e310 ">
                                 <p><code class="codeph">PROMO_ID</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e347 d20373e313 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e347 d20373e316 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e360" headers="d20373e310 ">
                                 <p><code class="codeph">CHANNEL_ID</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e360 d20373e313 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e360 d20373e316 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e373" headers="d20373e310 ">
                                 <p><code class="codeph">UNIT_COST</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e373 d20373e313 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e373 d20373e316 ">
                                 <p><code class="codeph">NUMBER(10,2)</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e386" headers="d20373e310 ">
                                 <p><code class="codeph">UNIT_PRICE</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e386 d20373e313 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e386 d20373e316 ">
                                 <p><code class="codeph">NUMBER(10,2)</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="COMSC146"></a><div class="props_rev_3"><a id="GUID-43E79743-FC96-40F5-858C-3F6BB65ADAD0" name="GUID-43E79743-FC96-40F5-858C-3F6BB65ADAD0"></a><h3 id="COMSC-GUID-43E79743-FC96-40F5-858C-3F6BB65ADAD0" class="sect3"><span class="enumeration_section">4.11.3 </span>Table SH.COUNTRIES
               </h3>
               <div>
                  <div class="tblformal" id="GUID-43E79743-FC96-40F5-858C-3F6BB65ADAD0__GUID-87D2F95C-D24D-468E-9280-464B3A219D27">
                     <p class="titleintable">Table 4-30 SH.COUNTRIES Table Description</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="SH.COUNTRIES Table Description" summary="SH.COUNTRIES table description. This is a 3 column table. Column 1 is the table column name. Column 2 indicates whether it is a null value. Column 3 gives the data type and length." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="39%" id="d20373e475">Column Name</th>
                              <th align="left" valign="bottom" width="20%" id="d20373e478">Null?</th>
                              <th align="left" valign="bottom" width="41%" id="d20373e481">Type</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e486" headers="d20373e475 ">
                                 <p><code class="codeph">COUNTRY_ID</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e486 d20373e478 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e486 d20373e481 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e499" headers="d20373e475 ">
                                 <p><code class="codeph">COUNTRY_ISO_CODE</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e499 d20373e478 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e499 d20373e481 ">
                                 <p><code class="codeph">CHAR(2)</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e512" headers="d20373e475 ">
                                 <p><code class="codeph">COUNTRY_NAME</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e512 d20373e478 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e512 d20373e481 ">
                                 <p><code class="codeph">VARCHAR2(40)</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e525" headers="d20373e475 ">
                                 <p><code class="codeph">COUNTRY_SUBREGION</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e525 d20373e478 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e525 d20373e481 ">
                                 <p><code class="codeph">VARCHAR2(30)</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e538" headers="d20373e475 ">
                                 <p><code class="codeph">COUNTRY_SUBREGION_ID</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e538 d20373e478 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e538 d20373e481 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e551" headers="d20373e475 ">
                                 <p><code class="codeph">COUNTRY_REGION</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e551 d20373e478 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e551 d20373e481 ">
                                 <p><code class="codeph">VARCHAR2(20)</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e564" headers="d20373e475 ">
                                 <p><code class="codeph">COUNTRY_REGION_ID</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e564 d20373e478 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e564 d20373e481 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e577" headers="d20373e475 ">
                                 <p><code class="codeph">COUNTRY_TOTAL</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e577 d20373e478 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e577 d20373e481 ">
                                 <p><code class="codeph">VARCHAR2(11)</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e590" headers="d20373e475 ">
                                 <p><code class="codeph">COUNTRY_TOTAL_ID</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e590 d20373e478 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e590 d20373e481 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e603" headers="d20373e475 ">
                                 <p><code class="codeph">COUNTRY_NAME_HIST</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e603 d20373e478 ">
                                 <p><code class="codeph">&nbsp;</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e603 d20373e481 ">
                                 <p><code class="codeph">VARCHAR2(40)</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="COMSC147"></a><div class="props_rev_3"><a id="GUID-92E421F1-C6F0-4474-A4BE-040A9D233279" name="GUID-92E421F1-C6F0-4474-A4BE-040A9D233279"></a><h3 id="COMSC-GUID-92E421F1-C6F0-4474-A4BE-040A9D233279" class="sect3"><span class="enumeration_section">4.11.4 </span>Table SH.CUSTOMERS
               </h3>
               <div>
                  <div class="tblformal" id="GUID-92E421F1-C6F0-4474-A4BE-040A9D233279__GUID-CFE5597E-C3D7-4F8C-A599-9D25CDEE838C">
                     <p class="titleintable">Table 4-31 SH.CUSTOMERS Table Description</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="SH.CUSTOMERS Table Description" summary="SH.CUSTOMERS table description. This is a 3 column table. Column 1 is the table column name. Column 2 indicates whether it is a null value. Column 3 gives the data type and length." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="39%" id="d20373e719">Column Name</th>
                              <th align="left" valign="bottom" width="20%" id="d20373e722">Null?</th>
                              <th align="left" valign="bottom" width="41%" id="d20373e725">Type</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e730" headers="d20373e719 ">
                                 <p><code class="codeph">CUST_ID</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e730 d20373e722 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e730 d20373e725 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e743" headers="d20373e719 ">
                                 <p><code class="codeph">CUST_FIRST_NAME</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e743 d20373e722 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e743 d20373e725 ">
                                 <p><code class="codeph">VARCHAR2(20)</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e756" headers="d20373e719 ">
                                 <p><code class="codeph">CUST_LAST_NAME</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e756 d20373e722 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e756 d20373e725 ">
                                 <p><code class="codeph">VARCHAR2(40)</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e769" headers="d20373e719 ">
                                 <p><code class="codeph">CUST_GENDER</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e769 d20373e722 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e769 d20373e725 ">
                                 <p><code class="codeph">CHAR(1)</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e782" headers="d20373e719 ">
                                 <p><code class="codeph">CUST_YEAR_OF_BIRTH</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e782 d20373e722 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e782 d20373e725 ">
                                 <p><code class="codeph">NUMBER(4)</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e795" headers="d20373e719 ">
                                 <p><code class="codeph">CUST_MARITAL_STATUS</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e795 d20373e722 ">
                                 <p><code class="codeph">&nbsp;</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e795 d20373e725 ">
                                 <p><code class="codeph">VARCHAR2(20)</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e808" headers="d20373e719 ">
                                 <p><code class="codeph">CUST_STREET_ADDRESS</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e808 d20373e722 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e808 d20373e725 ">
                                 <p><code class="codeph">VARCHAR2(40)</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e821" headers="d20373e719 ">
                                 <p><code class="codeph">CUST_POSTAL_CODE</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e821 d20373e722 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e821 d20373e725 ">
                                 <p><code class="codeph">VARCHAR2(10)</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e834" headers="d20373e719 ">
                                 <p><code class="codeph">CUST_CITY</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e834 d20373e722 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e834 d20373e725 ">
                                 <p><code class="codeph">VARCHAR2(30)</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e847" headers="d20373e719 ">
                                 <p><code class="codeph">CUST_CITY_ID</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e847 d20373e722 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e847 d20373e725 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e860" headers="d20373e719 ">
                                 <p><code class="codeph">CUST_STATE_PROVINCE</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e860 d20373e722 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e860 d20373e725 ">
                                 <p><code class="codeph">VARCHAR2(40)</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e874" headers="d20373e719 ">
                                 <p><code class="codeph">CUST_STATE_PROVINCE_ID</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e874 d20373e722 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e874 d20373e725 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e887" headers="d20373e719 ">
                                 <p><code class="codeph">COUNTRY_ID</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e887 d20373e722 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e887 d20373e725 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e900" headers="d20373e719 ">
                                 <p><code class="codeph">CUST_MAIN_PHONE_NUMBER</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e900 d20373e722 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e900 d20373e725 ">
                                 <p><code class="codeph">VARCHAR2(25)</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e913" headers="d20373e719 ">
                                 <p><code class="codeph">CUST_INCOME_LEVEL</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e913 d20373e722 ">
                                 <p>&nbsp;</p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e913 d20373e725 ">
                                 <p><code class="codeph">VARCHAR2(30)</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e925" headers="d20373e719 ">
                                 <p><code class="codeph">CUST_CREDIT_LIMIT</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e925 d20373e722 ">
                                 <p>&nbsp;</p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e925 d20373e725 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e937" headers="d20373e719 ">
                                 <p><code class="codeph">CUST_EMAIL</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e937 d20373e722 ">
                                 <p>&nbsp;</p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e937 d20373e725 ">
                                 <p><code class="codeph">VARCHAR2(30)</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e949" headers="d20373e719 ">
                                 <p><code class="codeph">CUST_TOTAL</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e949 d20373e722 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e949 d20373e725 ">
                                 <p><code class="codeph">VARCHAR2(14)</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e962" headers="d20373e719 ">
                                 <p><code class="codeph">CUST_TOTAL_ID</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e962 d20373e722 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e962 d20373e725 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e975" headers="d20373e719 ">
                                 <p><code class="codeph">CUST_SRC_ID</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e975 d20373e722 ">
                                 <p><code class="codeph">&nbsp;</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e975 d20373e725 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e988" headers="d20373e719 ">
                                 <p><code class="codeph">CUST_EFF_FROM</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e988 d20373e722 ">
                                 <p><code class="codeph">&nbsp;</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e988 d20373e725 ">
                                 <p><code class="codeph">DATE</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e1001" headers="d20373e719 ">
                                 <p><code class="codeph">CUST_EFF_TO</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e1001 d20373e722 ">
                                 <p><code class="codeph">&nbsp;</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e1001 d20373e725 ">
                                 <p><code class="codeph">DATE</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e1015" headers="d20373e719 ">
                                 <p><code class="codeph">CUST_VALID</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e1015 d20373e722 ">
                                 <p>&nbsp;</p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e1015 d20373e725 ">
                                 <p><code class="codeph">VARCHAR2(1)</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="COMSC148"></a><div class="props_rev_3"><a id="GUID-6DF1685B-444B-4DCF-9255-62D0518958C4" name="GUID-6DF1685B-444B-4DCF-9255-62D0518958C4"></a><h3 id="COMSC-GUID-6DF1685B-444B-4DCF-9255-62D0518958C4" class="sect3"><span class="enumeration_section">4.11.5 </span>Table SH.PRODUCTS
               </h3>
               <div>
                  <div class="tblformal" id="GUID-6DF1685B-444B-4DCF-9255-62D0518958C4__GUID-C47CECEA-FCB2-4662-9379-D5EED4AD2904">
                     <p class="titleintable">Table 4-32 SH.PRODUCTS Table Description</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="SH.PRODUCTS Table Description" summary="SH.PRODUCTS table description. This is a 3 column table. Column 1 is the table column name. Column 2 indicates whether it is a null value. Column 3 gives the data type and length." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="39%" id="d20373e1128">Column Name</th>
                              <th align="left" valign="bottom" width="20%" id="d20373e1131">Null?</th>
                              <th align="left" valign="bottom" width="41%" id="d20373e1134">Type</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e1139" headers="d20373e1128 ">
                                 <p><code class="codeph">PROD_ID</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e1139 d20373e1131 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e1139 d20373e1134 ">
                                 <p><code class="codeph">NUMBER(6)</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e1152" headers="d20373e1128 ">
                                 <p><code class="codeph">PROD_NAME</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e1152 d20373e1131 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e1152 d20373e1134 ">
                                 <p><code class="codeph">VARCHAR2(50)</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e1165" headers="d20373e1128 ">
                                 <p><code class="codeph">PROD_DESC</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e1165 d20373e1131 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e1165 d20373e1134 ">
                                 <p><code class="codeph">VARCHAR2(4000)</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e1178" headers="d20373e1128 ">
                                 <p><code class="codeph">PROD_SUBCATEGORY</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e1178 d20373e1131 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e1178 d20373e1134 ">
                                 <p><code class="codeph">VARCHAR2(50)</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e1191" headers="d20373e1128 ">
                                 <p><code class="codeph">PROD_SUBCATEGORY_ID</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e1191 d20373e1131 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e1191 d20373e1134 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e1204" headers="d20373e1128 ">
                                 <p><code class="codeph">PROD_SUBCATEGORY_DESC</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e1204 d20373e1131 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e1204 d20373e1134 ">
                                 <p><code class="codeph">VARCHAR2(2000)</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e1217" headers="d20373e1128 ">
                                 <p><code class="codeph">PROD_CATEGORY</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e1217 d20373e1131 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e1217 d20373e1134 ">
                                 <p><code class="codeph">VARCHAR2(50)</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e1230" headers="d20373e1128 ">
                                 <p><code class="codeph">PRD_CATEGORY_ID</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e1230 d20373e1131 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e1230 d20373e1134 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e1243" headers="d20373e1128 ">
                                 <p><code class="codeph">PROD_CATEGORY_DESC</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e1243 d20373e1131 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e1243 d20373e1134 ">
                                 <p><code class="codeph">VARCHAR2(2000)</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e1256" headers="d20373e1128 ">
                                 <p><code class="codeph">PROD_WEIGHT_CLASS</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e1256 d20373e1131 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e1256 d20373e1134 ">
                                 <p><code class="codeph">NUMBER(3)</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e1269" headers="d20373e1128 ">
                                 <p><code class="codeph">PROD_UNIT_OF_MEASURE</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e1269 d20373e1131 ">
                                 <p><code class="codeph">&nbsp;</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e1269 d20373e1134 ">
                                 <p><code class="codeph">VARCHAR2(20)</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e1283" headers="d20373e1128 ">
                                 <p><code class="codeph">PRD_PACK_SIZE</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e1283 d20373e1131 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e1283 d20373e1134 ">
                                 <p><code class="codeph">VARCHAR2(30)</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e1296" headers="d20373e1128 ">
                                 <p><code class="codeph">PROD_SUPPLIER_ID</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e1296 d20373e1131 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e1296 d20373e1134 ">
                                 <p><code class="codeph">NUMBER(6)</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e1309" headers="d20373e1128 ">
                                 <p><code class="codeph">PROD_STATUS</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e1309 d20373e1131 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e1309 d20373e1134 ">
                                 <p><code class="codeph">VARCHAR2(20)</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e1322" headers="d20373e1128 ">
                                 <p><code class="codeph">PROD_LIST_PRICE</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e1322 d20373e1131 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e1322 d20373e1134 ">
                                 <p><code class="codeph">NUMBER(8,2)</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e1335" headers="d20373e1128 ">
                                 <p><code class="codeph">PRD_MIN_PRICE</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e1335 d20373e1131 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e1335 d20373e1134 ">
                                 <p><code class="codeph">NUMBER(8,2)</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e1348" headers="d20373e1128 ">
                                 <p><code class="codeph">PROD_TOTAL</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e1348 d20373e1131 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e1348 d20373e1134 ">
                                 <p><code class="codeph">VARCHAR2(13)</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e1361" headers="d20373e1128 ">
                                 <p><code class="codeph">PROD_TOTAL_ID</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e1361 d20373e1131 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e1361 d20373e1134 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e1374" headers="d20373e1128 ">
                                 <p><code class="codeph">PROD_SRC_ID</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e1374 d20373e1131 ">
                                 <p><code class="codeph">&nbsp;</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e1374 d20373e1134 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e1387" headers="d20373e1128 ">
                                 <p><code class="codeph">PRD_EFF_FROM</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e1387 d20373e1131 ">
                                 <p><code class="codeph">&nbsp;</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e1387 d20373e1134 ">
                                 <p><code class="codeph">DATE</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e1400" headers="d20373e1128 ">
                                 <p><code class="codeph">PROD_EFF_TO</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e1400 d20373e1131 ">
                                 <p><code class="codeph">&nbsp;</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e1400 d20373e1134 ">
                                 <p><code class="codeph">DATE</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e1413" headers="d20373e1128 ">
                                 <p><code class="codeph">PROD_VALID</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e1413 d20373e1131 ">
                                 <p><code class="codeph">&nbsp;</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e1413 d20373e1134 ">
                                 <p><code class="codeph">VARCHAR2(1)</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="COMSC149"></a><div class="props_rev_3"><a id="GUID-9A2BAA1F-E27B-4D4F-85CD-00BC42BB950B" name="GUID-9A2BAA1F-E27B-4D4F-85CD-00BC42BB950B"></a><h3 id="COMSC-GUID-9A2BAA1F-E27B-4D4F-85CD-00BC42BB950B" class="sect3"><span class="enumeration_section">4.11.6 </span>Table SH.PROMOTIONS
               </h3>
               <div>
                  <div class="tblformal" id="GUID-9A2BAA1F-E27B-4D4F-85CD-00BC42BB950B__GUID-6E4AAE3B-41DC-43C6-AF1D-7464F4D6389D">
                     <p class="titleintable">Table 4-33 SH.PROMOTIONS Table Description</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="SH.PROMOTIONS Table Description" summary="SH.PROMOTIONS table description. This is a 3 column table. Column 1 is the table column name. Column 2 indicates whether it is a null value. Column 3 gives the data type and length." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="39%" id="d20373e1502">Column Name</th>
                              <th align="left" valign="bottom" width="20%" id="d20373e1505">Null?</th>
                              <th align="left" valign="bottom" width="41%" id="d20373e1508">Type</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e1513" headers="d20373e1502 ">
                                 <p><code class="codeph">PROMO_ID</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e1513 d20373e1505 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e1513 d20373e1508 ">
                                 <p><code class="codeph">NUMBER(6)</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e1526" headers="d20373e1502 ">
                                 <p><code class="codeph">PROMO_NAME</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e1526 d20373e1505 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e1526 d20373e1508 ">
                                 <p><code class="codeph">VARCHAR2(30)</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e1539" headers="d20373e1502 ">
                                 <p><code class="codeph">PROMO_SUBCATEGORY</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e1539 d20373e1505 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e1539 d20373e1508 ">
                                 <p><code class="codeph">VARCHAR2(30)</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e1552" headers="d20373e1502 ">
                                 <p><code class="codeph">PROMO_SUBCATEGORY_ID</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e1552 d20373e1505 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e1552 d20373e1508 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e1565" headers="d20373e1502 ">
                                 <p><code class="codeph">PROMO_CATEGORY</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e1565 d20373e1505 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e1565 d20373e1508 ">
                                 <p><code class="codeph">VARCHAR2(30)</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e1578" headers="d20373e1502 ">
                                 <p><code class="codeph">PRMO_CATEGORY_ID</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e1578 d20373e1505 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e1578 d20373e1508 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e1591" headers="d20373e1502 ">
                                 <p><code class="codeph">PROMO_COST</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e1591 d20373e1505 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e1591 d20373e1508 ">
                                 <p><code class="codeph">NUMBER(10,2)</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e1604" headers="d20373e1502 ">
                                 <p><code class="codeph">PROMO_BEGIN_DATE</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e1604 d20373e1505 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e1604 d20373e1508 ">
                                 <p><code class="codeph">DATE</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e1617" headers="d20373e1502 ">
                                 <p><code class="codeph">PROMO_END_DATE</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e1617 d20373e1505 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e1617 d20373e1508 ">
                                 <p><code class="codeph">DATE</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e1630" headers="d20373e1502 ">
                                 <p><code class="codeph">PROMO_TOTAL</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e1630 d20373e1505 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e1630 d20373e1508 ">
                                 <p><code class="codeph">VARCHAR2(15)</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e1643" headers="d20373e1502 ">
                                 <p><code class="codeph">PROMO_TOTAL_ID</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e1643 d20373e1505 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e1643 d20373e1508 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="COMSC150"></a><div class="props_rev_3"><a id="GUID-6ABFB1BA-7676-44DD-AAEB-A42032EB3063" name="GUID-6ABFB1BA-7676-44DD-AAEB-A42032EB3063"></a><h3 id="COMSC-GUID-6ABFB1BA-7676-44DD-AAEB-A42032EB3063" class="sect3"><span class="enumeration_section">4.11.7 </span>Table SH.SALES
               </h3>
               <div>
                  <div class="tblformal" id="GUID-6ABFB1BA-7676-44DD-AAEB-A42032EB3063__GUID-953EA06F-D221-445E-81E2-4758D2C08696">
                     <p class="titleintable">Table 4-34 SH.SALES Table Description</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="SH.SALES Table Description" summary="SH.SALES table description. This is a 3 column table. Column 1 is the table column name. Column 2 indicates whether it is a null value. Column 3 gives the data type and length." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="39%" id="d20373e1725">Column Name</th>
                              <th align="left" valign="bottom" width="20%" id="d20373e1728">Null?</th>
                              <th align="left" valign="bottom" width="41%" id="d20373e1731">Type</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e1736" headers="d20373e1725 ">
                                 <p><code class="codeph">PROD_ID</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e1736 d20373e1728 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e1736 d20373e1731 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e1749" headers="d20373e1725 ">
                                 <p><code class="codeph">CUST_ID</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e1749 d20373e1728 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e1749 d20373e1731 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e1762" headers="d20373e1725 ">
                                 <p><code class="codeph">TIME_ID</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e1762 d20373e1728 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e1762 d20373e1731 ">
                                 <p><code class="codeph">DATE</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e1775" headers="d20373e1725 ">
                                 <p><code class="codeph">CHANNEL_ID</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e1775 d20373e1728 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e1775 d20373e1731 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e1788" headers="d20373e1725 ">
                                 <p><code class="codeph">PROMO_ID</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e1788 d20373e1728 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e1788 d20373e1731 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e1801" headers="d20373e1725 ">
                                 <p><code class="codeph">QUANTITY_SOLD</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e1801 d20373e1728 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e1801 d20373e1731 ">
                                 <p><code class="codeph">NUMBER(10,2)</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e1814" headers="d20373e1725 ">
                                 <p><code class="codeph">AMOUNT_SOLD</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e1814 d20373e1728 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e1814 d20373e1731 ">
                                 <p><code class="codeph">NUMBER(10,2)</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="COMSC151"></a><div class="props_rev_3"><a id="GUID-06826F1B-0565-4CD6-AC47-999A60512BEC" name="GUID-06826F1B-0565-4CD6-AC47-999A60512BEC"></a><h3 id="COMSC-GUID-06826F1B-0565-4CD6-AC47-999A60512BEC" class="sect3"><span class="enumeration_section">4.11.8 </span>Table SH.TIMES
               </h3>
               <div>
                  <div class="tblformal" id="GUID-06826F1B-0565-4CD6-AC47-999A60512BEC__GUID-D96192D2-9D6B-4305-A2AA-80671BE590FF">
                     <p class="titleintable">Table 4-35 SH.TIMES Table Description</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="SH.TIMES Table Description" summary="SH.TIMES table description. This is a 3 column table. Column 1 is the table column name. Column 2 indicates whether it is a null value. Column 3 gives the data type and length." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="39%" id="d20373e1961">Column Name</th>
                              <th align="left" valign="bottom" width="20%" id="d20373e1964">Null?</th>
                              <th align="left" valign="bottom" width="41%" id="d20373e1967">Type</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e1972" headers="d20373e1961 ">
                                 <p><code class="codeph">TIME_ID</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e1972 d20373e1964 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e1972 d20373e1967 ">
                                 <p><code class="codeph">DATE</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e1985" headers="d20373e1961 ">
                                 <p><code class="codeph">DAY_NAME</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e1985 d20373e1964 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e1985 d20373e1967 ">
                                 <p><code class="codeph">VARCHAR2(9)</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e1998" headers="d20373e1961 ">
                                 <p><code class="codeph">DAY_NUMBER_IN_WEEK</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e1998 d20373e1964 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e1998 d20373e1967 ">
                                 <p><code class="codeph">NUMBER(1)</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e2011" headers="d20373e1961 ">
                                 <p><code class="codeph">DAY_NUMBER_IN_MONTH</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e2011 d20373e1964 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e2011 d20373e1967 ">
                                 <p><code class="codeph">NUMBER(2)</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e2024" headers="d20373e1961 ">
                                 <p><code class="codeph">CALENDAR_WEEK_NUMBER</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e2024 d20373e1964 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e2024 d20373e1967 ">
                                 <p><code class="codeph">NUMBER(2)</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e2037" headers="d20373e1961 ">
                                 <p><code class="codeph">FISCAL_WEEK_NUMBER</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e2037 d20373e1964 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e2037 d20373e1967 ">
                                 <p><code class="codeph">NUMBER(2)</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e2050" headers="d20373e1961 ">
                                 <p><code class="codeph">WEEK_ENDING_DAY</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e2050 d20373e1964 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e2050 d20373e1967 ">
                                 <p><code class="codeph">DATE</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e2063" headers="d20373e1961 ">
                                 <p><code class="codeph">WEEK_ENDING_DAY_ID</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e2063 d20373e1964 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e2063 d20373e1967 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e2076" headers="d20373e1961 ">
                                 <p><code class="codeph">CALENDAR_MONTH_NUMBER</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e2076 d20373e1964 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e2076 d20373e1967 ">
                                 <p><code class="codeph">NUMBER(2)</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e2089" headers="d20373e1961 ">
                                 <p><code class="codeph">FISCAL_MONTH_NUMBER</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e2089 d20373e1964 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e2089 d20373e1967 ">
                                 <p><code class="codeph">NUMBER(2)</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e2102" headers="d20373e1961 ">
                                 <p><code class="codeph">CALENDAR_MONTH_DESC</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e2102 d20373e1964 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e2102 d20373e1967 ">
                                 <p><code class="codeph">VARCHAR2(8)</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e2116" headers="d20373e1961 ">
                                 <p><code class="codeph">CALENDAR_MONTH_ID</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e2116 d20373e1964 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e2116 d20373e1967 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e2129" headers="d20373e1961 ">
                                 <p><code class="codeph">FISCAL_MONTH_DESC</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e2129 d20373e1964 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e2129 d20373e1967 ">
                                 <p><code class="codeph">VARCHAR2(8)</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e2142" headers="d20373e1961 ">
                                 <p><code class="codeph">FISCAL_MONTH_ID</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e2142 d20373e1964 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e2142 d20373e1967 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e2155" headers="d20373e1961 ">
                                 <p><code class="codeph">DAYS_IN_CAL_MONTH</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e2155 d20373e1964 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e2155 d20373e1967 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e2168" headers="d20373e1961 ">
                                 <p><code class="codeph">DAYS_IN_FIS_MONTH</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e2168 d20373e1964 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e2168 d20373e1967 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e2181" headers="d20373e1961 ">
                                 <p><code class="codeph">END_OF_CAL_MONTH</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e2181 d20373e1964 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e2181 d20373e1967 ">
                                 <p><code class="codeph">DATE</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e2194" headers="d20373e1961 ">
                                 <p><code class="codeph">END_OF_FIS_MONTH</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e2194 d20373e1964 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e2194 d20373e1967 ">
                                 <p><code class="codeph">DATE</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e2207" headers="d20373e1961 ">
                                 <p><code class="codeph">CALENDAR_MONTH_NAME</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e2207 d20373e1964 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e2207 d20373e1967 ">
                                 <p><code class="codeph">VARCHAR2(9)</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e2220" headers="d20373e1961 ">
                                 <p><code class="codeph">FISCAL_MONTH_NAME</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e2220 d20373e1964 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e2220 d20373e1967 ">
                                 <p><code class="codeph">VARCHAR2(9)</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e2233" headers="d20373e1961 ">
                                 <p><code class="codeph">CALENDAR_QUARTER_DESC</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e2233 d20373e1964 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e2233 d20373e1967 ">
                                 <p><code class="codeph">CHAR(7)</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e2246" headers="d20373e1961 ">
                                 <p><code class="codeph">CALENBDAR_QUARTER_ID</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e2246 d20373e1964 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e2246 d20373e1967 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e2260" headers="d20373e1961 ">
                                 <p><code class="codeph">FISCAL_QUARTER_DESC</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e2260 d20373e1964 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e2260 d20373e1967 ">
                                 <p><code class="codeph">CHAR(7)</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e2273" headers="d20373e1961 ">
                                 <p><code class="codeph">FISCAL_QUARTER_ID</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e2273 d20373e1964 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e2273 d20373e1967 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e2286" headers="d20373e1961 ">
                                 <p><code class="codeph">DAYS_IN_CAL_QUARTER</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e2286 d20373e1964 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e2286 d20373e1967 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e2299" headers="d20373e1961 ">
                                 <p><code class="codeph">DAYS_IN_FIS_QUARTER</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e2299 d20373e1964 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e2299 d20373e1967 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e2312" headers="d20373e1961 ">
                                 <p><code class="codeph">END_OF_CAL_QUARTER</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e2312 d20373e1964 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e2312 d20373e1967 ">
                                 <p><code class="codeph">DATE</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e2325" headers="d20373e1961 ">
                                 <p><code class="codeph">END_OF_FIS_QUARTER</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e2325 d20373e1964 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e2325 d20373e1967 ">
                                 <p><code class="codeph">DATE</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e2338" headers="d20373e1961 ">
                                 <p><code class="codeph">CALENDAR_QUARTER_NUMBER</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e2338 d20373e1964 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e2338 d20373e1967 ">
                                 <p><code class="codeph">NUMBER(1)</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e2351" headers="d20373e1961 ">
                                 <p><code class="codeph">FISCAL_QUARTER_NUMBER</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e2351 d20373e1964 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e2351 d20373e1967 ">
                                 <p><code class="codeph">NUMBER(1)</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e2364" headers="d20373e1961 ">
                                 <p><code class="codeph">CALENDAR_YEAR</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e2364 d20373e1964 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e2364 d20373e1967 ">
                                 <p><code class="codeph">NUMBER(4)</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e2377" headers="d20373e1961 ">
                                 <p><code class="codeph">CALENDAR_YEAR_ID</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e2377 d20373e1964 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e2377 d20373e1967 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e2390" headers="d20373e1961 ">
                                 <p><code class="codeph">FISCAL_YEAR</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e2390 d20373e1964 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e2390 d20373e1967 ">
                                 <p><code class="codeph">NUMBER(4)</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e2404" headers="d20373e1961 ">
                                 <p><code class="codeph">FISCAL_YEAR_ID</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e2404 d20373e1964 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e2404 d20373e1967 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e2417" headers="d20373e1961 ">
                                 <p><code class="codeph">DAYS_IN_CAL_YEAR</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e2417 d20373e1964 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e2417 d20373e1967 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e2430" headers="d20373e1961 ">
                                 <p><code class="codeph">DAYS_IN_FIS_YEAR</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e2430 d20373e1964 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e2430 d20373e1967 ">
                                 <p><code class="codeph">NUMBER</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e2443" headers="d20373e1961 ">
                                 <p><code class="codeph">END_OF_CAL_YEAR</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e2443 d20373e1964 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e2443 d20373e1967 ">
                                 <p><code class="codeph">DATE</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d20373e2456" headers="d20373e1961 ">
                                 <p><code class="codeph">END_OF_FIS_YEAR</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d20373e2456 d20373e1964 ">
                                 <p><code class="codeph">NOT NULL</code></p>
                              </td>
                              <td align="left" valign="top" width="41%" headers="d20373e2456 d20373e1967 ">
                                 <p><code class="codeph">DATE</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>