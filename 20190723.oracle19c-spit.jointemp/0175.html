<html id='01662.CTX_REPORT-package.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>CTX_REPORT Package</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Reference">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="text-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-07T01:47:23-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2001, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96278-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="CTX_QUERY-package.html" title="Previous" type="text/html">
      <link rel="next" href="CTX_THES-package.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Text Reference">
    <meta name="dcterms.isVersionOf" content="CCREF">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="CTX_QUERY-package.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="CTX_THES-package.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Reference</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> CTX_REPORT Package </li>
            </ol>
            <a id="GUID-8750E658-F568-4B17-B78B-0F71848A1C63" name="GUID-8750E658-F568-4B17-B78B-0F71848A1C63"></a><a id="CCREF1100"></a>
            
            <h2 id="CCREF-GUID-8750E658-F568-4B17-B78B-0F71848A1C63" class="sect2"><span class="enumeration_chapter">13 </span> CTX_REPORT Package 
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This chapter describes how to use the <code class="codeph">CTX_REPORT</code> package to create reports on indexing and querying. These reports can help you troubleshoot problems or fine-tune your applications. 
               </p>
               <p>This chapter contains the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="CTX_REPORT-package.html#GUID-F906F875-B2FC-4611-AECF-3CF71688C935">Description of Procedures in CTX_REPORT</a></p>
                  </li>
                  <li>
                     <p><a href="CTX_REPORT-package.html#GUID-3E1661F1-B3CC-4924-9183-99286F6B6D7F">Using the Function Versions</a></p>
                  </li>
                  <li>
                     <p><a href="CTX_REPORT-package.html#GUID-21915193-473D-4FE8-B738-034813D325F6">DESCRIBE_INDEX</a></p>
                  </li>
                  <li>
                     <p><a href="CTX_REPORT-package.html#GUID-AEBD1D07-8BCE-4475-923A-86B973C5904D">DESCRIBE_POLICY </a></p>
                  </li>
                  <li>
                     <p><a href="CTX_REPORT-package.html#GUID-6E08F8DB-0CB4-4596-B1AE-005BE5F16D97">CREATE_INDEX_SCRIPT</a></p>
                  </li>
                  <li>
                     <p><a href="CTX_REPORT-package.html#GUID-C515B497-D252-40C2-8140-336C0CCE9B8B">CREATE_POLICY_SCRIPT</a></p>
                  </li>
                  <li>
                     <p><a href="CTX_REPORT-package.html#GUID-ED88249A-1CE7-4075-BCDE-8CDD7C933F18">INDEX_SIZE</a></p>
                  </li>
                  <li>
                     <p><a href="CTX_REPORT-package.html#GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1">INDEX_STATS</a></p>
                  </li>
                  <li>
                     <p><a href="CTX_REPORT-package.html#GUID-AFD54A2E-90C8-42F8-9607-AC517428056D">QUERY_LOG_SUMMARY</a></p>
                  </li>
                  <li>
                     <p><a href="CTX_REPORT-package.html#GUID-45B84CF6-F2AB-402D-9E7C-FCD6AB9A3BD3">TOKEN_INFO</a></p>
                  </li>
                  <li>
                     <p><a href="CTX_REPORT-package.html#GUID-9B2E2C74-D14F-4985-B638-C499565AC5EE">TOKEN_TYPE</a></p>
                  </li>
                  <li>
                     <p><a href="CTX_REPORT-package.html#GUID-06C55318-69A1-499E-B5C8-D7FC163A832C">VALIDATE_INDEX</a></p>
                  </li>
               </ul>
               <div class="infoboxnote" id="GUID-8750E658-F568-4B17-B78B-0F71848A1C63__GUID-7C2A5B08-20D4-46D0-A997-F88ADD5757C4">
                  <p class="notep1">Note:</p>
                  <p>The APIs in the <code class="codeph">CTX_REPORT</code> package do not support identifiers that are prefixed with the schema or the owner name.
                  </p>
               </div>
               <div class="infoboxnotealso" id="GUID-8750E658-F568-4B17-B78B-0F71848A1C63__GUID-06412EF9-6158-4959-92C5-9C4B632E5D8B">
                  <p class="notep1">See Also:</p>
                  <p><a href="../ccapp/administering-oracle-text.html#CCAPP1000" target="_blank"><span class="italic">Oracle Text Application Developer's Guide</span></a> for an overview of the <code class="codeph">CTX_REPORT</code> package and how you can use the various procedures described in this chapter
                  </p>
               </div>
            </div><a id="CCREF2139"></a><div class="props_rev_3"><a id="GUID-F906F875-B2FC-4611-AECF-3CF71688C935" name="GUID-F906F875-B2FC-4611-AECF-3CF71688C935"></a><h3 id="CCREF-GUID-F906F875-B2FC-4611-AECF-3CF71688C935" class="sect3"><span class="enumeration_section">13.1 </span>Description of Procedures in CTX_REPORT
               </h3>
               <div>
                  <p>The <code class="codeph">CTX_REPORT</code> package contains the following procedures:
                  </p>
                  <div class="tblformal" id="GUID-F906F875-B2FC-4611-AECF-3CF71688C935__GUID-2F9F4412-ED07-4BE6-938F-67D19EAC3C19">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table describes CTX_REPORT Procedures." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="35%" id="d119504e226">Name</th>
                              <th align="left" valign="bottom" width="65%" id="d119504e230">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d119504e235" headers="d119504e226 ">
                                 <p><a href="CTX_REPORT-package.html#GUID-21915193-473D-4FE8-B738-034813D325F6">DESCRIBE_INDEX</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d119504e235 d119504e230 ">
                                 <p>Creates a report describing the index.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d119504e244" headers="d119504e226 ">
                                 <p><a href="CTX_REPORT-package.html#GUID-AEBD1D07-8BCE-4475-923A-86B973C5904D">DESCRIBE_POLICY </a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d119504e244 d119504e230 ">
                                 <p>Creates a report describing a policy.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d119504e253" headers="d119504e226 ">
                                 <p><a href="CTX_REPORT-package.html#GUID-6E08F8DB-0CB4-4596-B1AE-005BE5F16D97">CREATE_INDEX_SCRIPT</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d119504e253 d119504e230 ">
                                 <p>Creates a SQL*Plus script to duplicate the named index.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d119504e262" headers="d119504e226 ">
                                 <p><a href="CTX_REPORT-package.html#GUID-C515B497-D252-40C2-8140-336C0CCE9B8B">CREATE_POLICY_SCRIPT</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d119504e262 d119504e230 ">
                                 <p>Creates a SQL*Plus script to duplicate the named policy.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d119504e271" headers="d119504e226 ">
                                 <p><a href="CTX_REPORT-package.html#GUID-ED88249A-1CE7-4075-BCDE-8CDD7C933F18">INDEX_SIZE</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d119504e271 d119504e230 ">
                                 <p>Creates a report to show the internal objects of an index, their tablespaces and used sizes.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d119504e280" headers="d119504e226 ">
                                 <p><a href="CTX_REPORT-package.html#GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1">INDEX_STATS</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d119504e280 d119504e230 ">
                                 <p>Creates a report to show the various statistics of an index.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d119504e289" headers="d119504e226 ">
                                 <p><a href="CTX_REPORT-package.html#GUID-AFD54A2E-90C8-42F8-9607-AC517428056D">QUERY_LOG_SUMMARY</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d119504e289 d119504e230 ">
                                 <p>Creates a report showing query statistics</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d119504e298" headers="d119504e226 ">
                                 <p><a href="CTX_REPORT-package.html#GUID-45B84CF6-F2AB-402D-9E7C-FCD6AB9A3BD3">TOKEN_INFO</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d119504e298 d119504e230 ">
                                 <p>Creates a report showing the information for a token, decoded.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d119504e307" headers="d119504e226 ">
                                 <p><a href="CTX_REPORT-package.html#GUID-9B2E2C74-D14F-4985-B638-C499565AC5EE">TOKEN_TYPE</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d119504e307 d119504e230 ">
                                 <p>Translates a name and returns a numeric token type.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d119504e316" headers="d119504e226 ">
                                 <p><a href="CTX_REPORT-package.html#GUID-06C55318-69A1-499E-B5C8-D7FC163A832C">VALIDATE_INDEX</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d119504e316 d119504e230 ">
                                 <p>Checks for index corruption and reports on problems found. Mainly used with Oracle Support.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="CCREF2140"></a><div class="props_rev_3"><a id="GUID-3E1661F1-B3CC-4924-9183-99286F6B6D7F" name="GUID-3E1661F1-B3CC-4924-9183-99286F6B6D7F"></a><h3 id="CCREF-GUID-3E1661F1-B3CC-4924-9183-99286F6B6D7F" class="sect3"><span class="enumeration_section">13.2 </span>Using the Function Versions
               </h3>
               <div>
                  <p>Some of the procedures in the <code class="codeph">CTX_REPORT</code> package have function versions. You can call these functions as follows:
                  </p><pre class="oac_no_warn" dir="ltr">select ctx_report.describe_index('MYINDEX') from dual;
</pre><p>In SQL*Plus, to generate an output file to send to support, you can do:</p><pre class="oac_no_warn" dir="ltr">set long 64000
set pages 0
set heading off
set feedback off
spool outputfile
select ctx_report.describe_index('MYINDEX') from dual;
spool off</pre></div>
            </div><a id="CCREF2141"></a><div class="props_rev_3"><a id="GUID-21915193-473D-4FE8-B738-034813D325F6" name="GUID-21915193-473D-4FE8-B738-034813D325F6"></a><h3 id="CCREF-GUID-21915193-473D-4FE8-B738-034813D325F6" class="sect3"><span class="enumeration_section">13.3 </span>DESCRIBE_INDEX
               </h3>
               <div>
                  <div class="section">
                     <p>Creates a report describing the index. This includes the settings of the index metadata, the indexing objects used, the settings of the attributes of the objects, and index partition descriptions, if any.</p>
                     <p>You can call this operation as a procedure with an <code class="codeph">IN</code> <code class="codeph">OUT</code> <code class="codeph">CLOB</code> parameter or as a function that returns the report as a <code class="codeph">CLOB</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-21915193-473D-4FE8-B738-034813D325F6__GUID-5110BC2E-6F7E-4F67-A823-2585D7CB4C45">Syntax</p><pre class="oac_no_warn" dir="ltr">procedure CTX_REPORT.DESCRIBE_INDEX(
  index_name     IN VARCHAR2,
  report         IN OUT NOCOPY CLOB,
  report_format  IN VARCHAR2 DEFAULT FMT_TEXT
);

function CTX_REPORT.DESCRIBE_INDEX(
  index_name     IN VARCHAR2,
  report_format  IN VARCHAR2 DEFAULT FMT_TEXT
) return CLOB;</pre><dl>
                        <dt class="dlterm"><a name="GUID-21915193-473D-4FE8-B738-034813D325F6__GUID-1024632B-4DB9-4639-872B-37FC68C5E393">
                              <!-- --></a>index_name
                        </dt>
                        <dd>
                           <p>Specify the name of the index to describe.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-21915193-473D-4FE8-B738-034813D325F6__GUID-A028DD31-3B38-4320-87C0-91419EFCAB8F">
                              <!-- --></a>report
                        </dt>
                        <dd>
                           <p>Specify the <code class="codeph">CLOB</code> locator to which to write the report.    
                           </p>
                           <p>If <code class="codeph">report</code> is NULL, a session-duration temporary <code class="codeph">CLOB</code> will be created and returned. It is the caller's responsibility to free this temporary <code class="codeph">CLOB</code> as needed.
                           </p>
                           <p>The <code class="codeph">report</code> <code class="codeph">CLOB</code> will be truncated before report is generated, so any existing contents will be overwritten by this call.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-21915193-473D-4FE8-B738-034813D325F6__GUID-D339E01E-9A5F-400D-AA24-C5BD2C88C034">
                              <!-- --></a>report_format
                        </dt>
                        <dd>
                           <p>Specify whether the report should be generated as 'TEXT' or as 'XML'. TEXT is the default. You can also specify the values <code class="codeph">CTX_REPORT.FMT_TEXT</code> or <code class="codeph">CTX_REPORT.FMT_XML</code>.
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-21915193-473D-4FE8-B738-034813D325F6__GUID-3884A41D-3091-44E9-A6DD-A69DEFA0E3F0">Notes</p>
                     <p><code class="codeph">CTX_REPORT.DESCRIBE_INDEX</code> outputs <code class="codeph">FILTER</code> <code class="codeph">BY</code> and <code class="codeph">ORDER</code> <code class="codeph">BY</code> column information if the index is created with <code class="codeph">FILTER</code> <code class="codeph">BY</code> and/or <code class="codeph">ORDER</code> <code class="codeph">BY</code> clauses.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-21915193-473D-4FE8-B738-034813D325F6__GUID-B5E3E2F8-E3CB-45E9-A63E-CBC17153220D">Related Topics</p>
                     <p><span class="q">"<a href="oracle-text-SQL-statements-and-operators.html#GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862">CREATE INDEX</a>"</span></p>
                     <p><span class="q">"<a href="CTX_DDL-package.html#GUID-F8DD37A5-04BA-45A3-BF6F-6614922B5058">ADD_SDATA_COLUMN</a>"</span></p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF2142"></a><div class="props_rev_3"><a id="GUID-AEBD1D07-8BCE-4475-923A-86B973C5904D" name="GUID-AEBD1D07-8BCE-4475-923A-86B973C5904D"></a><h3 id="CCREF-GUID-AEBD1D07-8BCE-4475-923A-86B973C5904D" class="sect3"><span class="enumeration_section">13.4 </span>DESCRIBE_POLICY 
               </h3>
               <div>
                  <div class="section">
                     <p>Creates a report describing the policy. This includes the settings of the policy metadata, the indexing objects used, and the settings of the attributes of the objects.</p>
                     <p>You can call this operation as a procedure with an <code class="codeph">IN</code> <code class="codeph">OUT</code> <code class="codeph">CLOB</code> parameter or as a function that returns the report as a <code class="codeph">CLOB</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AEBD1D07-8BCE-4475-923A-86B973C5904D__GUID-EC1E6735-4B18-4767-9236-599491E0B97C">Syntax</p><pre class="oac_no_warn" dir="ltr">procedure CTX_REPORT.DESCRIBE_POLICY(
  policy_name    IN VARCHAR2,
  report         IN OUT NOCOPY CLOB,
  report_format  IN VARCHAR2 DEFAULT FMT_TEXT
);

function CTX_REPORT.DESCRIBE_POLICY(
  policy_name    IN VARCHAR2,
  report_format  IN VARCHAR2 DEFAULT FMT_TEXT
) return CLOB;</pre><dl>
                        <dt class="dlterm"><a name="GUID-AEBD1D07-8BCE-4475-923A-86B973C5904D__GUID-595C0711-589D-44A6-A9A0-FBF388DEE6BE">
                              <!-- --></a>report
                        </dt>
                        <dd>
                           <p>Specify the <code class="codeph">CLOB</code> locator to which to write the report.
                           </p>
                           <p>If <code class="codeph">report</code> is NULL, a session-duration temporary <code class="codeph">CLOB</code> will be created and returned. It is the caller's responsibility to free this temporary <code class="codeph">CLOB</code> as needed.
                           </p>
                           <p>The <code class="codeph">report</code> <code class="codeph">CLOB</code> will be truncated before <code class="codeph">report</code> is generated, so any existing contents will be overwritten by this call.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-AEBD1D07-8BCE-4475-923A-86B973C5904D__GUID-58E7220D-8C29-40DD-A325-DFE618B2F2B8">
                              <!-- --></a>report_format
                        </dt>
                        <dd>
                           <p>Specify whether the report should be generated as 'TEXT' or as 'XML'. TEXT is the default. You can also specify the values <code class="codeph">CTX_REPORT.FMT_TEXT</code> or <code class="codeph">CTX_REPORT.FMT_XML</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-AEBD1D07-8BCE-4475-923A-86B973C5904D__GUID-91363CAD-E7A4-4A1A-A60D-9C1B0641DB8A">
                              <!-- --></a>policy_name
                        </dt>
                        <dd>
                           <p>Specify the name of the policy to describe.</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF2143"></a><div class="props_rev_3"><a id="GUID-6E08F8DB-0CB4-4596-B1AE-005BE5F16D97" name="GUID-6E08F8DB-0CB4-4596-B1AE-005BE5F16D97"></a><h3 id="CCREF-GUID-6E08F8DB-0CB4-4596-B1AE-005BE5F16D97" class="sect3"><span class="enumeration_section">13.5 </span>CREATE_INDEX_SCRIPT
               </h3>
               <div>
                  <div class="section">
                     <p>Creates a SQL*Plus script which will create a text index that duplicates the named text index.</p>
                     <p>The created script will include creation of preferences identical to those used in the named text index. However, the names of the preferences will be different.</p>
                     <p>You can call this operation as a procedure with an <code class="codeph">IN</code> <code class="codeph">OUT</code> <code class="codeph">CLOB</code> parameter or as a function that returns the report as a <code class="codeph">CLOB</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6E08F8DB-0CB4-4596-B1AE-005BE5F16D97__GUID-99698794-E888-4F8A-A435-BA9F0E0AE8A4">Syntax</p><pre class="oac_no_warn" dir="ltr">procedure CTX_REPORT.CREATE_INDEX_SCRIPT(
  index_name      in varchar2,
  report          in out nocopy clob,
  prefname_prefix in varchar2 default null
);

function CTX_REPORT.CREATE_INDEX_SCRIPT(
  index_name      in varchar2,
  prefname_prefix in varchar2 default null
) return clob;</pre><dl>
                        <dt class="dlterm"><a name="GUID-6E08F8DB-0CB4-4596-B1AE-005BE5F16D97__GUID-E9417706-B737-414B-8B75-16E1905658E2">
                              <!-- --></a>index_name
                        </dt>
                        <dd>
                           <p>Specify the name of the index.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6E08F8DB-0CB4-4596-B1AE-005BE5F16D97__GUID-5159A058-85B8-4EB8-87AA-DE3D2839396E">
                              <!-- --></a>report
                        </dt>
                        <dd>
                           <p>Specify the <code class="codeph">CLOB</code> locator to which to write the script.
                           </p>
                           <p>If <code class="codeph">report</code> is NULL, a session-duration temporary <code class="codeph">CLOB</code> will be created and returned. It is the caller's responsibility to free this temporary <code class="codeph">CLOB</code> as needed.
                           </p>
                           <p>The <code class="codeph">report</code> <code class="codeph">CLOB</code> will be truncated before report is generated, so any existing contents will be overwritten by this call.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-6E08F8DB-0CB4-4596-B1AE-005BE5F16D97__GUID-297ADFBE-BF41-408A-ABE1-903AA2F0D240">
                              <!-- --></a>prefname_prefix
                        </dt>
                        <dd>
                           <p>Specify optional prefix to use for preference names.</p>
                           <p>If <code class="codeph">prefname_prefix</code> is omitted or NULL, index name will be used. The <code class="codeph">prefname_prefix</code> follows index length restrictions.
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6E08F8DB-0CB4-4596-B1AE-005BE5F16D97__GUID-8D570EE9-849F-4FB7-B841-E10D1381865E">Notes</p>
                     <p><code class="codeph">CTX_REPORT.CREATE_INDEX_SCRIPT</code> will also generate necessary <code class="codeph">FILTER</code> <code class="codeph">BY</code> and <code class="codeph">ORDER</code> <code class="codeph">BY</code> clauses for <code class="codeph">CREATE</code> <code class="codeph">INDEX</code> statements.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6E08F8DB-0CB4-4596-B1AE-005BE5F16D97__GUID-28081B17-CC7C-4313-B7F1-CF5D2C935420">Related Topics</p>
                     <p><span class="q">"<a href="oracle-text-SQL-statements-and-operators.html#GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862">CREATE INDEX</a>"</span></p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF2144"></a><div class="props_rev_3"><a id="GUID-C515B497-D252-40C2-8140-336C0CCE9B8B" name="GUID-C515B497-D252-40C2-8140-336C0CCE9B8B"></a><h3 id="CCREF-GUID-C515B497-D252-40C2-8140-336C0CCE9B8B" class="sect3"><span class="enumeration_section">13.6 </span>CREATE_POLICY_SCRIPT
               </h3>
               <div>
                  <div class="section">
                     <p>Creates a SQL*Plus script which will create a text policy that duplicates the named text policy.</p>
                     <p>The created script will include creation of preferences identical to those used in the named text policy.</p>
                     <p>You can call this operation as a procedure with an <code class="codeph">IN</code> <code class="codeph">OUT</code> <code class="codeph">CLOB</code> parameter or as a function that returns the report as a <code class="codeph">CLOB</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C515B497-D252-40C2-8140-336C0CCE9B8B__GUID-0517FADB-C45D-4F8F-BB28-B71C67217E1D">Syntax</p><pre class="oac_no_warn" dir="ltr">procedure CTX_REPORT.CREATE_POLICY_SCRIPT(
  policy_name      in varchar2,
  report           in out nocopy clob,
  prefname_prefix  in varchar2 default null
);

function CTX_REPORT.CREATE_POLICY_SCRIPT(
  policy_name      in varchar2,
  prefname_prefix  in varchar2 default null
) return clob;</pre><dl>
                        <dt class="dlterm"><a name="GUID-C515B497-D252-40C2-8140-336C0CCE9B8B__GUID-9DD72716-BDF7-4AA1-9EC2-690BDC80F3E0">
                              <!-- --></a>policy_name
                        </dt>
                        <dd>
                           <p>Specify the name of the policy.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C515B497-D252-40C2-8140-336C0CCE9B8B__GUID-19BBD491-52B1-41AB-BF43-FD67C33B8D6A">
                              <!-- --></a>report
                        </dt>
                        <dd>
                           <p>Specify the locator to which to write the script.</p>
                           <p>If <code class="codeph">report</code> is NULL, a session-duration temporary <code class="codeph">CLOB</code> will be created and returned. It is the caller's responsibility to free this temporary <code class="codeph">CLOB</code> as needed.
                           </p>
                           <p>The <code class="codeph">report</code> <code class="codeph">CLOB</code> will be truncated before report is generated, so any existing contents will be overwritten by this call. 
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C515B497-D252-40C2-8140-336C0CCE9B8B__GUID-3BA97093-FC97-46CF-B139-100C01257E31">
                              <!-- --></a>prefname_prefix
                        </dt>
                        <dd>
                           <p>Specify the optional prefix to use for preference names. If <code class="codeph">prefname_prefix</code> is omitted or NULL, policy name will be used. <code class="codeph">prefname_prefix</code> follows policy length restrictions.
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF2145"></a><div class="props_rev_3"><a id="GUID-ED88249A-1CE7-4075-BCDE-8CDD7C933F18" name="GUID-ED88249A-1CE7-4075-BCDE-8CDD7C933F18"></a><h3 id="CCREF-GUID-ED88249A-1CE7-4075-BCDE-8CDD7C933F18" class="sect3"><span class="enumeration_section">13.7 </span>INDEX_SIZE
               </h3>
               <div>
                  <div class="section">
                     <p>Creates a report showing the internal objects of the text index or text index partition, and their tablespaces, allocated, and used sizes.</p>
                     <p>You can call this operation as a procedure with an <code class="codeph">IN</code> <code class="codeph">OUT</code> <code class="codeph">CLOB</code> parameter, or as a function that returns the report as a <code class="codeph">CLOB</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-ED88249A-1CE7-4075-BCDE-8CDD7C933F18__GUID-2F768C93-2084-495E-B617-E4AB98F77CA5">Syntax</p><pre class="oac_no_warn" dir="ltr">procedure CTX_REPORT.INDEX_SIZE(
  index_name     IN VARCHAR2,
  report         IN OUT NOCOPY CLOB,
  part_name      IN VARCHAR2 DEFAULT NULL,
  report_format  IN VARCHAR2 DEFAULT FMT_TEXT
);

function CTX_REPORT.INDEX_SIZE(
  index_name     IN VARCHAR2,
  part_name      IN VARCHAR2 DEFAULT NULL,
  report_format  IN VARCHAR2 DEFAULT FMT_TEXT
) return clob;</pre><dl>
                        <dt class="dlterm"><a name="GUID-ED88249A-1CE7-4075-BCDE-8CDD7C933F18__GUID-E6A15AC6-E3FE-4696-85FD-A638176ED645">
                              <!-- --></a>index_name
                        </dt>
                        <dd>
                           <p>Specify the name of the index to describe.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-ED88249A-1CE7-4075-BCDE-8CDD7C933F18__GUID-42AAFB60-13B1-4AB7-B23F-8E71D77C2924">
                              <!-- --></a>report
                        </dt>
                        <dd>
                           <p>Specify the <code class="codeph">CLOB</code> locator to which to write the report.
                           </p>
                           <p>If <code class="codeph">report</code> is NULL, a session-duration temporary <code class="codeph">CLOB</code> will be created and returned. It is the caller's responsibility to free this temporary <code class="codeph">CLOB</code> as needed.
                           </p>
                           <p>The <code class="codeph">report</code> <code class="codeph">CLOB</code> will be truncated before report is generated, so any existing contents will be overwritten by this call
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-ED88249A-1CE7-4075-BCDE-8CDD7C933F18__GUID-0BBBB2EC-F27C-4ADF-9320-8F136F17B711">
                              <!-- --></a>part_name
                        </dt>
                        <dd>
                           <p>Specify the name of the index partition (optional). If <code class="codeph">part_name</code> is NULL, and the index is a local partitioned text index, then all objects of all partitions will be displayed. If <code class="codeph">part_name</code> is provided, then only the objects of a particular partition will be displayed.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-ED88249A-1CE7-4075-BCDE-8CDD7C933F18__GUID-96797A3C-405A-4CB5-AF03-2CDA76071821">
                              <!-- --></a>report_format
                        </dt>
                        <dd>
                           <p>Specify whether the report should be generated as 'TEXT' or as 'XML'. TEXT is the default. You can also specify the values <code class="codeph">CTX_REPORT</code>.<code class="codeph">FMT_TEXT</code> or <code class="codeph">CTX_REPORT</code>.<code class="codeph">FMT_XML</code>.
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-ED88249A-1CE7-4075-BCDE-8CDD7C933F18__GUID-A8DDDBCF-36D3-4470-B9B0-82A72901125D">Notes</p>
                     <p><code class="codeph">CTX_REPORT.INDEX_SIZE</code> will also output information on dr$<span class="italic">indexname</span>$S table.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-ED88249A-1CE7-4075-BCDE-8CDD7C933F18__GUID-213F2DE5-7FDC-4F71-B4C8-FC9F3B66A45E">Related Topics</p>
                     <p><span class="q">"<a href="oracle-text-SQL-statements-and-operators.html#GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862">CREATE INDEX</a>"</span></p>
                     <p><a href="oracle-text-indexing-elements.html#GUID-5F662035-B0F5-4F72-A2A8-A5B07070ABBF__BHCGFIJI" title="This table describes the BASIC_STORAGE attributes.">Table 2-39</a></p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF2146"></a><div class="props_rev_3"><a id="GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1" name="GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1"></a><h3 id="CCREF-GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1" class="sect3"><span class="enumeration_section">13.8 </span>INDEX_STATS
               </h3>
               <div>
                  <div class="section">
                     <p>Creates a report showing various calculated statistics about the text index.</p>
                     <p>This procedure fully scans the text index tables, so it may take a long time to run for large indexes.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1__GUID-46DBB576-D71D-445B-9F65-EBD5A4B09547">Syntax</p><pre class="oac_no_warn" dir="ltr">procedure ctx_report.index_stats(
  index_name     IN VARCHAR2,
  report         IN OUT NOCOPY CLOB,
  part_name      IN VARCHAR2 DEFAULT NULL,
  frag_stats     IN BOOLEAN DEFAULT TRUE,
  list_size      IN NUMBER DEFAULT 100,
  report_format  IN VARCHAR2 DEFAULT FMT_TEXT,
  stat_type      IN VARCHAR2 DEFAULT NULL
);</pre><dl>
                        <dt class="dlterm"><a name="GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1__GUID-14E02E18-21D7-43C7-AB64-A6B6703F22A9">
                              <!-- --></a>index_name
                        </dt>
                        <dd>
                           <p>Specify the name of the index to describe. This must be a <code class="codeph">CONTEXT</code> index.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1__GUID-03B226B5-E027-4D9F-9D21-A67DF7E4898A">
                              <!-- --></a>report
                        </dt>
                        <dd>
                           <p>Specify the <code class="codeph">CLOB</code> locator to which to write the report.If report is NULL, a session-duration temporary <code class="codeph">CLOB</code> will be created and returned. It is the caller's responsibility to free this temporary <code class="codeph">CLOB</code> as needed.
                           </p>
                           <p>The report <code class="codeph">CLOB</code> will be truncated before report is generated, so any existing contents will be overwritten by this call.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1__GUID-E90592F9-4089-4CA8-A466-D803E42D7D25">
                              <!-- --></a>part_name
                        </dt>
                        <dd>
                           <p>Specify the name of the index partition. If the index is a local partitioned index, then <code class="codeph">part_name</code> must be provided. <code class="codeph">INDEX_STATS</code> will calculate the statistics for that index partition.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1__GUID-CDB7FDBF-4D76-475A-A1B5-D1398CA40827">
                              <!-- --></a>frag_stats
                        </dt>
                        <dd>
                           <p>Specify TRUE to calculate fragmentation statistics. If <code class="codeph">frag_stats</code> is FALSE, the report will not show any statistics relating to size of index data. However, the operation should take less time and resources to calculate the token statistics.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1__GUID-3651910A-C1A8-4B21-A281-625A9823BF0C">
                              <!-- --></a>list_size
                        </dt>
                        <dd>
                           <p>Specify the number of elements in each compiled list. <code class="codeph">list_size</code> has a maximum value of 1000.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1__GUID-69B68697-A14A-4602-897E-10A7DE7338CF">
                              <!-- --></a>report_format
                        </dt>
                        <dd>
                           <p>Specify whether the report should be generated as 'TEXT' or as 'XML'. TEXT is the default. You can also specify the values <code class="codeph">CTX_REPORT</code>.<code class="codeph">FMT_TEXT</code> or <code class="codeph">CTX_REPORT</code>.<code class="codeph">FMT_XML</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1__GUID-DCC5F039-91F4-4DC1-94B1-C62D49DA4192">
                              <!-- --></a>stat_type
                        </dt>
                        <dd>
                           <p>Specify the estimated statistics to output. If this parameter is set, then <code class="codeph">frag_stats</code> is ignored. The possible values are:
                           </p>
                           <div class="tblformal" id="GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1__GUID-28CBF8B4-D89B-4397-B04D-729CFF698ED2">
                              <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table describes types of statistics." width="90%" frame="hsides" border="1" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="37%" id="d119504e1497">Statistics Type</th>
                                       <th align="left" valign="bottom" width="63%" id="d119504e1500">Description</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="37%" id="d119504e1505" headers="d119504e1497 ">
                                          <p>EST_FRAG_STATS</p>
                                       </td>
                                       <td align="left" valign="top" width="63%" headers="d119504e1505 d119504e1500 ">
                                          <p>Get the estimated fragmentation stats for the index. When this type is given <code class="codeph">list_size</code> is ignored.
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="37%" id="d119504e1515" headers="d119504e1497 ">
                                          <p>EST_FREQUENT_TOKENS</p>
                                       </td>
                                       <td align="left" valign="top" width="63%" headers="d119504e1515 d119504e1500 ">
                                          <p>Get the estimated frequently queried tokens for the index. You can give a value of up to 100 for <code class="codeph">list_size</code>.
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="37%" id="d119504e1525" headers="d119504e1497 ">
                                          <p>EST_TOKENS_TO_OPTIMIZE</p>
                                       </td>
                                       <td align="left" valign="top" width="63%" headers="d119504e1525 d119504e1500 ">
                                          <p>Show best tokens to optimize, based on frequency of querying and fragmentation. You can give a value of up to 100 for <code class="codeph">list_size</code>.
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="37%" id="d119504e1535" headers="d119504e1497 ">
                                          <p>EST_SLOWEST_QUERIES</p>
                                       </td>
                                       <td align="left" valign="top" width="63%" headers="d119504e1535 d119504e1500 ">
                                          <p>Show slowest running queries for the index. You can give a value of up to 100 for <code class="codeph">list_size</code>.
                                          </p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <div class="infoboxnote" id="GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1__GUID-7B578B2A-756B-42C2-A89F-F361E4AFF705">
                        <p class="notep1">Note:</p>
                        <p>The estimated statistics for <code class="codeph">stat_type</code> is only available if <code class="codeph">query_stats</code> is enabled and the following privileges must be granted to the user running the report:
                        </p><pre class="pre codeblock"><code>grant select, insert, delete, update on ctxsys.dr$slowqrys to &lt;user&gt;; 

grant select, insert, delete, update on ctxsys.dr$freqtoks to &lt;user&gt;;</code></pre></div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1__GUID-0635F22C-696A-4EB6-BB13-BB047796180A">Example for CTX_REPORT.INDEX_STATS</p><pre class="oac_no_warn" dir="ltr">create table output (result CLOB);
 
  declare
    x clob := null;
  begin
    ctx_report.index_stats('tdrbprx21',x);
    insert into output values (x);
    commit;
    dbms_lob.freetemporary(x);
  end;
  /
 
set long 32000
set head off
set pagesize 10000
select * from output; 
</pre><p>The following sample output is for <code class="codeph">INDEX_STATS</code> on a context index. This report has been truncated for clarity. It shows some of the token statistics and all of the fragmentation statistics.
                     </p>
                     <p>The fragmentation statistics are at the end of the report. It tells you optimal row fragmentation, an estimated amount of garbage data in the index, and a list of the most fragmented tokens. Running <code class="codeph">CTX_DDL.OPTIMIZE_INDEX</code> cleans up the index.
                     </p><pre class="oac_no_warn" dir="ltr">=================================================================
              STATISTICS FOR "DR_TEST"."TDRBPRX21"
=================================================================

indexed documents:                                          53
allocated docids:                                           68
$I rows:                                                16,259

-----------------------------------------------------------------
                        TOKEN STATISTICS
-----------------------------------------------------------------

unique tokens:                                          13,445
average $I rows for each token:                           1.21
tokens with most $I rows:
  telecommunications industry (THEME)                        6
  science and technology (THEME)                             6
  EMAIL (FIELD SECTION "SOURCE")                             6
  DEC (FIELD SECTION "TIMESTAMP")                            6
  electronic mail (THEME)                                    6
  computer networking (THEME)                                6
  communications (THEME)                                     6
  95 (FIELD SECTION "TIMESTAMP")                             6
  15 (FIELD SECTION "TIMESTAMP")                             6
  HEADLINE (ZONE SECTION)                                    6

average size for each token:                                 8
tokens with largest size:
  T (NORMAL)                                               405
  SAID (NORMAL)                                            313
  HEADLINE (ZONE SECTION)                                  272
  NEW (NORMAL)                                             267
  I (NORMAL)                                               230
  MILLION (PREFIX)                                         222
  D (NORMAL)                                               219
  MILLION (NORMAL)                                         215
  U (NORMAL)                                               192
  DEC (FIELD SECTION "TIMESTAMP")                          186

average frequency for each token:                         2.00
most frequent tokens:
  HEADLINE (ZONE SECTION)                                   68
  DEC (FIELD SECTION "TIMESTAMP")                           62
  95 (FIELD SECTION "TIMESTAMP")                            62
  15 (FIELD SECTION "TIMESTAMP")                            62
  T (NORMAL)                                                61
  D (NORMAL)                                                59
  881115 (THEME)                                            58
  881115 (NORMAL)                                           58
  I (NORMAL)                                                55
  geography (THEME)                                         52

token statistics by type:
  token type:                                           NORMAL
    unique tokens:                                       6,344
    total rows:                                          7,631
    average rows:                                         1.20
    total size:                              67,445 (65.86 KB)
    average size:                                           11
    average frequency:                                    2.33
    most frequent tokens:
      T                                                     61
      D                                                     59
      881115                                                58
      I                                                     55
      SAID                                                  45
      C                                                     43
      NEW                                                   36
      MILLION                                               32
      FIRST                                                 28
      COMPANY                                               27

  token type:                                            THEME
    unique tokens:                                       4,563
    total rows:                                          5,523
    average rows:                                         1.21
    total size:                              21,930 (21.42 KB)
    average size:                                            5
    average frequency:                                    2.40
    most frequent tokens:
      881115                                                58
      political geography                                   52
      geography                                             52
      United States                                         51
      business and economics                                50
      abstract ideas and concepts                           48
      North America                                         48
      science and technology                                46
      NKS                                                   34
      nulls                                                 34
</pre><p>The fragmentation portion of this report is as follows:</p><pre class="oac_no_warn" dir="ltr">-----------------------------------------------------------------
                    FRAGMENTATION STATISTICS
-----------------------------------------------------------------

total size of $I data:                     116,772 (114.04 KB)

$I rows:                                                16,259
estimated $I rows if optimal:                           13,445
estimated row fragmentation:                              17 %

garbage docids:                                             15
estimated garbage size:                      21,379 (20.88 KB)

most fragmented tokens:
  telecommunications industry (THEME)                     83 %
  science and technology (THEME)                          83 %
  EMAIL (FIELD SECTION "SOURCE")                          83 %
  DEC (FIELD SECTION "TIMESTAMP")                         83 %
  electronic mail (THEME)                                 83 %
  computer networking (THEME)                             83 %
  communications (THEME)                                  83 %
  95 (FIELD SECTION "TIMESTAMP")                          83 %
  HEADLINE (ZONE SECTION)                                 83 %
  15 (FIELD SECTION "TIMESTAMP")                          83 %</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1__GUID-52B22FDF-12D7-4997-9845-0D2AD5529619">Examples for CTX_REPORT.INDEX_STATS with STAT_TYPE</p>
                     <p>The following sample output is for <code class="codeph">EST_FRAG_STATS</code> statistics type:
                     </p><pre class="pre codeblock"><code>var report clob;

	begin
		dbms_lob.createtemporary(:report, true);
		ctx_report.index_stats(
		index_name     =&gt; 'tdrbps.idx',
		report         =&gt; :report,
		report_format  =&gt; 'XML',
		stat_type =&gt; 'EST_FRAG_STATS'
		);
	end;
	/

select :report from dual;

:REPORT
------------------------------------------------------------------------------

&lt;CTXREPORT&gt;
&lt;INDEX_STATS&gt;
&lt;STAT_INDEX_NAME&gt;"TDRBPS"."IDX"&lt;/STAT_INDEX_NAME&gt;

&lt;STAT_INDEX_STATS&gt;
&lt;STAT_STATISTIC NAME="Estimated Fragmentation Stats"&gt;50&lt;/STAT_STATISTIC&gt;
&lt;/STAT_INDEX_STATS&gt;
&lt;/INDEX_STATS&gt;
&lt;/CTXREPORT&gt;</code></pre><p>The following sample output is for <code class="codeph">EST_FREQUENT_TOKENS</code> statistics type:
                     </p><pre class="pre codeblock"><code>	begin
		dbms_lob.createtemporary(:report, true);
		ctx_report.index_stats(
		index_name     =&gt; 'tdrbps.idx',
		report         =&gt; :report,
		report_format  =&gt; 'XML',
		stat_type =&gt; 'EST_FREQUENT_TOKENS'
		);
	end;
	/

select :report from dual;

:REPORT
------------------------------------------------------------------------------

&lt;CTXREPORT&gt; 
&lt;INDEX_STATS&gt; 
&lt;STAT_INDEX_NAME&gt;"TDRBPS"."IDX"&lt;/STAT_INDEX_NAME&gt;

&lt;STAT_INDEX_STATS&gt; 
&lt;STAT_TOKEN_LIST NAME="Most Frequently Queried Tokens"&gt; 
&lt;STAT_TOKEN&gt; 
&lt;STAT_TOKEN_TEXT&gt;ORACLE&lt;/STAT_TOKEN_TEXT&gt; 
&lt;STAT_TOKEN_TYPE&gt;0:TEXT&lt;/STAT_TOKEN_TYPE&gt; 
&lt;STAT_TOKEN_STATISTIC&gt;2&lt;/STAT_TOKEN_STATISTIC&gt; 
&lt;/STAT_TOKEN&gt; 
&lt;STAT_TOKEN&gt; 
&lt;STAT_TOKEN_TEXT&gt;DATABASE&lt;/STAT_TOKEN_TEXT&gt; 
&lt;STAT_TOKEN_TYPE&gt;0:TEXT&lt;/STAT_TOKEN_TYPE&gt; 
&lt;STAT_TOKEN_STATISTIC&gt;1&lt;/STAT_TOKEN_STATISTIC&gt; 
&lt;/STAT_TOKEN&gt;
&lt;/STAT_TOKEN_LIST&gt;
&lt;/STAT_INDEX_STATS&gt; 
&lt;/INDEX_STATS&gt; 
&lt;/CTXREPORT&gt;</code></pre><div class="infoboxnote" id="GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1__GUID-8691305C-AD2D-42F9-A9D3-AE69A94C7D2E">
                        <p class="notep1">Note:</p>
                        <p><code class="codeph">&lt;STAT_TOKEN_STATISTIC&gt;</code> shows the number of times a particular token was queried.
                        </p>
                     </div>
                     <p>The following sample output is for <code class="codeph">EST_SLOWEST_QUERIES</code> statistics type:
                     </p><pre class="pre codeblock"><code>	begin
		dbms_lob.createtemporary(:report, true);
		ctx_report.index_stats(
		index_name     =&gt; 'tdrbps.idx',
		report         =&gt; :report,
		report_format  =&gt; 'XML',
		stat_type =&gt; 'EST_SLOWEST_QUERIES'
		);
	end;
	/

select :report from dual;

:REPORT
------------------------------------------------------------------------------

&lt;CTXREPORT&gt; 
&lt;INDEX_STATS&gt; 
&lt;STAT_INDEX_NAME&gt;"TDRBPS"."IDX"&lt;/STAT_INDEX_NAME&gt;

&lt;STAT_INDEX_STATS&gt; 
&lt;STAT_QUERY_LIST NAME="Slowest Queries"&gt; 
&lt;STAT_QUERY&gt; 
&lt;STAT_QUERY_FULL&gt;select count(*) from tbl where
contains(txt,'Oracle')&gt;0&lt;/STAT_QUERY_FULL&gt; 
&lt;STAT_QUERY_TEXT_PART&gt;Oracle&lt;/STAT_QUERY_TEXT_PART&gt; 
&lt;STAT_QUERY_TIME&gt;114&lt;/STAT_QUERY_TIME&gt; 
&lt;STAT_QUERY_HASH&gt;2992140927&lt;/STAT_QUERY_HASH&gt;
&lt;/STAT_QUERY&gt; 
&lt;STAT_QUERY&gt; 
&lt;STAT_QUERY_FULL&gt;select count(*) from tbl where  
contains(txt,'ora%')&gt;0&lt;/STAT_QUERY_FULL&gt; 
&lt;STAT_QUERY_TEXT_PART&gt;ora%&lt;/STAT_QUERY_TEXT_PART&gt; 
&lt;STAT_QUERY_TIME&gt;4&lt;/STAT_QUERY_TIME&gt; 
&lt;STAT_QUERY_HASH&gt;2229259029&lt;/STAT_QUERY_HASH&gt; 
&lt;/STAT_QUERY&gt; 
&lt;STAT_QUERY&gt; 
&lt;STAT_QUERY_FULL&gt;select count(*) from tbl where  
contains(txt,'Database')&gt;0&lt;/STAT_QUERY_FULL&gt; 
&lt;STAT_QUERY_TEXT_PART&gt;Database&lt;/STAT_QUERY_TEXT_PART&gt; 
&lt;STAT_QUERY_TIME&gt;2&lt;/STAT_QUERY_TIME&gt; 
&lt;STAT_QUERY_HASH&gt;1111113040&lt;/STAT_QUERY_HASH&gt; 
&lt;/STAT_QUERY&gt; 
&lt;/STAT_QUERY_LIST&gt; 
&lt;/STAT_INDEX_STATS&gt; 
&lt;/INDEX_STATS&gt; 
&lt;/CTXREPORT&gt;</code></pre><div class="infoboxnote" id="GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1__GUID-DDA75A61-07A7-4966-9D79-E02541306405">
                        <p class="notep1">Note:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">&lt;STAT_QUERY_FULL&gt;</code> contains the full query and <code class="codeph">&lt;STAT_QUERY_TEXT_PART&gt;</code> contains the Oracle Text <code class="codeph">CONTAINS</code> clause of the query.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">&lt;STAT_QUERY_TIME&gt;</code> contains query response times and <code class="codeph">&lt;STAT_QUERY_HASH&gt;</code> contains the hash values of the queries.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <p>The following sample output is for <code class="codeph">EST_TOKENS_TO_OPTIMIZE</code> statistics type:
                     </p><pre class="pre codeblock"><code>	begin
		dbms_lob.createtemporary(:report, true);
		ctx_report.index_stats(
		index_name     =&gt; 'tdrbps.idx',
		report         =&gt; :report,
		report_format  =&gt; 'XML',
		stat_type =&gt; 'EST_TOKENS_TO_OPTIMIZE'
		);
	end;
	/

select :report from dual;

:REPORT
------------------------------------------------------------------------------

&lt;CTXREPORT&gt; 
&lt;INDEX_STATS&gt; 
&lt;STAT_INDEX_NAME&gt;"TDRBPS"."IDX"&lt;/STAT_INDEX_NAME&gt;&lt;STAT_INDEX_STATS&gt;

&lt;STAT_TOKEN_LIST NAME="Best Tokens To Optimize"&gt; 
&lt;STAT_TOKEN&gt; 
&lt;STAT_TOKEN_TEXT&gt;ORACLE&lt;/STAT_TOKEN_TEXT&gt; 
&lt;STAT_TOKEN_TYPE&gt;0:TEXT&lt;/STAT_TOKEN_TYPE&gt; 
&lt;STAT_TOKEN_STATISTIC&gt;100&lt;/STAT_TOKEN_STATISTIC&gt; 
&lt;/STAT_TOKEN&gt; 
&lt;STAT_TOKEN&gt; 
&lt;STAT_TOKEN_TEXT&gt;DATABASE&lt;/STAT_TOKEN_TEXT&gt; 
&lt;STAT_TOKEN_TYPE&gt;0:TEXT&lt;/STAT_TOKEN_TYPE&gt; 
&lt;STAT_TOKEN_STATISTIC&gt;50&lt;/STAT_TOKEN_STATISTIC&gt; 
&lt;/STAT_TOKEN&gt; 
&lt;/STAT_TOKEN_LIST&gt; 
&lt;/STAT_INDEX_STATS&gt; 
&lt;/INDEX_STATS&gt; 
&lt;/CTXREPORT&gt;</code></pre><div class="infoboxnote" id="GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1__GUID-CE245BF6-D236-45F2-9E5B-A4874B8E0F64">
                        <p class="notep1">Note:</p>
                        <p><code class="codeph">&lt;STAT_TOKEN_STATISTIC&gt;</code> indicates the fragmentation of a particular token.
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1__GUID-200F6661-D297-4830-A7AF-E6B29C34892D">Notes</p>
                     <p>These metadata are available only when <code class="codeph">QUERY_STATS</code> is turned on for the index: estimated fragmentation stats, estimated frequently queried tokens, estimated most fragmented frequently queried token, and estimated slowest running queries for the specified index.
                     </p>
                     <p><code class="codeph">CTX_REPORT.INDEX_STATS</code> will also output information on dr$<span class="italic">indexname</span>$S table, which is the section data, or <code class="codeph">SDATA</code>, table.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C65CC1FF-4D6D-4C26-8DEE-6679B07FE7E1__GUID-0B0A1656-068B-427F-9F86-9C319E269769">Related Topics</p>
                     <p>CTX_OUTPUT.<a href="CTX_OUTPUT-package.html#GUID-D43D058C-F4FB-4C2A-965A-5872F134784F">ENABLE_QUERY_STATS</a></p>
                     <p>CTX_OUTPUT.<a href="CTX_OUTPUT-package.html#GUID-B772A716-F22F-4614-9086-4E95CDE63F84">DISABLE_QUERY_STATS</a></p>
                     <p><a href="oracle-text-SQL-statements-and-operators.html#GUID-46981A92-A7F3-4431-AEDB-7E4F0C5FC862">CREATE INDEX</a></p>
                     <p><a href="oracle-text-indexing-elements.html#GUID-5F662035-B0F5-4F72-A2A8-A5B07070ABBF__BHCGFIJI" title="This table describes the BASIC_STORAGE attributes.">Table 2-39</a></p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF2147"></a><div class="props_rev_3"><a id="GUID-AFD54A2E-90C8-42F8-9607-AC517428056D" name="GUID-AFD54A2E-90C8-42F8-9607-AC517428056D"></a><h3 id="CCREF-GUID-AFD54A2E-90C8-42F8-9607-AC517428056D" class="sect3"><span class="enumeration_section">13.9 </span>QUERY_LOG_SUMMARY
               </h3>
               <div>
                  <div class="section">
                     <p>Obtain a report of logged queries. </p>
                     <p><code class="codeph">QUERY_LOG_SUMMARY</code> enables you to analyze queries you have logged. For example, suppose you have an application that searches a database of large animals, and your analysis of queries against it shows that users are continually searching for the word <span class="italic">mouse</span>; this analysis might induce you to rewrite your application so that a search for <span class="italic">mouse</span> redirects the user to a database for small animals instead of simply returning an unsuccessful search.
                     </p>
                     <p>With query analysis, you can find out the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Which queries were made</p>
                        </li>
                        <li>
                           <p>Which queries were successful</p>
                        </li>
                        <li>
                           <p>Which queries were unsuccessful</p>
                        </li>
                        <li>
                           <p>How many times each query was made</p>
                        </li>
                     </ul>
                     <p>You can combine these factors in various ways, such as determining the 50 most frequent unsuccessful queries made by your application.</p>
                     <p>Query logging is begun with <code class="codeph">CTX_OUTPUT.START_QUERY_LOG</code> and terminated with <code class="codeph">CTX_OUTPUT.END_QUERY_LOG</code>.
                     </p>
                     <div class="infoboxnote" id="GUID-AFD54A2E-90C8-42F8-9607-AC517428056D__GUID-9DE7550B-D09A-41CD-9FD9-4F14C06554C4">
                        <p class="notep1">Note:</p>
                        <p>You must connect as <code class="codeph">CTXSYS</code> to use <code class="codeph">CTX_REPORT.QUERY_LOG_SUMMARY</code>.
                        </p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-AFD54A2E-90C8-42F8-9607-AC517428056D__GUID-5D61168B-73DA-46E6-A64A-CA7A424C989E">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="CTX_OUTPUT-package.html#GUID-1ED0F3CD-C3B5-4E22-A412-75FA9EC5E988">START_QUERY_LOG</a>"</span> and <span class="q">"<a href="CTX_OUTPUT-package.html#GUID-E79169B1-6785-4001-988A-32804490E87B">END_QUERY_LOG</a>"</span> 
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AFD54A2E-90C8-42F8-9607-AC517428056D__GUID-4C8DEEB5-413B-4EC2-967D-25FFF67132AB">Syntax</p><pre class="oac_no_warn" dir="ltr">procedure CTX_REPORT.QUERY_LOG_SUMMARY(
   logfile       IN VARCHAR2,
   indexname     IN VARCHAR2 DEFAULT NULL,
   result_table  IN OUT NOCOPY QUERY_TABLE,
   row_num       IN NUMBER,
   most_freq     IN BOOLEAN DEFAULT TRUE,
   has_hit       IN BOOLEAN DEFAULT TRUE
);</pre><dl>
                        <dt class="dlterm"><a name="GUID-AFD54A2E-90C8-42F8-9607-AC517428056D__GUID-179F0100-16E7-405C-9B7A-28310EB5E601">
                              <!-- --></a>logfile
                        </dt>
                        <dd>
                           <p>Specify the name of the logfile that contains the queries. Starting with Oracle Database 12<span class="italic">c</span> release 2 (12.2), this parameter is ignored as all the query logs are written to database trace files.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-AFD54A2E-90C8-42F8-9607-AC517428056D__GUID-727443D1-4803-4676-B866-63CE57218DD5">
                              <!-- --></a>indexname
                        </dt>
                        <dd>
                           <p>Specify the name of the context index for which you want the summary report. If you specify <code class="codeph">NULL</code>, the procedure provides a summary report for all context indexes.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-AFD54A2E-90C8-42F8-9607-AC517428056D__GUID-1CB61F76-AABA-44F8-B675-EC54DE7AC3CA">
                              <!-- --></a>result_table
                        </dt>
                        <dd>
                           <p>Specify the name of the in-memory table of type <code class="codeph">TABLE OF RECORD</code> where the results of the <code class="codeph">QUERY_LOG_SUMMARY</code> are to go. The default is the location specified by the system parameter <code class="codeph">LOG_DIRECTORY</code>.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-AFD54A2E-90C8-42F8-9607-AC517428056D__GUID-B015B088-588A-465B-8E28-F9FCC215BF2F">
                              <!-- --></a>row_num
                        </dt>
                        <dd>
                           <p>The number of rows of results from <code class="codeph">QUERY_LOG_SUMMARY</code> to be reported into the table named by <span class="italic">restab</span>. For example, if this is number is 10, <span class="italic">most_freq</span> is TRUE, and <span class="italic">has_hit</span> is TRUE, then the procedure returns the 10 most frequent queries that were successful (that is, returned hits).
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-AFD54A2E-90C8-42F8-9607-AC517428056D__GUID-927E6708-4B0A-474F-97A5-F56DB0A0A627">
                              <!-- --></a>most_freq
                        </dt>
                        <dd>
                           <p>Specify whether <code class="codeph">QUERY_LOG_SUMMARY</code> should return the most frequent or least frequent queries. The default is most frequent queries. If <span class="italic">most_freq</span> is set to <code class="codeph">FALSE</code>, the procedure returns the least successful queries.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-AFD54A2E-90C8-42F8-9607-AC517428056D__GUID-5D202FEF-B5A9-4601-B386-B3274A75874E">
                              <!-- --></a>has_hit
                        </dt>
                        <dd>
                           <p>Specify whether <code class="codeph">QUERY_LOG_SUMMARY</code> should return queries that are successful (that is, that generate hits) or unsuccessful queries. The default is to count successful queries; set <span class="variable" translate="no">has_hit</span> to <code class="codeph">FALSE</code> to return unsuccessful queries.
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AFD54A2E-90C8-42F8-9607-AC517428056D__GUID-8105CD2E-9711-4F88-9D1A-5199B2680249">Example</p>
                     <p>The following example shows how a query log can be used.</p>
                     <p>First connect as <code class="codeph">CTXSYS</code>. Then create and populate two tables, and then create an index for each:
                     </p><pre class="oac_no_warn" dir="ltr">create table qlogtab1 (tk number primary key, text varchar2(2000));
insert into qlogtab1 values(1, 'The Roman name for France was Gaul.');
insert into qlogtab1 values(2, 'The Tour de France is held each summer.');
insert into qlogtab1 values(3, 'Jacques Anatole Thibault took the pen name Anatole France.');
create index idx_qlog1 on qlogtab1(text) indextype is ctxsys.context;
create table qlogtab2 (tk number primary key, text varchar2(2000));
insert into qlogtab2 values(1, 'The Great Wall of China is about 2400 kilometers long');
insert into qlogtab2 values(2, 'Soccer dates back at least to 217 C.E.');
insert into qlogtab2 values(3, 'The Corn Palace is a tourist attraction in South Dakota.');
create index idx_qlog2 on qlogtab2(text) indextype is ctxsys.context;</pre><pre class="oac_no_warn" dir="ltr"></pre><p>Turn on query logging, creating a log called <code class="codeph">query_log</code>:
                     </p><pre class="oac_no_warn" dir="ltr">
exec ctx_output.start_query_log('query.log');
</pre><p>Now make some queries (some of which will be unsuccessful):</p><pre class="oac_no_warn" dir="ltr">select text from qlogtab1 where contains(text, 'France',1)&gt;0;
select text from qlogtab1 where contains(text, 'cheese',1)&gt;0;
select text from qlogtab1 where contains(text, 'Text Wizard',1)&gt;0;
select text from qlogtab2 where contains(text, 'Corn Palace',1)&gt;0;
select text from qlogtab2 where contains(text, 'China',1)&gt;0;
select text from qlogtab1 where contains(text, 'Text Wizards',1)&gt;0;
select text from qlogtab2 where contains(text, 'South Dakota',1)&gt;0;
select text from qlogtab1 where contains(text, 'Text Wizard',1)&gt;0;
select text from qlogtab2 where contains(text, 'China',1)&gt;0;
select text from qlogtab1 where contains(text, 'Text Wizard',1)&gt;0;
select text from qlogtab2 where contains(text, 'company',1)&gt;0;
select text from qlogtab1 where contains(text, 'Text Wizard',1)&gt;0;
select text from qlogtab1 where contains(text, 'France',1)&gt;0;
select text from qlogtab1 where contains(text, 'database',1)&gt;0;
select text from qlogtab2 where contains(text, 'high-tech',1)&gt;0;
select text from qlogtab1 where contains(text, 'database',1)&gt;0;
select text from qlogtab1 where contains(text, 'France',1)&gt;0;
select text from qlogtab1 where contains(text, 'Japan',1)&gt;0;
select text from qlogtab1 where contains(text, 'Egypt',1)&gt;0;
select text from qlogtab1 where contains(text, 'Argentina',1)&gt;0;
select text from qlogtab1 where contains(text, 'Argentina',1)&gt;0;
select text from qlogtab1 where contains(text, 'Argentina',1)&gt;0;
select text from qlogtab1 where contains(text, 'Japan',1)&gt;0;
select text from qlogtab1 where contains(text, 'Egypt',1)&gt;0;
select text from qlogtab1 where contains(text, 'Air Shuttle',1)&gt;0;
select text from qlogtab1 where contains(text, 'Argentina',1)&gt;0;
</pre><p>With the querying over, turn query logging off:</p><pre class="oac_no_warn" dir="ltr">exec ctx_output.end_query_log;
</pre><p>Use <code class="codeph">QUERY_LOG_SUMMARY</code> to get query reports. In the first instance, you ask to see the three most frequent queries that return successfully.   First declare the results table (<code class="codeph">the_queries</code>).
                     </p><pre class="oac_no_warn" dir="ltr">set serveroutput on;
declare
   the_queries ctx_report.query_table;
begin
   ctx_report.query_log_summary('query.log', null, the_queries, 
                   row_num=&gt;3, most_freq=&gt;TRUE, has_hit=&gt;TRUE);
   dbms_output.put_line('The 3 most frequent queries returning hits');
   dbms_output.put_line('number of times  query string');
   for i in 1..the_queries.count loop
     dbms_output.put_line(the_queries(i).times||'                '||the_queries(i).query);
   end loop;
end;
/</pre><p>This returns the following:</p><pre class="oac_no_warn" dir="ltr">
The 3 most frequent queries returning hits
number of times  query string
3                France
2                China
1                Corn Palace
</pre><p>Next, look for the three most frequent queries on <code class="codeph">idx_qlog1</code> that were successful.
                     </p><pre class="oac_no_warn" dir="ltr">declare
   the_queries ctx_report.query_table;
begin
   ctx_report.query_log_summary('query.log', 'idx_qlog1', the_queries, 
                   row_num=&gt;3, most_freq=&gt;TRUE, has_hit=&gt;TRUE);
   dbms_output.put_line('The 3 most frequent queries returning hits for index idx_qlog1');
   dbms_output.put_line('number of times  query string');
   for i in 1..the_queries.count loop
     dbms_output.put_line(the_queries(i).times||'                '||the_queries(i).query);
   end loop;
end;
/</pre><p>Because only the queries for <span class="italic">France</span> were successful, <code class="codeph">ctx_report.query_log_summary</code> returns the following:
                     </p><pre class="oac_no_warn" dir="ltr">The 3 most frequent queries returning hits for index idx_qlog1
number of times  query string
3                France
</pre><p>Lastly, ask to see the three least frequent queries that returned no hits (that is, queries that were unsuccessful and called infrequently). In this case, you are interested in queries on both context indexes, so you set the indexname parameter to NULL.</p><pre class="oac_no_warn" dir="ltr">declare
   the_queries ctx_report.query_table;
begin
   ctx_report.query_log_summary('query.log', null, the_queries, row_num=&gt;3, 
                   most_freq=&gt;FALSE, has_hit=&gt;FALSE); 
   dbms_output.put_line('The 3 least frequent queries returning no hit');
   dbms_output.put_line('number of times  query string');
   for i in 1..the_queries.count loop
     dbms_output.put_line(the_queries(i).times||'                '||the_queries(i).query);
   end loop;
end;
/</pre><p>This returns the following results:</p><pre class="oac_no_warn" dir="ltr">The 3 least frequent queries returning no hit                               
number of times  query string                                              
1                high-tech                                                 
1                company                                                   
1                cheese                                                    
</pre><p><span class="italic">Argentina</span> and <span class="italic">Japan</span> do not make this list, because they are queried more than once, while <span class="italic">Corn Palace</span> does not make this list because it is successfully queried.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF2148"></a><div class="props_rev_3"><a id="GUID-45B84CF6-F2AB-402D-9E7C-FCD6AB9A3BD3" name="GUID-45B84CF6-F2AB-402D-9E7C-FCD6AB9A3BD3"></a><h3 id="CCREF-GUID-45B84CF6-F2AB-402D-9E7C-FCD6AB9A3BD3" class="sect3"><span class="enumeration_section">13.10 </span>TOKEN_INFO
               </h3>
               <div>
                  <div class="section">
                     <p>Creates a report showing the information for a token, decoded. This procedure will fully scan the info for a token, so it may take a long time to run for really large tokens.</p>
                     <p>You can call this operation as a procedure with an <code class="codeph">IN</code> <code class="codeph">OUT</code> <code class="codeph">CLOB</code> parameter or as a function that returns the report as a <code class="codeph">CLOB</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-45B84CF6-F2AB-402D-9E7C-FCD6AB9A3BD3__GUID-C56F96AB-50EE-49B1-B852-50F29A8FB87D">Syntax</p><pre class="oac_no_warn" dir="ltr">procedure CTX_REPORT.TOKEN_INFO(
  index_name      IN VARCHAR2,
  report          IN OUT NOCOPY CLOB,
  token           IN VARCHAR2,
  token_type      IN NUMBER,
  part_name       IN VARCHAR2 DEFAULT NULL,
  raw_info        IN BOOLEAN  DEFAULT FALSE,
  decoded_info    IN BOOLEAN  DEFAULT TRUE,
  report_format   IN VARCHAR2 DEFAULT FMT_TEXT
);

function CTX_REPORT.TOKEN_INFO(
  index_name      IN VARCHAR2,
  token           IN VARCHAR2,
  token_type      IN NUMBER,
  part_name       IN VARCHAR2 DEFAULT NULL,
  raw_info        IN VARCHAR2 DEFAULT 'N',
  decoded_info    IN VARCHAR2 DEFAULT 'Y',
  report_format   IN VARCHAR2 DEFAULT FMT_TEXT
) return clob;</pre><dl>
                        <dt class="dlterm"><a name="GUID-45B84CF6-F2AB-402D-9E7C-FCD6AB9A3BD3__GUID-A656B8E8-F0D7-45DE-93C1-8055224CC1D9">
                              <!-- --></a>index_name
                        </dt>
                        <dd>
                           <p>Specify the name of the index.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-45B84CF6-F2AB-402D-9E7C-FCD6AB9A3BD3__GUID-FA8DC8F2-FE08-449E-A1DA-317F82BCD0F8">
                              <!-- --></a>report 
                        </dt>
                        <dd>
                           <p>Specify the <code class="codeph">CLOB</code> locator to which to write the report.
                           </p>
                           <p>If report is NULL, a session-duration temporary <code class="codeph">CLOB</code> will be created and returned. It is the caller's responsibility to free this temporary <code class="codeph">CLOB</code> as needed.
                           </p>
                           <p>The <code class="codeph">report</code> <code class="codeph">CLOB</code> will be truncated before report is generated, so any existing contents will be overwritten by this call token may be case-sensitive, depending on the passed-in token type.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-45B84CF6-F2AB-402D-9E7C-FCD6AB9A3BD3__GUID-AF8736AD-A4DB-4798-8DF1-F767C5C96C61">
                              <!-- --></a>token
                        </dt>
                        <dd>
                           <p>Specify the token text.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-45B84CF6-F2AB-402D-9E7C-FCD6AB9A3BD3__GUID-C5B884AA-A449-4196-A357-6D3DCA80D349">
                              <!-- --></a>token_type
                        </dt>
                        <dd>
                           <p>Specify the token type. You can use a number returned by the <a href="CTX_REPORT-package.html#GUID-9B2E2C74-D14F-4985-B638-C499565AC5EE">TOKEN_TYPE</a> function. <code class="codeph">THEME</code>, <code class="codeph">ZONE</code>, <code class="codeph">ATTR</code>, <code class="codeph">PATH</code>, and <code class="codeph">PATH</code> <code class="codeph">ATTR</code> tokens are case-sensitive.
                           </p>
                           <p>Everything else gets passed through the lexer, so if the index's lexer is case-sensitive, the token input is case-sensitive.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-45B84CF6-F2AB-402D-9E7C-FCD6AB9A3BD3__GUID-CE0DAF82-0AAE-443E-808C-1051D3CB741B">
                              <!-- --></a>part_name
                        </dt>
                        <dd>
                           <p>Specify the name of the index partition.</p>
                           <p>If the index is a local partitioned index, then part_name must be provided. <code class="codeph">TOKEN_INFO</code> will apply to just that index partition.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-45B84CF6-F2AB-402D-9E7C-FCD6AB9A3BD3__GUID-3E050372-DAB8-4677-9C7C-E399337198B8">
                              <!-- --></a>raw_info
                        </dt>
                        <dd>
                           <p>Specify <code class="codeph">TRUE</code> to include a hex dump of the index data. If raw_info is <code class="codeph">TRUE</code>, the report will include a hex dump of the raw data in the <code class="codeph">token_info</code> column.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-45B84CF6-F2AB-402D-9E7C-FCD6AB9A3BD3__GUID-AD5D3BBB-C109-489D-90C9-ECFC89CF4D1E">
                              <!-- --></a>decoded_info
                        </dt>
                        <dd>
                           <p>Specify decode and include docid and offset data. If <code class="codeph">decoded_info</code> is FALSE, <code class="codeph">CTX_REPORT</code> will not attempt to decode the token information. This is useful when you just want a dump of data.
                           </p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-45B84CF6-F2AB-402D-9E7C-FCD6AB9A3BD3__GUID-E04BAE43-6BE2-46E4-AF06-9CEAE5FF59CB">
                              <!-- --></a>report_format
                        </dt>
                        <dd>
                           <p>Specify whether the report should be generated as 'TEXT' or as 'XML'. TEXT is the default. You can also specify the values <code class="codeph">CTX_REPORT.FMT_TEXT</code> or <code class="codeph">CTX_REPORT.FMT_XML</code>.
                           </p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF2149"></a><div class="props_rev_3"><a id="GUID-9B2E2C74-D14F-4985-B638-C499565AC5EE" name="GUID-9B2E2C74-D14F-4985-B638-C499565AC5EE"></a><h3 id="CCREF-GUID-9B2E2C74-D14F-4985-B638-C499565AC5EE" class="sect3"><span class="enumeration_section">13.11 </span>TOKEN_TYPE
               </h3>
               <div>
                  <div class="section">
                     <p>This is a helper function which translates an English name into a numeric token type. This is suitable for use with <code class="codeph">token_info</code>, or any other <code class="codeph">CTX</code> API which takes in a <code class="codeph">token_type</code>.
                     </p><pre class="oac_no_warn" dir="ltr">function token_type(
  index_name in varchar2,
  type_name  in varchar2
) return number;

TOKEN_TYPE_TEXT      constant number := 0;
TOKEN_TYPE_THEME     constant number := 1;
TOKEN_TYPE_ZONE_SEC  constant number := 2;
TOKEN_TYPE_ORIG      	constant number := 3,
TOKEN_TYPE_ATTR_TEXT constant number := 4;
TOKEN_TYPE_ATTR_SEC  constant number := 5;
TOKEN_TYPE_PREFIX    constant number := 6;
TOKEN_TYPE_PATH_SEC  constant number := 7;
TOKEN_TYPE_PATH_ATTR constant number := 8;
TOKEN_TYPE_STEM      constant number := 9;</pre><dl>
                        <dt class="dlterm"><a name="GUID-9B2E2C74-D14F-4985-B638-C499565AC5EE__GUID-01EC18E6-F477-4A5E-A7FD-0F231955DA9F">
                              <!-- --></a>index_name
                        </dt>
                        <dd>
                           <p>Specify the name of the index.</p>
                        </dd>
                        <dt class="dlterm"><a name="GUID-9B2E2C74-D14F-4985-B638-C499565AC5EE__GUID-1C105442-5745-410E-A5D4-9CFA74A271B1">
                              <!-- --></a>type_name
                        </dt>
                        <dd>
                           <p>Specify an English name for <code class="codeph">token_type</code>. The following strings are legal input. All input is case-insensitive.
                           </p>
                           <div class="tblformal" id="GUID-9B2E2C74-D14F-4985-B638-C499565AC5EE__GUID-3DE973FE-48CB-4BE0-ADA9-90ABB58852B4">
                              <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table shows legal input strings." width="90%" frame="hsides" border="1" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="38%" id="d119504e2328">Input</th>
                                       <th align="left" valign="bottom" width="39%" id="d119504e2331">Meaning</th>
                                       <th align="left" valign="bottom" width="23%" id="d119504e2334">Type Returned</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="38%" id="d119504e2339" headers="d119504e2328 ">
                                          <p><code class="codeph">TEXT</code></p>
                                       </td>
                                       <td align="left" valign="top" width="39%" headers="d119504e2339 d119504e2331 ">
                                          <p>Normal text token.</p>
                                       </td>
                                       <td align="left" valign="top" width="23%" headers="d119504e2339 d119504e2334 ">
                                          <p>0</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="38%" id="d119504e2350" headers="d119504e2328 ">
                                          <p><code class="codeph">THEME</code></p>
                                       </td>
                                       <td align="left" valign="top" width="39%" headers="d119504e2350 d119504e2331 ">
                                          <p>Theme token.</p>
                                       </td>
                                       <td align="left" valign="top" width="23%" headers="d119504e2350 d119504e2334 ">
                                          <p>1</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="38%" id="d119504e2361" headers="d119504e2328 ">
                                          <p><code class="codeph">ZONE SEC</code></p>
                                       </td>
                                       <td align="left" valign="top" width="39%" headers="d119504e2361 d119504e2331 ">
                                          <p>Zone token.</p>
                                       </td>
                                       <td align="left" valign="top" width="23%" headers="d119504e2361 d119504e2334 ">
                                          <p>2</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="38%" id="d119504e2372" headers="d119504e2328 ">
                                          <p><code class="codeph">ORIGINAL</code></p>
                                       </td>
                                       <td align="left" valign="top" width="39%" headers="d119504e2372 d119504e2331 ">
                                          <p>Original form token</p>
                                       </td>
                                       <td align="left" valign="top" width="23%" headers="d119504e2372 d119504e2334 ">
                                          <p>3</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="38%" id="d119504e2383" headers="d119504e2328 ">
                                          <p><code class="codeph">ATTR TEXT</code></p>
                                       </td>
                                       <td align="left" valign="top" width="39%" headers="d119504e2383 d119504e2331 ">
                                          <p>Text that occurs in attribute.</p>
                                       </td>
                                       <td align="left" valign="top" width="23%" headers="d119504e2383 d119504e2334 ">
                                          <p>4</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="38%" id="d119504e2394" headers="d119504e2328 ">
                                          <p><code class="codeph">ATTR SEC</code></p>
                                       </td>
                                       <td align="left" valign="top" width="39%" headers="d119504e2394 d119504e2331 ">
                                          <p>Attribute section.</p>
                                       </td>
                                       <td align="left" valign="top" width="23%" headers="d119504e2394 d119504e2334 ">
                                          <p>5</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="38%" id="d119504e2405" headers="d119504e2328 ">
                                          <p><code class="codeph">PREFIX</code></p>
                                       </td>
                                       <td align="left" valign="top" width="39%" headers="d119504e2405 d119504e2331 ">
                                          <p>Prefix token.</p>
                                       </td>
                                       <td align="left" valign="top" width="23%" headers="d119504e2405 d119504e2334 ">
                                          <p>6</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="38%" id="d119504e2416" headers="d119504e2328 ">
                                          <p><code class="codeph">PATH SEC</code></p>
                                       </td>
                                       <td align="left" valign="top" width="39%" headers="d119504e2416 d119504e2331 ">
                                          <p>Path section.</p>
                                       </td>
                                       <td align="left" valign="top" width="23%" headers="d119504e2416 d119504e2334 ">
                                          <p>7</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="38%" id="d119504e2427" headers="d119504e2328 ">
                                          <p><code class="codeph">PATH ATTR</code></p>
                                       </td>
                                       <td align="left" valign="top" width="39%" headers="d119504e2427 d119504e2331 ">
                                          <p>Path attribute section.</p>
                                       </td>
                                       <td align="left" valign="top" width="23%" headers="d119504e2427 d119504e2334 ">
                                          <p>8</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="38%" id="d119504e2438" headers="d119504e2328 ">
                                          <p><code class="codeph">STEM</code></p>
                                       </td>
                                       <td align="left" valign="top" width="39%" headers="d119504e2438 d119504e2331 ">
                                          <p>Stem form token.</p>
                                       </td>
                                       <td align="left" valign="top" width="23%" headers="d119504e2438 d119504e2334 ">
                                          <p>9</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="38%" id="d119504e2449" headers="d119504e2328 ">
                                          <p><code class="codeph">FIELD &lt;name&gt; TEXT</code></p>
                                       </td>
                                       <td align="left" valign="top" width="39%" headers="d119504e2449 d119504e2331 ">
                                          <p>Text token in field section &lt;name&gt;</p>
                                       </td>
                                       <td align="left" valign="top" width="23%" headers="d119504e2449 d119504e2334 ">
                                          <p>16-79</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="38%" id="d119504e2461" headers="d119504e2328 ">
                                          <p><code class="codeph">FIELD &lt;name&gt; PREFIX</code></p>
                                       </td>
                                       <td align="left" valign="top" width="39%" headers="d119504e2461 d119504e2331 ">
                                          <p>Prefix token in field section &lt;name&gt;</p>
                                       </td>
                                       <td align="left" valign="top" width="23%" headers="d119504e2461 d119504e2334 ">
                                          <p>616-916</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="38%" id="d119504e2472" headers="d119504e2328 ">
                                          <p><code class="codeph">FIELD &lt;name&gt; STEM</code></p>
                                       </td>
                                       <td align="left" valign="top" width="39%" headers="d119504e2472 d119504e2331 ">
                                          <p>Stem token in field section &lt;name&gt;</p>
                                       </td>
                                       <td align="left" valign="top" width="23%" headers="d119504e2472 d119504e2334 ">
                                          <p>916-979</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="38%" id="d119504e2483" headers="d119504e2328 ">
                                          <p><code class="codeph">NDATA &lt;name&gt;</code></p>
                                       </td>
                                       <td align="left" valign="top" width="39%" headers="d119504e2483 d119504e2331 ">
                                          <p><code class="codeph">NDATA</code>-type token
                                          </p>
                                       </td>
                                       <td align="left" valign="top" width="23%" headers="d119504e2483 d119504e2334 ">
                                          <p>200-299</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="38%" id="d119504e2496" headers="d119504e2328 ">
                                          <p><code class="codeph">TOKEN_TYPE_ATTR_TXT_PFIX</code></p>
                                       </td>
                                       <td align="left" valign="top" width="39%" headers="d119504e2496 d119504e2331 ">
                                          <p>Attribute text prefix.</p>
                                       </td>
                                       <td align="left" valign="top" width="23%" headers="d119504e2496 d119504e2334 ">
                                          <p>604</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="38%" id="d119504e2507" headers="d119504e2328 ">
                                          <p><code class="codeph">TOKEN_TYPE_ATTR_TXT_STEM</code></p>
                                       </td>
                                       <td align="left" valign="top" width="39%" headers="d119504e2507 d119504e2331 ">
                                          <p>Attribute text stem.</p>
                                       </td>
                                       <td align="left" valign="top" width="23%" headers="d119504e2507 d119504e2334 ">
                                          <p>904</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <p>For <code class="codeph">FIELD</code> types, the index metadata needs to be read, so if you are going to be calling this a lot for such things, you might want to consider caching the values in local variables rather than calling token_type over and over again.
                           </p>
                           <p>The constant types (0 - 9) also have constants in this package defined.</p>
                        </dd>
                     </dl>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9B2E2C74-D14F-4985-B638-C499565AC5EE__GUID-465C9537-19CA-4B1B-9B41-257EBA04B816">Notes</p>
                     <p>To get token types for <code class="codeph">MDATA</code> tokens, do not use <code class="codeph">CTX_REPORT.TOKEN_TYPE</code>; use the <a href="oracle-text-CONTAINS-query-operators.html#GUID-B995F693-A4AA-493D-A62D-6D79857BA50F">MDATA</a> operator instead. (See <span class="q">"<a href="oracle-text-CONTAINS-query-operators.html#GUID-B995F693-A4AA-493D-A62D-6D79857BA50F">MDATA</a>"</span>.) The syntax to use is '<code class="codeph">MDATA</code> <span class="italic">secname</span>'. 
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9B2E2C74-D14F-4985-B638-C499565AC5EE__GUID-DC188F45-1247-4399-9458-F3448004AC2F">Example</p><pre class="oac_no_warn" dir="ltr">typenum := ctx_report.token_type('myindex', 'field author text');</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="CCREF24106"></a><div class="props_rev_3"><a id="GUID-06C55318-69A1-499E-B5C8-D7FC163A832C" name="GUID-06C55318-69A1-499E-B5C8-D7FC163A832C"></a><h3 id="CCREF-GUID-06C55318-69A1-499E-B5C8-D7FC163A832C" class="sect3"><span class="enumeration_section">13.12 </span>VALIDATE_INDEX
               </h3>
               <div>
                  <div class="section">
                     <p>Provides diagnostics if index corruption is believed to have occurred. <code class="codeph">CTX_REPORT.VALIDATE_INDEX</code> checks an index (or a partition for a locally partitioned index) and reports whether or not any corruption has been detected. <code class="codeph">VALIDATE_INDEX</code> only checks $I rows that have <code class="codeph">token_type</code> <code class="codeph">0</code> and does not check other rows that contain information about sections, such as the <code class="codeph">NDATA</code> section.
                     </p>
                     <p>This procedure is primarily intended as a diagnostic tool to be used under the direction of Oracle Support.</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='12273.index.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html class="letter-style">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>SQL*Plus Quick Reference, 19c</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Quick Reference">
      <meta property="og:description" content>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Quick Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <link rel="alternate" href="sqlplus-quick-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="description" content>
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-14T01:51:13-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96463-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL*Plus Quick Reference">
    <meta name="dcterms.isVersionOf" content="SQPQR">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div xmlns:htmlutil="http://dita4publishers.org/functions/htmlutil" xmlns:df="http://dita2indesign.org/dita/functions" xmlns:enum="http://dita4publishers.org/enumerables" xmlns:local="http//local/function" xmlns:relpath="http://dita2indesign/functions/relpath" xmlns:dita-ot="http://dita-ot.sourceforge.net/ns/201007/dita-ot" class="noscript alert alert-danger text-center" role="alert">
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li class="active" property="itemListElement" typeof="ListItem"></li>
            </ol>
            
            <h2><span>SQL*Plus&reg;</span></h2>
         </header>
         <div class="letterstyle">
            
            <p class="booktitle"><span>Quick Reference</span></p>
            
            <p><span class="revnumber"><span>19c</span> </span></p>
            <p class="invpartnumber">E96463-01</p>
            <p class="date">January 2019</p>
            <div>
               <div>
                  <p></p>
               </div>
            </div><a id="SQPQR101"></a>
            
            <div class="sect3">
               <!-- infolevel="all" infotype="General" --><a name="GUID-39C46F25-BC4A-4BCB-A77B-455CBFCD18C3" id="GUID-39C46F25-BC4A-4BCB-A77B-455CBFCD18C3"></a><h3 id="SQPQR-GUID-39C46F25-BC4A-4BCB-A77B-455CBFCD18C3" class="sect3">About this Quick Reference</h3>
               <div>
                  <p>This Quick Reference shows SQL*Plus command syntax. For detailed information on each command, refer to the <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqpqr&amp;id=SQPUG" target="_blank"><span class="italic">SQL*Plus User's Guide and Reference</span></a>. 
                  </p>
                  <p>This Quick Reference has the following topics:</p>
                  <ul xmlns:htmlutil="http://dita4publishers.org/functions/htmlutil" xmlns:df="http://dita2indesign.org/dita/functions" xmlns:enum="http://dita4publishers.org/enumerables" xmlns:local="http//local/function" xmlns:relpath="http://dita2indesign/functions/relpath" xmlns:dita-ot="http://dita-ot.sourceforge.net/ns/201007/dita-ot" style="list-style-type: disc;">
                     <li>
                        <p><a href="#GUID-C5A6CC17-7528-4B8A-B805-B512304A33F3">Alphabetic List of SQL*Plus Commands</a></p>
                     </li>
                     <li>
                        <p><a href="#GUID-E6CDE3E0-3035-49FC-B2FA-5BC854384CC8">Starting and Leaving SQL*Plus</a></p>
                     </li>
                     <li>
                        <p><a href="#GUID-9964584C-5554-4F30-B97F-4ED1AF7664AB">Starting Up and Shutting Down a Database</a></p>
                     </li>
                     <li>
                        <p><a href="#GUID-FE0C4F98-FF77-4AF4-879F-9DB08E03E4E0">Entering and Executing Commands</a></p>
                     </li>
                     <li>
                        <p><a href="#GUID-1E2893ED-A094-4509-AFBE-8AE8540D7EF6">Manipulating SQL, SQL*Plus and PL/SQL Commands</a></p>
                     </li>
                     <li>
                        <p><a href="#GUID-2F355A6A-2E36-46CE-AF30-6A2F5B9B8A0F">Formatting Query Results</a></p>
                     </li>
                     <li>
                        <p><a href="#GUID-C66C0C29-FEA8-4AAD-BAA4-E74F711097AF">Accessing Databases</a></p>
                     </li>
                     <li>
                        <p><a href="#GUID-7D4FB4F2-B568-46D5-BB52-64FD71C3E736">Miscellaneous</a></p>
                     </li>
                  </ul>
               </div>
            </div>
            
            
            <div class="sect3">
               <!-- infolevel="all" infotype="General" --><a name="GUID-A8772AC4-8C94-4807-8787-68DD5EEE0786" id="GUID-A8772AC4-8C94-4807-8787-68DD5EEE0786"></a><h3 id="SQPQR-GUID-A8772AC4-8C94-4807-8787-68DD5EEE0786" class="sect3">Documentation Accessibility</h3>
               <div>
                  <p>For information about Oracle's commitment to accessibility, visit the Oracle Accessibility Program website at <a href="http://www.oracle.com/pls/topic/lookup?ctx=acc&amp;id=docacc" target="_blank"><code class="codeph">http://www.oracle.com/pls/topic/lookup?ctx=acc&amp;id=docacc</code></a>.
                  </p>
                  <div class="section">
                     <p class="subhead1" id="GUID-A8772AC4-8C94-4807-8787-68DD5EEE0786__GUID-3DF4D01E-3D0D-4BD9-93B6-7598CEC5121A">Access to Oracle Support</p>
                     <p>Oracle customers have access to electronic support through My Oracle Support. For information, visit <a href="http://www.oracle.com/pls/topic/lookup?ctx=acc&amp;id=info" target="_blank"><code class="codeph">http://www.oracle.com/pls/topic/lookup?ctx=acc&amp;id=info</code></a> or visit <a href="http://www.oracle.com/pls/topic/lookup?ctx=acc&amp;id=trs" target="_blank"><code class="codeph">http://www.oracle.com/pls/topic/lookup?ctx=acc&amp;id=trs</code></a> if you are hearing impaired.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <a id="SQPQR104"></a>
            
            <div class="sect3">
               <!-- infolevel="all" infotype="General" --><a name="GUID-C5A6CC17-7528-4B8A-B805-B512304A33F3" id="GUID-C5A6CC17-7528-4B8A-B805-B512304A33F3"></a><h3 id="SQPQR-GUID-C5A6CC17-7528-4B8A-B805-B512304A33F3" class="sect3">Alphabetic List of SQL*Plus Commands</h3>
               <div>
                  <div class="section">
                     <p><span class="italic">@</span>{<span class="italic">url </span>| <span class="italic">file_name</span>[<span class="italic">.ext</span>]} [<span class="italic">arg</span> ...]
                     </p>
                     <p><span class="italic">@@ </span>{ <span class="italic">url</span> | <span class="italic">file_name</span>[<span class="italic">.ext</span>] } [<span class="italic">arg</span> ...]
                     </p>
                     <p>/ (slash)</p>
                     <p>ACC[EPT] <span class="italic">variable</span> [NUM[BER] | <span class="underline">CHAR</span> | DATE | BINARY_FLOAT | BINARY_DOUBLE] [FOR[MAT] <span class="italic">format</span>] [DEF[AULT] <span class="italic">default</span>] [PROMPT <span class="italic">text</span> | <span class="underline">NOPR[OMPT</span>]] [HIDE]
                     </p>
                     <p>A[PPEND] <span class="italic">text</span></p>
                     <p>ARCHIVE LOG LIST</p>
                     <p>ATTRIBUTE [<span class="italic">type_name</span>.<span class="italic">attribute_name</span> [<span class="italic">option</span>...]]
                     </p>
                     <p>BRE[AK] [ON <span class="italic">report_element</span> [<span class="italic">action</span> [<span class="italic">action</span>]]] ...
                     </p>
                     <p>BTI[TLE] [<span class="italic">printspec</span> [<span class="italic">text</span> |<span class="italic"> variable</span>] ...] | [ON | <span class="underline">OFF</span>]
                     </p>
                     <p>C[HANGE] <span class="italic">sepchar old</span> [<span class="italic">sepchar</span> [<span class="italic">new</span> [<span class="italic">sepchar</span>]]]
                     </p>
                     <p>CL[EAR] <span class="italic">option</span> ...
                     </p>
                     <p>COL[UMN] [{<span class="italic">column</span> | <span class="italic">expr</span>} [<span class="italic">option</span> ...]]
                     </p>
                     <p>COMP[UTE] [<span class="italic">function</span> [LAB[EL] <span class="italic">text</span>] ... OF {<span class="italic">expr</span> | <span class="italic">column</span> | <span class="italic">alias</span>} ...ON {<span class="italic">expr</span> | <span class="italic">column</span> | <span class="italic">alias</span> | REPORT | ROW} ...]
                     </p>
                     <p>CONN[ECT] [{<span class="italic">logon</span> | / | <span class="italic">proxy</span>}&nbsp;&nbsp;[AS {SYSASM |SYSBACKUP |SYSDBA |SYSDG |SYSOPER |SYSRAC |SYSKM}] [edition=<span class="italic">value</span>] ]
                     </p>
                     <p>COPY {FROM <span class="italic">database</span> | TO <span class="italic">database</span> | FROM <span class="italic">database</span> TO <span class="italic">database</span>} {APPEND | CREATE | INSERT | REPLACE} <span class="italic">destination_table</span>[(<span class="italic">column</span>, <span class="italic">column</span>, <span class="italic">column</span>, ...)] USING <span class="italic">query</span></p>
                     <p>DEF[INE] [<span class="italic">variable</span>] | [<span class="italic">variable</span> = <span class="italic">text</span>]
                     </p>
                     <p>DEL [<span class="italic">n</span> | <span class="italic">n m</span> | <span class="italic">n</span> * | <span class="italic">n</span> LAST | * | * <span class="italic">n</span> | * LAST | LAST]
                     </p>
                     <p>DESC[RIBE] {[<span class="italic">schema</span>.]<span class="italic">object</span>[<span class="italic">@connect_identifier</span>]}
                     </p>
                     <p>DISC[ONNECT]</p>
                     <p>ED[IT] [<span class="italic">file_name</span>[.<span class="italic">ext</span>]]
                     </p>
                     <p>EXEC[UTE] <span class="italic">statement</span></p>
                     <p>{EXIT | QUIT} [<span class="underline">SUCCESS</span> | FAILURE | WARNING | <span class="italic">n</span> | <span class="italic">variable </span> | <span class="italic">:BindVariable</span>] [<span class="underline">COMMIT</span> | ROLLBACK]
                     </p>
                     <p>GET&nbsp;&nbsp;[FILE] <span class="italic">file_name</span>[.<span class="italic">ext</span>] [<span class="underline">LIST</span> | NOLIST]
                     </p>
                     <p>HELP | ? [<span class="italic">topic</span>]
                     </p>
                     <p>HIST[ORY] [<span class="italic">n</span> RUN | EDIT | DEL[ETE]] | [CLEAR | LIST]
                     </p>
                     <p>HO[ST] [<span class="italic">command</span>]
                     </p>
                     <p>I[NPUT] [<span class="italic">text</span>]
                     </p>
                     <p>L[IST] [<span class="italic">n</span> | <span class="italic">n m</span> | <span class="italic">n</span> * | <span class="italic">n</span> LAST | * | * <span class="italic">n</span> | * LAST | LAST]
                     </p>
                     <p>PASSW[ORD] [<span class="italic">username</span>]
                     </p>
                     <p>PAU[SE] [<span class="italic">text</span>]
                     </p>
                     <p>PRINT [<span class="italic">variable</span> ...]
                     </p>
                     <p>PRO[MPT] [<span class="italic">text</span>]
                     </p>
                     <p>{QUIT | EXIT} [<span class="underline">SUCCESS</span> | FAILURE | WARNING | <span class="italic">n</span> | <span class="italic">variable </span> | <span class="italic">:BindVariable</span>] [<span class="underline">COMMIT</span> | ROLLBACK]
                     </p>
                     <p>RECOVER {<span class="italic">general</span> | <span class="italic">managed</span> | BEGIN BACKUP | END BACKUP}
                     </p>
                     <p>REM[ARK]</p>
                     <p>REPF[OOTER] [PAGE] [<span class="italic">printspec</span> [<span class="italic">text</span> | <span class="italic">variable</span>] ...] | [ON | <span class="underline">OFF</span>]
                     </p>
                     <p>REPH[EADER] [PAGE] [<span class="italic">printspec</span> [<span class="italic">text</span> | <span class="italic">variable</span>] ...] | [ON | <span class="underline">OFF</span>]
                     </p>
                     <p>R[UN]</p>
                     <p>SAV[E] <span class="italic">[FILE] file_name</span>[.<span class="italic">ext</span>] [<span class="underline">CRE[ATE</span>] | REP[LACE] | APP[END]]
                     </p>
                     <p>SET <span class="italic">system_variable</span> <span class="italic">value</span></p>
                     <p>SHO[W] [<span class="italic">option</span>]
                     </p>
                     <p>SHUTDOWN [ABORT | IMMEDIATE | <span class="underline">NORMAL</span> | TRANSACTIONAL [LOCAL]]
                     </p>
                     <p>SPO[OL] [<span class="italic">filename</span>[.<span class="italic">ext</span>] [CRE[ATE] | <span class="underline">REP[LACE]</span> | APP[END]] | OFF | OUT]
                     </p>
                     <p>STA[RT] { <span class="italic">url</span> | <span class="italic">file_name</span>[<span class="italic">.ext</span>] } [<span class="italic">arg</span> ...]
                     </p>
                     <p>STARTUP <span class="italic">db_options</span> | <span class="italic">cdb_options</span> | <span class="italic">upgrade_options</span></p>
                     <p>STORE {SET} <span class="italic">file_name</span>[.<span class="italic">ext</span>] [<span class="underline">CRE[ATE</span>] | REP[LACE] | APP[END]]
                     </p>
                     <p>TIMI[NG] [START <span class="italic">text</span> | SHOW | STOP]
                     </p>
                     <p>TTI[TLE] [<span class="italic">printspec</span> [<span class="italic">text</span> | <span class="italic">variable</span>] ...] | [ON | <span class="underline">OFF</span>]
                     </p>
                     <p>UNDEF[INE] <span class="italic">variable</span> ...
                     </p>
                     <p>VAR[IABLE] [<span class="italic">variable</span> [<span class="italic">type</span>][=value]]
                     </p>
                     <p>WHENEVER OSERROR {EXIT [<span class="underline">SUCCESS </span>| FAILURE | <span class="italic">n </span>| <span class="italic">variable </span>| <span class="italic">:BindVariable</span>] [<span class="underline">COMMIT </span>| ROLLBACK] | CONTINUE[COMMIT | ROLLBACK | <span class="underline">NONE</span>]}
                     </p>
                     <p>WHENEVER SQLERROR {EXIT [<span class="underline">SUCCESS</span> | FAILURE | WARNING |<span class="italic"> n </span>| <span class="italic">variable&nbsp;&nbsp;</span>| <span class="italic">:BindVariable</span>] [<span class="underline">COMMIT </span>| ROLLBACK] | CONTINUE [COMMIT | ROLLBACK | <span class="underline">NONE</span>]}
                     </p>
                     <p>XQUERY <span class="italic">xquery_statement</span></p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <a id="SQPQR106"></a><a id="SQPQR105"></a>
            
            <div class="sect3">
               <!-- infolevel="all" infotype="General" --><a name="GUID-E6CDE3E0-3035-49FC-B2FA-5BC854384CC8" id="GUID-E6CDE3E0-3035-49FC-B2FA-5BC854384CC8"></a><h3 id="SQPQR-GUID-E6CDE3E0-3035-49FC-B2FA-5BC854384CC8" class="sect3">Starting and Leaving SQL*Plus</h3>
               <div>
                  <div class="section">
                     <p class="subhead1" id="GUID-E6CDE3E0-3035-49FC-B2FA-5BC854384CC8__GUID-8EF97147-5D98-45E8-B364-49D136C6F7BC">Use the following commands to log in to and out of SQL*Plus.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>SQLPLUS [[<span class="italic">option</span>] [<span class="italic">logon </span>| / NOLOG] [<span class="italic">start</span>]]
                     </p>
                     <p>where <span class="italic">option</span> has the following syntax:
                     </p>
                     <p>-H[ELP]&nbsp;&nbsp;| -V[ERSION]&nbsp;&nbsp;| [ [-C[OMPATIBILITY] <span class="italic">x</span>.<span class="italic">y</span>[.<span class="italic">z</span>]] [-F[ast]] [-M[ARKUP] <span class="italic">markup_option</span>] [-L[OGON]]&nbsp;&nbsp; [-NOLOGINTIME] [-R[ESTRICT] {1 | 2 | 3}] [-S[ILENT]]]
                     </p>
                     <p>where <span class="italic">markup_option</span> consists of:
                     </p>
                     <ul xmlns:htmlutil="http://dita4publishers.org/functions/htmlutil" xmlns:df="http://dita2indesign.org/dita/functions" xmlns:enum="http://dita4publishers.org/enumerables" xmlns:local="http//local/function" xmlns:relpath="http://dita2indesign/functions/relpath" xmlns:dita-ot="http://dita-ot.sourceforge.net/ns/201007/dita-ot" style="list-style-type: disc;">
                        <li>
                           <p><span class="italic">csv_option</span></p>
                        </li>
                        <li>
                           <p><span class="italic">html_option</span></p>
                        </li>
                     </ul>
                     <p><span class="italic">csv_option </span>has the following syntax:
                     </p><pre class="oac_no_warn" dir="ltr">CSV {ON|OFF} [DELIMI[TER] <span class="italic">character</span>] [QUOTE {ON|OFF}]</pre><p><span class="italic">html_option </span>has the following syntax:
                     </p><pre class="oac_no_warn" dir="ltr">HTML {ON|OFF} [HEAD <span class="italic">text</span>] [BODY <span class="italic">text</span>] [TABLE <span class="italic">text</span>] [ENTMAP {ON|OFF}] [SPOOL {ON|OFF}] [PRE[FORMAT] {ON|OFF}]</pre><p>where <span class="italic">logon</span> has the following syntax:
                     </p>
                     <p>{<span class="italic">username</span>[/<span class="italic">password</span>] [<span class="italic">@connect_identifier</span>]&nbsp;&nbsp;| /}&nbsp;&nbsp;[AS {SYSASM |SYSBACKUP |SYSDBA |SYSDG |SYSOPER |SYSRAC |SYSKM}]&nbsp;&nbsp;[edition=<span class="italic">value</span>]
                     </p>
                     <p>and where <span class="italic">start</span> has the following syntax:
                     </p>
                     <p><span class="italic">@</span>{<span class="italic">url</span> | <span class="italic">file_name</span>[.<span class="italic">ext</span>]} [<span class="italic">arg</span> ...]
                     </p>
                     <p>{EXIT | QUIT} [<span class="underline">SUCCESS</span> | FAILURE | WARNING | <span class="italic">n</span> | <span class="italic">variable </span> | <span class="italic">:BindVariable</span>] [<span class="underline">COMMIT</span> | ROLLBACK]
                     </p>
                     <p>Commits or rolls back all pending changes, logs out of Oracle, terminates SQL*Plus and returns control to the operating system. </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <a id="SQPQR107"></a>
            
            <div class="sect3">
               <!-- infolevel="all" infotype="General" --><a name="GUID-9964584C-5554-4F30-B97F-4ED1AF7664AB" id="GUID-9964584C-5554-4F30-B97F-4ED1AF7664AB"></a><h3 id="SQPQR-GUID-9964584C-5554-4F30-B97F-4ED1AF7664AB" class="sect3">Starting Up and Shutting Down a Database</h3>
               <div>
                  <div class="section">
                     <p>Starting up and shutting down a database requires DBA privileges.</p>
                     <p>STARTUP <span class="italic">db_options</span>&nbsp;&nbsp;| <span class="italic">cdb_options</span> | <span class="italic">upgrade_options</span></p>
                     <p>where <span class="italic">db options</span> has the following syntax:
                     </p>
                     <p>[FORCE] [RESTRICT] [PFILE=<span class="italic">filename</span>] [QUIET]&nbsp;&nbsp;[ MOUNT [<span class="italic">dbname</span>] |&nbsp;&nbsp;[ <span class="underline">OPEN</span> [<span class="italic">open_db_options</span>] [<span class="italic">dbname</span>] ] | NOMOUNT ]
                     </p>
                     <p>where <span class="italic">open_db_options</span> has the following syntax:
                     </p>
                     <p>READ {ONLY | WRITE [RECOVER]} | RECOVER</p>
                     <p>where <span class="italic">cdb_options</span> has the following syntax:
                     </p>
                     <p><span class="italic">root_connection_options</span> | <span class="italic">pdb_connection_options</span></p>
                     <p>where <span class="italic">root_connection_options</span> has the following syntax:
                     </p>
                     <p>PLUGGABLE DATABASE <span class="italic">pdbname</span>&nbsp;&nbsp;[FORCE] | [RESTRICT]&nbsp;&nbsp;[ <span class="underline">OPEN</span> {<span class="italic">open_pdb_options</span>}]
                     </p>
                     <p>where <span class="italic">pdb_connection_options</span> has the following syntax:
                     </p>
                     <p>[FORCE] | [RESTRICT]&nbsp;&nbsp;[ <span class="underline">OPEN</span> {<span class="italic">open_pdb_options</span>}]
                     </p>
                     <p>where <span class="italic">open_pdb_options</span> has the following syntax:
                     </p>
                     <p><span class="underline">READ WRITE</span> | READ ONLY
                     </p>
                     <p>and where <span class="italic">upgrade_options</span> has the following syntax:
                     </p>
                     <p>[PFILE=<span class="italic">filename</span>] {UPGRADE | DOWNGRADE} [QUIET]
                     </p>
                     <p>Starts an Oracle Database instance with several options, including mounting and opening a database. </p>
                     <p>SHUTDOWN [ABORT | IMMEDIATE | NORMAL | TRANSACTIONAL [LOCAL]]</p>
                     <p>Shuts down a currently running Oracle instance, optionally closing and dismounting a database.</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <a id="SQPQR109"></a><a id="SQPQR110"></a><a id="SQPQR111"></a><a id="SQPQR108"></a>
            
            <div class="sect3">
               <!-- infolevel="all" infotype="General" --><a name="GUID-FE0C4F98-FF77-4AF4-879F-9DB08E03E4E0" id="GUID-FE0C4F98-FF77-4AF4-879F-9DB08E03E4E0"></a><h3 id="SQPQR-GUID-FE0C4F98-FF77-4AF4-879F-9DB08E03E4E0" class="sect3">Entering and Executing Commands</h3>
               <div>
                  <div class="section">
                     <p class="subhead1" id="GUID-FE0C4F98-FF77-4AF4-879F-9DB08E03E4E0__GUID-3388CCC6-E581-4F93-BC70-B2AD42C7F9AA">Use the following commands to execute and collect timing statistics on SQL commands and PL/SQL blocks.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>/ (slash)</p>
                     <p>Executes the most recently executed SQL command or PL/SQL block which is stored in the SQL buffer. Does not list the command. Use slash (/) at the command prompt or line number prompt in SQL*Plus command line. </p>
                     <p>EXEC[UTE] <span class="italic">statement</span></p>
                     <p>Executes a single PL/SQL statement or runs a stored procedure.</p>
                     <p>R[UN]</p>
                     <p>Lists and executes the most recently executed SQL command or PL/SQL block which is stored in the SQL buffer. </p>
                     <p>TIMI[NG] [START <span class="italic">text</span> | SHOW | STOP]
                     </p>
                     <p>Records timing data for an elapsed period of time, lists the current timer's name and timing data, or lists the number of active timers.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead1" id="GUID-FE0C4F98-FF77-4AF4-879F-9DB08E03E4E0__GUID-84368006-526F-40B3-B515-F9CCE65DF151">Use the following command to access the help system.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>HELP | ? [<span class="italic">topic</span>]
                     </p>
                     <p>Accesses the command-line help system. Enter HELP INDEX or ? INDEX for a list of topics. You can view the Oracle Database Library at <a href="http://www.oracle.com/technology/documentation" target="_blank"><code class="codeph">http://www.oracle.com/technology/documentation</code></a>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead1" id="GUID-FE0C4F98-FF77-4AF4-879F-9DB08E03E4E0__GUID-2A2E68AA-1815-4C32-8637-19598AAAF1FC">Use the following command to execute operating system commands.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>HO[ST] [<span class="italic">command</span>]
                     </p>
                     <p>Executes an operating system command without leaving SQL*Plus. Enter HOST without command to display an operating system prompt. You can then enter multiple operating system commands.</p>
                     <p>With some operating systems, you can use another character instead of HOST such as "!" (UNIX) and "$" (Windows). See the Oracle installation and user's manuals provided for your operating system for details.</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <a id="SQPQR113"></a><a id="SQPQR114"></a><a id="SQPQR115"></a><a id="SQPQR116"></a><a id="SQPQR117"></a><a id="SQPQR118"></a><a id="SQPQR112"></a>
            
            <div class="sect3">
               <!-- infolevel="all" infotype="General" --><a name="GUID-1E2893ED-A094-4509-AFBE-8AE8540D7EF6" id="GUID-1E2893ED-A094-4509-AFBE-8AE8540D7EF6"></a><h3 id="SQPQR-GUID-1E2893ED-A094-4509-AFBE-8AE8540D7EF6" class="sect3">Manipulating SQL, SQL*Plus and PL/SQL Commands</h3>
               <div>
                  <div class="section">
                     <p class="subhead1" id="GUID-1E2893ED-A094-4509-AFBE-8AE8540D7EF6__GUID-7D6EA7CE-C540-4143-906D-AF9B63956990">Use the following commands to edit SQL commands and PL/SQL blocks.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>A[PPEND] <span class="italic">text</span></p>
                     <p>Adds specified text to the end of the current line in the SQL buffer. To separate <span class="italic">text </span>from the preceding characters with a space, enter two spaces. To append <span class="italic">text</span> that ends with a semicolon, end the command with two semicolons (a single semicolon is interpreted as a command terminator).
                     </p>
                     <p>C[HANGE] <span class="italic">sepchar old</span> [<span class="italic">sepchar</span> [<span class="italic">new</span> [<span class="italic">sepchar</span>]]]
                     </p>
                     <p>Changes first occurrence of <span class="italic">old</span> on the current line of the SQL buffer. You can use any non-alphanumeric character such as "/" or "!" as a <span class="italic">sepchar</span>. You can omit the space between CHANGE and the first <span class="italic">sepchar</span>. 
                     </p>
                     <p>DEL [<span class="italic">n</span> | <span class="italic">n m</span> | <span class="italic">n</span> * | <span class="italic">n</span> LAST | * | * <span class="italic">n</span> | * LAST | LAST]
                     </p>
                     <p>Deletes one or more lines of the SQL buffer ("*" indicates the current line). You can omit the space between DEL and <span class="italic">n</span> or *, but not between DEL and LAST. Enter DEL with no clauses to delete the current line of the buffer. 
                     </p>
                     <p>I[NPUT] [<span class="italic">text</span>]
                     </p>
                     <p>Adds one or more new lines of text after the current line in the SQL buffer. </p>
                     <p>L[IST] [<span class="italic">n</span> | <span class="italic">n m</span> | <span class="italic">n</span> * | <span class="italic">n</span> LAST | * | * <span class="italic">n</span> | * LAST | LAST]
                     </p>
                     <p>Lists one or more lines of the most recently executed SQL command or PL/SQL block which is stored in the SQL buffer. Asterisk (*) indicates the current line. You can omit the space between LIST and <span class="italic">n</span> or *, but not between LIST and LAST. Enter LIST with no clauses to list all lines. 
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead1" id="GUID-1E2893ED-A094-4509-AFBE-8AE8540D7EF6__GUID-7CD46F09-3002-44C4-926D-B4DC85C4A647">Use the following commands to run scripts.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><span class="italic">@ </span>{ <span class="italic">url</span> | <span class="italic">file_name</span>[<span class="italic">.ext</span>] } [<span class="italic">arg</span> ...]
                     </p>
                     <p>Runs the SQL*Plus statements in the specified script. The script can be called from the local file system or a web server. You can pass values to script variables in the usual way. </p>
                     <p><span class="italic">@@ </span>{ <span class="italic">url</span> | <span class="italic">file_name</span>[<span class="italic">.ext</span>] } [<span class="italic">arg</span> ...]
                     </p>
                     <p>Runs the SQL*Plus statements in the specified script. This command is almost identical to the @ command. It is useful for running nested scripts because it has the additional functionality of looking for the specified script in the same path or <span class="italic">url</span> as the calling script. 
                     </p>
                     <p>STA[RT] { <span class="italic">url</span> | <span class="italic">file_name</span>[<span class="italic">.ext</span>] } [<span class="italic">arg</span> ...]
                     </p>
                     <p>Runs the SQL*Plus statements in the specified script. The script can be called from the local file system or a web server. You can pass values to script variables in the usual way. </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead1" id="GUID-1E2893ED-A094-4509-AFBE-8AE8540D7EF6__GUID-64DD42D3-6ABE-4724-9323-CDB01B3450C2">Use the following commands to create and modify scripts.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>ED[IT] [<span class="italic">file_name</span>[.<span class="italic">ext</span>]]
                     </p>
                     <p>Invokes an operating system text editor on the contents of the specified file or on the contents of the SQL buffer. To edit the buffer contents, omit the file name. </p>
                     <p>GET <span class="italic">file_name</span>[.<span class="italic">ext</span>] [LIST | NOLIST]
                     </p>
                     <p>Loads a SQL statement or PL/SQL block from a file into the SQL buffer. </p>
                     <p>REM[ARK]</p>
                     <p>Begins a comment in a script. The REMARK command must appear at the beginning of a line, and the comment ends at the end of the line (a line cannot contain both a comment and a command). SQL*Plus does not interpret the comment as a command.</p>
                     <p>SAV[E] <span class="italic">file_name</span>[.<span class="italic">ext</span>] [<span class="underline">CRE[ATE</span>] | REP[LACE] | APP[END]]
                     </p>
                     <p>Saves the contents of the SQL buffer in a file. </p>
                     <p>STORE {SET} <span class="italic">file_name</span>[.<span class="italic">ext</span>] [<span class="underline">CRE[ATE</span>] | REP[LACE] | APP[END]]
                     </p>
                     <p>Saves attributes of the current SQL*Plus environment in a file.</p>
                     <p>WHENEVER OSERROR {EXIT [SUCCESS | FAILURE | <span class="italic">n</span> | <span class="italic">variable</span>&nbsp;&nbsp;| <span class="italic">:BindVariable</span>] [COMMIT | ROLLBACK] | CONTINUE [COMMIT | ROLLBACK | NONE]}
                     </p>
                     <p>Performs the specified action (exits SQL*Plus by default) if an operating system error occurs (such as a file writing error). </p>
                     <p>WHENEVER SQLERROR {EXIT [<span class="underline">SUCCESS</span> | FAILURE | WARNING | <span class="italic">n</span> | <span class="italic">variable</span>&nbsp;&nbsp;| <span class="italic">:BindVariable</span>] [<span class="underline">COMMIT</span> | ROLLBACK] | CONTINUE [COMMIT | ROLLBACK | <span class="underline">NONE</span>]}
                     </p>
                     <p>Performs the specified action (exits SQL*Plus by default) if a SQL command or PL/SQL block generates an error. </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead1" id="GUID-1E2893ED-A094-4509-AFBE-8AE8540D7EF6__GUID-8D20881A-5791-4E24-8C45-77002DC25B7B">Use the following commands to write interactive commands.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>ACC[EPT] <span class="italic">variable</span> [NUM[BER] | <span class="underline">CHAR</span> | DATE | BINARY_FLOAT | BINARY_DOUBLE] [FOR[MAT] <span class="italic">format</span>] [DEF[AULT] <span class="italic">default</span>] [PROMPT <span class="italic">text</span> | <span class="underline">NOPR[OMPT</span>]] [HIDE]
                     </p>
                     <p>Reads a line of input and stores it in a given substitution variable. </p>
                     <p>DEF[INE] [<span class="italic">variable</span>] | [<span class="italic">variable</span> = <span class="italic">text</span>]
                     </p>
                     <p>Specifies a substitution variable and assigns a CHAR value to it, or lists the value and variable type of a single variable or all variables.</p>
                     <p>PAU[SE] [<span class="italic">text</span>]
                     </p>
                     <p>Displays the specified text then waits for the user to press RETURN. </p>
                     <p>PRO[MPT] [<span class="italic">text</span>]
                     </p>
                     <p>Sends the specified message or a blank line to the user's screen.</p>
                     <p>UNDEF[INE] <span class="italic">variable</span> ...
                     </p>
                     <p>Deletes one or more substitution variables that you defined either explicitly (with the DEFINE command) or implicitly (with a START command argument). </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead1" id="GUID-1E2893ED-A094-4509-AFBE-8AE8540D7EF6__GUID-DDC8C6EB-B96C-49EC-97DD-54A87602B264">Use the following commands to create and display bind variables.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>PRINT [<span class="italic">variable</span> ...]
                     </p>
                     <p>Displays the current values of bind variables, or lists all bind variables.</p>
                     <p>VAR[IABLE] [<span class="italic">variable</span> [<span class="italic">type</span>][=<span class="italic">value</span>]]
                     </p>
                     <p>Declares a bind variable that can be referenced in PL/SQL, or lists the current display characteristics for a single variable or all variables. </p>
                     <p><span class="italic">type</span> represents one of the following:
                     </p>
                     <ul class="simple" style="list-style-type: none;padding-left:0;">
                        <li>NUMBER</li>
                        <li>CHAR</li>
                        <li>CHAR (<span class="italic">n</span> [CHAR | BYTE])
                        </li>
                        <li>NCHAR</li>
                        <li>NCHAR (<span class="italic">n</span>)
                        </li>
                        <li>VARCHAR2 (<span class="italic">n</span> [CHAR | BYTE])
                        </li>
                        <li>NVARCHAR2 (<span class="italic">n</span>)
                        </li>
                        <li>CLOB</li>
                        <li>NCLOB</li>
                        <li>REFCURSOR</li>
                        <li>BINARY_FLOAT</li>
                        <li>BINARY_DOUBLE</li>
                     </ul>
                     <p><span class="italic">value</span> allows you to assign a value to a variable for input binding.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead1" id="GUID-1E2893ED-A094-4509-AFBE-8AE8540D7EF6__GUID-535B8D61-C2DB-4650-8F55-3FE032D7F7A8">Use the following symbols to create substitution variables and parameters for use in scripts.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>&amp;<span class="italic">n</span></p>
                     <p>Specifies a parameter in a script you run using the START command. START substitutes values you list after the script name as follows: the first for &amp;1, the second for &amp;2, and so on.</p>
                     <p>&amp;<span class="italic">user_variable</span>, &amp;&amp;<span class="italic">user_variable</span></p>
                     <p>Indicates a substitution variable in a SQL or SQL*Plus command. SQL*Plus substitutes the value of the specified substitution variable for each substitution variable it encounters. If the substitution variable is undefined, SQL*Plus prompts you for a value <span class="italic">each</span> time an "&amp;" variable is found, and the <span class="italic">first </span>time an "&amp;&amp;" variable is found.
                     </p>
                     <p>. (period)</p>
                     <p>Terminates a substitution variable followed by a character that would otherwise be part of the variable name.</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <a id="SQPQR120"></a><a id="SQPQR119"></a>
            
            <div class="sect3">
               <!-- infolevel="all" infotype="General" --><a name="GUID-2F355A6A-2E36-46CE-AF30-6A2F5B9B8A0F" id="GUID-2F355A6A-2E36-46CE-AF30-6A2F5B9B8A0F"></a><h3 id="SQPQR-GUID-2F355A6A-2E36-46CE-AF30-6A2F5B9B8A0F" class="sect3">Formatting Query Results</h3>
               <div>
                  <div class="section">
                     <p class="subhead1" id="GUID-2F355A6A-2E36-46CE-AF30-6A2F5B9B8A0F__GUID-2FD5EE6F-A0D0-4EE1-A250-F0FD55CB1CA8">Use the following commands to format, store and print your query results.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>ATTRIBUTE [<span class="italic">type_name</span>.<span class="italic">attribute_name</span> [<span class="italic">option</span>...]]
                     </p>
                     <p>Specifies display characteristics for a given attribute of an Object Type column, such as the format of NUMBER data. Columns and attributes should not have the same names as they share a common namespace. Lists the current display characteristics for a single attribute or for all attributes. </p>
                     <p>Where <span class="italic">option</span> represents one of the following clauses:
                     </p>
                     <ul class="simple" style="list-style-type: none;padding-left:0;">
                        <li>ALI[AS] <span class="italic">alias</span></li>
                        <li>CLE[AR]</li>
                        <li>FOR[MAT] <span class="italic">format</span></li>
                        <li>LIKE {<span class="italic">type_name</span>.<span class="italic">attribute_name</span>|<span class="italic">alias</span>}
                        </li>
                        <li><span class="underline">ON</span>|OFF
                        </li>
                        <li>BRE[AK] [ON <span class="italic">report_element</span> [<span class="italic">action</span> [<span class="italic">action</span>]]] ...
                        </li>
                     </ul>
                     <p>Specifies where changes occur in a report and the formatting action to perform, such as: </p>
                     <ul xmlns:htmlutil="http://dita4publishers.org/functions/htmlutil" xmlns:df="http://dita2indesign.org/dita/functions" xmlns:enum="http://dita4publishers.org/enumerables" xmlns:local="http//local/function" xmlns:relpath="http://dita2indesign/functions/relpath" xmlns:dita-ot="http://dita-ot.sourceforge.net/ns/201007/dita-ot" style="list-style-type: disc;">
                        <li>
                           <p>suppressing the display of duplicate values for a given column </p>
                        </li>
                        <li>
                           <p>skipping a line each time a given column value changes </p>
                        </li>
                        <li>
                           <p>printing computed figures each time a given column value changes or at the end of the report</p>
                        </li>
                     </ul>
                     <p>Enter BREAK with no clauses to list the current BREAK definition.</p>
                     <p>Where <span class="italic">report_element</span> has the following syntax:
                     </p>
                     <p>{<span class="italic">column</span> | <span class="italic">expr</span> | ROW | REPORT}
                     </p>
                     <p>and where <span class="italic">action</span> has the following syntax:
                     </p>
                     <p>[SKI[P] <span class="italic">n</span> | [SKI[P]] PAGE] [<span class="underline">NODUP[LICATES</span>] | DUP[LICATES]]
                     </p>
                     <p>BTI[TLE] [<span class="italic">printspec</span> [<span class="italic">text</span> | <span class="italic">variable</span>] ...] | [ON | <span class="underline">OFF</span>]
                     </p>
                     <p>Places and formats a title at the bottom of each report page, or lists the current BTITLE definition. Use one of the following clauses in place of <span class="italic">printspec</span>:
                     </p>
                     <ul class="simple" style="list-style-type: none;padding-left:0;">
                        <li>BOLD</li>
                        <li>CE[NTER]</li>
                        <li>COL <span class="italic">n</span></li>
                        <li>FORMAT <span class="italic">text</span></li>
                        <li>LE[FT]</li>
                        <li>R[IGHT]</li>
                        <li>S[KIP] [<span class="italic">n</span>]
                        </li>
                        <li>TAB <span class="italic">n</span></li>
                        <li>CL[EAR] <span class="italic">option</span> ...
                        </li>
                     </ul>
                     <p>Resets or erases the current value or setting for the specified option.</p>
                     <p>Where <span class="italic">option</span> represents one of the following clauses:
                     </p>
                     <ul class="simple" style="list-style-type: none;padding-left:0;">
                        <li>BRE[AKS]</li>
                        <li>BUFF[ER]</li>
                        <li>COL[UMNS]</li>
                        <li>COMP[UTES]</li>
                        <li>SCR[EEN]</li>
                        <li>SQL</li>
                        <li>TIMI[NG]</li>
                        <li>COL[UMN] [{<span class="italic">column</span> | <span class="italic">expr</span>} [<span class="italic">option</span> ...]]
                        </li>
                     </ul>
                     <p>Specifies display attributes for a given column, such as:</p>
                     <ul xmlns:htmlutil="http://dita4publishers.org/functions/htmlutil" xmlns:df="http://dita2indesign.org/dita/functions" xmlns:enum="http://dita4publishers.org/enumerables" xmlns:local="http//local/function" xmlns:relpath="http://dita2indesign/functions/relpath" xmlns:dita-ot="http://dita-ot.sourceforge.net/ns/201007/dita-ot" style="list-style-type: disc;">
                        <li>
                           <p>text for the column heading</p>
                        </li>
                        <li>
                           <p>alignment for the column heading</p>
                        </li>
                        <li>
                           <p>format for NUMBER data</p>
                        </li>
                        <li>
                           <p>wrapping of column data</p>
                        </li>
                     </ul>
                     <p>Also lists the current display attributes for a single column or all columns.</p>
                     <p>Where <span class="italic">option</span> represents one of the following clauses:
                     </p>
                     <ul class="simple" style="list-style-type: none;padding-left:0;">
                        <li>ALI[AS] <span class="italic">alias</span></li>
                        <li>CLE[AR]</li>
                        <li>ENTMAP {ON | OFF}</li>
                        <li>FOLD_A[FTER]</li>
                        <li>FOLD_B[EFORE]</li>
                        <li>FOR[MAT] <span class="italic">format</span></li>
                        <li>HEA[DING] <span class="italic">text</span></li>
                        <li>JUS[TIFY] {L[EFT] | C[ENTER] | R[IGHT]}</li>
                        <li>LIKE {<span class="italic">expr</span> | <span class="italic">alias</span>}
                        </li>
                        <li>NEWL[INE]</li>
                        <li>NEW_V[ALUE] <span class="italic">variable</span></li>
                        <li>NOPRI[NT] | <span class="underline">PRI[NT]</span></li>
                        <li>NUL[L] text</li>
                        <li>OLD_V[ALUE] <span class="italic">variable </span><span class="underline">ON</span> | OFF
                        </li>
                        <li><span class="underline">WRA[PPED]</span> | WOR[D_WRAPPED] | TRU[NCATED]
                        </li>
                     </ul>
                     <p>Enter COLUMN [{<span class="italic">column </span>|<span class="italic">expr</span>} FORMAT <span class="italic">format</span>] where the <span class="italic">format</span> element specifies the display format for the column. 
                     </p>
                     <p>To change the display format of a NUMBER column, use FORMAT followed by one of the elements in the following table:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-2F355A6A-2E36-46CE-AF30-6A2F5B9B8A0F__GUID-5E6AEF0A-4628-45C3-8EDC-22F3805D4FF7">
                     <table cellpadding="4" cellspacing="0" class="Formal" title summary="Lists examples and descriptions of  elements that can be used for number formatting in a COLUMN." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="15%" id="d2580e301">Element</th>
                              <th align="left" valign="bottom" width="17%" id="d2580e304">Examples</th>
                              <th align="left" valign="bottom" width="68%" id="d2580e307">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d2580e312" headers="d2580e301 ">
                                 <p>, (comma)</p>
                              </td>
                              <td align="left" valign="top" width="17%" headers="d2580e312 d2580e304 "><pre class="oac_no_warn" dir="ltr">9,999</pre></td>
                              <td align="left" valign="top" width="68%" headers="d2580e312 d2580e307 ">
                                 <p>Displays a comma in the specified position.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d2580e322" headers="d2580e301 ">
                                 <p>. (period)</p>
                              </td>
                              <td align="left" valign="top" width="17%" headers="d2580e322 d2580e304 "><pre class="oac_no_warn" dir="ltr">99.99</pre></td>
                              <td align="left" valign="top" width="68%" headers="d2580e322 d2580e307 ">
                                 <p>Displays a period (decimal point) to separate the integral and fractional parts of a number.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d2580e332" headers="d2580e301 ">
                                 <p>$</p>
                              </td>
                              <td align="left" valign="top" width="17%" headers="d2580e332 d2580e304 "><pre class="oac_no_warn" dir="ltr">$9999</pre></td>
                              <td align="left" valign="top" width="68%" headers="d2580e332 d2580e307 ">
                                 <p>Displays a leading dollar sign.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d2580e342" headers="d2580e301 ">
                                 <p>0</p>
                              </td>
                              <td align="left" valign="top" width="17%" headers="d2580e342 d2580e304 "><pre class="oac_no_warn" dir="ltr">0999
9990</pre></td>
                              <td align="left" valign="top" width="68%" headers="d2580e342 d2580e307 ">
                                 <p>Displays leading zeros Displays trailing zeros.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d2580e352" headers="d2580e301 ">
                                 <p>9</p>
                              </td>
                              <td align="left" valign="top" width="17%" headers="d2580e352 d2580e304 "><pre class="oac_no_warn" dir="ltr">9999</pre></td>
                              <td align="left" valign="top" width="68%" headers="d2580e352 d2580e307 ">
                                 <p>Displays a value with the number of digits specified by the number of 9s. Value has a leading space if positive, a leading minus sign if negative. Blanks are displayed for leading zeroes. A zero (0) is displayed for a value of zero.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d2580e362" headers="d2580e301 ">
                                 <p>B</p>
                              </td>
                              <td align="left" valign="top" width="17%" headers="d2580e362 d2580e304 "><pre class="oac_no_warn" dir="ltr">B9999</pre></td>
                              <td align="left" valign="top" width="68%" headers="d2580e362 d2580e307 ">
                                 <p>Displays blanks for the integer part of a fixed-point number when the integer part is zero, regardless of zeros in the format model.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d2580e372" headers="d2580e301 ">
                                 <p>C</p>
                              </td>
                              <td align="left" valign="top" width="17%" headers="d2580e372 d2580e304 "><pre class="oac_no_warn" dir="ltr">C999</pre></td>
                              <td align="left" valign="top" width="68%" headers="d2580e372 d2580e307 ">
                                 <p>Displays the ISO currency symbol in the specified position.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d2580e382" headers="d2580e301 ">
                                 <p>D</p>
                              </td>
                              <td align="left" valign="top" width="17%" headers="d2580e382 d2580e304 "><pre class="oac_no_warn" dir="ltr">99D99</pre></td>
                              <td align="left" valign="top" width="68%" headers="d2580e382 d2580e307 ">
                                 <p>Displays the decimal character to separate the integral and fractional parts of a number. </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d2580e392" headers="d2580e301 ">
                                 <p>EEEE</p>
                              </td>
                              <td align="left" valign="top" width="17%" headers="d2580e392 d2580e304 "><pre class="oac_no_warn" dir="ltr">9.999EEEE</pre></td>
                              <td align="left" valign="top" width="68%" headers="d2580e392 d2580e307 ">
                                 <p>Displays value in scientific notation (format must contain exactly four "E"s).</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d2580e402" headers="d2580e301 ">
                                 <p>G</p>
                              </td>
                              <td align="left" valign="top" width="17%" headers="d2580e402 d2580e304 "><pre class="oac_no_warn" dir="ltr">9G999</pre></td>
                              <td align="left" valign="top" width="68%" headers="d2580e402 d2580e307 ">
                                 <p>Displays the group separator in the specified positions in the integral part of a number.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d2580e412" headers="d2580e301 ">
                                 <p>L</p>
                              </td>
                              <td align="left" valign="top" width="17%" headers="d2580e412 d2580e304 "><pre class="oac_no_warn" dir="ltr">L999</pre></td>
                              <td align="left" valign="top" width="68%" headers="d2580e412 d2580e307 ">
                                 <p>Displays the local currency symbol in the specified position.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d2580e423" headers="d2580e301 ">
                                 <p>MI</p>
                              </td>
                              <td align="left" valign="top" width="17%" headers="d2580e423 d2580e304 "><pre class="oac_no_warn" dir="ltr">9999MI</pre></td>
                              <td align="left" valign="top" width="68%" headers="d2580e423 d2580e307 ">
                                 <p>Displays a trailing minus sign after a negative value.  Display a trailing space after a positive value.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d2580e433" headers="d2580e301 ">
                                 <p>PR</p>
                              </td>
                              <td align="left" valign="top" width="17%" headers="d2580e433 d2580e304 "><pre class="oac_no_warn" dir="ltr">9999PR</pre></td>
                              <td align="left" valign="top" width="68%" headers="d2580e433 d2580e307 ">
                                 <p>Displays a negative value in &lt;angle brackets&gt;.  Displays a positive value with a leading and trailing space.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d2580e443" headers="d2580e301 ">
                                 <p>RN rn</p>
                              </td>
                              <td align="left" valign="top" width="17%" headers="d2580e443 d2580e304 "><pre class="oac_no_warn" dir="ltr">RN
rn</pre></td>
                              <td align="left" valign="top" width="68%" headers="d2580e443 d2580e307 ">
                                 <p>Displays uppercase Roman numerals.  Displays lowercase Roman numerals.  Value can be an integer between 1 and 3999.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d2580e453" headers="d2580e301 ">
                                 <p>S</p>
                              </td>
                              <td align="left" valign="top" width="17%" headers="d2580e453 d2580e304 "><pre class="oac_no_warn" dir="ltr">S9999
9999S</pre></td>
                              <td align="left" valign="top" width="68%" headers="d2580e453 d2580e307 ">
                                 <p>Displays a leading minus or plus sign. Displays a trailing minus or plus sign. </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d2580e463" headers="d2580e301 ">
                                 <p>TM</p>
                              </td>
                              <td align="left" valign="top" width="17%" headers="d2580e463 d2580e304 "><pre class="oac_no_warn" dir="ltr">TM</pre></td>
                              <td align="left" valign="top" width="68%" headers="d2580e463 d2580e307 ">
                                 <p>Displays the smallest number of decimal characters possible. The default is TM9. Fixed notation is used for output up to 64 characters, scientific notation for more than 64 characters. Cannot precede TM with any other element. TM can only be followed by a single 9 or E</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="15%" id="d2580e473" headers="d2580e301 ">
                                 <p>U</p>
                              </td>
                              <td align="left" valign="top" width="17%" headers="d2580e473 d2580e304 "><pre class="oac_no_warn" dir="ltr">U9999</pre></td>
                              <td align="left" valign="top" width="68%" headers="d2580e473 d2580e307 ">
                                 <p>Displays the dual currency symbol in the specified position.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>COMP[UTE] [<span class="italic">function</span> [LAB[EL] <span class="italic">text</span>] ... OF {<span class="italic">expr</span> | <span class="italic">column</span> | <span class="italic">alias</span>} ...ON {<span class="italic">expr</span> | <span class="italic">column</span> | <span class="italic">alias</span> | REPORT | ROW} ...]
                     </p>
                     <p>In combination with the BREAK command, calculates and prints summary lines using various standard computations. It also lists all COMPUTE definitions. The following table lists valid functions. All functions except NUMBER apply to non-null values only. COMPUTE functions are always executed in the following sequence AVG, COUNT, MINIMUM, MAXIMUM, NUMBER, SUM, STD, VARIANCE.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-2F355A6A-2E36-46CE-AF30-6A2F5B9B8A0F__GUID-CE009388-F224-4C3E-BA34-50E82E3CFA5E">
                     <table cellpadding="4" cellspacing="0" class="Formal" title summary="Lists COMPUTE functions, what they do, and what datatypes they apply to." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="16%" id="d2580e521">Function</th>
                              <th align="left" valign="bottom" width="38%" id="d2580e524">Computes</th>
                              <th align="left" valign="bottom" width="47%" id="d2580e527">Applies to Datatypes</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="16%" id="d2580e532" headers="d2580e521 "><code class="codeph">AVG</code></td>
                              <td align="left" valign="top" width="38%" headers="d2580e532 d2580e524 ">
                                 <p>Average of non-null values</p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d2580e532 d2580e527 ">
                                 <p>NUMBER</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="16%" id="d2580e542" headers="d2580e521 "><code class="codeph">COU[NT]</code></td>
                              <td align="left" valign="top" width="38%" headers="d2580e542 d2580e524 ">
                                 <p>Count of non-null values</p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d2580e542 d2580e527 ">
                                 <p>All types</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="16%" id="d2580e552" headers="d2580e521 "><code class="codeph">MIN[IMUM]</code></td>
                              <td align="left" valign="top" width="38%" headers="d2580e552 d2580e524 ">
                                 <p>Minimum value</p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d2580e552 d2580e527 ">
                                 <p>NUMBER, CHAR, NCHAR, VARCHAR2 (VARCHAR), NVARCHAR2 (NCHAR VARYING)</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="16%" id="d2580e562" headers="d2580e521 "><code class="codeph">MAX[IMUM]</code></td>
                              <td align="left" valign="top" width="38%" headers="d2580e562 d2580e524 ">
                                 <p>Maximum value</p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d2580e562 d2580e527 ">
                                 <p>NUMBER, CHAR, NCHAR, VARCHAR2 (VARCHAR), NVARCHAR2 (NCHAR VARYING)</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="16%" id="d2580e572" headers="d2580e521 "><code class="codeph">NUM[BER]</code></td>
                              <td align="left" valign="top" width="38%" headers="d2580e572 d2580e524 ">
                                 <p>Count of rows</p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d2580e572 d2580e527 ">
                                 <p>All types</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="16%" id="d2580e582" headers="d2580e521 "><code class="codeph">SUM</code></td>
                              <td align="left" valign="top" width="38%" headers="d2580e582 d2580e524 ">
                                 <p>Sum of non-null values</p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d2580e582 d2580e527 ">
                                 <p>NUMBER</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="16%" id="d2580e592" headers="d2580e521 "><code class="codeph">STD</code></td>
                              <td align="left" valign="top" width="38%" headers="d2580e592 d2580e524 ">
                                 <p>Standard deviation of non-null values</p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d2580e592 d2580e527 ">
                                 <p>NUMBER</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="16%" id="d2580e602" headers="d2580e521 "><code class="codeph">VAR[IANCE]</code></td>
                              <td align="left" valign="top" width="38%" headers="d2580e602 d2580e524 ">
                                 <p>Variance of non-null values</p>
                              </td>
                              <td align="left" valign="top" width="47%" headers="d2580e602 d2580e527 ">
                                 <p>NUMBER</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>REPF[OOTER] [PAGE] [<span class="italic">printspec</span> [<span class="italic">text</span> | <span class="italic">variable</span>] ...] | [ON | <span class="underline">OFF</span>]
                     </p>
                     <p>Places and formats a footer at the bottom of a report, or lists the current REPFOOTER definition. </p>
                     <p>Where <span class="italic">printspec</span> represents one or more of the following clauses:
                     </p>
                     <ul class="simple" style="list-style-type: none;padding-left:0;">
                        <li>BOLD</li>
                        <li>CE[NTER]</li>
                        <li>COL <span class="italic">n</span></li>
                        <li>FORMAT <span class="italic">text</span></li>
                        <li>LE[FT]</li>
                        <li>R[IGHT]</li>
                        <li>S[KIP] [<span class="italic">n</span>]
                        </li>
                        <li>TAB <span class="italic">n</span></li>
                        <li>REPH[EADER] [PAGE] [<span class="italic">printspec</span> [<span class="italic">text</span> | <span class="italic">variable</span>] ...] | [ON | <span class="underline">OFF</span>]
                        </li>
                     </ul>
                     <p>Places and formats a header at the top of a report, or lists the current REPHEADER definition. </p>
                     <p>Where <span class="italic">printspec</span> represents one or more of the clauses shown for REPFOOTER.
                     </p>
                     <p>SPO[OL] [<span class="italic">filename</span>[.<span class="italic">ext</span>] [CRE[ATE] | <span class="underline">REP[LACE]</span> | APP[END]] | OFF | OUT]
                     </p>
                     <p>Stores query results in a file, or optionally sends the file to a printer. OFF stops spooling. OUT stops spooling and sends the file to your computer's default printer. Enter SPOOL with no clauses to list the current spooling status. If no file extension is given, the default extension, <span class="italic">.lst</span> or <span class="italic">.lis</span>, is used. 
                     </p>
                     <p>TTI[TLE] [<span class="italic">printspec</span> [<span class="italic">text</span> | <span class="italic">variable</span>] ...] | [ON | <span class="underline">OFF</span>]
                     </p>
                     <p>Places and formats a specified title at the top of each report page, or lists the current TTITLE definition. The old form of TTITLE is used if only a single word or a string in quotes follows the TTITLE command. </p>
                     <p>Where <span class="italic">printspec</span> represents one or more of the following clauses:
                     </p>
                     <ul class="simple" style="list-style-type: none;padding-left:0;">
                        <li>BOLD</li>
                        <li>CE[NTER]</li>
                        <li>COL <span class="italic">n</span></li>
                        <li>FORMAT <span class="italic">text</span></li>
                        <li>LE[FT]</li>
                        <li>R[IGHT]</li>
                        <li>S[KIP] [<span class="italic">n</span>]
                        </li>
                        <li>TAB <span class="italic">n</span></li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <a id="SQPQR122"></a><a id="SQPQR121"></a>
            
            <div class="sect3">
               <!-- infolevel="all" infotype="General" --><a name="GUID-C66C0C29-FEA8-4AAD-BAA4-E74F711097AF" id="GUID-C66C0C29-FEA8-4AAD-BAA4-E74F711097AF"></a><h3 id="SQPQR-GUID-C66C0C29-FEA8-4AAD-BAA4-E74F711097AF" class="sect3">Accessing Databases</h3>
               <div>
                  <div class="section">
                     <p class="subhead1" id="GUID-C66C0C29-FEA8-4AAD-BAA4-E74F711097AF__GUID-BBDE6CE8-55AC-42AE-BE4B-35A4151B9D54">Use the following commands to access and copy data between tables on different databases.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>CONN[ECT] [{<span class="italic">logon</span> | / | <span class="italic">proxy</span>}&nbsp;&nbsp;[AS {SYSASM |SYSBACKUP |SYSDBA |SYSDG |SYSOPER |SYSRAC |SYSKM}]&nbsp;&nbsp;[edition=<span class="italic">value</span>] ]
                     </p>
                     <p>where <span class="italic">logon</span> requires the following syntax:
                     </p>
                     <p><span class="italic">username</span>[/<span class="italic">password</span>] [@<span class="italic">connect_identifier</span>]&nbsp;&nbsp; 
                     </p>
                     <p>where <span class="italic">proxy</span> requires the following syntax:
                     </p>
                     <p><span class="italic">proxyuser</span>[<span class="italic">username</span>] [/<span class="italic">password</span>] [@<span class="italic">connect_identifier</span>]&nbsp;&nbsp; 
                     </p>
                     <div class="infoboxnote" id="GUID-C66C0C29-FEA8-4AAD-BAA4-E74F711097AF__GUID-A9C49A01-BC95-46AE-8B4C-B72F7032E34B">
                        <p class="notep1">Note:</p>
                        <p>The brackets around <span class="italic">username</span> in <span class="italic">proxy</span> are required syntax.
                        </p>
                     </div>
                     <p>Connects a given username to the Oracle Database. If you omit <span class="italic">connect_identifier</span>, SQL*Plus connects you to the default database. If you omit <span class="italic">username</span> and/or <span class="italic">password</span>, SQL*Plus prompts you for them. CONNECT followed by a slash (/) connects you using a default (OPS$) logon. 
                     </p>
                     <p>When you run a CONNECT command, the site profile, glogin.sql, and the user profile, login.sql, are processed in that order. CONNECT does not reprompt for username or password if the initial connection does not succeed.</p>
                     <p>DISC[ONNECT]</p>
                     <p>Commits pending changes to the database and logs the current user out of Oracle, but does not exit SQL*Plus. In SQL*Plus command line, use EXIT or QUIT to log out of Oracle and return control to your computer's operating system.  </p>
                     <p>COPY {FROM <span class="italic">database</span> | TO <span class="italic">database</span> | FROM <span class="italic">database</span> TO <span class="italic">database</span>} {APPEND | CREATE | INSERT | REPLACE} <span class="italic">destination_table</span>[(<span class="italic">column</span>, <span class="italic">column</span>, <span class="italic">column</span>, ...)] USING <span class="italic">query</span></p>
                     <p>where <span class="italic">database</span> has the following syntax:
                     </p>
                     <p><span class="italic">username</span>[/<span class="italic">password</span>]<span class="italic">@connect_identifier</span></p>
                     <p>Copies data from a query to a table in the same or another database. APPEND, CREATE, INSERT or REPLACE specifies how COPY treats the existing copy of the destination table (if it exists). USING <span class="italic">query</span> identifies the source table and determines which rows and columns COPY copies from it. COPY supports CHAR, DATE, LONG, NUMBER and VARCHAR2 datatypes.
                     </p>
                     <p>PASSW[ORD] [<span class="italic">username</span>]
                     </p>
                     <p>Allows you to change a password without displaying it on an input device. </p>
                     <p>XQUERY <span class="italic">xquery_statement</span></p>
                     <p>Allows you to run an XQuery from SQL*Plus.</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <a id="SQPQR123"></a>
            
            <div class="sect3">
               <!-- infolevel="all" infotype="General" --><a name="GUID-7D4FB4F2-B568-46D5-BB52-64FD71C3E736" id="GUID-7D4FB4F2-B568-46D5-BB52-64FD71C3E736"></a><h3 id="SQPQR-GUID-7D4FB4F2-B568-46D5-BB52-64FD71C3E736" class="sect3">Miscellaneous</h3>
               <div>
                  <div class="section">
                     <p>ARCHIVE LOG LIST</p>
                     <p>Displays information about redo log files. </p><pre class="oac_no_warn" dir="ltr">DESC[RIBE] {[<span class="italic">schema</span>.]<span class="italic">object</span>[<span class="italic">@connect_identifier</span>]}</pre><p>Lists the column definitions for a table, view or synonym, or the specifications for a function or procedure.</p><pre class="oac_no_warn" dir="ltr">RECOVER {<span class="italic">general</span> | <span class="italic">managed</span> | BEGIN BACKUP | END BACKUP}</pre><p>where the <span class="italic">general</span> clause has the following syntax:
                     </p>
                     <p>[AUTOMATIC] [FROM <span class="italic">location</span>]&nbsp;&nbsp;{ {<span class="italic">full_database_recovery</span>&nbsp;&nbsp;| <span class="italic">partial_database_recovery</span>&nbsp;&nbsp;| LOGFILE <span class="italic">filename</span>}&nbsp;&nbsp;[ {TEST | ALLOW integer CORRUPTION | <span class="italic">parallel_clause</span> }&nbsp;&nbsp;&nbsp;&nbsp;[TEST |ALLOW integer CORRUPTION | <span class="italic">parallel_clause</span>&nbsp;&nbsp;]...]|CONTINUE&nbsp;&nbsp; [DEFAULT] | CANCEL}
                     </p>
                     <p>where the <span class="italic">full_database_recovery</span> clause has the following syntax:
                     </p>
                     <p>[STANDBY] DATABASE [ {UNTIL {CANCEL | TIME <span class="italic">date</span> | CHANGE <span class="italic">integer</span>}&nbsp;&nbsp; | USING BACKUP CONTROLFILE}&nbsp;&nbsp;[UNTIL {CANCEL&nbsp;&nbsp; | TIME <span class="italic">date</span> | CHANGE <span class="italic">integer</span>} | USING BACKUP CONTROLFILE | SNAPSHOT TIME date]...]
                     </p>
                     <p>where the <span class="italic">partial_database_recovery</span> clause has the following syntax:
                     </p>
                     <p>{TABLESPACE <span class="italic">tablespace</span> [, <span class="italic">tablespace</span>]...&nbsp;&nbsp;&nbsp;&nbsp; | DATAFILE {<span class="italic">filename</span> | <span class="italic">filenumber</span>} [, <span class="italic">filename</span> | <span class="italic">filenumber</span>]... <span class="italic"> </span> | STANDBY {TABLESPACE <span class="italic">tablespace</span> [, <span class="italic">tablespace</span>]...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | DATAFILE {<span class="italic">filename</span> | <span class="italic">filenumber</span>} [, <span class="italic">filename</span> | <span class="italic">filenumber</span>]...}&nbsp;&nbsp;&nbsp;&nbsp; UNTIL [CONSISTENT WITH] CONTROLFILE }
                     </p>
                     <p>where the <span class="italic">parallel</span> clause has the following syntax:
                     </p>
                     <p>{ NOPARALLEL | PARALLEL [ <span class="italic">integer</span> ] }
                     </p>
                     <p>where the <span class="italic">managed</span> clause has the following syntax:
                     </p>
                     <p>MANAGED STANDBY DATABASE <span class="italic">recover_clause</span> | <span class="italic">cancel_clause</span> | <span class="italic">finish_clause</span></p>
                     <p>where the <span class="italic">recover_clause</span> has the following syntax:
                     </p>
                     <p>{ { DISCONNECT [ FROM SESSION ]&nbsp;&nbsp;| { TIMEOUT <span class="italic">integer</span> | NOTIMEOUT }&nbsp;&nbsp;}&nbsp;&nbsp; | { NODELAY | DEFAULT DELAY | DELAY <span class="italic">integer</span> } | NEXT <span class="italic">integer </span>&nbsp;&nbsp;| { EXPIRE <span class="italic">integer</span> | NO EXPIRE } | <span class="italic">parallel_clause </span>&nbsp;&nbsp;| USING CURRENT LOGFILE | UNTIL CHANGE <span class="italic">integer </span>&nbsp;&nbsp;| THROUGH { [ THREAD <span class="italic">integer</span> ] SEQUENCE <span class="italic">integer </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | ALL ARCHIVELOG&nbsp;&nbsp;| { ALL | LAST | NEXT } SWITCHOVER} }&nbsp;&nbsp;&nbsp;&nbsp; [ DISCONNECT [ FROM SESSION ]&nbsp;&nbsp;| { TIMEOUT <span class="italic">integer</span> | NOTIMEOUT }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | { NODELAY | DEFAULT DELAY | DELAY <span class="italic">integer</span> } | NEXT <span class="italic">integer </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| { EXPIRE <span class="italic">integer</span> | NO EXPIRE } | <span class="italic">parallel_clause </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| USING CURRENT LOGFILE | UNTIL CHANGE <span class="italic">integer </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| THROUGH { [ THREAD <span class="italic">integer</span> ] SEQUENCE <span class="italic">integer </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | ALL ARCHIVELOG&nbsp;&nbsp;| { ALL | LAST | NEXT } SWITCHOVER}&nbsp;&nbsp;]...
                     </p>
                     <p>where the <span class="italic">cancel_clause</span> has the following syntax:
                     </p>
                     <p>CANCEL [IMMEDIATE] [WAIT | NOWAIT]</p>
                     <p>where the <span class="italic">finish_clause</span> has the following syntax:
                     </p>
                     <p>[ DISCONNECT [ FROM SESSION ] ] [ <span class="italic">parallel_clause</span> ] FINISH [ SKIP [ STANDBY LOGFILE ] ] [ WAIT | NOWAIT ]
                     </p>
                     <p>where the <span class="italic">parallel_clause</span> has the following syntax:
                     </p>
                     <p>{ NOPARALLEL | PARALLEL [ <span class="italic">integer</span> ] }
                     </p>
                     <p>Performs media recovery on one or more tablespaces, one or more datafiles, or the entire database. </p>
                     <p>SET <span class="italic">system_variable</span> <span class="italic">value</span></p>
                     <p>Sets a system variable to alter the SQL*Plus environment settings for your current session. For example, to:</p>
                     <ul xmlns:htmlutil="http://dita4publishers.org/functions/htmlutil" xmlns:df="http://dita2indesign.org/dita/functions" xmlns:enum="http://dita4publishers.org/enumerables" xmlns:local="http//local/function" xmlns:relpath="http://dita2indesign/functions/relpath" xmlns:dita-ot="http://dita-ot.sourceforge.net/ns/201007/dita-ot" style="list-style-type: disc;">
                        <li>
                           <p>set the display width for data</p>
                        </li>
                        <li>
                           <p>customize HTML formatting</p>
                        </li>
                        <li>
                           <p>enable or disable printing of column headings</p>
                        </li>
                        <li>
                           <p>set the number of lines per page</p>
                        </li>
                     </ul>
                     <p>Enter a system variable followed by a value as shown below. The default value for a system variable is underlined.</p>
                     <ul class="simple" style="list-style-type: none;padding-left:0;">
                        <li>SET APPI[NFO]{ON | <span class="underline">OFF</span> | <span class="italic">text</span>}
                        </li>
                        <li>SET ARRAY[SIZE] {<span class="underline">15</span> | <span class="italic">n</span>}
                        </li>
                        <li> SET AUTO[COMMIT] {ON | <span class="underline">OFF</span> | IMM[EDIATE] | <span class="italic">n</span>}
                        </li>
                        <li> SET AUTOP[RINT] {ON | <span class="underline">OFF</span>}
                        </li>
                        <li>SET AUTORECOVERY {ON | <span class="underline">OFF</span>]
                        </li>
                        <li> SET AUTOT[RACE] {ON | <span class="underline">OFF</span> | TRACE[ONLY]} [EXP[LAIN]] [STAT[ISTICS]]
                        </li>
                        <li> SET BLO[CKTERMINATOR] {<span class="underline">.</span> | <span class="italic">c</span> | ON | <span class="underline">OFF</span>}
                        </li>
                        <li>SET CMDS[EP] {; | <span class="italic">c</span> | ON | <span class="underline">OFF</span>}
                        </li>
                        <li>SET COLINVI[SIBLE] {ON | <span class="underline">OFF</span>}
                        </li>
                        <li> SET COLSEP {_ | <span class="italic">text</span>}
                        </li>
                        <li>SET CON[CAT] {. | <span class="italic">c</span> | <span class="underline">ON</span> | OFF}
                        </li>
                        <li> SET COPYC[OMMIT] {<span class="underline">0</span> | <span class="italic">n</span>}
                        </li>
                        <li>SET COPYTYPECHECK {<span class="underline">ON</span> | OFF}
                        </li>
                        <li>SET DEF[INE] {<span class="underline">&amp;</span> | <span class="italic">c</span> | <span class="underline">ON</span> | OFF}
                        </li>
                        <li>SET DESCRIBE [DEPTH {<span class="underline">1</span> | <span class="italic">n</span> | ALL}] [LINENUM {ON | <span class="underline">OFF</span>}] [INDENT {ON | OFF}]
                        </li>
                        <li>SET ECHO {ON | <span class="underline">OFF</span>}
                        </li>
                        <li>SET EDITF[ILE] <span class="italic">file_name</span>[<span class="italic">.ext</span>]
                        </li>
                        <li>SET EMB[EDDED] {ON | <span class="underline">OFF</span>}
                        </li>
                        <li>SET ERRORL[OGGING] {ON | <span class="underline">OFF</span>} [TABLE [<span class="italic">schema.</span>]<span class="italic">tablename</span>] [TRUNCATE] [IDENTIFIER <span class="italic">identifier</span>]
                        </li>
                        <li>SET ESC[APE] {<span class="underline">\</span> | <span class="italic">c</span> | ON | <span class="underline">OFF</span>}
                        </li>
                        <li>SET ESCCHAR {@ | ? | % | $ | <span class="underline">OFF</span>}
                        </li>
                        <li>SET EXITC[OMMIT] {<span class="underline">ON</span> | OFF}
                        </li>
                        <li> SET FEED[BACK] {<span class="underline">6</span> | <span class="italic">n</span> | <span class="underline">ON</span> | OFF | ONLY} [SQL_ID]
                        </li>
                        <li>SET FLAGGER {<span class="underline">OFF</span> | ENTRY | INTERMED[IATE] | FULL}
                        </li>
                        <li> SET FLU[SH] {<span class="underline">ON</span> | OFF}
                        </li>
                        <li>SET HEA[DING] {<span class="underline">ON</span> | OFF}
                        </li>
                        <li>SET HEADS[EP] {<span class="underline"> |</span>  | <span class="italic">c</span> | <span class="underline">ON</span> | OFF}
                        </li>
                        <li>SET HIST[ORY] {ON | <span class="underline">OFF</span> | <span class="italic">n</span>}
                        </li>
                        <li> SET INSTANCE [<span class="italic">instance_path</span> | <span class="underline">LOCAL</span>]
                        </li>
                        <li>SET LIN[ESIZE] {<span class="underline">80</span> | <span class="italic">n </span> | WINDOW}
                        </li>
                        <li> SET LOBOF[FSET] {<span class="italic">n</span> | <span class="underline">1</span>}
                        </li>
                        <li>SET LOBPREF[ETCH] {<span class="underline">0</span> | <span class="italic">n</span>}
                        </li>
                        <li>SET LOGSOURCE [<span class="italic">pathname</span>]
                        </li>
                        <li>SET LONG {<span class="underline">80</span> | <span class="italic">n</span>}
                        </li>
                        <li>SET LONGC[HUNKSIZE] {<span class="underline">80</span> | <span class="italic">n</span>}
                        </li>
                        <li>SET MARK[UP] CSV {ON|<span class="underline">OFF</span>} [DELIMI[TER] <span class="italic">character</span>] [QUOTE {ON|<span class="underline">OFF</span>}]
                        </li>
                        <li>SET MARK[UP] HTML {ON|<span class="underline">OFF</span>} [HEAD <span class="italic">text</span>] [BODY <span class="italic">text</span>] [TABLE <span class="italic">text</span>] [ENTMAP {<span class="underline">ON</span>|OFF}] [SPOOL {ON|<span class="underline">OFF</span>}] [PRE[FORMAT] {ON|<span class="underline">OFF</span>}]
                        </li>
                        <li>SET NEWP[AGE] {<span class="underline">1</span> | <span class="italic">n</span> | NONE}
                        </li>
                        <li>SET NULL <span class="italic">text </span></li>
                        <li>SET NUMF[ORMAT] <span class="italic">format </span></li>
                        <li>SET NUM[WIDTH] {<span class="underline">10</span> | <span class="italic">n</span>}
                        </li>
                        <li>SET PAGES[IZE] {<span class="underline">14</span> | <span class="italic">n</span>}
                        </li>
                        <li>SET PAU[SE] {ON | <span class="underline">OFF</span> | <span class="italic">text</span>}
                        </li>
                        <li>SET RECSEP {<span class="underline">WR[APPED]</span> | EA[CH] | OFF}
                        </li>
                        <li>SET RECSEPCHAR {<span class="underline"> </span> | <span class="italic">c</span>}
                        </li>
                        <li>SET ROWLIMIT {<span class="italic">n</span> | OFF}
                        </li>
                        <li>SET ROWPREF[ETCH] {<span class="underline">1</span> | <span class="italic">n</span>}
                        </li>
                        <li>SET  SECUREDCOL {ON | <span class="underline">OFF</span>}  [UNAUTH[ORIZED] text][UNK[NOWN] text]
                        </li>
                        <li>SET SERVEROUT[PUT] {ON | OFF} [SIZE {<span class="italic">n</span> | <span class="underline">UNL[IMITED]</span>}] [FOR[MAT] {WRA[PPED]  | WOR[D_WRAPPED] | TRU[NCATED]}]
                        </li>
                        <li>SET SHIFT[INOUT] {VIS[IBLE] | <span class="underline">INV[ISIBLE]</span>}
                        </li>
                        <li>SET SHOW[MODE] {ON | <span class="underline">OFF</span>}
                        </li>
                        <li>SET SQLBL[ANKLINES] {ON | <span class="underline">OFF</span>}
                        </li>
                        <li>SET SQLC[ASE] {<span class="underline">MIX[ED]</span> | LO[WER] | UP[PER]}
                        </li>
                        <li>SET SQLCO[NTINUE] {<span class="underline">&gt;</span>  | <span class="italic">text</span>}
                        </li>
                        <li>SET SQLN[UMBER] {<span class="underline">ON</span> | OFF}
                        </li>
                        <li>SET SQLPLUSCOMPAT[IBILITY] {<span class="italic">x</span>.<span class="italic">y</span>[.<span class="italic">z</span>]}
                        </li>
                        <li>SET SQLPRE[FIX] {<span class="underline">#</span> | <span class="italic">c</span>}
                        </li>
                        <li>SET SQLP[ROMPT] {<span class="underline">SQL&gt;</span> | <span class="italic">text</span>}
                        </li>
                        <li>SET SQLT[ERMINATOR] {<span class="underline">;</span> | <span class="italic">c</span> | <span class="underline">ON</span> | OFF}
                        </li>
                        <li>SET STATEMENTC[ACHE] {<span class="underline">0</span> | <span class="italic">n</span>}
                        </li>
                        <li>SET SUF[FIX] {<span class="underline">SQL</span> | <span class="italic">text</span>}
                        </li>
                        <li>SET TAB {<span class="underline">ON</span> | OFF}
                        </li>
                        <li>SET TERM[OUT] {<span class="underline">ON</span> | OFF}
                        </li>
                        <li>SET TI[ME] {ON | <span class="underline">OFF</span>}
                        </li>
                        <li>SET TIMI[NG] {ON | <span class="underline">OFF</span>}
                        </li>
                        <li>SET TRIM[OUT] {<span class="underline">ON</span> | OFF}
                        </li>
                        <li>SET TRIMS[POOL] {ON | <span class="underline">OFF</span>}
                        </li>
                        <li>SET UND[ERLINE] {<span class="underline">-</span> | c | <span class="underline">ON</span> | OFF}
                        </li>
                        <li>SET VER[IFY] {<span class="underline">ON</span> | OFF}
                        </li>
                        <li>SET WRA[P] {<span class="underline">ON</span> | OFF}
                        </li>
                        <li>SET XMLOPT[IMIZATIONCHECK] [<span>ON</span>|<span class="underline">OFF</span>]
                        </li>
                        <li>SET XQUERY BASEURI {<span class="italic">text</span>}
                        </li>
                        <li>SET XQUERY ORDERING {UNORDERED | ORDERED | DEFAULT}</li>
                        <li>SET XQUERY NODE {BYVALUE | BYREFERENCE | DEFAULT}</li>
                        <li> SET XQUERY CONTEXT {<span class="italic">text</span>}
                        </li>
                        <li>SHO[W] [<span class="italic">option</span>]
                        </li>
                     </ul>
                     <p>Shows the value of a SQL*Plus system variable, or the current SQL*Plus environment. Enter any system variable set by the SET command in place of <span class="italic">system_variable</span>. SHOW SGA requires a DBA privileged login. Use one of the following terms or clauses in place of <span class="italic">option</span>:
                     </p>
                     <ul class="simple" style="list-style-type: none;padding-left:0;">
                        <li><span class="italic">system_variable</span></li>
                        <li>ALL</li>
                        <li>CON_ID</li>
                        <li>CON_NAME</li>
                        <li>BTI[TLE]</li>
                        <li>EDITION</li>
                        <li>ERR[ORS] [ {ANALYTIC VIEW | ATTRIBUTE DIMENSION | HIERARCHY | FUNCTION | PROCEDURE | PACKAGE | PACKAGE BODY | TRIGGER | VIEW | TYPE | TYPE BODY | DIMENSION | JAVA CLASS} [<span class="italic">schema.</span>]<span class="italic">name</span>]
                        </li>
                        <li>HIST[ORY]</li>
                        <li>LNO</li>
                        <li>LOBPREF[ETCH]</li>
                        <li>PARAMETER[S] [<span class="italic">parameter_name</span>]
                        </li>
                        <li>PDBS</li>
                        <li>PNO</li>
                        <li>RECYC[LEBIN] [<span class="italic">original_name</span>]
                        </li>
                        <li>REL[EASE]</li>
                        <li>REPF[OOTER]</li>
                        <li>REPH[EADER]</li>
                        <li>ROWPREF[ETCH]</li>
                        <li>SGA</li>
                        <li>SPOO[L]   </li>
                        <li>SPPARAMETER[S] [<span class="italic">parameter_name</span>]
                        </li>
                        <li>SQLCODE</li>
                        <li>STATEMENTC[ACHE]</li>
                        <li>TTI[TLE]</li>
                        <li>USER</li>
                        <li>XQUERY</li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            
         </div>
         
         <hr>
         <div class="notices">
            <p>SQL*Plus Quick Reference, 19c </p>
            <p>E96463-01</p>
            
            <p>Copyright &copy; 1996, 2019,&nbsp;Oracle and/or its affiliates. All rights reserved.
          </p>
            <div>
               <div>
                  <p>This software and related documentation are provided under a license
            agreement containing restrictions on use and disclosure and are protected by
            intellectual property laws. Except as expressly permitted in your license agreement or
            allowed by law, you may not use, copy, reproduce, translate, broadcast, modify, license,
            transmit, distribute, exhibit, perform, publish, or display any part, in any form, or by
            any means. Reverse engineering, disassembly, or decompilation of this software, unless
            required by law for interoperability, is prohibited.</p>
                  <p>The information contained herein is subject to change without notice
            and is not warranted to be error-free. If you find any errors, please report them to us
            in writing.</p>
               </div>
            </div>
            <div>
               <div>
                  <p>If this is software or related documentation that is delivered to the
            U.S. Government or anyone licensing it on behalf of the U.S. Government, then the
            following notice is applicable:</p>
                  <p>U.S. GOVERNMENT END USERS: Oracle programs, including any operating
            system, integrated software, any programs installed on the hardware, and/or
            documentation, delivered to U.S. Government end users are "commercial computer software"
            pursuant to the applicable Federal Acquisition Regulation and agency-specific
            supplemental regulations. As such, use, duplication, disclosure, modification, and
            adaptation of the programs, including any operating system, integrated software, any
            programs installed on the hardware, and/or documentation, shall be subject to license
            terms and license restrictions applicable to the programs. No other rights are granted
            to the U.S. Government.</p>
               </div>
            </div>
            <div>
               <div>
                  <p>This software or hardware is developed for general use in a variety of
            information management applications. It is not developed or intended for use in any
            inherently dangerous applications, including applications that may create a risk of
            personal injury. If you use this software or hardware in dangerous applications, then
            you shall be responsible to take all appropriate fail-safe, backup, redundancy, and
            other measures to ensure its safe use. Oracle Corporation and its affiliates disclaim
            any liability for any damages caused by use of this software or hardware in dangerous
            applications.</p>
               </div>
            </div>
            <div>
               <div>
                  <p>Oracle and Java are registered trademarks of Oracle and/or its
            affiliates. Other names may be trademarks of their respective owners.</p>
                  <p>Intel and Intel Xeon are trademarks or registered trademarks of Intel
            Corporation. All SPARC trademarks are used under license and are trademarks or
            registered trademarks of SPARC International, Inc. AMD, Opteron, the AMD logo, and the
            AMD Opteron logo are trademarks or registered trademarks of Advanced Micro Devices. UNIX
            is a registered trademark of The Open Group.</p>
               </div>
            </div>
            <div>
               <div>
                  <p>This software or hardware and documentation may provide access to or
            information about content, products, and services from third parties. Oracle Corporation
            and its affiliates are not responsible for and expressly disclaim all warranties of any
            kind with respect to third-party content, products, and services unless otherwise set
            forth in an applicable agreement between you and Oracle. Oracle Corporation and its
            affiliates will not be responsible for any loss, costs, or damages incurred due to your
            access to or use of third-party content, products, or services, except as set forth in
            an applicable agreement between you and Oracle.</p>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='00653.how-to-write-XML-DB-applications-in-Java.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Design guidelines are presented for writing Oracle XML&nbsp;DB applications in Java. This includes guidelines for writing and configuring Java servlets for Oracle XML&nbsp;DB.">
      <meta name="description" content="Design guidelines are presented for writing Oracle XML&nbsp;DB applications in Java. This includes guidelines for writing and configuring Java servlets for Oracle XML&nbsp;DB.">
      <title>Guidelines for Oracle XML&nbsp;DB Applications in Java</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Developer's Guide ">
      <meta property="og:description" content="Design guidelines are presented for writing Oracle XML&nbsp;DB applications in Java. This includes guidelines for writing and configuring Java servlets for Oracle XML&nbsp;DB.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="xml-db-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-30T12:32:42-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2002, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96222-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="XML-DB-repository-events.html" title="Previous" type="text/html">
      <link rel="next" href="data-access-using-URIs.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="XML DB Developer's Guide">
    <meta name="dcterms.isVersionOf" content="ADXDB">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="XML-DB-repository-events.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="data-access-using-URIs.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Developer's Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="XML-DB-repository.html" property="item" typeof="WebPage"><span property="name"> Oracle XML&nbsp;DB Repository</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Guidelines for Oracle XML&nbsp;DB Applications in Java</li>
            </ol>
            <a id="GUID-C6EABC36-3FA8-4A82-B940-C20A01D8F586" name="GUID-C6EABC36-3FA8-4A82-B940-C20A01D8F586"></a><a id="ADXDB2600"></a>
            
            <h2 id="ADXDB-GUID-C6EABC36-3FA8-4A82-B940-C20A01D8F586" class="sect2"><span class="enumeration_chapter">31 </span> Guidelines for Oracle XML&nbsp;DB Applications in Java
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Design guidelines are presented for writing Oracle XML&nbsp;DB applications in Java. This includes guidelines for writing and configuring Java servlets for Oracle XML&nbsp;DB.</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="how-to-write-XML-DB-applications-in-Java.html#GUID-38D01A8B-2C05-43CB-9C76-F37C969BDF7E">Overview of Oracle XML&nbsp;DB Java Applications</a><br>You can use Java code either in a client or an application server, using the OCI driver for JDBC, or in the Java Virtual Machine (JVM).
                  </li>
                  <li class="ulchildlink"><a href="how-to-write-XML-DB-applications-in-Java.html#GUID-268F693E-30B3-4D10-B99E-483BF7DA6CE3">HTTP(S): Access Java Servlets or Directly Access XMLType Resources</a><br>If a downstream client needs to work with XML in its textual representation then using HTTP(S) to either access Java servlets or directly access <code class="codeph">XMLType</code> resources performs the best, especially if the XML node tree is not being manipulated much by the Java program. 
                  </li>
                  <li class="ulchildlink"><a href="how-to-write-XML-DB-applications-in-Java.html#GUID-4F87598E-5C71-4CB6-BB76-C3AA6EE9DFBA">Use JDBC XMLType Support to Access Many XMLType Object Elements</a><br>If a downstream client is an application that programmatically accesses many or most of the elements of an <code class="codeph">XMLType</code> instance using Java, then use JDBC <code class="codeph">XMLType</code> support for best performance. It is often easier to debug Java programs outside of the database server, as well.
                  </li>
                  <li class="ulchildlink"><a href="how-to-write-XML-DB-applications-in-Java.html#GUID-386C0035-D462-4D5E-9298-308409A64F12">Use Servlets to Manipulate and Write Out Data Quickly as XML</a><br>Oracle XML&nbsp;DB servlets are best used for applications that want to get into the database, manipulate the data, and write it out quickly as XML, not to format HTML pages for end-users.
                  </li>
                  <li class="ulchildlink"><a href="how-to-write-XML-DB-applications-in-Java.html#GUID-B18AA68B-1D0A-4D98-8735-DE2D34EBDA49">Oracle XML&nbsp;DB Java Servlet Support Restrictions</a><br>The Oracle XML&nbsp;DB protocol server supports FTP, HTTP 1.1, WebDAV, and Java Servlets. It supports Java Servlet version 2.2, with a few exceptions.
                  </li>
                  <li class="ulchildlink"><a href="how-to-write-XML-DB-applications-in-Java.html#GUID-C9746CD4-C6EC-4EB8-BAAD-7B8579FF3F20">Configuration of Oracle XML&nbsp;DB Servlets</a><br>Oracle XML&nbsp;DB servlets are configured using file <code class="codeph">xdbconfig.xml</code> in Oracle XML&nbsp;DB Repository. Many of the XML elements in this file are the same as those defined by the Java Servlet 2.2 specification portion of Java 2 Enterprise Edition (J2EE), and they have the same semantics. 
                  </li>
                  <li class="ulchildlink"><a href="how-to-write-XML-DB-applications-in-Java.html#GUID-D0CB2FA0-6BF4-4AF0-B61B-A7EE0A6AFDE8">HTTP Request Processing for Oracle XML&nbsp;DB Servlets</a><br>Oracle XML&nbsp;DB processing of an HTTP request is described.
                  </li>
                  <li class="ulchildlink"><a href="how-to-write-XML-DB-applications-in-Java.html#GUID-29D7F0DB-8A8B-4E93-A8B8-DB7BD2DD6B18">Session Pool and Oracle XML&nbsp;DB Servlets</a><br>Oracle Database uses one Java virtual machine (VM) for each database session. A session that is reused from the session pool retains any state that is left over in the Java VM (Java static variables) from the last time that session was used. 
                  </li>
                  <li class="ulchildlink"><a href="how-to-write-XML-DB-applications-in-Java.html#GUID-10395787-6109-4B0C-A8A4-6DF931B6504B">Native XML Stream Support</a><br>Java node class <code class="codeph">DOM</code> has Oracle-specific method <code class="codeph">write()</code>, which provides native XML stream support.
                  </li>
                  <li class="ulchildlink"><a href="how-to-write-XML-DB-applications-in-Java.html#GUID-4F9297F2-C114-40FA-9F1E-E898D2ABE548">Oracle XML&nbsp;DB Servlet APIs</a><br>The APIs supported by Oracle XML&nbsp;DB servlets are described. They are defined by the Java Servlet 2.2 specification. 
                  </li>
                  <li class="ulchildlink"><a href="how-to-write-XML-DB-applications-in-Java.html#GUID-5C7CABF3-C992-4F84-AB07-200041CB0317">Oracle XML&nbsp;DB Servlet Example</a><br>Examples show the definition of a simple Oracle XML&nbsp;DB servlet that prints the content of a file resource, and how to register and map that servlet.
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="XML-DB-repository.html#GUID-840EBE35-8FC8-4150-9FC8-78442FD1B12B" title="Oracle XML&nbsp;DB Repository lets you version your data, implement and manage security, and use APIs to access and manipulate repository resources.">Oracle XML&nbsp;DB Repository</a></p>
                  </div>
               </div>
            </div>
            <a id="ADXDB5659"></a><div class="props_rev_3"><a id="GUID-38D01A8B-2C05-43CB-9C76-F37C969BDF7E" name="GUID-38D01A8B-2C05-43CB-9C76-F37C969BDF7E"></a><h3 id="ADXDB-GUID-38D01A8B-2C05-43CB-9C76-F37C969BDF7E" class="sect3"><span class="enumeration_section">31.1 </span>Overview of Oracle XML&nbsp;DB Java Applications
               </h3>
               <div>
                  <p>You can use Java code either in a client or an application server, using the OCI driver for JDBC, or in the Java Virtual Machine (JVM).</p>
                  <p>Because Java runs in the database in the context of the database server process, the ways you can deploy and run Java code are restricted to the following: </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>You can run Java code as a stored procedure invoked from SQL or PL/SQL.</p>
                     </li>
                     <li>
                        <p>You can run a Java servlet.</p>
                     </li>
                  </ul>
                  <p>Stored procedures are easier to integrate with SQL and PL/SQL code. They require Oracle Net Services as the protocol to access Oracle Database. </p>
                  <p>Servlets work better as the top-level entry point into Oracle Database, and require using HTTP(S) as the protocol to access Oracle Database.</p>
                  <p>All Oracle XML&nbsp;DB application program interfaces (APIs) for Java are available to applications running both in the server and outside the database. </p>
                  <p>These APIs include:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>JDBC support for <code class="codeph">XMLType</code></p>
                     </li>
                     <li>
                        <p><code class="codeph">XMLType</code> class
                        </p>
                     </li>
                     <li>
                        <p>Java DOM implementation</p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="how-to-write-XML-DB-applications-in-Java.html#GUID-C6EABC36-3FA8-4A82-B940-C20A01D8F586" title="Design guidelines are presented for writing Oracle XML&nbsp;DB applications in Java. This includes guidelines for writing and configuring Java servlets for Oracle XML&nbsp;DB.">Guidelines for Oracle XML&nbsp;DB Applications in Java</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADXDB5662"></a><div class="props_rev_3"><a id="GUID-268F693E-30B3-4D10-B99E-483BF7DA6CE3" name="GUID-268F693E-30B3-4D10-B99E-483BF7DA6CE3"></a><h3 id="ADXDB-GUID-268F693E-30B3-4D10-B99E-483BF7DA6CE3" class="sect3"><span class="enumeration_section">31.2 </span>HTTP(S): Access Java Servlets or Directly Access XMLType Resources
               </h3>
               <div>
                  <p>If a downstream client needs to work with XML in its textual representation then using HTTP(S) to either access Java servlets or directly access <code class="codeph">XMLType</code> resources performs the best, especially if the XML node tree is not being manipulated much by the Java program. 
                  </p>
                  <p>The Java implementation in the server can natively move data from the database to the network without converting character data through UCS-2 Unicode (which is required by Java strings). In many cases data is copied directly from the database buffer cache to the HTTP(S) connection. There is no need to convert data from the buffer cache into the SQL serialization format used by Oracle Net Services, then move it to the JDBC client, and then convert to XML. Loading on demand and the LRU cache for <code class="codeph">XMLType</code> are most effective inside the database server.
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="how-to-write-XML-DB-applications-in-Java.html#GUID-C6EABC36-3FA8-4A82-B940-C20A01D8F586" title="Design guidelines are presented for writing Oracle XML&nbsp;DB applications in Java. This includes guidelines for writing and configuring Java servlets for Oracle XML&nbsp;DB.">Guidelines for Oracle XML&nbsp;DB Applications in Java</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADXDB5663"></a><div class="props_rev_3"><a id="GUID-4F87598E-5C71-4CB6-BB76-C3AA6EE9DFBA" name="GUID-4F87598E-5C71-4CB6-BB76-C3AA6EE9DFBA"></a><h3 id="ADXDB-GUID-4F87598E-5C71-4CB6-BB76-C3AA6EE9DFBA" class="sect3"><span class="enumeration_section">31.3 </span>Use JDBC XMLType Support to Access Many XMLType Object Elements
               </h3>
               <div>
                  <p>If a downstream client is an application that programmatically accesses many or most of the elements of an <code class="codeph">XMLType</code> instance using Java, then use JDBC <code class="codeph">XMLType</code> support for best performance. It is often easier to debug Java programs outside of the database server, as well.
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="how-to-write-XML-DB-applications-in-Java.html#GUID-C6EABC36-3FA8-4A82-B940-C20A01D8F586" title="Design guidelines are presented for writing Oracle XML&nbsp;DB applications in Java. This includes guidelines for writing and configuring Java servlets for Oracle XML&nbsp;DB.">Guidelines for Oracle XML&nbsp;DB Applications in Java</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADXDB5664"></a><div class="props_rev_3"><a id="GUID-386C0035-D462-4D5E-9298-308409A64F12" name="GUID-386C0035-D462-4D5E-9298-308409A64F12"></a><h3 id="ADXDB-GUID-386C0035-D462-4D5E-9298-308409A64F12" class="sect3"><span class="enumeration_section">31.4 </span>Use Servlets to Manipulate and Write Out Data Quickly as XML
               </h3>
               <div>
                  <p>Oracle XML&nbsp;DB servlets are best used for applications that want to get into the database, manipulate the data, and write it out quickly as XML, not to format HTML pages for end-users.</p>
                  <p>Servlets are intended for writing HTTP stored procedures in Java that can be accessed using HTTP(S). If you need to develop an entire Internet application then deploy your application servlet in Oracle Fusion Middleware and have the servlet access data in the database using either JDBC or APIs such as <code class="codeph">java.net.*</code>.
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="how-to-write-XML-DB-applications-in-Java.html#GUID-C6EABC36-3FA8-4A82-B940-C20A01D8F586" title="Design guidelines are presented for writing Oracle XML&nbsp;DB applications in Java. This includes guidelines for writing and configuring Java servlets for Oracle XML&nbsp;DB.">Guidelines for Oracle XML&nbsp;DB Applications in Java</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADXDB5665"></a><div class="props_rev_3"><a id="GUID-B18AA68B-1D0A-4D98-8735-DE2D34EBDA49" name="GUID-B18AA68B-1D0A-4D98-8735-DE2D34EBDA49"></a><h3 id="ADXDB-GUID-B18AA68B-1D0A-4D98-8735-DE2D34EBDA49" class="sect3"><span class="enumeration_section">31.5 </span>Oracle XML&nbsp;DB Java Servlet Support Restrictions
               </h3>
               <div>
                  <p>The Oracle XML&nbsp;DB protocol server supports FTP, HTTP 1.1, WebDAV, and Java Servlets. It supports Java Servlet version 2.2, with a few exceptions.</p>
                  <div class="section">
                     <p>Support for Java Servlet version 2.2. has these restrictions:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The servlet WAR file (<code class="codeph">web.xml</code>) is not supported in its entirety. Some <code class="codeph">web.xml</code> configuration parameters must be handled manually. For example, creating roles must be done using the <code class="codeph">SQL CREATE ROLE</code> command.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">RequestDispatcher</code> and associated methods are <span class="italic">not</span> supported.
                           </p>
                        </li>
                        <li>
                           <p>Method <code class="codeph">HTTPServletRequest.getCookies()</code> is <span class="italic">not</span> supported.
                           </p>
                        </li>
                        <li>
                           <p>Only one <code class="codeph">ServletContext</code> (and one <code class="codeph">web-app</code>) is currently supported.
                           </p>
                        </li>
                        <li>
                           <p>Stateful servlets (and thus the <code class="codeph">HttpSession</code> class methods) are <span class="italic">not</span> supported. Servlets must maintain state in the database itself.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="how-to-write-XML-DB-applications-in-Java.html#GUID-C6EABC36-3FA8-4A82-B940-C20A01D8F586" title="Design guidelines are presented for writing Oracle XML&nbsp;DB applications in Java. This includes guidelines for writing and configuring Java servlets for Oracle XML&nbsp;DB.">Guidelines for Oracle XML&nbsp;DB Applications in Java</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADXDB5667"></a><a id="ADXDB5666"></a><div class="props_rev_3"><a id="GUID-C9746CD4-C6EC-4EB8-BAAD-7B8579FF3F20" name="GUID-C9746CD4-C6EC-4EB8-BAAD-7B8579FF3F20"></a><h3 id="ADXDB-GUID-C9746CD4-C6EC-4EB8-BAAD-7B8579FF3F20" class="sect3"><span class="enumeration_section">31.6 </span>Configuration of Oracle XML&nbsp;DB Servlets
               </h3>
               <div>
                  <p>Oracle XML&nbsp;DB servlets are configured using file <code class="codeph">xdbconfig.xml</code> in Oracle XML&nbsp;DB Repository. Many of the XML elements in this file are the same as those defined by the Java Servlet 2.2 specification portion of Java 2 Enterprise Edition (J2EE), and they have the same semantics. 
                  </p>
                  <div class="section">
                     <p><a href="how-to-write-XML-DB-applications-in-Java.html#GUID-C9746CD4-C6EC-4EB8-BAAD-7B8579FF3F20__G1046987" title="This table describes XML elements defined for servlet deployment descriptors with Oracle XML DB.">Table 31-1</a> lists the XML elements defined for the servlet deployment descriptor by the Java Servlet specification, along with extension elements supported by Oracle XML&nbsp;DB.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformalwide" id="GUID-C9746CD4-C6EC-4EB8-BAAD-7B8579FF3F20__G1046987">
                     <p class="titleintable">Table 31-1 XML Elements Defined for Servlet Deployment Descriptors </p>
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="XML Elements Defined for Servlet Deployment Descriptors " summary="This table describes XML elements defined for servlet deployment descriptors with Oracle XML DB." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="22%" id="d150693e496">XML Element Name</th>
                              <th align="left" valign="bottom" width="12%" id="d150693e499">Defined By</th>
                              <th align="left" valign="bottom" width="13%" id="d150693e502">Supported?</th>
                              <th align="left" valign="bottom" width="32%" id="d150693e505">Description</th>
                              <th align="left" valign="bottom" width="21%" id="d150693e508">Comment</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e513" headers="d150693e496 ">
                                 <p><code class="codeph">auth-method</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e513 d150693e499 ">
                                 <p>Java</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e513 d150693e502 ">
                                 <p>no</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e513 d150693e505 ">
                                 <p>Specifies an HTTP authentication method required for access</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e513 d150693e508 ">
                                 <p>N/A</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e530" headers="d150693e496 ">
                                 <p><code class="codeph">charset</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e530 d150693e499 ">
                                 <p>Oracle</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e530 d150693e502 ">
                                 <p>yes</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e530 d150693e505 ">
                                 <p>Specifies an IANA character set name</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e530 d150693e508 ">
                                 <p>For example: ISO8859, UTF-8</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e547" headers="d150693e496 ">
                                 <p><code class="codeph">charset-mapping</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e547 d150693e499 ">
                                 <p>Oracle</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e547 d150693e502 ">
                                 <p>yes</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e547 d150693e505 ">
                                 <p>Specifies a mapping between a filename extension and a charset</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e547 d150693e508 ">
                                 <p>N/A</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e564" headers="d150693e496 ">
                                 <p><code class="codeph">context-param</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e564 d150693e499 ">
                                 <p>Java</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e564 d150693e502 ">
                                 <p>no</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e564 d150693e505 ">
                                 <p>Specifies a parameter for a Web application</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e564 d150693e508 ">
                                 <p>Not yet supported</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e581" headers="d150693e496 ">
                                 <p><code class="codeph">description</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e581 d150693e499 ">
                                 <p>Java</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e581 d150693e502 ">
                                 <p>yes</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e581 d150693e505 ">
                                 <p>A string for describing a servlet or Web application</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e581 d150693e508 ">
                                 <p>Supported for servlets</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e598" headers="d150693e496 ">
                                 <p><code class="codeph">display-name</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e598 d150693e499 ">
                                 <p>Java</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e598 d150693e502 ">
                                 <p>yes </p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e598 d150693e505 ">
                                 <p>A string to display with a servlet or Web application</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e598 d150693e508 ">
                                 <p>Supported for servlets</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e615" headers="d150693e496 ">
                                 <p><code class="codeph">distributable</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e615 d150693e499 ">
                                 <p>Java</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e615 d150693e502 ">
                                 <p>no</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e615 d150693e505 ">
                                 <p>Indicates whether or not this servlet can function if all instances are not running in the same Java virtual machine</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e615 d150693e508 ">
                                 <p>All servlets running in Oracle Database <span class="italic">must</span> be distributable.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e635" headers="d150693e496 ">
                                 <p><code class="codeph">errnum</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e635 d150693e499 ">
                                 <p>Oracle</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e635 d150693e502 ">
                                 <p>yes</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e635 d150693e505 ">
                                 <p>Oracle error number</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e635 d150693e508 ">
                                 <p>See <a href="../errmg/index.html" target="_blank"><span><cite>Oracle Database Error Messages Reference</cite></span></a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e657" headers="d150693e496 ">
                                 <p><code class="codeph">error-code</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e657 d150693e499 ">
                                 <p>Java</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e657 d150693e502 ">
                                 <p>yes</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e657 d150693e505 ">
                                 <p>HTTP(S) error code</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e657 d150693e508 ">
                                 <p>Defined by RFC 2616</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e674" headers="d150693e496 ">
                                 <p><code class="codeph">error-page</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e674 d150693e499 ">
                                 <p>Java</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e674 d150693e502 ">
                                 <p>yes</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e674 d150693e505 ">
                                 <p>Defines a URL to redirect to if an error is encountered. </p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e674 d150693e508 ">
                                 <p>Can be specified through an HTTP(S) error, an uncaught Java exception, or through an uncaught Oracle error message</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e691" headers="d150693e496 ">
                                 <p><code class="codeph">exception-type</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e691 d150693e499 ">
                                 <p>Java</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e691 d150693e502 ">
                                 <p>yes</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e691 d150693e505 ">
                                 <p>Classname of a Java exception mapped to an error page</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e691 d150693e508 ">
                                 <p>N/A</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e709" headers="d150693e496 ">
                                 <p><code class="codeph">extension</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e709 d150693e499 ">
                                 <p>Java</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e709 d150693e502 ">
                                 <p>yes</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e709 d150693e505 ">
                                 <p>A filename extension used to associate with MIME types, character sets, and so on.</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e709 d150693e508 ">
                                 <p>N/A</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e726" headers="d150693e496 ">
                                 <p><code class="codeph">facility</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e726 d150693e499 ">
                                 <p>Oracle</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e726 d150693e502 ">
                                 <p>yes</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e726 d150693e505 ">
                                 <p>Oracle facility code for mapping error pages</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e726 d150693e508 ">
                                 <p>For example: ORA, PLS, and so on.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e743" headers="d150693e496 ">
                                 <p><code class="codeph">form-error-page</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e743 d150693e499 ">
                                 <p>Java</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e743 d150693e502 ">
                                 <p>no</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e743 d150693e505 ">
                                 <p>Error page for form login attempts</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e743 d150693e508 ">
                                 <p>Not yet supported</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e760" headers="d150693e496 ">
                                 <p><code class="codeph">form-login-config</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e760 d150693e499 ">
                                 <p>Java</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e760 d150693e502 ">
                                 <p>no</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e760 d150693e505 ">
                                 <p>Config spec for form-based login</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e760 d150693e508 ">
                                 <p>Not yet supported</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e777" headers="d150693e496 ">
                                 <p><code class="codeph">form-login-page</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e777 d150693e499 ">
                                 <p>Java</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e777 d150693e502 ">
                                 <p>no</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e777 d150693e505 ">
                                 <p>URL for the form-based login page</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e777 d150693e508 ">
                                 <p>Not yet supported</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e794" headers="d150693e496 ">
                                 <p><code class="codeph">icon</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e794 d150693e499 ">
                                 <p>Java</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e794 d150693e502 ">
                                 <p>Yes</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e794 d150693e505 ">
                                 <p>URL of icon to associate with a servlet</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e794 d150693e508 ">
                                 <p>Supported for servlets</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e811" headers="d150693e496 ">
                                 <p><code class="codeph">init-param</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e811 d150693e499 ">
                                 <p>Java</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e811 d150693e502 ">
                                 <p>Yes</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e811 d150693e505 ">
                                 <p>Initialization parameter for a servlet</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e811 d150693e508 ">
                                 <p>N/A</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e828" headers="d150693e496 ">
                                 <p><code class="codeph">jsp-file</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e828 d150693e499 ">
                                 <p>Java</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e828 d150693e502 ">
                                 <p>No</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e828 d150693e505 ">
                                 <p>Java Server Page file to use for a servlet</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e828 d150693e508 ">
                                 <p>Not supported</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e845" headers="d150693e496 ">
                                 <p><code class="codeph">lang</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e845 d150693e499 ">
                                 <p>Oracle</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e845 d150693e502 ">
                                 <p>Yes</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e845 d150693e505 ">
                                 <p>IANA language name</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e845 d150693e508 ">
                                 <p>For example: en-US</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e862" headers="d150693e496 ">
                                 <p><code class="codeph">lang-mapping</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e862 d150693e499 ">
                                 <p>Oracle</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e862 d150693e502 ">
                                 <p>Yes</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e862 d150693e505 ">
                                 <p>Specifies a mapping between a filename extension and language content</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e862 d150693e508 ">
                                 <p>N/A</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e879" headers="d150693e496 ">
                                 <p><code class="codeph">large-icon</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e879 d150693e499 ">
                                 <p>Java</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e879 d150693e502 ">
                                 <p>Yes</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e879 d150693e505 ">
                                 <p>Large sized icon for icon display</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e879 d150693e508 ">
                                 <p>N/A</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e897" headers="d150693e496 ">
                                 <p><code class="codeph">load-on-startup</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e897 d150693e499 ">
                                 <p>Java</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e897 d150693e502 ">
                                 <p>Yes</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e897 d150693e505 ">
                                 <p>Specifies if a servlet is to be loaded on startup</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e897 d150693e508 ">
                                 <p>N/A</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e914" headers="d150693e496 ">
                                 <p><code class="codeph">location</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e914 d150693e499 ">
                                 <p>Java</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e914 d150693e502 ">
                                 <p>Yes</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e914 d150693e505 ">
                                 <p>Specifies the URL for an error page</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e914 d150693e508 ">
                                 <p>Can be a local path name or HTTP(S) URL</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e931" headers="d150693e496 ">
                                 <p><code class="codeph">login-config</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e931 d150693e499 ">
                                 <p>Java</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e931 d150693e502 ">
                                 <p>No</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e931 d150693e505 ">
                                 <p>Specifies a method for authentication</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e931 d150693e508 ">
                                 <p>Not supported</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e948" headers="d150693e496 ">
                                 <p><code class="codeph">mime-mapping</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e948 d150693e499 ">
                                 <p>Java</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e948 d150693e502 ">
                                 <p>Yes</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e948 d150693e505 ">
                                 <p>Specifies a mapping between filename extension and the MIME type of the content</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e948 d150693e508 ">
                                 <p>N/A</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e965" headers="d150693e496 ">
                                 <p><code class="codeph">mime-type</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e965 d150693e499 ">
                                 <p>Java</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e965 d150693e502 ">
                                 <p>Yes</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e965 d150693e505 ">
                                 <p>MIME type name for resource content</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e965 d150693e508 ">
                                 <p>For example: text/xml or application/octet-stream</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e982" headers="d150693e496 ">
                                 <p><code class="codeph">OracleError</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e982 d150693e499 ">
                                 <p>Oracle</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e982 d150693e502 ">
                                 <p>Yes</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e982 d150693e505 ">
                                 <p>Specifies an Oracle error to associate with an error page</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e982 d150693e508 ">
                                 <p>N/A</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e999" headers="d150693e496 ">
                                 <p><code class="codeph">param-name</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e999 d150693e499 ">
                                 <p>Java</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e999 d150693e502 ">
                                 <p>Yes</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e999 d150693e505 ">
                                 <p>Name of a parameter for a Servlet or <code class="codeph">ServletContext</code></p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e999 d150693e508 ">
                                 <p>Supported for servlets</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e1018" headers="d150693e496 ">
                                 <p><code class="codeph">param-value</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e1018 d150693e499 ">
                                 <p>Java</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e1018 d150693e502 ">
                                 <p>Yes</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e1018 d150693e505 ">
                                 <p>Value of a parameter</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e1018 d150693e508 ">
                                 <p>N/A</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e1035" headers="d150693e496 ">
                                 <p><code class="codeph">realm-name</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e1035 d150693e499 ">
                                 <p>Java</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e1035 d150693e502 ">
                                 <p>No</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e1035 d150693e505 ">
                                 <p>HTTP(S) realm used for authentication</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e1035 d150693e508 ">
                                 <p>Not supported</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e1052" headers="d150693e496 ">
                                 <p><code class="codeph">role-link</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e1052 d150693e499 ">
                                 <p>Java</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e1052 d150693e502 ">
                                 <p>Yes</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e1052 d150693e505 ">
                                 <p>Specifies a role a particular user must have for accessing a servlet</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e1052 d150693e508 ">
                                 <p>Refers to a database role name. Make sure to capitalize by default!</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e1069" headers="d150693e496 ">
                                 <p><code class="codeph">role-name</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e1069 d150693e499 ">
                                 <p>Java</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e1069 d150693e502 ">
                                 <p>Yes</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e1069 d150693e505 ">
                                 <p>A servlet name for a role</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e1069 d150693e508 ">
                                 <p>Just another name to call the database role. Used by the Servlet APIs</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e1087" headers="d150693e496 ">
                                 <p><code class="codeph">security-role</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e1087 d150693e499 ">
                                 <p>Java</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e1087 d150693e502 ">
                                 <p>No</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e1087 d150693e505 ">
                                 <p>Defines a role for a servlet to use</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e1087 d150693e508 ">
                                 <p>Not supported. You must manually create roles using the SQL <code class="codeph">CREATE ROLE</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e1106" headers="d150693e496 ">
                                 <p><code class="codeph">security-role-ref</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e1106 d150693e499 ">
                                 <p>Java</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e1106 d150693e502 ">
                                 <p>Yes</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e1106 d150693e505 ">
                                 <p>A reference between a servlet and a role</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e1106 d150693e508 ">
                                 <p>N/A</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e1123" headers="d150693e496 ">
                                 <p><code class="codeph">servlet</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e1123 d150693e499 ">
                                 <p>Java</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e1123 d150693e502 ">
                                 <p>Yes</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e1123 d150693e505 ">
                                 <p>Configuration information for a servlet</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e1123 d150693e508 ">
                                 <p>N/A</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e1140" headers="d150693e496 ">
                                 <p><code class="codeph">servlet-class</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e1140 d150693e499 ">
                                 <p>Java</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e1140 d150693e502 ">
                                 <p>Yes</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e1140 d150693e505 ">
                                 <p>Specifies the classname for the Java servlet</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e1140 d150693e508 ">
                                 <p>N/A</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e1157" headers="d150693e496 ">
                                 <p><code class="codeph">servlet-language</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e1157 d150693e499 ">
                                 <p>Oracle</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e1157 d150693e502 ">
                                 <p>Yes</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e1157 d150693e505 ">
                                 <p>Specifies the programming language in which the servlet is written.</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e1157 d150693e508 ">
                                 <p>Either Java, C, or PL/SQL. Currently, only Java is supported for customer-defined servlets.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e1174" headers="d150693e496 ">
                                 <p><code class="codeph">servlet-mapping</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e1174 d150693e499 ">
                                 <p>Java</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e1174 d150693e502 ">
                                 <p>Yes</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e1174 d150693e505 ">
                                 <p>Specifies a filename pattern with which to associate the servlet</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e1174 d150693e508 ">
                                 <p>All of the mappings defined by Java are supported</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e1191" headers="d150693e496 ">
                                 <p><code class="codeph">servlet-name</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e1191 d150693e499 ">
                                 <p>Java</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e1191 d150693e502 ">
                                 <p>Yes</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e1191 d150693e505 ">
                                 <p>String name for a servlet</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e1191 d150693e508 ">
                                 <p>Used by servlet APIs</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e1208" headers="d150693e496 ">
                                 <p><code class="codeph">servlet-schema</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e1208 d150693e499 ">
                                 <p>Oracle</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e1208 d150693e502 ">
                                 <p>Yes</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e1208 d150693e505 ">
                                 <p>The Oracle Schema in which the Java class is loaded. If not specified, then the schema is searched using the default resolver specification.</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e1208 d150693e508 ">
                                 <p>If this is not specified, then the servlet must be loaded into the <code class="codeph">SYS</code> schema to ensure that everyone can access it, or the default Java class resolver must be altered. The servlet schema is capitalized unless the value is enclosed in double quotation marks.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e1228" headers="d150693e496 ">
                                 <p><code class="codeph">session-config</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e1228 d150693e499 ">
                                 <p>Java</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e1228 d150693e502 ">
                                 <p>No</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e1228 d150693e505 ">
                                 <p>Configuration information for an <code class="codeph">HTTPSession</code></p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e1228 d150693e508 ">
                                 <p><code class="codeph">HTTPSession</code> is not supported
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e1249" headers="d150693e496 ">
                                 <p><code class="codeph">session-timeout</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e1249 d150693e499 ">
                                 <p>Java</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e1249 d150693e502 ">
                                 <p>No</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e1249 d150693e505 ">
                                 <p>Timeout for an HTTP(S) session</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e1249 d150693e508 ">
                                 <p><code class="codeph">HTTPSession</code> is not supported
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e1268" headers="d150693e496 ">
                                 <p><code class="codeph">small-icon</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e1268 d150693e499 ">
                                 <p>Java</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e1268 d150693e502 ">
                                 <p>Yes</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e1268 d150693e505 ">
                                 <p>Small icon to associate with a servlet</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e1268 d150693e508 ">
                                 <p>N/A</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e1286" headers="d150693e496 ">
                                 <p><code class="codeph">taglib</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e1286 d150693e499 ">
                                 <p>Java</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e1286 d150693e502 ">
                                 <p>No</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e1286 d150693e505 ">
                                 <p>JSP tag library</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e1286 d150693e508 ">
                                 <p>JSPs currently not supported</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e1303" headers="d150693e496 ">
                                 <p><code class="codeph">taglib-uri</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e1303 d150693e499 ">
                                 <p>Java</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e1303 d150693e502 ">
                                 <p>No</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e1303 d150693e505 ">
                                 <p>URI for JSP tag library description file relative to file <code class="codeph">web.xml</code></p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e1303 d150693e508 ">
                                 <p>JSPs currently not supported</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e1322" headers="d150693e496 ">
                                 <p><code class="codeph">taglib-location</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e1322 d150693e499 ">
                                 <p>Java</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e1322 d150693e502 ">
                                 <p>No</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e1322 d150693e505 ">
                                 <p>Path name relative to the root of the Web application where the tag library is stored</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e1322 d150693e508 ">
                                 <p>JSPs currently not supported</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e1339" headers="d150693e496 ">
                                 <p><code class="codeph">url-pattern</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e1339 d150693e499 ">
                                 <p>Java</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e1339 d150693e502 ">
                                 <p>Yes</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e1339 d150693e505 ">
                                 <p>URL pattern to associate with a servlet</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e1339 d150693e508 ">
                                 <p>See Section 10 of Java Servlet 2.2 spec</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e1356" headers="d150693e496 ">
                                 <p><code class="codeph">web-app</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e1356 d150693e499 ">
                                 <p>Java</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e1356 d150693e502 ">
                                 <p>No</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e1356 d150693e505 ">
                                 <p>Configuration for a Web application</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e1356 d150693e508 ">
                                 <p>Only one Web application is currently supported</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e1373" headers="d150693e496 ">
                                 <p><code class="codeph">welcome-file</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e1373 d150693e499 ">
                                 <p>Java</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e1373 d150693e502 ">
                                 <p>Yes</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e1373 d150693e505 ">
                                 <p>Specifies a welcome-file name</p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e1373 d150693e508 ">
                                 <p>N/A</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d150693e1390" headers="d150693e496 ">
                                 <p><code class="codeph">welcome-file-list</code></p>
                              </td>
                              <td align="left" valign="top" width="12%" headers="d150693e1390 d150693e499 ">
                                 <p>Java</p>
                              </td>
                              <td align="left" valign="top" width="13%" headers="d150693e1390 d150693e502 ">
                                 <p>Yes</p>
                              </td>
                              <td align="left" valign="top" width="32%" headers="d150693e1390 d150693e505 ">
                                 <p>Defines a list of files to display when a folder is referenced through an HTTP <code class="codeph">GET</code> request
                                 </p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d150693e1390 d150693e508 ">
                                 <p>Example: <code class="codeph">index.html</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <div class="infoboxnote" id="GUID-C9746CD4-C6EC-4EB8-BAAD-7B8579FF3F20__GUID-822AE802-17B8-4F15-AB3A-661E431DD55B">
                        <p class="notep1">Note:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The following parameters defined for the <code class="codeph">web.xml</code> file by Java are usable only by J2EE-compliant Enterprise Java Bean containers, and are not required for Java Servlet containers that do not support a full J2EE environment: <code class="codeph">env-entry</code>, <code class="codeph">env-entry-name</code>, <code class="codeph">env-entry-value</code>, <code class="codeph">env-entry-type</code>, <code class="codeph">ejb-ref</code>, <code class="codeph">ejb-ref-type</code>, <code class="codeph">home</code>, <code class="codeph">remote</code>, <code class="codeph">ejb-link</code>, <code class="codeph">resource-ref</code>, <code class="codeph">res-ref-name</code>, <code class="codeph">res-type</code>, <code class="codeph">res-auth</code>.
                              </p>
                           </li>
                           <li>
                              <p>The following elements are used to define access control for resources: <code class="codeph">security-constraint</code>, <code class="codeph">web-resource-collection</code>, <code class="codeph">web-resource-name</code>, <code class="codeph">http-method</code>, <code class="codeph">user-data-constraint</code>, <code class="codeph">transport-guarantee</code>, <code class="codeph">auth-constrain</code>. Oracle XML&nbsp;DB provides this functionality through access control lists (ACLs). An ACL is a list of access control entries (ACEs) that determines which principals have access to a given resource or resources. A future release will support using a <code class="codeph">web.xml</code> file to generate ACLs.
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section"></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="administration-of-XML-DB.html#GUID-D1551B64-4A75-44CD-AA04-0A68018410AE" title="Oracle XML&nbsp;DB is managed internally through a configuration file, xdbconfig.xml, which is stored as a resource in Oracle XML&nbsp;DB Repository. As an alternative to using Oracle Enterprise Manager to configure Oracle XML&nbsp;DB, you can configure it directly using the Oracle XML&nbsp;DB configuration file.">Configuration of Oracle XML&nbsp;DB Using xdbconfig.xml</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="how-to-write-XML-DB-applications-in-Java.html#GUID-C6EABC36-3FA8-4A82-B940-C20A01D8F586" title="Design guidelines are presented for writing Oracle XML&nbsp;DB applications in Java. This includes guidelines for writing and configuring Java servlets for Oracle XML&nbsp;DB.">Guidelines for Oracle XML&nbsp;DB Applications in Java</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADXDB5668"></a><div class="props_rev_3"><a id="GUID-D0CB2FA0-6BF4-4AF0-B61B-A7EE0A6AFDE8" name="GUID-D0CB2FA0-6BF4-4AF0-B61B-A7EE0A6AFDE8"></a><h3 id="ADXDB-GUID-D0CB2FA0-6BF4-4AF0-B61B-A7EE0A6AFDE8" class="sect3"><span class="enumeration_section">31.7 </span>HTTP Request Processing for Oracle XML&nbsp;DB Servlets
               </h3>
               <div>
                  <p>Oracle XML&nbsp;DB processing of an HTTP request is described.</p>
                  <div class="section">
                     <p>HTTP request handling proceeds as follows:</p>
                     <ol>
                        <li>
                           <p>If a connection has not yet been established, then Oracle Listener hands the connection to a shared server dispatcher.</p>
                        </li>
                        <li>
                           <p>When a new HTTP request arrives, the dispatcher wakes up a shared server.</p>
                        </li>
                        <li>
                           <p>The HTTP headers are parsed into appropriate structures.</p>
                        </li>
                        <li>
                           <p>The shared server attempts to allocate a database session from the Oracle XML&nbsp;DB session pool, if available, but otherwise creates a new session.</p>
                        </li>
                        <li>
                           <p>A new database call and a new database transaction are started.</p>
                        </li>
                        <li>
                           <p>If HTTP(S) has included authentication headers, then the session is authenticated as that database user (just as if the user logged into SQL*Plus). If no authentication information is included, and the request is <code class="codeph">GET</code> or <code class="codeph">HEAD</code>, then Oracle XML&nbsp;DB attempts to authenticate the session as the <code class="codeph">ANONYMOUS</code> user. If that database user account is locked, then no unauthenticated access is allowed.
                           </p>
                        </li>
                        <li>
                           <p>The URL in the HTTP request is matched against the servlets in the <code class="codeph">xdbconfig.xml</code> file, as specified by the Java Servlet 2.2 specification.
                           </p>
                        </li>
                        <li>
                           <p>The Oracle XML&nbsp;DB Servlet container is invoked in the Java VM inside Oracle. If the specified servlet has not been initialized yet, then the servlet is initialized.</p>
                        </li>
                        <li>
                           <p>The Servlet reads input from the <code class="codeph">ServletInputStream</code>, and writes output to the <code class="codeph">ServletOutputStream</code>, and returns from method <code class="codeph">service()</code>.
                           </p>
                        </li>
                        <li>
                           <p>If no uncaught Oracle error occurred, then the session is put back into the session pool.</p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section"></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="repository-access-using-protocols.html#GUID-0476309D-E3DF-4C56-BF21-68CD04D00C98" title="You can access Oracle XML&nbsp;DB Repository data using protocols FTP and HTTP(S)/WebDAV.">Repository Access Using Protocols</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="how-to-write-XML-DB-applications-in-Java.html#GUID-C6EABC36-3FA8-4A82-B940-C20A01D8F586" title="Design guidelines are presented for writing Oracle XML&nbsp;DB applications in Java. This includes guidelines for writing and configuring Java servlets for Oracle XML&nbsp;DB.">Guidelines for Oracle XML&nbsp;DB Applications in Java</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADXDB5669"></a><div class="props_rev_3"><a id="GUID-29D7F0DB-8A8B-4E93-A8B8-DB7BD2DD6B18" name="GUID-29D7F0DB-8A8B-4E93-A8B8-DB7BD2DD6B18"></a><h3 id="ADXDB-GUID-29D7F0DB-8A8B-4E93-A8B8-DB7BD2DD6B18" class="sect3"><span class="enumeration_section">31.8 </span>Session Pool and Oracle XML&nbsp;DB Servlets
               </h3>
               <div>
                  <p>Oracle Database uses one Java virtual machine (VM) for each database session. A session that is reused from the session pool retains any state that is left over in the Java VM (Java static variables) from the last time that session was used. </p>
                  <p>This can be useful in caching Java state that is not user-specific, such as metadata, but do not store secure user data in Java static memory. This could turn into a security hole inadvertently introduced by your application if you are not careful.</p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="how-to-write-XML-DB-applications-in-Java.html#GUID-C6EABC36-3FA8-4A82-B940-C20A01D8F586" title="Design guidelines are presented for writing Oracle XML&nbsp;DB applications in Java. This includes guidelines for writing and configuring Java servlets for Oracle XML&nbsp;DB.">Guidelines for Oracle XML&nbsp;DB Applications in Java</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADXDB5670"></a><div class="props_rev_3"><a id="GUID-10395787-6109-4B0C-A8A4-6DF931B6504B" name="GUID-10395787-6109-4B0C-A8A4-6DF931B6504B"></a><h3 id="ADXDB-GUID-10395787-6109-4B0C-A8A4-6DF931B6504B" class="sect3"><span class="enumeration_section">31.9 </span>Native XML Stream Support
               </h3>
               <div>
                  <p>Java node class <code class="codeph">DOM</code> has Oracle-specific method <code class="codeph">write()</code>, which provides native XML stream support.
                  </p>
                  <p>Java method <code class="codeph">write()</code> takes the following arguments and returns <code class="codeph">void</code>:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><code class="codeph">java.io.OutputStream</code> stream: A Java stream for writing the XML text.
                        </p>
                     </li>
                     <li>
                        <p>String <code class="codeph">charEncoding</code>: The character encoding for writing the XML text. If <code class="codeph">NULL</code>, then the database character set is used.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">Short</code> <code class="codeph">indent</code> The number of characters to indent nested XML elements.
                        </p>
                     </li>
                  </ul>
                  <p>Method <code class="codeph">write()</code> has a shortcut implementation if the stream is the <code class="codeph">ServletOutputStream</code> provided inside the database. The contents of the Node are written as XML data in native code directly to the output socket. This bypasses any conversions into and out of Java objects or Unicode (required for Java strings), and provides very high performance.
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="how-to-write-XML-DB-applications-in-Java.html#GUID-C6EABC36-3FA8-4A82-B940-C20A01D8F586" title="Design guidelines are presented for writing Oracle XML&nbsp;DB applications in Java. This includes guidelines for writing and configuring Java servlets for Oracle XML&nbsp;DB.">Guidelines for Oracle XML&nbsp;DB Applications in Java</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADXDB5672"></a><a id="ADXDB5671"></a><div class="props_rev_3"><a id="GUID-4F9297F2-C114-40FA-9F1E-E898D2ABE548" name="GUID-4F9297F2-C114-40FA-9F1E-E898D2ABE548"></a><h3 id="ADXDB-GUID-4F9297F2-C114-40FA-9F1E-E898D2ABE548" class="sect3"><span class="enumeration_section">31.10 </span>Oracle XML&nbsp;DB Servlet APIs
               </h3>
               <div>
                  <p>The APIs supported by Oracle XML&nbsp;DB servlets are described. They are defined by the Java Servlet 2.2 specification. </p>
                  <div class="section">
                     <p>The <code class="codeph">Javadoc</code> for this is available at <a href="http://download.oracle.com/javaee/1.2.1/api/index.html" target="_blank"><code class="codeph">http://download.oracle.com/javaee/1.2.1/api/index.html</code></a>.
                     </p>
                     <p><a href="how-to-write-XML-DB-applications-in-Java.html#GUID-4F9297F2-C114-40FA-9F1E-E898D2ABE548__G1047307" title="This table describes non-implemented Java 2.2 methods in Oracle XML DB.">Table 31-2</a> lists Java Servlet 2.2 methods that are not implemented. They result in run-time exceptions.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-4F9297F2-C114-40FA-9F1E-E898D2ABE548__G1047307">
                     <p class="titleintable">Table 31-2 Java Servlet 2.2 Methods that Are Not Implemented</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Java Servlet 2.2 Methods that Are Not Implemented" summary="This table describes non-implemented Java 2.2 methods in Oracle XML DB." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="42%" id="d150693e1803">Interface</th>
                              <th align="left" valign="bottom" width="58%" id="d150693e1806">Methods Not Implemented</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="42%" id="d150693e1811" headers="d150693e1803 "><pre class="oac_no_warn" dir="ltr">HttpServletRequest</pre></td>
                              <td align="left" valign="top" width="58%" headers="d150693e1811 d150693e1806 ">
                                 <p><code class="codeph">getSession(), isRequestedSessionIdValid() </code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="42%" id="d150693e1819" headers="d150693e1803 "><pre class="oac_no_warn" dir="ltr">HttpSession</pre></td>
                              <td align="left" valign="top" width="58%" headers="d150693e1819 d150693e1806 ">
                                 <p>all</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="42%" id="d150693e1826" headers="d150693e1803 "><pre class="oac_no_warn" dir="ltr">HttpSessionBindingListener</pre></td>
                              <td align="left" valign="top" width="58%" headers="d150693e1826 d150693e1806 ">
                                 <p>all</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="how-to-write-XML-DB-applications-in-Java.html#GUID-C6EABC36-3FA8-4A82-B940-C20A01D8F586" title="Design guidelines are presented for writing Oracle XML&nbsp;DB applications in Java. This includes guidelines for writing and configuring Java servlets for Oracle XML&nbsp;DB.">Guidelines for Oracle XML&nbsp;DB Applications in Java</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADXDB5674"></a><a id="ADXDB5675"></a><a id="ADXDB5673"></a><div class="props_rev_3"><a id="GUID-5C7CABF3-C992-4F84-AB07-200041CB0317" name="GUID-5C7CABF3-C992-4F84-AB07-200041CB0317"></a><h3 id="ADXDB-GUID-5C7CABF3-C992-4F84-AB07-200041CB0317" class="sect3"><span class="enumeration_section">31.11 </span>Oracle XML&nbsp;DB Servlet Example
               </h3>
               <div>
                  <p>Examples show the definition of a simple Oracle XML&nbsp;DB servlet that prints the content of a file resource, and how to register and map that servlet.</p>
                  <div class="section">
                     <p>The servlet shown in <a href="how-to-write-XML-DB-applications-in-Java.html#GUID-5C7CABF3-C992-4F84-AB07-200041CB0317__CDDBAJFH">Example 31-1</a> prints the content of file resource <code class="codeph">/public/test/foo1.text</code>.
                     </p>
                     <p>To install the servlet, you compile it, then load it into Oracle Database:</p><pre class="pre codeblock"><code>% loadjava &#x2013;grant public &#x2013;u quine/curry &#x2013;r test.class
</code></pre><p>Finally, register and map the servlet, associating it with a URL, as shown in <a href="how-to-write-XML-DB-applications-in-Java.html#GUID-5C7CABF3-C992-4F84-AB07-200041CB0317__CDDCAHIA">Example 31-2</a>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-5C7CABF3-C992-4F84-AB07-200041CB0317__CDDBAJFH">
                     <p class="titleinexample">Example 31-1 An Oracle XML&nbsp;DB Servlet</p><pre class="pre codeblock"><code>import javax.servlet.http.*;
import javax.servlet.*;
import java.util.*;
import java.io.*;
import java.util.*;
import java.io.IOException;
import java.io.OutputStreamWriter;
import java.io.Reader;
import java.io.Writer;
import java.sql.DriverManager;
import java.sql.SQLException;
import oracle.jdbc.OracleConnection;
import oracle.jdbc.OracleDriver;
import oracle.jdbc.OraclePreparedStatement;
import oracle.jdbc.OracleResultSet;
import oracle.sql.CLOB;
import oracle.xdb.XMLType;
import oracle.xdb.spi.XDBResource;
 
public class test extends HttpServlet {
  public void doGet(HttpServletRequest request, HttpServletResponse response)
    throws ServletException,
           IOException {
      try {
        try {
          // Get the database connection for the current HTTP session
          DriverManager.registerDriver(new oracle.jdbc.OracleDriver());
          OracleDriver ora = new OracleDriver();
          OracleConnection databaseConnection =
            (OracleConnection) ora.defaultConnection();
          String statementText =
            "SELECT XDBURIType('/public/test/foo1.txt').getClob() FROM DUAL";
          OraclePreparedStatement statement =
            (OraclePreparedStatement)
            databaseConnection.prepareStatement(statementText);
          OracleResultSet resultSet = null;
          CLOB content = null;
          // Execute the statement
          resultSet = (OracleResultSet) statement.executeQuery();
          while (resultSet.next())
            {// The statement returns a CLOB.
             // Copy content of CLOB to server's output stream.
             content = resultSet.getCLOB(1);
             Reader reader = content.getCharacterStream();
             Writer writer =
               new OutputStreamWriter(response.getOutputStream());
             int bytesSent = 0;
             int n;
             char[] buffer = new char[CLOB.MAX_CHUNK_SIZE];
             while (-1 != (n = reader.read(buffer)))
               { bytesSent = bytesSent + n;
                 writer.write(buffer, 0, n); }
             writer.flush();
             if (content.isOpen()) { content.close(); }}
          resultSet.close();
          statement.close();
          databaseConnection.close();
          response.getOutputStream().write('\n'); }
        catch (SQLException sql)
          { throw new ServletException(sql); }}
      catch (ServletException se )
        { se.printStackTrace(); }
      finally
        { System.out.flush(); }}}
</code></pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-5C7CABF3-C992-4F84-AB07-200041CB0317__CDDCAHIA">
                     <p class="titleinexample">Example 31-2 Registering and Mapping an Oracle XML&nbsp;DB Servlet</p><pre class="pre codeblock"><code>EXEC DBMS_XDB_CONFIG.addServlet('TestServletFoo', 'Java', 'TestServletFoo',
                                NULL, NULL, 'test', NULL, NULL, 'XDB');

EXEC DBMS_XDB_CONFIG.addServletMapping('/public/test/foo1.txt', 'TestServletFoo');

COMMIT;</code></pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="how-to-write-XML-DB-applications-in-Java.html#GUID-C6EABC36-3FA8-4A82-B940-C20A01D8F586" title="Design guidelines are presented for writing Oracle XML&nbsp;DB applications in Java. This includes guidelines for writing and configuring Java servlets for Oracle XML&nbsp;DB.">Guidelines for Oracle XML&nbsp;DB Applications in Java</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html><html id='00022.example-for-PSBTREE-extensible-indexing.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>PSBTREE: Extensible Indexing Example</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Data Cartridge Developer's Guide">
      <meta property="og:description" content>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Data Cartridge Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="data-cartridge-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-10T07:34:53-08:00">
      <meta name="dcterms.title" content="Data Cartridge Developer's Guide">
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96431-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="example-for-power-demand-cartridge.html" title="Previous" type="text/html">
      <link rel="next" href="example-for-pipelined-table-functions-interface-approach.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="ADDCI">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="example-for-power-demand-cartridge.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="example-for-pipelined-table-functions-interface-approach.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Data Cartridge Developer's Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="scenarios-and-examples.html" property="item" typeof="WebPage"><span property="name">Scenarios and Examples</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">PSBTREE: Extensible Indexing Example</li>
            </ol>
            <a id="GUID-BCF6B1CB-56CD-458D-8D27-79281119E9CF" name="GUID-BCF6B1CB-56CD-458D-8D27-79281119E9CF"></a><a id="ADDCI3160"></a>
            
            <h2 id="ADDCI-GUID-BCF6B1CB-56CD-458D-8D27-79281119E9CF" class="sect2"><span class="enumeration_chapter">16 </span>PSBTREE: Extensible Indexing Example
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This an example of extensible indexing, with C-language implementation of <code class="codeph">ODCIIndex</code> interface routines.
               </p>
            </div><a id="ADDCI4877"></a><div class="props_rev_3"><a id="GUID-8EC65F3C-3BD1-4A8F-B270-39E6D7BFA31D" name="GUID-8EC65F3C-3BD1-4A8F-B270-39E6D7BFA31D"></a><h3 id="ADDCI-GUID-8EC65F3C-3BD1-4A8F-B270-39E6D7BFA31D" class="sect3"><span class="enumeration_section">16.1 </span>About the PSBTREE Example
               </h3>
               <div>
                  <div class="section">
                     <p>Consider how to implement the extensible indexing interface routines in C. The example's focus is on topics that are common to all implementations; it does not expose domain-specific details. </p>
                     <p>The code for the example is in the demo directory, in the file <code class="codeph">extdemo6.sql</code>. It extends an earlier example (<code class="codeph">extdemo2.sql</code>, also in demo directory) by adding to the indextype support for <a id="d56830e120" class="indexterm-anchor"></a>local domain indexes on range partitioned tables.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ADDCI4878"></a><div class="props_rev_3"><a id="GUID-C41EDFE2-4E3F-4AED-8A60-B87FFB8100EE" name="GUID-C41EDFE2-4E3F-4AED-8A60-B87FFB8100EE"></a><h3 id="ADDCI-GUID-C41EDFE2-4E3F-4AED-8A60-B87FFB8100EE" class="sect3"><span class="enumeration_section">16.2 </span>Design of the Indextype
               </h3>
               <div>
                  <p>The <a id="d56830e178" class="indexterm-anchor"></a>indextype implemented here, called <code class="codeph">PSBtree,</code> operates like a b-tree index. It supports three user-defined operators: <code class="codeph">eq</code> (equals), <code class="codeph">lt</code> (less than), and <code class="codeph">gt</code> (greater than). These operators operate on operands of <code class="codeph">VARCHAR2</code> data type. 
                  </p>
                  <p>The index data consists of records of the form <code class="codeph">&lt;key, rid&gt;</code> where <code class="codeph">key</code> is the value of the indexed column and <code class="codeph">rid</code> is the row identifier of the corresponding row. To simplify the implementation of the indextype, the index data is stored in an system-partitioned table. 
                  </p>
                  <p>When an index is a system-managed local domain index, one partition in a system-partitioned table is created for each partition to store the index data for that partition. Thus, the index manipulation routines merely translate operations on the <code class="codeph">PSBtree</code> into operations on the table partition that stores the index data. 
                  </p>
                  <p>When a user creates a <code class="codeph">PSBtree</code> index (a local index), <code class="codeph">n</code> table partitions are created consisting of the indexed column and a <code class="codeph">rowid</code> column, where <code class="codeph">n</code> is the number of partitions in the base table. Inserts into the base table cause appropriate insertions into the affected index table partition. Deletes and updates are handled similarly. When the <code class="codeph">PSBtree</code> is queried based on a user-defined operator (one of <code class="codeph">gt</code>, <code class="codeph">lt</code> and <code class="codeph">eq</code>), an appropriate query is issued against the index table partitions to retrieve all the satisfying rows. Appropriate partition pruning occurs, and only the index table partitions that correspond to the relevant, or "interesting", partitions are accessed. 
                  </p>
               </div>
            </div><a id="ADDCI4879"></a><div class="props_rev_3"><a id="GUID-3F0EC8EC-1286-4F39-AF1B-931E2F9BE56F" name="GUID-3F0EC8EC-1286-4F39-AF1B-931E2F9BE56F"></a><h3 id="ADDCI-GUID-3F0EC8EC-1286-4F39-AF1B-931E2F9BE56F" class="sect3"><span class="enumeration_section">16.3 </span>Implementing Operators
               </h3>
               <div>
                  <p>The <code class="codeph">PSBtree</code> indextype supports three operators: <code class="codeph">eq</code>, <code class="codeph">gt</code> and <code class="codeph">lt</code>. Each operator has a corresponding functional implementation.
                  </p>
               </div><a id="ADDCI4880"></a><div class="props_rev_3"><a id="GUID-72B9F965-1889-44D6-A0E7-27868DAAF155" name="GUID-72B9F965-1889-44D6-A0E7-27868DAAF155"></a><h4 id="ADDCI-GUID-72B9F965-1889-44D6-A0E7-27868DAAF155" class="sect4"><span class="enumeration_section">16.3.1 </span>Functional Implementations
                  </h4>
                  <div>
                     <p>Consider the functional implementation of comparison operators. The <a href="example-for-PSBTREE-extensible-indexing.html#GUID-7BE87A0B-B67C-4302-970D-A0765D06E29B">Implementing the EQUALS Operator</a> section explains how to implement <code class="codeph">eq</code> (equals), the <a href="example-for-PSBTREE-extensible-indexing.html#GUID-9D34953A-1B52-47E5-88CE-95BD3629FDDF">Implementing the LESS THAN Operator</a> section explains how to implement <code class="codeph">lt</code> (less than), and the <a href="example-for-PSBTREE-extensible-indexing.html#GUID-5AA6096E-0070-4A1D-BB89-8063B55FB242">Implementing the GREATER THAN Operator</a> section explains how to implement <code class="codeph">gt</code> (greater than) operators.
                     </p>
                  </div><a id="CACFGDEF"></a><div class="props_rev_3"><a id="GUID-7BE87A0B-B67C-4302-970D-A0765D06E29B" name="GUID-7BE87A0B-B67C-4302-970D-A0765D06E29B"></a><h5 id="ADDCI-GUID-7BE87A0B-B67C-4302-970D-A0765D06E29B" class="sect5"><span class="enumeration_section">16.3.1.1 </span>Implementing the EQUALS Operator
                     </h5>
                     <div>
                        <div class="section">
                           <p>The functional implementation for <code class="codeph">eq</code> is provided by a function (<code class="codeph">bt_eq</code>) that takes in two <code class="codeph">VARCHAR2</code> parameters and returns <code class="codeph">1</code> if they are equal and <code class="codeph">0</code> otherwise. 
                           </p><pre class="oac_no_warn" dir="ltr">CREATE FUNCTION bt_eq(a VARCHAR2, b VARCHAR2) RETURN NUMBER AS
BEGIN 
&nbsp;&nbsp;IF a = b then
&nbsp;&nbsp;&nbsp;&nbsp;RETURN 1;
&nbsp;&nbsp;ELSE
&nbsp;&nbsp;&nbsp;&nbsp;RETURN 0;
&nbsp;&nbsp;END IF;
END;</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="CACBEEIH"></a><div class="props_rev_3"><a id="GUID-9D34953A-1B52-47E5-88CE-95BD3629FDDF" name="GUID-9D34953A-1B52-47E5-88CE-95BD3629FDDF"></a><h5 id="ADDCI-GUID-9D34953A-1B52-47E5-88CE-95BD3629FDDF" class="sect5"><span class="enumeration_section">16.3.1.2 </span>Implementing the LESS THAN Operator
                     </h5>
                     <div>
                        <div class="section">
                           <p>The functional implementation for <code class="codeph">lt</code> is provided by a function (<code class="codeph">bt_lt</code>) that takes in two <code class="codeph">VARCHAR2</code> parameters and returns <code class="codeph">1</code> if the first parameter is less than the second, <code class="codeph">0</code> otherwise. 
                           </p><pre class="oac_no_warn" dir="ltr">CREATE FUNCTION bt_lt(a VARCHAR2, b VARCHAR2) RETURN NUMBER AS
BEGIN 
&nbsp;&nbsp;IF a &lt; b then
&nbsp;&nbsp;&nbsp;&nbsp;RETURN 1;
&nbsp;&nbsp;ELSE
&nbsp;&nbsp;&nbsp;&nbsp;RETURN 0;
&nbsp;&nbsp;END IF;
END;</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="CACDGGHF"></a><div class="props_rev_3"><a id="GUID-5AA6096E-0070-4A1D-BB89-8063B55FB242" name="GUID-5AA6096E-0070-4A1D-BB89-8063B55FB242"></a><h5 id="ADDCI-GUID-5AA6096E-0070-4A1D-BB89-8063B55FB242" class="sect5"><span class="enumeration_section">16.3.1.3 </span>Implementing the GREATER THAN Operator
                     </h5>
                     <div>
                        <div class="section">
                           <p>The functional implementation for <code class="codeph">gt</code> is provided by a function (<code class="codeph">bt_gt</code>) that takes in two <code class="codeph">VARCHAR2</code> parameters and returns <code class="codeph">1</code> if the first parameter is greater than the second, <code class="codeph">0</code> otherwise. 
                           </p><pre class="oac_no_warn" dir="ltr">CREATE FUNCTION bt_gt(a VARCHAR2, b VARCHAR2) RETURN NUMBER AS
BEGIN 
&nbsp;&nbsp;IF a &gt; b then
&nbsp;&nbsp;&nbsp;&nbsp;RETURN 1;
&nbsp;&nbsp;ELSE
&nbsp;&nbsp;&nbsp;&nbsp;RETURN 0;
&nbsp;&nbsp;END IF;
END;</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="ADDCI4885"></a><a id="ADDCI4886"></a><a id="ADDCI4887"></a><a id="ADDCI4884"></a><div class="props_rev_3"><a id="GUID-F1A45ABC-3ED1-404A-93BA-57352F3E0C7B" name="GUID-F1A45ABC-3ED1-404A-93BA-57352F3E0C7B"></a><h4 id="ADDCI-GUID-F1A45ABC-3ED1-404A-93BA-57352F3E0C7B" class="sect4"><span class="enumeration_section">16.3.2 </span>Operators
                  </h4>
                  <div>
                     <p>To create the operator, you must specify the signature of the operator along with its return type and its functional implementation. <a href="example-for-PSBTREE-extensible-indexing.html#GUID-F1A45ABC-3ED1-404A-93BA-57352F3E0C7B__CACGHFEC">Example 16-1</a> shows how to create <code class="codeph">eq</code> (equals), <a href="example-for-PSBTREE-extensible-indexing.html#GUID-F1A45ABC-3ED1-404A-93BA-57352F3E0C7B__CACDBEEI">Example 16-2</a> shows how to create <code class="codeph">lt</code> (less than), and <a href="example-for-PSBTREE-extensible-indexing.html#GUID-F1A45ABC-3ED1-404A-93BA-57352F3E0C7B__CACHCAHE">Example 16-3</a> shows how to create <code class="codeph">gt</code> (greater than) operators.
                     </p>
                     <div class="example" id="GUID-F1A45ABC-3ED1-404A-93BA-57352F3E0C7B__CACGHFEC">
                        <p class="titleinexample">Example 16-1 Creating the EQUALS Operator</p><pre class="oac_no_warn" dir="ltr">CREATE OPERATOR eq 
BINDING (VARCHAR2, VARCHAR2) RETURN NUMBER 
USING bt_eq;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-F1A45ABC-3ED1-404A-93BA-57352F3E0C7B__CACDBEEI">
                        <p class="titleinexample">Example 16-2 Creating the LESS THAN Operator</p><pre class="oac_no_warn" dir="ltr">CREATE OPERATOR lt 
BINDING (VARCHAR2, VARCHAR2) RETURN NUMBER 
USING bt_lt;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-F1A45ABC-3ED1-404A-93BA-57352F3E0C7B__CACHCAHE">
                        <p class="titleinexample">Example 16-3 Creating the GREATER THAN Operator</p><pre class="oac_no_warn" dir="ltr">CREATE OPERATOR gt 
BINDING (VARCHAR2, VARCHAR2) RETURN NUMBER 
USING bt_gt;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="ADDCI4888"></a><div class="props_rev_3"><a id="GUID-F76F035E-4432-4555-9039-2E66E064D67E" name="GUID-F76F035E-4432-4555-9039-2E66E064D67E"></a><h3 id="ADDCI-GUID-F76F035E-4432-4555-9039-2E66E064D67E" class="sect3"><span class="enumeration_section">16.4 </span>Implementing the ODCIIndex Interfaces
               </h3>
               <div>
                  <p>To implement the <code class="codeph">PSBTREE</code>, you must implement the <code class="codeph">ODCIIndex</code><span class="italic"><code class="codeph">XXX</code></span><code class="codeph">()</code> routines. You can implement the index routines in any language supported by Oracle. This discussion implements the <a href="extensible-indexing-interface.html#GUID-28AC1C1B-6B6B-446F-A6C9-EEF4A4842D5F">ODCIGetInterfaces()</a> routine in the C programming language. Note that these require advance setup, such as creating a library object, <code class="codeph">extdemo6l</code>, for your compiled C code.
                  </p>
               </div><a id="ADDCI4890"></a><a id="ADDCI4889"></a><div class="props_rev_3"><a id="GUID-3EFF8FF0-A7EB-4BA8-9BFE-A3B25787BAC1" name="GUID-3EFF8FF0-A7EB-4BA8-9BFE-A3B25787BAC1"></a><h4 id="ADDCI-GUID-3EFF8FF0-A7EB-4BA8-9BFE-A3B25787BAC1" class="sect4"><span class="enumeration_section">16.4.1 </span>Defining an Implementation Type for PSBTREE
                  </h4>
                  <div>
                     <div class="section">
                        <p>Define an implementation type that implements the <code class="codeph">ODCIIndex</code> interface routines, as demonstrated in <a href="example-for-PSBTREE-extensible-indexing.html#GUID-3EFF8FF0-A7EB-4BA8-9BFE-A3B25787BAC1__CACCEJJA">Example 16-4</a>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-3EFF8FF0-A7EB-4BA8-9BFE-A3B25787BAC1__CACCEJJA">
                        <p class="titleinexample">Example 16-4 Creating a PSBTREE Index Type</p><pre class="oac_no_warn" dir="ltr">CREATE TYPE psbtree_im AUTHID CURRENT_USER AS OBJECT
(
&nbsp;&nbsp;scanctx RAW(4),
&nbsp;&nbsp;STATIC FUNCTION ODCIGetInterfaces(ifclist OUT SYS.ODCIObjectList)
&nbsp;&nbsp;&nbsp;&nbsp;RETURN NUMBER,
&nbsp;&nbsp;STATIC FUNCTION ODCIIndexCreate (ia SYS.ODCIIndexInfo, parms VARCHAR2,
&nbsp;&nbsp;&nbsp;&nbsp;env SYS.ODCIEnv) RETURN NUMBER,
&nbsp;&nbsp;STATIC FUNCTION ODCIIndexAlter (ia sys.ODCIIndexInfo, 
&nbsp;&nbsp;&nbsp;&nbsp;parms IN OUT VARCHAR2, altopt number, env sys.ODCIEnv) RETURN NUMBER, 
&nbsp;&nbsp;STATIC FUNCTION ODCIIndexDrop(ia SYS.ODCIIndexInfo, env SYS.ODCIEnv) 
&nbsp;&nbsp;&nbsp;&nbsp;RETURN NUMBER,
&nbsp;&nbsp;STATIC FUNCTION ODCIIndexExchangePartition(ia SYS.ODCIIndexInfo,
&nbsp;&nbsp;&nbsp;&nbsp;ia1 SYS.ODCIIndexInfo, env SYS.ODCIEnv) RETURN NUMBER,
&nbsp;&nbsp;STATIC FUNCTION ODCIIndexUpdPartMetadata(ia sys.ODCIIndexInfo, 
&nbsp;&nbsp;&nbsp;&nbsp;palist sys.ODCIPartInfoList, env sys.ODCIEnv) RETURN NUMBER,
&nbsp;&nbsp;STATIC FUNCTION ODCIIndexInsert(ia SYS.ODCIIndexInfo, rid VARCHAR2,
&nbsp;&nbsp;&nbsp;&nbsp;newval VARCHAR2, env SYS.ODCIEnv) RETURN NUMBER,
&nbsp;&nbsp;STATIC FUNCTION ODCIIndexDelete(ia SYS.ODCIIndexInfo, rid VARCHAR2,
&nbsp;&nbsp;&nbsp;&nbsp;oldval VARCHAR2, env SYS.ODCIEnv) RETURN NUMBER,
&nbsp;&nbsp;STATIC FUNCTION ODCIIndexUpdate(ia SYS.ODCIIndexInfo, rid VARCHAR2,
&nbsp;&nbsp;&nbsp;&nbsp;oldval VARCHAR2, newval VARCHAR2, env SYS.ODCIEnv) RETURN NUMBER,
&nbsp;&nbsp;STATIC FUNCTION ODCIIndexStart(sctx IN OUT psbtree_im, ia SYS.ODCIIndexInfo,
&nbsp;&nbsp;&nbsp;&nbsp;op SYS.ODCIPredInfo, qi sys.ODCIQueryInfo, strt number, stop number,
&nbsp;&nbsp;&nbsp;&nbsp;cmpval VARCHAR2, env SYS.ODCIEnv) RETURN NUMBER,
&nbsp;&nbsp;MEMBER FUNCTION ODCIIndexFetch(nrows NUMBER, rids OUT SYS.ODCIridlist,
&nbsp;&nbsp;&nbsp;&nbsp;env SYS.ODCIEnv) RETURN NUMBER,
&nbsp;&nbsp;MEMBER FUNCTION ODCIIndexClose(env SYS.ODCIEnv) RETURN NUMBER
);
/
SHOW ERRORS</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADDCI4892"></a><a id="ADDCI4891"></a><div class="props_rev_3"><a id="GUID-2616416C-EC74-41FD-B435-7956E4CB49E8" name="GUID-2616416C-EC74-41FD-B435-7956E4CB49E8"></a><h4 id="ADDCI-GUID-2616416C-EC74-41FD-B435-7956E4CB49E8" class="sect4"><span class="enumeration_section">16.4.2 </span>Creating the Implementation Type Body
                  </h4>
                  <div>
                     <div class="section">
                        <p>Define the implementation type body, as demonstrated in <a href="example-for-PSBTREE-extensible-indexing.html#GUID-2616416C-EC74-41FD-B435-7956E4CB49E8__CACEJJHI">Example 16-5</a>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-2616416C-EC74-41FD-B435-7956E4CB49E8__CACEJJHI">
                        <p class="titleinexample">Example 16-5 Creating the Implementation Body for PBSTREE</p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE TYPE BODY psbtree_im IS </pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADDCI4893"></a><div class="props_rev_3"><a id="GUID-385BF144-F676-468E-A9A6-7633E0939A1A" name="GUID-385BF144-F676-468E-A9A6-7633E0939A1A"></a><h4 id="ADDCI-GUID-385BF144-F676-468E-A9A6-7633E0939A1A" class="sect4"><span class="enumeration_section">16.4.3 </span>Defining PL/SQL Routines in the Implementation Body
                  </h4>
                  <div>
                     <div class="section">
                        <p>Consider how to implement the index definition routines in PL/SQL.</p>
                     </div>
                     <!-- class="section" -->
                  </div><a id="ADDCI4894"></a><div class="props_rev_3"><a id="GUID-CD482284-5973-4954-9086-DAFD9E872FE7" name="GUID-CD482284-5973-4954-9086-DAFD9E872FE7"></a><h5 id="ADDCI-GUID-CD482284-5973-4954-9086-DAFD9E872FE7" class="sect5"><span class="enumeration_section">16.4.3.1 </span>Implementing ODCIGetInterfaces() for PBSTREE in PL/SQL
                     </h5>
                     <div>
                        <div class="section">
                           <p>The <a href="extensible-indexing-interface.html#GUID-28AC1C1B-6B6B-446F-A6C9-EEF4A4842D5F">ODCIGetInterfaces()</a> routine returns the expected interface name through its <code class="codeph">OUT</code> parameter.
                           </p><pre class="oac_no_warn" dir="ltr">STATIC FUNCTION ODCIGetInterfaces(
&nbsp;&nbsp;ifclist OUT sys.ODCIObjectList) 
RETURN NUMBER IS
BEGIN
&nbsp;&nbsp;ifclist := sys.ODCIObjectList(sys.ODCIObject('SYS','ODCIINDEX2'));
&nbsp;&nbsp;RETURN ODCIConst.Success;
END ODCIGetInterfaces;</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="CACGFBIH"></a><div class="props_rev_3"><a id="GUID-39085EE4-83FD-4EBF-9C01-B96EA74F7E83" name="GUID-39085EE4-83FD-4EBF-9C01-B96EA74F7E83"></a><h5 id="ADDCI-GUID-39085EE4-83FD-4EBF-9C01-B96EA74F7E83" class="sect5"><span class="enumeration_section">16.4.3.2 </span>Implementing ODCIIndexCreate() for PBSTREE in PL/SQL
                     </h5>
                     <div>
                        <div class="section">
                           <p>The <a href="extensible-indexing-interface.html#GUID-C14A0478-6EA1-4EAE-BAA6-AA59EE5D300C">ODCIIndexCreate()</a> routine creates a system-partitioned index storage table with two columns. The first column stores the <code class="codeph">VARCHAR2</code> indexed column value. The routine makes use of the information passed in to determine the context in which it is invoked. Dynamic SQL is used to execute the dynamically constructed SQL statement. 
                           </p><pre class="oac_no_warn" dir="ltr">STATIC FUNCTION ODCIIndexCreate (
  ias sys.ODCIIndexInfo,
  parms VARCHAR2,
  env sys.ODCIEnv)
RETURN NUMBER IS
  i INTEGER;
  stmt VARCHAR2(2000);
  cursor cur1(ianame VARCHAR2) IS
    SELECT partition_name, parameters
    FROM user_ind_partitions
    WHERE index_name = ianame
    ORDER BY partition_position;
  cursor cur2(ianame VARCHAR2) IS
    SELECT subpartition_name, parameters
    FROM user_ind_subpartitions
    WHERE index_name = ianame
    ORDER BY partition_position, subpartition_position;
BEGIN
  stmt := '';
  
  IF (env.CallProperty is null) THEN
    stmt := 'create table ' || ia.IndexSchema || '.' || ia.IndexName ||
      '_sbtree(f1 VARCHAR2(1000), f2 rowid)';
  
  ELSIF (env.CallProperty = sys.ODCIConst.FirstCall) THEN
    stmt := '';
    i := 1;
    
    IF (bitand(ia.IndexInfoFlags, ODCIConst.CompPartn) = 0) THEN
      FOR c1 in cur1(ia.IndexName) LOOP
        IF (i &gt; 1) THEN
          stmt := stmt || ',';
        END IF;
        stmt := stmt || 'partition ' || c2.partition_name;
        i := i + 1;
      END LOOP;
    ELSE
      FOR c1 in cur1(ia.IndexName) LOOP
        IF (i &gt; 1) THEN
          stmt := stmt || ',';
        END IF;
        stmt := stmt || 'partition ' || c2.subpartition_name;
        i := i + 1;
      END LOOP;
    END IF;
    stmt := 'create table ' || ia.IndexSchema || '.' || ia.IndexName ||
      '_sbtree (f1 VARCHAR2(1000), f2 rowid) partition by system ' ||
      '(' || stmt || ')';
  
  ELSIF (env.CallProperty = sys.ODCIConst.FinalCall) THEN
    stmt := 'create index ' || ia.IndexSchema || '.' || ia.IndexName ||
      '_sbti on ' || ia.IndexSchema || '.' || ia.IndexName ||
      '_sbtree (f1) local';
  END IF;
  
  dbms_output.put_line('Create');
  dbms_output.put_line(stmt);
  
  -- execute the statement
  IF ((env.CallProperty is null) OR
      (env.CallProperty = sys.ODCIConst.FirstCall) OR
      (env.CallProperty = sys.ODCIConst.FinalCall) ) THEN
    execute immediate stmt;
  
    IF (env.CallProperty is null) THEN
      execute immediate 'insert into ' || ia.IndexSchema || '.' || ia.IndexName
        || '_sbtree select ' || ia.IndexCols(1).ColName || ', ROWID from ' ||
        ia.IndexCols(1).TableSchema || '.' || ia.IndexCols(1).TableName;
      execute immediate 'create index ' || ia.IndexSchema || '.' ||
        ia.IndexName || '_sbti on ' || ia.IndexSchema || '.' ||
        ia.IndexName || '_sbtree (f1)';
    END IF;
  END IF;
  
  RETURN ODCIConst.Success;
END ODCIIndexCreate;
</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="CACDJCFF"></a><div class="props_rev_3"><a id="GUID-43232667-0102-4BCD-9C00-D106F8D049D2" name="GUID-43232667-0102-4BCD-9C00-D106F8D049D2"></a><h5 id="ADDCI-GUID-43232667-0102-4BCD-9C00-D106F8D049D2" class="sect5"><span class="enumeration_section">16.4.3.3 </span>Implementing ODCIIndexDrop() for PBSTREE in PL/SQL
                     </h5>
                     <div>
                        <div class="section">
                           <p> The <a href="extensible-indexing-interface.html#GUID-F128CB3B-6B3E-41C3-A623-67BCB5BC9292">ODCIIndexDrop()</a> routine drops the index storage tables.
                           </p><pre class="oac_no_warn" dir="ltr">STATIC FUNCTION ODCIIndexDrop(
&nbsp;&nbsp;ia sys.ODCIIndexInfo,
&nbsp;&nbsp;env sys.ODCIEnv) 
RETURN NUMBER IS
&nbsp;&nbsp;stmt VARCHAR2(1000);
&nbsp;&nbsp;cnum INTEGER;
&nbsp;&nbsp;junk INTEGER;
BEGIN
&nbsp;&nbsp;-- construct the sql statement
&nbsp;&nbsp;stmt := '';

&nbsp;&nbsp;IF (env.CallProperty is null) THEN
&nbsp;&nbsp;&nbsp;&nbsp;stmt := 'drop table ' || ia.IndexSchema || '.' || ia.IndexName || '_sbtree';
&nbsp;&nbsp;&nbsp;&nbsp;dbms_output.put_line('Drop');
&nbsp;&nbsp;&nbsp;&nbsp;dbms_output.put_line(stmt);
&nbsp;&nbsp;&nbsp;&nbsp;execute immediate stmt;
&nbsp;&nbsp;END IF;
&nbsp;&nbsp;RETURN ODCIConst.Success;
END ODCIIndexDrop;</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="CACCCEAE"></a><div class="props_rev_3"><a id="GUID-E998D8C0-7AC7-45FB-9B1C-757C356BB878" name="GUID-E998D8C0-7AC7-45FB-9B1C-757C356BB878"></a><h5 id="ADDCI-GUID-E998D8C0-7AC7-45FB-9B1C-757C356BB878" class="sect5"><span class="enumeration_section">16.4.3.4 </span>Implementing ODCIIndexAlter() for PSBTREE in PL/SQL
                     </h5>
                     <div>
                        <div class="section">
                           <p>The <a href="extensible-indexing-interface.html#GUID-9DB1D609-69C3-483B-AA77-087AD51A3A55">ODCIIndexAlter()</a> routine can perform many index alteration tasks, such as rebuilding and renaming an index.
                           </p><pre class="oac_no_warn" dir="ltr">STATIC FUNCTION ODCIIndexAlter (
  ia sys.ODCIIndexInfo,
  parms IN OUT VARCHAR2,
  altopt NUMBER,
  env sys.ODCIEnv)
RETURN NUMBER IS
  stmt VARCHAR2(2000);
BEGIN
  stmt := '';
  IF (altopt = ODCIConst.AlterIndexRebuild) THEN
    IF (ia.IndexPartition is null) THEN
      stmt := 'insert into ' || ia.IndexSchema || '.' || ia.IndexName ||
				'_sbtree select ' || ia.IndexCols(1).ColName || ', ROWID from ' ||
				ia.IndexCols(1).ColName || ', ROWID from ' ||
				ia.IndexCols(1).TableSchema || '.' || ia.IndexCols(1).TableName;
    ELSIF (bitand(ia.IndexInfoFlags, ODCIConst.CompPartn) = 0) THEN
      stmt := 'insert into ' || ia.IndexSchema || '.' || ia.IndexName ||
				'_sbtree select partition (' || ia.IndexPartition || ')' ||
				ia.IndexCols(1).ColName || ', ROWID from ' ||     
        ia.IndexCols(1).TableSchema || '.' || ia.IndexCols(1).TableName ||
        ' partition (' || ia.IndexCols(1).TablePartition || ')';
    ELSE
      stmt := 'insert into ' || ia.IndexSchema || '.' || ia.IndexName ||
				'_sbtree select partition (' || ia.IndexPartition || ')' || 
				ia.IndexCols(1).ColName || ', ROWID from ' ||
        ia.IndexCols(1).TableSChema || '.' || ia.IndexCols(1).TableName ||
        ' subpartition (' || ia.IndexCols(1).TablePartition || ')';
    END IF;
    
  ELSIF (altopt = ODCIConst.AlterIndexRename) THEN
    IF (ia.IndexPartition is not null) THEN
      stmt := 'alter table ' || ia.IndexSchema || '.' || ia.IndexName ||
        '_sbtree rename partition ' || ia.IndexPartition || ' to ' || parms;
    ELSE
      stmt := 'alter table ' || ia.IndexSchema || '.' || ia.IndexName ||
        '_sbtree rename to ' || parms || '_sbtree';
    END IF;
  END IF;
  
  dbms_output.put_line('Alter');
  IF ((altopt = ODCIConst.AlterIndexRebuild) OR (altopt = ODCIConst.AlterIndexRename))
  THEN
    dbms_output.put_line(stmt);
    execute immediate stmt;
  END IF;
  RETURN ODCIConst.Success;
END ODCIIndexAlter;</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="CACBFDJC"></a><div class="props_rev_3"><a id="GUID-DBE32065-CCF1-4A08-967C-38DF4A37B9CA" name="GUID-DBE32065-CCF1-4A08-967C-38DF4A37B9CA"></a><h5 id="ADDCI-GUID-DBE32065-CCF1-4A08-967C-38DF4A37B9CA" class="sect5"><span class="enumeration_section">16.4.3.5 </span>Implementing ODCIIndexUpdPartMetadata() for PSBTREE in PL/SQL
                     </h5>
                     <div>
                        <div class="section">
                           <p>To handle partition maintenance operations, the kernel performs the maintenance tasks on behalf of the user. The indextype, to maintain its metadata, should have the <a href="extensible-indexing-interface.html#GUID-C2C4DB40-106A-491C-B241-985B69DC2FE1">ODCIIndexUpdPartMetadata()</a> routine.
                           </p><pre class="oac_no_warn" dir="ltr">STATIC FUNCTION ODCIIndexUpdPartMetadata(
&nbsp;&nbsp;ia sys.ODCIIndexInfo, 
&nbsp;&nbsp;palist sys.ODCIPartInfoList, 
&nbsp;&nbsp;env sys.ODCIEnv) 
RETURN NUMBER IS
&nbsp;&nbsp;col  number;
BEGIN
&nbsp;&nbsp;dbms_output.put_line('ODCIUpdPartMetadata');
&nbsp;&nbsp;sys.ODCIIndexInfoDump(ia);
&nbsp;&nbsp;sys.ODCIPartInfoListDump(palist);
&nbsp;&nbsp;sys.ODCIEnvDump(env);
&nbsp;&nbsp;RETURN ODCIConst.Success;
END ODCIIndexUpdPartMetadata;</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="CACJCGBH"></a><div class="props_rev_3"><a id="GUID-395A7999-CD4F-4995-8455-F6D51D3710EF" name="GUID-395A7999-CD4F-4995-8455-F6D51D3710EF"></a><h5 id="ADDCI-GUID-395A7999-CD4F-4995-8455-F6D51D3710EF" class="sect5"><span class="enumeration_section">16.4.3.6 </span>Implementing ODCIIndexExchangePartition() for PSBTREE in PL/SQL
                     </h5>
                     <div>
                        <div class="section">
                           <p>The <a href="extensible-indexing-interface.html#GUID-7914F874-620F-48F1-ADDC-040CC82D46ED">ODCIIndexExchangePartition()</a> exchanges the index storage tables for the index partition being exchanged, with the index storage table for the global domain index.
                           </p><pre class="oac_no_warn" dir="ltr">STATIC FUNCTION ODCIIndexExchangePartition(
  ia sys.ODCIIndexInfo,
  ia1 sys.ODCIIndexInfo,
  env sys.ODCIEnv)
RETURN NUMBER IS
  stmt VARCHAR2(2000);
  cnum INTEGER;
  junk INTEGER;
BEGIN
  stmt := '';
  dbms_output.put_line('Exchange Partition');
 
  -- construct the sql statements
  IF bitand(ia.IndexInfoFlags, ODCIConst.CompPartn) = 0 OR
     bitand(ia.IndexInfoFlags, ODCIConst.SubPartn) = ODCIConst.SubPartn THEN
    -- non-composite partitioned or exchanging subpartition
    stmt := 'alter table ' || ia.IndexSchema || '.' || ia.IndexName ||
      '_sbtree exchange partition ' || ia.IndexPartition || ' with table ' ||
      ia1.IndexSchema || '.' || ia1.IndexName || '_sbtree';
     
    dbms_output.put_line(stmt);
    execute immediate stmt;
  ELSE
    -- composite partition exchange
    stmt := 'create table temp_exch (f1 VARCHAR2(1000), f2 rowid)';
    dbms_output.put_line(stmt);
    execute immediate stmt;
   
    stmt := 'alter table ' || ia.IndexSchema || '.' || ia.IndexName ||
      '_sbtree exchange partition ' || ia.IndexPartition || ' with table ' ||
      'temp_exch';
    dbms_output.put_line(stmt);
    execute immediate stmt;
   
    stmt := 'alter table ' || ia1.IndexSchema || '.' || ia1.IndexName ||
      '_sbtree exchange partition ' || ia1.IndexPartition || ' with table ' ||
      'temp_exch';
    dbms_output.put_line(stmt);
    execute immediate stmt;
   
    stmt := 'alter table ' || ia.IndexSchema || '.' || ia.IndexName ||
      '_sbtree exchange partition ' || ia.IndexPartition || ' with table ' ||
      'temp_exch';
    dbms_output.put_line(stmt);
    execute immediate stmt;
   
    -- exchange done, drop temporal table
    stmt := 'drop table temp_exch';
    dbms_output.put_line(stmt);
    execute immediate stmt;
  END IF;
 
  RETURN ODCIConst.Success;
END ODCIIndexExchangePartition;</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="ADDCI4900"></a><div class="props_rev_3"><a id="GUID-8B2FF627-9464-4AD9-9D0E-EFC637BB99B0" name="GUID-8B2FF627-9464-4AD9-9D0E-EFC637BB99B0"></a><h4 id="ADDCI-GUID-8B2FF627-9464-4AD9-9D0E-EFC637BB99B0" class="sect4"><span class="enumeration_section">16.4.4 </span>Registering the C Implementation of the ODCIIndex<span class="italic">XXX</span>() Methods
                  </h4>
                  <div>
                     <div class="section">
                        <p>After creating the <code class="codeph">extdemo6l</code> library object for the compiled C methods, you must register the implementations of each of the routines. The <a href="example-for-PSBTREE-extensible-indexing.html#GUID-D833A9A8-B063-48B6-8ACD-790C406FFDFB">Registering the Implementation of ODCIIndexInsert()</a> section demonstrates how to register the ODCIIndexInsert() implementation, the <a href="example-for-PSBTREE-extensible-indexing.html#GUID-429B7A88-369D-46F3-8E27-035CA9EDEEB3">Registering the Implementation of ODCIIndexDelete()</a> section registers the ODCIIndexDelete() implementation, the <a href="example-for-PSBTREE-extensible-indexing.html#GUID-20EAB399-76F5-4C79-AE81-63B8956504F7">Registering the Implementation of ODCIIndexUpdate()</a> section registers the ODCIIndexUpdate() implementation, the <a href="example-for-PSBTREE-extensible-indexing.html#GUID-687358AC-BD5C-4C8B-84C8-1F7B285736E3">Registering the Implementation of ODCIIndexStart()</a> section registers the ODCIIndexStart() implementation, the <a href="example-for-PSBTREE-extensible-indexing.html#GUID-8B31366C-39CE-42CA-9A13-6AAE30180EFE">Registering the Implementation of ODCIIndexFetch()</a> section registers the ODCIIndexFetch() implementation, and the <a href="example-for-PSBTREE-extensible-indexing.html#GUID-E3A862DE-F07C-4681-BBE4-8339AD0A4D32">Registering the Implementation of ODCIIndexClose()</a> section registers the ODCIIndexClose() implementation.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div><a id="CACGAHCG"></a><div class="props_rev_3"><a id="GUID-D833A9A8-B063-48B6-8ACD-790C406FFDFB" name="GUID-D833A9A8-B063-48B6-8ACD-790C406FFDFB"></a><h5 id="ADDCI-GUID-D833A9A8-B063-48B6-8ACD-790C406FFDFB" class="sect5"><span class="enumeration_section">16.4.4.1 </span>Registering the Implementation of ODCIIndexInsert()
                     </h5>
                     <div>
                        <div class="section">
                           <p>Register the implementation of the <a href="extensible-indexing-interface.html#GUID-EF42025B-6DE2-4F2A-90EF-62775EE0EED6">ODCIIndexInsert()</a> routine.
                           </p><pre class="oac_no_warn" dir="ltr">STATIC FUNCTION ODCIIndexInsert(
&nbsp;&nbsp;ia SYS.ODCIIndexInfo,
&nbsp;&nbsp;rid VARCHAR2,
&nbsp;&nbsp;newval VARCHAR2,
&nbsp;&nbsp;env SYS.ODCIEnv)
RETURN NUMBER AS EXTERNAL
name "qxiqtbspi"
library extdemo6l
with context
parameters (
&nbsp;&nbsp;context,
&nbsp;&nbsp;ia,
&nbsp;&nbsp;ia indicator struct,
&nbsp;&nbsp;rid,
&nbsp;&nbsp;rid indicator,
&nbsp;&nbsp;newval,
&nbsp;&nbsp;newval indicator,
&nbsp;&nbsp;env,
&nbsp;&nbsp;env indicator struct,
&nbsp;&nbsp;return OCINumber
);</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="CACBHAHC"></a><div class="props_rev_3"><a id="GUID-429B7A88-369D-46F3-8E27-035CA9EDEEB3" name="GUID-429B7A88-369D-46F3-8E27-035CA9EDEEB3"></a><h5 id="ADDCI-GUID-429B7A88-369D-46F3-8E27-035CA9EDEEB3" class="sect5"><span class="enumeration_section">16.4.4.2 </span>Registering the Implementation of ODCIIndexDelete()
                     </h5>
                     <div>
                        <div class="section">
                           <p>Register the implementation of the <a href="extensible-indexing-interface.html#GUID-4B2E080D-FE8B-4598-9084-56FBE255196B">ODCIIndexDelete()</a> routine.
                           </p><pre class="oac_no_warn" dir="ltr">STATIC FUNCTION ODCIIndexDelete(
&nbsp;&nbsp;ia SYS.ODCIIndexInfo, 
&nbsp;&nbsp;rid VARCHAR2,
&nbsp;&nbsp;oldval VARCHAR2, 
&nbsp;&nbsp;env SYS.ODCIEnv)
RETURN NUMBER AS EXTERNAL
name "qxiqtbspd"
library extdemo6l
with context
parameters (
&nbsp;&nbsp;context,
&nbsp;&nbsp;ia,
&nbsp;&nbsp;ia indicator struct,
&nbsp;&nbsp;rid,
&nbsp;&nbsp;rid indicator,
&nbsp;&nbsp;oldval,
&nbsp;&nbsp;oldval indicator,
&nbsp;&nbsp;env,
&nbsp;&nbsp;env indicator struct,
&nbsp;&nbsp;return OCINumber
);</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="CACBCCEH"></a><div class="props_rev_3"><a id="GUID-20EAB399-76F5-4C79-AE81-63B8956504F7" name="GUID-20EAB399-76F5-4C79-AE81-63B8956504F7"></a><h5 id="ADDCI-GUID-20EAB399-76F5-4C79-AE81-63B8956504F7" class="sect5"><span class="enumeration_section">16.4.4.3 </span>Registering the Implementation of ODCIIndexUpdate()
                     </h5>
                     <div>
                        <div class="section">
                           <p>Register the implementation of the <a href="extensible-indexing-interface.html#GUID-CB42E738-EFD1-4053-9DDF-BEF455F92815">ODCIIndexUpdate()</a> routine.
                           </p><pre class="oac_no_warn" dir="ltr">STATIC FUNCTION ODCIIndexUpdate(
&nbsp;&nbsp;ia SYS.ODCIIndexInfo, 
&nbsp;&nbsp;rid VARCHAR2,
&nbsp;&nbsp;oldval VARCHAR2,
&nbsp;&nbsp;newval VARCHAR2,
&nbsp;&nbsp;env SYS.ODCIEnv)
RETURN NUMBER AS EXTERNAL
name "qxiqtbspu"
library extdemo6l
with context
parameters (
&nbsp;&nbsp;context,
&nbsp;&nbsp;ia,
&nbsp;&nbsp;ia indicator struct,
&nbsp;&nbsp;rid,
&nbsp;&nbsp;rid indicator,
&nbsp;&nbsp;oldval,
&nbsp;&nbsp;oldval indicator,
&nbsp;&nbsp;newval,
&nbsp;&nbsp;newval indicator,
&nbsp;&nbsp;env,
&nbsp;&nbsp;env indicator struct,
&nbsp;&nbsp;return OCINumber
);</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="CACJADGC"></a><div class="props_rev_3"><a id="GUID-687358AC-BD5C-4C8B-84C8-1F7B285736E3" name="GUID-687358AC-BD5C-4C8B-84C8-1F7B285736E3"></a><h5 id="ADDCI-GUID-687358AC-BD5C-4C8B-84C8-1F7B285736E3" class="sect5"><span class="enumeration_section">16.4.4.4 </span>Registering the Implementation of ODCIIndexStart()
                     </h5>
                     <div>
                        <div class="section">
                           <p>Register the implementation of the <a href="extensible-indexing-interface.html#GUID-53F2321C-B0F8-4783-AC1B-056372A0C073">ODCIIndexStart()</a> routine. 
                           </p><pre class="oac_no_warn" dir="ltr">STATIC FUNCTION ODCIIndexStart(
&nbsp;&nbsp;sctx IN OUT psbtree_im,
&nbsp;&nbsp;ia SYS.ODCIIndexInfo,
&nbsp;&nbsp;op SYS.ODCIPredInfo,
&nbsp;&nbsp;qi SYS.ODCIQueryInfo,
&nbsp;&nbsp;strt NUMBER,
&nbsp;&nbsp;stop NUMBER,
&nbsp;&nbsp;cmpval VARCHAR2,
&nbsp;&nbsp;env SYS.ODCIEnv)
RETURN NUMBER AS EXTERNAL
name "qxiqtbsps"
library extdemo6l
with context
parameters (
&nbsp;&nbsp;context,
&nbsp;&nbsp;sctx,
&nbsp;&nbsp;sctx indicator struct,
&nbsp;&nbsp;ia,
&nbsp;&nbsp;ia indicator struct,
&nbsp;&nbsp;op,
&nbsp;&nbsp;op indicator struct,
&nbsp;&nbsp;qi,
&nbsp;&nbsp;qi indicator struct,
&nbsp;&nbsp;strt,
&nbsp;&nbsp;strt indicator,
&nbsp;&nbsp;stop,
&nbsp;&nbsp;stop indicator,
&nbsp;&nbsp;cmpval,
&nbsp;&nbsp;cmpval indicator,
&nbsp;&nbsp;env,
&nbsp;&nbsp;env indicator struct,
&nbsp;&nbsp;return OCINumber
);</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="ADDCI4905"></a><div class="props_rev_3"><a id="GUID-8B31366C-39CE-42CA-9A13-6AAE30180EFE" name="GUID-8B31366C-39CE-42CA-9A13-6AAE30180EFE"></a><h5 id="ADDCI-GUID-8B31366C-39CE-42CA-9A13-6AAE30180EFE" class="sect5"><span class="enumeration_section">16.4.4.5 </span>Registering the Implementation of ODCIIndexFetch()
                     </h5>
                     <div>
                        <div class="section">
                           <p>Register the implementation of the <a href="extensible-indexing-interface.html#GUID-BB601420-A858-46E3-A9AC-3433220D4F82">ODCIIndexFetch()</a> routine.
                           </p><pre class="oac_no_warn" dir="ltr">MEMBER FUNCTION ODCIIndexFetch(
&nbsp;&nbsp;nrows NUMBER,
&nbsp;&nbsp;rids OUT SYS.ODCIRidList,
&nbsp;&nbsp;env SYS.ODCIEnv)
RETURN NUMBER AS EXTERNAL
name "qxiqtbspf"
library extdemo6l
with context
parameters (
&nbsp;&nbsp;context,
&nbsp;&nbsp;self,
&nbsp;&nbsp;self indicator struct,
&nbsp;&nbsp;nrows,
&nbsp;&nbsp;nrows indicator,
&nbsp;&nbsp;rids,
&nbsp;&nbsp;rids indicator,
&nbsp;&nbsp;env,
&nbsp;&nbsp;env indicator struct,
&nbsp;&nbsp;return OCINumber
 );</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="CACIDHBA"></a><div class="props_rev_3"><a id="GUID-E3A862DE-F07C-4681-BBE4-8339AD0A4D32" name="GUID-E3A862DE-F07C-4681-BBE4-8339AD0A4D32"></a><h5 id="ADDCI-GUID-E3A862DE-F07C-4681-BBE4-8339AD0A4D32" class="sect5"><span class="enumeration_section">16.4.4.6 </span>Registering the Implementation of ODCIIndexClose()
                     </h5>
                     <div>
                        <div class="section">
                           <p>Register the implementation of the <a href="extensible-indexing-interface.html#GUID-2F49CDE4-C064-4644-948C-BBF014FDD8C8">ODCIIndexClose()</a> routine.
                           </p><pre class="oac_no_warn" dir="ltr">MEMBER FUNCTION ODCIIndexClose (
&nbsp;&nbsp;env SYS.ODCIEnv) 
RETURN NUMBER AS EXTERNAL
name "qxiqtbspc"
library extdemo6l
with context
parameters (
&nbsp;&nbsp;context,
&nbsp;&nbsp;self,
&nbsp;&nbsp;self indicator struct,
&nbsp;&nbsp;env,
&nbsp;&nbsp;env indicator struct,
&nbsp;&nbsp;return OCINumber
);</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="ADDCI4908"></a><a id="ADDCI4909"></a><a id="ADDCI4907"></a><div class="props_rev_3"><a id="GUID-23A0F15E-6AAC-49EB-9DF1-82F732C657CE" name="GUID-23A0F15E-6AAC-49EB-9DF1-82F732C657CE"></a><h4 id="ADDCI-GUID-23A0F15E-6AAC-49EB-9DF1-82F732C657CE" class="sect4"><span class="enumeration_section">16.4.5 </span>Defining Additional Structures in C Implementation
                  </h4>
                  <div>
                     <div class="section">
                        <p>The <code class="codeph">stuct</code> <code class="codeph">qxiqtim</code>, <code class="codeph">struct qciqtin</code>, and <code class="codeph">struct</code> <code class="codeph">qxiqtcx</code> are used for mapping the object type and its <code class="codeph">null</code> value (demonstrated in <a href="example-for-PSBTREE-extensible-indexing.html#GUID-23A0F15E-6AAC-49EB-9DF1-82F732C657CE__CACBHEBF">Example 16-6</a>), and for keeping state during fetching calls (demonstrated in <a href="example-for-PSBTREE-extensible-indexing.html#GUID-23A0F15E-6AAC-49EB-9DF1-82F732C657CE__CACCIGGI">Example 16-7</a>). These structures are used by the methods described in <a href="example-for-PSBTREE-extensible-indexing.html#GUID-857BD94C-1C99-48ED-99A0-1A90D5793AF4">Defining C Methods in the Implementation Body</a>.
                        </p>
                        <p>The C <code class="codeph">struct</code>s for mapping the ODCI types are defined in the file <code class="codeph">odci.h</code>. For example, the C <code class="codeph">struct</code> <code class="codeph">ODCIIndexInfo</code> is the mapping for the corresponding ODCI object type. The C <code class="codeph">struct</code> <code class="codeph">ODCIIndexInfo_ind</code> is the mapping for the <code class="codeph">null</code> object.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-23A0F15E-6AAC-49EB-9DF1-82F732C657CE__CACBHEBF">
                        <p class="titleinexample">Example 16-6 Defining Mappings for the Object Type and Its Null Value</p>
                        <p>We have defined a C <code class="codeph">struct</code>, <code class="codeph">qxiqtim</code>, as a mapping for the object type. There is an additional C <code class="codeph">struct</code>, <code class="codeph">qxiqtin</code>, for the corresponding <code class="codeph">null</code> object. The C <code class="codeph">struct</code>s for the object type and its <code class="codeph">null</code> object can be generated from the Object Type Translator (OTT).
                        </p><pre class="oac_no_warn" dir="ltr">/* The index implementation type is an object type with a single RAW attribute
 * used to store the context key value. 
 * C mapping of the implementation type : */

struct qxiqtim{
&nbsp;&nbsp;OCIRaw *sctx_qxiqtim;
}; 
typedef struct qxiqtim qxiqtim;

struct qxiqtin{
  short atomic_qxiqtin;
  short scind_qxiqtin;
}; 
typedef struct qxiqtin qxiqtin;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-23A0F15E-6AAC-49EB-9DF1-82F732C657CE__CACCIGGI">
                        <p class="titleinexample">Example 16-7 Keeping the Scan State During Fetching Calls</p>
                        <p>There are a set of OCI handles that must be cached away and retrieved during fetch calls. A C <code class="codeph">struct</code>, <code class="codeph">qxiqtcx</code>, is defined to hold all the necessary scan state. This structure is allocated out of <code class="codeph">OCI_DURATION_STATEMENT</code> memory to ensure that it persists till the end of <code class="codeph">fetch</code>. After populating the structure with the required info, a pointer to the structure is saved in OCI context. The context is identified by a 4-byte key that is generated by calling an OCI routine. The 4-byte key is stashed away in the scan context - <code class="codeph">exiting</code>. This object is returned back to the Oracle server and is passed in as a parameter to the next fetch call. 
                        </p><pre class="oac_no_warn" dir="ltr">/* The index scan context - should be stored in "statement" duration memory
 * and used by start, fetch and close routines.
 */
struct qxiqtcx
{
&nbsp;&nbsp;OCIStmt *stmthp;
&nbsp;&nbsp;OCIDefine *defnp;
&nbsp;&nbsp;OCIBind *bndp;
&nbsp;&nbsp;char ridp[19];
}; 
typedef struct qxiqtcx qxiqtcx;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ADDCI4910"></a><div class="props_rev_3"><a id="GUID-857BD94C-1C99-48ED-99A0-1A90D5793AF4" name="GUID-857BD94C-1C99-48ED-99A0-1A90D5793AF4"></a><h4 id="ADDCI-GUID-857BD94C-1C99-48ED-99A0-1A90D5793AF4" class="sect4"><span class="enumeration_section">16.4.6 </span>Defining C Methods in the Implementation Body
                  </h4>
                  <div>
                     <p>Consider how to implemented PSBEETree methods in the C language.</p>
                  </div><a id="CACJIECE"></a><div class="props_rev_3"><a id="GUID-17BABF87-B59B-4434-B06D-CC5C3F168A5C" name="GUID-17BABF87-B59B-4434-B06D-CC5C3F168A5C"></a><h5 id="ADDCI-GUID-17BABF87-B59B-4434-B06D-CC5C3F168A5C" class="sect5"><span class="enumeration_section">16.4.6.1 </span>Implementing a Common Error Processing Routine in C
                     </h5>
                     <div>
                        <div class="section">
                           <p>This function is used to check and process the return code from all <code class="codeph">OCI</code> routines. It checks the status code and raises an exception in case of errors.
                           </p><pre class="oac_no_warn" dir="ltr">static int qxiqtce(
&nbsp;&nbsp;OCIExtProcContext *ctx,
&nbsp;&nbsp;OCIError *errhp,
&nbsp;&nbsp;sword status)
{
&nbsp;&nbsp;text errbuf[512];
&nbsp;&nbsp;sb4 errcode = 0;
&nbsp;&nbsp;int errnum = 29400;  /* choose some oracle error number */
&nbsp;&nbsp;int rc = 0;

&nbsp;&nbsp;switch (status)
&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;case OCI_SUCCESS: 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rc = 0;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;
&nbsp;&nbsp;&nbsp;&nbsp;case OCI_ERROR:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(void) OCIErrorGet((dvoid *)errhp, (ub4)1, (text *)NULL, &amp;errcode,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;errbuf, (ub4)sizeof(errbuf), OCI_HTYPE_ERROR);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* Raise exception */
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OCIExtProcRaiseExcpWithMsg(ctx, errnum, errbuf, strlen((char *)errbuf));
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rc = 1;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;
&nbsp;&nbsp;&nbsp;&nbsp;default:
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(void) sprintf((char *)errbuf, "Warning - some error\n");
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* Raise exception */
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OCIExtProcRaiseExcpWithMsg(ctx, errnum, errbuf, strlen((char *)errbuf));
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rc = 1;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break;
&nbsp;&nbsp;}
&nbsp;&nbsp;return (rc);
}</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="CACJJDAC"></a><div class="props_rev_3"><a id="GUID-EA21F55B-FF07-49B2-B9BB-16E913AE9DDB" name="GUID-EA21F55B-FF07-49B2-B9BB-16E913AE9DDB"></a><h5 id="ADDCI-GUID-EA21F55B-FF07-49B2-B9BB-16E913AE9DDB" class="sect5"><span class="enumeration_section">16.4.6.2 </span>Implementing ODCIIndexInsert() for PSBTREE in C
                     </h5>
                     <div>
                        <div class="section">
                           <p>The insert routine, <a href="extensible-indexing-interface.html#GUID-EF42025B-6DE2-4F2A-90EF-62775EE0EED6">ODCIIndexInsert()</a>, parses and executes a statement that inserts a new row into the index table. The new row consists of the new value of the indexed column and the <code class="codeph">rowid</code> that have been passed in as parameters.
                           </p><pre class="oac_no_warn" dir="ltr">OCINumber *qxiqtbspi(
&nbsp;&nbsp;OCIExtProcContext *ctx,
&nbsp;&nbsp;ODCIIndexInfo     *ix,
&nbsp;&nbsp;ODCIIndexInfo_ind *ix_ind,
&nbsp;&nbsp;char              *rid,
&nbsp;&nbsp;short             rid_ind,
&nbsp;&nbsp;char              *newval,
&nbsp;&nbsp;short             newval_ind,
&nbsp;&nbsp;ODCIEnv           *env,
&nbsp;&nbsp;ODCIEnv_ind       *env_ind)
{
&nbsp;&nbsp;OCIEnv *envhp = (OCIEnv *) 0;             /* env. handle */
&nbsp;&nbsp;OCISvcCtx *svchp = (OCISvcCtx *) 0;       /* service handle */
&nbsp;&nbsp;OCIError *errhp = (OCIError *) 0;         /* error handle */
&nbsp;&nbsp;OCIStmt *stmthp = (OCIStmt *) 0;          /* statement handle */
&nbsp;&nbsp;OCIBind *bndp = (OCIBind *) 0;            /* bind handle */

&nbsp;&nbsp;int retval = (int)ODCI_SUCCESS;           /* return from this function */
&nbsp;&nbsp;OCINumber *rval = (OCINumber *)0;

&nbsp;&nbsp;char insstmt[2000];                       /* sql insert statement */
&nbsp;&nbsp;ODCIColInfo  *colinfo;                    /* column info */
&nbsp;&nbsp;ODCIColInfo_ind  *colinfo_ind;
&nbsp;&nbsp;boolean exists = TRUE;
&nbsp;&nbsp;unsigned int partiden;                    /* table partition iden */ 
&nbsp;&nbsp;unsigned int idxflag;                     /* index info flag  

&nbsp;&nbsp;/* allocate memory for OCINumber first */
&nbsp;&nbsp;rval = (OCINumber *)OCIExtProcAllocCallMemory(ctx, sizeof(OCINumber));

&nbsp;&nbsp;/* Get oci handles */
&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCIExtProcGetEnv(ctx, &amp;envhp, &amp;svchp, &amp;errhp)))
&nbsp;&nbsp;&nbsp;&nbsp;return(rval);

&nbsp;&nbsp;/* set up return code */
&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCINumberFromInt(errhp, (dvoid *)&amp;retval,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sizeof(retval), OCI_NUMBER_SIGNED, rval)))
&nbsp;&nbsp;&nbsp;&nbsp;return(rval);

&nbsp;&nbsp;/* Convert idxflag to integer from OCINumber */
&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCINumberToInt(errhp, &amp;(ix-&gt;IndexInfoFlags),
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sizeof(idxflag), OCI_NUMBER_UNSIGNED, ( void *)&amp;idxflag)))
&nbsp;&nbsp;&nbsp;&nbsp;return(rval);

&nbsp;&nbsp;/*****************************
&nbsp;&nbsp;* Construct insert Statement *
&nbsp;&nbsp;******************************/
&nbsp;&nbsp;if ((idxflag &amp; ODCI_INDEX_RANGE_PARTN) != ODCI_INDEX_RANGE_PARTN)
&nbsp;&nbsp;&nbsp;&nbsp;(void)sprintf(insstmt, "INSERT into %s.%s_sbtree values (:newval, :mrid)",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OCIStringPtr(envhp, ix-&gt;IndexSchema), OCIStringPtr(envhp, ix-&gt;IndexName));
&nbsp;&nbsp;else
&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCICollGetElem(envhp, errhp, (OCIColl *)ix-&gt;IndexCols,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(sb4)0, &amp;exists, (void **) &amp;colinfo, (void **) &amp;colinfo_ind)))
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return(rval);
 
&nbsp;&nbsp;(void)sprintf(insstmt,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"INSERT into %s.%s_sbtree partition (DATAOBJ_TO_PARTITION(%s, :partiden))
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;VALUES (:newval, :mrid)",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OCIStringPtr(envhp, ix-&gt;IndexSchema), OCIStringPtr(envhp, ix-&gt;IndexName),
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OCIStringPtr(envhp, colinfo-&gt;TableName));
&nbsp;&nbsp;}

&nbsp;&nbsp;/***************************************
&nbsp;&nbsp;* Parse and Execute Create Statement   *
&nbsp;&nbsp;****************************************/

&nbsp;&nbsp;/* allocate stmt handle */
&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCIHandleAlloc((dvoid *)envhp, (dvoid **)&amp;stmthp,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(ub4)OCI_HTYPE_STMT, (size_t)0, (dvoid **)0)))
&nbsp;&nbsp;&nbsp;&nbsp;return(rval);
 
&nbsp;&nbsp;&nbsp;&nbsp;/* prepare the statement */
&nbsp;&nbsp;&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCIStmtPrepare(stmthp, errhp, (text *)insstmt,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(ub4)strlen(insstmt), OCI_NTV_SYNTAX, OCI_DEFAULT)))
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return(rval);

&nbsp;&nbsp;&nbsp;&nbsp;if ((idxflag &amp; ODCI_INDEX_RANGE_PARTN) == ODCI_INDEX_RANGE_PARTN)
&nbsp;&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* Convert partiden to integer from OCINumber */
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCINumberToInt(errhp, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;(colinfo-&gt;TablePartitionIden), sizeof(partiden), OCI_NUMBER_UNSIGNED,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( void *)&amp;partiden)))
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return(rval);

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* Set up bind for partiden */
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCIBindByName(stmthp, &amp;bndp, errhp, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text *)":partiden", sizeof(":partiden")-1, (dvoid *)&amp;partiden,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(sb4)(sizeof(partiden)), (ub2)SQLT_INT, (dvoid *)0, (ub2 *)0,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(ub2 *)0, (ub4)0, (ub4 *)0, (ub4)OCI_DEFAULT)))
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return(rval);
&nbsp;&nbsp;&nbsp;&nbsp;}

&nbsp;&nbsp;&nbsp;&nbsp;/* Set up bind for newval */
&nbsp;&nbsp;&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCIBindByName(stmthp, &amp;bndp, errhp, (text *)":newval",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sizeof(":newval")-1, (dvoid *)newval, (sb4)(strlen(newval)+1),
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(ub2)SQLT_STR, (dvoid *)0, (ub2 *)0, (ub2 *)0, (ub4)0, (ub4 *)0,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(ub4)OCI_DEFAULT)))
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return(rval);

&nbsp;&nbsp;&nbsp;&nbsp;/* Set up bind for rid */
&nbsp;&nbsp;&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCIBindByName(stmthp, &amp;bndp, errhp, (text *)":mrid",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sizeof(":mrid")-1, (dvoid *)rid, (sb4)(strlen(rid)+1), (ub2)SQLT_STR, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(dvoid *)0, (ub2 *)0, (ub2 *)0, (ub4)0, (ub4 *)0, (ub4)OCI_DEFAULT)))
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return(rval);

&nbsp;&nbsp;&nbsp;&nbsp;/* Execute statement */
&nbsp;&nbsp;&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCIStmtExecute(svchp, stmthp, errhp, (ub4)1,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(ub4)0, (OCISnapshot *)NULL, (OCISnapshot *)NULL, (ub4)OCI_DEFAULT)))
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return(rval);
 
&nbsp;&nbsp;&nbsp;&nbsp;/* free stmt handle */
&nbsp;&nbsp;&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCIHandleFree((dvoid *)stmthp, (ub4)OCI_HTYPE_STMT)))
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return(rval);

&nbsp;&nbsp;&nbsp;&nbsp;return(rval);
}</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="CACFICAJ"></a><div class="props_rev_3"><a id="GUID-501B8354-FB1F-4D7C-A8F4-3C6181F56A19" name="GUID-501B8354-FB1F-4D7C-A8F4-3C6181F56A19"></a><h5 id="ADDCI-GUID-501B8354-FB1F-4D7C-A8F4-3C6181F56A19" class="sect5"><span class="enumeration_section">16.4.6.3 </span>Implementing ODCIIndexDelete() for PSBTREE in C
                     </h5>
                     <div>
                        <div class="section">
                           <p>The delete routine constructs a SQL statement to delete a row from the index table corresponding to the row being deleted from the base table. The row in the index table is identified by the value of <code class="codeph">rowid</code> that is passed in as a parameter to this routine.
                           </p><pre class="oac_no_warn" dir="ltr">OCINumber *qxiqtbspd(
&nbsp;&nbsp;OCIExtProcContext *ctx,
&nbsp;&nbsp;ODCIIndexInfo     *ix,
&nbsp;&nbsp;ODCIIndexInfo_ind *ix_ind,
&nbsp;&nbsp;char              *rid,
&nbsp;&nbsp;short             rid_ind,
&nbsp;&nbsp;char              *oldval,
&nbsp;&nbsp;short             oldval_ind,
&nbsp;&nbsp;ODCIEnv           *env,
&nbsp;&nbsp;ODCIEnv_ind       *env_ind)
{
&nbsp;&nbsp;OCIEnv *envhp = (OCIEnv *) 0;             /* env. handle */
&nbsp;&nbsp;OCISvcCtx *svchp = (OCISvcCtx *) 0;       /* service handle */
&nbsp;&nbsp;OCIError *errhp = (OCIError *) 0;         /* error handle */
&nbsp;&nbsp;OCIStmt *stmthp = (OCIStmt *) 0;          /* statement handle */
&nbsp;&nbsp;OCIBind *bndp = (OCIBind *) 0;            /* bind handle */
 
&nbsp;&nbsp;int retval = (int)ODCI_SUCCESS;           /* return from this function */
&nbsp;&nbsp;OCINumber *rval = (OCINumber *)0;
 
&nbsp;&nbsp;char delstmt[2000];                       /* sql delete statement */
&nbsp;&nbsp;ODCIColInfo  *colinfo;                    /* column info */
&nbsp;&nbsp;ODCIColInfo_ind  *colinfo_ind;
&nbsp;&nbsp;boolean exists = TRUE;
&nbsp;&nbsp;unsigned int partiden;                    /* table partition iden */ 
&nbsp;&nbsp;unsigned int idxflag;                     /* index info flag  
 
&nbsp;&nbsp;/* Get oci handles */
&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCIExtProcGetEnv(ctx, &amp;envhp, &amp;svchp, &amp;errhp)))
&nbsp;&nbsp;&nbsp;&nbsp;return(rval);
 
&nbsp;&nbsp;/* set up return code */
&nbsp;&nbsp;rval = (OCINumber *)OCIExtProcAllocCallMemory(ctx, sizeof(OCINumber));
&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCINumberFromInt(errhp, (dvoid *)&amp;retval,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sizeof(retval), OCI_NUMBER_SIGNED, rval)))
&nbsp;&nbsp;&nbsp;&nbsp;return(rval);
 
&nbsp;&nbsp;/* Convert idxflag to integer from OCINumber */
&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCINumberToInt(errhp, &amp;(ix-&gt;IndexInfoFlags),
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sizeof(idxflag), OCI_NUMBER_UNSIGNED, ( void *)&amp;idxflag)))
&nbsp;&nbsp;&nbsp;&nbsp;return(rval);
 
&nbsp;&nbsp;/*****************************
&nbsp;&nbsp;* Construct delete Statement *
&nbsp;&nbsp;******************************/
&nbsp;&nbsp;if ((idxflag &amp; ODCI_INDEX_RANGE_PARTN) != ODCI_INDEX_RANGE_PARTN)
&nbsp;&nbsp;&nbsp;&nbsp;(void)sprintf(delstmt, "DELETE FROM %s.%s_sbtree WHERE f2 = :rr",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OCIStringPtr(envhp, ix-&gt;IndexSchema), OCIStringPtr(envhp, ix-&gt;IndexName));
&nbsp;&nbsp;else
&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCICollGetElem(envhp, errhp, (OCIColl *)ix-&gt;IndexCols,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(sb4)0, &amp;exists, (void **) &amp;colinfo, (void **) &amp;colinfo_ind)))
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return(rval);

&nbsp;&nbsp;&nbsp;&nbsp;(void)sprintf(delstmt, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"DELETE FROM %s.%s_sbtree partition (DATAOBJ_TO_PARTITION(%s, :partiden))
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WHERE f2 = :rr",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OCIStringPtr(envhp, ix-&gt;IndexSchema), OCIStringPtr(envhp, ix-&gt;IndexName),
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OCIStringPtr(envhp, colinfo-&gt;TableName));
&nbsp;&nbsp;}

&nbsp;&nbsp;/***************************************
&nbsp;&nbsp;* Parse and Execute delete Statement   *
&nbsp;&nbsp;****************************************/

/* allocate stmt handle */
&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCIHandleAlloc((dvoid *)envhp, (dvoid **)&amp;stmthp,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(ub4)OCI_HTYPE_STMT, (size_t)0, (dvoid **)0)))
&nbsp;&nbsp;&nbsp;&nbsp;return(rval);

/* prepare the statement */
&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCIStmtPrepare(stmthp, errhp, (text *)delstmt,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(ub4)strlen(delstmt), OCI_NTV_SYNTAX, OCI_DEFAULT)))
&nbsp;&nbsp;&nbsp;&nbsp;return(rval);

&nbsp;&nbsp;if ( (idxflag &amp; ODCI_INDEX_RANGE_PARTN) == ODCI_INDEX_RANGE_PARTN)
&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;/* Convert partiden to integer from OCINumber */
&nbsp;&nbsp;&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCINumberToInt(errhp, &amp;(colinfo-&gt;TablePartitionIden),
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sizeof(partiden), OCI_NUMBER_UNSIGNED, ( void *)&amp;partiden)))
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return(rval);

&nbsp;&nbsp;&nbsp;&nbsp;/* Set up bind for partiden */
&nbsp;&nbsp;&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCIBindByName(stmthp, &amp;bndp, errhp, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(text *)":partiden", sizeof(":partiden")-1, (dvoid *)&amp;partiden,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sb4)(sizeof(partiden)), (ub2)SQLT_INT, (dvoid *)0, (ub2 *)0,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(ub2 *)0, (ub4)0, (ub4 *)0, (ub4)OCI_DEFAULT)))
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return(rval);
&nbsp;&nbsp;}

&nbsp;&nbsp;/* Set up bind for rid */
&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCIBindByName(stmthp, &amp;bndp, errhp, (text *)":rr",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sizeof(":rr")-1, (dvoid *)rid, (sb4)(strlen(rid)+1), (ub2)SQLT_STR, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(dvoid *)0, (ub2 *)0, (ub2 *)0, (ub4)0, (ub4 *)0, (ub4)OCI_DEFAULT)))
&nbsp;&nbsp;&nbsp;&nbsp;return(rval);

&nbsp;&nbsp;/* Execute statement */
&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCIStmtExecute(svchp, stmthp, errhp, (ub4)1, (ub4)0,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(OCISnapshot *)NULL, (OCISnapshot *)NULL, (ub4)OCI_DEFAULT)))
&nbsp;&nbsp;&nbsp;&nbsp;return(rval);

&nbsp;&nbsp;/* free stmt handle */
&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCIHandleFree((dvoid *)stmthp, (ub4)OCI_HTYPE_STMT)))
&nbsp;&nbsp;&nbsp;&nbsp;return(rval);

&nbsp;&nbsp;return(rval);
}</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-6974D2BC-6737-4E9E-A4FF-188142F339E9" name="GUID-6974D2BC-6737-4E9E-A4FF-188142F339E9"></a><h5 id="ADDCI-GUID-6974D2BC-6737-4E9E-A4FF-188142F339E9" class="sect5"><span class="enumeration_section">16.4.6.4 </span>Implementing ODCIIndexUpdate() for PSBTree in C
                     </h5>
                     <div>
                        <div class="section">
                           <p>The update routine constructs a SQL statement to update a row in the index table corresponding to the row being updated in the base table. The row in the index table is identified by the value of <code class="codeph">rowid</code> that is passed in as a parameter to this routine. The old column value (<code class="codeph">oldval</code>) is replaced by the new value (<code class="codeph">newval</code>).
                           </p><pre class="oac_no_warn" dir="ltr">OCINumber *qxiqtbspu(
&nbsp;&nbsp;OCIExtProcContext *ctx,
&nbsp;&nbsp;ODCIIndexInfo     *ix,
&nbsp;&nbsp;ODCIIndexInfo_ind *ix_ind,
&nbsp;&nbsp;char              *rid,
&nbsp;&nbsp;short             rid_ind,
&nbsp;&nbsp;char              *oldval,
&nbsp;&nbsp;short             oldval_ind,
&nbsp;&nbsp;char              *newval,
&nbsp;&nbsp;short             newval_ind,
&nbsp;&nbsp;ODCIEnv           *env,
&nbsp;&nbsp;ODCIEnv_ind       *env_ind)
{
&nbsp;&nbsp;OCIEnv *envhp = (OCIEnv *) 0;             /* env. handle */
&nbsp;&nbsp;OCISvcCtx *svchp = (OCISvcCtx *) 0;       /* service handle */
&nbsp;&nbsp;OCIError *errhp = (OCIError *) 0;         /* error handle */
&nbsp;&nbsp;OCIStmt *stmthp = (OCIStmt *) 0;          /* statement handle */
&nbsp;&nbsp;OCIBind *bndp = (OCIBind *) 0;            /* bind handle */

&nbsp;&nbsp;int retval = (int)ODCI_SUCCESS;           /* return from this function */
&nbsp;&nbsp;OCINumber *rval = (OCINumber *)0;

&nbsp;&nbsp;char updstmt[2000];                       /* sql upate statement */
&nbsp;&nbsp;ODCIColInfo  *colinfo;                    /* column info */
&nbsp;&nbsp;ODCIColInfo_ind  *colinfo_ind;
&nbsp;&nbsp;boolean exists = TRUE;
&nbsp;&nbsp;unsigned int partiden;                    /* table partition iden */ 
&nbsp;&nbsp;unsigned int idxflag;                     /* index info flag  

&nbsp;&nbsp;/* Get oci handles */
&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCIExtProcGetEnv(ctx, &amp;envhp, &amp;svchp, &amp;errhp)))
&nbsp;&nbsp;&nbsp;&nbsp;return(rval);

&nbsp;&nbsp;/* set up return code */
&nbsp;&nbsp;rval = (OCINumber *)OCIExtProcAllocCallMemory(ctx, sizeof(OCINumber));
&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCINumberFromInt(errhp, (dvoid *)&amp;retval,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sizeof(retval), OCI_NUMBER_SIGNED, rval)))
&nbsp;&nbsp;&nbsp;&nbsp;return(rval);

&nbsp;&nbsp;/* Convert idxflag to integer from OCINumber */
&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCINumberToInt(errhp, &amp;(ix-&gt;IndexInfoFlags),
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sizeof(idxflag), OCI_NUMBER_UNSIGNED, ( void *)&amp;idxflag)))
&nbsp;&nbsp;&nbsp;&nbsp;return(rval);

&nbsp;&nbsp;/*****************************
&nbsp;&nbsp;* Construct update Statement *
&nbsp;&nbsp;******************************/
&nbsp;&nbsp;if ( (idxflag &amp; ODCI_INDEX_RANGE_PARTN) != ODCI_INDEX_RANGE_PARTN)
&nbsp;&nbsp;&nbsp;&nbsp;(void)sprintf(updstmt, "UPDATE %s.%s_sbtree SET f1 = :newval WHERE f2 = :rr",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OCIStringPtr(envhp, ix-&gt;IndexSchema), OCIStringPtr(envhp, ix-&gt;IndexName));
&nbsp;&nbsp;else
&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCICollGetElem(envhp, errhp, OCIColl *)ix-&gt;IndexCols,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(sb4)0, &amp;exists, (void **) &amp;colinfo, (void **) &amp;colinfo_ind)))
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return(rval);

&nbsp;&nbsp;&nbsp;&nbsp;(void)sprintf(updstmt, "UPDATE %s.%s_sbtree partition 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(DATAOBJ_TO_PARTITION(%s, :partiden)) SET f1 = :newval WHERE f2 = :rr",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OCIStringPtr(envhp, ix-&gt;IndexSchema), OCIStringPtr(envhp, ix-&gt;IndexName),
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OCIStringPtr(envhp, colinfo-&gt;TableName));
&nbsp;&nbsp;}

&nbsp;&nbsp;/****************************************
&nbsp;&nbsp;* Parse and Execute Create Statement   *
&nbsp;&nbsp;****************************************/

&nbsp;&nbsp;/* allocate stmt handle */
&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCIHandleAlloc((dvoid *)envhp, (dvoid **)&amp;stmthp,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(ub4)OCI_HTYPE_STMT, (size_t)0, (dvoid **)0)))
&nbsp;&nbsp;&nbsp;&nbsp;return(rval);

&nbsp;&nbsp;/* prepare the statement */
&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCIStmtPrepare(stmthp, errhp, (text *)updstmt,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(ub4)strlen(updstmt), OCI_NTV_SYNTAX, OCI_DEFAULT)))
&nbsp;&nbsp;&nbsp;&nbsp;return(rval);

&nbsp;&nbsp;if ( (idxflag &amp; ODCI_INDEX_RANGE_PARTN) == ODCI_INDEX_RANGE_PARTN)
&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;/* Convert partiden to integer from OCINumber */
&nbsp;&nbsp;&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCINumberToInt(errhp, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;(colinfo-&gt;TablePartitionIden), sizeof(partiden), OCI_NUMBER_UNSIGNED,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( void *)&amp;partiden)))
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return(rval);

&nbsp;&nbsp;&nbsp;&nbsp;/* Set up bind for partiden */
&nbsp;&nbsp;&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCIBindByName(stmthp, &amp;bndp, errhp, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(text *)":partiden", sizeof(":partiden")-1, (dvoid *)&amp;partiden,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(sb4)(sizeof(partiden)), (ub2)SQLT_INT, (dvoid *)0, (ub2 *)0,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(ub2 *)0, (ub4)0, (ub4 *)0, (ub4)OCI_DEFAULT)))
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return(rval);
&nbsp;&nbsp;}

&nbsp;&nbsp;/* Set up bind for newval */
&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCIBindByName(stmthp, &amp;bndp, errhp, (text *)":newval",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sizeof(":newval")-1, (dvoid *)newval, (sb4)(strlen(newval)+1), 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(ub2)SQLT_STR, (dvoid *)0, (ub2 *)0, (ub2 *)0, (ub4)0, (ub4 *)0, (
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ub4)OCI_DEFAULT)))
&nbsp;&nbsp;&nbsp;&nbsp;return(rval);

&nbsp;&nbsp;/* Set up bind for rid */
&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCIBindByName(stmthp, &amp;bndp, errhp, (text *)":rr",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sizeof(":rr")-1, (dvoid *)rid, (sb4)(strlen(rid)+1), (ub2)SQLT_STR, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(dvoid *)0, (ub2 *)0, (ub2 *)0, (ub4)0, (ub4 *)0, (ub4)OCI_DEFAULT)))
&nbsp;&nbsp;&nbsp;&nbsp;return(rval);

&nbsp;&nbsp;/* Execute statement */
&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCIStmtExecute(svchp, stmthp, errhp, (ub4)1,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ub4)0, (OCISnapshot *)NULL, (OCISnapshot *)NULL, (ub4)OCI_DEFAULT)))
&nbsp;&nbsp;&nbsp;&nbsp;return(rval);

&nbsp;&nbsp;/* free stmt handle */
&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCIHandleFree((dvoid *)stmthp, (ub4)OCI_HTYPE_STMT)))
&nbsp;&nbsp;&nbsp;&nbsp;return(rval);

&nbsp;&nbsp;return(rval);
}</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-7B9542BB-89EA-4069-8D0F-0E55B3187F83" name="GUID-7B9542BB-89EA-4069-8D0F-0E55B3187F83"></a><h5 id="ADDCI-GUID-7B9542BB-89EA-4069-8D0F-0E55B3187F83" class="sect5"><span class="enumeration_section">16.4.6.5 </span>Implementing ODCIIndexStart() for PSBTREE in C
                     </h5>
                     <div>
                        <div class="section">
                           <p>The start routine performs the setup for an <code class="codeph">psbtree</code> index scan. The query information in terms of the operator predicate, its arguments, and the bounds on return values are passed in as parameters to this function. The scan context that is shared among the index scan routines is an instance of the type <code class="codeph">psbtree_im</code>. 
                           </p>
                           <p>This function sets up a cursor that scans the index table. The scan retrieves the stored rowids for the rows in the index table that satisfy the specified predicate. The predicate for the index table is generated based on the operator predicate information that is passed in as parameters. For example, if the operator predicate is of the form <code class="codeph"> eq(col, 'joe') = 1</code>, then the predicate on the index table is set up to be <code class="codeph"> f1 = 'joe'</code>.
                           </p>
                           <p>This function uses the <code class="codeph">struct</code>s <code class="codeph">qxiqtim</code>, <code class="codeph">qxiqtin</code>, and <code class="codeph">qxiqtcx</code>, which were demonstrated in <a href="example-for-PSBTREE-extensible-indexing.html#GUID-23A0F15E-6AAC-49EB-9DF1-82F732C657CE__CACBHEBF">Example 16-6</a> and <a href="example-for-PSBTREE-extensible-indexing.html#GUID-23A0F15E-6AAC-49EB-9DF1-82F732C657CE__CACCIGGI">Example 16-7</a>.
                           </p><pre class="oac_no_warn" dir="ltr">OCINumber *qxiqtbsps(
&nbsp;&nbsp;OCIExtProcContext *ctx,
&nbsp;&nbsp;qxiqtim           *sctx,
&nbsp;&nbsp;qxiqtin           *sctx_ind,
&nbsp;&nbsp;ODCIIndexInfo     *ix,
&nbsp;&nbsp;ODCIIndexInfo_ind *ix_ind,
&nbsp;&nbsp;ODCIPredInfo      *pr,
&nbsp;&nbsp;ODCIPredInfo_ind  *pr_ind,
&nbsp;&nbsp;ODCIQueryInfo     *qy,
&nbsp;&nbsp;ODCIQueryInfo_ind *qy_ind,
&nbsp;&nbsp;OCINumber         *strt,
&nbsp;&nbsp;short             strt_ind,
&nbsp;&nbsp;OCINumber         *stop,
&nbsp;&nbsp;short             stop_ind,
&nbsp;&nbsp;char              *cmpval,
&nbsp;&nbsp;short             cmpval_ind,
&nbsp;&nbsp;ODCIEnv           *env,
&nbsp;&nbsp;ODCIEnv_ind       *env_ind)
{
&nbsp;&nbsp;sword status;
&nbsp;&nbsp;OCIEnv *envhp = (OCIEnv *) 0;                               /* env. handle */
&nbsp;&nbsp;OCISvcCtx *svchp = (OCISvcCtx *) 0;                      /* service handle */
&nbsp;&nbsp;OCIError *errhp = (OCIError *) 0;                          /* error handle */
&nbsp;&nbsp;OCISession *usrhp = (OCISession *) 0;                       /* user handle */
&nbsp;&nbsp;qxiqtcx *icx = (qxiqtcx *) 0;         /* state to be saved for later calls */

&nbsp;&nbsp;int strtval;                   /* start bound */
&nbsp;&nbsp;int stopval;                   /* stop bound */

&nbsp;&nbsp;int errnum = 29400;            /* choose some oracle error number */
&nbsp;&nbsp;char errmsg[512];              /* error message buffer */
&nbsp;&nbsp;size_t errmsglen;              /* Length of error message */

&nbsp;&nbsp;char relop[3];                 /* relational operator used in sql stmt */
&nbsp;&nbsp;char selstmt[2000];            /* sql select statement */

&nbsp;&nbsp;int retval = (int)ODCI_SUCCESS;       /* return from this function */
&nbsp;&nbsp;OCINumber *rval = (OCINumber *)0;
&nbsp;&nbsp;ub4 key;                              /* key value set in "sctx" */

&nbsp;&nbsp;ub1 *rkey;                            /* key to retrieve context */
&nbsp;&nbsp;ub4 rkeylen;                          /* length of key */
&nbsp;&nbsp;ODCIColInfo  *colinfo;                /* column info */
&nbsp;&nbsp;ODCIColInfo_ind  *colinfo_ind;
&nbsp;&nbsp;boolean exists = TRUE;
&nbsp;&nbsp;unsigned int partiden;                /* table partition iden */ 
&nbsp;&nbsp;unsigned int idxflag;                 /* index info flag  

&nbsp;&nbsp;/* Get oci handles */
&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCIExtProcGetEnv(ctx, &amp;envhp, &amp;svchp, &amp;errhp)))
&nbsp;&nbsp;&nbsp;&nbsp;return(rval);

&nbsp;&nbsp;/* set up return code */
&nbsp;&nbsp;rval = (OCINumber *)OCIExtProcAllocCallMemory(ctx, sizeof(OCINumber));
&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCINumberFromInt(errhp, (dvoid *)&amp;retval,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sizeof(retval), OCI_NUMBER_SIGNED, rval)))
&nbsp;&nbsp;&nbsp;&nbsp;return(rval);

&nbsp;&nbsp;/* get the user handle */
&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCIAttrGet((dvoid *)svchp, (ub4)OCI_HTYPE_SVCCTX,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(dvoid *)&amp;usrhp, (ub4 *)0, (ub4)OCI_ATTR_SESSION, errhp)))
&nbsp;&nbsp;&nbsp;&nbsp;return(rval);

&nbsp;&nbsp;/**********************************************/
&nbsp;&nbsp;/* Allocate memory to hold index scan context */
&nbsp;&nbsp;/**********************************************/
&nbsp;&nbsp;if (sctx_ind -&gt;atomic_qxiqtin == OCI_IND_NULL ||
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sctx_ind -&gt;scind_qxiqtin == OCI_IND_NULL)
&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCIMemoryAlloc((dvoid *)usrhp, errhp, (dvoid **)&amp;icx,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OCI_DURATION_STATEMENT, (ub4)(sizeof(qxiqtcx)), OCI_MEMORY_CLEARED)))
&nbsp;&nbsp;&nbsp;&nbsp;return(rval);

&nbsp;&nbsp;icx-&gt;stmthp = (OCIStmt *)0;
&nbsp;&nbsp;icx-&gt;defnp = (OCIDefine *)0;
&nbsp;&nbsp;icx-&gt;bndp = (OCIBind *)0;
&nbsp;&nbsp;}

&nbsp;&nbsp;else
&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;/*************************/
&nbsp;&nbsp;&nbsp;&nbsp;/* Retrieve scan context */
&nbsp;&nbsp;&nbsp;&nbsp;/*************************/
&nbsp;&nbsp;&nbsp;&nbsp;rkey = OCIRawPtr(envhp, sctx-&gt;sctx_qxiqtim);
&nbsp;&nbsp;&nbsp;&nbsp;rkeylen = OCIRawSize(envhp, sctx-&gt;sctx_qxiqtim);

&nbsp;&nbsp;&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCIContextGetValue((dvoid *)usrhp, errhp,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rkey, (ub1)rkeylen, (dvoid **)&amp;(icx))))
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return(rval);
&nbsp;&nbsp;}

&nbsp;&nbsp;/***********************************/
&nbsp;&nbsp;/* Check that the bounds are valid */
&nbsp;&nbsp;/***********************************/
&nbsp;&nbsp;/* convert from oci numbers to native numbers */
&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCINumberToInt(errhp, strt, sizeof(strtval), 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OCI_NUMBER_SIGNED, (dvoid *)&amp;strtval)))
&nbsp;&nbsp;&nbsp;&nbsp;return(rval);

&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCINumberToInt(errhp, stop, sizeof(stopval),
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OCI_NUMBER_SIGNED, (dvoid *)&amp;stopval)))
&nbsp;&nbsp;&nbsp;&nbsp;return(rval);

&nbsp;&nbsp;/* verify that strtval/stopval are both either 0 or 1 */
&nbsp;&nbsp;if (!(((strtval == 0) &amp;&amp; (stopval == 0)) || ((strtval == 1) &amp;&amp; (stopval == 1))))
&nbsp;&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;strcpy(errmsg, (char *)"Incorrect predicate for sbtree operator");
&nbsp;&nbsp;&nbsp;&nbsp;errmsglen = (size_t)strlen(errmsg);
&nbsp;&nbsp;&nbsp;&nbsp;if (OCIExtProcRaiseExcpWithMsg(ctx, errnum, (text *)errmsg, errmsglen)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;!= OCIEXTPROC_SUCCESS)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* Use cartridge error services here */;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return(rval);
&nbsp;&nbsp;&nbsp;&nbsp;}

&nbsp;&nbsp;/*********************************************/
&nbsp;&nbsp;/* Generate the SQL statement to be executed */
&nbsp;&nbsp;/*********************************************/
&nbsp;&nbsp;if (memcmp((dvoid *)OCIStringPtr(envhp, pr-&gt;ObjectName), (dvoid *)"EQ", 2) == 0)
&nbsp;&nbsp;&nbsp;&nbsp;if (strtval == 1)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;strcpy(relop, (char *)"=");
&nbsp;&nbsp;&nbsp;&nbsp;else
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;strcpy(relop, (char *)"!=");
&nbsp;&nbsp;&nbsp;&nbsp;else if 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(memcmp((dvoid *)OCIStringPtr(envhp, pr-&gt;ObjectName), (dvoid *)"LT",2) == 0)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (strtval == 1)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;strcpy(relop, (char *)"&lt;");
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;strcpy(relop, (char *)"&gt;=");
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (strtval == 1)
  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;strcpy(relop, (char *)"&gt;");
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;strcpy(relop, (char *)"&lt;=");

&nbsp;&nbsp;/* Convert idxflag to integer from OCINumber */
&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCINumberToInt(errhp, &amp;(ix-&gt;IndexInfoFlags),
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sizeof(idxflag), OCI_NUMBER_UNSIGNED, ( void *)&amp;idxflag)))
&nbsp;&nbsp;&nbsp;&nbsp;return(rval);

&nbsp;&nbsp;if ( (idxflag &amp; ODCI_INDEX_RANGE_PARTN) != ODCI_INDEX_RANGE_PARTN)
&nbsp;&nbsp;&nbsp;&nbsp;(void)sprintf(selstmt, "select f2 from %s.%s_sbtree where f1 %s :val",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OCIStringPtr(envhp, ix-&gt;IndexSchema), OCIStringPtr(envhp, ix-&gt;IndexName),
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;relop);
&nbsp;&nbsp;else
&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCICollGetElem(envhp, errhp, OCIColl *)ix-&gt;IndexCols,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(sb4)0, &amp;exists, (void **) &amp;colinfo, (void **) &amp;colinfo_ind)))
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return(rval);

&nbsp;&nbsp;&nbsp;&nbsp;/* Convert partiden to integer from OCINumber */
&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCINumberToInt(errhp, &amp;(colinfo-&gt;TablePartitionIden),
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sizeof(partiden), OCI_NUMBER_UNSIGNED, ( void *)&amp;partiden)))
&nbsp;&nbsp;&nbsp;&nbsp;return(rval);

&nbsp;&nbsp;(void)sprintf(selstmt, "select f2 from %s.%s_sbtree partition 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(DATAOBJ_TO_PARTITION(%s, %d)) where f1 %s :val",
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OCIStringPtr(envhp, ix-&gt;IndexSchema), OCIStringPtr(envhp, ix-&gt;IndexName),
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OCIStringPtr(envhp, colinfo-&gt;TableName), partiden, relop);
&nbsp;&nbsp;}
&nbsp;&nbsp;
&nbsp;&nbsp;/***********************************/
&nbsp;&nbsp;/* Parse, bind, define and execute */
&nbsp;&nbsp;/***********************************/
&nbsp;&nbsp;if (sctx_ind -&gt;atomic_qxiqtin == OCI_IND_NULL ||
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sctx_ind -&gt;scind_qxiqtin == OCI_IND_NULL)
&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;/* allocate stmt handle */
&nbsp;&nbsp;&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCIHandleAlloc((dvoid *)envhp, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(dvoid **)&amp;(icx-&gt;stmthp), (ub4)OCI_HTYPE_STMT, (size_t)0, (dvoid **)0)))  
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return(rval);
&nbsp;&nbsp;}

&nbsp;&nbsp;/* prepare the statement */
&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCIStmtPrepare(icx-&gt;stmthp, errhp, (text *)selstmt,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(ub4)strlen(selstmt), OCI_NTV_SYNTAX, OCI_DEFAULT)))
&nbsp;&nbsp;&nbsp;&nbsp;return(rval);

&nbsp;&nbsp;/* Set up bind for compare value */
&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCIBindByName(icx-&gt;stmthp, &amp;(icx-&gt;bndp), errhp, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(text *)":val", sizeof(":val")-1, (dvoid *)cmpval, (sb4)(strlen(cmpval)+1),
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(ub2)SQLT_STR, (dvoid *)0, (ub2 *)0, (ub2 *)0, (ub4)0, (ub4 *)0,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(ub4)OCI_DEFAULT)))
&nbsp;&nbsp;&nbsp;&nbsp;return(rval);

&nbsp;&nbsp;/* Set up define */
&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCIDefineByPos(icx-&gt;stmthp, &amp;(icx-&gt;defnp), errhp,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(ub4)1, (dvoid *)(icx-&gt;ridp), (sb4) sizeof(icx-&gt;ridp), (ub2)SQLT_STR, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(dvoid *)0, (ub2 *)0, (ub2 *)0, (ub4)OCI_DEFAULT)))
&nbsp;&nbsp;&nbsp;&nbsp;return(rval);

&nbsp;&nbsp;/* execute */
&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCIStmtExecute(svchp, icx-&gt;stmthp, errhp, (ub4)0,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(ub4)0, (OCISnapshot *)NULL, (OCISnapshot *)NULL, (ub4)OCI_DEFAULT)))
&nbsp;&nbsp;&nbsp;&nbsp;return(rval);

&nbsp;&nbsp;/************************************/
&nbsp;&nbsp;/* Set index context to be returned */
&nbsp;&nbsp;/************************************/
&nbsp;&nbsp;if (sctx_ind -&gt;atomic_qxiqtin == OCI_IND_NULL ||
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sctx_ind -&gt;scind_qxiqtin == OCI_IND_NULL)
&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;/* generate a key */
&nbsp;&nbsp;&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCIContextGenerateKey((dvoid *)usrhp, errhp, &amp;key)))
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return(rval);

&nbsp;&nbsp;&nbsp;&nbsp;/* set the memory address of the struct to be saved in the context */
&nbsp;&nbsp;&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCIContextSetValue((dvoid *)usrhp, errhp,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OCI_DURATION_STATEMENT, (ub1 *)&amp;key, (ub1)sizeof(key), (dvoid *)icx)))
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return(rval);

&nbsp;&nbsp;&nbsp;&nbsp;/* statement duration memory alloc for key */ 
&nbsp;&nbsp;&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCIMemoryAlloc(( void *)usrhp, errhp,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;( void **)&amp;(sctx-&gt;sctx_qxiqtim), OCI_DURATION_STATEMENT,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(sb4)(sizeof(key)+sizeof(ub4)), OCI_MEMORY_CLEARED)))
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return(rval);

&nbsp;&nbsp;&nbsp;&nbsp;/* set the key as the member of "sctx" */
&nbsp;&nbsp;&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCIRawAssignBytes(envhp, errhp, (ub1 *)&amp;key,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ub4)sizeof(key), &amp;(sctx-&gt;sctx_qxiqtim))))
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return(rval);

&nbsp;&nbsp;&nbsp;&nbsp;sctx_ind-&gt;atomic_qxiqtin = OCI_IND_NOTNULL;
&nbsp;&nbsp;&nbsp;&nbsp;sctx_ind-&gt;scind_qxiqtin = OCI_IND_NOTNULL;

&nbsp;&nbsp;&nbsp;&nbsp;return(rval);
&nbsp;&nbsp;}

&nbsp;&nbsp;return(rval);
}</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="CACGCEBA"></a><div class="props_rev_3"><a id="GUID-9034448B-7A7C-4A11-A904-6E8954792162" name="GUID-9034448B-7A7C-4A11-A904-6E8954792162"></a><h5 id="ADDCI-GUID-9034448B-7A7C-4A11-A904-6E8954792162" class="sect5"><span class="enumeration_section">16.4.6.6 </span>Implementing ODCIIndexFetch() for PSBTREE in C
                     </h5>
                     <div>
                        <div class="section">
                           <p>The scan context set up by the start routine is passed in as a parameter to the fetch routine. This function first retrieves the 4-byte key from the scan context. The C mapping for the scan context is <code class="codeph">qxiqtim</code> (see <a href="example-for-PSBTREE-extensible-indexing.html#GUID-23A0F15E-6AAC-49EB-9DF1-82F732C657CE__CACBHEBF">Example 16-6</a>). Next, key is used to look up the OCI context. This gives the memory address of the <code class="codeph">qxiqtcx</code> structure (see <a href="example-for-PSBTREE-extensible-indexing.html#GUID-23A0F15E-6AAC-49EB-9DF1-82F732C657CE__CACCIGGI">Example 16-7</a>) that holds the OCI handles. 
                           </p>
                           <p>This function returns the next batch of rowids that satisfy the operator predicate. It uses the value of the <code class="codeph">nrows</code> parameter as the size of the batch. It repeatedly fetches rowids from the open cursor and populates the <code class="codeph">rowid</code> list. When the batch is full or when there are no more rowids left, the function returns them back to the Oracle server.
                           </p><pre class="oac_no_warn" dir="ltr">OCINumber *qxiqtbspf(
&nbsp;&nbsp;OCIExtProcContext *ctx,
&nbsp;&nbsp;qxiqtim           *self,
&nbsp;&nbsp;qxiqtin           *self_ind,
&nbsp;&nbsp;OCINumber         *nrows,
&nbsp;&nbsp;short             nrows_ind,
&nbsp;&nbsp;OCIArray          **rids,
&nbsp;&nbsp;short             *rids_ind,
&nbsp;&nbsp;ODCIEnv           *env,
&nbsp;&nbsp;ODCIEnv_ind       *env_ind)
{
&nbsp;&nbsp;sword status;
&nbsp;&nbsp;OCIEnv *envhp = (OCIEnv *) 0;                               /* env. handle */
&nbsp;&nbsp;OCISvcCtx *svchp = (OCISvcCtx *) 0;                      /* service handle */
&nbsp;&nbsp;OCIError *errhp = (OCIError *) 0;                          /* error handle */
&nbsp;&nbsp;OCISession *usrhp = (OCISession *) 0;                       /* user handle */
&nbsp;&nbsp;qxiqtcx *icx = (qxiqtcx *) 0;         /* state to be saved for later calls */

&nbsp;&nbsp;int idx = 1;
&nbsp;&nbsp;int nrowsval;

&nbsp;&nbsp;OCIArray *ridarrp = *rids;                  /* rowid collection */
&nbsp;&nbsp;OCIString *ridstr = (OCIString *)0;

&nbsp;&nbsp;int done = 0;
&nbsp;&nbsp;int retval = (int)ODCI_SUCCESS;
&nbsp;&nbsp;OCINumber *rval = (OCINumber *)0;

&nbsp;&nbsp;ub1 *key;                                   /* key to retrieve context */
&nbsp;&nbsp;ub4 keylen;                                 /* length of key */

&nbsp;&nbsp;/*******************/
&nbsp;&nbsp;/* Get OCI handles */
&nbsp;&nbsp;/*******************/
&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCIExtProcGetEnv(ctx, &amp;envhp, &amp;svchp, &amp;errhp)))
&nbsp;&nbsp;&nbsp;&nbsp;return(rval);

&nbsp;&nbsp;/* set up return code */
&nbsp;&nbsp;rval = (OCINumber *)OCIExtProcAllocCallMemory(ctx, sizeof(OCINumber));
&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCINumberFromInt(errhp, (dvoid *)&amp;retval,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sizeof(retval), OCI_NUMBER_SIGNED, rval)))
&nbsp;&nbsp;&nbsp;&nbsp;return(rval);

&nbsp;&nbsp;/* get the user handle */
&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCIAttrGet((dvoid *)svchp, (ub4)OCI_HTYPE_SVCCTX,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(dvoid *)&amp;usrhp, (ub4 *)0, (ub4)OCI_ATTR_SESSION, errhp)))
&nbsp;&nbsp;&nbsp;&nbsp;return(rval);

&nbsp;&nbsp;/********************************/
&nbsp;&nbsp;/* Retrieve context from key    */
&nbsp;&nbsp;/********************************/
&nbsp;&nbsp;key = OCIRawPtr(envhp, self-&gt;sctx_qxiqtim);
&nbsp;&nbsp;keylen = OCIRawSize(envhp, self-&gt;sctx_qxiqtim);

&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCIContextGetValue((dvoid *)usrhp, errhp, key,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(ub1)keylen, (dvoid **)&amp;(icx))))
&nbsp;&nbsp;&nbsp;&nbsp;return(rval);

&nbsp;&nbsp;/* get value of nrows */
&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCINumberToInt(errhp, nrows, sizeof(nrowsval),
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OCI_NUMBER_SIGNED, (dvoid *)&amp;nrowsval)))
&nbsp;&nbsp;&nbsp;&nbsp;return(rval);

&nbsp;&nbsp;/****************/
&nbsp;&nbsp;/* Fetch rowids */
&nbsp;&nbsp;/****************/
&nbsp;&nbsp;while (!done)
&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;if (idx &gt; nrowsval)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;done = 1;
&nbsp;&nbsp;&nbsp;&nbsp;else
&nbsp;&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;status =OCIStmtFetch(icx-&gt;stmthp, errhp, (ub4)1, (ub2) 0, (ub4)OCI_DEFAULT);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (status == OCI_NO_DATA)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;short col_ind = OCI_IND_NULL;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* have to create dummy oci string */
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OCIStringAssignText(envhp, errhp, (text *)"dummy", (ub2)5, &amp;ridstr);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* append null element to collection */
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCICollAppend(envhp, errhp, (dvoid *)ridstr,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(dvoid *)&amp;col_ind, (OCIColl *)ridarrp)))
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return(rval);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;done = 1;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else if (status == OCI_SUCCESS)
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OCIStringAssignText(envhp, errhp, (text *)icx-&gt;ridp, (ub2)18, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OCIString **)&amp;ridstr);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/* append rowid to collection */
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCICollAppend(envhp, errhp, (dvoid *)ridstr,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(dvoid *)0, (OCIColl *)ridarrp)))
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return(rval);
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;idx++;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else if (qxiqtce(ctx, errhp, status))
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return(rval);
&nbsp;&nbsp;&nbsp;&nbsp;}
&nbsp;&nbsp;}

&nbsp;&nbsp;/* free ridstr finally */
&nbsp;&nbsp;if (ridstr &amp;&amp;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(qxiqtce(ctx, errhp, OCIStringResize(envhp, errhp, (ub4)0, &amp;ridstr))))
&nbsp;&nbsp;&nbsp;&nbsp;return(rval);

&nbsp;&nbsp;*rids_ind = OCI_IND_NOTNULL;

&nbsp;&nbsp;return(rval);
}</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="CACBFHDA"></a><div class="props_rev_3"><a id="GUID-43F5A575-F265-43F0-A513-6495057E0BC4" name="GUID-43F5A575-F265-43F0-A513-6495057E0BC4"></a><h5 id="ADDCI-GUID-43F5A575-F265-43F0-A513-6495057E0BC4" class="sect5"><span class="enumeration_section">16.4.6.7 </span>Implementing ODCIIndexClose() for PSBTREE in C
                     </h5>
                     <div>
                        <div class="section">
                           <p>The scan context set up by the start routine is passed in as a parameter to the close routine. This function first retrieves the 4-byte key from the scan context. The C mapping for the scan context is <code class="codeph">qxiqtim</code> (see <a href="example-for-PSBTREE-extensible-indexing.html#GUID-23A0F15E-6AAC-49EB-9DF1-82F732C657CE__CACBHEBF">Example 16-6</a>). Next, the OCI context is looked up based on the key. This gives the memory address of the structure that holds the OCI handles, the <code class="codeph">qxiqtcx</code> structure (see <a href="example-for-PSBTREE-extensible-indexing.html#GUID-23A0F15E-6AAC-49EB-9DF1-82F732C657CE__CACCIGGI">Example 16-7</a>). 
                           </p>
                           <p>This function closes and frees all the OCI handles. It also frees the memory that was allocated in the start routine. </p><pre class="oac_no_warn" dir="ltr">OCINumber *qxiqtbspc(
&nbsp;&nbsp;OCIExtProcContext *ctx,
&nbsp;&nbsp;qxiqtim           *self,
&nbsp;&nbsp;qxiqtin           *self_ind,
&nbsp;&nbsp;ODCIEnv           *env,
&nbsp;&nbsp;ODCIEnv_ind       *env_ind)
{
&nbsp;&nbsp;sword status;
&nbsp;&nbsp;OCIEnv *envhp = (OCIEnv *) 0;                               /* env. handle */
&nbsp;&nbsp;OCISvcCtx *svchp = (OCISvcCtx *) 0;                      /* service handle */
&nbsp;&nbsp;OCIError *errhp = (OCIError *) 0;                          /* error handle */
&nbsp;&nbsp;OCISession *usrhp = (OCISession *) 0;                       /* user handle */
&nbsp;&nbsp;qxiqtcx *icx = (qxiqtcx *) 0;         /* state to be saved for later calls */

&nbsp;&nbsp;int retval = (int) ODCI_SUCCESS;
&nbsp;&nbsp;OCINumber *rval = (OCINumber *)0;

&nbsp;&nbsp;ub1 *key;                                   /* key to retrieve context */
&nbsp;&nbsp;ub4 keylen;                                 /* length of key */

&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCIExtProcGetEnv(ctx, &amp;envhp, &amp;svchp, &amp;errhp)))
&nbsp;&nbsp;&nbsp;&nbsp;return(rval);

&nbsp;&nbsp;/* set up return code */
&nbsp;&nbsp;rval = (OCINumber *)OCIExtProcAllocCallMemory(ctx, sizeof(OCINumber));
&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCINumberFromInt(errhp, (dvoid *)&amp;retval,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sizeof(retval), OCI_NUMBER_SIGNED, rval)))
&nbsp;&nbsp;&nbsp;&nbsp;return(rval);

&nbsp;&nbsp;/* get the user handle */
&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCIAttrGet((dvoid *)svchp, (ub4)OCI_HTYPE_SVCCTX,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(dvoid *)&amp;usrhp, (ub4 *)0,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(ub4)OCI_ATTR_SESSION, errhp)))
&nbsp;&nbsp;&nbsp;&nbsp;return(rval);
&nbsp;&nbsp;/********************************/
&nbsp;&nbsp;/* Retrieve context using key   */
&nbsp;&nbsp;/********************************/
&nbsp;&nbsp;key = OCIRawPtr(envhp, self-&gt;sctx_qxiqtim);
&nbsp;&nbsp;keylen = OCIRawSize(envhp, self-&gt;sctx_qxiqtim);

&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCIContextGetValue((dvoid *)usrhp, errhp, key,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(ub1)keylen, (dvoid **)&amp;(icx))))
&nbsp;&nbsp;&nbsp;&nbsp;return(rval);

&nbsp;&nbsp;/* Free handles and memory */
&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCIHandleFree((dvoid *)icx-&gt;stmthp, 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(ub4)OCI_HTYPE_STMT)))
&nbsp;&nbsp;&nbsp;&nbsp;return(rval);

&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCIMemoryFree((dvoid *)usrhp, errhp, (dvoid *)icx)))
&nbsp;&nbsp;&nbsp;&nbsp;return(rval);

&nbsp;&nbsp;/* free the memory allocated for the index context. */
&nbsp;&nbsp;if (qxiqtce(ctx, errhp, OCIContextClearValue((dvoid *)usrhp, errhp, key,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(ub1)keylen)))
&nbsp;&nbsp;&nbsp;&nbsp;return(rval);

&nbsp;&nbsp;&nbsp;&nbsp;return(rval);
}</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="CACGICCC"></a><div class="props_rev_3"><a id="GUID-A0D7FF1A-BDBB-4675-AC9E-81429BCC2AE2" name="GUID-A0D7FF1A-BDBB-4675-AC9E-81429BCC2AE2"></a><h4 id="ADDCI-GUID-A0D7FF1A-BDBB-4675-AC9E-81429BCC2AE2" class="sect4"><span class="enumeration_section">16.4.7 </span>Implementing the Indextype for PSBTREE
                  </h4>
                  <div>
                     <p>You should create the indextype object and specify the list of operators that it supports. In addition, specify the name of the implementation type that implements the ODCIIndexXXX() interface routines.</p><pre class="oac_no_warn" dir="ltr">CREATE INDEXTYPE psbtree
FOR
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eq(VARCHAR2, VARCHAR2),
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lt(VARCHAR2, VARCHAR2),
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gt(VARCHAR2, VARCHAR2)
USING psbtree_im
WITH LOCAL RANGE PARTITION
WITH SYSTEM MANAGED STORAGE TABLES</pre></div>
               </div>
            </div><a id="ADDCI4920"></a><div class="props_rev_3"><a id="GUID-3D9A6C67-5E57-4AA1-A79D-DDE31EB0BD2F" name="GUID-3D9A6C67-5E57-4AA1-A79D-DDE31EB0BD2F"></a><h3 id="ADDCI-GUID-3D9A6C67-5E57-4AA1-A79D-DDE31EB0BD2F" class="sect3"><span class="enumeration_section">16.5 </span>Using PSBTREE
               </h3>
               <div>
                  <p>You should next create the indextype object and specify the list of operators that it supports. In addition, specify the name of the implementation type that implements the <code class="codeph">ODCIIndex</code><span class="italic"><code class="codeph">XXX</code></span><code class="codeph">()</code> interface routines. This step is demonstrated in the <a href="example-for-PSBTREE-extensible-indexing.html#GUID-A0D7FF1A-BDBB-4675-AC9E-81429BCC2AE2">Implementing the Indextype for PSBTREE</a> section.
                  </p>
                  <p>One typical usage scenario is to create a range partitioned table and populate it, as demonstrated in the <a href="example-for-PSBTREE-extensible-indexing.html#GUID-0EEFEAA7-3D43-4EEC-8B20-5CD2A1E52EF2">Creating and Populating a Partitioned Table for PSBTREE</a> section. 
                  </p>
                  <p>You can then create a <code class="codeph">psbtree</code> index on column <code class="codeph">f2</code>. The <code class="codeph">CREATE INDEX</code> statement specifies the indextype that should be used, as demonstrated in the <a href="example-for-PSBTREE-extensible-indexing.html#GUID-32F13F1C-CCB1-4A72-8330-454C3FE2CE4D">Creating a PSBTREE Index on a Column</a> section. 
                  </p>
                  <p>To execute a query that uses one of the <code class="codeph">psbtree</code> operators, use the code in the <a href="example-for-PSBTREE-extensible-indexing.html#GUID-F259EAA0-50E1-497F-BDA4-A409AE2D654C">Using PSBTREE Operators in a Query</a> section.
                  </p>
               </div><a id="CACCEACF"></a><div class="props_rev_3"><a id="GUID-0EEFEAA7-3D43-4EEC-8B20-5CD2A1E52EF2" name="GUID-0EEFEAA7-3D43-4EEC-8B20-5CD2A1E52EF2"></a><h4 id="ADDCI-GUID-0EEFEAA7-3D43-4EEC-8B20-5CD2A1E52EF2" class="sect4"><span class="enumeration_section">16.5.1 </span>Creating and Populating a Partitioned Table for PSBTREE
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">CREATE TABLE t1 (f1 NUMBER, f2 VARCHAR2(200))
PARTITION BY RANGE(f1)
(
&nbsp;&nbsp;PARTITION p1 VALUES LESS THAN (101),
&nbsp;&nbsp;PARTITION p2 VALUES LESS THAN (201),
&nbsp;&nbsp;PARTITION p3 VALUES LESS THAN (301),
&nbsp;&nbsp;PARTITION p4 VALUES LESS THAN (401)
 );
INSERT INTO t1 VALUES (10, 'aaaa');
INSERT INTO t1 VALUES (200, 'bbbb');
INSERT INTO t1 VALUES (100, 'cccc');
INSERT INTO t1 VALUES (300, 'dddd');
INSERT INTO t1 VALUES (400, 'eeee');
COMMIT;
</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CACJJHIG"></a><div class="props_rev_3"><a id="GUID-32F13F1C-CCB1-4A72-8330-454C3FE2CE4D" name="GUID-32F13F1C-CCB1-4A72-8330-454C3FE2CE4D"></a><h4 id="ADDCI-GUID-32F13F1C-CCB1-4A72-8330-454C3FE2CE4D" class="sect4"><span class="enumeration_section">16.5.2 </span>Creating a PSBTREE Index on a Column
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">CREATE INDEX it1 ON t1(f2) iINDEXTYPE IS psbtree LOCAL 
(PARTITION pe1 PARAMETERS('test1'), PARTITION pe2,
 PARTITION pe3, PARTITION pe4 PARAMETERS('test4')) 
PARAMETERS('test');
</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="CACHDCED"></a><div class="props_rev_3"><a id="GUID-F259EAA0-50E1-497F-BDA4-A409AE2D654C" name="GUID-F259EAA0-50E1-497F-BDA4-A409AE2D654C"></a><h4 id="ADDCI-GUID-F259EAA0-50E1-497F-BDA4-A409AE2D654C" class="sect4"><span class="enumeration_section">16.5.3 </span>Using PSBTREE Operators in a Query
                  </h4>
                  <div>
                     <div class="section"><pre class="oac_no_warn" dir="ltr">SELECT * FROMM t1 WHERE eq(f2, 'dddd') = 1 AND f1&gt;101 ;
</pre><p>The explain plan output for this query should look like this:</p><pre class="oac_no_warn" dir="ltr">OPERATION            OPTIONS                PARTITION_START       PARTITION_STOP
--------------------------------------------------------------------------------
SELECT STATEMENT
PARTITION RANGE      ITERATOR               2                     4
TABLE ACCESS         BY LOCAL INDEX ROWID   2                     4
DOMAIN INDEX</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='01722.sql.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="This chapter provides an overview of the Structured Query Language (SQL) and how Oracle Database processes SQL statements.">
      <meta name="description" content="This chapter provides an overview of the Structured Query Language (SQL) and how Oracle Database processes SQL statements.">
      <title>SQL</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database Concepts">
      <meta property="og:description" content="This chapter provides an overview of the Structured Query Language (SQL) and how Oracle Database processes SQL statements.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database Concepts">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-concepts.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-09T07:47:16-08:00">
      <meta name="dcterms.title" content="Database Concepts">
      <meta name="dcterms.dateCopyrighted" content="1993, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96138-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="oracle-data-access.html" title="Previous" type="text/html">
      <link rel="next" href="server-side-programming.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="CNCPT">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="oracle-data-access.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="server-side-programming.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database Concepts</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="oracle-data-access.html" property="item" typeof="WebPage"><span property="name">Oracle Data Access</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">SQL</li>
            </ol>
            <a id="GUID-DA48618A-A6BB-421A-A10A-02859D8ED9AD" name="GUID-DA48618A-A6BB-421A-A10A-02859D8ED9AD"></a><a id="CNCPT015"></a>
            
            <h2 id="CNCPT-GUID-DA48618A-A6BB-421A-A10A-02859D8ED9AD" class="sect2"><span class="enumeration_chapter">7 </span>SQL
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This chapter provides an overview of the <span class="bold">Structured Query Language (SQL)</span> and how Oracle Database processes SQL statements.
               </p>
               <p>This chapter includes the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="sql.html#GUID-CBD8FE77-BA6F-4241-A71C-2ADDDF43EA7F" title="SQL (pronounced sequel) is the set-based, high-level declarative computer language with which all programs and users access data in an Oracle database.">Introduction to SQL</a></p>
                  </li>
                  <li>
                     <p><a href="sql.html#GUID-662EE4B0-7D5E-43F5-806D-A2AE404D77BF" title="All operations performed on the information in an Oracle database are run using SQL statements. A SQL statement is a computer program or instruction that consists of identifiers, parameters, variables, names, data types, and SQL reserved words.">Overview of SQL Statements</a></p>
                  </li>
                  <li>
                     <p><a href="sql.html#GUID-3F42B1AA-530A-4144-8179-F0074832AF81" title="To understand how Oracle Database processes SQL statements, it is necessary to understand the part of the database called the optimizer (also known as the query optimizer or cost-based optimizer). All SQL statements use the optimizer to determine the most efficient means of accessing the specified data.">Overview of the Optimizer</a></p>
                  </li>
                  <li>
                     <p><a href="sql.html#GUID-0E8DFE97-F2DD-4183-8A4B-1EA9087E9E37" title="This section explains how Oracle Database processes SQL statements. Specifically, the section explains the way in which the database processes DDL statements to create objects, DML to modify data, and queries to retrieve data.">Overview of SQL Processing</a></p>
                  </li>
               </ul>
            </div><a id="CNCPT116"></a><div class="props_rev_3"><a id="GUID-CBD8FE77-BA6F-4241-A71C-2ADDDF43EA7F" name="GUID-CBD8FE77-BA6F-4241-A71C-2ADDDF43EA7F"></a><h3 id="CNCPT-GUID-CBD8FE77-BA6F-4241-A71C-2ADDDF43EA7F" class="sect3">Introduction to SQL</h3>
               <div>
                  <p>SQL (pronounced <span class="italic">sequel</span>) is the set-based, high-level declarative computer language with which all programs and users access data in an Oracle database.
                  </p>
                  <p>Although some Oracle tools and applications mask SQL use, all database tasks are performed using SQL. Any other data access method circumvents the security built into Oracle Database and potentially compromises data security and integrity.</p>
                  <p>SQL provides an interface to a relational database such as Oracle Database. SQL unifies tasks such as the following in one consistent language:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Creating, replacing, altering, and dropping objects</p>
                     </li>
                     <li>
                        <p>Inserting, updating, and deleting table rows</p>
                     </li>
                     <li>
                        <p>Querying data</p>
                     </li>
                     <li>
                        <p>Controlling access to the database and its objects</p>
                     </li>
                     <li>
                        <p>Guaranteeing database consistency and integrity</p>
                     </li>
                  </ul>
                  <p>SQL can be used interactively, which means that statements are entered manually into a program. SQL statements can also be embedded within a program written in a different language such as C or Java.</p>
                  <div class="infoboxnotealso" id="GUID-CBD8FE77-BA6F-4241-A71C-2ADDDF43EA7F__GUID-4056657B-1E17-4432-B452-B469E39F9BDF">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="q">"<a href="server-side-programming.html#GUID-6B5D98B7-A25D-4187-B3A9-43629E214635" title="In a nonprocedural language such as SQL, the set of data to be operated on is specified, but not the operations to be performed or the manner in which they are to be carried out.">Introduction to Server-Side Programming</a>"</span> and <span class="q">"<a href="concepts-for-database-developers.html#GUID-87F23274-B506-486B-8775-880016095EF5" title="You can use precompilers or Java translators to place SQL statements in source code, or you can use APIs to enable applications to interact with the database.">Client-Side Database Programming</a>"</span></p>
                        </li>
                        <li>
                           <p><a href="../sqlrf/Introduction-to-Oracle-SQL.html#SQLRF001" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for an introduction to SQL
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="CNCPT88899"></a><div class="props_rev_3"><a id="GUID-AF25E66F-965C-44B8-91B8-1A9F95FCF99D" name="GUID-AF25E66F-965C-44B8-91B8-1A9F95FCF99D"></a><h4 id="CNCPT-GUID-AF25E66F-965C-44B8-91B8-1A9F95FCF99D" class="sect4">SQL Data Access</h4>
                  <div>
                     <p>There are two broad families of computer languages: <strong class="term">declarative languages</strong> that are nonprocedural and describe <span class="italic">what</span> should be done, and <strong class="term">procedural languages</strong> such as C++ and Java that describe <span class="italic">how</span> things should be done.
                     </p>
                     <p>SQL is declarative in the sense that users specify the result that they want, not how to derive it. For example, the following statement queries records for employees whose last name begins with <code class="codeph">K</code>:
                     </p>
                     <p>The database performs the work of generating a procedure to navigate the data and retrieve the requested results. The declarative nature of SQL enables you to work with data at the logical level. You need be concerned with implementation details only when you manipulate the data. </p><pre class="pre codeblock"><code>SELECT   last_name, first_name
FROM     hr.employees
WHERE    last_name LIKE 'K%'
ORDER BY last_name, first_name;
</code></pre><p>The database retrieves all rows satisfying the <code class="codeph">WHERE</code> <a href="glossary.html#GUID-B5AA8627-E7DC-487B-8D4B-2DE3F1497A83"><span class="xrefglossterm">condition</span></a>, also called the <a href="glossary.html#GUID-891CF9E9-78CD-470C-9C4A-D65A101B2C38"><span class="xrefglossterm">predicate</span></a>, in a single step. The database can pass these rows as a unit to the user, to another SQL statement, or to an application. The application does not need to process the rows one by one, nor does the developer need to know how the rows are physically stored or retrieved.
                     </p>
                     <p>All SQL statements use the optimizer, a component of the database that determines the most efficient means of accessing the requested data. Oracle Database also supports techniques that you can use to make the optimizer perform its job better.</p>
                     <div class="infoboxnotealso" id="GUID-AF25E66F-965C-44B8-91B8-1A9F95FCF99D__GUID-6039675E-5D31-4863-9F14-B8A3915056B1">
                        <p class="notep1">See Also:</p>
                        <p><a href="../sqlrf/Basic-Elements-of-Oracle-SQL.html#SQLRF002" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for detailed information about SQL statements and other parts of SQL (such as operators, functions, and format models)
                        </p>
                     </div>
                  </div>
               </div><a id="CNCPT88900"></a><div class="props_rev_3"><a id="GUID-B383E550-BBF9-4449-A6B0-56B3B3C81A09" name="GUID-B383E550-BBF9-4449-A6B0-56B3B3C81A09"></a><h4 id="CNCPT-GUID-B383E550-BBF9-4449-A6B0-56B3B3C81A09" class="sect4">SQL Standards</h4>
                  <div>
                     <p>Oracle strives to follow industry-accepted standards and participates actively in SQL standards committees. </p>
                     <p>Industry-accepted committees are the American National Standards Institute (ANSI) and the International Organization for Standardization (ISO). Both ANSI and the ISO/IEC have accepted SQL as the standard language for relational databases.</p>
                     <p>The SQL standard consists of ten parts. One part (SQL/RPR:2012) is new in 2102. Five other parts were revised in 2011. For the other four parts, the 2008 version remains in place.</p>
                     <p><a href="glossary.html#GUID-48DAF4AC-49FB-453A-A48B-AF225FEA600B"><span class="xrefglossterm">Oracle SQL</span></a> includes many extensions to the ANSI/ISO standard SQL language, and Oracle Database tools and applications provide additional statements. The tools SQL*Plus, SQL Developer, and Oracle Enterprise Manager enable you to run any ANSI/ISO standard SQL statement against an Oracle database and any additional statements or functions available for those tools.
                     </p>
                     <div class="infoboxnotealso" id="GUID-B383E550-BBF9-4449-A6B0-56B3B3C81A09__GUID-3B81D71E-10B9-414A-BFFD-50FF553F5B8D">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="concepts-for-database-administrators.html#GUID-FA659979-25B7-4611-AA8D-48B5404301FE" title="Oracle provides several tools for use in administering a database.">Tools for Database Administrators</a>"</span> and <span class="q">"<a href="concepts-for-database-developers.html#GUID-D1C1BC1D-03C7-4A18-BB88-0D76F311DAF0" title="Oracle provides several tools for use in developing database applications. This section describes some commonly used development tools.">Tools for Database Developers</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/Oracle-and-Standard-SQL.html#SQLRF019" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for an explanation of the differences between Oracle SQL and standard SQL
                              </p>
                           </li>
                           <li>
                              <p><a href="../sqpug/SQL-Plus-quick-start.html#GUID-BF1995BD-EF9B-4EA2-9B32-7BFACDEB79DA" target="_blank"><span><cite>SQL*Plus User's Guide and Reference</cite></span></a> for SQL*Plus commands, including their distinction from SQL statements
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="CNCPT1730"></a><div class="props_rev_3"><a id="GUID-662EE4B0-7D5E-43F5-806D-A2AE404D77BF" name="GUID-662EE4B0-7D5E-43F5-806D-A2AE404D77BF"></a><h3 id="CNCPT-GUID-662EE4B0-7D5E-43F5-806D-A2AE404D77BF" class="sect3">Overview of SQL Statements</h3>
               <div>
                  <p>All operations performed on the information in an Oracle database are run using SQL <span class="bold">statements</span>. A SQL statement is a computer program or instruction that consists of identifiers, parameters, variables, names, data types, and SQL <span class="bold">reserved words</span>.
                  </p>
                  <div class="infoboxnote" id="GUID-662EE4B0-7D5E-43F5-806D-A2AE404D77BF__GUID-065C887C-0B78-44DA-8817-D30837ADBC63">
                     <p class="notep1">Note:</p>
                     <p>SQL reserved words have special meaning in SQL and should not be used for any other purpose. For example, <code class="codeph">SELECT</code> and <code class="codeph">UPDATE</code> are reserved words and should not be used as table names.
                     </p>
                  </div>
                  <p>A SQL statement must be the equivalent of a complete SQL sentence, such as:</p><pre class="oac_no_warn" dir="ltr">SELECT last_name, department_id FROM employees
</pre><p>Oracle Database only runs complete SQL statements. A fragment such as the following generates an error indicating that more text is required: </p><pre class="oac_no_warn" dir="ltr">SELECT last_name;
</pre><p>Oracle SQL statements are divided into the following categories: </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="sql.html#GUID-C25B548B-363A-4FE5-B4EE-784502BAAD08" title="Data definition language (DLL) statements define, structurally change, and drop schema objects.">Data Definition Language (DDL) Statements</a></p>
                     </li>
                     <li>
                        <p><a href="sql.html#GUID-90EA5D9B-76F2-4916-9F7E-CF0D8AA1A09D" title="Data manipulation language (DML) statements query or manipulate data in existing schema objects.">Data Manipulation Language (DML) Statements</a></p>
                     </li>
                     <li>
                        <p><a href="sql.html#GUID-73F24816-881A-4849-B8A7-EA9B446A24A7" title="Transaction control statements manage the changes made by DML statements and group DML statements into transactions.">Transaction Control Statements</a></p>
                     </li>
                     <li>
                        <p><a href="sql.html#GUID-261BEAAC-0897-465D-9137-D201CE80675C" title="Session control statements dynamically manage the properties of a user session.">Session Control Statements</a></p>
                     </li>
                     <li>
                        <p><a href="sql.html#GUID-9D63E5DD-E0EF-42AE-B460-74165BB016F3" title="A system control statement changes the properties of the database instance.">System Control Statement</a></p>
                     </li>
                     <li>
                        <p><a href="sql.html#GUID-AE8D7440-ED46-4FE8-9475-F3D0AD2E19CF" title="Embedded SQL statements incorporate DDL, DML, and transaction control statements within a procedural language program. .">Embedded SQL Statements</a></p>
                     </li>
                  </ul>
               </div><a id="CNCPT88901"></a><a id="CNCPT1732"></a><div class="props_rev_3"><a id="GUID-C25B548B-363A-4FE5-B4EE-784502BAAD08" name="GUID-C25B548B-363A-4FE5-B4EE-784502BAAD08"></a><h4 id="CNCPT-GUID-C25B548B-363A-4FE5-B4EE-784502BAAD08" class="sect4">Data Definition Language (DDL) Statements</h4>
                  <div>
                     <p>Data definition language (<span class="bold">DLL</span>) statements define, structurally change, and drop schema objects. 
                     </p>
                     <p>DDL enables you to alter attributes of an object without altering the applications that access the object. For example, you can add a column to a table accessed by a human resources application without rewriting the application. You can also use DDL to alter the structure of objects while database users are performing work in the database.</p>
                     <p>More specifically, DDL statements enable you to:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Create, alter, and drop schema objects and other database structures, including the database itself and database users. Most DDL statements start with the keywords <code class="codeph">CREATE</code>, <code class="codeph">ALTER</code>, or <code class="codeph">DROP</code>.
                           </p>
                        </li>
                        <li>
                           <p>Delete all the data in schema objects without removing the structure of these objects (<code class="codeph">TRUNCATE</code>).
                           </p>
                           <div class="infoboxnote" id="GUID-C25B548B-363A-4FE5-B4EE-784502BAAD08__GUID-10188635-F56C-421E-A96A-31825B8BD549">
                              <p class="notep1">Note:</p>
                              <p>Unlike <code class="codeph">DELETE</code>, <code class="codeph">TRUNCATE</code> generates no <a href="glossary.html#GUID-297B963A-989C-4720-B061-A2352FF72892"><span class="xrefglossterm">undo data</span></a>, which makes it faster than <code class="codeph">DELETE</code>. Also, <code class="codeph">TRUNCATE</code> does not invoke delete triggers
                              </p>
                           </div>
                        </li>
                        <li>
                           <p>Grant and revoke privileges and roles (<code class="codeph">GRANT</code>, <code class="codeph">REVOKE</code>).
                           </p>
                        </li>
                        <li>
                           <p>Turn auditing options on and off (<code class="codeph">AUDIT</code>, <code class="codeph">NOAUDIT</code>).
                           </p>
                        </li>
                        <li>
                           <p>Add a comment to the <a href="glossary.html#GUID-D6A3934F-BA6D-464F-9612-C683E20514A4"><span class="xrefglossterm">data dictionary</span></a> (<code class="codeph">COMMENT</code>).
                           </p>
                        </li>
                     </ul>
                     <div class="example" id="GUID-C25B548B-363A-4FE5-B4EE-784502BAAD08__CHDHBIGA">
                        <p class="titleinexample">Example 7-1 DDL Statements</p>
                        <p>The following example uses DDL statements to create the <code class="codeph">plants</code> table and then uses DML to insert two rows in the table. The example then uses DDL to alter the table structure, grant and revoke read privileges on this table to a user, and then drop the table.
                        </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE plants
    ( plant_id    NUMBER PRIMARY KEY, 
      common_name VARCHAR2(15) );

INSERT INTO plants VALUES (1, 'African Violet'); # DML statement

INSERT INTO plants VALUES (2, 'Amaryllis'); # DML statement

ALTER TABLE plants ADD 
    ( latin_name VARCHAR2(40) );

GRANT READ ON plants TO scott;

REVOKE READ ON plants FROM scott;

DROP TABLE plants;
</pre><p>An implicit <code class="codeph">COMMIT</code> occurs immediately before the database executes a DDL statement and a <code class="codeph">COMMIT</code> or <code class="codeph">ROLLBACK</code> occurs immediately afterward. In the preceding example, two <code class="codeph">INSERT</code> statements are followed by an <code class="codeph">ALTER TABLE</code> statement, so the database commits the two <code class="codeph">INSERT</code> statements. If the <code class="codeph">ALTER TABLE</code> statement succeeds, then the database commits this statement; otherwise, the database rolls back this statement. In either case, the two <code class="codeph">INSERT</code> statements have already been committed.
                        </p>
                        <div class="infoboxnotealso" id="GUID-C25B548B-363A-4FE5-B4EE-784502BAAD08__GUID-88076D61-5BC9-4A9E-8154-6A2510EAE945">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="topics-for-database-administrators-and-developers.html#GUID-4D6D2B67-1B65-476D-852A-976E9D153EEC" title="In general, database security involves user authentication, encryption, access control, and monitoring.">Overview of Database Security</a>"</span> to learn about privileges and roles
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../tdddg/creating-managing-schema-objects.html#TDDDG30000" target="_blank"><span><cite>Oracle Database 2 Day Developer's Guide</cite></span></a> and <a href="../admin/managing-tables.html#ADMIN01503" target="_blank"><span><cite>Oracle Database Administrators Guide</cite></span></a> to learn how to create schema objects
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../adfns/sql-processing-for-application-developers.html#ADFNS187" target="_blank"><span><cite>Oracle Database Development Guide</cite></span></a> to learn about the difference between blocking and nonblocking DDL
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../sqlrf/Types-of-SQL-Statements.html#SQLRF30041" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for a list of DDL statements
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div><a id="CNCPT516"></a><div class="props_rev_3"><a id="GUID-90EA5D9B-76F2-4916-9F7E-CF0D8AA1A09D" name="GUID-90EA5D9B-76F2-4916-9F7E-CF0D8AA1A09D"></a><h4 id="CNCPT-GUID-90EA5D9B-76F2-4916-9F7E-CF0D8AA1A09D" class="sect4">Data Manipulation Language (DML) Statements</h4>
                  <div>
                     <p>Data manipulation language (<span class="bold">DML</span>) statements query or manipulate data in existing schema objects. 
                     </p>
                     <p>Whereas DDL statements change the structure of the database, DML statements query or change the contents. For example, <code class="codeph">ALTER TABLE</code> changes the structure of a table, whereas <code class="codeph">INSERT</code> adds one or more rows to the table.
                     </p>
                     <p>DML statements are the most frequently used SQL statements and enable you to:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Retrieve or fetch data from one or more tables or views (<code class="codeph">SELECT</code>).
                           </p>
                        </li>
                        <li>
                           <p>Add new rows of data into a table or view (<code class="codeph">INSERT</code>) by specifying a list of column values or using a <a href="glossary.html#GUID-C1CDE912-86C4-4495-8959-0CF8196189B2"><span class="xrefglossterm">subquery</span></a> to select and manipulate existing data.
                           </p>
                        </li>
                        <li>
                           <p>Change column values in existing rows of a table or view (<code class="codeph">UPDATE</code>).
                           </p>
                        </li>
                        <li>
                           <p>Update or insert rows conditionally into a table or <a href="glossary.html#GUID-1274BCF5-2EC1-4752-B9CE-998A85A83307"><span class="xrefglossterm">view</span></a> (<code class="codeph">MERGE</code>).
                           </p>
                        </li>
                        <li>
                           <p>Remove rows from tables or views (<code class="codeph">DELETE</code>).
                           </p>
                        </li>
                        <li>
                           <p>View the <a href="glossary.html#GUID-2DF33B85-94BB-44F3-93B7-06916FB18361"><span class="xrefglossterm">execution plan</span></a> for a SQL statement (<code class="codeph">EXPLAIN</code> <code class="codeph">PLAN</code>).
                           </p>
                        </li>
                        <li>
                           <p>Lock a table or view, temporarily limiting access by other users (<code class="codeph">LOCK</code> <code class="codeph">TABLE</code>).
                           </p>
                        </li>
                     </ul>
                     <p>The following example uses DML to query the <code class="codeph">employees</code> table. The example uses DML to insert a row into <code class="codeph">employees</code>, update this row, and then delete it:
                     </p><pre class="pre codeblock"><code>SELECT * FROM employees;

INSERT INTO employees (employee_id, last_name, email, job_id, hire_date, salary)
  VALUES (1234, 'Mascis', 'JMASCIS', 'IT_PROG', '14-FEB-2008', 9000);

UPDATE employees SET salary=9100 WHERE employee_id=1234;

DELETE FROM employees WHERE employee_id=1234;
</code></pre><p>A collection of DML statements that forms a logical unit of work is called a <a href="glossary.html#GUID-212D8EA1-D704-4D7B-A72D-72001965CE45"><span class="xrefglossterm">transaction</span></a>. For example, a transaction to transfer money could involve three discrete operations: decreasing the savings account balance, increasing the checking account balance, and recording the transfer in an account history table. Unlike DDL statements, DML statements do not implicitly commit the current transaction.
                     </p>
                     <div class="infoboxnotealso" id="GUID-90EA5D9B-76F2-4916-9F7E-CF0D8AA1A09D__GUID-6DC6DF13-4F20-4247-89A1-FC9985044AF9">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="sql.html#GUID-290D145D-07B9-4AF7-A91E-BCC444D21487" title="Oracle Database processes DDL differently from DML.">Differences Between DML and DDL Processing</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="transactions.html#GUID-31319EA7-994C-4D25-8814-0214ABD3CBDA" title="A transaction is a logical, atomic unit of work that contains one or more SQL statements.">Introduction to Transactions</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="../tdddg/connecting-exploring-database.html#TDDDG20000" target="_blank"><span><cite>Oracle Database 2 Day Developer's Guide</cite></span></a> to learn how to query and manipulate data
                              </p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/Types-of-SQL-Statements.html#SQLRF30042" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for a list of DML statements
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="CNCPT88903"></a><a id="CNCPT88902"></a><div class="props_rev_3"><a id="GUID-702909E1-B214-4D30-A0F9-5A4335C2BA4A" name="GUID-702909E1-B214-4D30-A0F9-5A4335C2BA4A"></a><h5 id="CNCPT-GUID-702909E1-B214-4D30-A0F9-5A4335C2BA4A" class="sect5">SELECT Statements</h5>
                     <div>
                        <p>A <strong class="term">query</strong> is an operation that retrieves data from a table or view.
                        </p>
                        <p> <code class="codeph">SELECT</code> is the only SQL statement that you can use to query data. The set of data retrieved from execution of a <code class="codeph">SELECT</code> statement is known as a <strong class="term">result set</strong>.
                        </p>
                        <p>The following table shows two required keywords and two keywords that are commonly found in a <code class="codeph">SELECT</code> statement. The table also associates capabilities of a <code class="codeph">SELECT</code> statement with the keywords.
                        </p>
                        <div class="tblformal" id="GUID-702909E1-B214-4D30-A0F9-5A4335C2BA4A__CHDEHIDI">
                           <p class="titleintable">Table 7-1 Keywords in a SQL Statement</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Keywords in a SQL Statement" summary="This table lists and describes SQL keywords." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="14%" id="d36857e2922">Keyword</th>
                                    <th align="left" valign="bottom" width="14%" id="d36857e2925">Required?</th>
                                    <th align="left" valign="bottom" width="58%" id="d36857e2928">Description</th>
                                    <th align="left" valign="bottom" width="14%" id="d36857e2931">Capability</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="14%" id="d36857e2936" headers="d36857e2922 ">
                                       <p><code class="codeph">SELECT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d36857e2936 d36857e2925 ">
                                       <p>Yes</p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d36857e2936 d36857e2928 ">
                                       <p>Specifies which columns should be shown in the result. Projection produces a subset of the columns in the table.</p>
                                       <p>An <a href="glossary.html#GUID-E2141FFA-A7B2-4113-BEEE-2401FC38AB2E"><span class="xrefglossterm">expression</span></a> is a combination of one or more values, operators, and SQL functions that resolves to a value. The list of expressions that appears after the <code class="codeph">SELECT</code> keyword and before the <code class="codeph">FROM</code> clause is called the <a href="glossary.html#GUID-71197B02-49AE-43D6-B9A2-E3887B36D823"><span class="xrefglossterm">select list</span></a>.
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d36857e2936 d36857e2931 ">
                                       <p>Projection</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="14%" id="d36857e2966" headers="d36857e2922 ">
                                       <p><code class="codeph">FROM</code></p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d36857e2966 d36857e2925 ">
                                       <p>Yes</p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d36857e2966 d36857e2928 ">
                                       <p>Specifies the tables or views from which the data should be retrieved.</p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d36857e2966 d36857e2931 ">
                                       <p>Joining</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="14%" id="d36857e2980" headers="d36857e2922 ">
                                       <p><code class="codeph">WHERE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d36857e2980 d36857e2925 ">
                                       <p>No</p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d36857e2980 d36857e2928 ">
                                       <p>Specifies a condition to filter rows, producing a subset of the rows in the table. A condition specifies a combination of one or more expressions and logical (Boolean) operators and returns a value of <code class="codeph">TRUE</code>, <code class="codeph">FALSE</code>, or <code class="codeph">UNKNOWN</code>.
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d36857e2980 d36857e2931 ">
                                       <p>Selection</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="14%" id="d36857e3003" headers="d36857e2922 ">
                                       <p><code class="codeph">ORDER BY</code></p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d36857e3003 d36857e2925 ">
                                       <p>No</p>
                                    </td>
                                    <td align="left" valign="top" width="58%" headers="d36857e3003 d36857e2928 ">
                                       <p>Specifies the order in which the rows should be shown.</p>
                                    </td>
                                    <td align="left" valign="top" width="14%" headers="d36857e3003 d36857e2931 ">&nbsp;</td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="infoboxnotealso" id="GUID-702909E1-B214-4D30-A0F9-5A4335C2BA4A__GUID-7DB10B43-454F-4698-AB71-06E0C6489FB3">
                           <p class="notep1">See Also:</p>
                           <p><a href="../sqlrf/SELECT.html#SQLRF01702" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for <code class="codeph">SELECT</code> syntax and semantics
                           </p>
                        </div>
                     </div>
                  </div><a id="CNCPT88906"></a><a id="CNCPT88905"></a><a id="CNCPT88904"></a><div class="props_rev_3"><a id="GUID-B559E4F8-59D8-484D-91D6-481B8F2BB9F2" name="GUID-B559E4F8-59D8-484D-91D6-481B8F2BB9F2"></a><h5 id="CNCPT-GUID-B559E4F8-59D8-484D-91D6-481B8F2BB9F2" class="sect5">Joins</h5>
                     <div>
                        <p>A <span class="bold">join</span> is a query that combines rows from two or more tables, views, or materialized views.
                        </p>
                        <p>The following example joins the <code class="codeph">employees</code> and <code class="codeph">departments</code> tables (<code class="codeph">FROM</code> clause), selects only rows that meet specified criteria (<code class="codeph">WHERE</code> clause), and uses projection to retrieve data from two columns (<code class="codeph">SELECT</code>). Sample output follows the SQL statement.
                        </p><pre class="pre codeblock"><code>SELECT email, department_name
FROM   employees 
JOIN   departments
ON     employees.department_id = departments.department_id
WHERE  employee_id IN (100,103)
ORDER BY email;

EMAIL                     DEPARTMENT_NAME
------------------------- ------------------------------
AHUNOLD                   IT
SKING                     Executive
</code></pre><p>The following graphic represents the operations of projection and selection in the join shown in the preceding query.</p>
                        <div class="figure" id="GUID-B559E4F8-59D8-484D-91D6-481B8F2BB9F2__CHDJBIDH">
                           <p class="titleinfigure">Figure 7-1 Projection and Selection</p><img src="img/cncpt290.gif" alt="Description of Figure 7-1 follows" title="Description of Figure 7-1 follows" longdesc="img_text/cncpt290.html"><br><a href="img_text/cncpt290.html">Description of "Figure 7-1 Projection and Selection"</a></div>
                        <!-- class="figure" -->
                        <p>Most joins have at least one <a href="glossary.html#GUID-6DF529B9-611D-4C00-BAF8-614E86BCB39E"><span class="xrefglossterm">join condition</span></a>, either in the <code class="codeph">FROM</code> clause or in the <code class="codeph">WHERE</code> clause, that compares two columns, each from a different table. The database combines pairs of rows, each containing one row from each table, for which the join condition evaluates to <code class="codeph">TRUE</code>. The optimizer determines the order in which the database joins tables based on the join conditions, indexes, and any available statistics for the tables.
                        </p>
                        <p>Join types include the following:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Inner joins</p>
                              <p>An <a href="glossary.html#GUID-C275B9B4-5209-4DFB-86FD-2635881971F3"><span class="xrefglossterm">inner join</span></a> is a join of two or more tables that returns only rows that satisfy the join condition. For example, if the join condition is <code class="codeph">employees.department_id=departments.department_id</code>, then rows that do not satisfy this condition are not returned.
                              </p>
                           </li>
                           <li>
                              <p>Outer joins</p>
                              <p>An <a href="glossary.html#GUID-61D9CE46-D3B4-4E22-81F9-5170CC2B20BD"><span class="xrefglossterm">outer join</span></a> returns all rows that satisfy the join condition and also returns rows from one table for which no rows from the other table satisfy the condition.
                              </p>
                              <p>The result of a <a href="glossary.html#GUID-5B6697AD-111B-4293-91EF-1BAB303534E8"><span class="xrefglossterm">left outer join</span></a> for table <span class="italic">A</span> and <span class="italic">B</span> always contains all records of the left table <span class="italic">A</span>, even if the join condition does not match a record in the right table <span class="italic">B</span>. If no matching row from <span class="italic">B</span> exists, then <span class="italic">B</span> columns contain nulls for rows that have no match in <span class="italic">B</span>. For example, if not all employees are in departments, then a left outer join of <code class="codeph">employees</code> (left table) and <code class="codeph">departments</code> (right table) retrieves all rows in <code class="codeph">employees</code> even if no rows in <code class="codeph">departments</code> satisfy the join condition (<code class="codeph">employees.department_id</code> is null).
                              </p>
                              <p>The result of a <a href="glossary.html#GUID-6D63E1DD-4066-416C-AF21-DC6A6AF58750"><span class="xrefglossterm">right outer join</span></a> for table <span class="italic">A</span> and <span class="italic">B</span> contains all records of the right table <span class="italic">B</span>, even if the join condition does not match a row in the left table <span class="italic">A</span>. If no matching row from <span class="italic">A</span> exists, then <span class="italic">A</span> columns contain nulls for rows that have no match in <span class="italic">A</span>. For example, if not all departments have employees, a right outer join of <code class="codeph">employees</code> (left table) and <code class="codeph">departments</code> (right table) retrieves all rows in <code class="codeph">departments</code> even if no rows in <code class="codeph">employees</code> satisfy the join condition.
                              </p>
                              <p>A <a href="glossary.html#GUID-3A2D0F05-0133-465B-B66D-CA3AE275EC40"><span class="xrefglossterm">full outer join</span></a> is the combination of a left outer join and a right outer join.
                              </p>
                           </li>
                           <li>
                              <p>Cartesian products</p>
                              <p>If two tables in a join query have no join condition, then the database performs a <a href="glossary.html#GUID-2FFB73C6-7BE4-489A-A1BA-D39445C136D5"><span class="xrefglossterm">Cartesian join</span></a>. Each row of one table combines with each row of the other. For example, if <code class="codeph">employees</code> has 107 rows and <code class="codeph">departments</code> has 27, then the Cartesian product contains 107*27 rows. A Cartesian product is rarely useful.
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-B559E4F8-59D8-484D-91D6-481B8F2BB9F2__GUID-0CFECD52-3113-47D2-8AB7-7B92290D7DFE">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../tgsql/joins.html#TGSQL242" target="_blank"><span><cite>Oracle Database SQL Tuning Guide</cite></span></a> to learn about joins
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../sqlrf/Joins.html#SQLRF30046" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for detailed descriptions and examples of joins
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="CNCPT88908"></a><a id="CNCPT88907"></a><div class="props_rev_3"><a id="GUID-65D6723C-88E2-44E3-85D1-A719BB5F075E" name="GUID-65D6723C-88E2-44E3-85D1-A719BB5F075E"></a><h5 id="CNCPT-GUID-65D6723C-88E2-44E3-85D1-A719BB5F075E" class="sect5">Subqueries</h5>
                     <div>
                        <p>A <strong class="term">subquery</strong> is a <code class="codeph">SELECT</code> statement nested within another SQL statement. Subqueries are useful when you must execute multiple queries to solve a single problem.
                        </p>
                        <p>Each query portion of a statement is called a <a href="glossary.html#GUID-53DFB7AA-B16E-421D-B592-CBF715742D93"><span class="xrefglossterm">query block</span></a>. In the following query, the subquery in parentheses is the inner query block:
                        </p><pre class="pre codeblock"><code>SELECT first_name, last_name 
FROM   employees
WHERE  department_id 
IN     ( SELECT department_id 
         FROM departments 
         WHERE location_id = 1800 );
</code></pre><p>The inner <code class="codeph">SELECT</code> statement retrieves the IDs of departments with location ID 1800. These department IDs are needed by the outer query block, which retrieves names of employees in the departments whose IDs were supplied by the subquery.
                        </p>
                        <p>The structure of the SQL statement does not force the database to execute the inner query first. For example, the database could rewrite the entire query as a join of <code class="codeph">employees</code> and <code class="codeph">departments</code>, so that the subquery never executes by itself. As another example, the Virtual Private Database (VPD) feature could restrict the query of employees using a <code class="codeph">WHERE</code> clause, so that the database queries the employees first and then obtains the department IDs. The optimizer determines the best sequence of steps to retrieve the requested rows.
                        </p>
                        <div class="infoboxnotealso" id="GUID-65D6723C-88E2-44E3-85D1-A719BB5F075E__GUID-707F00EA-9AA2-470D-A96C-78DED54C03E5">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="topics-for-database-administrators-and-developers.html#GUID-89DB0C3C-A36F-4254-8C82-020F5F6DE31F" title="Oracle Virtual Private Database (VPD) enables you to enforce security at the row and column level.">Virtual Private Database (VPD)</a>"</span></p>
                        </div>
                     </div>
                  </div>
               </div><a id="CNCPT1733"></a><div class="props_rev_3"><a id="GUID-73F24816-881A-4849-B8A7-EA9B446A24A7" name="GUID-73F24816-881A-4849-B8A7-EA9B446A24A7"></a><h4 id="CNCPT-GUID-73F24816-881A-4849-B8A7-EA9B446A24A7" class="sect4">Transaction Control Statements</h4>
                  <div>
                     <p>Transaction control statements manage the changes made by DML statements and group DML statements into transactions.</p>
                     <p>These statements enable you to:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Make changes to a transaction permanent (<code class="codeph">COMMIT</code>).
                           </p>
                        </li>
                        <li>
                           <p>Undo the changes in a transaction, since the transaction started (<code class="codeph">ROLLBACK</code>) or since a savepoint (<code class="codeph">ROLLBACK TO SAVEPOINT</code>). A <a href="glossary.html#GUID-ED9601F2-D0A2-4FE5-83A8-8F7F9E9E0D18"><span class="xrefglossterm">savepoint</span></a> is a user-declared intermediate marker within the context of a transaction.
                           </p>
                           <div class="infoboxnote" id="GUID-73F24816-881A-4849-B8A7-EA9B446A24A7__GUID-134592C7-6C54-403C-8285-A4F61F902038">
                              <p class="notep1">Note:</p>
                              <p> The <code class="codeph">ROLLBACK</code> statement ends a transaction, but <code class="codeph">ROLLBACK TO SAVEPOINT</code> does not.
                              </p>
                           </div>
                        </li>
                        <li>
                           <p>Set a point to which you can roll back (<code class="codeph">SAVEPOINT</code>).
                           </p>
                        </li>
                        <li>
                           <p>Establish properties for a transaction (<code class="codeph">SET</code> <code class="codeph">TRANSACTION</code>).
                           </p>
                        </li>
                        <li>
                           <p>Specify whether a deferrable <a href="glossary.html#GUID-67F8FE8C-EBA5-4796-820A-8919982A1411"><span class="xrefglossterm">integrity constraint</span></a> is checked following each DML statement or when the transaction is committed (<code class="codeph">SET CONSTRAINT</code>).
                           </p>
                        </li>
                     </ul>
                     <p>The following example starts a transaction named <code class="codeph">Update salaries</code>. The example creates a savepoint, updates an employee salary, and then rolls back the transaction to the savepoint. The example updates the salary to a different value and commits.
                     </p><pre class="pre codeblock"><code>SET TRANSACTION NAME 'Update salaries';

SAVEPOINT before_salary_update;

UPDATE employees SET salary=9100 WHERE employee_id=1234 # DML

ROLLBACK TO SAVEPOINT before_salary_update;

UPDATE employees SET salary=9200 WHERE employee_id=1234 # DML

COMMIT COMMENT 'Updated salaries';</code></pre><div class="infoboxnotealso" id="GUID-73F24816-881A-4849-B8A7-EA9B446A24A7__GUID-83AC045A-4F13-4C37-ACB1-93F76C164DC9">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="transactions.html#GUID-31319EA7-994C-4D25-8814-0214ABD3CBDA" title="A transaction is a logical, atomic unit of work that contains one or more SQL statements.">Introduction to Transactions</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="data-integrity.html#GUID-ED1E9D21-EDFB-4AAD-9193-87D576F67761" title="Every constraint is either in a not deferrable (default) or deferrable state. This state determines when Oracle Database checks the constraint for validity.">When the Database Checks Constraints for Validity</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/Types-of-SQL-Statements.html#SQLRF30043" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> to learn about transaction control statements
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="CNCPT1734"></a><div class="props_rev_3"><a id="GUID-261BEAAC-0897-465D-9137-D201CE80675C" name="GUID-261BEAAC-0897-465D-9137-D201CE80675C"></a><h4 id="CNCPT-GUID-261BEAAC-0897-465D-9137-D201CE80675C" class="sect4">Session Control Statements</h4>
                  <div>
                     <p>Session control statements dynamically manage the properties of a user <span class="bold">session</span>. 
                     </p>
                     <p>A session is a logical entity in the database instance memory that represents the state of a current user login to a database. A session lasts from the time the user is authenticated by the database until the user disconnects or exits the database application.</p>
                     <p>Session control statements enable you to:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Alter the current session by performing a specialized function, such as setting the default date format (<code class="codeph">ALTER SESSION</code>).
                           </p>
                        </li>
                        <li>
                           <p>Enable and disable roles, which are groups of privileges, for the current session (<code class="codeph">SET ROLE</code>).
                           </p>
                        </li>
                     </ul>
                     <p>The following statement dynamically changes the default date format for your session to <code class="codeph">'YYYY MM DD-HH24:MI:SS'</code>:
                     </p><pre class="pre codeblock"><code>ALTER SESSION 
   SET NLS_DATE_FORMAT = 'YYYY MM DD HH24:MI:SS';
</code></pre><p>Session control statements do not implicitly commit the current transaction.</p>
                     <div class="infoboxnotealso" id="GUID-261BEAAC-0897-465D-9137-D201CE80675C__GUID-DCE5F7C6-5EA5-41F9-A54D-BFC9C614EA3A">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="process-architecture.html#GUID-3A11FF2F-50EE-4839-A1A6-F746DFF634AB" title="A database connection is a physical communication pathway between a client process and a database instance.">Connections and Sessions</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/Types-of-SQL-Statements.html#SQLRF30044" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for <code class="codeph">ALTER SESSION</code> syntax and semantics
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="CNCPT1735"></a><div class="props_rev_3"><a id="GUID-9D63E5DD-E0EF-42AE-B460-74165BB016F3" name="GUID-9D63E5DD-E0EF-42AE-B460-74165BB016F3"></a><h4 id="CNCPT-GUID-9D63E5DD-E0EF-42AE-B460-74165BB016F3" class="sect4">System Control Statement</h4>
                  <div>
                     <p>A system control statement changes the properties of the <span class="bold">database instance</span>. 
                     </p>
                     <p>The only system control statement is <code class="codeph">ALTER SYSTEM</code>. It enables you to change settings such as the minimum number of shared servers, terminate a session, and perform other system-level tasks.
                     </p>
                     <p>Examples of the system control statement include:</p><pre class="pre codeblock"><code>ALTER SYSTEM SWITCH LOGFILE; 

ALTER SYSTEM KILL SESSION '39, 23';
</code></pre><p>The <code class="codeph">ALTER SYSTEM</code> statement does not implicitly commit the current transaction.
                     </p>
                     <div class="infoboxnotealso" id="GUID-9D63E5DD-E0EF-42AE-B460-74165BB016F3__GUID-4A39BB6F-B10D-4DB1-87DF-AF6FB43420DE">
                        <p class="notep1">See Also:</p>
                        <p><a href="../sqlrf/ALTER-SYSTEM.html#SQLRF00902" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for <code class="codeph">ALTER SYSTEM</code> syntax and semantics
                        </p>
                     </div>
                  </div>
               </div><a id="CNCPT1736"></a><div class="props_rev_3"><a id="GUID-AE8D7440-ED46-4FE8-9475-F3D0AD2E19CF" name="GUID-AE8D7440-ED46-4FE8-9475-F3D0AD2E19CF"></a><h4 id="CNCPT-GUID-AE8D7440-ED46-4FE8-9475-F3D0AD2E19CF" class="sect4">Embedded SQL Statements</h4>
                  <div>
                     <p>Embedded SQL statements incorporate DDL, DML, and transaction control statements within a procedural language program. .</p>
                     <p>Embedded statements are used with the Oracle precompilers. Embedded SQL is one approach to incorporating SQL in your procedural language applications. Another approach is to use a procedural API such as Open Database Connectivity (ODBC) or Java Database Connectivity (JDBC).</p>
                     <p>Embedded SQL statements enable you to:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Define, allocate, and release a <a href="glossary.html#GUID-D1D3E8DD-CD5C-4C0D-93E4-DE0BF0BD53A3"><span class="xrefglossterm">cursor</span></a> (<code class="codeph">DECLARE CURSOR</code>, <code class="codeph">OPEN</code>, <code class="codeph">CLOSE</code>).
                           </p>
                        </li>
                        <li>
                           <p>Specify a database and connect to it (<code class="codeph">DECLARE DATABASE</code>, <code class="codeph">CONNECT</code>).
                           </p>
                        </li>
                        <li>
                           <p>Assign variable names (<code class="codeph">DECLARE STATEMENT</code>).
                           </p>
                        </li>
                        <li>
                           <p>Initialize descriptors (<code class="codeph">DESCRIBE</code>).
                           </p>
                        </li>
                        <li>
                           <p>Specify how error and warning conditions are handled (<code class="codeph">WHENEVER</code>).
                           </p>
                        </li>
                        <li>
                           <p>Parse and run SQL statements (<code class="codeph">PREPARE</code>, <code class="codeph">EXECUTE</code>, <code class="codeph">EXECUTE IMMEDIATE</code>).
                           </p>
                        </li>
                        <li>
                           <p>Retrieve data from the database (<code class="codeph">FETCH</code>).
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-AE8D7440-ED46-4FE8-9475-F3D0AD2E19CF__GUID-09747208-7418-413B-911D-62D88C600054">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="server-side-programming.html#GUID-6B5D98B7-A25D-4187-B3A9-43629E214635" title="In a nonprocedural language such as SQL, the set of data to be operated on is specified, but not the operations to be performed or the manner in which they are to be carried out.">Introduction to Server-Side Programming</a>"</span> and <span class="q">"<a href="concepts-for-database-developers.html#GUID-73D7F3B6-47B7-400B-8F3C-BE904400C0FC" title="Most developers today use an API to embed SQL in their database applications.">Client-Side APIs</a>"</span></p>
                     </div>
                  </div>
               </div>
            </div><a id="CNCPT316"></a><div class="props_rev_3"><a id="GUID-3F42B1AA-530A-4144-8179-F0074832AF81" name="GUID-3F42B1AA-530A-4144-8179-F0074832AF81"></a><h3 id="CNCPT-GUID-3F42B1AA-530A-4144-8179-F0074832AF81" class="sect3">Overview of the Optimizer</h3>
               <div>
                  <p>To understand how Oracle Database processes SQL statements, it is necessary to understand the part of the database called the <span class="bold">optimizer</span> (also known as the <span class="italic">query optimizer</span> or <span class="italic">cost-based optimizer</span>). All SQL statements use the optimizer to determine the most efficient means of accessing the specified data.
                  </p>
               </div><a id="CNCPT88909"></a><div class="props_rev_3"><a id="GUID-1A976BB4-C96D-4CC2-9026-4DA819CAEE62" name="GUID-1A976BB4-C96D-4CC2-9026-4DA819CAEE62"></a><h4 id="CNCPT-GUID-1A976BB4-C96D-4CC2-9026-4DA819CAEE62" class="sect4">Use of the Optimizer</h4>
                  <div>
                     <p>The optimizer generates execution plans describing possible methods of execution. </p>
                     <p>The optimizer determines which execution plan is most efficient by considering several sources of information. For example, the optimizer considers query conditions, available access paths, statistics gathered for the system, and hints.</p>
                     <p>To execute a DML statement, Oracle Database may have to perform many steps. Each step either retrieves rows of data physically from the database or prepares them for the user issuing the statement. The steps that the database uses to execute a statement greatly affect how quickly the statement runs. Many different ways of processing a DML statement are often possible. For example, the order in which tables or indexes are accessed can vary. </p>
                     <p>When determining the best execution plan for a SQL statement, the optimizer performs the following operations:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Evaluation of expressions and conditions</p>
                        </li>
                        <li>
                           <p>Inspection of integrity constraints to learn more about the data and optimize based on this metadata</p>
                        </li>
                        <li>
                           <p>Statement transformation</p>
                        </li>
                        <li>
                           <p>Choice of optimizer goals</p>
                        </li>
                        <li>
                           <p>Choice of access paths</p>
                        </li>
                        <li>
                           <p>Choice of join orders</p>
                        </li>
                     </ul>
                     <p>The optimizer generates most of the possible ways of processing a query and assigns a cost to each step in the generated execution plan. The plan with the lowest cost is chosen as the <a href="glossary.html#GUID-78BCF1CD-1865-4AEB-8F14-AFA4FF1981BF"><span class="xrefglossterm">query plan</span></a> to be executed.
                     </p>
                     <div class="infoboxnote" id="GUID-1A976BB4-C96D-4CC2-9026-4DA819CAEE62__GUID-26400181-901F-4187-A58F-489DE2BA41F4">
                        <p class="notep1">Note:</p>
                        <p>You can obtain an execution plan for a SQL statement without executing the plan. Only an execution plan that the database actually uses to execute a query is correctly termed a query plan.</p>
                     </div>
                     <p>You can influence optimizer choices by setting the optimizer goal and by gathering representative statistics for the optimizer. For example, you may set the optimizer goal to either of the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Total throughput</p>
                           <p>The <code class="codeph">ALL_ROWS</code> hint instructs the optimizer to get the last row of the result to the client application as fast as possible.
                           </p>
                        </li>
                        <li>
                           <p>Initial response time</p>
                           <p>The <code class="codeph">FIRST_ROWS</code> hint instructs the optimizer to get the first row to the client as fast as possible.
                           </p>
                        </li>
                     </ul>
                     <p>A typical end-user, interactive application would benefit from initial response time optimization, whereas a batch-mode, non-interactive application would benefit from total throughput optimization.</p>
                     <div class="infoboxnotealso" id="GUID-1A976BB4-C96D-4CC2-9026-4DA819CAEE62__GUID-2DB9971D-58E4-48BC-B1A4-611092C57ED7">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../arpls/DBMS_STATS.html#ARPLS059" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> for information about using <code class="codeph">DBMS_STATS</code></p>
                           </li>
                           <li>
                              <p><a href="../tgsql/query-optimizer-concepts.html#TGSQL202" target="_blank"><span><cite>Oracle Database SQL Tuning Guide</cite></span></a> for more information about the optimizer and using hints
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="CNCPT88911"></a><a id="CNCPT88910"></a><div class="props_rev_3"><a id="GUID-D4940716-5F75-43CD-B8B4-45E6BCE5F8EF" name="GUID-D4940716-5F75-43CD-B8B4-45E6BCE5F8EF"></a><h4 id="CNCPT-GUID-D4940716-5F75-43CD-B8B4-45E6BCE5F8EF" class="sect4">Optimizer Components</h4>
                  <div>
                     <p>The optimizer contains three main components: the transformer, estimator, and plan generator.</p>
                     <p>The following diagram depicts the components:</p>
                     <div class="figure" id="GUID-D4940716-5F75-43CD-B8B4-45E6BCE5F8EF__CHDCCIDA">
                        <p class="titleinfigure">Figure 7-2 Optimizer Components</p><img src="img/cncpt287.gif" alt="Description of Figure 7-2 follows" title="Description of Figure 7-2 follows" longdesc="img_text/cncpt287.html"><br><a href="img_text/cncpt287.html">Description of "Figure 7-2 Optimizer Components"</a></div>
                     <!-- class="figure" -->
                     <p>The input to the optimizer is a parsed query. The optimizer performs the following operations:</p>
                     <ol>
                        <li>
                           <p>The optimizer receives the parsed query and generates a set of potential plans for the SQL statement based on available access paths and hints.</p>
                        </li>
                        <li>
                           <p>The optimizer estimates the cost of each plan based on statistics in the data dictionary. The cost is an estimated value proportional to the expected resource use needed to execute the statement with a particular plan.</p>
                        </li>
                        <li>
                           <p>The optimizer compares the costs of plans and chooses the lowest-cost plan, known as the query plan, to pass to the row source generator.</p>
                        </li>
                     </ol>
                     <div class="infoboxnotealso" id="GUID-D4940716-5F75-43CD-B8B4-45E6BCE5F8EF__GUID-01D9BB3C-683B-419E-BFC8-D0D870035EF9">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="sql.html#GUID-B3F2B5B8-B679-4A7C-B1E8-286F36319FCB" title="The first stage of SQL processing is SQL parsing. This stage involves separating the pieces of a SQL statement into a data structure that can be processed by other routines.">SQL Parsing</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="sql.html#GUID-A8B73B3C-991F-4E91-8AA5-DEFBDFAB0539" title="The row source generator is software that receives the optimal execution plan from the optimizer and produces an iterative plan, called the query plan, that is usable by the rest of the database.">SQL Row Source Generation</a>"</span></p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="CNCPT88912"></a><div class="props_rev_3"><a id="GUID-997A8B5E-CC07-4866-A37C-8F317ECE9359" name="GUID-997A8B5E-CC07-4866-A37C-8F317ECE9359"></a><h5 id="CNCPT-GUID-997A8B5E-CC07-4866-A37C-8F317ECE9359" class="sect5">Query Transformer</h5>
                     <div>
                        <p>The <span class="bold">query transformer</span> determines whether it is helpful to change the form of the query so that the optimizer can generate a better execution plan. The input to the query transformer is a parsed query, which the optimizer represents as a set of query blocks.
                        </p>
                        <div class="infoboxnotealso" id="GUID-997A8B5E-CC07-4866-A37C-8F317ECE9359__GUID-B88FA5C3-E251-4FF1-9D9F-889D1C9BAA3B">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="partitions-views-and-other-schema-objects.html#GUID-C2F8D519-A8E9-4793-A053-36B4C4060B62" title="An optimization technique known as query rewrite transforms a user request written in terms of master tables into a semantically equivalent request that includes materialized views.">Query Rewrite</a>"</span></p>
                        </div>
                     </div>
                  </div><a id="CNCPT88913"></a><div class="props_rev_3"><a id="GUID-D7FD285E-2629-4BC9-AC01-BF900A2E0F1E" name="GUID-D7FD285E-2629-4BC9-AC01-BF900A2E0F1E"></a><h5 id="CNCPT-GUID-D7FD285E-2629-4BC9-AC01-BF900A2E0F1E" class="sect5">Estimator</h5>
                     <div>
                        <p>The <span class="bold">estimator</span> determines the overall cost of a given execution plan.
                        </p>
                        <p>The estimator generates three different types of measures to achieve this goal:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Selectivity</p>
                              <p>This measure represents a fraction of rows from a row set. The selectivity is tied to a query predicate, such as <code class="codeph">last_name='Smith'</code>, or a combination of predicates.
                              </p>
                           </li>
                           <li>
                              <p>Cardinality</p>
                              <p>This measure represents the number of rows in a row set.</p>
                           </li>
                           <li>
                              <p>Cost</p>
                              <p>This measure represents units of work or resource used. The query optimizer uses disk I/O, CPU usage, and memory usage as units of work.</p>
                           </li>
                        </ul>
                        <p>If statistics are available, then the estimator uses them to compute the measures. The statistics improve the degree of accuracy of the measures.</p>
                     </div>
                  </div><a id="CNCPT1755"></a><div class="props_rev_3"><a id="GUID-86607CB6-6E48-42BB-9FDF-197318607286" name="GUID-86607CB6-6E48-42BB-9FDF-197318607286"></a><h5 id="CNCPT-GUID-86607CB6-6E48-42BB-9FDF-197318607286" class="sect5">Plan Generator</h5>
                     <div>
                        <p>The <span class="bold">plan generator</span> tries out different plans for a submitted query. The optimizer chooses the plan with the lowest cost.
                        </p>
                        <p>For each nested subquery and unmerged view, the optimizer generates a subplan. The optimizer represents each subplan as a separate <a href="glossary.html#GUID-53DFB7AA-B16E-421D-B592-CBF715742D93"><span class="xrefglossterm">query block</span></a>. The plan generator explores various plans for a query block by trying out different access paths, join methods, and join orders.
                        </p>
                        <p>The <a href="glossary.html#GUID-687D126F-F8FD-4308-B95B-7D4B2D5406FC"><span class="xrefglossterm">adaptive query optimization</span></a> capability changes plans based on statistics collected during statement execution. All adaptive mechanisms can execute a final plan for a statement that differs from the default plan. Adaptive optimization uses either dynamic plans, which choose among subplans during statement execution, or reoptimization, which changes a plan on executions after the current execution.
                        </p>
                        <div class="infoboxnotealso" id="GUID-86607CB6-6E48-42BB-9FDF-197318607286__GUID-FE4348D9-367D-4CEE-B54E-07B887AB6FDF">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="concepts-for-database-administrators.html#GUID-6AF46C02-62A0-4302-A981-8A10EDF7F966" title="Oracle Database completely automates the SQL tuning process.">Application and SQL Tuning</a>"</span></p>
                              </li>
                              <li>
                                 <p><a href="../tgsql/query-optimizer-concepts.html#TGSQL202" target="_blank"><span><cite>Oracle Database SQL Tuning Guide</cite></span></a> to learn about the optimizer components and adaptive optimization
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div><a id="CNCPT88914"></a><div class="props_rev_3"><a id="GUID-4B6624DA-92BA-48C2-B045-D8B71046E81B" name="GUID-4B6624DA-92BA-48C2-B045-D8B71046E81B"></a><h4 id="CNCPT-GUID-4B6624DA-92BA-48C2-B045-D8B71046E81B" class="sect4">Access Paths</h4>
                  <div>
                     <p>An <span class="bold">access path</span> is the technique that a query uses to retrieve rows. 
                     </p>
                     <p>For example, a query that uses an index has a different access path from a query that does not. In general, index access paths are best for statements that retrieve a small subset of table rows. Full scans are more efficient for accessing a large portion of a table.</p>
                     <p>The database can use several different access paths to retrieve data from a table. The following is a representative list:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Full table scans</p>
                           <p>This type of scan reads all rows from a table and filters out those that do not meet the selection criteria. The database sequentially scans all data blocks in the segment, including those under the <a href="glossary.html#GUID-F3F5ACB2-94C8-483F-B427-1981836D0609"><span class="xrefglossterm">high water mark (HWM)</span></a> that separates used from unused space (see <span class="q">"<a href="logical-storage-structures.html#GUID-5050DCC5-DBBD-4B57-AB14-D83A480B9AAE" title="To manage space, Oracle Database tracks the state of blocks in the segment. The high water mark (HWM) is the point in a segment beyond which data blocks are unformatted and have never been used.">Segment Space and the High Water Mark</a>"</span>).
                           </p>
                        </li>
                        <li>
                           <p>Rowid scans</p>
                           <p>The <a href="glossary.html#GUID-647822F1-EFF1-4E26-BE22-D54081BE1C7B"><span class="xrefglossterm">rowid</span></a> of a row specifies the data file and data block containing the row and the location of the row in that block. The database first obtains the rowids of the selected rows, either from the statement <code class="codeph">WHERE</code> clause or through an index scan, and then locates each selected row based on its rowid.
                           </p>
                        </li>
                        <li>
                           <p>Index scans</p>
                           <p>This scan searches an index for the indexed column values accessed by the SQL statement (see <span class="q">"<a href="indexes-and-index-organized-tables.html#GUID-D54BD14D-0065-4B61-B2F6-5567913B16CD" title="In an index scan, the database retrieves a row by traversing the index, using the indexed column values specified by the statement. If the database scans the index for a value, then it will find this value in n I/Os where n is the height of the B-tree index. This is the basic principle behind Oracle Database indexes.">Index Scans</a>"</span>). If the statement accesses only columns of the index, then Oracle Database reads the indexed column values directly from the index.
                           </p>
                        </li>
                        <li>
                           <p>Cluster scans</p>
                           <p>A cluster scan retrieves data from a table stored in an indexed <a href="glossary.html#GUID-1C56177E-6BEE-4FE7-B45E-38298CDB946D"><span class="xrefglossterm">table cluster</span></a>, where all rows with the same cluster key value are stored in the same data block (see <span class="q">"<a href="tables-and-table-clusters.html#GUID-CC31365B-83B0-4E09-A047-BF1B79AC887A" title="An index cluster is a table cluster that uses an index to locate data. The cluster index is a B-tree index on the cluster key. A cluster index must be created before any rows can be inserted into clustered tables.">Overview of Indexed Clusters</a>"</span>). The database first obtains the rowid of a selected row by scanning the cluster index. Oracle Database locates the rows based on this rowid.
                           </p>
                        </li>
                        <li>
                           <p>Hash scans</p>
                           <p>A hash scan locates rows in a hash cluster, where all rows with the same hash value are stored in the same data block (see <span class="q">"<a href="tables-and-table-clusters.html#GUID-22771373-D8B8-4A76-9F08-1567489269BB" title="A hash cluster is like an indexed cluster, except the index key is replaced with a hash function. No separate cluster index exists. In a hash cluster, the data is the index.">Overview of Hash Clusters</a>"</span>). The database first obtains the hash value by applying a <a href="glossary.html#GUID-DDDDC4BC-ADB8-40D7-9733-60CED8E4A83E"><span class="xrefglossterm">hash function</span></a> to a cluster key value specified by the statement. Oracle Database then scans the data blocks containing rows with this hash value.
                           </p>
                        </li>
                     </ul>
                     <p>The optimizer chooses an access path based on the available access paths for the statement and the estimated cost of using each access path or combination of paths.</p>
                     <div class="infoboxnotealso" id="GUID-4B6624DA-92BA-48C2-B045-D8B71046E81B__GUID-01FB569D-937C-46F7-B818-47702749FFD7">
                        <p class="notep1">See Also:</p>
                        <p><a href="../tdppt/optimizing-data-access-paths.html#TDPPT170" target="_blank"><span><cite>Oracle Database 2 Day + Performance Tuning Guide</cite></span></a> and <a href="../tgsql/optimizer-access-paths.html#TGSQL228" target="_blank"><span><cite>Oracle Database SQL Tuning Guide</cite></span></a> to learn about access paths
                        </p>
                     </div>
                  </div>
               </div><a id="CNCPT88915"></a><div class="props_rev_3"><a id="GUID-5F4A2BE8-BC42-4734-B1F1-4C3BD57DAB6F" name="GUID-5F4A2BE8-BC42-4734-B1F1-4C3BD57DAB6F"></a><h4 id="CNCPT-GUID-5F4A2BE8-BC42-4734-B1F1-4C3BD57DAB6F" class="sect4">Optimizer Statistics</h4>
                  <div>
                     <p>The <span class="bold">optimizer statistics</span> are a collection of data that describe details about the database and the objects in the database. The statistics provide a statistically correct picture of data storage and distribution usable by the optimizer when evaluating access paths.
                     </p>
                     <p>Optimizer statistics include the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Table statistics</p>
                           <p>These include the number of rows, number of blocks, and average row length.</p>
                        </li>
                        <li>
                           <p>Column statistics</p>
                           <p>These include the number of distinct values and nulls in a column and the distribution of data.</p>
                        </li>
                        <li>
                           <p>Index statistics</p>
                           <p>These include the number of leaf blocks and index levels.</p>
                        </li>
                        <li>
                           <p>System statistics</p>
                           <p>These include CPU and I/O performance and utilization.</p>
                        </li>
                     </ul>
                     <p>Oracle Database gathers optimizer statistics on all database objects automatically and maintains these statistics as an automated maintenance task. You can also gather statistics manually using the <code class="codeph">DBMS_STATS</code> package. This PL/SQL package can modify, view, export, import, and delete statistics.
                     </p>
                     <div class="infoboxnote" id="GUID-5F4A2BE8-BC42-4734-B1F1-4C3BD57DAB6F__GUID-16C7F90C-3A71-467E-94D4-4104B7A8F74A">
                        <p class="notep1">Note:</p>Optimizer statistics are created for the purposes of query optimization and are stored in the data dictionary. Do not confuse these statistics with performance statistics visible through dynamic performance views.
                     </div>
                     <p>Optimizer Statistics Advisor is built-in diagnostic software that analyzes how you are currently gathering statistics, the effectiveness of existing statistics gathering jobs, and the quality of the gathered statistics. Optimizer Statistics Advisor maintains rules, which embody Oracle best practices based on the current feature set. In this way, the advisor always provides the most up-to-date recommendations for statistics gathering.</p>
                     <div class="infoboxnotealso" id="GUID-5F4A2BE8-BC42-4734-B1F1-4C3BD57DAB6F__GUID-9740CC88-E483-472F-BA8D-92ADB96E5254">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../tdppt/oracle-database-performance-method.html#TDPPT007" target="_blank"><span><cite>Oracle Database 2 Day + Performance Tuning Guide</cite></span></a> and <a href="../tgsql/gathering-optimizer-statistics.html#TGSQL389" target="_blank"><span><cite>Oracle Database SQL Tuning Guide</cite></span></a> to learn how to gather and manage statistics
                              </p>
                           </li>
                           <li>
                              <p><a href="../arpls/DBMS_STATS.html#ARPLS059" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> to learn about <code class="codeph">DBMS_STATS</code></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="CNCPT88917"></a><a id="CNCPT88918"></a><a id="CNCPT88916"></a><div class="props_rev_3"><a id="GUID-FC019793-FC08-46DB-A74C-8BF6C60ACECB" name="GUID-FC019793-FC08-46DB-A74C-8BF6C60ACECB"></a><h4 id="CNCPT-GUID-FC019793-FC08-46DB-A74C-8BF6C60ACECB" class="sect4">Optimizer Hints</h4>
                  <div>
                     <p>A <span class="bold">hint</span> is a comment in a SQL statement that acts as an instruction to the optimizer.
                     </p>
                     <p> Sometimes the application designer, who has more information about a particular application's data than is available to the optimizer, can choose a more effective way to run a SQL statement. The application designer can use hints in SQL statements to specify how the statement should be run. The following examples illustrate the use of hints.</p>
                     <div class="example" id="GUID-FC019793-FC08-46DB-A74C-8BF6C60ACECB__CHDBEDFI">
                        <p class="titleinexample">Example 7-2 Execution Plan for SELECT with FIRST_ROWS Hint</p>
                        <p>Suppose that your interactive application runs a query that returns 50 rows. This application initially fetches only the first 25 rows of the query to present to the end user. You want the optimizer to generate a plan that gets the first 25 records as quickly as possible so that the user is not forced to wait. You can use a hint to pass this instruction to the optimizer as shown in the <code class="codeph">SELECT</code> statement and <code class="codeph">AUTOTRACE</code> output in the following example:
                        </p><pre class="oac_no_warn" dir="ltr">SELECT /*+ FIRST_ROWS(25) */ employee_id, department_id
FROM   hr.employees
WHERE  department_id &gt; 50;

------------------------------------------------------------------------
| Id | Operation                    | Name              | Rows | Bytes
------------------------------------------------------------------------
|  0 | SELECT STATEMENT             |                   | 26   | 182
|  1 |  TABLE ACCESS BY INDEX ROWID | EMPLOYEES         | 26   | 182
|* 2 |   INDEX RANGE SCAN           | EMP_DEPARTMENT_IX |      |
------------------------------------------------------------------------</pre><p>In this example, the execution plan shows that the optimizer chooses an index on the <code class="codeph">employees.department_id</code> column to find the first 25 rows of <code class="codeph">employees</code> whose department ID is over 50. The optimizer uses the rowid retrieved from the index to retrieve the record from the <code class="codeph">employees</code> table and return it to the client. Retrieval of the first record is typically almost instantaneous.
                        </p>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-FC019793-FC08-46DB-A74C-8BF6C60ACECB__CHDEJCCJ">
                        <p class="titleinexample">Example 7-3 Execution Plan for SELECT with No Hint</p>
                        <p>Assume that you execute the same statement, but without the optimizer hint:</p><pre class="oac_no_warn" dir="ltr">SELECT employee_id, department_id
FROM   hr.employees
WHERE  department_id &gt; 50;
 
------------------------------------------------------------------------
| Id | Operation              | Name              | Rows | Bytes | Cos
------------------------------------------------------------------------
|  0 | SELECT STATEMENT       |                   | 50   | 350   |
|* 1 |  VIEW                  | index$_join$_001  | 50   | 350   |
|* 2 |   HASH JOIN            |                   |      |       |
|* 3 |    INDEX RANGE SCAN    | EMP_DEPARTMENT_IX | 50   | 350   |
|  4 |    INDEX FAST FULL SCAN| EMP_EMP_ID_PK     | 50   | 350   |
</pre><p>In this case, the execution plan joins two indexes to return the requested records as fast as possible. Rather than repeatedly going from index to table as in <a href="sql.html#GUID-FC019793-FC08-46DB-A74C-8BF6C60ACECB__CHDBEDFI">Example 7-2</a>, the optimizer chooses a range scan of <code class="codeph">EMP_DEPARTMENT_IX</code> to find all rows where the department ID is over 50 and place these rows in a <a href="glossary.html#GUID-1EBD10A8-7E0A-45B9-94CB-0859F4773082"><span class="xrefglossterm">hash table</span></a>. The optimizer then chooses to read the <code class="codeph">EMP_EMP_ID_PK</code> index. For each row in this index, it probes the hash table to find the department ID.
                        </p>
                        <p>In this case, the database cannot return the first row to the client until the index range scan of <code class="codeph">EMP_DEPARTMENT_IX</code> completes. Thus, this generated plan would take longer to return the first record. Unlike the plan in <a href="sql.html#GUID-FC019793-FC08-46DB-A74C-8BF6C60ACECB__CHDBEDFI">Example 7-2</a>, which accesses the table by index rowid, the plan uses multiblock I/O, resulting in large reads. The reads enable the last row of the entire result set to be returned more rapidly.
                        </p>
                        <div class="infoboxnotealso" id="GUID-FC019793-FC08-46DB-A74C-8BF6C60ACECB__GUID-7E894752-890E-4D0A-A179-68D2D98B48A7">
                           <p class="notep1">See Also:</p>
                           <p><a href="../tgsql/influencing-the-optimizer.html#TGSQL260" target="_blank"><span><cite>Oracle Database SQL Tuning Guide</cite></span></a> to learn how to use optimizer hints
                           </p>
                        </div>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="CNCPT216"></a><div class="props_rev_3"><a id="GUID-0E8DFE97-F2DD-4183-8A4B-1EA9087E9E37" name="GUID-0E8DFE97-F2DD-4183-8A4B-1EA9087E9E37"></a><h3 id="CNCPT-GUID-0E8DFE97-F2DD-4183-8A4B-1EA9087E9E37" class="sect3">Overview of SQL Processing</h3>
               <div>
                  <p>This section explains how Oracle Database processes SQL statements. Specifically, the section explains the way in which the database processes DDL statements to create objects, DML to modify data, and queries to retrieve data.</p>
               </div><a id="CNCPT88919"></a><a id="CNCPT1741"></a><div class="props_rev_3"><a id="GUID-1B95E60C-99C5-446D-9C6B-5D16EFE59ACF" name="GUID-1B95E60C-99C5-446D-9C6B-5D16EFE59ACF"></a><h4 id="CNCPT-GUID-1B95E60C-99C5-446D-9C6B-5D16EFE59ACF" class="sect4">Stages of SQL Processing</h4>
                  <div>
                     <p>The general stages of SQL processing are parsing, optimization, row source generation, and execution. Depending on the statement, the database may omit some of these steps.</p>
                     <p>The following figure depicts the general stages:</p>
                     <div class="figure" id="GUID-1B95E60C-99C5-446D-9C6B-5D16EFE59ACF__CHDBEDJC">
                        <p class="titleinfigure">Figure 7-3 Stages of SQL Processing</p><img src="img/cncpt250.gif" alt="Description of Figure 7-3 follows" title="Description of Figure 7-3 follows" longdesc="img_text/cncpt250.html"><br><a href="img_text/cncpt250.html">Description of "Figure 7-3 Stages of SQL Processing"</a></div>
                     <!-- class="figure" -->
                  </div><a id="CNCPT1740"></a><div class="props_rev_3"><a id="GUID-B3F2B5B8-B679-4A7C-B1E8-286F36319FCB" name="GUID-B3F2B5B8-B679-4A7C-B1E8-286F36319FCB"></a><h5 id="CNCPT-GUID-B3F2B5B8-B679-4A7C-B1E8-286F36319FCB" class="sect5">SQL Parsing</h5>
                     <div>
                        <p>The first stage of SQL processing is <span class="bold">SQL parsing</span>. This stage involves separating the pieces of a SQL statement into a data structure that can be processed by other routines.
                        </p>
                        <p>When an application issues a SQL statement, the application makes a parse call to the database to prepare the statement for execution. The parse call opens or creates a <a href="glossary.html#GUID-D1D3E8DD-CD5C-4C0D-93E4-DE0BF0BD53A3"><span class="xrefglossterm">cursor</span></a>, which is a handle for the session-specific <a href="glossary.html#GUID-4B296BAF-BAC8-4DE7-8128-464F4BA3C366"><span class="xrefglossterm">private SQL area</span></a> that holds a parsed SQL statement and other processing information. The cursor and private SQL area are in the <a href="glossary.html#GUID-19927E75-4983-4D59-A03D-C630E9908897"><span class="xrefglossterm">PGA</span></a>.
                        </p>
                        <p>During the parse call, the database performs the following checks:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Syntax check</p>
                           </li>
                           <li>
                              <p>Semantic check</p>
                           </li>
                           <li>
                              <p>Shared pool check</p>
                           </li>
                        </ul>
                        <p>The preceding checks identify the errors that can be found <span class="italic">before statement execution</span>. Some errors cannot be caught by parsing. For example, the database can encounter a <a href="glossary.html#GUID-E33D1853-7F99-4FDD-9CC7-D6308E943D61"><span class="xrefglossterm">deadlock</span></a> or errors in data conversion only during statement execution.
                        </p>
                        <div class="infoboxnotealso" id="GUID-B3F2B5B8-B679-4A7C-B1E8-286F36319FCB__GUID-63FA5FB5-B7CA-42F1-AC89-AE0757F648CC">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="data-concurrency-and-consistency.html#GUID-C1971E9B-849A-4634-9575-4F8FAD697750" title="A deadlock is a situation in which two or more users are waiting for data locked by each other. Deadlocks prevent some transactions from continuing to work.">Locks and Deadlocks</a>"</span></p>
                        </div>
                     </div>
                  </div><a id="CNCPT88924"></a><div class="props_rev_3"><a id="GUID-69CB14DE-1BA4-43DE-86F3-34CE835BD622" name="GUID-69CB14DE-1BA4-43DE-86F3-34CE835BD622"></a><h5 id="CNCPT-GUID-69CB14DE-1BA4-43DE-86F3-34CE835BD622" class="sect5">SQL Optimization</h5>
                     <div>
                        <p><strong class="term">Query optimization</strong> is the process of choosing the most efficient means of executing a SQL statement. 
                        </p>
                        <p>The database optimizes queries based on statistics collected about the actual data being accessed. The optimizer uses the number of rows, the size of the data set, and other factors to generate possible execution plans, assigning a numeric cost to each plan. The database uses the plan with the lowest cost.</p>
                        <p>The database must perform a hard parse at least once for every unique DML statement and performs optimization during this parse. DDL is never optimized unless it includes a DML component such as a subquery that requires optimization.</p>
                        <div class="infoboxnotealso" id="GUID-69CB14DE-1BA4-43DE-86F3-34CE835BD622__GUID-37DA6769-BD59-46E9-AD71-4F38ECAED06C">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="sql.html#GUID-3F42B1AA-530A-4144-8179-F0074832AF81" title="To understand how Oracle Database processes SQL statements, it is necessary to understand the part of the database called the optimizer (also known as the query optimizer or cost-based optimizer). All SQL statements use the optimizer to determine the most efficient means of accessing the specified data.">Overview of the Optimizer</a>"</span></p>
                              </li>
                              <li>
                                 <p><a href="../tgsql/query-optimizer-concepts.html#TGSQL193" target="_blank"><span><cite>Oracle Database SQL Tuning Guide</cite></span></a> for detailed information about the query optimizer
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="CNCPT88925"></a><div class="props_rev_3"><a id="GUID-A8B73B3C-991F-4E91-8AA5-DEFBDFAB0539" name="GUID-A8B73B3C-991F-4E91-8AA5-DEFBDFAB0539"></a><h5 id="CNCPT-GUID-A8B73B3C-991F-4E91-8AA5-DEFBDFAB0539" class="sect5">SQL Row Source Generation</h5>
                     <div>
                        <p>The <span class="bold">row source generator</span> is software that receives the optimal execution plan from the optimizer and produces an iterative plan, called the <span class="bold">query plan</span>, that is usable by the rest of the database.
                        </p>
                        <p>The query plan takes the form of a combination of steps. Each step returns a <a href="glossary.html#GUID-C23DF6EB-4BE3-46E7-98B5-E3DCA2E01E4A"><span class="xrefglossterm">row set</span></a>. The rows in this set are either used by the next step or, in the last step, are returned to the application issuing the SQL statement.
                        </p>
                        <p>A <a href="glossary.html#GUID-BE1723B5-DDC4-4896-9C77-C9B2FA8EA453"><span class="xrefglossterm">row source</span></a> is a row set returned by a step in the execution plan along with a control structure that can iteratively process the rows. The row source can be a table, view, or result of a join or grouping operation.
                        </p>
                     </div>
                  </div><a id="CNCPT1750"></a><div class="props_rev_3"><a id="GUID-503B4218-AF0A-4A39-A1DD-F55C1C7D1BAA" name="GUID-503B4218-AF0A-4A39-A1DD-F55C1C7D1BAA"></a><h5 id="CNCPT-GUID-503B4218-AF0A-4A39-A1DD-F55C1C7D1BAA" class="sect5">SQL Execution</h5>
                     <div>
                        <p>During execution, the SQL engine executes each row source in the tree produced by the row source generator. This is the only mandatory step in DML processing.</p>
                        <p>During execution, if the data is not in memory, then the database reads the data from disk into memory. The database also takes out any locks and latches necessary to ensure data integrity and logs any changes made during the SQL execution. The final stage of processing a SQL statement is closing the cursor.</p>
                        <p>If the database is configured to use <a href="glossary.html#GUID-A19D33EA-7BAA-42C0-9E13-6AF686E2A976"><span class="xrefglossterm">In-Memory Column Store</span></a> (IM column store), then the database transparently routes queries to the IM column store when possible, and to disk and the database buffer cache otherwise. A single query can also use the IM column store, disk, and the buffer cache. For example, a query might join two tables, only one of which is cached in the IM column store.
                        </p>
                        <div class="infoboxnotealso" id="GUID-503B4218-AF0A-4A39-A1DD-F55C1C7D1BAA__GUID-C44037C2-3EFD-48C3-8ECC-A78411BB724D">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="memory-architecture.html#GUID-80C1C6A3-3E48-4868-ACA1-370C4D341209" title="The In-Memory Area is an optional SGA component that contains the In-Memory Column Store (IM column store).">In-Memory Area</a>"</span></p>
                              </li>
                              <li>
                                 <p><a href="../tgsql/generating-and-displaying-execution-plans.html#TGSQL271" target="_blank"><span class="italic">Oracle Database SQL Tuning Guide</span></a> for detailed information about execution plans and the <code class="codeph">EXPLAIN PLAN</code> statement
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div><a id="CNCPT88928"></a><div class="props_rev_3"><a id="GUID-290D145D-07B9-4AF7-A91E-BCC444D21487" name="GUID-290D145D-07B9-4AF7-A91E-BCC444D21487"></a><h4 id="CNCPT-GUID-290D145D-07B9-4AF7-A91E-BCC444D21487" class="sect4">Differences Between DML and DDL Processing</h4>
                  <div>
                     <p>Oracle Database processes DDL differently from DML. </p>
                     <p>For example, when you create a table, the database does not optimize the <code class="codeph">CREATE TABLE</code> statement. Instead, Oracle Database parses the DDL statement and carries out the command.
                     </p>
                     <p>In contrast to DDL, most DML statements have a query component. In a query, execution of a cursor places the row generated by the query into the result set.</p>
                     <p>The database can fetch result set rows either one row at a time or in groups. In the fetch, the database selects rows and, if requested by the query, sorts the rows. Each successive fetch retrieves another row of the result until the last row has been fetched.</p>
                     <div class="infoboxnotealso" id="GUID-290D145D-07B9-4AF7-A91E-BCC444D21487__GUID-488F8A7A-5907-4FE5-971C-D47CB78C31DC">
                        <p class="notep1">See Also:</p>
                        <p><a href="../adfns/sql-processing-for-application-developers.html#ADFNS134" target="_blank"><span><cite>Oracle Database Development Guide</cite></span></a> to learn about processing DDL, transaction control, and other types of statements
                        </p>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='10579.INSERT.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>INSERT</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="SQL Language Reference ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="SQL Language Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="sql-language-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-12T15:36:36-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96310-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="GRANT.html" title="Previous" type="text/html">
      <link rel="next" href="LOCK-TABLE.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQL Language Reference">
    <meta name="dcterms.isVersionOf" content="SQLRF">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="GRANT.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="LOCK-TABLE.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL Language Reference </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="SQL-Statements-DROP-TABLE-to-LOCK-TABLE.html" property="item" typeof="WebPage"><span property="name">SQL Statements: DROP TABLE to LOCK TABLE</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">INSERT </li>
            </ol>
            <a id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423" name="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423"></a><a id="SQLRF55049"></a><a id="SQLRF55050"></a><a id="SQLRF55051"></a><a id="SQLRF55052"></a><a id="SQLRF55053"></a><a id="SQLRF55054"></a><a id="SQLRF55055"></a><a id="SQLRF55056"></a><a id="SQLRF55057"></a><a id="SQLRF55058"></a><a id="SQLRF55059"></a><a id="SQLRF55060"></a><a id="SQLRF55061"></a><a id="SQLRF55062"></a><a id="SQLRF55063"></a><a id="SQLRF55064"></a><a id="SQLRF55065"></a><a id="SQLRF55066"></a><a id="SQLRF55067"></a><a id="SQLRF55068"></a><a id="SQLRF55069"></a><a id="SQLRF55070"></a><a id="SQLRF55071"></a><a id="SQLRF55072"></a><a id="SQLRF55073"></a><a id="SQLRF55074"></a><a id="SQLRF55075"></a><a id="SQLRF55076"></a><a id="SQLRF55077"></a><a id="SQLRF55078"></a><a id="SQLRF55079"></a><a id="SQLRF55080"></a><a id="SQLRF55081"></a><a id="SQLRF55082"></a><a id="SQLRF55083"></a><a id="SQLRF55084"></a><a id="SQLRF55085"></a><a id="SQLRF55086"></a><a id="SQLRF55087"></a><a id="SQLRF55088"></a><a id="SQLRF55089"></a><a id="SQLRF55090"></a><a id="SQLRF55091"></a><a id="SQLRF55092"></a><a id="SQLRF55093"></a><a id="SQLRF55094"></a><a id="SQLRF55095"></a><a id="SQLRF55096"></a><a id="SQLRF55097"></a><a id="SQLRF55098"></a><a id="SQLRF55099"></a><a id="SQLRF55100"></a><a id="SQLRF55101"></a><a id="SQLRF55102"></a><a id="SQLRF55103"></a><a id="SQLRF55104"></a><a id="SQLRF55105"></a><a id="SQLRF55106"></a><a id="SQLRF55107"></a><a id="SQLRF55108"></a><a id="SQLRF55109"></a><a id="SQLRF55110"></a><a id="SQLRF01604"></a>
            
            <h2 id="SQLRF-GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423" class="sect2">INSERT </h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p class="subhead1" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-FF105967-ADFB-46E5-AB34-6192C18E4792">Purpose </p>
                  <p>Use the <code class="codeph">INSERT</code> statement to add rows to a table, the base table of a view, a partition of a partitioned table or a subpartition of a composite-partitioned table, or an object table or the base table of an object view.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2063953">
                  <p class="subhead1" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-AA528308-287C-413B-B526-B0B4DE080D13">Prerequisites </p>
                  <p>For you to insert rows into a table, the table must be in your own schema or you must have the <code class="codeph">INSERT</code> object privilege on the table. 
                  </p>
                  <p>For you to insert rows into the base table of a view, the owner of the schema containing the view must have the <code class="codeph">INSERT</code> object privilege on the base table. Also, if the view is in a schema other than your own, then you must have the <code class="codeph">INSERT</code> object privilege on the view. 
                  </p>
                  <p>If you have the <code class="codeph">INSERT</code> <code class="codeph">ANY</code> <code class="codeph">TABLE</code> system privilege, then you can also insert rows into any table or the base table of any view.
                  </p>
                  <p>You must also have the <code class="codeph">READ</code> or <code class="codeph">SELECT</code> object privilege on the table into which you want to insert rows if the table is on a remote database.
                  </p>
                  <p id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2191836">Conventional and Direct-Path INSERT <a id="d415345e337" class="indexterm-anchor"></a><a id="d415345e339" class="indexterm-anchor"></a><a id="d415345e343" class="indexterm-anchor"></a><a id="d415345e347" class="indexterm-anchor"></a><a id="d415345e351" class="indexterm-anchor"></a></p>
                  <p>You can use the <code class="codeph">INSERT</code> statement to insert data into a table, partition, or view in two ways: conventional <code class="codeph">INSERT</code> and direct-path <code class="codeph">INSERT</code>. When you issue a conventional <code class="codeph">INSERT</code> statement, Oracle Database reuses free space in the table into which you are inserting and maintains referential integrity constraints. With direct-path <code class="codeph">INSERT</code>, the database appends the inserted data after existing data in the table. Data is written directly into data files, bypassing the buffer cache. Free space in the existing data is not reused. This alternative enhances performance during insert operations and is similar to the functionality of the Oracle direct-path loader utility, SQL*Loader. When you insert into a table that has been created in parallel mode, direct-path <code class="codeph">INSERT</code> is the default.
                  </p>
                  <p>The manner in which the database generates redo and undo data depends in part on whether you are using conventional or direct-path <code class="codeph">INSERT</code>:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Conventional <code class="codeph">INSERT</code> always generates maximal redo and undo for changes to both data and metadata, regardless of the logging setting of the table and the archivelog and force logging settings of the database.
                        </p>
                     </li>
                     <li>
                        <p>Direct-path <code class="codeph">INSERT</code> generates both redo and undo for <span class="italic">metadata</span> changes, because these are needed for operation recovery.  For <span class="italic">data</span> changes, undo and redo are generated as follows:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Direct-path <code class="codeph">INSERT</code> always bypasses undo generation for data changes. 
                              </p>
                           </li>
                           <li>
                              <p>If the database is not in <code class="codeph">ARCHIVELOG</code> or <code class="codeph">FORCE</code> <code class="codeph">LOGGING</code> mode, then no redo is generated for data changes, regardless of the logging setting of the table.
                              </p>
                           </li>
                           <li>
                              <p>If the database is in <code class="codeph">ARCHIVELOG</code> mode (but not in <code class="codeph">FORCE</code> <code class="codeph">LOGGING</code> mode), then direct-path <code class="codeph">INSERT</code> generates data redo for <code class="codeph">LOGGING</code> tables but not for <code class="codeph">NOLOGGING</code> tables.
                              </p>
                           </li>
                           <li>
                              <p>If the database is in <code class="codeph">ARCHIVELOG</code> <span class="bold">and</span> <code class="codeph">FORCE</code> <code class="codeph">LOGGING</code> mode, then direct-path SQL generate data redo for both <code class="codeph">LOGGING</code> and <code class="codeph">NOLOGGING</code> tables. 
                              </p>
                           </li>
                        </ul>
                     </li>
                  </ul>
                  <p>Direct-path <code class="codeph">INSERT</code> is subject to a number of restrictions. If any of these restrictions is violated, then Oracle Database executes conventional <code class="codeph">INSERT</code> serially without returning any message, unless otherwise noted:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>You can have multiple direct-path <code class="codeph">INSERT</code> statements in a single transaction, with or without other DML statements. However, after one DML statement alters a particular table, partition, or index, no other DML statement in the transaction can access that table, partition, or index.
                        </p>
                     </li>
                     <li>
                        <p>Queries that access the same table, partition, or index are allowed before the direct-path <code class="codeph">INSERT</code> statement, but not after it.
                        </p>
                     </li>
                     <li>
                        <p>If any serial or parallel statement attempts to access a table that has already been modified by a direct-path <code class="codeph">INSERT</code> in the same transaction, then the database returns an error and rejects the statement.
                        </p>
                     </li>
                     <li>
                        <p>The target table cannot be of a cluster.</p>
                     </li>
                     <li>
                        <p>The target table cannot contain object type columns.</p>
                     </li>
                     <li>
                        <p>Direct-path <code class="codeph">INSERT</code> is not supported for an index-organized table (IOT) if it has a mapping table, or if it is reference by a materialized view.
                        </p>
                     </li>
                     <li>
                        <p>Direct-path <code class="codeph">INSERT</code> into a single partition of an index-organized table (IOT), into a partitioned IOT with only one partition, or into an IOT that is not partitioned, will be done serially, even if the IOT was created in parallel mode or you specify the <code class="codeph">APPEND</code> or <code class="codeph">APPEND_VALUES</code> hint. However, direct-path <code class="codeph">INSERT</code> operations into a partitioned IOT will honor parallel mode as long as the partition-extended name is not used and the IOT has more than one partition.
                        </p>
                     </li>
                     <li>
                        <p>The target table cannot have any triggers or referential integrity constraints defined on it.</p>
                     </li>
                     <li>
                        <p>The target table cannot be replicated.</p>
                     </li>
                     <li>
                        <p>A transaction containing a direct-path <code class="codeph">INSERT</code> statement cannot be or become distributed.
                        </p>
                     </li>
                  </ul>
                  <p>You cannot query or modify direct-path inserted data immediately after the insert is complete. If you attempt to do so, an <code class="codeph">ORA-12838</code> error is generated. You must first issue a <code class="codeph">COMMIT</code> statement before attempting to read or modify the newly-inserted data.
                  </p>
                  <div class="infoboxnotealso" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-BC3FDB59-7B30-4D7E-8816-F6631AC333B6">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../admin/managing-tables.html#ADMIN01509" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> for a more complete description of direct-path <code class="codeph">INSERT</code></p>
                        </li>
                        <li>
                           <p><a href="../sutil/oracle-sql-loader-concepts.html#SUTIL003" target="_blank"><span class="italic">Oracle Database Utilities</span></a> for information on SQL*Loader
                           </p>
                        </li>
                        <li>
                           <p><a href="../tgsql/optimizer-statistics-concepts.html#TGSQL344" target="_blank"><span class="italic">Oracle Database SQL Tuning Guide</span></a> for information on statistics gathering when inserting into an empty table using direct-path <code class="codeph">INSERT</code></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2111652">
                  <p class="subhead1" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-CF2438DF-FE43-4AF3-9EE0-F89A27F5DF4C">Syntax</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-E277F5E7-2687-41C8-B852-B35663272557"><span class="italic">insert</span>::=
                  </p>
                  <div class="figure" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-FCC21D7E-BEF5-4BA4-A61A-BCAFAA7D10CC"><img src="img/insert.gif" alt="Description of insert.eps follows" title="Description of insert.eps follows" longdesc="img_text/insert.html"><br><a href="img_text/insert.html">Description of the illustration insert.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="INSERT.html#GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2121671">single_table_insert::=</a></span>, <span class="italic"><a href="INSERT.html#GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2121682">multi_table_insert::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2121671">
                  <p class="subhead1" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-9A8471C1-8C8A-46BA-8014-405C68664BED"><span class="italic">single_table_insert</span>::=
                  </p>
                  <div class="figure" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-1C6892D2-E720-4345-8509-1F26DC1C0AD1"><img src="img/single_table_insert.gif" alt="Description of single_table_insert.eps follows" title="Description of single_table_insert.eps follows" longdesc="img_text/single_table_insert.html"><br><a href="img_text/single_table_insert.html">Description of the illustration single_table_insert.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="INSERT.html#GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2121694">insert_into_clause::=</a></span>, <span class="italic"><a href="INSERT.html#GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2122346">values_clause::=</a></span>, <span class="italic"><a href="INSERT.html#GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2122356">returning_clause::=</a></span>, <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2126435">subquery::=</a></span>, <span class="italic"><a href="INSERT.html#GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__BGBDIGAH">error_logging_clause::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2121694">
                  <p class="subhead1" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-AC239E95-0DD5-4F4B-A849-55C87840D0E6"><span class="italic">insert_into_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-474BD534-BDEC-4C8D-B552-65F1EE72DC80"><img src="img/insert_into_clause.gif" alt="Description of insert_into_clause.eps follows" title="Description of insert_into_clause.eps follows" longdesc="img_text/insert_into_clause.html"><br><a href="img_text/insert_into_clause.html">Description of the illustration insert_into_clause.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="INSERT.html#GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2126242">DML_table_expression_clause::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2122346">
                  <p class="subhead1" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-AC540A1D-3C6D-4FAF-8B8F-F3BA331205A7"><span class="italic">values_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-3D47E1E9-23BA-4B9C-BE6E-E423FCB9D160"><img src="img/values_clause.gif" alt="Description of values_clause.eps follows" title="Description of values_clause.eps follows" longdesc="img_text/values_clause.html"><br><a href="img_text/values_clause.html">Description of the illustration values_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2122356">
                  <p class="subhead1" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-5F9527B0-AEE2-404C-A440-643758BEC2A3"><span class="italic">returning_clause</span>::=
                  </p><a id="d415345e643" class="indexterm-anchor"></a><div class="figure" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-207E68CA-F4ED-4B60-92CD-C9342C247987"><img src="img/returning_clause.gif" alt="Description of returning_clause.eps follows" title="Description of returning_clause.eps follows" longdesc="img_text/returning_clause.html"><br><a href="img_text/returning_clause.html">Description of the illustration returning_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2121682">
                  <p class="subhead1" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-189C3414-46E8-4EF2-8E10-03483DD68F6E"><span class="italic">multi_table_insert</span>::=
                  </p>
                  <div class="figure" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-B7B5A639-DABD-4470-928A-A1D675504336"><img src="img/multi_table_insert.gif" alt="Description of multi_table_insert.eps follows" title="Description of multi_table_insert.eps follows" longdesc="img_text/multi_table_insert.html"><br><a href="img_text/multi_table_insert.html">Description of the illustration multi_table_insert.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="INSERT.html#GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2121694">insert_into_clause::=</a></span>, <span class="italic"><a href="INSERT.html#GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2122346">values_clause::=</a></span>, <span class="italic"><a href="INSERT.html#GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2121821">conditional_insert_clause::=</a></span>, <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2126435">subquery::=</a></span>, <span class="italic"><a href="INSERT.html#GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__BGBDIGAH">error_logging_clause::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2121821">
                  <p class="subhead1" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-B1725B5D-00D9-46D0-AE15-10C1D6EFEC14"><span class="italic">conditional_insert_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-635C9330-E27B-4BEE-BBD3-99FAE9A92F5D"><img src="img/conditional_insert_clause.gif" alt="Description of conditional_insert_clause.eps follows" title="Description of conditional_insert_clause.eps follows" longdesc="img_text/conditional_insert_clause.html"><br><a href="img_text/conditional_insert_clause.html">Description of the illustration conditional_insert_clause.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="INSERT.html#GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2121694">insert_into_clause::=</a></span>, <span class="italic"><a href="INSERT.html#GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2122346">values_clause::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2126242">
                  <p class="subhead1" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-D876C95D-CBAC-478D-8B9E-E4099A6D5F4B"><span class="italic">DML_table_expression_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-46309F79-29FF-4BA5-8A02-0D49316D3A2F"><img src="img/dml_table_expression_clause.gif" alt="Description of dml_table_expression_clause.eps follows" title="Description of dml_table_expression_clause.eps follows" longdesc="img_text/dml_table_expression_clause.html"><br><a href="img_text/dml_table_expression_clause.html">Description of the illustration dml_table_expression_clause.eps</a></div>
                  <!-- class="figure" -->
                  <p>(<span class="italic"><a href="LOCK-TABLE.html#GUID-4C00C6D9-C5C5-46CC-AD33-A64001744A4C__BABBDIIJ">partition_extension_clause::=</a></span>, <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2126435">subquery::=</a></span>part of <code class="codeph">SELECT</code>, <span class="italic"><a href="INSERT.html#GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2121860">subquery_restriction_clause::=</a></span>, <span class="italic"><a href="INSERT.html#GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2121871">table_collection_expression::=</a></span>)
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-18B85FAB-BD74-4DBC-B529-47A02250AF31"><span class="italic">partition_extension_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-C252C94F-30B5-44C5-9E92-AA04DE6460E9"><img src="img/partition_extension_clause.gif" alt="Description of partition_extension_clause.eps follows" title="Description of partition_extension_clause.eps follows" longdesc="img_text/partition_extension_clause.html"><br><a href="img_text/partition_extension_clause.html">Description of the illustration partition_extension_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2121860">
                  <p class="subhead1" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-C96594EA-4C61-4D15-ADD5-37E1B0479B2E"><span class="italic">subquery_restriction_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-6F403720-F82A-4031-80A9-D7EB1FB725EF"><img src="img/subquery_restriction_clause.gif" alt="Description of subquery_restriction_clause.eps follows" title="Description of subquery_restriction_clause.eps follows" longdesc="img_text/subquery_restriction_clause.html"><br><a href="img_text/subquery_restriction_clause.html">Description of the illustration subquery_restriction_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2121871">
                  <p class="subhead1" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-FB9A6326-E1E1-4144-A4CF-794E401E91BE"><span class="italic">table_collection_expression</span>::=
                  </p>
                  <div class="figure" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-B8C06F40-D55E-4067-A927-74999215702B"><img src="img/table_collection_expression.gif" alt="Description of table_collection_expression.eps follows" title="Description of table_collection_expression.eps follows" longdesc="img_text/table_collection_expression.html"><br><a href="img_text/table_collection_expression.html">Description of the illustration table_collection_expression.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__BGBDIGAH">
                  <p class="subhead1" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-69298B65-A3A7-4123-AFCB-A7F54A0BDCEF"><span class="italic">error_logging_clause</span>::=
                  </p>
                  <div class="figure" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-5D7D822B-7B0C-41F4-8D38-754DD081FB02"><img src="img/error_logging_clause.gif" alt="Description of error_logging_clause.eps follows" title="Description of error_logging_clause.eps follows" longdesc="img_text/error_logging_clause.html"><br><a href="img_text/error_logging_clause.html">Description of the illustration error_logging_clause.eps</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2145420">
                  <p class="subhead1" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-2AC8C6CA-78B9-4D26-8107-F6A7CCE07F95">Semantics</p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-EB8787F0-EABF-4CA0-A938-15B6FB067572"><span class="italic">hint</span></p>
                  <p>Specify a comment that passes instructions to the optimizer on choosing an execution plan for the statement. </p>
                  <p>For a multitable insert, if you specify the <code class="codeph">PARALLEL</code> hint for any target table, then the entire multitable insert statement is parallelized even if the target tables have not been created or altered with <code class="codeph">PARALLEL</code> specified. If you do not specify the <code class="codeph">PARALLEL</code> hint, then the insert operation will not be parallelized unless all target tables were created or altered with <code class="codeph">PARALLEL</code> specified.
                  </p>
                  <div class="infoboxnotealso" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-C507569F-0CEC-4D29-95D6-AE671A58ACCA">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="q">"<a href="Comments.html#GUID-D316D545-89E2-4D54-977F-FC97815CD62E">Hints</a>"</span> for the syntax and description of hints
                           </p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="INSERT.html#GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2080134">Restrictions on Multitable Inserts</a>"</span></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-B621D1B1-C431-4224-ADE1-A81460415A44"><span class="italic">single_table_insert </span></p>
                  <p>In a <span class="bold">single-table insert</span>, you insert values into one row of a table, view, or materialized view by specifying values explicitly or by retrieving the values through a subquery.
                  </p>
                  <p><span class="italic"></span>You can use the <span class="italic"><code class="codeph">flashback_query_clause</code></span> in <span class="italic"><code class="codeph">subquery</code></span> to insert past data into <span class="italic"><code class="codeph">table</code></span>. Refer to the <span class="italic"><a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2112818">flashback_query_clause</a></span> of <code class="codeph">SELECT</code> for more information on this clause.
                  </p>
                  <p><span class="bold">Restriction on Single-table Inserts</span></p>
                  <p>If you retrieve values through a subquery, then the select list of the subquery must have the same number of columns as the column list of the <code class="codeph">INSERT</code> statement. If you omit the column list, then the subquery must provide values for every column in the table. 
                  </p>
                  <div class="infoboxnotealso" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-401389A9-FBBC-40DF-BC40-4183C4724BBA">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="INSERT.html#GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2145074">Inserting Values into Tables: Examples</a>"</span></p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-B4BA3ADA-CA81-4F01-95FE-B7FB6B079E71"><span class="italic">insert_into_clause </span></p>
                  <p>Use the <code class="codeph">INSERT</code> <code class="codeph">INTO</code> clause to specify the target object or objects into which the database is to insert data.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-ADB9B6BB-7B21-45E4-A1D7-830EDF96CC39"><span class="italic">DML_table_expression_clause</span></p>
                  <p>Use the <code class="codeph">INTO</code> <span class="italic"><code class="codeph">DML_table_expression_clause</code></span> to specify the objects into which data is being inserted.
                  </p>
                  <p><span class="bold"><span class="italic">schema</span></span></p>
                  <p>Specify the schema containing the table, view, or materialized view. If you omit <span class="italic"><code class="codeph">schema</code></span>, then the database assumes the object is in your own schema. 
                  </p>
                  <p><span class="bold"><span class="italic">table</span></span> <span class="bold">|</span> <span class="bold"><span class="italic">view</span></span> <span class="bold">|</span> <span class="bold"><span class="italic">materialized_view</span></span> <span class="bold">|</span> <span class="bold"><span class="italic">subquery</span></span></p>
                  <p>Specify the name of the table or object table, view or object view, materialized view, or the column or columns returned by a subquery, into which rows are to be inserted. If you specify a view or object view, then the database inserts rows into the base table of the view. </p>
                  <p>You cannot insert rows into a read-only materialized view. If you insert rows into a writable materialized view, then the database inserts the rows into the underlying container table. However, the insertions are overwritten at the next refresh operation. If you insert rows into an updatable materialized view that is part of a materialized view group, then the database also inserts the corresponding rows into the master table. </p>
                  <p>If any value to be inserted is a <code class="codeph">REF</code> to an object table, and if the object table has a primary key object identifier, then the column into which you insert the <code class="codeph">REF</code> must be a <code class="codeph">REF</code> column with a referential integrity or <code class="codeph">SCOPE</code> constraint to the object table.
                  </p>
                  <p>If <span class="italic"><code class="codeph">table</code></span>, or the base table of <span class="italic"><code class="codeph">view</code></span>, contains one or more domain index columns, then this statement executes the appropriate indextype insert routine. 
                  </p>
                  <p>Issuing an <code class="codeph">INSERT</code> statement against a table fires any <code class="codeph">INSERT</code> triggers defined on the table. 
                  </p>
                  <div class="infoboxnotealso" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-EE2175F1-5C6A-4D5C-B272-2313FA6E7967">
                     <p class="notep1">See Also:</p>
                     <p><a href="../addci/extensible-indexing-interface.html#ADDCI4200" target="_blank"><span class="italic">Oracle Database Data Cartridge Developer's Guide</span></a> for more information on these routines
                     </p>
                  </div>
                  <p><span class="bold">Restrictions on the</span> <span class="bold"><span class="italic">DML_table_expression_clause</span></span></p>
                  <p>This clause is subject to the following restrictions:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>You cannot execute this statement if <span class="italic"><code class="codeph">table</code></span> or the base table of <span class="italic"><code class="codeph">view</code></span> contains any domain indexes marked <code class="codeph">IN_PROGRESS</code> or <code class="codeph">FAILED</code>.
                        </p>
                     </li>
                     <li>
                        <p>You cannot insert into a partition if any affected index partitions are marked <code class="codeph">UNUSABLE</code>.
                        </p>
                     </li>
                     <li>
                        <p>With regard to the <code class="codeph">ORDER</code> <code class="codeph">BY</code> clause of the <span class="italic"><code class="codeph">subquery</code></span> in the <span class="italic"><code class="codeph">DML_table_expression_clause</code></span>, ordering is guaranteed only for the rows being inserted, and only within each extent of the table. Ordering of new rows with respect to existing rows is not guaranteed.
                        </p>
                     </li>
                     <li>
                        <p>If a view was created using the <code class="codeph">WITH</code> <code class="codeph">CHECK</code> <code class="codeph">OPTION</code>, then you can insert into the view only rows that satisfy the defining query of the view. 
                        </p>
                     </li>
                     <li>
                        <p>If a view was created using a single base table, then you can insert rows into the view and then retrieve those values using the <span class="italic"><code class="codeph">returning_clause</code></span>. 
                        </p>
                     </li>
                     <li>
                        <p><a id="d415345e1016" class="indexterm-anchor"></a>You cannot insert rows into a view except with <code class="codeph">INSTEAD</code> <code class="codeph">OF</code> triggers if the defining query of the view contains one of the following constructs: 
                        </p>
                        <ul class="simple" style="list-style-type: none;padding-left:0;">
                           <li>A set operator</li>
                           <li>A <code class="codeph">DISTINCT</code> operator
                           </li>
                           <li>An aggregate or analytic function</li>
                           <li>A <code class="codeph">GROUP</code> <code class="codeph">BY</code>, <code class="codeph">ORDER</code> <code class="codeph">BY</code>, <code class="codeph">MODEL</code>, <code class="codeph">CONNECT</code> <code class="codeph">BY</code>, or <code class="codeph">START</code> <code class="codeph">WITH</code> clause
                           </li>
                           <li>A collection expression in a <code class="codeph">SELECT</code> list
                           </li>
                           <li>A subquery in a <code class="codeph">SELECT</code> list
                           </li>
                           <li>A subquery designated <code class="codeph">WITH READ ONLY</code></li>
                           <li>Joins, with some exceptions, as documented in <a href="../admin/managing-views-sequences-and-synonyms.html#ADMIN020" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a></li>
                           <li></li>
                        </ul>
                     </li>
                     <li>
                        <p>If you specify an index, index partition, or index subpartition that has been marked <code class="codeph">UNUSABLE</code>, then the <code class="codeph">INSERT</code> statement will fail unless the <code class="codeph">SKIP_UNUSABLE_INDEXES</code> session parameter has been set to <code class="codeph">TRUE</code>. Refer to <a href="ALTER-SESSION.html#GUID-27186B28-7EFC-4998-B1ED-2B905CC0211B">ALTER SESSION</a> for information on the <code class="codeph">SKIP_UNUSABLE_INDEXES</code> session parameter.
                        </p>
                     </li>
                  </ul>
                  <p><span class="bold"><span class="italic">partition_extension_clause</span></span> <a id="d415345e1115" class="indexterm-anchor"></a><a id="d415345e1121" class="indexterm-anchor"></a><a id="d415345e1127" class="indexterm-anchor"></a><a id="d415345e1131" class="indexterm-anchor"></a><a id="d415345e1135" class="indexterm-anchor"></a><a id="d415345e1139" class="indexterm-anchor"></a></p>
                  <p>Specify the name or partition key value of the partition or subpartition within <span class="italic"><code class="codeph">table</code></span>, or the base table of <span class="italic"><code class="codeph">view</code></span>, targeted for inserts. 
                  </p>
                  <p>If a row to be inserted does not map into a specified partition or subpartition, then the database returns an error.</p>
                  <p><span class="bold">Restriction on Target Partitions and Subpartitions</span></p>
                  <p>This clause is not valid for object tables or object views.</p>
                  <div class="infoboxnotealso" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-CE48D4EF-D24C-4EB1-8B39-9FABAAACE811">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="Syntax-for-Schema-Objects-and-Parts-in-SQL-Statements.html#GUID-FED2E424-3F06-4B2B-88D2-DE043CA6E0E4">References to Partitioned Tables and Indexes</a>"</span></p>
                  </div>
                  <p><span class="bold"><span class="italic">dblink </span></span></p>
                  <p>Specify a complete or partial name of a database link to a remote database where the table or view is located. You can insert rows into a remote table or view only if you are using Oracle Database distributed functionality. </p>
                  <p>If you omit <span class="italic"><code class="codeph">dblink</code></span>, then Oracle Database assumes that the table or view is on the local database. 
                  </p>
                  <div class="infoboxnote" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-694BBDB3-0B8F-4CB1-BEB5-A940D07EBC69">
                     <p class="notep1">Note:</p>
                     <p>Starting with Oracle Database 12<span class="italic">c</span> Release 2 (12.2), the <code class="codeph">INSERT</code> statement accepts remote LOB locators as bind variables. Refer to the Distributed LOBs chapter in <a href="../adlob/distributed-LOBs.html#ADLOB-GUID-7E450E86-3E4E-4714-A164-FD36B93722F6" target="_blank"><span class="italic">Oracle Database SecureFiles and Large Objects Developer's Guide</span></a> for more information.
                     </p>
                  </div>
                  <div class="infoboxnotealso" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-68A36008-0B93-472D-842C-725D5F7B68BE">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="q">"<a href="Syntax-for-Schema-Objects-and-Parts-in-SQL-Statements.html#GUID-1164C6E0-ABAB-49C2-8821-6B6C5047FEDD">Syntax for Schema Objects and Parts in SQL Statements</a>"</span> and <span class="q">"<a href="Syntax-for-Schema-Objects-and-Parts-in-SQL-Statements.html#GUID-61D0B206-A5EA-473F-AD04-7067D6E3914C">References to Objects in Remote Databases</a>"</span> for information on referring to database links 
                           </p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="INSERT.html#GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2126166">Inserting into a Remote Database: Example</a>"</span></p>
                        </li>
                     </ul>
                  </div>
                  <p><span class="bold"><span class="italic">subquery_restriction_clause</span></span></p>
                  <p>Use the <span class="italic"><code class="codeph">subquery_restriction_clause</code></span> to restrict the subquery in one of the following ways:
                  </p>
                  <p><span class="bold">WITH READ ONLY</span></p>
                  <p>Specify <code class="codeph">WITH READ ONLY</code> to indicate that the table or view cannot be updated.
                  </p>
                  <p><span class="bold">WITH CHECK OPTION</span></p>
                  <p>Specify <code class="codeph">WITH CHECK OPTION</code> to indicate that Oracle Database prohibits any changes to the table or view that would produce rows that are not included in the subquery. When used in the subquery of a DML statement, you can specify this clause in a subquery in the <code class="codeph">FROM</code> clause but not in subquery in the <code class="codeph">WHERE</code> clause.
                  </p>
                  <p><span class="bold">CONSTRAINT</span> <span class="bold"><span class="italic">constraint</span></span></p>
                  <p>Specify the name of the <code class="codeph">CHECK OPTION</code> constraint. If you omit this identifier, then Oracle automatically assigns the constraint a name of the form <code class="codeph">SYS_C</code><span class="italic"><code class="codeph">n</code></span>, where n is an integer that makes the constraint name unique within the database.
                  </p>
                  <div class="infoboxnotealso" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-FDB15199-FA66-4803-B26E-D1D3FF58E739">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2066598">Using the WITH CHECK OPTION Clause: Example</a>"</span></p>
                  </div>
                  <p><span class="bold"><span class="italic">table_collection_expression </span></span></p>
                  <p>The <span class="italic"><code class="codeph">table_collection_expression</code></span> lets you inform Oracle that the value of <span class="italic"><code class="codeph">collection_expression</code></span> should be treated as a table for purposes of query and DML operations. The <span class="italic"><code class="codeph">collection_expression</code></span> can be a subquery, a column, a function, or a collection constructor. Regardless of its form, it must return a collection valuethat is, a value whose type is nested table or varray. This process of extracting the elements of a collection is called <span class="bold">collection unnesting</span>.
                  </p>
                  <p>The optional plus (+) is relevant if you are joining the <code class="codeph">TABLE</code> collection expression with the parent table. The + creates an outer join of the two, so that the query returns rows from the outer table even if the collection expression is null.
                  </p>
                  <div class="infoboxnote" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-1CA4F4EC-EE8B-4F0D-AB11-F16426F7EAF9">
                     <p class="notep1">Note:</p>
                     <p>In earlier releases of Oracle, when <span class="italic"><code class="codeph">collection_expression</code></span> was a subquery, <span class="italic"><code class="codeph">table_collection_expression</code></span> was expressed as <code class="codeph">THE</code> <span class="italic"><code class="codeph">subquery</code></span>. That usage is now deprecated.
                     </p>
                  </div>
                  <div class="infoboxnotealso" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-C18FCB2E-8324-4264-A6F0-41C55BF25E00">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6__I2071643">Table Collections: Examples</a>"</span></p>
                  </div>
                  <p><span class="bold"><span class="italic">t_alias</span></span></p>
                  <p>Specify a <span class="bold">correlation name</span>, which is an alias for the table, view, materialized view, or subquery to be referenced elsewhere in the statement.
                  </p>
                  <p><span class="bold">Restriction on Table Aliases</span></p>
                  <p>You cannot specify <span class="italic"><code class="codeph">t_alias</code></span> during a multitable insert.
                  </p>
                  <p><span class="bold"><span class="italic">column </span></span></p>
                  <p>Specify a column of the table, view, or materialized view. In the inserted row, each column in this list is assigned a value from the <span class="italic"><code class="codeph">values_clause</code></span> or the subquery. If you want to assign a value to an <code class="codeph">INVISIBLE</code> column, then you must include the column in this list.
                  </p>
                  <p>If you omit one or more of the table's columns from this list, then the column value of that column for the inserted row is the column default value as specified when the table was created or last altered. If any omitted column has a <code class="codeph">NOT</code> <code class="codeph">NULL</code> constraint and no default value, then the database returns an error indicating that the constraint has been violated and rolls back the <code class="codeph">INSERT</code> statement. Refer to <a href="CREATE-TABLE.html#GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6">CREATE TABLE</a><span class="bold"> </span>for more information on default column values.
                  </p>
                  <p>If you omit the column list altogether, then the <span class="italic"><code class="codeph">values_clause</code></span> or query must specify values for all columns in the table.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-408B84CF-7C24-41AF-AC70-02AC9255AFB0"><span class="italic">values_clause </span></p>
                  <p>For a <span class="bold">single-table insert</span> operation, specify a row of values to be inserted into the table or view. You must specify a value in the <span class="italic"><code class="codeph">values_clause</code></span> for each column in the column list. If you omit the column list, then the <span class="italic"><code class="codeph">values_clause</code></span> must provide values for every column in the table. 
                  </p>
                  <p>For a <span class="bold">multitable insert</span> operation, each expression in the <span class="italic"><code class="codeph">values_clause</code></span> must refer to columns returned by the select list of the subquery. If you omit the <span class="italic"><code class="codeph">values_clause</code></span>, then the select list of the subquery determines the values to be inserted, so it must have the same number of columns as the column list of the corresponding <span class="italic"><code class="codeph">insert_into_clause</code></span>. If you do not specify a column list in the <span class="italic"><code class="codeph">insert_into_clause</code></span>, then the computed row must provide values for all columns in the target table.
                  </p>
                  <p>For both types of insert operations, if you specify a column list in the <span class="italic"><code class="codeph">insert_into_clause</code></span>, then the database assigns to each column in the list a corresponding value from the values clause or the subquery. You can specify <code class="codeph">DEFAULT</code> for any value in the <span class="italic"><code class="codeph">values_clause</code></span>. If you have specified a default value for the corresponding column of the table or view, then that value is inserted. If no default value for the corresponding column has been specified, then the database inserts null. Refer to <span class="q">"<a href="About-SQL-Expressions.html#GUID-68789A5C-B142-496F-ADEE-837F75F95B2B">About SQL Expressions</a>"</span> and <a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6">SELECT</a> for syntax of valid expressions.
                  </p>
                  <p><span class="bold">Restrictions on Inserted Values</span></p>
                  <p>The value are subject to the following restrictions:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>You cannot insert a <code class="codeph">BFILE</code> value until you have initialized the <code class="codeph">BFILE</code> locator to null or to a directory name and filename.
                        </p>
                        <div class="infoboxnotealso" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-5511D694-8AEE-4B35-9939-0B8EE4B6DD58">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="BFILENAME.html#GUID-1F767077-7C26-4962-9833-1433F1749621">BFILENAME</a> for information on initializing <code class="codeph">BFILE</code> values and for an example of inserting into a <code class="codeph">BFILE</code></p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/sqlrf&amp;id=ADLOB002" target="_blank"><span class="italic">Oracle Database SecureFiles and Large Objects Developer's Guide</span></a> for information on initializing <code class="codeph">BFILE</code> locators
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </li>
                     <li>
                        <p>When inserting into a list-partitioned table, you cannot insert a value into the partitioning key column that does not already exist in the <span class="italic"><code class="codeph">partition_key_value</code></span> list of one of the partitions.
                        </p>
                     </li>
                     <li>
                        <p>You cannot specify <code class="codeph">DEFAULT</code> when inserting into a view.
                        </p>
                     </li>
                     <li>
                        <p>If you insert string literals into a <code class="codeph">RAW</code> column, then during subsequent queries Oracle Database will perform a full table scan rather than using any index that might exist on the <code class="codeph">RAW</code> column.
                        </p>
                        <div class="infoboxnotealso" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-AE9EDF44-DABF-4047-84C8-7D3ABF82A67F">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="Using-XML-in-SQL-Statements.html#GUID-5FE21EC9-1F66-45F1-9FD8-ECA5336EDC14">Using XML in SQL Statements</a>"</span> for information on inserting values into an XMLType table
                                 </p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="INSERT.html#GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2085891">Inserting into a Substitutable Tables and Columns: Examples</a>"</span>, <span class="q">"<a href="INSERT.html#GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2085882">Inserting Using the TO_LOB Function: Example</a>"</span>, <span class="q">"<a href="INSERT.html#GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2102477">Inserting Sequence Values: Example</a>"</span>, and <span class="q">"<a href="INSERT.html#GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2126188">Inserting Using Bind Variables: Example</a>"</span></p>
                              </li>
                           </ul>
                        </div>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-0D129800-F156-4367-98EA-423A673DF284"><span class="italic">returning_clause</span></p>
                  <p><a id="d415345e1515" class="indexterm-anchor"></a>The returning clause retrieves the rows affected by a DML statement. You can specify this clause for tables and materialized views and for views with a single base table.
                  </p>
                  <p>When operating on a single row, a DML statement with a <span class="italic"><code class="codeph">returning_clause</code></span> can retrieve column expressions using the affected row, rowid, and <code class="codeph">REFs</code> to the affected row and store them in host variables or PL/SQL variables. 
                  </p>
                  <p>When operating on multiple rows, a DML statement with the <span class="italic"><code class="codeph">returning_clause</code></span> stores values from expressions, rowids, and <code class="codeph">REFs</code> involving the affected rows in bind arrays.
                  </p>
                  <p><span class="bold"><span class="italic">expr</span></span></p>
                  <p>Each item in the <span class="italic"><code class="codeph">expr</code></span> list must be a valid expression syntax. 
                  </p>
                  <p><span class="bold">INTO</span></p>
                  <p>The <code class="codeph">INTO</code> clause indicates that the values of the changed rows are to be stored in the variable(s) specified in <span class="italic"><code class="codeph">data_item</code></span> list.
                  </p>
                  <p><span class="bold"><span class="italic">data_item</span></span></p>
                  <p>Each <span class="italic"><code class="codeph">data_item</code></span> is a host variable or PL/SQL variable that stores the retrieved <span class="italic"><code class="codeph">expr</code></span> value.
                  </p>
                  <p>For each expression in the <code class="codeph">RETURNING</code> list, you must specify a corresponding type-compatible PL/SQL variable or host variable in the <code class="codeph">INTO</code> list.
                  </p>
                  <p><span class="bold">Restrictions</span></p>
                  <p>The following restrictions apply to the <code class="codeph">RETURNING</code> clause:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The <span class="italic"><code class="codeph">expr</code></span> is restricted as follows:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>For <code class="codeph">UPDATE</code> and <code class="codeph">DELETE</code> statements each <span class="italic"><code class="codeph">expr</code></span> must be a simple expression or a single-set aggregate function expression. You cannot combine simple expressions and single-set aggregate function expressions in the same <span class="italic"><code class="codeph">returning_clause</code></span>. For <code class="codeph">INSERT</code> statements, each <span class="italic"><code class="codeph">expr</code></span> must be a simple expression. Aggregate functions are not supported in an <code class="codeph">INSERT</code> statement <code class="codeph">RETURNING</code> clause. 
                              </p>
                           </li>
                           <li>
                              <p>Single-set aggregate function expressions cannot include the <code class="codeph">DISTINCT</code> keyword.
                              </p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p>If the <span class="italic"><code class="codeph">expr</code></span> list contains a primary key column or other <code class="codeph">NOT</code> <code class="codeph">NULL</code> column, then the update statement fails if the table has a <code class="codeph">BEFORE</code> <code class="codeph">UPDATE</code> trigger defined on it. 
                        </p>
                     </li>
                     <li>
                        <p>You cannot specify the <span class="italic"><code class="codeph">returning_clause</code></span> for a multitable insert.
                        </p>
                     </li>
                     <li>
                        <p>You cannot use this clause with parallel DML or with remote objects.</p>
                     </li>
                     <li>
                        <p>You cannot retrieve <code class="codeph">LONG</code> types with this clause.
                        </p>
                     </li>
                     <li>
                        <p>You cannot specify this clause for a view on which an <code class="codeph">INSTEAD</code> <code class="codeph">OF</code> trigger has been defined.
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-58AE7220-D295-47CB-A086-B54BC65EC7CC">
                     <p class="notep1">See Also:</p>
                     <p><a href="../lnpls/plsql-collections-and-records.html#LNPLS005" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for information on using the <code class="codeph">BULK</code> <code class="codeph">COLLECT</code> clause to return multiple values to collection variables
                     </p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-A375FB35-7EE9-4FF3-98BD-E58087EA1C6E"><span class="italic">multi_table_insert </span></p>
                  <p>In a <span class="bold">multitable insert</span>, you insert computed rows derived from the rows returned from the evaluation of a subquery into one or more tables.
                  </p>
                  <p>Table aliases are not defined by the select list of the subquery. Therefore, they are not visible in the clauses dependent on the select list. For example, this can happen when trying to refer to an object column in an expression. To use an expression with a table alias, you must put the expression into the select list with a column alias, and then refer to the column alias in the <code class="codeph">VALUES</code> clause or <code class="codeph">WHEN</code> condition of the multitable insert.
                  </p>
                  <p><span class="bold">ALL</span> <span class="bold"><span class="italic">into_clause</span></span></p>
                  <p>Specify <code class="codeph">ALL</code> followed by multiple <span class="italic"><code class="codeph">insert_into_clauses</code></span> to perform an <span class="bold">unconditional multitable insert</span>. Oracle Database executes each <span class="italic"><code class="codeph">insert_into_clause</code></span> once for each row returned by the subquery.
                  </p>
                  <p><span class="bold"><span class="italic">conditional_insert_clause </span></span></p>
                  <p>Specify the <span class="italic"><code class="codeph">conditional_insert_clause</code></span> to perform a <span class="bold">conditional multitable insert</span>. Oracle Database filters each <span class="italic"><code class="codeph">insert_into_clause</code></span> through the corresponding <code class="codeph">WHEN</code> condition, which determines whether that <span class="italic"><code class="codeph">insert_into_clause</code></span> is executed. Each expression in the <code class="codeph">WHEN</code> condition must refer to columns returned by the select list of the subquery. A single multitable insert statement can contain up to 127 <code class="codeph">WHEN</code> clauses. 
                  </p>
                  <p><span class="bold">ALL</span></p>
                  <p>If you specify <code class="codeph">ALL</code>, the default value, then the database evaluates each <code class="codeph">WHEN</code> clause regardless of the results of the evaluation of any other <code class="codeph">WHEN</code> clause. For each <code class="codeph">WHEN</code> clause whose condition evaluates to true, the database executes the corresponding <code class="codeph">INTO</code> clause list.
                  </p>
                  <p><span class="bold">FIRST</span></p>
                  <p>If you specify <code class="codeph">FIRST</code>, then the database evaluates each <code class="codeph">WHEN</code> clause in the order in which it appears in the statement. For the first <code class="codeph">WHEN</code> clause that evaluates to true, the database executes the corresponding <code class="codeph">INTO</code> clause and skips subsequent <code class="codeph">WHEN</code> clauses for the given row.
                  </p>
                  <p><span class="bold">ELSE clause</span></p>
                  <p>For a given row, if no <code class="codeph">WHEN</code> clause evaluates to true, then:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>If you have specified an <code class="codeph">ELSE</code> clause, then the database executes the <code class="codeph">INTO</code> clause list associated with the <code class="codeph">ELSE</code> clause. 
                        </p>
                     </li>
                     <li>
                        <p>If you did not specify an else clause, then the database takes no action for that row.</p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-F1B05562-AD15-403F-B906-A140DEC65E3B">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="INSERT.html#GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2125362">Multitable Inserts: Examples</a>"</span></p>
                  </div>
                  <p id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2080134"><span class="bold">Restrictions on Multitable Inserts</span></p>
                  <p>Multitable inserts are subject to the following restrictions:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>You can perform multitable inserts only on tables, not on views or materialized views.</p>
                     </li>
                     <li>
                        <p>You cannot perform a multitable insert into a remote table.</p>
                     </li>
                     <li>
                        <p>You cannot specify a <code class="codeph">TABLE</code> collection expression when performing a multitable insert.
                        </p>
                     </li>
                     <li>
                        <p>Multitable inserts are not parallelized if any target table is index organized or if any target table has a bitmap index defined on it.</p>
                     </li>
                     <li>
                        <p>Plan stability is not supported for multitable insert statements.</p>
                     </li>
                     <li>
                        <p>You cannot specify a sequence in any part of a multitable insert statement. A multitable insert is considered a single SQL statement. Therefore, the first reference to <code class="codeph">NEXTVAL</code> generates the next number, and all subsequent references in the statement return the same number.
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-1DB0B423-DC07-4B3C-B1CA-C836DF43272A"><span class="italic">subquery</span></p>
                  <p>Specify a subquery that returns rows that are inserted into the table. The subquery can refer to any table, view, or materialized view, including the target tables of the <code class="codeph">INSERT</code> statement. If the subquery selects no rows, then the database inserts no rows into the table. 
                  </p>
                  <p>You can use <span class="italic"><code class="codeph">subquery</code></span> in combination with the <code class="codeph">TO_LOB</code> function to convert the values in a <code class="codeph">LONG</code> column to LOB values in another column in the same or another table. 
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>To migrate <code class="codeph">LONG</code> values to LOB values in another column in a view, you must perform the migration on the base table and then add the LOB column to the view.
                        </p>
                     </li>
                     <li>
                        <p>To migrate <code class="codeph">LONG</code> values on a remote table to LOB values in a local table, you must perform the migration on the remote table using the <code class="codeph">TO_LOB</code> function, and then perform an <code class="codeph">INSERT</code> ... <span class="italic"><code class="codeph">subquery</code></span> operation to copy the LOB values from the remote table into the local table.
                        </p>
                     </li>
                  </ul>
                  <p><span class="bold">Notes on Inserting with a Subquery</span></p>
                  <p>The following notes apply when inserting with a subquery:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>If <span class="italic"><code class="codeph">subquery</code></span> returns the partial or total equivalent of a materialized view, then the database may use the materialized view for query rewrite in place of one or more tables specified in <span class="italic"><code class="codeph">subquery</code></span>. 
                        </p>
                        <div class="infoboxnotealso" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-08CEC9FC-C81A-46E6-841E-A6293542DA35">
                           <p class="notep1">See Also:</p>
                           <p><span class="italic">Oracle Database Data Warehousing Guide</span><span class="bold"> </span>for more information on <a href="../dwhsg/index.html" target="_blank">materialized views</a> and <a href="../dwhsg/index.html" target="_blank">query rewrite</a></p>
                        </div>
                     </li>
                     <li>
                        <p>If <span class="italic"><code class="codeph">subquery</code></span> refers to remote objects, then the <code class="codeph">INSERT</code> operation can run in parallel as long as the reference does not loop back to an object on the local database. However, if the <span class="italic"><code class="codeph">subquery</code></span> in the <span class="italic"><code class="codeph">DML_table_expression_clause</code></span> refers to any remote objects, then the <code class="codeph">INSERT</code> operation will run serially without notification. See <span class="italic"><a href="CREATE-TABLE.html#GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6__I2159323">parallel_clause</a></span> for more information.
                        </p>
                     </li>
                     <li>
                        <p>If <span class="italic"><code class="codeph">subquery</code></span> includes an <code class="codeph">ORDER</code> <code class="codeph">BY</code> clause, then it will override row ordering specified using attribute clustering table properties.
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-3FE9F40D-7583-4784-BADB-276685FCB414">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="q">"<a href="INSERT.html#GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2126076">Inserting Values with a Subquery: Example</a>"</span></p>
                        </li>
                        <li>
                           <p><a href="BFILENAME.html#GUID-1F767077-7C26-4962-9833-1433F1749621">BFILENAME</a> for an example of inserting into a <code class="codeph">BFILE</code></p>
                        </li>
                        <li>
                           <p><a href="../adlob/LOB-APIs-for-BFILE-operations.html#ADLOB012" target="_blank"><span class="italic">Oracle Database SecureFiles and Large Objects Developer's Guide</span></a> for information on initializing <code class="codeph">BFILE</code>s
                           </p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="About-SQL-Expressions.html#GUID-68789A5C-B142-496F-ADEE-837F75F95B2B">About SQL Expressions</a>"</span> and <a href="SELECT.html#GUID-CFA006CA-6FF1-4972-821E-6996142A51C6">SELECT</a> for syntax of valid expressions
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__BGBEIACB">
                  <p class="subhead1" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-78E02D8C-B0F0-49AA-9D86-618AD983B5DE"><span class="italic">error_logging_clause </span></p>
                  <p><a id="d415345e2018" class="indexterm-anchor"></a><a id="d415345e2022" class="indexterm-anchor"></a>The <span class="italic"><code class="codeph">error_logging_clause</code></span> lets you capture DML errors and the log column values of the affected rows and save them in an error logging table.
                  </p>
                  <p><span class="bold">INTO</span> <span class="bold"><span class="italic">table</span></span></p>
                  <p>Specify the name of the error logging table. If you omit this clause, then the database assigns the default name generated by the <code class="codeph">DBMS_ERRLOG</code> package. The default error log table name is <code class="codeph">ERR$_</code> followed by the first 25 characters of the name of the table upon which the DML operation is being executed.
                  </p>
                  <p><span class="bold"><span class="italic">simple_expression</span></span></p>
                  <p>Specify the value to be used as a statement tag, so that you can identify the errors from this statement in the error logging table. The expression can be either a text literal, a number literal, or a general SQL expression such as a bind variable. You can also use a function expression if you convert it to a text literal  for example, <code class="codeph">TO_CHAR(SYSDATE)</code>.
                  </p>
                  <p><span class="bold">REJECT LIMIT</span></p>
                  <p>This clause lets you specify an integer as an upper limit for the number of errors to be logged before the statement terminates and rolls back any changes made by the statement. The default rejection limit is zero. For parallel DML operations, the reject limit is applied to each parallel server.</p>
                  <p><span class="bold">Restrictions on DML Error Logging</span></p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>The following conditions cause the statement to fail and roll back without invoking the error logging capability:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Violated deferred constraints.</p>
                           </li>
                           <li>
                              <p>Any direct-path <code class="codeph">INSERT</code> or <code class="codeph">MERGE</code> operation that raises a unique constraint or index violation.
                              </p>
                           </li>
                           <li>
                              <p>Any update operation <code class="codeph">UPDATE</code> or <code class="codeph">MERGE</code> that raises a unique constraint or index violation.
                              </p>
                           </li>
                        </ul>
                     </li>
                     <li>
                        <p>You cannot track errors in the error logging table for <code class="codeph">LONG</code>, LOB, or object type columns. However, the table that is the target of the DML operation can contain these types of columns.  
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>If you create or modify the corresponding error logging table so that it contains a column of an unsupported type, and if the name of that column corresponds to an unsupported column in the target DML table, then the DML statement fails at parse time.</p>
                           </li>
                           <li>
                              <p>If the error logging table does not contain any unsupported column types, then all DML errors are logged until the reject limit of errors is reached. For rows on which errors occur, column values with corresponding columns in the error logging table are logged along with the control information.</p>
                           </li>
                        </ul>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-3D5F7CBB-7C1E-468A-822D-2FF30376A6BE">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../arpls/DBMS_ERRLOG.html#ARPLS680" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for information on using the <code class="codeph">create_error_log</code> procedure of the <code class="codeph">DBMS_ERRLOG</code> package and <a href="../admin/managing-tables.html#ADMIN10261" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> for general information on DML error logging.
                           </p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="INSERT.html#GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__BCEGDJDJ">Inserting Into a Table with Error Logging: Example</a>"</span></p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2145081">
                  <p class="subhead1" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-792E865E-70F1-4DC2-BC03-CC0F774A181C">Examples</p>
                  <p id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2145074"><span class="bold">Inserting Values into Tables: Example</span>s
                  </p>
                  <p>The following statement inserts a row into the sample table <code class="codeph">departments</code>:
                  </p><pre class="oac_no_warn" dir="ltr">INSERT INTO departments
   VALUES (280, 'Recreation', 121, 1700);
</pre><p>If the <code class="codeph">departments</code> table had been created with a default value of 121 for the <code class="codeph">manager_id</code> column, then you could issue the same statement as follows:
                  </p><pre class="oac_no_warn" dir="ltr">INSERT INTO departments
   VALUES (280, 'Recreation', DEFAULT, 1700);
</pre><p>The following statement inserts a row with six columns into the <code class="codeph">employees</code> table. One of these columns is assigned <code class="codeph">NULL</code> and another is assigned a number in scientific notation:
                  </p><pre class="oac_no_warn" dir="ltr">INSERT INTO employees (employee_id, last_name, email, 
      hire_date, job_id, salary, commission_pct) 
   VALUES (207, 'Gregory', 'pgregory@example.com', 
      sysdate, 'PU_CLERK', 1.2E3, NULL);
</pre><p>The following statement has the same effect as the preceding example, but uses a subquery in the <span class="italic"><code class="codeph">DML_table_expression_clause</code></span>:
                  </p><pre class="oac_no_warn" dir="ltr">INSERT INTO 
   (SELECT employee_id, last_name, email, hire_date, job_id, 
      salary, commission_pct FROM employees) 
   VALUES (207, 'Gregory', 'pgregory@example.com', 
      sysdate, 'PU_CLERK', 1.2E3, NULL);</pre><p id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2126076"><span class="bold">Inserting Values with a Subquery: Example</span></p>
                  <p>The following statement copies employees whose commission exceeds 25% of their salary into the <code class="codeph">bonuses</code> table, which was created in <span class="q">"<a href="MERGE.html#GUID-5692CCB7-24D9-4C0E-81A7-A22436DC968F__I2091840">Merging into a Table: Example</a>"</span>:
                  </p><pre class="oac_no_warn" dir="ltr">INSERT INTO bonuses
   SELECT employee_id, salary*1.1 
   FROM employees
   WHERE commission_pct &gt; 0.25; </pre><p id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__BCEGDJDJ"><span class="bold">Inserting Into a Table with Error Logging: Example</span></p>
                  <p>The following statements create a <code class="codeph">raises</code> table in the sample schema <code class="codeph">hr</code>, create an error logging table using the <code class="codeph">DBMS_ERRLOG</code> package, and populate the <code class="codeph">raises</code> table with data from the <code class="codeph">employees</code> table. One of the inserts violates the check constraint on <code class="codeph">raises</code>, and that row can be seen in <code class="codeph">errlog</code>. If more than ten errors had occurred, then the statement would have aborted, rolling back any insertions made:
                  </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE raises (emp_id NUMBER, sal NUMBER 
   CONSTRAINT check_sal CHECK(sal &gt; 8000));

EXECUTE DBMS_ERRLOG.CREATE_ERROR_LOG('raises', 'errlog');
</pre><pre class="oac_no_warn" dir="ltr">INSERT INTO raises
   SELECT employee_id, salary*1.1 FROM employees
   WHERE commission_pct &gt; .2
   LOG ERRORS INTO errlog ('my_bad') REJECT LIMIT 10;

SELECT ORA_ERR_MESG$, ORA_ERR_TAG$, emp_id, sal FROM errlog;

ORA_ERR_MESG$               ORA_ERR_TAG$         EMP_ID SAL
--------------------------- -------------------- ------ -------
ORA-02290: check constraint my_bad               161    7700
 (HR.SYS_C004266) violated</pre><p id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2126166"><span class="bold">Inserting into a Remote Database: Example</span></p>
                  <p>The following statement inserts a row into the <code class="codeph">employees</code> table owned by the user <code class="codeph">hr</code> on the database accessible by the database link <code class="codeph">remote</code>:
                  </p><pre class="oac_no_warn" dir="ltr">INSERT INTO employees@remote
   VALUES (8002, 'Juan', 'Fernandez', 'juanf@example.com', NULL, 
   TO_DATE('04-OCT-1992', 'DD-MON-YYYY'), 'SH_CLERK', 3000, 
   NULL, 121, 20); </pre><p id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2102477"><span class="bold">Inserting Sequence Values: Example</span></p>
                  <p>The following statement inserts a new row containing the next value of the <code class="codeph">departments_seq</code> sequence into the <code class="codeph">departments</code> table:
                  </p><pre class="oac_no_warn" dir="ltr">INSERT INTO departments 
   VALUES  (departments_seq.nextval, 'Entertainment', 162, 1400); </pre><p id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2126188"><span class="bold">Inserting Using Bind Variables: Example</span></p>
                  <p>The following example returns the values of the inserted rows into output bind variables :<code class="codeph">bnd1</code> and :<code class="codeph">bnd2</code>. The bind variables must first be declared.
                  </p><pre class="oac_no_warn" dir="ltr">INSERT INTO employees 
      (employee_id, last_name, email, hire_date, job_id, salary)
   VALUES 
   (employees_seq.nextval, 'Doe', 'john.doe@example.com', 
       SYSDATE, 'SH_CLERK', 2400) 
   RETURNING salary*12, job_id INTO :bnd1, :bnd2;</pre><p id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2085891"><span class="bold">Inserting into a Substitutable Tables and Columns: Examples</span></p>
                  <p>The following example inserts into the <code class="codeph">persons</code> table, which is created in <span class="q">"<a href="CREATE-TABLE.html#GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6__I2090577">Substitutable Table and Column Examples</a>"</span>. The first statement uses the root type <code class="codeph">person_t</code>. The second insert uses the <code class="codeph">employee_t</code> subtype of <code class="codeph">person_t</code>, and the third insert uses the <code class="codeph">part_time_emp_t</code> subtype of <code class="codeph">employee_t</code>:
                  </p><pre class="oac_no_warn" dir="ltr">INSERT INTO persons VALUES (person_t('Bob', 1234));
INSERT INTO persons VALUES (employee_t('Joe', 32456, 12, 100000));
INSERT INTO persons VALUES (
   part_time_emp_t('Tim', 5678, 13, 1000, 20));
</pre><p>The following example inserts into the <code class="codeph">books</code> table, which was created in <span class="q">"<a href="CREATE-TABLE.html#GUID-F9CE0CC3-13AE-4744-A43C-EAC7A71AAAB6__I2090577">Substitutable Table and Column Examples</a>"</span>. Notice that specification of the attribute values is identical to that for the substitutable table example:
                  </p><pre class="oac_no_warn" dir="ltr">INSERT INTO books VALUES (
   'An Autobiography', person_t('Bob', 1234));
INSERT INTO books VALUES (
   'Business Rules', employee_t('Joe', 3456, 12, 10000));
INSERT INTO books VALUES (
   'Mixing School and Work', 
   part_time_emp_t('Tim', 5678, 13, 1000, 20));
</pre><p>You can extract data from substitutable tables and columns using built-in functions and conditions. For examples, see the functions <a href="TREAT.html#GUID-037C0CD3-C256-4A02-80E0-C6F15147C5BF">TREAT</a> and <a href="SYS_TYPEID.html#GUID-4E3D45A1-7433-495D-9062-88505A1496E0">SYS_TYPEID</a>, and <span class="q">"<a href="IS-OF-type-Condition.html#GUID-7254E4C7-0194-4C1F-A3B2-2CFB0AD907CD">IS OF type Condition</a>"</span>.
                  </p>
                  <p id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2085882"><span class="bold">Inserting Using the TO_LOB Function: Example</span></p>
                  <p>The following example copies <code class="codeph">LONG</code> data to a LOB column in the following <code class="codeph">long_tab</code> table:
                  </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE long_tab (pic_id NUMBER, long_pics LONG RAW);
</pre><p>First you must create a table with a LOB.</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE lob_tab (pic_id NUMBER, lob_pics BLOB);
</pre><p>Next, use an <code class="codeph">INSERT</code> ... <code class="codeph">SELECT</code> statement to copy the data in all rows for the <code class="codeph">LONG</code> column into the newly created LOB column:
                  </p><pre class="oac_no_warn" dir="ltr">INSERT INTO lob_tab 
   SELECT pic_id, TO_LOB(long_pics) FROM long_tab;
</pre><p>When you are confident that the migration has been successful, you can drop the <code class="codeph">long_pics</code> table. Alternatively, if the table contains other columns, then you can simply drop the <code class="codeph">LONG</code> column from the table as follows:
                  </p><pre class="oac_no_warn" dir="ltr">ALTER TABLE long_tab DROP COLUMN long_pics;</pre><p id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__I2125362"><span class="bold">Multitable Inserts: Examples</span><a id="d415345e2355" class="indexterm-anchor"></a><a id="d415345e2361" class="indexterm-anchor"></a></p>
                  <p>The following example uses the multitable insert syntax to insert into the sample table <code class="codeph">sh.sales</code> some data from an input table with a different structure.
                  </p>
                  <div class="infoboxnote" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-2D39698E-202A-4727-B77F-D3C790B3DFB4">
                     <p class="notep1">Note:</p>
                     <p>A number of <code class="codeph">NOT</code> <code class="codeph">NULL</code> constraints on the <code class="codeph">sales</code> table have been disabled for purposes of this example, because the example ignores a number of table columns for the sake of brevity.
                     </p>
                  </div>
                  <p>The input table looks like this:</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM sales_input_table;
</pre><pre class="oac_no_warn" dir="ltr">PRODUCT_ID CUSTOMER_ID WEEKLY_ST  SALES_SUN  SALES_MON  SALES_TUE  SALES_WED SALES_THU  SALES_FRI  SALES_SAT
---------- ----------- --------- ---------- ---------- ---------- -------------------- ---------- ----------
       111         222 01-OCT-00        100        200        300        400       500        600        700
       222         333 08-OCT-00        200        300        400        500       600        700        800
       333         444 15-OCT-00        300        400        500        600       700        800        900</pre><pre class="oac_no_warn" dir="ltr"></pre><p>The multitable insert statement looks like this:</p><pre class="oac_no_warn" dir="ltr">INSERT ALL
      INTO sales (prod_id, cust_id, time_id, amount)
      VALUES (product_id, customer_id, weekly_start_date, sales_sun)
      INTO sales (prod_id, cust_id, time_id, amount)
      VALUES (product_id, customer_id, weekly_start_date+1, sales_mon)
      INTO sales (prod_id, cust_id, time_id, amount)
      VALUES (product_id, customer_id, weekly_start_date+2, sales_tue)
      INTO sales (prod_id, cust_id, time_id, amount)
      VALUES (product_id, customer_id, weekly_start_date+3, sales_wed)
      INTO sales (prod_id, cust_id, time_id, amount)
      VALUES (product_id, customer_id, weekly_start_date+4, sales_thu)
      INTO sales (prod_id, cust_id, time_id, amount)
      VALUES (product_id, customer_id, weekly_start_date+5, sales_fri)
      INTO sales (prod_id, cust_id, time_id, amount)
      VALUES (product_id, customer_id, weekly_start_date+6, sales_sat)
   SELECT product_id, customer_id, weekly_start_date, sales_sun,
      sales_mon, sales_tue, sales_wed, sales_thu, sales_fri, sales_sat
      FROM sales_input_table;
</pre><p>Assuming these are the only rows in the <code class="codeph">sales</code> table, the contents now look like this:
                  </p><pre class="oac_no_warn" dir="ltr">SELECT * FROM sales
   ORDER BY prod_id, cust_id, time_id;

   PROD_ID    CUST_ID TIME_ID   C   PROMO_ID QUANTITY_SOLD     AMOUNT       COST
---------- ---------- --------- - ---------- ------------- ---------- ----------
       111        222 01-OCT-00                                   100
       111        222 02-OCT-00                                   200
       111        222 03-OCT-00                                   300
       111        222 04-OCT-00                                   400
       111        222 05-OCT-00                                   500
       111        222 06-OCT-00                                   600
       111        222 07-OCT-00                                   700
       222        333 08-OCT-00                                   200
       222        333 09-OCT-00                                   300
       222        333 10-OCT-00                                   400
       222        333 11-OCT-00                                   500
       222        333 12-OCT-00                                   600
       222        333 13-OCT-00                                   700
       222        333 14-OCT-00                                   800
       333        444 15-OCT-00                                   300
       333        444 16-OCT-00                                   400
       333        444 17-OCT-00                                   500
       333        444 18-OCT-00                                   600
       333        444 19-OCT-00                                   700
       333        444 20-OCT-00                                   800
       333        444 21-OCT-00                                   900
</pre><p>The next examples insert into multiple tables. Suppose you want to provide to sales representatives some information on orders of various sizes. The following example creates tables for small, medium, large, and special orders and populates those tables with data from the sample table <code class="codeph">oe.orders</code>: 
                  </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE small_orders 
   (order_id       NUMBER(12)   NOT NULL,
    customer_id    NUMBER(6)    NOT NULL,
    order_total    NUMBER(8,2),
    sales_rep_id   NUMBER(6)
   );

CREATE TABLE medium_orders AS SELECT * FROM small_orders;

CREATE TABLE large_orders AS SELECT * FROM small_orders;

CREATE TABLE special_orders 
   (order_id       NUMBER(12)    NOT NULL,
    customer_id    NUMBER(6)     NOT NULL,
    order_total    NUMBER(8,2),
    sales_rep_id   NUMBER(6),
    credit_limit   NUMBER(9,2),
    cust_email     VARCHAR2(40)
   );
</pre><p>The first multitable insert populates only the tables for small, medium, and large orders:</p><pre class="oac_no_warn" dir="ltr">INSERT ALL
   WHEN order_total &lt;= 100000 THEN
      INTO small_orders
   WHEN order_total &gt; 1000000 AND order_total &lt;= 200000 THEN
      INTO medium_orders
   WHEN order_total &gt; 200000 THEN
      INTO large_orders
   SELECT order_id, order_total, sales_rep_id, customer_id
      FROM orders;
</pre><p>You can accomplish the same thing using the <code class="codeph">ELSE</code> clause in place of the insert into the <code class="codeph">large_orders</code> table: 
                  </p><pre class="oac_no_warn" dir="ltr">INSERT ALL
   WHEN order_total &lt;= 100000 THEN
      INTO small_orders
   WHEN order_total &gt; 100000 AND order_total &lt;= 200000 THEN
      INTO medium_orders
   ELSE
      INTO large_orders
   SELECT order_id, order_total, sales_rep_id, customer_id
      FROM orders;
</pre><p>The next example inserts into the small, medium, and large tables, as in the preceding example, and also puts orders greater than 290,000 into the <code class="codeph">special_orders</code> table. This table also shows how to use column aliases to simplify the statement: 
                  </p><pre class="oac_no_warn" dir="ltr">INSERT ALL
   WHEN ottl &lt;= 100000 THEN
      INTO small_orders
         VALUES(oid, ottl, sid, cid)
   WHEN ottl &gt; 100000 and ottl &lt;= 200000 THEN
      INTO medium_orders 
         VALUES(oid, ottl, sid, cid)
   WHEN ottl &gt; 200000 THEN
      into large_orders
         VALUES(oid, ottl, sid, cid)
   WHEN ottl &gt; 290000 THEN
      INTO special_orders
   SELECT o.order_id oid, o.customer_id cid, o.order_total ottl,
      o.sales_rep_id sid, c.credit_limit cl, c.cust_email cem
      FROM orders o, customers c
      WHERE o.customer_id = c.customer_id;
</pre><p>Finally, the next example uses the <code class="codeph">FIRST</code> clause to put orders greater than 290,000 into the <code class="codeph">special_orders</code> table and exclude those orders from the <code class="codeph">large_orders</code> table:
                  </p><pre class="oac_no_warn" dir="ltr">INSERT FIRST
   WHEN ottl &lt;= 100000 THEN
      INTO small_orders
         VALUES(oid, ottl, sid, cid)
   WHEN ottl &gt; 100000 and ottl &lt;= 200000 THEN
      INTO medium_orders
         VALUES(oid, ottl, sid, cid)
   WHEN ottl &gt; 290000 THEN
      INTO special_orders
   WHEN ottl &gt; 200000 THEN
      INTO large_orders
         VALUES(oid, ottl, sid, cid)
   SELECT o.order_id oid, o.customer_id cid, o.order_total ottl,
      o.sales_rep_id sid, c.credit_limit cl, c.cust_email cem
      FROM orders o, customers c
      WHERE o.customer_id = c.customer_id;</pre><p id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__P-132663-CE7C9915"><span class="bold">Inserting Multiple Rows Using a Single Statement: Example</span></p>
                  <p>The following statements create three tables named people, patients and staff:</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE people ( 
  person_id   INTEGER NOT NULL PRIMARY KEY, 
  given_name  VARCHAR2(100) NOT NULL, 
  family_name VARCHAR2(100) NOT NULL, 
  title       VARCHAR2(20), 
  birth_date  DATE 
);

CREATE TABLE patients ( 
  patient_id          INTEGER NOT NULL PRIMARY KEY REFERENCES people (person_id), 
  last_admission_date DATE 
);

CREATE TABLE staff ( 
  staff_id   INTEGER NOT NULL PRIMARY KEY REFERENCES people (person_id), 
  hired_date DATE 
);</pre><p>The following statement inserts a row into the people table:</p><pre class="oac_no_warn" dir="ltr">INSERT INTO people 
VALUES (1, 'Dave', 'Badger', 'Mr', date'1960-05-01');</pre><p>The following statement returns an error as there is no value provided for the birth_date column:</p><pre class="oac_no_warn" dir="ltr">INSERT INTO people 
VALUES (2, 'Simon', 'Fox', 'Mr');</pre><p>The following statement inserts a row into the people table:</p><pre class="oac_no_warn" dir="ltr">INSERT INTO people (person_id, given_name, family_name, title) 
VALUES (2, 'Simon', 'Fox', 'Mr');</pre><p>The following statement inserts a row into the people table and the value for the title column is populated by selecting a static value from the dual table:</p><pre class="oac_no_warn" dir="ltr">INSERT INTO people (person_id, given_name, family_name, title) 
VALUES (3, 'Dave', 'Frog', (SELECT 'Mr' FROM dual));</pre><p>The following statement inserts multiple rows into the people stable using SELECT statement:</p><pre class="oac_no_warn" dir="ltr">INSERT INTO people (person_id, given_name, family_name, title) 
  WITH names AS ( 
    SELECT 4, 'Ruth',     'Fox',      'Mrs'    FROM dual UNION ALL 
    SELECT 5, 'Isabelle', 'Squirrel', 'Miss'   FROM dual UNION ALL 
    SELECT 6, 'Justin',   'Frog',     'Master' FROM dual UNION ALL 
    SELECT 7, 'Lisa',     'Owl',      'Dr'     FROM dual 
  ) 
  SELECT * FROM names;</pre><p>The following statement rolls back all the previous DML operations:</p><pre class="oac_no_warn" dir="ltr">ROLLBACK;</pre><p>The following statement inserts multiple rows into the people table using SELECT statement with a WHERE condition:</p><pre class="oac_no_warn" dir="ltr">INSERT INTO people (person_id, given_name, family_name, title) 
  WITH names AS ( 
    SELECT 4, 'Ruth',     'Fox' family_name,      'Mrs'    FROM dual UNION ALL 
    SELECT 5, 'Isabelle', 'Squirrel' family_name, 'Miss'   FROM dual UNION ALL 
    SELECT 6, 'Justin',   'Frog' family_name,     'Master' FROM dual UNION ALL 
    SELECT 7, 'Lisa',     'Owl' family_name,      'Dr'     FROM dual 
  ) 
  SELECT * FROM names 
  WHERE  family_name LIKE 'F%';</pre><p>The following statement rolls back all the previous DML operations:</p><pre class="oac_no_warn" dir="ltr">ROLLBACK;</pre><p>The following statement inserts multiple rows into people, patients and staff table using INSERT ALL statement:</p><pre class="oac_no_warn" dir="ltr">INSERT ALL 
  /* Every one is a person */ 
  INTO people (person_id, given_name, family_name, title) 
    VALUES (id, given_name, family_name, title) 
  INTO patients (patient_id, last_admission_date) 
    VALUES (id, admission_date) 
  INTO staff (staff_id, hired_date) 
    VALUES (id, hired_date) 
  WITH names AS ( 
    SELECT 4 id, 'Ruth' given_name, 'Fox' family_name, 'Mrs' title, 
           NULL hired_date, DATE'2009-12-31' admission_date 
    FROM   dual UNION ALL 
    SELECT 5 id, 'Isabelle' given_name, 'Squirrel' family_name, 'Miss' title , 
           NULL hired_date, DATE'2014-01-01' admission_date 
    FROM   dual UNION ALL 
    SELECT 6 id, 'Justin' given_name, 'Frog' family_name, 'Master' title, 
           NULL hired_date, DATE'2015-04-22' admission_date 
    FROM   dual UNION ALL 
    SELECT 7 id, 'Lisa' given_name, 'Owl' family_name, 'Dr' title, 
           DATE'2015-01-01' hired_date, NULL admission_date 
    FROM   dual 
  ) 
  SELECT * FROM names;</pre><p>The following statement rolls back all the previous DML operations:</p><pre class="oac_no_warn" dir="ltr">ROLLBACK;</pre><p>The following statement inserts multiple rows into people, patients and staff table using INSERT ALL statement with various conditions:</p><pre class="oac_no_warn" dir="ltr">INSERT ALL 
  /* Everyone is a person, so insert all rows into people */ 
  WHEN 1=1 THEN 
    INTO people (person_id, given_name, family_name, title) 
    VALUES (id, given_name, family_name, title) 
  /* Only people with an admission date are patients */ 
  WHEN admission_date IS NOT NULL THEN 
    INTO patients (patient_id, last_admission_date) 
    VALUES (id, admission_date) 
  /* Only people with a hired date are staff */ 
  WHEN hired_date IS NOT NULL THEN 
    INTO staff (staff_id, hired_date) 
    VALUES (id, hired_date) 
  WITH names AS ( 
    SELECT 4 id, 'Ruth' given_name, 'Fox' family_name, 'Mrs' title, 
           NULL hired_date, DATE'2009-12-31' admission_date 
    FROM   dual UNION ALL 
    SELECT 5 id, 'Isabelle' given_name, 'Squirrel' family_name, 'Miss' title , 
           NULL hired_date, DATE'2014-01-01' admission_date 
    FROM   dual UNION ALL 
    SELECT 6 id, 'Justin' given_name, 'Frog' family_name, 'Master' title, 
           NULL hired_date, DATE'2015-04-22' admission_date 
    FROM   dual UNION ALL 
    SELECT 7 id, 'Lisa' given_name, 'Owl' family_name, 'Dr' title, 
           DATE'2015-01-01' hired_date, NULL admission_date 
    FROM   dual 
  ) 
  SELECT * FROM names;</pre><div class="infoboxnote" id="GUID-903F8043-0254-4EE9-ACC1-CB8AC0AF3423__GUID-6BB67B09-A495-429B-9966-D960D54F0965">
                     <p class="notep1">Live SQL:</p>
                     <p>View and run a related example on Oracle Live SQL at <a href="https://livesql.oracle.com/apex/livesql/docs/sqlrf/insert/multitable.html" target="_blank"><span class="italic">Inserting Multiple Rows Using a Single Statement</span></a></p>
                  </div>
               </div>
               <!-- class="section" -->
            </div>
         </div>
      </article>
   </body>
</html><html id='05824.querying-dimensional-objects.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Querying Dimensional Objects</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="User's Guide ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="User's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="olap-users-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-10T13:54:33-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2003, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96405-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="creating-dimensions-and-cubes.html" title="Previous" type="text/html">
      <link rel="next" href="enhancing-your-database-analytic-content.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="OLAP User's Guide">
    <meta name="dcterms.isVersionOf" content="OLAUG">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="creating-dimensions-and-cubes.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="enhancing-your-database-analytic-content.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">User's Guide </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Querying Dimensional Objects</li>
            </ol>
            <a id="GUID-D5DCEB00-B14B-4AC9-A9BD-05FB72B942BB" name="GUID-D5DCEB00-B14B-4AC9-A9BD-05FB72B942BB"></a><a id="OLAUG400"></a>
            
            <h2 id="OLAUG-GUID-D5DCEB00-B14B-4AC9-A9BD-05FB72B942BB" class="sect2"><span class="enumeration_chapter">4 </span> Querying Dimensional Objects
            </h2>
         </header>
         <div class="ind">
            <div>
               <p><a id="d12486e48" class="indexterm-anchor"></a>Oracle OLAP adds power to your SQL applications by providing extensive analytic content and fast query response times. A SQL query interface enables any application to query cubes and dimensions without any knowledge of OLAP.
               </p>
               <p>The OLAP option automatically generates a set of relational views on cubes, dimensions, and hierarchies. SQL applications query these views to display the information-rich contents of these objects to analysts and decision makers. You can also create custom views that follow the structure expected by your applications, using the system-generated views like base tables.</p>
               <p>In this chapter, you learn the basic methods for querying dimensional objects in SQL. It contains the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="querying-dimensional-objects.html#GUID-5B4C57CC-9A50-48E4-8E3F-8168CE82B5B1">Exploring the OLAP Views</a></p>
                  </li>
                  <li>
                     <p><a href="querying-dimensional-objects.html#GUID-04DEC03F-3E6E-4435-840F-FF49FD2CA078">Creating Basic Queries</a></p>
                  </li>
                  <li>
                     <p><a href="querying-dimensional-objects.html#GUID-D74AA467-2DEC-4F1B-A8C1-DDBEEBB89808">Creating Hierarchical Queries</a></p>
                  </li>
                  <li>
                     <p><a href="querying-dimensional-objects.html#GUID-0A165A1E-4F52-4955-9E6E-DEAD37C8F65A">Using Calculations in Queries</a></p>
                  </li>
                  <li>
                     <p><a href="querying-dimensional-objects.html#GUID-08A8F74B-779F-425C-A148-A7070C7E384C">Using Attributes for Aggregation</a></p>
                  </li>
                  <li>
                     <p><a href="querying-dimensional-objects.html#GUID-9783E643-10F4-49C8-98B3-2A4FDA1B98B8">Joining Cubes to Tables and Views</a></p>
                  </li>
                  <li>
                     <p><a href="querying-dimensional-objects.html#GUID-C2359A2A-B7B6-4D31-BA84-2A5AB543C678">Viewing Execution Plans</a></p>
                  </li>
                  <li>
                     <p><a href="querying-dimensional-objects.html#GUID-CFEEC0B0-E039-4147-8CC9-EA8CA1FC5288">Querying the Data Dictionary</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-D5DCEB00-B14B-4AC9-A9BD-05FB72B942BB__GUID-81BD23D3-A0B0-4C2B-B073-E78DAD1C16A9">
                  <p class="notep1">See Also:</p>
                  <p></p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><span class="q">"<a href="overview.html#GUID-BAC5B092-45CA-40E1-BDDC-C1645FCAB8C7">Developing Reports and Dashboards Using SQL Tools and Application&nbsp;Builders</a>"</span> for a sample dashboard created using Oracle Application Express
                        </p>
                     </li>
                     <li>
                        <p><span class="q">"<a href="overview.html#GUID-EF116DF0-2536-470B-ACC3-A0253327A10B">Overview of the Dimensional Data Model</a>"</span> for a discussion of cubes, dimensions, and hierarchies
                        </p>
                     </li>
                  </ul>
               </div>
            </div><a id="OLAUG9159"></a><div class="props_rev_3"><a id="GUID-5B4C57CC-9A50-48E4-8E3F-8168CE82B5B1" name="GUID-5B4C57CC-9A50-48E4-8E3F-8168CE82B5B1"></a><h3 id="OLAUG-GUID-5B4C57CC-9A50-48E4-8E3F-8168CE82B5B1" class="sect3"><span class="enumeration_section">4.1 </span>Exploring the OLAP Views
               </h3>
               <div>
                  <p>The system-generated views are created in the same schema as the analytic workspace. Oracle OLAP provides three types of views:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Cube views</p>
                     </li>
                     <li>
                        <p>Dimension views</p>
                     </li>
                     <li>
                        <p>Hierarchy views</p>
                     </li>
                  </ul>
                  <p>These views are related in the same way as fact and dimension tables are in a star schema. Cube views serve the same function as fact tables, and hierarchy views and dimension views serve the same function as dimension tables. Typical queries join a cube view with either a hierarchy view or a dimension view.</p>
               </div><a id="OLAUG9160"></a><div class="props_rev_3"><a id="GUID-40B1102B-BAC0-492D-8EDA-279E1864EBC7" name="GUID-40B1102B-BAC0-492D-8EDA-279E1864EBC7"></a><h4 id="OLAUG-GUID-40B1102B-BAC0-492D-8EDA-279E1864EBC7" class="sect4"><span class="enumeration_section">4.1.1 </span>Cube Views
                  </h4>
                  <div>
                     <p><a id="d12486e226" class="indexterm-anchor"></a>Each cube has a cube view that presents the data for all the measures and calculated measures in the cube. You can use a cube view like a fact table in a star or snowflake schema. However, the cube view contains all the summary data in addition to the detail level data. 
                     </p>
                  </div><a id="OLAUG9161"></a><div class="props_rev_3"><a id="GUID-761EABC0-3F23-4A5F-8876-53AF3B4521CE" name="GUID-761EABC0-3F23-4A5F-8876-53AF3B4521CE"></a><h5 id="OLAUG-GUID-761EABC0-3F23-4A5F-8876-53AF3B4521CE" class="sect5"><span class="enumeration_section">4.1.1.1 </span>Discovering the Names of the Cube Views
                     </h5>
                     <div>
                        <div class="section">
                           <p>The default name for a cube view is <span class="italic"><code class="codeph">cube</code></span><code class="codeph">_VIEW</code>. To find the view for <code class="codeph">UNITS_CUBE</code> in your schema, you might issue a query like this one:
                           </p><pre class="oac_no_warn" dir="ltr">SELECT view_name FROM user_views WHERE view_name LIKE 'UNITS_CUBE%';

VIEW_NAME
------------------------------
UNITS_CUBE_VIEW
</pre><p>The next query returns the names of all the cube views in your schema from <code class="codeph">USER_CUBE_VIEWS</code>:
                           </p><pre class="oac_no_warn" dir="ltr">SELECT view_name FROM user_cube_views;
 
VIEW_NAME
------------------------------
UNITS_CUBE_VIEW
PRICE_CUBE_VIEW</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="OLAUG9162"></a><div class="props_rev_3"><a id="GUID-51382A75-3CE7-4A99-A5D9-7BBE1C040C2D" name="GUID-51382A75-3CE7-4A99-A5D9-7BBE1C040C2D"></a><h5 id="OLAUG-GUID-51382A75-3CE7-4A99-A5D9-7BBE1C040C2D" class="sect5"><span class="enumeration_section">4.1.1.2 </span>Discovering the Columns of a Cube View
                     </h5>
                     <div>
                        <div class="section">
                           <p>Like a fact table, a cube view contains a column for each measure, calculated measure, and dimension in the cube. In the following example, <code class="codeph">UNITS_CUBE_VIEW</code> has columns for the <code class="codeph">SALES</code>, <code class="codeph">UNITS</code>, and <code class="codeph">COST</code> measures, for several calculated measures on <code class="codeph">SALES</code>, and for the <code class="codeph">TIME</code>, <code class="codeph">CUSTOMER</code>, <code class="codeph">PRODUCT</code>, and <code class="codeph">CHANNEL</code> dimensions.
                           </p><pre class="oac_no_warn" dir="ltr">DESCRIBE units_cube_view
Name                                      Null?    Type
----------------------------------------- -------- ----------------------------
SALES                                              NUMBER
UNITS                                              NUMBER
COST                                               NUMBER
SALES_PP                                           NUMBER
SALES_CHG_PP                                       NUMBER
SALES_PCTCHG_PP                                    NUMBER
SALES_PROD_SHARE_PARENT                            NUMBER
SALES_PROD_SHARE_TOTAL                             NUMBER
SALES_PROD_RANK_PARENT_PP                          NUMBER
TIME                                               VARCHAR2(100)
CUSTOMER                                           VARCHAR2(100)
PRODUCT                                            VARCHAR2(100)
CHANNEL                                            VARCHAR2(100)
</pre><p>The <a id="d12486e383" class="indexterm-anchor"></a><code class="codeph">USER_CUBE_VIEW_COLUMNS</code> data dictionary view describes the columns of a cube view, as shown by the following query.
                           </p><pre class="oac_no_warn" dir="ltr">SELECT column_name, column_type FROM user_cube_view_columns
     WHERE view_name = 'UNITS_CUBE_VIEW';
 
COLUMN_NAME                    COLUMN_TYPE
------------------------------ --------------
SALES                          MEASURE
UNITS                          MEASURE
COST                           MEASURE
SALES_PP                       MEASURE
SALES_CHG_PP                   MEASURE
SALES_PCTCHG_PP                MEASURE
SALES_PROD_SHARE_PARENT        MEASURE
SALES_PROD_SHARE_TOTAL         MEASURE
SALES_PROD_RANK_PARENT_PP      MEASURE
TIME                           KEY
CUSTOMER                       KEY
PRODUCT                        KEY
CHANNEL                        KEY
 
13 rows selected.</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="OLAUG9163"></a><div class="props_rev_3"><a id="GUID-C5C7A142-6DE9-4961-9A62-56C29C422C42" name="GUID-C5C7A142-6DE9-4961-9A62-56C29C422C42"></a><h5 id="OLAUG-GUID-C5C7A142-6DE9-4961-9A62-56C29C422C42" class="sect5"><span class="enumeration_section">4.1.1.3 </span>Displaying the Contents of a Cube View
                     </h5>
                     <div>
                        <div class="section">
                           <p>You can display the contents of a cube view quickly with a query like this one. All levels of the data are contained in the cube, from the detail level to the top.</p><pre class="oac_no_warn" dir="ltr">SELECT sales, units, time, customer, product, channel
     FROM units_cube_view WHERE ROWNUM &lt; 15;

     SALES      UNITS TIME       CUSTOMER   PRODUCT    CHANNEL
---------- ---------- ---------- ---------- ---------- --------
1120292752    4000968 TOTAL      TOTAL      TOTAL      TOTAL
 134109248     330425 CY1999     TOTAL      TOTAL      TOTAL
 130276514     534069 CY2003     TOTAL      TOTAL      TOTAL
 100870877     253816 CY1998     TOTAL      TOTAL      TOTAL
 136986572     565718 CY2005     TOTAL      TOTAL      TOTAL
 140138317     584929 CY2006     TOTAL      TOTAL      TOTAL
 144290686     587419 CY2004     TOTAL      TOTAL      TOTAL
 124173522     364233 CY2000     TOTAL      TOTAL      TOTAL
  92515295     364965 CY2002     TOTAL      TOTAL      TOTAL
 116931722     415394 CY2001     TOTAL      TOTAL      TOTAL
31522409.5      88484 CY2000.Q1  TOTAL      TOTAL      TOTAL
27798426.6      97346 CY2001.Q2  TOTAL      TOTAL      TOTAL
29691668.2     105704 CY2001.Q3  TOTAL      TOTAL      TOTAL
32617248.6     138953 CY2005.Q3  TOTAL      TOTAL      TOTAL
 
14 rows selected.</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="OLAUG9164"></a><div class="props_rev_3"><a id="GUID-21D73E7B-C83E-46AB-B5FB-D6606D9FBF40" name="GUID-21D73E7B-C83E-46AB-B5FB-D6606D9FBF40"></a><h4 id="OLAUG-GUID-21D73E7B-C83E-46AB-B5FB-D6606D9FBF40" class="sect4"><span class="enumeration_section">4.1.2 </span>Dimension and Hierarchy Views
                  </h4>
                  <div>
                     <p><a id="d12486e495" class="indexterm-anchor"></a>Each dimension has one dimension view plus a hierarchy view for each hierarchy associated with the dimension. For example, a Time dimension might have these three views:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Time dimension view</p>
                        </li>
                        <li>
                           <p>Calendar hierarchy view</p>
                        </li>
                        <li>
                           <p>Fiscal hierarchy view</p>
                        </li>
                     </ul>
                     <p><a id="d12486e509" class="indexterm-anchor"></a>You can use dimension views and hierarchy views like dimension tables in a star schema.
                     </p>
                  </div><a id="OLAUG9165"></a><div class="props_rev_3"><a id="GUID-FD878C0D-3D28-4AB4-9033-CB775912B66A" name="GUID-FD878C0D-3D28-4AB4-9033-CB775912B66A"></a><h5 id="OLAUG-GUID-FD878C0D-3D28-4AB4-9033-CB775912B66A" class="sect5"><span class="enumeration_section">4.1.2.1 </span>Discovering the Names of Dimension and Hierarchy Views
                     </h5>
                     <div>
                        <div class="section">
                           <p><a id="d12486e563" class="indexterm-anchor"></a><code class="codeph">USER_CUBE_DIM_VIEWS</code> identifies the dimension views for all dimensions. The default name for a dimension view is <span class="italic"><code class="codeph">dimension</code></span><code class="codeph">_VIEW</code>.
                           </p><pre class="oac_no_warn" dir="ltr">SELECT * FROM user_cube_dim_views;
 
DIMENSION_NAME                 VIEW_NAME
------------------------------ ------------------------------
PRODUCT                        PRODUCT_VIEW
CUSTOMER                       CUSTOMER_VIEW
CHANNEL                        CHANNEL_VIEW
TIME                           TIME_VIEW
</pre><p><code class="codeph">USER_CUBE_HIER_VIEWS</code> identifies the hierarchy views for all the dimensions. For a hierarchy view, the default name is <span class="italic"><code class="codeph">dimension_hierarchy</code></span><code class="codeph">_VIEW</code>. The following query returns the dimension, hierarchy, and view names.
                           </p><pre class="oac_no_warn" dir="ltr">SELECT * FROM user_cube_hier_views ORDER BY dimension_name;
 
DIMENSION_NAME  HIERARCHY_NAME  VIEW_NAME
--------------- --------------- ------------------------------
CHANNEL         PRIMARY         CHANNEL_PRIMARY_VIEW
CUSTOMER        MARKET          CUSTOMER_MARKET_VIEW
CUSTOMER        SHIPMENTS       CUSTOMER_SHIPMENTS_VIEW
PRODUCT         PRIMARY         PRODUCT_PRIMARY_VIEW
TIME            FISCAL          TIME_FISCAL_VIEW
TIME            CALENDAR        TIME_CALENDAR_VIEW</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="OLAUG9166"></a><div class="props_rev_3"><a id="GUID-D9569EA3-4CCC-4FA0-B693-6843A4B50CA8" name="GUID-D9569EA3-4CCC-4FA0-B693-6843A4B50CA8"></a><h5 id="OLAUG-GUID-D9569EA3-4CCC-4FA0-B693-6843A4B50CA8" class="sect5"><span class="enumeration_section">4.1.2.2 </span>Discovering the Columns of a Dimension View
                     </h5>
                     <div>
                        <div class="section">
                           <p>Like a dimension table, a dimension view contains a key column, level name, level keys for every level of every hierarchy associated with the dimension, and attribute columns. In the following example, <code class="codeph">TIME_VIEW</code> has a column for the dimension keys, the level name, and the dimension attributes.
                           </p><pre class="oac_no_warn" dir="ltr">DESCRIBE time_view
Name                                      Null?    Type
----------------------------------------- -------- ----------------------------
DIM_KEY                                            VARCHAR2(100)
LEVEL_NAME                                         VARCHAR2(30)
DIM_ORDER                                          NUMBER
END_DATE                                           DATE
LONG_DESCRIPTION                                   VARCHAR2(100)
SHORT_DESCRIPTION                                  VARCHAR2(100)
TIME_SPAN                                          NUMBER
</pre><p><code class="codeph">USER_CUBE_DIM_VIEW_COLUMNS</code> describes the information in each column, as shown in this query.
                           </p><pre class="oac_no_warn" dir="ltr">SELECT column_name, column_type FROM user_cube_dim_view_columns
     WHERE view_name ='TIME_VIEW';
 
COLUMN_NAME                    COLUMN_TYPE
------------------------------ --------------------
DIM_KEY                        KEY
LEVEL_NAME                     LEVEL_NAME
DIM_ORDER                      DIM_ORDER
END_DATE                       ATTRIBUTE
TIME_SPAN                      ATTRIBUTE
LONG_DESCRIPTION               ATTRIBUTE
SHORT_DESCRIPTION              ATTRIBUTE</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="OLAUG9167"></a><div class="props_rev_3"><a id="GUID-B2DD39FE-594D-485B-8BBD-C49E0C1BB617" name="GUID-B2DD39FE-594D-485B-8BBD-C49E0C1BB617"></a><h5 id="OLAUG-GUID-B2DD39FE-594D-485B-8BBD-C49E0C1BB617" class="sect5"><span class="enumeration_section">4.1.2.3 </span>Displaying the Contents of a Dimension View
                     </h5>
                     <div>
                        <div class="section">
                           <p>The following query displays the level and attributes of each dimension key.</p><pre class="oac_no_warn" dir="ltr">SELECT dim_key, level_name, long_description description, time_span, end_date
     FROM time_view WHERE dim_key LIKE '%2005%';
 
DIM_KEY      LEVEL_NAME           DESCRIPTION   TIME_SPAN END_DATE
------------ -------------------- ------------ ---------- ---------
CY2005       CALENDAR_YEAR        2005                365 31-DEC-05
CY2005.Q2    CALENDAR_QUARTER     Q2.05                91 30-JUN-05
CY2005.Q4    CALENDAR_QUARTER     Q4.05                92 31-DEC-05
CY2005.Q3    CALENDAR_QUARTER     Q3.05                92 30-SEP-05
CY2005.Q1    CALENDAR_QUARTER     Q1.05                90 31-MAR-05
2005.01      MONTH                JAN-05               31 31-JAN-05
2005.05      MONTH                MAY-05               31 31-MAY-05
2005.07      MONTH                JUL-05               31 31-JUL-05
2005.03      MONTH                MAR-05               31 31-MAR-05
2005.04      MONTH                APR-05               30 30-APR-05
2005.08      MONTH                AUG-05               31 31-AUG-05
2005.09      MONTH                SEP-05               30 30-SEP-05
2005.02      MONTH                FEB-05               28 28-FEB-05
2005.11      MONTH                NOV-05               30 30-NOV-05
2005.06      MONTH                JUN-05               30 30-JUN-05
2005.10      MONTH                OCT-05               31 31-OCT-05
2005.12      MONTH                DEC-05               31 31-DEC-05
FY2005       FISCAL_YEAR          FY2005              365 30-JUN-05
FY2005.Q4    FISCAL_QUARTER       Q4 FY-05             91 30-JUN-05
FY2005.Q1    FISCAL_QUARTER       Q1 FY-05             92 30-SEP-04
FY2005.Q2    FISCAL_QUARTER       Q2 FY-05             92 31-DEC-04
FY2005.Q3    FISCAL_QUARTER       Q3 FY-05             90 31-MAR-05
 
22 rows selected.</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="OLAUG9168"></a><div class="props_rev_3"><a id="GUID-CFCB642B-A2C3-4F5F-BCFA-D6D29527BA1D" name="GUID-CFCB642B-A2C3-4F5F-BCFA-D6D29527BA1D"></a><h5 id="OLAUG-GUID-CFCB642B-A2C3-4F5F-BCFA-D6D29527BA1D" class="sect5"><span class="enumeration_section">4.1.2.4 </span>Discovering the Columns of a Hierarchy View
                     </h5>
                     <div>
                        <div class="section">
                           <p>Like the dimension views, the hierarchy views also contain columns for the dimension key, level name, and level keys. However, all of the rows and columns are associated with the dimension keys that belong to the hierarchy.</p><pre class="oac_no_warn" dir="ltr">DESCRIBE time_calendar_view
Name                                      Null?    Type
----------------------------------------- -------- ----------------------------
DIM_KEY                                            VARCHAR2(100)
LEVEL_NAME                                         VARCHAR2(30)
DIM_ORDER                                          NUMBER
HIER_ORDER                                         NUMBER
LONG_DESCRIPTION                                   VARCHAR2(100)
SHORT_DESCRIPTION                                  VARCHAR2(100)
END_DATE                                           DATE
TIME_SPAN                                          NUMBER
PARENT                                             VARCHAR2(100)
TOTAL                                              VARCHAR2(100)
CALENDAR_YEAR                                      VARCHAR2(100)
CALENDAR_QUARTER                                   VARCHAR2(100)
MONTH                                              VARCHAR2(100)</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="OLAUG9169"></a><div class="props_rev_3"><a id="GUID-CC120690-879D-4FF0-9BF2-478D8D9BEACC" name="GUID-CC120690-879D-4FF0-9BF2-478D8D9BEACC"></a><h5 id="OLAUG-GUID-CC120690-879D-4FF0-9BF2-478D8D9BEACC" class="sect5"><span class="enumeration_section">4.1.2.5 </span>Displaying the Contents of a Hierarchy View
                     </h5>
                     <div>
                        <div class="section">
                           <p>The following query displays the dimension keys, parent key, and the full ancestry for calendar year 2005. </p><pre class="oac_no_warn" dir="ltr">SELECT dim_key, long_description description, parent, calendar_year year,
       calendar_quarter quarter, month FROM time_calendar_view
       WHERE calendar_year='CY2005'
       ORDER BY level_name, end_date;

DIM_KEY      DESCRIPTION  PARENT       YEAR         QUARTER      MONTH
------------ ------------ ------------ ------------ ------------ ------------
CY2005.Q1    Q1.05        CY2005       CY2005       CY2005.Q1
CY2005.Q2    Q2.05        CY2005       CY2005       CY2005.Q2
CY2005.Q3    Q3.05        CY2005       CY2005       CY2005.Q3
CY2005.Q4    Q4.05        CY2005       CY2005       CY2005.Q4
CY2005       2005         TOTAL        CY2005
2005.01      JAN-05       CY2005.Q1    CY2005       CY2005.Q1    2005.01
2005.02      FEB-05       CY2005.Q1    CY2005       CY2005.Q1    2005.02
2005.03      MAR-05       CY2005.Q1    CY2005       CY2005.Q1    2005.03
2005.04      APR-05       CY2005.Q2    CY2005       CY2005.Q2    2005.04
2005.05      MAY-05       CY2005.Q2    CY2005       CY2005.Q2    2005.05
2005.06      JUN-05       CY2005.Q2    CY2005       CY2005.Q2    2005.06
2005.07      JUL-05       CY2005.Q3    CY2005       CY2005.Q3    2005.07
2005.08      AUG-05       CY2005.Q3    CY2005       CY2005.Q3    2005.08
2005.09      SEP-05       CY2005.Q3    CY2005       CY2005.Q3    2005.09
2005.10      OCT-05       CY2005.Q4    CY2005       CY2005.Q4    2005.10
2005.11      NOV-05       CY2005.Q4    CY2005       CY2005.Q4    2005.11
2005.12      DEC-05       CY2005.Q4    CY2005       CY2005.Q4    2005.12
 
17 rows selected.</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
            </div><a id="OLAUG9170"></a><div class="props_rev_3"><a id="GUID-04DEC03F-3E6E-4435-840F-FF49FD2CA078" name="GUID-04DEC03F-3E6E-4435-840F-FF49FD2CA078"></a><h3 id="OLAUG-GUID-04DEC03F-3E6E-4435-840F-FF49FD2CA078" class="sect3"><span class="enumeration_section">4.2 </span>Creating Basic Queries
               </h3>
               <div>
                  <p>Querying a cube is similar to querying a star schema. In a star schema, you join a fact table to a dimension table. The fact table provides the numeric business measures, and the dimension table provides descriptive attributes that give meaning to the data. Similarly, you join a cube view with either a dimension view or a hierarchy view to provide fully identified and meaningful data to your users.</p>
                  <p>For dimensions with no hierarchies, use the dimension views in your queries. For dimensions with hierarchies, use the hierarchy views, because they contain more information than the dimension views. </p>
                  <p>When querying a cube, remember these guidelines:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Apply a filter to every dimension. </p>
                        <p>The cube contains both detail level and aggregated data. A query with an unfiltered dimension typically returns more data than users need, which negatively impacts performance.</p>
                     </li>
                     <li>
                        <p>Let the cube aggregate the data.</p>
                        <p>Because the aggregations are calculated in the cube, a typical query does not need a <code class="codeph">GROUP BY</code> clause. Simply select the aggregations you want by using the appropriate filters on the dimension keys or attributes.
                        </p>
                     </li>
                  </ul>
               </div><a id="OLAUG9469"></a><a id="OLAUG9470"></a><a id="OLAUG9471"></a><a id="OLAUG9171"></a><div class="props_rev_3"><a id="GUID-4E4B57C1-4BBE-4C40-961C-B99011B0A92E" name="GUID-4E4B57C1-4BBE-4C40-961C-B99011B0A92E"></a><h4 id="OLAUG-GUID-4E4B57C1-4BBE-4C40-961C-B99011B0A92E" class="sect4"><span class="enumeration_section">4.2.1 </span>Applying a Filter to Every Dimension
                  </h4>
                  <div>
                     <div class="section">
                        <p><a id="d12486e937" class="indexterm-anchor"></a><a id="d12486e939" class="indexterm-anchor"></a>To create a level filter, you must know the names of the dimension levels. You can easily acquire them by querying the dimension or hierarchy views:
                        </p><pre class="oac_no_warn" dir="ltr">SELECT DISTINCT level_name FROM time_calendar_view;
 
LEVEL_NAME
------------------------------
CALENDAR_YEAR
CALENDAR_QUARTER
MONTH
TOTAL
</pre><p>Several data dictionary views list the names of the levels. The following example queries <code class="codeph">USER_CUBE_HIER_LEVELS</code>.
                        </p><pre class="oac_no_warn" dir="ltr">SELECT level_name FROM user_cube_hier_levels
     WHERE dimension_name = 'TIME' AND hierarchy_name ='CALENDAR';
 
LEVEL_NAME
--------------------
TOTAL
CALENDAR_YEAR
CALENDAR_QUARTER
MONTH
</pre></div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-4E4B57C1-4BBE-4C40-961C-B99011B0A92E__CBAEFEHJ">
                        <p class="titleinexample">Example 4-1 Displaying Aggregates at All Levels of Time</p>
                        <p>To see the importance of applying a filter to every dimension, consider the query in this example, which has no filter on the time dimension.</p><pre class="oac_no_warn" dir="ltr">/* Select key descriptions and facts */
SELECT t.long_description time,
     ROUND(f.sales) sales
/* From dimension views and cube view */
  FROM time_calendar_view t,
     product_primary_view p,
     customer_shipments_view cu,
     channel_primary_view ch,
     units_cube_view f
/* No filter on Time */
  WHERE p.level_name = 'TOTAL' 
     AND cu.level_name = 'TOTAL'
     AND ch.level_name = 'TOTAL'
/* Join dimension views to cube view */
     AND t.dim_key = f.time
     AND p.dim_key = f.product
     AND cu.dim_key = f.customer
     AND ch.dim_key = f.channel
  ORDER BY t.end_date;
</pre><p>Without a filter on the Time dimension, the query returns values for every level of time. This is more data than users typically want to see, and the volume of data returned can negatively impact performance.</p><pre class="oac_no_warn" dir="ltr">TIME            SALES
---------- ----------
JAN-98        8338545
FEB-98        7972132
Q1.98        24538588
MAR-98        8227911
APR-98        8470315
MAY-98        8160573
JUN-98        8362386
Q2.98        24993273
JUL-98        8296226
AUG-98        8377587
SEP-98        8406728
Q3.98        25080541
OCT-98        8316169
NOV-98        8984156
Q4.98        26258474
1998        100870877
                .
                .
                .
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-4E4B57C1-4BBE-4C40-961C-B99011B0A92E__CBAFBDDD">
                        <p class="titleinexample">Example 4-2 Basic Cube View Query</p>
                        <p>Now consider the results when a filter restricts Time to yearly data. This example shows a basic query. It selects the Sales measure from <code class="codeph">UNITS_CUBE_VIEW</code>, and joins the keys from the cube view to the hierarchy views to get descriptions of the keys.
                        </p><pre class="oac_no_warn" dir="ltr">/* Select key descriptions and facts */
SELECT t.long_description time,
     ROUND(f.sales) sales
/* From dimension views and cube view */
  FROM time_calendar_view t,
     product_primary_view p,
     customer_shipments_view cu,
     channel_primary_view ch,
     units_cube_view f
/* Create level filters */
  WHERE t.level_name = 'CALENDAR_YEAR'
     AND p.level_name = 'TOTAL'
     AND cu.level_name = 'TOTAL'
     AND ch.level_name = 'TOTAL'
/* Join dimension views to cube view */
     AND t.dim_key = f.time
     AND p.dim_key = f.product
     AND cu.dim_key = f.customer
     AND ch.dim_key = f.channel
  ORDER BY t.end_date;
</pre><p>The example selects the following rows. For <code class="codeph">CUSTOMER</code>, <code class="codeph">PRODUCT</code>, and <code class="codeph">CHANNEL</code>, only one value is at the top level. <code class="codeph">TIME</code> has a value for each calendar year.
                        </p><pre class="oac_no_warn" dir="ltr">TIME          SALES
-------- ----------
1998      100870877
1999      134109248
2000      124173522
2001      116931722
2002       92515295
2003      130276514
2004      144290686
2005      136986572
2006      140138317

</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-4E4B57C1-4BBE-4C40-961C-B99011B0A92E__CBAIFFGC">
                        <p class="titleinexample">Example 4-3 Selecting Data with Attribute Filters</p>
                        <p>Dimension attributes also provide a useful way to select the data for a query. The <code class="codeph">WHERE</code> clause in this example uses attributes values to filter all of the dimensions.
                        </p><pre class="oac_no_warn" dir="ltr">/* Select key descriptions and facts */
SELECT t.long_description time,
     p.long_description product,
     cu.long_description customer,
     ch.long_description channel,
     ROUND(f.sales) sales
/* From dimension views and cube view */
FROM time_calendar_view t,
     product_primary_view p,
     customer_shipments_view cu,
     channel_primary_view ch,
     units_cube_view f
/* Create attribute filters */
WHERE t.long_description in ('2005', '2006')
    AND p.package = 'Laptop Value Pack'
    AND cu.long_description LIKE '%Boston%'
    AND ch.long_description = 'Internet'
/* Join dimension views to cube view */
    AND t.dim_key = f.time
    AND p.dim_key = f.product
    AND cu.dim_key = f.customer
    AND ch.dim_key = f.channel
ORDER BY time, customer;
</pre><p>The query selects two calendar years, the products in the Laptop Value Pack, the customers in Boston, and the Internet channel. </p><pre class="oac_no_warn" dir="ltr">TIME   PRODUCT                        CUSTOMER              CHANNEL       SALES
------ ------------------------------ --------------------- -------- ----------
2005   Laptop carrying case           KOSH Entrpr Boston    Internet       5936
2005   56Kbps V.92 Type II Fax/Modem  KOSH Entrpr Boston    Internet      45285
2005   Internal 48X CD-ROM            KOSH Entrpr Boston    Internet       2828
2005   Standard Mouse                 KOSH Entrpr Boston    Internet        638
2005   Envoy Standard                 Warren Systems Boston Internet      19359
2005   Laptop carrying case           Warren Systems Boston Internet      13434
2005   Standard Mouse                 Warren Systems Boston Internet        130
2006   Standard Mouse                 KOSH Entrpr Boston    Internet        555
2006   Laptop carrying case           KOSH Entrpr Boston    Internet       6357
2006   56Kbps V.92 Type II Fax/Modem  KOSH Entrpr Boston    Internet      38042
2006   Internal 48X CD-ROM            KOSH Entrpr Boston    Internet       3343
2006   Envoy Standard                 Warren Systems Boston Internet      24198
2006   Laptop carrying case           Warren Systems Boston Internet      13153
2006   Standard Mouse                 Warren Systems Boston Internet         83
 
14 rows selected.</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="OLAUG9172"></a><div class="props_rev_3"><a id="GUID-521D88A9-733B-4B4D-950B-637A6CF5E955" name="GUID-521D88A9-733B-4B4D-950B-637A6CF5E955"></a><h4 id="OLAUG-GUID-521D88A9-733B-4B4D-950B-637A6CF5E955" class="sect4"><span class="enumeration_section">4.2.2 </span>Allowing the Cube to Aggregate the Data
                  </h4>
                  <div>
                     <p>A cube contains all of the aggregate data. As shown in this chapter, a query against a cube just selects the aggregate data. It does not calculate the values. </p>
                     <p>The following is a basic query against a fact table:</p><pre class="oac_no_warn" dir="ltr">/* Querying a fact table */
SELECT t.calendar_year_dsc time,
     SUM(f.sales) sales
  FROM time_dim t, units_fact f
  WHERE t.calendar_year_dsc IN ('2005', '2006')
     AND t.month_id = f.month_id
  GROUP BY t.calendar_year_dsc;
</pre><p>The next query fetches the exact same results from a cube using filters:</p><pre class="oac_no_warn" dir="ltr">/* Querying a cube */
SELECT t.long_description time, f.sales sales
  FROM time_calendar_view t, 
     product_primary_view p,
     customer_shipments_view cu,
     channel_primary_view ch,
     units_cube_view f
/* Apply filters to every dimension */
  WHERE t.long_description IN ('2005', '2006')
     AND p.level_name = 'TOTAL'
     AND cu.level_name = 'TOTAL'
     AND ch.level_name = 'TOTAL'
/* Join dimension views to cube view */
     AND t.dim_key = f.TIME
     AND p.dim_key = f.product
     AND cu.dim_key = f.customer
     AND ch.dim_key = f.channel
  ORDER BY time;
</pre><p>Both queries return these results:</p><pre class="oac_no_warn" dir="ltr">TIME       SALES
----- ----------
2005   136986572
2006   140138317
</pre><p>The query against the cube does not compute the aggregate values with a <code class="codeph">SUM</code> operator and <code class="codeph">GROUP BY</code> clause. Because the aggregates exist in the cube, this would re-aggregate previously aggregated data. Instead, the query selects the aggregates directly from the cube and specifies the desired aggregates by applying the appropriate filter to each dimension.
                     </p>
                  </div>
               </div><a id="OLAUG9173"></a><div class="props_rev_3"><a id="GUID-1D50D612-8CFD-4F87-A60D-693D87E43E08" name="GUID-1D50D612-8CFD-4F87-A60D-693D87E43E08"></a><h4 id="OLAUG-GUID-1D50D612-8CFD-4F87-A60D-693D87E43E08" class="sect4"><span class="enumeration_section">4.2.3 </span>Query Processing
                  </h4>
                  <div>
                     <p>The most efficient queries allow the OLAP engine to filter the data, so that the minimum number of rows required by the query are returned to SQL.</p>
                     <p>The following are among the <a id="d12486e1127" class="indexterm-anchor"></a><code class="codeph">WHERE</code> clause operations that are pushed into the OLAP engine for processing:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">=</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">!=</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">&gt;</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">!&gt;</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">&lt;</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">!&lt;</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">IN</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">NOT IN</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">IS NULL</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">LIKE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">NOT LIKE</code></p>
                        </li>
                     </ul>
                     <p>The OLAP engine also processes nested <a id="d12486e1179" class="indexterm-anchor"></a><a id="d12486e1181" class="indexterm-anchor"></a><a id="d12486e1183" class="indexterm-anchor"></a>character functions, including <code class="codeph">INSTR</code>, <code class="codeph">LENGTH</code>, <code class="codeph">NVL</code>, <code class="codeph">LOWER</code>, <code class="codeph">UPPER</code>, <code class="codeph">LTRIM</code>, <code class="codeph">RTRIM</code>, <code class="codeph">TRIM</code>, <code class="codeph">LPAD</code>, <code class="codeph">RPAD</code>, and <code class="codeph">SUBSTR</code>.
                     </p>
                     <p>SQL processes other operations and functions in the <code class="codeph">WHERE</code> clause, and all operations in other parts of the <code class="codeph">SELECT</code> syntax.
                     </p>
                  </div>
               </div>
            </div><a id="OLAUG9174"></a><div class="props_rev_3"><a id="GUID-D74AA467-2DEC-4F1B-A8C1-DDBEEBB89808" name="GUID-D74AA467-2DEC-4F1B-A8C1-DDBEEBB89808"></a><h3 id="OLAUG-GUID-D74AA467-2DEC-4F1B-A8C1-DDBEEBB89808" class="sect3"><span class="enumeration_section">4.3 </span>Creating Hierarchical Queries
               </h3>
               <div>
                  <p>Drilling is an important capability in business analysis. In a dashboard or an application, users click a dimension key to change the selection of data. Decision makers frequently want to drill down to see the contributors to a data value, or drill up to see how a particular data value contributes to the whole. For example, the Boston regional sales manager might start at total Boston sales, drill down to see the contributions of each sales representative, then drill up to see how the Boston region contributes to the New England sales total.</p>
                  <p>The hierarchy views include a <code class="codeph">PARENT</code> column that identifies the parent of every dimension key. This column encapsulates all of the hierarchical information of the dimension: If you know the parent of every key, then you can derive the ancestors, the children, and the descendants. 
                  </p>
                  <p>For level-based hierarchies, the <code class="codeph">LEVEL_NAME</code> column supplements this information by providing a convenient way to identify all the keys at the same depth in the hierarchy, from the top to the base. For value-based hierarchies, the <code class="codeph">PARENT</code> column provides all the information about the hierarchy.
                  </p>
                  <div class="infoboxnotealso" id="GUID-D74AA467-2DEC-4F1B-A8C1-DDBEEBB89808__GUID-F93CAB27-4B6A-4036-85AA-B26823EBCC76">
                     <p class="notep1">See Also:</p>
                     <p><a href="developing-reports-and-dashboards.html#GUID-20B8F759-16D6-4089-8744-CBA17E2259D6"> Developing Reports and Dashboards</a> about using bind variables to support drilling
                     </p>
                  </div>
               </div><a id="OLAUG9175"></a><div class="props_rev_3"><a id="GUID-C855370B-A629-48CA-9750-8CA08F17D7B6" name="GUID-C855370B-A629-48CA-9750-8CA08F17D7B6"></a><h4 id="OLAUG-GUID-C855370B-A629-48CA-9750-8CA08F17D7B6" class="sect4"><span class="enumeration_section">4.3.1 </span>Drilling Down to Children
                  </h4>
                  <div>
                     <div class="section">
                        <p>You can use the <code class="codeph">PARENT</code> column of a hierarchy view to select only the children of a particular value. The following <code class="codeph">WHERE</code> clause selects the children of calendar year <code class="codeph">2005</code>. 
                        </p><pre class="oac_no_warn" dir="ltr">/* Select children of calendar year 2005 */
WHERE  t.parent = 'CY2005'
   AND p.dim_key = 'TOTAL'
   AND cu.dim_key = 'TOTAL'
   AND ch.dim_key = 'TOTAL'
</pre><p>The query drills down from Year to Quarter. The four quarters <code class="codeph">Q1-05</code> to <code class="codeph">Q4-05</code> are the children of year <code class="codeph">CY2005</code> in the Calendar hierarchy.
                        </p><pre class="oac_no_warn" dir="ltr">TIME          SALES
-------- ----------
Q1.05      31381338
Q2.05      37642741
Q3.05      32617249
Q4.05      35345244</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="OLAUG9176"></a><div class="props_rev_3"><a id="GUID-3174739E-67CC-469A-A4EC-DAF5CFF2024B" name="GUID-3174739E-67CC-469A-A4EC-DAF5CFF2024B"></a><h4 id="OLAUG-GUID-3174739E-67CC-469A-A4EC-DAF5CFF2024B" class="sect4"><span class="enumeration_section">4.3.2 </span>Drilling Up to Parents
                  </h4>
                  <div>
                     <div class="section">
                        <p>The <code class="codeph">PARENT</code> column of a hierarchy view identifies the parent of each dimension key. Columns of level keys identify the full heritage. The following <code class="codeph">WHERE</code> clause selects the parent of a Time key based on its <code class="codeph">LONG_DESCRIPTION</code> attribute. 
                        </p><pre class="oac_no_warn" dir="ltr">/* Select the parent of a Time key*/
WHERE t.dim_key = 
   (SELECT DISTINCT parent
      FROM time_calendar_view
      WHERE long_description='JAN-05')
   AND p.dim_key= 'TOTAL'
   AND cu.dim_key = 'TOTAL'
   AND ch.dim_key = 'TOTAL'
</pre><p>The query drills up from Month to Quarter. The parent of month <code class="codeph">JAN-05</code> is the quarter <code class="codeph">Q1-05</code> in the Calendar hierarchy.
                        </p><pre class="oac_no_warn" dir="ltr">TIME          SALES
-------- ----------
Q1.05      31381338</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="OLAUG9177"></a><div class="props_rev_3"><a id="GUID-C674585F-7F67-44DC-8631-D4173610AE0B" name="GUID-C674585F-7F67-44DC-8631-D4173610AE0B"></a><h4 id="OLAUG-GUID-C674585F-7F67-44DC-8631-D4173610AE0B" class="sect4"><span class="enumeration_section">4.3.3 </span>Drilling Down to Descendants
                  </h4>
                  <div>
                     <div class="section">
                        <p>The following <code class="codeph">WHERE</code> clause selects the descendants of calendar year <code class="codeph">2005</code> by selecting the rows with a <code class="codeph">LEVEL_NAME</code> of <code class="codeph">MONTH</code> and a <code class="codeph">CALENDAR_YEAR</code> of <code class="codeph">CY2005</code>.
                        </p><pre class="oac_no_warn" dir="ltr">/* Select Time level and ancestor */
WHERE t.level_name = 'MONTH'
    AND t.calendar_year = 'CY2005'
    AND p.dim_key = 'TOTAL'
    AND cu.dim_key = 'TOTAL'
    AND ch.dim_key = 'TOTAL'
</pre><p>The query drills down two levels, from year to quarter to month. The 12 months <code class="codeph">Jan-05</code> to <code class="codeph">Dec-05</code> are the descendants of year <code class="codeph">2005</code> in the Calendar hierarchy. 
                        </p><pre class="oac_no_warn" dir="ltr">TIME          SALES
-------- ----------
JAN-05     12093518
FEB-05     10103162
MAR-05      9184658
APR-05      9185964
MAY-05     11640216
JUN-05     16816561
JUL-05     11110903
AUG-05      9475807
SEP-05     12030538
OCT-05     11135032
NOV-05     11067754
DEC-05     13142459</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="OLAUG9178"></a><div class="props_rev_3"><a id="GUID-2A193985-DEFD-41F6-A57F-B5F30F51CE96" name="GUID-2A193985-DEFD-41F6-A57F-B5F30F51CE96"></a><h4 id="OLAUG-GUID-2A193985-DEFD-41F6-A57F-B5F30F51CE96" class="sect4"><span class="enumeration_section">4.3.4 </span>Drilling Up to Ancestors
                  </h4>
                  <div>
                     <div class="section">
                        <p>The hierarchy views provide the full ancestry of each dimension key, as shown in <span class="q">"<a href="querying-dimensional-objects.html#GUID-CC120690-879D-4FF0-9BF2-478D8D9BEACC">Displaying the Contents of a Hierarchy View</a>"</span>. The following <code class="codeph">WHERE</code> clause uses the <code class="codeph">CALENDAR_YEAR</code> level key column to identify the ancestor of a <code class="codeph">MONTH</code> dimension key.
                        </p><pre class="oac_no_warn" dir="ltr">/* Select the ancestor of a Time key based on its Long Description attribute */
WHERE t.dim_key =
   (SELECT calendar_year
      FROM time_calendar_view
      WHERE long_description = 'JAN-05')
   AND p.dim_key = 'TOTAL'
   AND cu.dim_key = 'TOTAL'
   AND ch.dim_key = 'TOTAL'
</pre><p>The query drills up two levels from month to quarter to year. The ancestor of month <code class="codeph">Jan-05</code> is the year <code class="codeph">2005</code> in the Calendar hierarchy. 
                        </p><pre class="oac_no_warn" dir="ltr">TIME          SALES
-------- ----------
2005      136986572</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="OLAUG9472"></a><a id="OLAUG9179"></a><div class="props_rev_3"><a id="GUID-0A165A1E-4F52-4955-9E6E-DEAD37C8F65A" name="GUID-0A165A1E-4F52-4955-9E6E-DEAD37C8F65A"></a><h3 id="OLAUG-GUID-0A165A1E-4F52-4955-9E6E-DEAD37C8F65A" class="sect3"><span class="enumeration_section">4.4 </span>Using Calculations in Queries
               </h3>
               <div>
                  <p><a id="d12486e1665" class="indexterm-anchor"></a>A DBA can create calculated measures in Analytic Workspace Manager, so they are available to all applications. This not only simplifies application development, but ensures that all applications use the same name for the same calculation. 
                  </p>
                  <p>Nonetheless, you may want to develop queries that include your own calculations. In this case, you can use an inner query to select aggregate data from the cube, then perform calculations in an outer query. You can select data from cubes that use any type of aggregation operators, and you can use any functions or operators in the query. You must ensure only that you select the data from the cube at the appropriate levels for the calculation, and that the combination of operators in the cube and in the query create the calculation you want. </p>
                  <div class="example" id="GUID-0A165A1E-4F52-4955-9E6E-DEAD37C8F65A__CBAHIIGG">
                     <p class="titleinexample">Example 4-4 Calculating Average Sales Across Customers</p>
                     <p>This example shows a query that answers the question, What was the average sales of Sentinel Standard computers to Government customers for the third quarter of fiscal year 2005. <code class="codeph">UNITS_CUBE</code> is summed over all dimensions, so that <code class="codeph">FY2005.Q3</code> is a total for July, August, and September. The inner query extracts the data for these months, and the outer query uses the <code class="codeph">MIN</code>, <code class="codeph">MAX</code>, and <code class="codeph">AVG</code> operators and a <code class="codeph">GROUP BY</code> clause to calculate the averages.
                     </p><pre class="oac_no_warn" dir="ltr">SELECT customer, ROUND(MIN(sales)) minimum, ROUND(MAX(sales)) maximum, 
   ROUND(AVG(sales)) average
FROM
   (SELECT cu.long_description customer,
       t.month_long_description time
       f.sales sales
   FROM time_fiscal_view t,
     product_primary_view p,
     customer_market_view cu,
     channel_primary_view ch,
     units_cube_view f
   WHERE t.parent = 'FY2005.Q3'
     AND p.dim_key = 'SENT STD'
     AND cu.parent = 'GOV'
     AND ch.level_name = 'TOTAL'
     AND t.dim_key = f.time
     AND p.dim_key = f.product
     AND cu.dim_key = f.customer
     AND ch.dim_key = f.channel
   )
GROUP BY customer
ORDER BY customer;
</pre><p>This is the data extracted from the cube by the inner query:</p><pre class="oac_no_warn" dir="ltr">CUSTOMER                                 TIME          SALES
---------------------------------------- -------- ----------
Dept. of Labor                           JAN-05      1553.26
Dept. of Labor                           MAR-05       1555.6
Ministry of Intl Trade                   JAN-05      1553.26
Ministry of Intl Trade                   FEB-05      1554.56
Ministry of Intl Trade                   MAR-05       1555.6
Royal Air Force                          JAN-05      1553.26
Royal Air Force                          FEB-05      6218.23
UK Environmental Department              JAN-05      4659.78
UK Environmental Department              FEB-05      3109.12
</pre><p>The outer query calculates the minimum, maximum, and average sales for each customer:</p><pre class="oac_no_warn" dir="ltr">CUSTOMER                          MINIMUM    MAXIMUM    AVERAGE
------------------------------ ---------- ---------- ----------
Dept. of Labor                       1553       1556       1554
Ministry of Intl Trade               1553       1556       1554
Royal Air Force                      1553       6218       3886
UK Environmental Department          3109       4660       3884</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="OLAUG9180"></a><div class="props_rev_3"><a id="GUID-08A8F74B-779F-425C-A148-A7070C7E384C" name="GUID-08A8F74B-779F-425C-A148-A7070C7E384C"></a><h3 id="OLAUG-GUID-08A8F74B-779F-425C-A148-A7070C7E384C" class="sect3"><span class="enumeration_section">4.5 </span>Using Attributes for Aggregation
               </h3>
               <div>
                  <p><a id="d12486e1756" class="indexterm-anchor"></a><a id="d12486e1760" class="indexterm-anchor"></a>An OLAP cube aggregates the data within its hierarchies, using the parent-child relationships revealed in the hierarchy views. The OLAP engine does not calculate aggregates over dimension attribute values.
                  </p>
                  <p>Nonetheless, you may want to aggregate products over color or size, or customers by age, zip code, or population density. This is the situation when you can use a <code class="codeph">GROUP BY</code> clause when querying a cube. Your query can extract data from the cube, then use SQL to aggregate by attribute value.
                  </p>
                  <p><a id="d12486e1769" class="indexterm-anchor"></a>The cube must use the same aggregation operator for all dimensions, and the aggregation operator in the <code class="codeph">SELECT</code> list of the query must match the aggregation operator of the cube. You can use a <code class="codeph">GROUP BY</code> clause to query cubes that use these operators:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>First Non-NA Value</p>
                     </li>
                     <li>
                        <p>Last Non-NA Value</p>
                     </li>
                     <li>
                        <p>Maximum</p>
                     </li>
                     <li>
                        <p>Minimum</p>
                     </li>
                     <li>
                        <p>Sum</p>
                     </li>
                  </ul>
               </div><a id="OLAUG9473"></a><a id="OLAUG9181"></a><div class="props_rev_3"><a id="GUID-36B73E8A-DD8C-465D-BE8D-E951F2E156B9" name="GUID-36B73E8A-DD8C-465D-BE8D-E951F2E156B9"></a><h4 id="OLAUG-GUID-36B73E8A-DD8C-465D-BE8D-E951F2E156B9" class="sect4"><span class="enumeration_section">4.5.1 </span>Aggregating Measures Over Attributes
                  </h4>
                  <div>
                     <p><a href="querying-dimensional-objects.html#GUID-36B73E8A-DD8C-465D-BE8D-E951F2E156B9__CBABAGBE">Example 4-5</a> shows a query that aggregates over an attribute named Package. It returns these results:
                     </p><pre class="oac_no_warn" dir="ltr">TIME   PACKAGE                 SALES
------ ------------------ ----------
2005   All                1809157.64
2005   Multimedia         18083256.3
2005   Executive            19836977
2005   Laptop Value Pack  9547494.81
</pre><p>Units Cube uses the <code class="codeph">SUM</code> operator for all dimensions, and the query uses the <code class="codeph">SUM</code> operator to aggregate over Sales. The Package attribute applies only to the Item level of the Product dimension, so the query selects the Item level of Product. It also eliminates nulls for Package, so that only products that belong to a package are included in the calculation. The <code class="codeph">GROUP BY</code> clause breaks out Total Sales by Time and Package.
                     </p>
                     <div class="example" id="GUID-36B73E8A-DD8C-465D-BE8D-E951F2E156B9__CBABAGBE">
                        <p class="titleinexample">Example 4-5 Aggregating Over an Attribute</p><pre class="oac_no_warn" dir="ltr">SELECT t.long_description time,
     p.package package,
     SUM(f.sales) sales
  FROM time_calendar_view t,
     product_primary_view p,
     customer_shipments_view cu,
     channel_primary_view ch,
     units_cube_view f
/* Select Product by level and attribute */
  WHERE p.level_name = 'ITEM'
     AND p.package IS NOT NULL
     AND t.long_description = '2005'
     AND cu.level_name = 'TOTAL'
     AND ch.level_name = 'TOTAL'
/* Join dimensions and cube */
     AND t.dim_key = f.time
     AND p.dim_key = f.product
     AND cu.dim_key = f.customer
     AND ch.dim_key = f.channel
  GROUP BY t.long_description, p.package;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="OLAUG9474"></a><a id="OLAUG9182"></a><div class="props_rev_3"><a id="GUID-3B0ADDD2-9977-4D4A-9D87-5F2688888EEF" name="GUID-3B0ADDD2-9977-4D4A-9D87-5F2688888EEF"></a><h4 id="OLAUG-GUID-3B0ADDD2-9977-4D4A-9D87-5F2688888EEF" class="sect4"><span class="enumeration_section">4.5.2 </span>Aggregating Calculated Measures Over Attributes
                  </h4>
                  <div>
                     <p><a id="d12486e1916" class="indexterm-anchor"></a>Before using the technique described in <span class="q">"<a href="querying-dimensional-objects.html#GUID-36B73E8A-DD8C-465D-BE8D-E951F2E156B9">Aggregating Measures Over Attributes</a>"</span>, ensure that the calculation is meaningful. For example, the common calculation Percent Change might be defined as a calculated measure in a cube. Summing over Percent Change would produce unexpected results, because the calculation for Percent Change (<span class="italic"><code class="codeph">(a-b)/b</code></span>,) is not additive.
                     </p>
                     <p>Consider the following rows of data. The correct Total Percent Change is <code class="codeph">.33</code>, whereas the sum of the percent change for the first two rows is <code class="codeph">.75</code>.
                     </p>
                     <div class="tblformal" id="GUID-3B0ADDD2-9977-4D4A-9D87-5F2688888EEF__GUID-EAD2463C-2F67-4E56-9185-BBC51AD02D90">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="Example of adding a nonadditive measure" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="16%" id="d12486e1948">Row</th>
                                 <th align="left" valign="bottom" width="16%" id="d12486e1951">Sales</th>
                                 <th align="left" valign="bottom" width="34%" id="d12486e1954">Sales Prior Period</th>
                                 <th align="left" valign="bottom" width="34%" id="d12486e1957">Percent Change</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="16%" id="d12486e1962" headers="d12486e1948 ">
                                    <p>1</p>
                                 </td>
                                 <td align="left" valign="top" width="16%" headers="d12486e1962 d12486e1951 ">
                                    <p><code class="codeph">15</code></p>
                                 </td>
                                 <td align="left" valign="top" width="34%" headers="d12486e1962 d12486e1954 ">
                                    <p><code class="codeph">10</code></p>
                                 </td>
                                 <td align="left" valign="top" width="34%" headers="d12486e1962 d12486e1957 ">
                                    <p><code class="codeph">.50</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="16%" id="d12486e1978" headers="d12486e1948 ">
                                    <p>2</p>
                                 </td>
                                 <td align="left" valign="top" width="16%" headers="d12486e1978 d12486e1951 ">
                                    <p><code class="codeph">25</code></p>
                                 </td>
                                 <td align="left" valign="top" width="34%" headers="d12486e1978 d12486e1954 ">
                                    <p><code class="codeph">20</code></p>
                                 </td>
                                 <td align="left" valign="top" width="34%" headers="d12486e1978 d12486e1957 ">
                                    <p><code class="codeph">.25</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="16%" id="d12486e1994" headers="d12486e1948 ">
                                    <p><span class="bold">Total</span></p>
                                 </td>
                                 <td align="left" valign="top" width="16%" headers="d12486e1994 d12486e1951 ">
                                    <p><span class="bold"><code class="codeph">40</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="34%" headers="d12486e1994 d12486e1954 ">
                                    <p><span class="bold"><code class="codeph">30</code></span></p>
                                 </td>
                                 <td align="left" valign="top" width="34%" headers="d12486e1994 d12486e1957 ">
                                    <p><span class="bold"><code class="codeph">.33</code></span></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p><a href="querying-dimensional-objects.html#GUID-3B0ADDD2-9977-4D4A-9D87-5F2688888EEF__CBAFHFIH">Example 4-6</a> shows a query that aggregates over the Package attribute and calculates Percent Change From Prior Period. The inner query aggregates Sales and Sales Prior Period over the attributes, and the outer query uses the results to compute the percent change. These are the results of the query, which show the expected results for <code class="codeph">PCT_CHG_PP</code>:
                     </p><pre class="oac_no_warn" dir="ltr">TIME   PACKAGE                 SALES PRIOR_PERIOD PCT_CHG_PP
------ ------------------ ---------- ------------ ----------
2005   All                1809157.64   1853928.06 -.02414895
2006   All                1720399.03   1809157.64 -.04906074
2005   Executive            19836977   20603879.8 -.03722128
2006   Executive          19580638.4     19836977 -.01292226
2005   Laptop Value Pack  9547494.81   10047298.6 -.04974509
2006   Laptop Value Pack  9091450.58   9547494.81 -.04776585
2005   Multimedia         18083256.3   19607675.5 -.07774604
2006   Multimedia         18328678.7   18083256.3 .013571806
 
8 rows selected.</pre><div class="example" id="GUID-3B0ADDD2-9977-4D4A-9D87-5F2688888EEF__CBAFHFIH">
                        <p class="titleinexample">Example 4-6 Querying Over Attributes Using Calculated Measures</p><pre class="oac_no_warn" dir="ltr">/* Calculate Percent Change */
SELECT TIME, package, sales, prior_period,
     ((sales - prior_period) / prior_period) pct_chg_pp
FROM
/* Fetch data from the cube and aggregate over Package */
     (SELECT t.long_description time,
          p.package package,
          SUM(f.sales) sales,
          SUM(f.sales_pp) prior_period
       FROM time_calendar_view t,
          product_primary_view p,
          customer_shipments_view cu,
          channel_primary_view ch,
          units_cube_view f
/* Create filters */
       WHERE p.level_name = 'ITEM'
          AND p.package IS NOT NULL
          AND t.long_description IN ('2005', '2006')
          AND cu.level_name = 'TOTAL'
          AND ch.level_name = 'TOTAL'
/* Join dimension views to cube view */
          AND t.dim_key = f.time
          AND p.dim_key = f.product
          AND cu.dim_key = f.customer
          AND ch.dim_key = f.channel
       GROUP BY t.long_description, p.package
       ORDER BY p.package);</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="OLAUG9562"></a><a id="OLAUG9595"></a><div class="props_rev_3"><a id="GUID-9783E643-10F4-49C8-98B3-2A4FDA1B98B8" name="GUID-9783E643-10F4-49C8-98B3-2A4FDA1B98B8"></a><h3 id="OLAUG-GUID-9783E643-10F4-49C8-98B3-2A4FDA1B98B8" class="sect3"><span class="enumeration_section">4.6 </span>Joining Cubes to Tables and Views
               </h3>
               <div>
                  <p><a id="d12486e2078" class="indexterm-anchor"></a><a id="d12486e2080" class="indexterm-anchor"></a>You can join cubes to other cubes and to relational objects such as:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Tables</p>
                     </li>
                     <li>
                        <p>Views including external tables and PL/SQL table functions</p>
                     </li>
                     <li>
                        <p>Other row source types, like other joins</p>
                     </li>
                  </ul>
                  <p><a id="d12486e2096" class="indexterm-anchor"></a>Typically, you do not need a fully aggregated cube when joining it to a table or view, and a <code class="codeph">CUBE JOIN</code> operation limits the number of fetched values to improve performance automatically. The cube must be on the right side of the equation. If the query does not support <code class="codeph">CUBE JOIN</code>, then the more expensive <code class="codeph">HASH JOIN</code>, <code class="codeph">MERGE JOIN</code>, or <code class="codeph">NESTED LOOPS</code> are commonly used.
                  </p>
                  <p><a id="d12486e2115" class="indexterm-anchor"></a><a id="d12486e2117" class="indexterm-anchor"></a>You can use hints in the query to influence the use of <code class="codeph">CUBE JOIN</code>:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><code class="codeph">USE_CUBE</code> forces a <code class="codeph">CUBE JOIN</code> if possible.
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">NO_USE_CUBE</code> prevents a <code class="codeph">CUBE JOIN</code>.
                        </p>
                     </li>
                  </ul>
                  <p>See <span class="q">"<a href="querying-dimensional-objects.html#GUID-C2359A2A-B7B6-4D31-BA84-2A5AB543C678">Viewing Execution Plans</a>"</span> for more information about <code class="codeph">CUBE JOIN</code>.
                  </p>
                  <p><a href="querying-dimensional-objects.html#GUID-9783E643-10F4-49C8-98B3-2A4FDA1B98B8__BGBHEBGH">Example 4-7</a> joins a table that contains French descriptions of the Customer dimension to a cube that supports only English. The query returns these results:
                  </p><pre class="oac_no_warn" dir="ltr">CUSTOMER                                        SALES
---------------------------------------- ------------
La Marine des USA Washington                   600.34
Monolith Motor Co. Chattanooga               17946.51
Piedmont, Inc. San Jose                      24874.41
Ministere du Commerce Int. Nagano            27595.97
Depart. des commun. - Stuttgart              30706.10
Min. Env. Brit. Londres                      38125.77
Departement de travail Nouvelle-Orleans      42507.50
Ministere des Finances Sorbonne              43607.58
Monolith Motor Co. Knoxville                 50874.53
Serv. des USA de recherche Wyo               54497.19
Depart. des commun. - Bonn                   58944.97
     .
     .
     .</pre><div class="example" id="GUID-9783E643-10F4-49C8-98B3-2A4FDA1B98B8__BGBHEBGH">
                     <p class="titleinexample">Example 4-7 Joining a Cube and a Table</p><pre class="oac_no_warn" dir="ltr">SELECT cu.ship_to_dsc_french customer,
     f.sales sales
FROM time_calendar_view t,
     product_primary_view p,
     customer_dim cu,
     channel_primary_view ch,
     units_cube_view f
WHERE t.dim_key = 'CY2006'
    AND p.level_name = 'TOTAL'
    AND ch.level_name = 'TOTAL'
    AND t.dim_key = f.TIME
    AND p.dim_key = f.product
    AND cu.ship_to_id = f.customer
    AND ch.dim_key = f.channel
ORDER BY f.sales;</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="OLAUG9183"></a><div class="props_rev_3"><a id="GUID-C2359A2A-B7B6-4D31-BA84-2A5AB543C678" name="GUID-C2359A2A-B7B6-4D31-BA84-2A5AB543C678"></a><h3 id="OLAUG-GUID-C2359A2A-B7B6-4D31-BA84-2A5AB543C678" class="sect3"><span class="enumeration_section">4.7 </span>Viewing Execution Plans
               </h3>
               <div>
                  <p><a id="d12486e2210" class="indexterm-anchor"></a>You can generate and view execution plans for queries against cubes and dimensions the same as for those against relational tables.
                  </p>
                  <p>The SQL <a id="d12486e2215" class="indexterm-anchor"></a><code class="codeph">EXPLAIN PLAN</code> command creates a table with the content of the explain plan. The default table name is <code class="codeph">PLAN_TABLE</code>.
                  </p>
                  <div class="infoboxnotealso" id="GUID-C2359A2A-B7B6-4D31-BA84-2A5AB543C678__GUID-111FAFAD-D2D0-45CC-96F8-BFE4EC858645">
                     <p class="notep1">See Also:</p>
                     <p><a href="../tgsql/index.html" target="_blank"><span class="italic">Oracle Database SQL Tuning Guide</span></a> for a complete discussion of execution plans
                     </p>
                  </div>
               </div><a id="OLAUG9476"></a><a id="OLAUG9563"></a><a id="OLAUG9184"></a><div class="props_rev_3"><a id="GUID-D6D8310D-8FC9-4507-9C6B-66C8131E7EAD" name="GUID-D6D8310D-8FC9-4507-9C6B-66C8131E7EAD"></a><h4 id="OLAUG-GUID-D6D8310D-8FC9-4507-9C6B-66C8131E7EAD" class="sect4"><span class="enumeration_section">4.7.1 </span>Generating Execution Plans
                  </h4>
                  <div>
                     <p>The following command creates an execution plan for a basic query on a cube: </p><pre class="oac_no_warn" dir="ltr">EXPLAIN PLAN FOR
  SELECT t.long_description time,
     p.long_description product,
     cu.long_description customer,
     ch.long_description channel,
     f.sales sales
  FROM time_calendar_view t,
     product_primary_view p,
     customer_shipments_view cu,
     channel_primary_view ch,
     units_cube_view f
  WHERE t.level_name = 'CALENDAR_YEAR'
     AND p.level_name = 'TOTAL'
     AND cu.level_name = 'TOTAL'
     AND ch.level_name = 'TOTAL'
     AND t.dim_key = f.TIME
     AND p.dim_key = f.product
     AND cu.dim_key = f.customer
     AND ch.dim_key = f.channel
  ORDER BY t.end_date;
</pre><div class="example" id="GUID-D6D8310D-8FC9-4507-9C6B-66C8131E7EAD__BAJEJJDJ">
                        <p class="titleinexample">Example 4-8 Execution Plan for a Cube Query</p>
                        <p>The <code class="codeph">DISPLAY</code> table function of the <code class="codeph">DBMS_XPLAN</code> PL/SQL package formats and displays information from an execution plan, as shown in this example.
                        </p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT plan_table_output FROM TABLE(dbms_xplan.display());
 
PLAN_TABLE_OUTPUT
------------------------------------------------------------------------------------------
Plan hash value: 1667678335
 
----------------------------------------------------------------------------------------------
| Id  | Operation                       | Name       | Rows  | Bytes | Cost (%CPU)| Time     |
----------------------------------------------------------------------------------------------
|   0 | SELECT STATEMENT                |            |     1 |   100 |   104   (3)| 00:00:02 |
|   1 |  SORT ORDER BY                  |            |     1 |   100 |   104   (3)| 00:00:02 |
|   2 |   JOINED CUBE SCAN PARTIAL OUTER|            |       |       |            |          |
|   3 |    CUBE ACCESS                  | UNITS_CUBE |       |       |            |          |
|   4 |    CUBE ACCESS                  | CHANNEL    |       |       |            |          |
|   5 |    CUBE ACCESS                  | CUSTOMER   |       |       |            |          |
|   6 |    CUBE ACCESS                  | PRODUCT    |       |       |            |          |
|*  7 |    CUBE ACCESS                  | TIME       |     1 |   100 |   103   (2)| 00:00:02 |
----------------------------------------------------------------------------------------------
 
Predicate Information (identified by operation id):
---------------------------------------------------
 
   7 - filter(SYS_OP_ATG(VALUE(KOKBF$),12,13,2)='CALENDAR_YEAR' AND
              SYS_OP_ATG(VALUE(KOKBF$),43,44,2)='TOTAL' AND
              SYS_OP_ATG(VALUE(KOKBF$),33,34,2)='TOTAL' AND
              SYS_OP_ATG(VALUE(KOKBF$),23,24,2)='TOTAL')
 
22 rows selected.
</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-D6D8310D-8FC9-4507-9C6B-66C8131E7EAD__BGBBGIAE">
                        <p class="titleinexample">Example 4-9 Execution Plan for a Cube Join</p>
                        <p>This example shows an execution plan for a query that joins a cube and a table. See <span class="q">"<a href="querying-dimensional-objects.html#GUID-9783E643-10F4-49C8-98B3-2A4FDA1B98B8">Joining Cubes to Tables and Views</a>"</span> for the query.
                        </p><pre class="oac_no_warn" dir="ltr">PLAN_TABLE_OUTPUT
-------------------------------------------------------------------------------------------------
Plan hash value: 3634608218
-------------------------------------------------------------------------------------------------
| Id  | Operation                        |Name        |Rows | Bytes |TempSpc|Cost (%CPU)| Time    |
--------------------------------------------------------------------------------------------------
|   0 | SELECT STATEMENT                 |            |1464 |   128K|       | 1524  (94)| 00:00:19|
|   1 |  SORT ORDER BY                   |            |1464 |   128K|   152K| 1524  (94)| 00:00:19|
|*  2 |   CUBE JOIN                      |            |1464 |   128K|       | 1422 (100)| 00:00:18|
|   3 |    TABLE ACCESS FULL             |CUSTOMER_DIM|  61 |  2379 |       |    4   (0)| 00:00:01|
|   4 |    JOINED CUBE SCAN PARTIAL OUTER|            |     |       |       |           |         |
|   5 |     CUBE ACCESS                  |UNITS_CUBE  |     |       |       |           |         |
|   6 |     CUBE ACCESS                  |CHANNEL     |     |       |       |           |         |
|   7 |     CUBE ACCESS                  |PRODUCT     |     |       |       |           |         |
|*  8 |     CUBE ACCESS                  |TIME        |2520 |   125K|       | 1417 (100)| 00:00:18|
--------------------------------------------------------------------------------------------------

Predicate Information (identified by operation id):
---------------------------------------------------
   2 - access("CU"."SHIP_TO_ID"=SYS_OP_ATG(VALUE(KOKBF$),76,77,2))
   8 - filter(SYS_OP_ATG(VALUE(KOKBF$),32,33,2)='CY2006' AND
              SYS_OP_ATG(VALUE(KOKBF$),85,86,2)='TOTAL' AND 
              SYS_OP_ATG(VALUE(KOKBF$),65,66,2)='TOTAL')

22 rows selected.</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="OLAUG9477"></a><a id="OLAUG9185"></a><div class="props_rev_3"><a id="GUID-3F1F9973-3702-4545-953A-563A43BC2712" name="GUID-3F1F9973-3702-4545-953A-563A43BC2712"></a><h4 id="OLAUG-GUID-3F1F9973-3702-4545-953A-563A43BC2712" class="sect4"><span class="enumeration_section">4.7.2 </span>Types of Execution Plans
                  </h4>
                  <div>
                     <div class="section">
                        <p><a href="querying-dimensional-objects.html#GUID-3F1F9973-3702-4545-953A-563A43BC2712__BAJEJAFJ" title="Execution Plans">Table 4-1</a> describes the types of execution plans for cubes.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-3F1F9973-3702-4545-953A-563A43BC2712__BAJEJAFJ">
                        <p class="titleintable">Table 4-1 Descriptions of Execution Plans for Cubes and Dimensions</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Descriptions of Execution Plans for Cubes and Dimensions" summary="Execution Plans" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="14%" id="d12486e2378">Operation</th>
                                 <th align="left" valign="bottom" width="20%" id="d12486e2381">Option</th>
                                 <th align="left" valign="bottom" width="66%" id="d12486e2384">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="14%" id="d12486e2389" headers="d12486e2378 ">
                                    <p><code class="codeph">CUBE JOIN</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d12486e2389 d12486e2381 ">
                                    <p>--</p>
                                 </td>
                                 <td align="left" valign="top" width="66%" headers="d12486e2389 d12486e2384 ">
                                    <p>Joins a table or view on the left and a cube on the right.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="14%" id="d12486e2400" headers="d12486e2378 ">
                                    <p><code class="codeph">CUBE JOIN</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d12486e2400 d12486e2381 ">
                                    <p><code class="codeph">ANTI</code></p>
                                 </td>
                                 <td align="left" valign="top" width="66%" headers="d12486e2400 d12486e2384 ">
                                    <p>Uses an antijoin for a table or view on the left and a cube on the right.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="14%" id="d12486e2412" headers="d12486e2378 ">
                                    <p><code class="codeph">CUBE JOIN</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d12486e2412 d12486e2381 ">
                                    <p><code class="codeph">ANTI SNA</code></p>
                                 </td>
                                 <td align="left" valign="top" width="66%" headers="d12486e2412 d12486e2384 ">
                                    <p>Uses an antijoin (Single-sided Null Aware) for a table or view on the left and a cube on the right. The join column on the right (cube side) is <code class="codeph">NOT NULL</code>. For example:
                                    </p><pre class="oac_no_warn" dir="ltr">SELECT cols FROM table 
   WHERE table.c1 NOT IN 
      (SELECT col FROM cube 
         WHERE cube.col IS NOT NULL)</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="14%" id="d12486e2429" headers="d12486e2378 ">
                                    <p><code class="codeph">CUBE JOIN</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d12486e2429 d12486e2381 ">
                                    <p><code class="codeph">OUTER</code></p>
                                 </td>
                                 <td align="left" valign="top" width="66%" headers="d12486e2429 d12486e2384 ">
                                    <p>Uses an outer join for a table or view on the left and a cube on the right.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="14%" id="d12486e2441" headers="d12486e2378 ">
                                    <p><code class="codeph">CUBE JOIN</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d12486e2441 d12486e2381 ">
                                    <p><code class="codeph">RIGHT SEMI</code></p>
                                 </td>
                                 <td align="left" valign="top" width="66%" headers="d12486e2441 d12486e2384 ">
                                    <p>Uses a right semijoin for a table or view on the left and a cube on the right.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="14%" id="d12486e2453" headers="d12486e2378 ">
                                    <p><code class="codeph">CUBE SCAN</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d12486e2453 d12486e2381 ">
                                    <p>--</p>
                                 </td>
                                 <td align="left" valign="top" width="66%" headers="d12486e2453 d12486e2384 ">
                                    <p><a id="d12486e2462" class="indexterm-anchor"></a>Uses inner joins for all cube access.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="14%" id="d12486e2466" headers="d12486e2378 ">
                                    <p><code class="codeph">CUBE SCAN</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d12486e2466 d12486e2381 ">
                                    <p><code class="codeph">PARTIAL OUTER</code></p>
                                 </td>
                                 <td align="left" valign="top" width="66%" headers="d12486e2466 d12486e2384 ">
                                    <p>Uses an outer join for least one dimension, and inner joins for the other dimensions.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="14%" id="d12486e2478" headers="d12486e2378 ">
                                    <p><code class="codeph">CUBE SCAN</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d12486e2478 d12486e2381 ">
                                    <p><code class="codeph">OUTER</code></p>
                                 </td>
                                 <td align="left" valign="top" width="66%" headers="d12486e2478 d12486e2384 ">
                                    <p>Uses outer joins for all cube access.</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-3F1F9973-3702-4545-953A-563A43BC2712__GUID-37D8EA75-A7AD-4981-BDC2-E63691628F33">
                           <p class="notep1">See Also:</p>
                           <p><a href="../sqlrf/Joins.html#SQLRF30046" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for descriptions of these join types.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="OLAUG9478"></a><a id="OLAUG9186"></a><div class="props_rev_3"><a id="GUID-CFEEC0B0-E039-4147-8CC9-EA8CA1FC5288" name="GUID-CFEEC0B0-E039-4147-8CC9-EA8CA1FC5288"></a><h3 id="OLAUG-GUID-CFEEC0B0-E039-4147-8CC9-EA8CA1FC5288" class="sect3"><span class="enumeration_section">4.8 </span>Querying the Data Dictionary
               </h3>
               <div>
                  <div class="section">
                     <p>If you are developing a generic application -- that is, one where the names of the dimensional objects are not known -- then your application can retrieve this information from the data dictionary.</p>
                     <p><a id="d12486e2551" class="indexterm-anchor"></a><a id="d12486e2553" class="indexterm-anchor"></a>Among the static views of the database data dictionary are those that provide information about dimensional objects. All OLAP metadata is stored in the data dictionary. A few of the data dictionary views were introduced previously in this chapter.
                     </p>
                     <p><a href="querying-dimensional-objects.html#GUID-CFEEC0B0-E039-4147-8CC9-EA8CA1FC5288__CBAHIDHG" title="Descriptions of static data dictionary views for OLAP">Table 4-2</a> provides brief descriptions of the <code class="codeph">ALL</code> views. There are corresponding <code class="codeph">DBA</code> and <code class="codeph">USER</code> views.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-CFEEC0B0-E039-4147-8CC9-EA8CA1FC5288__CBAHIDHG">
                     <p class="titleintable">Table 4-2 Static Data Dictionary Views for OLAP</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Static Data Dictionary Views for OLAP" summary="Descriptions of static data dictionary views for OLAP" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="41%" id="d12486e2581">View</th>
                              <th align="left" valign="bottom" width="59%" id="d12486e2584">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d12486e2589" headers="d12486e2581 ">
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/olaug&amp;id=REFRN20691" target="_blank"><code class="codeph">ALL_CUBE_ATTR_VISIBILITY</code></a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d12486e2589 d12486e2584 ">
                                 <p>Describes the visibility of the attributes for cube dimensions.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d12486e2599" headers="d12486e2581 ">
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/olaug&amp;id=REFRN20671" target="_blank"><code class="codeph">ALL_CUBE_ATTRIBUTES</code></a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d12486e2599 d12486e2584 ">
                                 <p>Describes the attributes for cube dimensions.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d12486e2609" headers="d12486e2581 ">
                                 <p><a href="../refrn/ALL_CUBE_BUILD_PROCESSES.html#REFRN20718" target="_blank"><code class="codeph">ALL_CUBE_BUILD_PROCESSES</code></a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d12486e2609 d12486e2584 ">
                                 <p>Describes the cube build processes and maintenance scripts.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d12486e2619" headers="d12486e2581 ">
                                 <p><a href="../refrn/ALL_CUBE_CALCULATED_MEMBERS.html#REFRN20672" target="_blank"><code class="codeph">ALL_CUBE_CALCULATED_MEMBERS</code></a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d12486e2619 d12486e2584 ">
                                 <p>Describes the calculated members (keys) for cube dimensions.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d12486e2629" headers="d12486e2581 ">
                                 <p><a href="../refrn/ALL_CUBE_DIM_LEVELS.html#REFRN20677" target="_blank"><code class="codeph">ALL_CUBE_DIM_LEVELS</code></a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d12486e2629 d12486e2584 ">
                                 <p>Describes the cube dimension levels.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d12486e2639" headers="d12486e2581 ">
                                 <p><a href="../refrn/ALL_CUBE_DIM_MODELS.html#REFRN20678" target="_blank"><code class="codeph">ALL_CUBE_DIM_MODELS</code></a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d12486e2639 d12486e2584 ">
                                 <p>Describes the models for cube dimensions.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d12486e2649" headers="d12486e2581 ">
                                 <p><a href="../refrn/ALL_CUBE_DIM_VIEW_COLUMNS.html#REFRN20680" target="_blank"><code class="codeph">ALL_CUBE_DIM_VIEW_COLUMNS</code></a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d12486e2649 d12486e2584 ">
                                 <p>Describes the columns of the system-generated relational views of cube dimensions.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d12486e2659" headers="d12486e2581 ">
                                 <p><a href="../refrn/ALL_CUBE_DIM_VIEWS.html#REFRN20679" target="_blank"><code class="codeph">ALL_CUBE_DIM_VIEWS</code></a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d12486e2659 d12486e2584 ">
                                 <p>Describes the system-generated relational views of OLAP dimensions.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d12486e2669" headers="d12486e2581 ">
                                 <p><a href="../refrn/ALL_CUBE_DIMENSIONALITY.html#REFRN20674" target="_blank"><code class="codeph">ALL_CUBE_DIMENSIONALITY</code></a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d12486e2669 d12486e2584 ">
                                 <p>Describes the dimension order of the OLAP cubes.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d12486e2679" headers="d12486e2581 ">
                                 <p><a href="../refrn/ALL_CUBE_DIMENSIONS.html#REFRN20690" target="_blank"><code class="codeph">ALL_CUBE_DIMENSIONS</code></a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d12486e2679 d12486e2584 ">
                                 <p>Describes the cube dimensions.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d12486e2689" headers="d12486e2581 ">
                                 <p><a href="../refrn/ALL_CUBE_HIER_LEVELS.html#REFRN20685" target="_blank"><code class="codeph">ALL_CUBE_HIER_LEVELS</code></a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d12486e2689 d12486e2584 ">
                                 <p>Describes the hierarchy levels for cube dimensions.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d12486e2700" headers="d12486e2581 ">
                                 <p><a href="../refrn/ALL_CUBE_HIER_VIEW_COLUMNS.html#REFRN20687" target="_blank"><code class="codeph">ALL_CUBE_HIER_VIEW_COLUMNS</code></a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d12486e2700 d12486e2584 ">
                                 <p>Describes the columns of relational hierarchy views of cube dimensions.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d12486e2710" headers="d12486e2581 ">
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/olaug&amp;id=REFRN20686" target="_blank"><code class="codeph">ALL_CUBE_HIER_VIEWS</code></a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d12486e2710 d12486e2584 ">
                                 <p>Describes the hierarchies for cube dimensions.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d12486e2720" headers="d12486e2581 ">
                                 <p><a href="../refrn/ALL_CUBE_HIERARCHIES.html#REFRN20684" target="_blank"><code class="codeph">ALL_CUBE_HIERARCHIES</code></a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d12486e2720 d12486e2584 ">
                                 <p>Describes the OLAP dimension hierarchies.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d12486e2730" headers="d12486e2581 ">
                                 <p><a href="../refrn/ALL_CUBE_MEASURES.html#REFRN20688" target="_blank"><code class="codeph">ALL_CUBE_MEASURES</code></a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d12486e2730 d12486e2584 ">
                                 <p>Describes the measures in the OLAP cubes.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d12486e2740" headers="d12486e2581 ">
                                 <p><a href="../refrn/ALL_CUBE_VIEW_COLUMNS.html#REFRN20676" target="_blank"><code class="codeph">ALL_CUBE_VIEW_COLUMNS</code></a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d12486e2740 d12486e2584 ">
                                 <p>Describes the columns of the relational views of OLAP cubes.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d12486e2750" headers="d12486e2581 ">
                                 <p><a href="../refrn/ALL_CUBE_VIEWS.html#REFRN20675" target="_blank"><code class="codeph">ALL_CUBE_VIEWS</code></a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d12486e2750 d12486e2584 ">
                                 <p>Describes the system-generated relational views of OLAP cubes.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d12486e2760" headers="d12486e2581 ">
                                 <p><a href="../refrn/ALL_CUBES.html#REFRN20673" target="_blank"><code class="codeph">ALL_CUBES</code></a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d12486e2760 d12486e2584 ">
                                 <p>Describes the OLAP cubes.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d12486e2770" headers="d12486e2581 ">
                                 <p><a href="../refrn/ALL_MEASURE_FOLDER_CONTENTS.html#REFRN20716" target="_blank"><code class="codeph">ALL_MEASURE_FOLDER_CONTENTS</code></a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d12486e2770 d12486e2584 ">
                                 <p>Describes the contents of OLAP measure folders.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d12486e2780" headers="d12486e2581 ">
                                 <p><a href="../refrn/ALL_MEASURE_FOLDERS.html#REFRN20689" target="_blank"><code class="codeph">ALL_MEASURE_FOLDERS</code></a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d12486e2780 d12486e2584 ">
                                 <p>Describes the OLAP measure folders.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-CFEEC0B0-E039-4147-8CC9-EA8CA1FC5288__GUID-31122669-3148-46AB-A7D1-F0D9C007C4BD">
                        <p class="notep1">See Also:</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/olaug&amp;id=REFRN20691" target="_blank"><span class="italic">Oracle Database Reference</span></a> for full descriptions of data dictionary views.
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='00889.configuring-appc-gateway-sna.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Configuring the Gateway Using SNA Communication Protocol</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Installation and Configuration Guide">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Installation and Configuration Guide for IBM AIX on POWER Systems (64-Bit), Linux x86-64, Oracle Solaris on SPARC (64-Bit), and HP-UX Itanium">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-gateway-appc-installation-and-configuration-guide-aix-5l-based-systems-64-bit-hp-ux-itanium-solaris-operating-system-sparc-64-bit-linux-x86-and-linux-x86-64.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-04-16T19:10:33-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2002, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="F18241-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="appc-gateway-config-sna-solaris.html" title="Previous" type="text/html">
      <link rel="next" href="appc-gateway-config-oltp.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Gateway for APPC Installation and Configuration Guide for AIX 5L Based Systems (64-Bit), HP-UX Itanium, Solaris Operating System (SPARC 64-Bit), Linux x86, and Linux x86-64">
    <meta name="dcterms.isVersionOf" content="APPCI">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="appc-gateway-config-sna-solaris.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="appc-gateway-config-oltp.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Installation and Configuration Guide</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Configuring the Gateway Using SNA Communication Protocol </li>
            </ol>
            <a id="GUID-945BBB21-1C48-41FE-A909-D22B9874EBE3" name="GUID-945BBB21-1C48-41FE-A909-D22B9874EBE3"></a><a id="APPCI216"></a>
            
            <h2 id="APPCI-GUID-945BBB21-1C48-41FE-A909-D22B9874EBE3" class="sect2"><span class="enumeration_chapter">9 </span>Configuring the Gateway Using SNA Communication Protocol 
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The following topics describe how to configure the Oracle database for a gateway using the SNA protocol on your UNIX based platform. It also shows you how to configure commit-confirm, should you choose to implement it.</p>
               <p>The topics provide the steps necessary to verify installation and configuration of the gateway components, including optional commit-confirm.</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="configuring-appc-gateway-sna.html#GUID-6DED1EB3-BEE6-491E-AD74-CBFFE656883C">Before You Begin</a></p>
                  </li>
                  <li>
                     <p><a href="configuring-appc-gateway-sna.html#GUID-DB5EF405-1993-4D5A-AB38-834B75C9E31E">Preparing to Configure a Gateway Installation/Upgrade</a></p>
                  </li>
                  <li>
                     <p><a href="configuring-appc-gateway-sna.html#GUID-C60EA44C-85E5-45FD-8B22-CDE441C0B82D">Oracle Database Configuration: First-Time Gateway Installations</a></p>
                  </li>
                  <li>
                     <p><a href="configuring-appc-gateway-sna.html#GUID-48D53BAD-4F1D-4789-842A-00FAE311B565">Upgrading or Migrating the Oracle Database from Previous Gateways</a></p>
                  </li>
                  <li>
                     <p><a href="configuring-appc-gateway-sna.html#GUID-0323371A-CA16-4CC7-9055-3D136A8314A0">Configuring the Oracle Database for Gateways to Coexist</a></p>
                  </li>
                  <li>
                     <p><a href="configuring-appc-gateway-sna.html#GUID-0DE22027-F985-4E80-982C-F5521271D288">Optional Configuration Steps to Permit Multiple Users</a></p>
                  </li>
                  <li>
                     <p><a href="configuring-appc-gateway-sna.html#GUID-326E95E9-25DC-46E0-8D1F-63344DBB1CF4">Configuring the Gateway</a></p>
                  </li>
                  <li>
                     <p><a href="configuring-appc-gateway-sna.html#GUID-544B3014-8746-41E6-9132-12E473D38254">Configuring Commit-Confirm</a></p>
                  </li>
                  <li>
                     <p><a href="configuring-appc-gateway-sna.html#GUID-B0F01C9F-3BBB-4579-8B3D-ACCCE3CCED56">Verifying the Gateway Installation and OLTP Configuration</a></p>
                  </li>
                  <li>
                     <p><a href="configuring-appc-gateway-sna.html#GUID-835A25DB-1E5B-485C-9054-E920CC262570">Performing Postinstallation Procedures</a></p>
                  </li>
               </ul>
               <p><a id="d10176e84" class="indexterm-anchor"></a><a id="d10176e88" class="indexterm-anchor"></a><a id="d10176e92" class="indexterm-anchor"></a>Configuring the Oracle Database Gateway for APPC using SNA involves working with the following components:
               </p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p>Oracle database</p>
                  </li>
                  <li>
                     <p>UNIX system</p>
                  </li>
                  <li>
                     <p>Network</p>
                  </li>
                  <li>
                     <p>OLTP</p>
                  </li>
               </ul>
            </div><a id="APPCI217"></a><div class="props_rev_3"><a id="GUID-6DED1EB3-BEE6-491E-AD74-CBFFE656883C" name="GUID-6DED1EB3-BEE6-491E-AD74-CBFFE656883C"></a><h3 id="APPCI-GUID-6DED1EB3-BEE6-491E-AD74-CBFFE656883C" class="sect3">Before You Begin</h3>
               <div>
                  <p>Gateway configuration using SNA communication protocol requires you to input parameters unique to your system to properly configure the gateway and SNA communications interface. </p>
                  <p>Refer to <a href="appc-gateway-configuration-worksheet.html#GUID-2660834A-3E7D-4288-BDAA-AC38EC4D6230"> Configuration Worksheet</a> for a worksheet listing the installation parameters that you need to know before you can complete the configuration process. Ask your network administrator to provide you with these unique parameter names before you begin.
                  </p>
               </div>
            </div><a id="APPCI362"></a><a id="APPCI363"></a><a id="APPCI364"></a><a id="APPCI218"></a><div class="props_rev_3"><a id="GUID-DB5EF405-1993-4D5A-AB38-834B75C9E31E" name="GUID-DB5EF405-1993-4D5A-AB38-834B75C9E31E"></a><h3 id="APPCI-GUID-DB5EF405-1993-4D5A-AB38-834B75C9E31E" class="sect3">Preparing to Configure a Gateway Installation/Upgrade</h3>
               <div>
                  <div class="section">
                     <p>There are three ways to establish the gateway-Oracle database relationship when you are installing or upgrading or migrating the gateway:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="configuring-appc-gateway-sna.html#GUID-DB5EF405-1993-4D5A-AB38-834B75C9E31E__I1012371">When Oracle Database and the Gateway Are Installed in the Same ORACLE_HOME</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-appc-gateway-sna.html#GUID-DB5EF405-1993-4D5A-AB38-834B75C9E31E__I1012376">When Oracle Database and the Gateway Are Installed on Separate Systems</a></p>
                        </li>
                        <li>
                           <p><a href="configuring-appc-gateway-sna.html#GUID-DB5EF405-1993-4D5A-AB38-834B75C9E31E__I1012381">When Oracle Database and the Gateway Are on the Same System but in Different Directories</a></p>
                        </li>
                     </ul>
                     <p><a id="d10176e202" class="indexterm-anchor"></a><a id="d10176e206" class="indexterm-anchor"></a><a id="d10176e210" class="indexterm-anchor"></a>Depending on the location of the gateway and the Oracle database, you might need to transfer some of the gateway administrative files to the location where Oracle database is installed.
                     </p>
                     <p>Follow the instructions corresponding to your combination of the gateway-Oracle database locations listed below.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-DB5EF405-1993-4D5A-AB38-834B75C9E31E__I1012371">
                     <p class="subhead2" id="GUID-DB5EF405-1993-4D5A-AB38-834B75C9E31E__GUID-FCFA7BC4-8110-4426-8F6B-B68806B1AD47">When Oracle Database and the Gateway Are Installed in the Same ORACLE_HOME</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>You do not need to transfer files. Proceed to <a href="configuring-appc-gateway-sna.html#GUID-C60EA44C-85E5-45FD-8B22-CDE441C0B82D">Oracle Database Configuration: First-Time Gateway Installations</a>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-DB5EF405-1993-4D5A-AB38-834B75C9E31E__I1012376">
                     <p class="subhead2" id="GUID-DB5EF405-1993-4D5A-AB38-834B75C9E31E__GUID-9BBDC1F1-7E57-4094-89D6-19D1388A2D7A">When Oracle Database and the Gateway Are Installed on Separate Systems</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>You need to perform the following tasks if Oracle database and the gateway are installed on separate systems:</p>
                     <ol>
                        <li>
                           <p>Locate the gateway administrative files in the gateway <code class="codeph"> $ORACLE_HOME/dg4appc/admin</code> directory. All files in this directory that have the <code class="codeph">.sql</code>, <code class="codeph">.pkh</code>,<span class="bold"> </span>or <code class="codeph">.pkb</code> suffixes must be copied into a similarly-named directory in the Oracle database Oracle home directory.
                           </p>
                        </li>
                        <li>
                           <p>Now locate the gateway demo files and subdirectories in the  <code class="codeph">$ORACLE_HOME/dg4appc/demo</code> directory of the gateway. Copy the <code class="codeph">pgavsn.sql</code> and <code class="codeph">pgaecho.sql</code> files into a similarly named directory in Oracle database.
                           </p>
                        </li>
                        <li>
                           <p>Copy the other subdirectories and files related to your installed OLTP on your remote host. For example, if you have CICS as your only OLTP, then copy the  <code class="codeph">$ORACLE_HOME/dg4appc/demo/CICS</code> gateway files into a similarly named directory in the Oracle database.
                           </p>
                           <div class="infoboxnote" id="GUID-DB5EF405-1993-4D5A-AB38-834B75C9E31E__GUID-30E48FE2-2823-4878-A651-CF1F0549A06C">
                              <p class="notep1">Note:</p>
                              <p>Before transferring the files from the  <code class="codeph">$ORACLE_HOME/dg4appc/demo</code> directory, ensure that you have generated your required TIPs. You need to transfer the TIPs as well.
                              </p>
                              <p>Refer to the <a href="../appug/pga-utility-oracle-database-gateway-appc.html#APPUG200" target="_blank"><span class="italic">Oracle Database Gateway for APPC User's Guide</span></a> for information about generating TIPs using Procedural Gateway Administrative Utility (PGAU).
                              </p>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-DB5EF405-1993-4D5A-AB38-834B75C9E31E__I1012381">
                     <p class="subhead2" id="GUID-DB5EF405-1993-4D5A-AB38-834B75C9E31E__GUID-0D156646-C9FA-4219-B334-48A06AF6ED00">When Oracle Database and the Gateway Are on the Same System but in Different Directories</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>You must change your gateway Oracle home to the Oracle home directory of Oracle database.</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>For example, if your gateway Oracle home is set as follows:</span><div><pre class="oac_no_warn" dir="ltr">$ echo $ORACLE_HOME
/oracle/pga/12.2
</pre><p>and your server Oracle home is located in the <code class="codeph">/oracle/pga/12.2</code> directory, then you need to do the following:
                           </p><pre class="oac_no_warn" dir="ltr">$ ORACLE_HOME=/oracle/pga/12.2; export ORACLE_HOME
</pre></div>
                     </li>
                     <li class="stepexpand"><span>Now create the directories with the following commands:<a id="d10176e311" class="indexterm-anchor"></a></span><div><pre class="oac_no_warn" dir="ltr">$ cd $ORACLE_HOME
$ mkdir dg4appc
$ mkdir dg4appc/admin
</pre></div>
                     </li>
                     <li class="stepexpand"><span>Use whatever file transfer mechanism is available on your system to copy all of the <code class="codeph">.sql</code>, <code class="codeph">.pkh</code>, and <code class="codeph">.pkb</code> files from the gateway Oracle home <code class="codeph"> $ORACLE_HOME/dg4appc/admin</code> directory to the Oracle database Oracle home <code class="codeph">$ORACLE_HOME/dg4appc/admin</code> directory.</span></li>
                     <li class="stepexpand"><span>You might also transfer the demo files from the gateway directory to the Oracle database directory. Copy the files and directory recursively from the gateway Oracle home <code class="codeph">$ORACLE_HOME/dg4appc/demo</code> directory to the Oracle database <code class="codeph">$ORACLE_HOME/dg4appc/demo</code> directory. </span><div>
                           <p>For example:</p><pre class="oac_no_warn" dir="ltr">$ cp -p -R /oracle/pga/12.2/dg4appc/demo $ORACLE_HOME/dg4appc</pre><div class="infoboxnote" id="GUID-DB5EF405-1993-4D5A-AB38-834B75C9E31E__GUID-C1EBFCEB-5D4C-4C35-B35F-5C30A4BCC110">
                              <p class="notep1">Note:</p>
                              <p>Before transferring the files from the  <code class="codeph">$ORACLE_HOME/dg4appc/demo</code> directory, ensure that you have generated your required TIPs. You need to transfer the TIPs as well.
                              </p>
                              <p>Refer to the <a href="../appug/pga-utility-oracle-database-gateway-appc.html#APPUG200" target="_blank"><span class="italic">Oracle Database Gateway for APPC User's Guide </span></a> for information about generating TIPs using PGAU.
                              </p>
                           </div>
                        </div>
                     </li>
                  </ol>
                  <div class="section">
                     <p>If this is a first-time installation, proceed with <a href="configuring-appc-gateway-sna.html#GUID-C60EA44C-85E5-45FD-8B22-CDE441C0B82D">Oracle Database Configuration: First-Time Gateway Installations</a>.
                     </p>
                     <p>If this is an upgrade, proceed with <a href="configuring-appc-gateway-sna.html#GUID-48D53BAD-4F1D-4789-842A-00FAE311B565">Upgrading or Migrating the Oracle Database from Previous Gateways</a>. 
                     </p>
                     <p>Following those steps, you might want to perform the <a href="configuring-appc-gateway-sna.html#GUID-0DE22027-F985-4E80-982C-F5521271D288">Optional Configuration Steps to Permit Multiple Users</a>.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="APPCI219"></a><div class="props_rev_3"><a id="GUID-C60EA44C-85E5-45FD-8B22-CDE441C0B82D" name="GUID-C60EA44C-85E5-45FD-8B22-CDE441C0B82D"></a><h3 id="APPCI-GUID-C60EA44C-85E5-45FD-8B22-CDE441C0B82D" class="sect3">Oracle Database Configuration: First-Time Gateway Installations</h3>
               <div>
                  <div class="section">
                     <p>Follow these steps to configure your <a id="d10176e417" class="indexterm-anchor"></a>Oracle database if you have installed Oracle Database Gateway for APPC for the first time:
                     </p>
                     <ol>
                        <li>
                           <p>Ensure that the <a id="d10176e428" class="indexterm-anchor"></a><a id="d10176e430" class="indexterm-anchor"></a><a id="d10176e434" class="indexterm-anchor"></a><code class="codeph">UTL_RAW</code> PL/SQL package has been installed on your Oracle database. <a id="d10176e443" class="indexterm-anchor"></a><a id="d10176e449" class="indexterm-anchor"></a>All PGAU-generated TIP specifications use <code class="codeph">UTL_RAW</code>, which provides routines for manipulating raw data.
                           </p>
                           <ol type="a">
                              <li>
                                 <p>Use <a id="d10176e461" class="indexterm-anchor"></a>SQL*Plus to connect to the Oracle database as the <code class="codeph">SYS</code> user.
                                 </p>
                              </li>
                              <li>
                                 <p>From SQL*Plus, enter the following command:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; DESCRIBE UTL_RAW
</pre><p>The <code class="codeph">DESCRIBE</code> statement produces output on your screen. If you browse through the output, you should see some functions, including a compare function. If you do not see this output, then continue the <code class="codeph">UTL_RAW</code> installation by performing Step <a href="configuring-appc-gateway-sna.html#GUID-C60EA44C-85E5-45FD-8B22-CDE441C0B82D__I1009705">1.d</a> below. 
                                 </p>
                                 <p>If the <a id="d10176e487" class="indexterm-anchor"></a><a id="d10176e491" class="indexterm-anchor"></a><code class="codeph">DESCRIBE</code> statement indicates success, then your Oracle database has <a id="d10176e496" class="indexterm-anchor"></a><code class="codeph">UTL_RAW</code> installed and you can proceed to Step <a href="configuring-appc-gateway-sna.html#GUID-C60EA44C-85E5-45FD-8B22-CDE441C0B82D__I1009709">2</a>.
                                 </p>
                              </li>
                              <li>
                                 <p>Use <a id="d10176e507" class="indexterm-anchor"></a>SQL*Plus to connect to the Oracle database as the SYS user.
                                 </p>
                              </li>
                              <li id="GUID-C60EA44C-85E5-45FD-8B22-CDE441C0B82D__I1009705">
                                 <p>From SQL*Plus, run the <a id="d10176e515" class="indexterm-anchor"></a><a id="d10176e519" class="indexterm-anchor"></a><code class="codeph">utlraw.sql</code> and <a id="d10176e526" class="indexterm-anchor"></a><a id="d10176e528" class="indexterm-anchor"></a><code class="codeph">prvtrawb.plb</code> scripts in the Oracle database <code class="codeph">$ORACLE_HOME/rdbms/admin</code> directory, in the following order:
                                 </p><pre class="oac_no_warn" dir="ltr">SQL&gt; @$ORACLE_HOME/rdbms/admin/utlraw.sql
SQL&gt; @$ORACLE_HOME/rdbms/admin/prvtrawb.plb
</pre></li>
                           </ol>
                        </li>
                        <li id="GUID-C60EA44C-85E5-45FD-8B22-CDE441C0B82D__I1009709">
                           <p>Ensure that the <a id="d10176e543" class="indexterm-anchor"></a><a id="d10176e545" class="indexterm-anchor"></a>DBMS_OUTPUT standard PL/SQL <a id="d10176e550" class="indexterm-anchor"></a><a id="d10176e552" class="indexterm-anchor"></a><a id="d10176e556" class="indexterm-anchor"></a>package is enabled on <a id="d10176e561" class="indexterm-anchor"></a>Oracle database. The sample programs and installation verification programs on the distribution media use this standard package.
                           </p>
                           <ol type="a">
                              <li>
                                 <p>If necessary, use SQL*Plus to connect to the Oracle database as the  <code class="codeph">SYS</code> user.
                                 </p>
                              </li>
                              <li>
                                 <p>From SQL*Plus, enter the following command:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; DESCRIBE DBMS_OUTPUT
</pre></li>
                           </ol>
                           <p>The <a id="d10176e580" class="indexterm-anchor"></a><a id="d10176e584" class="indexterm-anchor"></a><code class="codeph">DESCRIBE</code> statement produces output on your screen. If you browse through that output, you should see some functions, including a <a id="d10176e591" class="indexterm-anchor"></a><a id="d10176e593" class="indexterm-anchor"></a><code class="codeph">put_line</code> function.
                           </p>
                           <p>If you do not see this output, then you must create the <code class="codeph">DBMS_OUTPUT</code> package. Refer to the <a href="../arpls/DBMS_OUTPUT.html#ARPLS036" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information about the <code class="codeph">DBMS_OUTPUT</code> package. After successful installation of the <code class="codeph">DBMS_OUTPUT</code> package, issue the <code class="codeph">DESCRIBE</code> statement.
                           </p>
                           <p>If the <code class="codeph">DESCRIBE</code> statement indicates success, then your Oracle database has <code class="codeph">DBMS_OUTPUT</code> created, and you can proceed to Step&nbsp;3.
                           </p>
                        </li>
                        <li>
                           <p>Install the <a id="d10176e630" class="indexterm-anchor"></a><a id="d10176e634" class="indexterm-anchor"></a><code class="codeph">UTL_PG</code> PL/SQL package. All <a id="d10176e641" class="indexterm-anchor"></a><a id="d10176e647" class="indexterm-anchor"></a>PGAU-generated TIP specifications use <code class="codeph">UTL_PG</code>, which provides routines for performing numeric conversions to and from raw data.
                           </p>
                           <ol type="a">
                              <li>
                                 <p>If necessary, use SQL*Plus to connect to the Oracle database as the  <code class="codeph">SYS</code> user.
                                 </p>
                              </li>
                              <li>
                                 <p>From SQL*Plus, run the <a id="d10176e665" class="indexterm-anchor"></a><a id="d10176e669" class="indexterm-anchor"></a><code class="codeph">utlpg.sql</code> and <code class="codeph">prvtpgb.plb</code> scripts in the Oracle database <code class="codeph">$ORACLE_HOME/rdbms/admin</code> directory, in the following order:
                                 </p><pre class="oac_no_warn" dir="ltr">SQL&gt; @$ORACLE_HOME/rdbms/admin/utlpg.sql
SQL&gt; @$ORACLE_HOME/rdbms/admin/prvtpgb.plb
</pre></li>
                           </ol>
                        </li>
                        <li>
                           <p>I<a id="d10176e687" class="indexterm-anchor"></a>nstall the Heterogeneous Services (HS) catalogs.
                           </p>
                           <ol type="a">
                              <li>
                                 <p>If necessary, use SQL*Plus to connect to the Oracle database as the  <code class="codeph">SYS</code> user.
                                 </p>
                              </li>
                              <li>
                                 <p>Enter the following command:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; DESCRIBE HS_FDS_CLASS
</pre><p>The <code class="codeph">DESCRIBE</code> statement produces output on your screen. If the <code class="codeph">DESCRIBE</code> statement indicates success, then heterogeneous services catalogs have been created on your Oracle database and you can proceed to Step&nbsp;5, otherwise follow the next step only if the <code class="codeph">DESCRIBE</code> statement does not indicate success. Step c creates the Heterogeneous Services catalog.
                                 </p>
                              </li>
                              <li>
                                 <p>If it is necessary to create the Heterogeneous Services catalog, enter the following command:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; $ORACLE_HOME/rdbms/admin/caths.sql
</pre></li>
                           </ol>
                        </li>
                        <li id="GUID-C60EA44C-85E5-45FD-8B22-CDE441C0B82D__I1008586">
                           <p><a id="d10176e724" class="indexterm-anchor"></a><a id="d10176e728" class="indexterm-anchor"></a>Create a public database link to access Oracle Database Gateway for APPC:<a id="d10176e735" class="indexterm-anchor"></a> 
                           </p>
                           <p>Use <a id="d10176e742" class="indexterm-anchor"></a>SQL*Plus to connect to the <a id="d10176e747" class="indexterm-anchor"></a>Oracle database as the <code class="codeph">SYSTEM</code> user. You can use the following SQL*Plus<a id="d10176e753" class="indexterm-anchor"></a> sample whether the Oracle database and the gateway are on the same system or on different systems. In the following sample, <code class="codeph">pgasrv</code> is the <span class="italic"><code class="codeph">tns_name_entry</code></span> that will be assigned to the gateway when you modify the <code class="codeph">tnsnames.ora</code> file later.
                           </p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE PUBLIC DATABASE LINK PGA USING '<span class="italic">PGASRV</span>'
</pre></li>
                        <li>
                           <p>Create the gateway administrator user <a id="d10176e777" class="indexterm-anchor"></a><code class="codeph">PGAADMIN</code> and install the <a id="d10176e784" class="indexterm-anchor"></a>PG DD.
                           </p>
                           <ol type="a">
                              <li>
                                 <p>Use SQL*Plus to connect to the Oracle database as the <code class="codeph">SYSTEM</code> user.
                                 </p>
                              </li>
                              <li>
                                 <p>From SQL*Plus, run the <code class="codeph">pgacr8au.sql</code> <a id="d10176e802" class="indexterm-anchor"></a><a id="d10176e804" class="indexterm-anchor"></a>script in the <code class="codeph"> $ORACLE_HOME/dg4appc/admin</code> directory. This script creates the <code class="codeph">PGAADMIN</code> user&nbsp;ID.
                                 </p>
                                 <p>The initial password defined for <a id="d10176e818" class="indexterm-anchor"></a><code class="codeph">PGAADMIN</code> is <code class="codeph">PGAADMIN</code>. Use the <a id="d10176e828" class="indexterm-anchor"></a><a id="d10176e830" class="indexterm-anchor"></a><code class="codeph">ALTER USER</code> command to change the password. For more information about password issues, refer to the <a href="../sqlrf/ALTER-USER.html#SQLRF01103" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a>.
                                 </p><pre class="oac_no_warn" dir="ltr">SQL&gt; @$ORACLE_HOME/dg4appc/admin/pgacr8au.sql
</pre></li>
                              <li>
                                 <p>Use SQL*Plus to connect to the Oracle database as user <code class="codeph">PGAADMIN</code>.
                                 </p>
                              </li>
                              <li>
                                 <p>From SQL*Plus, run the <code class="codeph">pgddcr8.sql</code> <a id="d10176e856" class="indexterm-anchor"></a><a id="d10176e858" class="indexterm-anchor"></a><a id="d10176e862" class="indexterm-anchor"></a>script in the  <code class="codeph">$ORACLE_HOME/dg4appc/admin</code> directory. This script installs the PG&nbsp;DD.
                                 </p><pre class="oac_no_warn" dir="ltr">SQL&gt; @$ORACLE_HOME/dg4appc/admin/pgddcr8.sql
</pre></li>
                              <li>
                                 <p>From SQL*Plus, connect to the Oracle database as the <code class="codeph">SYS</code> user.
                                 </p>
                              </li>
                              <li>
                                 <p><a id="d10176e882" class="indexterm-anchor"></a>Grant execution privileges on <a id="d10176e887" class="indexterm-anchor"></a><code class="codeph">DBMS_PIPE</code> to <code class="codeph">PGAADMIN</code>:<a id="d10176e895" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">SQL&gt; GRANT EXECUTE ON DBMS_PIPE TO PGAADMIN
</pre></li>
                           </ol>
                        </li>
                        <li>
                           <p>Install the <a id="d10176e904" class="indexterm-anchor"></a><a id="d10176e908" class="indexterm-anchor"></a>TIP trace access PL/SQL routines. These routines require that the <a id="d10176e911" class="indexterm-anchor"></a>DBMS_PIPES standard PL/SQL package is installed and that <a id="d10176e914" class="indexterm-anchor"></a><code class="codeph">PGAADMIN</code> has execute privileges on it. For more information on <code class="codeph">DBMS_PIPES</code>, refer to the <a href="../arpls/index.html" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a>.
                           </p>
                           <ol type="a">
                              <li>
                                 <p>If necessary, use SQL*Plus to connect to the <a id="d10176e932" class="indexterm-anchor"></a>Oracle database as user <code class="codeph">PGAADMIN</code>.
                                 </p>
                              </li>
                              <li>
                                 <p>From SQL*Plus, run the <code class="codeph">pgatiptr.sql</code> script in the                                                          <code class="codeph">$ORACLE_HOME/dg4appc/admin</code> directory. This script creates<a id="d10176e947" class="indexterm-anchor"></a> PL/SQL routines that can be called to read and purge trace information created by PGAU-generated <a id="d10176e952" class="indexterm-anchor"></a>TIP specifications. It also creates public synonyms for these routines. The script prompts you for the necessary user&nbsp;IDs and passwords.
                                 </p><pre class="oac_no_warn" dir="ltr">SQL&gt; @$ORACLE_HOME/dg4appc/admin/pgatiptr.sql
</pre></li>
                           </ol>
                        </li>
                        <li>
                           <p>Install the <code class="codeph">GPGLOCAL</code> package. This package is required for compilation and execution of all PGAU-generated <a id="d10176e965" class="indexterm-anchor"></a>TIP specifications. <a id="d10176e970" class="indexterm-anchor"></a><a id="d10176e974" class="indexterm-anchor"></a><a id="d10176e978" class="indexterm-anchor"></a>TIP developers should be granted execute privileges on <a id="d10176e983" class="indexterm-anchor"></a><code class="codeph">GPGLOCAL</code> (refer to Step <a href="config-appc-gateway-using-tcp-ip.html#GUID-76463C17-3AFF-497B-AF47-38E3BD4A788A__I1012843">3</a>of <span class="q">"<a href="configuring-appc-gateway-sna.html#GUID-0DE22027-F985-4E80-982C-F5521271D288__I1012843">Optional Configuration Steps to Permit Multiple Users</a>"</span>).
                           </p>
                           <ol type="a">
                              <li>
                                 <p>Use SQL*Plus to connect to the Oracle database as user <a id="d10176e1001" class="indexterm-anchor"></a><code class="codeph">PGAADMIN</code>.
                                 </p>
                              </li>
                              <li>
                                 <p>From SQL*Plus, run the <code class="codeph">gpglocal.pkh</code> script in the  <code class="codeph">$ORACLE_HOME/dg4appc/admin</code> directory. This script compiles the <code class="codeph">GPGLOCAL</code> package specification.<a id="d10176e1020" class="indexterm-anchor"></a><a id="d10176e1022" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">SQL&gt; @$ORACLE_HOME/dg4appc/admin/gpglocal.pkh
</pre></li>
                              <li>
                                 <p>From SQL*Plus, run the <code class="codeph">gpglocal.pkb</code> script in the  <code class="codeph">$ORACLE_HOME/dg4appc/admin</code> directory. This script compiles the <code class="codeph">GPGLOCAL</code> package body.<a id="d10176e1042" class="indexterm-anchor"></a><a id="d10176e1044" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">SQL&gt; @$ORACLE_HOME/dg4appc/admin/gpglocal.pkb</pre></li>
                           </ol>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="APPCI220"></a><div class="props_rev_3"><a id="GUID-48D53BAD-4F1D-4789-842A-00FAE311B565" name="GUID-48D53BAD-4F1D-4789-842A-00FAE311B565"></a><h3 id="APPCI-GUID-48D53BAD-4F1D-4789-842A-00FAE311B565" class="sect3">Upgrading or Migrating the Oracle Database from Previous Gateways</h3>
               <div>
                  <div class="section">
                     <p>Follow these instructions only if you have a previous version of the Oracle Database Gateway for APPC installed on your system and need to configure it for 12<span class="italic">c</span> Release 2 (12.2) of the gateway.
                     </p>
                     <p>Upgrade your Oracle Database Gateway for APPC to current version levels as follows:</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>Use SQL*Plus to connect to the Oracle database as the <code class="codeph">SYS</code> user.</span></li>
                     <li class="stepexpand"><span>Install the <code class="codeph">UTL_RAW</code> package body. From SQL*Plus, run the <code class="codeph">prvtrawb.plb</code> <a id="d10176e1118" class="indexterm-anchor"></a><a id="d10176e1120" class="indexterm-anchor"></a>script from the <code class="codeph">$ORACLE_HOME/rdbms/admin</code> directory. This script upgrades the <code class="codeph">UTL_RAW</code> package body.</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; @$ORACLE_HOME/rdbms/admin/prvtrawb.plb
</pre></div>
                     </li>
                     <li class="stepexpand"><span>Install the <code class="codeph">UTL_PG</code> package body. From SQL*Plus, run the <code class="codeph">prvtpgb.plb</code> <a id="d10176e1143" class="indexterm-anchor"></a><a id="d10176e1147" class="indexterm-anchor"></a>script from the <code class="codeph">$ORACLE_HOME/rdbms/admin</code> directory.<a id="d10176e1155" class="indexterm-anchor"></a><a id="d10176e1160" class="indexterm-anchor"></a> This script upgrades the <code class="codeph">UTL_PG</code> package body.</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; @$ORACLE_HOME/rdbms/admin/prvtpgb.plb
</pre><p>The <code class="codeph">prvtrawb.plb</code> and <code class="codeph">prvtpgb.plb</code> scripts should complete successfully. If they fail because specifications do not exist or were invalidated, then consider reinstalling the package specifications as directed in the following section.
                           </p>
                        </div>
                     </li>
                  </ol>
               </div><a id="APPCI385"></a><a id="APPCI386"></a><a id="APPCI221"></a><div class="props_rev_3"><a id="GUID-51835C81-F475-4490-B9A7-4E872EC86D38" name="GUID-51835C81-F475-4490-B9A7-4E872EC86D38"></a><h4 id="APPCI-GUID-51835C81-F475-4490-B9A7-4E872EC86D38" class="sect4">If You Must Reinstall Package Specifications</h4>
                  <div>
                     <div class="section">
                        <p>If the <a id="d10176e1223" class="indexterm-anchor"></a><a id="d10176e1229" class="indexterm-anchor"></a><code class="codeph">UTL_RAW</code> or <a id="d10176e1238" class="indexterm-anchor"></a><a id="d10176e1244" class="indexterm-anchor"></a><code class="codeph">UTL_PG</code> package has been invalidated or deinstalled, the <code class="codeph">prvtrawb.plb</code> and <code class="codeph">prvtpgb.plb</code> scripts might not complete successfully and you might have to reinstall <a id="d10176e1260" class="indexterm-anchor"></a><a id="d10176e1264" class="indexterm-anchor"></a><a id="d10176e1268" class="indexterm-anchor"></a>the package specifications.
                        </p>
                        <p>If you do reinstall the package specifications, any dependent objects (such as existing user TIPs and client applications) are invalidated and will subsequently need <a id="d10176e1277" class="indexterm-anchor"></a>to be recompiled. The impact of this is a one-time performance delay while recompilation of the TIPs and dependent client applications proceeds.
                        </p>
                        <div class="infoboxnote" id="GUID-51835C81-F475-4490-B9A7-4E872EC86D38__GUID-B2627796-3BE1-48CA-834B-8B7D8996718A">
                           <p class="notep1">Note:</p>
                           <p>Before proceeding with reinstallation of the package scripts, make sure that you are in the  <code class="codeph">$ORACLE_HOME/dg4appc/admin</code> directory.
                           </p>
                        </div>
                        <p>TIPs were split into separate specification and body files in release&nbsp;3.3 to avoid cascaded recompilations in later releases.</p>
                        <dl>
                           <dt class="dlterm"><a name="GUID-51835C81-F475-4490-B9A7-4E872EC86D38__GUID-181B9164-5FC3-407E-A2E0-2020A68CD63E">
                                 <!-- --></a>Step 1&nbsp;&nbsp;&nbsp;Run the Following Scripts before Proceeding with the PGAU Upgrade
                           </dt>
                           <dd>
                              <p>From SQL*Plus, run the <code class="codeph">utlraw.sql</code> script:
                              </p>
                              <ol>
                                 <li>
                                    <p>If necessary, use SQL*Plus to connect to the Oracle database as the <code class="codeph">SYS</code> user.
                                    </p>
                                 </li>
                                 <li>
                                    <p>From SQL*Plus, run the <code class="codeph">utlraw.sql</code> and <code class="codeph">utlpg.sql</code> scripts in Oracle database <code class="codeph">$ORACLE_HOME/rdbms/admin</code> directory, in the following order, to upgrade their respective package specifications:<a id="d10176e1325" class="indexterm-anchor"></a><a id="d10176e1329" class="indexterm-anchor"></a><a id="d10176e1333" class="indexterm-anchor"></a><a id="d10176e1337" class="indexterm-anchor"></a> 
                                    </p><pre class="oac_no_warn" dir="ltr">SQL&gt; @$ORACLE_HOME/rdbms/admin/utlraw.sql
SQL&gt; @$ORACLE_HOME/rdbms/admin/utlpg.sql</pre></li>
                              </ol>
                           </dd>
                           <dt class="dlterm"><a name="GUID-51835C81-F475-4490-B9A7-4E872EC86D38__GUID-EFAADD91-92B4-4A3C-9846-64F37A6011AD">
                                 <!-- --></a>Step 2&nbsp;&nbsp;&nbsp;Repeat Installation of UTL_RAW and UTL_PG Package Body
                           </dt>
                           <dd>
                              <p>After the scripts have run, repeat Steps 2 and 3 in <a href="configuring-appc-gateway-sna.html#GUID-48D53BAD-4F1D-4789-842A-00FAE311B565">Upgrading or Migrating the Oracle Database from Previous Gateways</a>. Then proceed to the section titled <span class="q">"<a href="configuring-appc-gateway-sna.html#GUID-3100F0AE-E61D-485B-A37D-F5A023F6EF31">Upgrading PGAU From Previous Gateway Releases</a>"</span>.
                              </p>
                              <div class="infoboxnote" id="GUID-51835C81-F475-4490-B9A7-4E872EC86D38__GUID-8C266EC6-A473-4EE1-90CB-2A1B6E7416C2">
                                 <p class="notep1">Note:</p>
                                 <p>TIPs and dependent client applications must be recompiled after reinstallation of the package specifications. Refer to the "Compiling a TIP" section in Chapter&nbsp;3 of the <a href="../appug/creating-tip-oracle-database-gateway-appc.html#APPUG300" target="_blank"><span class="italic">Oracle Database Gateway for APPC User's Guide</span></a> for information about compiling TIPs.
                                 </p>
                              </div>
                           </dd>
                        </dl>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="APPCI222"></a><div class="props_rev_3"><a id="GUID-3100F0AE-E61D-485B-A37D-F5A023F6EF31" name="GUID-3100F0AE-E61D-485B-A37D-F5A023F6EF31"></a><h4 id="APPCI-GUID-3100F0AE-E61D-485B-A37D-F5A023F6EF31" class="sect4">Upgrading PGAU From Previous Gateway Releases</h4>
                  <div>
                     <div class="section">
                        <p>Upgrade the <a id="d10176e1400" class="indexterm-anchor"></a>PG DD as follows before executing the new PGAU:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>If necessary, use SQL*Plus to connect to the Oracle database as user <code class="codeph">PGAADMIN</code>.</span></li>
                        <li><span>From SQL*Plus, run the <code class="codeph">pgddupgr.sql</code> <a id="d10176e1418" class="indexterm-anchor"></a><a id="d10176e1420" class="indexterm-anchor"></a>script in the  <code class="codeph">$ORACLE_HOME/dg4appc/admin</code> directory. This script upgrades the PG&nbsp;DD. </span></li>
                     </ol>
                  </div>
               </div>
            </div><a id="APPCI223"></a><div class="props_rev_3"><a id="GUID-0323371A-CA16-4CC7-9055-3D136A8314A0" name="GUID-0323371A-CA16-4CC7-9055-3D136A8314A0"></a><h3 id="APPCI-GUID-0323371A-CA16-4CC7-9055-3D136A8314A0" class="sect3">Configuring the Oracle Database for Gateways to Coexist</h3>
               <div>
                  <div class="section">
                     <p><a id="d10176e1462" class="indexterm-anchor"></a>You might have an older version of the gateway already installed. Be aware that although a version&nbsp;10 gateway can communicate with a version&nbsp;9 data dictionary (PGDD), a version&nbsp;9 gateway cannot communicate with a version&nbsp;10 data dictionary. Thus, if you upgrade your data dictionary to a version&nbsp;10, no gateways which were configured with a version&nbsp;9 data dictionary will be able to communicate with it.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-0DE22027-F985-4E80-982C-F5521271D288" name="GUID-0DE22027-F985-4E80-982C-F5521271D288"></a><h3 id="APPCI-GUID-0DE22027-F985-4E80-982C-F5521271D288" class="sect3">Optional Configuration Steps to Permit Multiple Users</h3>
               <div>
                  <div class="section">
                     <p>The following configuration steps are optional. Perform these steps if you want to allow users other than <a id="d10176e1514" class="indexterm-anchor"></a><code class="codeph">PGAADMIN</code> to perform <a id="d10176e1521" class="indexterm-anchor"></a>PG DD operations using PGAU.
                     </p>
                     <ol>
                        <li>
                           <p>Create <a id="d10176e1530" class="indexterm-anchor"></a><a id="d10176e1532" class="indexterm-anchor"></a>public synonyms for the PG DD to allow other users to access the tables:
                           </p>
                           <ol type="a">
                              <li>
                                 <p>Use SQL*Plus to connect to the Oracle database as the <code class="codeph">SYSTEM</code> user.
                                 </p>
                              </li>
                              <li>
                                 <p>From SQL*Plus, run the <a id="d10176e1547" class="indexterm-anchor"></a><a id="d10176e1549" class="indexterm-anchor"></a><code class="codeph">pgddcr8s.sql </code>script in the  <code class="codeph">$ORACLE_HOME/dg4appc/admin</code> directory. This script creates public synonyms for the PG DD.
                                 </p><pre class="oac_no_warn" dir="ltr">SQL&gt; @$ORACLE_HOME/dg4appc/admin/pgddcr8s.sql
</pre></li>
                           </ol>
                        </li>
                        <li>
                           <p>Create roles for accessing the PG DD, performing definitions of transactions, and generating <a id="d10176e1566" class="indexterm-anchor"></a>TIP specifications. The <code class="codeph">PGAADMIN</code> user can grant these roles to other users as necessary.
                           </p>
                           <ol type="a">
                              <li>
                                 <p>Use SQL*Plus to connect to the Oracle database as user <code class="codeph">PGAADMIN</code>.
                                 </p>
                              </li>
                              <li>
                                 <p>From SQL*Plus, run the <code class="codeph">pgddcr8r.sql</code> script in the  <code class="codeph">$ORACLE_HOME/dg4appc/admin</code> directory. This script creates two roles, <code class="codeph">PGDDDEF</code> and <code class="codeph">PGDDGEN</code>. The <a id="d10176e1599" class="indexterm-anchor"></a><a id="d10176e1601" class="indexterm-anchor"></a><code class="codeph">PGDDDEF</code> role provides <code class="codeph">SELECT</code>, <code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code>, and <code class="codeph">DELETE</code> privileges against some of the <a id="d10176e1621" class="indexterm-anchor"></a>PG DD tables, and <code class="codeph">SELECT</code> privileges against others, and allows execution of the PGAU <code class="codeph">DEFINE</code>, <code class="codeph">GENERATE</code>, <code class="codeph">REDEFINE</code>, <code class="codeph">REPORT</code>, and <code class="codeph">UNDEFINE</code> statements. The <a id="d10176e1645" class="indexterm-anchor"></a><a id="d10176e1647" class="indexterm-anchor"></a><code class="codeph">PGDDGEN</code> role provides select privileges against the PG DD tables, and allows execution of the PGAU <code class="codeph">GENERATE</code> and <code class="codeph">REPORT</code> statements only.
                                 </p><pre class="oac_no_warn" dir="ltr">SQL&gt; @$ORACLE_HOME/dg4appc/admin/pgddcr8r.sql
</pre></li>
                           </ol>
                        </li>
                        <li id="GUID-0DE22027-F985-4E80-982C-F5521271D288__I1012843">
                           <p><a id="d10176e1664" class="indexterm-anchor"></a><a id="d10176e1668" class="indexterm-anchor"></a><a id="d10176e1672" class="indexterm-anchor"></a><a id="d10176e1676" class="indexterm-anchor"></a>Grant access to PGA required packages.
                           </p>
                           <p><a id="d10176e1682" class="indexterm-anchor"></a><a id="d10176e1686" class="indexterm-anchor"></a>TIP developers require access to the following PL/SQL packages, which are shipped with the <a id="d10176e1691" class="indexterm-anchor"></a>Oracle database:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a id="d10176e1699" class="indexterm-anchor"></a><code class="codeph">DBMS_PIPE</code> in the <code class="codeph">$ORACLE_HOME/rdbms/admin</code> directory
                                 </p>
                              </li>
                              <li>
                                 <p><a id="d10176e1709" class="indexterm-anchor"></a><code class="codeph">UTL_RAW</code> in the <code class="codeph">$ORACLE_HOME/rdbms/admin</code> directory
                                 </p>
                              </li>
                              <li>
                                 <p><a id="d10176e1719" class="indexterm-anchor"></a><code class="codeph">UTL_PG</code> in the <code class="codeph">$ORACLE_HOME/rdbms/admin</code><a id="d10176e1726" class="indexterm-anchor"></a><a id="d10176e1730" class="indexterm-anchor"></a> directory
                                 </p>
                              </li>
                           </ul>
                           <p>Explicit grants to execute these packages must be made to TIP developers.</p>
                           <p>These grants can be private as in the following example:</p><pre class="oac_no_warn" dir="ltr">$ sqlplus SYS/<span class="italic">pw@database_specification_string</span> 
SQL&gt; GRANT EXECUTE ON UTL_RAW TO <span class="italic">tip_developer</span>; 
SQL&gt; GRANT EXECUTE ON UTL_PG TO <span class="italic">tip_developer</span>; 
SQL&gt; GRANT EXECUTE ON DBMS_PIPE TO <span class="italic">tip_developer;</span> 
SQL&gt; CONNECT PGAADMIN/<span class="italic">pw@database_specification_string</span> 
SQL&gt; GRANT EXECUTE ON PGAADMIN.PURGE_TRACE TO <span class="italic">tip_developer</span>; 
SQL&gt; GRANT EXECUTE ON PGAADMIN.READ_TRACE TO <span class="italic">tip_developer</span>; 
SQL&gt; GRANT EXECUTE ON PGAADMIN.GPGLOCAL TO <span class="italic">tip_developer;</span> 
SQL&gt; exit
</pre><p>Alternatively, these grants can be public as in the following example:</p><pre class="oac_no_warn" dir="ltr">$ sqlplus SYS/pw@<span class="italic">database_specification_string</span> 
SQL&gt; GRANT EXECUTE ON UTL_RAW TO PUBLIC;
SQL&gt; GRANT EXECUTE ON UTL_PG TO PUBLIC;
SQL&gt; GRANT EXECUTE ON DBMS_PIPE to PUBLIC;
SQL&gt; CONNECT PGAADMIN/<span class="italic">pw@database_specification_string</span> 
SQL&gt; GRANT EXECUTE ON PGAADMIN.PURGE_TRACE TO PUBLIC;
SQL&gt; GRANT EXECUTE ON PGAADMIN.READ_TRACE TO PUBLIC;
SQL&gt; GRANT EXECUTE ON PGAADMIN.GPGLOCAL TO PUBLIC;
SQL&gt; EXIT
</pre><p>You can use either private or public grants. Both are sufficient for using PGA. Public grants are easier and can be performed now. If you use private grants, then they must be issued each time a new TIP developer user&nbsp;ID is created.<a id="d10176e1778" class="indexterm-anchor"></a><a id="d10176e1782" class="indexterm-anchor"></a></p>
                           <p>SQL scripts for performing these grants are provided in the  <code class="codeph">$ORACLE_HOME/dg4appc/admin</code> directory. The<a id="d10176e1793" class="indexterm-anchor"></a><a id="d10176e1797" class="indexterm-anchor"></a> <code class="codeph">pgddapub.sql</code> script performs these grants for public access to the packages. The <code class="codeph">pgddadev.sql </code>script performs the grants for private access to the packages by a single TIP developer. If you are going to use private grants, then you must run the <code class="codeph">pgddadev.sql</code> script once for each TIP developer user&nbsp;ID:
                           </p>
                           <ol type="a">
                              <li>
                                 <p>Use SQL*Plus to connect to the Oracle database as user <code class="codeph">PGAADMIN</code>.
                                 </p>
                              </li>
                              <li>
                                 <p>From SQL*Plus, run the appropriate script (<code class="codeph">pgddapub.sql</code> or <code class="codeph">pgddadev.sql</code>) from the <code class="codeph">$ORACLE_HOME/dg4appc/admin</code> directory. The script performs the necessary grants as described earlier. You are prompted for the required user&nbsp;IDs, passwords, and database specification strings.
                                 </p>
                                 <p>If you are using private grants, then repeat this step for each user&nbsp;ID requiring access to the packages.</p><pre class="oac_no_warn" dir="ltr">SQL&gt; @$ORACLE_HOME/dg4appc/admin/pgddapub.sql
SQL&gt; @$ORACLE_HOME/dg4appc/admin/pgddadev.sql
</pre></li>
                           </ol>
                        </li>
                        <li>
                           <p><a id="d10176e1837" class="indexterm-anchor"></a><a id="d10176e1843" class="indexterm-anchor"></a>If you are upgrading from a previous release of the gateway, and if you want to upgrade your existing <a id="d10176e1848" class="indexterm-anchor"></a><a id="d10176e1852" class="indexterm-anchor"></a><a id="d10176e1853" class="indexterm-anchor"></a>TIPs with new function and maintenance, then regenerate existing T<a id="d10176e1858" class="indexterm-anchor"></a>IP specifications using the <a id="d10176e1863" class="indexterm-anchor"></a>PGAU <code class="codeph">GENERATE</code> statement.
                           </p>
                           <div class="infoboxnote" id="GUID-0DE22027-F985-4E80-982C-F5521271D288__GUID-86A409E0-92F4-49D1-94C7-30302624A3EF">
                              <p class="notep1">Note:</p>
                              <p>The <a id="d10176e1875" class="indexterm-anchor"></a>PGAU has been enhanced to automatically upgrade existing PG DD entries <a id="d10176e1880" class="indexterm-anchor"></a><a id="d10176e1884" class="indexterm-anchor"></a>with a new attribute when a <a id="d10176e1889" class="indexterm-anchor"></a>PGAU <code class="codeph">GENERATE</code> command is executed. To support this enhancement, add a new privilege to the <a id="d10176e1897" class="indexterm-anchor"></a><code class="codeph">PGDDGEN</code> role. To do this, as the <code class="codeph">PGAADMIN</code> user, use SQL*Plus to connect to the Oracle database where the PG&nbsp;DD is stored. Then issue the following SQL command:
                              </p><pre class="oac_no_warn" dir="ltr">SQL&gt; GRANT INSERT ON PGA_DATA_VALUES TO PGDDGEN</pre></div>
                           <ol type="a">
                              <li>
                                 <p>Invoke PGAU in the directory path where the PGAU control files are generated and where TIPs are stored:</p><pre class="oac_no_warn" dir="ltr">$ pgau
PGAU&gt; CONNECT PGAADMIN/pgaadmin@<span class="italic">database_specification_string</span> 
PGAU&gt; GENERATE <span class="italic">tranname</span> 
PGAU&gt; EXIT
</pre></li>
                           </ol>
                           <p>For more information about the <code class="codeph">GENERATE</code> command, refer to the PGAU <code class="codeph">GENERATE</code> command section in Chapter 2, of the <a href="../appug/pga-utility-oracle-database-gateway-appc.html#APPUG200" target="_blank"><span class="italic">Oracle Database Gateway for APPC User's Guide</span></a>.
                           </p>
                           <p>Note that it is not necessary to define the PG DD entries again.</p>
                        </li>
                        <li>
                           <p>Invoke SQL*Plus in the same directory path where the newly-generated TIP specifications are stored.</p><pre class="oac_no_warn" dir="ltr">$ sqlplus <span class="italic">tip_owner/pw@database_specification_string</span> 
SQL&gt; @<span class="italic">tipname.</span>pkh 
SQL&gt; @<span class="italic">tipname</span>.pkb
SQL&gt; exit
</pre><p><a id="d10176e1952" class="indexterm-anchor"></a><a id="d10176e1958" class="indexterm-anchor"></a><a id="d10176e1962" class="indexterm-anchor"></a>PGAU <code class="codeph">GENERATE</code> produces the TIP in two output files: a specification and a body. You must compile both, first the specification and then the body.
                           </p>
                           <p>For more information about the <code class="codeph">GENERATE</code> command, refer to the PGAU <code class="codeph">GENERATE</code> command section in Chapter 2, of the <a href="../appug/pga-utility-oracle-database-gateway-appc.html#APPUG200" target="_blank"><span class="italic">Oracle Database Gateway for APPC User's Guide</span></a>.
                           </p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="APPCI225"></a><div class="props_rev_3"><a id="GUID-326E95E9-25DC-46E0-8D1F-63344DBB1CF4" name="GUID-326E95E9-25DC-46E0-8D1F-63344DBB1CF4"></a><h3 id="APPCI-GUID-326E95E9-25DC-46E0-8D1F-63344DBB1CF4" class="sect3">Configuring the Gateway</h3>
               <div>
                  <div class="section">
                     <p>To configure the gateway, perform the following steps:</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>Customize the Oracle Database Gateway for APPC parameters.</span><div>
                           <p>Parameters specific<a id="d10176e2023" class="indexterm-anchor"></a> to the gateway are supplied in the gateway parameter file, <code class="codeph">init</code><span class="italic"><code class="codeph">sid</code></span>.<code class="codeph">ora</code>, which is in the <a id="d10176e2039" class="indexterm-anchor"></a><code class="codeph">$ORACLE_HOME/dg4appc/admin</code> directory. A sample gateway parameter <a id="d10176e2045" class="indexterm-anchor"></a><a id="d10176e2047" class="indexterm-anchor"></a><a id="d10176e2053" class="indexterm-anchor"></a>file, <a id="d10176e2058" class="indexterm-anchor"></a><a id="d10176e2060" class="indexterm-anchor"></a><code class="codeph">initPGA.ora</code> is provided in this subdirectory.<a id="d10176e2067" class="indexterm-anchor"></a><a id="d10176e2071" class="indexterm-anchor"></a><a id="d10176e2077" class="indexterm-anchor"></a></p>
                           <div class="infoboxnote" id="GUID-326E95E9-25DC-46E0-8D1F-63344DBB1CF4__GUID-8F262371-02CF-40BC-9035-FB067218D077">
                              <p class="notep1">Note:</p>
                              <p>In the <a id="d10176e2084" class="indexterm-anchor"></a><a id="d10176e2086" class="indexterm-anchor"></a><code class="codeph">init</code><span class="italic"><code class="codeph">sid</code></span>.<code class="codeph">ora</code> file, substitute your <code class="codeph">dg4appc</code> SID name for "<span class="italic"><code class="codeph">sid</code></span> " in this file name.
                              </p>
                              <p>The <code class="codeph">init</code><span class="italic"><code class="codeph">sid</code></span>.<code class="codeph">ora</code> file contains both APPC and TCP/IP parameters, separated by a description. You must modify the <code class="codeph">init</code><span class="italic"><code class="codeph">sid</code></span>.<code class="codeph">ora</code> file by deleting the TCP/IP parameters. Refer to <a href="appc-gateway-initialization-parameters-sna.html#GUID-53D8F882-4389-4150-8998-300818E476B9"> Gateway Initialization Parameters for SNA Protocol</a> for the valid APPC parameters.
                              </p>
                           </div>
                           <p>The parameters fall into two categories:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Gateway initialization <a id="d10176e2137" class="indexterm-anchor"></a><a id="d10176e2143" class="indexterm-anchor"></a>parameters
                                 </p>
                                 <p>These parameters control the general operation of the gateway in the Oracle environment.</p>
                                 <div class="infoboxnote" id="GUID-326E95E9-25DC-46E0-8D1F-63344DBB1CF4__GUID-4B155CE5-EB9D-4CD6-ADC9-DC121DB133EA">
                                    <p class="notep1">Note:</p>
                                    <p>Before performing the following step, refer to <a href="appc-gateway-initialization-parameters-sna.html#GUID-53D8F882-4389-4150-8998-300818E476B9"> Gateway Initialization Parameters for SNA Protocol</a> for information about tailoring gateway initialization and PGA parameters. Pay special attention to the information about using the <code class="codeph">PGA_CAPABILITY</code> parameter.
                                    </p>
                                 </div>
                              </li>
                              <li>
                                 <p>PGA <a id="d10176e2163" class="indexterm-anchor"></a><a id="d10176e2167" class="indexterm-anchor"></a>parameters
                                 </p>
                                 <p>PGA parameters control the APPC interface portion of the gateway. Use the <a id="d10176e2176" class="indexterm-anchor"></a><a id="d10176e2180" class="indexterm-anchor"></a><code class="codeph">SET</code> gateway initialization parameter to specify PGA parameters. Oracle recommends that you group all <code class="codeph">SET</code> commands<a id="d10176e2192" class="indexterm-anchor"></a><a id="d10176e2194" class="indexterm-anchor"></a> for PGA parameters at the end of the <code class="codeph">init</code><span class="italic"><code class="codeph">sid</code></span>.<code class="codeph">ora</code> file.
                                 </p>
                                 <div class="infoboxnote" id="GUID-326E95E9-25DC-46E0-8D1F-63344DBB1CF4__GUID-8D91EB1A-7B2B-4570-A028-F62AEFD7E7C8">
                                    <p class="notep1">Note:</p>
                                    <p>Misspelled parameters are ignored<a id="d10176e2212" class="indexterm-anchor"></a>. However, if the <code class="codeph">$ORACLE_HOME/dg4appc/admin/init</code><span class="italic"><code class="codeph">sid</code></span>.<code class="codeph">ora</code> file is missing, all calls to the gateway fail and return a <code class="codeph">PGA-20928</code> error.
                                    </p>
                                 </div>
                              </li>
                           </ul>
                        </div>
                     </li>
                  </ol>
               </div>
            </div><a id="APPCI226"></a><div class="props_rev_3"><a id="GUID-544B3014-8746-41E6-9132-12E473D38254" name="GUID-544B3014-8746-41E6-9132-12E473D38254"></a><h3 id="APPCI-GUID-544B3014-8746-41E6-9132-12E473D38254" class="sect3">Configuring Commit-Confirm</h3>
               <div>
                  <div class="section">
                     <div class="infoboxnote" id="GUID-544B3014-8746-41E6-9132-12E473D38254__GUID-9C1E0C43-0172-4681-B4EC-C3E9FCE8828F">
                        <p class="notep1">Note:</p>
                        <p>If you are planning to implement commit-confirm, read the detailed explanation of commit-confirm's capabilities in Chapter&nbsp;5 of the <a href="../appug/implement-appc-commit-confirm-sna-only.html#APPUG500" target="_blank"><span class="italic">Oracle Database Gateway for APPC User's Guide</span></a>, "Implementing Commit-Confirm (SNA Only) before proceeding.
                        </p>
                     </div>
                     <p>Follow these steps to configure the commit-confirm components. The steps for <a id="d10176e2270" class="indexterm-anchor"></a>configuring commit-confirm include:
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Configuring the Oracle database where the gateway server will store its transaction log information</p>
                        </li>
                        <li>
                           <p>Configuring the gateway initialization parameters </p>
                        </li>
                        <li>
                           <p>Configuring the OLTP</p>
                        </li>
                     </ul>
                     <p>All of these steps must be performed before attempting to use any applications that use commit-confirm.<a id="d10176e2288" class="indexterm-anchor"></a></p>
                  </div>
                  <!-- class="section" -->
               </div><a id="APPCI227"></a><div class="props_rev_3"><a id="GUID-F9218AF1-8735-4377-AC79-7325D8396BE7" name="GUID-F9218AF1-8735-4377-AC79-7325D8396BE7"></a><h4 id="APPCI-GUID-F9218AF1-8735-4377-AC79-7325D8396BE7" class="sect4">Configuring the Oracle Database for Commit-Confirm</h4>
                  <div>
                     <div class="section">
                        <p>The <a id="d10176e2325" class="indexterm-anchor"></a><a id="d10176e2329" class="indexterm-anchor"></a>Oracle database installation where the gateway server will store its transaction log information should ideally be on the same system where the gateway runs. The configuration of the server consists of creating the gateway DBA user, creating the commit-confirm log tables and creating the <a id="d10176e2334" class="indexterm-anchor"></a>PL/SQL stored procedure used by the gateway server for logging transactions.<a id="d10176e2339" class="indexterm-anchor"></a></p>
                        <p>The <code class="codeph">pgaccau.sql </code>script from the <code class="codeph">$ORACLE_HOME/dg4appc/admin</code> directory creates the gateway DBA user&nbsp;ID. The default user&nbsp;ID is <code class="codeph">PGADBA</code> with the initial password set to <code class="codeph">PGADBA</code>. If you want to change the user&nbsp;ID or initial password, you must modify the script.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>Use <a id="d10176e2363" class="indexterm-anchor"></a>SQL*Plus to connect to the Oracle database as the <code class="codeph">SYSTEM</code> user.</span></li>
                        <li><span>From SQL*Plus, run the <code class="codeph">pgaccau.sql</code> script from the <code class="codeph"> $ORACLE_HOME/dg4appc/admin</code> directory. This script creates the gateway DBA user&nbsp;ID. If you want to change the password at any time after running this script, you can use the <code class="codeph">ALTER USER</code> command to change the password. For further information, refer to the <a href="../sqlrf/ALTER-USER.html#SQLRF01103" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a>.</span></li>
                        <li><span>Use SQL*Plus to connect to Oracle database as the <code class="codeph">PGADBA</code> user.</span></li>
                        <li><span>From SQL*Plus, run the <code class="codeph">pgaccpnd.sql</code> script from the  <code class="codeph">$ORACLE_HOME/dg4appc/admin</code> directory. This script creates the  <code class="codeph">PGA_CC_PENDING</code> table used by the gateway server for its commit-confirm transaction log.</span></li>
                        <li><span>From SQL*Plus, run the <code class="codeph">pgacclog.sql</code> script from the  <code class="codeph">$ORACLE_HOME/dg4appc/admin</code> directory. This script creates the  <code class="codeph">PGA_CC_LOG</code> <a id="d10176e2428" class="indexterm-anchor"></a>PL/SQL stored procedure used by the gateway server for updating the <code class="codeph">PGA_CC_PENDING</code> table.</span></li>
                        <li><span>Disconnect from Oracle database.</span></li>
                     </ol>
                  </div>
               </div><a id="APPCI228"></a><div class="props_rev_3"><a id="GUID-DE8EFB77-D7DC-4505-A8FC-5F004E8F0E0E" name="GUID-DE8EFB77-D7DC-4505-A8FC-5F004E8F0E0E"></a><h4 id="APPCI-GUID-DE8EFB77-D7DC-4505-A8FC-5F004E8F0E0E" class="sect4">Configuring Gateway Initialization Parameters for Commit-Confirm</h4>
                  <div>
                     <div class="section">
                        <p><a id="d10176e2469" class="indexterm-anchor"></a><a id="d10176e2475" class="indexterm-anchor"></a><a id="d10176e2479" class="indexterm-anchor"></a>The gateway initialization parameters are described in <a href="appc-gateway-initialization-parameters-sna.html#GUID-53D8F882-4389-4150-8998-300818E476B9"> Gateway Initialization Parameters for SNA Protocol</a>. The parameters necessary for commit-confirm support in the gateway are:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">PGA_CAPABILITY</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">PGA_LOG_DB</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">PGA_LOG_USER</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">PGA_LOG_PASS</code> 
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">PGA_RECOVERY_USER</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">PGA_RECOVERY_PASS</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">PGA_RECOVERY_TPNAME</code></p>
                           </li>
                        </ul>
                        <p>These parameters should be added to your <a id="d10176e2521" class="indexterm-anchor"></a><a id="d10176e2523" class="indexterm-anchor"></a><code class="codeph">init</code><span class="italic"><code class="codeph">sid</code></span>.<code class="codeph">ora</code> file, where <span class="italic"><code class="codeph">sid</code></span> is the gateway SID for your commit-confirm gateway.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="APPCI229"></a><div class="props_rev_3"><a id="GUID-24F30622-1E2C-443F-8376-087D3FE0D4B8" name="GUID-24F30622-1E2C-443F-8376-087D3FE0D4B8"></a><h4 id="APPCI-GUID-24F30622-1E2C-443F-8376-087D3FE0D4B8" class="sect4">Configuring the OLTP for Commit-Confirm</h4>
                  <div>
                     <div class="section">
                        <p>Configuration of the OLTP includes defining and installing the following:<a id="d10176e2574" class="indexterm-anchor"></a><a id="d10176e2580" class="indexterm-anchor"></a></p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Commit-confirm transaction log database</p>
                           </li>
                           <li>
                              <p>Commit-confirm forget or recovery transaction</p>
                           </li>
                           <li>
                              <p>Sample commit-confirm applications provided with the gateway</p>
                              <div class="infoboxnote" id="GUID-24F30622-1E2C-443F-8376-087D3FE0D4B8__GUID-85A8BBDA-8502-452A-A6AA-35AEF42E17D2">
                                 <p class="notep1">Note:</p>
                                 <p>A restart of the OLTP may be necessary to implement the changes required for commit-confirm support. You should plan for this with your OLTP system administrator.</p>
                              </div>
                           </li>
                        </ul>
                        <p>Detailed instructions for configuring the Transaction Server for z/OS and IMS/TM are provided in the <code class="codeph">$ORACLE_HOME/dg4appc/demo/CICS/README.doc</code> and                             <code class="codeph">$ORACLE_HOME/dg4appc/demo/IMS/README.doc</code> files, respectively.
                        </p>
                        <p>Refer<a id="d10176e2608" class="indexterm-anchor"></a><a id="d10176e2612" class="indexterm-anchor"></a> to Chapter 5, "Implementing Commit-Confirm (SNA Only)" in the <a href="../appug/implement-appc-commit-confirm-sna-only.html#APPUG500" target="_blank"><span class="italic">Oracle Database Gateway for APPC User's Guide</span></a> for detailed information about commit-confirm. You will take steps to verify configuration of commit-confirm later in <span class="q">"<a href="configuring-appc-gateway-sna.html#GUID-BD5A0C0E-BDEE-4595-AD71-38C8DD8F0C8C">Verifying OLTP Configuration for Commit-Confirm</a>"</span>.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="APPCI230"></a><div class="props_rev_3"><a id="GUID-B0F01C9F-3BBB-4579-8B3D-ACCCE3CCED56" name="GUID-B0F01C9F-3BBB-4579-8B3D-ACCCE3CCED56"></a><h3 id="APPCI-GUID-B0F01C9F-3BBB-4579-8B3D-ACCCE3CCED56" class="sect3">Verifying the Gateway Installation and OLTP Configuration</h3>
               <div>
                  <div class="section">
                     <p>To verify the gateway installation and the OLTP configuration, perform the following procedures after installing Oracle Database Gateway for APPC.<a id="d10176e2661" class="indexterm-anchor"></a><a id="d10176e2667" class="indexterm-anchor"></a> In addition, if you chose to configure commit-confirm, follow the steps to verify the OLTP configuration for commit-confirm.
                     </p>
                     <div class="infoboxnote" id="GUID-B0F01C9F-3BBB-4579-8B3D-ACCCE3CCED56__GUID-D9DF6D1C-6AC6-407B-85B2-8477362A3E37">
                        <p class="notep1">Note:</p>
                        <p>If your <a id="d10176e2677" class="indexterm-anchor"></a>database link name is not <code class="codeph">PGA</code>, modify the demonstration <code class="codeph">.sql</code> files to give them the particular database link name that you created in Step <a href="configuring-appc-gateway-sna.html#GUID-C60EA44C-85E5-45FD-8B22-CDE441C0B82D__I1008586">5</a> of <span class="q">"<a href="configuring-appc-gateway-sna.html#GUID-C60EA44C-85E5-45FD-8B22-CDE441C0B82D">Oracle Database Configuration: First-Time Gateway Installations</a>"</span>. You must modify the following <code class="codeph">.sql</code> files:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a id="d10176e2703" class="indexterm-anchor"></a><a id="d10176e2705" class="indexterm-anchor"></a><code class="codeph">pgavsn.sql</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">pgaecho.sql</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">pgacics.sql</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">pgaidms.sql</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">pgaims.sql</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">pgamvs.sql</code></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="APPCI231"></a><div class="props_rev_3"><a id="GUID-D52AF0FF-E0D5-4210-BA3A-D02872A1D87D" name="GUID-D52AF0FF-E0D5-4210-BA3A-D02872A1D87D"></a><h4 id="APPCI-GUID-D52AF0FF-E0D5-4210-BA3A-D02872A1D87D" class="sect4">Verifying the Gateway Installation</h4>
                  <div>
                     <div class="section">
                        <p>To verify the gateway software installation using the <a id="d10176e2778" class="indexterm-anchor"></a>database link PGA previously created, perform the following steps:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Using SQL*Plus, connect to your <a id="d10176e2789" class="indexterm-anchor"></a>Oracle database as <a id="d10176e2796" class="indexterm-anchor"></a><code class="codeph">PGAADMIN. </code></span></li>
                        <li class="stepexpand"><span>Run <code class="codeph">$ORACLE_HOME/dg4appc/demo/pgavsn.sql</code>.</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; @$ORACLE_HOME/dg4appc/demo/pgavsn.sql
</pre><p>The server version number banner appears at your terminal. The following output appears:</p><pre class="oac_no_warn" dir="ltr">Oracle Database Gateway for APPC.
Version 12.2.0.1.0 Wed Aug 24 14:39:15 
2016<a id="d10176e2813" class="indexterm-anchor"></a>

Copyright (c) Oracle Corporation 1979,2016.  All rights reserved.
</pre><p>PL/SQL procedure successfully completed.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Run <code class="codeph">$ORACLE_HOME/dg4appc/demo/pgaecho.sql</code>.</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; @$ORACLE_HOME/dg4appc/demo/pgaecho.sql
</pre><p>You will receive the following output:</p><pre class="oac_no_warn" dir="ltr">==&gt; Congratulations, your installation was successful. &lt;==</pre></div>
                        </li>
                     </ol>
                  </div>
               </div><a id="APPCI232"></a><div class="props_rev_3"><a id="GUID-AFAE9E23-FDED-41A8-8B55-951090DABEC6" name="GUID-AFAE9E23-FDED-41A8-8B55-951090DABEC6"></a><h4 id="APPCI-GUID-AFAE9E23-FDED-41A8-8B55-951090DABEC6" class="sect4">Verifying the OLTP Configuration </h4>
                  <div>
                     <div class="section">
                        <p>The procedure for verifying your OLTP configuration varies, depending on which OLTP you are using and depending upon which platform the OLTP is running on. CICS Transaction Server for z/OS, IMS/TM, APPC/MVS, and z/OS are the currently supported <a id="d10176e2879" class="indexterm-anchor"></a>OLTPs. Follow the instructions in the following sections for verifying installation:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="configuring-appc-gateway-sna.html#GUID-6225EE5D-7C9C-4B91-806C-D196A53D762A">CICS Verification </a></p>
                           </li>
                           <li>
                              <p><a href="configuring-appc-gateway-sna.html#GUID-86FF2AE4-0009-4126-A28F-5F466115E345">IMS/TM Verification</a></p>
                           </li>
                           <li>
                              <p><a href="configuring-appc-gateway-sna.html#GUID-F219297D-AD2F-45E5-A517-D0EC0AD205D2">APPC/MVS Verification </a></p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-AFAE9E23-FDED-41A8-8B55-951090DABEC6__GUID-C577253C-DB56-47B7-BB79-7366E4C9F467">
                           <p class="notep1">Note:</p>
                           <p>If you have not completed the file transfers detailed in <span class="q">"<a href="configuring-appc-gateway-sna.html#GUID-DB5EF405-1993-4D5A-AB38-834B75C9E31E">Preparing to Configure a Gateway Installation/Upgrade</a>"</span>, complete them now, before proceeding to the next step.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div><a id="APPCI233"></a><div class="props_rev_3"><a id="GUID-6225EE5D-7C9C-4B91-806C-D196A53D762A" name="GUID-6225EE5D-7C9C-4B91-806C-D196A53D762A"></a><h5 id="APPCI-GUID-6225EE5D-7C9C-4B91-806C-D196A53D762A" class="sect5">CICS Verification </h5>
                     <div>
                        <div class="section">
                           <p>If your OLTP is <a id="d10176e2960" class="indexterm-anchor"></a><a id="d10176e2966" class="indexterm-anchor"></a>CICS Transaction Server for z/OS, perform the following steps to verify the CICS configuration.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>To verify that the <a id="d10176e2977" class="indexterm-anchor"></a>FLIP transaction is installed correctly, log on to your CICS Transaction Server for z/OS and enter the following transaction, replacing <code class="codeph">FLIP</code> with the transaction ID you chose for <code class="codeph">FLIP</code> when you configure your CICS Transaction Server for z/OS for the gateway:</span><div><pre class="oac_no_warn" dir="ltr">FLIP<span class="italic"> </span>THIS MESSAGE
</pre><p>The following output appears:</p><pre class="oac_no_warn" dir="ltr">EGASSEM SIHT PILF
</pre></div>
                           </li>
                           <li class="stepexpand"><span>Log on to UNIX.</span></li>
                           <li class="stepexpand"><span>Modify the <code class="codeph">pgacics.sql</code> file, which is located at<code class="codeph">  $ORACLE_HOME/dg4appc/demo/CICS/pgacics.sql</code>. Customize the following three items used for accessing the gateway and the CICS Transaction Server for z/OS as described in the comments at the beginning of the file:</span><div>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><a id="d10176e3018" class="indexterm-anchor"></a>CICS transaction ID
                                       </p>
                                    </li>
                                    <li>
                                       <p><a id="d10176e3025" class="indexterm-anchor"></a>Side Profile name
                                       </p>
                                    </li>
                                    <li>
                                       <p><a id="d10176e3030" class="indexterm-anchor"></a>Logmode entry name
                                       </p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Ensure that <a id="d10176e3036" class="indexterm-anchor"></a>the SNA communication package on your system has been started.</span></li>
                           <li class="stepexpand"><span>Log on to your CICS Transaction Server for z/OS and run this transaction, where <span class="italic"><code class="codeph">name</code></span> is the name of the <code class="codeph">CONNECTION</code> definition installed by the <code class="codeph">DFHCSDUP</code> job run in the CICS configuration steps:</span><div><pre class="oac_no_warn" dir="ltr">CEMT SET CONNECTION<span class="italic">(name)</span> ACQUIRED
</pre><p>This transaction activates the CICS connection to UNIX.</p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Use SQL*Plus to connect to your Oracle database as <code class="codeph">PGAADMIN</code>.</span></li>
                           <li class="stepexpand"><span>Run <code class="codeph">pgacics.sql</code>.</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; @$ORACLE_HOME/dg4appc/demo/CICS/pgacics.sql
</pre><p>The following message appears:</p><pre class="oac_no_warn" dir="ltr">==&gt; Congratulations, your gateway is communicating with CICS &lt;==
</pre></div>
                           </li>
                        </ol>
                        <div class="section">
                           <p>Your CICS Transaction Server for z/OS installation verification is complete.</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="APPCI234"></a><div class="props_rev_3"><a id="GUID-86FF2AE4-0009-4126-A28F-5F466115E345" name="GUID-86FF2AE4-0009-4126-A28F-5F466115E345"></a><h5 id="APPCI-GUID-86FF2AE4-0009-4126-A28F-5F466115E345" class="sect5">IMS/TM Verification</h5>
                     <div>
                        <div class="section">
                           <p>If your OLTP is <a id="d10176e3135" class="indexterm-anchor"></a>IMS/TM, then perform the following steps to verify the IMS/TM configuration:
                           </p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>To verify that the <a id="d10176e3146" class="indexterm-anchor"></a>FLIP transaction is installed correctly, log on to your IMS/TM system and enter the following transaction, replacing <code class="codeph">FLIP</code> with the transaction ID you chose for <code class="codeph">FLIP</code> when you configured your IMS/TM system for the gateway:</span><div><pre class="oac_no_warn" dir="ltr">FLIP THIS MESSAGE
</pre><p>The following output appears on your terminal:</p><pre class="oac_no_warn" dir="ltr">EGASSEM SIHT PILF
</pre></div>
                           </li>
                           <li class="stepexpand"><span>Log on to UNIX. </span></li>
                           <li class="stepexpand"><span>Modify the <code class="codeph">pgaims.sql</code> file, which is located at  <a id="d10176e3177" class="indexterm-anchor"></a><a id="d10176e3179" class="indexterm-anchor"></a><code class="codeph">$ORACLE_HOME/dg4appc/demo/IMS/pgaims.sql</code>. Customize the following three items used for accessing the gateway and the IMS/TM system as described in the comments at the beginning of the file:</span><div>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>IMS/TM transaction ID</p>
                                    </li>
                                    <li>
                                       <p>Side Profile Name</p>
                                    </li>
                                    <li>
                                       <p>Logmode entry name</p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Ensure that the <a id="d10176e3198" class="indexterm-anchor"></a>SNA communication package on your system has been started.</span></li>
                           <li class="stepexpand"><span> <a id="d10176e3204" class="indexterm-anchor"></a>Use SQL*Plus to connect to Oracle database as <code class="codeph">PGAADMIN</code>.</span></li>
                           <li class="stepexpand"><span>Run <code class="codeph">pgaims.sql</code>.</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; @$ORACLE_HOME/dg4appc/demo/IMS/pgaims.sql
</pre></div>
                           </li>
                        </ol>
                        <div class="section">
                           <p>The following message appears:</p><pre class="oac_no_warn" dir="ltr">==&gt; Congratulations, your gateway is communicating with IMS/TM &lt;==
</pre><p>Your IMS/TM installation verification is now complete.</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="APPCI235"></a><div class="props_rev_3"><a id="GUID-F219297D-AD2F-45E5-A517-D0EC0AD205D2" name="GUID-F219297D-AD2F-45E5-A517-D0EC0AD205D2"></a><h5 id="APPCI-GUID-F219297D-AD2F-45E5-A517-D0EC0AD205D2" class="sect5">APPC/MVS Verification </h5>
                     <div>
                        <div class="section">
                           <p>If your OLTP is <a id="d10176e3276" class="indexterm-anchor"></a><a id="d10176e3282" class="indexterm-anchor"></a>APPC/MVS, perform the following steps to verify the APPC/MVS configuration:
                           </p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>Verify that your APPC/MVS subsystem is active.</span></li>
                           <li class="stepexpand"><span>Log on to UNIX</span></li>
                           <li class="stepexpand"><span>Modify the <code class="codeph">pgamvs.sql</code> file, which is located at  <code class="codeph"> $ORACLE_HOME/dg4appc/demo/MVS/pgamvs.sql</code>. Customize the following three items used for accessing the gateway and the APPC/MVS system as described in the comments at the beginning of the file:</span><div>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>APPC/MVS transaction ID</p>
                                    </li>
                                    <li>
                                       <p>Side Profile Name</p>
                                    </li>
                                    <li>
                                       <p>Logmode entry name</p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Ensure that the <a id="d10176e3318" class="indexterm-anchor"></a>SNA communication package on your system has been started.</span></li>
                           <li class="stepexpand"><span>Use SQL*Plus to connect to your <a id="d10176e3324" class="indexterm-anchor"></a>Oracle database as <code class="codeph">PGAADMIN</code>.</span></li>
                           <li class="stepexpand"><span>Run <code class="codeph">pgamvs.sql</code>.</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; @$ORACLE_HOME/dg4appc/demo/MVS/pgamvs.sql
</pre><p>The following message appears:</p><pre class="oac_no_warn" dir="ltr">=&gt; Congratulations, your gateway is communicating with APPC/MVS &lt;=</pre></div>
                           </li>
                        </ol>
                        <div class="section"><pre class="oac_no_warn" dir="ltr"></pre><p>Your APPC/MVS installation verification is now complete.</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="APPCI236"></a><div class="props_rev_3"><a id="GUID-BD5A0C0E-BDEE-4595-AD71-38C8DD8F0C8C" name="GUID-BD5A0C0E-BDEE-4595-AD71-38C8DD8F0C8C"></a><h4 id="APPCI-GUID-BD5A0C0E-BDEE-4595-AD71-38C8DD8F0C8C" class="sect4">Verifying OLTP Configuration for Commit-Confirm</h4>
                  <div>
                     <div class="section">
                        <p>If you chose to configure commit-confirm in <a href="configuring-appc-gateway-sna.html#GUID-544B3014-8746-41E6-9132-12E473D38254">Configuring Commit-Confirm</a>, the following section will assist you in verifying the configuration.
                        </p>
                        <div class="infoboxnote" id="GUID-BD5A0C0E-BDEE-4595-AD71-38C8DD8F0C8C__GUID-BC77C5F5-9F99-48FE-B470-8BD4162900DD">
                           <p class="notep1">Note:</p>
                           <p>Refer to Chapter&nbsp;5, "Implementing Commit-Confirm" in the <a href="../appug/implement-appc-commit-confirm-sna-only.html#APPUG500" target="_blank"><span class="italic">Oracle Database Gateway for APPC User's Guide</span></a> for background information on the components and capabilities of commit-confirm.
                           </p>
                        </div>
                        <p>Samples are provided with the gateway for Transaction Server for z/OS and IMS/TM for implementing commit-confirm support. They are in the following directories, respectively: <code class="codeph">$ORACLE_HOME/dg4appc/demo/CICS</code> and                                       <code class="codeph">$ORACLE_HOME/dg4appc/demo/IMS</code>. A <code class="codeph">README.doc</code> file in each directory provides detailed information about installing and using the samples. JCL files for compiling and linking the sample programs are provided as well.<a id="d10176e3408" class="indexterm-anchor"></a> The samples included with the gateway assist you with the following:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Creating and initializing the commit-confirm transaction log databases and defining those databases to the OLTP</p>
                              <p>For Transaction Server for z/OS, the sample uses a VSAM file for the log database. For IMS/TM, a SHISAM/VSAM database is used.</p>
                           </li>
                           <li>
                              <p>Using subroutines for receiving the <a id="d10176e3423" class="indexterm-anchor"></a>Oracle Global Transaction ID from the gateway and logging it into the <a id="d10176e3426" class="indexterm-anchor"></a>commit-confirm transaction log database
                              </p>
                              <p>These subroutines are provided in the <code class="codeph">pgacclg.asm</code> files. They can be used in your applications to reduce the complexity of the code changes to your programs. For Transaction Server for z/OS, the subroutine provided is called using the EXEC CICS LINK interface. For IMS/TM, the subroutine provided is called using the standard <code class="codeph">CALL</code> statement or its equivalent in the application programming language. Both of these subroutines are written in 370 assembler to eliminate any interlanguage interface complexities and compiler dependencies.
                              </p>
                           </li>
                           <li>
                              <p>Forget and recovery transactions </p>
                              <p>These are provided in the <code class="codeph">pgareco.asm</code> files. Forget and recovery transactions must be installed into your OLTP and accessible through APPC so that the gateway can invoke them to forget a transaction once it has been successfully committed, and to query transaction state during recovery processing. These transactions delete the entry for a particular Oracle <a id="d10176e3447" class="indexterm-anchor"></a>Global Transaction ID from the OLTP commit-confirm transaction log database during forget processing, and query the entry for a particular Oracle Global Transaction ID from the OLTP commit-confirm transaction log database during recovery processing. For both Transaction Server for z/OS and IMS/TM, these transactions are written in 370 assembler.
                              </p>
                           </li>
                           <li>
                              <p>Using the sample commit-confirm transaction log databases and subroutines </p>
                              <p>For Transaction Server for z/OS, a sample DB2 update transaction, <code class="codeph">DB2C</code>, is provided in the <code class="codeph">pgadb2c.cob</code> file. This is a COBOL example that updates the DB2 sample <code class="codeph">EMP</code> table. For IMS/TM, a sample DLI update transaction, <code class="codeph">PGAIMSU</code>, is provided in the <code class="codeph">pgaimsu.cob</code> file. This is a COBOL example that updates the DLI sample <code class="codeph">PARTS</code> database.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="APPCI237"></a><div class="props_rev_3"><a id="GUID-835A25DB-1E5B-485C-9054-E920CC262570" name="GUID-835A25DB-1E5B-485C-9054-E920CC262570"></a><h3 id="APPCI-GUID-835A25DB-1E5B-485C-9054-E920CC262570" class="sect3">Performing Postinstallation Procedures</h3>
               <div>
                  <div class="section">
                     <p>The following are optional steps that you can perform as necessary. Installation of the sample applications for your OLTP is recommended to help you to fully understand how the gateway works and how it interfaces with your OLTP.</p>
                  </div>
                  <!-- class="section" -->
               </div><a id="APPCI238"></a><div class="props_rev_3"><a id="GUID-7499EFA4-3633-44E1-9784-5F4D027ABFFE" name="GUID-7499EFA4-3633-44E1-9784-5F4D027ABFFE"></a><h4 id="APPCI-GUID-7499EFA4-3633-44E1-9784-5F4D027ABFFE" class="sect4">Installing Sample Applications</h4>
                  <div>
                     <div class="section">
                        <p>Oracle Database Gateway for APPC package contains the following sample PL/SQL procedures and OLTP transaction programs that demonstrate the capabilities of the gateway. </p>
                        <p><span class="bold">APPC/MVS</span></p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p> z/OS data set information</p>
                           </li>
                        </ul>
                        <p><span class="bold">CICS Transaction Server for z/OS</span></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>DB2 inquiry</p>
                           </li>
                           <li>
                              <p>DB2 multi-row inquiry</p>
                           </li>
                           <li>
                              <p>DB2 update</p>
                           </li>
                           <li>
                              <p>VSAM inquiry</p>
                           </li>
                           <li>
                              <p>VSAM update</p>
                           </li>
                           <li>
                              <p>DLI inquiry</p>
                           </li>
                           <li>
                              <p>FEPI DB2 inquiry</p>
                           </li>
                           <li>
                              <p>FEPI VSAM inquiry</p>
                           </li>
                        </ul>
                        <p><span class="bold">IMS/TM</span></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>IMS inquiry using IVTNO and IVTNV sample transactions</p>
                           </li>
                           <li>
                              <p>IMS PARTS inquiry (<a id="d10176e3614" class="indexterm-anchor"></a>CPI-C)
                              </p>
                           </li>
                           <li>
                              <p>IMS PARTS update (CPI-C)</p>
                           </li>
                        </ul>
                        <p>Additional samples are added to the distribution media in later releases of the product. Wherever possible, sample applications use the sample databases provided with the database products.</p>
                        <p>For this release, full documentation on installing and using the sample applications is available in the following directories and files:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">$ORACLE_HOME/dg4appc/CICS/sample_CICS_applications.txt</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">$ORACLE_HOME/dg4appc/IMS/sample_IMS_applications.txt</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">$ORACLE_HOME/dg4appc/MVS/sample_MVS_applications.txt</code></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='04800.oci-function-server-round-trips.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="This appendix provides information about server round-trips incurred during various OCI calls.">
      <meta name="description" content="This appendix provides information about server round-trips incurred during various OCI calls.">
      <title>OCI Function Server Round-Trips</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Programmer's Guide">
      <meta property="og:description" content="This appendix provides information about server round-trips incurred during various OCI calls.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Programmer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="oracle-call-interface-programmers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-14T08:46:00-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96204-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="oci-demo-programs.html" title="Previous" type="text/html">
      <link rel="next" href="getting-started-with-oci-for-windows.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle Call Interface Programmer's Guide">
    <meta name="dcterms.isVersionOf" content="LNOCI">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="oci-demo-programs.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="getting-started-with-oci-for-windows.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Programmer's Guide</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> OCI Function Server Round-Trips</li>
            </ol>
            <a id="GUID-9B2F05F9-D841-4493-A42D-A7D89694A2D1" name="GUID-9B2F05F9-D841-4493-A42D-A7D89694A2D1"></a><a id="LNOCI300"></a>
            
            <h2 id="LNOCI-GUID-9B2F05F9-D841-4493-A42D-A7D89694A2D1" class="sect2"><span class="enumeration_chapter">C </span> OCI Function Server Round-Trips
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This appendix provides information about server round-trips incurred during various OCI calls.</p>
               <p>This information can help programmers to determine the most efficient way to accomplish a particular task in an application. A <span class="bold">server round-trip</span> is defined as the trip from the client to the server and back to the client. 
               </p>
               <div class="p">When using client-side SQL, OCI provides: 
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Enhanced array data manipulation language (DML) capability for arrays</p>
                     </li>
                     <li>
                        <p>Ability to associate a commit request with a run to reduce round-trips</p>
                     </li>
                     <li>
                        <p>Optimization for queries using transparent prefetch buffers to reduce round-trips</p>
                     </li>
                  </ul>As is often the case, there are tradeoffs. For example, for queries the trade off is often arraysize and prefetch size versus the number of underlying fetches.
                  <div class="infoboxnotealso" id="GUID-9B2F05F9-D841-4493-A42D-A7D89694A2D1__GUID-717BF22D-A81F-4F29-8675-110B28EEE5E1">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="using-sql_statements-in-oci.html#GUID-3F20EDC9-D436-4A54-9698-4FA95988A819" title="This chapter discusses the concepts and steps involved in processing SQL statements with Oracle Call Interface.">Using SQL Statements in OCI</a> for an overview and more specific information on tips to reduce server round-trips
                           </p>
                        </li>
                        <li>
                           <p><a href="binding-and-defining-in-oci.html#GUID-442E47AD-83A8-4959-9A73-DBFB7D3482A6" title="You can pass data to the Oracle database in various ways.">OCI Array Interface</a> to significantly reduce round-trips to the database when you are updating or inserting a large volume of data
                           </p>
                        </li>
                        <li>
                           <p><a href="using-sql_statements-in-oci.html#GUID-7AE9DBE2-5316-4802-99D1-969B72823F02" title="To minimize server round-trips and optimize performance, OCI can prefetch result set rows when executing a query.">About Setting Prefetch Count</a> to minimize server round-trips
                           </p>
                        </li>
                     </ul>
                  </div>. 
               </div>
               <p>This appendix contains these topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="oci-function-server-round-trips.html#GUID-B7E75A75-56BC-434C-896C-705F022EDD65" title="Describes for each OCI relational function the number of server round-trips.">Relational Function Round-Trips</a></p>
                  </li>
                  <li>
                     <p><a href="oci-function-server-round-trips.html#GUID-AD3700EF-9293-4E14-807E-43A6B395CBD5" title="Describes for each OCI LOB function the number of server round-trips.">LOB Function Round-Trips</a></p>
                  </li>
                  <li>
                     <p><a href="oci-function-server-round-trips.html#GUID-9DD7A106-4551-4590-A922-73D3A7CC06E8" title="Describes for each OCI object and cache function the number of server round-trips.">Object and Cache Function Round-Trips</a></p>
                  </li>
                  <li>
                     <p><a href="oci-function-server-round-trips.html#GUID-DC8AF7BC-7FCF-4848-B11B-6285A6FA486C" title="Describes for each OCI operation function the number of server round-trips.">Describe Operation Round-Trips</a></p>
                  </li>
                  <li>
                     <p><a href="oci-function-server-round-trips.html#GUID-2F40E138-6453-4D6A-940C-CE52D52629AA" title="Describes for each OCI data type mapping and manipulation function the number of server round-trips.">Data Type Mapping and Manipulation Function Round-Trips</a></p>
                  </li>
                  <li>
                     <p><a href="oci-function-server-round-trips.html#GUID-4CC811AE-42B9-44FE-93F8-BE8D95D606AB" title="Describes for each OCI Any Type and Data function the number of server round-trips.">Any Type and Data Function Round-Trips</a></p>
                  </li>
                  <li>
                     <p><a href="oci-function-server-round-trips.html#GUID-C9786B3E-193E-466C-A790-92A696B2D450" title="Describes for each OCI other local function the number of server round-trips.">Other Local Functions</a></p>
                  </li>
               </ul>
            </div><a id="LNOCI18076"></a><a id="LNOCI18075"></a><div class="props_rev_3"><a id="GUID-B7E75A75-56BC-434C-896C-705F022EDD65" name="GUID-B7E75A75-56BC-434C-896C-705F022EDD65"></a><h3 id="LNOCI-GUID-B7E75A75-56BC-434C-896C-705F022EDD65" class="sect3"><span class="enumeration_section">C.1 </span>Relational Function Round-Trips
               </h3>
               <div>
                  <p>Describes for each OCI relational function the number of server round-trips. </p>
                  <div class="section">
                     <p><a href="oci-function-server-round-trips.html#GUID-B7E75A75-56BC-434C-896C-705F022EDD65__G428053" title="This table has 2 columns. Column 1 is the function name and column 2 describes the number of server round-trips.">Table C-1</a> lists the number of server round-trips required by each OCI relational function.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-B7E75A75-56BC-434C-896C-705F022EDD65__G428053">
                     <p class="titleintable">Table C-1 Server Round-Trips for Relational Operations </p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Server Round-Trips for Relational Operations " summary="This table has 2 columns. Column 1 is the function name and column 2 describes the number of server round-trips." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="57%" id="d374990e495">Function</th>
                              <th align="left" valign="bottom" width="43%" id="d374990e498">Number of Server Round-Trips</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e503" headers="d374990e495 ">
                                 <p><code class="codeph">OCIBreak()</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e503 d374990e498 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e511" headers="d374990e495 ">
                                 <p><code class="codeph">OCIDBShutdown()</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e511 d374990e498 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e519" headers="d374990e495 ">
                                 <p><code class="codeph">OCIDBStartup()</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e519 d374990e498 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e527" headers="d374990e495 ">
                                 <p><code class="codeph">OCIEnvCreate()</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e527 d374990e498 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e535" headers="d374990e495 ">
                                 <p><code class="codeph">OCIEnvInit()</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e535 d374990e498 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e543" headers="d374990e495 ">
                                 <p><code class="codeph">OCIErrorGet()</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e543 d374990e498 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e551" headers="d374990e495 ">
                                 <p><code class="codeph">OCIInitialize()</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e551 d374990e498 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e559" headers="d374990e495 ">
                                 <p><code class="codeph">OCILdaToSvcCtx()</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e559 d374990e498 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e567" headers="d374990e495 ">
                                 <p><code class="codeph">OCILogoff()</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e567 d374990e498 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e575" headers="d374990e495 ">
                                 <p><code class="codeph">OCILogon()</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e575 d374990e498 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e583" headers="d374990e495 ">
                                 <p><code class="codeph">OCILogon2()</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e583 d374990e498 ">
                                 <p>Connection pool or session pool: same as OCISessionGet() </p>
                                 <p>Normal: 2 (depends on authentication and TAF situation)</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e594" headers="d374990e495 ">
                                 <p><code class="codeph">OCIPasswordChange()</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e594 d374990e498 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e602" headers="d374990e495 ">
                                 <p><code class="codeph">OCIPing()</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e602 d374990e498 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e610" headers="d374990e495 ">
                                 <p><code class="codeph">OCIReset()</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e610 d374990e498 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e618" headers="d374990e495 ">
                                 <p><code class="codeph">OCIServerAttach()</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e618 d374990e498 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e626" headers="d374990e495 ">
                                 <p><code class="codeph">OCIServerDetach()</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e626 d374990e498 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e634" headers="d374990e495 ">
                                 <p><code class="codeph">OCIServerVersion()</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e634 d374990e498 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e642" headers="d374990e495 ">
                                 <p><code class="codeph">OCISessionBegin()</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e642 d374990e498 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e650" headers="d374990e495 ">
                                 <p><code class="codeph">OCISessionEnd()</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e650 d374990e498 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e658" headers="d374990e495 ">
                                 <p><code class="codeph">OCISessionGet()</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e658 d374990e498 ">
                                 <p>Session pool: 0 - increment of logins. Connection pool: 1 to (1+ (increment * logins)). Depends on cache hit: one for the user session, optional increment for primary sessions.</p>
                                 <p>Normal: 1 login</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e668" headers="d374990e495 ">
                                 <p><code class="codeph">OCISessionPoolCreate()</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e668 d374990e498 ">
                                 <p>sessMin * logins</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e676" headers="d374990e495 ">
                                 <p><code class="codeph">OCISessionPoolDestroy()</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e676 d374990e498 ">
                                 <p>Sessions in cache * logoffs</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e685" headers="d374990e495 ">
                                 <p><code class="codeph">OCISessionRelease()</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e685 d374990e498 ">
                                 <p>Session pooling: 0, except when explicit session destroys flag set</p>
                                 <p>Normal: 1 login</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e695" headers="d374990e495 ">
                                 <p><code class="codeph">OCIStmtExecute()</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e695 d374990e498 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e703" headers="d374990e495 ">
                                 <p><code class="codeph">OCIStmtFetch()</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e703 d374990e498 ">
                                 <p>0 or 1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e711" headers="d374990e495 ">
                                 <p><code class="codeph">OCIStmtFetch2()</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e711 d374990e498 ">
                                 <p>0 in prefetch, otherwise 1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e719" headers="d374990e495 ">
                                 <p><code class="codeph">OCIStmtGetPieceInfo()</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e719 d374990e498 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e727" headers="d374990e495 ">
                                 <p><code class="codeph">OCIStmtPrepare()</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e727 d374990e498 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e735" headers="d374990e495 ">
                                 <p><code class="codeph">OCIStmtPrepare2()</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e735 d374990e498 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e743" headers="d374990e495 ">
                                 <p><code class="codeph">OCIStmtSetPieceInfo()</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e743 d374990e498 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e751" headers="d374990e495 ">
                                 <p><code class="codeph">OCISvcCtxToLda()</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e751 d374990e498 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e759" headers="d374990e495 ">
                                 <p><code class="codeph">OCITerminate()</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e759 d374990e498 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e767" headers="d374990e495 ">
                                 <p><code class="codeph">OCITransCommit()</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e767 d374990e498 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e776" headers="d374990e495 ">
                                 <p><code class="codeph">OCITransDetach()</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e776 d374990e498 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e784" headers="d374990e495 ">
                                 <p><code class="codeph">OCITransForget()</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e784 d374990e498 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e792" headers="d374990e495 ">
                                 <p><code class="codeph">OCITransPrepare()</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e792 d374990e498 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e800" headers="d374990e495 ">
                                 <p><code class="codeph">OCItransRollback()</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e800 d374990e498 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e808" headers="d374990e495 ">
                                 <p><code class="codeph">OCITransStart()</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e808 d374990e498 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e816" headers="d374990e495 ">
                                 <p><code class="codeph">OCIUserCallbackGet()</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e816 d374990e498 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="57%" id="d374990e824" headers="d374990e495 ">
                                 <p><code class="codeph">OCIUserCallbackRegister()</code></p>
                              </td>
                              <td align="left" valign="top" width="43%" headers="d374990e824 d374990e498 ">
                                 <p>0</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNOCI18078"></a><a id="LNOCI18077"></a><div class="props_rev_3"><a id="GUID-AD3700EF-9293-4E14-807E-43A6B395CBD5" name="GUID-AD3700EF-9293-4E14-807E-43A6B395CBD5"></a><h3 id="LNOCI-GUID-AD3700EF-9293-4E14-807E-43A6B395CBD5" class="sect3"><span class="enumeration_section">C.2 </span>LOB Function Round-Trips
               </h3>
               <div>
                  <p>Describes for each OCI LOB function the number of server round-trips. </p>
                  <div class="section">
                     <p><span class="bold"></span><a href="oci-function-server-round-trips.html#GUID-AD3700EF-9293-4E14-807E-43A6B395CBD5__CACHAFFI" title="This table has 2 columns. Column 1 is the function name and column 2 describes the number of server round-trips.">Table C-2</a> lists the server round-trips incurred by the <code class="codeph">OCILob</code> calls. 
                     </p>
                     <div class="infoboxnote" id="GUID-AD3700EF-9293-4E14-807E-43A6B395CBD5__GUID-A2BCB64B-93B1-4735-AF81-9D87B36C1DFA">
                        <p class="notep1">Note:</p>
                        <p>To minimize the number of round-trips, you can use the data interface for LOBs. You can bind or define character data for a <code class="codeph">CLOB</code> column or <code class="codeph">RAW</code> data for a <code class="codeph">BLOB</code> column.
                        </p>
                     </div>
                     <p>For calls whose number of round-trips is "0 or 1," if LOB buffering is on, and the request can be satisfied in the client, no round-trips are incurred.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-AD3700EF-9293-4E14-807E-43A6B395CBD5__CACHAFFI">
                     <p class="titleintable">Table C-2 Server Round-Trips for OCILob Calls</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Server Round-Trips for OCILob Calls" summary="This table has 2 columns. Column 1 is the function name and column 2 describes the number of server round-trips." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="41%" id="d374990e1063">Function</th>
                              <th align="left" valign="bottom" width="59%" id="d374990e1066">Number of Server Round-Trips</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1071" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobAppend()</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1071 d374990e1066 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1079" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobArrayRead()</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1079 d374990e1066 ">
                                 <p>1 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1087" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobArraywrite()</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1087 d374990e1066 ">
                                 <p>1 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1095" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobAssign()</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1095 d374990e1066 ">
                                 <p>0 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1103" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobCharSetForm()</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1103 d374990e1066 ">
                                 <p>0 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1111" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobCharSetId()</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1111 d374990e1066 ">
                                 <p>0 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1119" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobClose()</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1119 d374990e1066 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1127" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobCopy()</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1127 d374990e1066 ">
                                 <p>1 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1135" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobCopy2()</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1135 d374990e1066 ">
                                 <p>1 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1143" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobCreateTemporary()</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1143 d374990e1066 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1151" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobDisableBuffering()</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1151 d374990e1066 ">
                                 <p>0 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1160" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobEnableBuffering()</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1160 d374990e1066 ">
                                 <p>0 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1168" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobErase()</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1168 d374990e1066 ">
                                 <p>1 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1176" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobErase2()</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1176 d374990e1066 ">
                                 <p>1 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1184" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobFileClose()</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1184 d374990e1066 ">
                                 <p>1 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1192" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobFileCloseAll()</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1192 d374990e1066 ">
                                 <p>1 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1200" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobFileExists()</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1200 d374990e1066 ">
                                 <p>1 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1208" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobFileGetName()</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1208 d374990e1066 ">
                                 <p>0 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1216" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobFileIsOpen()</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1216 d374990e1066 ">
                                 <p>1 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1224" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobFileOpen()</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1224 d374990e1066 ">
                                 <p>1 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1232" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobFileSetName()</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1232 d374990e1066 ">
                                 <p>0 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1240" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobFlushBuffer()</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1240 d374990e1066 ">
                                 <p>1 for each modified page in the buffer for this LOB </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1249" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobFreeTemporary()</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1249 d374990e1066 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1257" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobGetChunkSize()</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1257 d374990e1066 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1265" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobGetLength()</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1265 d374990e1066 ">
                                 <p>1 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1273" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobGetLength2()</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1273 d374990e1066 ">
                                 <p>1 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1281" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobGetStorageLimit()</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1281 d374990e1066 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1289" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobIsEqual()</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1289 d374990e1066 ">
                                 <p>0 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1297" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobIsOpen()</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1297 d374990e1066 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1305" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobIsTemporary()</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1305 d374990e1066 ">
                                 <p>0 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1313" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobLoadFromFile()</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1313 d374990e1066 ">
                                 <p>1 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1321" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobLoadFromFile2()</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1321 d374990e1066 ">
                                 <p>1 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1329" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobLocatorAssign()</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1329 d374990e1066 ">
                                 <p>1 round-trip if either the source or the destination locator refers to a temporary LOB</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1338" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobLocatorIsInit()</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1338 d374990e1066 ">
                                 <p>0 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1346" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobOpen()</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1346 d374990e1066 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1354" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobRead()</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1354 d374990e1066 ">
                                 <p>0 or 1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1362" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobRead2()</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1362 d374990e1066 ">
                                 <p>0 or 1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1370" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobTrim()</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1370 d374990e1066 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1378" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobTrim2()</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1378 d374990e1066 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1386" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobWrite()</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1386 d374990e1066 ">
                                 <p>0 or 1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1394" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobWrite2()</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1394 d374990e1066 ">
                                 <p>0 or 1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1402" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobWriteAppend()</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1402 d374990e1066 ">
                                 <p>0 or 1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d374990e1410" headers="d374990e1063 ">
                                 <p><code class="codeph">OCILobWriteAppend2()</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d374990e1410 d374990e1066 ">
                                 <p>0 or 1</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-AD3700EF-9293-4E14-807E-43A6B395CBD5__GUID-4A870DEB-CAC3-4918-85E2-C8887BA8FF91">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="binding-and-defining-in-oci.html#GUID-D757C946-BCDA-4A32-867B-BE951BA9BBF4" title="Oracle Database allows nonzero binds for INSERTs and UPDATEs of any size LOB.">About Binding LOB Data</a> for usage and examples for both <code class="codeph">INSERT</code> and <code class="codeph">UPDATE</code> statements
                              </p>
                           </li>
                           <li><a href="binding-and-defining-in-oci.html#GUID-FE7DB3D8-9310-41ED-8869-B5106E60D29E">About Defining LOB Data</a><p> for usage and examples of <code class="codeph">SELECT</code> statements
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNOCI18080"></a><a id="LNOCI18079"></a><div class="props_rev_3"><a id="GUID-9DD7A106-4551-4590-A922-73D3A7CC06E8" name="GUID-9DD7A106-4551-4590-A922-73D3A7CC06E8"></a><h3 id="LNOCI-GUID-9DD7A106-4551-4590-A922-73D3A7CC06E8" class="sect3"><span class="enumeration_section">C.3 </span>Object and Cache Function Round-Trips
               </h3>
               <div>
                  <p>Describes for each OCI object and cache function the number of server round-trips.</p>
                  <div class="section">
                     <p><a href="oci-function-server-round-trips.html#GUID-9DD7A106-4551-4590-A922-73D3A7CC06E8__G427836" title="This table has 2 columns. Column 1 is the function name and column 2 describes the number of server round-trips.">Table C-3</a> lists the number of server round-trips required for the object and cache functions. These values assume the cache is in a <span class="italic">warm</span> state, meaning that the type descriptor objects required by the application have been loaded.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-9DD7A106-4551-4590-A922-73D3A7CC06E8__G427836">
                     <p class="titleintable">Table C-3 Server Round-Trips for Object and Cache Functions </p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Server Round-Trips for Object and Cache Functions " summary="This table has 2 columns. Column 1 is the function name and column 2 describes the number of server round-trips." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="48%" id="d374990e1672">Function</th>
                              <th align="left" valign="bottom" width="52%" id="d374990e1675">Number of Server Round-Trips</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d374990e1680" headers="d374990e1672 ">
                                 <p><code class="codeph">OCICacheFlush()</code></p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d374990e1680 d374990e1675 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d374990e1688" headers="d374990e1672 ">
                                 <p><code class="codeph">OCICacheFree()</code></p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d374990e1688 d374990e1675 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d374990e1696" headers="d374990e1672 ">
                                 <p><code class="codeph">OCICacheRefresh()</code></p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d374990e1696 d374990e1675 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d374990e1704" headers="d374990e1672 ">
                                 <p><code class="codeph">OCICacheUnmark()</code></p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d374990e1704 d374990e1675 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d374990e1712" headers="d374990e1672 ">
                                 <p><code class="codeph">OCICacheUnpin()</code></p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d374990e1712 d374990e1675 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d374990e1720" headers="d374990e1672 ">
                                 <p><code class="codeph">OCIObjectArrayPin()</code></p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d374990e1720 d374990e1675 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d374990e1728" headers="d374990e1672 ">
                                 <p><code class="codeph">OCIObjectCopy()</code></p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d374990e1728 d374990e1675 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d374990e1736" headers="d374990e1672 ">
                                 <p><code class="codeph">OCIObjectExists()</code></p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d374990e1736 d374990e1675 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d374990e1744" headers="d374990e1672 ">
                                 <p><code class="codeph">OCIObjectFlush()</code></p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d374990e1744 d374990e1675 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d374990e1752" headers="d374990e1672 ">
                                 <p><code class="codeph">OCIObjectFree()</code></p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d374990e1752 d374990e1675 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d374990e1760" headers="d374990e1672 ">
                                 <p><code class="codeph">OCIObjectGetInd()</code></p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d374990e1760 d374990e1675 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d374990e1769" headers="d374990e1672 ">
                                 <p><code class="codeph">OCIObjectGetObjectRef()</code></p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d374990e1769 d374990e1675 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d374990e1777" headers="d374990e1672 ">
                                 <p><code class="codeph">OCIObjectGetTypeRef()</code></p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d374990e1777 d374990e1675 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d374990e1785" headers="d374990e1672 ">
                                 <p><code class="codeph">OCIObjectIsDirty()</code></p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d374990e1785 d374990e1675 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d374990e1793" headers="d374990e1672 ">
                                 <p><code class="codeph">OCIObjectIsLocked()</code></p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d374990e1793 d374990e1675 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d374990e1801" headers="d374990e1672 ">
                                 <p><code class="codeph">OCIObjectLock()</code></p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d374990e1801 d374990e1675 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d374990e1809" headers="d374990e1672 ">
                                 <p><code class="codeph">OCIObjectMarkDelete()</code></p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d374990e1809 d374990e1675 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d374990e1817" headers="d374990e1672 ">
                                 <p><code class="codeph">OCIObjectMarkDeleteByRef()</code></p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d374990e1817 d374990e1675 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d374990e1825" headers="d374990e1672 ">
                                 <p><code class="codeph">OCIObjectMarkUpdate()</code></p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d374990e1825 d374990e1675 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d374990e1833" headers="d374990e1672 ">
                                 <p><code class="codeph">OCIObjectNew()</code></p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d374990e1833 d374990e1675 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d374990e1841" headers="d374990e1672 ">
                                 <p><code class="codeph">OCIObjectPin()</code></p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d374990e1841 d374990e1675 ">
                                 <p>1; 0 if the desired object is already in cache</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d374990e1849" headers="d374990e1672 ">
                                 <p><code class="codeph">OCIObjectPinCountReset()</code></p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d374990e1849 d374990e1675 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d374990e1858" headers="d374990e1672 ">
                                 <p><code class="codeph">OCIObjectPinTable()</code></p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d374990e1858 d374990e1675 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d374990e1866" headers="d374990e1672 ">
                                 <p><code class="codeph">OCIObjectRefresh()</code></p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d374990e1866 d374990e1675 ">
                                 <p>1</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d374990e1874" headers="d374990e1672 ">
                                 <p><code class="codeph">OCIObjectUnmark()</code></p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d374990e1874 d374990e1675 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d374990e1882" headers="d374990e1672 ">
                                 <p><code class="codeph">OCIObjectUnmarkByRef()</code></p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d374990e1882 d374990e1675 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="48%" id="d374990e1890" headers="d374990e1672 ">
                                 <p><code class="codeph">OCIObjectUnpin()</code></p>
                              </td>
                              <td align="left" valign="top" width="52%" headers="d374990e1890 d374990e1675 ">
                                 <p>0</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNOCI18082"></a><a id="LNOCI18081"></a><div class="props_rev_3"><a id="GUID-DC8AF7BC-7FCF-4848-B11B-6285A6FA486C" name="GUID-DC8AF7BC-7FCF-4848-B11B-6285A6FA486C"></a><h3 id="LNOCI-GUID-DC8AF7BC-7FCF-4848-B11B-6285A6FA486C" class="sect3"><span class="enumeration_section">C.4 </span>Describe Operation Round-Trips
               </h3>
               <div>
                  <p>Describes for each OCI operation function the number of server round-trips.</p>
                  <div class="section">
                     <p><a href="oci-function-server-round-trips.html#GUID-DC8AF7BC-7FCF-4848-B11B-6285A6FA486C__G427955" title="This table has 2 columns. Column 1 is the function name and column 2 describes the number of server round-trips.">Table C-4</a> lists the number of server round-trips required by <code class="codeph">OCIDescribeAny()</code>, <code class="codeph">OCIAttrGet()</code>, and <code class="codeph">OCIParamGet()</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-DC8AF7BC-7FCF-4848-B11B-6285A6FA486C__G427955">
                     <p class="titleintable">Table C-4 Server Round-Trips for Describe Operations</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Server Round-Trips for Describe Operations" summary="This table has 2 columns. Column 1 is the function name and column 2 describes the number of server round-trips." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="30%" id="d374990e2119">Function</th>
                              <th align="left" valign="bottom" width="70%" id="d374990e2122">Number of Server Round-Trips</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d374990e2127" headers="d374990e2119 ">
                                 <p><code class="codeph">OCIAttrGet()</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d374990e2127 d374990e2122 ">
                                 <p>2 round-trips to describe a type if the type objects are not in the object cache </p>
                                 <p>1 round-trip for each collection element, or each type attribute, method, or method argument descriptor. 1 more round-trip if using <code class="codeph">OCI_ATTR_TYPE_NAME</code>, or <code class="codeph">OCI_ATTR_SCHEMA_NAME</code> on the collection element, type attribute, or method argument. 
                                 </p>
                                 <p>0 if all the type objects to be described are already in the object cache following the first <code class="codeph">OCIAttrGet()</code> call.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d374990e2148" headers="d374990e2119 ">
                                 <p><code class="codeph">OCIDescribeAny()</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d374990e2148 d374990e2122 ">
                                 <p>1 round-trip to get the <code class="codeph">REF</code> of the type descriptor object
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d374990e2159" headers="d374990e2119 ">
                                 <p><code class="codeph">OCIParamGet()</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d374990e2159 d374990e2122 ">
                                 <p>0</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNOCI18084"></a><a id="LNOCI18083"></a><div class="props_rev_3"><a id="GUID-2F40E138-6453-4D6A-940C-CE52D52629AA" name="GUID-2F40E138-6453-4D6A-940C-CE52D52629AA"></a><h3 id="LNOCI-GUID-2F40E138-6453-4D6A-940C-CE52D52629AA" class="sect3"><span class="enumeration_section">C.5 </span>Data Type Mapping and Manipulation Function Round-Trips
               </h3>
               <div>
                  <p>Describes for each OCI data type mapping and manipulation function the number of server round-trips.</p>
                  <div class="section">
                     <p><a href="oci-function-server-round-trips.html#GUID-2F40E138-6453-4D6A-940C-CE52D52629AA__G427924" title="This table has 2 columns. Column 1 is the function name and column 2 describes the number of server round-trips.">Table C-5</a> lists the number of round-trips for the data type mapping and manipulation functions. The asterisks in the table indicate that all functions with a particular prefix incur the same number of server round-trips. For example, <code class="codeph">OCINumberAdd()</code>, <code class="codeph">OCINumberPower()</code>, and <code class="codeph">OCINumberFromText()</code> all incur zero server round-trips.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-2F40E138-6453-4D6A-940C-CE52D52629AA__G427924">
                     <p class="titleintable">Table C-5 Server Round-Trips for Data Type Manipulation Functions </p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Server Round-Trips for Data Type Manipulation Functions " summary="This table has 2 columns. Column 1 is the function name and column 2 describes the number of server round-trips." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="26%" id="d374990e2389">Function</th>
                              <th align="left" valign="bottom" width="74%" id="d374990e2392">Number of Server Round-Trips</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d374990e2397" headers="d374990e2389 ">
                                 <p><code class="codeph">OCIColl*()</code></p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d374990e2397 d374990e2392 ">
                                 <p>0; 1 if the collection is not loaded in the cache</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d374990e2405" headers="d374990e2389 ">
                                 <p><code class="codeph">OCIDate*()</code></p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d374990e2405 d374990e2392 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d374990e2413" headers="d374990e2389 ">
                                 <p><code class="codeph">OCIIter*()</code></p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d374990e2413 d374990e2392 ">
                                 <p>0; 1 if the collection is not loaded in the cache</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d374990e2421" headers="d374990e2389 ">
                                 <p><code class="codeph">OCINumber*()</code></p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d374990e2421 d374990e2392 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d374990e2429" headers="d374990e2389 ">
                                 <p><code class="codeph">OCIRaw*()</code></p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d374990e2429 d374990e2392 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d374990e2437" headers="d374990e2389 ">
                                 <p><code class="codeph">OCIRef*()</code></p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d374990e2437 d374990e2392 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d374990e2445" headers="d374990e2389 ">
                                 <p><code class="codeph">OCIString*()</code></p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d374990e2445 d374990e2392 ">
                                 <p>0</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d374990e2453" headers="d374990e2389 ">
                                 <p><code class="codeph">OCITable*()</code></p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d374990e2453 d374990e2392 ">
                                 <p>0; 1 if the nested table is not loaded in the cache</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNOCI18086"></a><a id="LNOCI18085"></a><div class="props_rev_3"><a id="GUID-4CC811AE-42B9-44FE-93F8-BE8D95D606AB" name="GUID-4CC811AE-42B9-44FE-93F8-BE8D95D606AB"></a><h3 id="LNOCI-GUID-4CC811AE-42B9-44FE-93F8-BE8D95D606AB" class="sect3"><span class="enumeration_section">C.6 </span>Any Type and Data Function Round-Trips
               </h3>
               <div>
                  <p>Describes for each OCI Any Type and Data function the number of server round-trips. </p>
                  <div class="section">
                     <p><a href="oci-function-server-round-trips.html#GUID-4CC811AE-42B9-44FE-93F8-BE8D95D606AB__G428150" title="This table has 2 columns. Column 1 is the function name and column 2 describes the number of server round-trips.">Table C-6</a> lists the number of server round-trips required by Any Type and Data functions. The functions not listed do not generate any round-trips.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-4CC811AE-42B9-44FE-93F8-BE8D95D606AB__G428150">
                     <p class="titleintable">Table C-6 Server Round-Trips for Any Type and Data Functions </p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Server Round-Trips for Any Type and Data Functions " summary="This table has 2 columns. Column 1 is the function name and column 2 describes the number of server round-trips." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="40%" id="d374990e2663">Function</th>
                              <th align="left" valign="bottom" width="60%" id="d374990e2666">Number of Server Round-Trips</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="40%" id="d374990e2671" headers="d374990e2663 ">
                                 <p><code class="codeph">OCIAnyDataAttrGet()</code></p>
                              </td>
                              <td align="left" valign="top" width="60%" headers="d374990e2671 d374990e2666 ">
                                 <p>0; 1 if the type information is not loaded in the cache</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="40%" id="d374990e2679" headers="d374990e2663 ">
                                 <p><code class="codeph">OCIAnyDataAttrSet()</code></p>
                              </td>
                              <td align="left" valign="top" width="60%" headers="d374990e2679 d374990e2666 ">
                                 <p>0; 1 if the type information is not loaded in the cache</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="40%" id="d374990e2687" headers="d374990e2663 ">
                                 <p><code class="codeph">OCIAnyDataCollGetElem()</code></p>
                              </td>
                              <td align="left" valign="top" width="60%" headers="d374990e2687 d374990e2666 ">
                                 <p>0; 1 if the type information is not loaded in the cache</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNOCI18088"></a><a id="LNOCI18087"></a><div class="props_rev_3"><a id="GUID-C9786B3E-193E-466C-A790-92A696B2D450" name="GUID-C9786B3E-193E-466C-A790-92A696B2D450"></a><h3 id="LNOCI-GUID-C9786B3E-193E-466C-A790-92A696B2D450" class="sect3"><span class="enumeration_section">C.7 </span>Other Local Functions
               </h3>
               <div>
                  <p>Describes for each OCI other local function the number of server round-trips.</p>
                  <div class="section">
                     <p><a href="oci-function-server-round-trips.html#GUID-C9786B3E-193E-466C-A790-92A696B2D450__G427971" title="This table has 2 columns. Column 1 is the local function name and column 2 is Notes, which describes in the first row the number of server round-trips when describing an object type; otherwise, no server round-trip is required for each of these local function names.">Table C-7</a> lists the functions that are local and do not require a server round-trip.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-C9786B3E-193E-466C-A790-92A696B2D450__G427971">
                     <p class="titleintable">Table C-7 Locally Processed Functions </p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Locally Processed Functions " summary="This table has 2 columns. Column 1 is the local function name and column 2 is Notes, which describes in the first row the number of server round-trips when describing an object type; otherwise, no server round-trip is required for each of these local function names." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="47%" id="d374990e2905">Local Function Name</th>
                              <th align="left" valign="bottom" width="53%" id="d374990e2908">Notes</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d374990e2913" headers="d374990e2905 ">
                                 <p><code class="codeph">OCIAttrGet()</code></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d374990e2913 d374990e2908 ">
                                 <p>When describing an object type, this call makes one round-trip to fetch the type descriptor object.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d374990e2921" headers="d374990e2905 ">
                                 <p><code class="codeph">OCIAttrSet()</code></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d374990e2921 d374990e2908 ">
                                 <p>&nbsp;</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d374990e2929" headers="d374990e2905 ">
                                 <p><code class="codeph">OCIBindArrayOfStruct()</code></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d374990e2929 d374990e2908 ">
                                 <p>&nbsp;</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d374990e2937" headers="d374990e2905 ">
                                 <p><code class="codeph">OCIDefineArrayOfStruct()</code></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d374990e2937 d374990e2908 ">
                                 <p>&nbsp;</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d374990e2945" headers="d374990e2905 ">
                                 <p><code class="codeph">OCIBindByName()</code></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d374990e2945 d374990e2908 ">
                                 <p>&nbsp;</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d374990e2953" headers="d374990e2905 ">
                                 <p><code class="codeph">OCIBindByPos()</code></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d374990e2953 d374990e2908 ">
                                 <p>&nbsp;</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d374990e2961" headers="d374990e2905 ">
                                 <p><code class="codeph">OCIBindDynamic()</code></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d374990e2961 d374990e2908 ">
                                 <p>&nbsp;</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d374990e2969" headers="d374990e2905 ">
                                 <p><code class="codeph">OCIBindObject()</code></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d374990e2969 d374990e2908 ">
                                 <p>&nbsp;</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d374990e2977" headers="d374990e2905 ">
                                 <p><code class="codeph">OCIDefineByPos()</code></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d374990e2977 d374990e2908 ">
                                 <p>&nbsp;</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d374990e2985" headers="d374990e2905 ">
                                 <p><code class="codeph">OCIDefineDynamic()</code></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d374990e2985 d374990e2908 ">
                                 <p>&nbsp;</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d374990e2993" headers="d374990e2905 ">
                                 <p><code class="codeph">OCIDefineObject()</code></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d374990e2993 d374990e2908 ">
                                 <p>&nbsp;</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d374990e3002" headers="d374990e2905 ">
                                 <p><code class="codeph">OCIDescriptorAlloc()</code></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d374990e3002 d374990e2908 ">
                                 <p>&nbsp;</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d374990e3010" headers="d374990e2905 ">
                                 <p><code class="codeph">OCIDescriptorFree()</code></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d374990e3010 d374990e2908 ">
                                 <p>&nbsp;</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d374990e3018" headers="d374990e2905 ">
                                 <p><code class="codeph">OCIEnvCreate()</code></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d374990e3018 d374990e2908 ">
                                 <p>&nbsp;</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d374990e3026" headers="d374990e2905 ">
                                 <p><code class="codeph">OCIEnvInit()</code></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d374990e3026 d374990e2908 ">
                                 <p>&nbsp;</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d374990e3034" headers="d374990e2905 ">
                                 <p><code class="codeph">OCIErrorGet()</code></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d374990e3034 d374990e2908 ">
                                 <p>&nbsp;</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d374990e3042" headers="d374990e2905 ">
                                 <p><code class="codeph">OCIHandleAlloc()</code></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d374990e3042 d374990e2908 ">
                                 <p>&nbsp;</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d374990e3050" headers="d374990e2905 ">
                                 <p><code class="codeph">OCIHandleFree()</code></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d374990e3050 d374990e2908 ">
                                 <p>&nbsp;</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d374990e3058" headers="d374990e2905 ">
                                 <p><code class="codeph">OCILdaToSvcCtx()</code></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d374990e3058 d374990e2908 ">
                                 <p>&nbsp;</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d374990e3066" headers="d374990e2905 ">
                                 <p><code class="codeph">OCIStmtGetBindInfo()</code></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d374990e3066 d374990e2908 ">
                                 <p>&nbsp;</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d374990e3074" headers="d374990e2905 ">
                                 <p><code class="codeph">OCIStmtPrepare()</code></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d374990e3074 d374990e2908 ">
                                 <p>&nbsp;</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d374990e3082" headers="d374990e2905 ">
                                 <p><code class="codeph">OCIStmtRelease()</code></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d374990e3082 d374990e2908 ">&nbsp;</td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d374990e3089" headers="d374990e2905 ">
                                 <p><code class="codeph">OCIStmtPrepare2()</code></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d374990e3089 d374990e2908 ">&nbsp;</td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="47%" id="d374990e3095" headers="d374990e2905 ">
                                 <p><code class="codeph">OCISvcCtxToLda()</code></p>
                              </td>
                              <td align="left" valign="top" width="53%" headers="d374990e3095 d374990e2908 ">
                                 <p>&nbsp;</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>