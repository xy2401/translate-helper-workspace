<html id='01721.server-side-programming.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="SQL explains the Structured Query Language (SQL) language and how the database processes SQL statements. This chapter explains how Procedural Language/SQL (PL/SQL) or Java programs stored in the database can use SQL.">
      <meta name="description" content="SQL explains the Structured Query Language (SQL) language and how the database processes SQL statements. This chapter explains how Procedural Language/SQL (PL/SQL) or Java programs stored in the database can use SQL.">
      <title>Server-Side Programming: PL/SQL and Java</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database Concepts">
      <meta property="og:description" content="SQL explains the Structured Query Language (SQL) language and how the database processes SQL statements. This chapter explains how Procedural Language/SQL (PL/SQL) or Java programs stored in the database can use SQL.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database Concepts">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-concepts.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-09T07:47:16-08:00">
      <meta name="dcterms.title" content="Database Concepts">
      <meta name="dcterms.dateCopyrighted" content="1993, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96138-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="sql.html" title="Previous" type="text/html">
      <link rel="next" href="oracle-transaction-management.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="CNCPT">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="sql.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="oracle-transaction-management.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database Concepts</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="oracle-data-access.html" property="item" typeof="WebPage"><span property="name">Oracle Data Access</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Server-Side Programming: PL/SQL and Java</li>
            </ol>
            <a id="GUID-D4A154D2-DF56-45DA-863C-BED5DA6BDA34" name="GUID-D4A154D2-DF56-45DA-863C-BED5DA6BDA34"></a><a id="CNCPT036"></a>
            
            <h2 id="CNCPT-GUID-D4A154D2-DF56-45DA-863C-BED5DA6BDA34" class="sect2"><span class="enumeration_chapter">8 </span>Server-Side Programming: PL/SQL and Java
            </h2>
         </header>
         <div class="ind">
            <div>
               <p><span class="bold">SQL</span> explains the Structured Query Language (SQL) language and how the database processes SQL statements. This chapter explains how Procedural Language/SQL (PL/SQL) or Java programs stored in the database can use SQL.
               </p>
               <p>This chapter includes the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="server-side-programming.html#GUID-6B5D98B7-A25D-4187-B3A9-43629E214635" title="In a nonprocedural language such as SQL, the set of data to be operated on is specified, but not the operations to be performed or the manner in which they are to be carried out.">Introduction to Server-Side Programming</a></p>
                  </li>
                  <li>
                     <p><a href="server-side-programming.html#GUID-1E17CED5-73C6-4C10-85F1-A2CB4D5F9855" title="PL/SQL provides a server-side, stored procedural language that is easy-to-use, seamless with SQL, robust, portable, and secure. You can access and manipulate database data using procedural objects called PL/SQL units.">Overview of PL/SQL</a></p>
                  </li>
                  <li>
                     <p><a href="server-side-programming.html#GUID-DDFED855-D1F3-4AB2-8FD3-B2A1B3C922D7" title="Java has emerged as the object-oriented programming language of choice.">Overview of Java in Oracle Database</a></p>
                  </li>
                  <li>
                     <p><a href="server-side-programming.html#GUID-40297ADF-0968-42F8-B8B9-84AD6ADCBE63" title="A database trigger is a compiled stored program unit, written in either PL/SQL or Java, that Oracle Database invokes ("fires") automatically in certain situations.">Overview of Triggers</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-D4A154D2-DF56-45DA-863C-BED5DA6BDA34__GUID-E8018424-A5DC-43F5-9CFF-E7C8FD41C575">
                  <p class="notep1">See Also:</p>
                  <p><span class="q">"<a href="sql.html#GUID-DA48618A-A6BB-421A-A10A-02859D8ED9AD" title="This chapter provides an overview of the Structured Query Language (SQL) and how Oracle Database processes SQL statements.">SQL</a>"</span> for an overview of the SQL language
                  </p>
               </div>
            </div><a id="CNCPT1758"></a><div class="props_rev_3"><a id="GUID-6B5D98B7-A25D-4187-B3A9-43629E214635" name="GUID-6B5D98B7-A25D-4187-B3A9-43629E214635"></a><h3 id="CNCPT-GUID-6B5D98B7-A25D-4187-B3A9-43629E214635" class="sect3">Introduction to Server-Side Programming</h3>
               <div>
                  <p>In a nonprocedural language such as SQL, the set of data to be operated on is specified, but not the operations to be performed or the manner in which they are to be carried out. </p>
                  <p>In a procedural language program, most statement execution depends on previous or subsequent statements and on control structures, such as loops or conditional branches, that are not available in SQL. For an illustration of the difference between procedural and nonprocedural languages, suppose that the following SQL statement queries the <code class="codeph">employees</code> table:
                  </p><pre class="pre codeblock"><code>SELECT employee_id, department_id, last_name, salary FROM employees;
</code></pre><p>The preceding statement requests data, but does not apply logic to the data. However, suppose you want an application to determine whether each employee in the data set deserves a raise based on salary and department performance. A necessary condition of a raise is that the employee did not receive more than three raises in the last five years. If a raise is called for, then the application must adjust the salary and email the manager; otherwise, the application must update a report.</p>
                  <p>The problem is how procedural database applications requiring conditional logic and program flow control can use SQL. The basic development approaches are as follows:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Use client-side programming to embed SQL statements in applications written in procedural languages such as C, C++, or Java</p>
                        <p>You can place SQL statements in source code and submit it to a <a href="glossary.html#GUID-FDCF892E-6AD5-4AC9-9D1D-A9C7D106D21D"><span class="xrefglossterm">precompiler</span></a> or Java translator before compilation. Alternatively, you can eliminate the precompilation step and use an API such as Java Database Connectivity (JDBC) or Oracle Call Interface (OCI) to enable the application to interact with the database.
                        </p>
                     </li>
                     <li>
                        <p>Use server-side programming to develop data logic that resides in the database</p>
                        <p>An application can explicitly invoke stored subprograms (procedures and functions), written in PL/SQL (pronounced <span class="italic">P L sequel</span>) or Java. You can also create a <a href="glossary.html#GUID-8BA32C58-ACF3-4B6B-941F-586DE399D22A"><span class="xrefglossterm">trigger</span></a>, which is named program unit that is stored in the database and invoked in response to a specified event.
                        </p>
                     </li>
                  </ul>
                  <p>This chapter explains the second approach. The principal benefit of server-side programming is that functionality built into the database can be deployed anywhere. The database and not the application determines the best way to perform tasks on a given operating system. Also, subprograms increase scalability by centralizing application processing on the server, enabling clients to reuse code. Because subprogram calls are quick and efficient, a single call can start a compute-intensive stored subprogram, reducing network traffic.</p>
                  <p>You can use the following languages to store data logic in Oracle Database:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>PL/SQL</p>
                        <p>PL/SQL is the Oracle Database procedural extension to SQL. PL/SQL is integrated with the database, supporting all Oracle SQL statements, functions, and data types. Applications written in database APIs can invoke PL/SQL stored subprograms and send PL/SQL code blocks to the database for execution.</p>
                     </li>
                     <li>
                        <p>Java</p>
                        <p>Oracle Database also provides support for developing, storing, and deploying Java applications. Java stored subprograms run in the database and are independent of programs that run in the middle tier. Java stored subprograms interface with SQL using a similar execution model to PL/SQL.</p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-6B5D98B7-A25D-4187-B3A9-43629E214635__GUID-7663186E-29A6-4904-B7B0-7435318534A7">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="q">"<a href="concepts-for-database-developers.html#GUID-87F23274-B506-486B-8775-880016095EF5" title="You can use precompilers or Java translators to place SQL statements in source code, or you can use APIs to enable applications to interact with the database.">Client-Side Database Programming</a>"</span> to learn about embedding SQL with precompilers and APIs
                           </p>
                        </li>
                        <li>
                           <p><a href="../tdddg/two-day-developer-intro.html#TDDDG10000" target="_blank"><span><cite>Oracle Database 2 Day Developer's Guide</cite></span></a> for an introduction to Oracle Database application development
                           </p>
                        </li>
                        <li>
                           <p><a href="../adfns/application-architecture.html#ADFNS00109" target="_blank"><span><cite>Oracle Database Development Guide</cite></span></a> to learn how to choose a programming environment 
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="CNCPT416"></a><div class="props_rev_3"><a id="GUID-1E17CED5-73C6-4C10-85F1-A2CB4D5F9855" name="GUID-1E17CED5-73C6-4C10-85F1-A2CB4D5F9855"></a><h3 id="CNCPT-GUID-1E17CED5-73C6-4C10-85F1-A2CB4D5F9855" class="sect3">Overview of PL/SQL</h3>
               <div>
                  <p>PL/SQL provides a server-side, stored procedural language that is easy-to-use, seamless with SQL, robust, portable, and secure. You can access and manipulate database data using procedural objects called <span class="italic">PL/SQL units</span>.
                  </p>
                  <p>PL/SQL units generally are categorized as follows:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>A <a href="glossary.html#GUID-4BF65C07-E5DD-454C-8AD0-E38EF5672CE4"><span class="xrefglossterm">PL/SQL subprogram</span></a> is a PL/SQL block that is stored in the database and can be called by name from an application. When you create a subprogram, the database parses the subprogram and stores its parsed representation in the database. You can declare a subprogram as a procedure or a function.
                        </p>
                     </li>
                     <li>
                        <p>A <a href="glossary.html#GUID-97C2CD46-CE4D-4A23-B44D-815A1E8F0906"><span class="xrefglossterm">PL/SQL anonymous block</span></a> is a PL/SQL block that appears in your application and is not named or stored in the database. In many applications, PL/SQL blocks can appear wherever SQL statements can appear.
                        </p>
                     </li>
                  </ul>
                  <p>The PL/SQL compiler and interpreter are embedded in Oracle SQL Developer, giving developers a consistent and leveraged development model on both client and server. Also, PL/SQL stored procedures can be called from several database clients, such as Pro*C, JDBC, ODBC, or OCI, and from Oracle Reports and Oracle Forms.</p>
                  <div class="infoboxnotealso" id="GUID-1E17CED5-73C6-4C10-85F1-A2CB4D5F9855__GUID-9582AD50-F0BC-40DA-9E70-09D4B64431F4">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="q">"<a href="concepts-for-database-developers.html#GUID-D1C1BC1D-03C7-4A18-BB88-0D76F311DAF0" title="Oracle provides several tools for use in developing database applications. This section describes some commonly used development tools.">Tools for Database Developers</a>"</span></p>
                        </li>
                        <li>
                           <p><a href="../lnpls/overview.html#LNPLS001" target="_blank"><span><cite>Oracle Database PL/SQL Language Reference</cite></span></a> for complete information about PL/SQL, including packages
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="CNCPT1776"></a><div class="props_rev_3"><a id="GUID-7C398775-F4FB-47A2-AED5-458E00FB1E35" name="GUID-7C398775-F4FB-47A2-AED5-458E00FB1E35"></a><h4 id="CNCPT-GUID-7C398775-F4FB-47A2-AED5-458E00FB1E35" class="sect4">PL/SQL Subprograms </h4>
                  <div>
                     <p>A PL/SQL subprogram is a named PL/SQL block that permits the caller to supply parameters that can be input only, output only, or input and output values.</p>
                     <p>A subprogram solves a specific problem or performs related tasks and serves as a building block for modular, maintainable database applications. A subprogram is either a <a href="glossary.html#GUID-D2210901-18F2-43C0-B0CC-6953E94CD7EF"><span class="xrefglossterm">PL/SQL procedure</span></a> or a <a href="glossary.html#GUID-1DBC272B-41F6-43A9-A894-D7E714017E2B"><span class="xrefglossterm">PL/SQL function</span></a>. Procedures and functions are identical except that functions always return a single value to the caller, whereas procedures do not. The term <span class="italic">PL/SQL procedure</span> in this chapter refers to either a procedure or a function.
                     </p>
                     <div class="infoboxnotealso" id="GUID-7C398775-F4FB-47A2-AED5-458E00FB1E35__GUID-9FD5B2CC-EB41-4A46-9D75-A9E0DF550A82">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../lnpcb/introduction.html#GUID-2F2833F4-62F3-4FC7-8FC1-B742E44727B0" target="_blank"><span><cite>Pro*C/C++ Programmer's Guide</cite></span></a> and <a href="../lnpcb/embedded-PLSQL.html#LNPCB006" target="_blank"><span><cite>Pro*COBOL Programmer's Guide</cite></span></a> to learn about stored procedures in these languages
                              </p>
                           </li>
                           <li>
                              <p><a href="../lnpls/overview.html#LNPLS174" target="_blank"><span><cite>Oracle Database PL/SQL Language Reference</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="CNCPT1777"></a><div class="props_rev_3"><a id="GUID-BC90E680-65D8-4CD4-BCE2-A6A2FE732D59" name="GUID-BC90E680-65D8-4CD4-BCE2-A6A2FE732D59"></a><h5 id="CNCPT-GUID-BC90E680-65D8-4CD4-BCE2-A6A2FE732D59" class="sect5">Advantages of PL/SQL Subprograms </h5>
                     <div>
                        <p>Server-side programming has many advantages over client-side programming.</p>
                        <p>Advantages include:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Improved performance</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>The amount of information that an application must send over a network is small compared with issuing individual SQL statements or sending the text of an entire PL/SQL block to Oracle Database, because the information is sent only once and thereafter invoked when it is used.</p>
                                 </li>
                                 <li>
                                    <p>The compiled form of a procedure is readily available in the database, so no compilation is required at execution time.</p>
                                 </li>
                                 <li>
                                    <p>If the procedure is present in the <a href="glossary.html#GUID-64AFFF3A-C836-44F9-A25C-86CE4B9B16A8"><span class="xrefglossterm">shared pool</span></a> of the <a href="glossary.html#GUID-3F87437B-614A-472E-B691-F09D4A310DE4"><span class="xrefglossterm">SGA</span></a>, then the database need not retrieve it from disk and can begin execution immediately.
                                    </p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>Memory allocation</p>
                              <p>Because stored procedures take advantage of the shared memory capabilities of Oracle Database, it must load only a single copy of the procedure into memory for execution by multiple users. Sharing code among users results in a substantial reduction in database memory requirements for applications.</p>
                           </li>
                           <li>
                              <p>Improved productivity</p>
                              <p>Stored procedures increase development productivity. By designing applications around a common set of procedures, you can avoid redundant coding. For example, you can write procedures to manipulate rows in the <code class="codeph">employees</code> table. Any application can call these procedures without requiring SQL statements to be rewritten. If the methods of data management change, then only the procedures must be modified, not the applications that use the procedures.
                              </p>
                              <p>Stored procedures are perhaps the best way to achieve code reuse. Because any client application written in any language that connects to the database can invoke stored procedures, they provide maximum code reuse in all environments.</p>
                           </li>
                           <li>
                              <p>Integrity </p>
                              <p>Stored procedures improve the integrity and consistency of your applications. By developing applications around a common group of procedures, you reduce the likelihood of coding errors.</p>
                              <p>For example, you can test a subprogram to guarantee that it returns an accurate result and, after it is verified, reuse it in any number of applications without retesting. If the data structures referenced by the procedure are altered, then you must only recompile the procedure. Applications that call the procedure do not necessarily require modifications.</p>
                           </li>
                           <li>
                              <p>Security with definer's rights procedures</p>
                              <p>Stored procedures can help enforce data security. A <a href="glossary.html#GUID-743039B9-002B-48D5-AE43-001BCDBEAA3E"><span class="xrefglossterm">definer's rights PL/SQL procedure</span></a> executes with the <a href="glossary.html#GUID-197053D8-1AA8-4B0F-BEE1-8C8AD2DBD0C6"><span class="xrefglossterm">privilege</span></a> of its owner, not its current user. Thus, you can restrict the database tasks that users perform by allowing them to access data only through procedures and functions that run with the definer's privileges.
                              </p>
                              <p>For example, you can grant users access to a procedure that updates a table but not grant access to the table itself. When a user invokes the procedure, it runs with the privileges of its owner. Users who have only the privilege to run the procedure (but not privileges to query, update, or delete from the underlying tables) can invoke the procedure but not manipulate table data in any other way.</p>
                           </li>
                           <li>
                              <p>Inherited privileges and schema context with invoker's rights procedures</p>
                              <p>An <a href="glossary.html#GUID-25256D39-4B45-410E-8CEA-2463E6934152"><span class="xrefglossterm">invoker's rights PL/SQL procedure</span></a> executes in the current user's schema with the current user's privileges. In other words, an invoker's rights procedure is not tied to a particular user or schema. Invoker's rights procedures make it easy for application developers to centralize application logic, even when the underlying data is divided among user schemas.
                              </p>
                              <p>For example, an <code class="codeph">hr_manager</code> user who runs an update procedure on the <code class="codeph">hr.employees</code> table can update salaries, whereas an <code class="codeph">hr_clerk</code> who runs the same procedure is restricted to updating address data.
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-BC90E680-65D8-4CD4-BCE2-A6A2FE732D59__GUID-4D946D74-A5A8-4FB2-86E1-A824B1EAB4B5">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="topics-for-database-administrators-and-developers.html#GUID-4D6D2B67-1B65-476D-852A-976E9D153EEC" title="In general, database security involves user authentication, encryption, access control, and monitoring.">Overview of Database Security</a>"</span></p>
                              </li>
                              <li>
                                 <p><a href="../lnpls/plsql-subprograms.html#LNPLS008" target="_blank"><span><cite>Oracle Database PL/SQL Language Reference</cite></span></a> for an overview of PL/SQL subprograms
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../dbseg/configuring-privilege-and-role-authorization.html#DBSEG50010" target="_blank"><span><cite>Oracle Database Security Guide</cite></span></a> to learn more about definer's and invoker's rights
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="CNCPT88932"></a><a id="CNCPT88931"></a><div class="props_rev_3"><a id="GUID-07E0EC3E-2629-4673-9762-202B8074CB52" name="GUID-07E0EC3E-2629-4673-9762-202B8074CB52"></a><h5 id="CNCPT-GUID-07E0EC3E-2629-4673-9762-202B8074CB52" class="sect5">Creation of PL/SQL Subprograms</h5>
                     <div>
                        <p>A standalone stored subprogram is a subprogram created at the schema level with the <code class="codeph">CREATE PROCEDURE</code> or <code class="codeph">CREATE FUNCTION</code> statement. Subprograms defined in a package are called <span class="bold">package subprograms</span> and are considered a part of the package.
                        </p>
                        <p>The database stores subprograms in the data dictionary as schema objects. A subprogram has a specification, which includes descriptions of any parameters, and a body. </p>
                        <div class="example" id="GUID-07E0EC3E-2629-4673-9762-202B8074CB52__BABIAJHG">
                           <p class="titleinexample">Example 8-1 PL/SQL Procedure</p>This example shows part of a creation statement for the standalone PL/SQL procedure <code class="codeph">hire_employees</code>. The procedure inserts a row into the <code class="codeph">employees</code> table.<pre class="pre codeblock"><code>CREATE PROCEDURE hire_employees 
  (p_last_name VARCHAR2, p_job_id VARCHAR2, p_manager_id NUMBER, 
   p_hire_date DATE, p_salary NUMBER, p_commission_pct NUMBER, 
   p_department_id NUMBER)
IS 
BEGIN
.
.
.
  INSERT INTO employees (employee_id, last_name, job_id, manager_id, hire_date, 
    salary, commission_pct, department_id)
  VALUES (emp_sequence.NEXTVAL, p_last_name, p_job_id, p_manager_id, 
          p_hire_date, p_salary, p_commission_pct, p_department_id);
.
.
.
END;</code></pre><div class="infoboxnotealso" id="GUID-07E0EC3E-2629-4673-9762-202B8074CB52__GUID-631AA004-1EFF-4F80-9559-6B808C3C5337">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="../tdddg/stored-subprograms-packages.html#TDDDG41000" target="_blank"><span><cite>Oracle Database 2 Day Developer's Guide</cite></span></a> to learn how to create subprograms
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="../lnpls/CREATE-PROCEDURE-statement.html#LNPLS01373" target="_blank"><span><cite>Oracle Database PL/SQL Language Reference</cite></span></a> to learn about the <code class="codeph">CREATE PROCEDURE</code> statement 
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="CNCPT88934"></a><a id="CNCPT88933"></a><div class="props_rev_3"><a id="GUID-E94C8618-0464-45DA-AA90-07BA9EB4458C" name="GUID-E94C8618-0464-45DA-AA90-07BA9EB4458C"></a><h5 id="CNCPT-GUID-E94C8618-0464-45DA-AA90-07BA9EB4458C" class="sect5">Execution of PL/SQL Subprograms</h5>
                     <div>
                        <p>Users can execute a subprogram interactively in multiple ways.</p>
                        <p>The options are:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Using an Oracle tool, such as SQL*Plus or SQL Developer</p>
                           </li>
                           <li>
                              <p>Calling it explicitly in the code of a database application, such as an Oracle Forms or precompiler application</p>
                           </li>
                           <li>
                              <p>Calling it explicitly in the code of another procedure or trigger</p>
                           </li>
                        </ul>
                        <p>The following graphic shows different database applications calling <code class="codeph">hire_employees</code>.
                        </p>
                        <div class="figure" id="GUID-E94C8618-0464-45DA-AA90-07BA9EB4458C__FIG-124-16F280AE">
                           <p class="titleinfigure">Figure 8-1 Multiple Executions of a Stored Procedure</p><img src="img/cncpt073.gif" alt="Description of Figure 8-1 follows" title="Description of Figure 8-1 follows" longdesc="img_text/cncpt073.html"><br><a href="img_text/cncpt073.html">Description of "Figure 8-1 Multiple Executions of a Stored Procedure"</a></div>
                        <!-- class="figure" -->
                        <p>Alternatively, a privileged user can use Oracle Enterprise Manager or SQL*Plus to run the <code class="codeph">hire_employees</code> procedure using a statement such as the following: 
                        </p><pre class="pre codeblock"><code>EXECUTE hire_employees ('TSMITH', 'CLERK', 1037, SYSDATE, 500, NULL, 20); 
</code></pre><p>The preceding statement inserts a new record for <code class="codeph">TSMITH</code> in the <code class="codeph">employees</code> table.
                        </p>
                        <p>A stored procedure depends on the objects referenced in its body. The database automatically tracks and manages these dependencies. For example, if you alter the definition of the <code class="codeph">employees</code> table referenced by the <code class="codeph">hire_employees</code> procedure in a manner that would affect this procedure, then the procedure must be recompiled to validate that it still works as designed. Usually, the database automatically administers such dependency management.
                        </p>
                        <div class="infoboxnotealso" id="GUID-E94C8618-0464-45DA-AA90-07BA9EB4458C__GUID-FFA83CB7-EAD2-4F20-8084-56F8E7F995B1">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="concepts-for-database-developers.html#GUID-D1C1BC1D-03C7-4A18-BB88-0D76F311DAF0" title="Oracle provides several tools for use in developing database applications. This section describes some commonly used development tools.">Tools for Database Developers</a>"</span> to learn more about SQL*Plus and SQL Developer
                                 </p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="concepts-for-database-developers.html#GUID-87F23274-B506-486B-8775-880016095EF5" title="You can use precompilers or Java translators to place SQL statements in source code, or you can use APIs to enable applications to interact with the database.">Client-Side Database Programming</a>"</span> to learn more about precompilers
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../lnpls/plsql-subprograms.html#LNPLS008" target="_blank"><span><cite>Oracle Database PL/SQL Language Reference</cite></span></a> to learn how to use PL/SQL subprograms
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../sqpug/EXECUTE.html#SQPUG043" target="_blank"><span><cite>SQL*Plus User's Guide and Reference</cite></span></a> to learn about the <code class="codeph">EXECUTE</code> command
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div><a id="CNCPT1784"></a><div class="props_rev_3"><a id="GUID-87FA8137-A449-4542-8869-441C63810C63" name="GUID-87FA8137-A449-4542-8869-441C63810C63"></a><h4 id="CNCPT-GUID-87FA8137-A449-4542-8869-441C63810C63" class="sect4">PL/SQL Packages</h4>
                  <div>
                     <p>A <span class="bold">PL/SQL package</span> is a group of related subprograms, along with the cursors and variables they use, stored together in the database for continued use as a unit. Packaged subprograms can be called explicitly by applications or users.
                     </p>
                     <p>Oracle Database includes many supplied packages that extend database functionality and provide PL/SQL access to SQL features. For example, the <code class="codeph">UTL_HTTP</code> package enables HTTP callouts from PL/SQL and SQL to access data on the Internet or to call Oracle Web Server Cartridges. You can use the supplied packages when creating applications or as a source of ideas when creating your own stored procedures. 
                     </p>
                  </div><a id="CNCPT1785"></a><div class="props_rev_3"><a id="GUID-C7F00F30-5D7F-47F2-856F-CEE8E6465820" name="GUID-C7F00F30-5D7F-47F2-856F-CEE8E6465820"></a><h5 id="CNCPT-GUID-C7F00F30-5D7F-47F2-856F-CEE8E6465820" class="sect5">Advantages of PL/SQL Packages</h5>
                     <div>
                        <p>PL/SQL packages provide a number of advantages to the application developer.</p>
                        <p>Advantages include:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Encapsulation</p>
                              <p>Packages enable you to encapsulate or group stored procedures, variables, data types, and so on in a named, stored unit. Encapsulation provides better organization during development and also more flexibility. You can create specifications and reference public procedures without actually creating the package body. Encapsulation simplifies privilege management. Granting the privilege for a package makes package constructs accessible to the grantee.</p>
                           </li>
                           <li>
                              <p>Data security</p>
                              <p>The methods of package definition enable you to specify which variables, cursors, and procedures are public and private. Public means that it is directly accessible to the user of a package. Private means that it is hidden from the user of a package.</p>
                              <p>For example, a package can contain 10 procedures. You can define the package so that only three procedures are public and therefore available for execution by a user of the package. The remaining procedures are private and can only be accessed by the procedures within the package. Do not confuse public and private package variables with grants to <code class="codeph">PUBLIC</code>.
                              </p>
                           </li>
                           <li>
                              <p>Better performance</p>
                              <p>An entire package is loaded into memory in small chunks when a procedure in the package is called for the first time. This load is completed in one operation, as opposed to the separate loads required for standalone procedures. When calls to related packaged procedures occur, no disk I/O is needed to run the compiled code in memory.</p>
                              <p>A package body can be replaced and recompiled without affecting the specification. Consequently, schema objects that reference a package's constructs (always through the specification) need not be recompiled unless the package specification is also replaced. By using packages, unnecessary recompilations can be minimized, resulting in less impact on overall database performance.</p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="CNCPT88936"></a><a id="CNCPT88935"></a><div class="props_rev_3"><a id="GUID-1CB910EF-09B4-43FD-AEC5-7450296AC58C" name="GUID-1CB910EF-09B4-43FD-AEC5-7450296AC58C"></a><h5 id="CNCPT-GUID-1CB910EF-09B4-43FD-AEC5-7450296AC58C" class="sect5">Creation of PL/SQL Packages</h5>
                     <div>
                        <p>You create a package in two parts: the specification and the body. The package specification declares all public constructs of the package, whereas the package body defines all constructs (public and private) of the package.</p>
                        <p>The following example shows part of a statement that creates the package specification for <code class="codeph">employees_management</code>, which encapsulates several subprograms used to manage an employee database. Each part of the package is created with a different statement.
                        </p><pre class="pre codeblock"><code>CREATE PACKAGE employees_management AS 
  FUNCTION hire_employees (last_name VARCHAR2, job_id VARCHAR2, manager_id NUMBER, 
    salary NUMBER, commission_pct NUMBER, department_id NUMBER) RETURN NUMBER; 
  PROCEDURE fire_employees(employee_id NUMBER); 
  PROCEDURE salary_raise(employee_id NUMBER, salary_incr NUMBER); 
.
.
.
  no_sal EXCEPTION;
END employees_management;
</code></pre><p>The specification declares the function <code class="codeph">hire_employees</code>, the procedures <code class="codeph">fire_employees</code> and <code class="codeph">salary_raise</code>, and the exception <code class="codeph">no_sal</code>. All of these public program objects are available to users who have access to the package.
                        </p>
                        <p>The <code class="codeph">CREATE PACKAGE BODY</code> statement defines objects declared in the specification. The package body must be created in the same schema as the package. After creating the package, you can develop applications that call any of these public procedures or functions or raise any of the public exceptions of the package.
                        </p>
                        <div class="infoboxnotealso" id="GUID-1CB910EF-09B4-43FD-AEC5-7450296AC58C__GUID-0E9E3A46-FE7F-4067-B814-DCEBD37F6E15">
                           <p class="notep1">See Also:</p>
                           <p><a href="../lnpls/CREATE-PACKAGE-statement.html#LNPLS01371" target="_blank"><span><cite>Oracle Database PL/SQL Language Reference</cite></span></a> to learn about the <code class="codeph">CREATE PACKAGE</code> statement
                           </p>
                        </div>
                     </div>
                  </div><a id="CNCPT88938"></a><a id="CNCPT88937"></a><div class="props_rev_3"><a id="GUID-82299071-97A1-47B6-A0AB-202F65F3F865" name="GUID-82299071-97A1-47B6-A0AB-202F65F3F865"></a><h5 id="CNCPT-GUID-82299071-97A1-47B6-A0AB-202F65F3F865" class="sect5">Execution of PL/SQL Package Subprograms</h5>
                     <div>
                        <p>Database triggers, stored subprograms, 3GL application programs, and Oracle tools can reference package contents.</p>
                        <p>The following graphic shows database applications invoking procedures and functions in the <code class="codeph">employees_management</code> package.
                        </p>
                        <div class="figure" id="GUID-82299071-97A1-47B6-A0AB-202F65F3F865__I18841">
                           <p class="titleinfigure">Figure 8-2 Calling Subprograms in a PL/SQL Package</p><img src="img/cncpt075.gif" width="595" alt="Description of Figure 8-2 follows" title="Description of Figure 8-2 follows" longdesc="img_text/cncpt075.html"><br><a href="img_text/cncpt075.html">Description of "Figure 8-2 Calling Subprograms in a PL/SQL Package"</a></div>
                        <!-- class="figure" -->
                        <p>Database applications explicitly call packaged procedures as necessary. After being granted the privileges for the <code class="codeph">employees_management</code> package, a user can explicitly run any of the procedures contained in it. For example, SQL*Plus can issue the following statement to run the <code class="codeph">hire_employees</code> package procedure: 
                        </p><pre class="pre codeblock"><code>EXECUTE employees_management.hire_employees ('TSMITH', 'CLERK', 1037, SYSDATE, 500, NULL, 20);</code></pre><div class="infoboxnotealso" id="GUID-82299071-97A1-47B6-A0AB-202F65F3F865__GUID-4EB5C854-FCD7-4E1E-8937-02E52D926F6C">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../lnpls/plsql-packages.html#LNPLS009" target="_blank"><span><cite>Oracle Database PL/SQL Language Reference</cite></span></a> for an introduction to PL/SQL packages
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../adfns/coding-subprograms-and-packages.html#ADFNS009" target="_blank"><span><cite>Oracle Database Development Guide</cite></span></a> to learn how to code PL/SQL packages
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div><a id="CNCPT88939"></a><a id="CNCPT1779"></a><div class="props_rev_3"><a id="GUID-76EA9A76-8D25-4FF5-A6D1-4F358B0651AA" name="GUID-76EA9A76-8D25-4FF5-A6D1-4F358B0651AA"></a><h4 id="CNCPT-GUID-76EA9A76-8D25-4FF5-A6D1-4F358B0651AA" class="sect4">PL/SQL Anonymous Blocks</h4>
                  <div>
                     <p>A PL/SQL anonymous block is an unnamed, nonpersistent PL/SQL unit.</p>
                     <p>Typical uses for anonymous blocks include:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Initiating calls to subprograms and package constructs</p>
                        </li>
                        <li>
                           <p>Isolating exception handling</p>
                        </li>
                        <li>
                           <p>Managing control by nesting code within other PL/SQL blocks</p>
                        </li>
                     </ul>
                     <p>Anonymous blocks do not have the code reuse advantages of stored subprograms. <a href="server-side-programming.html#GUID-76EA9A76-8D25-4FF5-A6D1-4F358B0651AA__CHDJGEBD" title="This table summarizes the differences between anonymous blocks and subprograms.">Table 8-1</a> summarizes the differences between the two types of PL/SQL units.
                     </p>
                     <div class="tblformal" id="GUID-76EA9A76-8D25-4FF5-A6D1-4F358B0651AA__CHDJGEBD">
                        <p class="titleintable">Table 8-1 Differences Between Anonymous Blocks and Subprograms</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Differences Between Anonymous Blocks and Subprograms" summary="This table summarizes the differences between anonymous blocks and subprograms." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="40%" id="d40402e3948">Is the PL/SQL Unit ...</th>
                                 <th align="left" valign="bottom" width="30%" id="d40402e3951">Anonymous Blocks</th>
                                 <th align="left" valign="bottom" width="30%" id="d40402e3954">Subprograms</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="40%" id="d40402e3959" headers="d40402e3948 ">
                                    <p>Specified with a name?</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d40402e3959 d40402e3951 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d40402e3959 d40402e3954 ">
                                    <p>Yes</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="40%" id="d40402e3969" headers="d40402e3948 ">
                                    <p>Compiled with every reuse?</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d40402e3969 d40402e3951 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d40402e3969 d40402e3954 ">
                                    <p>No</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="40%" id="d40402e3979" headers="d40402e3948 ">
                                    <p>Stored in the database?</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d40402e3979 d40402e3951 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d40402e3979 d40402e3954 ">
                                    <p>Yes</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="40%" id="d40402e3989" headers="d40402e3948 ">
                                    <p>Invocable by other applications?</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d40402e3989 d40402e3951 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d40402e3989 d40402e3954 ">
                                    <p>Yes</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="40%" id="d40402e3999" headers="d40402e3948 ">
                                    <p>Capable of returning bind variable values?</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d40402e3999 d40402e3951 ">
                                    <p>Yes</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d40402e3999 d40402e3954 ">
                                    <p>Yes</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="40%" id="d40402e4009" headers="d40402e3948 ">
                                    <p>Capable of returning function values?</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d40402e4009 d40402e3951 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d40402e4009 d40402e3954 ">
                                    <p>Yes</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="40%" id="d40402e4019" headers="d40402e3948 ">
                                    <p>Capable of accepting parameters?</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d40402e4019 d40402e3951 ">
                                    <p>No</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d40402e4019 d40402e3954 ">
                                    <p>Yes</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>An anonymous block consists of an optional declarative part, an executable part, and one or more optional exception handlers. The following sample anonymous block selects an employee last name into a variable and prints the name:</p><pre class="pre codeblock"><code>DECLARE
  v_lname VARCHAR2(25);
BEGIN
  SELECT last_name 
    INTO v_lname
  FROM employees
  WHERE employee_id = 101;
  DBMS_OUTPUT.PUT_LINE('Employee last name is '||v_lname);
END;
</code></pre><p>Oracle Database compiles the PL/SQL block and places it in the shared pool of the SGA, but it does not store the source code or compiled version in the database for reuse beyond the current instance. Unlike triggers, an anonymous block is compiled each time it is loaded into memory. Shared SQL allows anonymous PL/SQL blocks in the shared pool to be reused and shared until they are flushed out of the shared pool. </p>
                     <div class="infoboxnotealso" id="GUID-76EA9A76-8D25-4FF5-A6D1-4F358B0651AA__GUID-4D91FDC9-6046-4771-AC6B-BC9324CDA94B">
                        <p class="notep1">See Also:</p>
                        <p><a href="../adfns/coding-subprograms-and-packages.html#ADFNS311" target="_blank"><span><cite>Oracle Database Development Guide</cite></span></a> to learn more about anonymous PL/SQL blocks
                        </p>
                     </div>
                  </div>
               </div><a id="CNCPT1770"></a><div class="props_rev_3"><a id="GUID-0C8B57A4-9717-4E9A-8401-D817E2F0A308" name="GUID-0C8B57A4-9717-4E9A-8401-D817E2F0A308"></a><h4 id="CNCPT-GUID-0C8B57A4-9717-4E9A-8401-D817E2F0A308" class="sect4">PL/SQL Language Constructs</h4>
                  <div>
                     <p>PL/SQL blocks can include a variety of different PL/SQL language constructs.</p>
                     <p>These constructs including the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Variables and constants</p>
                           <p>You can declare these constructs within a procedure, function, or package. You can use a variable or constant in a SQL or PL/SQL statement to capture or provide a value when one is needed. </p>
                        </li>
                        <li>
                           <p>Cursors </p>
                           <p>You can declare a <a href="glossary.html#GUID-D1D3E8DD-CD5C-4C0D-93E4-DE0BF0BD53A3"><span class="xrefglossterm">cursor</span></a> explicitly within a procedure, function, or package to facilitate record-oriented processing of Oracle Database data. The PL/SQL engine can also declare cursors implicitly.
                           </p>
                        </li>
                        <li>
                           <p>Exceptions</p>
                           <p>PL/SQL lets you explicitly handle internal and user-defined error conditions, called <span class="italic">exceptions</span>, that arise during processing of PL/SQL code. 
                           </p>
                        </li>
                     </ul>
                     <p>PL/SQL can run <a href="glossary.html#GUID-4962BC92-A7FC-471D-BE50-4650A791E3E7"><span class="xrefglossterm">dynamic SQL</span></a> statements whose complete text is not known until run time. Dynamic SQL statements are stored in character strings that are entered into, or built by, the program at run time. This technique enables you to create general purpose procedures. For example, you can create a procedure that operates on a table whose name is not known until run time.
                     </p>
                     <div class="infoboxnotealso" id="GUID-0C8B57A4-9717-4E9A-8401-D817E2F0A308__GUID-0E7BF886-54C0-4F4C-A75A-F1AE955DDDA0">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../lnpls/dynamic-sql.html#LNPLS011" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> for details about dynamic SQL
                              </p>
                           </li>
                           <li>
                              <p><a href="../arpls/DBMS_SQL.html#ARPLS058" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> to learn how to use dynamic SQL in the <code class="codeph">DBMS_SQL</code> package
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="CNCPT1786"></a><div class="props_rev_3"><a id="GUID-BE22C508-16F7-4D82-B7DE-DA10D9210F78" name="GUID-BE22C508-16F7-4D82-B7DE-DA10D9210F78"></a><h4 id="CNCPT-GUID-BE22C508-16F7-4D82-B7DE-DA10D9210F78" class="sect4">PL/SQL Collections and Records</h4>
                  <div>
                     <p>Many programming techniques use collection types such as arrays, bags, lists, nested tables, sets, and trees. </p>
                     <p>To support collection techniques in database applications, PL/SQL provides the data types <code class="codeph">TABLE</code> and <code class="codeph">VARRAY</code>. These types enable you to declare associative arrays, nested tables, and variable-size arrays.
                     </p>
                  </div><a id="CNCPT1787"></a><div class="props_rev_3"><a id="GUID-9E35FAD6-6C27-479B-AC42-0A1B83E66882" name="GUID-9E35FAD6-6C27-479B-AC42-0A1B83E66882"></a><h5 id="CNCPT-GUID-9E35FAD6-6C27-479B-AC42-0A1B83E66882" class="sect5">Collections</h5>
                     <div>
                        <p>A <span class="bold">PL/SQL collection</span> is an ordered group of elements, all of the same type. 
                        </p>
                        <p>Each element has a unique subscript that determines its position in the collection. To create a collection, you first define a collection type, and then declare a variable of that type.</p>
                        <p>Collections work like the arrays found in most third-generation programming languages. Also, collections can be passed as parameters. So, you can use them to move columns of data into and out of database tables or between client-side applications and stored subprograms.</p>
                     </div>
                  </div><a id="CNCPT1788"></a><div class="props_rev_3"><a id="GUID-689D64D1-5BAA-437B-847D-16B6D09AB032" name="GUID-689D64D1-5BAA-437B-847D-16B6D09AB032"></a><h5 id="CNCPT-GUID-689D64D1-5BAA-437B-847D-16B6D09AB032" class="sect5">Records</h5>
                     <div>
                        <p>A <span class="bold">PL/SQL record</span> is a composite variable that can store data values of different types, similar to a struct type in C, C++, or Java. Records are useful for holding data from table rows, or certain columns from table rows.
                        </p>
                        <p>Suppose you have data about an employee such as name, salary, and hire date. These items are dissimilar in type but logically related. A record containing a field for each item lets you treat the data as a logical unit.</p>
                        <p>You can use the <code class="codeph">%ROWTYPE</code> attribute to declare a record that represents a table row or row fetched from a cursor. With user-defined records, you can declare your own fields.
                        </p>
                        <div class="infoboxnotealso" id="GUID-689D64D1-5BAA-437B-847D-16B6D09AB032__GUID-12732388-5988-4909-A43F-B02041E68410">
                           <p class="notep1">See Also:</p>
                           <p><a href="../lnpls/plsql-collections-and-records.html#LNPLS005" target="_blank"><span><cite>Oracle Database PL/SQL Language Reference</cite></span></a> to learn how to use PL/SQL records
                           </p>
                        </div>
                     </div>
                  </div>
               </div><a id="CNCPT88940"></a><a id="CNCPT1767"></a><div class="props_rev_3"><a id="GUID-D8D5CA8C-4D62-4EEF-B891-6D9C3CFA3D3F" name="GUID-D8D5CA8C-4D62-4EEF-B891-6D9C3CFA3D3F"></a><h4 id="CNCPT-GUID-D8D5CA8C-4D62-4EEF-B891-6D9C3CFA3D3F" class="sect4">How PL/SQL Runs</h4>
                  <div>
                     <p>PL/SQL supports both interpreted execution and native execution.</p>
                     <p>In interpreted execution, PL/SQL source code is compiled into a so-called bytecode representation. A portable virtual computer implemented as part of Oracle Database runs this bytecode.</p>
                     <p>Native execution offers the best performance on computationally intensive units. In this case, the source code of PL/SQL units is compiled directly to object code for the given platform. This object code is linked into Oracle Database.</p>
                     <p>The <a href="glossary.html#GUID-DA886C43-D6F7-41D4-9CD8-63770DA864B1"><span class="xrefglossterm">PL/SQL engine</span></a> defines, compiles, and runs PL/SQL units. This engine is a special component of many Oracle products, including Oracle Database. While many Oracle products have PL/SQL components, this topic specifically covers the PL/SQL units that can be stored in Oracle Database and processed using Oracle Database PL/SQL engine. The documentation for each Oracle tool describes its PL/SQL capabilities.
                     </p>
                     <p>The following graphic illustrates the PL/SQL engine contained in Oracle Database.</p>
                     <div class="figure" id="GUID-D8D5CA8C-4D62-4EEF-B891-6D9C3CFA3D3F__BABFIHDH">
                        <p class="titleinfigure">Figure 8-3 The PL/SQL Engine and Oracle Database</p><img src="img/cncpt070.gif" alt="Description of Figure 8-3 follows" title="Description of Figure 8-3 follows" longdesc="img_text/cncpt070.html"><br><a href="img_text/cncpt070.html">Description of "Figure 8-3 The PL/SQL Engine and Oracle Database"</a></div>
                     <!-- class="figure" -->
                     <p>The PL/SQL unit is stored in a database. When an application calls a stored procedure, the database loads the compiled PL/SQL unit into the <a href="glossary.html#GUID-64AFFF3A-C836-44F9-A25C-86CE4B9B16A8"><span class="xrefglossterm">shared pool</span></a> in the <a href="glossary.html#GUID-78C0E867-233A-4857-B9FE-A3852A9B7BDF"><span class="xrefglossterm">system global area (SGA)</span></a>. The PL/SQL and SQL statement executors work together to process the statements in the procedure.
                     </p>
                     <p>You can call a stored procedure from another PL/SQL block, which can be either an anonymous block or another stored procedure. For example, you can call a stored procedure from Oracle Forms.</p>
                     <p>A PL/SQL procedure executing on Oracle Database can call an external procedure or function written in the C programming language and stored in a shared library. The C routine runs in a separate address space from that of Oracle Database.</p>
                     <div class="infoboxnotealso" id="GUID-D8D5CA8C-4D62-4EEF-B891-6D9C3CFA3D3F__GUID-0F2F1705-348A-4E0B-B0CA-7B05837E163D">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="memory-architecture.html#GUID-1CB2BA23-4386-46DA-9146-5FE0E4599AC6" title="The shared pool caches various types of program data.">Shared Pool</a> "</span> to learn more about the purpose and contents of the shared pool
                              </p>
                           </li>
                           <li>
                              <p><a href="../lnpls/overview.html#LNPLS00103" target="_blank"><span><cite>Oracle Database PL/SQL Language Reference</cite></span></a> to learn about PL/SQL architecture
                              </p>
                           </li>
                           <li>
                              <p><a href="../adfns/external-procedures.html#ADFNS1402" target="_blank"><span><cite>Oracle Database Development Guide</cite></span></a> to learn more about external procedures
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="CNCPT88941"></a><a id="CNCPT616"></a><div class="props_rev_3"><a id="GUID-DDFED855-D1F3-4AB2-8FD3-B2A1B3C922D7" name="GUID-DDFED855-D1F3-4AB2-8FD3-B2A1B3C922D7"></a><h3 id="CNCPT-GUID-DDFED855-D1F3-4AB2-8FD3-B2A1B3C922D7" class="sect3">Overview of Java in Oracle Database</h3>
               <div>
                  <p>Java has emerged as the object-oriented programming language of choice.</p>
                  <p>Java includes the following features:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>A Java Virtual Machine (JVM), which provides the basis for platform independence</p>
                     </li>
                     <li>
                        <p>Automated storage management techniques, such as garbage collection</p>
                     </li>
                     <li>
                        <p>Language syntax that borrows from C and enforces strong typing</p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-DDFED855-D1F3-4AB2-8FD3-B2A1B3C922D7__GUID-00A7F2DE-530D-48A2-97CF-D1459D4ED5FE">
                     <p class="notep1">Note:</p>
                     <p>This chapter assumes that you have some familiarity with the Java language.</p>
                  </div>
                  <p>The database provides Java programs with a dynamic data-processing engine that supports complex queries and multiple views of data. Client requests are assembled as data queries for immediate processing. Query results are generated dynamically.</p>
                  <p>The combination of Java and Oracle Database helps you create component-based, network-centric applications that can be easily updated as business needs change. In addition, you can move applications and data stores off the desktop and onto intelligent networks and network-centric servers. More importantly, you can access these applications and data stores from any client device.</p>
                  <p>The following figure shows a traditional two-tier, client/server configuration in which clients call Java stored procedures in the same way that they call PL/SQL subprograms.</p>
                  <div class="figure" id="GUID-DDFED855-D1F3-4AB2-8FD3-B2A1B3C922D7__BABECJGF">
                     <p class="titleinfigure">Figure 8-4 Two-Tier Client/Server Configuration</p><img src="img/cncpt236.gif" alt="Description of Figure 8-4 follows" title="Description of Figure 8-4 follows" longdesc="img_text/cncpt236.html"><br><a href="img_text/cncpt236.html">Description of "Figure 8-4 Two-Tier Client/Server Configuration"</a></div>
                  <!-- class="figure" -->
                  <div class="infoboxnotealso" id="GUID-DDFED855-D1F3-4AB2-8FD3-B2A1B3C922D7__GUID-2B7609D1-BFA5-432A-AEAE-012F03A1C1A4">
                     <p class="notep1">See Also:</p>
                     <p><a href="../tdpjd/using-java-with-oracle-database.html#TDPJD101" target="_blank"><span><cite>Oracle Database 2 Day + Java Developer's Guide</cite></span></a> for an introduction to using Java with Oracle Database
                     </p>
                  </div>
               </div><a id="CNCPT1797"></a><div class="props_rev_3"><a id="GUID-F754E0BC-5C62-4D65-91BD-96314493EB2F" name="GUID-F754E0BC-5C62-4D65-91BD-96314493EB2F"></a><h4 id="CNCPT-GUID-F754E0BC-5C62-4D65-91BD-96314493EB2F" class="sect4">Overview of the Java Virtual Machine (JVM)</h4>
                  <div>
                     <p>A <span class="bold">JVM</span> is a virtual processor that runs compiled Java code. 
                     </p>
                     <p>Java source code compiles to low-level machine instructions, known as <span class="italic">bytecodes</span>, that are platform independent. The Java bytecodes are interpreted through the JVM into platform-dependent actions.
                     </p>
                  </div><a id="CNCPT88942"></a><a id="CNCPT820"></a><div class="props_rev_3"><a id="GUID-ACAF8922-A3D5-4260-9935-9D92BBA578A5" name="GUID-ACAF8922-A3D5-4260-9935-9D92BBA578A5"></a><h5 id="CNCPT-GUID-ACAF8922-A3D5-4260-9935-9D92BBA578A5" class="sect5">Overview of Oracle JVM</h5>
                     <div>
                        <p>The <span class="bold">Oracle JVM</span> is a standard, Java-compatible environment that runs any pure Java application. It is compatible with the JLS and the JVM specifications.
                        </p>
                        <p>The Oracle JVM supports the standard Java binary format and APIs. In addition, Oracle Database adheres to standard Java language semantics, including dynamic class loading at run time.</p>
                        <p>The following figure illustrates how Oracle Java applications reside on top of the Java core class libraries, which reside on top of the Oracle JVM. Because the Oracle Java support system is located within the database, the JVM interacts with database libraries, instead of directly interacting with the operating system.</p>
                        <div class="figure" id="GUID-ACAF8922-A3D5-4260-9935-9D92BBA578A5__I21492">
                           <p class="titleinfigure">Figure 8-5 Java Component Structure</p><img src="img/cncpt206.gif" alt="Description of Figure 8-5 follows" title="Description of Figure 8-5 follows" longdesc="img_text/cncpt206.html"><br><a href="img_text/cncpt206.html">Description of "Figure 8-5 Java Component Structure"</a></div>
                        <!-- class="figure" -->
                        <p>Unlike other Java environments, Oracle JVM is embedded within Oracle Database. Some important differences exist between Oracle JVM and typical client JVMs. For example, in a standard Java environment, you run a Java application through the interpreter by issuing the following command on the command line, where <span class="italic"><code class="codeph">classname</code></span> is the name of the class that the JVM interprets first:
                        </p><pre class="pre codeblock"><code>java <span class="italic">classname</span>
</code></pre><p>The preceding command causes the application to run within a process on your operating system. However, if you are not using the command-line interface, then you must load the application into the database, publish the interface, and then run the application within a database <a href="glossary.html#GUID-D6A3934F-BA6D-464F-9612-C683E20514A4"><span class="xrefglossterm">data dictionary</span></a>.
                        </p>
                        <div class="infoboxnotealso" id="GUID-ACAF8922-A3D5-4260-9935-9D92BBA578A5__GUID-F0C5092E-A66C-4525-9A50-6A54586DB228">
                           <p class="notep1">See Also:</p>
                           <p>See <a href="../jjdev/Oracle-JVM-overview.html#JJDEV01300" target="_blank"><span><cite>Oracle Database Java Developer’s Guide</cite></span></a> for a description of other differences between the Oracle JVM and typical client JVMs
                           </p>
                        </div>
                     </div>
                  </div><a id="CNCPT88943"></a><a id="CNCPT821"></a><div class="props_rev_3"><a id="GUID-50C3A528-351E-4DF4-9C76-1EB238973120" name="GUID-50C3A528-351E-4DF4-9C76-1EB238973120"></a><h5 id="CNCPT-GUID-50C3A528-351E-4DF4-9C76-1EB238973120" class="sect5">Main Components of Oracle JVM</h5>
                     <div>
                        <p>Oracle JVM runs in the same process space and address space as the database kernel by sharing its memory heaps and directly accessing its relational data. This design optimizes memory use and increases throughput.</p>
                        <p>Oracle JVM provides a run-time environment for Java objects. It fully supports Java data structures, method dispatch, exception handling, and language-level threads. It also supports all the core Java class libraries, including <code class="codeph">java.lang</code>, <code class="codeph">java.io</code>, <code class="codeph">java.net</code>, <code class="codeph">java.math</code>, and <code class="codeph">java.util</code>.
                        </p>
                        <p>The following illustration shows the main components of Oracle JVM.</p>
                        <div class="figure" id="GUID-50C3A528-351E-4DF4-9C76-1EB238973120__BABJJHIA">
                           <p class="titleinfigure">Figure 8-6 Main Components of Oracle JVM</p><img src="img/cncpt254.gif" width="429" alt="Description of Figure 8-6 follows" title="Description of Figure 8-6 follows" longdesc="img_text/cncpt254.html"><br><a href="img_text/cncpt254.html">Description of "Figure 8-6 Main Components of Oracle JVM"</a></div>
                        <!-- class="figure" -->
                        <p>Oracle JVM embeds the standard Java namespace in the database schemas. This feature lets Java programs access Java objects stored in Oracle Database and application servers across the enterprise.</p>
                        <p>In addition, Oracle JVM is tightly integrated with the scalable, shared memory architecture of the database. Java programs use call, session, and object lifetimes efficiently without user intervention. Consequently, Oracle JVM and middle-tier Java business objects can be scaled, even when they have session-long state.</p>
                        <div class="infoboxnotealso" id="GUID-50C3A528-351E-4DF4-9C76-1EB238973120__GUID-2036FC3C-F815-41C9-AD61-3718EE6454B5">
                           <p class="notep1">See Also:</p>
                           <p><a href="../jjdev/Oracle-JVM-overview.html#JJDEV01300" target="_blank"><span><cite>Oracle Database Java Developer’s Guide</cite></span></a> for a description of the main components of Oracle JVM
                           </p>
                        </div>
                     </div>
                  </div>
               </div><a id="CNCPT1804"></a><div class="props_rev_3"><a id="GUID-2F70C608-849D-4E54-BC09-BDE53E01012E" name="GUID-2F70C608-849D-4E54-BC09-BDE53E01012E"></a><h4 id="CNCPT-GUID-2F70C608-849D-4E54-BC09-BDE53E01012E" class="sect4">Java Programming Environment</h4>
                  <div>
                     <p>Oracle furnishes enterprise application developers with an end-to-end Java solution for creating, deploying, and managing Java applications. </p>
                     <p>The solution consists of client-side and server-side programmatic interfaces, tools to support Java development, and a Java Virtual Machine integrated with Oracle Database. All these products are compatible with Java standards.</p>
                     <p>The Java programming environment consists of the following additional features:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Java stored procedures as the Java equivalent and companion for PL/SQL. Java stored procedures are tightly integrated with PL/SQL. You can call Java stored procedures from PL/SQL packages and procedures from Java stored procedures.</p>
                        </li>
                        <li>
                           <p>The JDBC and SQLJ programming interfaces for accessing SQL data.</p>
                        </li>
                        <li>
                           <p>Tools and scripts that assist in developing, loading, and managing classes.</p>
                        </li>
                     </ul>
                  </div><a id="CNCPT1805"></a><div class="props_rev_3"><a id="GUID-48434C99-5806-4174-A2E1-DC07ADA0CCBC" name="GUID-48434C99-5806-4174-A2E1-DC07ADA0CCBC"></a><h5 id="CNCPT-GUID-48434C99-5806-4174-A2E1-DC07ADA0CCBC" class="sect5">Java Stored Procedures</h5>
                     <div>
                        <p>A <span class="bold">Java stored procedure</span> is a Java method published to SQL and stored in the database.
                        </p>
                        <p>Like a PL/SQL subprogram, a Java procedure can be invoked directly with products like SQL*Plus or indirectly with a trigger. You can access it from any Oracle Net client—OCI, precompiler, or JDBC.</p>
                        <p>To publish Java methods, you write call specifications, which map Java method names, parameter types, and return types to their SQL counterparts. When called by client applications, a Java stored procedure can accept arguments, reference Java classes, and return Java result values.</p>
                        <p>Applications calling the Java method by referencing the name of the call specification. The run-time system looks up the call specification definition in the Oracle data dictionary and runs the corresponding Java method.</p>
                        <p>In addition, you can use Java to develop powerful programs independently of PL/SQL. Oracle Database provides a fully compliant implementation of the Java programming language and JVM.</p>
                        <div class="infoboxnotealso" id="GUID-48434C99-5806-4174-A2E1-DC07ADA0CCBC__GUID-5BFDF774-1865-4E72-85B5-80D6498FC1EA">
                           <p class="notep1">See Also:</p>
                           <p><a href="../jjdev/developing-Java-stored-procedures.html#GUID-AE1E5C4B-A077-4D1E-8821-6A7142BF1FEA" target="_blank"><span><cite>Oracle Database Java Developer’s Guide</cite></span></a> explains how to write stored procedures in Java, how to access them from PL/SQL, and how to access PL/SQL functionality from Java
                           </p>
                        </div>
                     </div>
                  </div><a id="CNCPT823"></a><div class="props_rev_3"><a id="GUID-A7135BCC-A366-428F-BC69-23CD20914DF5" name="GUID-A7135BCC-A366-428F-BC69-23CD20914DF5"></a><h5 id="CNCPT-GUID-A7135BCC-A366-428F-BC69-23CD20914DF5" class="sect5">Java and PL/SQL Integration</h5>
                     <div>
                        <p>You can call existing PL/SQL programs from Java and Java programs from PL/SQL. This solution protects and leverages your PL/SQL and Java code.</p>
                        <p>Oracle Database offers two different approaches for accessing SQL data from Java: JDBC and SQLJ. JDBC is available on both client and server, whereas SQLJ is available only on the client.</p>
                     </div><a id="CNCPT825"></a><div class="props_rev_3"><a id="GUID-174E853D-233D-4202-AC5D-E76637A2AA44" name="GUID-174E853D-233D-4202-AC5D-E76637A2AA44"></a><h6 id="CNCPT-GUID-174E853D-233D-4202-AC5D-E76637A2AA44" class="sect6">JDBC Drivers</h6>
                        <div>
                           <p>JDBC is a database access protocol that enables you to connect to a database and run SQL statements and queries to the database. </p>
                           <p>The core Java class libraries provide only one JDBC API, <code class="codeph">java.sql</code>. However, JDBC is designed to enable vendors to supply drivers that offer the necessary specialization for a particular database. Oracle provides the distinct JDBC drivers shown in the following table.
                           </p>
                           <div class="tblformal" id="GUID-174E853D-233D-4202-AC5D-E76637A2AA44__GUID-69263B4E-8D8F-4A25-A6D1-570DE44532B4">
                              <p class="titleintable">Table 8-2 JDBC Drivers</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="JDBC Drivers" summary="This table is a list and description of provided JDBC drivers." width="100%" frame="hsides" border="1" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" id="d40402e7956">Driver</th>
                                       <th align="left" valign="bottom" id="d40402e7959">Description</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d40402e7964" headers="d40402e7956 ">
                                          <p>JDBC Thin driver</p>
                                       </td>
                                       <td align="left" valign="top" headers="d40402e7964 d40402e7959 ">
                                          <p>You can use the JDBC Thin driver to write pure Java applications and applets that access Oracle SQL data. The JDBC Thin driver is especially well-suited for Web-based applications and applets, because you can dynamically download it from a Web page, similar to any other Java applet.</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d40402e7971" headers="d40402e7956 ">
                                          <p>JDBC OCI driver</p>
                                       </td>
                                       <td align="left" valign="top" headers="d40402e7971 d40402e7959 ">
                                          <p>The JDBC OCI driver accesses Oracle-specific native code, that is, non-Java code, and libraries on the client or middle tier, providing a performance boost compared to the JDBC Thin driver, at the cost of significantly larger size and client-side installation.</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d40402e7978" headers="d40402e7956 ">
                                          <p>JDBC server-side internal driver</p>
                                       </td>
                                       <td align="left" valign="top" headers="d40402e7978 d40402e7959 ">
                                          <p>Oracle Database uses the server-side internal driver when the Java code runs on the server. It allows Java applications running in Oracle JVM on the server to access locally defined data, that is, data on the same system and in the same process, with JDBC. It provides a performance boost, because of its ability to use the underlying Oracle RDBMS libraries directly, without the overhead of an intervening network connection between the Java code and SQL data. By supporting the same Java-SQL interface on the server, Oracle Database does not require you to rework code when deploying it.</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <div class="infoboxnotealso" id="GUID-174E853D-233D-4202-AC5D-E76637A2AA44__GUID-31D8041A-7029-4E39-93B8-44043A2BE52D">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><span class="q">"<a href="concepts-for-database-developers.html#GUID-C5A31D66-F743-4BAC-9698-4B2058E3D8A9" title="ODBC is a standard API that enables applications to connect to a database and then prepare and run SQL statements.">ODBC and JDBC</a>"</span></p>
                                 </li>
                                 <li>
                                    <p><a href="../tdpjd/index.html" target="_blank"><span><cite>Oracle Database 2 Day + Java Developer's Guide</cite></span></a> and <a href="../jjdbc/introducing-JDBC.html#GUID-D6975767-9F5A-4B30-8910-9298DDD7FEF0" target="_blank"><span><cite>Oracle Database JDBC Developer’s Guide</cite></span></a></p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                     </div><a id="CNCPT826"></a><div class="props_rev_3"><a id="GUID-BCCC0B04-0B9C-45BA-A34A-46051F0643E1" name="GUID-BCCC0B04-0B9C-45BA-A34A-46051F0643E1"></a><h6 id="CNCPT-GUID-BCCC0B04-0B9C-45BA-A34A-46051F0643E1" class="sect6">SQLJ</h6>
                        <div>
                           <p><strong class="term">SQLJ</strong> is an ANSI standard for embedding SQL statements in Java programs. You can use client-side SQLJ programs. In addition, you can combine SQLJ programs with JDBC.
                           </p>
                           <div class="infoboxnote" id="GUID-BCCC0B04-0B9C-45BA-A34A-46051F0643E1__GUID-5E38EC2B-B52D-4CC8-9EB6-F152C47190BF">
                              <p class="notep1">Note:</p>
                              <p>Starting with <span>Oracle Database 12c</span> release 2 (12.2), Oracle Database does not support running <span class="italic">server-side</span> SQLJ code, including running stored procedures, functions, and triggers in the database environment.
                              </p>
                           </div>
                           <p>SQLJ provides a simple, but powerful, way to develop client-side and middle-tier applications that access databases from Java. A developer writes a program using SQLJ and then uses the SQLJ translator to translate embedded SQL to pure JDBC-based Java code. At run time, the program can communicate with multi-vendor databases using standard JDBC drivers.</p>
                           <p>The following example shows a simple SQLJ executable statement:</p><pre class="pre codeblock"><code>String name;
#sql  { SELECT first_name INTO :name FROM employees WHERE employee_id=112 };
System.out.println("Name is " + name + ", employee number = " + employee_id);
</code></pre><div class="infoboxnotealso" id="GUID-BCCC0B04-0B9C-45BA-A34A-46051F0643E1__GUID-6F096BBC-3733-4FC4-9A9E-8A70A63EC57A">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li><span class="q">"<a href="concepts-for-database-developers.html#GUID-575F8325-3839-45ED-B370-2292D208D9C3" title="SQLJ is an ANSI SQL-1999 standard for embedding SQL statements in Java source code. SQLJ provides a simpler alternative to the Java Database Connectivity (JDBC) API for client-side SQL data access from Java.">SQLJ</a>"</span></li>
                                 <li>
                                    <p><a href="../jsqlj/intro-to-SQLJ.html#GUID-B3A3C319-5C61-40C6-B3FB-37C2BD98AD48" target="_blank"><span><cite>Oracle Database SQLJ Developer’s Guide</cite></span></a></p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                     </div>
                  </div>
               </div>
            </div><a id="CNCPT118"></a><div class="props_rev_3"><a id="GUID-40297ADF-0968-42F8-B8B9-84AD6ADCBE63" name="GUID-40297ADF-0968-42F8-B8B9-84AD6ADCBE63"></a><h3 id="CNCPT-GUID-40297ADF-0968-42F8-B8B9-84AD6ADCBE63" class="sect3">Overview of Triggers</h3>
               <div>
                  <p>A database <span class="bold">trigger</span> is a compiled stored program unit, written in either PL/SQL or Java, that Oracle Database invokes ("fires") automatically in certain situations.
                  </p>
                  <p>A trigger fires whenever one of the following operations occurs:</p>
                  <ol>
                     <li>
                        <p><a href="glossary.html#GUID-B5F2F112-1B33-41B5-B63D-9DC8F99A369D"><span class="xrefglossterm">DML</span></a> statements on a particular table or view, issued by any user
                        </p>
                        <p>DML statements modify data in schema objects. For example, inserting and deleting rows are DML operations.</p>
                     </li>
                     <li>
                        <p><a href="glossary.html#GUID-64F19D78-A73F-44A5-AA2E-60EBC800CB22"><span class="xrefglossterm">DDL</span></a> statements issued either by a particular user or any user
                        </p>
                        <p>DDL statements define schema objects. For example, creating a table and adding a column are DDL operations.</p>
                     </li>
                     <li>
                        <p>Database events</p>
                        <p>User login or logoff, errors, and database startup or shutdown are events that can invoke triggers.</p>
                     </li>
                  </ol>
                  <p>Triggers are schema objects that are similar to subprograms but differ in the way they are invoked. A subprogram is explicitly run by a user, application, or trigger. Triggers are implicitly invoked by the database when a triggering event occurs.</p>
                  <div class="infoboxnotealso" id="GUID-40297ADF-0968-42F8-B8B9-84AD6ADCBE63__GUID-4D2869DE-CDF1-4430-A0E7-EBCCFD3859DB">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="q">"<a href="sql.html#GUID-662EE4B0-7D5E-43F5-806D-A2AE404D77BF" title="All operations performed on the information in an Oracle database are run using SQL statements. A SQL statement is a computer program or instruction that consists of identifiers, parameters, variables, names, data types, and SQL reserved words.">Overview of SQL Statements</a>"</span> to learn about DML and DDL
                           </p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="oracle-database-instance.html#GUID-5FCFB104-8365-4E7B-87A1-736E65D6658F" title="A database instance provides user access to a database. The instance and the database can be in various states.">Overview of Database Instance Startup and Shutdown</a>"</span></p>
                        </li>
                     </ul>
                  </div>
               </div><a id="CNCPT88945"></a><div class="props_rev_3"><a id="GUID-F1177761-342B-468C-BE5B-943A1ABC7B7C" name="GUID-F1177761-342B-468C-BE5B-943A1ABC7B7C"></a><h4 id="CNCPT-GUID-F1177761-342B-468C-BE5B-943A1ABC7B7C" class="sect4">Advantages of Triggers</h4>
                  <div>
                     <p>The correct use of triggers enables you to build and deploy applications that are more robust and that use the database more effectively.</p>
                     <p>You can use triggers to:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Automatically generate derived column values</p>
                        </li>
                        <li>
                           <p>Prevent invalid transactions</p>
                        </li>
                        <li>
                           <p>Provide auditing and event logging</p>
                        </li>
                        <li>
                           <p>Record information about table access</p>
                        </li>
                     </ul>
                     <p>You can use triggers to enforce low-level business rules common for all client applications. For example, several applications may access the <code class="codeph">employees</code> table. If a trigger on this table ensures the format of inserted data, then this business logic does not need to be reproduced in every client. Because the trigger cannot be circumvented by the application, the business logic in the trigger is used automatically.
                     </p>
                     <p>You can use both triggers and integrity constraints to define and enforce any type of integrity rule. However, Oracle strongly recommends that you only use triggers to enforce complex business rules not definable using an <a href="glossary.html#GUID-67F8FE8C-EBA5-4796-820A-8919982A1411"><span class="xrefglossterm">integrity constraint</span></a>.
                     </p>
                     <p>Excessive use of triggers can result in complex interdependencies that can be difficult to maintain in a large application. For example, when a trigger is invoked, a SQL statement within its trigger action potentially can fire other triggers, resulting in cascading triggers that can produce unintended effects.</p>
                     <div class="infoboxnotealso" id="GUID-F1177761-342B-468C-BE5B-943A1ABC7B7C__GUID-A5182620-E802-41C6-98FD-F6FD3E3E6142">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="data-integrity.html#GUID-A8893CD7-8B19-42AA-8550-9713071FA679" title="It is important that data maintain data integrity, which is adherence to business rules determined by the database administrator or application developer.">Introduction to Data Integrity</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="../tdddg/using-triggers.html#TDDDG50000" target="_blank"><span><cite>Oracle Database 2 Day Developer's Guide</cite></span></a></p>
                           </li>
                           <li>
                              <p><a href="../lnpls/plsql-triggers.html#LNPLS2002" target="_blank"><span><cite>Oracle Database PL/SQL Language Reference</cite></span></a> for guidelines and restrictions when planning triggers for your application
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="CNCPT318"></a><div class="props_rev_3"><a id="GUID-02E647D9-D55E-4C74-993A-65FCE1AFE6AA" name="GUID-02E647D9-D55E-4C74-993A-65FCE1AFE6AA"></a><h4 id="CNCPT-GUID-02E647D9-D55E-4C74-993A-65FCE1AFE6AA" class="sect4">Types of Triggers</h4>
                  <div>
                     <p>Triggers can be categorized according to their means of invocation and the type of actions they perform. </p>
                     <p>Oracle Database supports the following types of triggers:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Row triggers</p>
                           <p>A <a href="glossary.html#GUID-24EF0C74-72E4-4455-8C95-C52A1CDDF81C"><span class="xrefglossterm">row trigger</span></a> fires each time the table is affected by the triggering statement. For example, if a statement updates multiple rows, then a row trigger fires once for each row affected by the <code class="codeph">UPDATE</code>. If a triggering statement affects no rows, then a row trigger is not run. Row triggers are useful if the code in the trigger action depends on data provided by the triggering statement or rows that are affected. 
                           </p>
                        </li>
                        <li>
                           <p>Statement triggers</p>
                           <p>A <a href="glossary.html#GUID-85D25BFF-A802-4DAB-B86C-A41EFCA11B6E"><span class="xrefglossterm">statement trigger</span></a> is fired once on behalf of the triggering statement, regardless of the number of rows affected by the triggering statement. For example, if a statement deletes 100 rows from a table, a statement-level <code class="codeph">DELETE</code> trigger is fired only once. Statement triggers are useful if the code in the trigger action does not depend on the data provided by the triggering statement or the rows affected.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">INSTEAD OF</code> triggers
                           </p>
                           <p>An <a href="glossary.html#GUID-9BB0F932-40F0-4727-85A1-904E162405D0"><span class="xrefglossterm">INSTEAD OF trigger</span></a> is fired by Oracle Database instead of executing the triggering statement. These triggers are useful for transparently modifying views that cannot be modified directly through DML statements.
                           </p>
                        </li>
                        <li>
                           <p>Event triggers</p>
                           <p>You can use triggers to publish information about database events to subscribers. Event triggers are divided into the following categories: </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>A <a href="glossary.html#GUID-EFE577C5-037A-4974-8358-F3761AC70601"><span class="xrefglossterm">system event trigger</span></a> can be caused by events such as database instance startup and shutdown or error messages.
                                 </p>
                              </li>
                              <li>
                                 <p>A <a href="glossary.html#GUID-54BD71CF-7D44-4CB2-9FC4-90F5CA8EF110"><span class="xrefglossterm">user event trigger</span></a> is fired because of events related to user logon and logoff, DDL statements, and DML statements.
                                 </p>
                              </li>
                           </ul>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-02E647D9-D55E-4C74-993A-65FCE1AFE6AA__GUID-2C35DBFE-34BB-461E-A13F-A4F34C3D3C7E">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../tdddg/using-triggers.html#TDDDG51000" target="_blank"><span><cite>Oracle Database 2 Day Developer's Guide</cite></span></a></p>
                           </li>
                           <li>
                              <p><a href="../lnpls/plsql-triggers.html#LNPLS2005" target="_blank"><span><cite>Oracle Database PL/SQL Language Reference</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="CNCPT88946"></a><div class="props_rev_3"><a id="GUID-A29549A3-AB75-4CCD-9093-559F8B5DA9B2" name="GUID-A29549A3-AB75-4CCD-9093-559F8B5DA9B2"></a><h4 id="CNCPT-GUID-A29549A3-AB75-4CCD-9093-559F8B5DA9B2" class="sect4">Timing for Triggers</h4>
                  <div>
                     <p>You can define the trigger timing—whether the trigger action is to be run before or after the triggering statement. </p>
                     <p>A <a href="glossary.html#GUID-2B4F37A3-7EB0-455F-8704-32C072C25198"><span class="xrefglossterm">simple trigger</span></a> is a single trigger on a table that enables you to specify actions for exactly one of the following timing points:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Before the firing statement</p>
                        </li>
                        <li>
                           <p>Before each row affected by the firing statement</p>
                        </li>
                        <li>
                           <p>After each row affected by the firing statement</p>
                        </li>
                        <li>
                           <p>After the firing statement</p>
                        </li>
                     </ul>
                     <p>For statement and row triggers, a <code class="codeph">BEFORE</code> trigger can enhance security and enable business rules before making changes to the database. The <code class="codeph">AFTER</code> trigger is ideal for logging actions.
                     </p>
                     <p>A <a href="glossary.html#GUID-AE8C3B7A-EF80-4452-9C4D-4094E21BFC9E"><span class="xrefglossterm">compound trigger</span></a> can fire at multiple timing points. Compound triggers help program an approach in which the actions that you implement for various timing points share common data.
                     </p>
                     <div class="infoboxnotealso" id="GUID-A29549A3-AB75-4CCD-9093-559F8B5DA9B2__GUID-2DFB36FF-EEA0-49F7-92E3-02A53665E5EB">
                        <p class="notep1">See Also:</p>
                        <p><a href="../lnpls/plsql-triggers.html#LNPLS2005" target="_blank"><span><cite>Oracle Database PL/SQL Language Reference</cite></span></a> to learn about compound triggers
                        </p>
                     </div>
                  </div>
               </div><a id="CNCPT88948"></a><a id="CNCPT88947"></a><a id="CNCPT218"></a><div class="props_rev_3"><a id="GUID-146A5161-0BEA-4556-B0BC-DB29306FACFA" name="GUID-146A5161-0BEA-4556-B0BC-DB29306FACFA"></a><h4 id="CNCPT-GUID-146A5161-0BEA-4556-B0BC-DB29306FACFA" class="sect4">Creation of Triggers</h4>
                  <div>
                     <p>The <code class="codeph">CREATE TRIGGER</code> statement creates or replaces a database trigger. 
                     </p>
                     <p>A PL/SQL trigger has the following general syntactic form:</p><pre class="pre codeblock"><code>CREATE TRIGGER <span class="italic">trigger_name</span>
  <span class="italic">triggering_statement</span>
  [<span class="italic">trigger_restriction</span>]
BEGIN
 <span class="italic">triggered_action</span>;
END;
</code></pre><p>A PL/SQL trigger has the following basic components:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Trigger name</p>
                           <p>The name must be unique among other trigger names in the same schema. For example, the name may be <code class="codeph">part_reorder_trigger</code>.
                           </p>
                        </li>
                        <li>
                           <p>The trigger event or statement</p>
                           <p>A triggering event or statement is the SQL statement, database event, or user event that causes a trigger to be invoked. For example, a user updates a table.</p>
                        </li>
                        <li>
                           <p>Trigger restriction</p>
                           <p>A trigger restriction specifies a Boolean <a href="glossary.html#GUID-E2141FFA-A7B2-4113-BEEE-2401FC38AB2E"><span class="xrefglossterm">expression</span></a> that must be <code class="codeph">true</code> for the trigger to fire. For example, the trigger is not invoked unless the number of available parts is less than a present reorder amount.
                           </p>
                        </li>
                        <li>
                           <p>Triggered action</p>
                           <p>A triggered action is the procedure that contains the SQL statements and code to be run when a triggering statement is issued and the trigger restriction evaluates to true. For example, a user inserts a row into a pending orders table.</p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-146A5161-0BEA-4556-B0BC-DB29306FACFA__GUID-AA1B80EE-D949-46E9-AF54-604B974722C0">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../tdddg/using-triggers.html#TDDDG52000" target="_blank"><span><cite>Oracle Database 2 Day Developer's Guide</cite></span></a> and <a href="../lnpls/CREATE-PROCEDURE-statement.html#LNPLS2004" target="_blank"><span><cite>Oracle Database PL/SQL Language Reference</cite></span></a> to learn how to create triggers
                              </p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/CREATE-TRIGGER.html#SQLRF01405" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> to learn about the <code class="codeph">CREATE TRIGGER</code> statement
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-355D97A1-A490-477F-9888-278624393ABF" name="GUID-355D97A1-A490-477F-9888-278624393ABF"></a><h5 id="CNCPT-GUID-355D97A1-A490-477F-9888-278624393ABF" class="sect5">Example: CREATE TRIGGER Statement</h5>
                     <div>
                        <p>This example creates a trigger that fires when an <code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code>, or <code class="codeph">DELETE</code> statement executes on a line items table.
                        </p>
                        <div class="example" id="GUID-355D97A1-A490-477F-9888-278624393ABF__GUID-AE3458EA-D92C-4D1D-B59D-5052C751E1FE">
                           <p>Suppose that you create the <code class="codeph">orders</code> and <code class="codeph">lineitems</code> tables with the following statements. The <code class="codeph">orders</code> table contains a row for each unique order, whereas the <code class="codeph">lineitems</code> table contains a row for each item in an order.
                           </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE orders
( order_id NUMBER PRIMARY KEY,
  /* other attributes */
  line_items_count NUMBER DEFAULT 0 );

CREATE TABLE lineitems
( order_id REFERENCES orders,
  seq_no   NUMBER,
  /* other attributes */
  CONSTRAINT lineitems PRIMARY KEY(order_id,seq_no) );
</pre><p>The following statement creates a sample trigger that automatically updates the <code class="codeph">orders</code> table with the number of items in an order:
                           </p><pre class="pre codeblock"><code>CREATE OR REPLACE TRIGGER lineitems_trigger
  AFTER INSERT OR UPDATE OR DELETE ON lineitems 
  FOR EACH ROW
BEGIN
  IF (INSERTING OR UPDATING)
  THEN
    UPDATE orders SET line_items_count = NVL(line_items_count,0)+1
    WHERE order_id = :new.order_id;
  END IF;
  IF (DELETING OR UPDATING)
  THEN
    UPDATE orders SET line_items_count = NVL(line_items_count,0)-1
    WHERE order_id = :old.order_id;
  END IF;
END;
/
</code></pre><p>In <code class="codeph">lineitems_trigger</code>, the triggering statement is an <code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code>, or <code class="codeph">DELETE</code> on the <code class="codeph">lineitems</code> table. No triggering restriction exists. The trigger is invoked for each row changed. The trigger has access to the old and new column values of the current row affected by the triggering statement. Two correlation names exist for every column of the table being modified: the old value (<code class="codeph">:old</code>), and the new value (<code class="codeph">:new</code>). If a session updates or inserts rows in <code class="codeph">lineitems</code> for an order, then after the action the trigger calculates the number of items in this order and updates the <code class="codeph">orders</code> table with the count. 
                           </p>
                        </div>
                        <!-- class="example" -->
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-787A32DF-959F-4821-AFAD-3B3424769D25" name="GUID-787A32DF-959F-4821-AFAD-3B3424769D25"></a><h5 id="CNCPT-GUID-787A32DF-959F-4821-AFAD-3B3424769D25" class="sect5">Example: Invoking a Row-Level Trigger</h5>
                     <div>
                        <p>In this scenario, a customer initiates two orders and adds and removes line items from the orders. </p>
                        <div class="example" id="GUID-787A32DF-959F-4821-AFAD-3B3424769D25__GUID-BEC423E0-5961-4151-9B6A-BA6A53BCF4DA">
                           <p>The scenario is based on the trigger created in <a href="server-side-programming.html#GUID-355D97A1-A490-477F-9888-278624393ABF" title="This example creates a trigger that fires when an INSERT, UPDATE, or DELETE statement executes on a line items table.">Example: CREATE TRIGGER Statement</a>.
                           </p>
                           <div class="tblformalwide" id="GUID-787A32DF-959F-4821-AFAD-3B3424769D25__GUID-94121B35-F6AD-4813-A58F-C13FCA364DD0">
                              <p class="titleintable">Table 8-3 Row-Level Trigger Scenario</p>
                              <table cellpadding="4" cellspacing="0" class="FormalWide" title="Row-Level Trigger Scenario" summary="This table describes a scenario where a customer initiates two orders and adds and removes line items from the orders." width="100%" frame="hsides" border="1" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="20%" id="d40402e10648">SQL Statement</th>
                                       <th align="left" valign="bottom" width="20%" id="d40402e10651">Triggered SQL Statement</th>
                                       <th align="left" valign="bottom" width="20%" id="d40402e10654">Description</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d40402e10659" headers="d40402e10648 "><pre class="oac_no_warn" dir="ltr">SQL&gt; INSERT INTO orders
  (order_id) VALUES (78);
 
1 row created. </pre></td>
                                       <td align="left" valign="top" width="20%" headers="d40402e10659 d40402e10651 ">&nbsp;</td>
                                       <td align="left" valign="top" width="20%" headers="d40402e10659 d40402e10654 ">
                                          <p>The customer creates an order with ID 78. At this point the customer has no items in the order. </p>
                                          <p>Because no action is performed on the <code class="codeph">lineitems</code> table, the trigger is not invoked.
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d40402e10672" headers="d40402e10648 "><pre class="oac_no_warn" dir="ltr">SQL&gt; INSERT INTO orders
  (order_id) VALUES (92);
 
1 row created. </pre></td>
                                       <td align="left" valign="top" width="20%" headers="d40402e10672 d40402e10651 ">&nbsp;</td>
                                       <td align="left" valign="top" width="20%" headers="d40402e10672 d40402e10654 ">
                                          <p>The customer creates a separate order with ID 92. At this point the customer has no items in the order.</p>
                                          <p>Because no action is performed on the <code class="codeph">lineitems</code> table, the trigger is not invoked.
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d40402e10685" headers="d40402e10648 "><pre class="oac_no_warn" dir="ltr">SQL&gt; INSERT INTO lineitems 
 (order_id, seq_no)
 VALUES (78,1);
 
1 row created. </pre></td>
                                       <td align="left" valign="top" width="20%" headers="d40402e10685 d40402e10651 "><pre class="oac_no_warn" dir="ltr">UPDATE orders 
  SET line_items_count = 
    NVL(NULL,0)+1
  WHERE order_id = 78;</pre></td>
                                       <td align="left" valign="top" width="20%" headers="d40402e10685 d40402e10654 ">
                                          <p>The customer adds an item to order 78.</p>
                                          <p>The <code class="codeph">INSERT</code> invokes the trigger. The triggered statement increases the line item count for order 78 from 0 to 1.
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d40402e10700" headers="d40402e10648 "><pre class="oac_no_warn" dir="ltr">SQL&gt; INSERT INTO lineitems 
  (order_id, seq_no) 
  VALUES (78,2);
 
1 row created. </pre></td>
                                       <td align="left" valign="top" width="20%" headers="d40402e10700 d40402e10651 "><pre class="oac_no_warn" dir="ltr">UPDATE orders 
  SET line_items_count = 
    NVL(1,0)+1
  WHERE order_id = 78;
</pre></td>
                                       <td align="left" valign="top" width="20%" headers="d40402e10700 d40402e10654 ">
                                          <p>The customer adds an additional item to order 78.</p>
                                          <p>The <code class="codeph">INSERT</code> invokes the trigger. The triggered statement increases the line item count for order 78 from 1 to 2.
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d40402e10715" headers="d40402e10648 "><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM orders;

 ORDER_ID LINE_ITEMS_COUNT
--------- ----------------
      78                2
      92                0</pre></td>
                                       <td align="left" valign="top" width="20%" headers="d40402e10715 d40402e10651 ">&nbsp;</td>
                                       <td align="left" valign="top" width="20%" headers="d40402e10715 d40402e10654 ">
                                          <p>The customer queries the status of the two orders. Order 78 contains two items. Order 92 contains no items.</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d40402e10723" headers="d40402e10648 "><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM lineitems;
 
  ORDER_ID     SEQ_NO
---------- ----------
        78          1
        78          2</pre></td>
                                       <td align="left" valign="top" width="20%" headers="d40402e10723 d40402e10651 ">&nbsp;</td>
                                       <td align="left" valign="top" width="20%" headers="d40402e10723 d40402e10654 ">
                                          <p>The customer queries the status of the line items. Each item is uniquely identified by the order ID and the sequence number.</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d40402e10731" headers="d40402e10648 "><pre class="oac_no_warn" dir="ltr">SQL&gt; UPDATE lineitems 
  SET order_id = 92;

2 rows updated.</pre></td>
                                       <td align="left" valign="top" width="20%" headers="d40402e10731 d40402e10651 "><pre class="oac_no_warn" dir="ltr">UPDATE orders 
  SET line_items_count = 
    NVL(NULL,0)+1
  WHERE order_id = 92;

UPDATE orders 
  SET line_items_count = 
    NVL(2,0)-1
  WHERE order_id = 78;
</pre><pre class="oac_no_warn" dir="ltr">UPDATE orders 
  SET line_items_count = 
    NVL(1,0)+1
  WHERE order_id = 92;

UPDATE orders 
  SET line_items_count = 
    NVL(1,0)-1
  WHERE order_id = 78;</pre></td>
                                       <td align="left" valign="top" width="20%" headers="d40402e10731 d40402e10654 ">
                                          <p>The customer moves the line items that were in order 78 to order 92.</p>
                                          <p>The <code class="codeph">UPDATE</code> statement changes 2 rows in the <code class="codeph">lineitems</code> tables, which invokes the trigger once for each row.
                                          </p>
                                          <p>Each time the trigger is invoked, both <code class="codeph">IF</code> conditions in the trigger are met. The first condition increments the count for order 92, whereas the second condition decreases the count for order 78. Thus, four total <code class="codeph">UPDATE</code> statements are run.
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d40402e10759" headers="d40402e10648 "><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM orders;

 ORDER_ID LINE_ITEMS_COUNT
--------- ----------------
       78                0
       92                2</pre></td>
                                       <td align="left" valign="top" width="20%" headers="d40402e10759 d40402e10651 ">&nbsp;</td>
                                       <td align="left" valign="top" width="20%" headers="d40402e10759 d40402e10654 ">
                                          <p>The customer queries the status of the two orders. The net effect is that the line item count for order 92 has increased from 0 to 2, whereas the count for order 78 has decreased from 2 to 0.</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d40402e10767" headers="d40402e10648 "><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM lineitems;
 
  ORDER_ID     SEQ_NO
---------- ----------
        92          1
        92          2</pre></td>
                                       <td align="left" valign="top" width="20%" headers="d40402e10767 d40402e10651 ">&nbsp;</td>
                                       <td align="left" valign="top" width="20%" headers="d40402e10767 d40402e10654 ">
                                          <p>The customer queries the status of the line items. Each item is uniquely identified by the order ID and the sequence number.</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d40402e10775" headers="d40402e10648 "><pre class="oac_no_warn" dir="ltr">SQL&gt; DELETE FROM lineitems;
 
2 rows deleted.</pre></td>
                                       <td align="left" valign="top" width="20%" headers="d40402e10775 d40402e10651 "><pre class="oac_no_warn" dir="ltr">UPDATE orders 
  SET line_items_count = 
    NVL(2,0)-1
  WHERE order_id = 92;
 
UPDATE orders 
  SET line_items_count = 
    NVL(1,0)-1
  WHERE order_id = 92;</pre></td>
                                       <td align="left" valign="top" width="20%" headers="d40402e10775 d40402e10654 ">
                                          <p>The customer now removes all line items from all orders.</p>
                                          <p>The <code class="codeph">DELETE</code> statement changes 2 rows in the <code class="codeph">lineitems</code> tables, which invokes the trigger once for each row. For each trigger invocation, only one <code class="codeph">IF</code> condition in the trigger is met. Each time the condition decreases the count for order 92 by 1. Thus, two total <code class="codeph">UPDATE</code> statements are run.
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="20%" id="d40402e10799" headers="d40402e10648 "><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM orders;

 ORDER_ID LINE_ITEMS_COUNT
--------- ----------------
       78                0
       92                0

SQL&gt; SELECT * FROM lineitems;
 
no rows selected</pre></td>
                                       <td align="left" valign="top" width="20%" headers="d40402e10799 d40402e10651 ">&nbsp;</td>
                                       <td align="left" valign="top" width="20%" headers="d40402e10799 d40402e10654 ">
                                          <p>The customer queries the status of the two orders. Neither order contains line items.</p>
                                          <p>The customer also queries the status of the line items. No items exist.</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </div>
                        <!-- class="example" -->
                     </div>
                  </div>
               </div><a id="CNCPT1697"></a><div class="props_rev_3"><a id="GUID-F5B4011B-AA09-4D61-A409-6AB290A9025F" name="GUID-F5B4011B-AA09-4D61-A409-6AB290A9025F"></a><h4 id="CNCPT-GUID-F5B4011B-AA09-4D61-A409-6AB290A9025F" class="sect4">Execution of Triggers</h4>
                  <div>
                     <p>Oracle Database executes a trigger internally using the same steps as for subprogram execution. </p>
                     <p>The only subtle difference is that a user account has the right to fire a trigger if it has the privilege to run the triggering statement. With this exception, the database validates and runs triggers the same way as stored subprograms.</p>
                     <div class="infoboxnotealso" id="GUID-F5B4011B-AA09-4D61-A409-6AB290A9025F__GUID-ADC3DCE9-FC22-4342-9967-BDC3475C475B">
                        <p class="notep1">See Also:</p>
                        <p><a href="../lnpls/plsql-triggers.html#LNPLS020" target="_blank"><span><cite>Oracle Database PL/SQL Language Reference</cite></span></a> to learn more about trigger execution
                        </p>
                     </div>
                  </div>
               </div><a id="CNCPT88949"></a><a id="CNCPT1696"></a><div class="props_rev_3"><a id="GUID-D54C348D-BFC6-41B6-AEDD-C081C1089208" name="GUID-D54C348D-BFC6-41B6-AEDD-C081C1089208"></a><h4 id="CNCPT-GUID-D54C348D-BFC6-41B6-AEDD-C081C1089208" class="sect4">Storage of Triggers</h4>
                  <div>
                     <p>Oracle Database stores PL/SQL triggers in compiled form in a database schema, just like PL/SQL stored procedures. </p>
                     <p>When a <code class="codeph">CREATE TRIGGER</code> statement commits, the compiled PL/SQL code is stored in the database. The shared pool removes the source code of the PL/SQL trigger.
                     </p>
                     <p>The following graphic shows a database application with SQL statements that implicitly invoke PL/SQL triggers. The triggers are stored separately from their associated tables.</p>
                     <div class="figure" id="GUID-D54C348D-BFC6-41B6-AEDD-C081C1089208__BABJAIBB">
                        <p class="titleinfigure">Figure 8-7 Triggers</p><img src="img/cncpt076.gif" alt="Description of Figure 8-7 follows" title="Description of Figure 8-7 follows" longdesc="img_text/cncpt076.html"><br><a href="img_text/cncpt076.html">Description of "Figure 8-7 Triggers"</a></div>
                     <!-- class="figure" -->
                     <p>Java triggers are stored in the same manner as PL/SQL triggers. However, a Java trigger references Java code that was separately compiled with a <code class="codeph">CALL</code> statement. Thus, creating a Java trigger involves creating Java code and creating the trigger that references this Java code.
                     </p>
                     <div class="infoboxnotealso" id="GUID-D54C348D-BFC6-41B6-AEDD-C081C1089208__GUID-AF279AA8-4118-4B89-B4FD-B5E68A3B2C0D">
                        <p class="notep1">See Also:</p>
                        <p><a href="../lnpls/plsql-triggers.html#LNPLS2007" target="_blank"><span><cite>Oracle Database PL/SQL Language Reference</cite></span></a> to learn about compiling and storing triggers
                        </p>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='00273.managing-the-redo-log.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="You manage the redo log by completing tasks such as creating redo log groups and members, relocating and renaming redo log members, dropping redo log groups and members, and forcing log switches.">
      <meta name="description" content="You manage the redo log by completing tasks such as creating redo log groups and members, relocating and renaming redo log members, dropping redo log groups and members, and forcing log switches.">
      <title>Managing the Redo Log</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database Administrator’s Guide ">
      <meta property="og:description" content="You manage the redo log by completing tasks such as creating redo log groups and members, relocating and renaming redo log members, dropping redo log groups and members, and forcing log switches.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database Administrator’s Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-administrators-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-14T11:02:35-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96348-04">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="managing-control-files.html" title="Previous" type="text/html">
      <link rel="next" href="managing-archived-redo-log-files.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Administrator's Guide">
    <meta name="dcterms.isVersionOf" content="ADMIN">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="managing-control-files.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="managing-archived-redo-log-files.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database Administrator’s Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="oracle-database-structure-and-storage.html" property="item" typeof="WebPage"><span property="name"> Oracle Database Structure and Storage</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Managing the Redo Log</li>
            </ol>
            <a id="GUID-BC1F1762-0BB1-4218-B7AF-6160C395AAE4" name="GUID-BC1F1762-0BB1-4218-B7AF-6160C395AAE4"></a><a id="ADMIN007"></a>
            
            <h2 id="ADMIN-GUID-BC1F1762-0BB1-4218-B7AF-6160C395AAE4" class="sect2"><span class="enumeration_chapter">11 </span> Managing the Redo Log
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>You manage the redo log by completing tasks such as creating redo log groups and members, relocating and renaming redo log members, dropping redo log groups and members, and forcing log switches.</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="managing-the-redo-log.html#GUID-79189E7E-7431-49CA-B342-3B971186503A">What Is the Redo Log?</a><br>The most crucial structure for recovery operations is the <span class="bold">redo log</span>, which consists of two or more preallocated files that store all changes made to the database as they occur. Every instance of an Oracle Database has an associated redo log to protect the database in case of an instance failure.
                  </li>
                  <li class="ulchildlink"><a href="managing-the-redo-log.html#GUID-D77BCD54-908E-49F8-A80D-C8D3E9465D70">Planning the Redo Log</a><br>You can follow guidelines when configuring a database instance redo log.
                  </li>
                  <li class="ulchildlink"><a href="managing-the-redo-log.html#GUID-081AE57B-A821-4F26-97B2-4B141FDB3946">Creating Redo Log Groups and Members</a><br>Plan the redo log for a database and create all required groups and members of redo log files during database creation. However, there are situations where you might want to create additional groups or members. For example, adding groups to a redo log can correct redo log group availability problems. 
                  </li>
                  <li class="ulchildlink"><a href="managing-the-redo-log.html#GUID-F593023B-3071-4776-95F2-9B8B6C6E670B">Relocating and Renaming Redo Log Members</a><br>You can use operating system commands to relocate redo logs, then use the <code class="codeph">ALTER DATABASE</code> statement to make their new names (locations) known to the database. 
                  </li>
                  <li class="ulchildlink"><a href="managing-the-redo-log.html#GUID-54E1DA00-B999-4463-B868-85ADDC108D5D">Dropping Redo Log Groups and Members</a><br>In some cases, you may want to drop an entire group of redo log members.
                  </li>
                  <li class="ulchildlink"><a href="managing-the-redo-log.html#GUID-6A7FB6CB-AF29-40BC-BDB3-B514C502B2F6">Forcing Log Switches</a><br>A log switch occurs when LGWR stops writing to one redo log group and starts writing to another. By default, a log switch occurs automatically when the current redo log file group fills.
                  </li>
                  <li class="ulchildlink"><a href="managing-the-redo-log.html#GUID-E8BC43CA-D047-4AEF-AB4A-2566BE44D73A">Verifying Blocks in Redo Log Files</a><br>You can configure the database to use checksums to verify blocks in the redo log files.
                  </li>
                  <li class="ulchildlink"><a href="managing-the-redo-log.html#GUID-AA0EBC79-6670-409E-AED1-666FCEF3F25F">Clearing a Redo Log File</a><br>A redo log file might become corrupted while the database is open, and ultimately stop database activity because archiving cannot continue.
                  </li>
                  <li class="ulchildlink"><a href="managing-the-redo-log.html#GUID-27E9B63B-03E4-43E5-BA59-AB0EDDDE5CE6">Precedence of FORCE LOGGING Settings</a><br>You can set <code class="codeph">FORCE LOGGING</code> and <code class="codeph">NOLOGGING</code> at various levels, such as for a database, pluggable database (PDB), tablespace, or database object. When <code class="codeph">FORCE LOGGING</code> is set at one or more levels, the precedence of <code class="codeph">FORCE LOGGING</code> settings determines what is logged in the redo log.
                  </li>
                  <li class="ulchildlink"><a href="managing-the-redo-log.html#GUID-05FCB15E-BE40-40EB-B756-4D280461AD7E">Redo Log Data Dictionary Views</a><br>You can query a set of data dictionary views for information about the redo log.
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-BC1F1762-0BB1-4218-B7AF-6160C395AAE4__GUID-62907E67-41BF-454A-80A3-935FCEEC89B8">
                  <p class="notep1">See Also:</p>
                  <p><a href="using-oracle-managed-files.html#GUID-4A3C4616-0D81-4BBA-8EAD-FCAA8AD5C15A" title="Oracle Database can manage the files that comprise the database."> Using Oracle Managed Files</a> for information about redo log files that are both created and managed by the Oracle Database server
                  </p>
               </div>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="oracle-database-structure-and-storage.html#GUID-F11D30A7-BF12-4D8F-A1C2-D7437D38F8C7" title="You can create and manage database structures and storage components.">Oracle Database Structure and Storage</a></p>
                  </div>
               </div>
            </div>
            <a id="ADMIN11302"></a><div class="props_rev_3"><a id="GUID-79189E7E-7431-49CA-B342-3B971186503A" name="GUID-79189E7E-7431-49CA-B342-3B971186503A"></a><h3 id="ADMIN-GUID-79189E7E-7431-49CA-B342-3B971186503A" class="sect3"><span class="enumeration_section">11.1 </span>What Is the Redo Log?
               </h3>
               <p>The most crucial structure for recovery operations is the <span class="bold">redo log</span>, which consists of two or more preallocated files that store all changes made to the database as they occur. Every instance of an Oracle Database has an associated redo log to protect the database in case of an instance failure.
               </p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-the-redo-log.html#GUID-F3679E5E-5153-47D0-B9F9-B3825F519D0B">Redo Threads</a><br>When speaking in the context of multiple database instances, the redo log for each database instance is also referred to as a <span class="italic">redo thread</span>.
                     </li>
                     <li class="ulchildlink"><a href="managing-the-redo-log.html#GUID-4625A35C-EF8A-4A9E-8D19-829C1A665A34">Redo Log Contents</a><br>Redo log files are filled with <span class="bold">redo records</span>.
                     </li>
                     <li class="ulchildlink"><a href="managing-the-redo-log.html#GUID-4F316F04-8645-4F4B-9406-8978285D2D28">How Oracle Database Writes to the Redo Log</a><br>The redo log for a database consists of two or more redo log files. The database requires a minimum of two files to guarantee that one is always available for writing while the other is being archived (if the database is in <code class="codeph">ARCHIVELOG</code> mode).
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-the-redo-log.html#GUID-BC1F1762-0BB1-4218-B7AF-6160C395AAE4" title="You manage the redo log by completing tasks such as creating redo log groups and members, relocating and renaming redo log members, dropping redo log groups and members, and forcing log switches.">Managing the Redo Log</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN11303"></a><div class="props_rev_3"><a id="GUID-F3679E5E-5153-47D0-B9F9-B3825F519D0B" name="GUID-F3679E5E-5153-47D0-B9F9-B3825F519D0B"></a><h4 id="ADMIN-GUID-F3679E5E-5153-47D0-B9F9-B3825F519D0B" class="sect4"><span class="enumeration_section">11.1.1 </span>Redo Threads
                  </h4>
                  <div>
                     <p>When speaking in the context of multiple database instances, the redo log for each database instance is also referred to as a <span class="italic">redo thread</span>.
                     </p>
                     <p>In typical configurations, only one database instance accesses an Oracle Database, so only one thread is present. In an Oracle Real Application Clusters environment, however, two or more instances concurrently access a single database and each instance has its own thread of redo. A separate redo thread for each instance avoids contention for a single set of redo log files, thereby eliminating a potential performance bottleneck.</p>
                     <p>This chapter describes how to configure and manage the redo log on a standard single-instance Oracle Database. The thread number can be assumed to be 1 in all discussions and examples of statements. For information about redo log groups in an Oracle Real Application Clusters environment, see <a href="../racad/administering-storage-in-oracle-rac.html#RACAD704" target="_blank"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a>.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-the-redo-log.html#GUID-79189E7E-7431-49CA-B342-3B971186503A" title="The most crucial structure for recovery operations is the redo log, which consists of two or more preallocated files that store all changes made to the database as they occur. Every instance of an Oracle Database has an associated redo log to protect the database in case of an instance failure.">What Is the Redo Log?</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11304"></a><div class="props_rev_3"><a id="GUID-4625A35C-EF8A-4A9E-8D19-829C1A665A34" name="GUID-4625A35C-EF8A-4A9E-8D19-829C1A665A34"></a><h4 id="ADMIN-GUID-4625A35C-EF8A-4A9E-8D19-829C1A665A34" class="sect4"><span class="enumeration_section">11.1.2 </span>Redo Log Contents
                  </h4>
                  <div>
                     <p>Redo log files are filled with <span class="bold">redo records</span>.
                     </p>
                     <p>A redo record, also called a <span class="bold">redo entry</span>, is made up of a group of <span class="bold">change vectors</span>, each of which is a description of a change made to a single block in the database. For example, if you change a salary value in an employee table, you generate a redo record containing change vectors that describe changes to the data segment block for the table, the undo segment data block, and the transaction table of the undo segments.
                     </p>
                     <p>Redo entries record data that you can use to reconstruct all changes made to the database, including the undo segments. Therefore, the redo log also protects rollback data. When you recover the database using redo data, the database reads the change vectors in the redo records and applies the changes to the relevant blocks.</p>
                     <p>Redo records are buffered in a circular fashion in the redo log buffer of the SGA (see <span class="q">"<a href="managing-the-redo-log.html#GUID-4F316F04-8645-4F4B-9406-8978285D2D28" title="The redo log for a database consists of two or more redo log files. The database requires a minimum of two files to guarantee that one is always available for writing while the other is being archived (if the database is in ARCHIVELOG mode).">How Oracle Database Writes to the Redo Log</a>"</span>) and are written to one of the redo log files by the Log Writer (LGWR) database background process. Whenever a transaction is committed, LGWR writes the transaction redo records from the redo log buffer of the SGA to a redo log file, and assigns a <span class="bold">system change number </span>(SCN) to identify the redo records for each committed transaction. Only when all redo records associated with a given transaction are safely on disk in the online logs is the user process notified that the transaction has been committed.
                     </p>
                     <p>Redo records can also be written to a redo log file before the corresponding transaction is committed. If the redo log buffer fills, or another transaction commits, LGWR flushes all of the redo log entries in the redo log buffer to a redo log file, even though some redo records may not be committed. If necessary, the database can roll back these changes.</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-the-redo-log.html#GUID-79189E7E-7431-49CA-B342-3B971186503A" title="The most crucial structure for recovery operations is the redo log, which consists of two or more preallocated files that store all changes made to the database as they occur. Every instance of an Oracle Database has an associated redo log to protect the database in case of an instance failure.">What Is the Redo Log?</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13039"></a><a id="ADMIN11305"></a><div class="props_rev_3"><a id="GUID-4F316F04-8645-4F4B-9406-8978285D2D28" name="GUID-4F316F04-8645-4F4B-9406-8978285D2D28"></a><h4 id="ADMIN-GUID-4F316F04-8645-4F4B-9406-8978285D2D28" class="sect4"><span class="enumeration_section">11.1.3 </span>How Oracle Database Writes to the Redo Log
                  </h4>
                  <div>
                     <p>The redo log for a database consists of two or more redo log files. The database requires a minimum of two files to guarantee that one is always available for writing while the other is being archived (if the database is in <code class="codeph">ARCHIVELOG</code> mode).
                     </p>
                     <p>See <span class="q">"<a href="managing-archived-redo-log-files.html#GUID-5EE4AC49-E1B2-41A2-BEE7-AA951EAAB2F3" title="You manage the archived redo log files by completing tasks such as choosing between NOARCHIVELOG&nbsp;or&nbsp;ARCHIVELOG&nbsp;mode and specifying archive destinations."> Managing Archived Redo Log Files</a>"</span> for more information.
                     </p>
                     <p>LGWR writes to redo log files in a circular fashion. When the current redo log file fills, LGWR begins writing to the next available redo log file. When the last available redo log file is filled, LGWR returns to the first redo log file and writes to it, starting the cycle again. <a href="managing-the-redo-log.html#GUID-4F316F04-8645-4F4B-9406-8978285D2D28__I1006202">Figure 11-1</a> illustrates the circular writing of the redo log file. The numbers next to each line indicate the sequence in which LGWR writes to each redo log file. 
                     </p>
                     <p>Filled redo log files are available to LGWR for reuse depending on whether archiving is enabled.</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>If archiving is disabled (the database is in <code class="codeph">NOARCHIVELOG</code> mode), a filled redo log file is available after the changes recorded in it have been written to the data files. 
                           </p>
                        </li>
                        <li>
                           <p>If archiving is enabled (the database is in <code class="codeph">ARCHIVELOG</code> mode), a filled redo log file is available to LGWR after the changes recorded in it have been written to the data files <span class="italic">and</span> the file has been archived. 
                           </p>
                        </li>
                     </ul>
                     <div class="figure" id="GUID-4F316F04-8645-4F4B-9406-8978285D2D28__I1006202">
                        <p class="titleinfigure">Figure 11-1 Reuse of Redo Log Files by LGWR</p><img src="img/admin054.gif" width="322" alt="Description of Figure 11-1 follows" title="Description of Figure 11-1 follows" longdesc="img_text/admin054.html"><br><a href="img_text/admin054.html">Description of "Figure 11-1 Reuse of Redo Log Files by LGWR"</a></div>
                     <!-- class="figure" -->
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-the-redo-log.html#GUID-C185CE02-EDFB-4FE7-9C50-B80D8DD5214D">Active (Current) and Inactive Redo Log Files</a><br>Oracle Database uses only one redo log file at a time to store redo records written from the redo log buffer. The redo log file that LGWR is actively writing to is called the <span class="bold">current</span> redo log file.
                        </li>
                        <li class="ulchildlink"><a href="managing-the-redo-log.html#GUID-F1D9C389-98A8-4733-9539-6B0112EFBB10">Log Switches and Log Sequence Numbers</a><br>A <span class="bold">log switch</span> is the point at which the database stops writing to one redo log file and begins writing to another. Normally, a log switch occurs when the current redo log file is completely filled and writing must continue to the next redo log file.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-the-redo-log.html#GUID-79189E7E-7431-49CA-B342-3B971186503A" title="The most crucial structure for recovery operations is the redo log, which consists of two or more preallocated files that store all changes made to the database as they occur. Every instance of an Oracle Database has an associated redo log to protect the database in case of an instance failure.">What Is the Redo Log?</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN11306"></a><div class="props_rev_3"><a id="GUID-C185CE02-EDFB-4FE7-9C50-B80D8DD5214D" name="GUID-C185CE02-EDFB-4FE7-9C50-B80D8DD5214D"></a><h5 id="ADMIN-GUID-C185CE02-EDFB-4FE7-9C50-B80D8DD5214D" class="sect5"><span class="enumeration_section">11.1.3.1 </span>Active (Current) and Inactive Redo Log Files
                     </h5>
                     <div>
                        <p>Oracle Database uses only one redo log file at a time to store redo records written from the redo log buffer. The redo log file that LGWR is actively writing to is called the <span class="bold">current</span> redo log file.
                        </p>
                        <p>Redo log files that are required for instance recovery are called <span class="bold">active</span> redo log files. Redo log files that are no longer required for instance recovery are called <span class="bold">inactive</span> redo log files.
                        </p>
                        <p>If you have enabled archiving (the database is in <code class="codeph">ARCHIVELOG</code> mode), then the database cannot reuse or overwrite an active online log file until one of the archiver background processes (ARC<span class="italic">n</span>) has archived its contents. If archiving is disabled (the database is in <code class="codeph">NOARCHIVELOG</code> mode), then when the last redo log file is full, LGWR continues by overwriting the next log file in the sequence when it becomes inactive.
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-the-redo-log.html#GUID-4F316F04-8645-4F4B-9406-8978285D2D28" title="The redo log for a database consists of two or more redo log files. The database requires a minimum of two files to guarantee that one is always available for writing while the other is being archived (if the database is in ARCHIVELOG mode).">How Oracle Database Writes to the Redo Log</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11307"></a><div class="props_rev_3"><a id="GUID-F1D9C389-98A8-4733-9539-6B0112EFBB10" name="GUID-F1D9C389-98A8-4733-9539-6B0112EFBB10"></a><h5 id="ADMIN-GUID-F1D9C389-98A8-4733-9539-6B0112EFBB10" class="sect5"><span class="enumeration_section">11.1.3.2 </span>Log Switches and Log Sequence Numbers
                     </h5>
                     <div>
                        <p>A <span class="bold">log switch</span> is the point at which the database stops writing to one redo log file and begins writing to another. Normally, a log switch occurs when the current redo log file is completely filled and writing must continue to the next redo log file.
                        </p>
                        <p>However, you can configure log switches to occur at regular intervals, regardless of whether the current redo log file is completely filled. You can also force log switches manually.</p>
                        <p>Oracle Database assigns each redo log file a new <span class="bold">log sequence number</span> every time a log switch occurs and LGWR begins writing to it. When the database archives redo log files, the archived log retains its log sequence number. A redo log file that is cycled back for use is given the next available log sequence number.
                        </p>
                        <p>Each online or archived redo log file is uniquely identified by its log sequence number. During crash, instance, or media recovery, the database properly applies redo log files in ascending order by using the log sequence number of the necessary archived and redo log files.</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-the-redo-log.html#GUID-4F316F04-8645-4F4B-9406-8978285D2D28" title="The redo log for a database consists of two or more redo log files. The database requires a minimum of two files to guarantee that one is always available for writing while the other is being archived (if the database is in ARCHIVELOG mode).">How Oracle Database Writes to the Redo Log</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div><a id="ADMIN11308"></a><div class="props_rev_3"><a id="GUID-D77BCD54-908E-49F8-A80D-C8D3E9465D70" name="GUID-D77BCD54-908E-49F8-A80D-C8D3E9465D70"></a><h3 id="ADMIN-GUID-D77BCD54-908E-49F8-A80D-C8D3E9465D70" class="sect3"><span class="enumeration_section">11.2 </span>Planning the Redo Log
               </h3>
               <p>You can follow guidelines when configuring a database instance redo log.</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-the-redo-log.html#GUID-BDEEE3CB-7917-4C73-AB2D-434583D5F838">Multiplexing Redo Log Files</a><br>To protect against a failure involving the redo log itself, Oracle Database allows a <span class="bold">multiplexed</span> redo log, meaning that two or more identical copies of the redo log can be automatically maintained in separate locations. 
                     </li>
                     <li class="ulchildlink"><a href="managing-the-redo-log.html#GUID-79C81D0E-2F5C-48F2-8506-E78FF499D089">Placing Redo Log Members on Different Disks</a><br>When setting up a multiplexed redo log, place members of a group on different physical disks. If a single disk fails, then only one member of a group becomes unavailable to LGWR and other members remain accessible to LGWR, so the instance can continue to function.
                     </li>
                     <li class="ulchildlink"><a href="managing-the-redo-log.html#GUID-CA8CEB76-518F-42AD-A994-F66030B6DCB0">Planning the Size of Redo Log Files</a><br>When setting the size of redo log files, consider whether you will be archiving the redo log. Redo log files should be sized so that a filled group can be archived to a single unit of offline storage media (such as a tape or disk), with the least amount of space on the medium left unused.
                     </li>
                     <li class="ulchildlink"><a href="managing-the-redo-log.html#GUID-AC858C69-317E-4193-838D-59F8DDEA1927">Planning the Block Size of Redo Log Files</a><br>Unlike the database block size, which can be between 2K and 32K, redo log files always default to a block size that is equal to the physical sector size of the disk. Historically, this has typically been 512 bytes (512B).
                     </li>
                     <li class="ulchildlink"><a href="managing-the-redo-log.html#GUID-11CAAE2C-D46D-4611-8AAB-F9CB941D3934">Choosing the Number of Redo Log Files</a><br>The best way to determine the appropriate number of redo log files for a database instance is to test different configurations. The optimum configuration has the fewest groups possible without hampering LGWR from writing redo log information.
                     </li>
                     <li class="ulchildlink"><a href="managing-the-redo-log.html#GUID-DF2F4A14-2F01-48F5-BD6A-CB468E69338A">Controlling Archive Lag</a><br>You can force all enabled redo log threads to switch their current logs at regular time intervals.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-the-redo-log.html#GUID-BC1F1762-0BB1-4218-B7AF-6160C395AAE4" title="You manage the redo log by completing tasks such as creating redo log groups and members, relocating and renaming redo log members, dropping redo log groups and members, and forcing log switches.">Managing the Redo Log</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN13040"></a><a id="ADMIN11309"></a><div class="props_rev_3"><a id="GUID-BDEEE3CB-7917-4C73-AB2D-434583D5F838" name="GUID-BDEEE3CB-7917-4C73-AB2D-434583D5F838"></a><h4 id="ADMIN-GUID-BDEEE3CB-7917-4C73-AB2D-434583D5F838" class="sect4"><span class="enumeration_section">11.2.1 </span>Multiplexing Redo Log Files
                  </h4>
                  <div>
                     <p>To protect against a failure involving the redo log itself, Oracle Database allows a <span class="bold">multiplexed</span> redo log, meaning that two or more identical copies of the redo log can be automatically maintained in separate locations. 
                     </p>
                     <div class="section">
                        <p>For the most benefit, these locations should be on separate disks. Even if all copies of the redo log are on the same disk, however, the redundancy can help protect against I/O errors, file corruption, and so on. When redo log files are multiplexed, LGWR concurrently writes the same redo log information to multiple identical redo log files, thereby eliminating a single point of redo log failure.</p>
                        <p>Multiplexing is implemented by creating <span class="italic">groups</span> of redo log files. A <span class="bold">group</span> consists of a redo log file and its multiplexed copies. Each identical copy is said to be a <span class="bold">member</span> of the group. Each redo log group is defined by a number, such as group 1, group 2, and so on.
                        </p>
                        <div class="figure" id="GUID-BDEEE3CB-7917-4C73-AB2D-434583D5F838__i1006259">
                           <p class="titleinfigure">Figure 11-2 Multiplexed Redo Log Files</p><img src="img/admin052.gif" width="444" alt="Description of Figure 11-2 follows" title="Description of Figure 11-2 follows" longdesc="img_text/admin052.html"><br><a href="img_text/admin052.html">Description of "Figure 11-2 Multiplexed Redo Log Files"</a></div>
                        <!-- class="figure" -->
                        <p>In <a href="managing-the-redo-log.html#GUID-BDEEE3CB-7917-4C73-AB2D-434583D5F838__i1006259">Figure 11-2</a>, <code class="codeph">A_LOG1</code> and <code class="codeph">B_LOG1</code> are both members of Group 1, <code class="codeph">A_LOG2</code> and <code class="codeph">B_LOG2</code> are both members of Group 2, and so forth. Each member in a group must be the same size. 
                        </p>
                        <p>Each member of a log file group is concurrently active—that is, concurrently written to by LGWR—as indicated by the identical log sequence numbers assigned by LGWR. In <a href="managing-the-redo-log.html#GUID-BDEEE3CB-7917-4C73-AB2D-434583D5F838__i1006259">Figure 11-2</a>, first LGWR writes concurrently to both <code class="codeph">A_LOG1</code> and <code class="codeph">B_LOG1</code>. Then it writes concurrently to both <code class="codeph">A_LOG2</code> and <code class="codeph">B_LOG2</code>, and so on. LGWR never writes concurrently to members of different groups (for example, to <code class="codeph">A_LOG1</code> and <code class="codeph">B_LOG2</code>).
                        </p>
                        <div class="infoboxnote" id="GUID-BDEEE3CB-7917-4C73-AB2D-434583D5F838__GUID-398F16D2-C5A5-485E-9DF2-443296CD3682">
                           <p class="notep1">Note:</p>
                           <p>Oracle recommends that you multiplex your redo log files. The loss of the log file data can be catastrophic if recovery is required. Note that when you multiplex the redo log, the database must increase the amount of I/O that it performs. Depending on your configuration, this may impact overall database performance.</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-the-redo-log.html#GUID-298AD9D5-4825-4C3E-95A8-29FED1B9B6A5">Responding to Redo Log Failure</a><br>Whenever LGWR cannot write to a member of a group, the database marks that member as <code class="codeph">INVALID</code> and writes an error message to the LGWR trace file and to the database alert log to indicate the problem with the inaccessible files.
                        </li>
                        <li class="ulchildlink"><a href="managing-the-redo-log.html#GUID-70E18DAF-4D20-41DD-B20E-2209DAECD424">Legal and Illegal Configurations</a><br>In most cases, a multiplexed redo log should be symmetrical: all groups of the redo log should have the same number of members. However, the database does not require that a multiplexed redo log be symmetrical.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-the-redo-log.html#GUID-D77BCD54-908E-49F8-A80D-C8D3E9465D70" title="You can follow guidelines when configuring a database instance redo log.">Planning the Redo Log</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN11310"></a><div class="props_rev_3"><a id="GUID-298AD9D5-4825-4C3E-95A8-29FED1B9B6A5" name="GUID-298AD9D5-4825-4C3E-95A8-29FED1B9B6A5"></a><h5 id="ADMIN-GUID-298AD9D5-4825-4C3E-95A8-29FED1B9B6A5" class="sect5"><span class="enumeration_section">11.2.1.1 </span>Responding to Redo Log Failure
                     </h5>
                     <div>
                        <p>Whenever LGWR cannot write to a member of a group, the database marks that member as <code class="codeph">INVALID</code> and writes an error message to the LGWR trace file and to the database alert log to indicate the problem with the inaccessible files.
                        </p>
                        <p>The specific reaction of LGWR when a redo log member is unavailable depends on the reason for the lack of availability, as summarized in the table that follows.</p>
                        <div class="tblformal" id="GUID-298AD9D5-4825-4C3E-95A8-29FED1B9B6A5__GUID-877E0605-EF7F-4CD6-BC61-9B03BE39EC34">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table describes the action of Log Writer (LGWR) when responding to various conditions. The condition is listed in the left column of the table with the corresponding LGWR action described in the right column." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="33%" id="d132399e983">Condition</th>
                                    <th align="left" valign="bottom" width="67%" id="d132399e986">LGWR Action</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d132399e991" headers="d132399e983 ">
                                       <p>LGWR can successfully write to at least one member in a group</p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d132399e991 d132399e986 ">
                                       <p>Writing proceeds as normal. LGWR writes to the available members of a group and ignores the unavailable members.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d132399e998" headers="d132399e983 ">
                                       <p>LGWR cannot access the next group at a log switch because the group must be archived</p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d132399e998 d132399e986 ">
                                       <p>Database operation temporarily halts until the group becomes available or until the group is archived.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d132399e1005" headers="d132399e983 ">
                                       <p>All members of the next group are inaccessible to LGWR at a log switch because of media failure</p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d132399e1005 d132399e986 ">
                                       <p>Oracle Database returns an error, and the database instance shuts down. In this case, you may need to perform media recovery on the database from the loss of a redo log file.</p>
                                       <p>If the database checkpoint has moved beyond the lost redo log, media recovery is not necessary, because the database has saved the data recorded in the redo log to the data files. You need only drop the inaccessible redo log group. If the database did not archive the bad log, use <code class="codeph">ALTER DATABASE CLEAR LOGFILE UNARCHIVED</code> to disable archiving before the log can be dropped.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d132399e1017" headers="d132399e983 ">
                                       <p>All members of a group suddenly become inaccessible to LGWR while it is writing to them</p>
                                    </td>
                                    <td align="left" valign="top" width="67%" headers="d132399e1017 d132399e986 ">
                                       <p>Oracle Database returns an error and the database instance immediately shuts down. In this case, you may need to perform media recovery. If the media containing the log is not actually lost--for example, if the drive for the log was inadvertently turned off--media recovery may not be needed. In this case, you need only turn the drive back on and let the database perform automatic instance recovery.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-the-redo-log.html#GUID-BDEEE3CB-7917-4C73-AB2D-434583D5F838" title="To protect against a failure involving the redo log itself, Oracle Database allows a multiplexed redo log, meaning that two or more identical copies of the redo log can be automatically maintained in separate locations.">Multiplexing Redo Log Files</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN13041"></a><a id="ADMIN11311"></a><div class="props_rev_3"><a id="GUID-70E18DAF-4D20-41DD-B20E-2209DAECD424" name="GUID-70E18DAF-4D20-41DD-B20E-2209DAECD424"></a><h5 id="ADMIN-GUID-70E18DAF-4D20-41DD-B20E-2209DAECD424" class="sect5"><span class="enumeration_section">11.2.1.2 </span>Legal and Illegal Configurations
                     </h5>
                     <div>
                        <p>In most cases, a multiplexed redo log should be symmetrical: all groups of the redo log should have the same number of members. However, the database does not require that a multiplexed redo log be symmetrical.</p>
                        <p>For example, one group can have only one member, and other groups can have two members. This configuration protects against disk failures that temporarily affect some redo log members but leave others intact. </p>
                        <p>The only requirement for an instance redo log is that it have at least two groups. <a href="managing-the-redo-log.html#GUID-70E18DAF-4D20-41DD-B20E-2209DAECD424__i1206318">Figure 11-3</a> shows legal and illegal multiplexed redo log configurations. The second configuration is illegal because it has only one group.
                        </p>
                        <div class="figure" id="GUID-70E18DAF-4D20-41DD-B20E-2209DAECD424__i1206318">
                           <p class="titleinfigure">Figure 11-3 Legal and Illegal Multiplexed Redo Log Configuration</p><img src="img/admin053.gif" width="476" alt="Description of Figure 11-3 follows" title="Description of Figure 11-3 follows" longdesc="img_text/admin053.html"><br><a href="img_text/admin053.html">Description of "Figure 11-3 Legal and Illegal Multiplexed Redo Log Configuration"</a></div>
                        <!-- class="figure" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-the-redo-log.html#GUID-BDEEE3CB-7917-4C73-AB2D-434583D5F838" title="To protect against a failure involving the redo log itself, Oracle Database allows a multiplexed redo log, meaning that two or more identical copies of the redo log can be automatically maintained in separate locations.">Multiplexing Redo Log Files</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN11312"></a><div class="props_rev_3"><a id="GUID-79C81D0E-2F5C-48F2-8506-E78FF499D089" name="GUID-79C81D0E-2F5C-48F2-8506-E78FF499D089"></a><h4 id="ADMIN-GUID-79C81D0E-2F5C-48F2-8506-E78FF499D089" class="sect4"><span class="enumeration_section">11.2.2 </span>Placing Redo Log Members on Different Disks
                  </h4>
                  <div>
                     <p>When setting up a multiplexed redo log, place members of a group on different physical disks. If a single disk fails, then only one member of a group becomes unavailable to LGWR and other members remain accessible to LGWR, so the instance can continue to function.</p>
                     <div class="section">
                        <p>If you archive the redo log, spread redo log members across disks to eliminate contention between the LGWR and ARC<span class="italic">n</span> background processes. For example, if you have two groups of multiplexed redo log members (a <span class="italic">duplexed</span> redo log), place each member on a different disk and set your archiving destination to a fifth disk. Doing so will avoid contention between LGWR (writing to the members) and ARC<span class="italic">n</span> (reading the members).
                        </p>
                        <p>Data files should also be placed on different disks from redo log files to reduce contention in writing data blocks and redo records.</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-the-redo-log.html#GUID-D77BCD54-908E-49F8-A80D-C8D3E9465D70" title="You can follow guidelines when configuring a database instance redo log.">Planning the Redo Log</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11313"></a><div class="props_rev_3"><a id="GUID-CA8CEB76-518F-42AD-A994-F66030B6DCB0" name="GUID-CA8CEB76-518F-42AD-A994-F66030B6DCB0"></a><h4 id="ADMIN-GUID-CA8CEB76-518F-42AD-A994-F66030B6DCB0" class="sect4"><span class="enumeration_section">11.2.3 </span>Planning the Size of Redo Log Files
                  </h4>
                  <div>
                     <p>When setting the size of redo log files, consider whether you will be archiving the redo log. Redo log files should be sized so that a filled group can be archived to a single unit of offline storage media (such as a tape or disk), with the least amount of space on the medium left unused.</p>
                     <div class="section">
                        <p>For example, suppose only one filled redo log group can fit on a tape and 49% of the tape storage capacity remains unused. In this case, it is better to decrease the size of the redo log files slightly, so that two log groups could be archived on each tape. </p>
                        <p>All members of the same multiplexed redo log group must be the same size. Members of different groups can have different sizes. However, there is no advantage in varying file size between groups. If checkpoints are not set to occur between log switches, make all groups the same size to guarantee that checkpoints occur at regular intervals.</p>
                        <p>The minimum size permitted for a redo log file is 4 MB. </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-CA8CEB76-518F-42AD-A994-F66030B6DCB0__GUID-1DBFBC0D-31D3-4CA7-A5F7-E24E1982F84F">
                        <p class="notep1">See Also:</p>
                        <p>Your operating system&#x2013;specific Oracle documentation. The default size of redo log files is operating system dependent. </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-the-redo-log.html#GUID-D77BCD54-908E-49F8-A80D-C8D3E9465D70" title="You can follow guidelines when configuring a database instance redo log.">Planning the Redo Log</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN12891"></a><div class="props_rev_3"><a id="GUID-AC858C69-317E-4193-838D-59F8DDEA1927" name="GUID-AC858C69-317E-4193-838D-59F8DDEA1927"></a><h4 id="ADMIN-GUID-AC858C69-317E-4193-838D-59F8DDEA1927" class="sect4"><span class="enumeration_section">11.2.4 </span>Planning the Block Size of Redo Log Files
                  </h4>
                  <div>
                     <p>Unlike the database block size, which can be between 2K and 32K, redo log files always default to a block size that is equal to the physical sector size of the disk. Historically, this has typically been 512 bytes (512B).</p>
                     <div class="section">
                        <p>Some newer high-capacity disk drives offer 4K byte (4K) sector sizes for both increased ECC capability and improved format efficiency. Most Oracle Database platforms are able to detect this larger sector size. The database then automatically creates redo log files with a 4K block size on those disks.</p>
                        <p>However, with a block size of 4K, there is increased redo wastage. In fact, the amount of redo wastage in 4K blocks versus 512B blocks is significant. You can determine the amount of redo wastage by viewing the statistics stored in the <code class="codeph">V$SESSTAT</code> and <code class="codeph">V$SYSSTAT</code> views.
                        </p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT name, value FROM v$sysstat WHERE name = 'redo wastage';
 
NAME                                  VALUE
-------------------------------- ----------
redo wastage                       17941684
</pre><p>To avoid the additional redo wastage, if you are using emulation-mode disks—4K sector size disk drives that emulate a 512B sector size at the disk interface—you can override the default 4K block size for redo logs by specifying a 512B block size or, for some platforms, a 1K block size. However, you will incur a significant performance degradation when a redo log write is not aligned with the beginning of the 4K physical sector. Because seven out of eight 512B slots in a 4K physical sector are not aligned, performance degradation typically does occur. Thus, you must evaluate the trade-off between performance and disk wastage when planning the redo log block size on 4K sector size emulation-mode disks.</p>
                        <p>You can specify the block size of online redo log files with the <code class="codeph">BLOCKSIZE</code> keyword in the <code class="codeph">CREATE</code> <code class="codeph">DATABASE</code>, <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code>, and <code class="codeph">CREATE</code> <code class="codeph">CONTROLFILE</code> statements. On some platforms, the permissible block sizes are 512 and 4096. On other platforms, the permissible block sizes are 1024 and 4096.
                        </p>
                        <p>The following statement adds a redo log file group with a block size of 512B. The <code class="codeph">BLOCKSIZE</code> <code class="codeph">512</code> clause is valid but not required for 512B sector size disks. For 4K sector size emulation-mode disks, the <code class="codeph">BLOCKSIZE</code> <code class="codeph">512</code> clause overrides the default 4K size.
                        </p><pre class="oac_no_warn" dir="ltr">ALTER DATABASE orcl ADD LOGFILE
  GROUP 4 ('/u01/logs/orcl/redo04a.log','/u01/logs/orcl/redo04b.log')
  SIZE 100M BLOCKSIZE 512 REUSE;
</pre><p>To ascertain the redo log file block size, run the following query:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT BLOCKSIZE FROM V$LOG;

BLOCKSIZE
---------
      512</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-AC858C69-317E-4193-838D-59F8DDEA1927__GUID-939D5C96-F280-4E34-848E-1DD8548D34AE">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../sqlrf/ALTER-DATABASE.html#SQLRF00802" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about the <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> command.
                              </p>
                           </li>
                           <li>
                              <p><a href="../refrn/V-SESSTAT.html#REFRN30232" target="_blank"><span class="italic">Oracle Database Reference</span></a> for information about the <code class="codeph">V$SESSTAT</code> view
                              </p>
                           </li>
                           <li>
                              <p><a href="../refrn/V-SYSSTAT.html#REFRN30272" target="_blank"><span class="italic">Oracle Database Reference</span></a> for information about the <code class="codeph">V$SYSSTAT</code> view
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-the-redo-log.html#GUID-D77BCD54-908E-49F8-A80D-C8D3E9465D70" title="You can follow guidelines when configuring a database instance redo log.">Planning the Redo Log</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11314"></a><div class="props_rev_3"><a id="GUID-11CAAE2C-D46D-4611-8AAB-F9CB941D3934" name="GUID-11CAAE2C-D46D-4611-8AAB-F9CB941D3934"></a><h4 id="ADMIN-GUID-11CAAE2C-D46D-4611-8AAB-F9CB941D3934" class="sect4"><span class="enumeration_section">11.2.5 </span>Choosing the Number of Redo Log Files
                  </h4>
                  <div>
                     <p>The best way to determine the appropriate number of redo log files for a database instance is to test different configurations. The optimum configuration has the fewest groups possible without hampering LGWR from writing redo log information.</p>
                     <div class="section">
                        <p>In some cases, a database instance may require only two groups. In other situations, a database instance may require additional groups to guarantee that a recycled group is always available to LGWR. During testing, the easiest way to determine whether the current redo log configuration is satisfactory is to examine the contents of the LGWR trace file and the database alert log. If messages indicate that LGWR frequently has to wait for a group because a checkpoint has not completed or a group has not been archived, add groups.</p>
                        <p>Consider the parameters that can limit the number of redo log files before setting up or altering the configuration of an instance redo log. The following parameters limit the number of redo log files that you can add to a database:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The <code class="codeph">MAXLOGFILES</code> parameter used in the <code class="codeph">CREATE</code> <code class="codeph">DATABASE</code> statement determines the maximum number of groups of redo log files for each database. Group values can range from 1 to <code class="codeph">MAXLOGFILES</code>. You can exceed the <code class="codeph">MAXLOGFILES</code> limit, and the control files expand as needed. If <code class="codeph">MAXLOGFILES</code> is not specified for the <code class="codeph">CREATE</code> <code class="codeph">DATABASE</code> statement, then the database uses an operating system specific default value.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">MAXLOGMEMBERS</code> parameter used in the <code class="codeph">CREATE</code> <code class="codeph">DATABASE</code> statement determines the maximum number of members for each group. As with <code class="codeph">MAXLOGFILES</code>, the only way to override this upper limit is to re-create the database or control file. Therefore, it is important to consider this limit before creating a database. If no <code class="codeph">MAXLOGMEMBERS</code> parameter is specified for the <code class="codeph">CREATE</code> <code class="codeph">DATABASE</code> statement, then the database uses an operating system default value.
                              </p>
                              <div class="infoboxnotealso" id="GUID-11CAAE2C-D46D-4611-8AAB-F9CB941D3934__GUID-C901AC4F-8E71-4751-955A-9114927320BE">
                                 <p class="notep1">See Also:</p>
                                 <p>Your operating system specific Oracle documentation for the default and legal values of the <code class="codeph">MAXLOGFILES</code> and <code class="codeph">MAXLOGMEMBERS</code> parameters
                                 </p>
                              </div>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-the-redo-log.html#GUID-D77BCD54-908E-49F8-A80D-C8D3E9465D70" title="You can follow guidelines when configuring a database instance redo log.">Planning the Redo Log</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11315"></a><div class="props_rev_3"><a id="GUID-DF2F4A14-2F01-48F5-BD6A-CB468E69338A" name="GUID-DF2F4A14-2F01-48F5-BD6A-CB468E69338A"></a><h4 id="ADMIN-GUID-DF2F4A14-2F01-48F5-BD6A-CB468E69338A" class="sect4"><span class="enumeration_section">11.2.6 </span>Controlling Archive Lag 
                  </h4>
                  <div>
                     <p>You can force all enabled redo log threads to switch their current logs at regular time intervals.</p>
                     <p>In a primary/standby database configuration, changes are made available to the standby database by archiving redo logs at the primary site and then shipping them to the standby database. The changes that are being applied by the standby database can lag behind the changes that are occurring on the primary database, because the standby database must wait for the changes in the primary database redo log to be archived (into the archived redo log) and then shipped to it. To limit this lag, you can set the <code class="codeph">ARCHIVE_LAG_TARGET</code> initialization parameter. Setting this parameter lets you specify in seconds how long that lag can be.
                     </p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-the-redo-log.html#GUID-B98F2908-4EB1-42E8-B7A8-B1BAE5BBD13E">Setting the ARCHIVE_LAG_TARGET Initialization Parameter</a><br>When you set the <code class="codeph">ARCHIVE_LAG_TARGET</code> initialization parameter, you cause the database to examine the current redo log for the instance periodically and determine when to switch the log.
                        </li>
                        <li class="ulchildlink"><a href="managing-the-redo-log.html#GUID-32967FFB-598B-42D5-8A79-9ED5BC3EDC68">Factors Affecting the Setting of ARCHIVE_LAG_TARGET</a><br>There are several factors to consider when you are setting the <code class="codeph">ARCHIVE_LAG_TARGET</code> initialization parameter.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-the-redo-log.html#GUID-D77BCD54-908E-49F8-A80D-C8D3E9465D70" title="You can follow guidelines when configuring a database instance redo log.">Planning the Redo Log</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN11316"></a><div class="props_rev_3"><a id="GUID-B98F2908-4EB1-42E8-B7A8-B1BAE5BBD13E" name="GUID-B98F2908-4EB1-42E8-B7A8-B1BAE5BBD13E"></a><h5 id="ADMIN-GUID-B98F2908-4EB1-42E8-B7A8-B1BAE5BBD13E" class="sect5"><span class="enumeration_section">11.2.6.1 </span>Setting the ARCHIVE_LAG_TARGET Initialization Parameter
                     </h5>
                     <div>
                        <p>When you set the <code class="codeph">ARCHIVE_LAG_TARGET</code> initialization parameter, you cause the database to examine the current redo log for the instance periodically and determine when to switch the log.
                        </p>
                        <div class="section">
                           <p> If the following conditions are met, then the instance will switch the log:</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The current log was created before <span class="italic">n </span>seconds ago, and the estimated archival time for the current log is <span class="italic">m</span> seconds (proportional to the number of redo blocks used in the current log), where <span class="italic">n </span>+ <span class="italic">m</span> exceeds the value of the <code class="codeph">ARCHIVE_LAG_TARGET</code> initialization parameter.
                                 </p>
                              </li>
                              <li>
                                 <p>The current log contains redo records.</p>
                              </li>
                           </ul>
                           <p>In an Oracle Real Application Clusters environment, the instance also causes<span class="bold"> </span>other threads to switch and archive their logs if they are falling behind. This can be particularly useful when one instance in the cluster is more idle than the other instances (as when you are running a 2-node primary/secondary configuration of Oracle Real Application Clusters).
                           </p>
                           <p>The <code class="codeph">ARCHIVE_LAG_TARGET</code> initialization parameter provides an upper limit for how long (in seconds) the current log of the database can span. Because the estimated archival time is also considered, this is not the exact log switch time. 
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Set the <code class="codeph">ARCHIVE_LAG_TARGET</code> initialization parameter.
                                 </p>
                              </li>
                           </ul>
                           <p>The following initialization parameter setting sets the log switch interval to 30 minutes (a typical value).</p><pre class="oac_no_warn" dir="ltr">ARCHIVE_LAG_TARGET = 1800
</pre><p>A value of 0 disables this time-based log switching functionality. This is the default setting.</p>
                           <p>You can set the <code class="codeph">ARCHIVE_LAG_TARGET</code> initialization parameter even if there is no standby database. For example, the <code class="codeph">ARCHIVE_LAG_TARGET</code> parameter can be set specifically to force logs to be switched and archived.
                           </p>
                           <p><code class="codeph">ARCHIVE_LAG_TARGET</code> is a dynamic parameter and can be set with the <code class="codeph">ALTER SYSTEM SET</code> statement.
                           </p>
                           <div class="infoboxnote" id="GUID-B98F2908-4EB1-42E8-B7A8-B1BAE5BBD13E__GUID-52A55073-257E-4CBE-9561-AAAD3BCD0065">
                              <p class="notep1">Note:</p>
                              <p>The <code class="codeph">ARCHIVE_LAG_TARGET</code> parameter must be set to the same value in all instances of an Oracle Real Application Clusters environment. Failing to do so results in unpredictable behavior.
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-the-redo-log.html#GUID-DF2F4A14-2F01-48F5-BD6A-CB468E69338A" title="You can force all enabled redo log threads to switch their current logs at regular time intervals.">Controlling Archive Lag</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11317"></a><div class="props_rev_3"><a id="GUID-32967FFB-598B-42D5-8A79-9ED5BC3EDC68" name="GUID-32967FFB-598B-42D5-8A79-9ED5BC3EDC68"></a><h5 id="ADMIN-GUID-32967FFB-598B-42D5-8A79-9ED5BC3EDC68" class="sect5"><span class="enumeration_section">11.2.6.2 </span>Factors Affecting the Setting of ARCHIVE_LAG_TARGET
                     </h5>
                     <div>
                        <p>There are several factors to consider when you are setting the <code class="codeph">ARCHIVE_LAG_TARGET</code> initialization parameter.
                        </p>
                        <p>Consider the following factors when determining if you want to set the <code class="codeph">ARCHIVE_LAG_TARGET</code> initialization parameter and in determining the value for this parameter.
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Overhead of switching (as well as archiving) logs </p>
                           </li>
                           <li>
                              <p>How frequently normal log switches occur as a result of log full conditions</p>
                           </li>
                           <li>
                              <p>How much redo loss is tolerated in the standby database </p>
                           </li>
                        </ul>
                        <p>Setting <code class="codeph">ARCHIVE_LAG_TARGET</code> may not be very useful if natural log switches already occur more frequently than the interval specified. However, in the case of irregularities of redo generation speed, the interval does provide an upper limit for the time range each current log covers. 
                        </p>
                        <p>If the <code class="codeph">ARCHIVE_LAG_TARGET</code> initialization parameter is set to a very low value, there can be a negative impact on performance. This can force frequent log switches. Set the parameter to a reasonable value so as not to degrade the performance of the primary database.
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-the-redo-log.html#GUID-DF2F4A14-2F01-48F5-BD6A-CB468E69338A" title="You can force all enabled redo log threads to switch their current logs at regular time intervals.">Controlling Archive Lag</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div><a id="ADMIN11318"></a><div class="props_rev_3"><a id="GUID-081AE57B-A821-4F26-97B2-4B141FDB3946" name="GUID-081AE57B-A821-4F26-97B2-4B141FDB3946"></a><h3 id="ADMIN-GUID-081AE57B-A821-4F26-97B2-4B141FDB3946" class="sect3"><span class="enumeration_section">11.3 </span>Creating Redo Log Groups and Members
               </h3>
               <div>
                  <p>Plan the redo log for a database and create all required groups and members of redo log files during database creation. However, there are situations where you might want to create additional groups or members. For example, adding groups to a redo log can correct redo log group availability problems. </p>
                  <p>To create new redo log groups and members, you must have the <code class="codeph">ALTER DATABASE</code> system privilege. A database can have up to <code class="codeph">MAXLOGFILES</code> groups.
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-the-redo-log.html#GUID-3CEE7E42-F1C2-49B1-B15C-35F3BA921176">Creating Redo Log Groups</a><br>To create a new group of redo log files, use the SQL statement <code class="codeph">ALTER DATABASE</code> with the <code class="codeph">ADD LOGFILE</code> clause.
                     </li>
                     <li class="ulchildlink"><a href="managing-the-redo-log.html#GUID-8402EE7E-21E6-4866-9D8B-66C87B5BA8F2">Creating Redo Log Members</a><br>In some cases, it might not be necessary to create a complete group of redo log files. A group could already exist, but not be complete because one or more members of the group were dropped (for example, because of a disk failure). In this case, you can add new members to an existing group.
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-081AE57B-A821-4F26-97B2-4B141FDB3946__GUID-1B9F224C-CF0C-47B8-8944-85452E876B7B">
                     <p class="notep1">See Also:</p>
                     <p><a href="../sqlrf/ALTER-DATABASE.html#SQLRF00802" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for a complete description of the <code class="codeph">ALTER DATABASE</code> statement
                     </p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-the-redo-log.html#GUID-BC1F1762-0BB1-4218-B7AF-6160C395AAE4" title="You manage the redo log by completing tasks such as creating redo log groups and members, relocating and renaming redo log members, dropping redo log groups and members, and forcing log switches.">Managing the Redo Log</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN11319"></a><div class="props_rev_3"><a id="GUID-3CEE7E42-F1C2-49B1-B15C-35F3BA921176" name="GUID-3CEE7E42-F1C2-49B1-B15C-35F3BA921176"></a><h4 id="ADMIN-GUID-3CEE7E42-F1C2-49B1-B15C-35F3BA921176" class="sect4"><span class="enumeration_section">11.3.1 </span>Creating Redo Log Groups
                  </h4>
                  <div>
                     <p>To create a new group of redo log files, use the SQL statement <code class="codeph">ALTER DATABASE</code> with the <code class="codeph">ADD LOGFILE</code> clause.
                     </p>
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Run the SQL statement <code class="codeph">ALTER DATABASE</code> with the <code class="codeph">ADD LOGFILE</code> clause.
                              </p>
                           </li>
                        </ul>
                        <p>For example, the following statement adds a new group of redo logs to the database:</p><pre class="oac_no_warn" dir="ltr">ALTER DATABASE
  ADD LOGFILE ('/oracle/dbs/log1c.rdo', '/oracle/dbs/log2c.rdo') SIZE 100M;</pre><div class="infoboxnote" id="GUID-3CEE7E42-F1C2-49B1-B15C-35F3BA921176__GUID-CA775AF7-46C3-4CE0-998D-8C7ADD73437A">
                           <p class="notep1">Note:</p>
                           <p>Provide full path names of new log members to specify their location. Otherwise, the files are created in either the default or current directory of the database server, depending upon your operating system.</p>
                        </div>
                        <p>You can also specify the number that identifies the group using the <code class="codeph">GROUP</code> clause:
                        </p><pre class="oac_no_warn" dir="ltr">ALTER DATABASE 
  ADD LOGFILE GROUP 10 ('/oracle/dbs/log1c.rdo', '/oracle/dbs/log2c.rdo')
      SIZE 100M BLOCKSIZE 512;
</pre><p>Using group numbers can make administering redo log groups easier. However, the group number must be between 1 and <code class="codeph">MAXLOGFILES</code>. Do not skip redo log file group numbers (that is, do not number your groups 10, 20, 30, and so on), or you will consume unnecessary space in the control files of the database.
                        </p>
                        <p>In the preceding statement, the <code class="codeph">BLOCKSIZE</code> clause is optional. See <span class="q">"<a href="managing-the-redo-log.html#GUID-AC858C69-317E-4193-838D-59F8DDEA1927" title="Unlike the database block size, which can be between 2K and 32K, redo log files always default to a block size that is equal to the physical sector size of the disk. Historically, this has typically been 512 bytes (512B).">Planning the Block Size of Redo Log Files</a>"</span> for more information.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-the-redo-log.html#GUID-081AE57B-A821-4F26-97B2-4B141FDB3946" title="Plan the redo log for a database and create all required groups and members of redo log files during database creation. However, there are situations where you might want to create additional groups or members. For example, adding groups to a redo log can correct redo log group availability problems.">Creating Redo Log Groups and Members</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11320"></a><div class="props_rev_3"><a id="GUID-8402EE7E-21E6-4866-9D8B-66C87B5BA8F2" name="GUID-8402EE7E-21E6-4866-9D8B-66C87B5BA8F2"></a><h4 id="ADMIN-GUID-8402EE7E-21E6-4866-9D8B-66C87B5BA8F2" class="sect4"><span class="enumeration_section">11.3.2 </span>Creating Redo Log Members
                  </h4>
                  <div>
                     <p>In some cases, it might not be necessary to create a complete group of redo log files. A group could already exist, but not be complete because one or more members of the group were dropped (for example, because of a disk failure). In this case, you can add new members to an existing group.</p>
                     <div class="section">
                        <p></p>
                        <p>To create new redo log members for an existing group:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Run the SQL statement <code class="codeph">ALTER DATABASE</code> with the <code class="codeph">ADD LOGFILE MEMBER</code> clause.
                              </p>
                           </li>
                        </ul>
                        <p>For example, the following statement adds a new redo log member to redo log group number 2:</p><pre class="oac_no_warn" dir="ltr">ALTER DATABASE ADD LOGFILE MEMBER '/oracle/dbs/log2b.rdo' TO GROUP 2;
</pre><p>Notice that file names must be specified, but sizes need not be. The size of the new members is determined from the size of the existing members of the group.</p>
                        <p>When using the <code class="codeph">ALTER DATABASE</code> statement, you can alternatively identify the target group by specifying all of the other members of the group in the <code class="codeph">TO</code> clause, as shown in the following example:
                        </p><pre class="oac_no_warn" dir="ltr">ALTER DATABASE ADD LOGFILE MEMBER '/oracle/dbs/log2c.rdo'
    TO ('/oracle/dbs/log2a.rdo', '/oracle/dbs/log2b.rdo'); </pre><div class="infoboxnote" id="GUID-8402EE7E-21E6-4866-9D8B-66C87B5BA8F2__GUID-FB8FC7B6-B6D9-4BE4-93C2-57F8C72E4C87">
                           <p class="notep1">Note:</p>
                           <p>Fully specify the file names of new log members to indicate where the operating system files should be created. Otherwise, the files will be created in either the default or current directory of the database server, depending upon your operating system. You may also note that the status of the new log member is shown as <code class="codeph">INVALID</code>. This is normal and it will change to active (blank) when it is first used.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-the-redo-log.html#GUID-081AE57B-A821-4F26-97B2-4B141FDB3946" title="Plan the redo log for a database and create all required groups and members of redo log files during database creation. However, there are situations where you might want to create additional groups or members. For example, adding groups to a redo log can correct redo log group availability problems.">Creating Redo Log Groups and Members</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN12596"></a><a id="ADMIN11321"></a><div class="props_rev_3"><a id="GUID-F593023B-3071-4776-95F2-9B8B6C6E670B" name="GUID-F593023B-3071-4776-95F2-9B8B6C6E670B"></a><h3 id="ADMIN-GUID-F593023B-3071-4776-95F2-9B8B6C6E670B" class="sect3"><span class="enumeration_section">11.4 </span>Relocating and Renaming Redo Log Members 
               </h3>
               <div>
                  <p>You can use operating system commands to relocate redo logs, then use the <code class="codeph">ALTER DATABASE</code> statement to make their new names (locations) known to the database. 
                  </p>
                  <div class="section">
                     <p>This procedure is necessary, for example, if the disk currently used for some redo log files is going to be removed, or if data files and several redo log files are stored on the same disk and should be separated to reduce contention.</p>
                     <p>To rename redo log members, you must have the <code class="codeph">ALTER DATABASE</code> system privilege. Additionally, you might also need operating system privileges to copy files to the desired location and privileges to open and back up the database.
                     </p>
                     <p>Before relocating your redo logs, or making any other structural changes to the database, completely back up the database in case you experience problems while performing the operation. As a precaution, after renaming or relocating a set of redo log files, immediately back up the database control file.</p>
                     <p> Use the following steps for relocating redo logs. The example used to illustrate these steps assumes:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The log files are located on two disks: <code class="codeph">diska</code> and <code class="codeph">diskb</code>.
                           </p>
                        </li>
                        <li>
                           <p>The redo log is duplexed: one group consists of the members <code class="codeph">/diska/logs/log1a.rdo </code>and <code class="codeph">/diskb/logs/log1b.rdo</code>, and the second group consists of the members <code class="codeph">/diska/logs/log2a.rdo</code> and <code class="codeph">/diskb/logs/log2b.rdo</code>.
                           </p>
                        </li>
                        <li>
                           <p>The redo log files located on <code class="codeph">diska</code> must be relocated to <code class="codeph">diskc</code>. The new file names will reflect the new location: <code class="codeph">/diskc/logs/log1c.rdo</code> and <code class="codeph">/diskc/logs/log2c.rdo</code>.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>To rename redo log members:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p></p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>Shut down the database.</span><div><pre class="oac_no_warn" dir="ltr">SHUTDOWN
</pre></div>
                     </li>
                     <li class="stepexpand"><span>Copy the redo log files to the new location.</span><div>
                           <p>Operating system files, such as redo log members, must be copied using the appropriate operating system commands. See your operating system specific documentation for more information about copying files.</p>
                           <div class="infoboxnote" id="GUID-F593023B-3071-4776-95F2-9B8B6C6E670B__GUID-B4A61C30-9FA9-41B3-B653-F8AD0617126C">
                              <p class="notep1">Note:</p>
                              <p>You can execute an operating system command to copy a file (or perform other operating system commands) without exiting SQL*Plus by using the <code class="codeph">HOST</code> command. Some operating systems allow you to use a character in place of the word <code class="codeph">HOST</code>. For example, you can use an exclamation point (!) in UNIX.
                              </p>
                           </div>
                           <p>The following example uses operating system commands (UNIX) to move the redo log members to a new location:</p><pre class="oac_no_warn" dir="ltr">mv /diska/logs/log1a.rdo /diskc/logs/log1c.rdo
mv /diska/logs/log2a.rdo /diskc/logs/log2c.rdo
</pre></div>
                     </li>
                     <li class="stepexpand"><span>Startup the database, mount, but do not open it.</span><div><pre class="oac_no_warn" dir="ltr">CONNECT / as SYSDBA
STARTUP MOUNT
</pre></div>
                     </li>
                     <li class="stepexpand"><span>Rename the redo log members.</span><div>
                           <p>Use the <code class="codeph">ALTER DATABASE</code> statement with the <code class="codeph">RENAME FILE</code> clause to rename the database redo log files.
                           </p><pre class="oac_no_warn" dir="ltr">ALTER DATABASE 
  RENAME FILE '/diska/logs/log1a.rdo', '/diska/logs/log2a.rdo' 
           TO '/diskc/logs/log1c.rdo', '/diskc/logs/log2c.rdo';
</pre></div>
                     </li>
                     <li class="stepexpand"><span>Open the database for normal operation.</span><div>
                           <p>The redo log alterations take effect when the database is opened.</p><pre class="oac_no_warn" dir="ltr">ALTER DATABASE OPEN; </pre></div>
                     </li>
                  </ol>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-the-redo-log.html#GUID-BC1F1762-0BB1-4218-B7AF-6160C395AAE4" title="You manage the redo log by completing tasks such as creating redo log groups and members, relocating and renaming redo log members, dropping redo log groups and members, and forcing log switches.">Managing the Redo Log</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADMIN11322"></a><div class="props_rev_3"><a id="GUID-54E1DA00-B999-4463-B868-85ADDC108D5D" name="GUID-54E1DA00-B999-4463-B868-85ADDC108D5D"></a><h3 id="ADMIN-GUID-54E1DA00-B999-4463-B868-85ADDC108D5D" class="sect3"><span class="enumeration_section">11.5 </span>Dropping Redo Log Groups and Members
               </h3>
               <div>
                  <p>In some cases, you may want to drop an entire group of redo log members.</p>
                  <p>For example, you want to reduce the number of groups in an instance redo log. In a different case, you may want to drop one or more specific redo log members. For example, if a disk failure occurs, you may need to drop all the redo log files on the failed disk so that the database does not try to write to the inaccessible files. In other situations, particular redo log files become unnecessary. For example, a file might be stored in an inappropriate location. </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-the-redo-log.html#GUID-FDF5B2DF-90AE-4668-A271-98B21179058F">Dropping Log Groups</a><br>You can drop a redo log group.
                     </li>
                     <li class="ulchildlink"><a href="managing-the-redo-log.html#GUID-31B302F1-8B81-4A2C-AF35-A84FB6216820">Dropping Redo Log Members</a><br>You can drop redo log members.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-the-redo-log.html#GUID-BC1F1762-0BB1-4218-B7AF-6160C395AAE4" title="You manage the redo log by completing tasks such as creating redo log groups and members, relocating and renaming redo log members, dropping redo log groups and members, and forcing log switches.">Managing the Redo Log</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN11323"></a><div class="props_rev_3"><a id="GUID-FDF5B2DF-90AE-4668-A271-98B21179058F" name="GUID-FDF5B2DF-90AE-4668-A271-98B21179058F"></a><h4 id="ADMIN-GUID-FDF5B2DF-90AE-4668-A271-98B21179058F" class="sect4"><span class="enumeration_section">11.5.1 </span>Dropping Log Groups
                  </h4>
                  <div>
                     <p>You can drop a redo log group.</p>
                     <div class="section">
                        <p>To drop a redo log group, you must have the <code class="codeph">ALTER DATABASE</code> system privilege. Before dropping a redo log group, consider the following restrictions and precautions:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>An instance requires at least two groups of redo log files, regardless of the number of members in the groups. (A group comprises one or more members.)</p>
                           </li>
                           <li>
                              <p>You can drop a redo log group only if it is inactive. If you must drop the current group, then first force a log switch to occur.</p>
                           </li>
                           <li>
                              <p>Make sure a redo log group is archived (if archiving is enabled) before dropping it. To see whether this has happened, use the <code class="codeph">V$LOG</code> view.
                              </p><pre class="oac_no_warn" dir="ltr">SELECT GROUP#, ARCHIVED, STATUS FROM V$LOG;

   GROUP# ARC STATUS
--------- --- ----------------
        1 YES ACTIVE
        2 NO  CURRENT
        3 YES INACTIVE
        4 YES INACTIVE
</pre></li>
                        </ul>
                        <p>To drop a redo log group:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Run the SQL statement <code class="codeph">ALTER DATABASE</code> with the <code class="codeph">DROP LOGFILE</code> clause.
                              </p>
                           </li>
                        </ul>
                        <p>For example, the following statement drops redo log group number 3:</p><pre class="oac_no_warn" dir="ltr">ALTER DATABASE DROP LOGFILE GROUP 3;
</pre><p>When a redo log group is dropped from the database, and you are not using the Oracle Managed Files feature, the operating system files are not deleted from disk. Rather, the control files of the associated database are updated to drop the members of the group from the database structure. After dropping a redo log group, ensure that the drop completed successfully, and then use the appropriate operating system command to delete the dropped redo log files.</p>
                        <p>When using Oracle Managed Files, the cleanup of operating systems files is done automatically for you.</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-the-redo-log.html#GUID-54E1DA00-B999-4463-B868-85ADDC108D5D" title="In some cases, you may want to drop an entire group of redo log members.">Dropping Redo Log Groups and Members</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11324"></a><div class="props_rev_3"><a id="GUID-31B302F1-8B81-4A2C-AF35-A84FB6216820" name="GUID-31B302F1-8B81-4A2C-AF35-A84FB6216820"></a><h4 id="ADMIN-GUID-31B302F1-8B81-4A2C-AF35-A84FB6216820" class="sect4"><span class="enumeration_section">11.5.2 </span>Dropping Redo Log Members
                  </h4>
                  <div>
                     <p>You can drop redo log members.</p>
                     <div class="section">
                        <p>To drop a redo log member, you must have the <code class="codeph">ALTER DATABASE</code> system privilege. Consider the following restrictions and precautions before dropping individual redo log members:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>It is permissible to drop redo log files so that a multiplexed redo log becomes temporarily asymmetric. For example, if you use duplexed groups of redo log files, you can drop one member of one group, even though all other groups have two members each. However, you should rectify this situation immediately so that all groups have at least two members, and thereby eliminate the single point of failure possible for the redo log.</p>
                           </li>
                           <li>
                              <p>An instance always requires at least two valid groups of redo log files, regardless of the number of members in the groups. (A group comprises one or more members.) If the member you want to drop is the last valid member of the group, you cannot drop the member until the other members become valid. To see a redo log file status, use the <code class="codeph">V$LOGFILE</code> view. A redo log file becomes <code class="codeph">INVALID</code> if the database cannot access it. It becomes <code class="codeph">STALE</code> if the database suspects that it is not complete or correct. A stale log file becomes valid again the next time its group is made the active group.
                              </p>
                           </li>
                           <li>
                              <p>You can drop a redo log member only if it is <span class="italic">not</span> part of an active or current group. To drop a member of an active group, first force a log switch to occur.
                              </p>
                           </li>
                           <li>
                              <p>Make sure the group to which a redo log member belongs is archived (if archiving is enabled) before dropping the member. To see whether this has happened, use the <code class="codeph">V$LOG</code> view.
                              </p>
                           </li>
                        </ul>
                        <p>To drop specific inactive redo log members:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Run the <code class="codeph">ALTER DATABASE</code> statement with the <code class="codeph">DROP LOGFILE MEMBER</code> clause.
                              </p>
                           </li>
                        </ul>
                        <p>The following statement drops the redo log <code class="codeph">/oracle/dbs/log3c.rdo</code>:
                        </p><pre class="oac_no_warn" dir="ltr">ALTER DATABASE DROP LOGFILE MEMBER '/oracle/dbs/log3c.rdo';
</pre><p>When a redo log member is dropped from the database, the operating system file is not deleted from disk. Rather, the control files of the associated database are updated to drop the member from the database structure. After dropping a redo log file, ensure that the drop completed successfully, and then use the appropriate operating system command to delete the dropped redo log file.</p>
                        <p>To drop a member of an active group, you must first force a log switch.</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-the-redo-log.html#GUID-54E1DA00-B999-4463-B868-85ADDC108D5D" title="In some cases, you may want to drop an entire group of redo log members.">Dropping Redo Log Groups and Members</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN11325"></a><div class="props_rev_3"><a id="GUID-6A7FB6CB-AF29-40BC-BDB3-B514C502B2F6" name="GUID-6A7FB6CB-AF29-40BC-BDB3-B514C502B2F6"></a><h3 id="ADMIN-GUID-6A7FB6CB-AF29-40BC-BDB3-B514C502B2F6" class="sect3"><span class="enumeration_section">11.6 </span>Forcing Log Switches
               </h3>
               <div>
                  <p>A log switch occurs when LGWR stops writing to one redo log group and starts writing to another. By default, a log switch occurs automatically when the current redo log file group fills.</p>
                  <div class="section">
                     <p>You can force a log switch to make the currently active group inactive and available for redo log maintenance operations. For example, you want to drop the currently active group, but are not able to do so until the group is inactive. You may also want to force a log switch if the currently active group must be archived at a specific time before the members of the group are completely filled. This option is useful in configurations with large redo log files that take a long time to fill.</p>
                     <p>To force a log switch, you must have the <code class="codeph">ALTER SYSTEM</code> privilege.
                     </p>
                     <p>To force a log switch,</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Run the <code class="codeph">ALTER SYSTEM</code> statement with the <code class="codeph">SWITCH LOGFILE</code> clause.
                           </p>
                        </li>
                     </ul>
                     <p>For example, the following statement forces a log switch:</p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SWITCH LOGFILE;</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-the-redo-log.html#GUID-BC1F1762-0BB1-4218-B7AF-6160C395AAE4" title="You manage the redo log by completing tasks such as creating redo log groups and members, relocating and renaming redo log members, dropping redo log groups and members, and forcing log switches.">Managing the Redo Log</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADMIN11326"></a><div class="props_rev_3"><a id="GUID-E8BC43CA-D047-4AEF-AB4A-2566BE44D73A" name="GUID-E8BC43CA-D047-4AEF-AB4A-2566BE44D73A"></a><h3 id="ADMIN-GUID-E8BC43CA-D047-4AEF-AB4A-2566BE44D73A" class="sect3"><span class="enumeration_section">11.7 </span>Verifying Blocks in Redo Log Files
               </h3>
               <div>
                  <p>You can configure the database to use checksums to verify blocks in the redo log files.</p>
                  <div class="section">
                     <p>If you set the initialization parameter <code class="codeph">DB_BLOCK_CHECKSUM</code> to <code class="codeph">TYPICAL</code> (the default), then the database computes a checksum for each database block when it is written to disk, including each redo log block as it is being written to the current log. The checksum is stored the header of the block.
                     </p>
                     <p>Oracle Database uses the checksum to detect corruption in a redo log block. The database verifies the redo log block when the block is read from an archived log during recovery and when it writes the block to an archive log file. An error is raised and written to the alert log if corruption is detected.</p>
                     <p>If corruption is detected in a redo log block while trying to archive it, the system attempts to read the block from another member in the group. If the block is corrupted in all members of the redo log group, then archiving cannot proceed. </p>
                     <p>The value of the <code class="codeph">DB_BLOCK_CHECKSUM</code> parameter can be changed dynamically using the <code class="codeph">ALTER SYSTEM</code> statement.
                     </p>
                     <div class="infoboxnote" id="GUID-E8BC43CA-D047-4AEF-AB4A-2566BE44D73A__GUID-EBB19B3C-1CB1-466F-8DC7-5BB6BAEBCBCF">
                        <p class="notep1">Note:</p>
                        <p>There is a slight overhead and decrease in database performance with <code class="codeph">DB_BLOCK_CHECKSUM</code> enabled. Monitor your database performance to decide if the benefit of using data block checksums to detect corruption outweighs the performance impact.
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-E8BC43CA-D047-4AEF-AB4A-2566BE44D73A__GUID-39377A4B-92ED-4C75-8D1B-326682B01655">
                     <p class="notep1">See Also:</p>
                     <p><a href="../refrn/DB_BLOCK_CHECKSUM.html#REFRN10030" target="_blank"><span class="italic">Oracle Database Reference</span></a> for a description of the <code class="codeph">DB_BLOCK_CHECKSUM</code> initialization parameter
                     </p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-the-redo-log.html#GUID-BC1F1762-0BB1-4218-B7AF-6160C395AAE4" title="You manage the redo log by completing tasks such as creating redo log groups and members, relocating and renaming redo log members, dropping redo log groups and members, and forcing log switches.">Managing the Redo Log</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADMIN11327"></a><div class="props_rev_3"><a id="GUID-AA0EBC79-6670-409E-AED1-666FCEF3F25F" name="GUID-AA0EBC79-6670-409E-AED1-666FCEF3F25F"></a><h3 id="ADMIN-GUID-AA0EBC79-6670-409E-AED1-666FCEF3F25F" class="sect3"><span class="enumeration_section">11.8 </span>Clearing a Redo Log File
               </h3>
               <div>
                  <p>A redo log file might become corrupted while the database is open, and ultimately stop database activity because archiving cannot continue.</p>
                  <div class="section">
                     <p> In this situation, to reinitialize the file without shutting down the database:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Run the <code class="codeph">ALTER DATABASE CLEAR LOGFILE</code> SQL statement.
                           </p>
                        </li>
                     </ul>
                     <p>The following statement clears the log files in redo log group number 3:</p><pre class="oac_no_warn" dir="ltr">ALTER DATABASE CLEAR LOGFILE GROUP 3;
</pre><p>This statement overcomes two situations where dropping redo logs is not possible:</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>If there are only two log groups</p>
                        </li>
                        <li>
                           <p>The corrupt redo log file belongs to the current group</p>
                        </li>
                     </ul>
                     <p>If the corrupt redo log file has not been archived, use the <code class="codeph">UNARCHIVED</code> keyword in the statement.
                     </p><pre class="oac_no_warn" dir="ltr">ALTER DATABASE CLEAR UNARCHIVED LOGFILE GROUP 3;
</pre><p>This statement clears the corrupted redo logs and avoids archiving them. The cleared redo logs are available for use even though they were not archived.</p>
                     <p>If you clear a log file that is needed for recovery of a backup, then you can no longer recover from that backup. The database writes a message in the alert log describing the backups from which you cannot recover.</p>
                     <div class="infoboxnote" id="GUID-AA0EBC79-6670-409E-AED1-666FCEF3F25F__GUID-DCB6ED22-DF4F-46E9-A99A-192D7ECF60A9">
                        <p class="notep1">Note:</p>
                        <p>If you clear an unarchived redo log file, you should make another backup of the database.</p>
                     </div>
                     <p>To clear an unarchived redo log that is needed to bring an offline tablespace online, use the <code class="codeph">UNRECOVERABLE DATAFILE</code> clause in the <code class="codeph">ALTER DATABASE CLEAR LOGFILE</code> statement.
                     </p>
                     <p>If you clear a redo log needed to bring an offline tablespace online, you will not be able to bring the tablespace online again. You will have to drop the tablespace or perform an incomplete recovery. Note that tablespaces taken offline normal do not require recovery.</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-the-redo-log.html#GUID-BC1F1762-0BB1-4218-B7AF-6160C395AAE4" title="You manage the redo log by completing tasks such as creating redo log groups and members, relocating and renaming redo log members, dropping redo log groups and members, and forcing log switches.">Managing the Redo Log</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-27E9B63B-03E4-43E5-BA59-AB0EDDDE5CE6" name="GUID-27E9B63B-03E4-43E5-BA59-AB0EDDDE5CE6"></a><h3 id="ADMIN-GUID-27E9B63B-03E4-43E5-BA59-AB0EDDDE5CE6" class="sect3"><span class="enumeration_section">11.9 </span>Precedence of FORCE LOGGING Settings
               </h3>
               <div>
                  <p>You can set <code class="codeph">FORCE LOGGING</code> and <code class="codeph">NOLOGGING</code> at various levels, such as for a database, pluggable database (PDB), tablespace, or database object. When <code class="codeph">FORCE LOGGING</code> is set at one or more levels, the precedence of <code class="codeph">FORCE LOGGING</code> settings determines what is logged in the redo log.
                  </p>
                  <p>You can put a multitenant container database (CDB) and a non-CDB into <code class="codeph">FORCE LOGGING</code> mode. In this mode, the database logs all changes in the database except for changes in temporary tablespaces and temporary segments. This setting takes precedence over and is independent of any <code class="codeph">NOLOGGING</code> or <code class="codeph">FORCE LOGGING</code> settings you specify for individual tablespaces and any <code class="codeph">NOLOGGING</code> settings you specify for individual database objects.
                  </p>
                  <p>You can also put a tablespace into <code class="codeph">FORCE LOGGING</code> mode. The database logs all changes to all objects in the tablespace except changes to temporary segments, overriding any <code class="codeph">NOLOGGING</code> setting for individual objects.
                  </p>
                  <p>In addition, you can specify a logging attribute with the <span class="italic">logging_clause</span> for various types of database objects that determines whether certain DML operations will be logged in the redo log file (<code class="codeph">LOGGING</code>) or not (<code class="codeph">NOLOGGING</code>). You can specify a logging attribute for the following types of database objects:
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Tables</p>
                     </li>
                     <li>
                        <p>Indexes</p>
                     </li>
                     <li>
                        <p>Materialized views</p>
                     </li>
                  </ul>
                  <p>The following table summarizes the logging settings at each level and shows the result for a non-CDB.</p>
                  <div class="tblformal" id="GUID-27E9B63B-03E4-43E5-BA59-AB0EDDDE5CE6__GUID-9ABE160E-DDF6-4D1B-9CFF-ADD7B82C49B2">
                     <p class="titleintable">Table 11-1 Precedence of FORCE LOGGING Settings for a Non-CDB</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Precedence of FORCE LOGGING Settings for a Non-CDB" summary="This table describes the result of FORCE LOGGING, NOLOGGING, and LOGGING attributes set at various levels for a non-CDB." frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" id="d132399e2847">Database</th>
                              <th align="left" valign="bottom" id="d132399e2849">Tablespace</th>
                              <th align="left" valign="bottom" id="d132399e2851">Database Object LOGGING Attribute</th>
                              <th align="left" valign="bottom" id="d132399e2853">Result</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d132399e2857" headers="d132399e2847 "><code class="codeph">FORCE LOGGING</code></td>
                              <td align="left" valign="top" headers="d132399e2857 d132399e2849 ">Ignored</td>
                              <td align="left" valign="top" headers="d132399e2857 d132399e2851 ">Ignored</td>
                              <td align="left" valign="top" headers="d132399e2857 d132399e2853 ">Logged</td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d132399e2867" headers="d132399e2847 "><code class="codeph">NO FORCE LOGGING</code></td>
                              <td align="left" valign="top" headers="d132399e2867 d132399e2849 "><code class="codeph">FORCE LOGGING</code></td>
                              <td align="left" valign="top" headers="d132399e2867 d132399e2851 ">Ignored</td>
                              <td align="left" valign="top" headers="d132399e2867 d132399e2853 ">Logged</td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d132399e2878" headers="d132399e2847 "><code class="codeph">NO FORCE LOGGING</code></td>
                              <td align="left" valign="top" headers="d132399e2878 d132399e2849 "><code class="codeph">NO FORCE LOGGING</code></td>
                              <td align="left" valign="top" headers="d132399e2878 d132399e2851 "><code class="codeph">LOGGING</code></td>
                              <td align="left" valign="top" headers="d132399e2878 d132399e2853 ">Logged</td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d132399e2890" headers="d132399e2847 "><code class="codeph">NO FORCE LOGGING</code></td>
                              <td align="left" valign="top" headers="d132399e2890 d132399e2849 "><code class="codeph">NO FORCE LOGGING</code></td>
                              <td align="left" valign="top" headers="d132399e2890 d132399e2851 "><code class="codeph">NOLOGGING</code></td>
                              <td align="left" valign="top" headers="d132399e2890 d132399e2853 ">Not Logged</td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p>The following table summarizes the logging settings at each level and shows the result for a CDB.</p>
                  <div class="tblformal" id="GUID-27E9B63B-03E4-43E5-BA59-AB0EDDDE5CE6__GUID-9692C7A0-4C20-42E3-962E-D04531ADA431">
                     <p class="titleintable">Table 11-2 Precedence of FORCE LOGGING Settings for a CDB</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="Precedence of FORCE LOGGING Settings for a CDB" summary="This table describes the result of FORCE LOGGING, NOLOGGING, and LOGGING attributes set at various levels for a CDB." frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" id="d132399e2916">CDB</th>
                              <th align="left" valign="bottom" id="d132399e2918">PDB</th>
                              <th align="left" valign="bottom" id="d132399e2920">Tablespace</th>
                              <th align="left" valign="bottom" id="d132399e2922">Database Object LOGGING Attribute</th>
                              <th align="left" valign="bottom" id="d132399e2924">Result</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d132399e2928" headers="d132399e2916 "><code class="codeph">FORCE LOGGING</code></td>
                              <td align="left" valign="top" headers="d132399e2928 d132399e2918 ">Ignored</td>
                              <td align="left" valign="top" headers="d132399e2928 d132399e2920 ">Ignored</td>
                              <td align="left" valign="top" headers="d132399e2928 d132399e2922 ">Ignored</td>
                              <td align="left" valign="top" headers="d132399e2928 d132399e2924 ">Logged</td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d132399e2940" headers="d132399e2916 "><code class="codeph">NO FORCE LOGGING</code></td>
                              <td align="left" valign="top" headers="d132399e2940 d132399e2918 "><code class="codeph">ENABLE FORCE LOGGING</code></td>
                              <td align="left" valign="top" headers="d132399e2940 d132399e2920 ">Ignored</td>
                              <td align="left" valign="top" headers="d132399e2940 d132399e2922 ">Ignored</td>
                              <td align="left" valign="top" headers="d132399e2940 d132399e2924 ">Logged</td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d132399e2953" headers="d132399e2916 "><code class="codeph">NO FORCE LOGGING</code></td>
                              <td align="left" valign="top" headers="d132399e2953 d132399e2918 "><code class="codeph">ENABLE FORCE NOLOGGING</code></td>
                              <td align="left" valign="top" headers="d132399e2953 d132399e2920 ">Ignored</td>
                              <td align="left" valign="top" headers="d132399e2953 d132399e2922 ">Ignored</td>
                              <td align="left" valign="top" headers="d132399e2953 d132399e2924 ">Not Logged</td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d132399e2966" headers="d132399e2916 "><code class="codeph">NO FORCE LOGGING</code></td>
                              <td align="left" valign="top" headers="d132399e2966 d132399e2918 "><code class="codeph">DISABLE FORCE [NO]LOGGING</code> (no setting)
                              </td>
                              <td align="left" valign="top" headers="d132399e2966 d132399e2920 "><code class="codeph">FORCE LOGGING</code></td>
                              <td align="left" valign="top" headers="d132399e2966 d132399e2922 ">Ignored</td>
                              <td align="left" valign="top" headers="d132399e2966 d132399e2924 ">Logged</td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d132399e2981" headers="d132399e2916 "><code class="codeph">NO FORCE LOGGING</code></td>
                              <td align="left" valign="top" headers="d132399e2981 d132399e2918 "><code class="codeph">DISABLE FORCE [NO]LOGGING</code> (no setting)
                              </td>
                              <td align="left" valign="top" headers="d132399e2981 d132399e2920 "><code class="codeph">NO FORCE LOGGING</code></td>
                              <td align="left" valign="top" headers="d132399e2981 d132399e2922 "><code class="codeph">LOGGING</code></td>
                              <td align="left" valign="top" headers="d132399e2981 d132399e2924 ">Logged</td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" id="d132399e2997" headers="d132399e2916 "><code class="codeph">NO FORCE LOGGING</code></td>
                              <td align="left" valign="top" headers="d132399e2997 d132399e2918 "><code class="codeph">DISABLE FORCE [NO]LOGGING</code> (no setting)
                              </td>
                              <td align="left" valign="top" headers="d132399e2997 d132399e2920 "><code class="codeph">NO FORCE LOGGING</code></td>
                              <td align="left" valign="top" headers="d132399e2997 d132399e2922 "><code class="codeph">NOLOGGING</code></td>
                              <td align="left" valign="top" headers="d132399e2997 d132399e2924 ">Not Logged</td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-the-redo-log.html#GUID-BC1F1762-0BB1-4218-B7AF-6160C395AAE4" title="You manage the redo log by completing tasks such as creating redo log groups and members, relocating and renaming redo log members, dropping redo log groups and members, and forcing log switches.">Managing the Redo Log</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADMIN11328"></a><div class="props_rev_3"><a id="GUID-05FCB15E-BE40-40EB-B756-4D280461AD7E" name="GUID-05FCB15E-BE40-40EB-B756-4D280461AD7E"></a><h3 id="ADMIN-GUID-05FCB15E-BE40-40EB-B756-4D280461AD7E" class="sect3"><span class="enumeration_section">11.10 </span>Redo Log Data Dictionary Views 
               </h3>
               <div>
                  <p>You can query a set of data dictionary views for information about the redo log.</p>
                  <div class="section">
                     <p>The following views provide information on redo logs.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-05FCB15E-BE40-40EB-B756-4D280461AD7E__GUID-36595937-FA63-477B-9FF0-78119FE632BF">
                     <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="The first column of this table lists the views that are used for providing information about redo logs. The second column contains a corresponding description of each view." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="34%" id="d132399e3076">View</th>
                              <th align="left" valign="bottom" width="66%" id="d132399e3079">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d132399e3084" headers="d132399e3076 ">
                                 <p><code class="codeph"><a href="../refrn/V-LOG.html#REFRN30127" target="_blank">V$LOG</a></code></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d132399e3084 d132399e3079 ">
                                 <p>Displays the redo log file information from the control file</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d132399e3094" headers="d132399e3076 ">
                                 <p><code class="codeph"><a href="../refrn/V-LOGFILE.html#REFRN30129" target="_blank">V$LOGFILE</a></code></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d132399e3094 d132399e3079 ">
                                 <p>Identifies redo log groups and members and member status</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d132399e3104" headers="d132399e3076 ">
                                 <p><code class="codeph"><a href="../refrn/V-LOG_HISTORY.html#REFRN30128" target="_blank">V$LOG_HISTORY</a></code></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d132399e3104 d132399e3079 ">
                                 <p>Contains log history information</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>The following query returns the control file information about the redo log for a database.</p><pre class="oac_no_warn" dir="ltr">SELECT GROUP#, THREAD#, SEQUENCE#, BYTES, MEMBERS, ARCHIVED, 
       STATUS, FIRST_CHANGE#, FIRST_TIME
  FROM V$LOG;

GROUP# THREAD#   SEQ   BYTES  MEMBERS  ARC STATUS     FIRST_CHANGE# FIRST_TIM
------ ------- ----- -------  -------  --- ---------  ------------- ---------
     1       1 10605 1048576        1  YES ACTIVE          11515628 16-APR-00
     2       1 10606 1048576        1  NO  CURRENT         11517595 16-APR-00
     3       1 10603 1048576        1  YES INACTIVE        11511666 16-APR-00
     4       1 10604 1048576        1  YES INACTIVE        11513647 16-APR-00
</pre><p>To see the names of all of the member of a group, use a query similar to the following:</p><pre class="oac_no_warn" dir="ltr">SELECT GROUP#, STATUS, MEMBER FROM V$LOGFILE;

GROUP#   STATUS  MEMBER
------  -------  ----------------------------------
     1           D:\ORANT\ORADATA\IDDB2\REDO04.LOG
     2           D:\ORANT\ORADATA\IDDB2\REDO03.LOG
     3           D:\ORANT\ORADATA\IDDB2\REDO02.LOG
     4           D:\ORANT\ORADATA\IDDB2\REDO01.LOG
</pre><p>If <code class="codeph">STATUS</code> is blank for a member, then the file is in use.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-the-redo-log.html#GUID-BC1F1762-0BB1-4218-B7AF-6160C395AAE4" title="You manage the redo log by completing tasks such as creating redo log groups and members, relocating and renaming redo log members, dropping redo log groups and members, and forcing log switches.">Managing the Redo Log</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html><html id='05800.olap-dml-basic-concepts.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>OLAP DML Basic Concepts</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="DML Reference">
      <meta property="og:description" content>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="DML Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="olap-dml-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-10T13:59:56-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1994, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96403-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="changes-this-release-for-oracle-olap-dml-reference.html" title="Previous" type="text/html">
      <link rel="next" href="data-types-operators-and-expressions.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="OLAP DML Reference">
    <meta name="dcterms.isVersionOf" content="OLADM">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="changes-this-release-for-oracle-olap-dml-reference.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="data-types-operators-and-expressions.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">DML Reference</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> OLAP DML Basic Concepts </li>
            </ol>
            <a id="GUID-AE73B986-6DC0-4057-A536-D3734B1A6575" name="GUID-AE73B986-6DC0-4057-A536-D3734B1A6575"></a><a id="OLADM101"></a><a id="olapdml_basic_concepts"></a>
            
            <h2 id="OLADM-GUID-AE73B986-6DC0-4057-A536-D3734B1A6575" class="sect2"><span class="enumeration_chapter">1 </span> OLAP DML Basic Concepts 
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This chapter contains the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="olap-dml-basic-concepts.html#GUID-308085B5-9043-466F-891A-7732E22BE2C9">What is the OLAP DML?</a></p>
                  </li>
                  <li>
                     <p><a href="olap-dml-basic-concepts.html#GUID-3F820E5D-0C63-4E51-BEBE-4674B6A7DFDB">Basic Syntactic Units of the OLAP DML</a></p>
                  </li>
                  <li>
                     <p><a href="olap-dml-basic-concepts.html#GUID-2DCC16E8-A4C9-4727-B0A4-CC95F4EBBE84">How to Execute OLAP DML Statements</a></p>
                  </li>
                  <li>
                     <p><a href="olap-dml-basic-concepts.html#GUID-8E8E3CDE-4020-4670-B669-D45440DFEAD4">Introduction to Analytic Workspaces</a></p>
                  </li>
                  <li>
                     <p><a href="olap-dml-basic-concepts.html#GUID-2964E902-70D4-4E18-83A0-3EBB9E7B30B0">Introduction to Analytic Workspace Data Objects</a></p>
                  </li>
                  <li>
                     <p><a href="olap-dml-basic-concepts.html#GUID-D032BBB4-A0ED-41C1-80B7-D93CA5172FD6">OLAP DML Statements Apply to All of the Values of a Data Object</a></p>
                  </li>
               </ul>
            </div><a id="OLADM102"></a><a id="olapdml_what_is_the_dml"></a><div class="props_rev_3"><a id="GUID-308085B5-9043-466F-891A-7732E22BE2C9" name="GUID-308085B5-9043-466F-891A-7732E22BE2C9"></a><h3 id="OLADM-GUID-308085B5-9043-466F-891A-7732E22BE2C9" class="sect3"><span class="enumeration_section">1.1 </span>What is the OLAP DML?
               </h3>
               <div>
                  <p>The OLAP DML is the original language for defining Oracle OLAP objects and manipulating Oracle OLAP data. </p>
                  <p>There are two major types of OLAP DML statements:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>OLAP DML statements that work against Oracle OLAP cubes and cube dimensions that have been previously defined in the Oracle data dictionary using the OLAP API. For an introduction to these statements, see <span class="q">"<a href="olap-dml-basic-concepts.html#GUID-D5779171-E334-4EFC-8C5C-957A4AD22EE5">Cube-Aware OLAP DML Statements</a>"</span>.
                        </p>
                     </li>
                     <li>
                        <p>OLAP DML statements that create and manipulate lower-level OLAP objects that are defined and stored in an analytic workspace. For an introduction to these statements, see  <span class="q">"<a href="olap-dml-basic-concepts.html#GUID-B8981366-2453-49BC-87D5-35C19575A631">OLAP DML Statements that Work Directly on Analytic Workspace Objects</a>"</span>.
                        </p>
                     </li>
                  </ul>
               </div><a id="OLADM1043"></a><a id="olapdml_cube_aware_dml"></a><div class="props_rev_3"><a id="GUID-D5779171-E334-4EFC-8C5C-957A4AD22EE5" name="GUID-D5779171-E334-4EFC-8C5C-957A4AD22EE5"></a><h4 id="OLADM-GUID-D5779171-E334-4EFC-8C5C-957A4AD22EE5" class="sect4"><span class="enumeration_section">1.1.1 </span>Cube-Aware OLAP DML Statements
                  </h4>
                  <div>
                     <p>OLAP cubes are first-class Oracle OLAP objects and are defined in the Oracle data dictionary. Some OLAP DML statements work against cubes and other first-class OLAP objects.</p>
                     <div class="infoboxnotealso" id="GUID-D5779171-E334-4EFC-8C5C-957A4AD22EE5__GUID-723D9593-EB46-4ED6-BFB7-6520ADD7A19D">
                        <p class="notep1">See Also:</p>
                        <p><span class="italic">Oracle OLAP User's Guide</span> for information on OLAP cubes and other first-level OLAP objects.
                        </p>
                     </div>
                     <p>The following OLAP DML programs work with previously-defined OLAP cubes and cube dimensions. </p>
                     <ul class="simple" style="list-style-type: none;padding-left:0;">
                        <li><a href="olap-dml-commands-a-g.html#GUID-5A4A5FD5-23AA-4553-BF34-0568EE4C6180">ADD_CUBE_MODEL</a></li>
                        <li><a href="olap-dml-commands-a-g.html#GUID-4702593D-35D3-4BE5-A0C6-B1174B292698">ADD_DIMENSION_MEMBER</a></li>
                        <li><a href="olap-dml-commands-a-g.html#GUID-0F365AE1-E2A3-48E2-B1DF-A844E4DC77A2">ADD_MODEL_DIMENSION</a></li>
                        <li><a href="olap-dml-commands-a-g.html#GUID-B88E03E6-CD8E-48AE-9560-342FAAE6E803">CREATE_LOGICAL_MODEL</a></li>
                        <li><a href="olap-dml-commands-h-z.html#GUID-3EEE2BA7-D6A4-46AA-8875-B56311DA7DAD">REMOVE_CUBE_MODEL</a></li>
                        <li><a href="olap-dml-commands-h-z.html#GUID-13E476D5-40B5-4C4C-806D-B36753BD2F80">REMOVE_DIMENSION_MEMBER</a></li>
                        <li><a href="olap-dml-commands-h-z.html#GUID-2ACE5119-95A3-450D-BD7F-23BDA96BEFA0">REMOVE_MODEL_DIMENSION</a></li>
                        <li><a href="olap-dml-commands-h-z.html#GUID-CE469F87-7148-4156-890C-9146EF42E548">SET_INCLUDED_MODEL</a></li>
                        <li><a href="olap-dml-commands-h-z.html#GUID-580435F9-30E6-4DF5-84E8-409EB6B91739">SET_PROPERTY</a></li>
                        <li><a href="olap-dml-commands-h-z.html#GUID-FB7A3475-6276-405F-A75C-50BF54C5C5A8">UPDATE_ATTRIBUTE_VALUE</a></li>
                        <li><a href="olap-dml-commands-h-z.html#GUID-8AB2DDBF-140D-449D-AD20-FD1A3CB9F692">UPDATE_DIMENSION_MEMBER</a></li>
                        <li></li>
                     </ul>
                     <p>Typically, these programs take, as input, the Oracle data dictionary name of an OLAP cube or cube dimension. When the programs execute they not only make the necessary changes to the cube or cube dimension, they also make changes to all of the analytic workspace objects that underlie these cubes and cube dimensions.</p>
                     <p>Also, you can use the <a href="olap-dml-functions-l-z.html#GUID-1B4F6A63-7E48-4EAE-BAD0-A6BC636AD6E8">OBJORG</a> function in OLAP DML statements that are <span class="italic">not</span> cube-aware to specify the analytic workspace objects that underlie OLAP cubes and cube dimensions.
                     </p>
                  </div>
               </div><a id="OLADM1044"></a><div class="props_rev_3"><a id="GUID-B8981366-2453-49BC-87D5-35C19575A631" name="GUID-B8981366-2453-49BC-87D5-35C19575A631"></a><h4 id="OLADM-GUID-B8981366-2453-49BC-87D5-35C19575A631" class="sect4"><span class="enumeration_section">1.1.2 </span>OLAP DML Statements that Work Directly on Analytic Workspace Objects
                  </h4>
                  <div>
                     <p>Historically, OLAP DML statements did not work against first-level OLAP objects as defined in the OLAP data dictionary. Instead, OLAP DML statements create and manipulate lower-level OLAP objects that are defined and stored in an analytic workspace. This remains the case for most OLAP DML statements today.</p>
                     <div class="infoboxnote" id="GUID-B8981366-2453-49BC-87D5-35C19575A631__GUID-06167C6E-011D-4ABF-86C2-29B965509CB9">
                        <p class="notep1">Note:</p>
                        <p> Unless otherwise stated, statements and information provided in this manual applies to OLAP DML statements that are not cube-aware (that is, OLAP DML statements work directly on analytic workspace objects).</p>
                     </div>
                     <p>For OLAP DML statements that work directly on analytic workspace objects, if an object name is needed as input to the statement, the object name is the name of an object as defined in the analytic workspace, not as defined in the Oracle data dictionary.</p>
                     <p>You can use these OLAP DML statements to create programs that analyze analytic workspace data without using SQL, Java, the OLAP API, or the Oracle OLAP tools. You can use the OLAP DML to define the analytic workspaces and the objects that are stored in analytic workspaces. For example, you can:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Create an analytic workspace as described in <span class="q">"<a href="olap-dml-basic-concepts.html#GUID-93E0871F-0EF4-47DE-B175-9782970EE205">Defining a New Analytic Workspace</a>"</span>.
                           </p>
                        </li>
                        <li>
                           <p>Define the multidimensional data objects in an analytic workspace using the <a href="olap-dml-commands-a-g.html#GUID-569FA3A3-ADF7-488B-9D39-AB8785572C11">DEFINE</a> command.
                           </p>
                        </li>
                        <li>
                           <p>Define calculation objects and programs that analyze the data as described in <a href="formulas-models-aggregations-and-allocations.html#GUID-D261BFC7-B50F-45BE-92D6-5800E2627C5B">Formulas, Models, Aggregations, and Allocations</a>.
                           </p>
                        </li>
                        <li>
                           <p>Populate and analyze the data in the multidimensional data objects. </p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="OLADM1045"></a><a id="OLADM1046"></a><a id="OLADM1047"></a><a id="OLADM1048"></a><a id="OLADM1049"></a><a id="OLADM104"></a><div class="props_rev_3"><a id="GUID-3F820E5D-0C63-4E51-BEBE-4674B6A7DFDB" name="GUID-3F820E5D-0C63-4E51-BEBE-4674B6A7DFDB"></a><h3 id="OLADM-GUID-3F820E5D-0C63-4E51-BEBE-4674B6A7DFDB" class="sect3"><span class="enumeration_section">1.2 </span>Basic Syntactic Units of the OLAP DML
               </h3>
               <div>
                  <p>The basic syntactic units of the OLAP DML are options, properties, commands, functions, and programs. All of these are sometimes collectively referred to as OLAP DML statements.</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-3F820E5D-0C63-4E51-BEBE-4674B6A7DFDB__GUID-267BABAB-D829-4D3F-922E-B9AE028E19C3">OLAP DML Options</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>An OLAP DML option is a special type of analytic workspace object that specifies the characteristic of some aspect of how Oracle OLAP calculates or formats data or what Oracle OLAP operations are activated. Some options are read-only, while others are read/write options for which you can specify values. Read/write options have default values.</p>
                     <p>You cannot define your own options as part of an analytic workspace. However, you can use any of the options that are defined as part of the Oracle OLAP DML. The options are documented as reference topics in <a href="olap-dml-options.html#GUID-14D3D0B3-3244-461B-997B-A0CB0C82AFAA">OLAP DML Options</a>. 
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3F820E5D-0C63-4E51-BEBE-4674B6A7DFDB__GUID-EB068A7C-8425-4BD8-9E0F-8934644987C5">OLAP DML Properties</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>A property is a named value that is associated with a definition of an analytic workspace object. You can name, create, and assign properties to an object using an OLAP DML PROPERTY command.</p>
                     <p>Properties that begin with a $ (dollar sign) are recognized by Oracle OLAP as system properties. You cannot create system properties; however, in some cases you can assign system properties to objects. These system properties are documented as reference topics in <a href="olap-dml-properties.html#GUID-60615C24-460C-4A4C-A6D5-B5BBC6D3FC68" title="The $AGGMAP property specifies that Oracle OLAP use the identified aggmap to automatically aggregate non-precomputed data to substitute for NA values that are in the dimensioned variable, but not in the session cache for the variable (if any). Consequently, you do not need to explicitly use the AGGREGATE function to aggregate non-precomputed data in a variable that has an $AGGMAP property.The $AGGREGATE_FORCECALC property specifies the same behavior as that specified by the FORCECALC keyword in an AGGREGATE function. By adding an $AGGREGATE_FORCECALC property to a variable you can ensure this behavior when the variable is aggregated using an AGGREGATE function, even when that function does not include the FORCECALC keyword.The $AGGREGATE_FORCEORDER property specifies the same behavior as that specified by the FORCEORDER keyword in an AGGREGATE command or an AGGREGATE function. By adding an $AGGREGATE_FORCEORDER property to a variable you can ensure this behavior when the variable is aggregated, even when it is aggregated by an AGGREGATE statement does not include the FORCEORDER keyword.The $AGGREGATE_FROM property specifies the same behavior as that specified by a FROM clause in an AGGREGATE command or an AGGREGATE function. By adding an $AGGREGATE_FROM property to a variable you can ensure this behavior when the variable is aggregated, even when it is aggregated by an AGGREGATE statement does not include the FROM clause.The $AGGREGATE_FROMVAR property specifies the same behavior as that specified by a FROMVAR clause in an AGGREGATE command or an AGGREGATE function. By adding an $AGGREGATE_FROMVAR property to a variable you can ensure this behavior when the variable is aggregated, even when it is aggregated by an AGGREGATE statement that does not include the FROMVAR clause. The $ALLOCMAP property specifies the default aggmap for allocation for a variable which is the aggmap that Oracle OLAP uses when the variable is the target variable of an ALLOCATE statement that does not include a USING phrase.The $COUNTVAR property specifies the same behavior as that specified by a COUNTVAR clause in an AGGREGATE command or an AGGREGATE function. By adding an $COUNTVAR property to a variable you can ensure this behavior when the variable is aggregated, even when it is aggregated by an AGGREGATE statement does not include the COUNTVAR clause.$DEFAULT_LANGUAGE property identifies a dimension as the language dimension for the analytic workspace in which it is defined and specifies the default language for that language dimension.The $GID_DEPTH property specifies the number of levels of grouping ids in the grouping id relation to which it is added.The $GID_LIST property contains the names of the levels used to create the grouping ids.$GID_TYPE property specifies the grouping type of the grouping ids.The $LOOP_AGGMAP property is used to determine how to loop the formula on which it is assigned when a SQL OLAP_TABLE function with the LOOP OPTIMIZED clause is executed. It specifies the name of an aggmap object to use when Oracle OLAP generates a UNION subclause that includes the formula. The value that you specify for this property overrides all other aggmaps associated with a variable (for example, aggmaps for which the variable has an $AGGMAP property) and can be used to clarify which aggmap Oracle OLAP should use when the underlying variables of a formula are associated with different aggmaps. The $LOOP_DENSE property is used to determine how to loop the formula on which it is assigned when an OLAP_TABLE SQL function with the LOOP OPTIMIZED clause is executed.The $LOOP_TYPE property specifies how to loop over a formula that contains multiple variables when the formula is used in an OLAP_TABLE SQL function that has the LOOP OPTIMIZED clause. The $LOOP_VAR property specifies that when an OLAP_TABLE SQL function with the LOOP OPTIMIZED clause is executed, the formula on which it is assigned is looped in the same manner as the variable or QDR specified in the property.The $NATRIGGER property specifies values for Oracle OLAP to substitute for NA values that are in a dimensioned variable, but not in the session cache for the variable (if any).The $STORETRIGGERVAL property specifies whether, when a $NATRIGGER expression executes, Oracle OLAP replaces the NA values in the variable with the results of the expression.The $VARCACHE property specifies whether Oracle OLAP stores or caches variable data that is the result of the execution of an AGGREGATE function or a $NATRIGGER expression.">OLAP DML Properties</a>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3F820E5D-0C63-4E51-BEBE-4674B6A7DFDB__GUID-E3CB83AD-CD16-42F1-B13D-9A14C5219748">OLAP DML Functions</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>OLAP functions work in much the same way as commands in other programming languages. They initiate action and return a value. The one exception is the looping nature of OLAP DML functions as discussed in <span class="q">"<a href="olap-dml-basic-concepts.html#GUID-D032BBB4-A0ED-41C1-80B7-D93CA5172FD6">OLAP DML Statements Apply to All of the Values of a Data Object</a>"</span>.
                     </p>
                     <p>Most of the OLAP DML functions are standard text and calculation functions. Other OLAP DML functions return more complex information.Additionally, you can augment the functionality of the OLAP DML by writing an OLAP DML program for use as a function.</p>
                     <p>The built-in OLAP DML functions are documented as reference topics in <a href="olap-dml-functions-a-k.html#GUID-61DF603D-3BD7-43B0-B14A-9C536BFF80CE">OLAP DML Functions: A - K</a> and <a href="olap-dml-functions-l-z.html#GUID-B01E26A8-F738-4D2C-A274-6B0B3941A2A7">OLAP DML Functions: L - Z</a>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3F820E5D-0C63-4E51-BEBE-4674B6A7DFDB__GUID-413D4C31-75EC-410F-AECB-467907C1109C">OLAP DML Commands</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>OLAP DML commands work in much the same way as commands in other programming languages—the one exception is the looping nature of OLAP DML commands as discussed in <span class="q">"<a href="olap-dml-basic-concepts.html#GUID-D032BBB4-A0ED-41C1-80B7-D93CA5172FD6">OLAP DML Statements Apply to All of the Values of a Data Object</a>"</span>.
                     </p>
                     <p>Many OLAP DML commands perform complex actions. Some of these commands are data definition commands like the AW command which you use to create an analytic workspace and the DEFINE command which you use to define objects within an analytic workspace. Other OLAP DML commands are data manipulation commands. Some commands are recognized by Oracle OLAP as events that can trigger the execution of OLAP DML programs. (See <span class="q">"<a href="olap-dml-programs.html#GUID-6DC225EC-360D-4292-A4A9-ED27E60B1BB0">Trigger Programs</a>"</span> for more information.) Additionally, you can augment the functionality of the OLAP DML by writing an OLAP DML program for use as a command. 
                     </p>
                     <p>The built-in OLAP DML commands are documented as reference topics in Chapter 8, <a href="olap-dml-commands-a-g.html#GUID-E53A76E2-3ED0-4084-BEFC-942266F3F811" title="The ALLOCATE command calculates lower-level data from upper-level data by allocating variable data down a hierarchical dimension.">OLAP DML Commands: A-G</a> and <a href="olap-dml-commands-h-z.html#GUID-C5C279D8-A1CE-4814-B6AE-BDD06AF798D8">OLAP DML Commands: H-Z</a>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3F820E5D-0C63-4E51-BEBE-4674B6A7DFDB__GUID-6CC41724-DFFA-4B2D-BBEE-132FD8F24675">OLAP DML Programs</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>Several OLAP DML programs are provided as part of the OLAP DML. Some of these programs produce reports that you can print or see online. Other programs provided as part of the OLAP DML perform standard calculations of use to programmers and database administrators. For more information on the programs delivered with the OLAP DML, see <span class="q">"<a href="olap-dml-programs.html#GUID-2A2A7710-6459-440B-B9F8-3EC1408D4DB0">Programs Provided With the OLAP DML</a>"</span>.
                     </p>
                     <p>You can also write your own OLAP DML programs to augment the functionality of the OLAP DML as described in <a href="olap-dml-programs.html#GUID-6CC5769C-7292-42CD-BF33-BBECF9456606">OLAP DML Programs</a>. 
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="OLADM105"></a><a id="olapdml_how_to_execute_statements"></a><div class="props_rev_3"><a id="GUID-2DCC16E8-A4C9-4727-B0A4-CC95F4EBBE84" name="GUID-2DCC16E8-A4C9-4727-B0A4-CC95F4EBBE84"></a><h3 id="OLADM-GUID-2DCC16E8-A4C9-4727-B0A4-CC95F4EBBE84" class="sect3"><span class="enumeration_section">1.3 </span>How to Execute OLAP DML Statements
               </h3>
               <div>
                  <div class="section">
                     <p>The simplest way to execute OLAP DML statement is by using the OLAP Worksheet. The OLAP Worksheet is delivered as part of the Analytic Workspace Manager. To open the OLAP worksheet from within the Analytic Workspace Manager:</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li><span>Connect to an Oracle Database instance.</span></li>
                     <li><span>Select a Schema.</span></li>
                     <li><span>Select Tools, then OLAP Worksheet.</span></li>
                  </ol>
                  <div class="section">
                     <p>You can also execute OLAP DML statements in SQL and Java:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Using the PL/SQL <code class="codeph">DBMS_AW</code> package you can execute OLAP DML statements as described in the <span class="italic">Oracle OLAP DML Reference</span> manual.
                           </p>
                        </li>
                        <li>
                           <p>Using <code class="codeph">SPL_Executor</code> delivered as part of Oracle OLAP Java API you can embed OLAP DML statements within a Java program.
                           </p>
                           <div class="infoboxnotealso" id="GUID-2DCC16E8-A4C9-4727-B0A4-CC95F4EBBE84__GUID-E0910B0D-126E-4088-BB9B-2D8BAE459C74">
                              <p class="notep1">See Also:</p>
                              <p><span class="italic">Oracle OLAP Java API Reference</span></p>
                           </div>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="OLADM107"></a><a id="olapdml_intro_to_aws"></a><div class="props_rev_3"><a id="GUID-8E8E3CDE-4020-4670-B669-D45440DFEAD4" name="GUID-8E8E3CDE-4020-4670-B669-D45440DFEAD4"></a><h3 id="OLADM-GUID-8E8E3CDE-4020-4670-B669-D45440DFEAD4" class="sect3"><span class="enumeration_section">1.4 </span>Introduction to Analytic Workspaces
               </h3>
               <div>
                  <p>Conceptually, an analytic workspace is that portion of Oracle Database that is used by Oracle OLAP to perform OLAP analysis. Physically, an analytic workspace is stored in the database as LOBs in a table named <code class="codeph">AW$</code><span class="italic"><code class="codeph">workspacename</code></span>. 
                  </p>
                  <p>An analytic workspace also contains the following types of objects and the OLAP DML definitions for these objects:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Multidimensional data objects that contain the data to analyze and the results of the analysis. </p>
                     </li>
                     <li>
                        <p>Calculation objects (that is, formulas, models, aggregations, and allocations) that contain OLAP DML statements that specify the analysis.</p>
                     </li>
                     <li>
                        <p>OLAP DML programs that perform complex analysis.</p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-8E8E3CDE-4020-4670-B669-D45440DFEAD4__GUID-31E607AA-EC02-4B9D-B2E5-570CF8053AF2">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="olap-dml-basic-concepts.html#GUID-2964E902-70D4-4E18-83A0-3EBB9E7B30B0">Introduction to Analytic Workspace Data Objects</a>"</span>, <a href="formulas-models-aggregations-and-allocations.html#GUID-D261BFC7-B50F-45BE-92D6-5800E2627C5B">Formulas, Models, Aggregations, and Allocations</a> and <a href="olap-dml-programs.html#GUID-6CC5769C-7292-42CD-BF33-BBECF9456606">OLAP DML Programs</a></p>
                  </div>
               </div><a id="OLADM108"></a><div class="props_rev_3"><a id="GUID-3D251C92-8AD0-4A88-B0C7-A271D535D7CE" name="GUID-3D251C92-8AD0-4A88-B0C7-A271D535D7CE"></a><h4 id="OLADM-GUID-3D251C92-8AD0-4A88-B0C7-A271D535D7CE" class="sect4"><span class="enumeration_section">1.4.1 </span>Privileges Needed to Create and Delete Analytic Workspaces
                  </h4>
                  <div>
                     <p>Because an analytic workspace is physically stored as a table in an Oracle Database instance, you need SQL GRANT privileges to work with an analytic workspace. The privileges you need vary depending on whether the analytic workspace is in a schema that you own or in a schema that you do not own:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>When you are the owner of the schema, you only need SQL GRANT privileges when you want to create an analytic workspace or attach an analytic workspace. The privileges you must be granted to perform these tasks and the OLAP DML commands that relate to these tasks are outlined in the following table.</p>
                           <div class="tblformal" id="GUID-3D251C92-8AD0-4A88-B0C7-A271D535D7CE__GUID-C0F842FD-A8A7-4ADE-9CC1-9D07E643A7D4">
                              <table cellpadding="4" cellspacing="0" class="Formal" title summary="Analytic workspace tasks and OLAP DML commands and GRANT privileges need to perform these tasks when the analytic workspace is in a schema that you own." width="90%" frame="hsides" border="1" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="33%" id="d9708e541">Task</th>
                                       <th align="left" valign="bottom" width="30%" id="d9708e544">OLAP DML Command</th>
                                       <th align="left" valign="bottom" width="37%" id="d9708e547">SQL GRANT Privileges Needed</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="33%" id="d9708e552" headers="d9708e541 ">
                                          <p>Create an analytic workspace</p>
                                       </td>
                                       <td align="left" valign="top" width="30%" headers="d9708e552 d9708e544 ">
                                          <p><a href="olap-dml-commands-a-g.html#GUID-A2169EB6-3612-4FAF-B2CC-2DF145D71FC7">AW CREATE</a></p>
                                       </td>
                                       <td align="left" valign="top" width="37%" headers="d9708e552 d9708e547 ">
                                          <p>CREATE TABLE</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="33%" id="d9708e563" headers="d9708e541 ">
                                          <p>Attach an analytic workspace AS OF</p>
                                       </td>
                                       <td align="left" valign="top" width="30%" headers="d9708e563 d9708e544 ">
                                          <p><a href="olap-dml-commands-a-g.html#GUID-A87A91D4-FA55-4B37-A67B-799ED47DB052">AW ATTACH</a> with ASOF keyword
                                          </p>
                                       </td>
                                       <td align="left" valign="top" width="37%" headers="d9708e563 d9708e547 ">
                                          <p>FLASHBACK TABLE</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </li>
                        <li>
                           <p>When you are not the owner of the schema, you need SQL GRANT privileges to create an analytic workspace, to attach an analytic workspace in ASOF mode, to drop an analytic workspace, and to truncate an analytic workspace as shown in the following table.</p>
                           <div class="tblformal" id="GUID-3D251C92-8AD0-4A88-B0C7-A271D535D7CE__GUID-AD12B755-DF68-442E-A5E9-2BBDCDBAC514">
                              <table cellpadding="4" cellspacing="0" class="Formal" title summary="Analytic workspace tasks and OLAP DML commands and GRANT privileges need to perform these tasks when the analytic workspace is in a schema that you do not own." width="90%" frame="hsides" border="1" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="33%" id="d9708e586">Task</th>
                                       <th align="left" valign="bottom" width="30%" id="d9708e589">OLAP DML Command</th>
                                       <th align="left" valign="bottom" width="37%" id="d9708e592">SQL GRANT Privileges Needed</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="33%" id="d9708e597" headers="d9708e586 ">
                                          <p>Create an analytic workspace</p>
                                       </td>
                                       <td align="left" valign="top" width="30%" headers="d9708e597 d9708e589 ">
                                          <p><a href="olap-dml-commands-a-g.html#GUID-A2169EB6-3612-4FAF-B2CC-2DF145D71FC7">AW CREATE</a></p>
                                       </td>
                                       <td align="left" valign="top" width="37%" headers="d9708e597 d9708e592 ">
                                          <p>CREATE ANY TABLE, SELECT ANY TABLE, UPDATE ANY TABLE</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="33%" id="d9708e608" headers="d9708e586 ">
                                          <p>Attach an analytic workspace AS OF</p>
                                       </td>
                                       <td align="left" valign="top" width="30%" headers="d9708e608 d9708e589 ">
                                          <p><a href="olap-dml-commands-a-g.html#GUID-A87A91D4-FA55-4B37-A67B-799ED47DB052">AW ATTACH</a> with ASOF keyword
                                          </p>
                                       </td>
                                       <td align="left" valign="top" width="37%" headers="d9708e608 d9708e592 ">
                                          <p>FLASHBACK ANY TABLE</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="33%" id="d9708e620" headers="d9708e586 ">
                                          <p>Delete an analytic workspace </p>
                                       </td>
                                       <td align="left" valign="top" width="30%" headers="d9708e620 d9708e589 ">
                                          <p><a href="olap-dml-commands-a-g.html#GUID-AD130122-9E29-437F-9266-075C5EF2E370">AW DELETE</a></p>
                                       </td>
                                       <td align="left" valign="top" width="37%" headers="d9708e620 d9708e592 ">
                                          <p>DROP ANY TABLE</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="33%" id="d9708e631" headers="d9708e586 ">
                                          <p>Truncate an analytic workspace</p>
                                       </td>
                                       <td align="left" valign="top" width="30%" headers="d9708e631 d9708e589 ">
                                          <p><a href="olap-dml-commands-a-g.html#GUID-DD99BD2D-BEAB-4061-AB97-82FF2FECA84A">AW TRUNCATE</a></p>
                                       </td>
                                       <td align="left" valign="top" width="37%" headers="d9708e631 d9708e592 ">
                                          <p>TRUNCATE ANY TABLE</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </li>
                     </ul>
                     <p>Note that Oracle Database does not turn on roles when you run a named PL/SQL procedure. In this case, the you must have the CREATE TABLE privilege directly.</p>
                  </div>
               </div><a id="OLADM109"></a><div class="props_rev_3"><a id="GUID-93E0871F-0EF4-47DE-B175-9782970EE205" name="GUID-93E0871F-0EF4-47DE-B175-9782970EE205"></a><h4 id="OLADM-GUID-93E0871F-0EF4-47DE-B175-9782970EE205" class="sect4"><span class="enumeration_section">1.4.2 </span>Defining a New Analytic Workspace
                  </h4>
                  <div>
                     <p>You can use the OLAP DML to create analytic workspaces. To create an analytic workspace, issue an AW command with the CREATE keyword, followed by an UPDATE statement and a COMMIT statement. </p>
                  </div>
               </div><a id="OLADM110"></a><div class="props_rev_3"><a id="GUID-11FE14A2-7A37-492F-B574-D82728A0FED4" name="GUID-11FE14A2-7A37-492F-B574-D82728A0FED4"></a><h4 id="OLADM-GUID-11FE14A2-7A37-492F-B574-D82728A0FED4" class="sect4"><span class="enumeration_section">1.4.3 </span>Working with Previously-Defined Analytic Workspaces
                  </h4>
                  <div>
                     <p>Before you can work with a previously-defined analytic workspace, you must first attach the analytic workspace by issuing an AW ATTACH statement. You can attach an analytic workspace in any of the following attachment modes:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="bold">Read-only</span>: Users can make private changes to the data in the workspace to perform what-if analysis but cannot commit any of these changes. Any number of users can be attached in Read Only mode.
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">Read/write access mode</span>: Only one user can have an analytic workspace open in read/write at a time. The user has to commit either all or none of the changes made to the workspace.
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">Read/write exclusive access mode</span>: The read/write exclusive attach mode is not compatible with any other access modes. A user cannot attach an analytic workspace in read/write exclusive mode when another user has it attached in any mode. Only one user can have an analytic workspace open in read/write exclusive at a time. The user has to commit either all or none of the changes made to the workspace. 
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">Multiwriter access mode</span>: An analytic workspace that is attached in multiwriter mode can be accessed simultaneously by several sessions. In multiwriter mode, users can simultaneously modify the same analytic workspace in a controlled manner by specifying the attachment mode (read-only or read/write) for individual variables, relations, valuesets, and dimensions. 
                           </p>
                        </li>
                     </ul>
                     <p>For more information on the various attachment modes, see the syntax and notes for the <a href="olap-dml-commands-a-g.html#GUID-A87A91D4-FA55-4B37-A67B-799ED47DB052">AW ATTACH</a> statement.
                     </p>
                  </div>
               </div><a id="OLADM1050"></a><a id="OLADM111"></a><div class="props_rev_3"><a id="GUID-F9B1E464-5FA4-49D1-941C-A7055A283367" name="GUID-F9B1E464-5FA4-49D1-941C-A7055A283367"></a><h4 id="OLADM-GUID-F9B1E464-5FA4-49D1-941C-A7055A283367" class="sect4"><span class="enumeration_section">1.4.4 </span>Viewing Information About an Analytic Workspace
                  </h4>
                  <div>
                     <p>The following table lists the OLAP DML statements that you can use to view information about an analytic workspace</p>
                     <div class="tblformal" id="GUID-F9B1E464-5FA4-49D1-941C-A7055A283367__BABDFCEG">
                        <p class="titleintable">Table 1-1 Statements for Viewing Information About an Analytic Workspace</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Statements for Viewing Information About an Analytic Workspace" summary="This table lists the OLAP DML statements that you can use to manage analytic workspaces." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="29%" id="d9708e771">Statement</th>
                                 <th align="left" valign="bottom" width="71%" id="d9708e774">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d9708e779" headers="d9708e771 ">
                                    <p><a href="olap-dml-functions-a-k.html#GUID-AD71932C-00EB-41C4-9059-876CE03D5205">AW function</a></p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d9708e779 d9708e774 ">
                                    <p>Returns information about currently attached workspaces.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d9708e787" headers="d9708e771 ">
                                    <p><a href="olap-dml-commands-a-g.html#GUID-7E15216F-8529-488B-8A2B-C17A9405CAE4">AWDESCRIBE</a> program
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d9708e787 d9708e774 ">
                                    <p>Sends information about the current analytic workspace to the current outfile. </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d9708e796" headers="d9708e771 ">
                                    <p><a href="olap-dml-functions-a-k.html#GUID-6AF3A7B2-E49A-4178-92F9-A347F26AD7B3">EXISTS</a> function
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d9708e796 d9708e774 ">
                                    <p>Returns a value that indicates whether an object is defined in any attached workspace. </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d9708e805" headers="d9708e771 ">
                                    <p><a href="olap-dml-commands-h-z.html#GUID-6730EB17-D6E4-4E9D-92A0-C60D5BE0439C">LISTBY</a> program
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d9708e805 d9708e774 ">
                                    <p>Lists all objects in an analytic workspace that are dimensioned by or related to one or more specified dimensions or composites. </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d9708e814" headers="d9708e771 ">
                                    <p><a href="olap-dml-commands-h-z.html#GUID-67A0A769-8D3B-4089-94A3-95987FDDDCCF">LISTNAMES</a> program 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d9708e814 d9708e774 ">
                                    <p>Lists the names of the objects in an analytic workspace. </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d9708e823" headers="d9708e771 ">
                                    <p><a href="olap-dml-functions-l-z.html#GUID-4AD8C727-8B19-4840-8F68-C11EF7E08DC3">OBJ</a> function
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d9708e823 d9708e774 ">
                                    <p>Returns information about an analytic workspace object.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d9708e832" headers="d9708e771 ">
                                    <p><a href="olap-dml-functions-l-z.html#GUID-F4B7A81F-4ACE-4833-9E7E-4513C4F5ABB7">OBJLIST</a> function
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d9708e832 d9708e774 ">
                                    <p>Lists the objects that are in one or more workspaces that you specify. </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d9708e841" headers="d9708e771 ">
                                    <p><a href="olap-dml-commands-a-g.html#GUID-A90506EF-24DF-44C0-86CA-0D51AFAD921B">DESCRIBE</a> command
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d9708e841 d9708e774 ">
                                    <p>Lists the simple definition of one or more workspace objects.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="29%" id="d9708e850" headers="d9708e771 ">
                                    <p><a href="olap-dml-commands-a-g.html#GUID-1B30E714-3236-466D-9777-68EA704B51DF">FULLDSC</a> program
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="71%" headers="d9708e850 d9708e774 ">
                                    <p>Lists the complete definition of one or more workspace objects, including the properties and triggers of the object(s).</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div>
            </div><a id="OLADM1051"></a><a id="olapdml_about_data_objects"></a><div class="props_rev_3"><a id="GUID-2964E902-70D4-4E18-83A0-3EBB9E7B30B0" name="GUID-2964E902-70D4-4E18-83A0-3EBB9E7B30B0"></a><h3 id="OLADM-GUID-2964E902-70D4-4E18-83A0-3EBB9E7B30B0" class="sect3"><span class="enumeration_section">1.5 </span>Introduction to Analytic Workspace Data Objects
               </h3>
               <div>
                  <p>A relational database typically stores data values in tables that represent third normal form data. In this type of implementation, the values of key columns of a relational database table are unique values of a single level of data. For example, at one level in the relational database you might have a table with a key column named City that contains the names of cities and at the next highest level in the database a table with a key column named state that contains the names of states, and so on and so on. </p>
                  <p>In an analytic workspace the objects that hold the data to analyze are arrays called variables. The keys into variables are stored in other objects which act as the dimensions of the variables. To support performant OLAP analysis, values from multiple levels are stored within a single dimension called a hierarchical dimension. For example, an analytic workspace might have a hierarchical dimension named geog that had as values the names of both cities and states. </p>
                  <p>The objects that store values that relate values of two or more dimensions are called relations. Thus the one-to-many relationship between values of different levels in a hierarchical dimension are stored in an analytic workspace. For example, the relationship between the city and state values in a hierarchical geog dimension would be stored in an analytic workspace relation typically called a parentrel relation. (See <span class="q">"<a href="olap-dml-basic-concepts.html#GUID-DDB9F83C-9589-4E2C-A1F2-9B64742C7B73">Parentrel Relation</a>"</span> for more information.)
                  </p>
                  <p>Additional analytic workspace objects are typically defined to keep additional information about the hierarchical dimension. Several important OLAP DML commands and functions (such as the LIMIT command) presume the existences of these objects in your analytic workspace as the name of these objects is one argument in the syntax of the statement.</p>
                  <p>The data objects that you define using the OLAP DML are multidimensional objects that are stored in an analytic workspace. When you use OLAP DML statements to perform operations against these multidimensional data objects, those operations apply all at once to entire set of values contained by these objects. </p>
                  <div class="infoboxnotealso" id="GUID-2964E902-70D4-4E18-83A0-3EBB9E7B30B0__GUID-D71F8CDE-68BC-4CDB-B966-E58041F78AF2">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="olap-dml-basic-concepts.html#GUID-7179E66A-1925-489B-86CC-822C9687E1D3">Types of Analytic Workspace Data Objects</a>"</span> and<span class="q">"<a href="olap-dml-basic-concepts.html#GUID-A6C8F1DD-9AAE-4031-BB1F-1B8269DEA718">Objects that Support the Use of Hierarchies</a>"</span>.
                     </p>
                  </div>
               </div><a id="OLADM113"></a><div class="props_rev_3"><a id="GUID-7179E66A-1925-489B-86CC-822C9687E1D3" name="GUID-7179E66A-1925-489B-86CC-822C9687E1D3"></a><h4 id="OLADM-GUID-7179E66A-1925-489B-86CC-822C9687E1D3" class="sect4"><span class="enumeration_section">1.5.1 </span>Types of Analytic Workspace Data Objects
                  </h4>
                  <div>
                     <p>The OLAP DML supports the use of the following types of analytic workspace data objects:</p>
                     <ul class="simple" style="list-style-type: none;padding-left:0;">
                        <li><a href="olap-dml-basic-concepts.html#GUID-0FF3BAAC-753C-4115-8C8F-0BDCD193B453">Variables</a></li>
                        <li><a href="olap-dml-basic-concepts.html#GUID-F44FE0AB-A638-41AD-A758-73EBCA2228DB__BABBAGFI">Simple Dimensions</a></li>
                        <li><a href="olap-dml-basic-concepts.html#GUID-F44FE0AB-A638-41AD-A758-73EBCA2228DB__BABGDCBJ">Concat Dimensions</a></li>
                        <li><a href="olap-dml-basic-concepts.html#GUID-F44FE0AB-A638-41AD-A758-73EBCA2228DB__BABIHGIG">Composites</a></li>
                        <li><a href="olap-dml-basic-concepts.html#GUID-F44FE0AB-A638-41AD-A758-73EBCA2228DB__BABEJCCH">Partition Templates</a></li>
                        <li><a href="olap-dml-basic-concepts.html#GUID-F44FE0AB-A638-41AD-A758-73EBCA2228DB__BABJDDCE">Alias Dimensions</a></li>
                        <li><a href="olap-dml-basic-concepts.html#GUID-5378B123-4415-4FC8-9F91-72D4310A1594">Relations</a></li>
                        <li><a href="olap-dml-basic-concepts.html#GUID-1EB0143C-5881-4BE4-9CA2-6C0EFE01E034">Valueset and Surrogate Objects</a></li>
                     </ul>
                     <div class="infobox-tip" id="GUID-7179E66A-1925-489B-86CC-822C9687E1D3__GUID-E1E55F22-6AD0-44D1-B683-C2849D32B4F1">
                        <p class="notep1">Tip:</p>
                        <p>You can use the <a href="olap-dml-functions-l-z.html#GUID-1B4F6A63-7E48-4EAE-BAD0-A6BC636AD6E8">OBJORG</a> function to specify analytic workspace objects that underlie cubes and cube dimensions.
                        </p>
                     </div>
                  </div><a id="OLADM114"></a><div class="props_rev_3"><a id="GUID-0FF3BAAC-753C-4115-8C8F-0BDCD193B453" name="GUID-0FF3BAAC-753C-4115-8C8F-0BDCD193B453"></a><h5 id="OLADM-GUID-0FF3BAAC-753C-4115-8C8F-0BDCD193B453" class="sect5"><span class="enumeration_section">1.5.1.1 </span>Variables
                     </h5>
                     <div>
                        <p>The most important data object in an analytic workspace is the variable. A variable is an object that stores data. All of the data in a variable must have the same data type. Typically, you use variables to contain data values that quantify a particular aspect of your business For example, your business might have several categories of transactions (measured in dollars, units, percentages, and so on) and each category is stored in its own variable. For example, you might record sales data in dollars (a sales variable) and units (a units variable). </p>
                        <p>Because the OLAP DML is a multidimensional programming language, variables are multidimensional and correspond to what other OLAP languages sometimes call measures. Conceptually, you can think of a variable with two dimensions as a table, a variable with three dimensions as a cube, and so on. Physically, variables are stored as multidimensional arrays with the actual structure of the arrays determined by the object by which the variable is dimensioned.</p>
                        <p>The scope and permanence of a variable can vary. A permanent variable is a variable for which both the variable values and definitions are stored in an analytic workspace. Temporary variables have values only during the current session. When you update and commit the analytic workspace, only the definitions of temporary variables are saved. When you exit from the analytic workspace, the data values are discarded. You can also define variables in programs.</p>
                        <p>You can define scalar variables in programs, but most variables that you define using the OLAP DML are dimensioned variables. Dimensioned variables are arrays that hold multiple values. The indexes or dimensions of the variable provide the organization for the variable. The values of the dimension are similar to keys in a relational table, in that they uniquely identify a data value. For example, if you have a sales variable that is dimensioned by time, geography, and product dimensions, then each combination of the values of time, geography, and product identifies a value in sales. (Note that the indexes of variables are not actually the values of the dimension, but, instead, are the INTEGER positions of the values in the dimension.)</p>
                        <p>Variables can be dimensioned by either flat or hierarchical dimensions. A flat dimension exists when the values within a dimension are all at the same level; no value is the child or parent of another value. A hierarchical dimension exists when the values with a single dimension are in a one-to-many (parent-to-child) relationship with each other. </p>
                        <p>A hierarchical dimension is a means of organizing and structuring this type of data within a single dimension. You can then use it to dimension a variable that contains data for all the levels. Some dimensions have multiple hierarchies. You specify the parent-to-child relationships of the dimension values by creating a self-relation.You use a hierarchical dimension to define a variable that contains data of varying levels of aggregation within a single variable. Storing all of these values in a single variable affords a quicker response time for users who want to view the data, particularly when the variable is large.</p>
                        <p>Frequently, the cells in the variable that correspond to upper level values in the hierarchical dimension contain the sum or total of the values in the cells of the variable that correspond to the lower level dimension values. For example, in a sales variable that is defined with a hierarchical dimension representing time, the cells of the variable for each quarter might represent the total sales for the months in the quarter.</p>
                        <p>After you have defined a variable with hierarchical dimensions, you can add variable data to the lowest level of the hierarchy, and then calculate or aggregate the values for the higher levels of the hierarchy. Conversely, you can distribute or allocate data from higher levels to lower levels of the hierarchy. </p>
                        <div class="infoboxnote" id="GUID-0FF3BAAC-753C-4115-8C8F-0BDCD193B453__GUID-DC5A40A1-5B11-4C8C-A5EB-38257A623002">
                           <p class="notep1">See:</p>
                           <p><a href="olap-dml-commands-a-g.html#GUID-0F57584C-1BD9-4F2B-993B-F5E1EF2B8D09">DEFINE VARIABLE</a></p>
                        </div>
                     </div>
                  </div><a id="OLADM1052"></a><a id="OLADM1053"></a><a id="OLADM1054"></a><a id="OLADM1055"></a><a id="OLADM1056"></a><a id="OLADM115"></a><div class="props_rev_3"><a id="GUID-F44FE0AB-A638-41AD-A758-73EBCA2228DB" name="GUID-F44FE0AB-A638-41AD-A758-73EBCA2228DB"></a><h5 id="OLADM-GUID-F44FE0AB-A638-41AD-A758-73EBCA2228DB" class="sect5"><span class="enumeration_section">1.5.1.2 </span>Objects that Can Dimension Variables
                     </h5>
                     <div>
                        <p>How variable and relation data is actually structured and stored is dependent on what type of object you use to dimension the variable or relation and the order in which those objects appear in the definition of the variable or relation. Variables can be dimensioned by simple dimensions, concat dimensions, composites, partition templates, and alias dimensions. The object by which you choose to dimension a variable determines how the data of the variable is stored. </p>
                        <div class="infoboxnotealso" id="GUID-F44FE0AB-A638-41AD-A758-73EBCA2228DB__GUID-FCEC5ED5-3874-4C13-8185-65416AE66FEB">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="olap-dml-basic-concepts.html#GUID-A6C8F1DD-9AAE-4031-BB1F-1B8269DEA718">Objects that Support the Use of Hierarchies</a>"</span></p>
                        </div>
                        <div class="section" id="GUID-F44FE0AB-A638-41AD-A758-73EBCA2228DB__BABBAGFI">
                           <p class="subhead3" id="GUID-F44FE0AB-A638-41AD-A758-73EBCA2228DB__GUID-EAC6F8B5-35C4-4221-998D-F02386F9D81D">Simple Dimensions </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>The members of a simple dimension are data values that all have the same data type. When a variable is dimensioned by a simple dimension, there is one cell in the variable for every member of the dimension. When there is a dimension member for which the variable has no data, Oracle OLAP stores an NA value in the variable for that empty value. If storing such NA values would result in a full page of NA values, then Oracle OLAP does not actually store the NA values.</p>
                           <div class="infoboxnote" id="GUID-F44FE0AB-A638-41AD-A758-73EBCA2228DB__GUID-68BFE69C-785F-4643-A16D-0E0BD37021DD">
                              <p class="notep1">See:</p>
                              <p><a href="olap-dml-commands-a-g.html#GUID-AA553A2F-30BD-4F6D-8897-F8685877ADA3">DEFINE DIMENSION (simple)</a></p>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="section" id="GUID-F44FE0AB-A638-41AD-A758-73EBCA2228DB__BABGDCBJ">
                           <p class="subhead3" id="GUID-F44FE0AB-A638-41AD-A758-73EBCA2228DB__GUID-6EA8496B-96FD-421B-8C23-B72464C835F8">Concat Dimensions</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>You define concat dimensions over previously-defined simple dimensions or conjoint dimensions. Consequently, the base dimensions of a concat dimension can be of different data types. You can represent a hierarchy with a concat dimension that has two or more simple flat dimensions among its base dimensions. You can use concat dimensions to easily map dimensions in an analytic workspace to columns in relational tables and thereby promote more efficient loading of data from the relational structures into the analytic workspace structures.</p>
                           <div class="infoboxnote" id="GUID-F44FE0AB-A638-41AD-A758-73EBCA2228DB__GUID-D2DE500D-632A-4C49-AFE2-53F0ED7ACAEC">
                              <p class="notep1">See:</p>
                              <p><a href="olap-dml-commands-a-g.html#GUID-98B47AAF-D6FF-4DB6-BF6A-C491BB37CC81">DEFINE DIMENSION CONCAT</a></p>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="section" id="GUID-F44FE0AB-A638-41AD-A758-73EBCA2228DB__BABIHGIG">
                           <p class="subhead3" id="GUID-F44FE0AB-A638-41AD-A758-73EBCA2228DB__GUID-EEB37989-8B8F-4DB8-8A98-16523029D5D8">Composites</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p><a id="d9708e1086" class="indexterm-anchor"></a>You define composites over previously-defined dimensions. Conceptually, you can think of a composite consisting of two structures:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The composite object itself. The composite contains the dimension-value combinations (that is, the composite tuples) that Oracle OLAP uses to determine the structure of any variables that are dimensioned by the composite.</p>
                              </li>
                              <li>
                                 <p>An index between the composite values and its base dimension values.</p>
                              </li>
                           </ul>
                           <p>For a variable that is dimensioned by a composite, Oracle OLAP does not create a cell for every value in the base dimensions as it would if the variable was dimensioned by a simple dimension. Instead, it creates array elements (that is, variable cells) only for those dimension values that are stored in the tuples of the composite. Data for the variable is stored in order, cell by cell, for each tuple in the composite. From the perspective of data storage, each combination of base dimension values in a composite is treated like the value of a regular dimension. Consequently, when you define a variable with one regular dimension and one composite, the data for the variable is stored as though it was a two-dimensional variable. Using composites to reduce the number of elements created for a variable results in more efficient data storage.</p>
                           <div class="infoboxnote" id="GUID-F44FE0AB-A638-41AD-A758-73EBCA2228DB__GUID-24B1CAA0-3774-48FD-9C8A-8D7EE444DDC3">
                              <p class="notep1">See:</p>
                              <p><a href="olap-dml-commands-a-g.html#GUID-780312CE-CA79-4208-959A-C875ECB61B48">DEFINE COMPOSITE</a></p>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="section" id="GUID-F44FE0AB-A638-41AD-A758-73EBCA2228DB__BABEJCCH">
                           <p class="subhead3" id="GUID-F44FE0AB-A638-41AD-A758-73EBCA2228DB__GUID-EA40DE49-928B-4028-895E-0BFE28E59E2F">Partition Templates</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>You define a partition template over previously-defined dimensions or composites. A partition template is a specification for the partitions of a partitioned variable. A partitioned variable is stored as multiple rows in the relational table of LOBs that is the analytic workspace—each partition is a row in the table.</p>
                           <div class="infoboxnote" id="GUID-F44FE0AB-A638-41AD-A758-73EBCA2228DB__GUID-99D68CC8-3D52-40D7-A39C-D8FBF88FE3B0">
                              <p class="notep1">See:</p>
                              <p><a href="olap-dml-commands-a-g.html#GUID-939941D6-A002-42C5-9000-33D36DF8EA8A">DEFINE PARTITION TEMPLATE</a></p>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="section" id="GUID-F44FE0AB-A638-41AD-A758-73EBCA2228DB__BABJDDCE">
                           <p class="subhead3" id="GUID-F44FE0AB-A638-41AD-A758-73EBCA2228DB__GUID-6CB5081A-B2BB-4273-85A0-34374233E8A4">Alias Dimensions</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>An alias dimension is an alias for a simple dimension. An alias dimension has the same type and values as its base dimension. Typically, you define an alias dimension when you want to dimension a variable by the same dimension twice.</p>
                           <div class="infoboxnote" id="GUID-F44FE0AB-A638-41AD-A758-73EBCA2228DB__GUID-389598DB-A98D-43E9-8FD1-D6526B8B97EB">
                              <p class="notep1">See:</p>
                              <p><a href="olap-dml-commands-a-g.html#GUID-EE7469D4-65B6-4F97-A897-EAE60E168914">DEFINE DIMENSION ALIASOF</a></p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="OLADM116"></a><div class="props_rev_3"><a id="GUID-5378B123-4415-4FC8-9F91-72D4310A1594" name="GUID-5378B123-4415-4FC8-9F91-72D4310A1594"></a><h5 id="OLADM-GUID-5378B123-4415-4FC8-9F91-72D4310A1594" class="sect5"><span class="enumeration_section">1.5.1.3 </span>Relations
                     </h5>
                     <div>
                        <p>A relation is an object that establishes a correspondence between the values of a given dimension and the values of that same dimension or other dimensions in the analytic workspace. Relations are dimensioned arrays. Each cell in a relation holds the index of the value of a dimension. You can define relations between two or more dimensions, multiple relations between a set of dimensions, or a dimension with itself (a self-relation). </p>
                        <p>Most frequently, a relation is a self-relation for a hierarchical dimension. By creating a relation between values in a dimension that participate in a one-to-many (parent-to-child) relationship, you can organize your data by the child values and view aggregates of data by the parent values. For example, you can create a <code class="codeph">geog.parent</code> relation for a <code class="codeph">geography</code> dimension to define the relationships between the city and state values in <code class="codeph">geography</code>. In this way you can organize the data by city and view the aggregates of data by state.
                        </p>
                        <div class="infoboxnotealso" id="GUID-5378B123-4415-4FC8-9F91-72D4310A1594__GUID-70220935-1208-4CED-A0E7-65EED128FFC2">
                           <p class="notep1">See Also:</p>
                           <p><a href="olap-dml-commands-a-g.html#GUID-BC21E6B7-5DF5-4969-ABE5-E2A7CC6A74B1">DEFINE RELATION</a></p>
                        </div>
                     </div>
                  </div><a id="OLADM1057"></a><a id="OLADM1058"></a><a id="OLADM117"></a><div class="props_rev_3"><a id="GUID-1EB0143C-5881-4BE4-9CA2-6C0EFE01E034" name="GUID-1EB0143C-5881-4BE4-9CA2-6C0EFE01E034"></a><h5 id="OLADM-GUID-1EB0143C-5881-4BE4-9CA2-6C0EFE01E034" class="sect5"><span class="enumeration_section">1.5.1.4 </span>Valueset and Surrogate Objects
                     </h5>
                     <div>
                        <p>The OLAP DML provides the following special data objects that you use not when you are defining your variables, but instead, when you are querying them,</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-1EB0143C-5881-4BE4-9CA2-6C0EFE01E034__GUID-9B540834-AE66-4A0E-99D5-6A1686DC6FAF">Valueset Objects</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>A valueset is a list of dimension values for one or more previously-defined dimensions. You use a valueset to save dimension status lists across sessions.</p>
                           <div class="infoboxnote" id="GUID-1EB0143C-5881-4BE4-9CA2-6C0EFE01E034__GUID-67578ED2-8ED3-4E65-8A28-1511F6AEE5E1">
                              <p class="notep1">See:</p>
                              <p><a href="olap-dml-commands-a-g.html#GUID-D5BFE678-2044-490D-B46E-19B89AA0BBBD">DEFINE VALUESET</a></p>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-1EB0143C-5881-4BE4-9CA2-6C0EFE01E034__GUID-014E5970-1F04-4B8A-83F6-DAF75E7175E7">Surrogates</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>A dimension surrogate is an alternative set of values for a previously-defined dimension. You cannot dimension a variable by a surrogate, but you can use a surrogate rather than a dimension in a model, in a LIMIT command, in a qualified data reference, or in data loading with statements such as FILEREAD, FILEVIEW, SQL FETCH, and SQL IMPORT.</p>
                           <div class="infoboxnote" id="GUID-1EB0143C-5881-4BE4-9CA2-6C0EFE01E034__GUID-6BA9020B-A00C-45CF-B260-49259D4C5E33">
                              <p class="notep1">See:</p>
                              <p><a href="olap-dml-commands-a-g.html#GUID-7A07E22E-2BBA-46F6-A031-BFBAB90AE86F">DEFINE SURROGATE</a></p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="OLADM1059"></a><a id="OLADM118"></a><div class="props_rev_3"><a id="GUID-A6C8F1DD-9AAE-4031-BB1F-1B8269DEA718" name="GUID-A6C8F1DD-9AAE-4031-BB1F-1B8269DEA718"></a><h4 id="OLADM-GUID-A6C8F1DD-9AAE-4031-BB1F-1B8269DEA718" class="sect4"><span class="enumeration_section">1.5.2 </span>Objects that Support the Use of Hierarchies
                  </h4>
                  <div>
                     <p>Typically, variables are dimensioned by hierarchical objects. For example, you might have a sales variable that is dimensioned by geog, time, and product. The geog dimension might have two hierarchies (one for political divisions and another for sales regions) and each of these hierarchies could have several levels with the top level of the political geography hierarchy being All Country and the top level of the sales geography hierarchy being All Regions. <a href="olap-dml-basic-concepts.html#GUID-A6C8F1DD-9AAE-4031-BB1F-1B8269DEA718__BABHCJJD">Example 1-1</a> illustrates defining and populating this type of hierarchical geography dimension.
                     </p>
                     <p>Typically, after you define a hierarchical dimension, you define the following objects for that dimension: </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>hierlist dimension that lists the names of the hierarchies for the dimension. See <span class="q">"<a href="olap-dml-basic-concepts.html#GUID-C549C23C-B212-46F3-9554-7EF66DED9843">Hierlist Dimension</a>"</span> for more information and an example.
                           </p>
                        </li>
                        <li>
                           <p>parentrel relation that defines the hierarchies. A dimension is only a hierarchical dimension when it has a parentrel defined for it. See <span class="q">"<a href="olap-dml-basic-concepts.html#GUID-DDB9F83C-9589-4E2C-A1F2-9B64742C7B73">Parentrel Relation</a>"</span> for more information and an example.
                           </p>
                        </li>
                        <li>
                           <p>levellist relation that lists the names of all of the levels of all of the hierarchies. See <span class="q">"<a href="olap-dml-basic-concepts.html#GUID-247C1B87-E4E3-4313-8E2E-D18DA9F2F290">Levellist Dimension</a>"</span> for more information and an example.
                           </p>
                        </li>
                        <li>
                           <p>hierlevels valueset that is the values of the levels of each hierarchy. See <span class="q">"<a href="olap-dml-basic-concepts.html#GUID-960FA7B3-D459-47FA-9B04-8A8D259BDEC7">Hierlevels Valueset</a>"</span> for more information and an example.
                           </p>
                        </li>
                        <li>
                           <p>inhier valueset or variable that identifies the values of each hierarchy. See <span class="q">"<a href="olap-dml-basic-concepts.html#GUID-3AEE9CB7-E70C-4D78-B02B-ECE81F012EE9">Inhier Valueset or Variable</a>"</span> for more information and examples.
                           </p>
                        </li>
                        <li>
                           <p>levelrel relation that relates each value of the hierarchical dimension to its level in the hierarchy. See <span class="q">"<a href="olap-dml-basic-concepts.html#GUID-9CC46DC7-F8B4-417C-8094-493613FA8735">Levelrel Relation</a>"</span> for more information and an example.
                           </p>
                        </li>
                        <li>
                           <p>familyrel relation that is each hierarchical dimension value and its related values. See <span class="q">"<a href="olap-dml-basic-concepts.html#GUID-AFD82568-4D30-43B1-A193-AD553DB11A1C">Familyrel Relation</a>"</span> for more information and an example.
                           </p>
                        </li>
                        <li>
                           <p>gidrel relation that is the grouping ids of each value within each hierarchy. See <span class="q">"<a href="olap-dml-basic-concepts.html#GUID-195094D6-3CD6-4E52-8161-06E5C3DE3E29">Gidrel Relation</a>"</span> for more information and an example.
                           </p>
                        </li>
                     </ul>
                     <div class="example" id="GUID-A6C8F1DD-9AAE-4031-BB1F-1B8269DEA718__BABHCJJD">
                        <p class="titleinexample">Example 1-1 Defining and Populating a Hierarchical Dimension Named geog</p><pre class="oac_no_warn" dir="ltr">DEFINE geog DIMENSION TEXT
LD A dimension with two hierarchies for geography
"Populate the dimension with City, State, Region, and Country values 
MAINTAIN geog ADD 'Boston' 'Springfield' 'Hartford' 'Mansfield' 'Montreal' 'Walla Walla' 'Portland' 'Oakland' 'San Diego' 'MA' 'CT' 'WA' 'CA' 'Quebec' 'East' 'West' 'All Regions' 'USA' 'Canada' 'All Country'
 
"Display the values in geog
 
REPORT geog
 
GEOG
--------------
Boston
Springfield
Hartford
Mansfield
Montreal
Walla Walla
Portland
Oakland
San Diego
MA
CT
WA
CA
Quebec
East
West
All Regions
USA
Canada
All Country
 </pre></div>
                     <!-- class="example" -->
                  </div><a id="OLADM1060"></a><a id="OLADM119"></a><div class="props_rev_3"><a id="GUID-C549C23C-B212-46F3-9554-7EF66DED9843" name="GUID-C549C23C-B212-46F3-9554-7EF66DED9843"></a><h5 id="OLADM-GUID-C549C23C-B212-46F3-9554-7EF66DED9843" class="sect5"><span class="enumeration_section">1.5.2.1 </span>Hierlist Dimension
                     </h5>
                     <div>
                        <p>A hierlist dimension is a <code class="codeph">TEXT</code> dimension in the analytic workspace that has as values the names of the hierarchies of a hierarchical dimension. For example, if the company has a different calendar and fiscal year, the time dimension for that company would have two hierarchies: one for calendar and another for year. The hierlist dimension that supported that time hierarchy would have two values: Calendar and Fiscal.
                        </p>
                        <p>For consistency's sake, analytic workspaces include a hierlist dimension for every hierarchical dimension -- even when that hierarchical dimension has only one hierarchy.</p>
                        <div class="example" id="GUID-C549C23C-B212-46F3-9554-7EF66DED9843__BABDDIGC">
                           <p class="titleinexample">Example 1-2 Defining and Populating a hierlist Dimension Named geog_hierlist</p>
                           <p>This example illustrates defining and populating this type of dimension.</p><pre class="oac_no_warn" dir="ltr">
DEFINE geog_hierlist DIMENSION TEXT
LD List of Hierarchies for geog dimension
"Populate the geog_hierlist dimension
MAINTAIN geog_hierlist ADD 'Political_Geog' 'Sales_Geog'
"Display the values of the geog_hierlist dimension
REPORT geog_hierlist
 
GEOG_HIERLIST
--------------
Political_Geog
Sales_Geog</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="OLADM1061"></a><a id="OLADM120"></a><div class="props_rev_3"><a id="GUID-DDB9F83C-9589-4E2C-A1F2-9B64742C7B73" name="GUID-DDB9F83C-9589-4E2C-A1F2-9B64742C7B73"></a><h5 id="OLADM-GUID-DDB9F83C-9589-4E2C-A1F2-9B64742C7B73" class="sect5"><span class="enumeration_section">1.5.2.2 </span>Parentrel Relation
                     </h5>
                     <div>
                        <p>A parentrel relation is a relation between the hierarchical dimension and itself (a self-relation) and the hierlist dimension. It identifies the parent of each dimension member within a hierarchy. </p>
                        <div class="example" id="GUID-DDB9F83C-9589-4E2C-A1F2-9B64742C7B73__BABGJHHC">
                           <p class="titleinexample">Example 1-3 Defining and Populating a parentrel Relation named geog_parentrel</p>
                           <p>This example illustrates defining and populating this type of relation.</p><pre class="oac_no_warn" dir="ltr">"Define the relation 
DEFINE geog_parentrel RELATION geog &lt;geog geog_hierlist&gt;
LD Self-relation for geog showing parents of each value
"Populate each cell in the relation "with the parent of the geog value
"This example using assignment statement with QDRs to do that 
geog_parentrel (geog_hierlist 'Sales_Geog' geog 'Boston') = 'MA'
geog_parentrel (geog_hierlist 'Sales_Geog' geog 'Hartford') = 'CT'
geog_parentrel (geog_hierlist 'Sales_Geog' geog 'Springfield') = 'MA'
geog_parentrel (geog_hierlist 'Sales_Geog' geog 'Mansfield') = 'CT'
geog_parentrel (geog_hierlist 'Sales_Geog' geog  'Montreal') = 'Quebec'
geog_parentrel (geog_hierlist 'Sales_Geog' geog 'Walla Walla') = 'WA'
geog_parentrel (geog_hierlist 'Sales_Geog' geog 'Portland') = 'WA'
geog_parentrel (geog_hierlist 'Sales_Geog' geog 'Oakland') = 'CA'
geog_parentrel (geog_hierlist 'Sales_Geog' geog 'San Diego') = 'CA'
geog_parentrel (geog_hierlist 'Sales_Geog' geog 'CT') = 'East'
geog_parentrel (geog_hierlist 'Sales_Geog' geog 'MA') = 'East'
geog_parentrel (geog_hierlist 'Sales_Geog' geog 'WA') = 'West'
geog_parentrel (geog_hierlist 'Sales_Geog' geog 'CA') = 'West'
geog_parentrel (geog_hierlist 'Sales_Geog' geog 'Quebec') = 'East'
geog_parentrel (geog_hierlist 'Sales_Geog' geog 'East') = 'All Regions'
geog_parentrel (geog_hierlist 'Sales_Geog' geog 'West') = 'All Regions'
geog_parentrel (geog_hierlist 'Political_Geog' geog 'Boston') = 'MA'
geog_parentrel (geog_hierlist 'Political_Geog' geog 'Hartford') = 'CT'
geog_parentrel (geog_hierlist 'Political_Geog' geog 'Springfield') = 'MA'
geog_parentrel (geog_hierlist 'Political_Geog' geog 'Mansfield') = 'CT'
geog_parentrel (geog_hierlist 'Political_Geog' geog  'Montreal') = 'Quebec'
geog_parentrel (geog_hierlist 'Political_Geog' geog 'Walla Walla') = 'WA'
geog_parentrel (geog_hierlist 'Political_Geog' geog 'Portland') = 'WA'
geog_parentrel (geog_hierlist 'Political_Geog' geog 'Oakland') = 'CA'
geog_parentrel (geog_hierlist 'Political_Geog' geog 'San Diego') = 'CA'
geog_parentrel (geog_hierlist 'Political_Geog' geog 'CT') = 'USA'
geog_parentrel (geog_hierlist 'Political_Geog' geog 'MA') = 'USA'
geog_parentrel (geog_hierlist 'Political_Geog' geog 'WA') = 'USA'
geog_parentrel (geog_hierlist 'Political_Geog'  geog 'CA') = 'USA'
geog_parentrel (geog_hierlist 'Political_Geog'  geog 'Quebec') = 'Canada'
geog_parentrel (geog_hierlist 'Political_Geog'  geog 'USA') = 'All Country'
geog_parentrel (geog_hierlist 'Political_Geog' geog 'Canada') = 'All Country'

"Display the values of geog_parentrel
REPORT DOWN geog W 20 geog_parentrel
               -------------GEOG_PARENTREL--------------
               --------------GEOG_HIERLIST--------------
GEOG              Political_Geog         Sales_Geog
-------------- -------------------- --------------------
Boston         MA                   MA
Springfield    MA                   MA
Hartford       CT                   CT
Mansfield      CT                   CT
Montreal       Quebec               Quebec
Walla Walla    WA                   WA
Portland       WA                   WA
Oakland        CA                   CA
San Diego      CA                   CA
MA             USA                  East
CT             USA                  East
WA             USA                  West
CA             USA                  West
Quebec         Canada               East
East           NA                   All Regions
West           NA                   All Regions
All Regions    NA                   NA
USA            All Country          NA
Canada         All Country          NA
All Country    NA                   NA
 </pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="OLADM1062"></a><a id="OLADM121"></a><div class="props_rev_3"><a id="GUID-247C1B87-E4E3-4313-8E2E-D18DA9F2F290" name="GUID-247C1B87-E4E3-4313-8E2E-D18DA9F2F290"></a><h5 id="OLADM-GUID-247C1B87-E4E3-4313-8E2E-D18DA9F2F290" class="sect5"><span class="enumeration_section">1.5.2.3 </span>Levellist Dimension
                     </h5>
                     <div>
                        <p>A levellist dimension is a TEXT dimension that has as values the names all of the levels of the hierarchies of a hierarchical dimension.</p>
                        <div class="example" id="GUID-247C1B87-E4E3-4313-8E2E-D18DA9F2F290__BABBIIEA">
                           <p class="titleinexample">Example 1-4 Defining and Populating a levellist Dimension Named geog_levellist</p>
                           <p>This example illustrates defining and populating this type of dimension.</p><pre class="oac_no_warn" dir="ltr">DEFINE geog_levellist DIMENSION TEXT
LD List of levels used by hierarchies of the geog dimension
"Populate the geog_levellist dimension with the names of the levels of both the 
"Political_Geog and Sales_Geog hierarchies
MAINTAIN geog_levellist ADD 'All Country' 'Country' 'All Regions' 'Region' MAINTAIN geog_levellist ADD 'State-Prov' 'City'
"Display the values of the geog_levellist dimension
 
REPORT geog_levellist
 
GEOG_LEVELLIST
--------------
All Country
Country
All Regions
Region
State-Prov
City</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="OLADM1063"></a><a id="OLADM122"></a><div class="props_rev_3"><a id="GUID-960FA7B3-D459-47FA-9B04-8A8D259BDEC7" name="GUID-960FA7B3-D459-47FA-9B04-8A8D259BDEC7"></a><h5 id="OLADM-GUID-960FA7B3-D459-47FA-9B04-8A8D259BDEC7" class="sect5"><span class="enumeration_section">1.5.2.4 </span>Hierlevels Valueset
                     </h5>
                     <div>
                        <p>A hierlevels valueset is those values of the hierlevels dimension (typically ordered from bottom to top) that are included in each hierarchy of the hierarchical dimension. </p>
                        <div class="example" id="GUID-960FA7B3-D459-47FA-9B04-8A8D259BDEC7__BABCCIGF">
                           <p class="titleinexample">Example 1-5 Defining and Populating a hierlevels Valueset named geog_hierlevels</p>
                           <p>This example illustrates defining and populating this type of valueset.</p><pre class="oac_no_warn" dir="ltr">DEFINE geog_hierlevels VALUESET geog_levellist &lt;geog_hierlist&gt;
"Using LIMIT populate the valueset with the appropriate values for each hierarchy
LIMIT geog_hierlevels TO ALL</pre><pre class="oac_no_warn" dir="ltr">LIMIT geog_hierlevels (geog_hierlist 'Political_Geog') TO 'City' 'State-Prov' 'Country' 'All Country'</pre><pre class="oac_no_warn" dir="ltr">LIMIT geog_hierlevels (geog_hierlist 'Sales_Geog') TO 'City' 'State-Prov' 'Region' 'All Regions'

"Display the values in the valueset 
REPORT W 22 geog_hierlevels
 
GEOG_HIERLIST     GEOG_HIERLEVELS
-------------- ----------------------
Political_Geog City
               State-Prov
               Country
               All Country
Sales_Geog     City
               State-Prov
               Region
               All Regions
 </pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="OLADM1064"></a><a id="OLADM1065"></a><a id="OLADM123"></a><div class="props_rev_3"><a id="GUID-3AEE9CB7-E70C-4D78-B02B-ECE81F012EE9" name="GUID-3AEE9CB7-E70C-4D78-B02B-ECE81F012EE9"></a><h5 id="OLADM-GUID-3AEE9CB7-E70C-4D78-B02B-ECE81F012EE9" class="sect5"><span class="enumeration_section">1.5.2.5 </span>Inhier Valueset or Variable
                     </h5>
                     <div>
                        <p>An inhier valueset is those values of the inhier dimension that are in each hierarchy. </p>
                        <p>An inhier variable is a BOOLEAN variable that is dimensioned by the hierarchical dimension and the hierlist dimension. For each hierarchy, it has a TRUE value for each dimension value that is in that hierarchy. </p>
                        <div class="example" id="GUID-3AEE9CB7-E70C-4D78-B02B-ECE81F012EE9__BABIEFEG">
                           <p class="titleinexample">Example 1-6 Defining and Populating an inhier Valueset Named geog_inhier</p>
                           <p>This example illustrates defining and populating inhier valueset.</p><pre class="oac_no_warn" dir="ltr">"Define the valueset
DEFINE geog_inhier VALUESET geog &lt;geog_hierlist&gt;
"Using LIMIT commands, populate the valueset
LIMIT geog_inhier (geog_hierlist 'Political_Geog') REMOVE 'East' 'West' 'All Regions'
LIMIT geog_inhier (geog_hierlist 'Sales_Geog') REMOVE 'Canada' 'USA' 'All Country'
"Display the values in the valueset
 
REPORT W 20 geog_inhier
 
GEOG_HIERLIST      GEOG_INHIER
-------------- --------------------
Political_Geog Boston
               Springfield
               Hartford
               Mansfield
               Montreal
               Walla Walla
               Portland
               Oakland
               San Diego
               MA
               CT
               WA
               CA
               Quebec
               USA
               Canada
               All Country
Sales_Geog     Boston
               Springfield
               Hartford
               Mansfield
               Montreal
               Walla Walla
               Portland
               Oakland
               San Diego
               MA
               CT
               WA
               CA
               Quebec
               East
               West
               All Regions
 </pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-3AEE9CB7-E70C-4D78-B02B-ECE81F012EE9__BABGBCDG">
                           <p class="titleinexample">Example 1-7 Defining and Populating an inhier Variable Named geog_inhiervar</p>
                           <p>This example illustrates defining and populating an inhier variable valueset.</p><pre class="oac_no_warn" dir="ltr">DEFINE geog_inhiervar VARIABLE BOOLEAN &lt;geog geog_hierlist&gt;

"Using LIMIT commands and assignment statements, populate
" the variable 
LIMIT geog_hierlist TO ALL
LIMIT geog_hierlist TO 'Political_Geog'
LIMIT geog TO 'East' 'West' 'All Regions'
geog_inhiervar = FALSE
LIMIT geog COMPLEMENT
geog_inhiervar = TRUE
LIMIT geog_hierlist TO ALL
LIMIT geog_hierlist TO 'Sales_Geog'
LIMIT geog TO ALL
LIMIT geog TO 'Canada' 'USA' 'All Country'
geog_inhiervar = FALSE
LIMIT geog COMPLEMENT
geog_inhiervar = TRUE
LIMIT geog TO ALL
LIMIT geog_hierlist TO ALL
 
"Display the values of the variable 
REPORT DOWN geog geog_inhiervar
 
               ---GEOG_INHIERVAR----
               ----GEOG_HIERLIST----
               Political_
GEOG              Geog    Sales_Geog
-------------- ---------- ----------
Boston                yes        yes
Springfield           yes        yes
Hartford              yes        yes
Mansfield             yes        yes
Montreal              yes        yes
Walla Walla           yes        yes
Portland              yes        yes
Oakland               yes        yes
San Diego             yes        yes
MA                    yes        yes
CT                    yes        yes
WA                    yes        yes
CA                    yes        yes
Quebec                yes        yes
East                   no        yes
West                   no        yes
All Regions            no        yes
USA                   yes         no
Canada                yes         no
All Country           yes         no</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="OLADM1066"></a><a id="OLADM124"></a><div class="props_rev_3"><a id="GUID-9CC46DC7-F8B4-417C-8094-493613FA8735" name="GUID-9CC46DC7-F8B4-417C-8094-493613FA8735"></a><h5 id="OLADM-GUID-9CC46DC7-F8B4-417C-8094-493613FA8735" class="sect5"><span class="enumeration_section">1.5.2.6 </span>Levelrel Relation
                     </h5>
                     <div>
                        <p>A levelrel relation is a relation between the levellist and hierlist dimensions that records the level for each member of the hierarchical dimension </p>
                        <div class="example" id="GUID-9CC46DC7-F8B4-417C-8094-493613FA8735__BABCJBFI">
                           <p class="titleinexample">Example 1-8 Defining and Populating a levelrel Relation named geog_levelrel</p>
                           <p>This example illustrates defining and populating this type of relation. </p><pre class="oac_no_warn" dir="ltr">"Define the relation 
DEFINE geog_levelrel RELATION geog_levellist &lt;geog geog_hierlist&gt;
LD Level of each dimension member for geog

"Populate the relation
"This example uses assignment statements with QDRs to populate
geog_levelrel (geog_hierlist 'Sales_Geog' geog 'Boston') = 'City'
geog_levelrel (geog_hierlist 'Sales_Geog' geog 'Hartford') = 'City'
geog_levelrel (geog_hierlist 'Sales_Geog' geog 'Springfield') = 'City'
geog_levelrel (geog_hierlist 'Sales_Geog' geog 'Mansfield') = 'City'
geog_levelrel (geog_hierlist 'Sales_Geog' geog  'Montreal') = 'City'
geog_levelrel (geog_hierlist 'Sales_Geog' geog 'Walla Walla') = 'City'
geog_levelrel (geog_hierlist 'Sales_Geog' geog 'Portland') = 'City'
geog_levelrel (geog_hierlist 'Sales_Geog' geog 'Oakland') = 'City'
geog_levelrel (geog_hierlist 'Sales_Geog' geog 'San Diego') = 'City'
geog_levelrel (geog_hierlist 'Sales_Geog' geog 'CT') = 'State-Prov'
geog_levelrel (geog_hierlist 'Sales_Geog' geog 'MA') = 'State-Prov'
geog_levelrel (geog_hierlist 'Sales_Geog' geog 'WA') = 'State-Prov'
geog_levelrel (geog_hierlist 'Sales_Geog' geog 'CA') = 'State-Prov'
geog_levelrel (geog_hierlist 'Sales_Geog' geog 'Quebec') = 'State-Prov'
geog_levelrel (geog_hierlist 'Sales_Geog' geog 'East') = 'Region'
geog_levelrel (geog_hierlist 'Sales_Geog' geog 'West') = 'Region'
geog_levelrel (geog_hierlist 'Sales_Geog' geog 'All Regions') = 'All Regions'
geog_levelrel (geog_hierlist 'Political_Geog' geog 'Boston') = 'City'
geog_levelrel (geog_hierlist 'Political_Geog' geog 'Hartford') = 'City'
geog_levelrel (geog_hierlist 'Political_Geog' geog 'Springfield') = 'City'
geog_levelrel (geog_hierlist 'Political_Geog' geog 'Mansfield') = 'City'
geog_levelrel (geog_hierlist 'Political_Geog' geog  'Montreal') = 'City'
geog_levelrel (geog_hierlist 'Political_Geog' geog 'Walla Walla') = 'City'
geog_levelrel (geog_hierlist 'Political_Geog' geog 'Portland') = 'City'
geog_levelrel (geog_hierlist 'Political_Geog' geog 'Oakland') = 'City'
geog_levelrel (geog_hierlist 'Political_Geog' geog 'San Diego') = 'City'
geog_levelrel (geog_hierlist 'Political_Geog' geog 'CT') = 'State-Prov'
geog_levelrel (geog_hierlist 'Political_Geog' geog 'MA') = 'State-Prov'
geog_levelrel (geog_hierlist 'Political_Geog' geog 'WA') = 'State-Prov'
geog_levelrel (geog_hierlist 'Political_Geog'   geog 'CA') = 'State-Prov'
geog_levelrel (geog_hierlist 'Political_Geog'  geog 'Quebec') = 'State-Prov'
geog_levelrel (geog_hierlist 'Political_Geog'  geog 'USA') = 'Country'
geog_levelrel (geog_hierlist 'Political_Geog' geog 'Canada') = 'Country'
geog_levelrel (geog_hierlist 'Political_Geog' geog 'All Country') = 'All Country'

"Display the values
REPORT DOWN geog W 20 geog_levelrel
 
               --------------GEOG_LEVELREL--------------
               --------------GEOG_HIERLIST--------------
GEOG              Political_Geog         Sales_Geog
-------------- -------------------- --------------------
Boston         City                 City
Springfield    City                 City
Hartford       City                 City
Mansfield      City                 City
Montreal       City                 City
Walla Walla    City                 City
Portland       City                 City
Oakland        City                 City
San Diego      City                 City
MA             State-Prov           State-Prov
CT             State-Prov           State-Prov
WA             State-Prov           State-Prov
CA             State-Prov           State-Prov
Quebec         State-Prov           State-Prov
East           NA                   Region
West           NA                   Region
All Regions    NA                   All Regions
USA            Country              NA
Canada         Country              NA
All Country    All Country          NA</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="OLADM1067"></a><a id="OLADM125"></a><div class="props_rev_3"><a id="GUID-AFD82568-4D30-43B1-A193-AD553DB11A1C" name="GUID-AFD82568-4D30-43B1-A193-AD553DB11A1C"></a><h5 id="OLADM-GUID-AFD82568-4D30-43B1-A193-AD553DB11A1C" class="sect5"><span class="enumeration_section">1.5.2.7 </span>Familyrel Relation
                     </h5>
                     <div>
                        <p>The familyrel relation is a relation between the hierarchical dimension and the levellist and hierlist dimensions that provides the full parentage of each dimension member in the hierarchy.</p>
                        <div class="example" id="GUID-AFD82568-4D30-43B1-A193-AD553DB11A1C__BABJGJID">
                           <p class="titleinexample">Example 1-9 Defining and Populating a familyrel Relation named geog_familyrel</p>
                           <p>This example illustrates defining and populating this type of relation.</p><pre class="oac_no_warn" dir="ltr">"Define the relation 
DEFINE geog_familyrel RELATION geog &lt;geog geog_levellist geog_hierlist&gt;
LD FEATURES Family/Ancestry structure for the geog dimension
 
"Populate the relation using the HIERHEIGHT command 
HIERHEIGHT geog_parentrel INTO geog_familyrel USING geog_levelrel
 
"Display the values of the familyrel relation
"First the values for the Political_Geog hierarchy are displayed
"Then the values for the Sales_Geog hierarchy
REPORT DOWN geog W 12 geog_familyrel
 
GEOG_HIERLIST: Political_Geog
               -------------------------------GEOG_FAMILYREL--------------------------------
               -------------------------------GEOG_LEVELLIST--------------------------------
GEOG            All Country  Country    All Regions     Region     State-Prov      City
-------------- ------------ ------------ ------------ ------------ ------------ ------------
Boston         All Country  USA          NA           NA           MA           Boston
Springfield    All Country  USA          NA           NA           MA           Springfield
Hartford       All Country  USA          NA           NA           CT           Hartford
Mansfield      All Country  USA          NA           NA           CT           Mansfield
Montreal       All Country  Canada       NA           NA           Quebec       Montreal
Walla Walla    All Country  USA          NA           NA           WA           Walla Walla
Portland       All Country  USA          NA           NA           WA           Portland
Oakland        All Country  USA          NA           NA           CA           Oakland
San Diego      All Country  USA          NA           NA           CA           San Diego
MA             All Country  USA          NA           NA           MA           NA
CT             All Country  USA          NA           NA           CT           NA
WA             All Country  USA          NA           NA           WA           NA
CA             All Country  USA          NA           NA           CA           NA
Quebec         All          Canada       NA           NA           Quebec       NA
               Countries
East           NA           NA           NA           NA           NA           NA
West           NA           NA           NA           NA           NA           NA
All Regions    NA           NA           NA           NA           NA           NA
USA            All Country  USA          NA           NA           NA           NA
Canada         All Country  Canada       NA           NA           NA           NA
All Country    All Country  NA           NA           NA           NA           NA
 
GEOG_HIERLIST: Sales_Geog
               -------------------------------GEOG_FAMILYREL--------------------------------
               -------------------------------GEOG_LEVELLIST--------------------------------
GEOG            All Country Country    All Regions     Region     State-Prov      City
-------------- ------------ ------------ ------------ ------------ ------------ ------------
Boston         NA           NA           All Regions  East         MA           Boston
Springfield    NA           NA           All Regions  East         MA           Springfield
Hartford       NA           NA           All Regions  East         CT           Hartford
Mansfield      NA           NA           All Regions  East         CT           Mansfield
Montreal       NA           NA           All Regions  East         Quebec       Montreal
Walla Walla    NA           NA           All Regions  West         WA           Walla Walla
Portland       NA           NA           All Regions  West         WA           Portland
Oakland        NA           NA           All Regions  West         CA           Oakland
San Diego      NA           NA           All Regions  West         CA           San Diego
MA             NA           NA           All Regions  East         MA           NA
CT             NA           NA           All Regions  East         CT           NA
WA             NA           NA           All Regions  West         WA           NA
CA             NA           NA           All Regions  West         CA           NA
Quebec         NA           NA           All Regions  East         Quebec       NA
East           NA           NA           All Regions  East         NA           NA
West           NA           NA           All Regions  West         NA           NA
All Regions    NA           NA           All Regions  NA           NA           NA
USA            NA           NA           NA           NA           NA           NA
Canada         NA           NA           NA           NA           NA           NA
All Country    NA           NA           NA           NA           NA           NA
 </pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="OLADM1068"></a><a id="OLADM126"></a><div class="props_rev_3"><a id="GUID-195094D6-3CD6-4E52-8161-06E5C3DE3E29" name="GUID-195094D6-3CD6-4E52-8161-06E5C3DE3E29"></a><h5 id="OLADM-GUID-195094D6-3CD6-4E52-8161-06E5C3DE3E29" class="sect5"><span class="enumeration_section">1.5.2.8 </span>Gidrel Relation
                     </h5>
                     <div>
                        <p>A gidrel relation is a relation between a NUMBER dimension, the hierarchical dimension, and the hierlist dimension that contains the grouping ID of each dimension member in each hierarchy of the hierarchical dimension. It also has a $GID_DEPTH property that identifies the depth within a hierarchy of each dimension member. </p>
                        <div class="example" id="GUID-195094D6-3CD6-4E52-8161-06E5C3DE3E29__BABGADAH">
                           <p class="titleinexample">Example 1-10 Defining and Populating a gidrel Relation named geog_gidrel</p>
                           <p>This example illustrates defining and populating this type of relation.</p><pre class="oac_no_warn" dir="ltr">"Create a dimension that has values that are numbers
DEFINE gid_dimension DIMENSION NUMBER (38,0)"Add values to that dimension 
"This example uses MAINTAIN ADD to add a few numbers
MAINTAIN gid_dimension ADD 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 
 
"Define the gidrel relation
DEFINE geog_gidrel RELATION gid_dimension &lt;geog geog_hierlist&gt;
"Display the complete definition of the geog_gidrel relation
"Note that it has no properties
DEFINE GEOG_GIDREL RELATION GID_DIMENSION &lt;GEOG GEOG_HIERLIST&gt;
"Populate the gidrel relation using the GROUPINGID command 
GROUPINGID geog_parentrel INTO geog_gidrel USING geog_levelrel INHIERARCHY geog_inhier
"Display the values of the geog_gidrel relation
 
REPORT down geog w 20 geog_gidrel
 
               ---------------GEOG_GIDREL---------------
               --------------GEOG_HIERLIST--------------
GEOG              Political_Geog         Sales_Geog
-------------- -------------------- --------------------
Boston         0                    0
Springfield    0                    0
Hartford       0                    0
Mansfield      0                    0
Montreal       0                    0
Walla Walla    0                    0
Portland       0                    0
Oakland        0                    0
San Diego      0                    0
MA             1                    1
CT             1                    1
WA             1                    1
CA             1                    1
Quebec         1                    1
East           NA                   3
West           NA                   3
All Regions    NA                   7
USA            3                    NA
Canada         3                    NA
All Country    7                    NA
 
"Display the complete definition of the geog_gidrel relation
"Note that it now has a $GID_DEPTH property
DEFINE GEOG_GIDREL RELATION GID_DIMENSION &lt;GEOG GEOG_HIERLIST&gt;
PROPERTY '$GID_DEPTH' 4</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div>
               </div>
            </div><a id="OLADM127"></a><a id="olapdml_statements_apply_to_all_values"></a><div class="props_rev_3"><a id="GUID-D032BBB4-A0ED-41C1-80B7-D93CA5172FD6" name="GUID-D032BBB4-A0ED-41C1-80B7-D93CA5172FD6"></a><h3 id="OLADM-GUID-D032BBB4-A0ED-41C1-80B7-D93CA5172FD6" class="sect3"><span class="enumeration_section">1.6 </span>OLAP DML Statements Apply to All of the Values of a Data Object
               </h3>
               <div>
                  <p>The OLAP DML is a multidimensional language. Consequently, operations in the OLAP DML apply all at once to an entire set of values. Again, conceptually, you can think of these operations as applying to the values in all of the cells in a variable; or, physically, you can think of these operations as applying to all of the elements in the array that is the variable. Consequently, if you use the OLAP DML assignment statement (that is, <a href="olap-dml-commands-h-z.html#GUID-F6BA1626-650A-46D0-9C01-B2757981AA27">SET</a> or =), then you do not need to code explicit loops to assign values to all of the elements in a variable. Instead, when you issue a statement against an object that has one or more dimensions, the statement loops over the values in status for each dimension of the object and performs the requested operation. 
                  </p>
                  <p>Assume, for example, that there is a dimension named <code class="codeph">prodid</code> that has three values, <code class="codeph">Prod01</code>, <code class="codeph">Prod02</code>, and <code class="codeph">Prod03</code>, and you have a variable named <code class="codeph">quantity </code>that is dimensioned by prodid. As the following code snippet illustrates, if <code class="codeph">Prod01</code>, <code class="codeph">Prod02</code>, and <code class="codeph">Prod03</code> are all in status, when you assign the value <code class="codeph">3</code> to quantity, Oracle OLAP assigns the value <code class="codeph">3</code> to <span class="italic">all</span> of the elements in quantity. 
                  </p><pre class="oac_no_warn" dir="ltr">quantity = 3
REPORT quantity
 
PRODID          QUANTITY
-------------- ----------
PROD01             3.00
PROD02             3.00
PROD03             3.00
 </pre><p>Other OLAP DML statements (for example, REPORT, ROW, and FOR) also loop through all of the in status elements of a dimensioned object when they execute.</p>
               </div><a id="OLADM128"></a><div class="props_rev_3"><a id="GUID-F1D07FE2-8FE8-48F1-93D7-4F11B983538E" name="GUID-F1D07FE2-8FE8-48F1-93D7-4F11B983538E"></a><h4 id="OLADM-GUID-F1D07FE2-8FE8-48F1-93D7-4F11B983538E" class="sect4"><span class="enumeration_section">1.6.1 </span>Changing the Default Looping Behavior of Statements
                  </h4>
                  <div>
                     <p>By default, statements loop through the values of a dimensioned object using the order in which the dimensions of the object are listed in the definition of the object. Also, when a variable is dimensioned by a composite, most looping statements loop through the variable as though it was not dimensioned by a composite, but was, instead, dimensioned by the base dimensions of the composite.</p>
                     <p>The OLAP DML provides ways for you to change the default looping behavior or to explicitly request looping:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="bold">ACROSS phrase</span>—Some looping command (such as assignment statements that you use to assign values) have an ACROSS phrase that you can use to specify non-default looping behavior. For detailed documentation of the ACROSS phrase, see the <a href="olap-dml-commands-h-z.html#GUID-F6BA1626-650A-46D0-9C01-B2757981AA27">SET</a> (=) command.
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">ACROSS command</span>—When an OLAP DML statement is not a looping statement or does not include an ACROSS phrase, you can request looping behavior by coding the DML statement as an argument of the <a href="olap-dml-commands-a-g.html#GUID-7B2FF0DE-2E38-4EEC-97CA-DA2D750EE322">ACROSS</a> command. 
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="OLADM129"></a><a id="olapdml_status_etc"></a><div class="props_rev_3"><a id="GUID-8F7E0F9F-2533-4C6F-8868-F998E358A267" name="GUID-8F7E0F9F-2533-4C6F-8868-F998E358A267"></a><h3 id="OLADM-GUID-8F7E0F9F-2533-4C6F-8868-F998E358A267" class="sect3"><span class="enumeration_section">1.7 </span>How to Specify the Set of Data that OLAP DML Operations Work Against
               </h3>
               <div>
                  <p><a id="d9708e1799" class="indexterm-anchor"></a>For each defined dimension, Oracle OLAP uses lists called <span class="bold">status lists</span> to keep track of the dimension values that are accessible to the user.
                  </p>
               </div><a id="OLADM130"></a><div class="props_rev_3"><a id="GUID-CF2461B3-CCB0-400F-A6EA-6E26C0548052" name="GUID-CF2461B3-CCB0-400F-A6EA-6E26C0548052"></a><h4 id="OLADM-GUID-CF2461B3-CCB0-400F-A6EA-6E26C0548052" class="sect4"><span class="enumeration_section">1.7.1 </span>About Status Lists
                  </h4>
                  <div>
                     <p>Oracle OLAP uses two kinds of status lists: default status lists and current status lists. The values in the current status lists of the dimensions in an analytic workspace determine the set of data that is available to the OLAP DML at any given moment in time. </p>
                  </div><a id="OLADM131"></a><div class="props_rev_3"><a id="GUID-D8F4A4D7-492F-4C2C-A57F-668C3826695A" name="GUID-D8F4A4D7-492F-4C2C-A57F-668C3826695A"></a><h5 id="OLADM-GUID-D8F4A4D7-492F-4C2C-A57F-668C3826695A" class="sect5"><span class="enumeration_section">1.7.1.1 </span>Default Status Lists
                     </h5>
                     <div>
                        <p><a id="d9708e1866" class="indexterm-anchor"></a>The <span class="bold">default status list </span>of a dimension is the list of all of the values of the dimension that have read permission, in the order in which the values are stored, when you first attach an analytic workspace. You can change the default status list of a dimension in the following ways:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>You can add, delete, move, merge, and rename values in a dimension by using the MAINTAIN command or adding dimension values in other ways (for example, using a SQL FETCH statement). </p>
                           </li>
                           <li>
                              <p>You can change the read permission of values that are associated with a dimension by using a PERMIT or PERMITRESET statement. </p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="OLADM132"></a><div class="props_rev_3"><a id="GUID-8611903D-26D2-43AC-ABAF-B114DA927EC1" name="GUID-8611903D-26D2-43AC-ABAF-B114DA927EC1"></a><h5 id="OLADM-GUID-8611903D-26D2-43AC-ABAF-B114DA927EC1" class="sect5"><span class="enumeration_section">1.7.1.2 </span>Current Status Lists
                     </h5>
                     <div>
                        <p><a id="d9708e1910" class="indexterm-anchor"></a>The <span class="bold">current status list</span> of a dimension is an ordered list of currently accessible values for the dimension. Values that are in the current status list of a dimension are said to be "in status." When you first attach an analytic workspace, the default and current status lists of each dimension are the same.
                        </p>
                        <p>The current status list of a dimension determines the accessibility of the data in the analytic workspace: </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>For dimensions, only those dimension values that are in the current status list are visible and accessible to OLAP DML expressions. </p>
                           </li>
                           <li>
                              <p>For dimensioned objects like variables, only those data values that are indexed by dimension values in the current status list are visible and accessible to OLAP DML expressions. As a loop is performed through a dimensioned object, the order of the dimension values in the current status list is used to determine the order in which the values of the object are accessed. </p>
                           </li>
                        </ul>
                        <p>Note that a dimension and any surrogate for that dimension share the same status. Setting the status of a dimension surrogate sets the status of its dimension and setting the status of a dimension sets the status of any dimension surrogates for it. Throughout this documentation, references to dimensions apply equally to dimension surrogates, except where noted. Additionally, composites are not dimensions, and therefore they do not have any independent status. The values of a composite that are in status are determined by the status of the base dimensions of the composite. </p>
                        <div class="infoboxnote" id="GUID-8611903D-26D2-43AC-ABAF-B114DA927EC1__GUID-02E3FA02-F8BA-4C3C-B5F7-95404E47F7BC">
                           <p class="notep1">Note:</p>
                           <p>Whether or not a dimension value is in status merely restricts the OLAP DML's view of the value during a given session; it does not permanently affect the values that are stored in the analytic workspace.</p>
                        </div>
                     </div>
                  </div>
               </div><a id="OLADM133"></a><div class="props_rev_3"><a id="GUID-7F0DD481-EEB1-4305-8460-D98A99BC2BCE" name="GUID-7F0DD481-EEB1-4305-8460-D98A99BC2BCE"></a><h4 id="OLADM-GUID-7F0DD481-EEB1-4305-8460-D98A99BC2BCE" class="sect4"><span class="enumeration_section">1.7.2 </span>Changing the Current Status of a Dimension to Work with a Subset of Data
                  </h4>
                  <div>
                     <p>Because the current status list of a dimension determines the accessibility of the data in the analytic workspace, the way to work with a subset of analytic workspace data is to change the current status lists of one or more dimensions.</p>
                     <p>You change the values and the order of the values in the current status list of a dimension using the <a href="olap-dml-commands-h-z.html#GUID-C84F165D-930A-461C-976B-F4C28F6DCA14">LIMIT command</a>. The LIMIT command is a very complex OLAP DML command that lets you specify what values you want in the current status list by specifying the values explicitly or implicitly using relations. At it simplest level, <a href="olap-dml-commands-h-z.html#GUID-B10D483F-B956-4ABC-A323-23FB02110E59__CCHFGAHI">Example 10-20</a> illustrates how you can use the LIMIT command to change the current status list of a dimension so you can work with a subset of data. 
                     </p>
                  </div>
               </div><a id="OLADM134"></a><div class="props_rev_3"><a id="GUID-AE796B68-935E-4A98-8523-89504E251A30" name="GUID-AE796B68-935E-4A98-8523-89504E251A30"></a><h4 id="OLADM-GUID-AE796B68-935E-4A98-8523-89504E251A30" class="sect4"><span class="enumeration_section">1.7.3 </span>Saving and Restoring Current Dimension Status
                  </h4>
                  <div>
                     <p>There are several different ways that you can save the current status of a dimension. The scope of each way is different:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="bold">Any session</span>—To save the current status for use in any session, create a named valueset with that status. Use a DEFINE VALUESET command to define the valueset. Use a LIMIT command to assign the values to the valueset.
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">Current session</span>—To save, access, or update the current status for use in the current session, use a named context. Use the CONTEXT command to define the context.
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">Current program</span>—To save the current status for use in the current program, then use the PUSHLEVEL and PUSH commands. You can restore the current status values using the POPLEVEL and POP commands.
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="OLADM135"></a><div class="props_rev_3"><a id="GUID-A0C2E4F0-1D9F-430B-92A6-7984126C8D1E" name="GUID-A0C2E4F0-1D9F-430B-92A6-7984126C8D1E"></a><h4 id="OLADM-GUID-A0C2E4F0-1D9F-430B-92A6-7984126C8D1E" class="sect4"><span class="enumeration_section">1.7.4 </span>Using a Subset of Data Without Changing Status
                  </h4>
                  <div>
                     <p>Sometimes you want to have an individual OLAP DML statement or expression work against a subset of data without actually changing the current status list of a dimension. To support this need, some OLAP DML statements allow you to specify the name of a previously-defined valueset object instead of the name of a dimension. Additionally, on-the-fly, you can specify a data subset without changing the current status list of dimensions using one of the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The <a href="olap-dml-functions-a-k.html#GUID-59B502C1-5930-41D0-A183-22FD77BFA076">CHGDIMS</a> function which, during the evaluation of expression, changes the dimensionality of an expression or changes the dimension status.
                           </p>
                        </li>
                        <li>
                           <p>The <a href="olap-dml-functions-l-z.html#GUID-A47E3C53-1CC5-4546-80D0-FBE3B2F837C1">LIMIT function</a> which, during the evaluation of expression, returns the dimension or dimension surrogate values that result from a specified LIMIT command or a specified dimension status stack.
                           </p>
                        </li>
                        <li>
                           <p>Use a qualified data reference (QDR) which is a way of limiting one or more dimensions of an expression to a single value when you want to specify a single value of a data object without changing the current status.</p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="OLADM136"></a><a id="olapdml_pop_multi_hier_objs"></a><div class="props_rev_3"><a id="GUID-8BCDAF9F-95DC-4C49-9279-96E5D94F01AD" name="GUID-8BCDAF9F-95DC-4C49-9279-96E5D94F01AD"></a><h3 id="OLADM-GUID-8BCDAF9F-95DC-4C49-9279-96E5D94F01AD" class="sect3"><span class="enumeration_section">1.8 </span>Populating Multidimensional Hierarchical Data Objects
               </h3>
               <div>
                  <p>Frequently you first populate the base values of your variables from relational tables or from flat files. You then calculate other values from these base values using OLAP DML calculation objects. For example, you might define aggregation objects to aggregate the values that are higher up the hierarchy.</p>
                  <p>You can also assign values to variables, relations, and dimension surrogates using assignment statements (see <a href="olap-dml-commands-h-z.html#GUID-F6BA1626-650A-46D0-9C01-B2757981AA27">SET</a> and <a href="olap-dml-commands-h-z.html#GUID-4EB852D8-726D-4BC3-A0D6-5F631C3355AF">SET1</a>) and add values to dimensions using <a href="olap-dml-commands-h-z.html#GUID-839F1B74-07B1-43E2-83C9-6B5C651F964E">MAINTAIN</a> statements.
                  </p>
                  <div class="infobox-tip" id="GUID-8BCDAF9F-95DC-4C49-9279-96E5D94F01AD__GUID-DA162434-7D47-4E65-9F04-AC893B62A5E8">
                     <p class="notep1">Tip:</p>
                     <p><a href="formulas-models-aggregations-and-allocations.html#GUID-D261BFC7-B50F-45BE-92D6-5800E2627C5B">Formulas, Models, Aggregations, and Allocations</a></p>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='05930.working-with-labeled-data.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="You can manage labeled data, view that data of security attributes for a session, and change the value of session attributes.">
      <meta name="description" content="You can manage labeled data, view that data of security attributes for a session, and change the value of session attributes.">
      <title>Working with Labeled Data</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Administrator's Guide">
      <meta property="og:description" content="You can manage labeled data, view that data of security attributes for a session, and change the value of session attributes.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Administrator's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="label-security-administrators-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-11T09:39:52-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="2006, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96303-05">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="creating-an-oracle-label-security-policy.html" title="Previous" type="text/html">
      <link rel="next" href="oracle-label-security-using-oracle-internet-directory.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Label Security Administrator's Guide">
    <meta name="dcterms.isVersionOf" content="OLSAG">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="creating-an-oracle-label-security-policy.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="oracle-label-security-using-oracle-internet-directory.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Administrator's Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part2.html" property="item" typeof="WebPage"><span property="name">Using Oracle Label Security Functionality</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">  Working with Labeled Data</li>
            </ol>
            <a id="GUID-75401780-723A-4EA5-AEDB-751E48AFC1DA" name="GUID-75401780-723A-4EA5-AEDB-751E48AFC1DA"></a><a id="OLSAG019"></a>
            
            <h2 id="OLSAG-GUID-75401780-723A-4EA5-AEDB-751E48AFC1DA" class="sect2"><span class="enumeration_chapter">6 </span>  Working with Labeled Data
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>You can manage labeled data, view that data of security attributes for a session, and change the value of session attributes. </p>
               <div class="infoboxnote" id="GUID-75401780-723A-4EA5-AEDB-751E48AFC1DA__GUID-FAD36A82-6D31-4FF4-964D-73738A8BB3DC">
                  <p class="notep1">Note:</p>
                  <p>Many of the examples in this guide use the <code class="codeph">HUMAN_RESOURCES</code> sample policy. Its policy name is <code class="codeph">HR</code> and its policy label column is <code class="codeph">HR_LABEL</code>. Unless otherwise noted, the examples assume that the SQL statements are performed on rows within the user's authorization and with full Oracle Label Security policy enforcement in effect. 
                  </p>
               </div>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="working-with-labeled-data.html#GUID-2C84DF95-0A12-4BBA-94C8-4FF369C54128">How Policy Label Column and Label Tags Work</a><br>You should understand how policy label columns in a table or schema are created and filled.
                  </li>
                  <li class="ulchildlink"><a href="working-with-labeled-data.html#GUID-74564599-9CF7-4ADC-9FB2-C6E8E271DA66">Assignments of Labels to Data Rows</a><br>For existing data rows, labels can be assigned by a labeling function that you create. 
                  </li>
                  <li class="ulchildlink"><a href="working-with-labeled-data.html#GUID-456D3AA7-1C21-428A-80B4-C1C3C41FD241">Presenting the Label</a><br>When you retrieve labels, you do not automatically obtain the character string value. 
                  </li>
                  <li class="ulchildlink"><a href="working-with-labeled-data.html#GUID-620518A2-9072-427C-9560-3F9F165F1247">Filtration of Data Using Labels</a><br>When SQL statements are processed, Oracle Label Security makes calls to the security policies defined in the database by create-and-apply procedures.
                  </li>
                  <li class="ulchildlink"><a href="working-with-labeled-data.html#GUID-ED5DA711-477C-42D9-B03C-866A909DDE23">Inserting Labeled Data</a><br>You can insert labeled data in a variety of situations. 
                  </li>
                  <li class="ulchildlink"><a href="working-with-labeled-data.html#GUID-52C240C0-D5B3-4F9A-9C83-F8AA2FC360DF">Changing Session and Row Labels</a><br>During a session, a user can change labels based on the authorizations an administrator sets. 
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="part2.html" title="Part II explains how to work with Oracle Label Security functionality.">Using Oracle Label Security Functionality</a></p>
                  </div>
               </div>
            </div>
            <a id="OLSAG020"></a><div class="props_rev_3"><a id="GUID-2C84DF95-0A12-4BBA-94C8-4FF369C54128" name="GUID-2C84DF95-0A12-4BBA-94C8-4FF369C54128"></a><h3 id="OLSAG-GUID-2C84DF95-0A12-4BBA-94C8-4FF369C54128" class="sect3">How Policy Label Column and Label Tags Work</h3>
               <div>
                  <p>You should understand how policy label columns in a table or schema are created and filled.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="working-with-labeled-data.html#GUID-79742979-FD64-4C78-ADCF-229D039D6777">The Policy Label Column</a><br>You should understand how to use policy label columns. 
                     </li>
                     <li class="ulchildlink"><a href="working-with-labeled-data.html#GUID-C5D22293-2F11-4C83-B281-ADCA31D28D07">Label Tags</a><br>You can create label tags, either manually or automatically generating them, that define the label components.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="working-with-labeled-data.html#GUID-75401780-723A-4EA5-AEDB-751E48AFC1DA" title="You can manage labeled data, view that data of security attributes for a session, and change the value of session attributes.">Working with Labeled Data</a></p>
                     </div>
                  </div>
               </div>
               <a id="OLSAG3143"></a><div class="props_rev_3"><a id="GUID-79742979-FD64-4C78-ADCF-229D039D6777" name="GUID-79742979-FD64-4C78-ADCF-229D039D6777"></a><h4 id="OLSAG-GUID-79742979-FD64-4C78-ADCF-229D039D6777" class="sect4">The Policy Label Column</h4>
                  <div>
                     <p>You should understand how to use policy label columns. </p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="working-with-labeled-data.html#GUID-AB80CDA9-7900-48B2-99C1-01AC3389C39B">About the Policy Label Column</a><br>Each policy that is applied to a table creates a column in the database. 
                        </li>
                        <li class="ulchildlink"><a href="working-with-labeled-data.html#GUID-62D8E07A-EC69-4EF7-A0B4-5FC69B476152">Hiding the Policy Label Column</a><br>You can choose not to display the column representing a policy.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="working-with-labeled-data.html#GUID-2C84DF95-0A12-4BBA-94C8-4FF369C54128" title="You should understand how policy label columns in a table or schema are created and filled.">How Policy Label Column and Label Tags Work</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="props_rev_3"><a id="GUID-AB80CDA9-7900-48B2-99C1-01AC3389C39B" name="GUID-AB80CDA9-7900-48B2-99C1-01AC3389C39B"></a><h5 id="OLSAG-GUID-AB80CDA9-7900-48B2-99C1-01AC3389C39B" class="sect5">About the Policy Label Column</h5>
                     <div>
                        <p>Each policy that is applied to a table creates a column in the database. </p>
                        <p>By default, the data type of the <code class="codeph">NUMBER</code>. 
                        </p>
                        <p>Each row's label for that policy is represented by a tag in that column, using the numeric equivalent of the character-string label value. The label tag is automatically generated when the label is created, unless the administrator specifies the tag manually at that time. </p>
                        <p>The automatic label generation follows the rules established by the administrator while defining the label components, as described in <a href="understanding-data-labels-and-user-labels.html#GUID-F29D48CE-EE9A-495E-A35B-55B38BAB1FDB" title="You should understand fundamental concepts of data labels and user labels.">Understanding Data Labels and User Labels</a>.
                        </p>
                        <div class="infoboxnote" id="GUID-AB80CDA9-7900-48B2-99C1-01AC3389C39B__GUID-0DC50335-4B38-4BE8-8B20-0ABD890B475F">
                           <p class="notep1">Note:</p>
                           <p>The act of creating a policy does not in itself have any effect on tables or schemas. It only applies the policy to a table or schema. </p>
                        </div>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="working-with-labeled-data.html#GUID-79742979-FD64-4C78-ADCF-229D039D6777" title="You should understand how to use policy label columns.">The Policy Label Column</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="OLSAG3776"></a><a id="OLSAG3777"></a><a id="OLSAG3144"></a><div class="props_rev_3"><a id="GUID-62D8E07A-EC69-4EF7-A0B4-5FC69B476152" name="GUID-62D8E07A-EC69-4EF7-A0B4-5FC69B476152"></a><h5 id="OLSAG-GUID-62D8E07A-EC69-4EF7-A0B4-5FC69B476152" class="sect5">Hiding the Policy Label Column</h5>
                     <div>
                        <p>You can choose not to display the column representing a policy.</p>
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>To hide the display of a column, apply the <code class="codeph">HIDE</code> option to the table.
                                 </p>
                              </li>
                           </ul>
                           <p>After a policy using <code class="codeph">HIDE</code> is applied to a table, a user executing a <code class="codeph">SELECT *</code> or performing a <code class="codeph">DESCRIBE</code> operation will not see the policy label column. If the policy label column is not hidden, then the label tag is displayed as data type <code class="codeph">NUMBER</code>. 
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-62D8E07A-EC69-4EF7-A0B4-5FC69B476152__GUID-855983C6-9E44-4631-8A69-6D2452E1A3B0">Example 1: Numeric Column Data Type (NUMBER)</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">DESCRIBE EMP;
 Name                                      Null?    Type
 ----------------------------------------- -------- --------
 EMPNO                                     NOT NULL NUMBER(4)
 ENAME                                              CHAR(10)
 JOB                                                CHAR(9)
 MGR                                                NUMBER(4)
 SAL                                                NUMBER(7,2)
 DEPTNO                                    NOT NULL NUMBER(2)
 HR_LABEL                                           NUMBER(10)</pre></div>
                        <!-- class="section" -->
                        <div class="section" id="GUID-62D8E07A-EC69-4EF7-A0B4-5FC69B476152__BEIIGDED">
                           <p class="subhead3" id="GUID-62D8E07A-EC69-4EF7-A0B4-5FC69B476152__GUID-C97E7D03-D8F3-4A74-A047-B53DAA16E534">Example 2: Numeric Column Data Type with Hidden Column</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>Notice that in this example, the <code class="codeph">HR_LABEL</code> column is <span class="italic">not</span> displayed.
                           </p><pre class="oac_no_warn" dir="ltr">DESCRIBE EMP;
 Name                                      Null?    Type
 ----------------------------------------- -------- --------
 EMPNO                                     NOT NULL NUMBER(4)
 ENAME                                              CHAR(10)
 JOB                                                CHAR(9)
 MGR                                                NUMBER(4)
 SAL                                                NUMBER(7,2)
 DEPTNO                                    NOT NULL NUMBER(2)</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>Related Topics</strong></p>
                           <ul>
                              <li><a href="implementing-policy-enforcement-options-and-labeling-functions.html#GUID-26ABB868-ADB3-44D0-B5A0-3CAF9C5EC627" title="You can specify the HIDE policy configuration option when you add an Oracle Label Security policy column to a table.">How the HIDE Policy Column Option Works</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="working-with-labeled-data.html#GUID-79742979-FD64-4C78-ADCF-229D039D6777" title="You should understand how to use policy label columns.">The Policy Label Column</a></p>
                           </div>
                        </div>
                     </div>
                  </div>
               </div><a id="OLSAG3147"></a><div class="props_rev_3"><a id="GUID-C5D22293-2F11-4C83-B281-ADCA31D28D07" name="GUID-C5D22293-2F11-4C83-B281-ADCA31D28D07"></a><h4 id="OLSAG-GUID-C5D22293-2F11-4C83-B281-ADCA31D28D07" class="sect4">Label Tags</h4>
                  <div>
                     <p>You can create label tags, either manually or automatically generating them, that define the label components.</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="working-with-labeled-data.html#GUID-5E1035D0-A49E-4E64-BF18-D7BCF8B8BF0F">About Label Tags</a><br>The administrator first defines a set of label components to be used in a policy. 
                        </li>
                        <li class="ulchildlink"><a href="working-with-labeled-data.html#GUID-F440D44F-937B-4834-88EF-670CD4DAD4E8">Manually Defined Label Tags to Order Labels</a><br>By manually defining label tags, you can implement a data manipulation strategy that permits labels to be meaningfully sorted and compared.
                        </li>
                        <li class="ulchildlink"><a href="working-with-labeled-data.html#GUID-3EFA07B1-6338-46AA-BB10-98274B39C250">Manually Defined Label Tags to Manipulate Data</a><br>An administratively defined label tag is a convenient way to reference a complete label string (that is, a combination of label components). 
                        </li>
                        <li class="ulchildlink"><a href="working-with-labeled-data.html#GUID-8243B357-8FEA-43CB-BF42-F7DFA7496865">Automatically Generated Label Tags</a><br>Dynamically generated label tags have 10 digits, with no relationship to numbers assigned to any label component. 
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="working-with-labeled-data.html#GUID-2C84DF95-0A12-4BBA-94C8-4FF369C54128" title="You should understand how policy label columns in a table or schema are created and filled.">How Policy Label Column and Label Tags Work</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="props_rev_3"><a id="GUID-5E1035D0-A49E-4E64-BF18-D7BCF8B8BF0F" name="GUID-5E1035D0-A49E-4E64-BF18-D7BCF8B8BF0F"></a><h5 id="OLSAG-GUID-5E1035D0-A49E-4E64-BF18-D7BCF8B8BF0F" class="sect5">About Label Tags</h5>
                     <div>
                        <p>The administrator first defines a set of label components to be used in a policy. </p>
                        <p>When creating labels, the administrator specifies the set of valid combinations of components that can make up a label, that is, a level optionally combined with one or more groups or compartments. </p>
                        <p>Each such valid label within a policy is uniquely identified by an associated numeric tag assigned by the administrator or generated automatically upon its first use. Manual definition has the advantage of allowing the administrator to control the ordering of label values when they are sorted or logically compared. </p>
                        <p>However, label tags must be unique across all policies in the database. When you use multiple policies in a database, you cannot use the same numeric label tag in different policies. Remember that each label tag uniquely identifies one label, and that numeric tag is what is stored in the data rows, not the label's character-string representation. </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="working-with-labeled-data.html#GUID-C5D22293-2F11-4C83-B281-ADCA31D28D07" title="You can create label tags, either manually or automatically generating them, that define the label components.">Label Tags</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="OLSAG3149"></a><a id="OLSAG3148"></a><div class="props_rev_3"><a id="GUID-F440D44F-937B-4834-88EF-670CD4DAD4E8" name="GUID-F440D44F-937B-4834-88EF-670CD4DAD4E8"></a><h5 id="OLSAG-GUID-F440D44F-937B-4834-88EF-670CD4DAD4E8" class="sect5">Manually Defined Label Tags to Order Labels</h5>
                     <div>
                        <p>By manually defining label tags, you can implement a data manipulation strategy that permits labels to be meaningfully sorted and compared.</p>
                        <p> To do this, you must predefine all of the labels to be associated with protected data, and assigns to each label a meaningful label tag value. Manually assigned label tags can have up to eight digits. The value of a label tag must be greater than zero.</p>
                        <p>It may be advantageous to implement a strategy in which label tag values are related to the numeric values of label components. In this way, you can use the tags to group data rows in a meaningful way. This approach, however, is not mandatory. It is good practice to set tags for labels of higher sensitivity to a higher numeric value than tags for labels of lower sensitivity.</p>
                        <p><a href="working-with-labeled-data.html#GUID-F440D44F-937B-4834-88EF-670CD4DAD4E8__G1014736" title="This table provides example label tags and label strings to aid in the discussion that follows.">Table 6-1</a> illustrates a set of label tags that have been assigned. Notice that, in this example, the administrator has based the label tag value on the numeric form of the levels, compartments, and rows that were discussed in <a href="understanding-data-labels-and-user-labels.html#GUID-F29D48CE-EE9A-495E-A35B-55B38BAB1FDB" title="You should understand fundamental concepts of data labels and user labels.">Understanding Data Labels and User Labels</a>.
                        </p>
                        <div class="tblformal" id="GUID-F440D44F-937B-4834-88EF-670CD4DAD4E8__G1014736">
                           <p class="titleintable">Table 6-1 Administratively Defined Label Tags (Example)</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Administratively Defined Label Tags (Example)" summary="This table provides example label tags and label strings to aid in the discussion that follows." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="30%" id="d25700e748">Label Tag</th>
                                    <th align="left" valign="bottom" width="70%" id="d25700e751">Label String</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d25700e756" headers="d25700e748 ">
                                       <p>10000</p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d25700e756 d25700e751 ">
                                       <p>P</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d25700e763" headers="d25700e748 ">
                                       <p>20000</p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d25700e763 d25700e751 ">
                                       <p>C</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d25700e770" headers="d25700e748 ">
                                       <p>21000</p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d25700e770 d25700e751 ">
                                       <p>C:FNCL</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d25700e777" headers="d25700e748 ">
                                       <p>21100</p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d25700e777 d25700e751 ">
                                       <p>C:FNCL,OP</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d25700e784" headers="d25700e748 ">
                                       <p>30000</p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d25700e784 d25700e751 ">
                                       <p>S</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d25700e791" headers="d25700e748 ">
                                       <p>31110</p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d25700e791 d25700e751 ">
                                       <p>S:OP:WR</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d25700e798" headers="d25700e748 ">
                                       <p>40000</p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d25700e798 d25700e751 ">
                                       <p>HS</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d25700e805" headers="d25700e748 ">
                                       <p>42000</p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d25700e805 d25700e751 ">
                                       <p>HS:OP</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>In this example, labels with a level of <code class="codeph">PUBLIC</code> begin with "1", labels with a level of <code class="codeph">CONFIDENTIAL</code> begin with "2", labels with a level of <code class="codeph">SENSITIVE</code> begin with "3", and labels with a level of <code class="codeph">HIGHLY_SENSITIVE</code> begin with "4". 
                        </p>
                        <p>Labels with the <code class="codeph">FINANCIAL</code> compartment then come in the 1000 range, labels with the compartment <code class="codeph">OP</code> are in the 1100 range, and so on. The tens place is used to indicate the group <code class="codeph">WR</code>, for example. 
                        </p>
                        <p>Another strategy might be completely based on groups, where the tags might be 3110, 3120, 3130, and so on. </p>
                        <p>Note, however, that label tags identify the <span class="italic">whole</span> label, independent of the numeric values assigned for the individual label components. The label tag is used as a whole integer, not as a set of individually evaluated numbers.
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="working-with-labeled-data.html#GUID-C5D22293-2F11-4C83-B281-ADCA31D28D07" title="You can create label tags, either manually or automatically generating them, that define the label components.">Label Tags</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="OLSAG3150"></a><div class="props_rev_3"><a id="GUID-3EFA07B1-6338-46AA-BB10-98274B39C250" name="GUID-3EFA07B1-6338-46AA-BB10-98274B39C250"></a><h5 id="OLSAG-GUID-3EFA07B1-6338-46AA-BB10-98274B39C250" class="sect5">Manually Defined Label Tags to Manipulate Data</h5>
                     <div>
                        <p>An administratively defined label tag is a convenient way to reference a complete label string (that is, a combination of label components). </p>
                        <p>As illustrated in <a href="working-with-labeled-data.html#GUID-F440D44F-937B-4834-88EF-670CD4DAD4E8__G1014736" title="This table provides example label tags and label strings to aid in the discussion that follows.">Table 6-1</a>, for example, the tag "31110" could stand for the complete label string "S:OP:WR". 
                        </p>
                        <p>Label tags can be used as a convenient way to partition data. For example, all data with labels in the range 1000 - 1999 could be placed in tablespace A, all data with labels in the range 2000 - 2999 could be placed in tablespace B, and so on.</p>
                        <p>This simplified notation also comes in handy when there is a finite number of labels and you need to perform various operations upon them. Consider a situation in which one company hosts a human resources system for many other companies. Assume that all users from Company Y have the label "C:ALPHA:CY", for which the tag "210" has been set. To determine the total number of application users from Company Y, the host administrator can enter:</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM tab1
  WHERE hr_label = 210;</pre></div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="working-with-labeled-data.html#GUID-C5D22293-2F11-4C83-B281-ADCA31D28D07" title="You can create label tags, either manually or automatically generating them, that define the label components.">Label Tags</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="OLSAG3152"></a><a id="OLSAG3151"></a><div class="props_rev_3"><a id="GUID-8243B357-8FEA-43CB-BF42-F7DFA7496865" name="GUID-8243B357-8FEA-43CB-BF42-F7DFA7496865"></a><h5 id="OLSAG-GUID-8243B357-8FEA-43CB-BF42-F7DFA7496865" class="sect5">Automatically Generated Label Tags</h5>
                     <div>
                        <p>Dynamically generated label tags have 10 digits, with no relationship to numbers assigned to any label component. </p>
                        <p>You cannot group the data by label.</p>
                        <p><a href="working-with-labeled-data.html#GUID-8243B357-8FEA-43CB-BF42-F7DFA7496865__G1014767" title="This table lists example label tags and associated label strings for use in the discussion that follows.">Table 6-2</a> describes how automatically generated label tags work. 
                        </p>
                        <div class="tblformal" id="GUID-8243B357-8FEA-43CB-BF42-F7DFA7496865__G1014767">
                           <p class="titleintable">Table 6-2 Generated Label Tags (Example)</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Generated Label Tags (Example)" summary="This table lists example label tags and associated label strings for use in the discussion that follows." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="30%" id="d25700e1003">Label Tag</th>
                                    <th align="left" valign="bottom" width="70%" id="d25700e1006">Label String</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d25700e1011" headers="d25700e1003 ">
                                       <p><code class="codeph">100000020</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d25700e1011 d25700e1006 ">
                                       <p><code class="codeph">P</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d25700e1020" headers="d25700e1003 ">
                                       <p><code class="codeph">100000052</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d25700e1020 d25700e1006 ">
                                       <p><code class="codeph">C</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d25700e1029" headers="d25700e1003 ">
                                       <p><code class="codeph">100000503</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d25700e1029 d25700e1006 ">
                                       <p><code class="codeph">C:FNCL</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d25700e1038" headers="d25700e1003 ">
                                       <p><code class="codeph">100000132</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d25700e1038 d25700e1006 ">
                                       <p><code class="codeph">C:FNCL,OP</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d25700e1047" headers="d25700e1003 ">
                                       <p><code class="codeph">100000003</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d25700e1047 d25700e1006 ">
                                       <p><code class="codeph">S</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d25700e1056" headers="d25700e1003 ">
                                       <p><code class="codeph">100000780</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d25700e1056 d25700e1006 ">
                                       <p><code class="codeph">S:OP:WR</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d25700e1065" headers="d25700e1003 ">
                                       <p><code class="codeph">100000035</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d25700e1065 d25700e1006 ">
                                       <p><code class="codeph">HS</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d25700e1074" headers="d25700e1003 ">
                                       <p><code class="codeph">100000036</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d25700e1074 d25700e1006 ">
                                       <p><code class="codeph">HS:OP</code></p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="working-with-labeled-data.html#GUID-C5D22293-2F11-4C83-B281-ADCA31D28D07" title="You can create label tags, either manually or automatically generating them, that define the label components.">Label Tags</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div><a id="OLSAG021"></a><div class="props_rev_3"><a id="GUID-74564599-9CF7-4ADC-9FB2-C6E8E271DA66" name="GUID-74564599-9CF7-4ADC-9FB2-C6E8E271DA66"></a><h3 id="OLSAG-GUID-74564599-9CF7-4ADC-9FB2-C6E8E271DA66" class="sect3">Assignments of Labels to Data Rows</h3>
               <div>
                  <p>For existing data rows, labels can be assigned by a labeling function that you create. </p>
                  <p>In such a function, you specify the exact table and row conditions defining what label to insert. The function can be named in the call to apply a policy to a table or schema, or in an update by the administrator. </p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="working-with-labeled-data.html#GUID-ED5DA711-477C-42D9-B03C-866A909DDE23" title="You can insert labeled data in a variety of situations.">Inserting Labeled Data</a></li>
                        <li><a href="implementing-policy-enforcement-options-and-labeling-functions.html#GUID-EEAEF7F0-9454-4E00-BAB0-D74BB236CD5B" title="Labeling functions can compute and return a label using resources such as context variables (for example, date or username) and data values.">Labeling Functions</a></li>
                        <li><a href="oracle-label-security-pl-sql-packages.html#GUID-5C1F501B-293A-436E-865D-51D34E3D0829" title="The SA_POLICY_ADMIN.APPLY_TABLE_POLICY procedure adds the specified policy to a table.">SA_POLICY_ADMIN.APPLY_TABLE_POLICY</a></li>
                        <li><a href="oracle-label-security-pl-sql-packages.html#GUID-D9E721AB-14D0-4086-9C79-6D402349F85A" title="The SA_POLICY_ADMIN.APPLY_SCHEMA_POLICY procedure applies a policy to all of the tables in a schema and enables the policy for these tables.">SA_POLICY_ADMIN.APPLY_SCHEMA_POLICY</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="working-with-labeled-data.html#GUID-75401780-723A-4EA5-AEDB-751E48AFC1DA" title="You can manage labeled data, view that data of security attributes for a session, and change the value of session attributes.">Working with Labeled Data</a></p>
                     </div>
                  </div>
               </div>
            </div><a id="OLSAG022"></a><div class="props_rev_3"><a id="GUID-456D3AA7-1C21-428A-80B4-C1C3C41FD241" name="GUID-456D3AA7-1C21-428A-80B4-C1C3C41FD241"></a><h3 id="OLSAG-GUID-456D3AA7-1C21-428A-80B4-C1C3C41FD241" class="sect3">Presenting the Label</h3>
               <div>
                  <p>When you retrieve labels, you do not automatically obtain the character string value. </p>
                  <p>By default, the label tag value is returned. Two label manipulation functions enable you to convert the label tag value to and from its character string representation.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="working-with-labeled-data.html#GUID-4C4E227B-6BBA-47A7-B839-CE7893201505">Converting a Character String to a Label Tag with CHAR_TO_LABEL</a><br>The <code class="codeph">CHAR_TO_LABEL</code> function converts character strings to a label tag, returning the label tag for the specified character string.
                     </li>
                     <li class="ulchildlink"><a href="working-with-labeled-data.html#GUID-99E3502F-ED31-4A79-8722-E0C680C188F0">Conversion of a Label Tag to a Character String, with LABEL_TO_CHAR</a><br>You can convert label tags to character strings. 
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="working-with-labeled-data.html#GUID-75401780-723A-4EA5-AEDB-751E48AFC1DA" title="You can manage labeled data, view that data of security attributes for a session, and change the value of session attributes.">Working with Labeled Data</a></p>
                     </div>
                  </div>
               </div>
               <a id="OLSAG3153"></a><div class="props_rev_3"><a id="GUID-4C4E227B-6BBA-47A7-B839-CE7893201505" name="GUID-4C4E227B-6BBA-47A7-B839-CE7893201505"></a><h4 id="OLSAG-GUID-4C4E227B-6BBA-47A7-B839-CE7893201505" class="sect4">Converting a Character String to a Label Tag with CHAR_TO_LABEL</h4>
                  <div>
                     <p>The <code class="codeph">CHAR_TO_LABEL</code> function converts character strings to a label tag, returning the label tag for the specified character string.
                     </p>
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>To convert a character string to a label tab, use the following syntax for the <code class="codeph">CHAR_TO_LABEL</code> function: 
                              </p><pre class="oac_no_warn" dir="ltr">FUNCTION CHAR_TO_LABEL (
     policy_name     IN VARCHAR2,
     label_string    IN VARCHAR2)
RETURN NUMBER; 

</pre></li>
                        </ul>
                        <p>For example: </p><pre class="oac_no_warn" dir="ltr">INSERT INTO emp (empno,hr_label) 
VALUES (999, CHAR_TO_LABEL('HR','S:A,B:G5');
</pre><p>Here, <code class="codeph">HR</code> is the label policy name, <code class="codeph">S</code> is a sensitivity level, <code class="codeph">A,B</code> compartments, and <code class="codeph">G5</code> a group.
                        </p><pre class="oac_no_warn" dir="ltr">FUNCTION CHAR_TO_LABEL (
     policy_name     IN VARCHAR2,
     label_string    IN VARCHAR2)
RETURN NUMBER; 

</pre><p>Here, <code class="codeph">HR</code> is the label policy name, <code class="codeph">S</code> is a sensitivity level, <code class="codeph">A,B</code> compartments, and <code class="codeph">G5</code> a group.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="working-with-labeled-data.html#GUID-456D3AA7-1C21-428A-80B4-C1C3C41FD241" title="When you retrieve labels, you do not automatically obtain the character string value.">Presenting the Label</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="OLSAG3154"></a><div class="props_rev_3"><a id="GUID-99E3502F-ED31-4A79-8722-E0C680C188F0" name="GUID-99E3502F-ED31-4A79-8722-E0C680C188F0"></a><h4 id="OLSAG-GUID-99E3502F-ED31-4A79-8722-E0C680C188F0" class="sect4">Conversion of a Label Tag to a Character String, with LABEL_TO_CHAR</h4>
                  <div>
                     <p>You can convert label tags to character strings. </p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="working-with-labeled-data.html#GUID-8E8A8442-A6B6-462F-9AD5-C716FBF62733">Converting a Label Tag to a Character String with LABEL_TO_CHAR</a><br>The <code class="codeph">LABEL_TO_CHAR</code> function returns a <code class="codeph">VARCHAR2</code> string when it converts a label tag to a character string.
                        </li>
                        <li class="ulchildlink"><a href="working-with-labeled-data.html#GUID-4F134FF5-2DF4-4976-AE7E-21BA4BE78C37">LABEL_TO_CHAR Examples</a><br>Oracle provides examples that illustrate the use of <code class="codeph">LABEL_TO_CHAR</code>.
                        </li>
                        <li class="ulchildlink"><a href="working-with-labeled-data.html#GUID-7666C818-7291-4F46-B0FD-F7E634FCB51A">Retrieving All Columns from a Table When the Policy Label Column Is Hidden</a><br>If the policy label column is hidden, then it is not automatically returned when you execute <code class="codeph">SELECT *</code> on the table. 
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="working-with-labeled-data.html#GUID-456D3AA7-1C21-428A-80B4-C1C3C41FD241" title="When you retrieve labels, you do not automatically obtain the character string value.">Presenting the Label</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="props_rev_3"><a id="GUID-8E8A8442-A6B6-462F-9AD5-C716FBF62733" name="GUID-8E8A8442-A6B6-462F-9AD5-C716FBF62733"></a><h5 id="OLSAG-GUID-8E8A8442-A6B6-462F-9AD5-C716FBF62733" class="sect5">Converting a Label Tag to a Character String with LABEL_TO_CHAR</h5>
                     <div>
                        <p>The <code class="codeph">LABEL_TO_CHAR</code> function returns a <code class="codeph">VARCHAR2</code> string when it converts a label tag to a character string.
                        </p>
                        <div class="section">
                           <p>When you query a table or view, you automatically retrieve all of the rows in the table or view that satisfy the qualifications of the query and are dominated by your label. If the policy label column is not hidden, then the label tag value for each row is displayed. You must use the <code class="codeph">LABEL_TO_CHAR</code> function to display the character string value of each label.
                           </p>
                           <p>Note that all conversions must be explicit. There is no automatic casting to and from tag and character string representations. </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>To convert a label tag to a character string, use the following syntax for the <code class="codeph">LABEL_TO_CHAR</code> function:
                                 </p><pre class="oac_no_warn" dir="ltr">FUNCTION LABEL_TO_CHAR (
     label IN NUMBER)
RETURN VARCHAR2; </pre></li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="working-with-labeled-data.html#GUID-99E3502F-ED31-4A79-8722-E0C680C188F0" title="You can convert label tags to character strings.">Conversion of a Label Tag to a Character String, with LABEL_TO_CHAR</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="OLSAG3781"></a><a id="OLSAG3782"></a><a id="OLSAG3783"></a><a id="OLSAG3155"></a><div class="props_rev_3"><a id="GUID-4F134FF5-2DF4-4976-AE7E-21BA4BE78C37" name="GUID-4F134FF5-2DF4-4976-AE7E-21BA4BE78C37"></a><h5 id="OLSAG-GUID-4F134FF5-2DF4-4976-AE7E-21BA4BE78C37" class="sect5">LABEL_TO_CHAR Examples </h5>
                     <div>
                        <p>Oracle provides examples that illustrate the use of <code class="codeph">LABEL_TO_CHAR</code>.
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-4F134FF5-2DF4-4976-AE7E-21BA4BE78C37__GUID-4B51480F-C456-4513-AB0A-E380D532C166">Example: Retrieving a Row Label from a Table or a View</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>To retrieve the label of a row from a table or view, specify the policy label column in the <code class="codeph">SELECT</code> statement. 
                           </p>
                           <p>For example:</p><pre class="oac_no_warn" dir="ltr">SELECT label_to_char (hr_label) AS label, ename FROM tab1;
  WHERE ename = 'RWRIGHT';
</pre><p>This statement returns the following: </p><pre class="oac_no_warn" dir="ltr">LABEL          ENAME
------------   ----------
S:A,B:G1       RWRIGHT</pre></div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-4F134FF5-2DF4-4976-AE7E-21BA4BE78C37__GUID-C2F8B60D-97F1-4C38-892E-DC03C38E28BA">Example: Retrieving a Policy Label Column</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>You can also specify the policy label column in the <code class="codeph">WHERE</code> clause of a <code class="codeph">SELECT</code> statement. 
                           </p>
                           <p>The following statement displays all rows that have the policy label <code class="codeph">S:A,B:G1</code></p><pre class="oac_no_warn" dir="ltr">SELECT label_to_char (hr_label) AS label,ename FROM emp
  WHERE hr_label = char_to_label ('HR', 'S:A,B:G1');
</pre><p>This statement returns the following: </p><pre class="oac_no_warn" dir="ltr">LABEL           ENAME
-------------   ---------
S:A,B:G1        RWRIGHT
S:A,B:G1        ESTANTON 
</pre><p>Alternatively, you could use a more flexible statement to look up data that contains the string "S:A,B:G1" anywhere in the text of the <code class="codeph">HR_LABEL</code> column:
                           </p><pre class="oac_no_warn" dir="ltr">SELECT label_to_char (hr_label) AS label,ename FROM emp
  WHERE label_to_char (hr_label) like '%S:A,B:G1%';
</pre><p>If you do not use the <code class="codeph">LABEL_TO_CHAR</code> function, then you will see the label tag.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-4F134FF5-2DF4-4976-AE7E-21BA4BE78C37__GUID-3839284F-2A78-4670-8257-89E0AAFA348F">Example: Retrieving a Numeric Column Data Type</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>The following example is with the numeric column data type (<code class="codeph">NUMBER</code>) and dynamically generated label tags, but without using the <code class="codeph">LABEL_TO_CHAR</code> function. If you do not use the <code class="codeph">LABEL_TO_CHAR</code> function, then you will see the label tag.
                           </p><pre class="oac_no_warn" dir="ltr">SQL&gt; select empno, hr_label from emp
     where ename='RWRIGHT';

EMPNO      HR_LABEL
---------- ----------
7839       1000000562
</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="working-with-labeled-data.html#GUID-99E3502F-ED31-4A79-8722-E0C680C188F0" title="You can convert label tags to character strings.">Conversion of a Label Tag to a Character String, with LABEL_TO_CHAR</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="OLSAG3160"></a><a id="OLSAG3159"></a><div class="props_rev_3"><a id="GUID-7666C818-7291-4F46-B0FD-F7E634FCB51A" name="GUID-7666C818-7291-4F46-B0FD-F7E634FCB51A"></a><h5 id="OLSAG-GUID-7666C818-7291-4F46-B0FD-F7E634FCB51A" class="sect5">Retrieving All Columns from a Table When the Policy Label Column Is Hidden</h5>
                     <div>
                        <p>If the policy label column is hidden, then it is not automatically returned when you execute <code class="codeph">SELECT *</code> on the table. 
                        </p>
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>To explicitly specify that you want to retrieve a label, use the <code class="codeph">LABEL_TO_CHAR</code> function in the <code class="codeph">SELECT</code> statement. 
                                 </p>
                              </li>
                           </ul>
                           <p>For example, to retrieve all columns from the <code class="codeph">DEPT</code> table (including the policy label column in its character representation), enter the following: 
                           </p><pre class="oac_no_warn" dir="ltr">COLUMN LABEL FORMAT a10
SELECT LABEL_TO_CHAR (hr_label) AS LABEL, DEPT.* FROM DEPT;
</pre><p>Running these SQL statements returns the following data:</p>
                           <div class="tblformal" id="GUID-7666C818-7291-4F46-B0FD-F7E634FCB51A__GUID-9D61FE90-2017-494F-A108-B57A84DFD2C4">
                              <p class="titleintable">Table 6-3 Data Returned from Sample SQL Statements re Hidden Column </p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="Data Returned from Sample SQL Statements re Hidden Column " summary="This table shows the data returned from the query shown, listing the label, department number, distinguished name, and location." width="100%" frame="hsides" border="1" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="22%" id="d25700e1813">LABEL</th>
                                       <th align="left" valign="bottom" width="22%" id="d25700e1816">DEPTNO</th>
                                       <th align="left" valign="bottom" width="27%" id="d25700e1819">DNAME</th>
                                       <th align="left" valign="bottom" width="29%" id="d25700e1822">LOC</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="22%" id="d25700e1827" headers="d25700e1813 ">
                                          <p><code class="codeph">L1</code></p>
                                       </td>
                                       <td align="left" valign="top" width="22%" headers="d25700e1827 d25700e1816 ">
                                          <p><code class="codeph">10</code></p>
                                       </td>
                                       <td align="left" valign="top" width="27%" headers="d25700e1827 d25700e1819 ">
                                          <p><code class="codeph">ACCOUNTING</code></p>
                                       </td>
                                       <td align="left" valign="top" width="29%" headers="d25700e1827 d25700e1822 ">
                                          <p><code class="codeph">NEW YORK</code></p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="22%" id="d25700e1844" headers="d25700e1813 ">
                                          <p><code class="codeph">L1</code></p>
                                       </td>
                                       <td align="left" valign="top" width="22%" headers="d25700e1844 d25700e1816 ">
                                          <p><code class="codeph">20</code></p>
                                       </td>
                                       <td align="left" valign="top" width="27%" headers="d25700e1844 d25700e1819 ">
                                          <p><code class="codeph">RESEARCH</code></p>
                                       </td>
                                       <td align="left" valign="top" width="29%" headers="d25700e1844 d25700e1822 ">
                                          <p><code class="codeph">DALLAS</code></p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="22%" id="d25700e1861" headers="d25700e1813 ">
                                          <p><code class="codeph">L1</code></p>
                                       </td>
                                       <td align="left" valign="top" width="22%" headers="d25700e1861 d25700e1816 ">
                                          <p><code class="codeph">30</code></p>
                                       </td>
                                       <td align="left" valign="top" width="27%" headers="d25700e1861 d25700e1819 ">
                                          <p><code class="codeph">SALES</code></p>
                                       </td>
                                       <td align="left" valign="top" width="29%" headers="d25700e1861 d25700e1822 ">
                                          <p><code class="codeph">CHICAGO</code></p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="22%" id="d25700e1878" headers="d25700e1813 ">
                                          <p><code class="codeph">L1</code></p>
                                       </td>
                                       <td align="left" valign="top" width="22%" headers="d25700e1878 d25700e1816 ">
                                          <p><code class="codeph">40</code></p>
                                       </td>
                                       <td align="left" valign="top" width="27%" headers="d25700e1878 d25700e1819 ">
                                          <p><code class="codeph">OPERATIONS</code></p>
                                       </td>
                                       <td align="left" valign="top" width="29%" headers="d25700e1878 d25700e1822 ">
                                          <p><code class="codeph">BOSTON</code></p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <p>By contrast, if you do not explicitly specify the <code class="codeph">HR_LABEL</code> column, the label is not displayed at all. Note that while the policy column name is on a policy basis, the <code class="codeph">HIDE</code> option is on a table-by-table basis.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>Related Topics</strong></p>
                           <ul>
                              <li><a href="implementing-policy-enforcement-options-and-labeling-functions.html#GUID-26ABB868-ADB3-44D0-B5A0-3CAF9C5EC627" title="You can specify the HIDE policy configuration option when you add an Oracle Label Security policy column to a table.">How the HIDE Policy Column Option Works</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="working-with-labeled-data.html#GUID-99E3502F-ED31-4A79-8722-E0C680C188F0" title="You can convert label tags to character strings.">Conversion of a Label Tag to a Character String, with LABEL_TO_CHAR</a></p>
                           </div>
                        </div>
                     </div>
                  </div>
               </div>
            </div><a id="OLSAG023"></a><div class="props_rev_3"><a id="GUID-620518A2-9072-427C-9560-3F9F165F1247" name="GUID-620518A2-9072-427C-9560-3F9F165F1247"></a><h3 id="OLSAG-GUID-620518A2-9072-427C-9560-3F9F165F1247" class="sect3">Filtration of Data Using Labels</h3>
               <div>
                  <p>When SQL statements are processed, Oracle Label Security makes calls to the security policies defined in the database by create-and-apply procedures.</p>
                  <p>For <code class="codeph">SELECT</code> statements, the policy filters the data rows that the user is authorized to see. For <code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code>, and <code class="codeph">DELETE</code> statements, Oracle Label Security permits or denies the requested operation, based on the user's authorizations.
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="working-with-labeled-data.html#GUID-8FAFA06A-A0F1-443C-861E-1B9B62BFED3E">Use of Numeric Label Tags in WHERE Clauses</a><br>There are different techniques of using numeric label tags in <code class="codeph">WHERE</code> clauses of <code class="codeph">SELECT</code> statements.
                     </li>
                     <li class="ulchildlink"><a href="working-with-labeled-data.html#GUID-9D6DF3AA-C487-4FE0-8FB8-6D9173A23A93">Ordering Labeled Data Rows</a><br>The <code class="codeph">ORDER BY</code> clause of a <code class="codeph">SELECT</code> statement can be used to order rows by the numeric label tag.
                     </li>
                     <li class="ulchildlink"><a href="working-with-labeled-data.html#GUID-49361ADF-A62F-412D-A59D-0226C069ECEC">Ordering by Character Representation of Label</a><br>The <code class="codeph">LABEL_TO_CHAR</code> function orders data rows by the character representation of the label.
                     </li>
                     <li class="ulchildlink"><a href="working-with-labeled-data.html#GUID-65D855D9-2DE3-4EB8-83CE-2B0D78E56F35">Determination of the Upper and Lower Bounds of Labels</a><br>Oracle Label Security provides functions that determine the least upper bound or the greatest lower bound of two or more labels.
                     </li>
                     <li class="ulchildlink"><a href="working-with-labeled-data.html#GUID-204B41DF-86A4-47AE-92F5-E10EF60A194C">Merging Labels with the MERGE_LABEL Function</a><br>The <code class="codeph">MERGE_LABEL</code> function merges two labels together. 
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="working-with-labeled-data.html#GUID-75401780-723A-4EA5-AEDB-751E48AFC1DA" title="You can manage labeled data, view that data of security attributes for a session, and change the value of session attributes.">Working with Labeled Data</a></p>
                     </div>
                  </div>
               </div>
               <a id="OLSAG3161"></a><div class="props_rev_3"><a id="GUID-8FAFA06A-A0F1-443C-861E-1B9B62BFED3E" name="GUID-8FAFA06A-A0F1-443C-861E-1B9B62BFED3E"></a><h4 id="OLSAG-GUID-8FAFA06A-A0F1-443C-861E-1B9B62BFED3E" class="sect4">Use of Numeric Label Tags in WHERE Clauses</h4>
                  <div>
                     <p>There are different techniques of using numeric label tags in <code class="codeph">WHERE</code> clauses of <code class="codeph">SELECT</code> statements.
                     </p>
                     <p>When using labels in the <code class="codeph">NUMBER</code> format, you can set up labels so that a list of your label tags distinguishes the different levels. Comparisons of these numeric label tags can be used for <code class="codeph">ORDER BY</code> processing, and with the logical operators.
                     </p>
                     <p>For example, if you have assigned all <code class="codeph">UNCLASSIFIED</code> labels to the 1000 range, all <code class="codeph">SENSITIVE</code> labels to the 2000 range, and all <code class="codeph">HIGHLY_SENSITIVE</code> labels to the 3000 range, then you can list all <code class="codeph">SENSITIVE</code> records.
                     </p><pre class="oac_no_warn" dir="ltr">SELECT * FROM emp
WHERE hr_label BETWEEN 2000 AND 2999;
</pre><p>To list all <code class="codeph">SENSITIVE</code> and <code class="codeph">UNCLASSIFIED</code> records, you can enter:
                     </p><pre class="oac_no_warn" dir="ltr">SELECT * FROM emp
WHERE hr_label &lt;3000;
</pre><p>To list all <code class="codeph">HIGHLY_SENSITIVE</code> records, you can enter:
                     </p><pre class="oac_no_warn" dir="ltr">SELECT * FROM emp
WHERE hr_label=3000;</pre><div class="infoboxnote" id="GUID-8FAFA06A-A0F1-443C-861E-1B9B62BFED3E__GUID-D3E4FAAE-5907-46A5-9FF5-B58753DD2024">
                        <p class="notep1">Note:</p>
                        <p>Remember that such queries have meaning only if the administrator has applied a numeric ordering strategy to the label tags that he or she originally assigned to the labels. In this way, the administrator can provide for convenient dissemination of data. If, however, the label tag values are generated automatically, then there is no intrinsic relationship between the value of the tag and the order of the labels.</p>
                     </div>
                     <p>Alternatively, you can use dominance relationships to set up an ordering strategy.</p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="advanced-topics-in-oracle-label-security.html#GUID-CD606D67-78AE-427D-B397-627C68E77B84" title="Oracle Label Security provides functions to control dominance.">Using Dominance Functions</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="working-with-labeled-data.html#GUID-620518A2-9072-427C-9560-3F9F165F1247" title="When SQL statements are processed, Oracle Label Security makes calls to the security policies defined in the database by create-and-apply procedures.">Filtration of Data Using Labels</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="OLSAG3162"></a><div class="props_rev_3"><a id="GUID-9D6DF3AA-C487-4FE0-8FB8-6D9173A23A93" name="GUID-9D6DF3AA-C487-4FE0-8FB8-6D9173A23A93"></a><h4 id="OLSAG-GUID-9D6DF3AA-C487-4FE0-8FB8-6D9173A23A93" class="sect4">Ordering Labeled Data Rows</h4>
                  <div>
                     <p>The <code class="codeph">ORDER BY</code> clause of a <code class="codeph">SELECT</code> statement can be used to order rows by the numeric label tag.
                     </p>
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>To perform the <code class="codeph">ORDER BY</code> operation, use a <code class="codeph">SELECT</code> statement similar to the following:
                              </p><pre class="oac_no_warn" dir="ltr">SELECT * from emp
ORDER BY hr_label;
</pre></li>
                        </ul>
                        <p>Notice that no functions were necessary in this statement. The statement made use of label tags set up by the administrator.</p>
                        <div class="infoboxnote" id="GUID-9D6DF3AA-C487-4FE0-8FB8-6D9173A23A93__GUID-6FF73DF3-62BB-4BBD-B09C-554E5CF43482">
                           <p class="notep1">Note:</p>
                           <p>Again, such queries have meaning only if the administrator has applied a numeric ordering strategy to the label tags originally assigned to the labels.</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="working-with-labeled-data.html#GUID-620518A2-9072-427C-9560-3F9F165F1247" title="When SQL statements are processed, Oracle Label Security makes calls to the security policies defined in the database by create-and-apply procedures.">Filtration of Data Using Labels</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="OLSAG3163"></a><div class="props_rev_3"><a id="GUID-49361ADF-A62F-412D-A59D-0226C069ECEC" name="GUID-49361ADF-A62F-412D-A59D-0226C069ECEC"></a><h4 id="OLSAG-GUID-49361ADF-A62F-412D-A59D-0226C069ECEC" class="sect4">Ordering by Character Representation of Label</h4>
                  <div>
                     <p>The <code class="codeph">LABEL_TO_CHAR</code> function orders data rows by the character representation of the label.
                     </p>
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>To order data rows by the character representation of a label, use a statement similar to the following, which returns all rows sorted by the text order of the label :</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM emp
ORDER BY label_to_char (hr_label);</pre></li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="working-with-labeled-data.html#GUID-620518A2-9072-427C-9560-3F9F165F1247" title="When SQL statements are processed, Oracle Label Security makes calls to the security policies defined in the database by create-and-apply procedures.">Filtration of Data Using Labels</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="OLSAG3164"></a><div class="props_rev_3"><a id="GUID-65D855D9-2DE3-4EB8-83CE-2B0D78E56F35" name="GUID-65D855D9-2DE3-4EB8-83CE-2B0D78E56F35"></a><h4 id="OLSAG-GUID-65D855D9-2DE3-4EB8-83CE-2B0D78E56F35" class="sect4">Determination of the Upper and Lower Bounds of Labels</h4>
                  <div>
                     <p>Oracle Label Security provides functions that determine the least upper bound or the greatest lower bound of two or more labels.</p>
                     <p>Two single-row functions operate on each row returned by a query. They return one result for each row.</p>
                     <div class="infoboxnote" id="GUID-65D855D9-2DE3-4EB8-83CE-2B0D78E56F35__GUID-DBB20F65-4E3A-44F3-85E5-E24DD2CFE4FB">
                        <p class="notep1">Note:</p>
                        <p>In all functions that take multiple labels, the labels must all belong to the same policy.</p>
                     </div>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="working-with-labeled-data.html#GUID-041219B9-A9BC-449E-828C-627E167F3785">Finding Least Upper Bound with LEAST_UBOUND</a><br>The <code class="codeph">OLS_LEAST_UBOUND</code> (<code class="codeph">OLS_LUBD</code>) function returns a character string label that is the least upper bound of <span class="italic"><code class="codeph">label1</code></span> and <span class="italic"><code class="codeph">label2:</code></span>.
                        </li>
                        <li class="ulchildlink"><a href="working-with-labeled-data.html#GUID-EF496648-2E08-4B63-9047-B0436274E77E">Finding Greatest Lower Bound with GREATEST_LBOUND</a><br>The <code class="codeph">OLS_GREATEST_LBOUND</code> (<code class="codeph">OLS_GLBD</code>) standalone function determines the lowest label of the data that can be involved in an operation, given two different labels. 
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="working-with-labeled-data.html#GUID-620518A2-9072-427C-9560-3F9F165F1247" title="When SQL statements are processed, Oracle Label Security makes calls to the security policies defined in the database by create-and-apply procedures.">Filtration of Data Using Labels</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="OLSAG3685"></a><a id="OLSAG3165"></a><div class="props_rev_3"><a id="GUID-041219B9-A9BC-449E-828C-627E167F3785" name="GUID-041219B9-A9BC-449E-828C-627E167F3785"></a><h5 id="OLSAG-GUID-041219B9-A9BC-449E-828C-627E167F3785" class="sect5">Finding Least Upper Bound with LEAST_UBOUND</h5>
                     <div>
                        <p>The <code class="codeph">OLS_LEAST_UBOUND</code> (<code class="codeph">OLS_LUBD</code>) function returns a character string label that is the least upper bound of <span class="italic"><code class="codeph">label1</code></span> and <span class="italic"><code class="codeph">label2:</code></span>.
                        </p>
                        <div class="section">
                           <p>That is, the one label that dominates both. The least upper bound is the highest level, the union of the compartments in the labels, and the union of the groups in the labels.</p>
                           <p>For example, the least upper bound of <code class="codeph">HIGHLY_SENSITIVE:ALPHA</code> and <code class="codeph">SENSITIVE:BETA</code> is <code class="codeph">HIGHLY_SENSITIVE:ALPHA,BETA.</code> 
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>To find the least upper bound, use the following syntax:</p><pre class="oac_no_warn" dir="ltr">FUNCTION OLS_LEAST_UBOUND (
     label1                    IN NUMBER,
     label2                    IN NUMBER) 
RETURN VARCHAR2; </pre></li>
                           </ul>
                           <p>The <code class="codeph">OLS_LEAST_UBOUND</code> function is useful when joining rows with different labels, because it provides a high water mark label for joined rows. 
                           </p>
                           <p>The following query compares each employee's label with the label of his or her department, and returns the higher label, whether it be in the EMP table or the DEPT table. </p><pre class="oac_no_warn" dir="ltr">SELECT ename,dept.deptno, 
  OLS_LEAST_UBOUND(emp.hr_label,dept.hr_label) as label
  FROM emp, dept
  WHERE emp.deptno=dept.deptno;
</pre><p>This query returns the following data:</p>
                           <div class="tblformal" id="GUID-041219B9-A9BC-449E-828C-627E167F3785__GUID-29F09980-B199-4081-814E-65645C2FBAE5">
                              <p class="titleintable">Table 6-4 Data Returned from Sample SQL Statements re Least_UBound </p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="Data Returned from Sample SQL Statements re Least_UBound " summary="This table lists the rows returned from the query, showing each row’s employee name, department number, and label." width="100%" frame="hsides" border="1" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="33%" id="d25700e2561">ENAME</th>
                                       <th align="left" valign="bottom" width="33%" id="d25700e2564">DEPTNO</th>
                                       <th align="left" valign="bottom" width="33%" id="d25700e2567">LABEL</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="33%" id="d25700e2572" headers="d25700e2561 ">
                                          <p><code class="codeph">KING</code></p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d25700e2572 d25700e2564 ">
                                          <p>10</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d25700e2572 d25700e2567 ">
                                          <p>L3:M:D10</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="33%" id="d25700e2583" headers="d25700e2561 ">
                                          <p><code class="codeph">BLAKE</code></p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d25700e2583 d25700e2564 ">
                                          <p>30</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d25700e2583 d25700e2567 ">
                                          <p>L3:M:D30</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="33%" id="d25700e2594" headers="d25700e2561 ">
                                          <p><code class="codeph">CLARK</code></p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d25700e2594 d25700e2564 ">
                                          <p>10</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d25700e2594 d25700e2567 ">
                                          <p>L3:M:D10 </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="33%" id="d25700e2605" headers="d25700e2561 ">
                                          <p><code class="codeph">JONES</code></p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d25700e2605 d25700e2564 ">
                                          <p>20</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d25700e2605 d25700e2567 ">
                                          <p>L3:M:D20</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="33%" id="d25700e2616" headers="d25700e2561 ">
                                          <p><code class="codeph">MARTIN</code></p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d25700e2616 d25700e2564 ">
                                          <p>30</p>
                                       </td>
                                       <td align="left" valign="top" width="33%" headers="d25700e2616 d25700e2567 ">
                                          <p>L2:E:D30    </p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <div class="infoboxnote" id="GUID-041219B9-A9BC-449E-828C-627E167F3785__GUID-78EC4B49-84E7-4E14-9E5C-47DF53BC13C6">
                              <p class="notep1">Note:</p>
                              <p>The old OLS functions, <code class="codeph">LEAST_UBOUND</code> and <code class="codeph">LUBD</code> have been deprecated in Oracle Database 12<span class="italic">c</span> release 1 (12.1).
                              </p>
                              <p>You can still use the old functions in this release, but Oracle recommends that you use the <code class="codeph">OLS_LEAST_UBOUND</code> and <code class="codeph">OLS_LUBD</code> functions instead. Using the new function names avoids potential name conflicts with other database components.
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="working-with-labeled-data.html#GUID-65D855D9-2DE3-4EB8-83CE-2B0D78E56F35" title="Oracle Label Security provides functions that determine the least upper bound or the greatest lower bound of two or more labels.">Determination of the Upper and Lower Bounds of Labels</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="OLSAG3167"></a><div class="props_rev_3"><a id="GUID-EF496648-2E08-4B63-9047-B0436274E77E" name="GUID-EF496648-2E08-4B63-9047-B0436274E77E"></a><h5 id="OLSAG-GUID-EF496648-2E08-4B63-9047-B0436274E77E" class="sect5">Finding Greatest Lower Bound with GREATEST_LBOUND</h5>
                     <div>
                        <p>The <code class="codeph">OLS_GREATEST_LBOUND</code> (<code class="codeph">OLS_GLBD</code>) standalone function determines the lowest label of the data that can be involved in an operation, given two different labels. 
                        </p>
                        <div class="section">
                           <p>This function returns a character string label that is the greatest lower bound of <span class="italic"><code class="codeph">label1</code></span> and <span class="italic"><code class="codeph">label2.</code></span> The greatest lower bound is the lowest level, the intersection of the compartments in the labels and the groups in the labels. For example, the greatest lower bound of <code class="codeph">HIGHLY_SENSITIVE:ALPHA</code> and <code class="codeph">SENSITIVE</code> is <code class="codeph">SENSITIVE.</code> 
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>To find the greatest lower bound, use the following syntax:</p><pre class="oac_no_warn" dir="ltr">FUNCTION OLS_GREATEST_LBOUND (
     label1                  IN NUMBER,
     label2                  IN NUMBER) 
RETURN VARCHAR2; </pre></li>
                           </ul>
                           <div class="infoboxnote" id="GUID-EF496648-2E08-4B63-9047-B0436274E77E__GUID-22B8A8B2-A3E2-436B-8682-BEAA81AD1403">
                              <p class="notep1">Note:</p>
                              <p>The old OLS functions, <code class="codeph">GREATEST_LBOUND</code> and <code class="codeph">GLBD</code> were deprecated in Oracle Database 12<span class="italic">c</span> release 1 (12.1).
                              </p>
                              <p>You can still use the old functions in this release, but Oracle recommends that you use the <code class="codeph">OLS_GREATEST_LBOUND</code> and <code class="codeph">OLS_GLBD</code> functions instead. Using the new function names avoids potential name conflicts with other database components.
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="working-with-labeled-data.html#GUID-65D855D9-2DE3-4EB8-83CE-2B0D78E56F35" title="Oracle Label Security provides functions that determine the least upper bound or the greatest lower bound of two or more labels.">Determination of the Upper and Lower Bounds of Labels</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="OLSAG3169"></a><a id="OLSAG3168"></a><div class="props_rev_3"><a id="GUID-204B41DF-86A4-47AE-92F5-E10EF60A194C" name="GUID-204B41DF-86A4-47AE-92F5-E10EF60A194C"></a><h4 id="OLSAG-GUID-204B41DF-86A4-47AE-92F5-E10EF60A194C" class="sect4">Merging Labels with the MERGE_LABEL Function</h4>
                  <div>
                     <p>The <code class="codeph">MERGE_LABEL</code> function merges two labels together. 
                     </p>
                     <div class="section">
                        <p>It accepts the character string form of two labels and the three-character specification of a merge format. </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>To merge labels, use the following syntax:</p><pre class="oac_no_warn" dir="ltr">FUNCTION merge_label (label1 IN number,
                      label2 IN number,
                      merge_format IN VARCHAR2)
RETURN number;
</pre></li>
                        </ul>
                        <p>The valid merge format is specified with a three-character string:</p>
                        <p><span class="italic"><code class="codeph">&lt;highest level or lowest level&gt;&lt;union or intersection of compartments&gt;&lt;union or intersection of groups&gt;</code></span></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The first character indicates whether to merge using the highest level or the lowest level of the two labels.</p>
                           </li>
                           <li>
                              <p>The second character indicates whether to merge using the union or the intersection of the compartments in the two labels.</p>
                           </li>
                           <li>
                              <p>The third character indicates whether to merge using the union or the intersection of the groups in the two labels.</p>
                           </li>
                        </ul>
                        <p><a href="working-with-labeled-data.html#GUID-204B41DF-86A4-47AE-92F5-E10EF60A194C__BEIIFDCH" title="This table lists the constants used in MERGE_LABEL formats, giving for each one the format specification, datatype, constsant, meaning, and position where it is used.">Table 6-5</a> defines the <code class="codeph">MERGE_LABEL</code> format constants.
                        </p>
                        <div class="tblformal" id="GUID-204B41DF-86A4-47AE-92F5-E10EF60A194C__BEIIFDCH">
                           <p class="titleintable">Table 6-5 MERGE_LABEL Format Constants </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="MERGE_LABEL Format Constants " summary="This table lists the constants used in MERGE_LABEL formats, giving for each one the format specification, datatype, constsant, meaning, and position where it is used." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="23%" id="d25700e2892">Format Specification</th>
                                    <th align="left" valign="bottom" width="25%" id="d25700e2895"> Data Type</th>
                                    <th align="left" valign="bottom" width="11%" id="d25700e2898">Constant</th>
                                    <th align="left" valign="bottom" width="22%" id="d25700e2901">Meaning</th>
                                    <th align="left" valign="bottom" width="20%" id="d25700e2904">Positions in Which Format Is Used</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d25700e2909" headers="d25700e2892 ">
                                       <p><code class="codeph">max_lvl_fmt</code></p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d25700e2909 d25700e2895 ">
                                       <p><code class="codeph">CONSTANT</code> <code class="codeph">varchar2(1)</code></p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d25700e2909 d25700e2898 ">
                                       <p><code class="codeph">H</code></p>
                                    </td>
                                    <td align="left" valign="top" width="22%" headers="d25700e2909 d25700e2901 ">
                                       <p>Maximum level</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d25700e2909 d25700e2904 ">
                                       <p>First (level)</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d25700e2931" headers="d25700e2892 ">
                                       <p><code class="codeph">min_lvl_fmt</code></p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d25700e2931 d25700e2895 ">
                                       <p><code class="codeph">CONSTANT</code> <code class="codeph">varchar2(1)</code></p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d25700e2931 d25700e2898 ">
                                       <p><code class="codeph">L</code></p>
                                    </td>
                                    <td align="left" valign="top" width="22%" headers="d25700e2931 d25700e2901 ">
                                       <p>Minimum level</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d25700e2931 d25700e2904 ">
                                       <p>First (Level)</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d25700e2953" headers="d25700e2892 ">
                                       <p><code class="codeph">union_fmt</code></p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d25700e2953 d25700e2895 ">
                                       <p><code class="codeph">CONSTANT</code> <code class="codeph">varchar2(1)</code></p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d25700e2953 d25700e2898 ">
                                       <p><code class="codeph">U</code></p>
                                    </td>
                                    <td align="left" valign="top" width="22%" headers="d25700e2953 d25700e2901 ">
                                       <p>Union of the two labels</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d25700e2953 d25700e2904 ">
                                       <p>Second (compartments) and Third (groups)</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d25700e2975" headers="d25700e2892 ">
                                       <p><code class="codeph">inter_fmt</code></p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d25700e2975 d25700e2895 ">
                                       <p><code class="codeph">CONSTANT</code> <code class="codeph">varchar2(1)</code></p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d25700e2975 d25700e2898 ">
                                       <p><code class="codeph">I</code></p>
                                    </td>
                                    <td align="left" valign="top" width="22%" headers="d25700e2975 d25700e2901 ">
                                       <p>Intersection of the two labels</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d25700e2975 d25700e2904 ">
                                       <p>Second (compartments) and Third (groups)</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d25700e2997" headers="d25700e2892 ">
                                       <p><code class="codeph">minus_fmt</code></p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d25700e2997 d25700e2895 ">
                                       <p><code class="codeph">CONSTANT</code> <code class="codeph">varchar2(1)</code></p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d25700e2997 d25700e2898 ">
                                       <p><code class="codeph">M</code></p>
                                    </td>
                                    <td align="left" valign="top" width="22%" headers="d25700e2997 d25700e2901 ">
                                       <p>Remove second label from first label</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d25700e2997 d25700e2904 ">
                                       <p>Second (compartments) and Third (groups)</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="23%" id="d25700e3019" headers="d25700e2892 ">
                                       <p><code class="codeph">null_fmt</code></p>
                                    </td>
                                    <td align="left" valign="top" width="25%" headers="d25700e3019 d25700e2895 ">
                                       <p><code class="codeph">CONSTANT</code> <code class="codeph">varchar2(1)</code></p>
                                    </td>
                                    <td align="left" valign="top" width="11%" headers="d25700e3019 d25700e2898 ">
                                       <p><code class="codeph">N</code></p>
                                    </td>
                                    <td align="left" valign="top" width="22%" headers="d25700e3019 d25700e2901 ">
                                       <p>If specified in compartments column, returns no compartments. If specified in groups column, returns no groups.</p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d25700e3019 d25700e2904 ">
                                       <p>Second (compartments) and Third (groups)</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>For example, <code class="codeph">HUI</code> specifies the highest level of the two labels, union of the compartments, intersection of the groups.
                        </p>
                        <p>The <code class="codeph">MERGE_LABEL</code> function is particularly useful to developers if the <code class="codeph">LEAST_UBOUND</code> function does not provide the intended result. The <code class="codeph">LEAST_UBOUND</code> function, when used with two labels containing groups, may result in a less sensitive data label than expected. The <code class="codeph">MERGE_LABEL</code> function enables you to compute an intersection on the groups, instead of the union of groups that is provided by the <code class="codeph">LEAST_UBOUND</code> function.
                        </p>
                        <p>For example, if the label of one data record contains the group <code class="codeph">UNITED_STATES</code>, and the label of another data record contains the group <code class="codeph">UNITED_KINGDOM</code>, and the <code class="codeph">LEAST_UBOUND</code> function is used to compute the least upper bound of these two labels, then the resulting label would be accessible to users authorized for either the <code class="codeph">UNITED_STATES</code> or the <code class="codeph">UNITED_KINGDOM</code>.
                        </p>
                        <p>If, by contrast, the <code class="codeph">MERGE_LABEL</code> function is used with a format clause of <code class="codeph">HUI</code>, then the resulting label would contain the highest level, the union of the compartments, and no groups. This is because <code class="codeph">UNITED_STATES</code> and <code class="codeph">UNITED_KINGDOM</code> do not intersect.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="working-with-labeled-data.html#GUID-620518A2-9072-427C-9560-3F9F165F1247" title="When SQL statements are processed, Oracle Label Security makes calls to the security policies defined in the database by create-and-apply procedures.">Filtration of Data Using Labels</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="OLSAG024"></a><div class="props_rev_3"><a id="GUID-ED5DA711-477C-42D9-B03C-866A909DDE23" name="GUID-ED5DA711-477C-42D9-B03C-866A909DDE23"></a><h3 id="OLSAG-GUID-ED5DA711-477C-42D9-B03C-866A909DDE23" class="sect3">Inserting Labeled Data</h3>
               <div>
                  <p>You can insert labeled data in a variety of situations. </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="working-with-labeled-data.html#GUID-A8AF35C5-B725-4243-BA49-29CBDE354BC6">About Inserting Labeled Data</a><br>When you insert data into a table protected by an Oracle Label Security policy, you must supply a numeric label value tag. 
                     </li>
                     <li class="ulchildlink"><a href="working-with-labeled-data.html#GUID-4B9212A1-889E-4E5C-81D8-2D09A1D15033">Inserting Labels Using CHAR_TO_LABEL</a><br>To insert a row label, you can specify the label character string and then transform it into a label using the <code class="codeph">CHAR_TO_LABEL</code> function. 
                     </li>
                     <li class="ulchildlink"><a href="working-with-labeled-data.html#GUID-6C57A3B3-0B9F-4D22-BA14-297150A6AE36">Inserting Labels Using Numeric Label Tag Values</a><br>You can insert data using the numeric label tag value of a label, rather than using the <code class="codeph">CHAR_TO_LABEL</code> function. 
                     </li>
                     <li class="ulchildlink"><a href="working-with-labeled-data.html#GUID-9624056D-B307-4292-9FD1-756B83B8A5F1">Inserting Data Without Specifying a Label</a><br>There are two situations in which you do not need to specify a label in <code class="codeph">INSERT</code> statements. 
                     </li>
                     <li class="ulchildlink"><a href="working-with-labeled-data.html#GUID-8F410DD6-01CA-4B15-8377-ECE81C87A8D6">Inserting Data When the Policy Label Column Is Hidden</a><br>If the label column is hidden, then the existence of the column is transparent to the insertion of data. 
                     </li>
                     <li class="ulchildlink"><a href="working-with-labeled-data.html#GUID-200BD865-1840-4A11-B179-D445A2342C21">Inserting Labels Using TO_DATA_LABEL</a><br>The <code class="codeph">TO_DATA_LABEL</code> function can generate new labels dynamically. 
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="working-with-labeled-data.html#GUID-75401780-723A-4EA5-AEDB-751E48AFC1DA" title="You can manage labeled data, view that data of security attributes for a session, and change the value of session attributes.">Working with Labeled Data</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="props_rev_3"><a id="GUID-A8AF35C5-B725-4243-BA49-29CBDE354BC6" name="GUID-A8AF35C5-B725-4243-BA49-29CBDE354BC6"></a><h4 id="OLSAG-GUID-A8AF35C5-B725-4243-BA49-29CBDE354BC6" class="sect4">About Inserting Labeled Data</h4>
                  <div>
                     <p>When you insert data into a table protected by an Oracle Label Security policy, you must supply a numeric label value tag. </p>
                     <p>Usually, you can insert this value in the <code class="codeph">INSERT</code> statement itself. 
                     </p>
                     <p>To do this, you must explicitly specify the tag for the desired label or explicitly convert the character string representation of the label into the correct tag. Note that this does not mean generating new label tags, but referencing the correct tag. When Oracle Label Security is using Oracle Internet Directory, the only permissible labels (and corresponding tags) are those pre-defined by the administrator and already in Oracle Internet Directory.</p>
                     <p>The only times an <code class="codeph">INSERT</code> statement may omit a label value are:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>If the <code class="codeph">LABEL_DEFAULT</code> enforcement option was specified when the policy was applied, or
                           </p>
                        </li>
                        <li>
                           <p>If no enforcement options were specified when the policy was applied and <code class="codeph">LABEL_DEFAULT</code> was specified when the policy was created
                           </p>
                        </li>
                        <li>
                           <p>If the statement applying the policy named a labeling function. </p>
                        </li>
                     </ul>
                     <p>In the first two cases, the user's session default row label is used as the inserted row's label. In the third case, the inserted row's label is created by that labeling function. </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="implementing-policy-enforcement-options-and-labeling-functions.html#GUID-EEAEF7F0-9454-4E00-BAB0-D74BB236CD5B" title="Labeling functions can compute and return a label using resources such as context variables (for example, date or username) and data values.">Labeling Functions</a></li>
                           <li><a href="implementing-policy-enforcement-options-and-labeling-functions.html#GUID-74CD83CB-3398-439D-B791-7C08867EF645" title="You can customize the enforcement of Oracle Label Security policies and implement labeling functions.">Implementing Policy Enforcement Options and Labeling Functions</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="working-with-labeled-data.html#GUID-ED5DA711-477C-42D9-B03C-866A909DDE23" title="You can insert labeled data in a variety of situations.">Inserting Labeled Data</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="OLSAG3170"></a><div class="props_rev_3"><a id="GUID-4B9212A1-889E-4E5C-81D8-2D09A1D15033" name="GUID-4B9212A1-889E-4E5C-81D8-2D09A1D15033"></a><h4 id="OLSAG-GUID-4B9212A1-889E-4E5C-81D8-2D09A1D15033" class="sect4">Inserting Labels Using CHAR_TO_LABEL</h4>
                  <div>
                     <p>To insert a row label, you can specify the label character string and then transform it into a label using the <code class="codeph">CHAR_TO_LABEL</code> function. 
                     </p>
                     <div class="section">
                        <p>The <code class="codeph">CHAR_TO_LABEL</code> function automatically creates a valid data label.
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>To insert labels, use an <code class="codeph">INSERT INTO</code> statement. 
                              </p>
                           </li>
                        </ul>
                        <p>Using the definition for table <code class="codeph">emp</code>, the following example shows how to insert data with explicit labels:
                        </p><pre class="oac_no_warn" dir="ltr">INSERT INTO emp (ename,empno,hr_label)
VALUES ('ESTANTON',10,char_to_label ('HR', 'SENSITIVE'));</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="working-with-labeled-data.html#GUID-ED5DA711-477C-42D9-B03C-866A909DDE23" title="You can insert labeled data in a variety of situations.">Inserting Labeled Data</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="OLSAG3171"></a><div class="props_rev_3"><a id="GUID-6C57A3B3-0B9F-4D22-BA14-297150A6AE36" name="GUID-6C57A3B3-0B9F-4D22-BA14-297150A6AE36"></a><h4 id="OLSAG-GUID-6C57A3B3-0B9F-4D22-BA14-297150A6AE36" class="sect4">Inserting Labels Using Numeric Label Tag Values</h4>
                  <div>
                     <p>You can insert data using the numeric label tag value of a label, rather than using the <code class="codeph">CHAR_TO_LABEL</code> function. 
                     </p>
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>To insert labels using numeric label tag values, use an <code class="codeph">INSERT INTO</code> statement.
                              </p>
                           </li>
                        </ul>
                        <p>For example, if the numeric label tag for <code class="codeph">SENSITIVE</code> is 3000, it would appear as follows:
                        </p><pre class="oac_no_warn" dir="ltr">INSERT INTO emp (ename, empno, hr_label)
VALUES ('ESTANTON', 10, 3000);</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="working-with-labeled-data.html#GUID-ED5DA711-477C-42D9-B03C-866A909DDE23" title="You can insert labeled data in a variety of situations.">Inserting Labeled Data</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="OLSAG3172"></a><div class="props_rev_3"><a id="GUID-9624056D-B307-4292-9FD1-756B83B8A5F1" name="GUID-9624056D-B307-4292-9FD1-756B83B8A5F1"></a><h4 id="OLSAG-GUID-9624056D-B307-4292-9FD1-756B83B8A5F1" class="sect4">Inserting Data Without Specifying a Label</h4>
                  <div>
                     <p>There are two situations in which you do not need to specify a label in <code class="codeph">INSERT</code> statements. 
                     </p>
                     <div class="section">
                        <p>If <code class="codeph">LABEL_DEFAULT</code> is set, or if there is a labeling function applied to the table, then you do not need to specify a label in your <code class="codeph">INSERT</code> statements. The label will be provided automatically. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>To insert data without specifying a label, use an <code class="codeph">INSERT INTO</code> statement. 
                              </p>
                           </li>
                        </ul>
                        <p>For example:</p><pre class="oac_no_warn" dir="ltr">INSERT INTO emp (ename, empno)
VALUES ('ESTANTON', 10);
</pre><p>The resulting row label is set according to the default value (or by a labeling function).</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="working-with-labeled-data.html#GUID-ED5DA711-477C-42D9-B03C-866A909DDE23" title="You can insert labeled data in a variety of situations.">Inserting Labeled Data</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="OLSAG3173"></a><div class="props_rev_3"><a id="GUID-8F410DD6-01CA-4B15-8377-ECE81C87A8D6" name="GUID-8F410DD6-01CA-4B15-8377-ECE81C87A8D6"></a><h4 id="OLSAG-GUID-8F410DD6-01CA-4B15-8377-ECE81C87A8D6" class="sect4">Inserting Data When the Policy Label Column Is Hidden</h4>
                  <div>
                     <p>If the label column is hidden, then the existence of the column is transparent to the insertion of data. </p>
                     <div class="section">
                        <p><code class="codeph">INSERT</code> statements can be written that do not explicitly list the table columns and do not include a value for the label column. 
                        </p>
                        <p>The session's row label is used to label the data, or a labeling function is used if one was specified when the policy was applied to the table or schema. </p>
                        <p>You can insert into a table without explicitly naming the columns, as long as you specify a value for each non-hidden column in the table. The following example shows how to insert a row into the table described in <a href="working-with-labeled-data.html#GUID-62D8E07A-EC69-4EF7-A0B4-5FC69B476152__BEIIGDED">Example 2: Numeric Column Data Type with Hidden Column</a>:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>To insert data when the policy label column is hidden, use the following syntax:</p><pre class="oac_no_warn" dir="ltr">INSERT INTO emp
VALUES ('196','ESTANTON',Technician,RSTOUT,50000,10);
</pre></li>
                        </ul>
                        <p>Its label will be one of the following three possibilities:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The label you specify</p>
                           </li>
                           <li>
                              <p>The label established by the <code class="codeph">LABEL_DEFAULT</code> option of the policy being applied
                              </p>
                           </li>
                           <li>
                              <p>The label created by a labeling function named by the policy being applied</p>
                              <div class="infoboxnote" id="GUID-8F410DD6-01CA-4B15-8377-ECE81C87A8D6__GUID-0F96A424-0E9F-4861-84DC-05266CC12700">
                                 <p class="notep1">Note:</p>
                                 <p>If the policy label column is <span class="italic">not </span>hidden, then you must explicitly include a label value (possibly null, indicated by a comma) in the <code class="codeph">INSERT</code> statement.
                                 </p>
                              </div>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="working-with-labeled-data.html#GUID-ED5DA711-477C-42D9-B03C-866A909DDE23" title="You can insert labeled data in a variety of situations.">Inserting Labeled Data</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="OLSAG3174"></a><div class="props_rev_3"><a id="GUID-200BD865-1840-4A11-B179-D445A2342C21" name="GUID-200BD865-1840-4A11-B179-D445A2342C21"></a><h4 id="OLSAG-GUID-200BD865-1840-4A11-B179-D445A2342C21" class="sect4">Inserting Labels Using TO_DATA_LABEL</h4>
                  <div>
                     <p>The <code class="codeph">TO_DATA_LABEL</code> function can generate new labels dynamically. 
                     </p>
                     <div class="section">
                        <p>This approach guarantees that the data labels are valid. However, be aware that when Oracle Label Security is installed to work with Oracle Internet Directory, dynamic label generation is not allowed, because labels are managed centrally in Oracle Internet Directory, using <code class="codeph">olsadmintool</code> commands. Therefore, when Oracle Label Security is directory-enabled, this function, <code class="codeph">TO_DATA_LABEL</code>, is not available and will generate an error message if used.
                        </p>
                        <ol>
                           <li>
                              <p>Ensure that you have the <code class="codeph">EXECUTE</code> privilege on the <code class="codeph">TO_DATA_LABEL</code> function.
                              </p>
                           </li>
                           <li>
                              <p>Use the <code class="codeph">TO_DATA_LABEL</code> as necessary, for example, in an <code class="codeph">INSERT INTO</code> statement.
                              </p>
                           </li>
                        </ol>
                        <p>For example:</p><pre class="oac_no_warn" dir="ltr">INSERT INTO emp (ename, empno, hr_label)
VALUES ('ESTANTON', 10, to_data_label ('HR', 'SENSITIVE'));</pre><div class="infoboxnote" id="GUID-200BD865-1840-4A11-B179-D445A2342C21__GUID-3DC09E4E-7183-45DA-A3D5-53463AF49FC4">
                           <p class="notep1">Note:</p>
                           <p>The <code class="codeph">TO_DATA_LABEL</code> function must be explicitly granted to individuals, in order to be used. Its usage should be tightly controlled.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="command-line-tools-for-label-security-using-oracle-internet-directory.html#GUID-CEBDC422-8872-46C1-8A3B-F1161539DD22" title="Oracle Label Security provides command-line tools for using Oracle Internet Directory.">Command-line Tools for Label Security Using Oracle Internet Directory</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="working-with-labeled-data.html#GUID-ED5DA711-477C-42D9-B03C-866A909DDE23" title="You can insert labeled data in a variety of situations.">Inserting Labeled Data</a></p>
                        </div>
                     </div>
                  </div>
               </div>
            </div><a id="OLSAG3787"></a><div class="props_rev_3"><a id="GUID-52C240C0-D5B3-4F9A-9C83-F8AA2FC360DF" name="GUID-52C240C0-D5B3-4F9A-9C83-F8AA2FC360DF"></a><h3 id="OLSAG-GUID-52C240C0-D5B3-4F9A-9C83-F8AA2FC360DF" class="sect3">Changing Session and Row Labels</h3>
               <div>
                  <p>During a session, a user can change labels based on the authorizations an administrator sets. </p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="oracle-label-security-pl-sql-packages.html#GUID-406E4A7D-EC93-4720-BE46-0553EA0B1BB7" title="The SA_SESSION PL/SQL package manages session behavior for user authorizations.">SA_SESSION Session Management PL/SQL Package</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="working-with-labeled-data.html#GUID-75401780-723A-4EA5-AEDB-751E48AFC1DA" title="You can manage labeled data, view that data of security attributes for a session, and change the value of session attributes.">Working with Labeled Data</a></p>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='01597.package-Range-API.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Package Range for XML C APIs</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="XML C API Reference">
      <meta property="og:description" content>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="XML C API Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="xml-c-api-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-11T06:29:15-08:00">
      <meta name="dcterms.title" content="XML C API Reference">
      <meta name="dcterms.dateCopyrighted" content="2001, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96478-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="package-Orastream-API.html" title="Previous" type="text/html">
      <link rel="next" href="package-SAX-API.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="CAXML">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="package-Orastream-API.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="package-SAX-API.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">XML C API Reference</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Package Range for XML C APIs</li>
            </ol>
            <a id="GUID-A0B27F7E-D361-4CA6-993E-31B2FCF441A9" name="GUID-A0B27F7E-D361-4CA6-993E-31B2FCF441A9"></a><a id="CAXML01000"></a>
            
            <h2 id="CAXML-GUID-A0B27F7E-D361-4CA6-993E-31B2FCF441A9" class="sect2"><span class="enumeration_chapter">6 </span>Package Range for XML C APIs
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The following table summarizes the methods available through the <code class="codeph">Range</code> interface for XML C APIs.
               </p>
               <div class="tblformal" id="GUID-A0B27F7E-D361-4CA6-993E-31B2FCF441A9__SUMMARYDOMRANGE">
                  <p class="titleintable">Table 6-1 Summary of Range Methods for XML C Implementation</p>
                  <table cellpadding="4" cellspacing="0" class="Formal" title="Summary of Range Methods for XML C Implementation" summary="First column lists interfaces; second column provides a brief description of these interfaces." width="100%" frame="hsides" border="1" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="53%" id="d82768e53">Function</th>
                           <th align="left" valign="bottom" width="47%" id="d82768e56">Summary</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="53%" id="d82768e61" headers="d82768e53 ">
                              <p><a href="package-Range-API.html#GUID-9A232385-010C-48FE-B0CB-8129F6E696F8">XmlDomCreateRange()</a></p>
                           </td>
                           <td align="left" valign="top" width="47%" headers="d82768e61 d82768e56 ">
                              <p>Create <code class="codeph">Range</code> object.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="53%" id="d82768e73" headers="d82768e53 ">
                              <p><a href="package-Range-API.html#GUID-FF338C12-B7D2-4F82-BEC6-065DC0B7E9E5">XmlDomRangeClone()</a></p>
                           </td>
                           <td align="left" valign="top" width="47%" headers="d82768e73 d82768e56 ">
                              <p>Clone a range.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="53%" id="d82768e82" headers="d82768e53 ">
                              <p><a href="package-Range-API.html#GUID-5310C75C-8374-4DB7-BC90-CDC5704779C9">XmlDomRangeCloneContents()</a></p>
                           </td>
                           <td align="left" valign="top" width="47%" headers="d82768e82 d82768e56 ">
                              <p>Clone contents selected by a range.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="53%" id="d82768e91" headers="d82768e53 ">
                              <p><a href="package-Range-API.html#GUID-4C345888-A6AA-46E3-A358-A8D582742D10">XmlDomRangeCollapse()</a></p>
                           </td>
                           <td align="left" valign="top" width="47%" headers="d82768e91 d82768e56 ">
                              <p>Collapse range to either start point or end point.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="53%" id="d82768e100" headers="d82768e53 ">
                              <p><a href="package-Range-API.html#GUID-361852E2-E8C6-4A81-8AC4-5BB492202960">XmlDomRangeCompareBoundaryPoints()</a></p>
                           </td>
                           <td align="left" valign="top" width="47%" headers="d82768e100 d82768e56 ">
                              <p>Compare boundary points of two ranges.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="53%" id="d82768e109" headers="d82768e53 ">
                              <p><a href="package-Range-API.html#GUID-28431A21-CBB4-4786-99D4-4DD3AE143E8F">XmlDomRangeDeleteContents()</a></p>
                           </td>
                           <td align="left" valign="top" width="47%" headers="d82768e109 d82768e56 ">
                              <p>Delete content selected by a range.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="53%" id="d82768e118" headers="d82768e53 ">
                              <p><a href="package-Range-API.html#GUID-4C7D7DD3-0AE7-4063-B927-C192BDF28B0C">XmlDomRangeDetach()</a></p>
                           </td>
                           <td align="left" valign="top" width="47%" headers="d82768e118 d82768e56 ">
                              <p>Detach a range.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="53%" id="d82768e127" headers="d82768e53 ">
                              <p><a href="package-Range-API.html#GUID-094B6FD6-BE91-4B68-9932-2A1878F4372F">XmlDomRangeExtractContents()</a></p>
                           </td>
                           <td align="left" valign="top" width="47%" headers="d82768e127 d82768e56 ">
                              <p>Extract contents selected by a range.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="53%" id="d82768e136" headers="d82768e53 ">
                              <p><a href="package-Range-API.html#GUID-073E5526-D059-4396-87AA-C033DE14D402">XmlDomRangeGetCollapsed()</a></p>
                           </td>
                           <td align="left" valign="top" width="47%" headers="d82768e136 d82768e56 ">
                              <p>Return whether the range is collapsed.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="53%" id="d82768e145" headers="d82768e53 ">
                              <p><a href="package-Range-API.html#GUID-AB3CD220-743E-48BC-B8BE-8DDBB0970CD7">XmlDomRangeGetCommonAncestor()</a></p>
                           </td>
                           <td align="left" valign="top" width="47%" headers="d82768e145 d82768e56 ">
                              <p>Return deepest common ancestor node of two boundary points.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="53%" id="d82768e154" headers="d82768e53 ">
                              <p><a href="package-Range-API.html#GUID-3885C797-531F-404A-9EC0-BEA8D29F2223">XmlDomRangeGetDetached()</a></p>
                           </td>
                           <td align="left" valign="top" width="47%" headers="d82768e154 d82768e56 ">
                              <p>Return whether the range is detached.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="53%" id="d82768e164" headers="d82768e53 ">
                              <p><a href="package-Range-API.html#GUID-77EA2F79-2D9D-4A3C-8A81-F366F70EF264">XmlDomRangeGetEndContainer()</a></p>
                           </td>
                           <td align="left" valign="top" width="47%" headers="d82768e164 d82768e56 ">
                              <p>Return range end container node.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="53%" id="d82768e173" headers="d82768e53 ">
                              <p><a href="package-Range-API.html#GUID-76A62733-E419-4032-A9CE-3F98AE448BB3">XmlDomRangeGetEndOffset()</a></p>
                           </td>
                           <td align="left" valign="top" width="47%" headers="d82768e173 d82768e56 ">
                              <p>Return range end offset.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="53%" id="d82768e182" headers="d82768e53 ">
                              <p><a href="package-Range-API.html#GUID-09F660F0-0704-4D3C-BEF6-886DC706464F">XmlDomRangeGetStartContainer()</a></p>
                           </td>
                           <td align="left" valign="top" width="47%" headers="d82768e182 d82768e56 ">
                              <p>Return range start container node.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="53%" id="d82768e191" headers="d82768e53 ">
                              <p><a href="package-Range-API.html#GUID-00795DE0-F24F-40F9-8BFA-7CCC06A00106">XmlDomRangeGetStartOffset()</a></p>
                           </td>
                           <td align="left" valign="top" width="47%" headers="d82768e191 d82768e56 ">
                              <p>Return range start offset.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="53%" id="d82768e200" headers="d82768e53 ">
                              <p><a href="package-Range-API.html#GUID-A2897E98-5837-4E97-BD1C-52B7887A1158">XmlDomRangeIsConsistent()</a></p>
                           </td>
                           <td align="left" valign="top" width="47%" headers="d82768e200 d82768e56 ">
                              <p>Return whether the range is consistent.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="53%" id="d82768e209" headers="d82768e53 ">
                              <p><a href="package-Range-API.html#GUID-CEAAB2E8-21DE-4DF5-ABC4-B302E5C0F1C6">XmlDomRangeSelectNode()</a></p>
                           </td>
                           <td align="left" valign="top" width="47%" headers="d82768e209 d82768e56 ">
                              <p>Select a node as a range.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="53%" id="d82768e218" headers="d82768e53 ">
                              <p><a href="package-Range-API.html#GUID-F9142058-3AF9-4302-BBF1-D8B1FDEC3568">XmlDomRangeSelectNodeContents()</a></p>
                           </td>
                           <td align="left" valign="top" width="47%" headers="d82768e218 d82768e56 ">
                              <p>Define range to select node contents.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="53%" id="d82768e227" headers="d82768e53 ">
                              <p><a href="package-Range-API.html#GUID-51026D4D-A425-4E38-824E-22E00337DD53">XmlDomRangeSetEnd()</a></p>
                           </td>
                           <td align="left" valign="top" width="47%" headers="d82768e227 d82768e56 ">
                              <p>Set the end point.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="53%" id="d82768e236" headers="d82768e53 ">
                              <p><a href="package-Range-API.html#GUID-FB3220A7-8CCB-4B33-9AAF-B05A0F2FAD3A">XmlDomRangeSetEndBefore()</a></p>
                           </td>
                           <td align="left" valign="top" width="47%" headers="d82768e236 d82768e56 ">
                              <p>Set the end point before a node.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="53%" id="d82768e245" headers="d82768e53 ">
                              <p><a href="package-Range-API.html#GUID-C16961E4-6348-439C-8F89-B2FD34E07ED0">XmlDomRangeSetStart()</a></p>
                           </td>
                           <td align="left" valign="top" width="47%" headers="d82768e245 d82768e56 ">
                              <p>Set the start point.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="53%" id="d82768e254" headers="d82768e53 ">
                              <p><a href="package-Range-API.html#GUID-CABB2A67-B6AB-4E34-830F-8C7659554B55">XmlDomRangeSetStartAfter()</a></p>
                           </td>
                           <td align="left" valign="top" width="47%" headers="d82768e254 d82768e56 ">
                              <p>Set the start point after a node.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="53%" id="d82768e264" headers="d82768e53 ">
                              <p><a href="package-Range-API.html#GUID-E1CFF2BE-EE88-482C-92D0-A9CA67EF9ED7">XmlDomRangeSetStartBefore()</a></p>
                           </td>
                           <td align="left" valign="top" width="47%" headers="d82768e264 d82768e56 ">
                              <p>Set the start point before a node.</p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
            </div><a id="CAXML5838"></a><a id="CAXML5839"></a><a id="CAXML5837"></a><div class="props_rev_3"><a id="GUID-9A232385-010C-48FE-B0CB-8129F6E696F8" name="GUID-9A232385-010C-48FE-B0CB-8129F6E696F8"></a><h3 id="CAXML-GUID-9A232385-010C-48FE-B0CB-8129F6E696F8" class="sect3">XmlDomCreateRange()</h3>
               <div>
                  <div class="section">
                     <p>The only one method of <code class="codeph">DocumentRange</code> interface, used to create a <code class="codeph">Range</code> object. 
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9A232385-010C-48FE-B0CB-8129F6E696F8__GUID-309E5867-D4E8-4925-9480-B5A747D3A1B1">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">xmlrange* XmlDomCreateRange(
&nbsp;&nbsp;&nbsp;xmlctx *xctx, 
&nbsp;&nbsp;&nbsp;xmlrange *range, 
&nbsp;&nbsp;&nbsp;xmldocnode *doc);</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-9A232385-010C-48FE-B0CB-8129F6E696F8__GUID-EF41F8CD-1C4C-4399-A7EF-CA4BC5960CB7">
                     <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="23%" id="d82768e338">Parameter</th>
                              <th align="left" valign="bottom" width="12%" id="d82768e341">In/Out</th>
                              <th align="left" valign="bottom" width="65%" id="d82768e344">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d82768e349" headers="d82768e338 "><pre class="oac_no_warn" dir="ltr">xctx</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e349 d82768e341 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="65%" headers="d82768e349 d82768e344 ">
                                 <p>XML context</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d82768e359" headers="d82768e338 "><pre class="oac_no_warn" dir="ltr">range</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e359 d82768e341 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="65%" headers="d82768e359 d82768e344 ">
                                 <p>existing NodeIterator, or <code class="codeph">NULL</code> to allocate new
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d82768e372" headers="d82768e338 "><pre class="oac_no_warn" dir="ltr">doc</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e372 d82768e341 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="65%" headers="d82768e372 d82768e344 ">
                                 <p>document to which the new <code class="codeph">Range</code> is attached
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9A232385-010C-48FE-B0CB-8129F6E696F8__GUID-518EC015-BE70-4541-877E-070DC0B367BC">Returns</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">(xmlrange *)</code> original or new <code class="codeph">Range</code> object.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML5843"></a><a id="CAXML5844"></a><a id="CAXML5842"></a><div class="props_rev_3"><a id="GUID-FF338C12-B7D2-4F82-BEC6-065DC0B7E9E5" name="GUID-FF338C12-B7D2-4F82-BEC6-065DC0B7E9E5"></a><h3 id="CAXML-GUID-FF338C12-B7D2-4F82-BEC6-065DC0B7E9E5" class="sect3">XmlDomRangeClone()</h3>
               <div>
                  <div class="section">
                     <p>Clone a <code class="codeph">Range</code>. Clones the range without affecting the content selected by the original range. Returns <code class="codeph">NULL</code> if an error.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-FF338C12-B7D2-4F82-BEC6-065DC0B7E9E5__GUID-B4A73E00-DB26-4DD3-86CA-1BBBF4087D86">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">xmlrange* XmlDomRangeClone(
&nbsp;&nbsp;&nbsp;xmlctx *xctx, 
&nbsp;&nbsp;&nbsp;xmlrange *range, 
&nbsp;&nbsp;&nbsp;xmlerr *xerr);</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-FF338C12-B7D2-4F82-BEC6-065DC0B7E9E5__GUID-4A013E85-1EF7-4194-9FED-2A20B42A79CA">
                     <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="23%" id="d82768e461">Parameter</th>
                              <th align="left" valign="bottom" width="12%" id="d82768e464">In/Out</th>
                              <th align="left" valign="bottom" width="65%" id="d82768e467">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d82768e472" headers="d82768e461 "><pre class="oac_no_warn" dir="ltr">xctx</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e472 d82768e464 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="65%" headers="d82768e472 d82768e467 ">
                                 <p>XML context</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d82768e482" headers="d82768e461 "><pre class="oac_no_warn" dir="ltr">range</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e482 d82768e464 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="65%" headers="d82768e482 d82768e467 ">
                                 <p>range object</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="23%" id="d82768e492" headers="d82768e461 "><pre class="oac_no_warn" dir="ltr">xerr</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e492 d82768e464 "><pre class="oac_no_warn" dir="ltr">OUT</pre></td>
                              <td align="left" valign="top" width="65%" headers="d82768e492 d82768e467 ">
                                 <p>numeric return code</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-FF338C12-B7D2-4F82-BEC6-065DC0B7E9E5__GUID-B8FD7481-AA55-480C-9C3C-7712F198BDCA">Returns</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">(xmlrange *)</code> new range that clones the old one
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML5846"></a><a id="CAXML5847"></a><a id="CAXML5845"></a><div class="props_rev_3"><a id="GUID-5310C75C-8374-4DB7-BC90-CDC5704779C9" name="GUID-5310C75C-8374-4DB7-BC90-CDC5704779C9"></a><h3 id="CAXML-GUID-5310C75C-8374-4DB7-BC90-CDC5704779C9" class="sect3">XmlDomRangeCloneContents()</h3>
               <div>
                  <div class="section">
                     <p>Clone contents selected by a range. Clones but does not delete contents selected by a range. Performs the range consistency check and sets <code class="codeph">retval</code> to an error code if an error.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5310C75C-8374-4DB7-BC90-CDC5704779C9__GUID-7592B7EE-31A5-4E4D-9638-E6B3590AF1E0">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">xmlnode* XmlDomRangeCloneContents(
&nbsp;&nbsp;&nbsp;xmlctx *xctx, 
&nbsp;&nbsp;&nbsp;xmlrange *range, 
&nbsp;&nbsp;&nbsp;xmlerr *xerr);</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-5310C75C-8374-4DB7-BC90-CDC5704779C9__GUID-37A49BD6-0D06-4C61-8328-3AD1FBC656A2">
                     <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="19%" id="d82768e573">Parameter</th>
                              <th align="left" valign="bottom" width="12%" id="d82768e576">In/Out</th>
                              <th align="left" valign="bottom" width="69%" id="d82768e579">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d82768e584" headers="d82768e573 "><pre class="oac_no_warn" dir="ltr">xctx</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e584 d82768e576 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="69%" headers="d82768e584 d82768e579 ">
                                 <p>XML context</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d82768e594" headers="d82768e573 "><pre class="oac_no_warn" dir="ltr">range</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e594 d82768e576 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="69%" headers="d82768e594 d82768e579 ">
                                 <p>range object</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d82768e604" headers="d82768e573 "><pre class="oac_no_warn" dir="ltr">xerr</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e604 d82768e576 "><pre class="oac_no_warn" dir="ltr">OUT</pre></td>
                              <td align="left" valign="top" width="69%" headers="d82768e604 d82768e579 ">
                                 <p>numeric return code</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5310C75C-8374-4DB7-BC90-CDC5704779C9__GUID-D853BA03-2614-47D1-9D2B-DE564BA1F44F">Returns</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">(xmlnode *)</code> cloned contents
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML5849"></a><a id="CAXML5850"></a><a id="CAXML5848"></a><div class="props_rev_3"><a id="GUID-4C345888-A6AA-46E3-A358-A8D582742D10" name="GUID-4C345888-A6AA-46E3-A358-A8D582742D10"></a><h3 id="CAXML-GUID-4C345888-A6AA-46E3-A358-A8D582742D10" class="sect3">XmlDomRangeCollapse()</h3>
               <div>
                  <div class="section">
                     <p>Collapses the range to either start point or end point. The point where it is collapsed to is assumed to be a valid point in the document which this range is attached to.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4C345888-A6AA-46E3-A358-A8D582742D10__GUID-AE28FF0F-BC08-40DE-9815-855D8ED622EE">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">xmlerr XmlDomRangeCollapse(
&nbsp;&nbsp;&nbsp;xmlctx *xctx, 
&nbsp;&nbsp;&nbsp;xmlrange *range, 
&nbsp;&nbsp;&nbsp;boolean tostart);</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-4C345888-A6AA-46E3-A358-A8D582742D10__GUID-4F268AE2-2C3C-4470-AF29-6B49428BE1C0">
                     <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="19%" id="d82768e681">Parameter</th>
                              <th align="left" valign="bottom" width="12%" id="d82768e684">In/Out</th>
                              <th align="left" valign="bottom" width="69%" id="d82768e687">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d82768e692" headers="d82768e681 "><pre class="oac_no_warn" dir="ltr">xctx</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e692 d82768e684 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="69%" headers="d82768e692 d82768e687 ">
                                 <p>XML context</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d82768e702" headers="d82768e681 "><pre class="oac_no_warn" dir="ltr">range</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e702 d82768e684 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="69%" headers="d82768e702 d82768e687 ">
                                 <p>range object</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d82768e712" headers="d82768e681 "><pre class="oac_no_warn" dir="ltr">tostart</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e712 d82768e684 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="69%" headers="d82768e712 d82768e687 ">
                                 <p>indicates whether to collapse to start (<code class="codeph">TRUE</code>) or to end (<code class="codeph">FALSE</code>)
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4C345888-A6AA-46E3-A358-A8D582742D10__GUID-D246A41C-A184-456B-9EA9-5C8275C91872">Returns</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">(xmlerr)</code> numeric return code
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML5852"></a><a id="CAXML5853"></a><a id="CAXML5851"></a><div class="props_rev_3"><a id="GUID-361852E2-E8C6-4A81-8AC4-5BB492202960" name="GUID-361852E2-E8C6-4A81-8AC4-5BB492202960"></a><h3 id="CAXML-GUID-361852E2-E8C6-4A81-8AC4-5BB492202960" class="sect3">XmlDomRangeCompareBoundaryPoints()</h3>
               <div>
                  <div class="section">
                     <p>Compares two boundary points of two different ranges. Returns <code class="codeph">-1,0,1</code> depending on whether the corresponding boundary point of the range (range) is before, equal, or after the corresponding boundary point of the second range (<code class="codeph">srange</code>). It returns <code class="codeph">~(int)0</code> if two ranges are attached to two different documents or if one of them is detached.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-361852E2-E8C6-4A81-8AC4-5BB492202960__GUID-7B668696-DB47-4D2E-98D8-8AF5DBCB9326">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">sb4 XmlDomRangeCompareBoundaryPoints(
&nbsp;&nbsp;&nbsp;xmlctx *xctx, 
&nbsp;&nbsp;&nbsp;xmlrange *range, 
&nbsp;&nbsp;&nbsp;xmlcmphow how, 
&nbsp;&nbsp;&nbsp;xmlrange *srange, 
&nbsp;&nbsp;&nbsp;xmlerr *xerr);</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-361852E2-E8C6-4A81-8AC4-5BB492202960__GUID-4DEE606B-4913-40D6-9BF1-CAAB233C6E83">
                     <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="19%" id="d82768e804">Parameter</th>
                              <th align="left" valign="bottom" width="12%" id="d82768e807">In/Out</th>
                              <th align="left" valign="bottom" width="69%" id="d82768e810">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d82768e815" headers="d82768e804 "><pre class="oac_no_warn" dir="ltr">xctx</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e815 d82768e807 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="69%" headers="d82768e815 d82768e810 ">
                                 <p>XML context</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d82768e825" headers="d82768e804 "><pre class="oac_no_warn" dir="ltr">range</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e825 d82768e807 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="69%" headers="d82768e825 d82768e810 ">
                                 <p>range object</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d82768e835" headers="d82768e804 "><pre class="oac_no_warn" dir="ltr">how</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e835 d82768e807 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="69%" headers="d82768e835 d82768e810 ">
                                 <p><code class="codeph">xmlcmphow</code> value; how to compare
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d82768e847" headers="d82768e804 "><pre class="oac_no_warn" dir="ltr">srange</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e847 d82768e807 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="69%" headers="d82768e847 d82768e810 ">
                                 <p>range object with which to compare</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d82768e857" headers="d82768e804 "><pre class="oac_no_warn" dir="ltr">xerr</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e857 d82768e807 "><pre class="oac_no_warn" dir="ltr">OUT</pre></td>
                              <td align="left" valign="top" width="69%" headers="d82768e857 d82768e810 ">
                                 <p>numeric return code</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-361852E2-E8C6-4A81-8AC4-5BB492202960__GUID-BC112204-733E-410E-A8AD-174E2C6A5B4F">Returns</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">(sb4)</code> <code class="codeph">strcmp</code>-like comparison result
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML5855"></a><a id="CAXML5856"></a><a id="CAXML5854"></a><div class="props_rev_3"><a id="GUID-28431A21-CBB4-4786-99D4-4DD3AE143E8F" name="GUID-28431A21-CBB4-4786-99D4-4DD3AE143E8F"></a><h3 id="CAXML-GUID-28431A21-CBB4-4786-99D4-4DD3AE143E8F" class="sect3">XmlDomRangeDeleteContents()</h3>
               <div>
                  <div class="section">
                     <p>Deletes content selected by a range. Performs the range consistency check and sets <code class="codeph">retval</code> to an error code if an error.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-28431A21-CBB4-4786-99D4-4DD3AE143E8F__GUID-3B6F570C-B070-4412-8850-021CCAB43300">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">xmlerr XmlDomRangeDeleteContents(
&nbsp;&nbsp;&nbsp;xmlctx *xctx, 
&nbsp;&nbsp;&nbsp;xmlrange *range);</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-28431A21-CBB4-4786-99D4-4DD3AE143E8F__GUID-CDC474B2-4415-4B35-8720-2000BA209CB8">
                     <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="19%" id="d82768e941">Parameter</th>
                              <th align="left" valign="bottom" width="12%" id="d82768e944">In/Out</th>
                              <th align="left" valign="bottom" width="69%" id="d82768e947">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d82768e952" headers="d82768e941 "><pre class="oac_no_warn" dir="ltr">xctx</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e952 d82768e944 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="69%" headers="d82768e952 d82768e947 ">
                                 <p>XML context</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d82768e962" headers="d82768e941 "><pre class="oac_no_warn" dir="ltr">range</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e962 d82768e944 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="69%" headers="d82768e962 d82768e947 ">
                                 <p>range object</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-28431A21-CBB4-4786-99D4-4DD3AE143E8F__GUID-CCCD549E-704F-443D-8778-251012086938">Returns</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">(xmlerr)</code> numeric return code
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML5858"></a><a id="CAXML5859"></a><a id="CAXML5857"></a><div class="props_rev_3"><a id="GUID-4C7D7DD3-0AE7-4063-B927-C192BDF28B0C" name="GUID-4C7D7DD3-0AE7-4063-B927-C192BDF28B0C"></a><h3 id="CAXML-GUID-4C7D7DD3-0AE7-4063-B927-C192BDF28B0C" class="sect3">XmlDomRangeDetach()</h3>
               <div>
                  <div class="section">
                     <p>Detaches the range from the document and places it (range) in invalid state.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4C7D7DD3-0AE7-4063-B927-C192BDF28B0C__GUID-A73F26D0-FDA5-4C63-9565-2B530E554E39">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">xmlerr XmlDomRangeDetach(
&nbsp;&nbsp;&nbsp;xmlctx *xctx, 
&nbsp;&nbsp;&nbsp;xmlrange *range);</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-4C7D7DD3-0AE7-4063-B927-C192BDF28B0C__GUID-6B1471CD-1424-4B72-BD28-D8AC83A4D013">
                     <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="19%" id="d82768e1039">Parameter</th>
                              <th align="left" valign="bottom" width="12%" id="d82768e1042">In/Out</th>
                              <th align="left" valign="bottom" width="69%" id="d82768e1045">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d82768e1050" headers="d82768e1039 "><pre class="oac_no_warn" dir="ltr">xctx</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e1050 d82768e1042 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="69%" headers="d82768e1050 d82768e1045 ">
                                 <p>XML context</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d82768e1060" headers="d82768e1039 "><pre class="oac_no_warn" dir="ltr">range</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e1060 d82768e1042 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="69%" headers="d82768e1060 d82768e1045 ">
                                 <p>range object</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4C7D7DD3-0AE7-4063-B927-C192BDF28B0C__GUID-DFFBAFC2-F06E-413F-9E9F-3E387792A090">Returns</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">(xmlerr)</code> numeric return code
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML5861"></a><a id="CAXML5862"></a><a id="CAXML5860"></a><div class="props_rev_3"><a id="GUID-094B6FD6-BE91-4B68-9932-2A1878F4372F" name="GUID-094B6FD6-BE91-4B68-9932-2A1878F4372F"></a><h3 id="CAXML-GUID-094B6FD6-BE91-4B68-9932-2A1878F4372F" class="sect3">XmlDomRangeExtractContents()</h3>
               <div>
                  <div class="section">
                     <p>Extract contents selected by a range. Clones and deletes contents selected by a range. Performs the range consistency check and sets <code class="codeph">retval</code> to an error code if an error.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-094B6FD6-BE91-4B68-9932-2A1878F4372F__GUID-EA1520B0-C853-4BCB-99F5-5E89CC748EC3">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">xmlnode* XmlDomRangeExtractContents(
&nbsp;&nbsp;&nbsp;xmlctx *xctx, 
&nbsp;&nbsp;&nbsp;xmlrange *range,
&nbsp;&nbsp;&nbsp;xmlerr *xerr);</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-094B6FD6-BE91-4B68-9932-2A1878F4372F__GUID-9EB76661-4CA1-4DE1-B32F-AA18D362A4FA">
                     <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="19%" id="d82768e1140">Parameter</th>
                              <th align="left" valign="bottom" width="12%" id="d82768e1143">In/Out</th>
                              <th align="left" valign="bottom" width="69%" id="d82768e1146">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d82768e1151" headers="d82768e1140 "><pre class="oac_no_warn" dir="ltr">xctx</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e1151 d82768e1143 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="69%" headers="d82768e1151 d82768e1146 ">
                                 <p>XML context</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d82768e1161" headers="d82768e1140 "><pre class="oac_no_warn" dir="ltr">range</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e1161 d82768e1143 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="69%" headers="d82768e1161 d82768e1146 ">
                                 <p>range object</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d82768e1171" headers="d82768e1140 "><pre class="oac_no_warn" dir="ltr">xerr</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e1171 d82768e1143 "><pre class="oac_no_warn" dir="ltr">OUT</pre></td>
                              <td align="left" valign="top" width="69%" headers="d82768e1171 d82768e1146 ">
                                 <p>numeric return code</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-094B6FD6-BE91-4B68-9932-2A1878F4372F__GUID-3B053A48-27A6-4DE2-8A20-DF2BEF164FF7">Returns</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">(xmlnode *)</code> extracted
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML5864"></a><a id="CAXML5865"></a><a id="CAXML5863"></a><div class="props_rev_3"><a id="GUID-073E5526-D059-4396-87AA-C033DE14D402" name="GUID-073E5526-D059-4396-87AA-C033DE14D402"></a><h3 id="CAXML-GUID-073E5526-D059-4396-87AA-C033DE14D402" class="sect3">XmlDomRangeGetCollapsed()</h3>
               <div>
                  <div class="section">
                     <p>Returns <code class="codeph">TRUE</code> if the range is collapsed and is not detached, otherwise returns <code class="codeph">FALSE</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-073E5526-D059-4396-87AA-C033DE14D402__GUID-C6D749E1-0355-4809-AC93-A8C9259680AC">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">boolean XmlDomRangeGetCollapsed(
&nbsp;&nbsp;&nbsp;xmlctx *xctx, 
&nbsp;&nbsp;&nbsp;xmlrange *range, 
&nbsp;&nbsp;&nbsp;xmlerr *xerr);</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-073E5526-D059-4396-87AA-C033DE14D402__GUID-FD6C28F3-3BFB-4D65-85D5-978E51E8EC1C">
                     <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="19%" id="d82768e1255">Parameter</th>
                              <th align="left" valign="bottom" width="12%" id="d82768e1258">In/Out</th>
                              <th align="left" valign="bottom" width="69%" id="d82768e1261">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d82768e1266" headers="d82768e1255 "><pre class="oac_no_warn" dir="ltr">xctx</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e1266 d82768e1258 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="69%" headers="d82768e1266 d82768e1261 ">
                                 <p>XML context</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d82768e1276" headers="d82768e1255 "><pre class="oac_no_warn" dir="ltr">range</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e1276 d82768e1258 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="69%" headers="d82768e1276 d82768e1261 ">
                                 <p>range object</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d82768e1286" headers="d82768e1255 "><pre class="oac_no_warn" dir="ltr">xerr</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e1286 d82768e1258 "><pre class="oac_no_warn" dir="ltr">OUT</pre></td>
                              <td align="left" valign="top" width="69%" headers="d82768e1286 d82768e1261 ">
                                 <p>numeric return code</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-073E5526-D059-4396-87AA-C033DE14D402__GUID-59A521DB-D86F-4471-8EB1-CEB68824617A">Returns</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">(boolean)</code> <code class="codeph">TRUE</code> if the range is collapsed, <code class="codeph">FALSE</code> otherwise
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML5867"></a><a id="CAXML5868"></a><a id="CAXML5866"></a><div class="props_rev_3"><a id="GUID-AB3CD220-743E-48BC-B8BE-8DDBB0970CD7" name="GUID-AB3CD220-743E-48BC-B8BE-8DDBB0970CD7"></a><h3 id="CAXML-GUID-AB3CD220-743E-48BC-B8BE-8DDBB0970CD7" class="sect3">XmlDomRangeGetCommonAncestor()</h3>
               <div>
                  <div class="section">
                     <p>Returns deepest common ancestor node of two boundary points of the range if the range is not detached, otherwise returns <code class="codeph">NULL</code>. It is assumed that the range is in a consistent state.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AB3CD220-743E-48BC-B8BE-8DDBB0970CD7__GUID-97210527-94BF-40BD-8ED4-AB35007844A3">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">xmlnode* XmlDomRangeGetCommonAncestor(
&nbsp;&nbsp;&nbsp;xmlctx *xctx, 
&nbsp;&nbsp;&nbsp;xmlrange *range, 
&nbsp;&nbsp;&nbsp;xmlerr *xerr);</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-AB3CD220-743E-48BC-B8BE-8DDBB0970CD7__GUID-2C8D46D4-A420-4E11-AD10-91A03CCAB709">
                     <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="19%" id="d82768e1372">Parameter</th>
                              <th align="left" valign="bottom" width="12%" id="d82768e1375">In/Out</th>
                              <th align="left" valign="bottom" width="69%" id="d82768e1378">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d82768e1383" headers="d82768e1372 "><pre class="oac_no_warn" dir="ltr">xctx</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e1383 d82768e1375 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="69%" headers="d82768e1383 d82768e1378 ">
                                 <p>XML context</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d82768e1393" headers="d82768e1372 "><pre class="oac_no_warn" dir="ltr">range</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e1393 d82768e1375 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="69%" headers="d82768e1393 d82768e1378 ">
                                 <p>range object</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d82768e1403" headers="d82768e1372 "><pre class="oac_no_warn" dir="ltr">xerr</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e1403 d82768e1375 "><pre class="oac_no_warn" dir="ltr">OUT</pre></td>
                              <td align="left" valign="top" width="69%" headers="d82768e1403 d82768e1378 ">
                                 <p>numeric return code</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-AB3CD220-743E-48BC-B8BE-8DDBB0970CD7__GUID-44C6790E-3486-4695-9D30-C87D1EF84388">Returns</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">(xmlnode *)</code> deepest common ancestor node [or <code class="codeph">NULL</code>]
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML5870"></a><a id="CAXML5871"></a><a id="CAXML5869"></a><div class="props_rev_3"><a id="GUID-3885C797-531F-404A-9EC0-BEA8D29F2223" name="GUID-3885C797-531F-404A-9EC0-BEA8D29F2223"></a><h3 id="CAXML-GUID-3885C797-531F-404A-9EC0-BEA8D29F2223" class="sect3">XmlDomRangeGetDetached()</h3>
               <div>
                  <div class="section">
                     <p>Return whether the range is detached. Returns <code class="codeph">TRUE</code> if the range is detached and is not <code class="codeph">NULL</code>. Otherwise returns <code class="codeph">FALSE</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3885C797-531F-404A-9EC0-BEA8D29F2223__GUID-A5968DF2-95B7-4982-9A22-F52ADAB65019">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">ub1 XmlDomRangeGetDetached(
&nbsp;&nbsp;&nbsp;xmlctx *xctx, 
&nbsp;&nbsp;&nbsp;xmlrange *range);</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-3885C797-531F-404A-9EC0-BEA8D29F2223__GUID-ABC9ADAB-FC37-4B95-9CD0-710B8F878528">
                     <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="19%" id="d82768e1492">Parameter</th>
                              <th align="left" valign="bottom" width="12%" id="d82768e1495">In/Out</th>
                              <th align="left" valign="bottom" width="69%" id="d82768e1498">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d82768e1503" headers="d82768e1492 "><pre class="oac_no_warn" dir="ltr">xctx</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e1503 d82768e1495 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="69%" headers="d82768e1503 d82768e1498 ">
                                 <p>XML context</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d82768e1513" headers="d82768e1492 "><pre class="oac_no_warn" dir="ltr">range</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e1513 d82768e1495 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="69%" headers="d82768e1513 d82768e1498 ">
                                 <p>range object</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3885C797-531F-404A-9EC0-BEA8D29F2223__GUID-3BB34899-F0DE-4E23-A8E0-33D9E83A4918">Returns</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">(ub1)</code> <code class="codeph">TRUE</code> if the range is detached, <code class="codeph">FALSE</code> otherwise
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML5873"></a><a id="CAXML5874"></a><a id="CAXML5872"></a><div class="props_rev_3"><a id="GUID-77EA2F79-2D9D-4A3C-8A81-F366F70EF264" name="GUID-77EA2F79-2D9D-4A3C-8A81-F366F70EF264"></a><h3 id="CAXML-GUID-77EA2F79-2D9D-4A3C-8A81-F366F70EF264" class="sect3">XmlDomRangeGetEndContainer()</h3>
               <div>
                  <div class="section">
                     <p>Returns range end container node if the range is not detached, otherwise returns <code class="codeph">NULL</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-77EA2F79-2D9D-4A3C-8A81-F366F70EF264__GUID-EA399348-92F0-4843-A3CE-7B69C140D460">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">xmlnode* XmlDomRangeGetEndContainer(
&nbsp;&nbsp;&nbsp;xmlctx *xctx, 
&nbsp;&nbsp;&nbsp;xmlrange *range,
&nbsp;&nbsp;&nbsp;xmlerr *xerr);</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-77EA2F79-2D9D-4A3C-8A81-F366F70EF264__GUID-29CA9F15-ED15-4DF0-BFD0-67163B218692">
                     <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="19%" id="d82768e1600">Parameter</th>
                              <th align="left" valign="bottom" width="12%" id="d82768e1603">In/Out</th>
                              <th align="left" valign="bottom" width="69%" id="d82768e1606">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d82768e1611" headers="d82768e1600 "><pre class="oac_no_warn" dir="ltr">xctx</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e1611 d82768e1603 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="69%" headers="d82768e1611 d82768e1606 ">
                                 <p>XML context</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d82768e1621" headers="d82768e1600 "><pre class="oac_no_warn" dir="ltr">range</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e1621 d82768e1603 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="69%" headers="d82768e1621 d82768e1606 ">
                                 <p>range object</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d82768e1631" headers="d82768e1600 "><pre class="oac_no_warn" dir="ltr">xerr</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e1631 d82768e1603 "><pre class="oac_no_warn" dir="ltr">OUT</pre></td>
                              <td align="left" valign="top" width="69%" headers="d82768e1631 d82768e1606 ">
                                 <p>numeric return code</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-77EA2F79-2D9D-4A3C-8A81-F366F70EF264__GUID-0B711B1D-7803-415C-A4E4-3DAE30DE416F">Returns</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">(xmlnode *)</code> range end container node [or <code class="codeph">NULL</code>]
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML5876"></a><a id="CAXML5877"></a><a id="CAXML5875"></a><div class="props_rev_3"><a id="GUID-76A62733-E419-4032-A9CE-3F98AE448BB3" name="GUID-76A62733-E419-4032-A9CE-3F98AE448BB3"></a><h3 id="CAXML-GUID-76A62733-E419-4032-A9CE-3F98AE448BB3" class="sect3">XmlDomRangeGetEndOffset()</h3>
               <div>
                  <div class="section">
                     <p>Returns range end offset if the range is not detached, otherwise returns <code class="codeph">~(ub4)0</code> [the maximum <code class="codeph">ub4</code> value].
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-76A62733-E419-4032-A9CE-3F98AE448BB3__GUID-373574FD-593F-4F6C-9E87-10BD6284525C">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">ub4 XmlDomRangeGetEndOffset(
&nbsp;&nbsp;&nbsp;xmlctx *xctx, 
&nbsp;&nbsp;&nbsp;xmlrange *range, 
&nbsp;&nbsp;&nbsp;xmlerr *xerr);</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-76A62733-E419-4032-A9CE-3F98AE448BB3__GUID-F8413D97-E23D-47D2-999E-DA6B3ECAD0BB">
                     <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="19%" id="d82768e1717">Parameter</th>
                              <th align="left" valign="bottom" width="12%" id="d82768e1720">In/Out</th>
                              <th align="left" valign="bottom" width="69%" id="d82768e1723">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d82768e1728" headers="d82768e1717 "><pre class="oac_no_warn" dir="ltr">xctx</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e1728 d82768e1720 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="69%" headers="d82768e1728 d82768e1723 ">
                                 <p>XML context</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d82768e1738" headers="d82768e1717 "><pre class="oac_no_warn" dir="ltr">range</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e1738 d82768e1720 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="69%" headers="d82768e1738 d82768e1723 ">
                                 <p>range object</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d82768e1748" headers="d82768e1717 "><pre class="oac_no_warn" dir="ltr">xerr</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e1748 d82768e1720 "><pre class="oac_no_warn" dir="ltr">OUT</pre></td>
                              <td align="left" valign="top" width="69%" headers="d82768e1748 d82768e1723 ">
                                 <p>numeric return code</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-76A62733-E419-4032-A9CE-3F98AE448BB3__GUID-967F7F85-F87A-4386-BE04-4D07E462AFD2">Returns</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">(ub4)</code> range end offset [or <code class="codeph">ub4</code> maximum]
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML5879"></a><a id="CAXML5880"></a><a id="CAXML5878"></a><div class="props_rev_3"><a id="GUID-09F660F0-0704-4D3C-BEF6-886DC706464F" name="GUID-09F660F0-0704-4D3C-BEF6-886DC706464F"></a><h3 id="CAXML-GUID-09F660F0-0704-4D3C-BEF6-886DC706464F" class="sect3">XmlDomRangeGetStartContainer()</h3>
               <div>
                  <div class="section">
                     <p>Returns range start container node if the range is valid and is not detached, otherwise returns <code class="codeph">NULL</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-09F660F0-0704-4D3C-BEF6-886DC706464F__GUID-7BFA83AB-78E2-4AE9-832B-FAE93B7548C8">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">xmlnode* XmlDomRangeGetStartContainer(
&nbsp;&nbsp;&nbsp;xmlctx *xctx, 
&nbsp;&nbsp;&nbsp;xmlrange *range, 
&nbsp;&nbsp;&nbsp;xmlerr *xerr);</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-09F660F0-0704-4D3C-BEF6-886DC706464F__GUID-3683D126-99E0-4EC9-8952-51C011DA7BE6">
                     <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="19%" id="d82768e1831">Parameter</th>
                              <th align="left" valign="bottom" width="12%" id="d82768e1834">In/Out</th>
                              <th align="left" valign="bottom" width="69%" id="d82768e1837">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d82768e1842" headers="d82768e1831 "><pre class="oac_no_warn" dir="ltr">xctx</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e1842 d82768e1834 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="69%" headers="d82768e1842 d82768e1837 ">
                                 <p>XML context</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d82768e1852" headers="d82768e1831 "><pre class="oac_no_warn" dir="ltr">range</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e1852 d82768e1834 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="69%" headers="d82768e1852 d82768e1837 ">
                                 <p>range object</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d82768e1862" headers="d82768e1831 "><pre class="oac_no_warn" dir="ltr">xerr</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e1862 d82768e1834 "><pre class="oac_no_warn" dir="ltr">OUT</pre></td>
                              <td align="left" valign="top" width="69%" headers="d82768e1862 d82768e1837 ">
                                 <p>numeric return code</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-09F660F0-0704-4D3C-BEF6-886DC706464F__GUID-6F2DA6ED-CD68-412B-BCB6-7ADF759810B4">Returns</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">(xmlnode *)</code> range start container node
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML5882"></a><a id="CAXML5883"></a><a id="CAXML5881"></a><div class="props_rev_3"><a id="GUID-00795DE0-F24F-40F9-8BFA-7CCC06A00106" name="GUID-00795DE0-F24F-40F9-8BFA-7CCC06A00106"></a><h3 id="CAXML-GUID-00795DE0-F24F-40F9-8BFA-7CCC06A00106" class="sect3">XmlDomRangeGetStartOffset()</h3>
               <div>
                  <div class="section">
                     <p>Returns range start offset if the range is not detached, otherwise returns <code class="codeph">~(ub4)0</code> [the maximum <code class="codeph">ub4</code> value].
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-00795DE0-F24F-40F9-8BFA-7CCC06A00106__GUID-8C7B5A3D-3789-46C4-9E0A-B90B31CD156D">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">ub4 XmlDomRangeGetStartOffset(
&nbsp;&nbsp;&nbsp;xmlctx *xctx, 
&nbsp;&nbsp;&nbsp;xmlrange *range, 
&nbsp;&nbsp;&nbsp;xmlerr *xerr);</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-00795DE0-F24F-40F9-8BFA-7CCC06A00106__GUID-C36D00D1-C1B7-40EC-96F9-769BC6A8DDB5">
                     <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="19%" id="d82768e1946">Parameter</th>
                              <th align="left" valign="bottom" width="12%" id="d82768e1949">In/Out</th>
                              <th align="left" valign="bottom" width="69%" id="d82768e1952">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d82768e1957" headers="d82768e1946 "><pre class="oac_no_warn" dir="ltr">xctx</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e1957 d82768e1949 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="69%" headers="d82768e1957 d82768e1952 ">
                                 <p>XML context</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d82768e1967" headers="d82768e1946 "><pre class="oac_no_warn" dir="ltr">range</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e1967 d82768e1949 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="69%" headers="d82768e1967 d82768e1952 ">
                                 <p>range object</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d82768e1977" headers="d82768e1946 "><pre class="oac_no_warn" dir="ltr">xerr</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e1977 d82768e1949 "><pre class="oac_no_warn" dir="ltr">OUT</pre></td>
                              <td align="left" valign="top" width="69%" headers="d82768e1977 d82768e1952 ">
                                 <p>numeric return code</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-00795DE0-F24F-40F9-8BFA-7CCC06A00106__GUID-E59F16E1-DAEF-48CD-ACCC-6FA9BE02FD7A">Returns</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">(ub4)</code> range start offset [or <code class="codeph">ub4</code> maximum]
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML5885"></a><a id="CAXML5886"></a><a id="CAXML5884"></a><div class="props_rev_3"><a id="GUID-A2897E98-5837-4E97-BD1C-52B7887A1158" name="GUID-A2897E98-5837-4E97-BD1C-52B7887A1158"></a><h3 id="CAXML-GUID-A2897E98-5837-4E97-BD1C-52B7887A1158" class="sect3">XmlDomRangeIsConsistent()</h3>
               <div>
                  <div class="section">
                     <p>Return whether the range is consistent. Returns <code class="codeph">TRUE</code> if the range is consistent: both points are under the same root and the start point is before or equal to the end point. Otherwise returns <code class="codeph">FALSE</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A2897E98-5837-4E97-BD1C-52B7887A1158__GUID-2E6354A0-401F-480C-9705-34DAF8F68E05">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">boolean XmlDomRangeIsConsistent(
&nbsp;&nbsp;&nbsp;xmlctx *xctx, 
&nbsp;&nbsp;&nbsp;xmlrange *range, 
&nbsp;&nbsp;&nbsp;xmlerr *xerr);</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-A2897E98-5837-4E97-BD1C-52B7887A1158__GUID-BFACEFAE-8B5E-4481-A758-72CB78378EBF">
                     <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="19%" id="d82768e2063">Parameter</th>
                              <th align="left" valign="bottom" width="12%" id="d82768e2066">In/Out</th>
                              <th align="left" valign="bottom" width="69%" id="d82768e2069">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d82768e2074" headers="d82768e2063 "><pre class="oac_no_warn" dir="ltr">xctx</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e2074 d82768e2066 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="69%" headers="d82768e2074 d82768e2069 ">
                                 <p>XML context</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d82768e2084" headers="d82768e2063 "><pre class="oac_no_warn" dir="ltr">range</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e2084 d82768e2066 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="69%" headers="d82768e2084 d82768e2069 ">
                                 <p>range object</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d82768e2094" headers="d82768e2063 "><pre class="oac_no_warn" dir="ltr">xerr</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e2094 d82768e2066 "><pre class="oac_no_warn" dir="ltr">OUT</pre></td>
                              <td align="left" valign="top" width="69%" headers="d82768e2094 d82768e2069 ">
                                 <p>numeric return code</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-A2897E98-5837-4E97-BD1C-52B7887A1158__GUID-40DAE87C-6B71-46DA-9151-5AAA142A8361">Returns</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">(ub1)</code> <code class="codeph">TRUE</code> if the range is consistent, <code class="codeph">FALSE</code> otherwise
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML5888"></a><a id="CAXML5889"></a><a id="CAXML5887"></a><div class="props_rev_3"><a id="GUID-CEAAB2E8-21DE-4DF5-ABC4-B302E5C0F1C6" name="GUID-CEAAB2E8-21DE-4DF5-ABC4-B302E5C0F1C6"></a><h3 id="CAXML-GUID-CEAAB2E8-21DE-4DF5-ABC4-B302E5C0F1C6" class="sect3">XmlDomRangeSelectNode()</h3>
               <div>
                  <div class="section">
                     <p>Sets the range end point and start point so that the parent node of this node becomes the container node, and the offset is the offset of this node among the children of its parent. The range becomes collapsed. It is assumed that the node is a valid node of its document. If the range is detached, it is ignored, and the range becomes attached.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-CEAAB2E8-21DE-4DF5-ABC4-B302E5C0F1C6__GUID-53A21BE0-EA9C-405E-B706-5624EEA9B966">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">xmlerr XmlDomRangeSelectNode(
&nbsp;&nbsp;&nbsp;xmlctx *xctx, 
&nbsp;&nbsp;&nbsp;xmlrange *range, 
&nbsp;&nbsp;&nbsp;xmlnode *node);</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-CEAAB2E8-21DE-4DF5-ABC4-B302E5C0F1C6__GUID-5E62DD6E-E386-422B-96AB-DDAD3F5FE4AD">
                     <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="19%" id="d82768e2177">Parameter</th>
                              <th align="left" valign="bottom" width="12%" id="d82768e2180">In/Out</th>
                              <th align="left" valign="bottom" width="69%" id="d82768e2183">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d82768e2188" headers="d82768e2177 "><pre class="oac_no_warn" dir="ltr">xctx</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e2188 d82768e2180 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="69%" headers="d82768e2188 d82768e2183 ">
                                 <p>XML context</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d82768e2198" headers="d82768e2177 "><pre class="oac_no_warn" dir="ltr">range</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e2198 d82768e2180 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="69%" headers="d82768e2198 d82768e2183 ">
                                 <p>range object</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d82768e2208" headers="d82768e2177 "><pre class="oac_no_warn" dir="ltr">node</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e2208 d82768e2180 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="69%" headers="d82768e2208 d82768e2183 ">
                                 <p>XML node</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-CEAAB2E8-21DE-4DF5-ABC4-B302E5C0F1C6__GUID-0BB82648-34B8-43B6-B215-719611EE096A">Returns</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">(xmlerr)</code> numeric return code
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML5891"></a><a id="CAXML5892"></a><a id="CAXML5890"></a><div class="props_rev_3"><a id="GUID-F9142058-3AF9-4302-BBF1-D8B1FDEC3568" name="GUID-F9142058-3AF9-4302-BBF1-D8B1FDEC3568"></a><h3 id="CAXML-GUID-F9142058-3AF9-4302-BBF1-D8B1FDEC3568" class="sect3">XmlDomRangeSelectNodeContents()</h3>
               <div>
                  <div class="section">
                     <p>Sets the range start point to the start of the node contents and the end point to the end of the node contents. It is assumed that the node is a valid document node. If the range is detached, it is ignored, and the range becomes attached.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F9142058-3AF9-4302-BBF1-D8B1FDEC3568__GUID-36701416-5C84-4127-985F-ADD3C6DEB4B1">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">xmlerr XmlDomRangeSelectNodeContents(
&nbsp;&nbsp;&nbsp;xmlctx *xctx, 
&nbsp;&nbsp;&nbsp;xmlrange *range, 
&nbsp;&nbsp;&nbsp;xmlnode *node);</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-F9142058-3AF9-4302-BBF1-D8B1FDEC3568__GUID-8E478C37-DA14-4735-A22F-A82E1E23A5F4">
                     <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="19%" id="d82768e2286">Parameter</th>
                              <th align="left" valign="bottom" width="12%" id="d82768e2289">In/Out</th>
                              <th align="left" valign="bottom" width="69%" id="d82768e2292">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d82768e2297" headers="d82768e2286 "><pre class="oac_no_warn" dir="ltr">xctx</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e2297 d82768e2289 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="69%" headers="d82768e2297 d82768e2292 ">
                                 <p>XML context</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d82768e2307" headers="d82768e2286 "><pre class="oac_no_warn" dir="ltr">range</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e2307 d82768e2289 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="69%" headers="d82768e2307 d82768e2292 ">
                                 <p>range object</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d82768e2317" headers="d82768e2286 "><pre class="oac_no_warn" dir="ltr">node</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e2317 d82768e2289 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="69%" headers="d82768e2317 d82768e2292 ">
                                 <p>XML node</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-F9142058-3AF9-4302-BBF1-D8B1FDEC3568__GUID-6055D2D6-7C6D-4B9E-B86D-E2D7686B75DE">Returns</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">(xmlerr)</code> numeric return code
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML5894"></a><a id="CAXML5895"></a><a id="CAXML5893"></a><div class="props_rev_3"><a id="GUID-51026D4D-A425-4E38-824E-22E00337DD53" name="GUID-51026D4D-A425-4E38-824E-22E00337DD53"></a><h3 id="CAXML-GUID-51026D4D-A425-4E38-824E-22E00337DD53" class="sect3">XmlDomRangeSetEnd()</h3>
               <div>
                  <div class="section">
                     <p>Sets the range end point. If it has a root container other than the current one for the range, the range is collapsed to the new position. If the end is set to be at a position before the start, the range is collapsed to that position. Returns <code class="codeph">xmlerr</code> value. according to the description where this type is defined. It is assumed that the start point of the range is a valid start point.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-51026D4D-A425-4E38-824E-22E00337DD53__GUID-B0AE530A-E086-4E82-9F89-B4CE858AA4CA">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">xmlerr XmlDomRangeSetEnd(
&nbsp;&nbsp;&nbsp;xmlctx *xctx, 
&nbsp;&nbsp;&nbsp;xmlrange *range, 
&nbsp;&nbsp;&nbsp;xmlnode *node, 
&nbsp;&nbsp;&nbsp;ub4 offset);</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-51026D4D-A425-4E38-824E-22E00337DD53__GUID-A3EB6B0B-6F05-491B-A477-73D82E22B2BA">
                     <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="19%" id="d82768e2397">Parameter</th>
                              <th align="left" valign="bottom" width="12%" id="d82768e2400">In/Out</th>
                              <th align="left" valign="bottom" width="69%" id="d82768e2403">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d82768e2408" headers="d82768e2397 "><pre class="oac_no_warn" dir="ltr">xctx</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e2408 d82768e2400 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="69%" headers="d82768e2408 d82768e2403 ">
                                 <p>XML context</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d82768e2418" headers="d82768e2397 "><pre class="oac_no_warn" dir="ltr">range</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e2418 d82768e2400 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="69%" headers="d82768e2418 d82768e2403 ">
                                 <p>range object</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d82768e2428" headers="d82768e2397 "><pre class="oac_no_warn" dir="ltr">node</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e2428 d82768e2400 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="69%" headers="d82768e2428 d82768e2403 ">
                                 <p>XML node</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d82768e2438" headers="d82768e2397 "><pre class="oac_no_warn" dir="ltr">offset</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e2438 d82768e2400 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="69%" headers="d82768e2438 d82768e2403 ">
                                 <p>ending offset</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-51026D4D-A425-4E38-824E-22E00337DD53__GUID-0E101512-828F-4115-846C-075CB17B628E">Returns</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">(xmlerr)</code> numeric return code
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML5897"></a><a id="CAXML5898"></a><a id="CAXML5896"></a><div class="props_rev_3"><a id="GUID-FB3220A7-8CCB-4B33-9AAF-B05A0F2FAD3A" name="GUID-FB3220A7-8CCB-4B33-9AAF-B05A0F2FAD3A"></a><h3 id="CAXML-GUID-FB3220A7-8CCB-4B33-9AAF-B05A0F2FAD3A" class="sect3">XmlDomRangeSetEndBefore()</h3>
               <div>
                  <div class="section">
                     <p>Sets the range end point before a node. If it has a root container other than the current one for the range, the range is collapsed to the new position. If the before node sets the end to be at a position before the start, the range is collapsed to new position. Returns xmlerr value according to the description where this type is defined. It is assumed that the start point of the range is a valid start point.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-FB3220A7-8CCB-4B33-9AAF-B05A0F2FAD3A__GUID-0A0C3BD1-6B7E-44BE-AD4C-BE150C3646E2">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">xmlerr XmlDomRangeSetEndBefore(
&nbsp;&nbsp;&nbsp;xmlctx *xctx, 
&nbsp;&nbsp;&nbsp;xmlrange *range, 
&nbsp;&nbsp;&nbsp;xmlnode *node);</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-FB3220A7-8CCB-4B33-9AAF-B05A0F2FAD3A__GUID-E1C3E1C3-5FEA-45DF-B4A5-D65B82C50D0C">
                     <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="19%" id="d82768e2515">Parameter</th>
                              <th align="left" valign="bottom" width="12%" id="d82768e2518">In/Out</th>
                              <th align="left" valign="bottom" width="69%" id="d82768e2521">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d82768e2526" headers="d82768e2515 "><pre class="oac_no_warn" dir="ltr">xctx</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e2526 d82768e2518 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="69%" headers="d82768e2526 d82768e2521 ">
                                 <p>XML context</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d82768e2536" headers="d82768e2515 "><pre class="oac_no_warn" dir="ltr">range</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e2536 d82768e2518 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="69%" headers="d82768e2536 d82768e2521 ">
                                 <p>range object</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d82768e2546" headers="d82768e2515 "><pre class="oac_no_warn" dir="ltr">node</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e2546 d82768e2518 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="69%" headers="d82768e2546 d82768e2521 ">
                                 <p>XML node</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-FB3220A7-8CCB-4B33-9AAF-B05A0F2FAD3A__GUID-FED0DF81-A1BC-4A69-8529-CFCF21097D78">Returns</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">(xmlerr)</code> numeric return code
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML5900"></a><a id="CAXML5901"></a><a id="CAXML5899"></a><div class="props_rev_3"><a id="GUID-C16961E4-6348-439C-8F89-B2FD34E07ED0" name="GUID-C16961E4-6348-439C-8F89-B2FD34E07ED0"></a><h3 id="CAXML-GUID-C16961E4-6348-439C-8F89-B2FD34E07ED0" class="sect3">XmlDomRangeSetStart()</h3>
               <div>
                  <div class="section">
                     <p>Sets the range start point. If it has a root container other than the current one for the range, the range is collapsed to the new position. If the start is set to be at a position after the end, the range is collapsed to that position. Returns xmlerr value according to the description where this type is defined. It is assumed that the end point of the range is a valid end point.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C16961E4-6348-439C-8F89-B2FD34E07ED0__GUID-FDF3647A-B0AC-45AF-AE09-E11F4D8176A5">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">xmlerr XmlDomRangeSetStart(
&nbsp;&nbsp;&nbsp;xmlctx *xctx, 
&nbsp;&nbsp;&nbsp;xmlrange *range, 
&nbsp;&nbsp;&nbsp;xmlnode *node, 
&nbsp;&nbsp;&nbsp;ub4 offset);</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-C16961E4-6348-439C-8F89-B2FD34E07ED0__GUID-0F223A37-3F0B-454F-9C98-69DDA17CBE85">
                     <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="19%" id="d82768e2624">Parameter</th>
                              <th align="left" valign="bottom" width="12%" id="d82768e2627">In/Out</th>
                              <th align="left" valign="bottom" width="69%" id="d82768e2630">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d82768e2635" headers="d82768e2624 "><pre class="oac_no_warn" dir="ltr">xctx</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e2635 d82768e2627 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="69%" headers="d82768e2635 d82768e2630 ">
                                 <p>XML context</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d82768e2645" headers="d82768e2624 "><pre class="oac_no_warn" dir="ltr">range</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e2645 d82768e2627 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="69%" headers="d82768e2645 d82768e2630 ">
                                 <p>range object</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d82768e2655" headers="d82768e2624 "><pre class="oac_no_warn" dir="ltr">node</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e2655 d82768e2627 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="69%" headers="d82768e2655 d82768e2630 ">
                                 <p>XML node</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d82768e2665" headers="d82768e2624 "><pre class="oac_no_warn" dir="ltr">offset</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e2665 d82768e2627 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="69%" headers="d82768e2665 d82768e2630 ">
                                 <p>starting offset</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C16961E4-6348-439C-8F89-B2FD34E07ED0__GUID-2DE318F8-0B08-4A2B-B1DF-460861A62D75">Returns</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">(xmlerr)</code> numeric return code
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML5903"></a><a id="CAXML5904"></a><a id="CAXML5902"></a><div class="props_rev_3"><a id="GUID-CABB2A67-B6AB-4E34-830F-8C7659554B55" name="GUID-CABB2A67-B6AB-4E34-830F-8C7659554B55"></a><h3 id="CAXML-GUID-CABB2A67-B6AB-4E34-830F-8C7659554B55" class="sect3">XmlDomRangeSetStartAfter()</h3>
               <div>
                  <div class="section">
                     <p>Sets the range start point after a node. If it has a root container other than the current one, the range is collapsed to the new position. If the previous node sets the start after the end, the range is collapsed to a new position. It is assumed that the end point of the range is a valid end point.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-CABB2A67-B6AB-4E34-830F-8C7659554B55__GUID-B1E7D193-2353-4143-96FB-BFC5D68C21CF">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">xmlerr XmlDomRangeSetStartAfter(
&nbsp;&nbsp;&nbsp;xmlctx *xctx, 
&nbsp;&nbsp;&nbsp;xmlrange *range, 
&nbsp;&nbsp;&nbsp;xmlnode *node);</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-CABB2A67-B6AB-4E34-830F-8C7659554B55__GUID-DA61299A-1E7C-44AE-8AFE-C5CCBCC526EC">
                     <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="19%" id="d82768e2742">Parameter</th>
                              <th align="left" valign="bottom" width="12%" id="d82768e2745">In/Out</th>
                              <th align="left" valign="bottom" width="69%" id="d82768e2748">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d82768e2753" headers="d82768e2742 "><pre class="oac_no_warn" dir="ltr">xctx</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e2753 d82768e2745 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="69%" headers="d82768e2753 d82768e2748 ">
                                 <p>XML context</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d82768e2763" headers="d82768e2742 "><pre class="oac_no_warn" dir="ltr">range</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e2763 d82768e2745 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="69%" headers="d82768e2763 d82768e2748 ">
                                 <p>range object</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d82768e2773" headers="d82768e2742 "><pre class="oac_no_warn" dir="ltr">node</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e2773 d82768e2745 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="69%" headers="d82768e2773 d82768e2748 ">
                                 <p>XML node</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-CABB2A67-B6AB-4E34-830F-8C7659554B55__GUID-B4D1242B-7242-42C6-AB57-27A7A8A86776">Returns</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">(xmlerr)</code> numeric return code
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="CAXML5906"></a><a id="CAXML5907"></a><a id="CAXML5905"></a><div class="props_rev_3"><a id="GUID-E1CFF2BE-EE88-482C-92D0-A9CA67EF9ED7" name="GUID-E1CFF2BE-EE88-482C-92D0-A9CA67EF9ED7"></a><h3 id="CAXML-GUID-E1CFF2BE-EE88-482C-92D0-A9CA67EF9ED7" class="sect3">XmlDomRangeSetStartBefore()</h3>
               <div>
                  <div class="section">
                     <p>Sets the range start point before a node. If it has a root container other than the current one, the range is collapsed to the new position with offset <code class="codeph">0</code>. If the previous node sets the start after the end, the range is collapsed to a new position. It is assumed that the end point of the range is a valid end point.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E1CFF2BE-EE88-482C-92D0-A9CA67EF9ED7__GUID-257B0C21-D233-4A39-A093-23FF6DE58197">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">xmlerr XmlDomRangeSetStartBefore(
&nbsp;&nbsp;&nbsp;xmlctx *xctx, 
&nbsp;&nbsp;&nbsp;xmlrange *range, 
&nbsp;&nbsp;&nbsp;xmlnode *node);</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-E1CFF2BE-EE88-482C-92D0-A9CA67EF9ED7__GUID-38B83CF7-A81E-48F7-8BBC-0FEFA037FDDB">
                     <table cellpadding="4" cellspacing="0" class="Formal" title summary="Parameter Table; column 1 has parameters, column 2 has the binding (IN, OUT, or IN/OUT), and column 2 has the descriptions." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="19%" id="d82768e2853">Parameter</th>
                              <th align="left" valign="bottom" width="12%" id="d82768e2856">In/Out</th>
                              <th align="left" valign="bottom" width="69%" id="d82768e2859">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d82768e2864" headers="d82768e2853 "><pre class="oac_no_warn" dir="ltr">xctx</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e2864 d82768e2856 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="69%" headers="d82768e2864 d82768e2859 ">
                                 <p>XML context</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d82768e2874" headers="d82768e2853 "><pre class="oac_no_warn" dir="ltr">range</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e2874 d82768e2856 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="69%" headers="d82768e2874 d82768e2859 ">
                                 <p>range object</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="19%" id="d82768e2884" headers="d82768e2853 "><pre class="oac_no_warn" dir="ltr">node</pre></td>
                              <td align="left" valign="top" width="12%" headers="d82768e2884 d82768e2856 "><pre class="oac_no_warn" dir="ltr">IN</pre></td>
                              <td align="left" valign="top" width="69%" headers="d82768e2884 d82768e2859 ">
                                 <p>XML node</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-E1CFF2BE-EE88-482C-92D0-A9CA67EF9ED7__GUID-6D71F33E-8B0C-455D-87E5-00BA9434BFEF">Returns</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><code class="codeph">(xmlerr)</code> numeric return code
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='13099.monitoring-database-operations.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="This chapter describes how to monitor SQL and PL/SQL.">
      <meta name="description" content="This chapter describes how to monitor SQL and PL/SQL.">
      <title>Monitoring Database Operations</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="SQL Tuning Guide">
      <meta property="og:description" content="This chapter describes how to monitor SQL and PL/SQL.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="SQL Tuning Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="sql-tuning-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-31T14:57:08-08:00">
      <meta name="dcterms.title" content="SQL Tuning Guide">
      <meta name="dcterms.dateCopyrighted" content="2013, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96095-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="monitoring-and-tracing-sql.html" title="Previous" type="text/html">
      <link rel="next" href="performing-application-tracing.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="TGSQL">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="monitoring-and-tracing-sql.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="performing-application-tracing.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQL Tuning Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="monitoring-and-tracing-sql.html" property="item" typeof="WebPage"><span property="name">Monitoring and Tracing SQL</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Monitoring Database Operations </li>
            </ol>
            <a id="GUID-C941CE9D-97E1-42F8-91ED-4949B2B710BF" name="GUID-C941CE9D-97E1-42F8-91ED-4949B2B710BF"></a>
            
            <h2 id="TGSQL-GUID-C941CE9D-97E1-42F8-91ED-4949B2B710BF" class="sect2"><span class="enumeration_chapter">21 </span>Monitoring Database Operations 
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This chapter describes how to monitor SQL and PL/SQL.</p>
               <p>This chapter contains the following topics:</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="monitoring-database-operations.html#GUID-007E5BAE-B07D-4BD1-9485-DE8D260BF862">About Monitoring Database Operations</a><br>The SQL monitoring feature is enabled by default when the <code class="codeph">STATISTICS_LEVEL</code> initialization parameter is either set to <code class="codeph">TYPICAL</code> (the default value) or <code class="codeph">ALL</code>.
                  </li>
                  <li class="ulchildlink"><a href="monitoring-database-operations.html#GUID-61D052D2-1F06-4A8C-A9D8-26504AD8A720">Enabling and Disabling Monitoring of Database Operations</a><br>Use initialization parameters to enable or disable monitoring.
                  </li>
                  <li class="ulchildlink"><a href="monitoring-database-operations.html#GUID-DC573FB7-40C5-4D6D-BE81-EF356900B444">Defining a Composite Database Operation</a><br>Defining a database operation involves supplying a name and specifying its beginning and end times. 
                  </li>
                  <li class="ulchildlink"><a href="monitoring-database-operations.html#GUID-4048D00E-2635-42C8-A37D-71EFAC619062">Generating and Accessing SQL Monitor Reports</a><br>By default, AWR automatically captures SQL monitoring reports in XML format.
                  </li>
                  <li class="ulchildlink"><a href="monitoring-database-operations.html#GUID-75DE088E-4CFA-47D9-8078-F3BE97A255F7">Monitoring Database Operations: Scenarios</a><br>In these scenarios, you report on both simple and composite database operations.
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="monitoring-and-tracing-sql.html#GUID-CA494EFF-53D7-4345-9576-8FED65F35AAE" title="Use DBMS_MONITOR to track database operations, SQL Test Case Builder to package information relating to a performance problem, and SQL Trace to generate diagnostic data for problem SQL statements.">Monitoring and Tracing SQL</a></p>
                  </div>
               </div>
            </div>
            <a id="TGSQL789"></a><a id="TGSQL790"></a><div class="props_rev_3"><a id="GUID-007E5BAE-B07D-4BD1-9485-DE8D260BF862" name="GUID-007E5BAE-B07D-4BD1-9485-DE8D260BF862"></a><h3 id="TGSQL-GUID-007E5BAE-B07D-4BD1-9485-DE8D260BF862" class="sect3"><span class="enumeration_section">21.1 </span>About Monitoring Database Operations
               </h3>
               <div>
                  <p>The SQL monitoring feature is enabled by default when the <code class="codeph">STATISTICS_LEVEL</code> initialization parameter is either set to <code class="codeph">TYPICAL</code> (the default value) or <code class="codeph">ALL</code>.
                  </p>
                  <p>This section contains the following topics:</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="monitoring-database-operations.html#GUID-573B83E0-15D4-4132-9ABE-91FB5D398B9C">About Database Operations</a><br>A database operation is a set of database tasks. A typical task might be a batch job or Extraction, Transformation, and Loading (ETL) processing job.
                     </li>
                     <li class="ulchildlink"><a href="monitoring-database-operations.html#GUID-7E2A0A25-6EF1-4180-B16E-65B47039CEC7">Purpose of Monitoring Database Operations</a><br>For simple operations, Real-Time SQL Monitoring helps determine where a statement is spending its time.
                     </li>
                     <li class="ulchildlink"><a href="monitoring-database-operations.html#GUID-CEED2A89-51DE-42AC-B2BD-CAD3D6E25807">How Database Monitoring Works</a><br>Real-Time SQL Monitoring is a built-in database infrastructure that helps you identify performance problems with long-running and parallel SQL statements.
                     </li>
                     <li class="ulchildlink"><a href="monitoring-database-operations.html#GUID-13D71625-2548-4F7B-B2B2-FEEAD24F7690">User Interfaces for Database Operations Monitoring</a><br>Real-Time SQL Monitoring is a feature of the Oracle Database Tuning Pack. Database operations are enabled when the <code class="codeph">CONTROL_MANAGEMENT_PACK_ACCESS</code> initialization parameter is set to <code class="codeph">DIAGNOSTIC+TUNING</code> (default).
                     </li>
                     <li class="ulchildlink"><a href="monitoring-database-operations.html#GUID-A11CCA38-7DD8-4B08-9311-29CC7ED92EE6">Basic Tasks in Database Operations Monitoring</a><br>This section explains the basic tasks in database operations monitoring.
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-007E5BAE-B07D-4BD1-9485-DE8D260BF862__GUID-6DE945D9-2E81-4945-B526-D400CDB87B57">
                     <p class="notep1">See Also:</p>
                     <p><a href="../cncpt/process-architecture.html#CNCPT89228" target="_blank"><span><cite>Oracle Database Concepts</cite></span></a> for a brief conceptual overview of database operations
                     </p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="monitoring-database-operations.html#GUID-C941CE9D-97E1-42F8-91ED-4949B2B710BF" title="This chapter describes how to monitor SQL and PL/SQL.">Monitoring Database Operations</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-573B83E0-15D4-4132-9ABE-91FB5D398B9C" name="GUID-573B83E0-15D4-4132-9ABE-91FB5D398B9C"></a><h4 id="TGSQL-GUID-573B83E0-15D4-4132-9ABE-91FB5D398B9C" class="sect4"><span class="enumeration_section">21.1.1 </span>About Database Operations
                  </h4>
                  <div>
                     <p>A database operation is a set of database tasks. A typical task might be a batch job or Extraction, Transformation, and Loading (ETL) processing job.</p>
                     <p>Database operations are either simple or composite.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-573B83E0-15D4-4132-9ABE-91FB5D398B9C__GUID-4F5BE2BC-B1E4-4B17-8482-830BF4B1E7DB">Simple Database Operation</p>
                        <p>A <strong class="term">simple database operation</strong> is a single SQL statement or PL/SQL subprogram. When the SQL Monitor feature is enabled, the database monitors simple database operations automatically when any of the following conditions is true:
                        </p>
                        <ul style="list-style-type: disc;" id="GUID-573B83E0-15D4-4132-9ABE-91FB5D398B9C__UL_J1J_GM5_DGB">
                           <li>
                              <p>A SQL statement or PL/SQL subprogram has consumed at least 5 seconds of CPU or I/O time in a single execution.</p>
                           </li>
                           <li>
                              <p>A SQL statement executes in parallel.</p>
                           </li>
                           <li>
                              <p>A SQL statement specifies the <code class="codeph">/*+ MONITOR */</code> hint.
                              </p>
                           </li>
                           <li>
                              <div class="p">The event <code class="codeph">sql_monitor</code> specifies a list of SQL IDs for the statements to be monitored. For example, the following statement forces instance-level monitoring for SQL IDs <code class="codeph">5hc07qvt8v737</code> and <code class="codeph">9ht3ba3arrzt3</code>:<pre class="pre codeblock"><code>ALTER SYSTEM SET EVENTS 'sql_monitor [sql: 5hc07qvt8v737|sql: 9ht3ba3arrzt3] force=true'</code></pre></div>
                           </li>
                        </ul>
                        <p>At each step of the SQL execution plan, the database tracks statistics by performance metrics such as elapsed time, CPU time, number of reads and writes, and I/O wait time. These metrics are available in a graphical and interactive report called the SQL monitor active report.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-573B83E0-15D4-4132-9ABE-91FB5D398B9C__GUID-7025C4C3-5775-4263-AE41-46C74E8E6EB9">Composite Database Operation</p>
                        <p>A <strong class="term">composite database operation</strong> is defined by the user. It includes all SQL statements or PL/SQL subprograms that execute within a database session, with the beginning and end points defined using the procedures <code class="codeph">DBMS_SQL_MONITOR.BEGIN_OPERATION</code> and <code class="codeph">DBMS_SQL_MONITOR.END_OPERATION</code>. A composite database operation is uniquely identified by its name and execution ID, and can be executed multiple times.
                        </p>
                        <div class="infoboxnote" id="GUID-573B83E0-15D4-4132-9ABE-91FB5D398B9C__GUID-723837FE-1EC6-47E3-B3E5-0694A874EBF7">
                           <p class="notep1">Note:</p>
                           <p>A database session can participate in at most one database operation at a time.</p>
                        </div>
                        <p>Oracle Database automatically monitors a composite operation when either of the following conditions is true:</p>
                        <ul style="list-style-type: disc;" id="GUID-573B83E0-15D4-4132-9ABE-91FB5D398B9C__UL_K1J_GM5_DGB">
                           <li>
                              <p>The operation has consumed at least 5 seconds of CPU or I/O time.</p>
                           </li>
                           <li>
                              <p>Tracking for the operations is forced by setting <code class="codeph">FORCED_TRACKING</code> to <code class="codeph">Y</code> in <code class="codeph">DBMS_SQL_MONITOR.BEGIN_OPERATION</code>.
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-573B83E0-15D4-4132-9ABE-91FB5D398B9C__GUID-32245893-1F1E-4445-A0F6-692482056340">
                           <p class="notep1">Note:</p>
                           <p><span class="q">"<a href="https://sqlmaria.com/2017/08/01/getting-the-most-out-of-oracle-sql-monitor/" target="_blank">Getting the Most Out of SQL Monitor</a>"</span> for a brief overview of SQL Monitor
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="monitoring-database-operations.html#GUID-007E5BAE-B07D-4BD1-9485-DE8D260BF862" title="The SQL monitoring feature is enabled by default when the STATISTICS_LEVEL initialization parameter is either set to TYPICAL (the default value) or ALL.">About Monitoring Database Operations</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TGSQL94583"></a><div class="props_rev_3"><a id="GUID-7E2A0A25-6EF1-4180-B16E-65B47039CEC7" name="GUID-7E2A0A25-6EF1-4180-B16E-65B47039CEC7"></a><h4 id="TGSQL-GUID-7E2A0A25-6EF1-4180-B16E-65B47039CEC7" class="sect4"><span class="enumeration_section">21.1.2 </span>Purpose of Monitoring Database Operations
                  </h4>
                  <div>
                     <p>For simple operations, Real-Time SQL Monitoring helps determine where a statement is spending its time.</p>
                     <p>You can also see the breakdown of time and resource usage for recently completed statements. In this way, you can better determine why a particular operation is expensive. Use cases for Real-Time SQL Monitoring include the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>A frequently executed SQL statement is executing more slowly than normal. You must identify the root cause of this problem.</p>
                        </li>
                        <li>
                           <p>A database session is experiencing slow performance.</p>
                        </li>
                        <li>
                           <p>A parallel SQL statement is taking a long time. You want to determine how the server processes are dividing the work.</p>
                        </li>
                     </ul>
                     <p>In OLTP and data warehouse environments, a job often logically groups related SQL statements. The job can span multiple concurrent sessions. Database operations extend Real-Time SQL Monitoring by enabling you to treat a set of statements or procedures as a named, uniquely identified, and re-executable unit. Use cases for monitoring operations include the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>A periodic batch job containing many SQL statements must complete in a certain number of hours, but took longer than expected.</p>
                        </li>
                        <li>
                           <p>After a database upgrade, the execution time of an important batch job increased. To resolve this problem, you must collect enough relevant statistical data from the batch job before and after the upgrade, compare the two sets of data, and then identify the changes.</p>
                        </li>
                        <li>
                           <p>Packing a <a href="glossary.html#GUID-52FB0AE5-7346-44E5-BE92-3C09385B1DDC"><span class="xrefglossterm">SQL tuning set (STS)</span></a> took far longer than anticipated. To diagnose the problem, you need to know what was being executed over time. Because this issue cannot be easily reproduced, you need to monitor the process while it is running.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="monitoring-database-operations.html#GUID-4048D00E-2635-42C8-A37D-71EFAC619062" title="By default, AWR automatically captures SQL monitoring reports in XML format.">Generating and Accessing SQL Monitor Reports</a></li>
                           <li><a href="../admin/managing-resources-with-oracle-database-resource-manager.html#ADMIN-GUID-2BEF5482-CF97-4A85-BD90-9195E41E74EF" target="_blank"><span><cite>Oracle Database Administrator’s Guide</cite></span></a></li>
                        </ul>
                     </div>
                     <div class="infoboxnotealso" id="GUID-7E2A0A25-6EF1-4180-B16E-65B47039CEC7__GUID-B2196ADA-F11F-44D2-AD1F-E747AE7C69C1">
                        <p class="notep1">See Also:</p>
                        <p><a href="https://www.youtube.com/watch?v=pEC5GdtzpRs" target="_blank">Why Use SQL Monitor</a> for a video demonstrating some uses of SQL Monitor
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="monitoring-database-operations.html#GUID-007E5BAE-B07D-4BD1-9485-DE8D260BF862" title="The SQL monitoring feature is enabled by default when the STATISTICS_LEVEL initialization parameter is either set to TYPICAL (the default value) or ALL.">About Monitoring Database Operations</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TGSQL94588"></a><a id="TGSQL94587"></a><div class="props_rev_3"><a id="GUID-CEED2A89-51DE-42AC-B2BD-CAD3D6E25807" name="GUID-CEED2A89-51DE-42AC-B2BD-CAD3D6E25807"></a><h4 id="TGSQL-GUID-CEED2A89-51DE-42AC-B2BD-CAD3D6E25807" class="sect4"><span class="enumeration_section">21.1.3 </span>How Database Monitoring Works
                  </h4>
                  <div>
                     <p>Real-Time SQL Monitoring is a built-in database infrastructure that helps you identify performance problems with long-running and parallel SQL statements.</p>
                     <p>The following figure gives an overview of the architecture for Real-Time SQL Monitoring.</p>
                     <div class="figure" id="GUID-CEED2A89-51DE-42AC-B2BD-CAD3D6E25807__CHDIEDBG">
                        <p class="titleinfigure">Figure 21-1 Architecture for Database Operations Monitoring</p><img src="img/tgsql_vm_033.png" alt="Description of Figure 21-1 follows" title="Description of Figure 21-1 follows" longdesc="img_text/tgsql_vm_033.html"><br><a href="img_text/tgsql_vm_033.html">Description of "Figure 21-1 Architecture for Database Operations Monitoring"</a></div>
                     <!-- class="figure" -->
                     <p>As shown in the preceding graphic, the <code class="codeph">DBMS_SQL_MONITOR</code> package defines database operations. After monitoring is initiated, the database stores metadata about the database operations in AWR, and the data in AWR and ASH. The database refreshes monitoring statistics in close to real time as each monitored statement executes, typically once every second. The database stores the operational data (the statements and metadata) in the SGA. After an operation completes, the database writes the SQL Monitor report to disk, where it can be queried using the <code class="codeph">DBA_HIST_REPORTS</code> view.
                     </p>
                     <p>Every monitored database operation has an entry in the <code class="codeph">V$SQL_MONITOR</code> view. This entry tracks key performance metrics collected for the execution, including the elapsed time, CPU time, number of reads and writes, I/O wait time, and various other wait times. The <code class="codeph">V$SQL_PLAN_MONITOR</code> view includes monitoring statistics for each operation in the execution plan of the SQL statement being monitored. You can access reports by using <code class="codeph">DBMS_SQL_MONITOR.REPORT_SQL_MONITOR</code>, Oracle Enterprise Manager Cloud Control (Cloud Control), or EM Express.
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-CEED2A89-51DE-42AC-B2BD-CAD3D6E25807__GUID-9866759A-4792-41B7-ACAE-61886EEAA495">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="monitoring-database-operations.html#GUID-4048D00E-2635-42C8-A37D-71EFAC619062" title="By default, AWR automatically captures SQL monitoring reports in XML format.">Generating and Accessing SQL Monitor Reports</a>"</span></p>
                           </li>
                           <li>
                              <p><span><cite>Oracle Database Reference</cite></span> to learn about <a href="../refrn/V-SQL_MONITOR.html#GUID-79E97A84-9C27-4A5E-AC0D-C12CB3E748E6" target="_blank"><code class="codeph">V$SQL_MONITOR</code></a>, <a href="../refrn/V-SQL_PLAN_MONITOR.html#GUID-85354ECB-7E2E-4D4B-AE78-243A4BB6E523" target="_blank"><code class="codeph">V$SQL_PLAN_MONITOR</code></a>, and <a href="../refrn/CONTROL_MANAGEMENT_PACK_ACCESS.html#GUID-A5CA11BA-AE1F-4A2E-9C59-A98BA1F4E5C2" target="_blank"><code class="codeph">CONTROL_MANAGEMENT_PACK_ACCESS</code></a></p>
                           </li>
                           <li>
                              <p><a href="../arpls/DBMS_SQL_MONITOR.html#ARPLS-GUID-13874A73-369E-42CD-9C43-A12F1B3BDEC6" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> to learn about the <code class="codeph">DBMS_SQL_MONITOR</code> package
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="monitoring-database-operations.html#GUID-007E5BAE-B07D-4BD1-9485-DE8D260BF862" title="The SQL monitoring feature is enabled by default when the STATISTICS_LEVEL initialization parameter is either set to TYPICAL (the default value) or ALL.">About Monitoring Database Operations</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TGSQL94592"></a><div class="props_rev_3"><a id="GUID-13D71625-2548-4F7B-B2B2-FEEAD24F7690" name="GUID-13D71625-2548-4F7B-B2B2-FEEAD24F7690"></a><h4 id="TGSQL-GUID-13D71625-2548-4F7B-B2B2-FEEAD24F7690" class="sect4"><span class="enumeration_section">21.1.4 </span>User Interfaces for Database Operations Monitoring
                  </h4>
                  <div>
                     <p>Real-Time SQL Monitoring is a feature of the Oracle Database Tuning Pack. Database operations are enabled when the <code class="codeph">CONTROL_MANAGEMENT_PACK_ACCESS</code> initialization parameter is set to <code class="codeph">DIAGNOSTIC+TUNING</code> (default).
                     </p>
                     <div class="section">
                        <p>This section contains the following topics:</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="monitoring-database-operations.html#GUID-061502D7-5546-4AB6-B6D3-62FBF71E8CB7">Monitored SQL Executions Page in Cloud Control</a><br>The Monitored SQL Executions page in Cloud Control, also known as SQL Monitor, displays details of SQL execution. SQL Monitor is the recommended interface for reporting on database operations.
                        </li>
                        <li class="ulchildlink"><a href="monitoring-database-operations.html#GUID-4ABD504A-EDAD-4DA6-BEBD-772BF9214218">DBMS_SQL_MONITOR Package</a><br>The <code class="codeph">DBMS_SQL_MONITOR</code> package defines the beginning and ending of a composite database operation, and generates a report of the database operations.
                        </li>
                        <li class="ulchildlink"><a href="monitoring-database-operations.html#GUID-EC276737-148A-4ED7-AA7D-F125AD1B8859">Attributes of composite Database Operations</a><br>The <code class="codeph">DBMS_SQL_MONITOR.BEGIN_OPERATION</code> function defines a database operation.
                        </li>
                        <li class="ulchildlink"><a href="monitoring-database-operations.html#GUID-19E0F73C-A959-41E4-A168-91E436DEE1F1">MONITOR and NO_MONITOR Hints</a><br>You can use the MONITOR and NO_MONITOR hints to control tracking for individual statements.
                        </li>
                        <li class="ulchildlink"><a href="monitoring-database-operations.html#GUID-E471C229-5713-40E2-A95C-593EACB56AE7">Views for Monitoring and Reporting on Database Operations</a><br>You can obtain the statistics for database operations using <code class="codeph">V$</code> and data dictionary view.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="monitoring-database-operations.html#GUID-007E5BAE-B07D-4BD1-9485-DE8D260BF862" title="The SQL monitoring feature is enabled by default when the STATISTICS_LEVEL initialization parameter is either set to TYPICAL (the default value) or ALL.">About Monitoring Database Operations</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="TGSQL94593"></a><div class="props_rev_3"><a id="GUID-061502D7-5546-4AB6-B6D3-62FBF71E8CB7" name="GUID-061502D7-5546-4AB6-B6D3-62FBF71E8CB7"></a><h5 id="TGSQL-GUID-061502D7-5546-4AB6-B6D3-62FBF71E8CB7" class="sect5"><span class="enumeration_section">21.1.4.1 </span>Monitored SQL Executions Page in Cloud Control
                     </h5>
                     <div>
                        <p>The Monitored SQL Executions page in Cloud Control, also known as SQL Monitor, displays details of SQL execution. SQL Monitor is the recommended interface for reporting on database operations.</p>
                        <div class="section">
                           <p>Statistics at each step of the execution plan are tracked by key performance metrics, including elapsed time, CPU time, number of reads and writes, I/O wait time, and various other wait times. These metrics enable DBAs to analyze SQL execution in depth and decide on the most appropriate tuning strategies for monitored SQL statements. </p>
                           <p>SQL Monitor Active Reports provide a flash-based interactive report that enables you to save data in an HTML file. You can save this file and view it offline.</p>
                           <p>This section contains the following topics:</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="monitoring-database-operations.html#GUID-4D6B463D-0CFB-4A2F-9507-B64122AAC530">Accessing the Monitored SQL Executions Page</a><br>The Monitored SQL Executions shows information such as the SQL ID, database time, and I/O requests.
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="monitoring-database-operations.html#GUID-13D71625-2548-4F7B-B2B2-FEEAD24F7690" title="Real-Time SQL Monitoring is a feature of the Oracle Database Tuning Pack. Database operations are enabled when the CONTROL_MANAGEMENT_PACK_ACCESS initialization parameter is set to DIAGNOSTIC+TUNING (default).">User Interfaces for Database Operations Monitoring</a></p>
                           </div>
                        </div>
                     </div>
                     <a id="TGSQL94594"></a><div class="props_rev_3"><a id="GUID-4D6B463D-0CFB-4A2F-9507-B64122AAC530" name="GUID-4D6B463D-0CFB-4A2F-9507-B64122AAC530"></a><h6 id="TGSQL-GUID-4D6B463D-0CFB-4A2F-9507-B64122AAC530" class="sect6"><span class="enumeration_section">21.1.4.1.1 </span>Accessing the Monitored SQL Executions Page
                        </h6>
                        <div>
                           <p>The Monitored SQL Executions shows information such as the SQL ID, database time, and I/O requests.</p>
                           <div class="section">
                              <p class="subhead3" id="GUID-4D6B463D-0CFB-4A2F-9507-B64122AAC530__GUID-D4218241-3368-4D61-A433-9FD7E7ACB1F2">To access the Monitored SQL Executions page:</p>
                              <ol>
                                 <li>
                                    <p>Log in to Cloud Control with the appropriate credentials.</p>
                                 </li>
                                 <li>
                                    <p>Under the <span class="bold">Targets</span> menu, select <span class="bold">Databases</span>.
                                    </p>
                                 </li>
                                 <li>
                                    <p>In the list of database targets, select the target for the Oracle Database instance that you want to administer.</p>
                                 </li>
                                 <li>
                                    <p>If prompted for database credentials, then enter the minimum credentials necessary for the tasks you intend to perform.</p>
                                 </li>
                                 <li>
                                    <p>From the <span class="bold">Performance</span> menu, select <span class="bold">SQL Monitoring</span>.
                                    </p>
                                    <p>The Monitored SQL Executions page appears.</p>
                                    <div class="figure" id="GUID-4D6B463D-0CFB-4A2F-9507-B64122AAC530__GUID-055D4E03-F49D-4192-8FFF-37E44818608E">
                                       <p class="titleinfigure">Figure 21-2 Monitored SQL Executions</p><img src="img/mon_sql_exec.jpg" alt="Description of Figure 21-2 follows" title="Description of Figure 21-2 follows" longdesc="img_text/mon_sql_exec.html"><br><a href="img_text/mon_sql_exec.html">Description of "Figure 21-2 Monitored SQL Executions"</a></div>
                                    <!-- class="figure" -->
                                 </li>
                              </ol>
                           </div>
                           <!-- class="section" -->
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="monitoring-database-operations.html#GUID-061502D7-5546-4AB6-B6D3-62FBF71E8CB7" title="The Monitored SQL Executions page in Cloud Control, also known as SQL Monitor, displays details of SQL execution. SQL Monitor is the recommended interface for reporting on database operations.">Monitored SQL Executions Page in Cloud Control</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div><a id="TGSQL94596"></a><a id="TGSQL94595"></a><div class="props_rev_3"><a id="GUID-4ABD504A-EDAD-4DA6-BEBD-772BF9214218" name="GUID-4ABD504A-EDAD-4DA6-BEBD-772BF9214218"></a><h5 id="TGSQL-GUID-4ABD504A-EDAD-4DA6-BEBD-772BF9214218" class="sect5"><span class="enumeration_section">21.1.4.2 </span>DBMS_SQL_MONITOR Package
                     </h5>
                     <div>
                        <p>The <code class="codeph">DBMS_SQL_MONITOR</code> package defines the beginning and ending of a composite database operation, and generates a report of the database operations.
                        </p>
                        <div class="tblformalwide" id="GUID-4ABD504A-EDAD-4DA6-BEBD-772BF9214218__GUID-B2677E02-96F7-4C9E-BFDB-7B2AE810BBA6">
                           <p class="titleintable">Table 21-1 DBMS_SQL_MONITOR</p>
                           <table cellpadding="4" cellspacing="0" class="FormalWide" title="DBMS_SQL_MONITOR" summary="This 2 column table describes DBMS_SQL_MONITOR. Column 1 is the program unit. Column 2 describes that unit. " width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d105713e1520">Subprogram</th>
                                    <th align="left" valign="bottom" id="d105713e1523">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d105713e1528" headers="d105713e1520 ">
                                       <p><code class="codeph">BEGIN_OPERATION</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d105713e1528 d105713e1523 ">
                                       <p><span>This function starts a database operation in the current session.</span></p>
                                       <p>This function associates a session with a database operation. Starting in <span>Oracle Database 12c</span> Release 2 (12.2), you can use <code class="codeph">session_id</code> and <code class="codeph">session_num</code> to indicate the session in which to start monitoring.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d105713e1548" headers="d105713e1520 ">
                                       <p><code class="codeph">END_OPERATION</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d105713e1548 d105713e1523 ">
                                       <p><span>This function ends a database operation in the current session. If the specified database operation does not exist, then this function has no effect.</span></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d105713e1557" headers="d105713e1520 ">
                                       <p><code class="codeph">REPORT_SQL_MONITOR</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d105713e1557 d105713e1523 ">
                                       <p><span>This function builds a detailed report with monitoring information for a SQL statement, PL/SQL block, or database operation.</span></p>
                                       <p>For each operation, it gives key information and associated global statistics. Use this function to get detailed monitoring information for a database operation.</p>
                                       <p>The target database operation for this report can be:</p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p>The last database operation monitored by Oracle Database (default, no parameter).</p>
                                          </li>
                                          <li>
                                             <p>The last database operation executed in the specified session and monitored by Oracle Database. The session is identified by its session ID and optionally its serial number (<code class="codeph">-1</code> is current session). 
                                             </p>
                                          </li>
                                          <li>
                                             <p>The last execution of a specific database operation identified by its <code class="codeph">sql_id</code>.
                                             </p>
                                          </li>
                                          <li>
                                             <p>A specific execution of a database operation identified by the combination <code class="codeph">sql_id</code>, <code class="codeph">sql_exec_start</code>, and <code class="codeph">sql_exec_id</code>.
                                             </p>
                                          </li>
                                          <li>
                                             <p>The last execution of a specific database operation identified by <code class="codeph">dbop_name</code>.
                                             </p>
                                          </li>
                                          <li>
                                             <p>The specific execution of a database operation identified by the combination <code class="codeph">dbop_name</code>, <code class="codeph">dbop_exec_id</code>.
                                             </p>
                                          </li>
                                       </ul>
                                       <p>Use the <code class="codeph">type</code> parameter to specify the output type: <code class="codeph">TEXT</code> (default), <code class="codeph">HTML</code>, <code class="codeph">ACTIVE</code>, or <code class="codeph">XML</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d105713e1630" headers="d105713e1520 ">
                                       <p><code class="codeph">REPORT_SQL_MONITOR_XML</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d105713e1630 d105713e1523 ">
                                       <p><span>This function is identical to the <code class="codeph">REPORT_SQL_MONITOR</code> function, except that the return type is <code class="codeph">XMLType</code>.</span></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d105713e1645" headers="d105713e1520 ">
                                       <p><code class="codeph">REPORT_SQL_MONITOR_LIST</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d105713e1645 d105713e1523 ">
                                       <p><span>This function builds a report for all or a subset of database operations that have been monitored by Oracle Database.</span></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d105713e1654" headers="d105713e1520 ">
                                       <p><code class="codeph">REPORT_SQL_MONITOR_LIST_XML</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d105713e1654 d105713e1523 ">
                                       <p><span>This function is identical to the <code class="codeph">REPORT_SQL_MONITOR_LIST</code> function, except that it returns <code class="codeph">XMLType</code>.</span></p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="section"></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-4ABD504A-EDAD-4DA6-BEBD-772BF9214218__GUID-F4C2D356-6227-407F-96AA-A552D6AC39BB">
                           <p class="notep1">See Also:</p>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tgsql&amp;id=ARPLS74779" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> to learn about the <code class="codeph">DBMS_SQL_MONITOR</code> package
                           </p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="monitoring-database-operations.html#GUID-13D71625-2548-4F7B-B2B2-FEEAD24F7690" title="Real-Time SQL Monitoring is a feature of the Oracle Database Tuning Pack. Database operations are enabled when the CONTROL_MANAGEMENT_PACK_ACCESS initialization parameter is set to DIAGNOSTIC+TUNING (default).">User Interfaces for Database Operations Monitoring</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="TGSQL94590"></a><div class="props_rev_3"><a id="GUID-EC276737-148A-4ED7-AA7D-F125AD1B8859" name="GUID-EC276737-148A-4ED7-AA7D-F125AD1B8859"></a><h5 id="TGSQL-GUID-EC276737-148A-4ED7-AA7D-F125AD1B8859" class="sect5"><span class="enumeration_section">21.1.4.3 </span>Attributes of composite Database Operations
                     </h5>
                     <div>
                        <p>The <code class="codeph">DBMS_SQL_MONITOR.BEGIN_OPERATION</code> function defines a database operation.
                        </p>
                        <p>A composite database operation is uniquely identified by the following information:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Database operation name</p>
                              <p>This is a user-created name such as <code class="codeph">daily_sales_report</code>. The operation name is the same for a job even if it is executed concurrently by different sessions or on different databases. Database operation names do not reside in different namespaces.
                              </p>
                           </li>
                           <li>
                              <p>Database operation execution ID</p>
                              <p>Two or more occurrences of the same database operation can run at the same time, with the same name but different execution IDs. This numeric ID uniquely identifies different executions of the <span class="italic">same</span> database operation. 
                              </p>
                              <p>The database automatically creates an execution ID when you begin a database operation. You can also specify a user-created execution ID.</p>
                           </li>
                        </ul>
                        <p>Optionally, you can specify the session ID and session serial number in which to start the database operations. Thus, one database session can start a database operation defined in a different database session.</p>
                        <p>The database uses the following triplet of values to identify each SQL and PL/SQL statement monitored in the <code class="codeph">V$SQL_MONITOR</code> view, regardless of whether the statement is included in a database operation:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>SQL identifier to identify the SQL statement (<code class="codeph">SQL_ID</code>)
                              </p>
                           </li>
                           <li>
                              <p>Start execution timestamp (<code class="codeph">SQL_EXEC_START</code>)
                              </p>
                           </li>
                           <li>
                              <p>An internally generated identifier to ensure that this primary key is truly unique (<code class="codeph">SQL_EXEC_ID</code>)
                              </p>
                           </li>
                        </ul>
                        <p>You can use zero or more additional attributes to describe and identify the characteristics of a composite database operation. Every attribute has a name and value. For example, for database operation <code class="codeph">daily_sales_report</code>, you might define the attribute <code class="codeph">db_name</code> and assign it the value <code class="codeph">prod</code>.
                        </p>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>Related Topics</strong></p>
                           <ul>
                              <li><a href="../refrn/V-SQL_MONITOR.html#REFRN-GUID-79E97A84-9C27-4A5E-AC0D-C12CB3E748E6" target="_blank"><span><cite>Oracle Database Reference</cite></span></a></li>
                              <li><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tgsql&amp;id=ARPLS-GUID-25BE0E79-3A19-4303-9F66-2CFDB87C7F82" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="monitoring-database-operations.html#GUID-13D71625-2548-4F7B-B2B2-FEEAD24F7690" title="Real-Time SQL Monitoring is a feature of the Oracle Database Tuning Pack. Database operations are enabled when the CONTROL_MANAGEMENT_PACK_ACCESS initialization parameter is set to DIAGNOSTIC+TUNING (default).">User Interfaces for Database Operations Monitoring</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-19E0F73C-A959-41E4-A168-91E436DEE1F1" name="GUID-19E0F73C-A959-41E4-A168-91E436DEE1F1"></a><h5 id="TGSQL-GUID-19E0F73C-A959-41E4-A168-91E436DEE1F1" class="sect5"><span class="enumeration_section">21.1.4.4 </span>MONITOR and NO_MONITOR Hints
                     </h5>
                     <div>
                        <p>You can use the MONITOR and NO_MONITOR hints to control tracking for individual statements.</p>
                        <div class="section">
                           <p>The <code class="codeph">MONITOR</code> hint forces real-time SQL monitoring for the query, even if the statement is not long-running. This hint is valid only when the parameter <code class="codeph">CONTROL_MANAGEMENT_PACK_ACCESS</code> is set to <code class="codeph">DIAGNOSTIC+TUNING</code>. The following query forces SQL Monitor to enable tracking:
                           </p><pre class="pre codeblock"><code>SELECT /*+ MONITOR */  prod_id, AVG(amount_sold), AVG(quantity_sold) 
FROM   sales
GROUP BY prod_id
ORDER BY prod_id;
</code></pre><p>The <code class="codeph">NO_MONITOR</code> hint disables real-time SQL monitoring for the query, even if the query is long running. The following query forces SQL Monitor to disable tracking:
                           </p><pre class="pre codeblock"><code>SELECT /*+ NO_MONITOR */  prod_id, AVG(amount_sold), AVG(quantity_sold) 
FROM   sales
GROUP BY prod_id
ORDER BY prod_id;
</code></pre><div class="infoboxnote" id="GUID-19E0F73C-A959-41E4-A168-91E436DEE1F1__GUID-ABF01735-9EAA-4307-8BDA-088A51F31655">
                              <p class="notep1">Note:</p>
                              <p><a href="../sqlrf/Comments.html#GUID-CD628749-C7E0-4EBB-A989-E9C10325EDF7" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> to learn about the <code class="codeph">MONITOR</code> and <code class="codeph">NO_MONITOR</code> hints
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="monitoring-database-operations.html#GUID-13D71625-2548-4F7B-B2B2-FEEAD24F7690" title="Real-Time SQL Monitoring is a feature of the Oracle Database Tuning Pack. Database operations are enabled when the CONTROL_MANAGEMENT_PACK_ACCESS initialization parameter is set to DIAGNOSTIC+TUNING (default).">User Interfaces for Database Operations Monitoring</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="TGSQL94598"></a><a id="TGSQL94597"></a><div class="props_rev_3"><a id="GUID-E471C229-5713-40E2-A95C-593EACB56AE7" name="GUID-E471C229-5713-40E2-A95C-593EACB56AE7"></a><h5 id="TGSQL-GUID-E471C229-5713-40E2-A95C-593EACB56AE7" class="sect5"><span class="enumeration_section">21.1.4.5 </span>Views for Monitoring and Reporting on Database Operations
                     </h5>
                     <div>
                        <p>You can obtain the statistics for database operations using <code class="codeph">V$</code> and data dictionary view.
                        </p>
                        <div class="section">
                           <p>The following table summarizes these views.</p>
                           <div class="tblformal" id="GUID-E471C229-5713-40E2-A95C-593EACB56AE7__CHDFEHFI">
                              <p class="titleintable">Table 21-2 Views for Database Operations Monitoring</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="Views for Database Operations Monitoring" summary="This table describes views that you can use to monitor database operations." width="100%" frame="hsides" border="1" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" id="d105713e2178">View</th>
                                       <th align="left" valign="bottom" id="d105713e2181">Description</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d105713e2186" headers="d105713e2178 ">
                                          <p><a href="../refrn/DBA_HIST_REPORTS.html#REFRN23881" target="_blank"><code class="codeph">DBA_HIST_REPORTS</code></a></p>
                                       </td>
                                       <td align="left" valign="top" headers="d105713e2186 d105713e2181 ">
                                          <p>This view displays metadata about XML reports captured in Automatic Workload Repository (AWR). Each XML report contains details about some activity of a component. For example, a SQL Monitor report contains a detailed report about a particular database operation.</p>
                                          <p>Important columns include:</p>
                                          <ul style="list-style-type: disc;">
                                             <li>
                                                <p>The <code class="codeph">REPORT_SUMMARY</code> column contains the summary of the report.
                                                </p>
                                             </li>
                                             <li>
                                                <p>The <code class="codeph">COMPONENT_NAME</code> column accepts the value <code class="codeph">sqlmonitor</code>.
                                                </p>
                                             </li>
                                             <li>
                                                <p>The <code class="codeph">REPORT_ID</code> column provides the ID of the report, which you can specify in the <code class="codeph">RID</code> parameter of <code class="codeph">DBMS_AUTO_REPORT.REPORT_REPOSITORY_DETAIL</code> when generating the report.
                                                </p>
                                             </li>
                                             <li>
                                                <p>The <code class="codeph">KEY1</code> column is the is the SQL ID for the statement.
                                                </p>
                                             </li>
                                             <li>
                                                <p>The <code class="codeph">KEY2</code> column is the SQL execution ID for the statement
                                                </p>
                                             </li>
                                          </ul>
                                          <p>AWR controls the retention period for SQL Monitor reports. Every SQL Monitor report in <code class="codeph">DBA_HIST_REPORTS</code> is associated with an AWR <code class="codeph">SNAP_ID</code>. Note that SQL Monitor reports are not exported or imported when you export or import the corresponding AWR data.
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d105713e2246" headers="d105713e2178 ">
                                          <p><a href="../refrn/DBA_HIST_REPORTS_DETAILS.html#REFRN23882" target="_blank"><code class="codeph">DBA_HIST_REPORTS_DETAILS</code></a></p>
                                       </td>
                                       <td align="left" valign="top" headers="d105713e2246 d105713e2181 ">
                                          <p>This view displays details about each report captured in AWR. Metadata for each report appears in the <code class="codeph">DBA_HIST_REPORTS</code> view, whereas the actual report is available in the <code class="codeph">DBA_HIST_REPORTS_DETAILS</code> view.
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d105713e2262" headers="d105713e2178 ">
                                          <p><a href="../refrn/V-SQL_MONITOR.html#GUID-79E97A84-9C27-4A5E-AC0D-C12CB3E748E6" target="_blank"><code class="codeph">V$SQL_MONITOR</code></a></p>
                                       </td>
                                       <td align="left" valign="top" headers="d105713e2262 d105713e2181 ">
                                          <p>This view contains global, high-level information about simple and composite database operations.</p>
                                          <p>For simple database operations, monitoring statistics are not cumulative over several executions. In this case, one entry in <code class="codeph">V$SQL_MONITOR</code> is dedicated to a single execution of a SQL statement. If the database monitors two executions of the same SQL statement, then each execution has a separate entry in <code class="codeph">V$SQL_MONITOR</code>.
                                          </p>
                                          <p>For simple database operations, <code class="codeph">V$SQL_MONITOR</code> has one entry for the parallel execution coordinator process and one entry for each parallel execution server process. Each entry has corresponding entries in <code class="codeph">V$SQL_PLAN_MONITOR</code>. Because the processes allocated for the parallel execution of a SQL statement are cooperating for the same execution, these entries share the same execution key (the combination of <code class="codeph">SQL_ID</code>, <code class="codeph">SQL_EXEC_START</code>, and <code class="codeph">SQL_EXEC_ID</code>).
                                          </p>
                                          <p>For composite database operations, each row contains an operation whose statistics are accumulated over the SQL statements and PL/SQL subprograms that run in the same session as part of the operation. The primary key is the combination of the columns <code class="codeph">DBOP_NAME</code> and <code class="codeph">DBOP_EXEC_ID</code>.
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d105713e2305" headers="d105713e2178 ">
                                          <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tgsql&amp;id=GUID-F1C68683-4048-44FD-8B7A-F30FDCB751CA" target="_blank"><code class="codeph">V$SQL_MONITOR_SESSTAT</code></a></p>
                                       </td>
                                       <td align="left" valign="top" headers="d105713e2305 d105713e2181 ">
                                          <p>This view contains the statistics for all sessions involved in the database operation.</p>
                                          <p>Most of the statistics are cumulative. The database stores the statistics in XML format instead of using each column for each statistic. This view is primarily intended for the report generator. Oracle recommends that you use <code class="codeph">V$SESSTAT</code> instead of <code class="codeph">V$SQL_MONITOR_SESSTAT</code>.
                                          </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d105713e2323" headers="d105713e2178 ">
                                          <p><a href="../refrn/V-SQL_PLAN_MONITOR.html#GUID-85354ECB-7E2E-4D4B-AE78-243A4BB6E523" target="_blank"><code class="codeph">V$SQL_PLAN_MONITOR</code></a></p>
                                       </td>
                                       <td align="left" valign="top" headers="d105713e2323 d105713e2181 ">
                                          <p>This view contains monitoring statistics for each step in the execution plan of the monitored SQL statement.</p>
                                          <p>The database updates statistics in <code class="codeph">V$SQL_PLAN_MONITOR</code> every second while the SQL statement is executing. Multiple entries exist in <code class="codeph">V$SQL_PLAN_MONITOR</code> for every monitored SQL statement. Each entry corresponds to a step in the execution plan of the statement.
                                          </p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <p>You can use the preceding <code class="codeph">V$</code> views with the following views to get additional information about the monitored execution:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">V$ACTIVE_SESSION_HISTORY</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">V$SESSION</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">V$SESSION_LONGOPS</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">V$SQL</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">V$SQL_PLAN</code></p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-E471C229-5713-40E2-A95C-593EACB56AE7__GUID-496AF598-73E7-4D1A-A61C-F6358276E7D7">
                           <p class="notep1">See Also:</p>
                           <p><a href="../refrn/dynamic-performance-views.html#GUID-8C5690B0-DE10-4460-86DF-80111869CF4C" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> to learn about the <code class="codeph">V$</code> views for database operations monitoring
                           </p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="monitoring-database-operations.html#GUID-13D71625-2548-4F7B-B2B2-FEEAD24F7690" title="Real-Time SQL Monitoring is a feature of the Oracle Database Tuning Pack. Database operations are enabled when the CONTROL_MANAGEMENT_PACK_ACCESS initialization parameter is set to DIAGNOSTIC+TUNING (default).">User Interfaces for Database Operations Monitoring</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="TGSQL94599"></a><div class="props_rev_3"><a id="GUID-A11CCA38-7DD8-4B08-9311-29CC7ED92EE6" name="GUID-A11CCA38-7DD8-4B08-9311-29CC7ED92EE6"></a><h4 id="TGSQL-GUID-A11CCA38-7DD8-4B08-9311-29CC7ED92EE6" class="sect4"><span class="enumeration_section">21.1.5 </span>Basic Tasks in Database Operations Monitoring
                  </h4>
                  <div>
                     <p>This section explains the basic tasks in database operations monitoring.</p>
                     <p>Basic tasks are as follows:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="q">"<a href="monitoring-database-operations.html#GUID-61D052D2-1F06-4A8C-A9D8-26504AD8A720" title="Use initialization parameters to enable or disable monitoring.">Enabling and Disabling Monitoring of Database Operations</a>"</span></p>
                           <p>This task explains how you can enable automatic monitoring of database operations at the system and statement level.</p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="monitoring-database-operations.html#GUID-DC573FB7-40C5-4D6D-BE81-EF356900B444" title="Defining a database operation involves supplying a name and specifying its beginning and end times.">Defining a Composite Database Operation</a>"</span></p>
                           <p>This section explains how you can define the beginning and end of a database operation using PL/SQL.</p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="monitoring-database-operations.html#GUID-4048D00E-2635-42C8-A37D-71EFAC619062" title="By default, AWR automatically captures SQL monitoring reports in XML format.">Generating and Accessing SQL Monitor Reports</a>"</span></p>
                           <p>This section explains how you can generate and interpret reports on a database operation.</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="monitoring-database-operations.html#GUID-007E5BAE-B07D-4BD1-9485-DE8D260BF862" title="The SQL monitoring feature is enabled by default when the STATISTICS_LEVEL initialization parameter is either set to TYPICAL (the default value) or ALL.">About Monitoring Database Operations</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="TGSQL94600"></a><div class="props_rev_3"><a id="GUID-61D052D2-1F06-4A8C-A9D8-26504AD8A720" name="GUID-61D052D2-1F06-4A8C-A9D8-26504AD8A720"></a><h3 id="TGSQL-GUID-61D052D2-1F06-4A8C-A9D8-26504AD8A720" class="sect3"><span class="enumeration_section">21.2 </span>Enabling and Disabling Monitoring of Database Operations
               </h3>
               <div>
                  <p>Use initialization parameters to enable or disable monitoring.</p>
                  <p>This section contains the following topics:</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="monitoring-database-operations.html#GUID-9BFBE13A-EAD4-435F-8A8B-F95FB11F3AC7">Enabling Monitoring of Database Operations at the System Level</a><br>The SQL monitoring feature is enabled by default when the <code class="codeph">STATISTICS_LEVEL</code> initialization parameter is either set to <code class="codeph">TYPICAL</code> (the default value) or <code class="codeph">ALL</code>. SQL monitoring starts automatically for all long-running queries.
                     </li>
                     <li class="ulchildlink"><a href="monitoring-database-operations.html#GUID-BBE58891-7BEF-4371-ADAE-6B0A88156B8A">Enabling and Disabling Monitoring of Database Operations at the Statement Level</a><br>When the <code class="codeph">CONTROL_MANAGEMENT_PACK_ACCESS</code> initialization parameter is set to <code class="codeph">DIAGNOSTIC+TUNING</code>, you can use hints to enable or disable monitoring of specific SQL statements. 
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="monitoring-database-operations.html#GUID-C941CE9D-97E1-42F8-91ED-4949B2B710BF" title="This chapter describes how to monitor SQL and PL/SQL.">Monitoring Database Operations</a></p>
                     </div>
                  </div>
               </div>
               <a id="TGSQL94954"></a><a id="TGSQL94602"></a><a id="TGSQL94601"></a><div class="props_rev_3"><a id="GUID-9BFBE13A-EAD4-435F-8A8B-F95FB11F3AC7" name="GUID-9BFBE13A-EAD4-435F-8A8B-F95FB11F3AC7"></a><h4 id="TGSQL-GUID-9BFBE13A-EAD4-435F-8A8B-F95FB11F3AC7" class="sect4"><span class="enumeration_section">21.2.1 </span>Enabling Monitoring of Database Operations at the System Level
                  </h4>
                  <div>
                     <p>The SQL monitoring feature is enabled by default when the <code class="codeph">STATISTICS_LEVEL</code> initialization parameter is either set to <code class="codeph">TYPICAL</code> (the default value) or <code class="codeph">ALL</code>. SQL monitoring starts automatically for all long-running queries.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-9BFBE13A-EAD4-435F-8A8B-F95FB11F3AC7__GUID-B6373CCB-58A2-4CD5-9C70-4FFB95DD88E7">Prerequisites</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Because SQL monitoring is a feature of the Oracle Database Tuning Pack, the <code class="codeph">CONTROL_MANAGEMENT_PACK_ACCESS</code> initialization parameter must be set to <code class="codeph">DIAGNOSTIC+TUNING</code> (the default value). 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9BFBE13A-EAD4-435F-8A8B-F95FB11F3AC7__GUID-21932EF1-CD10-4A39-B5E8-E09950506505">Assumptions</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>This tutorial assumes the following:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The <code class="codeph">STATISTICS_LEVEL</code> initialization parameter is set to <code class="codeph">BASIC</code>.
                              </p>
                           </li>
                           <li>
                              <p>You want to enable automatic monitoring of database operations.</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9BFBE13A-EAD4-435F-8A8B-F95FB11F3AC7__GUID-26D3AFA7-1D1A-4E3C-A2A1-B27983FF039C">To enable monitoring of database operations:</p>
                        <ol>
                           <li>
                              <p>Connect SQL*Plus to the database with the appropriate privileges, and then query the current database operations settings.</p>
                              <p>For example, run the following SQL*Plus command:</p><pre class="pre codeblock"><code>SQL&gt; SHOW PARAMETER statistics_level
 
NAME                                TYPE        VALUE
----------------------------------- ----------- -----
statistics_level                    string      BASIC
</code></pre></li>
                           <li>
                              <p>Set the statistics level to <code class="codeph">TYPICAL</code>.
                              </p>
                              <p>For example, run the following SQL statement:</p><pre class="pre codeblock"><code>SQL&gt; ALTER SYSTEM SET STATISTICS_LEVEL='TYPICAL';</code></pre></li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-9BFBE13A-EAD4-435F-8A8B-F95FB11F3AC7__GUID-7C076BE7-16E9-431B-932E-5E146D8896C7">
                        <p class="notep1">See Also:</p>
                        <p><a href="../refrn/OPTIMIZER_FEATURES_ENABLE.html#REFRN10141" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> to learn about the <code class="codeph">STATISTICS_LEVEL</code> and <code class="codeph">CONTROL_MANAGEMENT_PACK_ACCESS</code> initialization parameter
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="monitoring-database-operations.html#GUID-61D052D2-1F06-4A8C-A9D8-26504AD8A720" title="Use initialization parameters to enable or disable monitoring.">Enabling and Disabling Monitoring of Database Operations</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TGSQL94604"></a><a id="TGSQL94603"></a><div class="props_rev_3"><a id="GUID-BBE58891-7BEF-4371-ADAE-6B0A88156B8A" name="GUID-BBE58891-7BEF-4371-ADAE-6B0A88156B8A"></a><h4 id="TGSQL-GUID-BBE58891-7BEF-4371-ADAE-6B0A88156B8A" class="sect4"><span class="enumeration_section">21.2.2 </span>Enabling and Disabling Monitoring of Database Operations at the Statement Level
                  </h4>
                  <div>
                     <p>When the <code class="codeph">CONTROL_MANAGEMENT_PACK_ACCESS</code> initialization parameter is set to <code class="codeph">DIAGNOSTIC+TUNING</code>, you can use hints to enable or disable monitoring of specific SQL statements. 
                     </p>
                     <div class="section">
                        <p>The database monitors SQL statements or PL/SQL subprograms automatically when they have consumed at least 5 seconds of CPU or I/O time in a single execution. The <code class="codeph">MONITOR</code> hint is useful to enforce monitoring of statements or subprograms that do not meet the time criteria.
                        </p>
                        <p>Two statement-level hints are available to force or prevent the database from monitoring a SQL statement. To force SQL monitoring, use the <code class="codeph">MONITOR</code> hint:
                        </p><pre class="pre codeblock"><code>SELECT /*+ MONITOR */ SYSDATE FROM DUAL;
</code></pre><p>This hint is effective only when the <code class="codeph">CONTROL_MANAGEMENT_PACK_ACCESS</code> parameter is set to <code class="codeph">DIAGNOSTIC+TUNING</code>. To prevent the hinted SQL statement from being monitored, use the <code class="codeph">NO_MONITOR</code> reverse hint.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BBE58891-7BEF-4371-ADAE-6B0A88156B8A__GUID-7F6D5DCC-9AAC-4AF9-840D-ECF17BAD87F3">Assumptions</p>
                        <p>This tutorial assumes the following:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Database monitoring is currently enabled at the system level.</p>
                           </li>
                           <li>
                              <p>You want to disable automatic monitoring for the statement <code class="codeph">SELECT * FROM sales ORDER BY time_id</code>.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BBE58891-7BEF-4371-ADAE-6B0A88156B8A__GUID-39B3B05F-69A9-41D9-BD11-B829D351873F">To disable monitoring of database operations for a SQL statement:</p>
                        <ol>
                           <li>
                              <p>Execute the query with the <code class="codeph">NO_MONITOR</code> hint.
                              </p>
                              <p>For example, run the following statement:</p><pre class="pre codeblock"><code>SQL&gt; SELECT * /*+NO_MONITOR*/ FROM sales ORDER BY time_id;</code></pre></li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-BBE58891-7BEF-4371-ADAE-6B0A88156B8A__GUID-C701BEE2-D952-4C8F-B133-B98D80CD0A74">
                        <p class="notep1">See Also:</p>
                        <p><a href="../sqlrf/Comments.html#SQLRF00219" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for information about using the <code class="codeph">MONITOR</code> and <code class="codeph">NO_MONITOR</code> hints
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="monitoring-database-operations.html#GUID-61D052D2-1F06-4A8C-A9D8-26504AD8A720" title="Use initialization parameters to enable or disable monitoring.">Enabling and Disabling Monitoring of Database Operations</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="TGSQL94606"></a><a id="TGSQL94605"></a><div class="props_rev_3"><a id="GUID-DC573FB7-40C5-4D6D-BE81-EF356900B444" name="GUID-DC573FB7-40C5-4D6D-BE81-EF356900B444"></a><h3 id="TGSQL-GUID-DC573FB7-40C5-4D6D-BE81-EF356900B444" class="sect3"><span class="enumeration_section">21.3 </span>Defining a Composite Database Operation
               </h3>
               <div>
                  <p>Defining a database operation involves supplying a name and specifying its beginning and end times. </p>
                  <div class="section">
                     <p>Start a database operation by using the <code class="codeph">DBMS_SQL_MONITOR.BEGIN_OPERATION</code> function, and end it by using the <code class="codeph">DBMS_SQL_MONITOR.END_OPERATION</code> procedure.
                     </p>
                     <p>To begin the operation in a different session, specify the combination of <code class="codeph">session_id</code> and <code class="codeph">serial_num</code>. The <code class="codeph">BEGIN_OPERATION</code> function returns the database operation execution ID. If <code class="codeph">dbop_exec_id</code> is null, then the database generates a unique value.
                     </p>
                     <p>A single namespace exists for database operations, which means that name collisions are possible. Oracle recommends the following naming convention: <code class="codeph"><span class="codeinlineitalic">component_name.subcomponent_name.operation name</span></code>. For operations inside the database, Oracle recommends using <code class="codeph">ORA</code> for the component name. For example, a materialized view refresh could be named <code class="codeph">ORA.MV.refresh</code>. An E-Business Suite payroll function could be named <code class="codeph">EBIZ.payroll</code>. 
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-DC573FB7-40C5-4D6D-BE81-EF356900B444__GUID-038872A5-239F-4666-888C-13C032EF30D3">To create a database operation in the current session:</p>
                     <ol>
                        <li>
                           <p>In SQL*Plus or SQL Developer, log in to the database as a user with the necessary privileges.</p>
                        </li>
                        <li>
                           <p>Start the operation by using <code class="codeph">DBMS_SQL_MONITOR.BEGIN_OPERATION</code>.
                           </p>
                           <p>This function returns the database operation execution ID. The following example creates the operation named <code class="codeph">ORA.sales.agg</code>, and stores the execution ID in a SQL*Plus variable:
                           </p><pre class="pre codeblock"><code>VARIABLE exec_id NUMBER; 
BEGIN 
  :exec_id := DBMS_SQL_MONITOR.BEGIN_OPERATION ( dbop_name =&gt; 'ORA.sales.agg' ); 
END; 
/</code></pre></li>
                        <li>
                           <p>Execute the SQL statements or PL/SQL programs that you want to monitor.</p>
                        </li>
                        <li>
                           <p>End the operation by using <code class="codeph">DBMS_SQL_MONITOR.END_OPERATION</code>.
                           </p>
                           <p>The following example ends operation <code class="codeph">ORA.sales.agg</code>:
                           </p><pre class="pre codeblock"><code>BEGIN
  DBMS_SQL_MONITOR.END_OPERATION ( dbop_name =&gt; 'ORA.sales.agg', dbop_eid =&gt; :exec_id );
END;
/</code></pre></li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-DC573FB7-40C5-4D6D-BE81-EF356900B444__GUID-C76CA02B-67F5-4226-8F98-6A099F8BB010">
                     <p class="titleinexample">Example 21-1 Creating a Database Operation</p>
                     <p>The following example illustrates how to use the <code class="codeph">DBMS_SQL_MONITOR</code> package to begin and end a database operation in a different session. This example assumes the following:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>You are an administrator and want to monitor statements in a session started by user <code class="codeph">sh</code>.
                           </p>
                        </li>
                        <li>
                           <p>You want to monitor queries of the <code class="codeph">sh.sales</code> table and <code class="codeph">sh.customers</code> table.
                           </p>
                        </li>
                        <li>
                           <p>You want these two queries to be monitored as a database operation named <code class="codeph">sh_count</code>.
                           </p>
                        </li>
                     </ul>
                     <div class="tblformalwide" id="GUID-DC573FB7-40C5-4D6D-BE81-EF356900B444__GUID-0A87E83A-AE66-49F4-B0B1-193FCA0010DD">
                        <p class="titleintable">Table 21-3 Creating a Database Operation</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="Creating a Database Operation" summary="This 2 column table illustrates how to begin and end a database operation. Column 1 is the SYSTEM session. Column 2 is the SH session. Column 3 describes each session. " width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="20%" id="d105713e3307">SYSTEM Session</th>
                                 <th align="left" valign="bottom" width="20%" id="d105713e3309">SH Session</th>
                                 <th align="left" valign="bottom" width="20%" id="d105713e3311">DESCRIPTION</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d105713e3315" headers="d105713e3307 "><pre class="pre codeblock"><code>SQL&gt; CONNECT SYSTEM
Enter password: *********
Connected.
</code></pre></td>
                                 <td align="left" valign="top" width="20%" headers="d105713e3315 d105713e3309 ">
                                    <p>n/a</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105713e3315 d105713e3311 ">
                                    <p>Start SQL*Plus and connect as a user with the administrator privileges.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d105713e3325" headers="d105713e3307 ">
                                    <p>n/a</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105713e3325 d105713e3309 "><pre class="pre codeblock"><code>SQL&gt; CONNECT sh
Enter password: ******
Connected.
</code></pre></td>
                                 <td align="left" valign="top" width="20%" headers="d105713e3325 d105713e3311 ">
                                    <p>In a different terminal, start SQL*Plus and connect as a user as user <code class="codeph">sh</code>.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d105713e3338" headers="d105713e3307 "><pre class="pre codeblock"><code>SELECT SID, SERIAL# 
FROM   V$SESSION 
WHERE  USERNAME = 'SH';

       SID    SERIAL#
---------- ----------
       121      13397
</code></pre></td>
                                 <td align="left" valign="top" width="20%" headers="d105713e3338 d105713e3309 ">
                                    <p>n/a</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105713e3338 d105713e3311 ">
                                    <p>In the <code class="codeph">SYSTEM</code> session, query the session ID and serial number of the <code class="codeph">sh</code> session.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d105713e3354" headers="d105713e3307 "><pre class="pre codeblock"><code>VARIABLE eid NUMBER

BEGIN
:eid:=DBMS_SQL_MONITOR.BEGIN_OPERATION
      ('sh_count', null, null,
       null, '121', '13397');
END;
/

PRINT eid

       EID
----------
         2
</code></pre></td>
                                 <td align="left" valign="top" width="20%" headers="d105713e3354 d105713e3309 ">
                                    <p>n/a</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105713e3354 d105713e3311 ">
                                    <p>In the <code class="codeph">SYSTEM</code> session, begin a database operation, specifying the session ID and serial number for the <code class="codeph">sh</code> session.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d105713e3370" headers="d105713e3307 ">
                                    <p>n/a</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105713e3370 d105713e3309 "><pre class="pre codeblock"><code>SELECT count(*) 
FROM   sh.sales;
 
  COUNT(*)
----------
    918843

SELECT COUNT(*) 
FROM   sh.customers;
 
  COUNT(*)
----------
     55500</code></pre></td>
                                 <td align="left" valign="top" width="20%" headers="d105713e3370 d105713e3311 ">
                                    <p>In the <code class="codeph">sh</code> session, query the <code class="codeph">sales</code> and <code class="codeph">customers</code> tables. These SQL queries are part of the <code class="codeph">sh_count</code> operation.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d105713e3392" headers="d105713e3307 "><pre class="pre codeblock"><code>BEGIN 
  DBMS_SQL_MONITOR.END_OPERATION
        ('sh_count',:eid);
END;
/</code></pre></td>
                                 <td align="left" valign="top" width="20%" headers="d105713e3392 d105713e3309 ">
                                    <p>n/a</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105713e3392 d105713e3311 ">
                                    <p>End the database operation by specifying the operation name and execution ID.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d105713e3402" headers="d105713e3307 "><pre class="pre codeblock"><code>COL DBOP_NAME FORMAT a10
COL STATUS FORMAT a10
COL ID FORMAT 999

SELECT DBOP_NAME, DBOP_EXEC_ID AS ID,
       STATUS, CPU_TIME, BUFFER_GETS
FROM   V$SQL_MONITOR 
WHERE DBOP_NAME IS NOT NULL
      ORDER BY DBOP_EXEC_ID;

DBOP_NAME  ID     STATUS CPU_TIME GETS
---------- -- ---------- -------- ----
sh_count    1  EXECUTING    24997   65</code></pre></td>
                                 <td align="left" valign="top" width="20%" headers="d105713e3402 d105713e3309 ">
                                    <p>n/a</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105713e3402 d105713e3311 ">
                                    <p>Query the metadata for the <code class="codeph">sh_count</code> database operation. The status of the operation is <code class="codeph">EXECUTING</code> because the session has not picked up the new session status.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d105713e3418" headers="d105713e3307 ">
                                    <p>n/a</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105713e3418 d105713e3309 "><pre class="pre codeblock"><code>SELECT SYSDATE FROM DUAL;</code></pre></td>
                                 <td align="left" valign="top" width="20%" headers="d105713e3418 d105713e3311 ">
                                    <p>To collect changed session information, execute a query that performs a round trip to the database.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d105713e3428" headers="d105713e3307 "><pre class="pre codeblock"><code>COL DBOP_NAME FORMAT a10
COL STATUS FORMAT a10
COL ID FORMAT 999

SELECT DBOP_NAME, DBOP_EXEC_ID AS ID,
       STATUS, CPU_TIME, BUFFER_GETS
FROM   V$SQL_MONITOR 
WHERE DBOP_NAME IS NOT NULL
      ORDER BY DBOP_EXEC_ID;

DBOP_NAME  ID     STATUS CPU_TIME GETS
---------- -- ---------- -------- ----
sh_count    1       DONE    24997   65</code></pre></td>
                                 <td align="left" valign="top" width="20%" headers="d105713e3428 d105713e3309 ">
                                    <p>n/a</p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d105713e3428 d105713e3311 ">
                                    <p>The status of the operation is now updated to <code class="codeph">DONE</code>.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="../arpls/DBMS_SQL_MONITOR.html#ARPLS-GUID-13874A73-369E-42CD-9C43-A12F1B3BDEC6" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="monitoring-database-operations.html#GUID-C941CE9D-97E1-42F8-91ED-4949B2B710BF" title="This chapter describes how to monitor SQL and PL/SQL.">Monitoring Database Operations</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="TGSQL94608"></a><a id="TGSQL94607"></a><div class="props_rev_3"><a id="GUID-4048D00E-2635-42C8-A37D-71EFAC619062" name="GUID-4048D00E-2635-42C8-A37D-71EFAC619062"></a><h3 id="TGSQL-GUID-4048D00E-2635-42C8-A37D-71EFAC619062" class="sect3"><span class="enumeration_section">21.4 </span>Generating and Accessing SQL Monitor Reports
               </h3>
               <div>
                  <p>By default, AWR automatically captures SQL monitoring reports in XML format.</p>
                  <div class="section">
                     <p>The reports capture only SQL statements that are not executing or queued and have finished execution since the last capture cycle. AWR captures reports only for the most expensive statements according to elapsed execution time.  The SQL Monitor retention policy is controlled by the AWR policy. You can change the retention policy using the <code class="codeph">DBMS_WORKLOAD_REPOSITORY.MODIFY_SNAPSHOT_SETTINGS</code> procedure.
                     </p>
                     <p>The Monitored SQL Executions page in Enterprise Manager Cloud Control (Cloud Control) summarizes the activity for monitored statements. You can use this page to drill down and obtain additional details about particular statements. The Monitored SQL Executions Details page uses data from several views, including the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">GV$SQL_MONITOR</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">GV$SQL_PLAN_MONITOR</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">GV$SQL_MONITOR_SESSTAT</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">GV$SQL</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">GV$SQL_PLAN</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">GV$ACTIVE_SESSION_HISTORY</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">GV$SESSION_LONGOPS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">DBA_HIST_REPORTS</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">DBA_HIST_REPORTS_DETAILS</code></p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-4048D00E-2635-42C8-A37D-71EFAC619062__GUID-FB49D556-06E8-4366-B846-6D4078342523">
                        <p class="notep1">Note:</p>
                        <p>Starting in <span>Oracle Database 19c</span>, Oracle Database includes undocumented <code class="codeph">V$</code> views that enable a database user <span class="italic">without</span> the <code class="codeph">SELECT_CATALOG_ROLE</code> to see the plans and statistics for simple database operations (individual SQL and PL/SQL statements) executed within the session. A user without <code class="codeph">SELECT_CATALOG_ROLE</code> cannot see SQL execution statistics and details for other users.
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4048D00E-2635-42C8-A37D-71EFAC619062__GUID-DB68FCBA-FB2B-4C42-BF3E-E7157AA7E83C">Assumptions</p>
                     <p>This tutorial assumes the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The user <code class="codeph">sh</code> is executing the following long-running parallel query of the sales made to each customer:
                           </p><pre class="pre codeblock"><code>SELECT c.cust_id, c.cust_last_name, c.cust_first_name, 
       s.prod_id, p.prod_name, s.time_id
FROM   sales s, customers c, products p
WHERE  s.cust_id = c.cust_id
AND    s.prod_id = p.prod_id
ORDER BY c.cust_id, s.time_id;
</code></pre></li>
                        <li>
                           <p>You want to ensure that the preceding query does not consume excessive resources. While the statement executes, you want to determine basic statistics about the database operation, such as the level of parallelism, the total database time, and number of I/O requests.</p>
                        </li>
                        <li>
                           <p>You use Cloud Control to monitor statement execution.</p>
                           <div class="infoboxnote" id="GUID-4048D00E-2635-42C8-A37D-71EFAC619062__GUID-4FC66F79-AC74-48FD-8C97-79FD7C410096">
                              <p class="notep1">Note:</p>
                              <p>To generate the SQL monitor report from the command line, run the <code class="codeph">REPORT_SQL_MONITOR</code> function in the <code class="codeph">DBMS_SQLTUNE</code> package, as in the following sample SQL*Plus script:
                              </p><pre class="pre codeblock"><code>VARIABLE my_rept CLOB
BEGIN
  :my_rept :=DBMS_SQLTUNE.REPORT_SQL_MONITOR();
END;
/
PRINT :my_rept</code></pre></div>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-4048D00E-2635-42C8-A37D-71EFAC619062__GUID-23017E08-D734-4B8D-929C-C3EAC06AE90E">To monitor SQL executions:</p>
                     <ol>
                        <li>
                           <p>Access the Monitored SQL Executions page, as described in <span class="q">"<a href="monitoring-database-operations.html#GUID-061502D7-5546-4AB6-B6D3-62FBF71E8CB7" title="The Monitored SQL Executions page in Cloud Control, also known as SQL Monitor, displays details of SQL execution. SQL Monitor is the recommended interface for reporting on database operations.">Monitored SQL Executions Page in Cloud Control</a>"</span>.
                           </p>
                           <p>In the following graphic, the top row shows the parallel query.</p>
                           <div class="figure" id="GUID-4048D00E-2635-42C8-A37D-71EFAC619062__GUID-118F05FF-1AEA-4492-8212-FF8747B861EB"><img src="img/mon_sql_exec_main.jpg" alt="Description of mon_sql_exec_main.jpg follows" title="Description of mon_sql_exec_main.jpg follows" longdesc="img_text/mon_sql_exec_main.html"><br><a href="img_text/mon_sql_exec_main.html">Description of the illustration mon_sql_exec_main.jpg</a></div>
                           <!-- class="figure" -->
                           <p>In this example, the query has been executing for 1.4 minutes.</p>
                        </li>
                        <li>
                           <p>Click the value in the SQL ID column to see details about the statement.</p>
                           <p>The Monitored SQL Details page appears.</p>
                           <div class="figure" id="GUID-4048D00E-2635-42C8-A37D-71EFAC619062__GUID-046EFC89-FAC0-44C0-B07A-CAFF7B5EC0C0"><img src="img/mon_sql_exec_details.gif" alt="Description of mon_sql_exec_details.gif follows" title="Description of mon_sql_exec_details.gif follows" longdesc="img_text/mon_sql_exec_details.html"><br><a href="img_text/mon_sql_exec_details.html">Description of the illustration mon_sql_exec_details.gif</a></div>
                           <!-- class="figure" -->
                           <p>The preceding report shows the execution plan and statistics relating to statement execution. For example, the Timeline column shows when each step of the execution plan was active. Times are shown relative to the beginning and end of the statement execution. The Executions column shows how many times an operation was executed. </p>
                        </li>
                        <li>
                           <p>In the Overview section, click the link next to the SQL text.</p>
                           <p>A message shows the full text of the SQL statement.</p>
                           <div class="figure" id="GUID-4048D00E-2635-42C8-A37D-71EFAC619062__GUID-19D6EE8B-B387-49E7-9FF7-7BE8EEE8E517"><img src="img/sql_id_tooltip.gif" alt="Description of sql_id_tooltip.gif follows" title="Description of sql_id_tooltip.gif follows" longdesc="img_text/sql_id_tooltip.html"><br><a href="img_text/sql_id_tooltip.html">Description of the illustration sql_id_tooltip.gif</a></div>
                           <!-- class="figure" -->
                        </li>
                        <li>
                           <p>In the Time &amp; Wait Statistics section, next to Database Time, move the cursor over the largest portion on the bar graph.</p>
                           <p>A message shows that user I/O is consuming over half of database time.</p>
                           <div class="figure" id="GUID-4048D00E-2635-42C8-A37D-71EFAC619062__GUID-655F455D-5542-4CE7-9257-9AE2E98D56B7"><img src="img/time_stats.gif" alt="Description of time_stats.gif follows" title="Description of time_stats.gif follows" longdesc="img_text/time_stats.html"><br><a href="img_text/time_stats.html">Description of the illustration time_stats.gif</a></div>
                           <!-- class="figure" -->
                           <p>Database Time measures the amount of time the database has spent working on this SQL statement. This value includes CPU and wait times, such as I/O time. The bar graph is divided into several color-coded portions to highlight CPU resources, user I/O resources, and other resources. You can move the cursor over any portion to view the percentage value of the total.</p>
                        </li>
                        <li>
                           <p>In the Details section, in the IO Requests column, move the cursor over the I/O requests bar to view the percentage value of the total.</p>
                           <p>A message appears.</p>
                           <div class="figure" id="GUID-4048D00E-2635-42C8-A37D-71EFAC619062__GUID-81041CAC-A1AC-4A5A-A999-12173E8D95B4"><img src="img/io_requests.gif" alt="Description of io_requests.gif follows" title="Description of io_requests.gif follows" longdesc="img_text/io_requests.html"><br><a href="img_text/io_requests.html">Description of the illustration io_requests.gif</a></div>
                           <!-- class="figure" -->
                           <p>In the preceding graphic, the IO Requests message shows the total number of read requests issued by the monitored SQL. The message shows that read requests form 80% of the total I/O requests.</p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-4048D00E-2635-42C8-A37D-71EFAC619062__GUID-9DC5EB17-AA69-419D-A78D-D50B69A7755F">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Cloud Control Online Help for descriptions of the elements on the Monitored SQL Executions Details page, and for complete descriptions of all statistics in the report.</p>
                        </li>
                        <li>
                           <p><a href="../refrn/V-SQL_MONITOR.html#GUID-79E97A84-9C27-4A5E-AC0D-C12CB3E748E6" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> to learn about <code class="codeph">V$SQL_MONITOR</code> and related views for database operations monitoring
                           </p>
                        </li>
                        <li>
                           <p><a href="https://www.youtube.com/watch?v=pEC5GdtzpRs" target="_blank">Why Use SQL Monitor</a> for a video demonstrating useful features of the Monitored SQL Details report
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="monitoring-database-operations.html#GUID-C941CE9D-97E1-42F8-91ED-4949B2B710BF" title="This chapter describes how to monitor SQL and PL/SQL.">Monitoring Database Operations</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-75DE088E-4CFA-47D9-8078-F3BE97A255F7" name="GUID-75DE088E-4CFA-47D9-8078-F3BE97A255F7"></a><h3 id="TGSQL-GUID-75DE088E-4CFA-47D9-8078-F3BE97A255F7" class="sect3"><span class="enumeration_section">21.5 </span>Monitoring Database Operations: Scenarios
               </h3>
               <div>
                  <p>In these scenarios, you report on both simple and composite database operations.</p>
                  <p>This section contains the following topics:</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="monitoring-database-operations.html#GUID-11748F62-BE24-4511-B77B-F28D5E443A0A">Reporting on a Simple Database Operation: Scenario</a><br>In this scenario, a query is expected to complete in seconds, but is continuing to execute.
                     </li>
                     <li class="ulchildlink"><a href="monitoring-database-operations.html#GUID-47840D0F-55E2-433B-8B43-7C9942B91FFD">Reporting on Composite Database Operation: Scenario</a><br>This scenario uses <code class="codeph">DBMS_SQL_MONITOR</code> to define a database operation and generates an active report.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="monitoring-database-operations.html#GUID-C941CE9D-97E1-42F8-91ED-4949B2B710BF" title="This chapter describes how to monitor SQL and PL/SQL.">Monitoring Database Operations</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-11748F62-BE24-4511-B77B-F28D5E443A0A" name="GUID-11748F62-BE24-4511-B77B-F28D5E443A0A"></a><h4 id="TGSQL-GUID-11748F62-BE24-4511-B77B-F28D5E443A0A" class="sect4"><span class="enumeration_section">21.5.1 </span>Reporting on a Simple Database Operation: Scenario
                  </h4>
                  <div>
                     <p>In this scenario, a query is expected to complete in seconds, but is continuing to execute.</p>
                     <div class="section">
                        <p>In this example, assume that you log in to the database as user <code class="codeph">sh</code>, and then run the following query:
                        </p><pre class="pre codeblock"><code>SELECT /*+ MONITOR */ s.prod_id, c.cust_last_name FROM sales s, customers c ORDER BY prod_id</code></pre><p>The query is not completing. Starting in <span>Oracle Database 19c</span>, low-privileged users such as <code class="codeph">sh</code> can generate a SQL Monitor report for simple database operations (individual SQL and PL/SQL statements) in their session. To identify the source of the problem, you use SQL Monitor for diagnosis as follows:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-11748F62-BE24-4511-B77B-F28D5E443A0A__GUID-6DDCB57F-8103-49E8-A79D-8E72018CA995">
                        <ol>
                           <li>
                              <p>Cancel the query.</p>
                           </li>
                           <li>
                              <p>Obtain a text report by invoking <code class="codeph">DBMS_SQL_MONITOR.REPORT_SQL_MONITOR</code>:
                              </p><pre class="pre codeblock"><code>SET LONG 1000000
VARIABLE my_rept CLOB;
BEGIN
  :my_rept := DBMS_SQL_MONITOR.REPORT_SQL_MONITOR(
                report_level =&gt; 'ALL', 
                TYPE         =&gt; 'text');
END;
/
PRINT :my_rept
</code></pre><p>Partial sample output appears below:</p><pre class="pre codeblock"><code>SQL Text
------------------------------
SELECT /*+ MONITOR */ s.prod_id, c.cust_last_name FROM sales s, customers c ORDER BY prod_id

Global Information
------------------------------
 Status              :  DONE (ERROR)
 Instance ID         :  1
 Session             :  SH (42:3617)
 SQL ID              :  d9w9dw5v007xp
 SQL Execution ID    :  16777217
 Execution Started   :  09/18/2018 14:08:13
 First Refresh Time  :  09/18/2018 14:08:13
 Last Refresh Time   :  09/18/2018 14:08:34

MY_REPT
--------------------------------------------------------------------------------
 Duration            :  21s
 Module/Action       :  SQL*Plus/-
 Service             :  SYS$USERS
 Program             :  sqlplus@slc16iva (TNS V1-V3)
 Fetch Calls         :  1
Global Stats

MY_REPT
--------------------------------------------------------------------------------
| Time(s) | Time(s) | Waits(s) | Calls |  Gets  | Reqs | Bytes | Reqs  | Bytes |

================================================================================

|      21 |      11 |       10 |     1 |    204 |  233 |   3MB |  4568 | 909MB |

================================================================================


SQL Plan Monitoring Details (Plan Hash Value=2036849021)
================================================================================

MY_REPT
--------------------------------------------------------------------------------
================================================================================
=================================
| Id |             Operation              |      Name      |  Rows   | Cost |
Time    | Start  | Execs |   Rows   | Read | Read  | Write | Write |  Mem  | Tem
p  | Activity | Activity Detail |
|    |                                    |                | (Estim) |      | Ac
tive(s) | Active |       | (Actual) | Reqs | Bytes | Reqs  | Bytes | (Max) | (Ma
x) |   (%)    |   (# samples)   |
================================================================================
================================================================================
=================================

MY_REPT
--------------------------------------------------------------------------------
|  0 | SELECT STATEMENT                   |                |         |      |
     19 |     +2 |     1 |        0 |      |       |       |       |     . |
 . |          |                 |
|  1 |   SORT ORDER BY                    |                |     51G | 316M |
     20 |     +1 |     1 |        0 |      |       |  4496 | 908MB |  99MB | 909
MB |          |                 |
|  2 |    MERGE JOIN CARTESIAN            |                |     51G |   2M |
     19 |     +2 |     1 |      50M |      |       |       |       |     . |
 . |          |                 |
|  3 |     TABLE ACCESS FULL              | CUSTOMERS      |   55500 |  414 |
     20 |     +2 |     1 |       54 |    3 | 120KB |       |       |     . |

MY_REPT
--------------------------------------------------------------------------------
 . |          |                 |
|  4 |     BUFFER SORT                    |                |    919K | 316M |
     19 |     +2 |    54 |      50M |      |       |       |       |  28MB |
 . |          |                 |
|  5 |      PARTITION RANGE ALL           |                |    919K |   29 |
      1 |     +2 |     1 |     919K |      |       |       |       |     . |
 . |          |                 |
|  6 |       BITMAP CONVERSION TO ROWIDS  |                |    919K |   29 |
      1 |     +2 |    28 |     919K |      |       |       |       |     . |
 . |          |                 |
|  7 |        BITMAP INDEX FAST FULL SCAN | SALES_PROD_BIX |         |      |

MY_REPT
--------------------------------------------------------------------------------
      1 |     +2 |    28 |     1074 |   32 | 512KB |       |       |     . |
 . |          |                 |
================================================================================
================================================================================
=================================
</code></pre><p>Because of the formatting, the preceding output is difficult to read. You decide to create an active SQL Monitor report, which is graphical.</p>
                           </li>
                           <li>
                              <p>Create a SQL script containing the following commands:</p><pre class="pre codeblock"><code>SET FEEDBACK OFF
SET TERMOUT OFF
SET TRIMSPOOL ON
SET TRIM ON
SET PAGES 0
SET LINESIZE 1000
SET LONG 1000000
SET LONGCHUNKSIZE 1000000

SPOOL /tmp/long_sql.htm
SELECT DBMS_SQL_MONITOR.REPORT_SQL_MONITOR(
         report_level =&gt; 'ALL', 
         TYPE         =&gt; 'active') 
FROM   DUAL;
SPOOL OFF
</code></pre></li>
                           <li>
                              <p>In SQL*Plus, run the SQL script that you created in the preceding step.</p>
                           </li>
                           <li>
                              <p>Open the output HTML file in a browser, and then review the report:</p>
                              <div class="figure" id="GUID-11748F62-BE24-4511-B77B-F28D5E443A0A__GUID-B66CDC1B-32A8-49BE-8081-112A4E8A5D63"><img src="img/cartesian.png" alt="Description of cartesian.png follows" title="Description of cartesian.png follows" longdesc="img_text/cartesian.html"><br><a href="img_text/cartesian.html">Description of the illustration cartesian.png</a></div>
                              <!-- class="figure" -->
                              <p>The cause of the performance problem is shown in Line 2: a Cartesian join. The author of the query inadvertently left off the <code class="codeph">WHERE</code> clause. Instead of returning around 1 million rows as it would for an inner join of <code class="codeph">sales</code> and <code class="codeph">customers</code>, the query returned 50 million rows before it was canceled. Sorting the joined data from the two tables is consuming most of the DB time (Line 1).
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="monitoring-database-operations.html#GUID-75DE088E-4CFA-47D9-8078-F3BE97A255F7" title="In these scenarios, you report on both simple and composite database operations.">Monitoring Database Operations: Scenarios</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-47840D0F-55E2-433B-8B43-7C9942B91FFD" name="GUID-47840D0F-55E2-433B-8B43-7C9942B91FFD"></a><h4 id="TGSQL-GUID-47840D0F-55E2-433B-8B43-7C9942B91FFD" class="sect4"><span class="enumeration_section">21.5.2 </span>Reporting on Composite Database Operation: Scenario
                  </h4>
                  <div>
                     <p>This scenario uses <code class="codeph">DBMS_SQL_MONITOR</code> to define a database operation and generates an active report.
                     </p>
                     <div class="section">Your goal is to group four queries of tables in the <code class="codeph">sh</code> schema into an operation, and then generate a report.
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-47840D0F-55E2-433B-8B43-7C9942B91FFD__GUID-C8FDF5A9-8194-4B32-8777-5DF0B53237DB">
                        <ol>
                           <li>
                              <p>In SQL*Plus, log on as an administrative user <code class="codeph">SAM</code>. Begin an operation named <code class="codeph">SHOP</code> (specifying <code class="codeph">forced_tracking</code> to ensure that SQL Monitor tracks the SQL), run four queries, and then end the operation as follows:
                              </p><pre class="pre codeblock"><code>VARIABLE exec_id NUMBER;
BEGIN
  :exec_id := DBMS_SQL_MONITOR.BEGIN_OPERATION ( dbop_name =&gt; 'SHOP', forced_tracking =&gt; 'Y' );
END;
/

SELECT COUNT(*) FROM sh.sales;
SELECT COUNT(*) FROM sh.customers;

SELECT prod_id, cust_id 
FROM   sh.sales 
WHERE  prod_id &lt; 26 
ORDER BY prod_id;

SELECT cust_id, cust_first_name, cust_last_name, cust_city 
FROM   sh.customers 
WHERE  cust_id &lt; 30000 
ORDER BY cust_id;

BEGIN
  DBMS_SQL_MONITOR.END_OPERATION ( dbop_name =&gt; 'SHOP', dbop_eid =&gt; :exec_id );
END;
/</code></pre></li>
                           <li>
                              <p>To obtain metadata about the operation, including its status and metadata, query <code class="codeph">V$SQL_MONITOR</code> (sample output included):
                              </p><pre class="pre codeblock"><code>COL STATUS FORMAT a10
COL DBOP_NAME FORMAT a10
COL CON_NAME FORMAT a5

SELECT STATUS, SQL_ID, DBOP_NAME, DBOP_EXEC_ID,
       TO_CHAR(ELAPSED_TIME/1000000,'000.00') AS ELA_SEC 
FROM   V$SQL_MONITOR
WHERE  DBOP_NAME = 'SHOP';

STATUS     SQL_ID        DBOP_NAME  DBOP_EXEC_ID ELA_SEC
---------- ------------- ---------- ------------ -------
DONE                     SHOP                  3  001.34</code></pre></li>
                           <li>
                              <p>To obtain metadata about the SQL Monitor report, call <code class="codeph">DBMS_SQL_MONITOR.REPORT_SQL_MONITOR</code> (sample output included):
                              </p><pre class="pre codeblock"><code>SET LONG 10000000
SET LONGCHUNKSIZE 10000000 
SET PAGES 0
SELECT DBMS_SQL_MONITOR.REPORT_SQL_MONITOR( 
  dbop_name =&gt; 'SHOP', type =&gt; 'TEXT', report_level =&gt; 'ALL') AS rpt
FROM DUAL;

SQL Monitoring Report

Global Information
------------------------------
 Status              :  DONE
 Instance ID         :  1
 Session             :  SAM (87:6406)
 DBOP Name           :  SHOP
 DBOP Execution ID   :  3
 First Refresh Time  :  10/03/2017 07:33:32
 Last Refresh Time   :  10/03/2017 07:34:24
 Duration            :  52s
 Module/Action       :  sqlplus@myhost (TNS V1-V3)/-
 Service             :  MYSERVICE
 Program             :  sqlplus@myhost (TNS V1-V3)

Global Stats
========================================================
| Elapsed |   Cpu   |    IO    | Buffer | Read | Read  |
| Time(s) | Time(s) | Waits(s) |  Gets  | Reqs | Bytes |
========================================================
|    1.36 |    1.34 |     0.02 |    202 |  583 |  27MB |
========================================================
</code></pre></li>
                           <li>
                              <p>To generate an active HTML report, pass the name of the operation to <code class="codeph">DBMS_SQL_MONITOR.REPORT_SQL_MONITOR</code>:
                              </p><pre class="pre codeblock"><code>SET TRIMSPOOL ON
SET TRIM ON
SET PAGES 0
SET LINESIZE 1000
SET LONG 1000000
SET LONGCHUNKSIZE 1000000

SPOOL /tmp/shop.htm
SELECT DBMS_SQL_MONITOR.REPORT_SQL_MONITOR(dbop_name=&gt;'SHOP',report_level=&gt;'ALL',TYPE=&gt;'active') 
FROM   DUAL;
SPOOL OFF</code></pre><p>The following graphic shows the active report:</p>
                              <div class="figure" id="GUID-47840D0F-55E2-433B-8B43-7C9942B91FFD__GUID-A5290C34-90AE-40B0-A1E9-EDE266D75896">
                                 <p class="titleinfigure">Figure 21-3 SQL Monitor Report</p><img src="img/dbopactive.png" alt="Description of Figure 21-3 follows" title="Description of Figure 21-3 follows" longdesc="img_text/dbopactive.html"><br><a href="img_text/dbopactive.html">Description of "Figure 21-3 SQL Monitor Report"</a></div>
                              <!-- class="figure" -->
                           </li>
                        </ol>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-47840D0F-55E2-433B-8B43-7C9942B91FFD__GUID-C1F68F29-E6DC-42A8-B933-8D6E48313E5E">
                        <p class="notep1">See Also:</p>
                        <p><a href="../arpls/DBMS_SQL_MONITOR.html#ARPLS74779" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a> to learn more about <code class="codeph">DBMS_SQL_MONITOR</code></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="monitoring-database-operations.html#GUID-75DE088E-4CFA-47D9-8078-F3BE97A255F7" title="In these scenarios, you report on both simple and composite database operations.">Monitoring Database Operations: Scenarios</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='01554.rman-recovery-advanced.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Performing RMAN Recovery: Advanced Scenarios</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Backup and Recovery User's Guide">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Backup and Recovery User's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-backup-and-recovery-users-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-09T05:20:45-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2003, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96241-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="rman-block-media-recovery.html" title="Previous" type="text/html">
      <link rel="next" href="performing-rman-tspitr.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Backup and Recovery User's Guide">
    <meta name="dcterms.isVersionOf" content="BRADV">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="rman-block-media-recovery.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="performing-rman-tspitr.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Backup and Recovery User's Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-diagnosing-responding-failures.html" property="item" typeof="WebPage"><span property="name"> Diagnosing and Responding to Failures </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Performing RMAN Recovery: Advanced Scenarios</li>
            </ol>
            <a id="GUID-EA9DB3ED-2481-47DD-908B-A314D5C3F730" name="GUID-EA9DB3ED-2481-47DD-908B-A314D5C3F730"></a><a id="BRADV008"></a>
            
            <h2 id="BRADV-GUID-EA9DB3ED-2481-47DD-908B-A314D5C3F730" class="sect2"><span class="enumeration_chapter">20 </span> Performing RMAN Recovery: Advanced Scenarios
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The preceding chapters in <a href="part-diagnosing-responding-failures.html#GUID-ED89DC53-A816-450B-BFF4-A712D2694EEC"> Diagnosing and Responding to Failures </a> cover the most basic recovery scenarios and are intended to be as generic as possible. The scenarios in this chapter are less common or are more complicated than the basic scenarios.
               </p>
               <p>This chapter contains the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="rman-recovery-advanced.html#GUID-18DC642E-DA14-47A9-9547-02F385CA47EA" title="You can perform limited recovery of changes to a database running in NOARCHIVELOG mode by applying incremental backups. The incremental backups must be consistent, like all backups of a database run in NOARCHIVELOG mode, so you cannot make backups of the database when it is open.">Recovering a NOARCHIVELOG Database with Incremental Backups</a></p>
                  </li>
                  <li>
                     <p><a href="rman-recovery-advanced.html#GUID-2B93E1AF-5ED1-4FAE-91BB-63362CADF7AD" title="RMAN can restore a lost server parameter file to its default location or to a location of your choice. Unlike the loss of the control file, the loss of the server parameter file does not cause the instance to immediately stop. The instance may continue operating, although you must shut it down and restart it after restoring the server parameter file.">Restoring the Server Parameter File</a></p>
                  </li>
                  <li>
                     <p><a href="rman-recovery-advanced.html#GUID-77C2B092-4BEB-4BAC-91F9-7368EA16A2B6" title="When all current control files are lost, you must restore a backup control file.">Performing Recovery with a Backup Control File</a></p>
                  </li>
                  <li>
                     <p><a href="rman-recovery-advanced.html#GUID-195E30B2-6077-446D-A255-089D3341268A" title="Disaster recovery includes the restoration and recovery of the target database after the loss of the entire target database, the recovery catalog database, all current control files, all online redo log files, and all parameter files.">Performing Disaster Recovery</a></p>
                  </li>
                  <li>
                     <p><a href="rman-recovery-advanced.html#GUID-6B71E7DF-A2B6-44F5-A8D5-B184BB41A768" title="Use the RESTORE and RECOVER commands to restore a database on a new host. Restoring a database on a new host is useful when you want to perform a test run of your disaster recovery procedures or to permanently move a database to a new host.">Restoring a Database on a New Host</a></p>
                  </li>
                  <li>
                     <p><a href="rman-recovery-advanced.html#GUID-8E64485B-3788-4389-A892-8C560F12443F" title="RMAN enables you to restore or recover files by connecting, over the network, to a physical standby database that contains the required files. You can restore an entire database, data files, control files, server parameter file, or tablespaces. Restoring files over the network is very useful in scenarios where you need to synchronize the primary and standby databases.">Restoring and Recovering Files Over the Network</a></p>
                  </li>
               </ul>
            </div><a id="BRADV362"></a><a id="BRADV89841"></a><div class="props_rev_3"><a id="GUID-18DC642E-DA14-47A9-9547-02F385CA47EA" name="GUID-18DC642E-DA14-47A9-9547-02F385CA47EA"></a><h3 id="BRADV-GUID-18DC642E-DA14-47A9-9547-02F385CA47EA" class="sect3"><span class="enumeration_section">20.1 </span>Recovering a NOARCHIVELOG Database with Incremental Backups
               </h3>
               <div>
                  <p>You can perform limited recovery of changes to a database running in <code class="codeph">NOARCHIVELOG</code> mode by applying incremental backups. The incremental backups must be consistent, like all backups of a database run in <code class="codeph">NOARCHIVELOG</code> mode, so you cannot make backups of the database when it is open.
                  </p>
                  <div class="section">
                     <p>Restoring a database running in <code class="codeph">NOARCHIVELOG</code> mode is similar to restoring a database in <code class="codeph">ARCHIVELOG</code> mode. The main differences are:
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Only consistent backups can be used in restoring a database in <code class="codeph">NOARCHIVELOG</code> mode.
                           </p>
                        </li>
                        <li>
                           <p>Media recovery is not possible because no archived redo logs exist.</p>
                        </li>
                     </ul>
                     <p>When you are recovering a <code class="codeph">NOARCHIVELOG</code> database, specify the <code class="codeph">NOREDO</code> option on the <code class="codeph">RECOVER</code> command to indicate that RMAN does not attempt to apply archived redo logs. Otherwise, RMAN returns an error.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p><span class="bold">To recover a NOARCHIVELOG database with incremental backups:</span></p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>After connecting to the target database and the recovery catalog, place the database in a mounted state:</span><div><pre class="oac_no_warn" dir="ltr">STARTUP FORCE MOUNT
</pre></div>
                     </li>
                     <li class="stepexpand"><span>Restore and recover the database.</span><div>
                           <p>For example, you can perform incomplete recovery with the following commands:</p><pre class="oac_no_warn" dir="ltr">RESTORE DATABASE 
  FROM TAG "consistent_whole_backup";
RECOVER DATABASE NOREDO;
</pre></div>
                     </li>
                     <li class="stepexpand"><span>Open the database with the <code class="codeph">RESETLOGS</code> option.</span><div>
                           <p>For example, enter the following command:</p><pre class="oac_no_warn" dir="ltr">ALTER DATABASE OPEN RESETLOGS;</pre></div>
                     </li>
                  </ol>
               </div>
            </div><a id="BRADV363"></a><a id="BRADV85339"></a><div class="props_rev_3"><a id="GUID-2B93E1AF-5ED1-4FAE-91BB-63362CADF7AD" name="GUID-2B93E1AF-5ED1-4FAE-91BB-63362CADF7AD"></a><h3 id="BRADV-GUID-2B93E1AF-5ED1-4FAE-91BB-63362CADF7AD" class="sect3"><span class="enumeration_section">20.2 </span>Restoring the Server Parameter File
               </h3>
               <div>
                  <p>RMAN can restore a lost server parameter file to its default location or to a location of your choice. Unlike the loss of the control file, the loss of the server parameter file does not cause the instance to immediately stop. The instance may continue operating, although you must shut it down and restart it after restoring the server parameter file. </p>
                  <div class="section">
                     <p>Note the following considerations when restoring the server parameter file:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>If the instance is already started with the server parameter file, then you cannot overwrite the existing server parameter file.</p>
                        </li>
                        <li>
                           <p>When the instance is started with a client-side initialization parameter file, RMAN restores the server parameter file to the default location if the <code class="codeph">TO</code> clause is not used in the restore command. The default location is platform-specific, for example, <code class="codeph">?</code><code class="codeph">/dbs/spfile.ora</code> on Linux.
                           </p>
                        </li>
                        <li>
                           <p>A recovery catalog simplifies the recovery procedure because you can avoid recording and remembering the DBID. This procedure assumes that you are <span class="italic">not</span> using a recovery catalog.
                           </p>
                        </li>
                     </ul>
                     <p><span class="bold">To restore the server parameter file from autobackup:</span></p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>Start RMAN and do one of the following:</span><div>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>If the database instance is started at the time of the loss of the server parameter file, then connect to the target database. </p>
                              </li>
                              <li>
                                 <p>If the database instance is not started when the server parameter file is lost, and if you are not using a recovery catalog, then run the <code class="codeph">SET DBID</code> command to set the DBID of the target database.
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </li>
                     <li class="stepexpand"><span>Shut down the database instance and restart it without mounting the database.</span><div>
                           <p>When the server parameter file is not available, RMAN starts the instance with a dummy parameter file. For example, enter the following command:</p><pre class="oac_no_warn" dir="ltr">STARTUP FORCE NOMOUNT;
</pre></div>
                     </li>
                     <li class="stepexpand"><span>Execute a <code class="codeph">RUN</code> command to restore the server parameter file.</span><div>
                           <p>Depending on the situation, you may need to execute multiple commands in the <code class="codeph">RUN</code> command. Note the following considerations:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>If restoring from tape, then use <code class="codeph">ALLOCATE CHANNEL</code> to allocate an SBT channel manually. If restoring from disk, then RMAN uses the default disk channel.
                                 </p>
                              </li>
                              <li>
                                 <p>If the autobackups were not produced with the default format (<code class="codeph">%F</code>), then use the <code class="codeph">SET CONTROLFILE AUTOBACKUP FOR DEVICE TYPE</code> command to specify the format in effect when the autobackup was performed.
                                 </p>
                              </li>
                              <li>
                                 <p>If the most recent autobackup was not created today, then use <code class="codeph">SET UNTIL</code> to specify the date from which to start the search.
                                 </p>
                              </li>
                              <li>
                                 <p>If RMAN is not connected to a recovery catalog, then use <code class="codeph">SET DBID</code> to set the DBID for the target database.
                                 </p>
                              </li>
                              <li>
                                 <p>To restore the server parameter file to a nondefault location, specify the <code class="codeph">TO</code> clause or <code class="codeph">TO PFILE</code> clause on the <code class="codeph">RESTORE SPFILE</code> command.
                                 </p>
                              </li>
                              <li>
                                 <p>If you know that RMAN never produces more than <span class="italic">n</span> autobackups each day, then you can set the <code class="codeph">RESTORE SPFILE FROM AUTOBACKUP ... MAXSEQ</code> parameter to <span class="italic">n</span> to reduce the search time. <code class="codeph">MAXSEQ</code> is set to 255 by default, and <code class="codeph">RESTORE</code> counts backward from <code class="codeph">MAXSEQ</code> to find the last backup of the day. To terminate the restore operation if you do not find the autobackup in the current day (or specified day), set <code class="codeph">MAXDAYS 1</code> on the <code class="codeph">RESTORE</code> command.
                                 </p>
                              </li>
                           </ul>
                           <p>The following example illustrates a <code class="codeph">RUN</code> command that restores a server parameter file from an autobackup on tape:
                           </p><pre class="oac_no_warn" dir="ltr">RUN 
{
  ALLOCATE CHANNEL c1 DEVICE TYPE sbt PARMS ...;
  SET UNTIL TIME 'SYSDATE-7';
  SET CONTROLFILE AUTOBACKUP FORMAT 
    FOR DEVICE TYPE sbt TO '/disk1/control_files/autobackup_%F';
  SET DBID 123456789;
  RESTORE SPFILE
    TO '/tmp/spfileTEMP.ora'
    FROM AUTOBACKUP MAXDAYS 10;
}
</pre></div>
                     </li>
                     <li class="stepexpand"><span>Restart the database instance with the restored file. </span><div>
                           <p>If you are restarting RMAN with a server parameter file in a nondefault location, then create an initialization parameter file with the line <code class="codeph">SPFILE=</code><span class="italic"><code class="codeph">new_location</code></span>, where <span class="italic"><code class="codeph">new_location</code></span> is the path name of the restored server parameter file. Then, restart the instance with the client-side initialization parameter file.
                           </p>
                           <p>For example, create a file <code class="codeph">/tmp/init.ora</code> which contains the single line:
                           </p><pre class="oac_no_warn" dir="ltr">SPFILE=/tmp/spfileTEMP.ora
</pre><p>You can use the following RMAN command to restart the instance with the restored server parameter file:</p><pre class="oac_no_warn" dir="ltr">STARTUP FORCE PFILE=/tmp/init.ora;</pre></div>
                     </li>
                  </ol>
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-2B93E1AF-5ED1-4FAE-91BB-63362CADF7AD__GUID-682AAC78-47F6-4F67-BA49-09F6BDD6D0B7">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="rman-complete-database-recovery.html#GUID-34BB2E4B-B2FC-4701-BB65-BFED027DB865" title="It is recommended that you record the DBID of your database.">Determining the DBID of the Database</a>"</span> for details on determining the DBID
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="BRADV364"></a><a id="BRADV89829"></a><div class="props_rev_3"><a id="GUID-8077F97F-76A7-49DC-8C1E-5FE8ADD0914F" name="GUID-8077F97F-76A7-49DC-8C1E-5FE8ADD0914F"></a><h4 id="BRADV-GUID-8077F97F-76A7-49DC-8C1E-5FE8ADD0914F" class="sect4"><span class="enumeration_section">20.2.1 </span>Restoring the Server Parameter File from a Control File Autobackup
                  </h4>
                  <div>
                     <p>If you have configured control file autobackups, then the server parameter file is backed up with the control file whenever an autobackup is taken. </p>
                     <div class="section">
                        <p><span class="bold">To restore the server parameter file from the control file autobackup:</span></p>
                        <ol>
                           <li>
                              <p>Set the DBID for your database.</p>
                           </li>
                           <li>
                              <p>Use the <code class="codeph">RESTORE SPFILE FROM AUTOBACKUP</code> command.
                              </p>
                              <p>If the autobackup is in a nondefault format, then first use the <code class="codeph">SET CONTROLFILE AUTOBACKUP FORMAT</code> command to specify the format.
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-8077F97F-76A7-49DC-8C1E-5FE8ADD0914F__CHDCEIII">
                        <p class="titleinexample">Example 20-1 Restoring the Server Parameter File from a Control File Autobackup</p>
                        <p>This example sets the DBID and restores the server parameter file from a control file autobackup in a nondefault location. RMAN uses the autobackup format and DBID to search for control file autobackups. If a control file autobackup is found, then RMAN restores the server parameter file from that backup to its default location.</p><pre class="oac_no_warn" dir="ltr">SET DBID 320066378;
RUN 
{
  SET CONTROLFILE AUTOBACKUP FORMAT 
    FOR DEVICE TYPE DISK TO '<span class="italic">autobackup_format</span>';
  RESTORE SPFILE FROM AUTOBACKUP;
}
</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-8077F97F-76A7-49DC-8C1E-5FE8ADD0914F__GUID-97387305-9495-4D48-823C-6E189A2F5018">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Description of <code class="codeph">CONFIGURE CONTROLFILE AUTOBACKUP FORMAT</code> in the entry for the <code class="codeph">CONFIGURE</code> command in <a href="../rcmrf/CONFIGURE.html#RCMRF113" target="_blank"><span><cite>Oracle Database Backup and Recovery Reference</cite></span></a> to learn how to determine the correct value for <code class="codeph"><span class="codeinlineitalic">autobackup_format</span></code></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="rman-complete-database-recovery.html#GUID-34BB2E4B-B2FC-4701-BB65-BFED027DB865" title="It is recommended that you record the DBID of your database.">Determining the DBID of the Database</a>"</span> for details on how to determine the DBID
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="BRADV89830"></a><div class="props_rev_3"><a id="GUID-AE7CD28F-3187-44DD-BEC2-E43839EC63E6" name="GUID-AE7CD28F-3187-44DD-BEC2-E43839EC63E6"></a><h4 id="BRADV-GUID-AE7CD28F-3187-44DD-BEC2-E43839EC63E6" class="sect4"><span class="enumeration_section">20.2.2 </span>Creating an Initialization Parameter File with RMAN
                  </h4>
                  <div>
                     <p>You can also restore the server parameter file as a client-side initialization parameter file with the <code class="codeph">TO PFILE '<span class="codeinlineitalic">filename</span>'</code> clause. 
                     </p>
                     <div class="section">
                        <p>The file name that you specify must be on a file system accessible from the host where the RMAN client is running. This file need not be accessible directly from the host running the instance. </p>
                        <p>The following RMAN command creates an initialization parameter file named <code class="codeph">/tmp/initTEMP.ora</code> on the system running the RMAN client:
                        </p><pre class="oac_no_warn" dir="ltr">RESTORE SPFILE TO PFILE '/tmp/initTEMP.ora';
</pre><p>To restart the instance with the initialization parameter file, use the following command, again running RMAN on the same client host:</p><pre class="oac_no_warn" dir="ltr">STARTUP FORCE PFILE='/tmp/initTEMP.ora';</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="BRADV154"></a><div class="props_rev_3"><a id="GUID-77C2B092-4BEB-4BAC-91F9-7368EA16A2B6" name="GUID-77C2B092-4BEB-4BAC-91F9-7368EA16A2B6"></a><h3 id="BRADV-GUID-77C2B092-4BEB-4BAC-91F9-7368EA16A2B6" class="sect3"><span class="enumeration_section">20.3 </span>Performing Recovery with a Backup Control File
               </h3>
               <div>
                  <p>When all current control files are lost, you must restore a backup control file.</p>
                  <p>This section contains the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="rman-recovery-advanced.html#GUID-7B78C0E8-423A-4BE0-88D5-AB903DB49608" title="If all copies of the current control file are lost or damaged, then you must restore and mount a backup control file. You must then run the RECOVER command, even if no data files have been restored, and open the database with the RESETLOGS option.">About Recovery with a Backup Control File</a></p>
                     </li>
                     <li>
                        <p><a href="rman-recovery-advanced.html#GUID-927C5614-DC12-4B58-B261-EBD5F08A4202" title="Recovering a database with a backup control file and when no recovery catalog is used requires you to restore the control file from an autobackup.">Performing Recovery with a Backup Control File and No Recovery Catalog</a></p>
                     </li>
                  </ul>
               </div><a id="BRADV89834"></a><div class="props_rev_3"><a id="GUID-7B78C0E8-423A-4BE0-88D5-AB903DB49608" name="GUID-7B78C0E8-423A-4BE0-88D5-AB903DB49608"></a><h4 id="BRADV-GUID-7B78C0E8-423A-4BE0-88D5-AB903DB49608" class="sect4"><span class="enumeration_section">20.3.1 </span>About Recovery with a Backup Control File
                  </h4>
                  <div>
                     <p>If all copies of the current control file are lost or damaged, then you must restore and mount a backup control file. You must then run the <code class="codeph">RECOVER</code> command, even if no data files have been restored, and open the database with the <code class="codeph">RESETLOGS</code> option. 
                     </p>
                     <p>During recovery, RMAN automatically searches for online and archived logs that are not recorded in the RMAN repository and catalogs any that it finds. RMAN attempts to find a valid archived redo log in any current archiving destination with the current log format. The current format is specified in the initialization parameter file used to start the instance (or all instances in an Oracle RAC configuration). Similarly, RMAN attempts to find the online redo logs by using the file names listed in the control file.</p>
                     <p>If you changed the archiving destination or format during recovery, or if you added new online log members after the backup of the control file, then RMAN may not be able to automatically catalog a needed online or archived log. Whenever RMAN cannot find online redo logs and you did not specify an <code class="codeph">UNTIL</code> time, RMAN reports errors similar to the following: 
                     </p><pre class="oac_no_warn" dir="ltr">RMAN-00571: ===========================================================
RMAN-00569: =============== ERROR MESSAGE STACK FOLLOWS ===============
RMAN-00571: ===========================================================
RMAN-03002: failure of recover command at 08/29/2013 14:23:09
RMAN-06054: media recovery requesting unknown log: thread 1 scn 86945
</pre><p>In this case, you must use the <code class="codeph">CATALOG</code> command to manually add the required redo logs to the repository so that recovery can proceed.
                     </p>
                     <div class="infoboxnote" id="GUID-7B78C0E8-423A-4BE0-88D5-AB903DB49608__GUID-4A57B8F8-D63B-41C6-8988-A530E79810CC">
                        <p class="notep1">Note:</p>
                        <p>If some copies of the current control file are usable, however, then you can follow the procedure in <span class="q">"<a href="user-managed-recovery-advanced.html#GUID-22AD5382-06ED-4FDF-BDD4-C8CD682F83E0">Responding to the Loss of a Subset of the Current Control Files</a>"</span> and avoid the recovery and <code class="codeph">RESETLOGS</code> operation.
                        </p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-7B78C0E8-423A-4BE0-88D5-AB903DB49608__GUID-7B4AEE7B-AFC2-4270-9FE2-89B78BD8312C">
                        <p class="notep1">See Also:</p>
                        <p>The discussion of <code class="codeph">RESTORE CONTROLFILE</code> in <a href="../rcmrf/RESTORE.html#RCMRF149" target="_blank"><span><cite>Oracle Database Backup and Recovery Reference</cite></span></a> for more details about restrictions on using <code class="codeph">RESTORE CONTROLFILE</code> in different scenarios (such as when using a recovery catalog, or restoring from a specific backup)
                        </p>
                     </div>
                  </div><a id="BRADV89835"></a><div class="props_rev_3"><a id="GUID-64F583E8-2E1A-4F13-847B-5FCEFA9E008A" name="GUID-64F583E8-2E1A-4F13-847B-5FCEFA9E008A"></a><h5 id="BRADV-GUID-64F583E8-2E1A-4F13-847B-5FCEFA9E008A" class="sect5"><span class="enumeration_section">20.3.1.1 </span>About Control File Locations During RMAN Restore
                     </h5>
                     <div>
                        <p>When restoring the control file, the default destination is all of the locations defined in the <code class="codeph">CONTROL_FILES</code> initialization parameter. If the <code class="codeph">CONTROL_FILES</code> initialization parameter is not set, then the database uses the same rules to determine the destination for the restored control file that it uses when creating a control file if the <code class="codeph">CONTROL_FILES</code> parameter is not set.
                        </p>
                        <p>One way to restore the control file to one or more new locations is to change the <code class="codeph">CONTROL_FILES</code> initialization parameter, and then use the <code class="codeph">RESTORE CONTROLFILE</code> command with no arguments to restore the control file to the default locations. For example, if you are restoring your control file after a disk failure made some but not all <code class="codeph">CONTROL_FILES</code> locations unusable, you can change <code class="codeph">CONTROL_FILES</code> to replace references to the failed disk with path names pointing to another disk, and then run <code class="codeph">RESTORE CONTROLFILE</code> with no arguments.
                        </p>
                        <p>You can also restore the control file to any location that you choose other than the <code class="codeph">CONTROL_FILES</code> locations, by using the form <code class="codeph">RESTORE CONTROLFILE TO ' <span class="codeinlineitalic">filename</span>'</code>:
                        </p><pre class="oac_no_warn" dir="ltr">RESTORE CONTROLFILE TO '/tmp/my_controlfile';
</pre><p>You can perform this operation with the database in <code class="codeph">NOMOUNT</code>, <code class="codeph">MOUNT</code>, or <code class="codeph">OPEN</code> states, because you are not overwriting any of the control files currently in use. Any existing file named <code class="codeph">'<span class="codeinlineitalic">filename</span>'</code> is overwritten. After restoring the control file to a new location, you can then update the <code class="codeph">CONTROL_FILES</code> initialization parameter to include the new location.
                        </p>
                        <div class="infoboxnotealso" id="GUID-64F583E8-2E1A-4F13-847B-5FCEFA9E008A__GUID-D28E208B-1670-4B52-AFA2-6A4D9153A519">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p> The description of the <code class="codeph">CREATE CONTROLFILE</code> statement in <a href="../sqlrf/CREATE-CONTROLFILE.html#SQLRF01203" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for the rules that determine the destination of restored control files
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../rcmrf/RESTORE.html#RCMRF149" target="_blank"><span><cite>Oracle Database Backup and Recovery Reference</cite></span></a> for <code class="codeph">RESTORE CONTROLFILE</code> syntax
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div><a id="BRADV365"></a><a id="BRADV89836"></a><div class="props_rev_3"><a id="GUID-FE57B2EA-428A-4408-BBB5-D9392D6B0F8B" name="GUID-FE57B2EA-428A-4408-BBB5-D9392D6B0F8B"></a><h5 id="BRADV-GUID-FE57B2EA-428A-4408-BBB5-D9392D6B0F8B" class="sect5"><span class="enumeration_section">20.3.1.2 </span>About RMAN Recovery With and Without a Recovery Catalog
                     </h5>
                     <div>
                        <p>The process of recovering a control file depends on whether a recovery catalog is used.</p>
                        <p>When RMAN is connected to a recovery catalog, the recovery procedure with a backup control file is identical to recovery with a current control file. The RMAN metadata missing from the backup control file is available from the recovery catalog. The only exception is if the database name is not unique in the catalog, in which case you must use <code class="codeph">SET DBID</code> command before restoring the control file.
                        </p>
                        <p>If you are not using a recovery catalog, then you must restore your control file from an autobackup. To restore the control file from autobackup, the database must be in a <code class="codeph">NOMOUNT</code> state. You must first set the DBID for your database, and then use the <code class="codeph">RESTORE CONTROLFILE FROM AUTOBACKUP</code> command.
                        </p>
                        <div class="example" id="GUID-FE57B2EA-428A-4408-BBB5-D9392D6B0F8B__CHDBHDJD">
                           <p class="titleinexample">Example 20-2 Setting the DBID and Restoring the Control File from Autobackup</p>
                           <p>In this example, RMAN uses the autobackup format and DBID to determine where to hunt for the control file autobackup. If one is found, RMAN restores the control file to all control file locations listed in the <code class="codeph">CONTROL_FILES</code> initialization parameter. 
                           </p><pre class="oac_no_warn" dir="ltr">SET DBID 320066378;
RUN
{
  SET CONTROLFILE AUTOBACKUP FORMAT 
    FOR DEVICE TYPE DISK TO '<span class="italic">autobackup_format</span>';
  RESTORE CONTROLFILE FROM AUTOBACKUP;
}
</pre><div class="infoboxnotealso" id="GUID-FE57B2EA-428A-4408-BBB5-D9392D6B0F8B__GUID-32787659-7CD3-492F-9608-62A17F77338F">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><span class="q">"<a href="rman-complete-database-recovery.html#GUID-34BB2E4B-B2FC-4701-BB65-BFED027DB865" title="It is recommended that you record the DBID of your database.">Determining the DBID of the Database</a>"</span> to learn how to determine your DBID
                                    </p>
                                 </li>
                                 <li>
                                    <p>The description of <code class="codeph">CONFIGURE CONTROLFILE AUTOBACKUP FORMAT</code> in the entry for <code class="codeph">CONFIGURE</code> in <a href="../rcmrf/CONFIGURE.html#RCMRF113" target="_blank"><span><cite>Oracle Database Backup and Recovery Reference</cite></span></a> to learn how to determine the correct value for the autobackup format
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="BRADV89837"></a><div class="props_rev_3"><a id="GUID-918B5EE1-DBE9-464E-B8F9-454E1F94136A" name="GUID-918B5EE1-DBE9-464E-B8F9-454E1F94136A"></a><h5 id="BRADV-GUID-918B5EE1-DBE9-464E-B8F9-454E1F94136A" class="sect5"><span class="enumeration_section">20.3.1.3 </span>About RMAN Recovery When Using a Fast Recovery Area
                     </h5>
                     <div>
                        <p>The commands for restoring a control file are the same whether or not the database uses a fast recovery area.</p>
                        <p>If the database uses a fast recovery area, then RMAN updates a control file restored from backup by crosschecking all disk-based backups and image copies recorded in the control file. RMAN catalogs any backups in the recovery area that are not recorded. As a result, the restored control file has a complete and accurate record of all backups in the recovery area and any other backups known to the control file at the time of the backup.</p>
                        <p>RMAN does not automatically crosscheck tape backups after restoring a control file. If you are using tape backups, then you can restore and mount the control file, and optionally crosscheck the backups on tape, as shown in the following example:</p><pre class="oac_no_warn" dir="ltr">CROSSCHECK BACKUP DEVICE TYPE sbt;</pre></div>
                  </div>
               </div><a id="BRADV366"></a><a id="BRADV89838"></a><div class="props_rev_3"><a id="GUID-927C5614-DC12-4B58-B261-EBD5F08A4202" name="GUID-927C5614-DC12-4B58-B261-EBD5F08A4202"></a><h4 id="BRADV-GUID-927C5614-DC12-4B58-B261-EBD5F08A4202" class="sect4"><span class="enumeration_section">20.3.2 </span>Performing Recovery with a Backup Control File and No Recovery Catalog
                  </h4>
                  <div>
                     <p>Recovering a database with a backup control file and when no recovery catalog is used requires you to restore the control file from an autobackup.</p>
                     <div class="section">
                        <p>This section assumes that you have RMAN backups of the control file, but do not use a recovery catalog. It also assumes that you enabled the control file autobackup feature for the target database and can restore an autobackup of the control file. </p>
                        <p>Because the autobackup uses a well-known format, RMAN can restore it even though it does not have a repository available that lists the available backups. You can restore the autobackup to the default or a new location. RMAN replicates the control file to all <code class="codeph">CONTROL_FILES</code> locations automatically.
                        </p>
                        <div class="infoboxnote" id="GUID-927C5614-DC12-4B58-B261-EBD5F08A4202__GUID-8697184C-FD28-4DD8-AACE-EA08B73F576D">
                           <p class="notep1">Note:</p>
                           <p>If you know the backup piece name that contains the control file (for example, from the media manager or because the piece is on disk), then you can specify the piece name using the <code class="codeph">RESTORE CONTROLFILE FROM '<span class="codeinlineitalic">filename</span>'</code> command. The database records the location of every autobackup in the alert log.
                           </p>
                        </div>
                        <p>Because you are not connected to a recovery catalog, the RMAN repository contains only information about available backups at the time of the control file backup. If you know the location of other usable backup sets or image copies, then add them to the control file RMAN repository with the <code class="codeph">CATALOG</code> command.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><span class="bold">To recover the database with a control file autobackup in <code class="codeph">NOCATALOG</code> mode:</span></p>
                        <ol>
                           <li>
                              <p>Start RMAN and connect to a target database, as described in <span class="q">"<a href="starting-interacting-with-rman-client.html#GUID-E07231B2-F213-4F8F-8D02-E410A6DAE94C" title="You can create database connections from the RMAN client or the operating system command line. These database connection can be authenticated using a password file or with operating system authentication.">Making Database Connections with RMAN</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>Start the target database instance without mounting the database. For example:</p><pre class="oac_no_warn" dir="ltr">STARTUP NOMOUNT;
</pre></li>
                           <li>
                              <p>Set the database identifier for the target database with the <code class="codeph">SET DBID</code> command.
                              </p>
                              <p>RMAN displays the DBID whenever you connect to a target database. You can also obtain it by inspecting saved RMAN log files, querying the catalog, or looking at the file names of control file autobackup. For example, run:</p><pre class="oac_no_warn" dir="ltr">SET DBID 676549873;
</pre></li>
                           <li>
                              <p>Write an RMAN command file to restore the autobackup control file and perform recovery.</p>
                              <p>The command file contains the following steps:</p>
                              <ol type="a">
                                 <li>
                                    <p>Optionally, specify the most recent backup time stamp that RMAN can use when searching for a control file autobackup to restore.</p>
                                 </li>
                                 <li>
                                    <p>If you know that a different control file autobackup format was in effect when the control file autobackup was created, then specify a nondefault format for the restore of the control file.</p>
                                 </li>
                                 <li id="GUID-927C5614-DC12-4B58-B261-EBD5F08A4202__CHDIDAIJ">
                                    <p>If an <a href="glossary.html#GUID-2E48CE71-9547-4196-B715-5CE59033262E"><span class="xrefglossterm">SBT</span></a> channel created the control file autobackup, then allocate one or more SBT channels. Because no recovery catalog is available, you cannot use preconfigured channels.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Restore the autobackup of the control file, optionally setting the maximum number of days backward that RMAN can search and the initial sequence number that it uses in its search for the first day.</p>
                                 </li>
                                 <li>
                                    <p>If you know that the control file contains information about configured channels that is useful to you in the rest of the restore process, then you can exit RMAN to clear manually allocated channels from Step <a href="rman-recovery-advanced.html#GUID-927C5614-DC12-4B58-B261-EBD5F08A4202__CHDIDAIJ">4.c</a>. 
                                    </p>
                                    <p>If you restart the RMAN client and mount the database, then these configured channels are available for your use. If you do not care about using configured channels from your control file, then you can simply mount the database.</p>
                                 </li>
                                 <li>
                                    <p>This step depends on whether the online redo logs are available. The option <code class="codeph">OPEN RESETLOGS</code> is always required after recovery with a backup control file, regardless of whether logs are available.
                                    </p>
                                    <p>If the online redo logs are usable, then RMAN can find and apply these logs. Perform a complete restore and recovery as described in <span class="q">"<a href="rman-complete-database-recovery.html#GUID-5E09344A-76D0-4188-A39D-CBA07F0B5C25" title="During complete recovery RMAN restores one or more data files and then applies all the redo generated after the restored backup.">Performing Complete Database Recovery</a>"</span>.
                                    </p>
                                    <p>If the online redo logs are unusable, then perform DBPITR as described in <span class="q">"<a href="rman-performing-flashback-dbpitr.html#GUID-7D3EE2F7-77A2-4264-8875-CC0AEC64ABE0" title="RMAN DBPITR restores the database from backups before the target time for recovery, then uses incremental backups and redo to roll the database forward to the target time. You can recover to an SCN, time, log sequence number, or restore point. Oracle recommends that you create restore points at important times to make point-in-time recovery more manageable if it ever becomes necessary.">Performing Database Point-in-Time Recovery</a>"</span>. An <code class="codeph">UNTIL</code> clause is required to specify a target time, SCN, or log sequence number for the recovery before the first SCN of the online redo logs (otherwise, RMAN issues the <code class="codeph">RMAN-6054</code> error).
                                    </p>
                                    <p>When you perform DBPITR with a backup control file, before opening the database with <code class="codeph">RESETLOGS</code>, you can open the database read-only using SQL*Plus and run queries as needed to verify that the effects of the logical corruption have been reversed. If you are satisfied with the results, then you can open the database with <code class="codeph">RESETLOGS</code>.
                                    </p>
                                    <div class="infoboxnote" id="GUID-927C5614-DC12-4B58-B261-EBD5F08A4202__GUID-96220562-6887-4750-ACD6-8DD4C0E8211B">
                                       <p class="notep1">Note:</p>
                                       <p>When specifying log sequences, if the last created archived redo log has sequence <span class="italic">n</span>, then specify <code class="codeph">UNTIL SEQUENCE <span class="codeinlineitalic">n</span>+1</code> so that RMAN applies <span class="italic">n</span> and then stops.
                                       </p>
                                    </div>
                                 </li>
                              </ol>
                              <p>In the following example, the online redo log files have been lost, and the most recent archived redo log sequence number is 13243. This example shows how to restore the control file autobackup and recover through the latest log.</p><pre class="oac_no_warn" dir="ltr">RUN 
{
  # Optionally, set upper limit for eligible time stamps of control file 
  # backups
  # SET UNTIL TIME '09/10/2017 13:45:00';
  # Specify a nondefault autobackup format only if required
  # SET CONTROLFILE AUTOBACKUP FORMAT FOR DEVICE TYPE DISK 
  #   TO '?/oradata/%F.bck';
  ALLOCATE CHANNEL c1 DEVICE TYPE sbt PARMS '...'; # allocate manually
  RESTORE CONTROLFILE FROM AUTOBACKUP
    MAXSEQ 100           # start at sequence 100 and count down
    MAXDAYS 180;         # start at UNTIL TIME and search back 6 months
  ALTER DATABASE MOUNT;
}
# Now use automatic channels configured in restored control file
RESTORE DATABASE UNTIL SEQUENCE 13244;
RECOVER DATABASE UNTIL SEQUENCE 13244;
</pre></li>
                           <li>
                              <p>If recovery was successful, then open the database and reset the online logs:</p><pre class="oac_no_warn" dir="ltr">ALTER DATABASE OPEN RESETLOGS;</pre></li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="BRADV156"></a><div class="props_rev_3"><a id="GUID-195E30B2-6077-446D-A255-089D3341268A" name="GUID-195E30B2-6077-446D-A255-089D3341268A"></a><h3 id="BRADV-GUID-195E30B2-6077-446D-A255-089D3341268A" class="sect3"><span class="enumeration_section">20.4 </span>Performing Disaster Recovery
               </h3>
               <div>
                  <p>Disaster recovery includes the restoration and recovery of the target database after the loss of the entire target database, the recovery catalog database, all current control files, all online redo log files, and all parameter files.</p>
                  <p>This section contains the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="rman-recovery-advanced.html#GUID-DC3C8F0E-403C-4AE4-BCD9-17A0812B9D13" title="Certain prerequisites must be met before you perform disaster recovery using RMAN.">Prerequisites of Disaster Recovery</a></p>
                     </li>
                     <li>
                        <p><a href="rman-recovery-advanced.html#GUID-8A4F7C00-AA51-48DB-BEF7-FA16B132E1D9" title="Assume that the Linux server on which your database was running has been damaged beyond repair. Fortunately, you backed up the database to Oracle Secure Backup and have the tapes available. You can recover the database by using these backups.">Recovering the Database After a Disaster</a></p>
                     </li>
                  </ul>
               </div><a id="BRADV89839"></a><div class="props_rev_3"><a id="GUID-DC3C8F0E-403C-4AE4-BCD9-17A0812B9D13" name="GUID-DC3C8F0E-403C-4AE4-BCD9-17A0812B9D13"></a><h4 id="BRADV-GUID-DC3C8F0E-403C-4AE4-BCD9-17A0812B9D13" class="sect4"><span class="enumeration_section">20.4.1 </span>Prerequisites of Disaster Recovery
                  </h4>
                  <div>
                     <p>Certain prerequisites must be met before you perform disaster recovery using RMAN.</p>
                     <p>You must have the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Backups of all data files </p>
                        </li>
                        <li>
                           <p>All archived redo logs generated after the creation time of the oldest backup that you intend to restore</p>
                        </li>
                        <li>
                           <p>At least one control file autobackup</p>
                        </li>
                        <li>
                           <p>A record of the DBID of the database</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="BRADV367"></a><a id="BRADV89840"></a><div class="props_rev_3"><a id="GUID-8A4F7C00-AA51-48DB-BEF7-FA16B132E1D9" name="GUID-8A4F7C00-AA51-48DB-BEF7-FA16B132E1D9"></a><h4 id="BRADV-GUID-8A4F7C00-AA51-48DB-BEF7-FA16B132E1D9" class="sect4"><span class="enumeration_section">20.4.2 </span>Recovering the Database After a Disaster
                  </h4>
                  <div>
                     <p>Assume that the Linux server on which your database was running has been damaged beyond repair. Fortunately, you backed up the database to Oracle Secure Backup and have the tapes available. You can recover the database by using these backups.</p>
                     <div class="section">
                        <p>The procedure for disaster recovery is similar to the procedure for recovering the database with a backup control file in <code class="codeph">NOCATALOG</code> mode. If you are restoring the database to a new host, then review the considerations described in <span class="q">"<a href="rman-recovery-advanced.html#GUID-6B71E7DF-A2B6-44F5-A8D5-B184BB41A768" title="Use the RESTORE and RECOVER commands to restore a database on a new host. Restoring a database on a new host is useful when you want to perform a test run of your disaster recovery procedures or to permanently move a database to a new host.">Restoring a Database on a New Host</a>"</span>.
                        </p>
                        <p>. The scenario assumes the following:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Oracle Database is installed on the new host.</p>
                           </li>
                           <li>
                              <p>You are restoring the database to a new Linux host with the same directory structure as the old host.</p>
                           </li>
                           <li>
                              <p>You have one tape drive containing backups of all the data files and archived redo logs through log 1124, and autobackups of the control file and server parameter file.</p>
                           </li>
                           <li>
                              <p>You do not use a recovery catalog with the database.</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8A4F7C00-AA51-48DB-BEF7-FA16B132E1D9__GUID-B3CF5EEF-9D36-4EB0-93CE-B05EB8307F58">To recover the database on the new host:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ol>
                           <li>
                              <p>Ensure that the prerequisites described in <span class="q">"<a href="rman-recovery-advanced.html#GUID-DC3C8F0E-403C-4AE4-BCD9-17A0812B9D13" title="Certain prerequisites must be met before you perform disaster recovery using RMAN.">Prerequisites of Disaster Recovery</a>"</span> are met.
                              </p>
                           </li>
                           <li>
                              <p>If possible, restore or re-create all relevant network files such as <code class="codeph">tnsnames.ora</code> and <code class="codeph">listener.ora</code> and a password file.
                              </p>
                           </li>
                           <li>
                              <p>Start RMAN and connect to the target database instance, as described in <span class="q">"<a href="starting-interacting-with-rman-client.html#GUID-E07231B2-F213-4F8F-8D02-E410A6DAE94C" title="You can create database connections from the RMAN client or the operating system command line. These database connection can be authenticated using a password file or with operating system authentication.">Making Database Connections with RMAN</a>"</span>. 
                              </p>
                              <p>At this stage, no initialization parameter file exists. If you have set <code class="codeph">ORACLE_SID</code> and <code class="codeph">ORACLE_HOME</code>, then you can use operating system authentication to connect as <code class="codeph">SYSDBA</code> or <code class="codeph">SYSBACKUP</code>.
                              </p>
                           </li>
                           <li>
                              <p>Specify the DBID for the target database with the <code class="codeph">SET</code> <code class="codeph">DBID</code> command, as described in <span class="q">"<a href="rman-recovery-advanced.html#GUID-2B93E1AF-5ED1-4FAE-91BB-63362CADF7AD" title="RMAN can restore a lost server parameter file to its default location or to a location of your choice. Unlike the loss of the control file, the loss of the server parameter file does not cause the instance to immediately stop. The instance may continue operating, although you must shut it down and restart it after restoring the server parameter file.">Restoring the Server Parameter File</a>"</span>.
                              </p>
                              <p>For example, enter the following command:</p><pre class="oac_no_warn" dir="ltr">SET DBID 676549873;
</pre></li>
                           <li>
                              <p>Run the <code class="codeph">STARTUP NOMOUNT</code> command. 
                              </p>
                              <p>When the server parameter file is not available, RMAN attempts to start the instance with a dummy server parameter file.</p>
                           </li>
                           <li>
                              <p>Allocate a channel to the media manager and then restore the server parameter file from autobackup.</p>
                              <p>For example, enter the following command to restore the server parameter file from Oracle Secure Backup:</p><pre class="oac_no_warn" dir="ltr">RUN
{
  ALLOCATE CHANNEL c1 DEVICE TYPE sbt;
  RESTORE SPFILE FROM AUTOBACKUP;
}
</pre></li>
                           <li>
                              <p>Restart the instance with the restored server parameter file.</p><pre class="oac_no_warn" dir="ltr">STARTUP FORCE NOMOUNT;
</pre></li>
                           <li>
                              <p>Write a command file to perform the restore and recovery operation, and then execute the command file. The command file must do the following:</p>
                              <ol type="a">
                                 <li>
                                    <p>Allocate a channel to the media manager.</p>
                                 </li>
                                 <li>
                                    <p>Restore a control file autobackup (see <span class="q">"<a href="rman-recovery-advanced.html#GUID-927C5614-DC12-4B58-B261-EBD5F08A4202" title="Recovering a database with a backup control file and when no recovery catalog is used requires you to restore the control file from an autobackup.">Performing Recovery with a Backup Control File and No Recovery Catalog</a>"</span>).
                                    </p>
                                 </li>
                                 <li>
                                    <p>Mount the restored control file.</p>
                                 </li>
                                 <li>
                                    <p>Catalog any backups not recorded in the repository with the <code class="codeph">CATALOG</code> command.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Restore the data files to their original locations. If volume names have changed, then run <code class="codeph">SET</code> <code class="codeph">NEWNAME</code> commands before the restore operation and perform a switch after the restore operation to update the control file with the new locations for the data files, as shown in the following example.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Recover the data files. RMAN stops recovery when it reaches the log sequence number specified.</p>
                                 </li>
                              </ol><pre class="oac_no_warn" dir="ltr">RMAN&gt; RUN
{
  # Manually allocate a channel to the media manager
  ALLOCATE CHANNEL t1 DEVICE TYPE sbt;
  # Restore autobackup of the control file. This example assumes that you have 
  # accepted the default format for the autobackup name.
  RESTORE CONTROLFILE FROM AUTOBACKUP;
  #  The set until command is used in case the database
  #  structure has changed in the most recent backups, and you want to
  #  recover to that point in time. In this way RMAN restores the database
  #  to the same structure that the database had at the specified time.
  ALTER DATABASE MOUNT;
  SET UNTIL SEQUENCE 1124 THREAD 1;
  RESTORE DATABASE;
  RECOVER DATABASE;
}
</pre><p>The following example of the <code class="codeph">RUN</code> command shows the same scenario except with new file names for the restored data files:
                              </p><pre class="oac_no_warn" dir="ltr">RMAN&gt; RUN
{
  #  If you must restore the files to new locations,
  #  use SET NEWNAME commands:
  SET NEWNAME FOR DATAFILE 1 TO '/dev/vgd_1_0/rlvt5_500M_1';
  SET NEWNAME FOR DATAFILE 2 TO '/dev/vgd_1_0/rlvt5_500M_2';
  SET NEWNAME FOR DATAFILE 3 TO '/dev/vgd_1_0/rlvt5_500M_3';
  ALLOCATE CHANNEL t1 DEVICE TYPE sbt;
  RESTORE CONTROLFILE FROM AUTOBACKUP;
  ALTER DATABASE MOUNT;
  SET UNTIL SEQUENCE 124 THREAD 1;
  RESTORE DATABASE;
  SWITCH DATAFILE ALL; # Update control file with new location of data files.
  RECOVER DATABASE;
}
</pre></li>
                           <li>
                              <p>If recovery was successful, then open the database and reset the online logs:</p><pre class="oac_no_warn" dir="ltr">ALTER DATABASE OPEN RESETLOGS;</pre></li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="BRADV908"></a><div class="props_rev_3"><a id="GUID-6B71E7DF-A2B6-44F5-A8D5-B184BB41A768" name="GUID-6B71E7DF-A2B6-44F5-A8D5-B184BB41A768"></a><h3 id="BRADV-GUID-6B71E7DF-A2B6-44F5-A8D5-B184BB41A768" class="sect3"><span class="enumeration_section">20.5 </span>Restoring a Database on a New Host
               </h3>
               <div>
                  <p>Use the <code class="codeph">RESTORE</code> and <code class="codeph">RECOVER</code> commands to restore a database on a new host. Restoring a database on a new host is useful when you want to perform a test run of your disaster recovery procedures or to permanently move a database to a new host.
                  </p>
                  <p>If you use the procedure in this section, then the DBID for the restored database is the same as the DBID for the original database. Do not register a test database created in this way in the same recovery catalog as the source database. Because the DBID of the two databases is the same, the metadata for the test database can interfere with RMAN's ability to restore and recover the source database.</p>
                  <p>If your goal is to create a copy of your target database for ongoing use on a new host, then use the RMAN <code class="codeph">DUPLICATE</code> command instead of this procedure. The <code class="codeph">DUPLICATE</code> command assigns a new DBID to the database it creates, enabling it to be registered in the same recovery catalog as the original database. 
                  </p>
                  <p><span class="bold">To restore a database on a new host:</span></p>
                  <ol>
                     <li>
                        <p>Complete the steps that must be performed before you restore the database, as described in <span class="q">"<a href="rman-recovery-advanced.html#GUID-0EE8068A-5D2F-41FF-BDB9-DEEC8CBCCDB9" title="Certain steps must be preformed to prepare for the restoration of the database on a new host.">Preparing to Restore a Database on a New Host</a>"</span>.
                        </p>
                     </li>
                     <li>
                        <p>Transfer the target database backups to the new host and restore the backups, as described in <span class="q">"<a href="rman-recovery-advanced.html#GUID-6A176AA2-5E35-4F3D-A125-E7C32A1D672A" title="To move the database to a new host by using data file copies or backup sets on disk, you must transfer the files manually to the new host. This procedure assumes that RMAN is using a recovery catalog.">Restoring Disk Backups to a New Host</a>"</span>.
                        </p>
                     </li>
                  </ol>
                  <div class="infoboxnotealso" id="GUID-6B71E7DF-A2B6-44F5-A8D5-B184BB41A768__GUID-6FEE8087-73E4-4318-A4BC-5407AAE99C6E">
                     <p class="notep1">See Also:</p>
                     <p><a href="rman-recovery-advanced.html#GUID-23B34A02-C9D0-4C83-A0C8-C9B5446D5555" title="It is recommended that you test whether you can restore your database to a new host.">Testing the Restore of a Database on a New Host</a></p>
                  </div>
               </div><a id="BRADV89831"></a><div class="props_rev_3"><a id="GUID-0EE8068A-5D2F-41FF-BDB9-DEEC8CBCCDB9" name="GUID-0EE8068A-5D2F-41FF-BDB9-DEEC8CBCCDB9"></a><h4 id="BRADV-GUID-0EE8068A-5D2F-41FF-BDB9-DEEC8CBCCDB9" class="sect4"><span class="enumeration_section">20.5.1 </span>Preparing to Restore a Database on a New Host
                  </h4>
                  <div>
                     <p>Certain steps must be preformed to prepare for the restoration of the database on a new host.</p>
                     <div class="section">
                        <p>The steps include the following:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Record the DBID for your source database.</p>
                           </li>
                           <li>
                              <p>Make the source database initialization parameter file accessible on the new host. Copy the file from the old host to a new host by using an operating system utility.</p>
                           </li>
                           <li>
                              <p>If you perform a test restore operation only, then ensure that RMAN is <span class="italic">not </span>connected to the recovery catalog. Otherwise, RMAN records metadata about the restored data files in the recovery catalog. This metadata interferes with future attempts to restore and recover the primary database.
                              </p>
                              <p>If you must use a recovery catalog because the control file is not large enough to contain the RMAN repository data on all of the backups that you must restore, then use Oracle Data Pump to export the catalog and import it into a different schema or database. Afterward, use the copied recovery catalog for the test restore. Otherwise, the recovery catalog considers the restored database as the current target database.</p>
                           </li>
                           <li>
                              <p>Ensure that backups used for the restore operation are accessible on the restore host. For example, if the backups were made with a media manager, then verify that the tape device is connected to the new host. If you are using disk copies, then use the procedure in the following section.</p>
                           </li>
                           <li>
                              <p>If you are performing a trial restore of the production database, then perform either of the following actions before restoring the database in the test environment:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>If the test database will use a fast recovery area that is physically <span class="italic">different</span> from the recovery area used by the production database, then set <code class="codeph">DB_RECOVERY_FILE_DEST</code> in the test database instance to the new location.
                                    </p>
                                 </li>
                                 <li>
                                    <p>If the test database will use a fast recovery area that is physically the <span class="italic">same</span> as the recovery area used by the production database, then set <code class="codeph">DB_UNIQUE_NAME</code> in the test database instance to a different name from the production database.
                                    </p>
                                 </li>
                              </ul>
                              <p>If you do not perform either of the preceding actions, then RMAN assumes that you are restoring the production database and deletes flashback logs from the fast recovery area because they are considered unusable.</p>
                           </li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-0EE8068A-5D2F-41FF-BDB9-DEEC8CBCCDB9__GUID-F2C04D83-1034-4335-AB6E-C26BDF17E42A">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="rman-complete-database-recovery.html#GUID-34BB2E4B-B2FC-4701-BB65-BFED027DB865" title="It is recommended that you record the DBID of your database.">Determining the DBID of the Database</a>"</span> to learn how to determine the DBID fo your database
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="BRADV368"></a><a id="BRADV89832"></a><div class="props_rev_3"><a id="GUID-6A176AA2-5E35-4F3D-A125-E7C32A1D672A" name="GUID-6A176AA2-5E35-4F3D-A125-E7C32A1D672A"></a><h4 id="BRADV-GUID-6A176AA2-5E35-4F3D-A125-E7C32A1D672A" class="sect4"><span class="enumeration_section">20.5.2 </span>Restoring Disk Backups to a New Host
                  </h4>
                  <div>
                     <p>To move the database to a new host by using data file copies or backup sets on disk, you must transfer the files manually to the new host. This procedure assumes that RMAN is using a recovery catalog.</p>
                     <div class="section">
                        <p><span class="bold">To restore backup files to a new host:</span></p>
                        <ol>
                           <li>
                              <p>Start RMAN and connect to a target database and recovery catalog, as described in <span class="q">"<a href="starting-interacting-with-rman-client.html#GUID-E07231B2-F213-4F8F-8D02-E410A6DAE94C" title="You can create database connections from the RMAN client or the operating system command line. These database connection can be authenticated using a password file or with operating system authentication.">Making Database Connections with RMAN</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>Run a <code class="codeph">LIST</code> command to see a listing of backups of the data file and control file autobackups.
                              </p>
                              <p>For example, enter the following command to view data file copies: </p><pre class="oac_no_warn" dir="ltr">LIST COPY;
</pre><p>For example, enter the following command to view control file backups: </p><pre class="oac_no_warn" dir="ltr">LIST BACKUP OF CONTROLFILE;
</pre><p>The piece name of the autobackup must use the <code class="codeph">%F</code> substitution variable, so the autobackup piece name includes the string <code class="codeph">c-IIIIIIIIII-YYYYMMDD-QQ</code>, where <code class="codeph">IIIIIIIIII</code> stands for the DBID, <code class="codeph">YYYYMMDD</code> is a time stamp in the Gregorian calendar of the day the backup is generated, and <code class="codeph">QQ</code> is the sequence in hexadecimal.
                              </p>
                           </li>
                           <li>
                              <p>Copy the backups to the new host with an operating system utility. </p>
                              <p>Enter a command such as the following to copy all data file copies to the <code class="codeph">?/oradata/trgt</code> directory on the new host:
                              </p><pre class="oac_no_warn" dir="ltr">% cp -r /disk1/*dbf /net/new_host/oracle/oradata/trgt
</pre><p>Enter a command such as the following to copy the autobackup backup piece to the <code class="codeph">/tmp</code> directory on the new host:
                              </p><pre class="oac_no_warn" dir="ltr">% cp -r /disk1/auto_bkp_loc/c-1618370911-20130208-00 /net/new_host/tmp
</pre><p>You must use the <code class="codeph">SET CONTROLFILE AUTOBACKUP FORMAT</code> command when restoring an autobackup from a nondefault location.
                              </p>
                           </li>
                        </ol>
                        <div class="infoboxnotealso" id="GUID-6A176AA2-5E35-4F3D-A125-E7C32A1D672A__GUID-06AEB6F1-581E-4310-9B64-CCAEF078008C">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="rman-recovery-advanced.html#GUID-8077F97F-76A7-49DC-8C1E-5FE8ADD0914F" title="If you have configured control file autobackups, then the server parameter file is backed up with the control file whenever an autobackup is taken.">Restoring the Server Parameter File from a Control File Autobackup</a>"</span></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="BRADV369"></a><a id="BRADV89833"></a><div class="props_rev_3"><a id="GUID-23B34A02-C9D0-4C83-A0C8-C9B5446D5555" name="GUID-23B34A02-C9D0-4C83-A0C8-C9B5446D5555"></a><h4 id="BRADV-GUID-23B34A02-C9D0-4C83-A0C8-C9B5446D5555" class="sect4"><span class="enumeration_section">20.5.3 </span>Testing the Restore of a Database on a New Host
                  </h4>
                  <div>
                     <p>It is recommended that you test whether you can restore your database to a new host.</p>
                     <div class="section">
                        <p>In this scenario, you have two networked Linux hosts, <code class="codeph">hosta</code> and <code class="codeph">hostb</code>. A target database named <code class="codeph">trgta</code> is on <code class="codeph">hosta</code> and is registered in recovery catalog <code class="codeph">catdb</code>. You want to test the restore and recovery of <code class="codeph">trgta</code> on <code class="codeph">hostb</code>, while keeping database <code class="codeph">trgta</code> up and running on <code class="codeph">hosta</code>.
                        </p>
                        <p>Now, assume that the directory structure of <code class="codeph">hostb</code> is different from <code class="codeph">hosta</code>. The target database is located in <code class="codeph">/net/hosta/dev3/oracle/dbs</code>, but you want to restore the database to <code class="codeph">/net/hostb/oracle/oradata/test</code>. You have tape backups of data files, control files, archived redo logs, and the server parameter file on a media manager accessible by both hosts. The <code class="codeph">ORACLE_SID</code> for the <code class="codeph">TRGTA</code> database is <code class="codeph">TRGTA</code> and does not change for the restored database.
                        </p>
                        <div class="infoboxnote" id="GUID-23B34A02-C9D0-4C83-A0C8-C9B5446D5555__GUID-0049ABAB-7529-4C00-AAFB-F14052BFF244">
                           <p class="notep1">Caution:</p>
                           <p>If you are restoring the database for test purposes, then <span class="italic">never</span> connect RMAN to the test database and the recovery catalog.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><span class="bold">To restore the database on a new host:</span></p>
                        <ol>
                           <li>
                              <p>Ensure that the backups of the target database are accessible on the new host. </p>
                              <p>To test disaster recovery, you must have a recoverable backup of the target database. When preparing your disaster recovery strategy, ensure that the backups of the data files, control files, and server parameter file are restorable on <code class="codeph">hostb</code>. Thus, you must configure the media management software so that <code class="codeph">hostb</code> is a media manager client and can read the backup sets created on <code class="codeph">hosta</code>. Consult the media management vendor for support on this issue.
                              </p>
                           </li>
                           <li>
                              <p>Configure the <code class="codeph">ORACLE_SID</code> on <code class="codeph">hostb</code>.
                              </p>
                              <p>This scenario assumes that you want to start the RMAN client on <code class="codeph">hostb</code> and authenticate yourself through the operating system. However, you must be connected to <code class="codeph">hostb</code> either locally or through a net service name.
                              </p>
                              <p>After logging in to <code class="codeph">hostb</code> with administrator privileges, edit the <code class="codeph">/etc/group</code> file so that you are included in the DBA group:
                              </p><pre class="oac_no_warn" dir="ltr">dba:*:614:&lt;your_user_name&gt;
</pre><p>Set the <code class="codeph">ORACLE_SID</code> environment variable on <code class="codeph">hostb</code> to the same value used on <code class="codeph">hosta</code>:
                              </p><pre class="oac_no_warn" dir="ltr">% setenv ORACLE_SID trgta
</pre></li>
                           <li>
                              <p>Start RMAN on <code class="codeph">hostb</code> and connect to the target database <span class="italic">without</span> connecting to the recovery catalog. 
                              </p>
                              <p>For example, enter the following command:</p><pre class="oac_no_warn" dir="ltr">% rman NOCATALOG
RMAN&gt; CONNECT TARGET /
</pre></li>
                           <li>
                              <p>Set the DBID and start the database instance without mounting the database.</p>
                              <p>For example, run <code class="codeph">SET</code> <code class="codeph">DBID</code> to set the DBID, then run <code class="codeph">STARTUP</code> <code class="codeph">NOMOUNT</code>:
                              </p><pre class="oac_no_warn" dir="ltr">SET DBID 1340752057;
STARTUP NOMOUNT
</pre><p>RMAN fails to find the server parameter file, which has not yet been restored, but starts the instance with a "dummy" file. Sample output follows:</p><pre class="oac_no_warn" dir="ltr">startup failed: ORA-01078: failure in processing system parameters
LRM-00109: could not open parameter file '/net/hostb/oracle/dbs/inittrgta.ora'

trying to start the Oracle instance without parameter files ...
Oracle instance started
</pre></li>
                           <li>
                              <p>Restore and edit the server parameter file. </p>
                              <p>Because you enabled the control file autobackup feature when making your backups, the server parameter file is included in the backup. If you are restoring an autobackup that has a nondefault format, then use the <code class="codeph">SET CONTROLFILE AUTOBACKUP FORMAT</code> command to indicate the format.
                              </p>
                              <p>Allocate a channel to the media manager, then restore the server parameter file as a client-side parameter file and use the <code class="codeph">SET</code> command to indicate the location of the autobackup (in this example, the autobackup is in <code class="codeph">/tmp</code>): 
                              </p><pre class="oac_no_warn" dir="ltr">RUN
{
  ALLOCATE CHANNEL c1 DEVICE TYPE sbt PARMS '...';
  SET CONTROLFILE AUTOBACKUP FORMAT FOR DEVICE TYPE DISK TO '/tmp/%F';
  RESTORE SPFILE 
    TO PFILE '?/oradata/test/inittrgta.ora' 
    FROM AUTOBACKUP;
  SHUTDOWN ABORT;
}
</pre></li>
                           <li>
                              <p>Edit the restored initialization parameter file. </p>
                              <p>Change any location-specific parameters, for example, those ending in <code class="codeph">_DEST</code>, to reflect the new directory structure. For example, edit the following parameters:
                              </p><pre class="oac_no_warn" dir="ltr">  - IFILE
  - LOG_ARCHIVE_DEST_1
  - CONTROL_FILES
</pre></li>
                           <li>
                              <p>Restart the instance with the edited initialization parameter file.</p>
                              <p>For example, enter the following command:</p><pre class="oac_no_warn" dir="ltr">STARTUP FORCE NOMOUNT PFILE='?/oradata/test/inittrgta.ora';
</pre></li>
                           <li>
                              <p>Restore the control file from an autobackup and then mount the database. </p>
                              <p>For example, enter the following command:</p><pre class="oac_no_warn" dir="ltr">RUN 
{
  ALLOCATE CHANNEL c1 DEVICE TYPE sbt PARMS '...';
  RESTORE CONTROLFILE FROM AUTOBACKUP;
  ALTER DATABASE MOUNT;
}
</pre><p>RMAN restores the control file to whatever locations you specified in the <code class="codeph">CONTROL_FILES</code> initialization parameter. 
                              </p>
                           </li>
                           <li>
                              <p>Catalog the data file copies that you copied in <span class="q">"<a href="rman-recovery-advanced.html#GUID-6A176AA2-5E35-4F3D-A125-E7C32A1D672A" title="To move the database to a new host by using data file copies or backup sets on disk, you must transfer the files manually to the new host. This procedure assumes that RMAN is using a recovery catalog.">Restoring Disk Backups to a New Host</a>"</span>, using their new file names or <code class="codeph">CATALOG START</code> <code class="codeph">WITH</code> (if you know all the files are in directories with a common prefix easily addressed with a <code class="codeph">CATALOG START WITH</code> command). For example, run:
                              </p><pre class="oac_no_warn" dir="ltr">CATALOG START WITH '/oracle/oradata/trgt/';
</pre><p>If you want to specify files individually, then you can execute a <code class="codeph">CATALOG</code> command as follows:
                              </p><pre class="oac_no_warn" dir="ltr">CATALOG DATAFILECOPY
  '/oracle/oradata/trgt/system01.dbf', '/oracle/oradata/trgt/undotbs01.dbf', 
  '/oracle/oradata/trgt/cwmlite01.dbf', '/oracle/oradata/trgt/drsys01.dbf',
  '/oracle/oradata/trgt/example01.dbf', '/oracle/oradata/trgt/indx01.dbf', 
  '/oracle/oradata/trgt/tools01.dbf', '/oracle/oradata/trgt/users01.dbf';
</pre></li>
                           <li>
                              <p>Start a SQL*Plus session on the new database and query the database file names recorded in the control file. </p>
                              <p>Because the control file is from the <code class="codeph">trgta</code> database, the recorded file names use the original <code class="codeph">hosta</code> file names. You can query <code class="codeph">V$</code> views to obtain this information. Run the following query in SQL*Plus:
                              </p><pre class="oac_no_warn" dir="ltr">COLUMN NAME FORMAT a60
SPOOL  LOG '/tmp/db_filenames.out'
SELECT FILE# AS "File/Grp#", NAME 
FROM   V$DATAFILE
UNION
SELECT GROUP#,MEMBER 
FROM   V$LOGFILE;
SPOOL OFF
EXIT
</pre></li>
                           <li>
                              <p>Write the RMAN restore and recovery script. The script must include the following steps:</p>
                              <ol type="a">
                                 <li>
                                    <p>For each data file on the destination host that is restored to a different path than it had on the source host, use a <code class="codeph">SET</code> <code class="codeph">NEWNAME</code> command to specify the new path on the destination host. If the file systems on the destination system are set up to have the same paths as the source host, then do not use <code class="codeph">SET NEWNAME</code> for those files restored to the same path as on the source host.
                                    </p>
                                 </li>
                                 <li>
                                    <p>For each online redo log that is to be created at a different location than it had on the source host, use SQL <code class="codeph">ALTER</code> <code class="codeph">DATABASE</code> <code class="codeph">RENAME</code> <code class="codeph">FILE</code> commands to specify the path name on the destination host. If the file systems on the destination system are set up to have the same paths as the source host, then do not use <code class="codeph">ALTER DATABASE RENAME FILE</code> for those files restored to the same path as on the source host.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Perform a <code class="codeph">SET UNTIL</code> operation to limit recovery to the end of the archived redo logs. The recovery stops with an error if no <code class="codeph">SET UNTIL</code> command is specified.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Restore and recover the database.</p>
                                 </li>
                                 <li>
                                    <p>Run the <code class="codeph">SWITCH DATAFILE ALL</code> command so that the control file recognizes the new path names as the official new names of the data files.
                                    </p>
                                 </li>
                              </ol>
                              <p>The following code shows the RMAN script <code class="codeph">reco_test.rman</code> that can perform the restore and recovery operation.
                              </p><pre class="oac_no_warn" dir="ltr">RUN
{
  # allocate a channel to the tape device
  ALLOCATE CHANNEL c1 DEVICE TYPE sbt PARMS '...';

  # rename the data files and online redo logs
  SET NEWNAME FOR DATAFILE 1 TO '?/oradata/test/system01.dbf';
  SET NEWNAME FOR DATAFILE 2 TO '?/oradata/test/undotbs01.dbf';
  SET NEWNAME FOR DATAFILE 3 TO '?/oradata/test/cwmlite01.dbf';
  SET NEWNAME FOR DATAFILE 4 TO '?/oradata/test/drsys01.dbf';
  SET NEWNAME FOR DATAFILE 5 TO '?/oradata/test/example01.dbf';
  SET NEWNAME FOR DATAFILE 6 TO '?/oradata/test/indx01.dbf';
  SET NEWNAME FOR DATAFILE 7 TO '?/oradata/test/tools01.dbf';
  SET NEWNAME FOR DATAFILE 8 TO '?/oradata/test/users01.dbf';
  ALTER DATABASE RENAME FILE '/dev3/oracle/dbs/redo01.log'
      TO '?/oradata/test/redo01.log';
  ALTER DATABASE RENAME FILE '/dev3/oracle/dbs/redo02.log'
      TO '?/oradata/test/redo02.log';

  # Do a SET UNTIL to prevent recovery of the online logs
  SET UNTIL SCN 123456;
  # restore the database and switch the data file names
  RESTORE DATABASE;
  SWITCH DATAFILE ALL;

  # recover the database
  RECOVER DATABASE;
}
EXIT
</pre></li>
                           <li>
                              <p>Execute the script created in the previous step.</p>
                              <p>For example, start RMAN to connect to the target database and run the <code class="codeph">@</code> command:
                              </p><pre class="oac_no_warn" dir="ltr">% rman TARGET / NOCATALOG
RMAN&gt; @reco_test.rman
</pre></li>
                           <li>
                              <p>Open the restored database with the <code class="codeph">RESETLOGS</code> option.
                              </p>
                              <p>From the RMAN prompt, open the database with the <code class="codeph">RESETLOGS</code> option:
                              </p><pre class="oac_no_warn" dir="ltr">ALTER DATABASE OPEN RESETLOGS;</pre><div class="infoboxnote" id="GUID-23B34A02-C9D0-4C83-A0C8-C9B5446D5555__GUID-09A55798-F84C-496A-9832-AE6F616BD5C8">
                                 <p class="notep1">Caution:</p>
                                 <p>When you re-open your database in the next step, do not connect to the recovery catalog. Otherwise, the new database incarnation created is registered automatically in the recovery catalog, and the file names of the production database are replaced by the new file names specified in the script.</p>
                              </div>
                           </li>
                           <li>
                              <p>Optionally, delete the test database with all of its files. </p>
                              <div class="infoboxnote" id="GUID-23B34A02-C9D0-4C83-A0C8-C9B5446D5555__GUID-1A519371-8FD3-4DC8-BFA0-03C3248C845C">
                                 <p class="notep1">Note:</p>
                                 <p>If you used an ASM disk group, then the <code class="codeph">DROP DATABASE</code> command is the only way to safely remove the files of the test database. If you restored to non-ASM storage then you can also use operating system commands to remove the database.
                                 </p>
                              </div>
                              <p>Use the <code class="codeph">DROP DATABASE</code> command to delete all files associated with the database automatically. The following example deletes the database files:
                              </p><pre class="oac_no_warn" dir="ltr">STARTUP FORCE NOMOUNT PFILE='?/oradata/test/inittrgta.ora';
DROP DATABASE;
</pre><p>Because you did not perform the restore and recovery operation when connected to the recovery catalog, the recovery catalog contains no records for any of the restored files or the procedures performed during the test. Likewise, the control file of the <code class="codeph">trgta</code> database is completely unaffected by the test.
                              </p>
                           </li>
                        </ol>
                        <div class="infoboxnotealso" id="GUID-23B34A02-C9D0-4C83-A0C8-C9B5446D5555__GUID-7C9C8A3D-E400-4A21-9E11-3BD91530C303">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="starting-interacting-with-rman-client.html#GUID-E07231B2-F213-4F8F-8D02-E410A6DAE94C" title="You can create database connections from the RMAN client or the operating system command line. These database connection can be authenticated using a password file or with operating system authentication.">Making Database Connections with RMAN</a>"</span></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-759D9D57-D638-4557-BBCA-891E898CDC76" name="GUID-759D9D57-D638-4557-BBCA-891E898CDC76"></a><h3 id="BRADV-GUID-759D9D57-D638-4557-BBCA-891E898CDC76" class="sect3"><span class="enumeration_section">20.6 </span>Restoring Backups Created Using Older Versions of RMAN
               </h3>
               <div>
                  <p>You can restore backups that were created using older versions of RMAN, up to Oracle Database 9<span class="italic">i</span> Release 2 (9.2.0.8). 
                  </p>
                  <div class="section">There must be a supported upgrade path between the Oracle Database version on which the backups were created and the Oracle software version on which you want to run the restored database.</div>
                  <!-- class="section" -->
                  <div class="p">
                     <p>In this example, the source database is an Oracle Database 11<span class="italic">g</span> Release 2 database and it is configured to use a server parameter file (spfile). The database runs in <code class="codeph">ARCHIVELOG</code> mode and uses a fast recovery area. Control file autobackups are also configured. You then create RMAN backups of the source database, including the archived redo logs.
                     </p>
                     <p>The destination host on which these backups are restored has Oracle Database 12<span class="italic">c</span> Release 1 installed.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-759D9D57-D638-4557-BBCA-891E898CDC76__GUID-97C91D3A-D4EA-4806-8F9E-27BB034EE661">To restore RMAN backups that were created using an RMAN version that is older than the current target database version:</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>Verify that there is a supported upgrade path from the database version on which the backups were created to the Oracle server version on which you plan to restore the database.</span><div>
                           <p>For example, if your RMAN backups were created on Oracle Database 11g Release 2 (11.2.0.3) and you want to run the restored database on Oracle Database 12<span class="italic">c</span> Release 1 (12.1), then you must verify that there is a supported upgrade path from release 11.2.0.3 to release 12.1.
                           </p>
                           <div class="infoboxnotealso" id="GUID-759D9D57-D638-4557-BBCA-891E898CDC76__GUID-43FDDB18-61A6-4F85-AFCB-79D3F2CF7F34">
                              <p class="notep1">See Also:</p>
                              <p><a href="../upgrd/oracle-database-releases-that-support-direct-upgrade.html#UPGRD12358" target="_blank"><span class="italic">Oracle Database Upgrade Guide</span></a> for information about the database upgrade paths
                              </p>
                           </div>
                        </div>
                     </li>
                     <li class="stepexpand"><span>Ensure that the source database backups are available at the destination host on which they must be restored.</span><div>You can either use an operating system utility to copy the backups to the destination host or store the backups in a shared location that is accessible to the destination host.</div>
                     </li>
                     <li class="stepexpand"><span>Shut down the destination database.</span></li>
                     <li class="stepexpand"><span>On the destination host, set the <code class="codeph">ORACLE_SID</code> to the same value that was used on the source database.</span><div><pre class="oac_no_warn" dir="ltr">%  setenv ORACLE_SID db112</pre></div>
                     </li>
                     <li class="stepexpand"><span>Start RMAN on the destination host and connect to the target database using operating system authentication and without a recovery catalog.</span><div><pre class="oac_no_warn" dir="ltr">% rman target / NOCATALOG</pre></div>
                     </li>
                     <li class="stepexpand"><span>Set the DBID to the same value as the source database.</span><div>
                           <p>The following command sets the DBID to 699892390, which is the DBID of the source database whose backups are being restored.</p><pre class="oac_no_warn" dir="ltr">RMAN&gt; set DBID 699892390;</pre></div>
                     </li>
                     <li class="stepexpand"><span>Start the target database in nomount mode.</span><div><pre class="oac_no_warn" dir="ltr">RMAN&gt; startup nomount;</pre><p>RMAN fails to find the server parameter file, which has not yet been restored. However, the instance is started with a “dummy” file and the following output is displayed:</p><pre class="oac_no_warn" dir="ltr">startup failed: ORA-01078: failure in processing system parameters
LRM-00109: could not open parameter file '/oracle/dbs/inittrgta.ora'
trying to start the Oracle instance without parameter files ...
Oracle instance started</pre></div>
                     </li>
                     <li class="stepexpand"><span>Restore the server parameter file from the source database autobackup.</span><div>
                           <p>Because controlfile autobackups were enabled in the source database, the server parameter file is included in the backup. To restore an autobackup that has a nondefault format, use the <code class="codeph">SET CONTROLFILE AUTOBACKUP FORMAT</code> command to indicate the format.
                           </p>
                           <p>The following example sets the autobackup format, restores the spfile in the source database to the pfile <code class="codeph">/dev3/oracle/network/init_db112.ora</code>, and then shuts down the target database.
                           </p><pre class="oac_no_warn" dir="ltr">run
{
    set controlfile autobackup format for device type disk to '/scratch/fra/cf/%F.bck';
    restore spfile to pfile '/dev3/oracle/network/init_db112.ora' from autobackup recovery area '/scratch /fra/cf' db_name 'DB112';
    shutdown abort;
}</pre></div>
                     </li>
                     <li class="stepexpand"><span>Edit the restored initialization parameter file and modify the required initialization parameters. </span><div>
                           <p>This includes the <code class="codeph">COMPATIBLE</code> parameter, if the compatibility requirement for the target database is different from that set in the source database, and parameters that are deprecated in the target database release. Also update any location-specific parameters such as those ending with <code class="codeph">_DEST</code> to reflect the new directory structure.
                           </p>
                           <p>In this example, you must edit the pfile located at <code>/dev3/oracle/network/init_db112.ora</code>.
                           </p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>Restart the instance with the edited initialization parameter file.</span><div>
                           <p>The following command starts the database instance in nomount mode using the edited parameter file.</p><pre class="oac_no_warn" dir="ltr">RMAN&gt; startup force nomount pfile='/dev3/oracle/network/init_db112.ora';</pre></div>
                     </li>
                     <li class="stepexpand"><span>Restore the control file from an autobackup and then mount the database.</span><div>
                           <p>The following example sets the format for the control file autobackups, restores the control file from an autobackup, and then mounts the database.</p><pre class="oac_no_warn" dir="ltr">run
{
    set controlfile autobackup format for device type disk to '/scratch/fra/cf/%F.bck';
    restore controlfile from autobackup recovery area '/scratch/fra/cf' db_name 'DB112'; 
    alter database mount;
}</pre><p>The control file is restored to the location specified in the <code class="codeph">CONTROL_FILES</code> initialization parameter in the edited initialization parameter file.
                           </p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>Catalog data file copies of the source database that were made available to the destination host.</span><div>
                           <p>If all the files are in directories with a common prefix, then use the <code class="codeph">CATALOG START WITH</code> command. If you want to specify the file names individually, then use the <code class="codeph">CATALOG DATAFILECOPY</code> command.
                           </p>
                           <p>In the following example, all the data file copies are stored in a single folder <code>/scratch/fra/DB112/backupset</code> and so we use the <code class="codeph">CATALOG START WITH</code> command.
                           </p><pre class="oac_no_warn" dir="ltr">RMAN&gt; catalog start with '/scratch/fra/DB112/backupset';</pre></div>
                     </li>
                     <li class="stepexpand"><span>Restore and recover the source database.</span><div>
                           <p>If the data files are restored to a different path than those on the source database, you must specify a new path on the destination host by using the <code class="codeph">SET NEWNAME</code> command. If the online redo logs are to be created in a different location than those on the source database, then use the <code class="codeph">ALTER DATABASE RENAME FILE</code> command to specify the location of each redo log file on the destination database.
                           </p>
                           <p>In this example, the <code class="codeph">SET NEWNAME FOR DATABASE</code> command is used to specify the new location for all restored data files. The new location for each online redo log file is specified using an <code class="codeph">ALTER DATABASE RENAME FILE</code> command. Recovery is performed until the SCN specified in the command.
                           </p><pre class="oac_no_warn" dir="ltr">run
{
    set newname for database to '/ade/b/1885631999/oracle/dbs/%U.f';
    alter database rename file '/dev1/oracle/dbs/redo01.log' to '/dev3/oracle/dbs/redo1.log';
    alter database rename file '/dev1/oracle/dbs/redo02.log' to '/dev3/oracle/dbs/redo2.log';
    set until scn 1092435;
    restore database;
    switch datafile all;
    recover database;
}</pre></div>
                     </li>
                     <li class="stepexpand"><span>Open the restored database with the <code class="codeph">RESETLOGS</code> and <code class="codeph">UPGRADE</code> options.</span><div><pre class="oac_no_warn" dir="ltr">RMAN&gt; alter database open resetlogs upgrade;
Statement processed
RMAN-06900: WARNING: unable to generate V$RMAN_STATUS or V$RMAN_OUTPUT row
RMAN-06901: WARNING: disabling update of the V$RMAN_STATUS and V$RMAN_OUTPUT rows
ORACLE error from target database: 
ORA-04023: Object SYS.STANDARD could not be validated or authorized</pre><p>The error is caused by database packages that need to be revalidated as part of the upgrade process.</p>
                        </div>
                     </li>
                     <li class="stepexpand"><span>Exit RMAN.</span></li>
                     <li class="stepexpand"><span>Upgrade the target database to the desired Oracle release by performing the steps required to upgrade a database.</span><div>
                           <div class="infoboxnotealso" id="GUID-759D9D57-D638-4557-BBCA-891E898CDC76__GUID-E09568CA-36DC-4E93-9CC5-9246346692D5">
                              <p class="notep1">See Also:</p>
                              <p><a href="../upgrd/oracle-database-releases-that-support-direct-upgrade.html#UPGRD12358" target="_blank"><span class="italic">Oracle Database Upgrade Guide</span></a> for information about upgrading the database
                              </p>
                           </div>
                        </div>
                     </li>
                  </ol>
               </div>
            </div><a id="BRADV680"></a><div class="props_rev_3"><a id="GUID-8E64485B-3788-4389-A892-8C560F12443F" name="GUID-8E64485B-3788-4389-A892-8C560F12443F"></a><h3 id="BRADV-GUID-8E64485B-3788-4389-A892-8C560F12443F" class="sect3"><span class="enumeration_section">20.7 </span>Restoring and Recovering Files Over the Network
               </h3>
               <div>
                  <p>RMAN enables you to restore or recover files by connecting, over the network, to a physical standby database that contains the required files. You can restore an entire database, data files, control files, server parameter file, or tablespaces. Restoring files over the network is very useful in scenarios where you need to synchronize the primary and standby databases.</p>
                  <p>Backup sets are used to restore or recover files over the network. Therefore, you can use multisection backups, encryption, and compression to improve backup and restore performance.</p>
                  <p>Restoring and recovering files over the network is supported starting with Oracle Database 12<span class="italic">c</span> Release 1 (12.1).
                  </p>
                  <p>This section includes:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="rman-recovery-advanced.html#GUID-DF586DC2-A0F0-4EFD-AF8A-FC6C0B553C31" title="RMAN restores database files, over the network, from a physical standby database by using the FROM SERVICE clause of the RESTORE command.">About Restoring Files Over the Network</a></p>
                     </li>
                     <li>
                        <p><a href="rman-recovery-advanced.html#GUID-2ABBC0FC-D01E-4A1E-8FD6-9F04880D4E3F" title="You can perform recovery by fetching an incremental backup, over the network, from a primary database and then applying this incremental backup to the physical standby database.">About Recovering Files Over the Network</a></p>
                     </li>
                     <li>
                        <p><a href="rman-recovery-advanced.html#GUID-8466262D-9F86-431B-AA34-A7002A5498A1" title="Recovering files by connecting, over the network, to a physical standby database is useful in certain scenarios.">Scenarios for Restoring and Recovering Files Over the Network</a></p>
                     </li>
                     <li>
                        <p><a href="rman-recovery-advanced.html#GUID-43FF41E9-81D2-41A5-B2E6-8E2E2CE91EDB" title="Use the RESTORE command to restore lost or damaged data files by connecting over the network to a primary database or physical standby database.">Restoring Data Files Over the Network</a></p>
                     </li>
                     <li>
                        <p><a href="rman-recovery-advanced.html#GUID-93C8F7F1-E1FB-485D-ABC7-860757B24A98" title="RMAN rolls forward a physical standby database by creating an incremental backup that contains the changes to the primary database, transferring the incremental backup over the network to the physical standby database, and then applying the incremental backup to the physical standby database. All changes to data files on the primary database, beginning with the SCN in the standby data file header, are included in the incremental backup.">Rolling Forward a Physical Standby Database Using the RECOVER Command</a></p>
                     </li>
                  </ul>
               </div><a id="BRADV681"></a><div class="props_rev_3"><a id="GUID-DF586DC2-A0F0-4EFD-AF8A-FC6C0B553C31" name="GUID-DF586DC2-A0F0-4EFD-AF8A-FC6C0B553C31"></a><h4 id="BRADV-GUID-DF586DC2-A0F0-4EFD-AF8A-FC6C0B553C31" class="sect4"><span class="enumeration_section">20.7.1 </span>About Restoring Files Over the Network
                  </h4>
                  <div>
                     <p>RMAN restores database files, over the network, from a physical standby database by using the <code class="codeph">FROM SERVICE</code> clause of the <code class="codeph">RESTORE</code> command. 
                     </p>
                     <p>The <code class="codeph">FROM SERVICE</code> clause provides the service name of the physical standby database from which the files must be restored. During the restore operation, RMAN creates backup sets, on the physical standby database, of the files that need to be restored and then transfers these backup sets to the target database over the network.
                     </p>
                     <p>Use the <code class="codeph">SECTION SIZE</code> clause of the <code class="codeph">RESTORE</code> command to perform a multisection restore operation. To encrypt the backup sets created on the physical standby database, use the <code class="codeph">SET ENCRYPTION</code> command before the <code class="codeph">RESTORE</code> command to specify the encryption algorithm used.
                     </p>
                     <p>To transfer files from the physical standby database as compressed backup sets, use the <code class="codeph">USING COMPRESSED BACKUPSET</code> clause in the <code class="codeph">RESTORE</code> command. By default, RMAN compresses backup sets using the algorithm that is set in the RMAN configuration. You can override the default and set a different algorithm by using the <code class="codeph">SET COMPRESSION ALGORITHM</code> command before the <code class="codeph">RESTORE</code> statement.
                     </p>
                  </div>
               </div><a id="BRADV682"></a><div class="props_rev_3"><a id="GUID-2ABBC0FC-D01E-4A1E-8FD6-9F04880D4E3F" name="GUID-2ABBC0FC-D01E-4A1E-8FD6-9F04880D4E3F"></a><h4 id="BRADV-GUID-2ABBC0FC-D01E-4A1E-8FD6-9F04880D4E3F" class="sect4"><span class="enumeration_section">20.7.2 </span>About Recovering Files Over the Network
                  </h4>
                  <div>
                     <p>You can perform recovery by fetching an incremental backup, over the network, from a primary database and then applying this incremental backup to the physical standby database. </p>
                     <p>RMAN is connected as <code class="codeph">TARGET</code> to the physical standby database. The recovery process is optimized by restoring only the used data blocks in a data file. Use the <code class="codeph">FROM SERVICE</code> clause to specify the service name of the primary database from which the incremental backup must be fetched.
                     </p>
                     <p>To use multisection backup sets during the recovery process, specify the <code class="codeph">SECTION SIZE</code> clause in the <code class="codeph">RECOVER</code> command. To transfer the required files from the primary database as encrypted backup sets, use the <code class="codeph">SET ENCRYPTION</code> command before the <code class="codeph">RESTORE</code> command to specify the encryption algorithm used to create the backup sets.
                     </p>
                     <p>To compress backup sets that are used to recover files over the network, use the <code class="codeph">USING COMPRESSED BACKUPSET</code>. RMAN compresses backup sets when it creates them on the primary database and then transfers these backup sets to the target database. 
                     </p>
                  </div>
               </div><a id="BRADV683"></a><div class="props_rev_3"><a id="GUID-8466262D-9F86-431B-AA34-A7002A5498A1" name="GUID-8466262D-9F86-431B-AA34-A7002A5498A1"></a><h4 id="BRADV-GUID-8466262D-9F86-431B-AA34-A7002A5498A1" class="sect4"><span class="enumeration_section">20.7.3 </span>Scenarios for Restoring and Recovering Files Over the Network
                  </h4>
                  <div>
                     <p>Recovering files by connecting, over the network, to a physical standby database is useful in certain scenarios.</p>
                     <p>These scenarios include the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>You need to roll-forward a physical standby database to make it in-sync with the primary database.</p>
                           <p>After creating an incremental backup of the latest changes on the primary database, you can restore the physical standby database using the incremental backup.</p>
                        </li>
                        <li>
                           <p>You want to restore lost data files, control files, or tablespaces on a primary database using the corresponding files on the physical standby database. You can also restore files on a physical standby database by using the primary database.</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="BRADV684"></a><div class="props_rev_3"><a id="GUID-43FF41E9-81D2-41A5-B2E6-8E2E2CE91EDB" name="GUID-43FF41E9-81D2-41A5-B2E6-8E2E2CE91EDB"></a><h4 id="BRADV-GUID-43FF41E9-81D2-41A5-B2E6-8E2E2CE91EDB" class="sect4"><span class="enumeration_section">20.7.4 </span>Restoring Data Files Over the Network
                  </h4>
                  <div>
                     <p>Use the <code class="codeph">RESTORE</code> command to restore lost or damaged data files by connecting over the network to a primary database or physical standby database.
                     </p>
                     <div class="section">
                        <p>In this example, the <code class="codeph">DB_UNIQUE_NAME</code> of the primary database is <code class="codeph">MAIN</code> and the <code class="codeph">DB_UNIQUE_NAME</code> of the physical standby database is <code class="codeph">STANDBY</code>. The data file <code class="codeph">sales.dbf</code> on the primary database was lost. You want to restore this data file from the physical standby database. The service name of the physical standby database is <code class="codeph">standby_tns</code>. The <code class="codeph">RESTORE</code> command with the <code class="codeph">FROM SERVICE</code> clause enables you to restore the lost data file in the primary database by using the data file in the physical standby database. The password file in the primary database and the physical standby database are the same.
                        </p>
                        <p>Use the following steps to restore the data file <code class="codeph">sales.dbf</code> in the primary database by using the data file in the physical standby database:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Connect to the primary database as a user with the <code class="codeph">SYSBACKUP</code> privilege.</span><div><pre class="oac_no_warn" dir="ltr">%RMAN
RMAN&gt; CONNECT TARGET "sbu@main AS SYSBACKUP";
</pre><p>Enter the password for the <code class="codeph">sbu</code> user when prompted.
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Specify that the backup sets must be encrypted using the AES128 encryption algorithm</span><div><pre class="oac_no_warn" dir="ltr">RMAN&gt; SET ENCRYPTION ALGORITHM 'AES128';
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Ensure that the <code class="codeph">tnsnames.ora</code> file in the physical standby database contains an entry corresponding to the primary database. Also ensure that the password files on the primary and physical standby database are the same.</span></li>
                        <li class="stepexpand"><span>Restore the data file on the primary database by using the data file on the physical standby database. The following command creates multisection backup sets to perform the restore operation.</span><div><pre class="oac_no_warn" dir="ltr">RESTORE DATAFILE '/oradata/datafiles/sales.dbf'
FROM SERVICE standby_tns
SECTION SIZE 120M;
</pre></div>
                        </li>
                     </ol>
                  </div>
               </div><a id="BRADV685"></a><div class="props_rev_3"><a id="GUID-93C8F7F1-E1FB-485D-ABC7-860757B24A98" name="GUID-93C8F7F1-E1FB-485D-ABC7-860757B24A98"></a><h4 id="BRADV-GUID-93C8F7F1-E1FB-485D-ABC7-860757B24A98" class="sect4"><span class="enumeration_section">20.7.5 </span>Rolling Forward a Physical Standby Database Using the RECOVER Command
                  </h4>
                  <div>
                     <p>RMAN rolls forward a physical standby database by creating an incremental backup that contains the changes to the primary database, transferring the incremental backup over the network to the physical standby database, and then applying the incremental backup to the physical standby database. All changes to data files on the primary database, beginning with the SCN in the standby data file header, are included in the incremental backup.</p>
                     <p>You can use the <code class="codeph">RECOVER ... FROM SERVICE</code> command to synchronize the data files on the physical standby database with those on the primary database. This command refreshes the standby data files and rolls them forward to the same point-in-time as the primary. However, the standby control file still contains old SCN values which are lower than the SCN values in the standby data files. Therefore, to complete the synchronization of the physical standby database, you must refresh the standby control file and then update the data file names, online redo log file names, and the standby redo log file names in the refreshed standby control file.
                     </p>
                     <p>If network resources are a constraint, then you can use the <code class="codeph">BACKUP INCREMENTAL</code> command to create incremental backups on the primary database, and then use the incremental backups to roll forward the physical standby database.
                     </p>
                     <p><span class="q">"<a href="rman-recovery-advanced.html#GUID-828A4953-3F7E-4975-ADA4-5469D6794BB0" title="Use the RECOVER STANDBY DATABASE command with the FROM SERVICE clause to refresh a physical standby database with changes that were made to the primary database.">Steps to Refresh a Physical Standby Database with Changes Made to the Primary Database</a>"</span> describes the steps to refresh a physical standby using the <code class="codeph">FROM SERVICE</code> clause.
                     </p>
                     <div class="infoboxnotealso" id="GUID-93C8F7F1-E1FB-485D-ABC7-860757B24A98__GUID-C3DCC851-E53E-4C67-AD21-F42B5F93F146">
                        <p class="notep1">See Also:</p>
                        <p><a href="../sbydb/managing-oracle-data-guard-physical-standby-databases.html#SBYDB-GUID-B140C38B-DE01-4252-8422-7154018DDFEC" target="_blank"><span><cite>Oracle Data Guard Concepts and Administration</cite></span></a> for information about using the <code class="codeph">BACKUP INCREMENTAL</code> command to roll forward a physical standby database
                        </p>
                     </div>
                  </div><a id="BRADV858"></a><div class="props_rev_3"><a id="GUID-828A4953-3F7E-4975-ADA4-5469D6794BB0" name="GUID-828A4953-3F7E-4975-ADA4-5469D6794BB0"></a><h5 id="BRADV-GUID-828A4953-3F7E-4975-ADA4-5469D6794BB0" class="sect5"><span class="enumeration_section">20.7.5.1 </span>Steps to Refresh a Physical Standby Database with Changes Made to the Primary Database
                     </h5>
                     <div>
                        <p>Use the <code class="codeph">RECOVER STANDBY DATABASE</code> command with the <code class="codeph">FROM SERVICE</code> clause to refresh a physical standby database with changes that were made to the primary database.
                        </p>
                        <div class="section">
                           <p></p>
                           <p>This example assumes that the <code class="codeph">DB_UNIQUE_NAME</code> of the primary database is <code class="codeph">MAIN</code> and its net service name is <code class="codeph">primary_db</code>. The <code class="codeph">DB_UNIQUE_NAME</code> of the standby database is <code class="codeph">STANDBY</code> and its net service name is <code class="codeph">standby_db</code>.
                           </p>
                           <p><span class="bold">To refresh the physical standby database with changes made to the primary database:</span></p>
                           <ol>
                              <li>
                                 <p>Ensure that the following prerequisites are met:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>Oracle Net connectivity is established between the physical standby database and the primary database.</p>
                                       <p>You can do this by adding an entry corresponding to the primary database in the <code class="codeph">tnsnames.ora</code> file of the physical standby database.
                                       </p>
                                    </li>
                                    <li>
                                       <p>The password files on the primary database and the physical standby database are the same.</p>
                                    </li>
                                    <li>
                                       <p>The <code class="codeph">COMPATIBLE</code> parameter in the initialization parameter file of the primary database and physical standby database is set to 12.0.
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <p>Start RMAN and connect as target to the physical standby database. It is recommended that you also connect to a recovery catalog.</p>
                                 <p>The following commands connect as <code class="codeph">TARGET</code> to the physical standby database and as <code class="codeph">CATALOG</code> to the recovery catalog. The connection to the physical standby is established using the <code class="codeph">sbu</code> user, who has been granted <code class="codeph">SYSBACKUP</code> privilege. The net service name of the physical standby database is <code class="codeph">standby_db</code> and that of the recovery catalog is <code class="codeph">catdb</code>.
                                 </p><pre class="oac_no_warn" dir="ltr">CONNECT TARGET "sbu@standby_db AS SYSBACKUP";
CONNECT CATALOG rman@catdb;
</pre></li>
                              <li>
                                 <p>Roll forward the physical standby database using the <code class="codeph">RECOVER STANDBY DATABASE</code> command with the <code class="codeph">FROM SERVICE</code> clause.
                                 </p>
                                 <p>The <code class="codeph">FROM SERVICE</code> clause specifies the service name of the primary database using which the physical standby must be rolled forward. The standby database is restarted after the roll forward operation.
                                 </p>
                                 <p>The following example rolls forward the physical standby database using the primary database whose service name is <code class="codeph">primary_db</code>. 
                                 </p><pre class="pre codeblock"><code>RECOVER STANDBY DATABASE FROM SERVICE primary_db;</code></pre></li>
                              <li>
                                 <p>(For Active Data Guard only) Perform the following steps to recover redo data and open the physical standby database in read-only mode:</p><pre class="oac_no_warn" dir="ltr">ALTER DATABASE RECOVER MANAGED STANDBY DATABASE UNTIL CONSISTENT;
ALTER DATABASE OPEN READ ONLY;</pre></li>
                              <li>
                                 <p>Start the managed recovery processes on the physical standby database.</p>
                                 <p>The following command starts the managed recovery process:</p><pre class="oac_no_warn" dir="ltr">ALTER DATABASE RECOVER MANAGED STANDBY DATABASE DISCONNECT FROM SESSION;</pre><p>When using Data Guard Broker, use the following command to start the managed recovery process:</p><pre class="oac_no_warn" dir="ltr">DGMGRL&gt; edit database standby_db set state='APPLY-ON';</pre></li>
                           </ol>
                           <div class="infoboxnotealso" id="GUID-828A4953-3F7E-4975-ADA4-5469D6794BB0__GUID-30F15DA5-B540-41F4-BD7A-ED90E200DEB4">
                              <p class="notep1">See Also:</p>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/bradv&amp;id=NETAG177" target="_blank"><span><cite>Oracle Database Net Services Administrator's Guide</cite></span></a> for information about establishing Oracle Net connectivity
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='04342.translator-run-time-functionality.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Translator and Run-Time Functionality</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="SQLJ Developer's Guide ">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="SQLJ Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="sqlj-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-11T08:20:03-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96458-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="translator-command-line-and-options.html" title="Previous" type="text/html">
      <link rel="next" href="performance-and-debugging.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="SQLJ Developer's Guide">
    <meta name="dcterms.isVersionOf" content="JSQLJ">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="translator-command-line-and-options.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="performance-and-debugging.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">SQLJ Developer's Guide </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Translator and Run-Time Functionality</li>
            </ol>
            <a id="GUID-19E43C02-712C-4CF7-BE74-C7A16665C1D2" name="GUID-19E43C02-712C-4CF7-BE74-C7A16665C1D2"></a><a id="JSQLJ700"></a>
            
            <h2 id="JSQLJ-GUID-19E43C02-712C-4CF7-BE74-C7A16665C1D2" class="sect2"><span class="enumeration_chapter">10 </span> Translator and Run-Time Functionality
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This chapter discusses internal operations and functionality of Oracle SQLJ translator and run time.</p>
               <p>The following topics are covered:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="translator-run-time-functionality.html#GUID-D48A9F0A-67FD-4B49-B219-7EC6FEE1F4E3">Internal Translator Operations</a></p>
                  </li>
                  <li>
                     <p><a href="translator-run-time-functionality.html#GUID-AEB9AFD5-5CE3-43AA-8883-A0A03D82A43D">Functionality of Translator Errors_ Messages_ and Exit Codes</a></p>
                  </li>
                  <li>
                     <p><a href="translator-run-time-functionality.html#GUID-AFF5C519-028E-4554-98E8-B8FF103515D1">SQLJ Run Time</a></p>
                  </li>
                  <li>
                     <p><a href="translator-run-time-functionality.html#GUID-50785BF7-712B-4BFC-BE22-0E86B626BBA6">Globalization Support in the Translator and Run Time</a></p>
                  </li>
               </ul>
            </div><a id="JSQLJ701"></a><div class="props_rev_3"><a id="GUID-D48A9F0A-67FD-4B49-B219-7EC6FEE1F4E3" name="GUID-D48A9F0A-67FD-4B49-B219-7EC6FEE1F4E3"></a><h3 id="JSQLJ-GUID-D48A9F0A-67FD-4B49-B219-7EC6FEE1F4E3" class="sect3">Internal Translator Operations</h3>
               <div>
                  <p>The following topics summarize the operations executed by the SQLJ translator during a translation:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="translator-run-time-functionality.html#GUID-87DB4A97-BF52-4059-A64C-665733D75B62">Java and SQLJ Code-Parsing and Syntax-Checking</a></p>
                     </li>
                     <li>
                        <p><a href="translator-run-time-functionality.html#GUID-CD0DF951-697A-47E1-90B0-DAF8E2E58DB9">SQL Semantics-Checking and Offline Parsing</a></p>
                     </li>
                     <li>
                        <p><a href="translator-run-time-functionality.html#GUID-930ED5CD-CB40-488E-94D9-509DEB9C2A8D">Code Generation</a></p>
                     </li>
                     <li>
                        <p><a href="translator-run-time-functionality.html#GUID-9A0CD688-00C7-4DBB-9F76-1727E5C291C4">Java Compilation</a></p>
                     </li>
                     <li>
                        <p><a href="translator-run-time-functionality.html#GUID-1C3E2732-1185-4961-BA6B-5BA97A35EA48">Profile Customization (ISO Code Generation)</a></p>
                     </li>
                  </ul>
               </div><a id="JSQLJ702"></a><div class="props_rev_3"><a id="GUID-87DB4A97-BF52-4059-A64C-665733D75B62" name="GUID-87DB4A97-BF52-4059-A64C-665733D75B62"></a><h4 id="JSQLJ-GUID-87DB4A97-BF52-4059-A64C-665733D75B62" class="sect4">Java and SQLJ Code-Parsing and Syntax-Checking</h4>
                  <div>
                     <p>In this first phase of SQLJ translation, a SQLJ parser and a Java parser are used to process all the source code and check syntax. As the SQLJ translator parses the <code class="codeph">.sqlj</code> file, it invokes a Java parser to check the syntax of Java statements and a SQLJ parser to check the syntax of SQLJ constructs (anything preceded by <code class="codeph">#sql</code>). The SQLJ parser also invokes the Java parser to check the syntax of Java host variables and expressions within SQLJ executable statements.
                     </p>
                     <p>The SQLJ parser checks the grammar of SQLJ constructs according to the SQLJ language specification. However, it does <span class="italic">not</span> check the grammar of the embedded SQL operations. SQL syntax is not checked until the semantics-checking or offline parsing step.
                     </p>
                     <p>This syntax-check will look for errors like missing semi-colons, mismatched curly braces, and obvious type mismatches, such as multiplying a number by a string. If the parsers find any syntax errors or type mismatches during this phase, then the translation is aborted and the errors are reported to the user.</p>
                  </div>
               </div><a id="JSQLJ703"></a><div class="props_rev_3"><a id="GUID-CD0DF951-697A-47E1-90B0-DAF8E2E58DB9" name="GUID-CD0DF951-697A-47E1-90B0-DAF8E2E58DB9"></a><h4 id="JSQLJ-GUID-CD0DF951-697A-47E1-90B0-DAF8E2E58DB9" class="sect4">SQL Semantics-Checking and Offline Parsing</h4>
                  <div>
                     <p>Once the SQLJ and Java application source code is verified as syntactically correct, the translator enters into the semantics-checking phase and invokes a SQL semantics-checker or a SQL offline parser or both, according to SQLJ option settings. </p>
                     <p>Setting the <code class="codeph">-user</code> option enables online checking, and setting the <code class="codeph">-password</code> and <code class="codeph">-url</code> options specifies the database connection, if the password and URL were not specified in the <code class="codeph">-user</code> option. The <code class="codeph">-offline</code> or <code class="codeph">-online</code> option specifies which checker to use. The default, typically sufficient, is a checker front end called <code class="codeph">OracleChecker</code> that chooses the most appropriate checker, according to whether you have enabled online checking and which Java Database Connectivity (JDBC) driver you are using.
                     </p>
                     <p>The <code class="codeph">-parse</code> option, <code class="codeph">true</code> by default, is for enabling the offline parser, which offers a way to verify SQL and PL/SQL syntax (but not data types against database columns) without necessitating a database connection during translation. Note that some settings of the <code class="codeph">-parse</code> option will override the <code class="codeph">-user</code> option and disable online checking.
                     </p>
                     <div class="infoboxnotealso" id="GUID-CD0DF951-697A-47E1-90B0-DAF8E2E58DB9__GUID-5FF88CB8-0C4B-4BA8-9CC7-DBAF8CFC121A">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="translator-command-line-and-options.html#GUID-E001FA35-824A-47A1-8973-AA5771B0DFE5">Connection Options</a>"</span> and <span class="q">"<a href="translator-command-line-and-options.html#GUID-ED7DD3DE-CA91-4085-82B2-D07EC9B15FB6">Semantics-Checking and Offline-Parsing Options</a>"</span></p>
                     </div>
                     <div class="infoboxnote" id="GUID-CD0DF951-697A-47E1-90B0-DAF8E2E58DB9__GUID-70A54398-B084-4FF9-8159-DB44AB09B003">
                        <p class="notep1">Note:</p>
                        <p>For ISO code generation, semantics-checking can also be performed on a profile that was produced during a previous execution of the SQLJ translator. Refer to <span class="q">"<a href="appendix.html#GUID-B0B2AAD4-3AE2-43F1-A38E-37D48343C353">SQLCheckerCustomizer for Profile Semantics-Checking</a>"</span>.
                        </p>
                     </div>
                     <p>The following tasks are always performed during semantics-checking, regardless of the status of online checking or offline parsing:</p>
                     <ol>
                        <li>
                           <p>SQLJ analyzes the types of Java expressions in your SQLJ executable statements.</p>
                           <p>This includes examining the SQLJ source files being translated, any <code class="codeph">.java</code> files entered on the command line, and any imported Java classes whose <code class="codeph">.class</code> files or <code class="codeph">.java</code> files can be found through the classpath. SQLJ examines whether and how stream types are used in <code class="codeph">SELECT</code> or <code class="codeph">CAST</code> statements, what Java types are used in iterator columns or <code class="codeph">INTO</code>-lists, what Java types are used as input host variables, and what Java types are used as output host variables.
                           </p>
                           <p>SQLJ also processes <code class="codeph">FETCH</code>, <code class="codeph">CAST</code>, <code class="codeph">CALL</code>, <code class="codeph">SET TRANSACTION</code>, <code class="codeph">VALUES</code>, and <code class="codeph">SET</code> statements syntactically.
                           </p>
                           <p>Any Java expression in a SQLJ executable statement must have a Java type valid for the given situation and usage. For example, consider the following statement:</p><pre class="oac_no_warn" dir="ltr">#sql [myCtx] { UPDATE ... };
</pre><p>The <code class="codeph">myCtx</code> variable, which might be used to specify a connection context instance or execution context instance for this statement, must actually resolve to a SQLJ connection context type or execution context type.
                           </p>
                           <p>Now consider the following example:</p><pre class="oac_no_warn" dir="ltr">#sql { UPDATE employees SET salary = :newSal };
</pre><p>If <code class="codeph">newSal</code> is a variable, as opposed to a field, then an error is generated if <code class="codeph">newSal</code> was not previously declared. In any case, an error is generated if it cannot be assigned to a valid Java type or its Java type cannot be used in a SQL statement (for example, <code class="codeph">java.util.Vector</code>).
                           </p>
                           <div class="infoboxnote" id="GUID-CD0DF951-697A-47E1-90B0-DAF8E2E58DB9__GUID-7F8B9E22-CBA0-4FD9-88F6-73D99DC5AE28">
                              <p class="notep1">Note:</p>
                              <p>Semantics-checking of Java types is performed only for Java expressions within SQLJ executable statements. Such errors in your standard Java statements will <span class="italic">not</span> be detected until compilation by the Java compiler.
                              </p>
                           </div>
                        </li>
                        <li>
                           <p>SQLJ tries to categorize your embedded SQL operations. Each operation must have a recognizable keyword, such as <code class="codeph">SELECT</code> or <code class="codeph">INSERT</code>, so that SQLJ knows what kind of operation it is. For example, the following statement will generate an error:
                           </p><pre class="oac_no_warn" dir="ltr">#sql { foo };
</pre></li>
                        <li>
                           <p>If either online checking or offline parsing (or both) is enabled, then SQLJ analyzes and verifies the syntax of embedded SQL and PL/SQL operations.</p>
                        </li>
                        <li>
                           <p>If either online checking or offline parsing (or both) is enabled, then SQLJ checks the types of Java expressions in SQLJ executable statements against SQL types of corresponding columns in the database and SQL types of corresponding arguments and return variables of stored procedures and functions.</p>
                           <p>In the process of doing this, SQLJ verifies that the SQL entities used in your SQLJ executable statements, such as tables, views, and stored procedures, actually exist in the database. SQLJ also checks nullability of database columns whose data is being selected into iterator columns of Java primitive types, which cannot process null data. However, nullability is not checked for stored procedure and function output parameters and return values.</p>
                        </li>
                     </ol>
                  </div>
               </div><a id="JSQLJ705"></a><a id="JSQLJ706"></a><a id="JSQLJ707"></a><a id="JSQLJ708"></a><a id="JSQLJ709"></a><a id="JSQLJ704"></a><div class="props_rev_3"><a id="GUID-930ED5CD-CB40-488E-94D9-509DEB9C2A8D" name="GUID-930ED5CD-CB40-488E-94D9-509DEB9C2A8D"></a><h4 id="JSQLJ-GUID-930ED5CD-CB40-488E-94D9-509DEB9C2A8D" class="sect4">Code Generation</h4>
                  <div>
                     <div class="section">
                        <p>For the <code class="codeph">.sqlj</code> application source file, the SQLJ translator generates a <code class="codeph">.java</code> file and, for ISO standard SQLJ code generation, at least one profile (either in <code class="codeph">.ser</code> or <code class="codeph">.class</code> files). The <code class="codeph">.java</code> contains your translated application source code, class definitions for any private iterators and connection contexts you declared, and, for ISO code, a profile-keys class definition generated and used internally by SQLJ.
                        </p>
                        <div class="infoboxnote" id="GUID-930ED5CD-CB40-488E-94D9-509DEB9C2A8D__GUID-F8D215D9-269A-41CE-BBF4-63606CE7AE80">
                           <p class="notep1">Note:</p>
                           <p>No profiles or profile-keys class are generated if you use the default Oracle-specific code generation mode.</p>
                           <p>With ISO code generation, there are no profiles or profile-keys class if you do not use any SQLJ executable statements in your code.</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-930ED5CD-CB40-488E-94D9-509DEB9C2A8D__GUID-B43AE7AB-ED82-462D-8800-A676B4DECEB5">Generated Application Code in .java File</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>For the default Oracle-specific code generation, the generated <code class="codeph">.java</code> file for your application contains direct calls to Oracle JDBC driver in place of the original SQLJ executable statements. There are also calls to an Oracle-specific SQLJ run time. For ISO standard SQLJ code generation, SQLJ executable statements are replaced by calls to the SQLJ run time, which in turn contains calls to the JDBC driver.
                        </p>
                        <p>For convenience, generated <code class="codeph">.java</code> files also include a comment for each of your <code class="codeph">#sql</code> statements, repeating the statement in its entirety for reference. The generated <code class="codeph">.java</code> file will have the same base name as the input <code class="codeph">.sqlj</code> file, which would be the name of the public class defined in the <code class="codeph">.sqlj</code> file or the first class defined if there are no public classes. For example, <code class="codeph">Foo.sqlj</code> defines the <code class="codeph">Foo</code> class. The <code class="codeph">Foo.java</code> source file will be generated by the translator.
                        </p>
                        <p>The location of the generated <code class="codeph">.java</code> file depends on whether and how you set the SQLJ <code class="codeph">-dir</code> option. By default, the <code class="codeph">.java</code> file will be placed in the directory of the <code class="codeph">.sqlj</code> input file.
                        </p>
                        <div class="infoboxnotealso" id="GUID-930ED5CD-CB40-488E-94D9-509DEB9C2A8D__GUID-F0A38166-7B45-453C-BD30-B6849717B12B">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="translator-command-line-and-options.html#GUID-93FF52FC-8C29-488C-B82D-FFA8A6C5A03B">Output Directory for Generated .java Files (-dir)</a>"</span></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-930ED5CD-CB40-488E-94D9-509DEB9C2A8D__GUID-791FF0BD-C741-418E-A3B8-3F4B6AB0BCA0">Generated Profile-Keys Class in .java File (ISO Code Generation)</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>If you use ISO standard SQLJ code generation, SQLJ generates a profile-keys class that it uses internally during run time to load and access the serialized profile. This class contains mapping information between the SQLJ run time calls in your translated application and the SQL operations placed in the serialized profile. It also contains methods to access the serialized profile.</p>
                        <div class="infoboxnote" id="GUID-930ED5CD-CB40-488E-94D9-509DEB9C2A8D__GUID-3B4E9DB9-1B7B-4A31-BAB9-9C5279E12ACF">
                           <p class="notep1">Note:</p>
                           <p>If you use the default Oracle-specific code generation, no profiles or profile-keys classes are generated.</p>
                        </div>
                        <p>The profile-keys class is defined in the same <code class="codeph">.java</code> output file that has your translated application source code, with a class name based on the base name of your <code class="codeph">.sqlj</code> source file as follows:
                        </p><pre class="oac_no_warn" dir="ltr">Basename_SJProfileKeys
</pre><p>For example, translating <code class="codeph">Foo.sqlj</code> defines the following profile-keys class in the generated <code class="codeph">.java</code> file:
                        </p><pre class="oac_no_warn" dir="ltr">Foo_SJProfileKeys
</pre><p>If your application is in a package, this is reflected appropriately. For example, translating <code class="codeph">Foo.sqlj</code> in the <code class="codeph">a.b</code> package defines the following class:
                        </p><pre class="oac_no_warn" dir="ltr">a.b.Foo_SJProfileKeys
</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-930ED5CD-CB40-488E-94D9-509DEB9C2A8D__GUID-9CEFF778-6755-416A-A1D3-D0DE8DED144C">Generated Profiles in .ser or .class Files (ISO Code Generation)</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>If you use ISO standard SQLJ code generation, SQLJ generates profiles that it uses to store information about the SQL operations found in the input file. A profile is generated for each connection context class that you use in your application. It describes the operations to be performed using instances of the associated connection context class, such as SQL operations to execute, tables to access, and stored procedures and functions to call.</p>
                        <div class="infoboxnote" id="GUID-930ED5CD-CB40-488E-94D9-509DEB9C2A8D__GUID-653119F0-7B9A-4A6B-A757-319F9A6E55BA">
                           <p class="notep1">Note:</p>
                           <p>If you use the default Oracle-specific code generation, then information about the SQL operations is embedded in the generated code, which calls Oracle JDBC driver directly. In this case, SQLJ does not generate profiles.</p>
                        </div>
                        <p>Profiles are generated in <code class="codeph">.ser</code> serialized resource files. However, if you enable the SQLJ <code class="codeph">-ser2class</code> option, then the profiles are automatically converted to <code class="codeph">.class</code> files as part of the translation. In this case, no further customization of the profile is possible. You would have to delete the <code class="codeph">.class</code> file and rerun the SQLJ translator to regenerate the profile.
                        </p>
                        <p>Profile base names are generated similarly to the profile-keys class name. They are fully qualified with the package name, followed by the <code class="codeph">.sqlj</code> file base name, followed by the string:
                        </p><pre class="oac_no_warn" dir="ltr">_SJProfile<span class="italic">n</span>
</pre><p>Where <span class="italic"><code class="codeph">n</code></span> is a unique number, starting with 0, for each profile generated for a particular <code class="codeph">.sqlj</code> input file.
                        </p>
                        <p>Again using the example of the <code class="codeph">Foo.sqlj</code> input file, if two profiles are generated, then they will have the following base names (presuming no package): 
                        </p><pre class="oac_no_warn" dir="ltr">Foo_SJProfile0
Foo_SJProfile1
</pre><p>If <code class="codeph">Foo.sqlj</code> is in the <code class="codeph">a.b</code> package, then the profile base names will be:
                        </p><pre class="oac_no_warn" dir="ltr">a.b.Foo_SJProfile0
a.b.Foo_SJProfile1
</pre><p>Physically, a profile exists as a Java serialized object contained within a resource file. Resource files containing profiles use the <code class="codeph">.ser</code> extension and are named according to the base name of the profile (excluding package names). Resource files for the two previously mentioned profiles will be named as follows:
                        </p><pre class="oac_no_warn" dir="ltr">Foo_SJProfile0.ser
Foo_SJProfile1.ser
</pre><p>Or, they will be named <code class="codeph">Foo_SJProfile0.class</code> and <code class="codeph">Foo_SJProfile1.class</code> if you enable the <code class="codeph">-ser2class</code> option. If you choose this option, then the conversion to <code class="codeph">.class</code> takes place <span class="italic">after</span> the customization step.
                        </p>
                        <div class="infoboxnotealso" id="GUID-930ED5CD-CB40-488E-94D9-509DEB9C2A8D__GUID-C7583720-72AF-43CA-AA7A-72694117D17D">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="translator-command-line-and-options.html#GUID-18BBFFC9-9FA1-4AB9-B65F-D822D3B2A6C3">Conversion of .ser File to .class File (-ser2class)</a>"</span></p>
                        </div>
                        <p>The location of these files depends on how the SQLJ <code class="codeph">-d</code> option is set, which determines where all generated <code class="codeph">.ser</code> and <code class="codeph">.class</code> files are placed.
                        </p>
                        <div class="infoboxnotealso" id="GUID-930ED5CD-CB40-488E-94D9-509DEB9C2A8D__GUID-00B01D10-DD89-4602-BB77-42AE715B63CF">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="translator-command-line-and-options.html#GUID-93FF52FC-8C29-488C-B82D-FFA8A6C5A03B">Output Directory for Generated .ser and .class Files (-d)</a>"</span></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-930ED5CD-CB40-488E-94D9-509DEB9C2A8D__GUID-ADFA0FDF-B071-4BFA-8F54-1375E8C8B441">More About Generated Calls to SQLJ Run Time</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>When <code class="codeph">#sql</code> statements are replaced by calls to the JDBC driver (for Oracle-specific code generation) or to the SQLJ run time (for ISO standard SQLJ code generation), these calls implement the steps in <a href="translator-run-time-functionality.html#GUID-930ED5CD-CB40-488E-94D9-509DEB9C2A8D__CHEFIGGA" title="summary">Table 10-1</a>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-930ED5CD-CB40-488E-94D9-509DEB9C2A8D__CHEFIGGA">
                        <p class="titleintable">Table 10-1 Steps for Generated Calls, ISO Standard Versus Oracle-Specific </p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Steps for Generated Calls, ISO Standard Versus Oracle-Specific " summary="summary" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="50%" id="d61763e639">Steps for ISO Standard Code Generation</th>
                                 <th align="left" valign="bottom" width="50%" id="d61763e642">Steps for Oracle Code Generation</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d61763e647" headers="d61763e639 ">
                                    <p>Get a SQLJ statement object, using information stored in the associated profile entry.</p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d61763e647 d61763e642 ">
                                    <p>Get an Oracle JDBC statement object.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d61763e654" headers="d61763e639 ">
                                    <p>Bind inputs into the statement, using <code class="codeph">set</code><span class="italic"><code class="codeph">XXX</code></span><code class="codeph">()</code> methods of the statement object.
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d61763e654 d61763e642 ">
                                    <p>Bind inputs using Oracle JDBC statement methods and, if necessary, register output parameters.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d61763e669" headers="d61763e639 ">
                                    <p>Execute the statement, using the <code class="codeph">executeUpdate()</code> or <code class="codeph">executeQuery()</code> method of the statement object.
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d61763e669 d61763e642 ">
                                    <p>Execute the Oracle statement.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d61763e682" headers="d61763e639 ">
                                    <p>Create iterator instances, if applicable.</p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d61763e682 d61763e642 ">
                                    <p>Create iterator instances, if applicable.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d61763e689" headers="d61763e639 ">
                                    <p>Retrieve outputs from the statement, using <code class="codeph">get</code><span class="italic"><code class="codeph">XXX</code></span><code class="codeph">()</code> methods of the statement object. 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d61763e689 d61763e642 ">
                                    <p>Retrieve outputs from the statement using appropriate JDBC getter methods.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="50%" id="d61763e704" headers="d61763e639 ">
                                    <p>Close the SQLJ statement object (by default, recycling it through the SQLJ statement cache).</p>
                                 </td>
                                 <td align="left" valign="top" width="50%" headers="d61763e704 d61763e642 ">
                                    <p>Close the JDBC statement object (by default, recycling it through the JDBC statement cache).</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <p>A SQLJ run time uses SQLJ statement objects that are similar to JDBC statement objects, although a particular implementation of SQLJ might or might not use JDBC statement classes directly. SQLJ statement classes add functionality particular to SQLJ. For example:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Standard SQLJ statement objects raise a SQL exception if a null value from the database is to be output to a primitive Java type, such as <code class="codeph">int</code> or <code class="codeph">float</code>, which cannot take null values.
                              </p>
                           </li>
                           <li>
                              <p>Oracle SQLJ statement objects allow user-defined object and collection types to be passed to or retrieved from Oracle Database.</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JSQLJ710"></a><div class="props_rev_3"><a id="GUID-9A0CD688-00C7-4DBB-9F76-1727E5C291C4" name="GUID-9A0CD688-00C7-4DBB-9F76-1727E5C291C4"></a><h4 id="JSQLJ-GUID-9A0CD688-00C7-4DBB-9F76-1727E5C291C4" class="sect4">Java Compilation</h4>
                  <div>
                     <p>After code generation, SQLJ invokes the Java compiler to compile the generated <code class="codeph">.java</code> file. This produces a <code class="codeph">.class</code> file for each class you defined in your application, including iterator and connection context declarations, as well as a <code class="codeph">.class</code> file for the generated profile-keys class if you use ISO code generation (and presuming your application uses SQLJ executable statements). Any <code class="codeph">.java</code> files you specified directly on the SQLJ command line (for type-resolution, for example) are compiled at this time as well.
                     </p>
                     <p>In the example used in <span class="q">"<a href="translator-run-time-functionality.html#GUID-930ED5CD-CB40-488E-94D9-509DEB9C2A8D">Code Generation</a>"</span>, the following <code class="codeph">.class</code> files would be produced in the appropriate directory (given package information in the source code):
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">Foo.class</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">Foo_SJProfileKeys.class</code> (ISO code generation only)
                           </p>
                        </li>
                        <li>
                           <p>A <code class="codeph">.class</code> file for each additional class you defined in <code class="codeph">Foo.sqlj</code></p>
                        </li>
                        <li>
                           <p>A <code class="codeph">.class</code> file for each iterator and connection context class you declared in <code class="codeph">Foo.sqlj</code> (whether public or private)
                           </p>
                        </li>
                     </ul>
                     <p>To ensure that <code class="codeph">.class</code> files and profiles (if any, whether <code class="codeph">.ser</code> or <code class="codeph">.class</code>) will be located in the same directory, SQLJ passes its <code class="codeph">-d</code> option to the Java compiler. If the <code class="codeph">-d</code> option is not set, then <code class="codeph">.class</code> files and profiles are placed in the same directory as the generated <code class="codeph">.java</code> file, which is placed according to the <code class="codeph">-dir</code> option setting.
                     </p>
                     <p>In addition, so that SQLJ and the Java compiler will use the same encoding, SQLJ passes its <code class="codeph">-encoding</code> option to the Java compiler unless the SQLJ <code class="codeph">-compiler-encoding-flag</code> is turned off. If the <code class="codeph">-encoding</code> option is not set, then SQLJ and the compiler will use the setting in the Java virtual machine (JVM) <code class="codeph">file.encoding</code> property.
                     </p>
                     <p>By default, SQLJ invokes the standard <code class="codeph">javac</code> compiler of the Sun Microsystems Java Development Kit (JDK), but other compilers can be used instead. You can request that an alternative Java compiler be used by setting the SQLJ <code class="codeph">-compiler-executable</code> option.
                     </p>
                     <div class="infoboxnote" id="GUID-9A0CD688-00C7-4DBB-9F76-1727E5C291C4__GUID-519B5687-3A4D-4710-AAD2-91FEF1F40234">
                        <p class="notep1">Note:</p>
                        <p>If you are using the SQLJ <code class="codeph">-encoding</code> option but using a compiler that does not have an <code class="codeph">-encoding</code> option, then turn off the SQLJ <code class="codeph">-compiler-encoding-flag</code>. Otherwise, SQLJ will attempt to pass the <code class="codeph">-encoding</code> option to the compiler.
                        </p>
                     </div>
                  </div>
               </div><a id="JSQLJ711"></a><div class="props_rev_3"><a id="GUID-1C3E2732-1185-4961-BA6B-5BA97A35EA48" name="GUID-1C3E2732-1185-4961-BA6B-5BA97A35EA48"></a><h4 id="JSQLJ-GUID-1C3E2732-1185-4961-BA6B-5BA97A35EA48" class="sect4">Profile Customization (ISO Code Generation)</h4>
                  <div>
                     <div class="section">
                        <p>After Java compilation, if you are using ISO standard code generation, then the generated profiles containing information about your embedded SQL instructions are customized, so that your application can work efficiently with your database and use vendor-specific extensions.</p>
                        <div class="infoboxnote" id="GUID-1C3E2732-1185-4961-BA6B-5BA97A35EA48__GUID-C2C785A9-8906-4F52-8821-C5E67E9D6E5A">
                           <p class="notep1">Note:</p>
                           <p>If you use the default Oracle-specific code generation, then SQLJ produces no profiles and skips the customization step. Your code will support Oracle-specific features through direct calls to Oracle JDBC application programming interfaces (APIs).</p>
                        </div>
                        <p>If you want to check for the options already set on the customizer, then you can make use of the following command:</p><pre class="oac_no_warn" dir="ltr">% sqlj -P-print *.ser
</pre><p>For more information about profile print option, refer to <span class="q">"<a href="appendix.html#GUID-F5F49038-71D7-4C4C-A567-355FB0FFB99A">Specialized Customizer: Profile Print Option (print)</a>"</span>.
                        </p>
                        <p>To accomplish customization, SQLJ invokes a front end called the customizer harness, which is a Java class that functions as a command-line utility. The harness, in turn, invokes a particular customizer, either the default Oracle customizer or a customizer that you specify through SQLJ option settings.</p>
                        <p>During customization, profiles are updated in the following ways:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>To enable your application to use any vendor-specific database types or features, if applicable</p>
                           </li>
                           <li>
                              <p>To tailor the profiles so that your application is as efficient as possible in using features of the relevant database environment</p>
                           </li>
                        </ul>
                        <p>Without customization, you can access and use only standard JDBC types.</p>
                        <p>For example, Oracle customizer can update a profile to support a SQL <code class="codeph">PERSON</code> type that you had defined. You could then use <code class="codeph">PERSON</code> as you would any other supported data type.
                        </p>
                        <p>You must also customize with Oracle customizer to use any of the <code class="codeph">oracle.sql</code> type extensions. 
                        </p>
                        <div class="infoboxnote" id="GUID-1C3E2732-1185-4961-BA6B-5BA97A35EA48__GUID-7044CFBD-5675-4EB8-B9E5-45E6BF843550">
                           <p class="notep1">Note:</p>
                           <p>Be aware of the following regarding profile customization:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p> Oracle SQLJ run time and an Oracle JDBC driver will be required by your application whenever you use Oracle customizer during translation, even if you do not use Oracle extensions in your code.</p>
                              </li>
                              <li>
                                 <p>The generic SQLJ run time will be used if your application has no customizations, or none suitable for the connection.</p>
                              </li>
                              <li>
                                 <p>You can customize previously created profiles by specifying <code class="codeph">.ser</code> files, or <code class="codeph">.jar</code> files containing <code class="codeph">.ser</code> files, on the command line. But you cannot do this in the same running of SQLJ where translations are taking place. You can specify <code class="codeph">.ser</code>/<code class="codeph">.jar</code> files to be customized or <code class="codeph">.sqlj</code>/<code class="codeph">.java</code> files to be translated, compiled, and customized, but not both categories. For more information about how <code class="codeph">.jar</code> files are used, refer to <span class="q">"<a href="appendix.html#GUID-337DCFDF-48AD-495F-918B-63B86CD71039">JAR Files for Profiles</a>"</span>.
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="JSQLJ712"></a><div class="props_rev_3"><a id="GUID-AEB9AFD5-5CE3-43AA-8883-A0A03D82A43D" name="GUID-AEB9AFD5-5CE3-43AA-8883-A0A03D82A43D"></a><h3 id="JSQLJ-GUID-AEB9AFD5-5CE3-43AA-8883-A0A03D82A43D" class="sect3">Functionality of Translator Errors, Messages, and Exit Codes</h3>
               <div>
                  <p>This section provides an overview of SQLJ translator messages and exit codes. It covers the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="translator-run-time-functionality.html#GUID-FA67998B-E9A1-41C6-81F8-5F8677A6FDDD">Translator Error_ Warning_ and Information Messages</a></p>
                     </li>
                     <li>
                        <p><a href="translator-run-time-functionality.html#GUID-A1E4272B-002E-4CD9-9B19-62EDB9EB1BC3">Translator Status Messages</a></p>
                     </li>
                     <li>
                        <p><a href="translator-run-time-functionality.html#GUID-17DEEF13-D43F-490A-8A8E-067311A77771">Translator Exit Codes</a></p>
                     </li>
                  </ul>
               </div><a id="JSQLJ714"></a><a id="JSQLJ713"></a><div class="props_rev_3"><a id="GUID-FA67998B-E9A1-41C6-81F8-5F8677A6FDDD" name="GUID-FA67998B-E9A1-41C6-81F8-5F8677A6FDDD"></a><h4 id="JSQLJ-GUID-FA67998B-E9A1-41C6-81F8-5F8677A6FDDD" class="sect4">Translator Error, Warning, and Information Messages</h4>
                  <div>
                     <div class="section">
                        <p>There are three major levels of SQLJ messages that you may encounter during the translation phase: error, warning, and information. Warning messages can be further broken down into two levels: nonsuppressible and suppressible. Therefore, there are four message categories (in order of seriousness):</p>
                        <ol>
                           <li>
                              <p>Errors</p>
                           </li>
                           <li>
                              <p>Nonsuppressible warnings</p>
                           </li>
                           <li>
                              <p>Suppressible warnings</p>
                           </li>
                           <li>
                              <p>Information</p>
                           </li>
                        </ol>
                        <p>You can control suppressible warnings and information by using the SQLJ <code class="codeph">-warn</code> option.
                        </p>
                        <p>Error messages, prefixed by <code class="codeph">Error:</code>, indicate that one of the following has been encountered:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>A condition that would prevent compilation (for example, the source file contains a public class whose name does not match the base file name)</p>
                           </li>
                           <li>
                              <p>A condition that would result in a run-time error if the code were executed (for example, the code attempts to fetch a <code class="codeph">VARCHAR</code> into a <code class="codeph">java.util.Vector</code>, using an Oracle JDBC driver)
                              </p>
                           </li>
                        </ul>
                        <p>If errors are encountered during SQLJ translation, then no output is produced and compilation and customization are not executed.</p>
                        <p>Nonsuppressible warning messages, prefixed by <code class="codeph">Warning:</code>, indicate that one of the following has been encountered:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>A condition that would probably, but not necessarily, result in a run-time error if the code were executed (for example, a <code class="codeph">SELECT</code> statement whose output is not assigned to anything)
                              </p>
                           </li>
                           <li>
                              <p>A condition that compromises the ability of SQLJ to verify run-time aspects of your source code (for example, not being able to connect to the database you specify for online checking)</p>
                           </li>
                           <li>
                              <p>A condition that presumably resulted from a coding error or oversight</p>
                           </li>
                        </ul>
                        <p>SQLJ translation will complete if a nonsuppressible warning is encountered, but you should analyze the problem and determine if it should be fixed before running the application. If online checking is specified but cannot be completed, then offline checking is performed instead.</p>
                        <div class="infoboxnote" id="GUID-FA67998B-E9A1-41C6-81F8-5F8677A6FDDD__GUID-D6D26ED0-DED9-425C-BB43-40EA1C4AB949">
                           <p class="notep1">Note:</p>
                           <p>For logistical reasons, the parser that the SQLJ translator uses to analyze SQL operations is not the same top-level SQL parser that will be used at run time. Therefore, errors might occasionally be detected during translation that will not actually cause problems when your application runs. Accordingly, such errors are reported as nonsuppressible warnings, rather than fatal errors.</p>
                        </div>
                        <p>Suppressible warning messages, also prefixed by <code class="codeph">Warning:</code>, indicate that there is a problem with a particular aspect of your application, such as portability. An example of this is using an Oracle-specific type, such as <code class="codeph">oracle.sql.NUMBER</code>, to read from or write to Oracle Database 12<span class="italic">c </span>Release 1 (12.1). 
                        </p>
                        <p>Informational or status messages prefixed by <code class="codeph">Info:</code> do not indicate an error condition. They merely provide additional information about what occurred during the translation phase. 
                        </p>
                        <p>Suppressible warning and status messages can be suppressed by using the various <code class="codeph">-warn</code> option flags: 
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">cast/nocast</code>: The <code class="codeph">nocast</code> setting suppresses warnings about possible run-time errors when trying to cast an object type instance to an instance of a subtype.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">precision/noprecision</code>: The <code class="codeph">noprecision</code> setting suppresses warnings regarding possible loss of data precision during conversion.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">nulls/nonulls</code>: The <code class="codeph">nonulls</code> setting suppresses warnings about possible run-time errors due to nullable columns or types.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">portable/noportable</code>: The <code class="codeph">noportable</code> setting suppresses warnings regarding SQLJ code that uses Oracle-specific features or might otherwise be nonstandard and, therefore, not portable to other environments.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">strict/nostrict</code>: The <code class="codeph">nostrict</code> setting suppresses warnings issued if there are fewer columns in a named iterator than in the selected data that is to populate the iterator.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">verbose/noverbose</code>: The <code class="codeph">noverbose</code> setting suppresses status messages that are merely informational and do not indicate error or warning conditions.
                              </p>
                           </li>
                        </ul>
                        <p>If you receive warnings during your SQLJ translation, then you can try running the translator again with <code class="codeph">-warn=none</code> to see if any of the warnings are of the more serious (nonsuppressible) variety.
                        </p>
                        <p>The following table summarizes the categories of error and status messages generated by the SQLJ translator.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-FA67998B-E9A1-41C6-81F8-5F8677A6FDDD__CHEFFDGC">
                        <p class="titleintable">Table 10-2 SQLJ Translator Error Message Categories </p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="SQLJ Translator Error Message Categories " summary="summary" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="25%" id="d61763e1225">Message Category</th>
                                 <th align="left" valign="bottom" width="16%" id="d61763e1228">Prefix</th>
                                 <th align="left" valign="bottom" width="35%" id="d61763e1231">Indicates</th>
                                 <th align="left" valign="bottom" width="24%" id="d61763e1234">Suppressed By</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d61763e1239" headers="d61763e1225 ">
                                    <p>Error</p>
                                 </td>
                                 <td align="left" valign="top" width="16%" headers="d61763e1239 d61763e1228 ">
                                    <p><code class="codeph">Error:</code></p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d61763e1239 d61763e1231 ">
                                    <p>Fatal error that will cause compilation failure or run-time failure (translation aborted)</p>
                                 </td>
                                 <td align="left" valign="top" width="24%" headers="d61763e1239 d61763e1234 ">
                                    <p>NA</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d61763e1253" headers="d61763e1225 ">
                                    <p>Nonsuppressible warning</p>
                                 </td>
                                 <td align="left" valign="top" width="16%" headers="d61763e1253 d61763e1228 ">
                                    <p><code class="codeph">Warning</code>:
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d61763e1253 d61763e1231 ">
                                    <p>Condition that prevents proper translation or might cause run-time failure (translation completed)</p>
                                 </td>
                                 <td align="left" valign="top" width="24%" headers="d61763e1253 d61763e1234 ">
                                    <p>NA</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d61763e1268" headers="d61763e1225 ">
                                    <p>Suppressible warning</p>
                                 </td>
                                 <td align="left" valign="top" width="16%" headers="d61763e1268 d61763e1228 ">
                                    <p><code class="codeph">Warning</code>:
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d61763e1268 d61763e1231 ">
                                    <p>Problem regarding a particular aspect of your application (translation completed) </p>
                                 </td>
                                 <td align="left" valign="top" width="24%" headers="d61763e1268 d61763e1234 ">
                                    <p><code class="codeph">-warn</code> option flags: <code class="codeph">nocast noprecision nonulls noportable nostrict</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d61763e1297" headers="d61763e1225 ">
                                    <p>Informational/status message</p>
                                 </td>
                                 <td align="left" valign="top" width="16%" headers="d61763e1297 d61763e1228 ">
                                    <p><code class="codeph">Info</code>:
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d61763e1297 d61763e1231 ">
                                    <p>Information regarding the translation process</p>
                                 </td>
                                 <td align="left" valign="top" width="24%" headers="d61763e1297 d61763e1234 ">
                                    <p><code class="codeph">-warn</code> option flag: <code class="codeph">noverbose</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div><a id="JSQLJ715"></a><div class="props_rev_3"><a id="GUID-A1E4272B-002E-4CD9-9B19-62EDB9EB1BC3" name="GUID-A1E4272B-002E-4CD9-9B19-62EDB9EB1BC3"></a><h4 id="JSQLJ-GUID-A1E4272B-002E-4CD9-9B19-62EDB9EB1BC3" class="sect4">Translator Status Messages</h4>
                  <div>
                     <p>In addition to the error, warning, and information messages, SQLJ can produce status messages throughout all phases of SQLJ operation: translation, compilation, and customization. Status messages are produced as each file is processed and at each phase of SQLJ operation.</p>
                     <p>You can control status messages by using the SQLJ<code class="codeph"> -status</code> option.
                     </p>
                     <div class="infoboxnotealso" id="GUID-A1E4272B-002E-4CD9-9B19-62EDB9EB1BC3__GUID-6CF1D5CF-3D84-4F19-81E9-ACE63F93E5AD">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="translator-command-line-and-options.html#GUID-6608C203-942D-4E92-8AA5-C523516449D1__I1007388">Real-Time Status Messages (-status)</a>"</span></p>
                     </div>
                  </div>
               </div><a id="JSQLJ716"></a><div class="props_rev_3"><a id="GUID-17DEEF13-D43F-490A-8A8E-067311A77771" name="GUID-17DEEF13-D43F-490A-8A8E-067311A77771"></a><h4 id="JSQLJ-GUID-17DEEF13-D43F-490A-8A8E-067311A77771" class="sect4">Translator Exit Codes</h4>
                  <div>
                     <p>The following exit codes are returned by the SQLJ translator to the operating system upon completion:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">0</code>: No error in execution
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">1</code>: Error in SQLJ execution
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">2</code>: Error in Java compilation
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">3</code>: Error in profile customization
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">4</code>: Error in class instrumentation, the optional mapping of line numbers from your <code class="codeph">.sqlj</code> source file to the resulting <code class="codeph">.class</code> file
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">5</code>: Error in <code class="codeph">ser2class</code> conversion, the optional conversion of profile files from <code class="codeph">.ser</code> files to <code class="codeph">.class</code> files
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-17DEEF13-D43F-490A-8A8E-067311A77771__GUID-29C6215C-9F24-4380-A415-E9C3934B023D">
                        <p class="notep1">Note:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>If you issue the <code class="codeph">-help</code> or <code class="codeph">-version</code> option, then the SQLJ exit code is <code class="codeph">0</code>.
                              </p>
                           </li>
                           <li>
                              <p>If you run SQLJ without specifying any files to process, then SQLJ issues help output and returns exit code <code class="codeph">1</code>.
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div><a id="JSQLJ717"></a><div class="props_rev_3"><a id="GUID-AFF5C519-028E-4554-98E8-B8FF103515D1" name="GUID-AFF5C519-028E-4554-98E8-B8FF103515D1"></a><h3 id="JSQLJ-GUID-AFF5C519-028E-4554-98E8-B8FF103515D1" class="sect3">SQLJ Run Time</h3>
               <div>
                  <p>This section presents information about Oracle SQLJ run time, which is a thin layer of pure Java code that runs above the JDBC driver. </p>
                  <p>If you use the default Oracle-specific code generation, then the SQLJ run-time layer becomes even thinner, with a run time subset being used in conjunction with an Oracle JDBC driver. Most of the run-time functionality is compiled directly into Oracle JDBC calls. You cannot use a non-Oracle JDBC driver.</p>
                  <div class="infoboxnotealso" id="GUID-AFF5C519-028E-4554-98E8-B8FF103515D1__GUID-BE21A7F6-14D3-448A-9CBE-3939D169B8C4">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="key-programming-considerations.html#GUID-E0F0C310-400E-4F9C-8036-B44FB2A3E2FD">Oracle-Specific Code Generation (No Profiles)</a>"</span></p>
                  </div>
                  <p>When SQLJ translates SQLJ source code using ISO standard code generation, embedded SQL commands in your Java application are replaced by calls to the SQLJ run time. Run-time classes act as wrappers for equivalent JDBC classes, providing special SQLJ functionality. When the end user runs the application, the SQLJ run time acts as an intermediary, reading information about your SQL operations from your profile and passing instructions along to the JDBC driver.</p>
                  <p>Generally speaking, however, a SQLJ run time can be implemented to use any JDBC driver or vendor-proprietary means of accessing the database. Oracle SQLJ run time requires a JDBC driver, but can use any standard JDBC driver. To use Oracle-specific data types and features, however, you must use an Oracle JDBC driver. For the purposes of this document, it is generally assumed that you are using Oracle Database and one of Oracle JDBC drivers.</p>
                  <div class="infoboxnote" id="GUID-AFF5C519-028E-4554-98E8-B8FF103515D1__GUID-4EAC28BE-FE04-4F1E-9FDD-FCE0556B495D">
                     <p class="notep1">Note:</p>
                     <p>For ISO standard SQLJ code generation, Oracle SQLJ run time and an Oracle JDBC driver will be required by your application whenever you use Oracle customizer during translation, even if you do not use Oracle extensions in your code. The generic SQLJ run time will be used if your application has no customizations, or none suitable for the connection.</p>
                  </div>
               </div><a id="JSQLJ719"></a><a id="JSQLJ720"></a><a id="JSQLJ718"></a><div class="props_rev_3"><a id="GUID-7B13542C-1664-40CC-882A-C44361F817F0" name="GUID-7B13542C-1664-40CC-882A-C44361F817F0"></a><h4 id="JSQLJ-GUID-7B13542C-1664-40CC-882A-C44361F817F0" class="sect4">SQLJ Run Time Packages</h4>
                  <div>
                     <p> Oracle SQLJ run time includes packages you will likely import and use directly, and others that are used only indirectly. </p>
                     <div class="infoboxnote" id="GUID-7B13542C-1664-40CC-882A-C44361F817F0__GUID-3D1FF1CA-E3FE-4CFA-B7FC-89D8CE366AEA">
                        <p class="notep1">Note:</p>
                        <p>These packages are included in the run-time libraries <code class="codeph">runtime12</code>, <code class="codeph">runtime12ee</code>, and <code class="codeph">runtime</code>.
                        </p>
                     </div>
                     <div class="section">
                        <p class="subhead3" id="GUID-7B13542C-1664-40CC-882A-C44361F817F0__GUID-A2D72335-C3EF-42A9-A922-CB3F495EA780">Packages Used Directly</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The packages containing classes that you can import and use directly in your application are:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">sqlj.runtime</code></p>
                              <p>This package includes the <code class="codeph">ExecutionContext</code> class, <code class="codeph">ConnectionContext</code> interface, <code class="codeph">ConnectionContextFactory</code> interface, <code class="codeph">ResultSetIterator</code> interface, <code class="codeph">ScrollableResultSetIterator</code> interface, and wrapper classes for streams (<code class="codeph">BinaryStream</code> and <code class="codeph">CharacterStream</code>, as well as the deprecated <code class="codeph">AsciiStream</code> and <code class="codeph">UnicodeStream</code>).
                              </p>
                              <p>Interfaces and abstract classes in this package are implemented by classes in the <code class="codeph">sqlj.runtime.ref</code> or <code class="codeph">oracle.sqlj.runtime</code> package or by classes generated by the SQLJ translator.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">sqlj.runtime.ref</code></p>
                              <p>The classes in this package implement interfaces and abstract classes in the <code class="codeph">sqlj.runtime</code> package. You will likely use the <code class="codeph">sqlj.runtime.ref.DefaultContext</code> class, which is used to specify your default connection and create default connection context instances. The other classes in this package are used internally by SQLJ in defining classes during code generation, such as iterator classes and connection context classes that you declare in your SQLJ code.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">oracle.sqlj.runtime</code></p>
                              <p>This package contains the <code class="codeph">Oracle</code> class that you can use to instantiate the <code class="codeph">DefaultContext</code> class and establish your default connection. It also contains Oracle-specific run-time classes used by the Oracle implementation of SQLJ, including functionality to convert to and from Oracle type extensions.
                              </p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-7B13542C-1664-40CC-882A-C44361F817F0__GUID-C92F0F02-A7A6-4653-9414-ED4A6CB1DD25">
                           <p class="notep1">Note:</p>
                           <p>Packages whose names begin with <code class="codeph">oracle</code> are for Oracle-specific SQLJ features.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7B13542C-1664-40CC-882A-C44361F817F0__GUID-03F3C57E-F7AB-47A9-B606-07F9FA65EC82">Packages Used Indirectly</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The packages containing classes that are for internal use by SQLJ are:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">sqlj.runtime.profile</code></p>
                              <p>This package contains interfaces and abstract classes that define what SQLJ profiles look like (applicable only for ISO standard code generation). This includes the <code class="codeph">EntryInfo</code> and <code class="codeph">TypeInfo</code> classes. Each entry in a profile is described by an <code class="codeph">EntryInfo</code> object, where a profile entry corresponds to a SQL operation in your application. Each parameter in a profile entry is described by a <code class="codeph">TypeInfo</code> object.
                              </p>
                              <p>The interfaces and classes in this package are implemented by classes in the <code class="codeph">sqlj.runtime.profile.ref</code> package.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">sqlj.runtime.profile.ref</code></p>
                              <p>This package contains classes that implement the interfaces and abstract classes of the <code class="codeph">sqlj.runtime.profile</code> package and are used internally by the SQLJ translator in defining profiles (for ISO standard code generation only). It also provides the default JDBC-based run-time implementation.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">sqlj.runtime.error</code></p>
                              <p>This package, used internally by SQLJ, contains resource files for all generic (not Oracle-specific) error messages that can be generated by the SQLJ translator.</p>
                           </li>
                           <li>
                              <p><code class="codeph">oracle.sqlj.runtime.error</code></p>
                              <p>This package, used internally by SQLJ, contains resource files for all Oracle-specific error messages that can be generated by the SQLJ translator.</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JSQLJ721"></a><div class="props_rev_3"><a id="GUID-6967B6B3-C5EC-4894-803A-31FBA18A3A6B" name="GUID-6967B6B3-C5EC-4894-803A-31FBA18A3A6B"></a><h4 id="JSQLJ-GUID-6967B6B3-C5EC-4894-803A-31FBA18A3A6B" class="sect4">Categories of Run-Time Errors</h4>
                  <div>
                     <p>Run-time errors can be generated by any of the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>SQLJ run time</p>
                        </li>
                        <li>
                           <p>JDBC driver</p>
                        </li>
                        <li>
                           <p>RDBMS</p>
                        </li>
                     </ul>
                     <p>In any of these cases, a SQL exception is generated as an instance of the <code class="codeph">java.sql.SQLException</code> class, or as a subclass, such as <code class="codeph">sqlj.runtime.SQLNullException</code>.
                     </p>
                     <p>Depending on where the error came from, there might be meaningful information you can retrieve from an exception using the <code class="codeph">getSQLState()</code>, <code class="codeph">getErrorCode()</code>, and <code class="codeph">getMessage()</code> methods. SQLJ errors, for example, include meaningful SQL states and messages.
                     </p>
                     <p>If errors are generated by Oracle JDBC driver or RDBMS at run time, look at the prefix and consult the appropriate documentation: </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../jjdbc/JDBC-error-messages.html#JJDBC-GUID-F3E50939-FCB2-4254-9B33-43024A0BD6F5" target="_blank"><span class="italic">Oracle Database JDBC Developer's Guide </span></a>for JDBC errors
                           </p>
                        </li>
                        <li>
                           <p>Oracle error message documentation for RDBMS errors (see <span class="q">"<a href="preface.html#GUID-77D8845E-2F3A-4BF8-9501-561D66752F1B">Related Documents</a>"</span>)
                           </p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="JSQLJ722"></a><div class="sect2"><a id="GUID-50785BF7-712B-4BFC-BE22-0E86B626BBA6" name="GUID-50785BF7-712B-4BFC-BE22-0E86B626BBA6"></a><h3 id="JSQLJ-GUID-50785BF7-712B-4BFC-BE22-0E86B626BBA6" class="sect3">Globalization Support in the Translator and Run Time</h3>
               <div>
                  <p>The Oracle SQLJ implementation uses the Java built-in capabilities for globalization support. This section discusses the following:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Basics of SQLJ support for globalization and native character encoding, starting with background information covering some of the implementation details of character encoding and language support in the Oracle implementation</p>
                     </li>
                     <li>
                        <p>Options available through the SQLJ command line that enable you to adjust your Oracle Globalization Support configuration</p>
                     </li>
                     <li>
                        <p>Extended Oracle globalization support</p>
                     </li>
                     <li>
                        <p>Relevant manipulation outside of SQLJ for globalization support</p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-50785BF7-712B-4BFC-BE22-0E86B626BBA6__GUID-492C0B3C-7073-4B40-97A9-B04BE1CF98CE">
                     <p class="notep1">Note:</p>
                     <p>Some prior knowledge of Oracle Globalization Support is assumed, particularly regarding character encoding and locales. For information, refer to: </p><a href="../nlspg/choosing-character-set.html#NLSPG-GUID-1943C2FB-0438-45AD-A82B-D4090A3F4A94" target="_blank"><span><cite>Oracle Database Globalization Support Guide</cite></span></a></div>
                  <p>This section covers the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="translator-run-time-functionality.html#GUID-6AC46A6E-C8DD-4BD2-908E-76FAB9BA2027">Character Encoding and Language Support</a></p>
                     </li>
                     <li>
                        <p><a href="translator-run-time-functionality.html#GUID-7C321BCC-133C-44AB-BEE0-02B418720E95">SQLJ and Java Settings for Character Encoding and Language Support</a></p>
                     </li>
                     <li>
                        <p><a href="translator-run-time-functionality.html#GUID-F5BA9A5C-E700-48F6-BEDC-0164574C0077">SQLJ Extended Globalization Support</a></p>
                     </li>
                     <li>
                        <p><a href="translator-run-time-functionality.html#GUID-6E2C17A1-CEE6-4BE7-B7AA-6EE2A9FC3BC3">Manipulation Outside of SQLJ for Globalization Support</a></p>
                     </li>
                  </ul>
               </div><a id="JSQLJ724"></a><a id="JSQLJ725"></a><a id="JSQLJ726"></a><a id="JSQLJ723"></a><div class="props_rev_3"><a id="GUID-6AC46A6E-C8DD-4BD2-908E-76FAB9BA2027" name="GUID-6AC46A6E-C8DD-4BD2-908E-76FAB9BA2027"></a><h4 id="JSQLJ-GUID-6AC46A6E-C8DD-4BD2-908E-76FAB9BA2027" class="sect4">Character Encoding and Language Support</h4>
                  <div>
                     <p>There are two main areas of SQLJ globalization support:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Character encoding</p>
                           <p>There are three parts to this:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Character encoding for reading and generating source files during SQLJ translation</p>
                              </li>
                              <li>
                                 <p>Character encoding for generating error and status messages during SQLJ translation</p>
                              </li>
                              <li>
                                 <p>Character encoding for generating error and status messages when the application runs</p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>Language support</p>
                           <p>This determines which translations of error and status message lists are used when SQLJ outputs messages to the user, either during SQLJ translation or at SQLJ run time.</p>
                        </li>
                     </ul>
                     <p>Globalization support at run time is transparent to the user, presuming your SQLJ source code and SQL character data use only characters that are within the database character set. SQL character data is transparently mapped into and out of Unicode.</p>
                     <p>Note that for multi-language applications, it is advisable to use one of the following options:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Use a database whose character set supports Unicode.</p>
                        </li>
                        <li>
                           <p>Even if your database character set does not support Unicode, specify that the national language character set supports Unicode. (Refer to the <a href="../nlspg/overview-of-globalization-support.html#NLSPG-GUID-4530259E-9CA6-4FC3-A024-3EB6C2D90DAE" target="_blank"><span><cite>Oracle Database Globalization Support Guide</cite></span></a>.) In this case, you will typically use the SQLJ Unicode character types described in <span class="q">"<a href="translator-run-time-functionality.html#GUID-F5BA9A5C-E700-48F6-BEDC-0164574C0077">SQLJ Extended Globalization Support</a>"</span>. 
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-6AC46A6E-C8DD-4BD2-908E-76FAB9BA2027__GUID-65C74012-F53D-48E2-B2AE-D5AE254932B4">
                        <p class="notep1">Note:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The SQLJ translator fully supports Unicode 2.0 and Java Unicode escape sequences. However, the SQLJ command-line utility does not support Unicode escape sequences. You can use only native characters supported by the operating system. Command-line options requiring Unicode escape sequences can be entered in a SQLJ properties file instead, because properties files do support Unicode escape sequences.</p>
                           </li>
                           <li>
                              <p>Encoding and conversion of characters in your embedded SQL operations and characters read or written to the database, are handled by JDBC directly. SQLJ does not play a role in this. If online semantics-checking is enabled during translation, however, then you will be warned if there are characters within the text of your SQL data manipulation language (DML) operations that might not be convertible to the database character set.</p>
                           </li>
                           <li>
                              <p>For information about JDBC globalization support functionality, refer to the<a href="../jjdbc/globalization-support.html#JJDBC-GUID-CE02B998-DD6A-46FC-8ECF-AD2413F09A97" target="_blank"><span class="italic"> Oracle Database JDBC Developer's Guide</span><span><cite>Oracle Database JDBC Developer’s Guide</cite></span></a>.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="section">
                        <p class="subhead3" id="GUID-6AC46A6E-C8DD-4BD2-908E-76FAB9BA2027__GUID-102F5957-EA23-409B-A409-CBDB384F4D19">Overview of Character Encoding</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>The character encoding setting for source files tells SQLJ two things:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>How source code is represented in <code class="codeph">.sqlj</code> and <code class="codeph">.java</code> input files that the SQLJ translator must read
                              </p>
                           </li>
                           <li>
                              <p>How SQLJ should represent source code in <code class="codeph">.java</code> output files that it generates
                              </p>
                           </li>
                        </ul>
                        <p>By default, SQLJ uses the encoding indicated by the JVM <code class="codeph">file.encoding</code> property. If your source files use other encodings, then you must indicate this to SQLJ so that appropriate conversion can be performed.
                        </p>
                        <p>Use the SQLJ <code class="codeph">-encoding</code> option to accomplish this. SQLJ also passes the <code class="codeph">-encoding</code> setting to the compiler for it to use in reading <code class="codeph">.java</code> files, unless the SQLJ <code class="codeph">-compiler-encoding-flag</code> is off.
                        </p>
                        <div class="infoboxnote" id="GUID-6AC46A6E-C8DD-4BD2-908E-76FAB9BA2027__GUID-FE482270-838A-4B55-8DDC-5981880D5C9A">
                           <p class="notep1">Note:</p>
                           <p>Do not alter the <code class="codeph">file.encoding</code> system property to specify encodings for source files. This might impact other aspects of your Java operation and might offer only a limited number of encodings, depending on platform or operating system considerations.
                           </p>
                        </div>
                        <p>The system character-encoding setting also determines how SQLJ error and status messages are represented when output to the user, either during translation or during run time when the end user is running the application. This is set according to the <code class="codeph">file.encoding</code> property and is unaffected by the SQLJ <code class="codeph">-encoding</code> option.
                        </p>
                        <p>For source file encoding, you can use the <code class="codeph">-encoding</code> option to specify any character encoding supported by your Java environment. If you are using the Sun Microsystems JDK, then these are listed in the <code class="codeph">native2ascii</code> documentation, which you can find at the following Web site:
                        </p>
                        <p>https://docs.oracle.com/javase/8/docs/technotes/tools/windows/native2ascii.html</p>
                        <p>Dozens of encodings are supported by the Sun Microsystems JDK. These include <code class="codeph">8859_1</code> through <code class="codeph">8859_9</code> (ISO Latin-1 through ISO Latin-9), <code class="codeph">JIS</code> (Japanese), <code class="codeph">SJIS</code> (shift-JIS, Japanese), and <code class="codeph">UTF8</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6AC46A6E-C8DD-4BD2-908E-76FAB9BA2027__GUID-029CAE8C-7E24-42D7-BD90-63C57C273B92">Character Encoding Notes</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>Be aware of the following:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>A character that is not representable in the encoding used, for either messages or source files, can always be represented as a Java Unicode escape sequence. This is of the form <code class="codeph">\uHHHH</code>, where each H is a hexadecimal digit.
                              </p>
                           </li>
                           <li>
                              <p>As a <code class="codeph">.sqlj</code> source file is read and processed during translation, error messages quote source locations based on character position (not byte position) in the input encoding.
                              </p>
                           </li>
                           <li>
                              <p>Encoding settings, either set through the SQLJ <code class="codeph">-encoding</code> option or the Java <code class="codeph">file.encoding</code> setting, do not apply to Java properties files, such as <code class="codeph">sqlj.properties</code> and <code class="codeph">connect.properties</code>. Properties files always use the encoding <code class="codeph">8859_1</code>. This is a feature of Java in general, not SQLJ in particular. However, you can use Unicode escape sequences in a properties file. You can use the <code class="codeph">native2ascii</code> utility to determine escape sequences.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6AC46A6E-C8DD-4BD2-908E-76FAB9BA2027__GUID-102D475A-333F-428C-B2C8-C5412CD91BBB">Overview of Language Support</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>SQLJ error and status reporting, either during translation or during run time, uses the Java locale setting in the JVM <code class="codeph">user.language</code> property. Users typically do not have to alter this setting.
                        </p>
                        <p>Language support is implemented through message resources that use key/value pairs. For example, where an English-language resource has a key/value pair of <code class="codeph">"OkKey", "Okay"</code>, a German-language resource has a key/value pair of <code class="codeph">"OkKey", "Gut"</code>. The locale setting determines the message resources used.
                        </p>
                        <p>SQLJ supports locale settings of <code class="codeph">en</code> (English), <code class="codeph">de</code> (German), <code class="codeph">fr</code> (French), and <code class="codeph">ja</code> (Japanese).
                        </p>
                        <div class="infoboxnote" id="GUID-6AC46A6E-C8DD-4BD2-908E-76FAB9BA2027__GUID-0E66AB31-70FE-43CA-AA4D-2021374A40E4">
                           <p class="notep1">Note:</p>
                           <p>Java locale settings can support country and variant extensions in addition to language extensions. For example, consider <code class="codeph">ErrorMessages_de_CH_var1</code>, where <code class="codeph">CH</code> is the Swiss country extension of German and <code class="codeph">var1</code> is an additional variant. SQLJ, however, currently supports only language extensions (<code class="codeph">de</code> in this example), ignoring country and variant extensions.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JSQLJ728"></a><a id="JSQLJ729"></a><a id="JSQLJ730"></a><a id="JSQLJ727"></a><div class="sect3"><a id="GUID-7C321BCC-133C-44AB-BEE0-02B418720E95" name="GUID-7C321BCC-133C-44AB-BEE0-02B418720E95"></a><h4 id="JSQLJ-GUID-7C321BCC-133C-44AB-BEE0-02B418720E95" class="sect4">SQLJ and Java Settings for Character Encoding and Language Support</h4>
                  <div>
                     <p>The Oracle SQLJ implementation provides syntax that enables you to set the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The character encoding used by the SQLJ translator and Java compiler in representing source code</p>
                           <p>Use the SQLJ <code class="codeph">-encoding</code> option.
                           </p>
                        </li>
                        <li>
                           <p>The character encoding used by the SQLJ translator and run time in representing error and status messages</p>
                           <p>Use the SQLJ <code class="codeph">-J</code> prefix to set the Java <code class="codeph">file.encoding</code> property.
                           </p>
                        </li>
                        <li>
                           <p>The locale used by the SQLJ translator and run time for error and status messages</p>
                           <p>Use the SQLJ <code class="codeph">-J</code> prefix to set the Java <code class="codeph">user.language</code> property.
                           </p>
                        </li>
                     </ul>
                     <div class="section">
                        <p class="subhead3" id="GUID-7C321BCC-133C-44AB-BEE0-02B418720E95__GUID-083A5F6D-FE73-4173-BF42-BBAF7A20A49B">Setting Character Encoding for Source Code</p>
                     </div>
                     <!-- class="section" -->
                     <p>Use the SQLJ <code class="codeph">-encoding</code> option to determine the character encoding used in representing <code class="codeph">.sqlj</code> files read by the translator, <code class="codeph">.java</code> files generated by the translator, and <code class="codeph">.java</code> files read by the compiler. The option setting is passed by SQLJ to the compiler, unless the SQLJ <code class="codeph">-compiler-encoding-flag</code> is off.
                     </p>
                     <p>This option can be set on the command line or <code class="codeph">SQLJ_OPTIONS</code> environment variable, as in the following example:
                     </p><pre class="oac_no_warn" dir="ltr">-encoding=SJIS
</pre><p>Alternatively, you can set it in a SQLJ properties file, as follows:</p><pre class="oac_no_warn" dir="ltr">sqlj.encoding=SJIS
</pre><p>If the encoding option is not set, then both the translator and compiler will use the encoding specified in the JVM <code class="codeph">file.encoding</code> property. This can also be set through the SQLJ command line.
                     </p>
                     <div class="infoboxnotealso" id="GUID-7C321BCC-133C-44AB-BEE0-02B418720E95__GUID-A96C4CEA-17D8-4D6A-8033-5DCC853F1CA4">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="translator-command-line-and-options.html#GUID-93FF52FC-8C29-488C-B82D-FFA8A6C5A03B">Encoding for Input and Output Source Files (-encoding)</a>"</span> and <span class="q">"<a href="translator-command-line-and-options.html#GUID-A0033E23-525B-4538-80FE-4BA1641EB245">Compiler Encoding Support (-compiler-encoding-flag)</a>"</span><a href="translator-command-line-and-options.html#GUID-93FF52FC-8C29-488C-B82D-FFA8A6C5A03B">Encoding for Input and Output Source Files (-encoding)</a></p>
                     </div>
                     <div class="infoboxnote" id="GUID-7C321BCC-133C-44AB-BEE0-02B418720E95__GUID-1948CD1C-346B-49C0-B0CF-458C5F80CDA3">
                        <p class="notep1">Note:</p>
                        <p>If your <code class="codeph">-encoding</code> is to be set routinely to the same value, then it is most convenient to specify it in a properties file, as in the second example.
                        </p>
                     </div>
                     <div class="section">
                        <p class="subhead3" id="GUID-7C321BCC-133C-44AB-BEE0-02B418720E95__GUID-4738A92C-0A71-41EB-8C71-360AE15C0803">Setting Character Encoding and Locale for SQLJ Messages</p>
                     </div>
                     <!-- class="section" -->
                     <p>Character encoding and locale for SQLJ error and status messages produced, during both translation and run time, are determined by the Java <code class="codeph">file.encoding</code> and <code class="codeph">user.language</code> properties. Although it is typically not necessary, you can set these and other JVM properties in the SQLJ command line by using the SQLJ <code class="codeph">-J</code> prefix. Options marked by this prefix are passed to the JVM.
                     </p>
                     <p>Set the character encoding as in the following example, which specifies shift-JIS Japanese character encoding:</p><pre class="oac_no_warn" dir="ltr">-J-Dfile.encoding=SJIS
</pre><div class="infoboxnote" id="GUID-7C321BCC-133C-44AB-BEE0-02B418720E95__GUID-5C986A56-69B9-4088-9F84-315075C821FB">
                        <p class="notep1">Note:</p>
                        <p>Only a limited number of encodings might be available, depending on platform or operating system considerations.</p>
                     </div>
                     <p>Set the locale as in the following example (which specifies Japanese locale):</p><pre class="oac_no_warn" dir="ltr">-J-Duser.language=ja
</pre><p>The <code class="codeph">-J</code> prefix can be used on the command line or <code class="codeph">SQLJ_OPTIONS</code> environment variable only. It cannot be used in a properties file, because properties files are read after the JVM is invoked.
                     </p>
                     <div class="infoboxnote" id="GUID-7C321BCC-133C-44AB-BEE0-02B418720E95__GUID-9EC673A6-05E7-49D4-BDEF-C0920C27EAFC">
                        <p class="notep1">Note:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>If your <code class="codeph">file.encoding</code>, <code class="codeph">user.language</code>, or any other Java property is to be set routinely to the same value, it is most convenient to specify <code class="codeph">-J</code> settings in the <code class="codeph">SQLJ_OPTIONS</code> environment variable. This way, you do not have to repeatedly specify them on the command line. The syntax is essentially the same as on the command line. For more information, refer to <span class="q">"<a href="translator-command-line-and-options.html#GUID-599F34B4-58F0-45FD-ACCF-F2AA34508546">SQLJ_OPTIONS Environment Variable for Option Settings</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>Remember that if you do not set the SQLJ <code class="codeph">-encoding</code> option, then setting <code class="codeph">file.encoding</code> will affect encoding for source files as well as error and status messages.
                              </p>
                           </li>
                           <li>
                              <p>Be aware that altering the <code class="codeph">file.encoding</code> property might have unforeseen consequences on other aspects of your Java operations. Also, any new setting must be compatible with your operating system.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="infoboxnotealso" id="GUID-7C321BCC-133C-44AB-BEE0-02B418720E95__GUID-328B9DEE-83B9-4A3E-A12E-50B7EBCE837A">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="translator-command-line-and-options.html#GUID-763B9DED-7755-408F-9DD1-5679118979B2">Command-Line Syntax and Operations</a>"</span> and <span class="q">"<a href="translator-command-line-and-options.html#GUID-A54F8576-478C-4A96-9B9E-EA8778FD91B0">Options to Pass to the Java Virtual Machine</a>"</span></p>
                     </div>
                     <div class="section">
                        <p class="subhead3" id="GUID-7C321BCC-133C-44AB-BEE0-02B418720E95__GUID-B3113754-5A5F-40F8-A393-CA400940F270">SQLJ Command-Line Example: Setting Encoding and Locale</p>
                     </div>
                     <!-- class="section" -->
                     <p>Following is a complete SQLJ command line, including JVM <code class="codeph">file.encoding</code> and <code class="codeph">user.language</code> settings:
                     </p><pre class="oac_no_warn" dir="ltr">% sqlj -encoding=8859_1 -J-Dfile.encoding=SJIS -J-Duser.language=ja Foo.sqlj
</pre><p>This example uses the SQLJ <code class="codeph">-encoding</code> option to specify <code class="codeph">8859_1</code> (Latin-1) for source code representation during SQLJ translation. This encoding is used by the translator in reading the <code class="codeph">.sqlj</code> input file and in generating the <code class="codeph">.java</code> output file. The encoding is then passed to the Java compiler to be used in reading the generated <code class="codeph">.java</code> file. The <code class="codeph">-encoding</code> option, when specified, is always passed to the Java compiler unless the SQLJ <code class="codeph">-compiler-encoding-flag</code> is disabled.
                     </p>
                     <p>For error and status messages output during translation of <code class="codeph">Foo.sqlj</code>, the SQLJ translator uses the <code class="codeph">SJIS</code> encoding and the <code class="codeph">ja</code> locale.
                     </p>
                  </div>
               </div><a id="JSQLJ732"></a><a id="JSQLJ733"></a><a id="JSQLJ734"></a><a id="JSQLJ735"></a><a id="JSQLJ731"></a><div class="sect3"><a id="GUID-F5BA9A5C-E700-48F6-BEDC-0164574C0077" name="GUID-F5BA9A5C-E700-48F6-BEDC-0164574C0077"></a><h4 id="JSQLJ-GUID-F5BA9A5C-E700-48F6-BEDC-0164574C0077" class="sect4">SQLJ Extended Globalization Support</h4>
                  <div>
                     <p>The Oracle SQLJ implementation includes support for Java types (Unicode character types) derived from existing character and stream types that convey expected usage for globalization. In SQLJ it is not possible to use JDBC statement or result set methods directly that otherwise serve the purpose of globalization support. If you are interested in information about those methods, refer to the<a href="../jjdbc/globalization-support.html#JJDBC-GUID-CE02B998-DD6A-46FC-8ECF-AD2413F09A97" target="_blank"><span class="italic"> Oracle Database JDBC Developer's Guide</span></a></p>
                     <p>If the database natively supports Unicode, then the types described in the following section are unnecessary. In this case, globalization support will be handled transparently. It is when the database does not natively support Unicode, but has a national language character set that does support Unicode, that you will typically use these types (for columns that use the national language character set).</p>
                     <div class="section" id="GUID-F5BA9A5C-E700-48F6-BEDC-0164574C0077__CHEBDEFG">
                        <p class="subhead3" id="GUID-F5BA9A5C-E700-48F6-BEDC-0164574C0077__GUID-07468B05-0A0D-4AA6-B59D-D359315FC6A6">Java Types for Globalization Support</p>
                     </div>
                     <!-- class="section" -->
                     <p>The Oracle SQLJ implementation provides a number of Java types for globalization support. The following table notes the correspondence between these globalization support types and general-use JDBC and SQLJ character and stream types. Each globalization support type, except for <code class="codeph">NString</code>, is a subclass of its corresponding JDBC or SQLJ type.
                     </p>
                     <div class="tblformal" id="GUID-F5BA9A5C-E700-48F6-BEDC-0164574C0077__CHEBEAGE">
                        <p class="titleintable">Table 10-3 JDBC and SQLJ Types and Corresponding Globalization Types </p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="JDBC and SQLJ Types and Corresponding Globalization Types " summary="This table describes the JDBC and SQLJ Types and the corresponding Globalization Types." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="43%" id="d61763e2473">JDBC and SQLJ Types</th>
                                 <th align="left" valign="bottom" width="57%" id="d61763e2476">Globalization Support Types</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="43%" id="d61763e2486" headers="d61763e2473 ">
                                    <p><span class="bold">JDBC types:</span></p>
                                 </td>
                                 <td align="left" valign="top" width="57%" headers="d61763e2486 d61763e2476 ">
                                    <p>&nbsp;</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="43%" id="d61763e2494" headers="d61763e2473 ">
                                    <p><code class="codeph">oracle.sql.CHAR</code></p>
                                 </td>
                                 <td align="left" valign="top" width="57%" headers="d61763e2494 d61763e2476 ">
                                    <p><code class="codeph">oracle.sql.NCHAR</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="43%" id="d61763e2503" headers="d61763e2473 ">
                                    <p><code class="codeph">java.lang.String</code></p>
                                 </td>
                                 <td align="left" valign="top" width="57%" headers="d61763e2503 d61763e2476 ">
                                    <p><code class="codeph">oracle.sql.NString</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="43%" id="d61763e2512" headers="d61763e2473 ">
                                    <p><code class="codeph">oracle.sql.CLOB</code></p>
                                 </td>
                                 <td align="left" valign="top" width="57%" headers="d61763e2512 d61763e2476 ">
                                    <p><code class="codeph">oracle.sql.NCLOB</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="43%" id="d61763e2521" headers="d61763e2473 ">
                                    <p><span class="bold">SQLJ types:</span></p>
                                 </td>
                                 <td align="left" valign="top" width="57%" headers="d61763e2521 d61763e2476 ">
                                    <p>&nbsp;</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="43%" id="d61763e2529" headers="d61763e2473 ">
                                    <p><code class="codeph">sqlj.runtime.CharacterStream</code></p>
                                 </td>
                                 <td align="left" valign="top" width="57%" headers="d61763e2529 d61763e2476 ">
                                    <p><code class="codeph">oracle.sqlj.runtime.NcharCharacterStream</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="43%" id="d61763e2538" headers="d61763e2473 ">
                                    <p><code class="codeph">sqlj.runtime.AsciiStream</code></p>
                                    <p>(Deprecated; use <code class="codeph">CharacterStream</code>.)
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="57%" headers="d61763e2538 d61763e2476 ">
                                    <p><code class="codeph">oracle.sqlj.runtime.NcharAsciiStream</code></p>
                                    <p>(Deprecated; use <code class="codeph">NcharCharacterStream</code>.)
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="43%" id="d61763e2557" headers="d61763e2473 ">
                                    <p><code class="codeph">sqlj.runtime.UnicodeStream</code></p>
                                    <p>(Deprecated; use <code class="codeph">CharacterStream</code>.)
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="57%" headers="d61763e2557 d61763e2476 ">
                                    <p><code class="codeph">oracle.sqlj.runtime.NcharUnicodeStream</code></p>
                                    <p>(Deprecated; use <code class="codeph">NcharCharacterStream</code>.)
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>In situations where your application must handle national language character strings, either inserting them into or selecting them from national language character set columns, use the globalization support types instead of the corresponding general-use types.</p>
                     <div class="infoboxnote" id="GUID-F5BA9A5C-E700-48F6-BEDC-0164574C0077__GUID-73297022-6B89-4B71-AC27-C6B69D644137">
                        <p class="notep1">Note:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>All globalization support types add automatic registration of intended usage for <code class="codeph">IN</code> and <code class="codeph">OUT</code> parameters, but are otherwise identical in usage to the corresponding JDBC or SQLJ type (including constructors).
                              </p>
                           </li>
                           <li>
                              <p>Use of globalization support types is unnecessary in iterator columns, because the underlying network protocol supports national language characters implicitly for the underlying result sets.</p>
                           </li>
                        </ul>
                     </div>
                     <div class="section">
                        <p class="subhead3" id="GUID-F5BA9A5C-E700-48F6-BEDC-0164574C0077__GUID-03FECBDD-202E-473C-9898-8BD6399E2F71">NString Class Usage and Notes</p>
                     </div>
                     <!-- class="section" -->
                     <p>The <code class="codeph">oracle.sql.CHAR</code> class, and therefore its <code class="codeph">NCHAR</code> subclass, provides only constructors that require explicit knowledge of the database character set. Therefore, the <code class="codeph">oracle.sql.NString</code> class, a wrapper for <code class="codeph">java.lang.String</code>, is preferable in most circumstances. The <code class="codeph">NString</code> class provides simpler constructors and ensures that the national language character form of use is registered with the JDBC driver.
                     </p>
                     <p>Following are the key <code class="codeph">NString</code> methods:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">NString(String)</code>: This constructor creates an <code class="codeph">NString</code> instance from an existing <code class="codeph">String</code> instance.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">String toString()</code>: This method returns the underlying <code class="codeph">String</code> instance.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">String getString()</code>: This method also returns the underlying <code class="codeph">String</code> instance.
                           </p>
                        </li>
                     </ul>
                     <p>The <code class="codeph">toString()</code> method enables you to use the <code class="codeph">NString</code> instance in string concatenation expressions (such as <code class="codeph">"a"+b</code>, where <code class="codeph">b</code> is a string). The <code class="codeph">getString()</code> method, provided in the <code class="codeph">CHAR</code> superclass, is supported as well for uniformity. In addition, the member methods of the <code class="codeph">String</code> class are carried over to the <code class="codeph">NString</code> wrapper class to enable you to write more concise code.
                     </p>
                     <p>In SQLJ applications, for versions prior to Oracle Database 11<span class="italic">g</span>, you must use host variables of the <code class="codeph">NString</code> type to bind columns of the <code class="codeph">NCHAR</code> type. For example, consider the following table:
                     </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE Tbl1 (
       ColA  CHAR
       NColB NCHAR
)
</pre><p>To insert a row in this table through a SQLJ application, use a code similar to the following:</p><pre class="oac_no_warn" dir="ltr">...
String v_a = "\uFF5E";
NString v_nb = "\uFF5E";
#sql {INSERT INTO Tbl1 (ColA, NColB) VALUES (:v_a, :v_nb)};
...
</pre><p>Since Oracle Database 11<span class="italic">g</span> Release 1, SQLJ applications can use <code class="codeph">String</code> variables to bind <code class="codeph">NCHAR</code> columns. Therefore, the preceding example can be rewritten as follows:
                     </p><pre class="oac_no_warn" dir="ltr">...
String v_a = "\uFF5E";
String v_nb = "\uFF5E";
#sql {INSERT INTO Tbl1 (ColA, NColB) VALUES (:v_a, :v_nb)};
...
</pre><p>However, if you want to use <code class="codeph">String</code> host variable to bind to <code class="codeph">NCHAR</code> columns, then you must translate the SQLJ file with the <code class="codeph">-ncharconv</code> SQLJ translator option, as follows:
                     </p><pre class="oac_no_warn" dir="ltr">sqlj -ncharconv [-<span class="italic">options</span>] app.sqlj
</pre><p>In the preceding command, <span class="italic"><code class="codeph">options</code></span> can be other SQLJ options and <code class="codeph">app.sqlj</code> is the SQLJ file that contains the code.
                     </p>
                     <p>When this option is used, the <a id="d61763e2729" class="indexterm-anchor"></a><code class="codeph">setFormOfUse</code> method will be generated for all binds to character columns, that is, <code class="codeph">CHAR</code> or <code class="codeph">NCHAR</code> columns.
                     </p>
                     <div class="infoboxnote" id="GUID-F5BA9A5C-E700-48F6-BEDC-0164574C0077__GUID-8BF3E3E9-0693-4800-B491-1F7307006EFE">
                        <p class="notep1">Note:</p>
                        <p>When the SQLJ file is compiled with the <code class="codeph">-ncharconv</code> option, the <code class="codeph">setFormOfUse</code> method is used in the generated code for <code class="codeph">codegen=oracle</code>. For <code class="codeph">codegen=iso</code>, this option information is passed to Oracle SQLJ run time, which internally uses <code class="codeph">SetFormOfUse</code> for bind at run time.
                        </p>
                     </div>
                     <p>The SQLJ application can use <code class="codeph">String</code> host variable to retrieve data from the server without using the <code class="codeph">-ncharconv</code> option, because the information about the column type is fetched at the client-side and JDBC internally sets the form for the appropriate columns.
                     </p>
                     <div class="infoboxnote" id="GUID-F5BA9A5C-E700-48F6-BEDC-0164574C0077__GUID-C088CCBF-FF10-416C-AA7A-9C051840498E">
                        <p class="notep1">Note:</p>
                        <p>There may be a small difference in the performance when using the <code class="codeph">-ncharconv</code> option, depending on the database character set and national charster set and the number of character columns in the table.
                        </p>
                     </div>
                     <div class="section">
                        <p class="subhead3" id="GUID-F5BA9A5C-E700-48F6-BEDC-0164574C0077__GUID-3FB8EF78-3CAB-4AB4-93EC-951A4B0E23AB">Globalization Support Examples</p>
                     </div>
                     <!-- class="section" -->
                     <p>The following examples show use of the <code class="codeph">NString</code> class:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">NString</code> as <code class="codeph">IN</code> argument
                           </p>
                           <p>This example uses an <code class="codeph">NString</code> instance as an input parameter to the database.
                           </p><pre class="oac_no_warn" dir="ltr">import oracle.sql.NString;
...
NString nc_name = new NString("Name with strange characters");
#sql { update PEOPLE
       set city = :(new NString("\ufff2")), name = :nc_name
       where num= :n };
...
</pre></li>
                        <li id="GUID-F5BA9A5C-E700-48F6-BEDC-0164574C0077__I1006452">
                           <p><code class="codeph">NString</code> as <code class="codeph">OUT</code> argument
                           </p>
                           <p>This example uses an <code class="codeph">NString</code> instance as an output parameter from the database.
                           </p><pre class="oac_no_warn" dir="ltr">import oracle.sql.NString;
...
NString nstr;
#sql { call foo(:out nstr) };
System.out.println("Result is: "+nstr);
// or, explicitly: System.out.println("Result is: "+nstr.toString());
...
</pre></li>
                        <li>
                           <p><code class="codeph">NString</code> as <code class="codeph">Result Set</code> column
                           </p>
                           <p>This example uses the <code class="codeph">NString</code> type for an iterator column. Such usage is superfluous, given that the underlying network protocol supports national language characters implicitly, but harmless. This example also shows use of one of the <code class="codeph">String</code> methods, <code class="codeph">substring()</code>, that is carried over to <code class="codeph">NString</code>.
                           </p><pre class="oac_no_warn" dir="ltr">import oracle.sql.NString;
import oracle.sql.NCLOB;
...
#sql iterator NIter(NString title, NCLOB article);

NIter nit;
#sql nit = { SELECT article, title FROM page_table };
while (nit.next())
{
  System.out.println("&lt;TITLE&gt;"+nit.title()+"&lt;/TITLE&gt;");
  ...
  nit.article().substring(0, 1000); ...
}
</pre></li>
                     </ul>
                     <div class="infoboxnote" id="GUID-F5BA9A5C-E700-48F6-BEDC-0164574C0077__GUID-EFF353BC-AED4-428E-92F6-9001A0D2D051">
                        <p class="notep1">Note:</p>
                        <p>Using the <code class="codeph">NCHAR</code> type instead of the <code class="codeph">NString</code> type for the preceding examples requires the following changes:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Use the appropriate <code class="codeph">NCHAR</code> constructor. <code class="codeph">NCHAR</code> constructors mirror <code class="codeph">CHAR</code> constructors, such as the following:
                              </p><pre class="oac_no_warn" dir="ltr">NCHAR(String str, oracle.sql.CharacterSet charset)
</pre></li>
                           <li>
                              <p>Although you have the option of using either <code class="codeph">toString()</code> or <code class="codeph">getString()</code> to retrieve the underlying <code class="codeph">String</code> instance from an <code class="codeph">NString</code> instance, for an <code class="codeph">NCHAR</code> instance you must use the <code class="codeph">getString()</code> method. When using the <code class="codeph">NString</code> type, the <code class="codeph">toString()</code> method is used automatically for string concatenation.
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="JSQLJ737"></a><a id="JSQLJ738"></a><a id="JSQLJ739"></a><a id="JSQLJ736"></a><div class="sect3"><a id="GUID-6E2C17A1-CEE6-4BE7-B7AA-6EE2A9FC3BC3" name="GUID-6E2C17A1-CEE6-4BE7-B7AA-6EE2A9FC3BC3"></a><h4 id="JSQLJ-GUID-6E2C17A1-CEE6-4BE7-B7AA-6EE2A9FC3BC3" class="sect4">Manipulation Outside of SQLJ for Globalization Support</h4>
                  <div>
                     <p>This section discusses ways to manipulate your Oracle Globalization Support configuration outside of SQLJ.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-6E2C17A1-CEE6-4BE7-B7AA-6EE2A9FC3BC3__GUID-20756741-CC60-4117-8883-CB0BFE7FAB28">Setting Encoding and Locale at Application Run Time</p>
                     </div>
                     <!-- class="section" -->
                     <p>As with any end user running any Java application, those running your SQLJ application can specify JVM properties, such as <code class="codeph">file.encoding</code> and <code class="codeph">user.language</code> directly, as they invoke the JVM to run your application. This determines the encoding and locale used for message output as your application executes.
                     </p>
                     <p>They can accomplish this as in the following example:</p><pre class="oac_no_warn" dir="ltr">% java -Dfile.encoding=SJIS -Duser.language=ja Foo
</pre><p>This will use <code class="codeph">SJIS</code> encoding and Japanese locale.
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-6E2C17A1-CEE6-4BE7-B7AA-6EE2A9FC3BC3__GUID-DE10AD9B-F7C8-4F0C-97CB-D27B5148DCE3">Using API to Determine Java Properties</p>
                     </div>
                     <!-- class="section" -->
                     <p>In Java code, you can determine values of Java properties by using the <code class="codeph">java.lang.System.getProperty()</code> method, specifying the appropriate property. For example:
                     </p><pre class="oac_no_warn" dir="ltr">public class Settings
{
   public static void main (String[] args)
   {
      System.out.println("Encoding: " + System.getProperty("file.encoding")
                       + ", Language: " + System.getProperty("user.language"));
   }
}
</pre><p>You can compile this and run it as a standalone utility.</p>
                     <p>There is also a <code class="codeph">getProperties()</code> method that returns the values of all properties, but this will raise a security exception if you try to use it in code that runs in the server.
                     </p>
                     <div class="section" id="GUID-6E2C17A1-CEE6-4BE7-B7AA-6EE2A9FC3BC3__I1006518">
                        <p class="subhead3" id="GUID-6E2C17A1-CEE6-4BE7-B7AA-6EE2A9FC3BC3__GUID-AA921057-67A7-4DF5-9C3F-020081549102">Using native2ascii for Source File Encoding</p>
                     </div>
                     <!-- class="section" -->
                     <p>If you are using a Sun Microsystems JDK, then there is an alternative to having SQLJ do the character encoding for your source files. You can use the <code class="codeph">native2ascii</code> utility to convert sources with native encoding to sources in 7-bit ASCII with Unicode escape sequences.
                     </p>
                     <div class="infoboxnote" id="GUID-6E2C17A1-CEE6-4BE7-B7AA-6EE2A9FC3BC3__GUID-000A9D95-130C-45EE-862F-25C0C8C93B12">
                        <p class="notep1">Note:</p>
                        <p>To use SQLJ to translate source created by <code class="codeph">native2ascii</code>, ensure that the JVM that invokes SQLJ has a <code class="codeph">file.encoding</code> setting that supports some superset of 7-bit ASCII. This is not the case with settings for EBCDIC or Unicode encoding.
                        </p>
                     </div>
                     <p>Run <code class="codeph">native2ascii</code> as follows:
                     </p><pre class="oac_no_warn" dir="ltr">% native2ascii &lt;<span class="italic">options</span>&gt; &lt;<span class="italic">inputfile</span>&gt; &lt;<span class="italic">outputfile</span>&gt;
</pre><p>Standard input or standard output are used if you omit the input file or output file. Two options are supported:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">-reverse</code> (Reverse the conversion. Convert from Latin-1 or Unicode to native encoding)
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">-encoding &lt;</code><span class="italic"><code class="codeph">encoding</code></span><code class="codeph">&gt;</code></p>
                        </li>
                     </ul>
                     <p>For example:</p><pre class="oac_no_warn" dir="ltr">% native2ascii -encoding SJIS Foo.sqlj Temp.sqlj
</pre><p>For more information, see the following Web site:</p>
                     <p>https://docs.oracle.com/javase/8/docs/technotes/tools/windows/native2ascii.html</p>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>