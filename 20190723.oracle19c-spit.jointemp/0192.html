<html id='03368.oracle-database-vault-api-reference.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Oracle Database Vault provides a rich set of APIs, both in PL/SQL packages and in standalone procedures.">
      <meta name="description" content="Oracle Database Vault provides a rich set of APIs, both in PL/SQL packages and in standalone procedures.">
      <title>Oracle Database Vault API Reference</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Administrator's Guide ">
      <meta property="og:description" content="Oracle Database Vault provides a rich set of APIs, both in PL/SQL packages and in standalone procedures.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Administrator's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-vault-administrators-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-28T15:24:22-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96302-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="oracle-database-vault-policy-apis.html" title="Previous" type="text/html">
      <link rel="next" href="oracle-database-vault-data-dictionary-views.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Vault Administrator's Guide">
    <meta name="dcterms.isVersionOf" content="DVADM">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="oracle-database-vault-policy-apis.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="oracle-database-vault-data-dictionary-views.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Administrator's Guide </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Oracle Database Vault API Reference</li>
            </ol>
            <a id="GUID-81F80DC1-78A2-498D-8040-544EE2380376" name="GUID-81F80DC1-78A2-498D-8040-544EE2380376"></a><a id="DVADM71196"></a>
            
            <h2 id="DVADM-GUID-81F80DC1-78A2-498D-8040-544EE2380376" class="sect2"><span class="enumeration_chapter">23 </span>Oracle Database Vault API Reference
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Oracle Database Vault provides a rich set of APIs, both in PL/SQL packages and in standalone procedures.</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="oracle-database-vault-api-reference.html#GUID-1977D714-6136-49C1-B3FB-31C6D3B45BD4">DBMS_MACADM PL/SQL Package Contents</a><br>The <code class="codeph">DBMS_MACADM</code> package enables you to configure the realms, factors, rule sets, command rules, secure application roles, and Oracle Label Security policies. 
                  </li>
                  <li class="ulchildlink"><a href="oracle-database-vault-api-reference.html#GUID-50B88802-3077-4BC1-A6D4-41407E6D7055">DBMS_MACSEC_ROLES PL/SQL Package Contents</a><br>The <code class="codeph">DBMS_MACSEC_ROLES</code> package enables you to check and set Oracle Database Vault secure application roles. 
                  </li>
                  <li class="ulchildlink"><a href="oracle-database-vault-api-reference.html#GUID-4332E90B-AF64-4A8D-AB4A-48D04016E95E">DBMS_MACUTL PL/SQL Package Contents</a><br>The <code class="codeph">DBMS_MACUTL</code> PL/SQL package defines constants and utility methods that are commonly used by other Oracle Database Vault packages, such as error handling. 
                  </li>
                  <li class="ulchildlink"><a href="oracle-database-vault-api-reference.html#GUID-6D7F2A86-7478-4D29-840F-749DC748A050">CONFIGURE_DV PL/SQL Procedure</a><br>The <code class="codeph">CONFIGURE_DV</code> configures the initial two Oracle Database user accounts, which are granted the <code class="codeph">DV_OWNER</code> and <code class="codeph">DV_ACCTMGR</code> roles, respectively. 
                  </li>
                  <li class="ulchildlink"><a href="oracle-database-vault-api-reference.html#GUID-BBCD15CC-7F0F-4F4E-ADD7-D030C3CF1279">DVF PL/SQL Interface Contents</a><br>The <code class="codeph">DVF</code> schema provides a set of factor-related PL/SQL functions. 
                  </li>
               </ul>
            </div>
            <a id="DVADM71198"></a><a id="DVADM71197"></a><div class="props_rev_3"><a id="GUID-1977D714-6136-49C1-B3FB-31C6D3B45BD4" name="GUID-1977D714-6136-49C1-B3FB-31C6D3B45BD4"></a><h3 id="DVADM-GUID-1977D714-6136-49C1-B3FB-31C6D3B45BD4" class="sect3">DBMS_MACADM PL/SQL Package Contents</h3>
               <div>
                  <p>The <code class="codeph">DBMS_MACADM</code> package enables you to configure the realms, factors, rule sets, command rules, secure application roles, and Oracle Label Security policies. 
                  </p>
                  <div class="section">
                     <p>The <code class="codeph">DBMS_MACADM</code> package is available only for users who have been granted the <code class="codeph">DV_ADMIN</code> or <code class="codeph">DV_OWNER</code> role. 
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1977D714-6136-49C1-B3FB-31C6D3B45BD4__GUID-739A2F12-2C73-4643-AD8E-D71C707E2CC9">DBMS_MACADM Realm Procedures</p>
                     <p><a href="oracle-database-vault-api-reference.html#GUID-1977D714-6136-49C1-B3FB-31C6D3B45BD4__DBMS_MACADMPLSQLPACKAGECONTENTS-A8294FDC" title="DBMS_MACADM Realm Procedures">Table 23-1</a> lists the realm procedures in the <code class="codeph">DBMS_MACADM</code> package.
                     </p>
                     <div class="tblformal" id="GUID-1977D714-6136-49C1-B3FB-31C6D3B45BD4__DBMS_MACADMPLSQLPACKAGECONTENTS-A8294FDC">
                        <p class="titleintable">Table 23-1 DBMS_MACADM Realm Procedures</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_MACADM Realm Procedures" summary="DBMS_MACADM Realm Procedures" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="42%" id="d110972e257">Procedure</th>
                                 <th align="left" valign="bottom" width="58%" id="d110972e260">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e265" headers="d110972e257 ">
                                    <p><code class="codeph">ADD_AUTH_TO_REALM</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e265 d110972e260 ">
                                    <p>Authorizes a user or role to access a realm as an owner or a participant</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e274" headers="d110972e257 ">
                                    <p><code class="codeph">ADD_OBJECT_TO_REALM</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e274 d110972e260 ">
                                    <p>Registers a set of objects for realm protection</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e283" headers="d110972e257 ">
                                    <p><code class="codeph">CREATE_REALM</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e283 d110972e260 ">
                                    <p>Creates a realm</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e292" headers="d110972e257 ">
                                    <p><code class="codeph">DELETE_AUTH_FROM_REALM</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e292 d110972e260 ">
                                    <p>Removes the authorization of a user or role to access a realm</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e301" headers="d110972e257 ">
                                    <p><code class="codeph">DELETE_OBJECT_FROM_REALM</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e301 d110972e260 ">
                                    <p>Removes a set of objects from realm protection</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e310" headers="d110972e257 ">
                                    <p><code class="codeph">DELETE_REALM</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e310 d110972e260 ">
                                    <p>Deletes a realm, including its related Database Vault configuration information that specifies who is authorized and what objects are protected</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e319" headers="d110972e257 ">
                                    <p><code class="codeph">DELETE_REALM_CASCADE</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e319 d110972e260 ">
                                    <p>Deletes a realm, including its related Database Vault configuration information that specifies who is authorized and what objects are protected</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e328" headers="d110972e257 ">
                                    <p><code class="codeph">RENAME_REALM</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e328 d110972e260 ">
                                    <p>Renames a realm. The name change takes effect everywhere the realm is used.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e337" headers="d110972e257 ">
                                    <p><code class="codeph">UPDATE_REALM</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e337 d110972e260 ">
                                    <p>Updates a realm</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e346" headers="d110972e257 ">
                                    <p><code class="codeph">UPDATE_REALM_AUTH</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e346 d110972e260 ">
                                    <p>Updates the authorization of a user or role to access a realm</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1977D714-6136-49C1-B3FB-31C6D3B45BD4__GUID-BC2ED85C-1005-4EE3-AAD9-2B529718430E">DBMS_MACADM Rule Set and Rule Procedures</p>
                     <p><a href="oracle-database-vault-api-reference.html#GUID-1977D714-6136-49C1-B3FB-31C6D3B45BD4__DBMS_MACADMPLSQLPACKAGECONTENTS-07CF0396" title="DBMS_MACADM Rule Set and Rule Procedures">Table 23-2</a> lists the rule set and rule procedures in the <code class="codeph">DBMS_MACADM</code> package.
                     </p>
                     <div class="tblformal" id="GUID-1977D714-6136-49C1-B3FB-31C6D3B45BD4__DBMS_MACADMPLSQLPACKAGECONTENTS-07CF0396">
                        <p class="titleintable">Table 23-2 DBMS_MACADM Rule Set and Rule Procedures</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_MACADM Rule Set and Rule Procedures" summary="DBMS_MACADM Rule Set and Rule Procedures" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="42%" id="d110972e376">Procedure</th>
                                 <th align="left" valign="bottom" width="58%" id="d110972e379">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e384" headers="d110972e376 ">
                                    <p><code class="codeph">CREATE_RULE_SET</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e384 d110972e379 ">
                                    <p>Creates a rule set</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e393" headers="d110972e376 ">
                                    <p><code class="codeph">RENAME_RULE_SET</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e393 d110972e379 ">
                                    <p>Renames a rule set. The name change takes effect everywhere the rule set is used.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e402" headers="d110972e376 ">
                                    <p><code class="codeph">DELETE_RULE_FROM_RULE_SET</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e402 d110972e379 ">
                                    <p>Deletes a rule from a rule set</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e411" headers="d110972e376 ">
                                    <p><code class="codeph">DELETE_RULE_SET</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e411 d110972e379 ">
                                    <p>Deletes a rule set</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e420" headers="d110972e376 ">
                                    <p><code class="codeph">UPDATE_RULE_SET</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e420 d110972e379 ">
                                    <p>Updates a rule set</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e429" headers="d110972e376 ">
                                    <p><code class="codeph">CREATE_RULE</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e429 d110972e379 ">
                                    <p>Creates a rule</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e438" headers="d110972e376 ">
                                    <p><code class="codeph">ADD_RULE_TO_RULE_SET</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e438 d110972e379 ">
                                    <p>Adds a rule to a rule set</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e447" headers="d110972e376 ">
                                    <p><code class="codeph">DELETE_RULE</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e447 d110972e379 ">
                                    <p>Deletes a rule</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e456" headers="d110972e376 ">
                                    <p><code class="codeph">RENAME_RULE</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e456 d110972e379 ">
                                    <p>Renames a rule. The name change takes effect everywhere the rule is used.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e465" headers="d110972e376 ">
                                    <p><code class="codeph">UPDATE_RULE</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e465 d110972e379 ">
                                    <p>Updates a rule</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1977D714-6136-49C1-B3FB-31C6D3B45BD4__GUID-33993A8B-8337-41E4-BE8C-D84CB38B4A14">DBMS_MACADM Command Rule Procedures</p>
                     <p><a href="oracle-database-vault-api-reference.html#GUID-1977D714-6136-49C1-B3FB-31C6D3B45BD4__DBMS_MACADMCOMMANDRULEPROCEDURES-07D09C6B" title="DBMS_MACADM Command Rule Procedures">Table 23-3</a> lists the command rule procedures in the <code class="codeph">DBMS_MACADM</code> package.
                     </p>
                     <div class="tblformal" id="GUID-1977D714-6136-49C1-B3FB-31C6D3B45BD4__DBMS_MACADMCOMMANDRULEPROCEDURES-07D09C6B">
                        <p class="titleintable">Table 23-3 DBMS_MACADM Command Rule Procedures</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_MACADM Command Rule Procedures" summary="DBMS_MACADM Command Rule Procedures" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="42%" id="d110972e495">Procedure</th>
                                 <th align="left" valign="bottom" width="58%" id="d110972e498">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e503" headers="d110972e495 ">
                                    <p><code class="codeph">CREATE_COMMAND_RULE</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e503 d110972e498 ">
                                    <p>Creates a command rule, associates it with a rule set, and lets you enable the command rule for rule checking with a rule set</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e512" headers="d110972e495 ">
                                    <p><code class="codeph">CREATE_CONNECT_COMMAND_RULE</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e512 d110972e498 ">
                                    <p>Creates a CONNECT command rule</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e521" headers="d110972e495 ">
                                    <p><code class="codeph">CREATE_SESSION_EVENT_CMD_RULE</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e521 d110972e498 ">
                                    <p>Creates a session event command rule, using the ALTER SESSION SQL statement</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e530" headers="d110972e495 ">
                                    <p><code class="codeph">CREATE_SYSTEM_EVENT_CMD_RULE</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e530 d110972e498 ">
                                    <p>Creates a system event command rule, using the ALTER SYSTEM SQL statement</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e539" headers="d110972e495 ">
                                    <p><code class="codeph">DELETE_COMMAND_RULE</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e539 d110972e498 ">
                                    <p>Drops a command rule declaration</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e548" headers="d110972e495 ">
                                    <p><code class="codeph">DELETE_CONNECT_COMMAND_RULE</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e548 d110972e498 ">
                                    <p>Drops a CONNECT command rule declaration</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e557" headers="d110972e495 ">
                                    <p><code class="codeph">DELETE_SESSION_EVENT_CMD_RULE</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e557 d110972e498 ">
                                    <p>Drops a SESSION_EVENT_CMD command rule declaration</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e566" headers="d110972e495 ">
                                    <p><code class="codeph">DELETE_SYSTEM_EVENT_CMD_RULE</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e566 d110972e498 ">
                                    <p>Drops a SYSTEM_EVENT_CMD command rule declaration</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e575" headers="d110972e495 ">
                                    <p><code class="codeph">UPDATE_COMMAND_RULE</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e575 d110972e498 ">
                                    <p>Updates a command rule declaration</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e584" headers="d110972e495 ">
                                    <p><code class="codeph">UPDATE_CONNECT_COMMAND_RULE</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e584 d110972e498 ">
                                    <p>Updates a CONNECT command rule declaration</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e593" headers="d110972e495 ">
                                    <p><code class="codeph">UPDATE_SESSION_EVENT_CMD_RULE</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e593 d110972e498 ">
                                    <p>Updates a SESSION_EVENT_CMD command rule declaration</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e603" headers="d110972e495 ">
                                    <p><code class="codeph">UPDATE_SYSTEM_EVENT_CMD_RULE</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e603 d110972e498 ">
                                    <p>Updates a SYSTEM_EVENT_CMD command rule declaration</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1977D714-6136-49C1-B3FB-31C6D3B45BD4__GUID-E05E1B8C-1D2B-40A4-8E1F-71165420B2D7">DBMS_MACADM Factor Procedures and Functions</p>
                     <p> lists the factor procedures and functions in the <code class="codeph">DBMS_MACADM</code> package.
                     </p>
                     <div class="tblformal" id="GUID-1977D714-6136-49C1-B3FB-31C6D3B45BD4__DBMS_MACADMPLSQLPACKAGECONTENTS-07D0EF25">
                        <p class="titleintable">Table 23-4 DBMS_MACADM Factor Procedures and Functions</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_MACADM Factor Procedures and Functions" summary="DBMS_MACADM Factor Procedures and Functions" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="45%" id="d110972e629">Procedure or Function</th>
                                 <th align="left" valign="bottom" width="55%" id="d110972e632">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d110972e637" headers="d110972e629 ">
                                    <p><code class="codeph">ADD_FACTOR_LINK</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d110972e637 d110972e632 ">
                                    <p>Specifies a parent-child relationship for two factors</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d110972e646" headers="d110972e629 ">
                                    <p><code class="codeph">ADD_POLICY_FACTOR</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d110972e646 d110972e632 ">
                                    <p>Specifies that the label for a factor contributes to the Oracle Label Security label for a policy.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d110972e655" headers="d110972e629 ">
                                    <p><code class="codeph">CHANGE_IDENTITY_FACTOR</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d110972e655 d110972e632 ">
                                    <p>Associates an identity with a different factor</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d110972e664" headers="d110972e629 ">
                                    <p><code class="codeph">CHANGE_IDENTITY_VALUE</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d110972e664 d110972e632 ">
                                    <p>Updates the value of an identity</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d110972e673" headers="d110972e629 ">
                                    <p><code class="codeph">CREATE_DOMAIN_IDENTITY</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d110972e673 d110972e632 ">
                                    <p>Adds an Oracle Real Application Clusters (Oracle RAC) database node to the domain factor identities and labels it according to the Oracle Label Security policy.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d110972e682" headers="d110972e629 ">
                                    <p><code class="codeph">CREATE_FACTOR</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d110972e682 d110972e632 ">
                                    <p>Creates a factor</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d110972e691" headers="d110972e629 ">
                                    <p><code class="codeph">CREATE_FACTOR_TYPE</code> procedure 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d110972e691 d110972e632 ">
                                    <p>Creates a factor type</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d110972e700" headers="d110972e629 ">
                                    <p><code class="codeph">CREATE_IDENTITY</code> procedure 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d110972e700 d110972e632 ">
                                    <p>Creates an identity</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d110972e709" headers="d110972e629 ">
                                    <p><code class="codeph">CREATE_IDENTITY_MAP</code> procedure 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d110972e709 d110972e632 ">
                                    <p>Defines a set of tests that are used to derive the identity of a factor from the value of linked child factors (subfactors)</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d110972e718" headers="d110972e629 ">
                                    <p><code class="codeph">DELETE_FACTOR</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d110972e718 d110972e632 ">
                                    <p>Deletes a factor</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d110972e727" headers="d110972e629 ">
                                    <p><code class="codeph">DELETE_FACTOR_LINK</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d110972e727 d110972e632 ">
                                    <p>Removes a parent-child relationship for two factors</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d110972e737" headers="d110972e629 ">
                                    <p><code class="codeph">DELETE_FACTOR_TYPE</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d110972e737 d110972e632 ">
                                    <p>Deletes a factor type</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d110972e746" headers="d110972e629 ">
                                    <p><code class="codeph">DELETE_IDENTITY</code> procedure 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d110972e746 d110972e632 ">
                                    <p>Removes an identity</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d110972e755" headers="d110972e629 ">
                                    <p><code class="codeph">DELETE_IDENTITY_MAP</code> procedure 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d110972e755 d110972e632 ">
                                    <p>Removes an identity map from a factor</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d110972e764" headers="d110972e629 ">
                                    <p><code class="codeph">DROP_DOMAIN_IDENTITY</code> procedure 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d110972e764 d110972e632 ">
                                    <p>Removes an Oracle RAC database node from a domain</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d110972e773" headers="d110972e629 ">
                                    <p><code class="codeph">GET_INSTANCE_INFO</code> function
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d110972e773 d110972e632 ">
                                    <p>Returns information from the <code class="codeph">SYS.V_$INSTANCE</code> system table about the current database instance; returns a <code class="codeph">VARCHAR2</code> value
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d110972e788" headers="d110972e629 ">
                                    <p><code class="codeph">GET_SESSION_INFO</code> function
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d110972e788 d110972e632 ">
                                    <p>Returns information from the <code class="codeph">SYS.V_$SESSION</code> system table for the current session; returns a <code class="codeph">VARCHAR2</code> value
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d110972e803" headers="d110972e629 ">
                                    <p><code class="codeph">RENAME_FACTOR</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d110972e803 d110972e632 ">
                                    <p>Renames a factor. The name change takes effect everywhere the factor is used.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d110972e812" headers="d110972e629 ">
                                    <p><code class="codeph">RENAME_FACTOR_TYPE</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d110972e812 d110972e632 ">
                                    <p>Renames a factor type. The name change takes effect everywhere the factor type is used.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d110972e821" headers="d110972e629 ">
                                    <p><code class="codeph">UPDATE_FACTOR</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d110972e821 d110972e632 ">
                                    <p>Updates a factor</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d110972e830" headers="d110972e629 ">
                                    <p><code class="codeph">UPDATE_FACTOR_TYPE</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d110972e830 d110972e632 ">
                                    <p>Updates the description of a factor type</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d110972e839" headers="d110972e629 ">
                                    <p><code class="codeph">UPDATE_IDENTITY</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d110972e839 d110972e632 ">
                                    <p>Updates the trust level of a factor identity</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1977D714-6136-49C1-B3FB-31C6D3B45BD4__GUID-527021B5-9DFE-43DF-9422-A62D9714CD5E">DBMS_MACADM Secure Application Role Procedures</p>
                     <p><a href="oracle-database-vault-api-reference.html#GUID-1977D714-6136-49C1-B3FB-31C6D3B45BD4__DBMS_MACADMSECUREAPPLICATIONROLEPRO-07D16FE7" title="DBMS_MACADM Secure Application Role Procedures">Table 23-5</a> lists the secure application role procedures in the <code class="codeph">DBMS_MACADM</code> package.
                     </p>
                     <div class="tblformal" id="GUID-1977D714-6136-49C1-B3FB-31C6D3B45BD4__DBMS_MACADMSECUREAPPLICATIONROLEPRO-07D16FE7">
                        <p class="titleintable">Table 23-5 DBMS_MACADM Secure Application Role Procedures</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_MACADM Secure Application Role Procedures" summary="DBMS_MACADM Secure Application Role Procedures" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="42%" id="d110972e869">Procedure</th>
                                 <th align="left" valign="bottom" width="58%" id="d110972e872">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e877" headers="d110972e869 ">
                                    <p><code class="codeph">CREATE_ROLE</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e877 d110972e872 ">
                                    <p>Creates an Oracle Database Vault secure application role</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e886" headers="d110972e869 ">
                                    <p><code class="codeph">DELETE_ROLE</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e886 d110972e872 ">
                                    <p>Deletes an Oracle Database Vault secure application role</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e895" headers="d110972e869 ">
                                    <p><code class="codeph">RENAME_ROLE</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e895 d110972e872 ">
                                    <p>Renames an Oracle Database Vault secure application role. The name change takes effect everywhere the role is used.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e904" headers="d110972e869 ">
                                    <p><code class="codeph">UNASSIGN_ROLE</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e904 d110972e872 ">
                                    <p>Unassigns an Oracle Database Vault secure application role from a user</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e913" headers="d110972e869 ">
                                    <p><code class="codeph">UPDATE_ROLE</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e913 d110972e872 ">
                                    <p>Updates a Oracle Database Vault secure application role</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1977D714-6136-49C1-B3FB-31C6D3B45BD4__GUID-1DCE5E1D-2AA3-44BC-AAC8-8B3FE220624F">DBMS_MACADM Oracle Label Security Procedures</p>
                     <p><a href="oracle-database-vault-api-reference.html#GUID-1977D714-6136-49C1-B3FB-31C6D3B45BD4__DBMS_MACADMORACLELABELSECURITYPROCE-07D1BB5B" title="DBMS_MACADM Oracle Label Security Procedures">Table 23-6</a> lists the Oracle Label Security procedures in the <code class="codeph">DBMS_MACADM</code> package.
                     </p>
                     <div class="tblformal" id="GUID-1977D714-6136-49C1-B3FB-31C6D3B45BD4__DBMS_MACADMORACLELABELSECURITYPROCE-07D1BB5B">
                        <p class="titleintable">Table 23-6 DBMS_MACADM Oracle Label Security Procedures</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_MACADM Oracle Label Security Procedures" summary="DBMS_MACADM Oracle Label Security Procedures" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="42%" id="d110972e943">Procedure</th>
                                 <th align="left" valign="bottom" width="58%" id="d110972e946">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e951" headers="d110972e943 ">
                                    <p><code class="codeph">CREATE_MAC_POLICY</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e951 d110972e946 ">
                                    <p>Specifies the algorithm that is used to merge labels when computing the label for a factor, or the Oracle Label Security Session label</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e960" headers="d110972e943 ">
                                    <p><code class="codeph">CREATE_POLICY_LABEL</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e960 d110972e946 ">
                                    <p>Labels an identity within an Oracle Label Security policy</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e969" headers="d110972e943 ">
                                    <p><code class="codeph">DELETE_MAC_POLICY_CASCADE</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e969 d110972e946 ">
                                    <p>Deletes all Oracle Database Vault objects related to an Oracle Label Security policy.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e978" headers="d110972e943 ">
                                    <p><code class="codeph">DELETE_POLICY_FACTOR</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e978 d110972e946 ">
                                    <p>Removes the factor from contributing to the Oracle Label Security label</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e987" headers="d110972e943 ">
                                    <p><code class="codeph">DELETE_POLICY_LABEL</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e987 d110972e946 ">
                                    <p>Removes the label from an identity within an Oracle Label Security policy</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e996" headers="d110972e943 ">
                                    <p><code class="codeph">UPDATE_MAC_POLICY</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e996 d110972e946 ">
                                    <p>Specifies the algorithm that is used to merge labels when computing the label for a factor, or the Oracle Label Security Session label</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1977D714-6136-49C1-B3FB-31C6D3B45BD4__GUID-997AC0AF-B754-4ED1-876A-B4E6D0C75761">DBMS_MACADM Database Vault Policy Procedures</p>
                     <p><a href="oracle-database-vault-api-reference.html#GUID-1977D714-6136-49C1-B3FB-31C6D3B45BD4__DBMS_MACADMDATABASEVAULTPOLICYPROCE-07D2DA54" title="DBMS_MACADM Database Vault Policy Procedures">Table 23-7</a> lists the Database Vault policy procedures in the <code class="codeph">DBMS_MACADM</code> package.
                     </p>
                     <div class="tblformal" id="GUID-1977D714-6136-49C1-B3FB-31C6D3B45BD4__DBMS_MACADMDATABASEVAULTPOLICYPROCE-07D2DA54">
                        <p class="titleintable">Table 23-7 DBMS_MACADM Database Vault Policy Procedures</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_MACADM Database Vault Policy Procedures" summary="DBMS_MACADM Database Vault Policy Procedures" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="42%" id="d110972e1026">Procedure</th>
                                 <th align="left" valign="bottom" width="58%" id="d110972e1029">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1034" headers="d110972e1026 ">
                                    <p><code class="codeph">ADD_CMD_RULE_TO_POLICY</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1034 d110972e1029 ">
                                    <p>Adds a command rule to a Database Vault policy</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1043" headers="d110972e1026 ">
                                    <p><code class="codeph">ADD_OWNER_TO_POLICY</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1043 d110972e1029 ">
                                    <p>Adds an owner to a Database Vault policy</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1052" headers="d110972e1026 ">
                                    <p><code class="codeph">ADD_REALM_TO_POLICY</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1052 d110972e1029 ">
                                    <p>Adds a realm to a Database Vault policy</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1061" headers="d110972e1026 ">
                                    <p><code class="codeph">CREATE_POLICY</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1061 d110972e1029 ">
                                    <p>Creates a Database Vault policy</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1070" headers="d110972e1026 ">
                                    <p><code class="codeph">DELETE_CMD_RULE_FROM_POLICY</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1070 d110972e1029 ">
                                    <p>Deletes a command rule from a Database Vault policy</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1079" headers="d110972e1026 ">
                                    <p><code class="codeph">DELETE_OWNER_FROM_POLICY</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1079 d110972e1029 ">
                                    <p>Deletes an owner from a Database Vault policy</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1088" headers="d110972e1026 ">
                                    <p><code class="codeph">DELETE_REALM_FROM_POLICY</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1088 d110972e1029 ">
                                    <p>Deletes a realm from a Database Vault policy</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1097" headers="d110972e1026 ">
                                    <p><code class="codeph">DROP_POLICY</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1097 d110972e1029 ">
                                    <p>Drops a Database Vault policy</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1106" headers="d110972e1026 ">
                                    <p><code class="codeph">RENAME_POLICY</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1106 d110972e1029 ">
                                    <p>Renames a Database Vault policy</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1115" headers="d110972e1026 ">
                                    <p><code class="codeph">UPDATE_POLICY_DESCRIPTION</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1115 d110972e1029 ">
                                    <p>Updates a Database Vault policy description</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1124" headers="d110972e1026 ">
                                    <p><code class="codeph">UPDATE_POLICY_STATE</code> procedure
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1124 d110972e1029 ">
                                    <p>Updates the enablement status of the a Database Vault policy</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-1977D714-6136-49C1-B3FB-31C6D3B45BD4__GUID-F52EBA93-EAF3-4649-8A65-56EBF143D8E7">DBMS_MACADM General Administrative Procedures</p>
                     <p><a href="oracle-database-vault-api-reference.html#GUID-1977D714-6136-49C1-B3FB-31C6D3B45BD4__DBMS_MACADMGENERALADMINISTRATIVEPRO-07D340B0" title="DBMS_MACADM General Administrative Procedures">Table 23-8</a> lists the general administrative procedures in the <code class="codeph">DBMS_MACADM</code> package.
                     </p>
                     <div class="tblformal" id="GUID-1977D714-6136-49C1-B3FB-31C6D3B45BD4__DBMS_MACADMGENERALADMINISTRATIVEPRO-07D340B0">
                        <p class="titleintable">Table 23-8 DBMS_MACADM General Administrative Procedures</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_MACADM General Administrative Procedures" summary="DBMS_MACADM General Administrative Procedures" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="42%" id="d110972e1154">Procedure</th>
                                 <th align="left" valign="bottom" width="58%" id="d110972e1157">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1162" headers="d110972e1154 ">
                                    
                                    <p><code class="codeph">ADD_NLS_DATA</code> procedure
                                    </p>
                                    
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1162 d110972e1157 ">
                                    
                                    <p>Adds a new language to Oracle Database Vault</p>
                                    
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1175" headers="d110972e1154 ">
                                    
                                    <p><code class="codeph">ADD_APP_EXCEPTION procedure</code></p>
                                    
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1175 d110972e1157 ">
                                    
                                    <p>Enables a common user or package to access local schemas</p>
                                    
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1187" headers="d110972e1154 ">
                                    
                                    <p><code class="codeph">AUTHORIZE_DATAPUMP_USER</code>
                                    procedure
                                    </p>
                                    
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1187 d110972e1157 ">
                                    
                                    <p>Authorizes a user to perform Oracle Data Pump
                                    operations when Oracle Database Vault is enabled</p>
                                    
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1200" headers="d110972e1154 ">
                                    
                                    <p><code class="codeph">AUTHORIZE_DDL</code> procedure
                                    </p>
                                    
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1200 d110972e1157 ">
                                    
                                    <p>Grants a user authorization to execute data
                                    definition language (DDL) statements</p>
                                    
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1213" headers="d110972e1154 ">
                                    
                                    <p><code class="codeph">AUTHORIZE_MAINTENANCE_USER</code>
                                    procedure
                                    </p>
                                    
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1213 d110972e1157 ">
                                    
                                    <p>Grants a user authorization to perform Information
                                    Lifecycle Management (ILM) operations</p>
                                    
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1226" headers="d110972e1154 ">
                                    
                                    <p><code class="codeph">AUTHORIZE_PROXY_USER</code> procedure
                                    </p>
                                    
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1226 d110972e1157 ">
                                    
                                    <p>Grants a proxy user authorization to proxy other
                                    user accounts</p>
                                    
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1239" headers="d110972e1154 ">
                                    
                                    <p><code class="codeph">AUTHORIZE_SCHEDULER_USER</code>
                                    procedure
                                    </p>
                                    
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1239 d110972e1157 ">
                                    
                                    <p>Authorizes a user to schedule database jobs when
                                    Oracle Database Vault is enabled</p>
                                    
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1252" headers="d110972e1154 ">
                                    
                                    <p><code class="codeph">AUTHORIZE_TTS_USER</code> procedure
                                    </p>
                                    
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1252 d110972e1157 ">
                                    
                                    <p>Authorizes a user to perform Oracle Data Pump
                                    transportable tablespace operations for a tablespace when Oracle
                                    Database Vault is enabled</p>
                                    
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1265" headers="d110972e1154 ">
                                    
                                    <p><code class="codeph">DELETE_APP_EXCEPTION</code> procedure
                                    </p>
                                    
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1265 d110972e1157 ">
                                    
                                    <p>Deletes the exception for a common user or package to access a
                                    local schema</p>
                                    
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1278" headers="d110972e1154 ">
                                    
                                    <p><code class="codeph">DISABLE_DV_DICTIONARY_ACCTS</code>
                                    procedure
                                    </p>
                                    
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1278 d110972e1157 ">
                                    
                                    <p>Prevents users from logging into the
                                        <code class="codeph">DVSYS</code> and <code class="codeph">DFV</code> schema
                                    accounts
                                    </p>
                                    
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1297" headers="d110972e1154 ">
                                    
                                    <p><code class="codeph">DISABLE_DV_PATCH_ADMIN</code></p>
                                    
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1297 d110972e1157 ">
                                    
                                    <p>Disables auditing of the
                                        <code class="codeph">DV_PATCH_ADMIN</code> user
                                    </p>
                                    
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1313" headers="d110972e1154 ">
                                    
                                    <p><code class="codeph">DISABLE_DV</code> procedure
                                    </p>
                                    
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1313 d110972e1157 ">
                                    
                                    <p>Disables Oracle Database Vault</p>
                                    
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1326" headers="d110972e1154 ">
                                    
                                    <p><code class="codeph">DISABLE_APP_PROTECTION procedure</code></p>
                                    
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1326 d110972e1157 ">
                                    
                                    <p>Disables Database Vault operation control</p>
                                    
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1338" headers="d110972e1154 ">
                                    
                                    <p><code class="codeph">DISABLE_ORADEBUG</code> procedure
                                    </p>
                                    
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1338 d110972e1157 ">
                                    
                                    <p>Disables the use of the <code class="codeph">ORADEBUG</code>
                                    utility in an Oracle Database Vault environment
                                    </p>
                                    
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1354" headers="d110972e1154 ">
                                    
                                    <p><code class="codeph">ENABLE_DV_DICTIONARY_ACCTS</code>
                                    procedure
                                    </p>
                                    
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1354 d110972e1157 ">
                                    
                                    <p>Enables users to log into the <code class="codeph">DVSYS</code>
                                    and <code class="codeph">DFV</code> schema accounts
                                    </p>
                                    
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1373" headers="d110972e1154 ">
                                    
                                    <p><code class="codeph">ENABLE_DV_PATCH_ADMIN</code></p>
                                    
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1373 d110972e1157 ">
                                    
                                    <p>Enables auditing of the
                                        <code class="codeph">DV_PATCH_ADMIN</code> user
                                    </p>
                                    
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1388" headers="d110972e1154 ">
                                    
                                    <p><code class="codeph">ENABLE_DV</code> procedure
                                    </p>
                                    
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1388 d110972e1157 ">
                                    
                                    <p>Enables Oracle Database Vault</p>
                                    
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1401" headers="d110972e1154 ">
                                    
                                    <p><code class="codeph">ENABLE_APP_PROTECTION</code> procedure
                                    </p>
                                    
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1401 d110972e1157 ">
                                    
                                    <p>Enables Database Vault operations control</p>
                                    
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1414" headers="d110972e1154 ">
                                    
                                    <p><code class="codeph">ENABLE_ORADEBUG</code> procedure
                                    </p>
                                    
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1414 d110972e1157 ">
                                    
                                    <p>Enables the use of the <code class="codeph">ORADEBUG</code>
                                    utility in an Oracle Database Vault environment
                                    </p>
                                    
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1430" headers="d110972e1154 ">
                                    
                                    <p><code class="codeph">UNAUTHORIZE_DATAPUMP_USER</code>
                                    procedure
                                    </p>
                                    
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1430 d110972e1157 ">
                                    
                                    <p>Revokes the authorization that was granted by the
                                        <code class="codeph">DBMS_MACADM.AUTHORIZE_DATAPUMP_USER</code>
                                    procedure
                                    </p>
                                    
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1446" headers="d110972e1154 ">
                                    
                                    <p><code class="codeph">UNAUTHORIZE_DDL</code> procedure
                                    </p>
                                    
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1446 d110972e1157 ">
                                    
                                    <p>Revokes authorization from a user who was granted
                                    authorization to execute DDL statements through the
                                        <code class="codeph">DBMS_MACDM.AUTHORIZE_DDL</code> procedure
                                    </p>
                                    
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1462" headers="d110972e1154 ">
                                    
                                    <p><code class="codeph">UNAUTHORIZE_MAINTENANCE_USER</code>
                                    procedure
                                    </p>
                                    
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1462 d110972e1157 ">
                                    
                                    <p>Revokes authorization to perform ILM operations</p>
                                    
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1476" headers="d110972e1154 ">
                                    
                                    <p><code class="codeph">UNAUTHORIZE_PROXY_USER</code> procedure
                                    </p>
                                    
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1476 d110972e1157 ">
                                    
                                    <p>Revokes authorization from a user who was granted
                                    proxy authorization from the
                                        <code class="codeph">DBMS_MACADM.AUTHORIZE_PROXY_USER</code>
                                    procedure
                                    </p>
                                    
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1492" headers="d110972e1154 ">
                                    
                                    <p><code class="codeph">UNAUTHORIZE_SCHEDULER_USER</code>
                                    procedure
                                    </p>
                                    
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1492 d110972e1157 ">
                                    
                                    <p>Revokes authorization that was granted by the
                                        <code class="codeph">DBMS_MACADM.AUTHORIZE_SCHEDULER_USER</code>
                                    procedure
                                    </p>
                                    
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="42%" id="d110972e1508" headers="d110972e1154 ">
                                    
                                    <p><code class="codeph">UNAUTHORIZE_TTS_USER</code> procedure
                                    </p>
                                    
                                 </td>
                                 <td align="left" valign="top" width="58%" headers="d110972e1508 d110972e1157 ">
                                    
                                    <p>Revokes from authorization a user who had been
                                    granted authorization to perform Oracle Data Pump transportable
                                    tablespace operations for a tablespace when Oracle Database
                                    Vault is enabled</p>
                                    
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="oracle-database-vault-api-reference.html#GUID-81F80DC1-78A2-498D-8040-544EE2380376" title="Oracle Database Vault provides a rich set of APIs, both in PL/SQL packages and in standalone procedures.">Oracle Database Vault API Reference</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DVADM71200"></a><a id="DVADM71199"></a><div class="props_rev_3"><a id="GUID-50B88802-3077-4BC1-A6D4-41407E6D7055" name="GUID-50B88802-3077-4BC1-A6D4-41407E6D7055"></a><h3 id="DVADM-GUID-50B88802-3077-4BC1-A6D4-41407E6D7055" class="sect3">DBMS_MACSEC_ROLES PL/SQL Package Contents</h3>
               <div>
                  <p>The <code class="codeph">DBMS_MACSEC_ROLES</code> package enables you to check and set Oracle Database Vault secure application roles. 
                  </p>
                  <div class="section">
                     <p>This package is available to the general database account population. </p>
                     <p><a href="oracle-database-vault-api-reference.html#GUID-50B88802-3077-4BC1-A6D4-41407E6D7055__DBMS_MACSEC_ROLESPLSQLPACKAGECONTEN-A8299C31" title="DVSYS.DBMS_MACSEC_ROLES contents">Table 23-9</a> lists the contents of the <code class="codeph">DBMS_MACSEC_ROLES</code> package.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-50B88802-3077-4BC1-A6D4-41407E6D7055__DBMS_MACSEC_ROLESPLSQLPACKAGECONTEN-A8299C31">
                     <p class="titleintable">Table 23-9 DBMS_MACSEC_ROLES PL/SQL Package Contents</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_MACSEC_ROLES PL/SQL Package Contents" summary="DVSYS.DBMS_MACSEC_ROLES contents" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="33%" id="d110972e1632">Procedure or Function</th>
                              <th align="left" valign="bottom" width="67%" id="d110972e1635">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d110972e1640" headers="d110972e1632 ">
                                 <p><code class="codeph">CAN_SET_ROLE</code> function
                                 </p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d110972e1640 d110972e1635 ">
                                 <p>Checks whether the user invoking the method is authorized to use the specified Oracle Database Vault secure application role. Returns a <code class="codeph">BOOLEAN</code> value.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d110972e1652" headers="d110972e1632 ">
                                 <p><code class="codeph">SET_ROLE</code> procedure
                                 </p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d110972e1652 d110972e1635 ">
                                 <p>Issues the <code class="codeph">SET ROLE</code> statement for an Oracle Database Vault secure application role.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="oracle-database-vault-api-reference.html#GUID-81F80DC1-78A2-498D-8040-544EE2380376" title="Oracle Database Vault provides a rich set of APIs, both in PL/SQL packages and in standalone procedures.">Oracle Database Vault API Reference</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DVADM71202"></a><a id="DVADM71201"></a><div class="props_rev_3"><a id="GUID-4332E90B-AF64-4A8D-AB4A-48D04016E95E" name="GUID-4332E90B-AF64-4A8D-AB4A-48D04016E95E"></a><h3 id="DVADM-GUID-4332E90B-AF64-4A8D-AB4A-48D04016E95E" class="sect3">DBMS_MACUTL PL/SQL Package Contents</h3>
               <div>
                  <p>The <code class="codeph">DBMS_MACUTL</code> PL/SQL package defines constants and utility methods that are commonly used by other Oracle Database Vault packages, such as error handling. 
                  </p>
                  <div class="section">
                     <p>This package can be run by the general database account population. This allows for security developers to leverage the constants in scripted configuration files. Utility methods such as <code class="codeph">USER_HAS_ROLE</code> can also be used in Oracle Database Vault rules. 
                     </p>
                     <p><a href="oracle-database-vault-api-reference.html#GUID-4332E90B-AF64-4A8D-AB4A-48D04016E95E__DBMS_MACUTLPLSQLPACKAGECONTENTS-09113D92" title="DVSYS.DBMS_MACUTL contents">Table 23-10</a> lists the <code class="codeph">DBMS_MACUTL</code> package contents.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-4332E90B-AF64-4A8D-AB4A-48D04016E95E__DBMS_MACUTLPLSQLPACKAGECONTENTS-09113D92">
                     <p class="titleintable">Table 23-10 DBMS_MACUTL PL/SQL Package Contents</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_MACUTL PL/SQL Package Contents" summary="DVSYS.DBMS_MACUTL contents" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="34%" id="d110972e1781">Procedure or Function</th>
                              <th align="left" valign="bottom" width="66%" id="d110972e1784">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d110972e1789" headers="d110972e1781 ">
                                 <p><code class="codeph">CHECK_DVSYS_DML_ALLOWED</code> procedure
                                 </p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d110972e1789 d110972e1784 ">
                                 <p>Verifies that public-packages are not being bypassed by users updating the Oracle Database Vault configuration</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d110972e1798" headers="d110972e1781 ">
                                 <p><code class="codeph">GET_CODE_VALUE</code> function
                                 </p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d110972e1798 d110972e1784 ">
                                 <p>Looks up the value for a code within a code group.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d110972e1807" headers="d110972e1781 ">
                                 <p><code class="codeph">GET_SECOND</code> function
                                 </p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d110972e1807 d110972e1784 ">
                                 <p>Returns the seconds in Oracle SS format (00-59). Useful for rule expressions based on time data</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d110972e1816" headers="d110972e1781 ">
                                 <p><code class="codeph">GET_MINUTE</code> function
                                 </p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d110972e1816 d110972e1784 ">
                                 <p>Returns the minute in Oracle MI format (00&#x2013;59). Useful for rule expressions based on time data</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d110972e1825" headers="d110972e1781 ">
                                 <p><code class="codeph">GET_HOUR</code> function
                                 </p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d110972e1825 d110972e1784 ">
                                 <p>Returns the month in Oracle HH24 format (00&#x2013;23). Useful for rule expressions based on time data</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d110972e1834" headers="d110972e1781 ">
                                 <p><code class="codeph">GET_DAY</code> function
                                 </p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d110972e1834 d110972e1784 ">
                                 <p>Returns the day in Oracle DD format (01&#x2013;31). Useful for rule expressions based on time data</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d110972e1843" headers="d110972e1781 ">
                                 <p><code class="codeph">GET_MONTH</code> function
                                 </p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d110972e1843 d110972e1784 ">
                                 <p>Returns the month in Oracle MM format (01&#x2013;12). Useful for rule expressions based on time data</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d110972e1852" headers="d110972e1781 ">
                                 <p><code class="codeph">GET_YEAR</code> function
                                 </p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d110972e1852 d110972e1784 ">
                                 <p>Returns the year in Oracle YYYY format (0001&#x2013;9999). Useful for rule expressions based on time data</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d110972e1861" headers="d110972e1781 ">
                                 <p><code class="codeph">IS_ALPHA</code> function
                                 </p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d110972e1861 d110972e1784 ">
                                 <p>Checks whether the character is alphabetic</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d110972e1870" headers="d110972e1781 ">
                                 <p><code class="codeph">IS_DIGIT</code> function
                                 </p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d110972e1870 d110972e1784 ">
                                 <p>Checks whether the character is numeric</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d110972e1879" headers="d110972e1781 ">
                                 <p><code class="codeph">IS_DVSYS_OWNER</code> function
                                 </p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d110972e1879 d110972e1784 ">
                                 <p>Determines whether a user is authorized to manage the Oracle Database Vault configuration</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d110972e1889" headers="d110972e1781 ">
                                 <p><code class="codeph">IS_OLS_INSTALLED</code> function
                                 </p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d110972e1889 d110972e1784 ">
                                 <p>Returns an indicator regarding whether Oracle Label Security is installed</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d110972e1898" headers="d110972e1781 ">
                                 <p><code class="codeph">IS_OLS_INSTALLED_VARCHAR</code> function
                                 </p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d110972e1898 d110972e1784 ">
                                 <p>Returns an indicator regarding whether Oracle Label Security is installed</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d110972e1907" headers="d110972e1781 ">
                                 <p><code class="codeph">USER_HAS_ROLE</code> function
                                 </p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d110972e1907 d110972e1784 ">
                                 <p>Checks whether a user has a role privilege, directly or indirectly (through another role)</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d110972e1916" headers="d110972e1781 ">
                                 <p><code class="codeph">USER_HAS_ROLE_VARCHAR</code> function
                                 </p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d110972e1916 d110972e1784 ">
                                 <p>Checks whether a user has a role privilege, directly or indirectly (through another role)</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d110972e1925" headers="d110972e1781 ">
                                 <p><code class="codeph">USER_HAS_SYSTEM_PRIVILEGE</code> function
                                 </p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d110972e1925 d110972e1784 ">
                                 <p>Checks whether a user has a system privilege, directly or indirectly (through a role)</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="oracle-database-vault-api-reference.html#GUID-81F80DC1-78A2-498D-8040-544EE2380376" title="Oracle Database Vault provides a rich set of APIs, both in PL/SQL packages and in standalone procedures.">Oracle Database Vault API Reference</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DVADM71203"></a><div class="props_rev_3"><a id="GUID-6D7F2A86-7478-4D29-840F-749DC748A050" name="GUID-6D7F2A86-7478-4D29-840F-749DC748A050"></a><h3 id="DVADM-GUID-6D7F2A86-7478-4D29-840F-749DC748A050" class="sect3">CONFIGURE_DV PL/SQL Procedure</h3>
               <div>
                  <p>The <code class="codeph">CONFIGURE_DV</code> configures the initial two Oracle Database user accounts, which are granted the <code class="codeph">DV_OWNER</code> and <code class="codeph">DV_ACCTMGR</code> roles, respectively. 
                  </p>
                  <div class="section">
                     <p>This procedure is used as part of the registration process for Oracle Database Vault with an Oracle database. You only need to use it once for the database instance.</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="oracle-database-vault-api-reference.html#GUID-81F80DC1-78A2-498D-8040-544EE2380376" title="Oracle Database Vault provides a rich set of APIs, both in PL/SQL packages and in standalone procedures.">Oracle Database Vault API Reference</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DVADM71205"></a><a id="DVADM71204"></a><div class="props_rev_3"><a id="GUID-BBCD15CC-7F0F-4F4E-ADD7-D030C3CF1279" name="GUID-BBCD15CC-7F0F-4F4E-ADD7-D030C3CF1279"></a><h3 id="DVADM-GUID-BBCD15CC-7F0F-4F4E-ADD7-D030C3CF1279" class="sect3">DVF PL/SQL Interface Contents</h3>
               <div>
                  <p>The <code class="codeph">DVF</code> schema provides a set of factor-related PL/SQL functions. 
                  </p>
                  <p>The functions are then available to the general database account population through PL/SQL functions and standard SQL.</p>
                  <p><a href="oracle-database-vault-api-reference.html#GUID-BBCD15CC-7F0F-4F4E-ADD7-D030C3CF1279__CACEJCEF" title="DVSYS PL/SQL interfaces">Table 23-11</a> lists the <code class="codeph">DVF</code> factor functions.
                  </p>
                  <div class="tblformal" id="GUID-BBCD15CC-7F0F-4F4E-ADD7-D030C3CF1279__CACEJCEF">
                     <p class="titleintable">Table 23-11 DVF PL/SQL Interface Contents</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DVF PL/SQL Interface Contents" summary="DVSYS PL/SQL interfaces" width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="35%" id="d110972e2145">Function</th>
                              <th align="left" valign="bottom" width="65%" id="d110972e2148">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d110972e2153" headers="d110972e2145 ">
                                 <p><code class="codeph">F$CLIENT_IP</code></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d110972e2153 d110972e2148 ">
                                 <p>Returns the IP address of the computer from which the client is connected</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d110972e2161" headers="d110972e2145 ">
                                 <p><code class="codeph">F$DATABASE_DOMAIN</code></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d110972e2161 d110972e2148 ">
                                 <p>Returns the domain of the database as specified in the <code class="codeph">DB_DOMAIN</code> initialization parameter
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d110972e2172" headers="d110972e2145 ">
                                 <p><code class="codeph">F$DATABASE_HOSTNAME</code></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d110972e2172 d110972e2148 ">
                                 <p>Returns the host name of the computer on which the database instance is running</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d110972e2180" headers="d110972e2145 ">
                                 <p><code class="codeph">F$DATABASE_INSTANCE</code></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d110972e2180 d110972e2148 ">
                                 <p>Returns the database instance identification number of the current database instance</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d110972e2188" headers="d110972e2145 ">
                                 <p><code class="codeph">F$DATABASE_IP</code></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d110972e2188 d110972e2148 ">
                                 <p>Returns the IP address of the computer on which the database instance is running</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d110972e2196" headers="d110972e2145 ">
                                 <p><code class="codeph">F$DATABASE_NAME</code></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d110972e2196 d110972e2148 ">
                                 <p>Returns the name of the database as specified in the <code class="codeph">DB_NAME</code> initialization parameter
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d110972e2207" headers="d110972e2145 ">
                                 <p><code class="codeph">F$DOMAIN</code></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d110972e2207 d110972e2148 ">
                                 <p>Returns a named collection of physical, configuration, or implementation-specific factors in the run-time environment (for example, a networked IT environment or subset of it) that operates at a specific sensitivity level</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d110972e2215" headers="d110972e2145 ">
                                 <p><code class="codeph">F$ENTERPRISE_IDENTITY</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d110972e2215 d110972e2148 ">
                                 <p>Returns the enterprise-wide identity for a user</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d110972e2224" headers="d110972e2145 ">
                                 <p><code class="codeph">F$IDENTIFICATION_TYPE</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d110972e2224 d110972e2148 ">
                                 <p>Returns the way the schema of a user was created in the database. Specifically, it reflects the <code class="codeph">IDENTIFIED</code> clause in the <code class="codeph">CREATE USER</code> or <code class="codeph">ALTER USER</code> syntax.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d110972e2242" headers="d110972e2145 ">
                                 <p><code class="codeph">F$LANG</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d110972e2242 d110972e2148 ">
                                 <p>Returns the ISO abbreviation for the language name, a shorter form than the existing <code class="codeph">LANGUAGE</code> parameter
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d110972e2254" headers="d110972e2145 ">
                                 <p><code class="codeph">F$LANGUAGE</code></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d110972e2254 d110972e2148 ">
                                 <p>Returns the language and territory currently used by your session, in <code class="codeph">VARCHAR2</code> data type, along with the database character set
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d110972e2266" headers="d110972e2145 ">
                                 <p><code class="codeph">F$MACHINE</code></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d110972e2266 d110972e2148 ">
                                 <p>Returns the computer (host) name for the database client that established the database session.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d110972e2274" headers="d110972e2145 ">
                                 <p><code class="codeph">F$NETWORK_PROTOCOL</code></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d110972e2274 d110972e2148 ">
                                 <p>Returns the network protocol being used for communication, as specified in the <code class="codeph">PROTOCOL</code>=<span class="italic"><code class="codeph">protocol</code></span> portion of the connect string
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d110972e2289" headers="d110972e2145 ">
                                 <p><code class="codeph">F$PROXY_ENTERPRISE_IDENTITY</code></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d110972e2289 d110972e2148 ">
                                 <p>Returns the Oracle Internet Directory distinguished name (DN) when the proxy user is an enterprise user</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d110972e2297" headers="d110972e2145 ">
                                 <p><code class="codeph">F$SESSION_USER</code></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d110972e2297 d110972e2148 ">
                                 <p>Returns the database user name by which the current user is authenticated</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="oracle-database-vault-api-reference.html#GUID-81F80DC1-78A2-498D-8040-544EE2380376" title="Oracle Database Vault provides a rich set of APIs, both in PL/SQL packages and in standalone procedures.">Oracle Database Vault API Reference</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html><html id='01071.DBMS_PIPE.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="The DBMS_PIPE package lets two or more sessions in the same instance communicate. Oracle pipes are similar in concept to the pipes used in UNIX, but Oracle pipes are not implemented using the operating system pipe mechanisms.">
      <meta name="description" content="The DBMS_PIPE package lets two or more sessions in the same instance communicate. Oracle pipes are similar in concept to the pipes used in UNIX, but Oracle pipes are not implemented using the operating system pipe mechanisms.">
      <title>DBMS_PIPE</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="PL/SQL Packages and Types Reference">
      <meta property="og:description" content="The DBMS_PIPE package lets two or more sessions in the same instance communicate. Oracle pipes are similar in concept to the pipes used in UNIX, but Oracle pipes are not implemented using the operating system pipe mechanisms.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="PL/SQL Packages and Types Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-25T11:24:34-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96430-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="DBMS_PERF.html" title="Previous" type="text/html">
      <link rel="next" href="DBMS_PLSQL_CODE_COVERAGE.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference">
    <meta name="dcterms.isVersionOf" content="ARPLS">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBMS_PERF.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="DBMS_PLSQL_CODE_COVERAGE.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL/SQL Packages and Types Reference</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> DBMS_PIPE </li>
            </ol>
            <a id="GUID-84B9B55F-9D82-45D0-B9CA-9A6AEEF9C8F8" name="GUID-84B9B55F-9D82-45D0-B9CA-9A6AEEF9C8F8"></a><a id="ARPLS038"></a><a id="ARPLS038"></a>
            
            <h2 id="ARPLS-GUID-84B9B55F-9D82-45D0-B9CA-9A6AEEF9C8F8" class="sect2"><span class="enumeration_chapter">121 </span> DBMS_PIPE 
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The <code class="codeph">DBMS_PIPE</code> package lets two or more sessions in the same instance communicate. Oracle pipes are similar in concept to the pipes used in UNIX, but Oracle pipes are not implemented using the operating system pipe mechanisms. 
               </p>
               <p>This chapter contains the following topics:<a id="d665057e89" class="indexterm-anchor"></a></p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="DBMS_PIPE.html#GUID-B2DC7563-BE37-4A7F-8B3A-5C85B80E42D4" title="Pipe functionality has several potential applications: external service interface, independent transactions, alerters (non-transactional), debugging, and concentrator.">Overview</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_PIPE.html#GUID-E579BAF5-4425-44C1-916C-089612F2194A" title="Security can be achieved by use of GRANT EXECUTE on the DBMS_PIPE package by creating a pipe using the private parameter in the CREATE_PIPE function and by writing cover packages that only expose particular features or pipenames to particular users or roles.">Security Model</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_PIPE.html#GUID-87932932-F155-44F9-B95D-8A23147CD89B" title="This is the maximum time to wait attempting to send or receive a message.">Constants</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_PIPE.html#GUID-B2322A09-E748-48D2-A4C5-8175B9BADB1A" title="Information sent through Oracle pipes is buffered in the system global area (SGA). All information in pipes is lost when the instance is shut down.">Operational Notes</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_PIPE.html#GUID-2366E6E9-9723-4E34-A0BD-45175AED593D" title="DBMS_PIPE package subprograms can return the errors listed in the following table.">Exceptions</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_PIPE.html#GUID-BE0F5FFB-1546-41C3-B3DA-6064CD659C1F" title="These examples show use of DBMS_PIPE in debugging PL/SQL, debugging Pro*C, executing system commands, and an external service interface.">Examples</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_PIPE.html#GUID-36A6D2CB-97DD-4161-95F0-57ECC1367998" title="This table lists the DBMS_PIPE subprograms and briefly describes them.">Summary of DBMS_PIPE Subprograms</a></p>
                  </li>
               </ul>
            </div><a id="ARPLS67393"></a><a id="ARPLS67393"></a><div class="props_rev_3"><a id="GUID-B2DC7563-BE37-4A7F-8B3A-5C85B80E42D4" name="GUID-B2DC7563-BE37-4A7F-8B3A-5C85B80E42D4"></a><h3 id="ARPLS-GUID-B2DC7563-BE37-4A7F-8B3A-5C85B80E42D4" class="sect3"><span class="enumeration_section">121.1 </span>DBMS_PIPE Overview
               </h3>
               <div>
                  <p>Pipe functionality has several potential applications: external service interface, independent transactions, alerters (non-transactional), debugging, and concentrator.</p>
                  <div class="section">
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>External service interface: You can communicate with user-written services that are external to the RDBMS. This can be done effectively in a shared server process, so that several instances of the service are executing simultaneously. Additionally, the services are available asynchronously. The requestor of the service does not need to block a waiting reply. The requestor can check (with or without time out) at a later time. The service can be written in any of the 3GL languages that Oracle supports.</p>
                        </li>
                        <li>
                           <p>Independent transactions: The pipe can communicate to a separate session which can perform an operation in an independent transaction (such as logging an attempted security violation detected by a trigger).</p>
                        </li>
                        <li>
                           <p>Alerters (non-transactional): You can post another process without requiring the waiting process to poll. If an "after-row" or "after-statement" trigger were to alert an application, then the application would treat this alert as an indication that the data probably changed. The application would then read the data to get the current value. Because this is an "after" trigger, the application would want to do a "<code class="codeph">SELECT</code> <code class="codeph">FOR</code> <code class="codeph">UPDATE</code>" to make sure it read the correct data.
                           </p>
                        </li>
                        <li>
                           <p>Debugging: Triggers and stored procedures can send debugging information to a pipe. Another session can keep reading out of the pipe and display it on the screen or write it to a file.</p>
                        </li>
                        <li>
                           <p>Concentrator: This is useful for multiplexing large numbers of users over a fewer number of network connections, or improving performance by concentrating several user-transactions into one DBMS transaction.</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS67394"></a><a id="ARPLS67394"></a><div class="props_rev_3"><a id="GUID-E579BAF5-4425-44C1-916C-089612F2194A" name="GUID-E579BAF5-4425-44C1-916C-089612F2194A"></a><h3 id="ARPLS-GUID-E579BAF5-4425-44C1-916C-089612F2194A" class="sect3"><span class="enumeration_section">121.2 </span>DBMS_PIPE Security Model
               </h3>
               <div>
                  <p>Security can be achieved by use of <code class="codeph">GRANT</code> <code class="codeph">EXECUTE</code> on the <code class="codeph">DBMS_PIPE</code> package by creating a pipe using the <code class="codeph">private</code> parameter in the <code class="codeph">CREATE_PIPE</code> function and by writing cover packages that only expose particular features or pipenames to particular users or roles.
                  </p>
                  <div class="section">
                     <p>Depending upon your security requirements, you may choose to use either public pipes or private pipes, which are described in <a href="DBMS_PIPE.html#GUID-B2322A09-E748-48D2-A4C5-8175B9BADB1A" title="Information sent through Oracle pipes is buffered in the system global area (SGA). All information in pipes is lost when the instance is shut down.">DBMS_PIPE Operational Notes</a>.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS67395"></a><a id="ARPLS67395"></a><div class="props_rev_3"><a id="GUID-87932932-F155-44F9-B95D-8A23147CD89B" name="GUID-87932932-F155-44F9-B95D-8A23147CD89B"></a><h3 id="ARPLS-GUID-87932932-F155-44F9-B95D-8A23147CD89B" class="sect3"><span class="enumeration_section">121.3 </span>DBMS_PIPE Constants
               </h3>
               <div>
                  <p>This is the maximum time to wait attempting to send or receive a message.</p>
                  <div class="section"><pre class="oac_no_warn" dir="ltr">maxwait   constant integer := 86400000; /* 1000 days */ 
</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS67396"></a><a id="ARPLS67396"></a><div class="props_rev_3"><a id="GUID-B2322A09-E748-48D2-A4C5-8175B9BADB1A" name="GUID-B2322A09-E748-48D2-A4C5-8175B9BADB1A"></a><h3 id="ARPLS-GUID-B2322A09-E748-48D2-A4C5-8175B9BADB1A" class="sect3"><span class="enumeration_section">121.4 </span>DBMS_PIPE Operational Notes
               </h3>
               <div>
                  <p>Information sent through Oracle pipes is buffered in the system global area (SGA). All information in pipes is lost when the instance is shut down. </p>
                  <div class="section">
                     <div class="infoboxnotewarn" id="GUID-B2322A09-E748-48D2-A4C5-8175B9BADB1A__GUID-D21D5CC7-B59E-41EB-8B14-600121B8B16A">
                        <p class="notep1">WARNING:</p>
                        <p>Pipes are independent of transactions. Be careful using pipes when transaction control can be affected.</p>
                     </div>
                     <p>The operation of <code class="codeph">DBMS_PIPE</code> is considered with regard to the following topics:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Public Pipes</p> 
                        </li>
                        <li>
                           <p>Writing and Reading Pipes</p>
                        </li>
                        <li>
                           <p>Private Pipes</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B2322A09-E748-48D2-A4C5-8175B9BADB1A__GUID-17E97F60-6578-4D64-B956-7AC37A892EBC">Public Pipes</p>
                     <p>You may create a public pipe either implicitly or explicitly. For <span class="italic">implicit</span> public pipes, the pipe is automatically created when it is referenced for the first time, and it disappears when it no longer contains data. Because the pipe descriptor is stored in the SGA, there is some space usage overhead until the empty pipe is aged out of the cache.
                     </p>
                     <p>You create an <span class="italic">explicit</span> public pipe by calling the <code class="codeph">CREATE_PIPE</code> function with the <code class="codeph">private</code> flag set to <code class="codeph">FALSE</code>. You must deallocate explicitly-created pipes by calling the <code class="codeph">REMOVE_PIPE</code> function.
                     </p>
                     <p>The domain of a public pipe is the schema in which it was created, either explicitly or implicitly. </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B2322A09-E748-48D2-A4C5-8175B9BADB1A__GUID-FB1CD63E-3E2E-4B2A-AA9E-3858AB2C4D09">Reading and Writing Pipes</p>
                     <p>Each public pipe works asynchronously. Any number of schema users can write to a public pipe, as long as they have <code class="codeph">EXECUTE</code> permission on the <code class="codeph">DBMS_PIPE</code> package, and they know the name of the public pipe. However, once buffered information is read by one user, it is emptied from the buffer, and is not available for other readers of the same pipe.
                     </p>
                     <p>The sending session builds a message using one or more calls to the <code class="codeph">PACK_MESSAGE</code> procedure. This procedure adds the message to the session's local message buffer. The information in this buffer is sent by calling the <code class="codeph">SEND_MESSAGE</code> function, designating the pipe name to be used to send the message. When <code class="codeph">SEND_MESSAGE</code> is called, all messages that have been stacked in the local buffer are sent.
                     </p>
                     <p>A process that wants to receive a message calls the <code class="codeph">RECEIVE_MESSAGE</code> function, designating the pipe name from which to receive the message. The process then calls the <code class="codeph">UNPACK_MESSAGE</code> procedure to access each of the items in the message.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B2322A09-E748-48D2-A4C5-8175B9BADB1A__GUID-E4132666-DD5B-4739-86BA-F4F84D237185">Private Pipes</p>
                     <p>You explicitly create a private pipe by calling the <code class="codeph">CREATE_PIPE</code> function. Once created, the private pipe persists in shared memory until you explicitly deallocate it by calling the <code class="codeph">REMOVE_PIPE</code> function. A private pipe is also deallocated when the database instance is shut down. 
                     </p>
                     <p>You cannot create a private pipe if an implicit pipe exists in memory and has the same name as the private pipe you are trying to create. In this case, <code class="codeph">CREATE_PIPE</code> returns an error.
                     </p>
                     <p>Access to a private pipe is restricted to:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Sessions running under the same userid as the creator of the pipe</p>
                        </li>
                        <li>
                           <p>Stored subprograms executing in the same userid privilege domain as the pipe creator</p>
                        </li>
                        <li>
                           <p>Users connected as <code class="codeph">SYSDBA</code></p>
                        </li>
                     </ul>
                     <p>An attempt by any other user to send or receive messages on the pipe, or to remove the pipe, results in an immediate error. Any attempt by another user to create a pipe with the same name also causes an error.</p>
                     <p>As with public pipes, you must first build your message using calls to <code class="codeph">PACK_MESSAGE</code> before calling <code class="codeph">SEND_MESSAGE</code>. Similarly, you must call <code class="codeph">RECEIVE_MESSAGE</code> to retrieve the message before accessing the items in the message by calling <code class="codeph">UNPACK_MESSAGE</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS67400"></a><a id="ARPLS67401"></a><a id="ARPLS67401"></a><a id="ARPLS67400"></a><div class="props_rev_3"><a id="GUID-2366E6E9-9723-4E34-A0BD-45175AED593D" name="GUID-2366E6E9-9723-4E34-A0BD-45175AED593D"></a><h3 id="ARPLS-GUID-2366E6E9-9723-4E34-A0BD-45175AED593D" class="sect3"><span class="enumeration_section">121.5 </span>DBMS_PIPE Exceptions
               </h3>
               <div>
                  <p><code class="codeph">DBMS_PIPE</code> package subprograms can return the errors listed in the following table.
                  </p>
                  <div class="tblformal" id="GUID-2366E6E9-9723-4E34-A0BD-45175AED593D__GUID-12F20428-10E3-4C25-BB98-9550FD99F02C">
                     <p class="titleintable">Table 121-1 DBMS_PIPE Errors </p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_PIPE Errors " summary="This table describes the Exceptions raised by the DBMS_PIPE subprograms." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="26%" id="d665057e791">Error</th>
                              <th align="left" valign="bottom" width="74%" id="d665057e794">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d665057e799" headers="d665057e791 ">
                                 <p><code class="codeph">ORA-23321:</code></p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d665057e799 d665057e794 ">
                                 <p>Pipename may not be null. This can be returned by the <code class="codeph">CREATE_PIPE</code> function, or any subprogram that takes a pipe name as a parameter. 
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="26%" id="d665057e810" headers="d665057e791 ">
                                 <p><code class="codeph">ORA-23322:</code></p>
                              </td>
                              <td align="left" valign="top" width="74%" headers="d665057e810 d665057e794 ">
                                 <p>Insufficient privilege to access pipe. This can be returned by any subprogram that references a private pipe in its parameter list.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="ARPLS67402"></a><a id="ARPLS67402"></a><div class="props_rev_3"><a id="GUID-BE0F5FFB-1546-41C3-B3DA-6064CD659C1F" name="GUID-BE0F5FFB-1546-41C3-B3DA-6064CD659C1F"></a><h3 id="ARPLS-GUID-BE0F5FFB-1546-41C3-B3DA-6064CD659C1F" class="sect3"><span class="enumeration_section">121.6 </span>DBMS_PIPE Examples
               </h3>
               <div>
                  <p>These examples show use of DBMS_PIPE in debugging PL/SQL, debugging Pro*C, executing system commands, and an external service interface.</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-BE0F5FFB-1546-41C3-B3DA-6064CD659C1F__GUID-CBF262FF-ED6D-47D8-BC28-AD838AE18BA9">Example 1: Debugging - PL/SQL</p>
                     <p>This example shows the procedure that a PL/SQL program can call to place debugging information in a pipe.</p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE PROCEDURE debug (msg VARCHAR2) AS
    status  NUMBER;
BEGIN
  DBMS_PIPE.PACK_MESSAGE(LENGTH(msg));
  DBMS_PIPE.PACK_MESSAGE(msg);
  status := DBMS_PIPE.SEND_MESSAGE('plsql_debug');
  IF status != 0 THEN
    raise_application_error(-20099, 'Debug error');
  END IF;
END debug;
</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-BE0F5FFB-1546-41C3-B3DA-6064CD659C1F__GUID-95A2C2E4-DD79-4F8A-8032-D6D3A8E7045C">Example 2: Debugging - Pro*C</p>
                     <p>The following Pro*C code receives messages from the <code class="codeph">PLSQL_DEBUG</code> pipe in the previous example, and displays the messages. If the Pro*C session is run in a separate window, then it can be used to display any messages that are sent to the debug procedure from a PL/SQL program executing in a separate session.
                     </p><pre class="oac_no_warn" dir="ltr">#include &lt;stdio.h&gt; 
#include &lt;string.h&gt; 
 
EXEC SQL BEGIN DECLARE SECTION; 
   VARCHAR username[20]; 
   int     status; 
   int     msg_length;
   char    retval[2000];
EXEC SQL END DECLARE SECTION; 
 
EXEC SQL INCLUDE SQLCA; 
 
void sql_error(); 
 
main() 
{ 

-- Prepare username:
   strcpy(username.arr, "SCOTT/TIGER"); 
   username.len = strlen(username.arr); 
 
   EXEC SQL WHENEVER SQLERROR DO sql_error(); 
   EXEC SQL CONNECT :username; 
 
   printf("connected\n"); 
 
-- Start an endless loop to look for and print messages on the pipe:
   FOR (;;) 
   { 
      EXEC SQL EXECUTE 
         DECLARE 
            len INTEGER;
            typ INTEGER;
            sta INTEGER; 
            chr VARCHAR2(2000); 
         BEGIN 
            chr := ''; 
            sta := dbms_pipe.receive_message('plsql_debug'); 
            IF sta = 0 THEN 
               DBMS_PIPE.UNPACK_MESSAGE(len);
               DBMS_PIPE.UNPACK_MESSAGE(chr); 
            END IF; 
            :status := sta; 
            :retval := chr; 
            IF len IS NOT NULL THEN
               :msg_length := len;
            ELSE
               :msg_length := 2000;
            END IF;
         END; 
      END-EXEC; 
      IF (status == 0) 
         printf("\n%.*s\n", msg_length, retval);
      ELSE 
         printf("abnormal status, value is %d\n", status); 
   }
}

void sql_error() 
{ 
   char msg[1024]; 
   int rlen, len; 
   len = sizeof(msg); 
   sqlglm(msg, &amp;len, &amp;rlen); 
   printf("ORACLE ERROR\n"); 
   printf("%.*s\n", rlen, msg); 
   exit(1); 
} </pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-BE0F5FFB-1546-41C3-B3DA-6064CD659C1F__GUID-EA970F6B-9198-4290-A129-49C2F34D8328">Example 3: Execute System Commands</p>
                     <p>This example shows PL/SQL and Pro*C code let a PL/SQL stored procedure (or anonymous block) call PL/SQL procedures to send commands over a pipe to a Pro*C program that is listening for them.</p>
                     <p>The Pro*C program sleeps and waits for a message to arrive on the named pipe. When a message arrives, the Pro*C program processes it, carrying out the required action, such as executing a UNIX command through the <span class="italic">system</span>() call or executing a SQL command using embedded SQL.
                     </p>
                     <p><code class="codeph">DAEMON.SQL</code> is the source code for the PL/SQL package. This package contains procedures that use the <code class="codeph">DBMS_PIPE</code> package to send and receive message to and from the Pro*C daemon. Note that full handshaking is used. The daemon always sends a message back to the package (except in the case of the <code class="codeph">STOP</code> command). This is valuable, because it allows the PL/SQL procedures to be sure that the Pro*C daemon is running.
                     </p>
                     <p>You can call the DAEMON packaged procedures from an anonymous PL/SQL block using SQL*Plus or Enterprise Manager. For example:</p><pre class="oac_no_warn" dir="ltr">SQLPLUS&gt; variable rv number
SQLPLUS&gt; execute :rv := DAEMON.EXECUTE_SYSTEM('ls -la');
</pre><p>On a UNIX system, this causes the Pro*C daemon to execute the command <span class="italic">system</span>("<span class="italic">ls -la</span>").
                     </p>
                     <p>Remember that the daemon needs to be running first. You might want to run it in the background, or in another window beside the SQL*Plus or Enterprise Manager session from which you call it.</p>
                     <p>The <code class="codeph">DAEMON</code>.<code class="codeph">SQL</code> also uses the <code class="codeph">DBMS_OUTPUT</code> package to display the results. For this example to work, you must have execute privileges on this package.
                     </p>
                     <p>DAEMON.SQL Example. This is the code for the PL/SQL <code class="codeph">DAEMON</code> package:
                     </p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE PACKAGE daemon AS
  FUNCTION execute_sql(command VARCHAR2, 
                       timeout NUMBER DEFAULT 10)
    RETURN NUMBER;

  FUNCTION execute_system(command VARCHAR2,
                          timeout NUMBER DEFAULT 10)
    RETURN NUMBER;

  PROCEDURE stop(timeout NUMBER DEFAULT 10);
END daemon;
/
CREATE OR REPLACE PACKAGE BODY daemon AS

  FUNCTION execute_system(command VARCHAR2,
                          timeout NUMBER DEFAULT 10)
  RETURN NUMBER IS

    status       NUMBER;
    result       VARCHAR2(20);
    command_code NUMBER;
    pipe_name    VARCHAR2(30);
  BEGIN
    pipe_name := DBMS_PIPE.UNIQUE_SESSION_NAME;

    DBMS_PIPE.PACK_MESSAGE('SYSTEM');
    DBMS_PIPE.PACK_MESSAGE(pipe_name);
    DBMS_PIPE.PACK_MESSAGE(command);
    status := DBMS_PIPE.SEND_MESSAGE('daemon', timeout);
    IF status &lt;&gt; 0 THEN
      RAISE_APPLICATION_ERROR(-20010,
        'Execute_system: Error while sending.  Status = ' ||
         status);
    END IF;

    status := DBMS_PIPE.RECEIVE_MESSAGE(pipe_name, timeout);
    IF status &lt;&gt; 0 THEN
      RAISE_APPLICATION_ERROR(-20011,
        'Execute_system: Error while receiving. 
         Status = ' || status);
    END IF;

    DBMS_PIPE.UNPACK_MESSAGE(result);
    IF result &lt;&gt; 'done' THEN
      RAISE_APPLICATION_ERROR(-20012,
        'Execute_system: Done not received.');
    END IF;

    DBMS_PIPE.UNPACK_MESSAGE(command_code);
    DBMS_OUTPUT.PUT_LINE('System command executed.  result = ' ||
                         command_code);
    RETURN command_code;
  END execute_system;

  FUNCTION execute_sql(command VARCHAR2,
                       timeout NUMBER DEFAULT 10)
  RETURN NUMBER IS

    status       NUMBER;
    result       VARCHAR2(20);
    command_code NUMBER;
    pipe_name    VARCHAR2(30);

  BEGIN
    pipe_name := DBMS_PIPE.UNIQUE_SESSION_NAME;

    DBMS_PIPE.PACK_MESSAGE('SQL');
    DBMS_PIPE.PACK_MESSAGE(pipe_name);
    DBMS_PIPE.PACK_MESSAGE(command);
    status := DBMS_PIPE.SEND_MESSAGE('daemon', timeout);
    IF status &lt;&gt; 0 THEN
      RAISE_APPLICATION_ERROR(-20020,
        'Execute_sql: Error while sending.  Status = ' || status);
    END IF;

    status := DBMS_PIPE.RECEIVE_MESSAGE(pipe_name, timeout);

    IF status &lt;&gt; 0 THEN
      RAISE_APPLICATION_ERROR(-20021,
        'execute_sql: Error while receiving.  
         Status = ' || status);
    END IF;

    DBMS_PIPE.UNPACK_MESSAGE(result);
    IF result &lt;&gt; 'done' THEN
      RAISE_APPLICATION_ERROR(-20022,
        'execute_sql: done not received.');
    END IF;

    DBMS_PIPE.UNPACK_MESSAGE(command_code);
    DBMS_OUTPUT.PUT_LINE
        ('SQL command executed.  sqlcode = ' || command_code);
    RETURN command_code;
  END execute_sql;

  PROCEDURE stop(timeout NUMBER DEFAULT 10) IS
    status NUMBER;
  BEGIN
    DBMS_PIPE.PACK_MESSAGE('STOP');
    status := DBMS_PIPE.SEND_MESSAGE('daemon', timeout);
    IF status &lt;&gt; 0 THEN
      RAISE_APPLICATION_ERROR(-20030,
        'stop: error while sending.  status = ' || status);
    END IF;
  END stop;
END daemon;</pre><p>daemon.pc Example. This is the code for the Pro*C daemon. You must precompile this using the Pro*C Precompiler, Version 1.5.x or later. You must also specify the <code class="codeph">USERID</code> and <code class="codeph">SQLCHECK</code> options, as the example contains embedded PL/SQL code. 
                     </p>
                     <div class="infoboxnote" id="GUID-BE0F5FFB-1546-41C3-B3DA-6064CD659C1F__GUID-1A5A6EF3-A480-46AA-88D0-FE5681523106">
                        <p class="notep1">Note:</p>
                        <p>To use a <code class="codeph">VARCHAR</code> output host variable in a PL/SQL block, you must initialize the length component before entering the block.
                        </p>
                     </div><pre class="oac_no_warn" dir="ltr">proc iname=daemon userid=scott/tiger sqlcheck=semantics
</pre><p>Then C-compile and link in the normal way.</p><pre class="oac_no_warn" dir="ltr">#include &lt;stdio.h&gt;
#include &lt;string.h&gt;

EXEC SQL INCLUDE SQLCA;

EXEC SQL BEGIN DECLARE SECTION;
  char *uid = "scott/tiger";
  int status;
  VARCHAR command[20];
  VARCHAR value[2000];
  VARCHAR return_name[30];
EXEC SQL END DECLARE SECTION;

void
connect_error()
{
  char msg_buffer[512];
  int msg_length;
  int buffer_size = 512;

  EXEC SQL WHENEVER SQLERROR CONTINUE;
  sqlglm(msg_buffer, &amp;buffer_size, &amp;msg_length);
  printf("Daemon error while connecting:\n");
  printf("%.*s\n", msg_length, msg_buffer);
  printf("Daemon quitting.\n");
  exit(1);
}

void
sql_error()
{
  char msg_buffer[512];
  int msg_length;
  int buffer_size = 512;

  EXEC SQL WHENEVER SQLERROR CONTINUE;
  sqlglm(msg_buffer, &amp;buffer_size, &amp;msg_length);
  printf("Daemon error while executing:\n");
  printf("%.*s\n", msg_length, msg_buffer);
  printf("Daemon continuing.\n");
}
main()
{
command.len = 20; /*initialize length components*/ 
value.len = 2000; 
return_name.len  = 30; 
  EXEC SQL WHENEVER SQLERROR DO connect_error();
  EXEC SQL CONNECT :uid;
  printf("Daemon connected.\n");

  EXEC SQL WHENEVER SQLERROR DO sql_error();
  printf("Daemon waiting...\n");
  while (1) {
    EXEC SQL EXECUTE
      BEGIN
        :status := DBMS_PIPE.RECEIVE_MESSAGE('daemon');
        IF :status = 0 THEN
          DBMS_PIPE.UNPACK_MESSAGE(:command);
        END IF;
      END;
    END-EXEC;
    IF (status == 0)
    {
      command.arr[command.len] = '\0';
      IF (!strcmp((char *) command.arr, "STOP"))
      {
        printf("Daemon exiting.\n");
        break;
      }

      ELSE IF (!strcmp((char *) command.arr, "SYSTEM"))
      {
        EXEC SQL EXECUTE
          BEGIN
            DBMS_PIPE.UNPACK_MESSAGE(:return_name);
            DBMS_PIPE.UNPACK_MESSAGE(:value);
          END;
        END-EXEC;
        value.arr[value.len] = '\0';
        printf("Will execute system command '%s'\n", value.arr);

        status = system(value.arr);
        EXEC SQL EXECUTE
          BEGIN
            DBMS_PIPE.PACK_MESSAGE('done');
            DBMS_PIPE.PACK_MESSAGE(:status);
            :status := DBMS_PIPE.SEND_MESSAGE(:return_name);
          END;
        END-EXEC;

        IF (status)
        {
          printf
           ("Daemon error while responding to system command.");
          printf("  status: %d\n", status);
        }
      }
      ELSE IF (!strcmp((char *) command.arr, "SQL")) {
        EXEC SQL EXECUTE
          BEGIN
            DBMS_PIPE.UNPACK_MESSAGE(:return_name);
            DBMS_PIPE.UNPACK_MESSAGE(:value);
          END;
        END-EXEC;
        value.arr[value.len] = '\0';
        printf("Will execute sql command '%s'\n", value.arr);

        EXEC SQL WHENEVER SQLERROR CONTINUE;
        EXEC SQL EXECUTE IMMEDIATE :value;
        status = sqlca.sqlcode;

        EXEC SQL WHENEVER SQLERROR DO sql_error();
        EXEC SQL EXECUTE
          BEGIN
            DBMS_PIPE.PACK_MESSAGE('done');
            DBMS_PIPE.PACK_MESSAGE(:status);
            :status := DBMS_PIPE.SEND_MESSAGE(:return_name);
          END;
        END-EXEC;

        IF (status)
        {
          printf("Daemon error while responding to sql command.");
          printf("  status: %d\n", status);
        }
      }
      ELSE
      {
        printf
          ("Daemon error: invalid command '%s' received.\n",
            command.arr);
      }
    }
    ELSE
    {
      printf("Daemon error while waiting for signal.");
      printf("  status = %d\n", status);
    }
  }
  EXEC SQL COMMIT WORK RELEASE;
  exit(0);</pre></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-BE0F5FFB-1546-41C3-B3DA-6064CD659C1F__GUID-32025D1A-BFE4-4695-B18F-7BAE81B70690">Example 4: External Service Interface</p>
                     <p>Put the user-written 3GL code into an OCI or Precompiler program. The program connects to the database and executes PL/SQL code to read its request from the pipe, computes the result, and then executes PL/SQL code to send the result on a pipe back to the requestor.</p>
                     <p>Below is an example of a stock service request. The recommended sequence for the arguments to pass on the pipe for all service requests is:</p><pre class="oac_no_warn" dir="ltr">      protocol_version      VARCHAR2        - '1', 10 bytes or less
      returnpipe            VARCHAR2        - 30 bytes or less
      service               VARCHAR2        - 30 bytes or less
      arg1                  VARCHAR2/NUMBER/DATE
         ...
      argn                  VARCHAR2/NUMBER/DATE
</pre><p>The recommended format for returning the result is:</p><pre class="oac_no_warn" dir="ltr">      success               VARCHAR2        - 'SUCCESS' if OK,
                                              otherwise error message
      arg1                  VARCHAR2/NUMBER/DATE
         ...
      argn                  VARCHAR2/NUMBER/DATE
</pre><p>The "stock price request server" would do, using OCI or PRO* (in pseudo-code):</p><pre class="oac_no_warn" dir="ltr">    &lt;loop forever&gt;
      BEGIN dbms_stock_server.get_request(:stocksymbol); END;
      &lt;figure out price based on stocksymbol (probably from some radio
            signal), set error if can't find such a stock&gt;
      BEGIN dbms_stock_server.return_price(:error, :price); END;
</pre><p>A client would do:</p><pre class="oac_no_warn" dir="ltr">    BEGIN :price := stock_request('YOURCOMPANY'); end;
</pre><p>The stored procedure, <code class="codeph">dbms_stock_server</code>, which is called by the preceding "stock price request server" is:
                     </p><pre class="oac_no_warn" dir="ltr">    CREATE OR REPLACE PACKAGE dbms_stock_server IS
      PROCEDURE get_request(symbol OUT VARCHAR2);
      PROCEDURE return_price(errormsg IN VARCHAR2, price IN VARCHAR2);
    END;
  
    CREATE OR REPLACE PACKAGE BODY dbms_stock_server IS
      returnpipe    VARCHAR2(30);
  
      PROCEDURE returnerror(reason VARCHAR2) IS
        s INTEGER;
      BEGIN
        dbms_pipe.pack_message(reason);
        s := dbms_pipe.send_message(returnpipe);
        IF s &lt;&gt; 0 THEN
          raise_application_error(-20000, 'Error:' || to_char(s) ||
            ' sending on pipe');
        END IF;
      END;
  
      PROCEDURE get_request(symbol OUT VARCHAR2) IS
        protocol_version VARCHAR2(10);
        s                INTEGER;
        service          VARCHAR2(30);
      BEGIN
        s := dbms_pipe.receive_message('stock_service');
        IF s &lt;&gt; 0 THEN
          raise_application_error(-20000, 'Error:' || to_char(s) ||
            'reading pipe');
        END IF;
        dbms_pipe.unpack_message(protocol_version);
        IF protocol_version &lt;&gt; '1' THEN
          raise_application_error(-20000, 'Bad protocol: ' || 
            protocol_version);
        END IF;
        dbms_pipe.unpack_message(returnpipe);
        dbms_pipe.unpack_message(service);
        IF service != 'getprice' THEN
          returnerror('Service ' || service || ' not supported');
        END IF;
        dbms_pipe.unpack_message(symbol);
      END;
  
      PROCEDURE return_price(errormsg in VARCHAR2, price in VARCHAR2) IS
        s INTEGER;
      BEGIN
        IF errormsg is NULL THEN
          dbms_pipe.pack_message('SUCCESS');
          dbms_pipe.pack_message(price);
        ELSE
          dbms_pipe.pack_message(errormsg);
        END IF;
        s := dbms_pipe.send_message(returnpipe);
        IF s &lt;&gt; 0 THEN
          raise_application_error(-20000, 'Error:'||to_char(s)||
            ' sending on pipe');
        END IF;
      END;
    END;
  </pre><p>The procedure called by the client is:</p><pre class="oac_no_warn" dir="ltr">    CREATE OR REPLACE FUNCTION stock_request (symbol VARCHAR2) 
        RETURN VARCHAR2 IS
      s        INTEGER;
      price    VARCHAR2(20);
      errormsg VARCHAR2(512);
    BEGIN
      dbms_pipe.pack_message('1');  -- protocol version
      dbms_pipe.pack_message(dbms_pipe.unique_session_name); -- return pipe
      dbms_pipe.pack_message('getprice');
      dbms_pipe.pack_message(symbol);
      s := dbms_pipe.send_message('stock_service');
      IF s &lt;&gt; 0 THEN
        raise_application_error(-20000, 'Error:'||to_char(s)||
          ' sending on pipe');
      END IF;
      s := dbms_pipe.receive_message(dbms_pipe.unique_session_name);
      IF s &lt;&gt; 0 THEN
        raise_application_error(-20000, 'Error:'||to_char(s)||
          ' receiving on pipe');
      END IF;
      dbms_pipe.unpack_message(errormsg);
      IF errormsg &lt;&gt; 'SUCCESS' THEN
        raise_application_error(-20000, errormsg);
      END IF;
      dbms_pipe.unpack_message(price);
      RETURN price;
    END;
</pre><p>You would typically only <code class="codeph">GRANT</code> <code class="codeph">EXECUTE</code> on <code class="codeph">DBMS_STOCK_SERVICE</code> to the stock service application server, and would only <code class="codeph">GRANT</code> <code class="codeph">EXECUTE</code> on <code class="codeph">stock_request</code> to those users allowed to use the service.
                     </p>
                     <div class="infoboxnotealso" id="GUID-BE0F5FFB-1546-41C3-B3DA-6064CD659C1F__GUID-9562536E-D63F-489C-B754-D64514F3523F">
                        <p class="notep1">See Also:</p>
                        <p><a href="DBMS_ALERT.html#GUID-30038E9F-A074-4778-891F-335827E6071A" title="DBMS_ALERT supports asynchronous notification of database events (alerts). By appropriate use of this package and database triggers, an application can notify itself whenever values of interest in the database are changed."> DBMS_ALERT</a></p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS67407"></a><a id="ARPLS67408"></a><a id="ARPLS67408"></a><a id="ARPLS67407"></a><div class="props_rev_3"><a id="GUID-36A6D2CB-97DD-4161-95F0-57ECC1367998" name="GUID-36A6D2CB-97DD-4161-95F0-57ECC1367998"></a><h3 id="ARPLS-GUID-36A6D2CB-97DD-4161-95F0-57ECC1367998" class="sect3"><span class="enumeration_section">121.7 </span>Summary of DBMS_PIPE Subprograms
               </h3>
               <div>
                  <p>This table lists the <code class="codeph">DBMS_PIPE</code> subprograms and briefly describes them.
                  </p>
                  <div class="tblformal" id="GUID-36A6D2CB-97DD-4161-95F0-57ECC1367998__GUID-BFF49258-52E1-4083-867A-E024314B9596">
                     <p class="titleintable">Table 121-2 DBMS_PIPE Package Subprograms </p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_PIPE Package Subprograms " summary="This table lists the DBMS_PIPE subprograms in alphabetical order and briefly describes them." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="39%" id="d665057e1158">Subprogram</th>
                              <th align="left" valign="bottom" width="61%" id="d665057e1161">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d665057e1166" headers="d665057e1158 ">
                                 <p><a href="DBMS_PIPE.html#GUID-7FFC788D-EB1A-4ACA-97A9-5B60DABFEC16" title="This function explicitly creates a public or private pipe. If the private flag is TRUE, then the pipe creator is assigned as the owner of the private pipe.">CREATE_PIPE Function</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d665057e1166 d665057e1161 ">
                                 <p>Creates a pipe (necessary for private pipes)</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d665057e1184" headers="d665057e1158 ">
                                 <p><a href="DBMS_PIPE.html#GUID-A06C83BD-2CC1-42F1-9AFE-F5036AFC65DD" title="This function determines the datatype of the next item in the local message buffer.">NEXT_ITEM_TYPE Function</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d665057e1184 d665057e1161 ">
                                 <p>Returns datatype of next item in buffer</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d665057e1196" headers="d665057e1158 ">
                                 <p><a href="DBMS_PIPE.html#GUID-EE090FAB-169D-425E-8715-0B2167D28CC3" title="This procedure builds your message in the local message buffer.">PACK_MESSAGE Procedures</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d665057e1196 d665057e1161 ">
                                 <p>Builds message in local buffer</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d665057e1208" headers="d665057e1158 ">
                                 <p><a href="DBMS_PIPE.html#GUID-9F383B84-59F7-4394-BBCC-AD0E1246AE68" title="This procedure empties the contents of the named pipe.">PURGE Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d665057e1208 d665057e1161 ">
                                 <p>Purges contents of named pipe</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d665057e1220" headers="d665057e1158 ">
                                 <p><a href="DBMS_PIPE.html#GUID-33EA60FA-5B28-431F-B854-F9A1BF3A4625" title="This function copies the message into the local message buffer.">RECEIVE_MESSAGE Function</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d665057e1220 d665057e1161 ">
                                 <p>Copies message from named pipe into local buffer</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d665057e1232" headers="d665057e1158 ">
                                 <p><a href="DBMS_PIPE.html#GUID-240DFAFC-FA2F-4F67-BA73-B22213795BDE" title="This function removes explicitly-created pipes.">REMOVE_PIPE Function</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d665057e1232 d665057e1161 ">
                                 <p>Removes the named pipe</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d665057e1244" headers="d665057e1158 ">
                                 <p><a href="DBMS_PIPE.html#GUID-77024DB5-888F-48BE-B10A-29F941FDA7E2" title="This procedure resets the PACK_MESSAGE and UNPACK_MESSAGE positioning indicators to 0.">RESET_BUFFER Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d665057e1244 d665057e1161 ">
                                 <p>Purges contents of local buffer</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d665057e1262" headers="d665057e1158 ">
                                 <p><a href="DBMS_PIPE.html#GUID-B82C43C7-BD23-4C23-B0C6-B729C1C2041E" title="This function sends a message on the named pipe.">SEND_MESSAGE Function</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d665057e1262 d665057e1161 ">
                                 <p>Sends message on named pipe: This implicitly creates a public pipe if the named pipe does not exist</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d665057e1274" headers="d665057e1158 ">
                                 <p><a href="DBMS_PIPE.html#GUID-6C278A31-81EE-4276-A57D-9503E40F3E34" title="This function receives a name that is unique among all of the sessions that are currently connected to a database.">UNIQUE_SESSION_NAME Function</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d665057e1274 d665057e1161 ">
                                 <p>Returns unique session name</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="39%" id="d665057e1286" headers="d665057e1158 ">
                                 <p><a href="DBMS_PIPE.html#GUID-5916764B-C9E6-46A2-BEE8-DCAA4121FC8C" title="This procedure retrieves items from the buffer.">UNPACK_MESSAGE Procedures</a></p>
                              </td>
                              <td align="left" valign="top" width="61%" headers="d665057e1286 d665057e1161 ">
                                 <p>Accesses next item in buffer</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="ARPLS67409"></a><a id="ARPLS67410"></a><a id="ARPLS67411"></a><a id="ARPLS67412"></a><a id="ARPLS67410"></a><a id="ARPLS67411"></a><a id="ARPLS67412"></a><a id="ARPLS67409"></a><div class="props_rev_3"><a id="GUID-7FFC788D-EB1A-4ACA-97A9-5B60DABFEC16" name="GUID-7FFC788D-EB1A-4ACA-97A9-5B60DABFEC16"></a><h4 id="ARPLS-GUID-7FFC788D-EB1A-4ACA-97A9-5B60DABFEC16" class="sect4"><span class="enumeration_section">121.7.1 </span>CREATE_PIPE Function
                  </h4>
                  <div>
                     <p>This function explicitly creates a public or private pipe. If the <code class="codeph">private</code> flag is <code class="codeph">TRUE</code>, then the pipe creator is assigned as the owner of the private pipe. 
                     </p>
                     <div class="section">
                        <p>Explicitly-created pipes can only be removed by calling <code class="codeph">REMOVE_PIPE</code>, or by shutting down the instance.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7FFC788D-EB1A-4ACA-97A9-5B60DABFEC16__GUID-6B859253-4224-4C49-A6BF-435ECD04D73E">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_PIPE.CREATE_PIPE (
   pipename     IN VARCHAR2,
   maxpipesize  IN INTEGER DEFAULT 8192,
   private      IN BOOLEAN DEFAULT TRUE)
RETURN INTEGER;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7FFC788D-EB1A-4ACA-97A9-5B60DABFEC16__GUID-99A30B40-0E56-41BB-8383-FC641B21105F">Pragmas </p><pre class="oac_no_warn" dir="ltr">pragma restrict_references(create_pipe,WNDS,RNDS); </pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7FFC788D-EB1A-4ACA-97A9-5B60DABFEC16__GUID-DFCA960A-F8A2-4E97-B2BA-4FDF8E8A67DA">Parameters</p>
                        <div class="tblformal" id="GUID-7FFC788D-EB1A-4ACA-97A9-5B60DABFEC16__GUID-83AF3F90-7C6E-4B6A-9FC9-23B5423899E9">
                           <p class="titleintable">Table 121-3 CREATE_PIPE Function Parameters </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CREATE_PIPE Function Parameters " summary="This table describes Parameters used by the DBMS_PIPE.CREATE_PIPE subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d665057e1428">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d665057e1431">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d665057e1436" headers="d665057e1428 ">
                                       <p><code class="codeph">pipename</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d665057e1436 d665057e1431 ">
                                       <p>Name of the pipe you are creating.</p>
                                       <p>You must use this name when you call <code class="codeph">SEND_MESSAGE</code> and <code class="codeph">RECEIVE_MESSAGE</code>. This name must be unique across the instance. 
                                       </p>
                                       <p>Caution: Do not use pipe names beginning with <code class="codeph">ORA$</code>. These are reserved for use by procedures provided by Oracle. Pipename should not be longer than 128 bytes, and is case insensitive. At this time, the name cannot contain Globalization Support characters.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d665057e1457" headers="d665057e1428 ">
                                       <p><code class="codeph">maxpipesize</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d665057e1457 d665057e1431 ">
                                       <p>The maximum size allowed for the pipe, in bytes.</p>
                                       <p>The total size of all of the messages on the pipe cannot exceed this amount. The message is blocked if it exceeds this maximum. The default <code class="codeph">maxpipesize</code> is 8192 bytes.
                                       </p>
                                       <p>The <code class="codeph">maxpipesize</code> for a pipe becomes a part of the characteristics of the pipe and persists for the life of the pipe. Callers of <code class="codeph">SEND_MESSAGE</code> with larger values cause the <code class="codeph">maxpipesize</code> to be increased. Callers with a smaller value use the existing, larger value.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d665057e1481" headers="d665057e1428 ">
                                       <p><code class="codeph">private</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d665057e1481 d665057e1431 ">
                                       <p>Uses the default, <code class="codeph">TRUE</code>, to create a private pipe.
                                       </p>
                                       <p>Public pipes can be implicitly created when you call <code class="codeph">SEND_MESSAGE</code>. 
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7FFC788D-EB1A-4ACA-97A9-5B60DABFEC16__GUID-39A6532F-31C2-4DB1-95AF-3C8D1C9B5A51">Return Values</p>
                        <div class="tblformal" id="GUID-7FFC788D-EB1A-4ACA-97A9-5B60DABFEC16__GUID-8F89F103-DE93-4ED8-B355-18F6C2325007">
                           <p class="titleintable">Table 121-4 CREATE_PIPE Function Return Values </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CREATE_PIPE Function Return Values " summary="This table describes values returned by the CREATE_PIPE subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d665057e1509">Return</th>
                                    <th align="left" valign="bottom" width="69%" id="d665057e1512">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d665057e1517" headers="d665057e1509 ">
                                       <p><code class="codeph">0</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d665057e1517 d665057e1512 ">
                                       <p>Successful.</p>
                                       <p>If the pipe already exists and the user attempting to create it is authorized to use it, then Oracle returns 0, indicating success, and any data already in the pipe remains.</p>
                                       <p>If a user connected as <code class="codeph">SYSDBA</code>/<code class="codeph">SYSOPER</code> re-creates a pipe, then Oracle returns status 0, but the ownership of the pipe remains unchanged.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d665057e1535" headers="d665057e1509 ">
                                       <p><code class="codeph">ORA-23322</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d665057e1535 d665057e1512 ">
                                       <p>Failure due to naming conflict.</p>
                                       <p>If a pipe with the same name exists and was created by a different user, then Oracle signals error <code class="codeph">ORA-23322</code>, indicating the naming conflict.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7FFC788D-EB1A-4ACA-97A9-5B60DABFEC16__GUID-099F3845-3DA9-4E92-B5E4-DACFC8FD0E71">Exceptions</p>
                        <div class="tblformal" id="GUID-7FFC788D-EB1A-4ACA-97A9-5B60DABFEC16__GUID-1C2D4A7F-805E-48C4-A449-94510C23678C">
                           <p class="titleintable">Table 121-5 CREATE_PIPE Function Exception</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CREATE_PIPE Function Exception" summary="This table describes the Exceptions raised by the CREATE_PIPE subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d665057e1560">Exception</th>
                                    <th align="left" valign="bottom" width="69%" id="d665057e1563">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d665057e1568" headers="d665057e1560 ">
                                       <p><code class="codeph">Null pipe name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d665057e1568 d665057e1563 ">
                                       <p>Permission error: Pipe with the same name already exists, and you are not allowed to use it.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67413"></a><a id="ARPLS67414"></a><a id="ARPLS67414"></a><a id="ARPLS67413"></a><div class="props_rev_3"><a id="GUID-A06C83BD-2CC1-42F1-9AFE-F5036AFC65DD" name="GUID-A06C83BD-2CC1-42F1-9AFE-F5036AFC65DD"></a><h4 id="ARPLS-GUID-A06C83BD-2CC1-42F1-9AFE-F5036AFC65DD" class="sect4"><span class="enumeration_section">121.7.2 </span>NEXT_ITEM_TYPE Function
                  </h4>
                  <div>
                     <p>This function determines the datatype of the next item in the local message buffer. </p>
                     <div class="section">
                        <p>After you have called <code class="codeph">RECEIVE_MESSAGE</code> to place pipe information in a local buffer, call <code class="codeph">NEXT_ITEM_TYPE.</code></p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A06C83BD-2CC1-42F1-9AFE-F5036AFC65DD__GUID-FD3406D3-3358-4527-A3B8-405ABB27B3E6">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_PIPE.NEXT_ITEM_TYPE 
  RETURN INTEGER; </pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A06C83BD-2CC1-42F1-9AFE-F5036AFC65DD__GUID-5A1E64B1-06C3-478B-A411-2418EDA8620F">Pragmas</p><pre class="oac_no_warn" dir="ltr">pragma restrict_references(next_item_type,WNDS,RNDS);  </pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A06C83BD-2CC1-42F1-9AFE-F5036AFC65DD__GUID-A0E0881E-4409-4B1C-935B-29385D63265A">Return Values</p>
                        <div class="tblformal" id="GUID-A06C83BD-2CC1-42F1-9AFE-F5036AFC65DD__GUID-F34EBFF6-262D-4E3B-8F9C-8E51C505A9B8">
                           <p class="titleintable">Table 121-6 NEXT_ITEM_TYPE Function Return Values </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="NEXT_ITEM_TYPE Function Return Values " summary="This table decribes Values Returned by the NEXT_ITEM_TYPE subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d665057e1699">Return</th>
                                    <th align="left" valign="bottom" width="69%" id="d665057e1702">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d665057e1707" headers="d665057e1699 ">
                                       <p><code class="codeph">0</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d665057e1707 d665057e1702 ">
                                       <p>No more items</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d665057e1715" headers="d665057e1699 ">
                                       <p><code class="codeph">6</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d665057e1715 d665057e1702 ">
                                       <p><code class="codeph">NUMBER</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d665057e1724" headers="d665057e1699 ">
                                       <p><code class="codeph">9</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d665057e1724 d665057e1702 ">
                                       <p><code class="codeph">VARCHAR2</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d665057e1733" headers="d665057e1699 ">
                                       <p><code class="codeph">11</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d665057e1733 d665057e1702 ">
                                       <p><code class="codeph">ROWID</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d665057e1742" headers="d665057e1699 ">
                                       <p><code class="codeph">12</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d665057e1742 d665057e1702 ">
                                       <p><code class="codeph">DATE</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d665057e1751" headers="d665057e1699 ">
                                       <p><code class="codeph">23</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d665057e1751 d665057e1702 ">
                                       <p><code class="codeph">RAW</code></p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67415"></a><a id="ARPLS67416"></a><a id="ARPLS67416"></a><a id="ARPLS67415"></a><div class="props_rev_3"><a id="GUID-EE090FAB-169D-425E-8715-0B2167D28CC3" name="GUID-EE090FAB-169D-425E-8715-0B2167D28CC3"></a><h4 id="ARPLS-GUID-EE090FAB-169D-425E-8715-0B2167D28CC3" class="sect4"><span class="enumeration_section">121.7.3 </span>PACK_MESSAGE Procedures
                  </h4>
                  <div>
                     <p>This procedure builds your message in the local message buffer. </p>
                     <div class="section">
                        <p>To send a message, first make one or more calls to <code class="codeph">PACK_MESSAGE</code>. Then, call <code class="codeph">SEND_MESSAGE</code> to send the message in the local buffer on the named pipe.
                        </p>
                        <p>The procedure is overloaded to accept items of type <code class="codeph">VARCHAR2</code>, <code class="codeph">NCHAR</code>, <code class="codeph">NUMBER</code>, <code class="codeph">DATE</code>., <code class="codeph">RAW</code> and <code class="codeph">ROWID</code> items. In addition to the data bytes, each item in the buffer requires one byte to indicate its type, and two bytes to store its length. One additional byte is needed to terminate the message.The overhead for all types other than <code class="codeph">VARCHAR</code> is 4 bytes. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EE090FAB-169D-425E-8715-0B2167D28CC3__GUID-633A4F5F-22CA-44B7-8503-6B584455344D">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_PIPE.PACK_MESSAGE (
   item  IN  VARCHAR2);

DBMS_PIPE.PACK_MESSAGE (
   item  IN  NCHAR);

DBMS_PIPE.PACK_MESSAGE (
   item  IN  NUMBER);

DBMS_PIPE.PACK_MESSAGE (
   item  IN  DATE);

DBMS_PIPE.PACK_MESSAGE_RAW (
   item  IN  RAW);

DBMS_PIPE.PACK_MESSAGE_ROWID (
   item  IN  ROWID);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EE090FAB-169D-425E-8715-0B2167D28CC3__GUID-FE92B3AE-1241-460D-9FD7-F8F3F0F7B21C">Pragmas</p><pre class="oac_no_warn" dir="ltr">pragma restrict_references(pack_message,WNDS,RNDS);
pragma restrict_references(pack_message_raw,WNDS,RNDS);  
pragma restrict_references(pack_message_rowid,WNDS,RNDS); </pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EE090FAB-169D-425E-8715-0B2167D28CC3__GUID-230B4F2E-FACE-4887-A47C-7B55B7C716F3">Parameters</p>
                        <div class="tblformal" id="GUID-EE090FAB-169D-425E-8715-0B2167D28CC3__GUID-1D692415-3FD5-4F4D-AC08-ABE4C0F14FF3">
                           <p class="titleintable">Table 121-7 PACK_MESSAGE Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="PACK_MESSAGE Procedure Parameters" summary="This table describes Parameters used by the DBMS_PIPE.PACK_MESSAGE subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d665057e1907">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d665057e1910">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d665057e1915" headers="d665057e1907 ">
                                       <p><code class="codeph">item</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d665057e1915 d665057e1910 ">
                                       <p>Item to pack into the local message buffer.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EE090FAB-169D-425E-8715-0B2167D28CC3__GUID-21096BFE-4F9A-46E6-B5A5-87A2F4B92DD8">Usage Notes</p>
                        <p>In Oracle database version 8.x, the char-set-id (2 bytes) and the char-set-form (1 byte) are stored with each data item. Therefore, the overhead when using Oracle database version 8.x is 7 bytes.</p>
                        <p>When you call <code class="codeph">SEND_MESSAGE</code> to send this message, you must indicate the name of the pipe on which you want to send the message. If this pipe already exists, then you must have sufficient privileges to access this pipe. If the pipe does not already exist, then it is created automatically.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EE090FAB-169D-425E-8715-0B2167D28CC3__GUID-72D3A765-F939-41FE-A34D-6A5911D0437C">Exceptions</p>
                        <p><code class="codeph">ORA-06558</code> is raised if the message buffer overflows (currently 4096 bytes). Each item in the buffer takes one byte for the type, two bytes for the length, plus the actual data. There is also one byte needed to terminate the message.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67417"></a><a id="ARPLS67418"></a><a id="ARPLS67418"></a><a id="ARPLS67417"></a><div class="props_rev_3"><a id="GUID-9F383B84-59F7-4394-BBCC-AD0E1246AE68" name="GUID-9F383B84-59F7-4394-BBCC-AD0E1246AE68"></a><h4 id="ARPLS-GUID-9F383B84-59F7-4394-BBCC-AD0E1246AE68" class="sect4"><span class="enumeration_section">121.7.4 </span>PURGE Procedure
                  </h4>
                  <div>
                     <p>This procedure empties the contents of the named pipe. </p>
                     <div class="section">
                        <p>An empty implicitly-created pipe is aged out of the shared global area according to the least-recently-used algorithm. Thus, calling <code class="codeph">PURGE</code> lets you free the memory associated with an implicitly-created pipe.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9F383B84-59F7-4394-BBCC-AD0E1246AE68__GUID-4A3FC275-F416-4972-B1D3-8A300346C43C">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_PIPE.PURGE (
   pipename  IN  VARCHAR2);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9F383B84-59F7-4394-BBCC-AD0E1246AE68__GUID-E5A4D3C5-85E3-43AF-BE94-8E9C65221182">Pragmas</p><pre class="oac_no_warn" dir="ltr">pragma restrict_references(purge,WNDS,RNDS); </pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9F383B84-59F7-4394-BBCC-AD0E1246AE68__GUID-36957D1E-4352-40D6-A2D0-CF6185B6D9A5">Parameters</p>
                        <div class="tblformal" id="GUID-9F383B84-59F7-4394-BBCC-AD0E1246AE68__GUID-1AEFA55B-0343-4C66-96BE-F15F39F8FD07">
                           <p class="titleintable">Table 121-8 PURGE Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="PURGE Procedure Parameters" summary="This table describes Parameters used by the DBMS_PIPE.PURGE subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d665057e2060">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d665057e2063">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d665057e2068" headers="d665057e2060 ">
                                       <p><code class="codeph">pipename</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d665057e2068 d665057e2063 ">
                                       <p>Name of pipe from which to remove all messages.</p>
                                       <p>The local buffer may be overwritten with messages as they are discarded. Pipename should not be longer than 128 bytes, and is case-insensitive.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9F383B84-59F7-4394-BBCC-AD0E1246AE68__GUID-2A542BAC-E269-4887-8052-FF1D1A1E1205">Usage Notes</p>
                        <p>Because <code class="codeph">PURGE</code> calls <code class="codeph">RECEIVE_MESSAGE</code>, the local buffer might be overwritten with messages as they are purged from the pipe. Also, you can receive an <code class="codeph">ORA-23322</code> (insufficient privileges) error if you attempt to purge a pipe with which you have insufficient access rights.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9F383B84-59F7-4394-BBCC-AD0E1246AE68__GUID-E2890D64-8FA3-4A58-AF36-F7F90EE12137">Exceptions</p>
                        <p>Permission error if pipe belongs to another user.</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67419"></a><a id="ARPLS67420"></a><a id="ARPLS67421"></a><a id="ARPLS67422"></a><a id="ARPLS67420"></a><a id="ARPLS67421"></a><a id="ARPLS67422"></a><a id="ARPLS67419"></a><div class="props_rev_3"><a id="GUID-33EA60FA-5B28-431F-B854-F9A1BF3A4625" name="GUID-33EA60FA-5B28-431F-B854-F9A1BF3A4625"></a><h4 id="ARPLS-GUID-33EA60FA-5B28-431F-B854-F9A1BF3A4625" class="sect4"><span class="enumeration_section">121.7.5 </span>RECEIVE_MESSAGE Function
                  </h4>
                  <div>
                     <p>This function copies the message into the local message buffer. </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-33EA60FA-5B28-431F-B854-F9A1BF3A4625__GUID-80CA810D-E17B-42F4-8F0B-18FA8B9E666C">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_PIPE.RECEIVE_MESSAGE (
   pipename     IN VARCHAR2,
   timeout      IN INTEGER      DEFAULT maxwait)
RETURN INTEGER;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-33EA60FA-5B28-431F-B854-F9A1BF3A4625__GUID-6882C267-4B5B-4264-BE00-0FEDC8F8A0E4">Pragmas</p><pre class="oac_no_warn" dir="ltr">pragma restrict_references(receive_message,WNDS,RNDS);  </pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-33EA60FA-5B28-431F-B854-F9A1BF3A4625__GUID-F58BD3C1-72D5-4FEA-A4C5-06AB8282CD0E">Parameters</p>
                        <div class="tblformal" id="GUID-33EA60FA-5B28-431F-B854-F9A1BF3A4625__GUID-C1300EEC-B57E-4E15-8632-AA1E789E5807">
                           <p class="titleintable">Table 121-9 RECEIVE_MESSAGE Function Parameters </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="RECEIVE_MESSAGE Function Parameters " summary="This table describes Parameters used by the DBMS_PIPE.RECEIVE_MESSAGE subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d665057e2216">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d665057e2219">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d665057e2224" headers="d665057e2216 ">
                                       <p><code class="codeph">pipename</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d665057e2224 d665057e2219 ">
                                       <p>Name of the pipe on which you want to receive a message.</p>
                                       <p>Names beginning with <code class="codeph">ORA$</code> are reserved for use by Oracle
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d665057e2237" headers="d665057e2216 ">
                                       <p><code class="codeph">timeout</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d665057e2237 d665057e2219 ">
                                       <p>Time to wait for a message, in seconds.</p>
                                       <p>The default value is the constant <code class="codeph">MAXWAIT</code>, which is defined as 86400000 (1000 days). A timeout of 0 lets you read without blocking.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-33EA60FA-5B28-431F-B854-F9A1BF3A4625__GUID-960BCC64-73BC-497A-8815-61CA8C31ECD7">Return Values</p>
                        <div class="tblformal" id="GUID-33EA60FA-5B28-431F-B854-F9A1BF3A4625__GUID-16662C45-8945-4193-A641-210632753348">
                           <p class="titleintable">Table 121-10 RECEIVE_MESSAGE Function Return Values </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="RECEIVE_MESSAGE Function Return Values " summary="This table decribes values returned by the RECEIVE_MESSAGE subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d665057e2262">Return</th>
                                    <th align="left" valign="bottom" width="69%" id="d665057e2265">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d665057e2270" headers="d665057e2262 ">
                                       <p><code class="codeph">0</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d665057e2270 d665057e2265 ">
                                       <p>Success</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d665057e2278" headers="d665057e2262 ">
                                       <p><code class="codeph">1</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d665057e2278 d665057e2265 ">
                                       <p>Timed out. If the pipe was implicitly-created and is empty, then it is removed.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d665057e2286" headers="d665057e2262 ">
                                       <p><code class="codeph">2</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d665057e2286 d665057e2265 ">
                                       <p>Record in the pipe is too large for the buffer. (This should not happen.)</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d665057e2294" headers="d665057e2262 ">
                                       <p><code class="codeph">3</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d665057e2294 d665057e2265 ">
                                       <p>An interrupt occurred.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d665057e2302" headers="d665057e2262 ">
                                       <p><code class="codeph">ORA-23322</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d665057e2302 d665057e2265 ">
                                       <p>User has insufficient privileges to read from the pipe.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-33EA60FA-5B28-431F-B854-F9A1BF3A4625__GUID-EC12C4F4-290C-452C-A48F-BF73B976EEBC">Usage Notes</p>
                        <p>To receive a message from a pipe, first call <code class="codeph">RECEIVE_MESSAGE</code>. When you receive a message, it is removed from the pipe; hence, a message can only be received once. For implicitly-created pipes, the pipe is removed after the last record is removed from the pipe.
                        </p>
                        <p>If the pipe that you specify when you call <code class="codeph">RECEIVE_MESSAGE</code> does not already exist, then Oracle implicitly creates the pipe and waits to receive the message. If the message does not arrive within a designated timeout interval, then the call returns and the pipe is removed.
                        </p>
                        <p>After receiving the message, you must make one or more calls to <code class="codeph">UNPACK_MESSAGE</code> to access the individual items in the message. The <code class="codeph">UNPACK_MESSAGE</code> procedure is overloaded to unpack items of type <code class="codeph">DATE</code>, <code class="codeph">NUMBER</code>, <code class="codeph">VARCHAR2</code>, and there are two additional procedures to unpack <code class="codeph">RAW</code> and <code class="codeph">ROWID</code> items. If you do not know the type of data that you are attempting to unpack, then call <code class="codeph">NEXT_ITEM_TYPE</code> to determine the type of the next item in the buffer.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-33EA60FA-5B28-431F-B854-F9A1BF3A4625__GUID-21108F59-6B87-404F-A627-0F0938D10BB7">Exceptions</p>
                        <div class="tblformal" id="GUID-33EA60FA-5B28-431F-B854-F9A1BF3A4625__GUID-CF8C9C7B-1DA6-4A89-8335-6D23E5A5D7F3">
                           <p class="titleintable">Table 121-11 RECEIVE_MESSAGE Function Exceptions</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="RECEIVE_MESSAGE Function Exceptions" summary="This table describes the Exceptions raised by the RECEIVE_MESSAGE subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d665057e2362">Exception</th>
                                    <th align="left" valign="bottom" width="69%" id="d665057e2365">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d665057e2370" headers="d665057e2362 ">
                                       <p><code class="codeph">Null pipe name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d665057e2370 d665057e2365 ">
                                       <p>Permission error. Insufficient privilege to remove the record from the pipe. The pipe is owned by someone else.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67423"></a><a id="ARPLS67423"></a><div class="props_rev_3"><a id="GUID-77024DB5-888F-48BE-B10A-29F941FDA7E2" name="GUID-77024DB5-888F-48BE-B10A-29F941FDA7E2"></a><h4 id="ARPLS-GUID-77024DB5-888F-48BE-B10A-29F941FDA7E2" class="sect4"><span class="enumeration_section">121.7.6 </span>RESET_BUFFER Procedure
                  </h4>
                  <div>
                     <p>This procedure resets the <code class="codeph">PACK_MESSAGE</code> and <code class="codeph">UNPACK_MESSAGE</code> positioning indicators to 0. 
                     </p>
                     <div class="section">
                        <p>Because all pipes share a single buffer, you may find it useful to reset the buffer before using a new pipe. This ensures that the first time you attempt to send a message to your pipe, you do not inadvertently send an expired message remaining in the buffer. </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-77024DB5-888F-48BE-B10A-29F941FDA7E2__GUID-88F50841-15FF-4D45-A2AD-CC5F0B230D20">Syntax </p><pre class="oac_no_warn" dir="ltr">DBMS_PIPE.RESET_BUFFER; </pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-77024DB5-888F-48BE-B10A-29F941FDA7E2__GUID-EDC1C28B-7145-46D4-9F06-B973EAE4EA0D">Pragmas</p><pre class="oac_no_warn" dir="ltr">pragma restrict_references(reset_buffer,WNDS,RNDS);  </pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67424"></a><a id="ARPLS67425"></a><a id="ARPLS67426"></a><a id="ARPLS67427"></a><a id="ARPLS67425"></a><a id="ARPLS67426"></a><a id="ARPLS67427"></a><a id="ARPLS67424"></a><div class="props_rev_3"><a id="GUID-240DFAFC-FA2F-4F67-BA73-B22213795BDE" name="GUID-240DFAFC-FA2F-4F67-BA73-B22213795BDE"></a><h4 id="ARPLS-GUID-240DFAFC-FA2F-4F67-BA73-B22213795BDE" class="sect4"><span class="enumeration_section">121.7.7 </span>REMOVE_PIPE Function
                  </h4>
                  <div>
                     <p>This function removes explicitly-created pipes.</p>
                     <div class="section">
                        <p>Pipes created implicitly by <code class="codeph">SEND_MESSAGE</code> are automatically removed when empty. However, pipes created explicitly by <code class="codeph">CREATE_PIPE</code> are removed only by calling <code class="codeph">REMOVE_PIPE</code>, or by shutting down the instance. All unconsumed records in the pipe are removed before the pipe is deleted. 
                        </p>
                        <p>This is similar to calling <code class="codeph">PURGE</code> on an implicitly-created pipe. 
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-240DFAFC-FA2F-4F67-BA73-B22213795BDE__GUID-FB425089-090F-4D0F-808B-624D9F9B5DC8">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_PIPE.REMOVE_PIPE (
   pipename  IN  VARCHAR2)
RETURN INTEGER;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-240DFAFC-FA2F-4F67-BA73-B22213795BDE__GUID-1B1D26BB-4B23-4F09-9D3B-F59F1EF8DB3D">Pragmas</p><pre class="oac_no_warn" dir="ltr">pragma restrict_references(remove_pipe,WNDS,RNDS); </pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-240DFAFC-FA2F-4F67-BA73-B22213795BDE__GUID-2CCC7ED3-D708-4159-B4B7-E4CB6F68B3C0">Parameters</p>
                        <div class="tblformal" id="GUID-240DFAFC-FA2F-4F67-BA73-B22213795BDE__GUID-CF4D3E9C-37DC-460F-AC21-DF531EA87BF1">
                           <p class="titleintable">Table 121-12 REMOVE_PIPE Function Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="REMOVE_PIPE Function Parameters" summary="This table describes Parameters used by the DBMS_PIPE.REMOVE_PIPE subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d665057e2622">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d665057e2625">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d665057e2630" headers="d665057e2622 ">
                                       <p><code class="codeph">pipename</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d665057e2630 d665057e2625 ">
                                       <p>Name of pipe that you want to remove.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-240DFAFC-FA2F-4F67-BA73-B22213795BDE__GUID-6DB93133-C8DB-41FF-88AA-8A1DE7D92EA7">Return Values</p>
                        <div class="tblformal" id="GUID-240DFAFC-FA2F-4F67-BA73-B22213795BDE__GUID-BABD6B53-3813-406C-9A72-349DCC667A5C">
                           <p class="titleintable">Table 121-13 REMOVE_PIPE Function Return Values </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="REMOVE_PIPE Function Return Values " summary="This table decribes Values Returned by the REMOVE_PIPE subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d665057e2650">Return</th>
                                    <th align="left" valign="bottom" width="69%" id="d665057e2653">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d665057e2658" headers="d665057e2650 ">
                                       <p><code class="codeph">0</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d665057e2658 d665057e2653 ">
                                       <p>Success</p>
                                       <p>If the pipe does not exist, or if the pipe already exists and the user attempting to remove it is authorized to do so, then Oracle returns 0, indicating success, and any data remaining in the pipe is removed.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d665057e2668" headers="d665057e2650 ">
                                       <p><code class="codeph">ORA-23322</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d665057e2668 d665057e2653 ">
                                       <p>Insufficient privileges.</p>
                                       <p>If the pipe exists, but the user is not authorized to access the pipe, then Oracle signals error <code class="codeph">ORA-23322</code>, indicating insufficient privileges.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-240DFAFC-FA2F-4F67-BA73-B22213795BDE__GUID-FDDE2150-12B7-4BF1-9421-F17205033D1F">Exceptions</p>
                        <div class="tblformal" id="GUID-240DFAFC-FA2F-4F67-BA73-B22213795BDE__GUID-070B0A3E-11A2-45BE-A2EB-3C9ED47CB863">
                           <p class="titleintable">Table 121-14 REMOVE_PIPE Function Exception</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="REMOVE_PIPE Function Exception" summary="This table describes the Exceptions raised by the REMOVE_PIPE subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d665057e2693">Exception</th>
                                    <th align="left" valign="bottom" width="69%" id="d665057e2696">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d665057e2701" headers="d665057e2693 ">
                                       <p><code class="codeph">Null pipe name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d665057e2701 d665057e2696 ">
                                       <p>Permission error: Insufficient privilege to remove pipe. The pipe was created and is owned by someone else.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67428"></a><a id="ARPLS67429"></a><a id="ARPLS67430"></a><a id="ARPLS67431"></a><a id="ARPLS67429"></a><a id="ARPLS67430"></a><a id="ARPLS67431"></a><a id="ARPLS67428"></a><div class="props_rev_3"><a id="GUID-B82C43C7-BD23-4C23-B0C6-B729C1C2041E" name="GUID-B82C43C7-BD23-4C23-B0C6-B729C1C2041E"></a><h4 id="ARPLS-GUID-B82C43C7-BD23-4C23-B0C6-B729C1C2041E" class="sect4"><span class="enumeration_section">121.7.8 </span>SEND_MESSAGE Function
                  </h4>
                  <div>
                     <p>This function sends a message on the named pipe. </p>
                     <div class="section">
                        <p>The message is contained in the local message buffer, which was filled with calls to <code class="codeph">PACK_MESSAGE</code>. You can create a pipe explicitly using <code class="codeph">CREATE_PIPE</code>, otherwise, it is created implicitly.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B82C43C7-BD23-4C23-B0C6-B729C1C2041E__GUID-E0803CAC-1304-42A2-972E-C4BD9DF79584">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_PIPE.SEND_MESSAGE (
    pipename     IN VARCHAR2,
    timeout      IN INTEGER DEFAULT MAXWAIT,
    maxpipesize  IN INTEGER DEFAULT 8192)
  RETURN INTEGER;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B82C43C7-BD23-4C23-B0C6-B729C1C2041E__GUID-92427268-4644-4A65-8A81-7ABF374D1C55">Pragmas</p><pre class="oac_no_warn" dir="ltr">pragma restrict_references(send_message,WNDS,RNDS);  </pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B82C43C7-BD23-4C23-B0C6-B729C1C2041E__GUID-9547275D-1720-41F5-9548-7CA845B28CFB">Parameters</p>
                        <div class="tblformal" id="GUID-B82C43C7-BD23-4C23-B0C6-B729C1C2041E__GUID-C47F7ECE-7670-4FD4-A50A-BF671C46E1EA">
                           <p class="titleintable">Table 121-15 SEND_MESSAGE Function Parameters </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SEND_MESSAGE Function Parameters " summary="This table describes Parameters used by the DBMS_PIPE.SEND_MESSAGE subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d665057e2837">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d665057e2840">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d665057e2845" headers="d665057e2837 ">
                                       <p><code class="codeph">pipename</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d665057e2845 d665057e2840 ">
                                       <p>Name of the pipe on which you want to place the message.</p>
                                       <p>If you are using an explicit pipe, then this is the name that you specified when you called <code class="codeph">CREATE_PIPE</code>.
                                       </p>
                                       <p>Caution: Do not use pipe names beginning with '<code class="codeph">ORA$</code>'. These names are reserved for use by procedures provided by Oracle. Pipename should not be longer than 128 bytes, and is case-insensitive. At this time, the name cannot contain Globalization Support characters.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d665057e2863" headers="d665057e2837 ">
                                       <p><code class="codeph">timeout</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d665057e2863 d665057e2840 ">
                                       <p>Time to wait while attempting to place a message on a pipe, in seconds.</p>
                                       <p>The default value is the constant <code class="codeph">MAXWAIT</code>, which is defined as 86400000 (1000 days).
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d665057e2876" headers="d665057e2837 ">
                                       <p><code class="codeph">maxpipesize</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d665057e2876 d665057e2840 ">
                                       <p>Maximum size allowed for the pipe, in bytes. </p>
                                       <p>The total size of all the messages on the pipe cannot exceed this amount. The message is blocked if it exceeds this maximum. The default is 8192 bytes.</p>
                                       <p>The <code class="codeph">maxpipesize</code> for a pipe becomes a part of the characteristics of the pipe and persists for the life of the pipe. Callers of <code class="codeph">SEND_MESSAGE</code> with larger values cause the <code class="codeph">maxpipesize</code> to be increased. Callers with a smaller value simply use the existing, larger value. 
                                       </p>
                                       <p>Specifying <code class="codeph">maxpipesize</code> as part of the <code class="codeph">SEND_MESSAGE</code> procedure eliminates the need for a separate call to open the pipe. If you created the pipe explicitly, then you can use the optional <code class="codeph">maxpipesize</code> parameter to override the creation pipe size specifications.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B82C43C7-BD23-4C23-B0C6-B729C1C2041E__GUID-6EAE4FD1-E5AA-4EBB-A1B1-3ED6ED022157">Return Values</p>
                        <div class="tblformal" id="GUID-B82C43C7-BD23-4C23-B0C6-B729C1C2041E__GUID-7DB1CD91-AEF6-4BB2-B2C4-E448CE37E031">
                           <p class="titleintable">Table 121-16 SEND_MESSAGE Function Return Values </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SEND_MESSAGE Function Return Values " summary="This table describes values returned by the SEND_MESSAGE subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="27%" id="d665057e2920">Return</th>
                                    <th align="left" valign="bottom" width="73%" id="d665057e2923">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d665057e2928" headers="d665057e2920 ">
                                       <p><code class="codeph">0</code></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d665057e2928 d665057e2923 ">
                                       <p>Success.</p>
                                       <p>If the pipe already exists and the user attempting to create it is authorized to use it, then Oracle returns 0, indicating success, and any data already in the pipe remains.</p>
                                       <p>If a user connected as <code class="codeph">SYSDBS</code>/<code class="codeph">SYSOPER</code> re-creates a pipe, then Oracle returns status 0, but the ownership of the pipe remains unchanged.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d665057e2946" headers="d665057e2920 ">
                                       <p><code class="codeph">1</code></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d665057e2946 d665057e2923 ">
                                       <p>Timed out.</p>
                                       <p>This procedure can timeout either because it cannot get a lock on the pipe, or because the pipe remains too full to be used. If the pipe was implicitly-created and is empty, then it is removed.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d665057e2956" headers="d665057e2920 ">
                                       <p><code class="codeph">3</code></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d665057e2956 d665057e2923 ">
                                       <p>An interrupt occurred.</p>
                                       <p>If the pipe was implicitly created and is empty, then it is removed.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d665057e2966" headers="d665057e2920 ">
                                       <p><code class="codeph">ORA-23322</code></p>
                                    </td>
                                    <td align="left" valign="top" width="73%" headers="d665057e2966 d665057e2923 ">
                                       <p>Insufficient privileges.</p>
                                       <p>If a pipe with the same name exists and was created by a different user, then Oracle signals error <code class="codeph">ORA-23322</code>, indicating the naming conflict.
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B82C43C7-BD23-4C23-B0C6-B729C1C2041E__GUID-89552960-F3BE-42A4-8780-69DB18D3A261">Exceptions</p>
                        <div class="tblformal" id="GUID-B82C43C7-BD23-4C23-B0C6-B729C1C2041E__GUID-DF608AC3-D87D-4933-98CD-57A37A49F1AA">
                           <p class="titleintable">Table 121-17 SEND_MESSAGE Function Exception</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SEND_MESSAGE Function Exception" summary="This table describes the Exceptions raised by the SEND_MESSAGE subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d665057e2991">Exception</th>
                                    <th align="left" valign="bottom" width="69%" id="d665057e2994">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d665057e2999" headers="d665057e2991 ">
                                       <p><code class="codeph">Null pipe name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d665057e2999 d665057e2994 ">
                                       <p>Permission error. Insufficient privilege to write to the pipe. The pipe is private and owned by someone else.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67432"></a><a id="ARPLS67432"></a><div class="props_rev_3"><a id="GUID-6C278A31-81EE-4276-A57D-9503E40F3E34" name="GUID-6C278A31-81EE-4276-A57D-9503E40F3E34"></a><h4 id="ARPLS-GUID-6C278A31-81EE-4276-A57D-9503E40F3E34" class="sect4"><span class="enumeration_section">121.7.9 </span>UNIQUE_SESSION_NAME Function
                  </h4>
                  <div>
                     <p>This function receives a name that is unique among all of the sessions that are currently connected to a database. </p>
                     <div class="section">
                        <p>Multiple calls to this function from the same session always return the same value. You might find it useful to use this function to supply the <code class="codeph">PIPENAME</code> parameter for your <code class="codeph">SEND_MESSAGE</code> and <code class="codeph">RECEIVE_MESSAGE</code> calls.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6C278A31-81EE-4276-A57D-9503E40F3E34__GUID-EAF62825-6D17-46E6-92E9-26BDA297251D">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_PIPE.UNIQUE_SESSION_NAME 
  RETURN VARCHAR2;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6C278A31-81EE-4276-A57D-9503E40F3E34__GUID-47838A84-B49C-48DF-8552-1960754E5E8C">Pragmas</p><pre class="oac_no_warn" dir="ltr">pragma restrict_references(unique_session_name,WNDS,RNDS,WNPS);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-6C278A31-81EE-4276-A57D-9503E40F3E34__GUID-52225127-0C6C-4AC5-97B0-DE09B552F171">Return Values</p>
                        <p>This function returns a unique name. The returned name can be up to 30 bytes.</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS67433"></a><a id="ARPLS67434"></a><a id="ARPLS67434"></a><a id="ARPLS67433"></a><div class="props_rev_3"><a id="GUID-5916764B-C9E6-46A2-BEE8-DCAA4121FC8C" name="GUID-5916764B-C9E6-46A2-BEE8-DCAA4121FC8C"></a><h4 id="ARPLS-GUID-5916764B-C9E6-46A2-BEE8-DCAA4121FC8C" class="sect4"><span class="enumeration_section">121.7.10 </span>UNPACK_MESSAGE Procedures
                  </h4>
                  <div>
                     <p>This procedure retrieves items from the buffer. </p>
                     <div class="section">
                        <p>After you have called <code class="codeph">RECEIVE_MESSAGE</code> to place pipe information in a local buffer, call <code class="codeph">UNPACK_MESSAGE</code>.
                        </p>
                        <div class="infoboxnote" id="GUID-5916764B-C9E6-46A2-BEE8-DCAA4121FC8C__GUID-0151AF6B-6816-42FF-8C49-BF2C1B9E166C">
                           <p class="notep1">Note:</p>
                           <p>The <code class="codeph">UNPACK_MESSAGE</code> procedure is overloaded to return items of type <code class="codeph">VARCHAR2</code>, <code class="codeph">NCHAR</code>, <code class="codeph">NUMBER</code>, or <code class="codeph">DATE</code>. There are two additional procedures to unpack <code class="codeph">RAW</code> and <code class="codeph">ROWID</code> items.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5916764B-C9E6-46A2-BEE8-DCAA4121FC8C__GUID-89FB057B-80A8-41B4-9F0C-8E925CE23164">Syntax</p><pre class="oac_no_warn" dir="ltr">DBMS_PIPE.UNPACK_MESSAGE (
   item  OUT VARCHAR2);

DBMS_PIPE.UNPACK_MESSAGE (
   item  OUT NCHAR);

DBMS_PIPE.UNPACK_MESSAGE (
   item  OUT NUMBER);

DBMS_PIPE.UNPACK_MESSAGE (
   item  OUT DATE);

DBMS_PIPE.UNPACK_MESSAGE_RAW (
   item  OUT RAW);

DBMS_PIPE.UNPACK_MESSAGE_ROWID (
   item  OUT ROWID);</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5916764B-C9E6-46A2-BEE8-DCAA4121FC8C__GUID-39DC04E3-3BBB-4418-88B7-520EDD1BEB3A">Pragmas</p><pre class="oac_no_warn" dir="ltr">pragma restrict_references(unpack_message,WNDS,RNDS);  
pragma restrict_references(unpack_message_raw,WNDS,RNDS);  
pragma restrict_references(unpack_message_rowid,WNDS,RNDS);  </pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5916764B-C9E6-46A2-BEE8-DCAA4121FC8C__GUID-B0C8E665-1664-4DED-B540-33DE73010A59">Parameters</p>
                        <div class="tblformal" id="GUID-5916764B-C9E6-46A2-BEE8-DCAA4121FC8C__GUID-E00EFB21-8E09-4411-A179-C2DA95CB0DA9">
                           <p class="titleintable">Table 121-18 UNPACK_MESSAGE Procedure Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="UNPACK_MESSAGE Procedure Parameters" summary="This table describes Parameters used by the DBMS_PIPE.UNPACK_MESSAGE subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d665057e3272">Parameter</th>
                                    <th align="left" valign="bottom" width="69%" id="d665057e3275">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d665057e3280" headers="d665057e3272 ">
                                       <p><code class="codeph">item</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d665057e3280 d665057e3275 ">
                                       <p>Argument to receive the next unpacked item from the local message buffer.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5916764B-C9E6-46A2-BEE8-DCAA4121FC8C__GUID-998148FC-287B-4B42-B493-4995D466006F">Exceptions</p>
                        <p><code class="codeph">ORA-06556</code> or <code class="codeph">06559</code> are generated if the buffer contains no more items, or if the item is not of the same type as that requested.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='12843.building-effective-applications.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Effective applications are scalable and use recommended programming and security practices.">
      <meta name="description" content="Effective applications are scalable and use recommended programming and security practices.">
      <title>Building Effective Applications</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="2 Day Developer's Guide ">
      <meta property="og:description" content="Effective applications are scalable and use recommended programming and security practices.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="2 Day Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="2-day-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-10T13:00:30-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E94801-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="working-in-global-environment.html" title="Previous" type="text/html">
      <link rel="next" href="developing-simple-database-application.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="2 Day Developer's Guide">
    <meta name="dcterms.isVersionOf" content="TDDDG">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="working-in-global-environment.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="developing-simple-database-application.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">2 Day Developer's Guide </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Building Effective Applications</li>
            </ol>
            <a id="GUID-F6EB9789-00D7-472F-A36C-F55C143307BC" name="GUID-F6EB9789-00D7-472F-A36C-F55C143307BC"></a><a id="TDDDG99933"></a>
            
            <h2 id="TDDDG-GUID-F6EB9789-00D7-472F-A36C-F55C143307BC" class="sect2"><span class="enumeration_chapter">8 </span>Building Effective Applications
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Effective applications are scalable and use recommended programming and security practices.</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="building-effective-applications.html#GUID-BB351358-03F9-494C-8C38-180DFB7CAC4C">Building Scalable Applications</a><br>Design your applications to use the same resources, regardless of user populations and data volumes, and not to overload system resources.
                  </li>
                  <li class="ulchildlink"><a href="building-effective-applications.html#GUID-1E354949-D957-4C58-8670-92E11B928CD1">Recommended Programming Practices</a><br>Use the following recommended programming practices.
                  </li>
                  <li class="ulchildlink"><a href="building-effective-applications.html#GUID-32FBC335-6B08-4B50-B039-06BB9F500908">Recommended Security Practices</a><br>When granting privileges on the schema objects that comprise your application, use the <strong class="term">principle of least privilege</strong>.
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-F6EB9789-00D7-472F-A36C-F55C143307BC__GUID-BB368B64-4348-4732-807D-FFB1CDAF085E">
                  <p class="notep1">See Also:</p>
                  <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=ADFNS116" target="_blank"><span class="italic">Oracle Database Development Guide</span></a> for more information about creating and deploying applications that are optimized for Oracle Database
                  </p>
               </div>
            </div>
            <a id="TDDDG99932"></a><div class="props_rev_4"><a id="GUID-BB351358-03F9-494C-8C38-180DFB7CAC4C" name="GUID-BB351358-03F9-494C-8C38-180DFB7CAC4C"></a><h3 id="TDDDG-GUID-BB351358-03F9-494C-8C38-180DFB7CAC4C" class="sect3"><span class="enumeration_section">8.1 </span>Building Scalable Applications
               </h3>
               <div>
                  <p>Design your applications to use the same resources, regardless of user populations and data volumes, and not to overload system resources.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="building-effective-applications.html#GUID-D0FD8DFF-4763-4775-8045-50DF3F3EA558">About Scalable Applications</a><br>A <strong class="term">scalable</strong> application can process a larger workload with a proportional increase in system resource usage.
                     </li>
                     <li class="ulchildlink"><a href="building-effective-applications.html#GUID-5F486510-7FF2-4418-8D88-13B18F2E2606">Using Bind Variables to Improve Scalability</a><br>Bind variables, used correctly, let you develop efficient, scalable applications.
                     </li>
                     <li class="ulchildlink"><a href="building-effective-applications.html#GUID-D39CB5E6-0CC4-4780-AA7A-C41D96E615D1">Using PL/SQL to Improve Scalability</a><br>Certain PL/SQL features can help you to improve application scalability.
                     </li>
                     <li class="ulchildlink"><a href="building-effective-applications.html#GUID-7D6B0A76-736A-472C-9AB2-F7757CB8993A">About Concurrency and Scalability</a><br><strong class="term">Concurrency</strong> is the simultaneous execution of multiple transactions. The better your application handles concurrency, the more scalable it is.  A <strong class="term">scalable</strong> application can process a larger workload with a proportional increase in system resource usage.
                     </li>
                     <li class="ulchildlink"><a href="building-effective-applications.html#GUID-5381A407-3D62-4675-816C-BBB6FE34587C">Limiting the Number of Concurrent Sessions</a><br>The more concurrent sessions you have, the more concurrency-based waits you have, and the slower your response time is.
                     </li>
                     <li class="ulchildlink"><a href="building-effective-applications.html#GUID-F9C3320A-832C-4762-BA39-30132C5E0EAA">Comparing Programming Techniques with Runstats</a><br>The Runstats tool lets you compare the performance of two programming techniques to see which is better.
                     </li>
                     <li class="ulchildlink"><a href="building-effective-applications.html#GUID-450ED4B7-CB1B-4121-8FE1-682A82B4F4B9">Real-World Performance and Data Processing Techniques</a><br>A common task in database applications in a data warehouse environment is querying or modifying a huge data set. The problem for application developers is how to achieve high performance when processing large data sets.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="building-effective-applications.html#GUID-F6EB9789-00D7-472F-A36C-F55C143307BC" title="Effective applications are scalable and use recommended programming and security practices.">Building Effective Applications</a></p>
                     </div>
                  </div>
               </div>
               <a id="TDDDG99931"></a><div class="props_rev_3"><a id="GUID-D0FD8DFF-4763-4775-8045-50DF3F3EA558" name="GUID-D0FD8DFF-4763-4775-8045-50DF3F3EA558"></a><h4 id="TDDDG-GUID-D0FD8DFF-4763-4775-8045-50DF3F3EA558" class="sect4"><span class="enumeration_section">8.1.1 </span>About Scalable Applications
                  </h4>
                  <div>
                     <p>A <strong class="term">scalable</strong> application can process a larger workload with a proportional increase in system resource usage.
                     </p>
                     <p>A <strong class="term">scalable</strong> application can process a larger workload with a proportional increase in system resource usage. For example, if you double its workload, a scalable application uses twice as many system resources.
                     </p>
                     <p>An <strong class="term">unscalable</strong> application exhausts a system resource; therefore, if you increase the application workload, no more throughput is possible. Unscalable applications result in fixed throughputs and poor response times.
                     </p>
                     <p>Examples of resource exhaustion are:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Hardware exhaustion</p>
                        </li>
                        <li>
                           <p>Table scans in high-volume transactions causing inevitable disk input/output (I/O) shortages</p>
                        </li>
                        <li>
                           <p>Excessive network requests causing network and scheduling bottlenecks</p>
                        </li>
                        <li>
                           <p>Memory allocation causing paging and swapping</p>
                        </li>
                        <li>
                           <p>Excessive process and thread allocation causing operating system thrashing</p>
                        </li>
                     </ul>
                     <p>Design your applications to use the same resources, regardless of user populations and data volumes, and not to overload system resources.</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="building-effective-applications.html#GUID-BB351358-03F9-494C-8C38-180DFB7CAC4C" title="Design your applications to use the same resources, regardless of user populations and data volumes, and not to overload system resources.">Building Scalable Applications</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TDDDG322"></a><a id="TDDDG99930"></a><div class="props_rev_3"><a id="GUID-5F486510-7FF2-4418-8D88-13B18F2E2606" name="GUID-5F486510-7FF2-4418-8D88-13B18F2E2606"></a><h4 id="TDDDG-GUID-5F486510-7FF2-4418-8D88-13B18F2E2606" class="sect4"><span class="enumeration_section">8.1.2 </span>Using Bind Variables to Improve Scalability
                  </h4>
                  <div>
                     <p>Bind variables, used correctly, let you develop efficient, scalable applications.</p>
                     <p>A <strong class="term">bind variable</strong> is a placeholder in a SQL statement that must be replaced with a valid value or value address for the statement to execute successfully. By using bind variables, you can write a SQL statement that accepts inputs or parameters at run time.
                     </p>
                     <p>Just as a subprogram can have parameters, whose values are supplied by the invoker, a SQL statement can have bind variable placeholders, whose values (called bind variables) are supplied at runtime. Just as a subprogram is compiled once and then run many times with different parameters, a SQL statement with bind variable placeholders is hard parsed once and then soft parsed with different bind variables.</p>
                     <p>A <strong class="term">hard parse</strong>, which includes optimization and row source generation, is a very CPU-intensive operation. A <strong class="term">soft parse</strong>, which skips optimization and row source generation and proceeds straight to execution, is usually much faster than a hard parse of the same statement. (For an overview of SQL processing, which includes the difference between a hard and soft parse, see <a href="../cncpt/sql.html#CNCPT216" target="_blank"><span class="italic">Oracle Database Concepts</span></a>.)
                     </p>
                     <p>Not only is a hard parse a CPU-intensive operation, it is an unscalable operation, because it cannot be done concurrently with many other operations. For more information about concurrency and scalability, see <span class="q">"<a href="building-effective-applications.html#GUID-7D6B0A76-736A-472C-9AB2-F7757CB8993A" title="Concurrency is the simultaneous execution of multiple transactions. The better your application handles concurrency, the more scalable it is. A scalable application can process a larger workload with a proportional increase in system resource usage.">About Concurrency and Scalability</a>"</span>.
                     </p>
                     <p><a href="building-effective-applications.html#GUID-5F486510-7FF2-4418-8D88-13B18F2E2606__BACGGFEI">Example 8-1</a> shows the performance difference between a query without a bind variable and a semantically equivalent query with a bind variable. The former is slower and uses many more latches (for information about how latches affect scalability, see <span class="q">"<a href="building-effective-applications.html#GUID-005242DA-37C8-4EFD-A6B7-53183A151CB3" title="An increase in latches means more concurrency-based waits, and therefore a decrease in scalability.">About Latches and Concurrency</a>"</span>). To collect and display performance statistics, the example uses the Runstats tool, described in <span class="q">"<a href="building-effective-applications.html#GUID-F9C3320A-832C-4762-BA39-30132C5E0EAA" title="The Runstats tool lets you compare the performance of two programming techniques to see which is better.">Comparing Programming Techniques with Runstats</a>"</span>.
                     </p>
                     <div class="infoboxnote" id="GUID-5F486510-7FF2-4418-8D88-13B18F2E2606__GUID-BB178830-ABB2-4FD3-BFB7-4FB835FDE501">
                        <p class="notep1">Note:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="building-effective-applications.html#GUID-5F486510-7FF2-4418-8D88-13B18F2E2606__BACGGFEI">Example 8-1</a> shows the performance cost <span class="italic">for a single user</span>. As more users are added, the cost escalates rapidly.
                              </p>
                           </li>
                           <li>
                              <p>The result of <a href="building-effective-applications.html#GUID-5F486510-7FF2-4418-8D88-13B18F2E2606__BACGGFEI">Example 8-1</a> was produced with this setting:
                              </p><pre class="oac_no_warn" dir="ltr">SET SERVEROUTPUT ON FORMAT TRUNCATED</pre></li>
                        </ul>
                     </div>
                     <div class="infoboxnote" id="GUID-5F486510-7FF2-4418-8D88-13B18F2E2606__GUID-DA56C1D7-A5A9-454B-9BE7-78D6FBC1BD3E">
                        <p class="notep1">Note:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Using bind variables instead of string literals is the most effective way to make your code invulnerable to SQL injection attacks. For details, see <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=LNPLS646" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a>.
                              </p>
                           </li>
                           <li>
                              <p>Bind variables sometimes reduce the efficiency of data warehousing systems. Because most queries take so long, the optimizer tries to produce the best plan for each query rather than the best generic query. Using bind variables sometimes forces the optimizer to produce the best generic query. For information about improving performance in data warehousing systems, see <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=DWHSG019" target="_blank"><span class="italic">Oracle Database Data Warehousing Guide</span></a>.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <p>Although soft parsing is more efficient than hard parsing, the cost of soft parsing a statement many times is still very high. To maximize the efficiency and scalability of your application, minimize parsing. The easiest way to minimize parsing is to use PL/SQL.</p>
                     <div class="example" id="GUID-5F486510-7FF2-4418-8D88-13B18F2E2606__BACGGFEI">
                        <p class="titleinexample">Example 8-1 Bind Variable Improves Performance</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE t ( x VARCHAR2(5) );
 
DECLARE
  TYPE rc IS REF CURSOR;
  l_cursor rc;
BEGIN
  runstats_pkg.rs_start;  -- Collect statistics for query without bind variable
 
  FOR i IN 1 .. 5000 LOOP
    OPEN l_cursor FOR <span class="bold">'SELECT x FROM t WHERE x = ' || TO_CHAR(i)</span>;
    CLOSE l_cursor;
  END LOOP;
 
  runstats_pkg.rs_middle;  -- Collect statistics for query with bind variable
 
  FOR i IN 1 .. 5000 LOOP
    OPEN l_cursor FOR <span class="bold">'SELECT x FROM t WHERE x = :x' USING i</span>;
    CLOSE l_cursor;
  END LOOP;
 
  runstats_pkg.rs_stop(500);  -- Stop collecting statistics
end;
/
</pre><p>Result is similar to:</p><pre class="oac_no_warn" dir="ltr">Run 1 ran in 740 hsec
Run 2 ran in 30 hsec
<span class="bold">Run 1 ran in 2466.67% of the time of run 2</span>

Name                                   Run 1         Run 2    Difference
STAT...recursive cpu usage               729            19          -710
STAT...CPU used by this sessio           742            30          -712
STAT...parse time elapsed              1,051             4        -1,047
STAT...parse time cpu                  1,066             2        -1,064
STAT...session cursor cache hi             1         4,998         4,997
STAT...table scans (short tabl         5,000             1        -4,999
STAT...parse count (total)            10,003         5,004        -4,999
LATCH.session idle bit                 5,003             3        -5,000
LATCH.session allocation               5,003             3        -5,000
STAT...execute count                  10,003         5,003        -5,000
STAT...opened cursors cumulati        10,003         5,003        -5,000
STAT...parse count (hard)             10,001             5        -9,996
STAT...CCursor + sql area evic        10,000             1        -9,999
STAT...enqueue releases               10,008             7       -10,001
STAT...enqueue requests               10,009             7       -10,002
STAT...calls to get snapshot s        20,005         5,006       -14,999
STAT...calls to kcmgcs                20,028            35       -19,993
STAT...consistent gets pin (fa        20,013            17       -19,996
LATCH.call allocation                 20,002             6       -19,996
STAT...consistent gets from ca        20,014            18       -19,996
STAT...consistent gets                20,014            18       -19,996
STAT...consistent gets pin            20,013            17       -19,996
LATCH.simulator hash latch            20,014            11       -20,003
STAT...session logical reads          20,080            75       -20,005
LATCH.shared pool simulator           20,046             5       -20,041
LATCH.enqueue hash chains             20,343            15       -20,328
STAT...recursive calls                40,015        15,018       -24,997
LATCH.cache buffers chains            40,480           294       -40,186
STAT...session pga memory max        131,072        65,536       -65,536
STAT...session pga memory            131,072        65,536       -65,536
LATCH.row cache objects              165,209           139      -165,070
STAT...session uga memory max        219,000             0      -219,000
LATCH.shared pool                    265,108           152      -264,956
STAT...logical read bytes from   164,495,360       614,400  -163,880,960

<span class="bold">Run 1 latches total compared to run 2 -- difference and percentage</span>
         <span class="bold">Run 1         Run 2          Diff       Pct</span>
       <span class="bold">562,092           864      -561,228  2,466.67%</span>
 
PL/SQL procedure successfully completed.</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="building-effective-applications.html#GUID-BB351358-03F9-494C-8C38-180DFB7CAC4C" title="Design your applications to use the same resources, regardless of user populations and data volumes, and not to overload system resources.">Building Scalable Applications</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TDDDG99929"></a><div class="props_rev_4"><a id="GUID-D39CB5E6-0CC4-4780-AA7A-C41D96E615D1" name="GUID-D39CB5E6-0CC4-4780-AA7A-C41D96E615D1"></a><h4 id="TDDDG-GUID-D39CB5E6-0CC4-4780-AA7A-C41D96E615D1" class="sect4"><span class="enumeration_section">8.1.3 </span>Using PL/SQL to Improve Scalability
                  </h4>
                  <div>
                     <p>Certain PL/SQL features can help you to improve application scalability.</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="building-effective-applications.html#GUID-383477A2-2433-4CD7-A672-B66A01004B73">How PL/SQL Minimizes Parsing</a><br>PL/SQL, which is optimized for database access, silently caches statements. In PL/SQL, when you close a cursor, the cursor closes from your perspectivethat is, you cannot use it where an open cursor is requiredbut PL/SQL actually keeps the cursor open and caches its statement.
                        </li>
                        <li class="ulchildlink"><a href="building-effective-applications.html#GUID-FB5423B5-339B-49A8-B27B-326621E05795">About the EXECUTE IMMEDIATE Statement</a><br>The <span class="keyword">EXECUTE IMMEDIATE</span> statement builds and runs a dynamic SQL statement in a single operation.
                        </li>
                        <li class="ulchildlink"><a href="building-effective-applications.html#GUID-9D8B18A7-3C82-4536-9C9C-2C74ADF01301">About OPEN FOR Statements</a><br>The <span class="keyword">OPEN FOR</span> statement has the following basic syntax.
                        </li>
                        <li class="ulchildlink"><a href="building-effective-applications.html#GUID-41BDF5B3-52D7-4CB7-9043-74B4BDB64AA0">About the DBMS_SQL Package</a><br>The DBMS_SQL package is an API for building, running, and describing dynamic SQL statements. You must use the DBMS_SQL package instead of the <span class="keyword">EXECUTE IMMEDIATE</span> statement if the PL/SQL compiler cannot determine at compile time the number or types of output host variables (select list items) or input bind variables.
                        </li>
                        <li class="ulchildlink"><a href="building-effective-applications.html#GUID-93E72E33-189E-4F76-899E-1DF75C40BBEF">About Bulk SQL</a><br>Bulk SQL reduces the number of "round trips" between PL/SQL and SQL, thereby using fewer resources. 
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="building-effective-applications.html#GUID-BB351358-03F9-494C-8C38-180DFB7CAC4C" title="Design your applications to use the same resources, regardless of user populations and data volumes, and not to overload system resources.">Building Scalable Applications</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="TDDDG273"></a><div class="props_rev_3"><a id="GUID-383477A2-2433-4CD7-A672-B66A01004B73" name="GUID-383477A2-2433-4CD7-A672-B66A01004B73"></a><h5 id="TDDDG-GUID-383477A2-2433-4CD7-A672-B66A01004B73" class="sect5"><span class="enumeration_section">8.1.3.1 </span>How PL/SQL Minimizes Parsing
                     </h5>
                     <div>
                        <p>PL/SQL, which is optimized for database access, silently caches statements. In PL/SQL, when you close a cursor, the cursor closes from your perspectivethat is, you cannot use it where an open cursor is requiredbut PL/SQL actually keeps the cursor open and caches its statement.</p>
                        <p>If you use the cached statement again, PL/SQL uses the same cursor, thereby avoiding a parse. (PL/SQL closes cached statements if necessaryfor example, if your program must open another cursor but doing so would exceed the init.ora setting of <span class="keyword">OPEN_CURSORS</span>.)
                        </p>
                        <p>PL/SQL can silently cache only SQL statements that cannot change at runtime.</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="building-effective-applications.html#GUID-D39CB5E6-0CC4-4780-AA7A-C41D96E615D1" title="Certain PL/SQL features can help you to improve application scalability.">Using PL/SQL to Improve Scalability</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="TDDDG274"></a><div class="props_rev_3"><a id="GUID-FB5423B5-339B-49A8-B27B-326621E05795" name="GUID-FB5423B5-339B-49A8-B27B-326621E05795"></a><h5 id="TDDDG-GUID-FB5423B5-339B-49A8-B27B-326621E05795" class="sect5"><span class="enumeration_section">8.1.3.2 </span>About the EXECUTE IMMEDIATE Statement
                     </h5>
                     <div>
                        <p>The <span class="keyword">EXECUTE IMMEDIATE</span> statement builds and runs a dynamic SQL statement in a single operation.
                        </p>
                        <p>The basic syntax of the <span class="keyword">EXECUTE IMMEDIATE</span> statement is:
                        </p><pre class="oac_no_warn" dir="ltr">EXECUTE IMMEDIATE <span class="italic">sql_statement</span>
</pre><p><span class="synph">sql_statement</span> is a string that represents a SQL statement. If <span class="synph">sql_statement</span> has the same value every time the <span class="keyword">EXECUTE IMMEDIATE</span> statement runs, then PL/SQL can cache the <span class="keyword">EXECUTE IMMEDIATE</span> statement. If <span class="synph">sql_statement</span> can be different every time the <span class="keyword">EXECUTE IMMEDIATE</span> statement runs, then PL/SQL cannot cache the <span class="keyword">EXECUTE IMMEDIATE</span> statement.
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-FB5423B5-339B-49A8-B27B-326621E05795__GUID-174FDD6A-A70D-4C6D-9A81-CE421BC5CBAF">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../lnpls/dynamic-sql.html#LNPLS01115" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for information about <span class="keyword">EXECUTE IMMEDIATE</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="building-effective-applications.html#GUID-41BDF5B3-52D7-4CB7-9043-74B4BDB64AA0" title="The DBMS_SQL package is an API for building, running, and describing dynamic SQL statements. You must use the DBMS_SQL package instead of the EXECUTE IMMEDIATE statement if the PL/SQL compiler cannot determine at compile time the number or types of output host variables (select list items) or input bind variables.">About the DBMS_SQL Package</a>"</span></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="building-effective-applications.html#GUID-D39CB5E6-0CC4-4780-AA7A-C41D96E615D1" title="Certain PL/SQL features can help you to improve application scalability.">Using PL/SQL to Improve Scalability</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="TDDDG278"></a><div class="props_rev_3"><a id="GUID-9D8B18A7-3C82-4536-9C9C-2C74ADF01301" name="GUID-9D8B18A7-3C82-4536-9C9C-2C74ADF01301"></a><h5 id="TDDDG-GUID-9D8B18A7-3C82-4536-9C9C-2C74ADF01301" class="sect5"><span class="enumeration_section">8.1.3.3 </span>About OPEN FOR Statements
                     </h5>
                     <div>
                        <p>The <span class="keyword">OPEN FOR</span> statement has the following basic syntax.
                        </p>
                        <p>The basic syntax of the <span class="keyword">OPEN FOR</span> statement is:
                        </p><pre class="oac_no_warn" dir="ltr">OPEN <span class="italic">cursor_variable</span> FOR <span class="italic">query</span>
</pre><p>Your application can open <span class="synph">cursor_variable</span> for several different queries before closing it. Because PL/SQL cannot determine the number of different queries until runtime, PL/SQL cannot cache the <span class="keyword">OPEN FOR</span> statement.
                        </p>
                        <p>If you do not need to use a cursor variable, then use a declared cursor, for both better performance and ease of programming. For details, see <a href="../adfns/coding-subprograms-and-packages.html#ADFNS160" target="_blank"><span class="italic">Oracle Database Development Guide</span></a>.
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-9D8B18A7-3C82-4536-9C9C-2C74ADF01301__GUID-F31F0201-1392-4412-9DAB-1514B5228862">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=LNPLS629" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for information about <span class="keyword">OPEN FOR</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="stored-subprograms-packages.html#GUID-AAF33D3B-FE73-42AC-AB07-3FA1A45CE02B" title="A cursor variable is like a cursor that it is not limited to one query. You can open a cursor variable for a query, process the result set, and then use the cursor variable for another query. Cursor variables are useful for passing query results between subprograms.">About Cursor Variables</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="stored-subprograms-packages.html#GUID-05FA9E55-F394-4A5F-A3C6-39EC0F68549F" title="When Oracle Database executes a SQL statement, it stores the result set and processing information in an unnamed private SQL area. A pointer to this unnamed area, called a cursor, lets you retrieve the result set one row at a time. Cursor attributes return information about the state of the cursor.">About Cursors</a>"</span></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="building-effective-applications.html#GUID-D39CB5E6-0CC4-4780-AA7A-C41D96E615D1" title="Certain PL/SQL features can help you to improve application scalability.">Using PL/SQL to Improve Scalability</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="TDDDG275"></a><div class="props_rev_3"><a id="GUID-41BDF5B3-52D7-4CB7-9043-74B4BDB64AA0" name="GUID-41BDF5B3-52D7-4CB7-9043-74B4BDB64AA0"></a><h5 id="TDDDG-GUID-41BDF5B3-52D7-4CB7-9043-74B4BDB64AA0" class="sect5"><span class="enumeration_section">8.1.3.4 </span>About the DBMS_SQL Package
                     </h5>
                     <div>
                        <p>The DBMS_SQL package is an API for building, running, and describing dynamic SQL statements. You must use the DBMS_SQL package instead of the <span class="keyword">EXECUTE IMMEDIATE</span> statement if the PL/SQL compiler cannot determine at compile time the number or types of output host variables (select list items) or input bind variables.
                        </p>
                        <p>The DBMS_SQL package is an API for building, running, and describing dynamic SQL statements. Using the DBMS_SQL package takes more effort than using the <span class="keyword">EXECUTE IMMEDIATE</span> statement, but you must use the DBMS_SQL package if the PL/SQL compiler cannot determine at compile time the number or types of output host variables (select list items) or input bind variables.
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-41BDF5B3-52D7-4CB7-9043-74B4BDB64AA0__GUID-B2EB9D40-E6A5-48BB-87F3-F6CD8B008B9E">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../lnpls/dynamic-sql.html#LNPLS011" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for more information about when to use the DBMS_SQL package
                                 </p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=ARPLS058" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for complete information about the DBMS_SQL package
                                 </p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="building-effective-applications.html#GUID-FB5423B5-339B-49A8-B27B-326621E05795" title="The EXECUTE IMMEDIATE statement builds and runs a dynamic SQL statement in a single operation.">About the EXECUTE IMMEDIATE Statement</a>"</span></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="building-effective-applications.html#GUID-D39CB5E6-0CC4-4780-AA7A-C41D96E615D1" title="Certain PL/SQL features can help you to improve application scalability.">Using PL/SQL to Improve Scalability</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="TDDDG280"></a><a id="TDDDG336"></a><a id="TDDDG276"></a><div class="props_rev_3"><a id="GUID-93E72E33-189E-4F76-899E-1DF75C40BBEF" name="GUID-93E72E33-189E-4F76-899E-1DF75C40BBEF"></a><h5 id="TDDDG-GUID-93E72E33-189E-4F76-899E-1DF75C40BBEF" class="sect5"><span class="enumeration_section">8.1.3.5 </span>About Bulk SQL
                     </h5>
                     <div>
                        <p>Bulk SQL reduces the number of "round trips" between PL/SQL and SQL, thereby using fewer resources. </p>
                        <p>Without bulk SQL, you retrieve one row at a time from the database (SQL), process it (PL/SQL), and return it to the database (SQL). With bulk SQL, you retrieve a set of rows from the database, process the set of rows, and then return the whole set to the database.</p>
                        <p>Oracle recommends using Bulk SQL when you retrieve multiple rows from the database <span class="italic">and</span> return them to the database, as in <a href="building-effective-applications.html#GUID-93E72E33-189E-4F76-899E-1DF75C40BBEF__BACBCGDD">Example 8-2</a>. You do not need bulk SQL if you retrieve multiple rows but do not return them; for example:
                        </p><pre class="oac_no_warn" dir="ltr">FOR x IN (SELECT * FROM t WHERE ... )  -- Retrieve row set (implicit array fetch)
  LOOP
    DBMS_OUTPUT.PUT_LINE(t.x);          -- Process rows but do not return them
  END LOOP;
</pre><p><a href="building-effective-applications.html#GUID-93E72E33-189E-4F76-899E-1DF75C40BBEF__BACBCGDD">Example 8-2</a> loops through a table t with a column object_name, retrieving sets of 100 rows, processing them, and returning them to the database. (Limiting the bulk <span class="keyword">FETCH</span> statement to 100 rows requires an explicit cursor.)
                        </p>
                        <p><a href="building-effective-applications.html#GUID-93E72E33-189E-4F76-899E-1DF75C40BBEF__BACCGHEI">Example 8-3</a> does the same job as <a href="building-effective-applications.html#GUID-93E72E33-189E-4F76-899E-1DF75C40BBEF__BACBCGDD">Example 8-2</a>, without bulk SQL.
                        </p>
                        <p>As these TKPROF reports for <a href="building-effective-applications.html#GUID-93E72E33-189E-4F76-899E-1DF75C40BBEF__BACBCGDD">Example 8-2</a> and <a href="building-effective-applications.html#GUID-93E72E33-189E-4F76-899E-1DF75C40BBEF__BACCGHEI">Example 8-3</a> show, using bulk SQL for this job uses almost 50% less CPU time:
                        </p><pre class="oac_no_warn" dir="ltr"><span class="bold">SELECT ROWID RID, OBJECT_NAME FROM T T_BULK</span>
 
call     count       cpu    elapsed       disk      query    current        rows
------- ------  -------- ---------- ---------- ---------- ----------  ----------
total      721      0.17       0.17          0      22582          0       71825
********************************************************************************
<span class="bold">UPDATE T SET OBJECT_NAME = :B1 WHERE ROWID = :B2</span>
 
call     count       cpu    elapsed       disk      query    current        rows
------- ------  -------- ---------- ---------- ---------- ----------  ----------
Parse        1      0.00       0.00          0          0          0           0
Execute    <span class="bold">719     12.83</span>      13.77          0      71853      74185       71825
Fetch        0      0.00       0.00          0          0          0           0
------- ------  -------- ---------- ---------- ---------- ----------  ----------
total      720     12.83      13.77          0      71853      74185       71825


<span class="bold">SELECT ROWID RID, OBJECT_NAME FROM T T_SLOW_BY_SLOW</span>
 
call     count       cpu    elapsed       disk      query    current        rows
------- ------  -------- ---------- ---------- ---------- ----------  ----------
total      721      0.17       0.17          0      22582          0       71825
********************************************************************************
<span class="bold">UPDATE T SET OBJECT_NAME = :B2 WHERE ROWID = :B1</span>
 
call     count       cpu    elapsed       disk      query    current        rows
------- ------  -------- ---------- ---------- ---------- ----------  ----------
Parse        1      0.00       0.00          0          0          0           0
Execute  <span class="bold">71824     21.25</span>      22.25          0      71836      73950       71824
Fetch        0      0.00       0.00          0          0          0           0
------- ------  -------- ---------- ---------- ---------- ----------  ----------
total    71825     21.25      22.25          0      71836      73950       71824
</pre><p>However, using bulk SQL for this job uses more CPU timeand more codethan using a single SQL statement, as this <code class="codeph">TKPROF</code> report shows:
                        </p><pre class="oac_no_warn" dir="ltr"><span class="bold">UPDATE T SET OBJECT_NAME = SUBSTR(OBJECT_NAME,2) || SUBSTR(OBJECT_NAME,1,1)</span>
 
call     count       cpu    elapsed       disk      query    current        rows
------- ------  -------- ---------- ---------- ---------- ----------  ----------
Parse        1      0.00       0.00          0          0          0           0
Execute      <span class="bold">1      1.30</span>       1.44          0       2166      75736       71825
Fetch        0      0.00       0.00          0          0          0           0
------- ------  -------- ---------- ---------- ---------- ----------  ----------
total        2      1.30       1.44          0       2166      75736       71825</pre><div class="example" id="GUID-93E72E33-189E-4F76-899E-1DF75C40BBEF__BACBCGDD">
                           <p class="titleinexample">Example 8-2 Bulk SQL</p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE PROCEDURE bulk AS
  TYPE ridArray IS TABLE OF ROWID;
  TYPE onameArray IS TABLE OF t.object_name%TYPE;
 
  CURSOR c is SELECT ROWID rid, object_name  <span class="bold">-- explicit cursor</span>
              FROM t t_bulk;
 
  l_rids    ridArray;
  l_onames  onameArray;
  N         NUMBER := 100;
BEGIN
  OPEN c;
  <span class="bold">LOOP</span>
    FETCH c BULK COLLECT
    INTO l_rids, l_onames LIMIT N;   <span class="bold">-- retrieve N rows from t</span>

    FOR i in 1 .. l_rids.COUNT
      LOOP                           <span class="bold">-- process N rows</span>
        l_onames(i) := substr(l_onames(i),2) || substr(l_onames(i),1,1);
      END LOOP;

      FORALL i in 1 .. l_rids.count  <span class="bold">-- return processed rows to t</span>
        UPDATE t
        SET object_name = l_onames(i)
        WHERE ROWID = l_rids(i);
        EXIT WHEN c%NOTFOUND;
  <span class="bold">END LOOP;</span>
  CLOSE c;
END;
/
</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-93E72E33-189E-4F76-899E-1DF75C40BBEF__BACCGHEI">
                           <p class="titleinexample">Example 8-3 Without Bulk SQL</p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE PROCEDURE slow_by_slow AS
BEGIN
  FOR x IN (SELECT rowid rid, object_name FROM t t_slow_by_slow)
    LOOP
      x.object_name := substr(x.object_name,2) || substr(x.object_name,1,1);

      UPDATE t
      SET object_name = x.object_name
      WHERE rowid = x.rid;
    END LOOP;
END;
</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-93E72E33-189E-4F76-899E-1DF75C40BBEF__GUID-CCFFCF01-8564-432A-AB10-8CA0B4AA81BF">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=ADFNS343" target="_blank"><span class="italic">Oracle Database Development Guide</span></a> for an overview of bulk SQL
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../adfns/transaction-guard.html#ADFNS344" target="_blank"><span class="italic">Oracle Database Development Guide</span></a> for more specific information about when to use bulk SQL
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../lnpls/plsql-optimization-and-tuning.html#LNPLS01205" target="_blank"><span class="italic">Oracle Database PL/SQL Language Reference</span></a> for more information about bulk SQL
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="building-effective-applications.html#GUID-D39CB5E6-0CC4-4780-AA7A-C41D96E615D1" title="Certain PL/SQL features can help you to improve application scalability.">Using PL/SQL to Improve Scalability</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="TDDDG99928"></a><div class="props_rev_3"><a id="GUID-7D6B0A76-736A-472C-9AB2-F7757CB8993A" name="GUID-7D6B0A76-736A-472C-9AB2-F7757CB8993A"></a><h4 id="TDDDG-GUID-7D6B0A76-736A-472C-9AB2-F7757CB8993A" class="sect4"><span class="enumeration_section">8.1.4 </span>About Concurrency and Scalability
                  </h4>
                  <div>
                     <p><strong class="term">Concurrency</strong> is the simultaneous execution of multiple transactions. The better your application handles concurrency, the more scalable it is.  A <strong class="term">scalable</strong> application can process a larger workload with a proportional increase in system resource usage.
                     </p>
                     <p><strong class="term">Concurrency</strong> is the simultaneous execution of multiple transactions. Statements within concurrent transactions can update the same data. The better your application handles concurrency, the more scalable it is. A <strong class="term">scalable</strong> application can process a larger workload with a proportional increase in system resource usage. For example, if you double its workload, a scalable application uses twice as many system resources.
                     </p>
                     <p>Concurrent transactions must produce meaningful and consistent results. Therefore, a multiuser database must provide the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><strong class="term">Data concurrency</strong> , which ensures that users can access data at the same time.
                           </p>
                        </li>
                        <li>
                           <p><strong class="term">Data consistency</strong>, which ensures that each user sees a consistent view of the data, including visible changes from his or her own transactions and committed transactions of other users
                           </p>
                        </li>
                     </ul>
                     <p>Oracle Database maintains data consistency by using a multiversion consistency model and various types of locks and transaction isolation levels. For an overview of the Oracle Database locking mechanism, see <a href="../cncpt/data-concurrency-and-consistency.html#CNCPT1331" target="_blank"><span class="italic">Oracle Database Concepts</span></a>. For an overview of Oracle Database transaction isolation levels, see <a href="../cncpt/data-concurrency-and-consistency.html#CNCPT621" target="_blank"><span class="italic">Oracle Database Concepts</span></a>.
                     </p>
                     <p>To describe consistent transaction behavior when transactions run concurrently, database researchers have defined a transaction isolation category called <strong class="term">serializable</strong>. A <strong class="term">serializable transaction</strong> operates in an environment that appears to be a single-user database. Serializable transactions are desirable in specific cases, but for 99% of the work load, read committed isolation is perfect.
                     </p>
                     <p>Oracle Database has features that improve concurrency and scalabilityfor example, sequences, latches, nonblocking reads and writes, and shared SQL.</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="building-effective-applications.html#GUID-84ACEDC2-88E5-412C-B719-B46D4D82DD54">About Sequences and Concurrency</a><br> Sequences eliminate serialization, thereby improving the concurrency and scalability of your application.
                        </li>
                        <li class="ulchildlink"><a href="building-effective-applications.html#GUID-005242DA-37C8-4EFD-A6B7-53183A151CB3">About Latches and Concurrency</a><br>An increase in latches means more concurrency-based waits, and therefore a decrease in scalability.
                        </li>
                        <li class="ulchildlink"><a href="building-effective-applications.html#GUID-3AA5A96A-CE03-4A8D-B06D-2FE4AAE0B1DC">About Nonblocking Reads and Writes and Concurrency</a><br>In Oracle Database, <strong class="term">nonblocking reads and writes</strong> let queries execute concurrently with changes to the data they are reading, without blocking or stopping. Nonblocking reads and writes let one session read data while another session is changing that data.
                        </li>
                        <li class="ulchildlink"><a href="building-effective-applications.html#GUID-664969A9-F7F0-4B55-8663-C93FDD5A96DF">About Shared SQL and Concurrency</a><br>Oracle Database compiles a SQL statement into an executable object once, and then other sessions can reuse the object for as long as it exists. This Oracle Database feature, called <strong class="term">shared SQL</strong>, lets the database do very resource-intensive operationscompiling and optimizing SQL statementsonly once, instead of every time a session uses the same SQL statement.
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-7D6B0A76-736A-472C-9AB2-F7757CB8993A__GUID-70BFC6F0-F874-4141-A79F-9842A8253EAA">
                        <p class="notep1">See Also:</p>
                        <p><a href="../cncpt/data-concurrency-and-consistency.html#CNCPT020" target="_blank"><span class="italic">Oracle Database Concepts</span></a> for more information about data concurrency and consistency
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="building-effective-applications.html#GUID-BB351358-03F9-494C-8C38-180DFB7CAC4C" title="Design your applications to use the same resources, regardless of user populations and data volumes, and not to overload system resources.">Building Scalable Applications</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="TDDDG277"></a><div class="props_rev_3"><a id="GUID-84ACEDC2-88E5-412C-B719-B46D4D82DD54" name="GUID-84ACEDC2-88E5-412C-B719-B46D4D82DD54"></a><h5 id="TDDDG-GUID-84ACEDC2-88E5-412C-B719-B46D4D82DD54" class="sect5"><span class="enumeration_section">8.1.4.1 </span>About Sequences and Concurrency
                     </h5>
                     <div>
                        <p> Sequences eliminate serialization, thereby improving the concurrency and scalability of your application.</p>
                        <p>A <strong class="term">sequence</strong> is a schema object from which multiple users can generate unique integers, which is very useful when you need unique primary keys.
                        </p>
                        <p>Without sequences, unique primary key values must be produced programmatically. A user gets a new primary key value by selecting the most recently produced value and incrementing it. This technique requires a lock during the transaction and causes multiple users to wait for the next primary key valuethat is, the transactions serialize. Sequences eliminate serialization, thereby improving the concurrency and scalability of your application.</p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-84ACEDC2-88E5-412C-B719-B46D4D82DD54__GUID-1043D7F7-70AA-4896-B3B5-A1B522A279DA">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=CNCPT88879" target="_blank"><span class="italic">Oracle Database Concepts</span></a> for information about concurrent access to sequences
                                 </p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="creating-managing-schema-objects.html#GUID-474CBF2A-BDBF-498E-98DA-16B59E4D8050" title="Sequences are schema objects from which you can generate unique sequential values, which are very useful when you need unique primary keys. Sequences are used through the pseudocolumns CURRVAL and NEXTVAL, which return the current and next values of the sequence, respectively.">Creating and Managing Sequences</a>"</span></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="building-effective-applications.html#GUID-7D6B0A76-736A-472C-9AB2-F7757CB8993A" title="Concurrency is the simultaneous execution of multiple transactions. The better your application handles concurrency, the more scalable it is. A scalable application can process a larger workload with a proportional increase in system resource usage.">About Concurrency and Scalability</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="TDDDG279"></a><div class="props_rev_3"><a id="GUID-005242DA-37C8-4EFD-A6B7-53183A151CB3" name="GUID-005242DA-37C8-4EFD-A6B7-53183A151CB3"></a><h5 id="TDDDG-GUID-005242DA-37C8-4EFD-A6B7-53183A151CB3" class="sect5"><span class="enumeration_section">8.1.4.2 </span>About Latches and Concurrency
                     </h5>
                     <div>
                        <p>An increase in latches means more concurrency-based waits, and therefore a decrease in scalability.</p>
                        <p>A <strong class="term">latch</strong> is a simple, low-level serialization mechanism that coordinates multiuser access to shared data structures. Latches protect shared memory resources from corruption when accessed by multiple processes.
                        </p>
                        <p>An increase in latches means more concurrency-based waits, and therefore a decrease in scalability. If you can use either an approach that runs slightly faster during development or one that uses fewer latches, use the latter.</p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-005242DA-37C8-4EFD-A6B7-53183A151CB3__GUID-66664CCF-CC07-4DD9-B9D2-D2653883FABF">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../cncpt/data-concurrency-and-consistency.html#CNCPT1358" target="_blank"><span class="italic">Oracle Database Concepts</span></a> for information about latches
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../cncpt/data-concurrency-and-consistency.html#CNCPT88983" target="_blank"><span class="italic">Oracle Database Concepts</span></a> for information about mutexes, which are like latches for single objects
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="building-effective-applications.html#GUID-7D6B0A76-736A-472C-9AB2-F7757CB8993A" title="Concurrency is the simultaneous execution of multiple transactions. The better your application handles concurrency, the more scalable it is. A scalable application can process a larger workload with a proportional increase in system resource usage.">About Concurrency and Scalability</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="TDDDG282"></a><div class="props_rev_3"><a id="GUID-3AA5A96A-CE03-4A8D-B06D-2FE4AAE0B1DC" name="GUID-3AA5A96A-CE03-4A8D-B06D-2FE4AAE0B1DC"></a><h5 id="TDDDG-GUID-3AA5A96A-CE03-4A8D-B06D-2FE4AAE0B1DC" class="sect5"><span class="enumeration_section">8.1.4.3 </span>About Nonblocking Reads and Writes and Concurrency
                     </h5>
                     <div>
                        <p>In Oracle Database, <strong class="term">nonblocking reads and writes</strong> let queries execute concurrently with changes to the data they are reading, without blocking or stopping. Nonblocking reads and writes let one session read data while another session is changing that data.
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="building-effective-applications.html#GUID-7D6B0A76-736A-472C-9AB2-F7757CB8993A" title="Concurrency is the simultaneous execution of multiple transactions. The better your application handles concurrency, the more scalable it is. A scalable application can process a larger workload with a proportional increase in system resource usage.">About Concurrency and Scalability</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="TDDDG329"></a><div class="props_rev_3"><a id="GUID-664969A9-F7F0-4B55-8663-C93FDD5A96DF" name="GUID-664969A9-F7F0-4B55-8663-C93FDD5A96DF"></a><h5 id="TDDDG-GUID-664969A9-F7F0-4B55-8663-C93FDD5A96DF" class="sect5"><span class="enumeration_section">8.1.4.4 </span>About Shared SQL and Concurrency
                     </h5>
                     <div>
                        <p>Oracle Database compiles a SQL statement into an executable object once, and then other sessions can reuse the object for as long as it exists. This Oracle Database feature, called <strong class="term">shared SQL</strong>, lets the database do very resource-intensive operationscompiling and optimizing SQL statementsonly once, instead of every time a session uses the same SQL statement.
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-664969A9-F7F0-4B55-8663-C93FDD5A96DF__GUID-4B5685CC-41F7-4111-B9F2-9A01F73DBAD4">
                           <p class="notep1">See Also:</p>
                           <p><a href="../cncpt/memory-architecture.html#CNCPT1228" target="_blank"><span class="italic">Oracle Database Concepts</span></a> for more information about shared SQL
                           </p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="building-effective-applications.html#GUID-7D6B0A76-736A-472C-9AB2-F7757CB8993A" title="Concurrency is the simultaneous execution of multiple transactions. The better your application handles concurrency, the more scalable it is. A scalable application can process a larger workload with a proportional increase in system resource usage.">About Concurrency and Scalability</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="TDDDG99927"></a><div class="props_rev_3"><a id="GUID-5381A407-3D62-4675-816C-BBB6FE34587C" name="GUID-5381A407-3D62-4675-816C-BBB6FE34587C"></a><h4 id="TDDDG-GUID-5381A407-3D62-4675-816C-BBB6FE34587C" class="sect4"><span class="enumeration_section">8.1.5 </span>Limiting the Number of Concurrent Sessions
                  </h4>
                  <div>
                     <p>The more concurrent sessions you have, the more concurrency-based waits you have, and the slower your response time is.</p>
                     <p>If your computer has <span class="italic">n</span> CPU cores, then at most <span class="italic">n</span> sessions can really be concurrently active. Each additional "concurrent" session must wait for a CPU core to be available before it can become active. If some waiting sessions are waiting only for I/O, then increasing the number of concurrent sessions to slightly more than <span class="italic">n</span> might slightly improve runtime performance. However, increasing the number of concurrent sessions too much will significantly reduce runtime performance.
                     </p>
                     <p>The <span class="keyword">SESSIONS</span> initialization parameter determines the maximum number of concurrent users in the system. For details, see <a href="../refrn/SESSIONS.html#REFRN10197" target="_blank"><span class="italic">Oracle Database Reference</span></a>.
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-5381A407-3D62-4675-816C-BBB6FE34587C__GUID-1B60D621-6589-41B9-A345-9B685B219751">
                        <p class="notep1">See Also:</p>
                        <p><a href="http://www.youtube.com/watch?v=xNDnVOCdvQ0" target="_blank"><code class="codeph">http://www.youtube.com/watch?v=xNDnVOCdvQ0</code></a> for a video that shows the effect of reducing the number of concurrent sessions on a computer with 12 CPU cores from thousands to 96
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="building-effective-applications.html#GUID-BB351358-03F9-494C-8C38-180DFB7CAC4C" title="Design your applications to use the same resources, regardless of user populations and data volumes, and not to overload system resources.">Building Scalable Applications</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TDDDG323"></a><div class="props_rev_4"><a id="GUID-F9C3320A-832C-4762-BA39-30132C5E0EAA" name="GUID-F9C3320A-832C-4762-BA39-30132C5E0EAA"></a><h4 id="TDDDG-GUID-F9C3320A-832C-4762-BA39-30132C5E0EAA" class="sect4"><span class="enumeration_section">8.1.6 </span>Comparing Programming Techniques with Runstats
                  </h4>
                  <div>
                     <p>The Runstats tool lets you compare the performance of two programming techniques to see which is better.</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="building-effective-applications.html#GUID-EB0B6B9D-5F70-4E43-9238-C3AC4FF9F2D8">About Runstats</a><br>The Runstats tool lets you compare the performance of two programming techniques to see which is better.
                        </li>
                        <li class="ulchildlink"><a href="building-effective-applications.html#GUID-9B3E3415-5DAB-4845-A28C-9D0C430B3B23">Setting Up Runstats</a><br>The Runstats tool is implemented as a package that uses a view and a temporary table.
                        </li>
                        <li class="ulchildlink"><a href="building-effective-applications.html#GUID-7F1F2916-5990-4E5E-AE23-8DA903532DFA">Using Runstats</a><br>This topic gives the syntax for using the Runstats tool.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="building-effective-applications.html#GUID-BB351358-03F9-494C-8C38-180DFB7CAC4C" title="Design your applications to use the same resources, regardless of user populations and data volumes, and not to overload system resources.">Building Scalable Applications</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="TDDDG327"></a><div class="props_rev_3"><a id="GUID-EB0B6B9D-5F70-4E43-9238-C3AC4FF9F2D8" name="GUID-EB0B6B9D-5F70-4E43-9238-C3AC4FF9F2D8"></a><h5 id="TDDDG-GUID-EB0B6B9D-5F70-4E43-9238-C3AC4FF9F2D8" class="sect5"><span class="enumeration_section">8.1.6.1 </span>About Runstats
                     </h5>
                     <div>
                        <p>The Runstats tool lets you compare the performance of two programming techniques to see which is better.</p>
                        <p>Runstats measures:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Elapsed time for each technique in hundredths of seconds (hsec)</p>
                           </li>
                           <li>
                              <p>Elapsed time for the first technique as a percentage of that of the second technique</p>
                           </li>
                           <li>
                              <p>System statistics for the two techniques (for example, parse calls)</p>
                           </li>
                           <li>
                              <p>Latching for the two techniques</p>
                           </li>
                        </ul>
                        <p>Of the preceding measurements, the most important is latching (see <span class="q">"<a href="building-effective-applications.html#GUID-005242DA-37C8-4EFD-A6B7-53183A151CB3" title="An increase in latches means more concurrency-based waits, and therefore a decrease in scalability.">About Latches and Concurrency</a>"</span>).
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-EB0B6B9D-5F70-4E43-9238-C3AC4FF9F2D8__GUID-C995D80B-2EF6-4635-A031-962A1D1C48D5">
                           <p class="notep1">See Also:</p>
                           <p><a href="building-effective-applications.html#GUID-5F486510-7FF2-4418-8D88-13B18F2E2606__BACGGFEI">Example 8-1</a>, which uses Runstats
                           </p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="building-effective-applications.html#GUID-F9C3320A-832C-4762-BA39-30132C5E0EAA" title="The Runstats tool lets you compare the performance of two programming techniques to see which is better.">Comparing Programming Techniques with Runstats</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="TDDDG328"></a><a id="TDDDG324"></a><div class="props_rev_3"><a id="GUID-9B3E3415-5DAB-4845-A28C-9D0C430B3B23" name="GUID-9B3E3415-5DAB-4845-A28C-9D0C430B3B23"></a><h5 id="TDDDG-GUID-9B3E3415-5DAB-4845-A28C-9D0C430B3B23" class="sect5"><span class="enumeration_section">8.1.6.2 </span>Setting Up Runstats
                     </h5>
                     <div>
                        <p>The Runstats tool is implemented as a package that uses a view and a temporary table.</p>
                        <div class="section">
                           <div class="infoboxnote" id="GUID-9B3E3415-5DAB-4845-A28C-9D0C430B3B23__GUID-FDF7ACC4-6992-42D3-84C8-359975E1939D">
                              <p class="notep1">Note:</p>
                              <p>For step&nbsp;<a href="building-effective-applications.html#GUID-9B3E3415-5DAB-4845-A28C-9D0C430B3B23__BACGFDGF">1</a> of the following procedure, you need the <span class="keyword">SELECT</span> privilege on the dynamic performance views <span class="keyword">V$STATNAME</span>, <span class="keyword">V$MYSTAT</span>, and <span class="keyword">V$LATCH</span>. If you cannot get this privilege, then have someone who has the privilege create the view in step&nbsp;<a href="building-effective-applications.html#GUID-9B3E3415-5DAB-4845-A28C-9D0C430B3B23__BACGFDGF">1</a> and grant you the <span class="keyword">SELECT</span> privilege on it.
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-9B3E3415-5DAB-4845-A28C-9D0C430B3B23__GUID-369C1975-A3BB-4598-A200-CF188B7935B0">To set up the Runstats tool:</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand" id="GUID-9B3E3415-5DAB-4845-A28C-9D0C430B3B23__BACGFDGF"><span>Create the view that Runstats uses:</span><div><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE VIEW stats
AS SELECT 'STAT...' || a.name name, b.value
FROM V$STATNAME a, V$MYSTAT b
WHERE a.statistic# = b.statistic#
UNION ALL
SELECT 'LATCH.' || name, gets
FROM V$LATCH;
</pre></div>
                           </li>
                           <li class="stepexpand"><span>Create the temporary table that Runstats uses:</span><div><pre class="oac_no_warn" dir="ltr">DROP TABLE run_stats;

CREATE GLOBAL TEMPORARY TABLE run_stats
( runid VARCHAR2(15),
  name VARCHAR2(80),
  value INT )
ON COMMIT PRESERVE ROWS;
</pre></div>
                           </li>
                           <li class="stepexpand"><span>Create this package specification:</span><div><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE PACKAGE runstats_pkg
AS
  PROCEDURE rs_start;
  PROCEDURE rs_middle;
  PROCEDURE rs_stop( p_difference_threshold IN NUMBER DEFAULT 0 );
end;
/
</pre><p>The parameter <span class="parmname" translate="no">p_difference_threshold</span> controls the amount of statistics and latching data that Runstats displays. Runstats displays data only when the difference for the two techniques is greater than <span class="parmname" translate="no">p_difference_threshold</span>. By default, Runstats displays all data.
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Create this package body:</span><div><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE PACKAGE BODY runstats_pkg
AS
  g_start NUMBER;
  g_run1 NUMBER;
  g_run2 NUMBER;
 
  PROCEDURE rs_start
  IS
  BEGIN
    DELETE FROM run_stats;
 
    INSERT INTO run_stats
    SELECT 'before', stats.* FROM stats;
 
    g_start := DBMS_UTILITY.GET_TIME;
  END rs_start;
 
  PROCEDURE rs_middle
  IS
  BEGIN
    g_run1 := (DBMS_UTILITY.GET_TIME - g_start);
 
    INSERT INTO run_stats
    SELECT 'after 1', stats.* FROM stats;
 
    g_start := DBMS_UTILITY.GET_TIME; 
  END rs_middle;
 
  PROCEDURE rs_stop( p_difference_threshold IN NUMBER DEFAULT 0 )
  IS
  BEGIN
    g_run2 := (DBMS_UTILITY.GET_TIME - g_start);
 
    DBMS_OUTPUT.PUT_LINE 
      ('Run 1 ran in ' || g_run1 || ' hsec');
 
    DBMS_OUTPUT.PUT_LINE 
      ('Run 2 ran in ' || g_run2 || ' hsec');
 
    DBMS_OUTPUT.PUT_LINE 
      ('Run 1 ran in ' || round(g_run1/g_run2*100, 2) || '% of the time of run 2');
 
    DBMS_OUTPUT.PUT_LINE( CHR(9) );
 
    INSERT INTO run_stats
    SELECT 'after 2', stats.* FROM stats;
 
    DBMS_OUTPUT.PUT_LINE 
      ( RPAD( 'Name', 30 ) ||
        LPAD( 'Run 1', 14) ||
        LPAD( 'Run 2', 14) ||
        LPAD( 'Difference', 14)
      );
 
    FOR x IN
    ( SELECT RPAD( a.name, 30 ) ||
             TO_CHAR( b.value - a.value, '9,999,999,999' ) ||
             TO_CHAR( c.value - b.value, '9,999,999,999' ) ||
             TO_CHAR( ( (c.value - b.value) - (b.value - a.value)),
               '9,999,999,999' ) data
      FROM run_stats a, run_stats b, run_stats c
      WHERE a.name = b.name
        AND b.name = c.name
        AND a.runid = 'before'
        AND b.runid = 'after 1'
        AND c.runid = 'after 2'
        AND (c.value - a.value) &gt; 0
        AND abs((c.value - b.value) - (b.value - a.value)) &gt;
          p_difference_threshold
     ORDER BY ABS((c.value - b.value) - (b.value - a.value))
    ) LOOP
        DBMS_OUTPUT.PUT_LINE( x.data ); 
    END LOOP;
 
    DBMS_OUTPUT.PUT_LINE( CHR(9) );
 
    DBMS_OUTPUT.PUT_LINE(
      'Run 1 latches total compared to run 2 -- difference and percentage' );
 
    DBMS_OUTPUT.PUT_LINE 
      ( LPAD( 'Run 1', 14) ||
        LPAD( 'Run 2', 14) ||
        LPAD( 'Diff', 14) ||
        LPAD( 'Pct', 10)
      );
 
    FOR x IN
    ( SELECT TO_CHAR( run1, '9,999,999,999' ) ||
             TO_CHAR( run2, '9,999,999,999' ) ||
             TO_CHAR( diff, '9,999,999,999' ) ||
             TO_CHAR( ROUND( g_run1/g_run2*100, 2), '99,999.99' ) || '%' data
      FROM ( SELECT SUM (b.value - a.value) run1,
                    SUM (c.value - b.value) run2,
                    SUM ( (c.value - b.value) - (b.value - a.value)) diff
             FROM run_stats a, run_stats b, run_stats c
             WHERE a.name = b.name
               AND b.name = c.name
               AND a.runid = 'before'
               AND b.runid = 'after 1'
               AND c.runid = 'after 2'
               AND a.name like 'LATCH%'
           )
    ) LOOP
        DBMS_OUTPUT.PUT_LINE( x.data ); 
    END LOOP;
 
  END rs_stop;
 
END;
/</pre></div>
                           </li>
                        </ol>
                        <div class="section"></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-9B3E3415-5DAB-4845-A28C-9D0C430B3B23__GUID-A81308B1-2977-4FE9-A269-9917C9DA497B">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="creating-managing-schema-objects.html#GUID-31755C84-1EE1-41FF-9EC8-FD8CDE2D5BC1" title="To create views, use either the SQL Developer tool Create View or the DDL statement CREATE VIEW.">Creating Views</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="creating-managing-schema-objects.html#GUID-87AA2B05-2B7B-49D9-AD21-1B2877113D23" title="To create tables, use either the SQL Developer tool Create Table or the DDL statement CREATE TABLE.">Creating Tables</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="stored-subprograms-packages.html#GUID-B781B764-7A16-43A4-B3E7-310F2D53AFDA" title="This tutorial shows how to use the Create Package tool to create a specification for a package named EMP_EVAL, which appears in many tutorials and examples in this document.">Tutorial: Creating a Package Specification</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="stored-subprograms-packages.html#GUID-056688EF-E8CD-4215-A832-D004ABFB993C" title="This tutorial shows how to use the Create Body tool to create a body for the EMP_EVAL package, which appears in many examples and tutorials in this document.">Tutorial: Creating a Package Body</a>"</span></p>
                              </li>
                              <li>
                                 <p><a href="../refrn/dynamic-performance-views.html#REFRN003" target="_blank"><span class="italic">Oracle Database Reference</span></a> for information about dynamic performance views
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="building-effective-applications.html#GUID-F9C3320A-832C-4762-BA39-30132C5E0EAA" title="The Runstats tool lets you compare the performance of two programming techniques to see which is better.">Comparing Programming Techniques with Runstats</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="TDDDG325"></a><div class="props_rev_3"><a id="GUID-7F1F2916-5990-4E5E-AE23-8DA903532DFA" name="GUID-7F1F2916-5990-4E5E-AE23-8DA903532DFA"></a><h5 id="TDDDG-GUID-7F1F2916-5990-4E5E-AE23-8DA903532DFA" class="sect5"><span class="enumeration_section">8.1.6.3 </span>Using Runstats
                     </h5>
                     <div>
                        <p>This topic gives the syntax for using the Runstats tool.</p>
                        <div class="section">
                           <p>To use Runstats to compare two programming techniques, invoke the runstats_pkg procedures from an anonymous block, using this syntax:</p><pre class="oac_no_warn" dir="ltr">[ DECLARE <span class="italic">local_declarations</span> ]
BEGIN
  <span class="bold">runstats_pkg.rs_start;</span>
  <span class="italic">code_for_first_technique</span>
  <span class="bold">runstats_pkg.rs_middle;</span>
  <span class="italic">code_for_second_technique</span>
  <span class="bold">runstats_pkg.rs_stop(</span><span class="italic"><span class="bold"><code class="codeph">n</code></span></span><span class="bold">);</span>
END;
/</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-7F1F2916-5990-4E5E-AE23-8DA903532DFA__GUID-AFC7A3E2-5EBE-4DFD-A5FD-849FE9336512">
                           <p class="notep1">See Also:</p>
                           <p><a href="building-effective-applications.html#GUID-5F486510-7FF2-4418-8D88-13B18F2E2606__BACGGFEI">Example 8-1</a>, which uses Runstats
                           </p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="building-effective-applications.html#GUID-F9C3320A-832C-4762-BA39-30132C5E0EAA" title="The Runstats tool lets you compare the performance of two programming techniques to see which is better.">Comparing Programming Techniques with Runstats</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-450ED4B7-CB1B-4121-8FE1-682A82B4F4B9" name="GUID-450ED4B7-CB1B-4121-8FE1-682A82B4F4B9"></a><h4 id="TDDDG-GUID-450ED4B7-CB1B-4121-8FE1-682A82B4F4B9" class="sect4"><span class="enumeration_section">8.1.7 </span>Real-World Performance and Data Processing Techniques
                  </h4>
                  <div>
                     <p>A common task in database applications in a data warehouse environment is querying or modifying a huge data set. The problem for application developers is how to achieve high performance when processing large data sets.</p>
                     <p>Processing techniques fall into two categories: iterative, and set-based. Over years of testing, the Real-World Performance group has discovered that <span class="bold">set-based processing techniques perform orders of magnitude better</span> for database applications that process large data sets.
                     </p>
                     <p>This topic includes the following major subtopics:.</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="building-effective-applications.html#GUID-675848C8-A60F-4C92-A546-FED2E16ECF0A">About Iterative Data Processing</a><br>In iterative processing, applications use conditional logic to loop through a set of rows.
                        </li>
                        <li class="ulchildlink"><a href="building-effective-applications.html#GUID-FF4D4809-066C-4947-9061-BD820705D59B">About Set-Based Processing</a><br>Set-based processing is a SQL technique that processes a data set inside the database.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="building-effective-applications.html#GUID-BB351358-03F9-494C-8C38-180DFB7CAC4C" title="Design your applications to use the same resources, regardless of user populations and data volumes, and not to overload system resources.">Building Scalable Applications</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="props_rev_3"><a id="GUID-675848C8-A60F-4C92-A546-FED2E16ECF0A" name="GUID-675848C8-A60F-4C92-A546-FED2E16ECF0A"></a><h5 id="TDDDG-GUID-675848C8-A60F-4C92-A546-FED2E16ECF0A" class="sect5"><span class="enumeration_section">8.1.7.1 </span>About Iterative Data Processing
                     </h5>
                     <div>
                        <p>In iterative processing, applications use conditional logic to loop through a set of rows.</p>
                        <p>Typically, although not necessarily, iterative processing uses a client/server model as follows:</p>
                        <ol>
                           <li>
                              <p>Transfer a group of rows from the database server to the client application.</p>
                           </li>
                           <li>
                              <p> Process the group within the client application.</p>
                           </li>
                           <li>
                              <p>Transfer the processed group back to the database server.</p>
                           </li>
                        </ol>
                        <p>You can implement iterative algorithms using three main techniques: row-by-row processing, array processing, and manual parallelism.</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-675848C8-A60F-4C92-A546-FED2E16ECF0A__GUID-8776E719-03B6-46D4-A9FD-DBBD022B01C1"><span class="bold">Iterative Processing: Row-By-Row</span></p>
                           <p>In row-by-row processing, a single process loops through a data set and operates on a single row a time. In a typical implementation, the application retrieves each row from the database, processes it in the middle tier, and then sends the row back to the database, which executes DML and commits.</p>
                           <p>Assume that your functional requirement is to query an external table named ext_scan_events, and then insert its rows into a heap-organized staging table named stage1_scan_events. The following PL/SQL block uses a row-by-row technique to meet this requirement:</p><pre class="pre codeblock"><code>declare
  cursor c is select s.* from ext_scan_events s;
  r c%rowtype;
begin
  open c;
  loop
    fetch c into r;
    exit when c%notfound;
    insert into stage1_scan_events d values r;
    commit;
  end loop;
  close c;
end;
</code></pre><p>The row-by-row technique has the following advantages:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>It performs well on small data sets.</p>
                              </li>
                              <li>
                                 <p>The looping algorithm is familiar to all professional developers, easy to write quickly, and easy to understand.</p>
                              </li>
                           </ul>
                           <p>The row-by-row technique has the following disadvantages:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Processing time can be unacceptably long for large data sets.</p>
                              </li>
                              <li>
                                 <p>The application executes serially, and thus cannot exploit the native parallel processing features of Oracle Database running on modern hardware.</p>
                              </li>
                           </ul>
                           <p>See Also: RWP #7 Set-Based Processing</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-675848C8-A60F-4C92-A546-FED2E16ECF0A__GUID-70C46836-26D8-42CF-A6CB-5848B7465AB4"><span class="bold">Iterative Processing: <span class="bold">Arrays</span></span></p>
                           <p>Array processing is identical to row-by-row processing, except that it processes a group of rows in each iteration rather than a single row.</p>
                           <p>Assume that your functional requirement is the same as in Example X-X: query an external table named ext_scan_events, and then insert its rows into a heap-organized staging table named stage1_scan_events. The following PL/SQL block uses an array technique to meet this requirement:</p><pre class="pre codeblock"><code>declare
  cursor c is select s.* from ext_scan_events s;
  type t is table of c%rowtype index by binary_integer;
  a t;
  rows binary_integer := 0;
begin
  open c;
  loop
    fetch c bulk collect into a limit array_size;
    exit when a.count = 0;
    forall i in 1..a.count
      insert into stage1_scan_events d values a(i);
    commit;
  end loop;
  close c;
end;
</code></pre><p>The preceding code differs from the equivalent row-by-row code in using a BULK COLLECT operator in the FETCH STATEMENT, which is limited by the <code class="codeph">array_size</code> value of type PLS_INTEGER. For example, if <code class="codeph">array_size</code> is set to 100, then the application fetches rows in groups of 100.
                           </p>
                           <p>The array technique has the following advantages over the row-by-row technique:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The array enables the application to process a group of rows at the same time, which means that it reduces network round trips, COMMIT time, and the code path in the client and server.</p>
                              </li>
                              <li>
                                 <p>The database is more efficient because the server process batches the inserts, and commits after every group of inserts rather than after every insert.</p>
                              </li>
                           </ul>
                           <p>The disadvantages of this technique are the same as for row-by-row processing. Processing time can be unacceptable for large data sets. Also, the application must run serially on a single CPU core, and thus cannot exploit the native parallelism of Oracle Database.</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-675848C8-A60F-4C92-A546-FED2E16ECF0A__GUID-D3C83919-3B21-4F1C-9CC5-AEC60A7296A0"><span class="bold">Iterative Processing: <span class="bold">Manual Parallelism</span></span></p>
                           <p>Manual parallelism uses the same iterative algorithm as row-by-row and array processing, but enables multiple server processes to divide the work and run in parallel.</p>
                           <p>Assume the functional requirement is the same as in the row-by-row and array examples. The primary differences are as follows:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The scan event records are stored in a mass of flat files.</p>
                              </li>
                              <li>
                                 <p>32 server processes must run in parallel, with each server process querying a different external table.</p>
                              </li>
                              <li>
                                 <p>You use PL/SQL to achieve the parallelism by executing 32 threads of the same PL/SQL program, with each thread running simultaneously as a separate job managed by Oracle Scheduler. A job is the combination of a schedule and a program.</p>
                              </li>
                           </ul>
                           <p>The following PL/SQL code uses manual parallellism:</p><pre class="pre codeblock"><code>declare
  sqlstmt varchar2(1024) := q'[
-- BEGIN embedded anonymous block
  cursor c is select s.* from ext_scan_events_${thr} s;
  type t is table of c%rowtype index by binary_integer;
  a t;
  rows binary_integer := 0;
begin
  for r in (select ext_file_name from ext_scan_events_dets where ora_hash(file_seq_nbr,${thrs}) = ${thr})
  loop
    execute immediate
      'alter table ext_scan_events_${thr} location' || '(' || r.ext_file_name || ')';
    open c;
    loop
      fetch c bulk collect into a limit ${array_size};
      exit when a.count = 0;
      forall i in 1..a.count
        insert into stage1_scan_events d values a(i);
      commit;
--  demo instrumentation
      rows := rows + a.count; if rows &gt; 1e3 then exit when not sd_control.p_progress('loading','userdefined',rows); rows := 0; end if;
    end loop;
    close c;
  end loop;
end;
-- END   embedded anonymous block
]';

begin
  sqlstmt := replace(sqlstmt, '${array_size}', to_char(array_size));
  sqlstmt := replace(sqlstmt, '${thr}', thr);
  sqlstmt := replace(sqlstmt, '${thrs}', thrs);
  execute immediate sqlstmt;
end;
</code></pre><p>The ORA_HASH function divides the ext_scan_events_dets table into 32 evenly distributed buckets, and then the SELECT statement retrieves the file names for bucket 0. For each file name in the bucket, the program sets the location of the external table to this file name. The program then uses batch processing to query the external table, insert into the staging table, and then commit.</p>
                           <p>While job 1 is executing, the other 31 Oracle Scheduler jobs execute in parallel. In this way, each job simultaneously reads a different subset of the scan event files, and inserts the records from its subset into the same staging table.</p>
                           <p>The manual parallelism technique has the following advantages over the alternative iterative techniques:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>It performs far better on large data sets because server processes are working in parallel.</p>
                              </li>
                              <li>
                                 <p>When the application uses ORA_HASH to distribute the workload, each thread of execution can access the same amount of data, which means that the parallel processes can finish at the same time.</p>
                              </li>
                           </ul>
                           <p>The manual parallelism technique has the following disadvantages:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The code is relatively lengthy, complicated, and difficult to understand.</p>
                              </li>
                              <li>
                                 <p>The application must perform a certain amount of preparatory work before the database can begin the main work, which is processing the rows in parallel.</p>
                              </li>
                              <li>
                                 <p>If multiple threads perform the same operations on a common set of database objects, then lock and latch contention is possible.</p>
                              </li>
                              <li>
                                 <p>Parallel processing consumes significant CPU resources compared to the competing iterative techniques.</p>
                              </li>
                           </ul>
                           <p>See Also: RWP #8: Set-Based Parallel Processing</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="building-effective-applications.html#GUID-450ED4B7-CB1B-4121-8FE1-682A82B4F4B9" title="A common task in database applications in a data warehouse environment is querying or modifying a huge data set. The problem for application developers is how to achieve high performance when processing large data sets.">Real-World Performance and Data Processing Techniques</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-FF4D4809-066C-4947-9061-BD820705D59B" name="GUID-FF4D4809-066C-4947-9061-BD820705D59B"></a><h5 id="TDDDG-GUID-FF4D4809-066C-4947-9061-BD820705D59B" class="sect5"><span class="enumeration_section">8.1.7.2 </span>About Set-Based Processing
                     </h5>
                     <div>
                        <p>Set-based processing is a SQL technique that processes a data set inside the database.</p>
                        <p>In a set-based model, the SQL statement defines the result, and allows the database to determine the most efficient way to obtain it. In contrast, iterative algorithms use conditional logic to pull each each row or group of rows from the database to the client application, process the data on the client, and then send the data back to the database. Set-based processing eliminates the network round-trip and database API overhead because the data never leaves the database.</p>
                        <p>Assume the same functional requirement as in the previous examples. The following SQL statements meet this requirement using a set-based algorithm:</p><pre class="pre codeblock"><code>alter session enable parallel dml;
insert /*+ APPEND */ into stage1_scan_events d
  select s.* from ext_scan_events s;
commit;
</code></pre><p>Because the INSERT statement contains a subquery of the ext_scan_events table, a <span class="italic">single </span>SQL statement reads and writes all rows. Also, the application executes a <span class="italic">single </span>COMMIT after the database has inserted all rows. In contrast, iterative applications execute a COMMIT after the insert of each row or each group of rows.
                        </p>
                        <p>The set-based technique has significant advantages over iterative techniques:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>As demonstrated in Real-World Performance demonstrations and classes, the performance on large data sets is orders of magnitude faster. It is not unusual for the run time of a program to drop from several hours to several seconds.</p>
                           </li>
                           <li>
                              <p>A side-effect of the orders of magnitude increase in processing speed is that DBAs can eliminate long-running and error-prone batch jobs, and innvoate business processes in real time.</p>
                           </li>
                           <li>
                              <p>The length of the code is significantly shorter, a short as two or three lines of code, because SQL defines the result and not the access method.</p>
                           </li>
                           <li>
                              <p>In contrast to manual parallelism, parallel DML is optimized for performance because the database, rather than the application, manages the processes.</p>
                           </li>
                           <li>
                              <p>When joining data sets, the database automatically uses highly efficient hash joins instead of relatively inefficient application-level loops.</p>
                           </li>
                           <li>
                              <p>The APPEND hint forces a direct-path load, which means that the database creates no redo and undo, thereby avoiding the waste of I/O and CPU.</p>
                           </li>
                        </ul>
                        <p>Set-based processing does have some potential disadvantages:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The techniques are unfamiliar to many database developers, so they may be more difficult.</p>
                           </li>
                           <li>
                              <p>Because a set-based model is completely different from an iterative model, changing it requires completely rewriting the source code.</p>
                           </li>
                        </ul>
                        <p>See Also: RWP #7 Set-Based Processing, RWP #8: Set-Based Parallel Processing, RWP #9: Set-Based Processing--Data Deduplication, RWP #10: Set-Based Processing--Data Transformations, and RWP #11: Set-Based Processing--Data Aggregation</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="building-effective-applications.html#GUID-450ED4B7-CB1B-4121-8FE1-682A82B4F4B9" title="A common task in database applications in a data warehouse environment is querying or modifying a huge data set. The problem for application developers is how to achieve high performance when processing large data sets.">Real-World Performance and Data Processing Techniques</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div><a id="TDDDG99926"></a><div class="props_rev_4"><a id="GUID-1E354949-D957-4C58-8670-92E11B928CD1" name="GUID-1E354949-D957-4C58-8670-92E11B928CD1"></a><h3 id="TDDDG-GUID-1E354949-D957-4C58-8670-92E11B928CD1" class="sect3"><span class="enumeration_section">8.2 </span>Recommended Programming Practices
               </h3>
               <div>
                  <p>Use the following recommended programming practices.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="building-effective-applications.html#GUID-599E1D75-50C0-423C-BC81-6A96B826FB6A">Use Instrumentation Packages</a><br>Oracle Database supplies instrumentation packages whose subprograms let your application generate trace information whenever necessary. Using this trace information, you can debug your application without a debugger and identify code that performs badly.
                     </li>
                     <li class="ulchildlink"><a href="building-effective-applications.html#GUID-FCB36240-011D-48CE-A32E-E5999A79E3B0">Statistics Gathering and Application Tracing</a><br>Database statistics provide information about the type of load on the database and the internal and external resources used by the database. To accurately diagnose performance problems with the database using ADDM, statistics must be available.
                     </li>
                     <li class="ulchildlink"><a href="building-effective-applications.html#GUID-681449ED-4B87-4434-9D57-1642BE5F6134">Use Existing Functionality</a><br>An application that uses existing functionality is easier to develop and maintain than one that does not, and it also runs faster.
                     </li>
                     <li class="ulchildlink"><a href="building-effective-applications.html#GUID-15E13CE8-9E37-40DE-B259-89E82C92FA03">Cover Database Tables with Editioning Views</a><br>If your application uses database tables, then cover each one with an editioning view so that you can use edition-based redefinition (EBR) to upgrade the database component of your application while it is in use, thereby minimizing or eliminating down time.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="building-effective-applications.html#GUID-F6EB9789-00D7-472F-A36C-F55C143307BC" title="Effective applications are scalable and use recommended programming and security practices.">Building Effective Applications</a></p>
                     </div>
                  </div>
               </div>
               <a id="TDDDG99925"></a><div class="props_rev_3"><a id="GUID-599E1D75-50C0-423C-BC81-6A96B826FB6A" name="GUID-599E1D75-50C0-423C-BC81-6A96B826FB6A"></a><h4 id="TDDDG-GUID-599E1D75-50C0-423C-BC81-6A96B826FB6A" class="sect4"><span class="enumeration_section">8.2.1 </span>Use Instrumentation Packages
                  </h4>
                  <div>
                     <p>Oracle Database supplies instrumentation packages whose subprograms let your application generate trace information whenever necessary. Using this trace information, you can debug your application without a debugger and identify code that performs badly.</p>
                     <p>Instrumentation provides your application with considerable functionality; therefore, it is not overhead. Overhead is something that you can remove without losing much benefit.</p>
                     <p>Some instrumentation packages that Oracle Database supplies are:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>DBMS_APPLICATION_INFO, which enables a system administrator to track the performance of your application by module.</p>
                           <p>For more information about DBMS_APPLICATION_INFO, see <a href="../arpls/DBMS_APPLICATION_INFO.html#ARPLS003" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a>.
                           </p>
                        </li>
                        <li>
                           <p>DBMS_SESSION, which enables your application to access session information and set preferences and security levels</p>
                           <p>For more information about DBMS_SESSION, see <a href="../arpls/DBMS_SESSION.html#ARPLS054" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a>.
                           </p>
                        </li>
                        <li>
                           <p>UTL_FILE, which enables your application to read and write operating system text files</p>
                           <p>For more information about UTL_FILE, see <a href="../arpls/UTL_FILE.html#ARPLS069" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a>.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-599E1D75-50C0-423C-BC81-6A96B826FB6A__GUID-E4C7C11B-9E90-4538-B2C6-2BAE008E0D3E">
                        <p class="notep1">See Also:</p>
                        <p><a href="../arpls/introduction-to-oracle-supplied-plsql-packages-and-types.html#ARPLS139" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for a summary of PL/SQL packages that Oracle Database supplies
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="building-effective-applications.html#GUID-1E354949-D957-4C58-8670-92E11B928CD1" title="Use the following recommended programming practices.">Recommended Programming Practices</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TDDDG99924"></a><div class="props_rev_3"><a id="GUID-FCB36240-011D-48CE-A32E-E5999A79E3B0" name="GUID-FCB36240-011D-48CE-A32E-E5999A79E3B0"></a><h4 id="TDDDG-GUID-FCB36240-011D-48CE-A32E-E5999A79E3B0" class="sect4"><span class="enumeration_section">8.2.2 </span>Statistics Gathering and Application Tracing
                  </h4>
                  <div>
                     <p>Database statistics provide information about the type of load on the database and the internal and external resources used by the database. To accurately diagnose performance problems with the database using ADDM, statistics must be available.</p>
                     <p>For information about statistics gathering, see <a href="../tdppt/oracle-database-performance-method.html#TDPPT007" target="_blank"><span class="italic">Oracle Database 2 Day + Performance Tuning Guide</span></a>.
                     </p>
                     <div class="infoboxnote" id="GUID-FCB36240-011D-48CE-A32E-E5999A79E3B0__GUID-25C33ED5-748D-46B1-A859-EB013A75E478">
                        <p class="notep1">Note:</p>
                        <p>If Oracle Enterprise Manager is unavailable, then you can gather statistics using DBMS_MONITOR subprograms, described in <a href="../arpls/DBMS_MONITOR.html#ARPLS091" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a>.
                        </p>
                     </div>
                     <p>Oracle Database provides several tracing tools that can help you monitor and analyze Oracle Database applications. For details, see <a href="../tgsql/performing-application-tracing.html#TGSQL791" target="_blank"><span class="italic">Oracle Database SQL Tuning Guide</span></a>.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="building-effective-applications.html#GUID-1E354949-D957-4C58-8670-92E11B928CD1" title="Use the following recommended programming practices.">Recommended Programming Practices</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TDDDG281"></a><a id="TDDDG99922"></a><div class="props_rev_3"><a id="GUID-681449ED-4B87-4434-9D57-1642BE5F6134" name="GUID-681449ED-4B87-4434-9D57-1642BE5F6134"></a><h4 id="TDDDG-GUID-681449ED-4B87-4434-9D57-1642BE5F6134" class="sect4"><span class="enumeration_section">8.2.3 </span>Use Existing Functionality
                  </h4>
                  <div>
                     <p>An application that uses existing functionality is easier to develop and maintain than one that does not, and it also runs faster.</p>
                     <p>When developing your application, use the existing functionality of your programming language, your operating system, Oracle Database, and the PL/SQL packages and types that Oracle Database supplies as much as possible.</p>
                     <p>Examples of existing functionality that many developers reinvent are:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="bold">Constraints</span></p>
                           <p>For introductory information about constraints, see <span class="q">"<a href="creating-managing-schema-objects.html#GUID-144C564C-0B08-40BF-9AC9-3035CFD03F66" title="To ensure that the data in your tables satisfies the business rules that your application models, you can use constraints, application logic, or both.">Ensuring Data Integrity in Tables</a>."</span></p>
                        </li>
                        <li>
                           <p><span class="bold">SQL functions</span> (functions that are "built into" SQL)
                           </p>
                           <p>For information about SQL functions, see <a href="../sqlrf/Functions.html#SQLRF006" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a>.
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">Sequences</span> (which can generate unique sequential values)
                           </p>
                           <p>See <span class="q">"<a href="creating-managing-schema-objects.html#GUID-474CBF2A-BDBF-498E-98DA-16B59E4D8050" title="Sequences are schema objects from which you can generate unique sequential values, which are very useful when you need unique primary keys. Sequences are used through the pseudocolumns CURRVAL and NEXTVAL, which return the current and next values of the sequence, respectively.">Creating and Managing Sequences</a>"</span>.
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">Auditing</span> (the monitoring and recording of selected user database actions)
                           </p>
                           <p>For introductory information about auditing, see <a href="../dbseg/introduction-to-auditing.html#DBSEG-GUID-94381464-53A3-421B-8F13-BD171C867405" target="_blank"><span class="italic">Oracle Database Security Guide</span></a>.
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">Replication</span> (the process of copying and maintaining database objects, such as tables, in multiple databases that comprise a distributed database system)
                           </p>
                           <p>For information about replication, see the Oracle GoldenGate documentation..</p>
                        </li>
                        <li>
                           <p><span class="bold">Message queuing</span> (how web-based business applications communicate with each other)
                           </p>
                           <p>For introductory information about Oracle Database Advanced Queuing (AQ), see <a href="../adque/aq-introduction.html#ADQUE0100" target="_blank"><span class="italic">Oracle Database Advanced Queuing User's Guide</span></a>.
                           </p>
                        </li>
                        <li>
                           <p><span class="bold">Maintaining a history of record changes</span></p>
                           <p>For introductory information about Workspace Manager, see <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=ADWSM010" target="_blank"><span class="italic">Oracle Database Workspace Manager Developer's Guide</span></a>.
                           </p>
                        </li>
                     </ul>
                     <p>In <a href="building-effective-applications.html#GUID-681449ED-4B87-4434-9D57-1642BE5F6134__BACGDEFE">Example 8-4</a>, two concurrent transactions dequeue messages stored in a table (that is, each transaction finds and locks the next unprocessed row of the table). Rather than simply invoking the DBMS_AQ.DEQUEUE procedure (described in <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=ARPLS098" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a>), the example creates a function-based index on the table and then uses that function in each transaction to retrieve the rows and display the messages.
                     </p>
                     <p>The code in <a href="building-effective-applications.html#GUID-681449ED-4B87-4434-9D57-1642BE5F6134__BACGDEFE">Example 8-4</a> implements a feature similar to a DBMS_AQ.DEQUEUE invocation but with fewer capabilities. The development time saved by using existing functionality (in this case, function-based indexes) can be large.
                     </p>
                     <div class="example" id="GUID-681449ED-4B87-4434-9D57-1642BE5F6134__BACGDEFE">
                        <p class="titleinexample">Example 8-4 Concurrent Dequeuing Transactions</p>
                        <p>Create table:</p><pre class="oac_no_warn" dir="ltr">DROP TABLE t;
CREATE TABLE t
  ( id             NUMBER PRIMARY KEY,
    processed_flag VARCHAR2(1),
    payload        VARCHAR2(20)
  );
</pre><p><span class="bold">Create index on table:</span></p><pre class="oac_no_warn" dir="ltr">CREATE INDEX t_idx ON
  t( DECODE( processed_flag, 'N', 'N' ) );
</pre><p>Populate table:</p><pre class="oac_no_warn" dir="ltr">INSERT INTO t
  SELECT r,
         CASE WHEN MOD(r,2) = 0 THEN 'N' ELSE 'Y' END,
         'payload ' || r
  FROM (SELECT LEVEL r FROM DUAL CONNECT BY LEVEL &lt;= 5);
</pre><p>Show table:</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM t;
</pre><p>Result:</p><pre class="oac_no_warn" dir="ltr">        ID P PAYLOAD
---------- - --------------------
         1 Y payload 1
         2 N payload 2
         3 Y payload 3
         4 N payload 4
         5 Y payload 5
 
5 rows selected.
</pre><p><span class="bold">First transaction:</span></p><pre class="oac_no_warn" dir="ltr">DECLARE
  l_rec t%ROWTYPE;
  CURSOR c IS
    SELECT *
    FROM t
    WHERE DECODE(processed_flag,'N','N') = 'N'
    FOR UPDATE
    SKIP LOCKED;
BEGIN
  OPEN c;
 
  FETCH c INTO l_rec;
 
  IF ( c%FOUND ) THEN
    DBMS_OUTPUT.PUT_LINE( 'Got row ' || l_rec.id || ', ' || l_rec.payload );
  END IF;
 
  CLOSE c;
END;
/
</pre><p>Result:</p><pre class="oac_no_warn" dir="ltr">Got row 2, payload 2
</pre><p><span class="bold">Concurrent transaction:</span></p><pre class="oac_no_warn" dir="ltr">DECLARE
  <span class="bold">PRAGMA AUTONOMOUS_TRANSACTION;</span>
  l_rec t%ROWTYPE;
  CURSOR c IS
    SELECT *
    FROM t
    WHERE DECODE(processed_flag,'N','N') = 'N'
    FOR UPDATE
    SKIP LOCKED;
BEGIN
  OPEN c;
 
  FETCH c INTO l_rec;
 
  IF ( c%FOUND ) THEN
    DBMS_OUTPUT.PUT_LINE( 'Got row ' || l_rec.id || ', ' || l_rec.payload );
  END IF;
 
  CLOSE c;
  COMMIT;
END;
/
</pre><p>Result:</p><pre class="oac_no_warn" dir="ltr">Got row 4, payload 4
</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-681449ED-4B87-4434-9D57-1642BE5F6134__GUID-496A3D86-1787-4C06-A1B8-D9BC4B7F0E46">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../newft/index.html" target="_blank"><span class="italic">Oracle Database New Features Guide</span></a> (with each release)
                              </p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/tdddg&amp;id=CNCPT" target="_blank"><span class="italic">Oracle Database Concepts</span></a> (with each release)
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="building-effective-applications.html#GUID-1E354949-D957-4C58-8670-92E11B928CD1" title="Use the following recommended programming practices.">Recommended Programming Practices</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TDDDG151"></a><div class="props_rev_3"><a id="GUID-15E13CE8-9E37-40DE-B259-89E82C92FA03" name="GUID-15E13CE8-9E37-40DE-B259-89E82C92FA03"></a><h4 id="TDDDG-GUID-15E13CE8-9E37-40DE-B259-89E82C92FA03" class="sect4"><span class="enumeration_section">8.2.4 </span>Cover Database Tables with Editioning Views
                  </h4>
                  <div>
                     <p>If your application uses database tables, then cover each one with an editioning view so that you can use edition-based redefinition (EBR) to upgrade the database component of your application while it is in use, thereby minimizing or eliminating down time.</p>
                     <p>For information about edition-based redefinition, see <a href="../adfns/editions.html#ADFNS020" target="_blank"><span class="italic">Oracle Database Development Guide</span></a>.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="building-effective-applications.html#GUID-1E354949-D957-4C58-8670-92E11B928CD1" title="Use the following recommended programming practices.">Recommended Programming Practices</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="TDDDG152"></a><div class="props_rev_3"><a id="GUID-32FBC335-6B08-4B50-B039-06BB9F500908" name="GUID-32FBC335-6B08-4B50-B039-06BB9F500908"></a><h3 id="TDDDG-GUID-32FBC335-6B08-4B50-B039-06BB9F500908" class="sect3"><span class="enumeration_section">8.3 </span>Recommended Security Practices
               </h3>
               <div>
                  <p>When granting privileges on the schema objects that comprise your application, use the <strong class="term">principle of least privilege</strong>.
                  </p>
                  <p>That is, users and middle tiers should be given the fewest privileges necessary to perform their actions, to reduce the danger of inadvertent or malicious unauthorized activities.</p>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-32FBC335-6B08-4B50-B039-06BB9F500908__GUID-98743123-C530-4DE0-9862-B41663CDEBE1">
                     <p class="notep1">See Also:</p>
                     <p><span class="q">"<a href="building-effective-applications.html#GUID-5F486510-7FF2-4418-8D88-13B18F2E2606" title="Bind variables, used correctly, let you develop efficient, scalable applications.">Using Bind Variables to Improve Scalability</a>"</span> for information about using bind variables instead of string literals, which is the most effective way to make your code invulnerable to SQL injection attacks
                     </p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="building-effective-applications.html#GUID-F6EB9789-00D7-472F-A36C-F55C143307BC" title="Effective applications are scalable and use recommended programming and security practices.">Building Effective Applications</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html><html id='13367.manual-upgrade-scenarios-multitenant-architecture-oracle-databases.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="To prepare for manual upgrades, review the manual upgrade scenarios and procedures for Oracle Database deployed with multitenant architecture.">
      <meta name="description" content="To prepare for manual upgrades, review the manual upgrade scenarios and procedures for Oracle Database deployed with multitenant architecture.">
      <title>Manual Upgrade Scenarios for Multitenant Architecture Oracle Databases</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database Upgrade Guide">
      <meta property="og:description" content="To prepare for manual upgrades, review the manual upgrade scenarios and procedures for Oracle Database deployed with multitenant architecture.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database Upgrade Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-upgrade-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-04-25T08:26:31-07:00">
      <meta name="dcterms.title" content="Database Upgrade Guide">
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96252-05">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="example-manual-upgrade-windows-non-cdb-11203-to-122.html" title="Previous" type="text/html">
      <link rel="next" href="improvements-data-dictionary-upgrade-and-upgrade-status-displays.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="UPGRD">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="example-manual-upgrade-windows-non-cdb-11203-to-122.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="improvements-data-dictionary-upgrade-and-upgrade-status-displays.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database Upgrade Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="upgrading-oracle-database.html" property="item" typeof="WebPage"><span property="name">Upgrading Oracle Database</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Manual Upgrade Scenarios for Multitenant Architecture Oracle Databases</li>
            </ol>
            <a id="GUID-8231CE50-ABEC-4BA3-A4AC-D461EB791ACD" name="GUID-8231CE50-ABEC-4BA3-A4AC-D461EB791ACD"></a><a id="UPGRD60130"></a>
            
            <h2 id="UPGRD-GUID-8231CE50-ABEC-4BA3-A4AC-D461EB791ACD" class="sect2">Manual Upgrade Scenarios for Multitenant Architecture Oracle Databases</h2>
         </header>
         <div class="ind">
            <div>
               <p>To prepare for manual upgrades, review the manual upgrade scenarios and procedures for Oracle Database deployed with multitenant architecture. </p>
               <p>Starting with Oracle Database 12<span class="italic">c</span>, multitenant architecture enables Oracle Database deployments using multitenant container databases (CDB) that contain pluggable databases (PDBs). All Oracle Database releases earlier than Oracle Database 12<span class="italic">c</span> release 1 (12.1.0.1) use non-CDB architecture.
               </p>
               <div class="infoboxnote" id="GUID-8231CE50-ABEC-4BA3-A4AC-D461EB791ACD__GUID-EF4B9AAA-F549-4320-BCE2-3C550511A308">
                  <p class="notep1">Caution:</p>
                  <p>You cannot downgrade a database after you have set the compatible initialization parameter to 12.1.0.2 or later releases. A downgrade is possible for a pluggable database (PDB) only if the compatibility is set to 12.1.0.1. There can still be restrictions on downgrading. </p>
                  <p>Oracle strongly recommends that you upgrade your source and target databases to the most recent bundle patch set update (BP, PSU) before starting an upgrade, and before starting a downgrade. </p>
               </div>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="manual-upgrade-scenarios-multitenant-architecture-oracle-databases.html#GUID-2424F203-D586-459E-9BC5-5332800A7D2F">About Oracle Multitenant Oracle Database Upgrades</a><br>You can upgrade Oracle Databases installed on multitenant architecture either in parallel, or in sequence. 
                  </li>
                  <li class="ulchildlink"><a href="manual-upgrade-scenarios-multitenant-architecture-oracle-databases.html#GUID-553F6F33-84AD-4601-868C-2860EC6D69E9">Coordinate Upgrades of Proxy PDBs with Multitenant Upgrades</a><br>Coordinate upgrades of the CDB so that proxy PDB and PDB targets are the same version.
                  </li>
                  <li class="ulchildlink"><a href="manual-upgrade-scenarios-multitenant-architecture-oracle-databases.html#GUID-7E127507-D2F5-4771-A8A9-BAF6E553831B">Manually Upgrading a Multitenant Container Oracle Database (CDB)</a><br>The procedure in this section provides steps for upgrading a CDB manually using a command-line procedure.
                  </li>
                  <li class="ulchildlink"><a href="manual-upgrade-scenarios-multitenant-architecture-oracle-databases.html#GUID-6471F9F4-5151-4FA3-B5EC-B5AEBD99B0AA">About Upgrading PDBs Using the Parallel Upgrade Utility with Priority Lists</a><br>In Oracle Database 12.2 and later releases, you can upgrade PDBs using a priority list to upgrade a set of PDBs ahead of other PDBs, and you can modify that upgrade priority. 
                  </li>
                  <li class="ulchildlink"><a href="manual-upgrade-scenarios-multitenant-architecture-oracle-databases.html#GUID-55A00056-EFB3-4F81-8E28-3B8C9553B68F">About PDB Upgrades Using Priority Lists, Inclusion Lists, and Exclusion Lists</a><br>Starting in Oracle Database 12<span class="italic">c</span> release 2 (12.2), you can use inclusion and exclusion lists with priority lists to control how your PDBs are upgraded.
                  </li>
                  <li class="ulchildlink"><a href="manual-upgrade-scenarios-multitenant-architecture-oracle-databases.html#GUID-4CA89342-971B-447C-A643-9638DE4EB121">Upgrading Multitenant Architecture In Parallel</a><br>Use this technique to upgrade multitenant architecture Oracle Database releases (Oracle Database 12c Release 1 (12.1.0.1) and later by upgrading container databases (CDBs), and then upgrading multiple pluggable databases (PDBs) in parallel.
                  </li>
                  <li class="ulchildlink"><a href="manual-upgrade-scenarios-multitenant-architecture-oracle-databases.html#GUID-8F9AAFA1-690D-4F70-8448-E66D765AF136">Upgrading Multitenant Architecture Sequentially Using Unplug-Plug</a><br>To upgrade pluggable databases (PDBs) that are in an earlier release multitenant container databases (CDBs), Oracle Database Release 12<span class="italic">c</span> (12.1.0.1) and later, you can unplug the PDBs from the earlier release CDB, and plug the PDBs into the later release CDB.
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-8231CE50-ABEC-4BA3-A4AC-D461EB791ACD__GUID-714CC914-140F-491C-87E5-D1246AF5773E">
                  <p class="notep1">See Also:</p>
                  <p> <a href="../multi/introduction-to-the-multitenant-architecture.html#CNCPT89234" target="_blank"><span class="italic">Oracle Database Concepts</span></a> for an overview of multitenant architecture
                  </p>
                  <p><a href="../multi/creating-and-configuring-a-cdb.html#ADMIN13514" target="_blank"><span class="italic">Oracle Database Administrator's Guide</span></a> for complete information about creating and configuring a CDB
                  </p>
               </div>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="upgrading-oracle-database.html#GUID-CC88F262-3370-4FFA-8604-EDA9F20F56D9" title="Oracle provides a comprehensive set of tools for upgrading Oracle Database with minimal downtime and for migrating your applications to the new release.">Upgrading Oracle Database</a></p>
                  </div>
               </div>
            </div>
            
            <div class="props_rev_3"><a id="GUID-2424F203-D586-459E-9BC5-5332800A7D2F" name="GUID-2424F203-D586-459E-9BC5-5332800A7D2F"></a><h3 id="UPGRD-GUID-2424F203-D586-459E-9BC5-5332800A7D2F" class="sect3">About Oracle Multitenant Oracle Database Upgrades</h3>
               <div>
                  <p>You can upgrade Oracle Databases installed on multitenant architecture either in parallel, or in sequence. </p>
                  <p>Starting with Oracle Database 12c release 1 (12.1), Oracle provided multitenant architecture, which enables the creation and administration of pluggable databases (PDBs) in a container database (CDB). You can upgrade multitenant architecture systems using either Oracle Database Upgrade Assistant (DBUA), or using the Parallel Upgrade Utility to carry out manual upgrades. </p>
                  <p>There are two techniques for upgrading Oracle Databases using the multitenant architecture:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><span class="bold">In parallel</span>. With this technique, you carry out one upgrade operation that upgrades the CDB, and then upgrades the PDBs in parallel. 
                        </p>
                     </li>
                     <li>
                        <p><span class="bold">Sequentially</span>. With this technique, you install a new release CDB, prepare and unplug PDBs from the earlier release CDB, plug the PDBs into a later release CDB, and then complete the upgrade for each PDB.
                        </p>
                     </li>
                  </ul>
                  <p>The following sections provide a high-level summary of each upgrade technique.</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-2424F203-D586-459E-9BC5-5332800A7D2F__GUID-37280374-6ED9-402F-A277-9F752E506F85">Upgrading Oracle Multitenant In Parallel</p>
                     <p>With the In Parallel technique, you first upgrade <code class="codeph">CDB$ROOT</code> using the Parallel Upgrade Utility (<code class="codeph">catctl.pl</code>), using parameters to set the degree of parallel processing and availability:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The <code class="codeph">-n</code> parameter defines how many parallel processes run the upgrade, up to 8. 
                           </p>
                        </li>
                        <li>
                           <p>The <code class="codeph">-M</code> parameter determines if the <code class="codeph">CDB$ROOT</code> stays in <code class="codeph">UPGRADE</code> mode through the entire upgrade, or becomes available for access after the CDB upgrade is complete. If you do not run the upgrade with the <code class="codeph">-M</code> parameter, then when the <code class="codeph">CDB$ROOT</code> upgrade is complete, PDBs then become available for access as soon as each PDB completes its upgrade. If you run the upgrade with the <code class="codeph">&#x2013;M</code> parameter, then <code class="codeph">CDB$ROOT</code> stays in <code class="codeph">UPGRADE</code> mode, and PDBs do not become available until upgrade of all PDBs is complete.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2424F203-D586-459E-9BC5-5332800A7D2F__GUID-2F525046-63CA-4843-92A7-7D028B36DFE5">Upgrading Oracle Multitenant In Sequence</p>
                     <p>With the In Sequence technique, you install the new release multitenant architecture CDB. Next, in the earlier release multitenant architecture CDB, you issue SQL commands to run preupgrade scripts to prepare one or more PDBs to upgrade, and shut them down. You then unplug PDBs, plug them into the new release multenant architecture CDB, and complete the upgrade sequentially for each PDB. </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="manual-upgrade-scenarios-multitenant-architecture-oracle-databases.html#GUID-8231CE50-ABEC-4BA3-A4AC-D461EB791ACD" title="To prepare for manual upgrades, review the manual upgrade scenarios and procedures for Oracle Database deployed with multitenant architecture.">Manual Upgrade Scenarios for Multitenant Architecture Oracle Databases</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-553F6F33-84AD-4601-868C-2860EC6D69E9" name="GUID-553F6F33-84AD-4601-868C-2860EC6D69E9"></a><h3 id="UPGRD-GUID-553F6F33-84AD-4601-868C-2860EC6D69E9" class="sect3">Coordinate Upgrades of Proxy PDBs with Multitenant Upgrades</h3>
               <div>
                  <p>Coordinate upgrades of the CDB so that proxy PDB and PDB targets are the same version.</p>
                  <p>During upgrades, upgrade of a Proxy PDB does not upgrade its corresponding target PDB. Upgrade of the target PDB has to be done separately.</p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="manual-upgrade-scenarios-multitenant-architecture-oracle-databases.html#GUID-8231CE50-ABEC-4BA3-A4AC-D461EB791ACD" title="To prepare for manual upgrades, review the manual upgrade scenarios and procedures for Oracle Database deployed with multitenant architecture.">Manual Upgrade Scenarios for Multitenant Architecture Oracle Databases</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="UPGRD12408"></a><div class="props_rev_3"><a id="GUID-7E127507-D2F5-4771-A8A9-BAF6E553831B" name="GUID-7E127507-D2F5-4771-A8A9-BAF6E553831B"></a><h3 id="UPGRD-GUID-7E127507-D2F5-4771-A8A9-BAF6E553831B" class="sect3">Manually Upgrading a Multitenant Container Oracle Database (CDB)</h3>
               <div>
                  <p>The procedure in this section provides steps for upgrading a CDB manually using a command-line procedure.</p>
                  <div class="section">
                     <p>You must complete the following steps before using this procedure:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Install the new release software for Oracle Database </p>
                        </li>
                        <li>
                           <p>Prepare the new Oracle home</p>
                        </li>
                        <li>
                           <p> Run the Pre-Upgrade Information Tool</p>
                        </li>
                     </ul>
                     <p>Oracle Database 12c introduced multitenant architecture, which enables Oracle Database to function as a multitenant container database (CDB) with pluggable databases. You can upgrade the CDB using DBUA, and in the process, upgrade all the pluggable databases attached to the CDB at the same time. Or, after you install the software for Oracle Database and prepare the new Oracle home, you can proceed with a manual, command-line upgrade.</p>
                     <ol>
                        <li>
                           <p>If you have not done so, run the Pre-Upgrade Information Tool. Review the Pre-Upgrade Information tool output and correct all issues noted in the output before proceeding.</p>
                        </li>
                        <li>
                           <p>Back up the source database.</p>
                        </li>
                        <li>
                           <p>If you have not done so, prepare the new Oracle home.</p>
                        </li>
                        <li>
                           <p>(Conditional) For Oracle RAC environments only, enter the following commands to set the initialization parameter value for CLUSTER_DATABASE to FALSE: </p><pre class="pre codeblock"><code>ALTER SYSTEM SET CLUSTER_DATABASE=FALSE SCOPE=SPFILE;</code></pre><p>Restart the database after changing the <span class="parmname" translate="no">CLUSTER_DATABASE</span> parameter. 
                           </p>
                        </li>
                        <li>
                           <p>Shut down the database. (The syntax is the same for a non-CDB and a CDB.)</p><pre class="pre codeblock"><code>SQL&gt; SHUTDOWN IMMEDIATE
</code></pre><div class="infoboxnote" id="GUID-7E127507-D2F5-4771-A8A9-BAF6E553831B__GUID-3DE49F19-CA51-49F7-AE3B-1D186A37A6D0">
                              <p class="notep1">Note:</p>
                              <p>To close a PDB, you can specify it from the CDB root: <code class="codeph">alter pluggable database <span class="variable" translate="no">PDBname</span> close</code>.
                              </p>
                           </div>
                        </li>
                        <li>
                           <p>If your operating system is Windows, then complete the following steps:</p>
                           <ol type="a">
                              <li>
                                 <p>Stop the <code class="codeph">OracleService <span class="variable" translate="no">SID</span></code> Oracle service of the database you are upgrading, where <code class="codeph"><span class="variable" translate="no">SID</span></code> is the instance name. For example, if your <code class="codeph"><span class="variable" translate="no">SID</span></code> is <code class="codeph">ORCL</code>, then enter the following at a command prompt:
                                 </p><pre class="pre codeblock"><code>C:\&gt; NET STOP OracleServiceORCL</code></pre></li>
                              <li>
                                 <p>Delete the Oracle service at a command prompt using <code class="codeph">ORADIM</code>. 
                                 </p>
                                 <p>If your <code class="codeph"><span class="variable" translate="no">SID</span></code> is <code class="codeph">ORCL</code>, then enter the following command, substituting your SID for <code class="codeph"><span class="variable" translate="no">SID</span></code>.
                                 </p><pre class="oac_no_warn" dir="ltr">C:\&gt; ORADIM -DELETE -<span class="variable" translate="no">SID</span> ORCL
</pre></li>
                              <li>
                                 <p>Create the service for the new release Oracle Database at a command prompt using the <code>ORADIM</code> command of the new Oracle Database release. 
                                 </p>
                                 <p>For example:</p><pre class="pre codeblock"><code>C:\&gt; ORADIM -NEW -SID <span class="variable" translate="no">SID</span> -SYSPWD <span class="variable" translate="no">PASSWORD</span> -MAXUSERS <span class="variable" translate="no">USERS</span>
     -STARTMODE AUTO -PFILE <span class="variable" translate="no">ORACLE_HOME</span>\DATABASE\INIT<span class="variable" translate="no">SID</span>.ORA
</code></pre><p>Most Oracle Database services log on to the system using the privileges of the Oracle Home User. The service runs with the privileges of this user. The <code>ORADIM</code> command prompts you for the password to this user account. You can specify other options using <code>ORADIM</code>.
                                 </p>
                                 <p>In this example, if your <code class="codeph"><span class="variable" translate="no">SID</span> value</code> is <code class="codeph">ORCL</code>, your <code class="codeph"><span class="variable" translate="no">password</span></code> (<code class="codeph">SYSPWD</code>) value is <code class="codeph">TWxy5791</code>, the maximum number of users (<code class="codeph">MAXUSERS</code>) value is 10, and the Oracle home path is <code class="codeph">C:\ORACLE\PRODUCT\19.1.0\DB</code>, then enter the following command:
                                 </p><pre class="pre codeblock"><code>C:\&gt; ORADIM -NEW -SID ORCL -SYSPWD TWxy5791 -MAXUSERS 10
-STARTMODE AUTO -PFILE C:\ORACLE\PRODUCT\19.1.0\DB\DATABASE\INITORCL.ORA
</code></pre><p><code>ORADIM</code> writes a log file to the <code>ORACLE_HOME\database</code> directory. The log file contains the name of the PDB in the multitenant database.
                                 </p>
                              </li>
                           </ol>
                        </li>
                        <li>
                           <p>If your operating system is Linux or UNIX, then perform the following checks:</p>
                           <ol type="a">
                              <li>
                                 <p>Your <code class="codeph">ORACLE_SID</code> is set correctly
                                 </p>
                              </li>
                              <li>
                                 <p>The <code class="codeph">oratab</code> file points to the Oracle home for Oracle Database 12<span class="italic">c</span></p>
                              </li>
                              <li>
                                 <p>The following environment variables point to the Oracle Database 12c directories:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><code class="codeph">ORACLE_HOME</code></p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">PATH</code></p>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <p>Any scripts that clients use to set <code class="codeph">$ORACLE_HOME</code> environment variable must point to the new Oracle home.
                                 </p>
                              </li>
                           </ol>
                           <div class="infoboxnote" id="GUID-7E127507-D2F5-4771-A8A9-BAF6E553831B__GUID-0585BC8F-BAC1-4773-8348-ABA318F429F3">
                              <p class="notep1">Note:</p>
                              <p>If you are upgrading an Oracle Real Application Clusters database, then perform these checks on all nodes where the Oracle Real Application Clusters database has instances configured.</p>
                           </div>
                           <div class="infoboxnotealso" id="GUID-7E127507-D2F5-4771-A8A9-BAF6E553831B__GUID-54C029BB-B323-481B-BD77-0DCD6AD07D41">
                              <p class="notep1">See Also:</p>
                              <p>Oracle Database and Oracle Clusterware installation guides for information about setting other important environment variables on your operating system</p>
                           </div>
                        </li>
                        <li>
                           <p>Log in to the system as the owner of the Oracle home under the new Oracle Database release.</p>
                        </li>
                        <li>
                           <p>Start SQL*Plus in the new Oracle home from the path <code class="codeph"><span class="variable" translate="no">Oracle_home</span>/rdbms/admin</code> directory.
                           </p>
                           <p>For example:</p><pre class="pre codeblock"><code>$ cd $ORACLE_HOME/rdbms/admin
$ pwd
/u01/app/oracle/product/19.0.0/dbhome_1/rdbms/admin
$ sqlplus</code></pre><p>On Windows platforms, to access SQL*Plus, change directory to <code class="codeph">%ORACLE_HOME%/bin</code></p>
                        </li>
                        <li>
                           <p>Connect to the database that you want to upgrade using an account with SYSDBA privileges:</p><pre class="pre codeblock"><code>SQL&gt; CONNECT / AS SYSDBA
</code></pre></li>
                        <li>
                           <p>Start the CDB in upgrade mode: </p><pre class="pre codeblock"><code>SQL&gt; startup upgrade</code></pre></li>
                        <li id="GUID-7E127507-D2F5-4771-A8A9-BAF6E553831B__I1012182">
                           <p>Start the instance by issuing the following command in SQL*Plus:</p><pre class="pre codeblock"><code>SQL&gt; alter pluggable database all open upgrade;
</code></pre><p>If errors appear listing desupported initialization parameters, then make a note of the desupported initialization parameters and continue with the upgrade. Remove the desupported initialization parameters the next time you shut down the database.</p>
                           <div class="infoboxnote" id="GUID-7E127507-D2F5-4771-A8A9-BAF6E553831B__GUID-0C72C88B-7D9A-4308-9EEF-4F3C6C3FB1C7">
                              <p class="notep1">Note:</p>
                              <p>Starting up the database in <code class="codeph">UPGRADE</code> mode does the following:
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Starts up the database with a new version of the Oracle Database instance</p>
                                 </li>
                                 <li>
                                    <p>Restricts logins to SYSDBA</p>
                                 </li>
                                 <li>
                                    <p>Disables system triggers</p>
                                 </li>
                                 <li>
                                    <p>Performs additional operations that prepare the database for upgrades</p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li>
                           <p>Exit SQL*Plus before proceeding to the next step.</p>
                           <p>For example:</p><pre class="pre codeblock"><code>SQL&gt; EXIT</code></pre></li>
                        <li>
                           <p>To upgrade an entire CDB, run the Parallel Upgrade Utility (<code>catctl.pl</code>) from the new Oracle home. The Parallel Upgrade Utility provides parallel upgrade options that reduce downtime. You can run the command by using the command-line script <code>dbupgrade</code> from the new Oracle home.
                           </p>
                           <p>For example:</p>
                           <p>Linux:</p><pre class="pre codeblock"><code>cd $ORACLE_HOME/bin
./dbupgrade 
</code></pre><p>Windows:</p><pre class="pre codeblock"><code>cd %ORACLE_HOME%\bin
dbupgrade 
</code></pre><div class="infoboxnote" id="GUID-7E127507-D2F5-4771-A8A9-BAF6E553831B__GUID-B951FD5A-3870-4D4A-9054-BE70F095849F">
                              <p class="notep1">Note:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Use the <code class="codeph">-d</code> option to specify the directory that contains the files that you want to process. Use the <code class="codeph">-l</code> option to specify the directory that you want to use for spool log files. 
                                    </p>
                                 </li>
                                 <li>
                                    <p>If you are upgrading an entire CDB, and there are errors in <code class="codeph">CDB$ROOT</code>, then the upgrade aborts.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li>
                           <p>To upgrade a subset of PDBs within a CDB, specify either an inclusion list, or an exclusion list.</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>This example for a Linux or UNIX system uses an inclusion list to upgrade <code class="codeph">PDB1</code> only:
                                 </p><pre class="pre codeblock"><code>cd $ORACLE_HOME/bin
./dbupgrade -c 'PDB1' 
</code></pre></li>
                              <li>
                                 <p>This example for a Windows system uses an exclusion list to upgrade everything in the CDB except <code class="codeph">PDB1</code>:
                                 </p><pre class="pre codeblock"><code>cd $ORACLE_HOME\bin
dbupgrade -C "PDB1" </code></pre></li>
                           </ul>
                           <div class="infoboxnote" id="GUID-7E127507-D2F5-4771-A8A9-BAF6E553831B__GUID-68D857C4-F8B5-4EAB-8347-56DC18BD5DE8">
                              <p class="notep1">Note:</p>
                              <p>You can upgrade an individual PDB by unplugging it from the earlier release CDB, and plugging it into a later release CDB. </p>
                              <p>For Windows, when you run the <code>dbupgrade</code> command with the inclusion (<code class="codeph">-c</code>) or the exclusion (<code class="codeph">-C</code>) options, you must specify the option with quotes around the CDB root name and PDB seed name.
                              </p>
                              <p>For example:</p>
                              <p>... <code class="codeph">-C "CDB$ROOT PDB$SEED"</code></p>
                           </div>
                        </li>
                        <li>
                           <p>For CDBs, log in to the CDB as SYSDBA and run the command alter pluggable database all open to make databases available for recompiling code. For example:</p><pre class="pre codeblock"><code>$ sqlplus / as sysdba

SQL&gt; alter pluggable database all open;</code></pre></li>
                        <li>
                           <p>Run <code>catcon.pl</code>. This command starts <code>utlrp.sql</code> and recompiles any remaining stored PL/SQL and Java code. 
                           </p>
                           <p>For example:</p><pre class="pre codeblock"><code>$ORACLE_HOME/perl/bin/perl catcon.pl -n 1 -e -b utlrp -d '''.''' utlrp.sql
</code></pre><p>Because you run the command using <code class="codeph">-b utlrp0</code>, the log file <code class="codeph">utlrp0.log</code> is generated with the recompile results. 
                           </p>
                        </li>
                        <li>
                           <p>Run <code>postupgrade_fixups.sql</code>. 
                           </p>
                           <p>For example:</p><pre class="pre codeblock"><code>$ORACLE_HOME/perl/bin/perl catcon.pl -n 1 -e -b postupgrade_fixups -d '''.''' postupgrade_fixups.sql</code></pre></li>
                        <li>
                           <p>Run <code>utlusts.sql</code>. This command verifies that all issues are fixed.
                           </p>
                           <p>For example, in a CDB:</p><pre class="pre codeblock"><code>$ORACLE_HOME/perl/bin/perl catcon.pl -n 1 -e -b utlu122s -d '''.''' utlusts.sql
</code></pre><p>Because you run the command using <code class="codeph">-b utlu122s</code>, the log file <code class="codeph">utlu122s0.log</code> is generated with the upgrade results. You can review the <code class="codeph">upg_summary.log</code> file to review the upgrade report.
                           </p>
                           <p>To see information about the state of the database, run <code>utlusts.sql</code> as many times as you want, at any time after you complete the upgrade. If the <code>utlusts.sql</code> script returns errors, or if it shows components that are not marked as <code class="codeph">VALID</code>, or if the SQL script you run is not from the most recent release, then refer to the troubleshooting section in this guide.
                           </p>
                        </li>
                        <li>
                           <p>Ensure that the time zone data files are current by using the <code class="codeph">DBMS_DST</code> PL/SQL package to upgrade the time zone file. You can also update the time zone after the upgrade. If you update the time zone, then you must update the time zone in both <code class="codeph">CDB$ROOT</code> and the PDBs.
                           </p>
                        </li>
                        <li>
                           <p>Exit SQL*Plus.</p>
                           <p>For example:</p><pre class="pre codeblock"><code>SQL&gt; EXIT</code></pre></li>
                        <li>
                           <p>(Conditional) If you are upgrading an Oracle Real Application Clusters database, then use the following command syntax to upgrade the database configuration in Oracle Clusterware:</p><pre class="pre codeblock"><code>$ srvctl upgrade database -db <span class="variable" translate="no">db-unique-name</span> -oraclehome <span class="variable" translate="no">oraclehome</span></code></pre><p>In this example, <code class="codeph"><span class="variable" translate="no">db-unique-name</span></code> is the assigned database name (not the instance name), and <code class="codeph"><span class="variable" translate="no">oraclehome</span></code> is the Oracle home location in which the database is being upgraded. The <code>SRVCTL</code> utility supports long GNU-style options, in addition to the short CLI options used in earlier releases.
                           </p>
                        </li>
                     </ol>
                     <p>Your database is now upgraded. You are ready to complete post-upgrade procedures. </p>
                     <div class="infoboxnote" id="GUID-7E127507-D2F5-4771-A8A9-BAF6E553831B__GUID-ACC577D0-471E-4AF2-8EBC-B6FAD500DAF1">
                        <p class="notep1">Caution:</p>
                        <p>If you retain the old Oracle software, then never start the upgraded database with the old software. Only start Oracle Database using the start command in the new Oracle Database home. </p>
                        <p>Before you remove the old Oracle environment, relocate any data files in that environment to the new Oracle Database environment. </p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-7E127507-D2F5-4771-A8A9-BAF6E553831B__GUID-3122BF73-6472-45A8-BF0B-1CBA9F96DDC2">
                        <p class="notep1">See Also:</p>
                        <p><span><cite>Oracle Database Administrators Guide</cite></span> for information about relocating data files
                        </p>
                     </div>
                     <p></p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="../admin/managing-data-files-and-temp-files.html#ADMIN012" target="_blank"><span><cite>Oracle Database Administrators Guide</cite></span></a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="manual-upgrade-scenarios-multitenant-architecture-oracle-databases.html#GUID-8231CE50-ABEC-4BA3-A4AC-D461EB791ACD" title="To prepare for manual upgrades, review the manual upgrade scenarios and procedures for Oracle Database deployed with multitenant architecture.">Manual Upgrade Scenarios for Multitenant Architecture Oracle Databases</a></p>
                     </div>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-6471F9F4-5151-4FA3-B5EC-B5AEBD99B0AA" name="GUID-6471F9F4-5151-4FA3-B5EC-B5AEBD99B0AA"></a><h3 id="UPGRD-GUID-6471F9F4-5151-4FA3-B5EC-B5AEBD99B0AA" class="sect3">About Upgrading PDBs Using the Parallel Upgrade Utility with Priority Lists</h3>
               <div>
                  <p>In Oracle Database 12.2 and later releases, you can upgrade PDBs using a priority list to upgrade a set of PDBs ahead of other PDBs, and you can modify that upgrade priority. </p>
                  <div class="section">
                     <p>Priority lists enable you to group and upgrade PDBs according to their priority. A priority list is a text file with comma-delimited lists defining the order of upgrade priority, and the PDBs in each numeric priority group. You run the Parallel Upgrade Utility (<code>dbupgrade</code>, <code>dbupgrade.cmd</code>, or <code>catctl.pl</code>) using the <code>-L</code> option to run the upgrade using a priority list, and to call that list as the upgrade runs. 
                     </p>
                     <p>Create the list using the following format. In this format example, the variable <span class="variable" translate="no">numeral</span> is a numeric value, and <span class="variable" translate="no">pdbx</span> is the name of a PDB. 
                     </p>
                     <p>Number, Pdb<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="variable" translate="no">numeral</span>,<span class="variable" translate="no">pdb1</span>,<span class="variable" translate="no">pdb2</span>,<span class="variable" translate="no">pdb3</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="variable" translate="no">numeral</span>,<span class="variable" translate="no">pdb4</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="variable" translate="no">numeral</span>,<span class="variable" translate="no">pdb5</span>,<span class="variable" translate="no">pdb6</span>,<span class="variable" translate="no">pdb7</span>,<span class="variable" translate="no">pdb8</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;.<br>
&nbsp;&nbsp;&nbsp;&nbsp;.<br>
&nbsp;&nbsp;&nbsp;&nbsp;.<br>
                        
                     </p>
                     <p>The numeral represents the priority for the PDB.</p>
                     <p> PDB priorities are as follows: </p>
                     <ol>
                        <li>
                           <p>CDB$ROOT: Priority 1. Upgrading the container database first is a mandatory priority. You cannot change the priority for the container database upgrade. CDB$ROOT is always processed first.</p>
                        </li>
                        <li>
                           <p>PDB$SEED: Priority 1. Upgrading the PDB seed database is a mandatory priority. You cannot change the priority for the PDB seed upgrade. PDB$SEED always upgraded after CDB$ROOT, and with the first batch of PDB upgrades. </p>
                        </li>
                        <li>
                           <p>Priority List 1 PDBs: Priority 1 is the highest user-selected priority. These PDBs are upgraded second after CDB$ROOT, in the batch where the PDB$SEED PDB is upgraded. </p>
                        </li>
                        <li>
                           <p>Priority List 2 PDBs: Priority 2 is the second-highest priority PDB set. These PDBs are upgraded after the Priority 1 PDBs.</p>
                        </li>
                        <li>
                           <p>Priority List 3 PDBs: Priority 3 is the third-highest priority PDB set. These PDBS are upgraded after priority 2 PDBs.</p>
                        </li>
                        <li>
                           <p>Priority List 4 PDBs: Priority 4 is the fourth-highest priority PDB set. These PDBS are upgraded after priority 3 PDBs.</p>
                        </li>
                        <li>
                           <p>Priority List 5 PDBs: Priority 5 is the fifth-highest priority PDB set. These PDBS are upgraded after priority 4 PDBs.</p>
                        </li>
                        <li>
                           <p>Priority List 6 PDBs: Priority 6 is the sixth-highest priority PDB set. These PDBS are upgraded after priority 7 PDBs.</p>
                        </li>
                     </ol>
                     <p>When you run the Parallel Upgrade Utility, the following processing rules apply:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>CDB$ROOT and PDB$SEED are always processed first, even if they are not present in the priority list. </p>
                        </li>
                        <li>
                           <p>All PDBs that are in priority lists are processed in order of priority</p>
                        </li>
                        <li>
                           <p>Any PDBs that are not listed in priority lists are processed after the PDBs named in the priority list.</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-6471F9F4-5151-4FA3-B5EC-B5AEBD99B0AA__GUID-4E069162-9199-4639-A9CA-FB94FA04C7FA">
                     <p>For example:</p><pre class="pre codeblock"><code>Number,Pdb
1,sales1,region2,receivables1
2,sales2
3,dss1,region3,region2,dss2,dss3</code></pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-6471F9F4-5151-4FA3-B5EC-B5AEBD99B0AA__GUID-8EDC63B5-62A5-49AA-849D-2C0019F8F99A">
                     <p>Use the following syntax to run the Parallel Upgrade utility using a priority list:</p><pre class="oac_no_warn" dir="ltr">dbupgrade -L <span class="variable" translate="no">priority_list_name</span></pre><p>For example, to run the Parallel Upgrade Utility on a Windows system using the Parallel Upgrade Utility batch command and a priority list named <code class="codeph">My122Upgrade</code>, enter the following command: 
                     </p><pre class="pre codeblock"><code>C:&gt;\u01\app\19.1.0\db_home1\rdbms\admin\dbupgrade -L MyUpgrade </code></pre></div>
                  <!-- class="example" -->
                  <div class="section">
                     <p>After you complete an upgrade using a priority list to set upgrade priorities, these PDB priority states are maintained in the CDB for the PDBs. The next upgrade honors the priorities set for the PDBs in the previous upgrade.</p>
                     <p>Use the following SQL command syntax to change PDB upgrade priority states, where <code class="codeph"><span class="variable" translate="no">PDBName</span></code> is the name of the PDB whose upgrade priority you want to change, and <code class="codeph"><span class="variable" translate="no">PDBPriorityNumber</span></code> is the new priority value you want to assign:
                     </p><pre class="oac_no_warn" dir="ltr">SQL&gt; alter session set container = CDB$ROOT
SQL&gt; alter pluggable database <span class="variable" translate="no">PDBName</span> upgrade priority<span class="variable" translate="no">PDBPriorityNumber</span> </pre><p>For example:</p><pre class="pre codeblock"><code>SQL&gt; alter session set container = CDB$ROOT
SQL&gt; alter pluggable database region2 upgrade priority 2</code></pre><p>In this example, the PDB named region 2 that was set to upgrade priority 1 in the previous example is changed to upgrade priority 2.</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="manual-upgrade-scenarios-multitenant-architecture-oracle-databases.html#GUID-8231CE50-ABEC-4BA3-A4AC-D461EB791ACD" title="To prepare for manual upgrades, review the manual upgrade scenarios and procedures for Oracle Database deployed with multitenant architecture.">Manual Upgrade Scenarios for Multitenant Architecture Oracle Databases</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-55A00056-EFB3-4F81-8E28-3B8C9553B68F" name="GUID-55A00056-EFB3-4F81-8E28-3B8C9553B68F"></a><h3 id="UPGRD-GUID-55A00056-EFB3-4F81-8E28-3B8C9553B68F" class="sect3">About PDB Upgrades Using Priority Lists, Inclusion Lists, and Exclusion Lists</h3>
               <div>
                  <p>Starting in Oracle Database 12<span class="italic">c</span> release 2 (12.2), you can use inclusion and exclusion lists with priority lists to control how your PDBs are upgraded.
                  </p>
                  <div class="section">
                     <p class="subhead2" id="GUID-55A00056-EFB3-4F81-8E28-3B8C9553B68F__GUID-E5584CED-D425-4FDC-916E-1059A5952CFD">Upgrade Processing and Lists</p>
                     <p>The following terms designate types of upgrade list processing:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><strong class="term">Priority lists</strong>: Comma-delimited lists that designate the upgrade priority of PDBs in the list.
                           </p>
                        </li>
                        <li>
                           <p><strong class="term">Inclusion lists</strong>: Comma-delimited lists that designate PDBs that you want to upgrade. PDBs in these lists are upgraded after the PDBs listed in priority lists.
                           </p>
                        </li>
                        <li>
                           <p><strong class="term">Exclusion lists</strong>: Comma-delimited lists that designate PDBs that you do not want to be upgraded. 
                           </p>
                        </li>
                     </ul>
                     <p>You can use inclusion lists and exclusion lists in the following ways:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>On their own, to include or exclude a set of PDBs from an upgrade</p>
                        </li>
                        <li>
                           <p>In conjunction with priority lists to provide detailed specifications for the order in which PDBs are upgraded, and which PDBs are excluded from an upgrade. </p>
                           <p>When inclusion lists are used with priority lists, the PDBs listed in inclusion lists are upgraded according to the priority value they are assigned in the priority lists. PDBs listed in inclusion lists but not listed in priority lists are upgraded after all PDBs in the priority lists are upgraded.</p>
                           <p>When exclusion lists are used with priority lists, the PDBs listed in exclusion lists are not upgraded. </p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-55A00056-EFB3-4F81-8E28-3B8C9553B68F__GUID-D5A0B39E-340E-40E7-8CA5-5B62E73DA37B">
                        <p class="notep1">Note:</p>
                        <p>Create priority lists using a plain text editor, such as <code class="codeph">vi</code> on Linux and UNIX, or Notepad on Windows. 
                        </p>
                        <p>In the examples in this topic, the <code class="codeph">cpu_count</code> value is equal to 2.
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-55A00056-EFB3-4F81-8E28-3B8C9553B68F__GUID-CE75E627-370D-4843-8BB0-9482A57A670B">Upgrade Priority using Default Processing</p>
                     <p><strong class="term">Default processing</strong> is the upgrade processing that is carried out if you do not designate how you want to upgrade PDBs in your CDBs using lists. 
                     </p>
                     <p>With default processing, CDB$ROOT is upgraded, and then PDB$SEED. Depending on the degree of parallelism you set, one or more PDBs may be updated in parallel with PDB$SEED. As upgrades complete, PDBs are upgraded as upgrade processors become available.</p>
                     <p>The examples that follow use the following multitenant configuration of CDB and PDBs:</p><pre class="pre codeblock"><code>CDB$ROOT
PDB$SEED
CDB1_PDB1
CDB1_PDB2
CDB1_PDB3
CDB1_PDB4
CDB1_PDB5</code></pre><p>In default processing, you specify no preference for which PDBs you want upgraded or excluded from upgrade. With default processing, CDB$ROOT is upgraded first, and PDB$SEED is updated in the first group of PDBs upgraded. </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-55A00056-EFB3-4F81-8E28-3B8C9553B68F__GUID-E48D5A30-827D-4ED4-9896-95EFC27F0BD1">
                     <p class="titleinexample">Example 4-29 Specifying Complete PDB Upgrade Priority</p>
                     <p>The following example of a priority list, where the priority setting for all PDBs is set by the list:</p><pre class="pre codeblock"><code>
1,CDB$ROOT
1,PDB$SEED
1,CDB1_PDB1
1,CDB1_PDB2
2,CDB1_PDB3
2,CDB1_PDB4
3,CDB1_PDB5</code></pre><p>Here is another way of writing the same list, in which you group PDBs in priority order:</p><pre class="pre codeblock"><code>1,CDB$ROOT
1,PDB$SEED
1,CDB1_PDB1,CDB1_PDB2
2,CDB1_PDB3,CDB1_PDB4
3,CDB1_PDB5</code></pre><p>In the preceding example, the PDBs listed in priority 1 are CDB1_PDB1 and CDB1_PDB2. These PDBs are upgraded before CDB1_PDB3 and CDB1_PDB4. </p>
                     <p>Here is another way of writing the same list, using container ID values (CON_ID) to set the priority order:</p><pre class="pre codeblock"><code>1,CDB$ROOT
1,PDB$SEED
1,3,4
2,5,6
3,7</code></pre><p>In the preceding example, the PDBs listed in priority 1 are CDB1_PDB1 (identified by CON_ID 3) and CDB1_PDB2 (identified by CON_ID 4). These PDBs are upgraded before CDB1_PDB3 (CON_ID 5) and CDB1_PDB4 (CON_ID 6). </p>
                     <p>When you use CON_IDs to specify priority, the first number specifies the priority of the group of PDBs. The second value or number specifies the PDBs (by CON_ID) number that are in that priority grouping. CDB$ROOT is always updated first, and PDB$SEED is always updated in the first upgrade priority group. </p>
                     <p>These examples all show a priority list upgrade with the following characteristics:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Exclusion processing: None</p>
                        </li>
                        <li>
                           <p>Inclusion processing: None</p>
                        </li>
                        <li>
                           <p>Default processing: None</p>
                        </li>
                     </ul>
                     <p>The upgrade order is carried out in the following sequence:</p>
                     <ol>
                        <li>
                           <p>CDB$ROOT</p>
                        </li>
                        <li>
                           <p>PDB$SEED, CDB1_PDB1</p>
                        </li>
                        <li>
                           <p>CDB1_PDB2, CDB1_PDB3</p>
                        </li>
                        <li>
                           <p>CDB1_PDB4, CDB1_PDB5</p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-55A00056-EFB3-4F81-8E28-3B8C9553B68F__GUID-AF71BFF8-667D-4E2E-B3C8-98CB92690074">
                     <p class="titleinexample">Example 4-30 Specifying a Priority Subset of PDBs, and Upgrading Other PDBs with Default Processing</p>
                     <p>The following example specifies a priority list called <code class="codeph">priority.lst</code>, which specifies a subset of PDBs for upgrade:
                     </p><pre class="pre codeblock"><code>catctl -L priority.lst catupgrd.sql
1,CDB$ROOT
1,PDB$SEED
1,CDB1_PDB1,CDB1_PDB2</code></pre><p>This example shows a priority list upgrade with the following characteristics:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Exclusion processing: None</p>
                        </li>
                        <li>
                           <p>Inclusion processing: None</p>
                        </li>
                        <li>
                           <p>Default processing: CDB1_PDB3,CDB1_PDB4,CDB1_PDB5</p>
                        </li>
                     </ul>
                     <p>The upgrade order is carried out in the following sequence:</p>
                     <ol>
                        <li>
                           <p>CDB$ROOT</p>
                        </li>
                        <li>
                           <p>PDB$SEED, CDB1_PDB1</p>
                        </li>
                        <li>
                           <p>CDB1_PDB2, CDB1_PDB3</p>
                        </li>
                        <li>
                           <p>CDB1_PDB4, CDB1_PDB5</p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-55A00056-EFB3-4F81-8E28-3B8C9553B68F__GUID-41C338F9-8B62-4101-99EB-645E4D65EDD6">
                     <p class="titleinexample">Example 4-31 Specifying a Priority Subset of PDBs, and Upgrading Other PDBs with an Inclusion List</p>
                     <p>The following example specifies a priority list called <code class="codeph">priority.lst</code>, which specifies a priority subset of PDBs for upgrade:
                     </p><pre class="pre codeblock"><code>catctl -L priority.lst -c 'CDB1_PDB2 CDB1_PDB4 CDB1_PDB5' catupgrd.sql</code></pre><p>This command refers to the following priority list: </p><pre class="pre codeblock"><code>1,CDB$ROOT
1,PDB$SEED
1,CDB1_PDB2,CDB1_PDB4
2.CDB1_PDB5</code></pre><p>This example shows a priority list upgrade with the following characteristics:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Exclusion processing: None</p>
                        </li>
                        <li>
                           <p>Inclusion processing: CDB1_PDB2 CDB1_PDB4 CDB1_PDB5 </p>
                        </li>
                        <li>
                           <p>Default processing: None</p>
                        </li>
                     </ul>
                     <p>The upgrade order is carried out in the following sequence:</p>
                     <ol>
                        <li>
                           <p>CDB1_PDB2, CDB1_PDB4</p>
                        </li>
                        <li>
                           <p>CDB1_PDB5</p>
                        </li>
                     </ol>
                     <p>The Parallel Upgrade Utility processes only the PDBs that are in the inclusion list, and in the order of the priority list.</p>
                  </div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-55A00056-EFB3-4F81-8E28-3B8C9553B68F__GUID-074EF1CA-8B41-4640-B3D3-DCC45C0E3DB7">
                     <p class="titleinexample">Example 4-32 Specifying a Priority Subset of PDBs, and Excluding CDB$ROOT with an Exclusion List</p>
                     <p>The following example runs <code>catctl</code> using a priority list called <code class="codeph">priority.lst</code>. Because this command runs with the <code class="codeph">-C</code> option, it excludes CDB$ROOT from the upgrade:
                     </p><pre class="pre codeblock"><code>catctl -L priority.lst -C 'CDB$ROOT' catupgrd.sql
</code></pre><p>This is the priority list: </p><pre class="pre codeblock"><code>1,CDB$ROOT
1,PDB$SEED
1,CDB1_PDB1,CDB1_PDB2
2,CDB1_PDB3,CDB1_PDB4
3,CDB1_PDB5</code></pre><p>The upgrades are processed using the priority list to specify upgrade priority. </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Inclusion processing: None</p>
                        </li>
                        <li>
                           <p>Exclusion processing: CDB$ROOT</p>
                        </li>
                        <li>
                           <p>Priority processing: PDB$SEED, CDB1_PDB1, CDB1_PDB2, CDB1_PDB3, CDB1_PDB4, CDB1_PDB5</p>
                        </li>
                     </ul>
                     <p>Because CDB$ROOT is excluded, the priority processing shifts. The upgrade order is carried out in the following sequence:</p>
                     <ol>
                        <li>
                           <p>PDB$SEED, CDB_PDB1</p>
                        </li>
                        <li>
                           <p>CDB_PDB2, CDB_PDB3</p>
                        </li>
                        <li>
                           <p>CDB1_PDB4, CDB1_PDB5</p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-55A00056-EFB3-4F81-8E28-3B8C9553B68F__GUID-671C1BE2-8FF5-4E18-9042-B48D7A432283">
                     <p class="titleinexample">Example 4-33 Specifying an Exclusion List using CATCTL_LISTONLY</p>
                     <p>The following example specifies a priority list called <code class="codeph">priority.lst</code>, which specifies a subset of PDBs for upgrade. With the CATCTL_LISTONLY option, PDBs that are not in the priority list are excluded from the upgrade:
                     </p><pre class="pre codeblock"><code>catctl -L priority.lst -C 'CATCTL_LISTONLY' catupgrd.sql</code></pre><p>Priority list:</p><pre class="pre codeblock"><code>1,CDB$ROOT
1,PDB$SEED
1,CDB1_PDB1,CDB1_PDB2
2,CDB1_PDB3
3,CDB1_PDB5</code></pre><ul style="list-style-type: disc;">
                        <li>
                           <p>Exclusion processing: CATCTL_LISTONLY (Only process inclusion priority list)</p>
                        </li>
                        <li>
                           <p>Inclusion processing: None</p>
                        </li>
                        <li>
                           <p>Default processing: None</p>
                        </li>
                     </ul>
                     <p>The upgrade order is carried out in the following sequence:</p>
                     <ol>
                        <li>
                           <p>CDB$ROOT</p>
                        </li>
                        <li>
                           <p>PDB$SEED, CDB1_PDB1,CDB1_PDB2</p>
                        </li>
                        <li>
                           <p>CDB1_PDB3, CDB1_PDB5</p>
                        </li>
                     </ol>
                     <div class="infoboxnote" id="GUID-55A00056-EFB3-4F81-8E28-3B8C9553B68F__GUID-741A4472-8440-43EB-B3A3-D8D43D2F49C5">
                        <p class="notep1">Note:</p>
                        <p>Specifying the keyword CATCTL_LISTONLY in the exclusion list turns the priority list into an inclusion priority list. Only PDBs in the list are processed. No default processing occurs in this scenario, so in this example, CDB1_PDB4 is not processed.</p>
                     </div>
                  </div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-55A00056-EFB3-4F81-8E28-3B8C9553B68F__GUID-3CF7D679-115C-40A4-8982-9D1FD6C9AB2E">
                     <p class="titleinexample">Example 4-34 Specifying a Priority List using CON_ID Values</p>
                     <p>The following example specifies a priority list called <code class="codeph">priority.lst</code>, which specifies a subset of PDBs for upgrade:
                     </p><pre class="pre codeblock"><code>catctl -L priority.lst -C 'CATCTL_LISTONLY' catupgrd.sql</code></pre><p> The upgrade order is determined by the priority list priority number. In the list called by the <code class="codeph">-L</code> parameter, <code class="codeph">priority.lst</code>, the numbers following the upgrade priority number are the CON_ID values associated with PDB names:
                     </p><pre class="pre codeblock"><code>1,3,4
2,5,CDB1_PDB4
3,7</code></pre><p>In the preceding list example, note that you can use a mix of CON_ID numbers and PDB names. </p>
                     <p>The PDBs listed in priority 3 are CDB1_PDB1 (identified by CON_ID 3) and CDB1_PDB2 (identified by CON_ID 4). These PDBs are upgraded before CDB1_PDB3 (CON_ID 5), CDB1_PDB4, which is identified by name, and CDB1_PDB5 (CON_ID 7).</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Exclusion processing: <code class="codeph">-C CATCTL_LISTONLY</code> (Only process PDBs in the inclusion priority list)
                           </p>
                        </li>
                        <li>
                           <p>Exclusion Processing: None</p>
                        </li>
                        <li>
                           <p>Inclusion processing: Specified in <code class="codeph">priority.lst</code></p>
                        </li>
                        <li>
                           <p>Default processing: CDB$ROOT, PDB$SEED</p>
                        </li>
                     </ul>
                     <p>The upgrade order is determined by the priority list, which uses the CON_ID numbers associated with the PDB.</p>
                     <ol>
                        <li>
                           <p>CDB$ROOT</p>
                        </li>
                        <li>
                           <p>PDB$SEED, CDB1_PDB1</p>
                        </li>
                        <li>
                           <p>CDB1_PDB2, CDB1_PDB3</p>
                        </li>
                        <li>
                           <p>CDB1_PDB4, CDB1_PDB5</p>
                        </li>
                     </ol>
                     <div class="infoboxnote" id="GUID-55A00056-EFB3-4F81-8E28-3B8C9553B68F__GUID-FD690F88-AB20-465D-BD6D-811255806B34">
                        <p class="notep1">Note:</p>
                        <p>This example demonstrates the use of CON_IDs to specify the PDBs, and omits CDB$ROOT and PDB$SEED from the priority list. CDB$ROOT and PDB$SEED are processed using default processing. </p>
                     </div>
                  </div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="manual-upgrade-scenarios-multitenant-architecture-oracle-databases.html#GUID-8231CE50-ABEC-4BA3-A4AC-D461EB791ACD" title="To prepare for manual upgrades, review the manual upgrade scenarios and procedures for Oracle Database deployed with multitenant architecture.">Manual Upgrade Scenarios for Multitenant Architecture Oracle Databases</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-4CA89342-971B-447C-A643-9638DE4EB121" name="GUID-4CA89342-971B-447C-A643-9638DE4EB121"></a><h3 id="UPGRD-GUID-4CA89342-971B-447C-A643-9638DE4EB121" class="sect3">Upgrading Multitenant Architecture In Parallel</h3>
               <div>
                  <p>Use this technique to upgrade multitenant architecture Oracle Database releases (Oracle Database 12c Release 1 (12.1.0.1) and later by upgrading container databases (CDBs), and then upgrading multiple pluggable databases (PDBs) in parallel.</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="manual-upgrade-scenarios-multitenant-architecture-oracle-databases.html#GUID-8775B0AB-CBED-4173-9B76-4F6E34841EFB">About Upgrading Pluggable Databases (PDBs) In Parallel</a><br>Using the In-Parallel technique, you can upgrade the CDB, and then immediately upgrade PDBs using parallel SQL processors. 
                     </li>
                     <li class="ulchildlink"><a href="manual-upgrade-scenarios-multitenant-architecture-oracle-databases.html#GUID-5C043DD3-309A-4C8A-B500-1CAFC2CAB875">Upgrading Multitenant Container Databases In Parallel</a><br>Use this technique to upgrade CDB$ROOT, PDB$SEED, and all PDBS in the CDB in one upgrade operation.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="manual-upgrade-scenarios-multitenant-architecture-oracle-databases.html#GUID-8231CE50-ABEC-4BA3-A4AC-D461EB791ACD" title="To prepare for manual upgrades, review the manual upgrade scenarios and procedures for Oracle Database deployed with multitenant architecture.">Manual Upgrade Scenarios for Multitenant Architecture Oracle Databases</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-8775B0AB-CBED-4173-9B76-4F6E34841EFB" name="GUID-8775B0AB-CBED-4173-9B76-4F6E34841EFB"></a><h4 id="UPGRD-GUID-8775B0AB-CBED-4173-9B76-4F6E34841EFB" class="sect4">About Upgrading Pluggable Databases (PDBs) In Parallel</h4>
                  <div>
                     <p>Using the In-Parallel technique, you can upgrade the CDB, and then immediately upgrade PDBs using parallel SQL processors. </p>
                     <p>Container databases (CDBs) can contain zero, one, or more pluggable databases (PDBs). By default, the Parallel Upgrade Utility (<code>catctl.pl</code>) updates the CDB and all of its PDBs in the same upgrade window. The Parallel Upgrade Utility uses the number of computer processing units (CPUs) to determine the maximum number of PDBs that are upgraded simultaneously. The number of PDBs that are upgraded in parallel is determined by dividing the parallel SQL process count (<code class="codeph">-n</code> option) by the parallel PDB SQL process count (<code class="codeph">-N</code> option).
                     </p>
                     <div class="infoboxnote" id="GUID-8775B0AB-CBED-4173-9B76-4F6E34841EFB__GUID-52D5F0B2-2B17-4333-8BDC-5132B664B1ED">
                        <p class="notep1">Note:</p>
                        <p>You must plan your upgrade window to accommodate a common downtime for all of the database services that the PDBs on the CDB are providing.</p>
                     </div>
                     <div class="section">
                        <p class="subhead3" id="GUID-8775B0AB-CBED-4173-9B76-4F6E34841EFB__GUID-F883EE3A-D6EF-4013-86E3-37BB40975BD9">Pluggable Database Upgrade Syntax</p>
                        <p><code class="codeph">dbupgrade [-M] -n </code> [-N]
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">-M</code> Specifies if CDB$ROOT is kept in upgrade mode, or if it becomes available when it completes upgrade:
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>If you run the Parallel Upgrade Utility with the <code class="codeph">-M</code> parameter, then the upgrade places CDB$ROOT and all of its PDBs in upgrade mode, which can reduce total upgrade time. However, you cannot bring up any of the PDBs until the CDB and all of its PDBs are upgraded. 
                                    </p>
                                 </li>
                                 <li>
                                    <p>If you do not run the Parallel Upgrade Utility with the <code class="codeph">-M</code> parameter, then CDB$ROOT is upgraded and restarted in normal mode, and the normal background processes are started. After a successful upgrade, only CDB$ROOT is opened in read/write mode. All the PDBs remain in MOUNT mode. As each PDB is upgraded, you can bring each PDB online while other PDBs are still being upgraded.
                                    </p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p><code class="codeph">-n</code> Specifies the number of in-parallel PDB upgrade processors.
                              </p>
                              <p>If you do not specify a value for <code class="codeph">-n</code>, then the default for <code class="codeph">-n</code> is the <code class="codeph">CPU_COUNT</code> value. 
                              </p>
                              <p>If you do specify a value for <code class="codeph">-n</code>, then that value is used to determine the number of parallel SQL processes. The maximum value is unlimited. The minimum value is 4. 
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">-N</code> Specifies the number of SQL processors to use when upgrading PDBs. The maximum value is 8. The minimum value is 1. If you do not specify a value for <code class="codeph">-N</code>, then the default value is 2.
                              </p>
                           </li>
                           <li>
                              <p>The maximum PDB upgrades running concurrently is the value of <code class="codeph">-n</code> divided by the value of <code class="codeph">-N</code>.
                              </p>
                           </li>
                        </ul>
                        <p>The following is a high-level list of actions during the In Parallel PDB upgrade technique:</p>
                        <ol>
                           <li>
                              <p>Make sure that your backup strategy is complete.</p>
                           </li>
                           <li>
                              <p>Run the Pre-Upgrade tool. Fix any issue that is reported.. The Pre-Upgrade Tool (<code class="codeph">preupgrade.jar</code>) is shipped with the new Oracle database release.
                              </p>
                           </li>
                           <li>
                              <p>Run the Parallel Upgrade Utility. In sequence, the following upgrades are carried out: </p>
                              <ol type="a">
                                 <li>
                                    <p>Cycle 1: CDB$ROOT is upgraded to the new Oracle release</p>
                                 </li>
                                 <li>
                                    <p>Cycle 2 to Cycle x: PDB$SEED and PDBs are upgraded in parallel, with the number of cycles of upgrades as determined by the parameter settings  you specify with <code class="codeph">-n</code>.
                                    </p>
                                 </li>
                              </ol>
                           </li>
                           <li>
                              <p>Complete post-upgrade steps.</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-8775B0AB-CBED-4173-9B76-4F6E34841EFB__GUID-A3DC5104-9402-45CD-82F0-6277064E9EEB">
                        <p class="titleinexample">Example 4-35 Example of Multitenant Architecture Upgrade Using Defaults (No Parameters Set)</p>
                        <p>In this scenario, your <code class="codeph">CPU_COUNT</code> value is equal to 24. If you do not specify a value for in-parallel PDB processors using the <code class="codeph">-n</code> option, then the default value for in-parallel PDB processors (<code class="codeph">-n</code>) is equal to 24. If you do not specify a value for <code class="codeph">-N</code>, then the default value for the number of SQL processors (<code class="codeph">-N</code>) is 2. 
                        </p>
                        <p>Result: </p>
                        <p>12 PDBs are upgraded in parallel  (<code class="codeph">CPU_COUNT</code> divided by 2, or 24 divided by 2.) There are 2 parallel SQL processes allocated for each PDB.
                        </p>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-8775B0AB-CBED-4173-9B76-4F6E34841EFB__GUID-9AA5D146-F428-40E0-858F-C3B8AF17D298">
                        <p class="titleinexample">Example 4-36 Example of Multitenant Architecture Upgrade Using 64 In Parallel PDB Upgrade Processors and 4 Parallel SQL Processes</p>
                        <p>In this scenario you set the value of in-parallel PDB upgrade processors to 64 by specifying the option <code class="codeph">-n 64</code>. You specify the value of parallel SQL processors to 4 by specifying the option <code class="codeph">-N 4</code>.
                        </p>
                        <p>Result: </p>
                        <p>16 PDBs are upgraded in parallel ( 64 divided by 4). There are 4 parallel SQL processes for each PDB. </p>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-8775B0AB-CBED-4173-9B76-4F6E34841EFB__GUID-4982DE61-7FBE-445F-82A7-C6D8F5245FD4">
                        <p class="titleinexample">Example 4-37 Example of Multitenant Architecture Upgrade Using 20 In Parallel PDB Upgrade Processors and 2 Parallel SQL Processes</p>
                        <p>In this scenario you se the value of in-parallel PDB upgrade processors to 20 by specifying the option <code class="codeph">-n 20</code>. You specify the value of parallel SQL processors to 2 by specifying the option <code class="codeph">-N 2</code>.
                        </p>
                        <p>Result:</p>
                        <p>10 PDBs are upgraded in parallel (20 divided by 2). There are 2 parallel SQL processes for each PDB. </p>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-8775B0AB-CBED-4173-9B76-4F6E34841EFB__GUID-159AA1E9-EC16-48AB-A81E-52ED7AB9D872">
                        <p class="titleinexample">Example 4-38 Example of Multitenant Architecture Upgrade Using 10 In Parallel PDB Upgrade Processors and 4 Parallel SQL Processes</p>
                        <p>In this scenario you se the value of in-parallel PDB upgrade processors to 10 by specifying the option <code class="codeph">-n 10</code>. You specify the value of parallel SQL processors to 2 by specifying the option <code class="codeph">-N 4</code>.
                        </p>
                        <p>Result:</p>
                        <p>2 PDBs are upgraded in parallel (10 divided by 4). There are 4 parallel SQL processes for each PDB. </p>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="manual-upgrade-scenarios-multitenant-architecture-oracle-databases.html#GUID-4CA89342-971B-447C-A643-9638DE4EB121" title="Use this technique to upgrade multitenant architecture Oracle Database releases (Oracle Database 12c Release 1 (12.1.0.1) and later by upgrading container databases (CDBs), and then upgrading multiple pluggable databases (PDBs) in parallel.">Upgrading Multitenant Architecture In Parallel</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-5C043DD3-309A-4C8A-B500-1CAFC2CAB875" name="GUID-5C043DD3-309A-4C8A-B500-1CAFC2CAB875"></a><h4 id="UPGRD-GUID-5C043DD3-309A-4C8A-B500-1CAFC2CAB875" class="sect4">Upgrading Multitenant Container Databases In Parallel</h4>
                  <div>
                     <p>Use this technique to upgrade CDB$ROOT, PDB$SEED, and all PDBS in the CDB in one upgrade operation.</p>
                     <div class="section">Oracle recommends that you use this approach if you can schedule downtime, because it provides a direct procedure for upgrades and simplicity of maintenance. Using this procedure upgrades in parallel all the PDBs in the multitenant architecture container database, depending on your servers available processors (CPUs). </div>
                     <!-- class="section" -->
                     <div class="p">
                        <div class="infoboxnote" id="GUID-5C043DD3-309A-4C8A-B500-1CAFC2CAB875__GUID-B9E56452-D917-4494-9CEA-1776AB539636">
                           <p class="notep1">Note:</p>
                           <p>When you upgrade the entire container using the In Parallel upgrade method, all the PDBs must be down. Perform the upgrade in a scheduled upgrade window so that you can bring all the PDBs down. </p>
                        </div>
                        <div class="infoboxnote" id="GUID-5C043DD3-309A-4C8A-B500-1CAFC2CAB875__GUID-7E298C0B-771D-4F81-BFB5-1659CC483F66">
                           <p class="notep1">Caution:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Always create a backup of existing databases before starting any configuration change.</p>
                              </li>
                              <li>
                                 <p>You cannot downgrade a database after you have set the compatible initialization parameter.</p>
                              </li>
                              <li>
                                 <p>Oracle strongly recommends that you upgrade your source and target databases to the most recent bundle patch or patch set update (BP or PSU) before starting an upgrade, and to the most recent release update before starting a downgrade. </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Ensure that you have a proper backup strategy in place.</span></li>
                        <li class="stepexpand"><span>Open all PDBs. </span><div>
                              <p>For example:</p><pre class="pre codeblock"><code>SQL&gt; alter pluggable database all open;
</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Run the Pre-Upgrade Information Tool (<code class="codeph">preupgrade.jar</code>), using the following syntax:</span><div><code class="codeph">/java -jar <span class="variable" translate="no">$New_release_Oracle_home</span>/rdbms/admin/preupgrade.jar [TERMINAL|FILE|DIR outputdir] [TEXT|XML] [-c <span class="variable" translate="no">InclusionListOfPDBs</span>] [-C <span class="variable" translate="no">ExclusionListOfPDBs</span>]</code><p>Use space-delimitation for lists. On Linux and UNIX, define the list by placing the list inside single quotes:<code class="codeph"> '</code>. On Windows systems, define the list by placing the list inside double quotes<code class="codeph"> "</code>.
                              </p>
                           </div>
                           <div>For example, run the following command to run the Pre-Upgrade Information tool on PDBs PDB1 through PDB25, where you have set up an environment variable <code class="codeph">$ORACLE_HOME_12.2</code> for your Oracle Database Oracle home in<code class="codeph"> /u01/app/ oracle/product/12.2.0/dbhome_1/</code>, and you have set up an environment variable <code class="codeph">$ORACLE_HOME_19.1</code> for your new Oracle Database Oracle home in <code>/u01/app/oracle/product/19.1.0/dbhome_1/</code>:
                              <p>Linux and UNIX:</p><pre class="pre codeblock"><code>java -jar $ORACLE_HOME_19.1/rdbms/admin/preupgrade.jar \
-c 'pdb1 pdb2 pdb3 pdb4 pdb5 pdb6 pdb7 pdb8 pdb9 pdb10 pdb11 pdb12 pdb13\
pdb14 pdb15 pdb16 pdb17 pdb18 pdb19 pdb20 pdb21 pdb22 pdb23 pdb24 pdb25'</code></pre><p>Windows:</p><pre class="pre codeblock"><code>java -jar %ORACLE_HOME_19.1%/rdbms/admin/preupgrade.jar \
-c "pdb1 pdb2 pdb3 pdb4 pdb5 pdb6 pdb7 pdb8 pdb9 pdb10 pdb11 pdb12 pdb13\
pdb14 pdb15 pdb16 pdb17 pdb18 pdb19 pdb20 pdb21 pdb22 pdb23 pdb24 pdb25"</code></pre></div>
                           <div>
                              <div class="infoboxnote" id="GUID-5C043DD3-309A-4C8A-B500-1CAFC2CAB875__GUID-3CDD4AE3-9DFE-438B-82B3-2C4700E40E3D">
                                 <p class="notep1">Note:</p>
                                 <p>You must use Java 1.5 or later to run the Pre-Upgrade Information tool. By default, the Java releases in Oracle Database releases that you can upgrade directly support the tool.</p>
                              </div>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Review any generated fixup scripts and log files.</span><div>
                              <p>By default, if ORACLE_BASE is defined, then the fixup files are placed in one of the following paths:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Linux and UNIX:</p>
                                    <p><code>$ORACLE_BASE/cfgtoollogs/<span class="variable" translate="no">db_unique_name</span>/preupgrade</code></p>
                                 </li>
                                 <li>
                                    <p>Windows</p>
                                    <p><code>%ORACLE_BASE%\cfgtoollogs\<span class="variable" translate="no">db_unique_name</span>\preupgrade</code></p>
                                 </li>
                              </ul>
                              <p>If ORACLE_BASE is not defined, then fixup files are placed in one of the following paths:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Linux and UNIX:</p>
                                    <p><code class="codeph">$ORACLE_HOME/cfgtoollogs/<span class="variable" translate="no">db_unique_name</span>/preupgrade</code></p>
                                 </li>
                                 <li>
                                    <p>Windows:</p>
                                    <p><code class="codeph">%ORACLE_HOME\cfgtoollogs\<span class="variable" translate="no">db_unique_name</span>\preupgrade</code></p>
                                 </li>
                              </ul>
                              <p>On multitenant architecture Oracle Databases, the Pre-Upgrade Information Tool also creates a consolidated <code>preupgrade_fixups.sql</code> script. You can run the consolidated fixup script by using <code>catcon.pl</code>. The consolidated fixup script runs on every container that was open at the time that you ran the <code>preupgrade.jar</code> command. 
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Run the <code class="codeph">preupgrade_fixups</code> script, or individual PDB scripts. The <code class="codeph">preupgrade_fixups</code> SQL scripts resolve some of the issues reported by the <code class="codeph">preupgrade</code> script.</span><div>
                              <p>On multitenant environment Oracle Database deployments, you can run <code class="codeph">preupgrade_fixups<span class="variable" translate="no">pdb-name</span>.sql</code> scripts on the source database, where <code class="codeph"><span class="variable" translate="no">pdb-name</span></code> is the PDB name. If you generate fixup scripts for PDBs, then the PDB name is added to the fixup filename.
                              </p>
                              <p>In addition to the individual PDB fixup scripts, you can use <code>catcon.pl</code> to run the consolidated <code>preupgrade_fixups.sql</code> script. The consolidated script runs on every container that was open at the time that you ran <code>preupgrade.jar</code>.
                              </p>
                              <div class="infoboxnote" id="GUID-5C043DD3-309A-4C8A-B500-1CAFC2CAB875__GUID-DAAD9892-D13C-4947-B51E-3E0655691C12">
                                 <p class="notep1">Note:</p>
                                 <p>Because $ is a reserved symbol on operating systems, the fixup script for PDB$SEED is <code>preupgrade_fixups_pdb_seed.sql</code>.
                                 </p>
                              </div>
                           </div>
                           <div>
                              <p>Complete any other preupgrade tasks that the Pre-Upgrade Information Tool identifies. </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>(Conditional) for Oracle RAC databases, set the cluster database initialization parameter to false: </span><div>
                              <p>For example; </p><pre class="pre codeblock"><code>ALTER SYSTEM SET cluster_database=FALSE SCOPE=spfile;</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Shut down the database in the old Oracle home. </span><div>
                              <p>For example, where <code class="codeph"><span class="variable" translate="no">db_unique_name</span></code> is your database name: 
                              </p><code class="codeph">$ srvctl stop database -d <span class="variable" translate="no">db_unique_name</span></code></div>
                        </li>
                        <li class="stepexpand"><span>Copy the <code class="codeph">PFILE</code> or <code class="codeph">SPFILE</code> from the old Oracle home to the new Oracle home</span></li>
                        <li class="stepexpand"><span>Connect with SQL*Plus:</span><div><pre class="pre codeblock"><code>sqlplus / as sysdba</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Bring the CDB$ROOT instance into upgrade mode:</span><div><pre class="pre codeblock"><code>STARTUP UPGRADE</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Bring all PDBs into upgrade mode:</span><div><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE ALL OPEN UPGRADE;</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Check the status of PDBs to confirm that they are ready to upgrade:</span><div><pre class="pre codeblock"><code>SHOW PDBS</code></pre></div>
                           <div>For all PDBs, ensure that the status is set to MIGRATE. </div>
                        </li>
                        <li class="stepexpand"><span>Exit from SQL*Plus, and change directory to the new Oracle home <code>$ORACLE_HOME/rdbms/admin</code>:</span><div><pre class="pre codeblock"><code>SQL&gt; EXIT
$ ORACLE_HOME/bin </code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Start the upgrade using the Parallel Upgrade Utility (<code class="codeph">catctl.pl</code>, using the shell command <code class="codeph">dbupgrade</code>), where <code class="codeph">-d</code> specifies the location of the directory:</span><div><pre class="pre codeblock"><code>dbupgrade -d $ORACLE_HOME/rdbms/admin</code></pre></div>
                           <div>
                              <p>If you do not specify any parameters, then the Parallel Upgrade Utility runs the upgrade in parallel on the number of PDBs equivalent to the number of CPUs divided by 2. On a server with 64 CPUs, 64 divided by 2 equals 32 PDBs upgraded in parallel, carried out with two SQL processors for each PDB. CDB$ROOT remains in NORMAL mode for the duration of the upgrade.</p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Confirm that the upgrade was successful by reviewing the <code class="codeph">upg_summary.log</code> If necessary, review other logs. </span></li>
                        <li class="stepexpand"><span>Open all PDBs, so that you can recompile the databases:</span><div><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE ALL OPEN;</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Exit from SQL*Plus, and change directory to the new Oracle home path <code>$ORACLE_HOME/rdbms/admin</code>:</span><div><pre class="pre codeblock"><code>SQL&gt; EXIT
cd $ORACLE_HOME/rdbms/admin</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Run the <code class="codeph">catcon.pl</code> script and the <code class="codeph">postupgrade_fixups.sql</code> script that is supplied with the new release Oracle Database.</span><div>
                              <p>The following example shows the command strings for running <code>catcon.pl</code>, using the <code class="codeph">-n</code> parameter to specify one parallel processor for each PDB, using the <code class="codeph">-d</code> parameter to specify the path where the preupgrade script that you want to run is located, using the <code class="codeph">-l</code> parameter to specify the location where you want the scripts to place log files, and using the <code class="codeph">-b</code> flag to specify the log file prefixes for the <code class="codeph">postupgrade_fixups.sql</code> script:
                              </p><pre class="pre codeblock"><code>$ORACLE_HOME/perl/bin/perl $ORACLE_HOME/rdbms/admin/catcon.pl -n 1 -d \
$ORACLE_HOME/cfgtoollogs/cdbupgr/preupgrade -l /home/oracle/upgrdDBA -b \
postupgrade_fixups postupgrade_fixups.sql</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Run <code>postupgrade_fixups.sql</code>.</span><div>
                              <p>Non- CDB:</p><pre class="pre codeblock"><code>SQL&gt; @rdbms/admin/postupgrade_fixups.sql</code></pre><p>CDB:</p><pre class="pre codeblock"><code>$ORACLE_HOME/perl/bin/perl catcon.pl -n 1 -e -b postupgradefixups -d '''.''' postupgradefixups.sql</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Run <code>utlusts.sql</code> to verify that there are no upgrade issues. </span><div>
                              <p>Non-CDB:</p><pre class="pre codeblock"><code>SQL&gt; @rdbms/admin/utlusts.sql
</code></pre><p>CDB:</p><pre class="pre codeblock"><code>$ORACLE_HOME/perl/bin/perl catcon.pl -n 1 -e -b utlu122s -d '''.''' utlusts.sql</code></pre></div>
                           <div>
                              <p>When you use <code>catcon.pl</code> to run <code>utlusts.sql</code>, the log file <code class="codeph">utlu122s0.log</code> is generated. The log file provides the upgrade results. You can also review the upgrade report, <code class="codeph">upg_summary.log</code>.
                              </p>
                              <p>To see information about the state of the database, run <code>utlusts.sql</code> as many times as you want, at any time after the upgrade is completed. If the <code>utlusts.sql</code> script returns errors, or shows components that do not have the status <code class="codeph">VALID</code>, or if the version listed for the component is not the most recent release, then perform troubleshooting. 
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>(Conditional) For Oracle RAC environments only, enter the following commands to set the initialization parameter value for <span class="parmname" translate="no">CLUSTER_DATABASE</span> to <code class="codeph">TRUE</code>, and to start the Oracle RAC database, where <code class="codeph"><span class="variable" translate="no">dbname</span></code> is the name of the Oracle RAC database:</span><div><pre class="pre codeblock"><code>ALTER SYSTEM SET CLUSTER_DATABASE=TRUE SCOPE=SPFILE;
srvctl start database -db <span class="variable" translate="no">db_unique_name</span></code></pre></div>
                           <div>
                              <p>Your database is now upgraded.</p>
                              <div class="infoboxnote" id="GUID-5C043DD3-309A-4C8A-B500-1CAFC2CAB875__GUID-ACC577D0-471E-4AF2-8EBC-B6FAD500DAF1">
                                 <p class="notep1">Caution:</p>
                                 <p>If you retain the old Oracle software, then never start the upgraded database with the old software. Only start Oracle Database using the start command in the new Oracle Database home. </p>
                                 <p>Before you remove the old Oracle environment, relocate any data files in that environment to the new Oracle Database environment. </p>
                              </div>
                              <div class="infoboxnotealso" id="GUID-5C043DD3-309A-4C8A-B500-1CAFC2CAB875__GUID-4FD7BF4A-F3A5-4914-9645-22387E206000">
                                 <p class="notep1">See Also:</p>
                                 <p><a href="../admin/managing-data-files-and-temp-files.html#ADMIN012" target="_blank"><span><cite>Oracle Database Administrators Guide</cite></span></a> for information about relocating data files
                                 </p>
                              </div>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="manual-upgrade-scenarios-multitenant-architecture-oracle-databases.html#GUID-4CA89342-971B-447C-A643-9638DE4EB121" title="Use this technique to upgrade multitenant architecture Oracle Database releases (Oracle Database 12c Release 1 (12.1.0.1) and later by upgrading container databases (CDBs), and then upgrading multiple pluggable databases (PDBs) in parallel.">Upgrading Multitenant Architecture In Parallel</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-8F9AAFA1-690D-4F70-8448-E66D765AF136" name="GUID-8F9AAFA1-690D-4F70-8448-E66D765AF136"></a><h3 id="UPGRD-GUID-8F9AAFA1-690D-4F70-8448-E66D765AF136" class="sect3">Upgrading Multitenant Architecture Sequentially Using Unplug-Plug</h3>
               <div>
                  <p>To upgrade pluggable databases (PDBs) that are in an earlier release multitenant container databases (CDBs), Oracle Database Release 12<span class="italic">c</span> (12.1.0.1) and later, you can unplug the PDBs from the earlier release CDB, and plug the PDBs into the later release CDB.
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="manual-upgrade-scenarios-multitenant-architecture-oracle-databases.html#GUID-4CB1CB0C-E893-41F6-A1A5-2E2BE1A706AF">About Upgrading Pluggable Databases (PDBs) Sequentially</a><br>You can upgrade PDBs by unplugging a PDB from an earlier release CDB, plugging it into a later release CDB, and then upgrading that PDB to the later release. 
                     </li>
                     <li class="ulchildlink"><a href="manual-upgrade-scenarios-multitenant-architecture-oracle-databases.html#GUID-F1F89935-A2F1-4C3F-8138-FF34B3F01168">Unplugging the Earlier Release PDB from the Earlier Release CDB</a><br>To prepare for upgrading the PDB, use this procedure to unplug the PDB from the earlier release CDB. 
                     </li>
                     <li class="ulchildlink"><a href="manual-upgrade-scenarios-multitenant-architecture-oracle-databases.html#GUID-E188F65A-8AE8-494F-80BD-7060AE02769E">Plugging in the Earlier Release PDB to the Later Release CDB</a><br>To Plug the PDB from the earlier release CDB to the later release CDB, use the <code class="codeph">CREATE PLUGGABLE DATABASE</code> command. 
                     </li>
                     <li class="ulchildlink"><a href="manual-upgrade-scenarios-multitenant-architecture-oracle-databases.html#GUID-99657846-6859-43BF-A514-0C8A7786734D">Upgrading the Earlier Release PDB to the Later Release</a><br>Open PDBs in <code class="codeph">UPGRADE</code> mode use the Parallel Upgrade Utility to carry out the upgrade of the earlier-release PDB to the release level of the CDB.
                     </li>
                     <li class="ulchildlink"><a href="manual-upgrade-scenarios-multitenant-architecture-oracle-databases.html#GUID-466B8807-EE9F-477E-BE59-600044BA882B">Use Inclusion or Exclusion Lists for PDB Upgrades</a><br>If you want to upgrade a subset of earlier release PDBs, then use inclusion or exclusion lists to avoid reupgrading the CDB or PDBs that are at the new release level.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="manual-upgrade-scenarios-multitenant-architecture-oracle-databases.html#GUID-8231CE50-ABEC-4BA3-A4AC-D461EB791ACD" title="To prepare for manual upgrades, review the manual upgrade scenarios and procedures for Oracle Database deployed with multitenant architecture.">Manual Upgrade Scenarios for Multitenant Architecture Oracle Databases</a></p>
                     </div>
                  </div>
               </div>
               <a id="UPGRD60151"></a><div class="props_rev_3"><a id="GUID-4CB1CB0C-E893-41F6-A1A5-2E2BE1A706AF" name="GUID-4CB1CB0C-E893-41F6-A1A5-2E2BE1A706AF"></a><h4 id="UPGRD-GUID-4CB1CB0C-E893-41F6-A1A5-2E2BE1A706AF" class="sect4">About Upgrading Pluggable Databases (PDBs) Sequentially</h4>
                  <div>
                     <p>You can upgrade PDBs by unplugging a PDB from an earlier release CDB, plugging it into a later release CDB, and then upgrading that PDB to the later release. </p>
                     <p>CDBs can contain zero, one, or more pluggable databases (PDBs). After you install a new Oracle Database release, or after you upgrade the CDB (<code class="codeph">CDB$ROOT</code>), you can upgrade one or more PDB without upgrading all of the PDBs on the CDB. 
                     </p>
                     <p>You can choose the upgrade plan that meets the needs for your service delivery. For example, you can use Oracle Database Upgrade Assistant (DBUA) to upgrade a set of PDBs, or you can use a manual upgrade to upgrade PDBs individually, or with inclusion or exclusion lists. You can upgrade the CDB and all PDBs (an In Parallel manual upgrade), or you can upgrade the CDB, and then upgrade PDBs sequentially, either individually, or in sets using inclusion or exclusion lists. </p>
                     <p>The following is a high-level list of the steps required for sequential PDB upgrades:</p>
                     <ol>
                        <li>
                           <p>Unplug the earlier release PDB from the earlier release CDB.</p>
                        </li>
                        <li>
                           <p>Drop the PDB from the CDB.</p>
                        </li>
                        <li>
                           <p>Plug the earlier release PDB into the later release CDB.</p>
                        </li>
                        <li>
                           <p>Upgrade the earlier release PDB to a later release.</p>
                        </li>
                     </ol>
                     <div class="p">With Oracle Database 12<span class="italic">c</span> Release 2 (12.2) and later releases, you can provide lists to the Parallel Upgrade Utility to upgrade PDBs:
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Priority lists, to set the order in which PDBs are upgraded</p>
                           </li>
                           <li>
                              <p>Inclusion lists, which enable you to designate a set of PDBs to upgrade after the PDBs listed in the priority list are upgraded</p>
                           </li>
                           <li>
                              <p>Exclusion lists, which enable you to designate a set of PDBs that are not upgraded</p>
                           </li>
                        </ul>
                     </div>
                     <div class="infoboxnote" id="GUID-4CB1CB0C-E893-41F6-A1A5-2E2BE1A706AF__GUID-A679BA33-EE92-487D-839F-6426BE4B665B">
                        <p class="notep1">Note:</p>
                        <p>A PDB cannot be recovered unless it is backed up. After upgrading using the method of creating a CDB and plugging in a PDB, be sure to back up the PDB.</p>
                     </div>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="../bradv/backing-up-database.html#BRADV428" target="_blank"><span><cite>Oracle Database Backup and Recovery Users Guide</cite></span></a></li>
                           <li><a href="../multi/removing-a-pdb.html#ADMIN13623" target="_blank"><span><cite>Oracle Database Administrators Guide</cite></span></a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="manual-upgrade-scenarios-multitenant-architecture-oracle-databases.html#GUID-8F9AAFA1-690D-4F70-8448-E66D765AF136" title="To upgrade pluggable databases (PDBs) that are in an earlier release multitenant container databases (CDBs), Oracle Database Release 12c (12.1.0.1) and later, you can unplug the PDBs from the earlier release CDB, and plug the PDBs into the later release CDB.">Upgrading Multitenant Architecture Sequentially Using Unplug-Plug</a></p>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-F1F89935-A2F1-4C3F-8138-FF34B3F01168" name="GUID-F1F89935-A2F1-4C3F-8138-FF34B3F01168"></a><h4 id="UPGRD-GUID-F1F89935-A2F1-4C3F-8138-FF34B3F01168" class="sect4">Unplugging the Earlier Release PDB from the Earlier Release CDB</h4>
                  <div>
                     <p>To prepare for upgrading the PDB, use this procedure to unplug the PDB from the earlier release CDB. </p>
                     <ol>
                        <li>
                           <p>Run the Pre-Upgrade Information Tool on the PDB.</p>
                           <p>For example, where the PDB named <code class="codeph">salespdb</code> is running in the CDB in <code class="codeph">$ORACLE_HOME_12.2</code>: 
                           </p><pre class="pre codeblock"><code>$ORACLE_HOME_12.2/jdk/bin/java -jar 
$ORACLE_HOME_19/rdbms/admin/preupgrade.jar dir /tmp -c salespdb</code></pre></li>
                        <li>
                           <p>Run <code>preupgrade_fixups.sql</code> on your source database.
                           </p>
                           <p>For example:</p><pre class="pre codeblock"><code>CONNECT / AS SYSDBA
SQL&gt; ALTER SESSION SET CONTAINER=salespdb;

SQL&gt; @/tmp/preupgrade_fixups_salespdb.sql</code></pre></li>
                        <li>
                           <p>Follow all recommendations listed in <code class="codeph">preupgrade.log</code>.
                           </p>
                        </li>
                        <li>
                           <p>Close the PDB you want to unplug.</p>
                           <p>For example, use the following command to close the PDB <code class="codeph">salespdb</code>:
                           </p><pre class="pre codeblock"><code>SQL&gt; ALTER PLUGGABLE DATABASE salespdb CLOSE;
</code></pre></li>
                        <li>
                           <div class="p">Log back in to <code class="codeph">CDB$ROOT</code>:<pre class="pre codeblock"><code>CONNECT / AS SYSDBA
SQL&gt; ALTER SESSION SET CONTAINER=CDB$ROOT;
</code></pre></div>
                        </li>
                        <li>
                           <p>Unplug the earlier release PDB using the following SQL command syntax, where <code class="codeph"><span class="variable" translate="no">pdb</span></code> is the name of the PDB, and <code class="codeph"><span class="variable" translate="no">path</span></code> is the location of the PDB XML file:
                           </p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE <span class="variable" translate="no">pdb</span> UNPLUG INTO '<span class="variable" translate="no">path</span>/<span class="variable" translate="no">pdb</span>.xml';</code></pre><p>For example, where the pdb name is <code class="codeph">salespdb</code> and path is <code>/home/oracle/salespdb.xml</code>: 
                           </p><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER PLUGGABLE DATABASE salespdb UNPLUG INTO '/home/oracle/salespdb.xml';
</pre><p>The following response displays when the command is completed: </p><pre class="pre codeblock"><code>Pluggable database altered</code></pre></li>
                        <li>
                           <p>Drop the pluggable database <code class="codeph">salespdb</code>, but keep data files.
                           </p>
                           <p>Oracle recommends that you drop <code class="codeph">salespdb</code> after this procedure to clean up leftover information in the CDB views, and to help to avoid future issues. As a best practice guideline, back up your PDB in the destination CDB first, and then issue the <code class="codeph">DROP</code> command on the source. 
                           </p>
                           <div class="infoboxnote" id="GUID-F1F89935-A2F1-4C3F-8138-FF34B3F01168__GUID-C961895F-16A0-4D2A-9DCC-B2FDF92447E1">
                              <p class="notep1">Caution:</p>
                              <p>After you drop the PDB from its original CDB, you cannot revert to it using previously taken backup, because the <code class="codeph">DROP</code> command removes backup files.
                              </p>
                           </div>
                           <p>To drop the pluggable database, enter the following command:</p><pre class="pre codeblock"><code>SQL&gt; DROP PLUGGABLE DATABASE salespdb KEEP DATAFILES; </code></pre></li>
                        <li>
                           <p>Exit. </p>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="manual-upgrade-scenarios-multitenant-architecture-oracle-databases.html#GUID-8F9AAFA1-690D-4F70-8448-E66D765AF136" title="To upgrade pluggable databases (PDBs) that are in an earlier release multitenant container databases (CDBs), Oracle Database Release 12c (12.1.0.1) and later, you can unplug the PDBs from the earlier release CDB, and plug the PDBs into the later release CDB.">Upgrading Multitenant Architecture Sequentially Using Unplug-Plug</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-E188F65A-8AE8-494F-80BD-7060AE02769E" name="GUID-E188F65A-8AE8-494F-80BD-7060AE02769E"></a><h4 id="UPGRD-GUID-E188F65A-8AE8-494F-80BD-7060AE02769E" class="sect4">Plugging in the Earlier Release PDB to the Later Release CDB</h4>
                  <div>
                     <p>To Plug the PDB from the earlier release CDB to the later release CDB, use the <code class="codeph">CREATE PLUGGABLE DATABASE</code> command. 
                     </p>
                     <p>This procedure example shows how to plug in a PDB when you are using Oracle-Managed Files. Refer to <cite>Oracle Database Administrators Guide</cite> for additional information about plugging in PDBs. 
                     </p>
                     <ol>
                        <li>
                           <p>Connect to the later release CDB.</p>
                        </li>
                        <li>
                           <p>Plug in the earlier release PDB using the following SQL command, where <code class="codeph"><span class="variable" translate="no">pdb</span></code> is the name of the PDB, and <code class="codeph"><span class="variable" translate="no">path</span></code> is the path where the PDB XML file is located:
                           </p>
                           <p><kbd class="userinput">CREATE PLUGGABLE DATABASE <span class="variable" translate="no">pdb</span> USING '<span class="variable" translate="no">path</span>/<span class="variable" translate="no">pdb</span>.xml';</kbd></p>
                           <p>For example:</p><pre class="pre codeblock"><code>SQL&gt; CREATE PLUGGABLE DATABASE salespdb USING '/home/oracle/salespdb.xml';
</code></pre><p>The following response displays when the command is completed:</p><pre class="pre codeblock"><code>Pluggable database created.</code></pre></li>
                     </ol>
                     <div class="infoboxnote" id="GUID-E188F65A-8AE8-494F-80BD-7060AE02769E__GUID-BDDDAFBC-3C75-4D12-9D3F-D42AEC7037BD">
                        <p class="notep1">Note:</p>
                        <p>When you plug in an earlier release PDB, the PDB is in restricted mode. You can only open the PDB for upgrade.</p>
                     </div>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="../multi/plugging-in-a-pdb.html#ADMIN13553" target="_blank"><span><cite>Oracle Database Administrators Guide</cite></span></a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="manual-upgrade-scenarios-multitenant-architecture-oracle-databases.html#GUID-8F9AAFA1-690D-4F70-8448-E66D765AF136" title="To upgrade pluggable databases (PDBs) that are in an earlier release multitenant container databases (CDBs), Oracle Database Release 12c (12.1.0.1) and later, you can unplug the PDBs from the earlier release CDB, and plug the PDBs into the later release CDB.">Upgrading Multitenant Architecture Sequentially Using Unplug-Plug</a></p>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-99657846-6859-43BF-A514-0C8A7786734D" name="GUID-99657846-6859-43BF-A514-0C8A7786734D"></a><h4 id="UPGRD-GUID-99657846-6859-43BF-A514-0C8A7786734D" class="sect4">Upgrading the Earlier Release PDB to the Later Release</h4>
                  <div>
                     <p>Open PDBs in <code class="codeph">UPGRADE</code> mode use the Parallel Upgrade Utility to carry out the upgrade of the earlier-release PDB to the release level of the CDB.
                     </p>
                     <ol>
                        <li>
                           <p>If needed, switch to the PDB that you want to upgrade. For example, enter the following command to switch to the PDB <code class="codeph">salespdb</code>:
                           </p><pre class="pre codeblock"><code>SQL&gt; ALTER SESSION SET CONTAINER=salespdb;</code></pre></li>
                        <li>
                           <p>Open the PDB in UPGRADE mode.</p><pre class="pre codeblock"><code>SQL&gt; ALTER PLUGGABLE DATABASE OPEN UPGRADE;
</code></pre></li>
                        <li>
                           <p>Upgrade the PDB using the Parallel Upgrade Utility command (<code>catctl.pl</code>, or the shell utility <code>dbupgrade</code>). 
                           </p>
                           <p>When you upgrade a PDB, you use the commands you normally use with the Parallel Upgrade Utility. However, you also add the option <code class="codeph">-c <span class="variable" translate="no">PDBname</span></code> to specify which PDB you are upgrading. Capitalize the name of your PDB as shown in the following example using the PDB named <code class="codeph">salespdb</code>:
                           </p><pre class="pre codeblock"><code>$ORACLE_HOME/perl/bin/perl $ORACLE_HOME/rdbms/admin/catctl.pl -d  \
$ORACLE_HOME/rdbms/admin -c 'salespdb' -l $ORACLE_BASE catupgrd.sql</code></pre></li>
                        <li>
                           <p>Review results. </p>
                           <p>The default file path for the logs is in the path <code><span class="variable" translate="no">Oracle_base</span>/cfgtoollogs/<span class="variable" translate="no">dbname</span>/<span class="variable" translate="no">upgradedatetime</span></code>, where <code class="codeph"><span class="variable" translate="no">Oracle_base</span></code> is the Oracle base path, <code class="codeph"><span class="variable" translate="no">dbname</span></code> is the database name, and <code class="codeph"><span class="variable" translate="no">upgradedatetime</span></code> is the date and time for the upgrade. The date and time strings are in the character string format <span class="variable" translate="no">YYYY</span><span class="variable" translate="no">MM</span><span class="variable" translate="no">DD</span><span class="variable" translate="no">HH</span><span class="variable" translate="no">MM</span><span class="variable" translate="no">SC</span>, in which <span class="variable" translate="no">YYYY</span> designates the year, <span class="variable" translate="no">MM</span> designates the month, <span class="variable" translate="no">DD</span> designates the day, <span class="variable" translate="no">HH</span> designates the hour, <span class="variable" translate="no">MM</span> designates the minute, and <span class="variable" translate="no">SC</span> designates the second.
                           </p>
                           <p>For example:</p><pre class="pre codeblock"><code>$ORACLE_BASE/cfgtoollogs/salespdb/upgrade20181015120001/upg_summary.log
</code></pre></li>
                        <li>
                           <p>Log in to SQL*Plus, and open the PDB to execute post-upgrade fixups, and to recompile the <code class="codeph">INVALID</code> objects in the database:
                           </p><pre class="pre codeblock"><code>SQL&gt; STARTUP;
SQL&gt; ALTER SESSION SET CONTAINER=salespdb;
</code></pre></li>
                        <li>
                           <p>Use the utility <code>catcon.pl</code> to run the script <code>postupgrade_fixups.sql</code>:
                           </p><pre class="pre codeblock"><code>$ORACLE_HOME/perl/bin/perl catcon.pl &#x2013;c 'salespdb' -n 1 -e -b postfixups -d '''.''' /tmp/cfgtoollogs/salespdb/preupgrade/postupgrade_fixups.sql</code></pre></li>
                        <li>
                           <p>Use the utility <code class="codeph">catcon.pl</code> to run <code>utlrp.sql</code> from the <code>$ORACLE_HOME/rdbms/admin</code> directory:
                           </p><pre class="pre codeblock"><code>$ORACLE_HOME/perl/bin/perl catcon.pl &#x2013;c 'salespdb'-n 1 -e -b comp -d '''.''' utlrp.sql</code></pre><p>The script recompiles <code class="codeph">INVALID</code> objects in the database, and places a log file in the current directory with the name <code class="codeph">comp0.log</code>.
                           </p>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="manual-upgrade-scenarios-multitenant-architecture-oracle-databases.html#GUID-8F9AAFA1-690D-4F70-8448-E66D765AF136" title="To upgrade pluggable databases (PDBs) that are in an earlier release multitenant container databases (CDBs), Oracle Database Release 12c (12.1.0.1) and later, you can unplug the PDBs from the earlier release CDB, and plug the PDBs into the later release CDB.">Upgrading Multitenant Architecture Sequentially Using Unplug-Plug</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-466B8807-EE9F-477E-BE59-600044BA882B" name="GUID-466B8807-EE9F-477E-BE59-600044BA882B"></a><h4 id="UPGRD-GUID-466B8807-EE9F-477E-BE59-600044BA882B" class="sect4">Use Inclusion or Exclusion Lists for PDB Upgrades</h4>
                  <div>
                     <p>If you want to upgrade a subset of earlier release PDBs, then use inclusion or exclusion lists to avoid reupgrading the CDB or PDBs that are at the new release level.</p>
                     <p>Oracle recommends that you record the containers that you upgrade, and use inclusion or exclusion lists to exclude these containers from successive bulk upgrades. Excluding upgraded containers from successive bulk upgrades ensures that the upgrade only runs on PDBs that require the upgrade. Avoiding reupgrades minimizes the overall upgrade time, and avoids unnecessary unavailability.</p>
                     <p>For example: If you have installed Oracle Database using a multitenant architecture deployment, then the containers <code class="codeph">CDB$ROOT</code>, <code class="codeph">PDB$SEED</code>, and any other PDBs created when the CDB was created, are part of the new release multitenant architecture. If you upgraded a CDB, and at the same time upgraded a set of PDBs to the new release, then you do not need to upgrade either the CDB containers or the upgraded PDBs again. 
                     </p>
                     <div class="p">In either case, when you plug in earlier release PDBs and then upgrade them, upgrade the PDBs with either an exclusion list, or an inclusion list:
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Use an inclusion list to specify only the set of PDBs that you want to upgrade.</p>
                           </li>
                           <li>
                              <p>Use an exclusion list to exclude the CDB and PDB containers that are already upgraded.</p>
                           </li>
                        </ul>If you do not use an inclusion list or an exclusion list to limit the upgrade scope, then the Parallel Upgrade Utility (<code>catctl.pl</code>) attempts to upgrade the entire CDB, not just the PDBs that require the upgrade. During that upgrade process, your system undergoes needless downtime. The inclusion list and the exclusion list options are mutually exclusive.
                     </div>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="manual-upgrade-scenarios-multitenant-architecture-oracle-databases.html#GUID-8F9AAFA1-690D-4F70-8448-E66D765AF136" title="To upgrade pluggable databases (PDBs) that are in an earlier release multitenant container databases (CDBs), Oracle Database Release 12c (12.1.0.1) and later, you can unplug the PDBs from the earlier release CDB, and plug the PDBs into the later release CDB.">Upgrading Multitenant Architecture Sequentially Using Unplug-Plug</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='02878.configuring-radius-authentication.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="RADIUS is a client/server security protocol widely used to enable remote authentication and access.">
      <meta name="description" content="RADIUS is a client/server security protocol widely used to enable remote authentication and access.">
      <title>Configuring RADIUS Authentication</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Security Guide ">
      <meta property="og:description" content="RADIUS is a client/server security protocol widely used to enable remote authentication and access.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Security Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-security-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-28T14:57:12-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96299-04">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="configuring-secure-sockets-layer-authentication.html" title="Previous" type="text/html">
      <link rel="next" href="customizing-the-use-of-strong-authentication.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Security Guide">
    <meta name="dcterms.isVersionOf" content="DBSEG">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="configuring-secure-sockets-layer-authentication.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="customizing-the-use-of-strong-authentication.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Security Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part_5.html" property="item" typeof="WebPage"><span property="name">Managing Strong Authentication</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Configuring RADIUS Authentication</li>
            </ol>
            <a id="GUID-98AC340E-3D64-4EFF-B1AC-BA1D58ECF0AB" name="GUID-98AC340E-3D64-4EFF-B1AC-BA1D58ECF0AB"></a>
            
            <h2 id="DBSEG-GUID-98AC340E-3D64-4EFF-B1AC-BA1D58ECF0AB" class="sect2"><span class="enumeration_chapter">22 </span> Configuring RADIUS Authentication
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>RADIUS is a client/server security protocol widely used to enable remote authentication and access. </p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-7FE4DC4F-2E1B-4CEC-928C-39D8A953ED73">About Configuring RADIUS Authentication</a><br>An Oracle Database network can use any authentication method that supports the RADIUS standard. 
                  </li>
                  <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-E9E20E9D-EA34-4DEB-8AEA-3792237C2D97">RADIUS Components</a><br>RADIUS has a set of authentication components that enable you to manage configuration settings.
                  </li>
                  <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-CA403763-428A-4046-A2B1-D044D4809A46">RADIUS Authentication Modes</a><br>User authentication can take place either through synchronous authentication mode or challenge-response (asynchronous) authentication mode. 
                  </li>
                  <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-3A60355A-1F6A-40FC-ADFE-CBF8FCF42E4B">Enabling RADIUS Authentication, Authorization, and Accounting</a><br>To enable RADIUS authentication, authorization, and accounting, you can use Oracle Net Manager. 
                  </li>
                  <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-4B810D96-A2D6-4F16-8664-57F99DD8D2A0">Using RADIUS to Log in to a Database</a><br>You can use RADIUS to log into a database by using either synchronous authentication mode or challenge-response mode.
                  </li>
                  <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-CFBB6D7D-067C-41A4-A284-A183170B1FEB">RSA ACE/Server Configuration Checklist</a><br>If you are using an RSA ACE/Server RADIUS server, check the host agent and SecurID tokens for this server before making the initial connection.
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="part_5.html" title="Part V describes how to manage strong authentication.">Managing Strong Authentication</a></p>
                  </div>
               </div>
            </div>
            <a id="DBSEG10183"></a><a id="DBSEG040"></a><a id="DBSEG9614"></a><div class="sect2"><a id="GUID-7FE4DC4F-2E1B-4CEC-928C-39D8A953ED73" name="GUID-7FE4DC4F-2E1B-4CEC-928C-39D8A953ED73"></a><h3 id="DBSEG-GUID-7FE4DC4F-2E1B-4CEC-928C-39D8A953ED73" class="sect3">About Configuring RADIUS Authentication</h3>
               <div>
                  <p>An Oracle Database network can use any authentication method that supports the RADIUS standard. </p>
                  <p>The supported RADIUS standard includes token cards and smart cards when you install and configure the RADIUS protocol. Oracle Database uses RADIUS in a client/server network environment. Moreover, when you use RADIUS, you can change the authentication method without modifying either the Oracle client or the Oracle database server.</p>
                  <p>From an end user's perspective, the entire authentication process is transparent. When the user seeks access to an Oracle database server, the Oracle database server, acting as the RADIUS client, notifies the RADIUS server. The RADIUS server then:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Looks up the user's security information</p>
                     </li>
                     <li>
                        <p>Passes authentication and authorization information between the appropriate authentication server or servers and the Oracle database server</p>
                     </li>
                     <li>
                        <p>Grants the user access to the Oracle database server</p>
                     </li>
                     <li>
                        <p>Logs session information, including when, how often, and for how long the user was connected to the Oracle database server</p>
                        <div class="infoboxnote" id="GUID-7FE4DC4F-2E1B-4CEC-928C-39D8A953ED73__GUID-EFBC1B68-3ADB-4DDD-B9C3-A3541B54F8FC">
                           <p class="notep1">Note:</p>
                           <p>Oracle Database does not support RADIUS authentication over database links.</p>
                        </div>
                     </li>
                  </ul>
                  <p><a href="configuring-radius-authentication.html#GUID-7FE4DC4F-2E1B-4CEC-928C-39D8A953ED73__I1006139">Figure 22-1</a> illustrates the Oracle Database-RADIUS environment.
                  </p>
                  <div class="figure" id="GUID-7FE4DC4F-2E1B-4CEC-928C-39D8A953ED73__I1006139">
                     <p class="titleinfigure">Figure 22-1 RADIUS in an Oracle Environment</p><img src="img/asoag003.gif" alt="Description of Figure 22-1 follows" title="Description of Figure 22-1 follows" longdesc="img_text/asoag003.html"><br><a href="img_text/asoag003.html">Description of "Figure 22-1 RADIUS in an Oracle Environment"</a></div>
                  <!-- class="figure" -->
                  <p>The Oracle Database server acts as the RADIUS client, passing information between the Oracle client and the RADIUS server. Similarly, the RADIUS server passes information between the Oracle database server and the appropriate authentication servers. </p>
                  <p>A RADIUS server vendor is often the authentication server vendor as well. In this case authentication can be processed on the RADIUS server. For example, the RSA ACE/Server is both a RADIUS server and an authentication server. It thus authenticates the user's pass code.</p>
                  <div class="infoboxnote" id="GUID-7FE4DC4F-2E1B-4CEC-928C-39D8A953ED73__GUID-64A6F86B-C120-4487-836B-9DB3B3BF6FE1">
                     <p class="notep1">Note:</p>
                     <p>SecurID, an authentication product of RSA Security, Inc., though not directly supported by Oracle Database, has been certified as RADIUS-compliant. You can therefore, run SecurID under RADIUS.</p>
                     <p>Refer to the RSA Security SecurID documentation for further information.</p>
                  </div>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-7FE4DC4F-2E1B-4CEC-928C-39D8A953ED73__GUID-9D0E3E3A-1033-4E40-B36B-E6CA125B1984">
                     <p class="notep1">See Also:</p>
                     <p><a href="../netrf/index.html" target="_blank"><span><cite>Oracle Database Net Services Reference</cite></span></a> for information about the <code class="codeph">sqlnet.ora</code> file
                     </p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="configuring-radius-authentication.html#GUID-98AC340E-3D64-4EFF-B1AC-BA1D58ECF0AB" title="RADIUS is a client/server security protocol widely used to enable remote authentication and access.">Configuring RADIUS Authentication</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DBSEG10184"></a><div class="props_rev_3"><a id="GUID-E9E20E9D-EA34-4DEB-8AEA-3792237C2D97" name="GUID-E9E20E9D-EA34-4DEB-8AEA-3792237C2D97"></a><h3 id="DBSEG-GUID-E9E20E9D-EA34-4DEB-8AEA-3792237C2D97" class="sect3">RADIUS Components</h3>
               <div>
                  <p>RADIUS has a set of authentication components that enable you to manage configuration settings.</p>
                  <p><a href="configuring-radius-authentication.html#GUID-E9E20E9D-EA34-4DEB-8AEA-3792237C2D97__BABFHGBI" title="This table lists RADIUS authentication components and describes what information is stored in each component.">Table 22-1</a> lists the authentication components.
                  </p>
                  <div class="tblformal" id="GUID-E9E20E9D-EA34-4DEB-8AEA-3792237C2D97__BABFHGBI">
                     <p class="titleintable">Table 22-1 RADIUS Authentication Components</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="RADIUS Authentication Components" summary="This table lists RADIUS authentication components and describes what information is stored in each component." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="28%" id="d141335e429">Component</th>
                              <th align="left" valign="bottom" width="72%" id="d141335e432">Stored Information</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d141335e437" headers="d141335e429 ">
                                 <p>Oracle client</p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d141335e437 d141335e432 ">
                                 <p>Configuration setting for communicating through RADIUS.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d141335e444" headers="d141335e429 ">
                                 <p>Oracle database server/RADIUS client</p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d141335e444 d141335e432 ">
                                 <p>Configuration settings for passing information between the Oracle client&nbsp;and the RADIUS server.</p>
                                 <p>The secret key file.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d141335e453" headers="d141335e429 ">
                                 <p>RADIUS server</p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d141335e453 d141335e432 ">
                                 <p>Authentication and authorization information for all users.</p>
                                 <p>Each client's name or IP address.</p>
                                 <p>Each client's shared secret.</p>
                                 <p>Unlimited number of menu files enabling users already authenticated to select different login options without reconnecting.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d141335e466" headers="d141335e429 ">
                                 <p>Authentication server or servers</p>
                              </td>
                              <td align="left" valign="top" width="72%" headers="d141335e466 d141335e432 ">
                                 <p>User authentication information such as pass codes and PINs, depending&nbsp;on the authentication method in use.</p>
                                 <p><span class="bold">Note: </span>The RADIUS server can also be the authentication server.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="configuring-radius-authentication.html#GUID-98AC340E-3D64-4EFF-B1AC-BA1D58ECF0AB" title="RADIUS is a client/server security protocol widely used to enable remote authentication and access.">Configuring RADIUS Authentication</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DBSEG9615"></a><div class="sect2"><a id="GUID-CA403763-428A-4046-A2B1-D044D4809A46" name="GUID-CA403763-428A-4046-A2B1-D044D4809A46"></a><h3 id="DBSEG-GUID-CA403763-428A-4046-A2B1-D044D4809A46" class="sect3">RADIUS Authentication Modes</h3>
               <div>
                  <p>User authentication can take place either through synchronous authentication mode or challenge-response (asynchronous) authentication mode. </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-2507AAFB-90BE-4163-9327-864A0AF239B5">Synchronous Authentication Mode</a><br>In the synchronous mode, RADIUS lets you use various authentication methods, including passwords and SecurID token cards. 
                     </li>
                     <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-DF72F473-D660-44C1-9F49-2909943C8F07">Challenge-Response (Asynchronous) Authentication Mode</a><br>When the system uses the asynchronous mode, the user does not need to enter a user name and password at the SQL*Plus CONNECT string.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="configuring-radius-authentication.html#GUID-98AC340E-3D64-4EFF-B1AC-BA1D58ECF0AB" title="RADIUS is a client/server security protocol widely used to enable remote authentication and access.">Configuring RADIUS Authentication</a></p>
                     </div>
                  </div>
               </div>
               <a id="DBSEG9616"></a><div class="sect3"><a id="GUID-2507AAFB-90BE-4163-9327-864A0AF239B5" name="GUID-2507AAFB-90BE-4163-9327-864A0AF239B5"></a><h4 id="DBSEG-GUID-2507AAFB-90BE-4163-9327-864A0AF239B5" class="sect4">Synchronous Authentication Mode</h4>
                  <div>
                     <p>In the synchronous mode, RADIUS lets you use various authentication methods, including passwords and SecurID token cards. </p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-BBD7AF56-FD01-464B-A933-51ED84A056AC">Sequence for Synchronous Authentication Mode</a><br>The sequence of synchronous authentication mode is comprised of six steps. 
                        </li>
                        <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-8229DDD6-D73A-4BCB-802D-4B140CB4C7EE">Example: Synchronous Authentication with SecurID Token Cards</a><br>With SecurID authentication, each user has a token card that displays a dynamic number that changes every sixty seconds. 
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="configuring-radius-authentication.html#GUID-CA403763-428A-4046-A2B1-D044D4809A46" title="User authentication can take place either through synchronous authentication mode or challenge-response (asynchronous) authentication mode.">RADIUS Authentication Modes</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="DBSEG10185"></a><a id="DBSEG1080"></a><div class="sect4"><a id="GUID-BBD7AF56-FD01-464B-A933-51ED84A056AC" name="GUID-BBD7AF56-FD01-464B-A933-51ED84A056AC"></a><h5 id="DBSEG-GUID-BBD7AF56-FD01-464B-A933-51ED84A056AC" class="sect5">Sequence for Synchronous Authentication Mode</h5>
                     <div>
                        <p>The sequence of synchronous authentication mode is comprised of six steps. </p>
                        <p><a href="configuring-radius-authentication.html#GUID-BBD7AF56-FD01-464B-A933-51ED84A056AC__I1006212">Figure 22-2</a> shows the sequence in which synchronous authentication occurs.
                        </p>
                        <div class="figure" id="GUID-BBD7AF56-FD01-464B-A933-51ED84A056AC__I1006212">
                           <p class="titleinfigure">Figure 22-2 Synchronous Authentication Sequence</p><img src="img/asoag010.gif" alt="Description of Figure 22-2 follows" title="Description of Figure 22-2 follows" longdesc="img_text/asoag010.html"><br><a href="img_text/asoag010.html">Description of "Figure 22-2 Synchronous Authentication Sequence"</a></div>
                        <!-- class="figure" -->
                        <p>The following steps describe the synchronous authentication sequence:</p>
                        <ol>
                           <li>
                              <p>A user logs in by entering a connect string, pass code, or other value. The client system passes this data to the Oracle database server.</p>
                           </li>
                           <li>
                              <p>The Oracle database server, acting as the RADIUS client, passes the data from the Oracle client to the RADIUS server.</p>
                           </li>
                           <li>
                              <p>The RADIUS server passes the data to the appropriate authentication server, such as Smart Card or SecurID ACE for validation.</p>
                           </li>
                           <li>
                              <p>The authentication server sends either an Access Accept or an Access Reject message back to the RADIUS server.</p>
                           </li>
                           <li>
                              <p>The RADIUS server passes this response to the Oracle database server/RADIUS client.</p>
                           </li>
                           <li>
                              <p>The Oracle database server/RADIUS client passes the response back to the Oracle client.</p>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="configuring-radius-authentication.html#GUID-2507AAFB-90BE-4163-9327-864A0AF239B5" title="In the synchronous mode, RADIUS lets you use various authentication methods, including passwords and SecurID token cards.">Synchronous Authentication Mode</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG1081"></a><div class="sect4"><a id="GUID-8229DDD6-D73A-4BCB-802D-4B140CB4C7EE" name="GUID-8229DDD6-D73A-4BCB-802D-4B140CB4C7EE"></a><h5 id="DBSEG-GUID-8229DDD6-D73A-4BCB-802D-4B140CB4C7EE" class="sect5">Example: Synchronous Authentication with SecurID Token Cards</h5>
                     <div>
                        <p>With SecurID authentication, each user has a token card that displays a dynamic number that changes every sixty seconds. </p>
                        <p>To gain access to the Oracle database server/RADIUS client, the user enters a valid pass code that includes both a personal identification number (PIN) and the dynamic number currently displayed on the user's SecurID card. The Oracle database server passes this authentication information from the Oracle client to the RADIUS server, which in this case is the authentication server for validation. Once the authentication server (RSA ACE/Server) validates the user, it sends an <span class="italic">accept </span>packet to the Oracle database server, which, in turn, passes it to the Oracle client. The user is now authenticated and able to access the appropriate tables and applications.
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-8229DDD6-D73A-4BCB-802D-4B140CB4C7EE__GUID-BD47274B-6F7A-4586-98B7-3D7CA41BC1C5">
                           <p class="notep1">See Also:</p>
                           <p>Documentation provided by RSA Security, Inc.</p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="configuring-radius-authentication.html#GUID-2507AAFB-90BE-4163-9327-864A0AF239B5" title="In the synchronous mode, RADIUS lets you use various authentication methods, including passwords and SecurID token cards.">Synchronous Authentication Mode</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="DBSEG9617"></a><div class="sect3"><a id="GUID-DF72F473-D660-44C1-9F49-2909943C8F07" name="GUID-DF72F473-D660-44C1-9F49-2909943C8F07"></a><h4 id="DBSEG-GUID-DF72F473-D660-44C1-9F49-2909943C8F07" class="sect4">Challenge-Response (Asynchronous) Authentication Mode</h4>
                  <div>
                     <p>When the system uses the asynchronous mode, the user does not need to enter a user name and password at the SQL*Plus CONNECT string.</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-08873053-A3E7-4FA9-97BA-96A8178979F0">Sequence for Challenge-Response (Asynchronous) Authentication Mode</a><br>The sequence for challenge-response (asynchronous) authentication mode is comprised of 12 steps. 
                        </li>
                        <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-7BC2AF1F-022F-4DBD-950B-0D7A3092550B">Example: Asynchronous Authentication with Smart Cards</a><br>With smart card authentication, the user logs in by inserting the smart card into a smart card reader that reads the smart card. 
                        </li>
                        <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-43F2FA72-C4AC-4522-AD2F-3E1E49450E95">Example: Asynchronous Authentication with ActivCard Tokens</a><br>One particular ActivCard token is a hand-held device with a keypad and which displays a dynamic password. 
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="configuring-radius-authentication.html#GUID-CA403763-428A-4046-A2B1-D044D4809A46" title="User authentication can take place either through synchronous authentication mode or challenge-response (asynchronous) authentication mode.">RADIUS Authentication Modes</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="DBSEG10187"></a><a id="DBSEG1082"></a><div class="sect4"><a id="GUID-08873053-A3E7-4FA9-97BA-96A8178979F0" name="GUID-08873053-A3E7-4FA9-97BA-96A8178979F0"></a><h5 id="DBSEG-GUID-08873053-A3E7-4FA9-97BA-96A8178979F0" class="sect5">Sequence for Challenge-Response (Asynchronous) Authentication Mode</h5>
                     <div>
                        <p>The sequence for challenge-response (asynchronous) authentication mode is comprised of 12 steps. </p>
                        <p><a href="configuring-radius-authentication.html#GUID-08873053-A3E7-4FA9-97BA-96A8178979F0__I1006264">Figure 22-3</a> shows the sequence in which challenge-response (asynchronous) authentication occurs.
                        </p>
                        <div class="infoboxnote" id="GUID-08873053-A3E7-4FA9-97BA-96A8178979F0__GUID-5932D0C2-A8B8-478A-86FF-8A517DE36C01">
                           <p class="notep1">Note:</p>
                           <p>If the RADIUS server is the authentication server, Steps 3, 4, and 5, and Steps 9, 10, and 11 in <a href="configuring-radius-authentication.html#GUID-08873053-A3E7-4FA9-97BA-96A8178979F0__I1006264">Figure 22-3</a> are combined.
                           </p>
                        </div>
                        <div class="figure" id="GUID-08873053-A3E7-4FA9-97BA-96A8178979F0__I1006264">
                           <p class="titleinfigure">Figure 22-3 Asynchronous Authentication Sequence</p><img src="img/asoag011.gif" alt="Description of Figure 22-3 follows" title="Description of Figure 22-3 follows" longdesc="img_text/asoag011.html"><br><a href="img_text/asoag011.html">Description of "Figure 22-3 Asynchronous Authentication Sequence"</a></div>
                        <!-- class="figure" -->
                        <p>The following steps describe the asynchronous authentication sequence:</p>
                        <ol>
                           <li>
                              <p>A user initiates a connection to an Oracle database server. The client system passes the data to the Oracle database server.</p>
                           </li>
                           <li>
                              <p>The Oracle database server, acting as the RADIUS client, passes the data from the Oracle client to the RADIUS server.</p>
                           </li>
                           <li>
                              <p>The RADIUS server passes the data to the appropriate authentication server, such as a Smart Card, SecurID ACE, or token card server.</p>
                           </li>
                           <li>
                              <p>The authentication server sends a challenge, such as a random number, to the RADIUS server.</p>
                           </li>
                           <li>
                              <p>The RADIUS server passes the challenge to the Oracle database server/RADIUS client.</p>
                           </li>
                           <li>
                              <p>The Oracle database server/RADIUS client, in turn, passes it to the Oracle client. A graphical user interface presents the challenge to the user.</p>
                           </li>
                           <li>
                              <p>The user provides a response to the challenge. To formulate a response, the user can, for example, enter the received challenge into the token card. The token card provides a dynamic password that is entered into the graphical user interface. The Oracle client passes the user's response to the Oracle database server/RADIUS client.</p>
                           </li>
                           <li>
                              <p>The Oracle database server/RADIUS client sends the user's response to the RADIUS server.</p>
                           </li>
                           <li>
                              <p>The RADIUS server passes the user's response to the appropriate authentication server for validation.</p>
                           </li>
                           <li>
                              <p>The authentication server sends either an Access Accept or an Access Reject message back to the RADIUS server.</p>
                           </li>
                           <li>
                              <p>The RADIUS server passes the response to the Oracle database server/RADIUS client.</p>
                           </li>
                           <li>
                              <p>The Oracle database server/RADIUS client passes the response to the Oracle client.</p>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="configuring-radius-authentication.html#GUID-DF72F473-D660-44C1-9F49-2909943C8F07" title="When the system uses the asynchronous mode, the user does not need to enter a user name and password at the SQL*Plus CONNECT string.">Challenge-Response (Asynchronous) Authentication Mode</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG1083"></a><div class="sect4"><a id="GUID-7BC2AF1F-022F-4DBD-950B-0D7A3092550B" name="GUID-7BC2AF1F-022F-4DBD-950B-0D7A3092550B"></a><h5 id="DBSEG-GUID-7BC2AF1F-022F-4DBD-950B-0D7A3092550B" class="sect5">Example: Asynchronous Authentication with Smart Cards</h5>
                     <div>
                        <p>With smart card authentication, the user logs in by inserting the smart card into a smart card reader that reads the smart card. </p>
                        <p>The smart card is a plastic card, like a credit card, with an embedded integrated circuit for storing information. </p>
                        <p>The Oracle client sends the login information contained in the smart card to the authentication server by way of the Oracle database server/RADIUS client and the RADIUS server. The authentication server sends back a challenge to the Oracle client, by way of the RADIUS server and the Oracle database server, prompting the user for authentication information. The information could be, for example, a PIN as well as additional authentication information contained on the smart card. </p>
                        <p>The Oracle client sends the user's response to the authentication server by way of the Oracle database server and the RADIUS server. If the user has entered a valid number, the authentication server sends an <span class="italic">accept </span>packet back to the Oracle client by way of the RADIUS server and the Oracle database server. The user is now authenticated and authorized to access the appropriate tables and applications. If the user has entered incorrect information, the authentication server sends back a message rejecting user's access.
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="configuring-radius-authentication.html#GUID-DF72F473-D660-44C1-9F49-2909943C8F07" title="When the system uses the asynchronous mode, the user does not need to enter a user name and password at the SQL*Plus CONNECT string.">Challenge-Response (Asynchronous) Authentication Mode</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG1084"></a><div class="sect4"><a id="GUID-43F2FA72-C4AC-4522-AD2F-3E1E49450E95" name="GUID-43F2FA72-C4AC-4522-AD2F-3E1E49450E95"></a><h5 id="DBSEG-GUID-43F2FA72-C4AC-4522-AD2F-3E1E49450E95" class="sect5">Example: Asynchronous Authentication with ActivCard Tokens</h5>
                     <div>
                        <p>One particular ActivCard token is a hand-held device with a keypad and which displays a dynamic password. </p>
                        <p>When the user seeks access to an Oracle database server by entering a password, the information is passed to the appropriate authentication server by way of the Oracle database server/RADIUS client and the RADIUS server. The authentication server sends back a challenge to the client, by way of the RADIUS server and the Oracle database server. The user types that challenge into the token, and the token displays a number for the user to send in response. </p>
                        <p>The Oracle client then sends the user's response to the authentication server by way of the Oracle database server and the RADIUS server. If the user has typed a valid number, the authentication server sends an <span class="italic">accept</span> packet back to the Oracle client by way of the RADIUS server and the Oracle database server. The user is now authenticated and authorized to access the appropriate tables and applications. If the user has entered an incorrect response, the authentication server sends back a message rejecting the user's access.
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="configuring-radius-authentication.html#GUID-DF72F473-D660-44C1-9F49-2909943C8F07" title="When the system uses the asynchronous mode, the user does not need to enter a user name and password at the SQL*Plus CONNECT string.">Challenge-Response (Asynchronous) Authentication Mode</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div><a id="DBSEG9618"></a><div class="sect2"><a id="GUID-3A60355A-1F6A-40FC-ADFE-CBF8FCF42E4B" name="GUID-3A60355A-1F6A-40FC-ADFE-CBF8FCF42E4B"></a><h3 id="DBSEG-GUID-3A60355A-1F6A-40FC-ADFE-CBF8FCF42E4B" class="sect3">Enabling RADIUS Authentication, Authorization, and Accounting</h3>
               <div>
                  <p>To enable RADIUS authentication, authorization, and accounting, you can use Oracle Net Manager. </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-BD598474-5DA5-4EA5-AA09-49E42D857E33">Step 1: Configure RADIUS Authentication</a><br>To configure RADIUS authentication, you must first configure it on the Oracle client, then the server. Afterward, you can configure additional RADIUS features.
                     </li>
                     <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-59C87E2B-BE16-4966-84D1-8A230AD00430">Step 2: Create a User and Grant Access</a><br>After you complete the RADIUS authentication, you must create an Oracle Database user who for the RADIUS configuration.
                     </li>
                     <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-9C12EB81-B8BC-4561-A33C-6D67642F9DC5">Step 3: Configure External RADIUS Authorization (Optional)</a><br>You must configure the Oracle server, the Oracle client, and the RADIUS server to RADIUS users who must connect to an Oracle database.
                     </li>
                     <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-FDCC4505-E44B-403B-8D27-5C142DC2B900">Step 4: Configure RADIUS Accounting</a><br>RADIUS accounting logs information about access to the Oracle database server and stores it in a file on the RADIUS accounting server. 
                     </li>
                     <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-10808DCD-5D0F-4FFF-BF57-AE01A90272C7">Step 5: Add the RADIUS Client Name to the RADIUS Server Database</a><br>The RADIUS server that you select must comply with RADIUS standards.
                     </li>
                     <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-B8B193E5-65C1-43FD-8DFD-9DCBAA3F81A3">Step 6: Configure the Authentication Server for Use with RADIUS</a><br>After you add the RADIUS client name to the RADIUS server database, you can configure the authentication server to use the RADIUS.
                     </li>
                     <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-D16696B2-A684-4F7D-A5A6-6A1559B985B2">Step 7: Configure the RADIUS Server for Use with the Authentication Server</a><br>After you configure the authentication server for use with RADIUS, you can configure the RADIUS server to use the authentication server.
                     </li>
                     <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-C9B89594-9CB1-4524-8D9F-EF86F4629DFE">Step 8: Configure Mapping Roles</a><br>If the RADIUS server supports vendor type attributes, then you can manage roles by storing them in the RADIUS server. 
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="configuring-radius-authentication.html#GUID-98AC340E-3D64-4EFF-B1AC-BA1D58ECF0AB" title="RADIUS is a client/server security protocol widely used to enable remote authentication and access.">Configuring RADIUS Authentication</a></p>
                     </div>
                  </div>
               </div>
               <a id="DBSEG9620"></a><div class="sect3"><a id="GUID-BD598474-5DA5-4EA5-AA09-49E42D857E33" name="GUID-BD598474-5DA5-4EA5-AA09-49E42D857E33"></a><h4 id="DBSEG-GUID-BD598474-5DA5-4EA5-AA09-49E42D857E33" class="sect4">Step 1: Configure RADIUS Authentication</h4>
                  <div>
                     <p>To configure RADIUS authentication, you must first configure it on the Oracle client, then the server. Afterward, you can configure additional RADIUS features.</p>
                     <div class="infoboxnote" id="GUID-BD598474-5DA5-4EA5-AA09-49E42D857E33__GUID-2A2883A2-A261-452C-9B0C-E486F7C1124A">
                        <p class="notep1">Note:</p>
                        <p>Unless otherwise indicated, perform these configuration tasks by using Oracle Net Manager or by using any text editor to modify the <code class="codeph">sqlnet.ora</code> file. Be aware that in a multitenant environment, the settings in the <code class="codeph">sqlnet.ora</code> file apply to all pluggable databases (PDBs).
                        </p>
                     </div>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-E90FE3B7-D3D6-4092-A190-7021CB2372ED">Step 1A: Configure RADIUS on the Oracle Client</a><br>You can use Oracle Net Manager to configure RADIUS on the Oracle client.
                        </li>
                        <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-6AE88EBA-424B-4BA4-A50C-CA1943744E74">Step 1B: Configure RADIUS on the Oracle Database Server</a><br>You must create a file to hold the RADIUS key and store this file on the Oracle database server. Then you must configure the appropriate parameters in the <code class="codeph">sqlnet.ora</code> file.
                        </li>
                        <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-E9CC0C68-55EA-4E4D-B91E-87968F794E24">Step 1C: Configure Additional RADIUS Features</a><br>You can change the default settings, configure the challenge-response mode, and set parameters for an alternate RADIUS server.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="configuring-radius-authentication.html#GUID-3A60355A-1F6A-40FC-ADFE-CBF8FCF42E4B" title="To enable RADIUS authentication, authorization, and accounting, you can use Oracle Net Manager.">Enabling RADIUS Authentication, Authorization, and Accounting</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="DBSEG9621"></a><div class="sect4"><a id="GUID-E90FE3B7-D3D6-4092-A190-7021CB2372ED" name="GUID-E90FE3B7-D3D6-4092-A190-7021CB2372ED"></a><h5 id="DBSEG-GUID-E90FE3B7-D3D6-4092-A190-7021CB2372ED" class="sect5">Step 1A: Configure RADIUS on the Oracle Client</h5>
                     <div>
                        <p>You can use Oracle Net Manager to configure RADIUS on the Oracle client.</p>
                        <ol>
                           <li>
                              <p>Start Oracle Net Manager.</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>(UNIX) From <span class="italic"><code class="codeph">$ORACLE_HOME</code></span><code class="codeph">/bin</code>, enter the following command at the command line:
                                    </p><pre class="oac_no_warn" dir="ltr">netmgr
</pre></li>
                                 <li>
                                    <p>(Windows) Select <span class="bold">Start</span>, <span class="bold">Programs</span>, <span class="bold">Oracle - HOME_NAME</span>, <span class="bold">Configuration and Migration Tools</span>, then <span class="bold">Net Manager</span>.
                                    </p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>Expand <span class="bold">Oracle Net Configuration</span>, and from <span class="bold">Local</span>, select <span class="bold">Profile</span>.
                              </p>
                           </li>
                           <li>
                              <p>From the <span class="bold">Naming</span> list, select <span class="bold">Network Security</span>.
                              </p>
                              <p>The Network Security tabbed window appears.</p>
                           </li>
                           <li>
                              <p>Select the <span class="bold">Authentication</span> tab. (It should be selected by default.)
                              </p>
                              <div class="figure" id="GUID-E90FE3B7-D3D6-4092-A190-7021CB2372ED__GUID-94057866-1BAA-4F6E-B4C2-15216084CC7A"><img src="img/radu0001.gif" width="377" alt="Description of radu0001.gif follows" title="Description of radu0001.gif follows" longdesc="img_text/radu0001.html"><br><a href="img_text/radu0001.html">Description of the illustration radu0001.gif</a></div>
                              <!-- class="figure" -->
                           </li>
                           <li>
                              <p>From the Available Methods list, select <span class="bold">RADIUS</span>.
                              </p>
                           </li>
                           <li>
                              <p>Select the right-arrow (<span class="bold">&gt;</span>) to move RADIUS to the <span class="bold">Selected Methods</span> list. 
                              </p>
                              <p>Move any other methods you want to use in the same way.</p>
                           </li>
                           <li>
                              <p>Arrange the selected methods in order of required usage by selecting a method in the Selected Methods list, and clicking <span class="bold">Promote</span> or <span class="bold">Demote</span> to position it in the list. 
                              </p>
                              <p>For example, put RADIUS at the top of the list for it to be the first service used.</p>
                           </li>
                           <li>
                              <p>From the <span class="bold">File</span> menu, select <span class="bold">Save Network Configuration</span>.
                              </p>
                              <p>The <code class="codeph">sqlnet.ora</code> file is updated with the following entry:
                              </p><pre class="oac_no_warn" dir="ltr">SQLNET.AUTHENTICATION_SERVICES=(RADIUS)</pre></li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="configuring-radius-authentication.html#GUID-BD598474-5DA5-4EA5-AA09-49E42D857E33" title="To configure RADIUS authentication, you must first configure it on the Oracle client, then the server. Afterward, you can configure additional RADIUS features.">Step 1: Configure RADIUS Authentication</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG9622"></a><div class="sect4"><a id="GUID-6AE88EBA-424B-4BA4-A50C-CA1943744E74" name="GUID-6AE88EBA-424B-4BA4-A50C-CA1943744E74"></a><h5 id="DBSEG-GUID-6AE88EBA-424B-4BA4-A50C-CA1943744E74" class="sect5">Step 1B: Configure RADIUS on the Oracle Database Server</h5>
                     <div>
                        <p>You must create a file to hold the RADIUS key and store this file on the Oracle database server. Then you must configure the appropriate parameters in the <code class="codeph">sqlnet.ora</code> file.
                        </p>
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-37E7DABB-95B2-4234-B6D2-41AC7F744CD0">Step 1B (1): Create the RADIUS Secret Key File on the Oracle Database Server</a><br>First, you must create the RADIUS secret key file.
                           </li>
                           <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-D72EF3CC-3E3B-4308-8F68-586B8F0DF589">Step 1B (2): Configure RADIUS Parameters on the Server (sqlnet.ora file)</a><br>After you create RADIUS secret key file, you are ready to configure the appropriate parameters in the <code class="codeph">sqlnet.ora</code> file.
                           </li>
                           <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-BF675735-4387-46B1-A1D4-63143AB4E78E">Step 1B (3): Set Oracle Database Server Initialization Parameters</a><br>After you configure the sqlnet.ora file, you must configure the <code class="codeph">init.ora</code> initialization file.
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="configuring-radius-authentication.html#GUID-BD598474-5DA5-4EA5-AA09-49E42D857E33" title="To configure RADIUS authentication, you must first configure it on the Oracle client, then the server. Afterward, you can configure additional RADIUS features.">Step 1: Configure RADIUS Authentication</a></p>
                           </div>
                        </div>
                     </div>
                     <a id="DBSEG10191"></a><div class="sect5"><a id="GUID-37E7DABB-95B2-4234-B6D2-41AC7F744CD0" name="GUID-37E7DABB-95B2-4234-B6D2-41AC7F744CD0"></a><h6 id="DBSEG-GUID-37E7DABB-95B2-4234-B6D2-41AC7F744CD0" class="sect6">Step 1B (1): Create the RADIUS Secret Key File on the Oracle Database Server</h6>
                        <div>
                           <p>First, you must create the RADIUS secret key file.</p>
                           <ol>
                              <li>
                                 <p>Obtain the RADIUS secret key from the RADIUS server. </p>
                                 <p>For each RADIUS client, the administrator of the RADIUS server creates a shared secret key, which must be less than or equal to 16 characters.</p>
                              </li>
                              <li id="GUID-37E7DABB-95B2-4234-B6D2-41AC7F744CD0__CHDGEACB">
                                 <p>On the Oracle database server, create a directory:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>(UNIX) <span class="italic"><code class="codeph">$ORACLE_HOME</code></span><code class="codeph">/network/security</code></p>
                                    </li>
                                    <li>
                                       <p>(Windows) <span class="italic"><code class="codeph">ORACLE_BASE</code></span><code class="codeph">\</code><span class="italic"><code class="codeph">ORACLE_HOME</code></span><code class="codeph">\network\security</code></p>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <p>Create the file <code class="codeph">radius.key</code> to hold the shared secret copied from the RADIUS server. Place the file in the directory you created in Step <a href="configuring-radius-authentication.html#GUID-37E7DABB-95B2-4234-B6D2-41AC7F744CD0__CHDGEACB">2</a>.
                                 </p>
                              </li>
                              <li>
                                 <p>Copy the shared secret key and paste it (and nothing else) into the <code class="codeph">radius.key</code> file created on the Oracle database server.
                                 </p>
                              </li>
                              <li>
                                 <p>For security purposes, change the file permission of <code class="codeph">radius.key</code> to read only, accessible only by the Oracle owner. 
                                 </p>
                                 <p>Oracle relies on the file system to keep this file secret.</p>
                                 <div class="infoboxnotealso" id="GUID-37E7DABB-95B2-4234-B6D2-41AC7F744CD0__GUID-CE58051C-86AE-4017-9ECE-33F8B5A8FFA7">
                                    <p class="notep1">See Also:</p>
                                    <p>The RADIUS server administration documentation, for information about obtaining the secret key</p>
                                 </div>
                              </li>
                           </ol>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="configuring-radius-authentication.html#GUID-6AE88EBA-424B-4BA4-A50C-CA1943744E74" title="You must create a file to hold the RADIUS key and store this file on the Oracle database server. Then you must configure the appropriate parameters in the sqlnet.ora file.">Step 1B: Configure RADIUS on the Oracle Database Server</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="DBSEG10192"></a><div class="sect5"><a id="GUID-D72EF3CC-3E3B-4308-8F68-586B8F0DF589" name="GUID-D72EF3CC-3E3B-4308-8F68-586B8F0DF589"></a><h6 id="DBSEG-GUID-D72EF3CC-3E3B-4308-8F68-586B8F0DF589" class="sect6">Step 1B (2): Configure RADIUS Parameters on the Server (sqlnet.ora file)</h6>
                        <div>
                           <p>After you create RADIUS secret key file, you are ready to configure the appropriate parameters in the <code class="codeph">sqlnet.ora</code> file.
                           </p>
                           <ol>
                              <li>
                                 <p>Start Oracle Net Manager.</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>(UNIX) From <span class="italic"><code class="codeph">$ORACLE_HOME</code></span><code class="codeph">/bin</code>, enter the following command at the command line:
                                       </p><pre class="oac_no_warn" dir="ltr">netmgr
</pre></li>
                                    <li>
                                       <p>(Windows) Select <span class="bold">Start</span>, <span class="bold">Programs</span>, <span class="bold">Oracle - HOME_NAME</span>, <span class="bold">Configuration and Migration Tools</span>, then <span class="bold">Net Manager</span>.
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <p>Expand <span class="bold">Oracle Net Configuration</span>, and from <span class="bold">Local</span>, select <span class="bold">Profile</span>.
                                 </p>
                              </li>
                              <li>
                                 <p>From the <span class="bold">Naming</span> list, select <span class="bold">Network Security</span>.
                                 </p>
                                 <p>The Network Security tabbed window appears.</p>
                              </li>
                              <li>
                                 <p>Select the<span class="bold"> Authentication</span> tab.
                                 </p>
                              </li>
                              <li>
                                 <p>From the Available Methods list, select <span class="bold">RADIUS</span>.
                                 </p>
                              </li>
                              <li>
                                 <p>Move RADIUS to the <span class="bold">Selected Methods</span> list by choosing the right-arrow (<span class="bold">&gt;</span>). 
                                 </p>
                              </li>
                              <li>
                                 <p>To arrange the selected methods in order of desired use, select a method in the Selected Methods list, and select <span class="bold">Promote</span> or <span class="bold">Demote</span> to position it in the list. 
                                 </p>
                                 <p>For example, if you want RADIUS to be the first service used, then put it at the top of the list.</p>
                              </li>
                              <li>
                                 <p>Select the <span class="bold">Other Params</span> tab.
                                 </p>
                              </li>
                              <li>
                                 <p>From the <span class="bold">Authentication Service</span> list, select <span class="bold">RADIUS</span>.
                                 </p>
                              </li>
                              <li>
                                 <p>In the <span class="bold">Host Name</span> field, accept the <span class="bold">localhost</span> as the default primary RADIUS server, or enter another host name.
                                 </p>
                                 <div class="figure" id="GUID-D72EF3CC-3E3B-4308-8F68-586B8F0DF589__GUID-CC6A2DC1-68DC-4F9C-8C63-E27F299F269A"><img src="img/radu0002.gif" alt="Description of radu0002.gif follows" title="Description of radu0002.gif follows" longdesc="img_text/radu0002.html"><br><a href="img_text/radu0002.html">Description of the illustration radu0002.gif</a></div>
                                 <!-- class="figure" -->
                              </li>
                              <li>
                                 <p>Ensure that the default value of the <span class="bold">Secret File</span> field is valid.
                                 </p>
                              </li>
                              <li>
                                 <p>From the <span class="bold">File</span> menu, select <span class="bold">Save Network Configuration</span>.
                                 </p>
                                 <p>The <code class="codeph">sqlnet.ora</code> file is updated with the following entries:
                                 </p><pre class="oac_no_warn" dir="ltr">SQLNET.AUTHENTICATION_SERVICES=RADIUS
SQLNET.RADIUS_AUTHENTICATION=RADIUS_server_{hostname|IP_address}</pre><div class="infoboxnote" id="GUID-D72EF3CC-3E3B-4308-8F68-586B8F0DF589__GUID-9FC19965-1115-4F74-8763-BD842C4AA095">
                                    <p class="notep1">Note:</p>
                                    <p>The <code class="codeph">IP_address</code> can either be an Internet Protocol Version 4 (IPv4) or Internet Protocol Version 6 (IPv6) address. The RADIUS adapter supports both IPv4 and IPv6 based servers.
                                    </p>
                                 </div>
                              </li>
                           </ol>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="configuring-radius-authentication.html#GUID-6AE88EBA-424B-4BA4-A50C-CA1943744E74" title="You must create a file to hold the RADIUS key and store this file on the Oracle database server. Then you must configure the appropriate parameters in the sqlnet.ora file.">Step 1B: Configure RADIUS on the Oracle Database Server</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="DBSEG10194"></a><div class="sect5"><a id="GUID-BF675735-4387-46B1-A1D4-63143AB4E78E" name="GUID-BF675735-4387-46B1-A1D4-63143AB4E78E"></a><h6 id="DBSEG-GUID-BF675735-4387-46B1-A1D4-63143AB4E78E" class="sect6">Step 1B (3): Set Oracle Database Server Initialization Parameters</h6>
                        <div>
                           <p>After you configure the sqlnet.ora file, you must configure the <code class="codeph">init.ora</code> initialization file.
                           </p>
                           <ol>
                              <li>
                                 <p>Add the following setting to the <code class="codeph">init.ora</code> file.
                                 </p><pre class="oac_no_warn" dir="ltr">OS_AUTHENT_PREFIX=""
</pre><p>By default, the <code class="codeph">init.ora</code> file is located in the <span class="italic"><code class="codeph">ORACLE_HOME</code></span><code class="codeph">/dbs</code> directory (or the same location of the data files) on Linux and UNIX systems, and in the <span class="italic"><code class="codeph">ORACLE_HOME</code></span><code class="codeph">\database</code> directory on Windows. 
                                 </p>
                              </li>
                              <li>
                                 <p>Restart the database.</p>
                                 <p>For example: </p><pre class="oac_no_warn" dir="ltr">SQL&gt; SHUTDOWN
SQL&gt; STARTUP</pre></li>
                           </ol>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-BF675735-4387-46B1-A1D4-63143AB4E78E__GUID-ADC9A725-7AAC-45FD-951A-94A49BC41B8E">
                              <p class="notep1">See Also:</p>
                              <p><a href="../refrn/initialization-parameters-2.html#REFRN-GUID-FD266F6F-D047-4EBB-8D96-B51B1DCA2D61" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> for information about setting initialization parameters
                              </p>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="configuring-radius-authentication.html#GUID-6AE88EBA-424B-4BA4-A50C-CA1943744E74" title="You must create a file to hold the RADIUS key and store this file on the Oracle database server. Then you must configure the appropriate parameters in the sqlnet.ora file.">Step 1B: Configure RADIUS on the Oracle Database Server</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div><a id="DBSEG9623"></a><div class="sect4"><a id="GUID-E9CC0C68-55EA-4E4D-B91E-87968F794E24" name="GUID-E9CC0C68-55EA-4E4D-B91E-87968F794E24"></a><h5 id="DBSEG-GUID-E9CC0C68-55EA-4E4D-B91E-87968F794E24" class="sect5">Step 1C: Configure Additional RADIUS Features</h5>
                     <div>
                        <p>You can change the default settings, configure the challenge-response mode, and set parameters for an alternate RADIUS server.</p>
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-BF0C22CD-59C6-4DFE-A7B8-95A076788761">Step 1C(1): Change Default Settings</a><br>You can use Oracle Net Manager to change the default RADIUS settings.
                           </li>
                           <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-A39FDC0A-B21E-41CC-A8B4-15BF9FC0709F">Step 1C(2): Configure Challenge-Response Mode</a><br>To configure challenge-response mode, you must specify information such as a dynamic password that you obtain from a token card. 
                           </li>
                           <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-57352917-8238-4E6C-BC31-B9574DFA7574">Step 1C(3): Set Parameters for an Alternate RADIUS Server</a><br>If you are using an alternate RADIUS server, then you must set additional parameters.
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="configuring-radius-authentication.html#GUID-BD598474-5DA5-4EA5-AA09-49E42D857E33" title="To configure RADIUS authentication, you must first configure it on the Oracle client, then the server. Afterward, you can configure additional RADIUS features.">Step 1: Configure RADIUS Authentication</a></p>
                           </div>
                        </div>
                     </div>
                     <a id="DBSEG10195"></a><div class="sect5"><a id="GUID-BF0C22CD-59C6-4DFE-A7B8-95A076788761" name="GUID-BF0C22CD-59C6-4DFE-A7B8-95A076788761"></a><h6 id="DBSEG-GUID-BF0C22CD-59C6-4DFE-A7B8-95A076788761" class="sect6">Step 1C(1): Change Default Settings</h6>
                        <div>
                           <p>You can use Oracle Net Manager to change the default RADIUS settings.</p>
                           <ol>
                              <li>
                                 <p>Start Oracle Net Manager.</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>(UNIX) From <span class="italic"><code class="codeph">$ORACLE_HOME</code></span><code class="codeph">/bin</code>, enter the following command at the command line:
                                       </p><pre class="oac_no_warn" dir="ltr">netmgr
</pre></li>
                                    <li>
                                       <p>(Windows) Select <span class="bold">Start</span>, <span class="bold">Programs</span>, <span class="bold">Oracle - HOME_NAME</span>, <span class="bold">Configuration and Migration Tools</span>, then <span class="bold">Net Manager</span>.
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <p>Expand <span class="bold">Oracle Net Configuration</span>, and from <span class="bold">Local</span>, select <span class="bold">Profile</span>.
                                 </p>
                              </li>
                              <li>
                                 <p>From the <span class="bold">Naming</span> list, select <span class="bold">Network Security</span>.
                                 </p>
                                 <p>The Network Security tabbed window appears.</p>
                              </li>
                              <li>
                                 <p>Click the <span class="bold">Other Params</span> tab.
                                 </p>
                              </li>
                              <li>
                                 <p>From the Authentication Service list, select <span class="bold">RADIUS</span>.
                                 </p>
                              </li>
                              <li>
                                 <p>Change the default setting for any of the following fields:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p><span class="bold">Port Number:</span> Specifies the listening port of the primary RADIUS server. The default value is 1645.
                                       </p>
                                    </li>
                                    <li>
                                       <p><span class="bold">Timeout (seconds):</span> Specifies the time the Oracle database server waits for a response from the primary RADIUS server. The default is 15 seconds.
                                       </p>
                                    </li>
                                    <li>
                                       <p><span class="bold">Number of Retries:</span> Specifies the number of times the Oracle database server resends messages to the primary RADIUS server. The default is three retries. For instructions on configuring RADIUS accounting, see <a href="configuring-radius-authentication.html#GUID-FDCC4505-E44B-403B-8D27-5C142DC2B900" title="RADIUS accounting logs information about access to the Oracle database server and stores it in a file on the RADIUS accounting server.">Step 4: Configure RADIUS Accounting</a>.
                                       </p>
                                    </li>
                                    <li>
                                       <p><span class="bold">Secret File:</span> Specifies the location of the secret key on the Oracle database server. The field specifies the location of the secret key file, not the secret key itself. For information about specifying the secret key, see <a href="configuring-radius-authentication.html#GUID-37E7DABB-95B2-4234-B6D2-41AC7F744CD0" title="First, you must create the RADIUS secret key file.">Step 1B (1): Create the RADIUS Secret Key File on the Oracle Database Server</a>.
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <p>From the <span class="bold">File</span> menu, select <span class="bold">Save Network Configuration</span>.<span class="bold"></span></p>
                                 <p>The <code class="codeph">sqlnet.ora</code> file is updated with the following entries:
                                 </p><pre class="oac_no_warn" dir="ltr">SQLNET.RADIUS_AUTHENTICATION_PORT=(PORT)
SQLNET.RADIUS_AUTHENTICATION_TIMEOUT=(NUMBER OF SECONDS TO WAIT FOR response)
SQLNET.RADIUS_AUTHENTICATION_RETRIES=(NUMBER OF TIMES TO RE-SEND TO RADIUS server)
SQLNET.RADIUS_SECRET=(path/radius.key)</pre></li>
                           </ol>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="configuring-radius-authentication.html#GUID-E9CC0C68-55EA-4E4D-B91E-87968F794E24" title="You can change the default settings, configure the challenge-response mode, and set parameters for an alternate RADIUS server.">Step 1C: Configure Additional RADIUS Features</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="DBSEG10196"></a><div class="sect5"><a id="GUID-A39FDC0A-B21E-41CC-A8B4-15BF9FC0709F" name="GUID-A39FDC0A-B21E-41CC-A8B4-15BF9FC0709F"></a><h6 id="DBSEG-GUID-A39FDC0A-B21E-41CC-A8B4-15BF9FC0709F" class="sect6">Step 1C(2): Configure Challenge-Response Mode</h6>
                        <div>
                           <p>To configure challenge-response mode, you must specify information such as a dynamic password that you obtain from a token card. </p>
                           <p>With the RADIUS adapter, this interface is Java-based to provide optimal platform independence.</p>
                           <div class="infoboxnote" id="GUID-A39FDC0A-B21E-41CC-A8B4-15BF9FC0709F__GUID-6EABDD0D-01B2-48C5-AEAC-A848EAB42398">
                              <p class="notep1">Note:</p>
                              <p>Third party vendors of authentication devices must customize this graphical user interface to fit their particular device. For example, a smart card vendor would customize the Java interface so that the Oracle client reads data, such as a dynamic password, from the smart card. When the smart card receives a challenge, it responds by prompting the user for more information, such as a PIN.</p>
                           </div>
                           <p>To configure challenge-response mode:</p>
                           <ol>
                              <li>
                                 <p>If you are using JDK 1.1.7 or JRE 1.1.7, then set the <code class="codeph">JAVA_HOME</code> environment variable to the JRE or JDK location on the system where the Oracle client is run:
                                 </p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>On UNIX, enter this command at the prompt:</p><pre class="oac_no_warn" dir="ltr">% setenv JAVA_HOME /usr/local/packages/jre1.1.7B
</pre></li>
                                    <li>
                                       <p>On Windows, select <span class="bold">Start</span>, <span class="bold">Settings</span>, <span class="bold">Control Panel</span>, <span class="bold">System</span>, <span class="bold">Environment</span>, and set the <code class="codeph">JAVA_HOME</code> variable as follows:
                                       </p><pre class="oac_no_warn" dir="ltr">c:\java\jre1.1.7B
</pre></li>
                                 </ul>
                                 <p>This step is not required for any other JDK/JRE version.</p>
                              </li>
                              <li>
                                 <p>Start Oracle Net Manager.</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>(UNIX) From <span class="italic"><code class="codeph">$ORACLE_HOME</code></span><code class="codeph">/bin</code>, enter the following command at the command line:
                                       </p><pre class="oac_no_warn" dir="ltr">netmgr
</pre></li>
                                    <li>
                                       <p>(Windows) Select <span class="bold">Start</span>, <span class="bold">Programs</span>, <span class="bold">Oracle - HOME_NAME</span>, <span class="bold">Configuration and Migration Tools</span>, then <span class="bold">Net Manager</span>.
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <p>Expand <span class="bold">Oracle Net Configuration</span>, and from <span class="bold">Local</span>, select <span class="bold">Profile</span>.
                                 </p>
                              </li>
                              <li>
                                 <p>From the <span class="bold">Naming</span> list, select <span class="bold">Network Security</span>.
                                 </p>
                                 <p>The Network Security tabbed window appears.</p>
                              </li>
                              <li>
                                 <p>From the Authentication Service list, select <span class="bold">RADIUS</span>.
                                 </p>
                              </li>
                              <li>
                                 <p>In the <span class="bold">Challenge Response</span> field, enter <span class="bold">ON</span> to enable challenge-response.
                                 </p>
                              </li>
                              <li>
                                 <p>In the <span class="bold">Default Keyword</span> field, accept the default value of the challenge or enter a keyword for requesting a challenge from the RADIUS server.
                                 </p>
                                 <p>The keyword feature is provided by Oracle and supported by some, but not all, RADIUS servers. You can use this feature only if your RADIUS server supports it. </p>
                                 <p>By setting a keyword, you let the user avoid using a password to verify identity. If the user does <span class="italic">not</span> enter a password, the keyword you set here is passed to the RADIUS server which responds with a challenge requesting, for example, a driver's license number or birth date. If the user <span class="italic">does</span> enter a password, the RADIUS server may or may not respond with a challenge, depending upon the configuration of the RADIUS server. 
                                 </p>
                              </li>
                              <li>
                                 <p>In the <span class="bold">Interface Class Name</span> field, accept the default value of <span class="bold">DefaultRadiusInterface</span> or enter the name of the class you have created to handle the challenge-response conversation. 
                                 </p>
                                 <p>If other than the default RADIUS interface is used, then you also must edit the <code class="codeph">sqlnet.ora</code> file to enter <code class="codeph">SQLNET.RADIUS_CLASSPATH=(location)</code>, where <code class="codeph">location</code> is the complete path name of the jar file. It defaults to  <span class="italic"><code class="codeph">$</code></span><code class="codeph">ORACLE_HOME/network/jlib/netradius.jar: </code><span class="italic"><code class="codeph">$</code></span><code class="codeph">ORACLE_HOME/JRE/lib/vt.jar</code></p>
                              </li>
                              <li>
                                 <p>From the <span class="bold">File</span> menu, select <span class="bold">Save Network Configuration</span>.
                                 </p>
                                 <p>The <code class="codeph">sqlnet.ora</code> file is updated with the following entries:
                                 </p><pre class="oac_no_warn" dir="ltr">SQLNET.RADIUS_CHALLENGE_RESPONSE=([ON | OFF])
SQLNET.RADIUS_CHALLENGE_KEYWORD=(KEYWORD)
SQLNET.RADIUS_AUTHENTICATION_INTERFACE=(name of interface including the package name delimited by "/" for ".")</pre></li>
                           </ol>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-A39FDC0A-B21E-41CC-A8B4-15BF9FC0709F__GUID-C07B965C-CA9D-417A-BE16-4B65ADF95A06">
                              <p class="notep1">See Also:</p>
                              <p><a href="integrating-authentication-devices-using-radius.html#GUID-7A1699DF-606B-4D10-82B5-FAD105B4F872" title="The RADIUS challenge-response user interface further enhances authentication in a RADIUS configuration.">Integrating Authentication Devices Using&nbsp;RADIUS</a> for information about how to customize the challenge-response user interface
                              </p>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="configuring-radius-authentication.html#GUID-E9CC0C68-55EA-4E4D-B91E-87968F794E24" title="You can change the default settings, configure the challenge-response mode, and set parameters for an alternate RADIUS server.">Step 1C: Configure Additional RADIUS Features</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="DBSEG10197"></a><div class="sect5"><a id="GUID-57352917-8238-4E6C-BC31-B9574DFA7574" name="GUID-57352917-8238-4E6C-BC31-B9574DFA7574"></a><h6 id="DBSEG-GUID-57352917-8238-4E6C-BC31-B9574DFA7574" class="sect6">Step 1C(3): Set Parameters for an Alternate RADIUS Server</h6>
                        <div>
                           <p>If you are using an alternate RADIUS server, then you must set additional parameters.</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Set the following parameters in the <code class="codeph">sqlnet.ora</code> file:
                                 </p><pre class="oac_no_warn" dir="ltr">SQLNET.RADIUS_ALTERNATE=(<span class="italic">hostname or ip address of alternate radius server</span>)
SQLNET.RADIUS_ALTERNATE_PORT=(1812)
SQLNET.RADIUS_ALTERNATE_TIMEOUT=(<span class="italic">number of seconds to wait for response</span>)
SQLNET.RADIUS_ALTERNATE_RETRIES=(<span class="italic">number of times to re-send to radius server</span>)</pre></li>
                           </ul>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="configuring-radius-authentication.html#GUID-E9CC0C68-55EA-4E4D-B91E-87968F794E24" title="You can change the default settings, configure the challenge-response mode, and set parameters for an alternate RADIUS server.">Step 1C: Configure Additional RADIUS Features</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div>
               </div><a id="DBSEG9624"></a><div class="sect3"><a id="GUID-59C87E2B-BE16-4966-84D1-8A230AD00430" name="GUID-59C87E2B-BE16-4966-84D1-8A230AD00430"></a><h4 id="DBSEG-GUID-59C87E2B-BE16-4966-84D1-8A230AD00430" class="sect4">Step 2: Create a User and Grant Access</h4>
                  <div>
                     <p>After you complete the RADIUS authentication, you must create an Oracle Database user who for the RADIUS configuration.</p>
                     <ol>
                        <li>
                           <p>Start SQL*Plus and then execute these statements to create and grant access to a user identified externally on the Oracle database server.</p><pre class="oac_no_warn" dir="ltr">CONNECT system@<span class="italic">database_name</span>;
Enter password: <span class="italic">password</span>
CREATE USER <span class="italic">username</span> IDENTIFIED EXTERNALLY;
GRANT CREATE SESSION TO USER <span class="italic">username</span>;
EXIT
</pre><p>If you are using Windows, you can use the Security Manager tool in Oracle Enterprise Manager.</p>
                        </li>
                        <li>
                           <p>Enter the same <span class="italic"><code class="codeph">username</code></span> in the RADIUS server's users file.
                           </p>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-59C87E2B-BE16-4966-84D1-8A230AD00430__GUID-6ED4CDCF-B5A4-4633-B2C3-9FC4CB343EEB">
                        <p class="notep1">See Also:</p>
                        <p>Administration documentation for the RADIUS server</p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="configuring-radius-authentication.html#GUID-3A60355A-1F6A-40FC-ADFE-CBF8FCF42E4B" title="To enable RADIUS authentication, authorization, and accounting, you can use Oracle Net Manager.">Enabling RADIUS Authentication, Authorization, and Accounting</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG9625"></a><div class="sect3"><a id="GUID-9C12EB81-B8BC-4561-A33C-6D67642F9DC5" name="GUID-9C12EB81-B8BC-4561-A33C-6D67642F9DC5"></a><h4 id="DBSEG-GUID-9C12EB81-B8BC-4561-A33C-6D67642F9DC5" class="sect4">Step 3: Configure External RADIUS Authorization (Optional)</h4>
                  <div>
                     <p>You must configure the Oracle server, the Oracle client, and the RADIUS server to RADIUS users who must connect to an Oracle database.</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-DE1602C3-B336-4672-A907-CD2AAE773CF6">Step 3A: Configure the Oracle Server (RADIUS Client)</a><br>You can edit the <code class="codeph">init.ora</code> file to configure an Oracle server for a RADIUS client.
                        </li>
                        <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-ADC1D231-3762-4FC5-B1A3-98088BF10888">Step 3B: Configure the Oracle Client Where Users Log In</a><br>Next, you must configure the Oracle client where users log in.
                        </li>
                        <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-78799317-4902-43D7-8EB2-5645F731F530">Step 3C: Configure the RADIUS Server</a><br>To configure the RADIUS server, you must modify the RADIUS server attribute configuration file.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="configuring-radius-authentication.html#GUID-3A60355A-1F6A-40FC-ADFE-CBF8FCF42E4B" title="To enable RADIUS authentication, authorization, and accounting, you can use Oracle Net Manager.">Enabling RADIUS Authentication, Authorization, and Accounting</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="DBSEG10198"></a><div class="sect4"><a id="GUID-DE1602C3-B336-4672-A907-CD2AAE773CF6" name="GUID-DE1602C3-B336-4672-A907-CD2AAE773CF6"></a><h5 id="DBSEG-GUID-DE1602C3-B336-4672-A907-CD2AAE773CF6" class="sect5">Step 3A: Configure the Oracle Server (RADIUS Client)</h5>
                     <div>
                        <p>You can edit the <code class="codeph">init.ora</code> file to configure an Oracle server for a RADIUS client.
                        </p>
                        <p>To do so, you must modify the <code class="codeph">init.ora</code> file, restart the database, and the set the RADIUS challenge-response mode.
                        </p>
                        <ol>
                           <li>
                              <p>Add the <code class="codeph">OS_ROLES</code> parameter to the <code class="codeph">init.ora</code> file and set this parameter to <code class="codeph">TRUE</code> as follows:
                              </p><pre class="oac_no_warn" dir="ltr">OS_ROLES=TRUE
</pre><p>By default, the <code class="codeph">init.ora</code> file is located in the <span class="italic"><code class="codeph">ORACLE_HOME</code></span><code class="codeph">/dbs</code> directory (or the same location of the data files) on Linux and UNIX systems, and in the <span class="italic"><code class="codeph">ORACLE_HOME</code></span><code class="codeph">\database</code> directory on Windows. 
                              </p>
                           </li>
                           <li>
                              <p>Restart the database so that the system can read the change to the <code class="codeph">init.ora</code> file.
                              </p>
                              <p>For example:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SHUTDOWN 
SQL&gt; STARTUP
</pre></li>
                           <li>
                              <p>Set the RADIUS challenge-response mode to <code class="codeph">ON</code> for the server if you have not already done so by following the steps listed in <a href="configuring-radius-authentication.html#GUID-A39FDC0A-B21E-41CC-A8B4-15BF9FC0709F" title="To configure challenge-response mode, you must specify information such as a dynamic password that you obtain from a token card.">Step 1C(2): Configure Challenge-Response Mode</a>.
                              </p>
                           </li>
                           <li>
                              <p>Add externally identified users and roles.</p>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="configuring-radius-authentication.html#GUID-9C12EB81-B8BC-4561-A33C-6D67642F9DC5" title="You must configure the Oracle server, the Oracle client, and the RADIUS server to RADIUS users who must connect to an Oracle database.">Step 3: Configure External RADIUS Authorization (Optional)</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG10199"></a><div class="sect4"><a id="GUID-ADC1D231-3762-4FC5-B1A3-98088BF10888" name="GUID-ADC1D231-3762-4FC5-B1A3-98088BF10888"></a><h5 id="DBSEG-GUID-ADC1D231-3762-4FC5-B1A3-98088BF10888" class="sect5">Step 3B: Configure the Oracle Client Where Users Log In</h5>
                     <div>
                        <p>Next, you must configure the Oracle client where users log in.</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Set the RADIUS challenge-response mode to <code class="codeph">ON</code> for the client if you have not already done so by following the steps listed in <a href="configuring-radius-authentication.html#GUID-A39FDC0A-B21E-41CC-A8B4-15BF9FC0709F" title="To configure challenge-response mode, you must specify information such as a dynamic password that you obtain from a token card.">Step 1C(2): Configure Challenge-Response Mode</a>.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="configuring-radius-authentication.html#GUID-9C12EB81-B8BC-4561-A33C-6D67642F9DC5" title="You must configure the Oracle server, the Oracle client, and the RADIUS server to RADIUS users who must connect to an Oracle database.">Step 3: Configure External RADIUS Authorization (Optional)</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG494"></a><div class="sect4"><a id="GUID-78799317-4902-43D7-8EB2-5645F731F530" name="GUID-78799317-4902-43D7-8EB2-5645F731F530"></a><h5 id="DBSEG-GUID-78799317-4902-43D7-8EB2-5645F731F530" class="sect5">Step 3C: Configure the RADIUS Server</h5>
                     <div>
                        <p>To configure the RADIUS server, you must modify the RADIUS server attribute configuration file.</p>
                        <ol>
                           <li>
                              <p>Add the following attributes to the RADIUS server attribute configuration file:</p>
                              <div class="tblformal" id="GUID-78799317-4902-43D7-8EB2-5645F731F530__GUID-761F0729-9EC8-4CB0-AE97-0AF34720026E">
                                 <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table lists the attribute name, code, and type that you must add to the RADIUS server attribute configuration file." width="90%" frame="hsides" border="1" rules="rows">
                                    <thead>
                                       <tr align="left" valign="top">
                                          <th align="left" valign="bottom" width="33%" id="d141335e4348">ATTRIBUTE NAME</th>
                                          <th align="left" valign="bottom" width="33%" id="d141335e4351">CODE</th>
                                          <th align="left" valign="bottom" width="33%" id="d141335e4354">TYPE</th>
                                       </tr>
                                    </thead>
                                    <tbody>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="33%" id="d141335e4359" headers="d141335e4348 ">
                                             <p><code class="codeph">VENDOR_SPECIFIC</code></p>
                                          </td>
                                          <td align="left" valign="top" width="33%" headers="d141335e4359 d141335e4351 ">
                                             <p>26</p>
                                          </td>
                                          <td align="left" valign="top" width="33%" headers="d141335e4359 d141335e4354 ">
                                             <p>Integer</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="33%" id="d141335e4370" headers="d141335e4348 ">
                                             <p><code class="codeph">ORACLE_ROLE</code></p>
                                          </td>
                                          <td align="left" valign="top" width="33%" headers="d141335e4370 d141335e4351 ">
                                             <p>1</p>
                                          </td>
                                          <td align="left" valign="top" width="33%" headers="d141335e4370 d141335e4354 ">
                                             <p>String</p>
                                          </td>
                                       </tr>
                                    </tbody>
                                 </table>
                              </div>
                              <!-- class="inftblhruleinformal" -->
                           </li>
                           <li>
                              <p>Assign a Vendor ID for Oracle in the RADIUS server attribute configuration file that includes the SMI Network Management Private Enterprise Code of <code class="codeph">111</code>.
                              </p>
                              <p>For example, enter the following in the RADIUS server attribute configuration file:</p>
                              <p><code class="codeph">VALUE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;VENDOR_SPECIFIC&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ORACLE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;111</code></p>
                           </li>
                           <li>
                              <p>Using the following syntax, add the <code class="codeph">ORACLE_ROLE</code> attribute to the user profile of the users who will use external RADIUS authorization:
                              </p>
                              <p><code class="codeph">ORA_</code><span class="italic"><code class="codeph">databaseSID</code></span><code class="codeph">_</code><span class="italic"><code class="codeph">rolename</code></span><code class="codeph">[_[A]|[D]]</code></p>
                              <p>In this specification.:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">ORA</code> designates that this role is used for Oracle purposes
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">databaseSID</code> is the Oracle system identifier that is configured in the database <code class="codeph">init.ora</code> file.
                                    </p>
                                    <p>By default, the <code class="codeph">init.ora</code> file is located in the <span class="italic"><code class="codeph">ORACLE_HOME</code></span><code class="codeph">/dbs</code> directory (or the same location of the data files) on Linux and UNIX systems, and in the <span class="italic"><code class="codeph">ORACLE_HOME</code></span><code class="codeph">\database</code> directory on Windows. 
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">rolename</code> is the name of role as it is defined in the data dictionary.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">A</code> is an optional character that indicates the user has administrator's privileges for this role.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">D</code> is an optional character that indicates this role is to be enabled by default.
                                    </p>
                                 </li>
                              </ul>
                              <p>Ensure that RADIUS groups that map to Oracle roles adhere to the <code class="codeph">ORACLE_ROLE</code> syntax.
                              </p>
                              <p>For example:</p><pre class="oac_no_warn" dir="ltr">USERNAME     USERPASSWD="<span class="italic">user_password</span>",
             SERVICE_TYPE=login_user,
             VENDOR_SPECIFIC=ORACLE,
             ORACLE_ROLE=ORA_ora920_sysdba</pre><div class="infoboxnotealso" id="GUID-78799317-4902-43D7-8EB2-5645F731F530__GUID-D56ED2A4-D0D8-4F15-ADA0-4F8F774F806A">
                                 <p class="notep1">See Also:</p>
                                 <p>The RADIUS server administration documentation for information about configuring the server.</p>
                              </div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="configuring-radius-authentication.html#GUID-9C12EB81-B8BC-4561-A33C-6D67642F9DC5" title="You must configure the Oracle server, the Oracle client, and the RADIUS server to RADIUS users who must connect to an Oracle database.">Step 3: Configure External RADIUS Authorization (Optional)</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="DBSEG9626"></a><div class="sect3"><a id="GUID-FDCC4505-E44B-403B-8D27-5C142DC2B900" name="GUID-FDCC4505-E44B-403B-8D27-5C142DC2B900"></a><h4 id="DBSEG-GUID-FDCC4505-E44B-403B-8D27-5C142DC2B900" class="sect4">Step 4: Configure RADIUS Accounting</h4>
                  <div>
                     <p>RADIUS accounting logs information about access to the Oracle database server and stores it in a file on the RADIUS accounting server. </p>
                     <p>Use this feature only if both the RADIUS server and authentication server support it.</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-868915E2-A9BB-407D-A0D6-3C5337317ACA">Step 4A: Set RADIUS Accounting on the Oracle Database Server</a><br>To set RADIUS accounting on the server, you can use Oracle Net Manager.
                        </li>
                        <li class="ulchildlink"><a href="configuring-radius-authentication.html#GUID-B3345313-1B18-4CBF-9A8F-FF43AC72EC90">Step 4B: Configure the RADIUS Accounting Server</a><br>RADIUS Accounting Server resides on the same host as the RADIUS authentication server or on a separate host.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="configuring-radius-authentication.html#GUID-3A60355A-1F6A-40FC-ADFE-CBF8FCF42E4B" title="To enable RADIUS authentication, authorization, and accounting, you can use Oracle Net Manager.">Enabling RADIUS Authentication, Authorization, and Accounting</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="DBSEG9627"></a><div class="sect4"><a id="GUID-868915E2-A9BB-407D-A0D6-3C5337317ACA" name="GUID-868915E2-A9BB-407D-A0D6-3C5337317ACA"></a><h5 id="DBSEG-GUID-868915E2-A9BB-407D-A0D6-3C5337317ACA" class="sect5">Step 4A: Set RADIUS Accounting on the Oracle Database Server</h5>
                     <div>
                        <p>To set RADIUS accounting on the server, you can use Oracle Net Manager.</p>
                        <ol>
                           <li>
                              <p>Start Oracle Net Manager.</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>(UNIX) From <span class="italic"><code class="codeph">$ORACLE_HOME</code></span><code class="codeph">/bin</code>, enter the following command at the command line:
                                    </p><pre class="oac_no_warn" dir="ltr">netmgr
</pre></li>
                                 <li>
                                    <p>(Windows) Select <span class="bold">Start</span>, <span class="bold">Programs</span>, <span class="bold">Oracle - HOME_NAME</span>, <span class="bold">Configuration and Migration Tools</span>, then <span class="bold">Net Manager</span>.
                                    </p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>Expand <span class="bold">Oracle Net Configuration</span>, and from <span class="bold">Local</span>, select <span class="bold">Profile</span>.
                              </p>
                           </li>
                           <li>
                              <p>From the <span class="bold">Naming</span> list, select <span class="bold">Network Security</span>.
                              </p>
                              <p>The Network Security tabbed window appears.</p>
                           </li>
                           <li>
                              <p>Select the <span class="bold">Other Params</span> tab.
                              </p>
                           </li>
                           <li>
                              <p>From the Authentication Service list, select <span class="bold">RADIUS</span>.
                              </p>
                           </li>
                           <li>
                              <p>In the <span class="bold">Send Accounting</span> field, enter <span class="bold">ON</span> to enable accounting or <span class="bold">OFF</span> to disable accounting. 
                              </p>
                           </li>
                           <li>
                              <p>From the <span class="bold">File</span> menu, select <span class="bold">Save Network Configuration</span>.
                              </p>
                              <p>The <code class="codeph">sqlnet.ora</code> file is updated with the following entry:
                              </p><pre class="oac_no_warn" dir="ltr">SQLNET.RADIUS_SEND_ACCOUNTING= ON</pre></li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="configuring-radius-authentication.html#GUID-FDCC4505-E44B-403B-8D27-5C142DC2B900" title="RADIUS accounting logs information about access to the Oracle database server and stores it in a file on the RADIUS accounting server.">Step 4: Configure RADIUS Accounting</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG9628"></a><div class="sect4"><a id="GUID-B3345313-1B18-4CBF-9A8F-FF43AC72EC90" name="GUID-B3345313-1B18-4CBF-9A8F-FF43AC72EC90"></a><h5 id="DBSEG-GUID-B3345313-1B18-4CBF-9A8F-FF43AC72EC90" class="sect5">Step 4B: Configure the RADIUS Accounting Server</h5>
                     <div>
                        <p>RADIUS Accounting Server resides on the same host as the RADIUS authentication server or on a separate host.</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>See the administration documentation for the RADIUS server, for information about configuring RADIUS accounting.</p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="configuring-radius-authentication.html#GUID-FDCC4505-E44B-403B-8D27-5C142DC2B900" title="RADIUS accounting logs information about access to the Oracle database server and stores it in a file on the RADIUS accounting server.">Step 4: Configure RADIUS Accounting</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="DBSEG9629"></a><div class="sect3"><a id="GUID-10808DCD-5D0F-4FFF-BF57-AE01A90272C7" name="GUID-10808DCD-5D0F-4FFF-BF57-AE01A90272C7"></a><h4 id="DBSEG-GUID-10808DCD-5D0F-4FFF-BF57-AE01A90272C7" class="sect4">Step 5: Add the RADIUS Client Name to the RADIUS Server Database</h4>
                  <div>
                     <p>The RADIUS server that you select must comply with RADIUS standards.</p>
                     <p>You can use any RADIUS server that complies with the Internet Engineering Task Force (IETF) RFC #2138, <span class="italic">Remote Authentication Dial In User Service (RADIUS)</span>, and RFC #2139 <span class="italic">RADIUS Accounting</span> standards. Because RADIUS servers vary, consult the documentation for your particular RADIUS server for any unique interoperability requirements.
                     </p>
                     <p>To add the RADIUS client name to a Livingston RADIUS server:</p>
                     <ol>
                        <li>
                           <p>Open the clients file, which is located in <code class="codeph">/etc/raddb/clients</code>. 
                           </p>
                           <p>The following text and table appear:</p><pre class="oac_no_warn" dir="ltr">@ (#) clients 1.1 2/21/96 Copyright 1991 Livingston Enterprises Inc
This file contains a list of clients which are allowed to make authentication requests and their encryption key. The first field is a valid hostname. The second field (separated by blanks or tabs) is the encryption key.
Client Name                     Key
</pre></li>
                        <li>
                           <p>In the <code class="codeph">CLIENT NAME</code> column, enter the host name or IP address of the host on which the Oracle database server is running. 
                           </p>
                           <p>In the <code class="codeph">KEY</code> column, type the shared secret.
                           </p>
                           <p>The value you enter in the <code class="codeph">CLIENT NAME</code> column, whether it is the client's name or IP address, depends on the RADIUS server. 
                           </p>
                        </li>
                        <li>
                           <p>Save and close the clients file.</p>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-10808DCD-5D0F-4FFF-BF57-AE01A90272C7__GUID-DB92902D-CADD-4809-B0B5-A63CC09F070C">
                        <p class="notep1">See Also:</p>
                        <p>Administration documentation for the RADIUS server</p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="configuring-radius-authentication.html#GUID-3A60355A-1F6A-40FC-ADFE-CBF8FCF42E4B" title="To enable RADIUS authentication, authorization, and accounting, you can use Oracle Net Manager.">Enabling RADIUS Authentication, Authorization, and Accounting</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG9630"></a><div class="sect3"><a id="GUID-B8B193E5-65C1-43FD-8DFD-9DCBAA3F81A3" name="GUID-B8B193E5-65C1-43FD-8DFD-9DCBAA3F81A3"></a><h4 id="DBSEG-GUID-B8B193E5-65C1-43FD-8DFD-9DCBAA3F81A3" class="sect4">Step 6: Configure the Authentication Server for Use with RADIUS</h4>
                  <div>
                     <p>After you add the RADIUS client name to the RADIUS server database, you can configure the authentication server to use the RADIUS.</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Refer to the authentication server documentation for instructions about configuring the authentication servers.</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="configuring-radius-authentication.html#GUID-3A60355A-1F6A-40FC-ADFE-CBF8FCF42E4B" title="To enable RADIUS authentication, authorization, and accounting, you can use Oracle Net Manager.">Enabling RADIUS Authentication, Authorization, and Accounting</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG9631"></a><div class="sect3"><a id="GUID-D16696B2-A684-4F7D-A5A6-6A1559B985B2" name="GUID-D16696B2-A684-4F7D-A5A6-6A1559B985B2"></a><h4 id="DBSEG-GUID-D16696B2-A684-4F7D-A5A6-6A1559B985B2" class="sect4">Step 7: Configure the RADIUS Server for Use with the Authentication Server</h4>
                  <div>
                     <p>After you configure the authentication server for use with RADIUS, you can configure the RADIUS server to use the authentication server.</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Refer to the RADIUS server documentation for instructions about configuring the RADIUS server for use with the authentication server.</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="configuring-radius-authentication.html#GUID-3A60355A-1F6A-40FC-ADFE-CBF8FCF42E4B" title="To enable RADIUS authentication, authorization, and accounting, you can use Oracle Net Manager.">Enabling RADIUS Authentication, Authorization, and Accounting</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG9632"></a><div class="sect3"><a id="GUID-C9B89594-9CB1-4524-8D9F-EF86F4629DFE" name="GUID-C9B89594-9CB1-4524-8D9F-EF86F4629DFE"></a><h4 id="DBSEG-GUID-C9B89594-9CB1-4524-8D9F-EF86F4629DFE" class="sect4">Step 8: Configure Mapping Roles</h4>
                  <div>
                     <p>If the RADIUS server supports vendor type attributes, then you can manage roles by storing them in the RADIUS server. </p>
                     <p> The Oracle database server downloads the roles when there is a <code class="codeph">CONNECT</code> request using RADIUS.To use this feature, you must configure roles on both the Oracle database server and the RADIUS server.
                     </p>
                     <ol>
                        <li>
                           <p>Use a text editor to set the <code class="codeph">OS_ROLES</code> parameter in the initialization parameters file on the Oracle database server. 
                           </p>
                           <p>By default, the <code class="codeph">init.ora</code> file is located in the <span class="italic"><code class="codeph">ORACLE_HOME</code></span><code class="codeph">/dbs</code> directory (or the same location of the data files) on Linux and UNIX systems, and in the <span class="italic"><code class="codeph">ORACLE_HOME</code></span><code class="codeph">\database</code> directory on Windows. 
                           </p>
                        </li>
                        <li>
                           <p>Stop and restart the Oracle database server.</p>
                           <p>For example: </p><pre class="oac_no_warn" dir="ltr">SHUTDOWN
STARTUP
</pre></li>
                        <li>
                           <p>Create each role that the RADIUS server will manage on the Oracle database server with the value <code class="codeph">IDENTIFIED EXTERNALLY</code>.
                           </p>
                           <p>To configure roles on the RADIUS server, use the following syntax:</p><pre class="oac_no_warn" dir="ltr">ORA_DatabaseName.DatabaseDomainName_RoleName
</pre><p>In this specification:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">DatabaseName</code> is the name of the Oracle database server for which the role is being created. This is the same as the value of the DB_NAME initialization parameter.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">DatabaseDomainName</code> is the name of the domain to which the Oracle database server belongs. The value is the same as the value of the <code class="codeph">DB_DOMAIN</code> initialization parameter.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">RoleName</code> is name of the role created in the Oracle database server.
                                 </p>
                              </li>
                           </ul>
                           <p>For example:</p><pre class="oac_no_warn" dir="ltr">ORA_USERDB.US.EXAMPLE.COM_MANAGER
</pre></li>
                        <li>
                           <p>Configure RADIUS challenge-response mode.</p>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="configuring-radius-authentication.html#GUID-DF72F473-D660-44C1-9F49-2909943C8F07" title="When the system uses the asynchronous mode, the user does not need to enter a user name and password at the SQL*Plus CONNECT string.">Challenge-Response (Asynchronous) Authentication Mode</a></li>
                           <li><a href="configuring-radius-authentication.html#GUID-A39FDC0A-B21E-41CC-A8B4-15BF9FC0709F" title="To configure challenge-response mode, you must specify information such as a dynamic password that you obtain from a token card.">Step 1C(2): Configure Challenge-Response Mode</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="configuring-radius-authentication.html#GUID-3A60355A-1F6A-40FC-ADFE-CBF8FCF42E4B" title="To enable RADIUS authentication, authorization, and accounting, you can use Oracle Net Manager.">Enabling RADIUS Authentication, Authorization, and Accounting</a></p>
                        </div>
                     </div>
                  </div>
               </div>
            </div><a id="DBSEG9633"></a><div class="sect2"><a id="GUID-4B810D96-A2D6-4F16-8664-57F99DD8D2A0" name="GUID-4B810D96-A2D6-4F16-8664-57F99DD8D2A0"></a><h3 id="DBSEG-GUID-4B810D96-A2D6-4F16-8664-57F99DD8D2A0" class="sect3">Using RADIUS to Log in to a Database</h3>
               <div>
                  <p>You can use RADIUS to log into a database by using either synchronous authentication mode or challenge-response mode.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Start SQL*Plus and use one of the following ways to log in to the database:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>If you are using the synchronous authentication mode, first ensure that challenge-response mode is not turned to <code class="codeph">ON</code>, and then enter the following command:
                              </p><pre class="oac_no_warn" dir="ltr">CONNECT <span class="italic">username</span>@<span class="italic">database_alias</span>
Enter password: <span class="italic">password</span>
</pre></li>
                           <li>
                              <p>If you are using the challenge-response mode, ensure that challenge-response mode is set to <code class="codeph">ON</code> and then enter the following command:
                              </p><pre class="oac_no_warn" dir="ltr">CONNECT /@<span class="italic">database_alias</span>
</pre></li>
                        </ul>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-4B810D96-A2D6-4F16-8664-57F99DD8D2A0__GUID-9BC35711-5842-47B7-9BE6-B7EDFFD30635">
                     <p class="notep1">Note:</p>
                     <p></p>
                     <p>The challenge-response mode can be configured for all login cases.</p>
                  </div>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="configuring-radius-authentication.html#GUID-98AC340E-3D64-4EFF-B1AC-BA1D58ECF0AB" title="RADIUS is a client/server security protocol widely used to enable remote authentication and access.">Configuring RADIUS Authentication</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DBSEG9634"></a><div class="sect2"><a id="GUID-CFBB6D7D-067C-41A4-A284-A183170B1FEB" name="GUID-CFBB6D7D-067C-41A4-A284-A183170B1FEB"></a><h3 id="DBSEG-GUID-CFBB6D7D-067C-41A4-A284-A183170B1FEB" class="sect3">RSA ACE/Server Configuration Checklist</h3>
               <div>
                  <p>If you are using an RSA ACE/Server RADIUS server, check the host agent and SecurID tokens for this server before making the initial connection.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Ensure that the host agent in the RSA ACE/Server is set up to send a node secret. In version 5.0, this is done by leaving the SENT Node secret box unchecked. If the RSA ACE/Server fails to send a node secret to the agent, then a node verification failure message will be written to the RSA ACE/Server log.</p>
                     </li>
                     <li>
                        <p>If you are using RSA SecurID tokens, then ensure that the token is synchronized with the RSA ACE/Server.</p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-CFBB6D7D-067C-41A4-A284-A183170B1FEB__GUID-C440555E-E247-41D8-8CCA-94994D9A4C5A">
                     <p class="notep1">See Also:</p>
                     <p>RSA ACE/Server documentation for specific information about troubleshooting.</p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="configuring-radius-authentication.html#GUID-98AC340E-3D64-4EFF-B1AC-BA1D58ECF0AB" title="RADIUS is a client/server security protocol widely used to enable remote authentication and access.">Configuring RADIUS Authentication</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html><html id='01562.using-flasback-database-restore-points.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Using Flashback Database and Restore Points</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Backup and Recovery User's Guide">
      <meta property="og:description" content="">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Backup and Recovery User's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-backup-and-recovery-users-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-09T05:20:45-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2003, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96241-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="configuring-rman-client-advanced.html" title="Previous" type="text/html">
      <link rel="next" href="part-backing-up-archiving.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Backup and Recovery User's Guide">
    <meta name="dcterms.isVersionOf" content="BRADV">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="configuring-rman-client-advanced.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="part-backing-up-archiving.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Backup and Recovery User's Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-starting-configuring-rman.html" property="item" typeof="WebPage"><span property="name"> Starting and Configuring RMAN and Flashback Database</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Using Flashback Database and Restore Points</li>
            </ol>
            <a id="GUID-909BBEEF-389B-443B-8CD7-F3C027AAFFF3" name="GUID-909BBEEF-389B-443B-8CD7-F3C027AAFFF3"></a><a id="BRADV71000"></a>
            
            <h2 id="BRADV-GUID-909BBEEF-389B-443B-8CD7-F3C027AAFFF3" class="sect2"><span class="enumeration_chapter">7 </span>Using Flashback Database and Restore Points
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This chapter explains Flashback Database and restore points. It discusses configuring, monitoring, and maintaining these features as part of an overall data protection strategy.</p>
               <p>This chapter contains the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="using-flasback-database-restore-points.html#GUID-FAA04D1F-36E2-4B20-954F-845E42386775" title="Oracle Flashback Database and restore points are related data protection features that enable you to rewind data back in time to correct any problems caused by logical data corruption or user errors within a designated time window.">Overview of Flashback Database, Restore Points and Guaranteed Restore Points</a></p>
                  </li>
                  <li>
                     <p><a href="using-flasback-database-restore-points.html#GUID-E90F7FBD-CCE2-4234-A3B4-FDFEC3BC2E90" title="Logging for Flashback Database and guaranteed restore points involves capturing images of data file blocks before changes are applied. The FLASHBACK DATABASE command can use these images to return the data files to their previous state.">About Logging for Flashback Database and Guaranteed Restore Points</a></p>
                  </li>
                  <li>
                     <p><a href="using-flasback-database-restore-points.html#GUID-AE2AD6A0-507A-4E40-A8FF-76AFC88EC56D" title="To ensure successful operation of Flashback Database and guaranteed restore points, you must first set some key database options.">Prerequisites for Flashback Database and Guaranteed Restore Points</a></p>
                  </li>
                  <li>
                     <p><a href="using-flasback-database-restore-points.html#GUID-2C846D84-EDCC-4FAA-9F6A-05CD0C6C7C09" title="You can create, monitor, and drop both normal and guaranteed restore points.">Using Normal and Guaranteed Restore Points</a></p>
                  </li>
                  <li>
                     <p><a href="using-flasback-database-restore-points.html#GUID-4E96DB60-3616-4680-866A-F38A6049053A" title="To use flashback logging for a target database, you must enable Flashback Database. Certain guidelines can be followed to ensure optimal performance of Flashback Database.">Using Flashback Database</a></p>
                  </li>
               </ul>
               <div class="infoboxnote" id="GUID-909BBEEF-389B-443B-8CD7-F3C027AAFFF3__GUID-DC5B60B4-8FC2-4C41-B8BF-DBF72DC7ABCE">
                  <p class="notep1">Note:</p>
                  <p>Detailed information on recovery scenarios that use Flashback Database and normal and guaranteed restore points can be found in <a href="rman-performing-flashback-dbpitr.html#GUID-5463669A-DC89-4FF4-ACCE-136A72DF687B" title="This overview describes the purpose and basic concepts of Oracle Flashback Technology and database point-in-time recovery.Certain situations are suited for using point-in-time recovery or flashback features to return the database or database object to its state at a previous point in time.Database point-in-time recovery (DBPITR) and Flashback features enable you to recover your database to a prior point in time.DBPITR works at the physical level to return the data files to their state at a target time in the past.RMAN provides support for point-in-time recovery for one or more PDBs. To recover PDBs, you must connect to the root as a user with SYSDBA or SYSBACKUP privilege. After recovery, old backups of the PDB remain valid and can be used if a media failure occurs.The flashback features of the Oracle Database are more efficient than media recovery in most circumstances in which they are available. You can use them to investigate past states of the database.Oracle Flashback Database is the most efficient alternative to DBPITR.Logical flashback features are used to recover tables and their contents to a past time.You can perform a Flashback Database operation for a whole multitenant container database (CDB) or for a particular pluggable database (PDB). A multitenant container database (CDB) can use shared undo or local undo. The technique used by RMAN to perform flashback database operations depends on the type of undo configuration for the CDB.RMAN provides methods to manage redo corruption to data blocks in a PDB.Flashback Table uses information in the undo tablespace rather than restored backups to retrieve the table. When a Flashback Table operation occurs, new rows are deleted and old rows are reinserted. The rest of your database remains available while the flashback of the table is being performed.To perform a Flashback Table operation, the table must be eligible to be flashed back and the user performing the operation must have the required privileges.To use the Flashback Table feature on one or more tables, use the FLASHBACK TABLE SQL statement with a target time or SCN.By default, the database disables triggers on the affected table before performing a FLASHBACK TABLE operation. After the operation, the database returns the triggers to the state they were in before the operation (enabled or disabled). You can retrieve objects from the recycle bin with the FLASHBACK TABLE ... TO BEFORE DROP statement.Flashback Drop reverses the effects of a DROP TABLE operation. Flashback Drop is faster than other recovery mechanisms that can be used in this situation, such as point-in-time recovery, and does not lead to downtime or loss of recent transactions.Prerequisites must be met before you perform a Flashback Drop operation.Use the FLASHBACK TABLE ... TO BEFORE DROP statement to recover objects from the recycle bin. You can specify either the name of the table in the recycle bin or the original table name.You can create, and then drop, several objects with the same original name. All dropped objects are stored in the recycle bin.Flashback Database reverses unwanted changes by returning your database to its state at a previous point in time.Flashback Database works by undoing changes to the data files that exist at the moment that you run the command. Prerequisites must be met to perform a Flashback Database operation.A Flashback Database operation uses the FLASHBACK DATABASE command to rewind the database to a past point in time.You can perform a flashback database operation for a whole multitenant container database (CDB) using the FLASHBACK DATABASE command.You can perform a flashback database operation for a single pluggable database (PDB) in a multitenant container database (CDB) using the FLASHBACK DATABASE command.Data dictionary views contain information that is used to monitor flashback database.RMAN DBPITR restores the database from backups before the target time for recovery, then uses incremental backups and redo to roll the database forward to the target time. You can recover to an SCN, time, log sequence number, or restore point. Oracle recommends that you create restore points at important times to make point-in-time recovery more manageable if it ever becomes necessary.Certain prerequisites must be met to perform database point-in-time recovery (DBPITR).Use the RESTORE and RECOVER commands to perform DBPITR.Use the RECOVER command to perform point-in-time recovery (PITR) of container databases (CDBs) and pluggable databases (PDBs). PITR of PDBs can only be performed using RMAN.Use the RESTORE and RECOVER commands to perform point-in-time recovery for a whole CDB.When you recover one or more PDBs to a specified point-in-time, the remaining PDBs in the CDB are not affected and they can be open and operational. Use the RESTORE and RECOVER commands to perform point-in-time recovery of an application PDB.Performing point-in-time recovery of sparse databases is similar to performing point-in-time recovery of normal databases. This section describes variations of the basic Flashback Database and DBPITR scenarios.Flashback Database can be used to undo an OPEN RESETLOGS operation.Flashback Database across OPEN RESETLOGS may be used to perform multiple functions in a Data Guard environment.You can use Flashback Database to rewind a database to an abandoned database incarnation.To perform DPITR to an noncurrent database incarnation, you must explicitly execute the RESET DATABASE to reset the database to the incarnation that was current at the target SCN. You must also restore a control file from the database incarnation containing the target SCN."> Performing Flashback and Database Point-in-Time Recovery</a>.
                  </p>
               </div>
            </div><a id="BRADV180"></a><div class="props_rev_3"><a id="GUID-FAA04D1F-36E2-4B20-954F-845E42386775" name="GUID-FAA04D1F-36E2-4B20-954F-845E42386775"></a><h3 id="BRADV-GUID-FAA04D1F-36E2-4B20-954F-845E42386775" class="sect3"><span class="enumeration_section">7.1 </span>Overview of Flashback Database, Restore Points and Guaranteed Restore Points
               </h3>
               <div>
                  <p>Oracle Flashback Database and restore points are related data protection features that enable you to rewind data back in time to correct any problems caused by logical data corruption or user errors within a designated time window.</p>
                  <p>These features provide a more efficient alternative to point-in-time recovery and does not require a backup of the database to be restored first. The effects are similar to <a href="glossary.html#GUID-FCC8BB91-79B6-4AF1-974A-43E75CD161E3"><span class="xrefglossterm">database point-in-time recovery (DBPITR)</span></a>. Flashback Database and restore points are not only effective in traditional database recovery situations but can also be useful during database upgrades, application deployments and testing scenarios when test databases must be quickly created and re-created. Flashback Database also provides an efficient alternative to rebuilding a failed primary database after a Data Guard failover.
                  </p>
                  <p>Restore points provide capabilities related to Flashback Database and other media recovery operations. In particular, a guaranteed restore point created at a system change number (SCN) ensures that you can use Flashback Database to rewind the database to this SCN. You can use restore points and Flashback Database independently or together.</p>
                  <p>Flashback Database is accessible through both RMAN and SQL as <code class="codeph">FLASHBACK DATABASE</code> . You can use either language to quickly recover the database from logical data corruption or user errors. The following examples return the database to a specified SCN or restore point:
                  </p><pre class="pre codeblock"><code>FLASHBACK DATABASE TO RESTORE POINT 'before_upgrade';
FLASHBACK DATABASE TO SCN 202381;
</code></pre><div class="infoboxnotealso" id="GUID-FAA04D1F-36E2-4B20-954F-845E42386775__GUID-DB8A922F-0AA5-403B-BC4F-D927F669F039">
                     <p class="notep1">See Also:</p>
                     <p><a href="../sbydb/examples-of-using-oracle-data-guard.html#SBYDB4891" target="_blank"><span><cite>Oracle Data Guard Concepts and Administration</cite></span></a></p>
                  </div>
               </div><a id="BRADV582"></a><div class="props_rev_3"><a id="GUID-509FB7A6-4CB2-4730-80CA-7B2D68F50773" name="GUID-509FB7A6-4CB2-4730-80CA-7B2D68F50773"></a><h4 id="BRADV-GUID-509FB7A6-4CB2-4730-80CA-7B2D68F50773" class="sect4"><span class="enumeration_section">7.1.1 </span>About Flashback Database
                  </h4>
                  <div>
                     <p>Flashback Database is similar to conventional point-in-time recovery in its effects. It enables you to return a database to its state at a time in the recent past. Flashback Database is much faster than point-in-time recovery because it does not require restoring data files from backup and requires applying fewer changes from the archived redo logs.</p>
                     <p>You can use Flashback Database to reverse most unwanted changes to a database if the data files are intact. You can return a database to its state in a previous <a href="glossary.html#GUID-4CCAB7DD-FEA7-4237-AF2C-304BA3BD52B1"><span class="xrefglossterm">incarnation</span></a>, and undo the effects of an <a href="../sqlrf/ALTER-DATABASE.html#SQLRF00802" target="_blank"><code class="codeph">ALTER DATABASE OPEN RESETLOGS</code></a> statement. <span class="q">"<a href="rman-performing-flashback-dbpitr.html#GUID-953FA30D-BED2-4DBA-8361-9DA1B8FF073F" title="Flashback Database reverses unwanted changes by returning your database to its state at a previous point in time.">Rewinding a Database with Flashback Database</a>"</span> explains how to use the <code class="codeph">FLASHBACK</code> <code class="codeph">DATABASE</code> command to reverse database changes.
                     </p>
                     <p>Flashback Database uses its own logging mechanism, creating <a href="glossary.html#GUID-725ED3D7-5077-4F16-85AA-CDAD5BFCE554"><span class="xrefglossterm">flashback logs</span></a> and storing them in the <a href="glossary.html#GUID-6E3CDD76-A573-4E5C-B12D-59C232C96C19"><span class="xrefglossterm">fast recovery area</span></a>. You can only use Flashback Database if flashback logs are available. To take advantage of this feature, you must set up your database in advance to create flashback logs.
                     </p>
                     <p>To enable Flashback Database, you configure a fast recovery area and set a <a href="glossary.html#GUID-F472DAAD-F619-47F7-B025-7FE21FD9E5DB"><span class="xrefglossterm">flashback retention target</span></a>. This retention target specifies how far back you can rewind a database with Flashback Database.
                     </p>
                     <p>From that time onwards, at regular intervals, the database copies images of each altered block in every data file into the flashback logs. These block images can later be reused to reconstruct the data file contents for any moment at which logs were captured.</p>
                     <p>When you use Flashback Database to rewind a database to a past target time, the command determines which blocks changed after the target time and restores them from the flashback logs. The database restores the version of each block that is immediately before the target time. The database then uses redo logs to reapply changes that were made after these blocks were written to the flashback logs.</p>
                     <p>Redo logs on disk or tape must be available for the entire time period spanned by the flashback logs. For example, if the flashback retention target is 1 week, then you must ensure that online and archived redo logs that contain all changes for the past week are accessible. In practice, redo logs are typically needed much longer than the flashback retention target to support point-in-time recovery.</p>
                  </div>
               </div><a id="BRADV583"></a><div class="props_rev_3"><a id="GUID-9699CDF3-C01E-4104-8452-8F01443760AC" name="GUID-9699CDF3-C01E-4104-8452-8F01443760AC"></a><h4 id="BRADV-GUID-9699CDF3-C01E-4104-8452-8F01443760AC" class="sect4"><span class="enumeration_section">7.1.2 </span>About Flashback Database Window
                  </h4>
                  <div>
                     <p>The range of SCNs for which there is currently enough flashback log data to support the <code class="codeph">FLASHBACK DATABASE</code> command is called the flashback database window. The flashback database window cannot extend further back than the earliest SCN in the available flashback logs.
                     </p>
                     <p>You cannot back up flashback logs to locations outside the fast recovery area. To increase the likelihood that enough flashback logs are retained to meet the flashback database window, you can increase the space in your fast recovery area (see <span class="q">"<a href="configuring-rman-client-basic.html#GUID-233338E2-3EE6-4248-A2B6-16A7899DB14F__CHDDJJHE" title="This table describes the DB_RECOVERY_FILE_DEST_SIZE and DB_RECOVERY_FILE_DEST parameters.">Table 5-3</a>"</span>).
                     </p>
                     <p>If the fast recovery area is not large enough to hold the flashback logs and files such as archived redo logs and other backups needed for the retention policy, then the database may delete flashback logs from the earliest SCNs forward to make room for other files. Consequently, the flashback database window can be shorter than the flashback retention target, depending on the size of the fast recovery area, other backups that must be retained, and how much flashback logging data is needed. The flashback retention target is a target, not a guarantee that Flashback Database is available.</p>
                     <p>If you cannot use <code class="codeph">FLASHBACK DATABASE</code> because the flashback database window is not long enough, then usually you can use database point-in-time recovery (DBPITR) to achieve a similar result. Guaranteed restore points are the only way to ensure that you can use Flashback Database to return to a specific point in time or guarantee the size of the flashback window.
                     </p>
                     <div class="infoboxnote" id="GUID-9699CDF3-C01E-4104-8452-8F01443760AC__GUID-CA78ADB1-9F49-4235-ADF1-471147F6858A">
                        <p class="notep1">Note:</p>
                        <p>Some database operations, such as dropping a tablespace or shrinking a data file, cannot be reversed with Flashback Database. See <span class="q">"<a href="using-flasback-database-restore-points.html#GUID-28EB12CA-6E98-4ED4-A798-1326E4A938AB" title="Because Flashback Database works by undoing changes to the data files that exist at the moment when you run the command, it has certain limitations.">Limitations of Flashback Database</a>"</span> for details.
                        </p>
                     </div>
                     <div class="infoboxnotealso" id="GUID-9699CDF3-C01E-4104-8452-8F01443760AC__GUID-CDAA88FD-BB79-406E-882C-4FFBA793F84D">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="rman-performing-flashback-dbpitr.html#GUID-953FA30D-BED2-4DBA-8361-9DA1B8FF073F" title="Flashback Database reverses unwanted changes by returning your database to its state at a previous point in time.">Rewinding a Database with Flashback Database</a> to learn about Flashback Database
                              </p>
                           </li>
                           <li>
                              <p><a href="rman-performing-flashback-dbpitr.html#GUID-7D3EE2F7-77A2-4264-8875-CC0AEC64ABE0" title="RMAN DBPITR restores the database from backups before the target time for recovery, then uses incremental backups and redo to roll the database forward to the target time. You can recover to an SCN, time, log sequence number, or restore point. Oracle recommends that you create restore points at important times to make point-in-time recovery more manageable if it ever becomes necessary.">Performing Database Point-in-Time Recovery</a> to learn about DBPITR
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="BRADV286"></a><div class="props_rev_3"><a id="GUID-28EB12CA-6E98-4ED4-A798-1326E4A938AB" name="GUID-28EB12CA-6E98-4ED4-A798-1326E4A938AB"></a><h4 id="BRADV-GUID-28EB12CA-6E98-4ED4-A798-1326E4A938AB" class="sect4"><span class="enumeration_section">7.1.3 </span>Limitations of Flashback Database
                  </h4>
                  <div>
                     <p>Because Flashback Database works by undoing changes to the data files that exist at the moment when you run the command, it has certain limitations.</p>
                     <p>Following are the limitations of Flashback Database:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Flashback Database can only undo changes to a data file made by Oracle Database. It cannot be used to repair media failures, or to recover from accidental deletion of data files.</p>
                        </li>
                        <li>
                           <p>You cannot use Flashback Database to undo a shrink data file operation. However, you can take the shrunken file offline, flash back the rest of the database, and then later restore and recover the shrunken data file.</p>
                        </li>
                        <li>
                           <p>You cannot use Flashback Database alone to retrieve a dropped data file. If you flash back a database to a time when a dropped data file existed in the database, only the data file entry is added to the control file. You can only recover the dropped data file by using RMAN to fully restore and recover the data file.</p>
                        </li>
                        <li>
                           <p>If the database control file is restored from backup or re-created, all accumulated flashback log information is discarded. You cannot use <code class="codeph">FLASHBACK DATABASE</code> to return to a point in time before the restore or re-creation of a control file.
                           </p>
                        </li>
                        <li>
                           <p>When using Flashback Database with a target time at which a <code class="codeph">NOLOGGING</code> operation was in progress, block corruption is likely in the database objects and data files affected by the <code class="codeph">NOLOGGING</code> operation. For example, if you perform a direct-path <code class="codeph">INSERT</code> operation in <code class="codeph">NOLOGGING</code> mode, and that operation runs from 9:00 to 9:15 on April 3, 2005, and you later use Flashback Database to return to the target time 09:07 on that date, the objects and data files updated by the direct-path <code class="codeph">INSERT</code> may be left with block corruption after the Flashback Database operation completes.
                           </p>
                           <p>If possible, avoid using Flashback Database with a target time or SCN that coincides with a <code class="codeph">NOLOGGING</code> operation. Also, perform a full or incremental backup of the affected data files immediately after any <code class="codeph">NOLOGGING</code> operation to ensure recoverability to points in time after the operation. If you expect to use Flashback Database to return to a point in time during an operation such as a direct-path <code class="codeph">INSERT</code>, consider performing the operation in <code class="codeph">LOGGING</code> mode.
                           </p>
                           <div class="infoboxnotealso" id="GUID-28EB12CA-6E98-4ED4-A798-1326E4A938AB__GUID-76D3EF63-9FC7-4084-ACEA-9F811164EAEA">
                              <p class="notep1">See Also:</p>
                              <p><a href="../sqlrf/logging_clause.html#SQLRF30009" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for more information about operations that support<code class="codeph"> NOLOGGING</code> mode.
                              </p>
                           </div>
                        </li>
                     </ul>
                  </div>
               </div><a id="BRADV529"></a><div class="props_rev_3"><a id="GUID-1EE0CCDD-BAA4-402B-B808-D228212AF772" name="GUID-1EE0CCDD-BAA4-402B-B808-D228212AF772"></a><h4 id="BRADV-GUID-1EE0CCDD-BAA4-402B-B808-D228212AF772" class="sect4"><span class="enumeration_section">7.1.4 </span>About Normal Restore Points
                  </h4>
                  <div>
                     <p>Creating a normal restore point assigns a restore point name to an SCN or specific point in time.</p>
                     <p>Thus, a restore point functions as a bookmark or alias for this SCN. Before performing any operation that you may have to reverse, you can create a normal restore point. The control file stores the name of the restore point and the SCN.</p>
                     <p>If you use flashback features or point-in-time recovery, then you can use the name of the restore point instead of a time or SCN. The following commands support this use of restore points:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The <a href="../rcmrf/RECOVER.html#RCMRF140" target="_blank"><code class="codeph">RECOVER DATABASE</code></a> and <code class="codeph">FLASHBACK DATABASE</code> commands in RMAN 
                           </p>
                        </li>
                        <li>
                           <p>The <a href="../sqlrf/FLASHBACK-TABLE.html#SQLRF01802" target="_blank"><code class="codeph">FLASHBACK TABLE</code></a> statement in SQL
                           </p>
                        </li>
                     </ul>
                     <p>Creating a normal restore point eliminates manually recording an SCN in advance or determine the correct SCN after the fact by using features such as Flashback Query. </p>
                     <p>Normal restore points are lightweight. The control file can maintain a record of thousands of normal restore points with no significant effect on database performance. Normal restore points eventually age out of the control file if not manually deleted, so they require no ongoing maintenance.</p>
                     <div class="infoboxnotealso" id="GUID-1EE0CCDD-BAA4-402B-B808-D228212AF772__GUID-04F2EBB0-9D6A-42CE-A57B-278B783C0C6F">
                        <p class="notep1">See Also:</p>
                        <p><a href="../adfns/flashback.html#ADFNS1008" target="_blank"><span><cite>Oracle Database Development Guide</cite></span></a> to learn how to use Flashback Query
                        </p>
                     </div>
                  </div>
               </div><a id="BRADV530"></a><div class="props_rev_3"><a id="GUID-82523F18-5AE7-40C8-972D-35A9423F19B7" name="GUID-82523F18-5AE7-40C8-972D-35A9423F19B7"></a><h4 id="BRADV-GUID-82523F18-5AE7-40C8-972D-35A9423F19B7" class="sect4"><span class="enumeration_section">7.1.5 </span>About Guaranteed Restore Points
                  </h4>
                  <div>
                     <p>Like a normal restore point, a guaranteed restore point serves as an alias for an SCN in recovery operations. A principal difference is that guaranteed restore points never age out of the control file and must be explicitly dropped. </p>
                     <p>In general, you can use a guaranteed restore point as an alias for an SCN with any command that works with a normal restore point. Except as noted, the information about where and how to use normal restore points applies to guaranteed restore points as well.</p>
                     <p>A guaranteed restore point ensures that you can use Flashback Database to rewind a database to its state at the restore point SCN, even if the generation of <a href="glossary.html#GUID-725ED3D7-5077-4F16-85AA-CDAD5BFCE554"><span class="xrefglossterm">flashback logs</span></a> is disabled. If flashback logging is enabled, then a guaranteed restore point enforces the retention of flashback logs required for Flashback Database to any SCN after the earliest guaranteed restore point. Thus, if flashback logging is enabled, you can rewind the database to any SCN in the continuum rather than to a single SCN only.
                     </p>
                     <div class="infoboxnote" id="GUID-82523F18-5AE7-40C8-972D-35A9423F19B7__GUID-6108369A-D8BC-4DD7-93F6-A811F2A453E9">
                        <p class="notep1">Note:</p>
                        <p>If flashback logging is disabled, then you <span class="italic">cannot</span> <code class="codeph">FLASHBACK DATABASE</code> directly to SCNs between the guaranteed restore points and the current time. You can, however, flashback to the guaranteed restore point first and then recover to SCN's between the guaranteed restore point and current time. 
                        </p>
                     </div>
                     <p>If the recovery area has enough disk space to store the needed logs, then you can use a guaranteed restore point to rewind a whole database to a known good state days or weeks ago. As with Flashback Database, even the effects of <code class="codeph">NOLOGGING</code> operations like direct load inserts can be reversed with guaranteed restore points.
                     </p>
                     <div class="infoboxnote" id="GUID-82523F18-5AE7-40C8-972D-35A9423F19B7__GUID-B993BD4D-AB0A-4E19-B8EA-0FF07F26656E">
                        <p class="notep1">Note:</p>
                        <p>Limitations that apply to Flashback Database also apply to guaranteed restore points. For example, shrinking a data file or dropping a tablespace can prevent flashing back the affected data files to the guaranteed restore point. See <span class="q">"<a href="using-flasback-database-restore-points.html#GUID-28EB12CA-6E98-4ED4-A798-1326E4A938AB" title="Because Flashback Database works by undoing changes to the data files that exist at the moment when you run the command, it has certain limitations.">Limitations of Flashback Database</a>"</span> for details. In addition, when there are guaranteed restore points in the database, the database compatibility parameter cannot be set to a higher database version. An attempt to do so results in an error. This restriction exists because flashback database is currently unable to reverse the effects of increasing the database version with the compatibility initialization parameter.
                        </p>
                     </div>
                  </div><a id="BRADV543"></a><div class="props_rev_3"><a id="GUID-F70E202F-A53C-4E33-AB0F-7091EA3DE608" name="GUID-F70E202F-A53C-4E33-AB0F-7091EA3DE608"></a><h5 id="BRADV-GUID-F70E202F-A53C-4E33-AB0F-7091EA3DE608" class="sect5"><span class="enumeration_section">7.1.5.1 </span>Guaranteed Restore Points versus Storage Snapshots
                     </h5>
                     <div>
                        <p>In practice, guaranteed restore points provide a useful alternative to storage snapshots.</p>
                        <p>Storage snapshots are often used to protect a database before risky operations such as large-scale database updates or application patches or upgrades. Rather than creating a snapshot or <a href="glossary.html#GUID-FFB6CFD5-300C-4290-B3C0-BFD930ACA30C"><span class="xrefglossterm">duplicate database</span></a> to test the operation, you can create a guaranteed restore point on a primary or <a href="glossary.html#GUID-009B3F56-8C1E-4CF6-AF0F-A9D2C2E4B9C2"><span class="xrefglossterm">physical standby database</span></a>. You can then perform the risky operation with the certainty that the required flashback logs are retained.
                        </p>
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-1150031F-3C15-40C8-BA91-A387F75DC49A" name="GUID-1150031F-3C15-40C8-BA91-A387F75DC49A"></a><h4 id="BRADV-GUID-1150031F-3C15-40C8-BA91-A387F75DC49A" class="sect4"><span class="enumeration_section">7.1.6 </span>Overview of Restore Points in a Multitenant Environment
                  </h4>
                  <div>
                     <p> You can create both normal and guaranteed restore points in a multitenant environment.</p>
                     <p>The basic concepts of restore points for databases are also applicable to restore points in a multitenant environment. You can create the following types of restore points in a multitenant environment:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>CDB restore point</p>
                        </li>
                        <li>
                           <p>PDB restore point</p>
                        </li>
                        <li>
                           <p>Clean PDB restore point</p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-1150031F-3C15-40C8-BA91-A387F75DC49A__GUID-8755F8B6-622E-4F09-B935-65BC555C1852">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="using-flasback-database-restore-points.html#GUID-FAA04D1F-36E2-4B20-954F-845E42386775" title="Oracle Flashback Database and restore points are related data protection features that enable you to rewind data back in time to correct any problems caused by logical data corruption or user errors within a designated time window.">Overview of Flashback Database, Restore Points and Guaranteed Restore Points</a></p>
                           </li>
                           <li>
                              <p><a href="using-flasback-database-restore-points.html#GUID-434CD26D-D3DC-454B-A598-70F64D7C01EB" title="A CDB restore point serves as an alias for an SCN or a point in time in a multitenant container database (CDB). It can be a normal restore point or a guaranteed restore point.">About CDB Restore Points</a></p>
                           </li>
                           <li>
                              <p><a href="using-flasback-database-restore-points.html#GUID-34C48821-B29D-4A2E-94DE-CD97CFA7784E" title="You can create normal and guaranteed restore points in a pluggable database (PDB). PDB restore points are accessible only to the PDB in which they are defined.">About Restore Points in PDBs</a></p>
                           </li>
                           <li>
                              <p><a href="using-flasback-database-restore-points.html#GUID-B48EF079-BBAF-45C3-8FB5-8BA5BBE90BE4" title="Each pluggable database (PDB) has its own namespace for restore points. Therefore, you can define a PDB restore point with the same name in more than one PDB.">About the Namespace for PDB Restore Points</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-434CD26D-D3DC-454B-A598-70F64D7C01EB" name="GUID-434CD26D-D3DC-454B-A598-70F64D7C01EB"></a><h5 id="BRADV-GUID-434CD26D-D3DC-454B-A598-70F64D7C01EB" class="sect5"><span class="enumeration_section">7.1.6.1 </span>About CDB Restore Points
                     </h5>
                     <div>
                        <p> A CDB restore point serves as an alias for an SCN or a point in time in a multitenant container database (CDB). It can be a normal restore point or a guaranteed restore point.</p>
                        <p>CDB restore points are similar to restore points in a non-CDB, except that you need to connect to the root as a common user with the <code class="codeph">SYSDBA</code> or <code class="codeph">SYSBACKUP</code> privilege to create them. You can create CDB restore points starting with Oracle Database 12<span class="italic">c</span> Release 1 (12.1). CDB restore points are accessible to every <a href="glossary.html#GUID-D4239448-A344-41EF-9566-0B7716FEAE72"><span class="xrefglossterm">pluggable database (PDB)</span></a> within the CDB. However, a CDB restore point does not reflect the PDB sub-incarnation of any of its PDBs. 
                        </p>
                        <p>CDB restore points are useful in the following scenarios:</p>
                        <div class="p">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The whole CDB needs to be recovered to a particular point in time</p>
                              </li>
                              <li>
                                 <p>Multiple PDBs in a CDB need to be recovered to a particular point in time</p>
                              </li>
                           </ul>
                        </div>
                        <div class="infoboxnotealso" id="GUID-434CD26D-D3DC-454B-A598-70F64D7C01EB__GUID-7E1B6E0B-21C0-4318-B1DF-8A200C839894">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="using-flasback-database-restore-points.html#GUID-1150031F-3C15-40C8-BA91-A387F75DC49A" title="You can create both normal and guaranteed restore points in a multitenant environment.">Overview of Restore Points in a Multitenant Environment</a></p>
                              </li>
                              <li>
                                 <p><a href="using-flasback-database-restore-points.html#GUID-34C48821-B29D-4A2E-94DE-CD97CFA7784E" title="You can create normal and guaranteed restore points in a pluggable database (PDB). PDB restore points are accessible only to the PDB in which they are defined.">About Restore Points in PDBs</a></p>
                              </li>
                              <li>
                                 <p><a href="rman-performing-flashback-dbpitr.html#GUID-A2146E48-16FC-40CC-B25D-902DEB93CB75" title="You can perform a Flashback Database operation for a whole multitenant container database (CDB) or for a particular pluggable database (PDB).">Basic Concepts of Performing Flashback Database for CDBs and PDBs</a></p>
                              </li>
                              <li>
                                 <p><a href="rman-performing-flashback-dbpitr.html#GUID-8466CA3C-652A-4AAB-88EB-8815575D6266" title="You can perform a flashback database operation for a whole multitenant container database (CDB) using the FLASHBACK DATABASE command.">Performing a Flashback Database Operation for a Whole CDB</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-34C48821-B29D-4A2E-94DE-CD97CFA7784E" name="GUID-34C48821-B29D-4A2E-94DE-CD97CFA7784E"></a><h5 id="BRADV-GUID-34C48821-B29D-4A2E-94DE-CD97CFA7784E" class="sect5"><span class="enumeration_section">7.1.6.2 </span>About Restore Points in PDBs
                     </h5>
                     <div>
                        <p> You can create normal and guaranteed restore points in a pluggable database (PDB). PDB restore points are accessible only to the PDB in which they are defined.</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-34C48821-B29D-4A2E-94DE-CD97CFA7784E__GUID-3D24200C-BF0F-40F9-A313-F7C61DC3D1B1">PDB Restore Points</p>
                           <p>A PDB restore point is a bookmark to a point in time or an SCN in a particular <a href="glossary.html#GUID-D4239448-A344-41EF-9566-0B7716FEAE72"><span class="xrefglossterm">pluggable database (PDB)</span></a>. It pertains only to the PDB for which it is created and is only usable for operations on that PDB. A PDB restore point represents the PDB sub-incarnation of the point in time at which it was created.
                           </p>
                           <p>PDB restore points can be normal restore points or guaranteed restore points. A guaranteed PDB restore point guarantees that you can perform a flashback operation for the PDB to this restore point.</p>
                           <p>A PDB restore point can be used to perform Flashback Database operations or point-in-time recovery only for the PDB in which it was created.</p>
                           <div class="infoboxnote" id="GUID-34C48821-B29D-4A2E-94DE-CD97CFA7784E__GUID-089C70FC-0407-4230-857E-D48FB875DBD3">
                              <p class="notep1">Note:</p>Creating a guaranteed PDB restore point requires careful consideration because such a restore point can prevent required flashback logs in the <a href="glossary.html#GUID-3E156A59-F6CC-4A2A-9749-DB7D1CE25F13"><span class="xrefglossterm">multitenant container database (CDB)</span></a> from being reused. This can potentially impact CDB functioning because the fast recovery area could run out of space.
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-34C48821-B29D-4A2E-94DE-CD97CFA7784E__GUID-E2BAB79B-382A-4B96-AA7B-1208CF6509DE">Clean PDB Restore Points</p>
                           <p>A clean PDB restore point is a PDB restore point that is created when the PDB is closed and when there are no outstanding transactions for that PDB. Clean PDB restore points are only applicable to CDBs that use shared undo. </p>
                           <p>Clean PDB restore points can be normal or guaranteed restore points. Use the <code class="codeph">CREATE CLEAN RESTORE POINT</code> command to explicitly create a clean PDB restore point. For a CDB that uses shared undo, if a PDB is closed and it has no outstanding transactions, any PDB restore point created is marked as a clean PDB restore point.
                           </p>
                           <p>If you anticipate that you may need to rewind a PDB to a particular point in time, for example, to a state just before an application upgrade, then it is recommended that you create a clean PDB guaranteed restore point.</p>
                           <p>For CDBs that use shared undo, a Flashback Database operation to a clean PDB restore point is faster than a Flashback Database operation to an SCN or other restore points that are not clean PDB restore points. This is because RMAN does not need to restore any backups while performing a flashback operation to a clean PDB restore point.</p>
                           <div class="infoboxnotealso" id="GUID-34C48821-B29D-4A2E-94DE-CD97CFA7784E__GUID-3943E87F-DF4B-40DD-852D-191E5BBF2434">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="using-flasback-database-restore-points.html#GUID-B48EF079-BBAF-45C3-8FB5-8BA5BBE90BE4" title="Each pluggable database (PDB) has its own namespace for restore points. Therefore, you can define a PDB restore point with the same name in more than one PDB.">About the Namespace for PDB Restore Points</a></p>
                                 </li>
                                 <li>
                                    <p><a href="using-flasback-database-restore-points.html#GUID-434CD26D-D3DC-454B-A598-70F64D7C01EB" title="A CDB restore point serves as an alias for an SCN or a point in time in a multitenant container database (CDB). It can be a normal restore point or a guaranteed restore point.">About CDB Restore Points</a></p>
                                 </li>
                                 <li>
                                    <p><a href="rman-performing-flashback-dbpitr.html#GUID-A2146E48-16FC-40CC-B25D-902DEB93CB75" title="You can perform a Flashback Database operation for a whole multitenant container database (CDB) or for a particular pluggable database (PDB).">Basic Concepts of Performing Flashback Database for CDBs and PDBs</a></p>
                                 </li>
                                 <li>
                                    <p><a href="rman-performing-flashback-dbpitr.html#GUID-C1215E86-9A7B-4EC9-9777-2A18BD627394" title="You can perform a flashback database operation for a single pluggable database (PDB) in a multitenant container database (CDB) using the FLASHBACK DATABASE command.">Performing a Flashback Database Operation for PDBs</a></p>
                                 </li>
                                 <li>
                                    <p><a href="rman-data-repair-concepts.html#GUID-195FE6CA-9CEB-4ED1-9810-F7323F119D87" title="A pluggable database (PDB) incarnation is a subincarnation of the multitenant container database (CDB) and is expressed as (database_incarnation, pdb_incarnation).">About Incarnations of PDBs</a></p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-B48EF079-BBAF-45C3-8FB5-8BA5BBE90BE4" name="GUID-B48EF079-BBAF-45C3-8FB5-8BA5BBE90BE4"></a><h5 id="BRADV-GUID-B48EF079-BBAF-45C3-8FB5-8BA5BBE90BE4" class="sect5"><span class="enumeration_section">7.1.6.3 </span>About the Namespace for PDB Restore Points
                     </h5>
                     <div>
                        <p> Each pluggable database (PDB) has its own namespace for restore points. Therefore, you can define a PDB restore point with the same name in more than one PDB.</p>
                        <p>In a multitenant environment, when you use a restore point name in a PDB or for a PDB operation, the name is first interpreted as a <a href="glossary.html#GUID-7C3A47D4-B9C5-40D3-89D0-8BD77281AAB1"><span class="xrefglossterm">PDB restore point</span></a> for the concerned PDB. If a PDB restore point with the specified name is not found, then it is interpreted as a <a href="glossary.html#GUID-6BFC6E77-175D-4055-8198-6091D47AD8F6"><span class="xrefglossterm">CDB restore point</span></a>. 
                        </p>
                        <div class="infoboxnotealso" id="GUID-B48EF079-BBAF-45C3-8FB5-8BA5BBE90BE4__GUID-0A64EBF8-E3C5-408F-8C6A-F0A3CF405C9A">
                           <p class="notep1">See Also:</p>
                           <p><a href="using-flasback-database-restore-points.html#GUID-34C48821-B29D-4A2E-94DE-CD97CFA7784E" title="You can create normal and guaranteed restore points in a pluggable database (PDB). PDB restore points are accessible only to the PDB in which they are defined.">About Restore Points in PDBs</a></p>
                        </div>
                     </div>
                  </div>
               </div>
            </div><a id="BRADV577"></a><div class="props_rev_3"><a id="GUID-E90F7FBD-CCE2-4234-A3B4-FDFEC3BC2E90" name="GUID-E90F7FBD-CCE2-4234-A3B4-FDFEC3BC2E90"></a><h3 id="BRADV-GUID-E90F7FBD-CCE2-4234-A3B4-FDFEC3BC2E90" class="sect3"><span class="enumeration_section">7.2 </span>About Logging for Flashback Database and Guaranteed Restore Points
               </h3>
               <div>
                  <p>Logging for Flashback Database and guaranteed restore points involves capturing images of data file blocks before changes are applied. The <code class="codeph">FLASHBACK DATABASE</code> command can use these images to return the data files to their previous state.
                  </p>
                  <p>The chief differences between normal flashback logging and logging for guaranteed restore points are related to when blocks are logged and whether the logs can be deleted in response to space pressure in the fast recovery area. These differences affect space usage for logs and database performance.</p>
                  <p>Your recoverability goals partially determine whether to enable logging for flashback database, or use guaranteed restore points, or both. The implications in performance and in space usage for these features, separately and when used together, also factor into your decision.</p>
               </div><a id="BRADV581"></a><div class="props_rev_3"><a id="GUID-36048C35-BCC7-4D1F-8E2A-C2254D732EEE" name="GUID-36048C35-BCC7-4D1F-8E2A-C2254D732EEE"></a><h4 id="BRADV-GUID-36048C35-BCC7-4D1F-8E2A-C2254D732EEE" class="sect4"><span class="enumeration_section">7.2.1 </span>Guaranteed Restore Points and Fast Recovery Area Space Usage 
                  </h4>
                  <div>
                     <p>Certain rules govern the usage of space in the fast recovery area.</p>
                     <p>When you create a guaranteed restore point, with or without enabling full flashback database logging, you must monitor the space available in your fast recovery area. <span class="q">"<a href="maintaining-rman-backups.html#GUID-26C1A1E8-5555-4399-9DD1-39BA90E45A0C" title="You cannot manage the flashback logs in the fast recovery area directly other than by setting the flashback retention target or using guaranteed restore points.">Managing Space for Flashback Logs in the Fast Recovery Area</a>"</span> explains how to monitor fast recovery area disk space usage.
                     </p>
                     <p>The following rules govern creating, retaining, overwriting and deleting of flashback logs in the fast recovery area:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>If the fast recovery area has enough space, then a flashback log is created whenever necessary to satisfy the flashback retention target.</p>
                        </li>
                        <li>
                           <p>If a flashback log is old enough that it is no longer needed to satisfy the flashback retention target, then a flashback log is reused.</p>
                        </li>
                        <li>
                           <p>If the database must create a flashback log and the fast recovery area is full or there is no disk space, then the oldest flashback log is reused instead.</p>
                           <div class="infoboxnote" id="GUID-36048C35-BCC7-4D1F-8E2A-C2254D732EEE__GUID-AF4F2CFC-7C8D-4C5D-8922-E0FF099A4C11">
                              <p class="notep1">Note:</p>
                              <p>Reusing the oldest flashback log shortens the flashback database window. If enough flashback logs are reused due to a lack of disk space, then the flashback retention target may not be satisfied. </p>
                           </div>
                        </li>
                        <li>
                           <p>If the fast recovery area is full, then an archived redo log that is reclaimable according to the fast recovery area rules may be automatically deleted by the fast recovery area to make space for other files. In this case, any flashback logs that require the use of that redo log file for the use of <code class="codeph">FLASHBACK DATABASE</code> are also deleted.
                           </p>
                           <div class="infoboxnote" id="GUID-36048C35-BCC7-4D1F-8E2A-C2254D732EEE__GUID-8D953A0A-806D-43DB-AF26-DFA84707E8FE">
                              <p class="notep1">Note:</p>
                              <p>According to fast recovery area rules, a file is reclaimable when one of the following criteria is true: </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>The file is reported as obsolete and not needed by the flashback database. For example, the file is outside the <code class="codeph">DB_FLASHBACK_RETENTION_TARGET</code> parameters. 
                                    </p>
                                 </li>
                                 <li>
                                    <p>The file is backed up to tape.</p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li>
                           <p>Files in the fast recovery area are not eligible for deletion if they are required to satisfy a guaranteed restore point. However, archived redo logs required to satisfy a guaranteed restore point may be deleted after they are backed up to disk or tape. When you use the RMAN <code class="codeph">FLASHBACK DATABASE</code> command, if the archived redo logs required to satisfy a specified guaranteed restore point are not available in the fast recovery area, they are restored from the backups.
                           </p>
                           <p>Retention of flashback logs and other files required to satisfy the guaranteed restore point, in addition to files required to satisfy the backup retention policy, can cause the fast recovery area to fill completely. Consult <span class="q">"<a href="maintaining-rman-backups.html#GUID-3F11ECB5-1321-45F5-A557-BB1A5BAF011F" title="If the RMAN retention policy requires keeping a set of backups larger than the fast recovery area disk quota, or if the retention policy is set to NONE, then the fast recovery area can fill completely with no reclaimable space.">Responding to a Full Fast Recovery Area</a>"</span> if your fast recovery area becomes full.
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-36048C35-BCC7-4D1F-8E2A-C2254D732EEE__GUID-DE859F0F-29CD-4859-9113-B871BD4DC08D">
                        <p class="notep1">Caution:</p>
                        <p>If no files are eligible for deletion from the fast recovery area because of the requirements imposed by your retention policy and the guaranteed restore point, then the database performs as if it has encountered a disk full condition. In many circumstances, this causes your database to halt. See <span class="q">"<a href="maintaining-rman-backups.html#GUID-3F11ECB5-1321-45F5-A557-BB1A5BAF011F" title="If the RMAN retention policy requires keeping a set of backups larger than the fast recovery area disk quota, or if the retention policy is set to NONE, then the fast recovery area can fill completely with no reclaimable space.">Responding to a Full Fast Recovery Area</a>"</span>.
                        </p>
                     </div>
                  </div>
               </div><a id="BRADV584"></a><div class="props_rev_3"><a id="GUID-D0FAAADC-6185-4F8D-A557-18346EE3BDFF" name="GUID-D0FAAADC-6185-4F8D-A557-18346EE3BDFF"></a><h4 id="BRADV-GUID-D0FAAADC-6185-4F8D-A557-18346EE3BDFF" class="sect4"><span class="enumeration_section">7.2.2 </span>About Logging for Guaranteed Restore Points with Flashback Logging Disabled
                  </h4>
                  <div>
                     <p>Assume that you create a guaranteed restore point when logging for Flashback Database is disabled. In this case, the first time a data file block is modified after the time of the guaranteed restore point, the database stores an image of the block before the modification in the flashback logs. Thus, the flashback logs preserve the contents of every changed data block when the guaranteed restore point was created. Later modifications to the same block do not cause the contents to be logged again unless another guaranteed restore point was created after the block was last modified or a subsequent flashback database operation has restored the original contents of the block. When you use Flashback Database to restore a database multiple times to the same restore point, it is common practise to  drop and recreate the guaranteed restore point each time. This deletes the old flashback logs and also ensures that the  space quota for the fast recovery area is not exceeded.</p>
                     <p>This method of logging has the following important consequences:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">FLASHBACK DATABASE</code> can re-create the data file contents at the time of a guaranteed restore point by using the block images. 
                           </p>
                        </li>
                        <li>
                           <p>For workloads that repeatedly modify the same data, disk space usage can be less than normal flashback logging. Less space is needed because each changed block is only logged once. Applications with low volume inserts may benefit from this disk space saving. This advantage is less likely for applications with high volume inserts or large batch inserts. The performance overhead of logging for a guaranteed restore point without flashback database logging enabled can also be lower.</p>
                        </li>
                     </ul>
                     <p>Assume that your primary goal is the ability to return your database to the time at which the guaranteed restore point was created. In this case, it is usually more efficient to turn off flashback logging and use only guaranteed restore points. For example, suppose that you are performing an application upgrade on a database host over a weekend. You could create a guaranteed restore point at the start of the upgrade. If the upgrade fails, then reverse the changes with the <code class="codeph">FLASHBACK DATABASE</code> command.
                     </p>
                  </div>
               </div><a id="BRADV585"></a><div class="props_rev_3"><a id="GUID-502D1646-2A81-4F04-BC3A-1927298A8F8D" name="GUID-502D1646-2A81-4F04-BC3A-1927298A8F8D"></a><h4 id="BRADV-GUID-502D1646-2A81-4F04-BC3A-1927298A8F8D" class="sect4"><span class="enumeration_section">7.2.3 </span>About Logging for Flashback Database with Guaranteed Restore Points Defined
                  </h4>
                  <div>
                     <p>If you enable Flashback Database and define one or more guaranteed restore points, then the database performs normal flashback logging. </p>
                     <p>In this case, the recovery area retains the flashback logs required to flash back to any arbitrary time between the present and the earliest currently defined guaranteed restore point. Flashback logs are not deleted in response to space pressure if they are required to satisfy the guarantee.</p>
                     <p>Flashback logging causes some performance overhead. Depending upon the pattern of activity on your database, it can also cause significant space pressure in the fast recovery area. Thus, you should monitor space used in the fast recovery area.</p>
                  </div>
               </div>
            </div><a id="BRADV587"></a><a id="BRADV588"></a><a id="BRADV586"></a><div class="props_rev_3"><a id="GUID-AE2AD6A0-507A-4E40-A8FF-76AFC88EC56D" name="GUID-AE2AD6A0-507A-4E40-A8FF-76AFC88EC56D"></a><h3 id="BRADV-GUID-AE2AD6A0-507A-4E40-A8FF-76AFC88EC56D" class="sect3"><span class="enumeration_section">7.3 </span>Prerequisites for Flashback Database and Restore Points
               </h3>
               <div>
                  <p>To ensure successful operation of Flashback Database and guaranteed restore points, you must first set some key database options.</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-AE2AD6A0-507A-4E40-A8FF-76AFC88EC56D__GUID-87114FE1-B383-4CB4-B570-357182ED62F3">Flashback Database</p>
                  </div>
                  <!-- class="section" -->
                  <p>Configure the following database settings before enabling Flashback Database:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Your database must be running in <code class="codeph">ARCHIVELOG</code> mode, because archived logs are used in the Flashback Database operation.
                        </p>
                     </li>
                     <li>
                        <p>You must have a fast recovery area enabled, because flashback logs can only be stored in the fast recovery area. </p>
                     </li>
                     <li>
                        <p>For Oracle Real Application Clusters (Oracle RAC) databases, the fast recovery area must be in a clustered file system or in ASM.</p>
                        <p></p>
                     </li>
                     <li>
                        <p>For creating restore points in CDBs, the <code class="codeph">COMPATIBLE</code> initialization parameter must be set to 12.1.0 or higher.
                        </p>
                     </li>
                  </ul>
                  <div class="section">
                     <p class="subhead2" id="GUID-AE2AD6A0-507A-4E40-A8FF-76AFC88EC56D__GUID-445F9F3A-43B3-497A-A7DB-D40039A65732">Guaranteed Restore Points</p>
                  </div>
                  <!-- class="section" -->
                  <p>To use guaranteed restore points, the database must satisfy the following additional prerequisite: the <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/bradv&amp;id=REFRN10019" target="_blank"><code class="codeph">COMPATIBLE</code></a> initialization parameter must be set to 10.2.0 or greater.
                  </p>
                  <div class="infoboxnote" id="GUID-AE2AD6A0-507A-4E40-A8FF-76AFC88EC56D__GUID-5DA71B43-3FF6-410F-ADC8-7002C19DA1EA">
                     <p class="notep1">Note:</p>
                     <p>There are no special prerequisites to set before using normal restore points.</p>
                  </div>
                  <div class="section">
                     <p class="subhead2" id="GUID-AE2AD6A0-507A-4E40-A8FF-76AFC88EC56D__GUID-953B42D0-1F22-4958-BF09-8BC0528FB166">Restore Points in PDBs</p>To create restore points in a <a href="glossary.html#GUID-D4239448-A344-41EF-9566-0B7716FEAE72"><span class="xrefglossterm">pluggable database (PDB)</span></a>, the <code class="codeph">COMPATIBLE</code> initialization parameter must be set to 12.2.0 or higher.
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="BRADV589"></a><div class="props_rev_3"><a id="GUID-2C846D84-EDCC-4FAA-9F6A-05CD0C6C7C09" name="GUID-2C846D84-EDCC-4FAA-9F6A-05CD0C6C7C09"></a><h3 id="BRADV-GUID-2C846D84-EDCC-4FAA-9F6A-05CD0C6C7C09" class="sect3"><span class="enumeration_section">7.4 </span>Using Normal and Guaranteed Restore Points
               </h3>
               <div>
                  <p>You can create, monitor, and drop both normal and guaranteed restore points.</p>
                  <p>This section contains the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="using-flasback-database-restore-points.html#GUID-1FD69FF6-F131-47D6-9ED8-592FEA1D13E1" title="To create normal or guaranteed restore points, use the CREATE RESTORE POINT SQL statement, providing a name for the restore point and specifying whether it is to be a guaranteed restore point or a normal one (the default).">Creating Normal and Guaranteed Restore Points in non-CDBs</a></p>
                     </li>
                     <li>
                        <p><a href="using-flasback-database-restore-points.html#GUID-952278F2-DBBA-4CB9-AAC4-616B56837AAB" title="The CREATE RESTORE POINT SQL command enables you to create normal and guaranteed restore points in a multitenant container database (CDB).">Creating CDB Restore Points</a></p>
                     </li>
                     <li>
                        <p><a href="using-flasback-database-restore-points.html#GUID-9363C4B9-48E5-470F-B13B-43FA56667978" title="You use the CREATE RESTORE POINT SQL statement to create restore points in a pluggable database (PDB).">Creating PDB Restore Points</a></p>
                     </li>
                     <li>
                        <p><a href="using-flasback-database-restore-points.html#GUID-305E9D61-0F50-4885-891C-A7D86C6D3C8D">Listing Restore Points Using the LIST Command</a></p>
                     </li>
                     <li>
                        <p><a href="using-flasback-database-restore-points.html#GUID-1A583D44-66CB-4D21-B170-2A07CFF6EE65" title="You can use the V$RESTORE_POINT control file view to obtain information about all currently-defined restore points (normal and guaranteed), including CDB restore points and PDB restore points.">Listing Restore Points Using the V$RESTORE_POINT View</a></p>
                     </li>
                     <li>
                        <p><a href="using-flasback-database-restore-points.html#GUID-A1563822-015B-4941-B7EB-C3D44A63232C" title="When you are satisfied that you do not need an existing restore point, or when you want to create a restore point with the name of an existing restore point, you can drop the restore point, using the DROP RESTORE POINT SQL*Plus statement.">Dropping Restore Points</a></p>
                     </li>
                  </ul>
               </div><a id="BRADV591"></a><a id="BRADV590"></a><div class="props_rev_3"><a id="GUID-1FD69FF6-F131-47D6-9ED8-592FEA1D13E1" name="GUID-1FD69FF6-F131-47D6-9ED8-592FEA1D13E1"></a><h4 id="BRADV-GUID-1FD69FF6-F131-47D6-9ED8-592FEA1D13E1" class="sect4"><span class="enumeration_section">7.4.1 </span>Creating Normal and Guaranteed Restore Points in non-CDBs
                  </h4>
                  <div>
                     <p>To create normal or guaranteed restore points, use the <code class="codeph">CREATE RESTORE POINT</code> SQL statement, providing a name for the restore point and specifying whether it is to be a guaranteed restore point or a normal one (the default).
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-1FD69FF6-F131-47D6-9ED8-592FEA1D13E1__GUID-57886AAB-2D06-490D-A9CC-7CDEB295EF52">To create a restore point:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Connect SQL*Plus to a target database. </span><div>
                              <div class="infoboxnotealso" id="GUID-1FD69FF6-F131-47D6-9ED8-592FEA1D13E1__GUID-B60F84B6-AF9E-436D-8665-24189928BC26">
                                 <p class="notep1">See Also:</p>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/bradv&amp;id=ADMIN-GUID-7842AF72-DA25-4559-A8E7-9883D0C63BF2" target="_blank"><span><cite>Oracle Database Administrators Guide</cite></span></a> for using SQL*Plus to connect to a database
                                 </p>
                              </div>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Ensure that the database is open or mounted. If the database is mounted, then it must have been shut down cleanly (unless it is a physical standby database).</span></li>
                        <li class="stepexpand"><span>Run the <code class="codeph">CREATE RESTORE POINT</code> statement.</span><div>
                              <p>The following example shows how to create a normal restore point in SQL*Plus:</p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE RESTORE POINT before_upgrade;
</pre><p>This example shows how to create a guaranteed restore point:</p><pre class="pre codeblock"><code>SQL&gt; CREATE RESTORE POINT before_upgrade GUARANTEE FLASHBACK DATABASE;</code></pre></div>
                        </li>
                     </ol>
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-1FD69FF6-F131-47D6-9ED8-592FEA1D13E1__GUID-2071B65F-23F8-44AF-A55F-C3E871D9D02B">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../sqlrf/CREATE-RESTORE-POINT.html#SQLRF20001" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for reference information about the SQL <code class="codeph">CREATE RESTORE POINT</code> statement
                                 </p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="using-flasback-database-restore-points.html#GUID-305E9D61-0F50-4885-891C-A7D86C6D3C8D">Listing Restore Points Using the LIST Command</a>"</span> to learn how to list restore point
                                 </p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="using-flasback-database-restore-points.html#GUID-A1563822-015B-4941-B7EB-C3D44A63232C" title="When you are satisfied that you do not need an existing restore point, or when you want to create a restore point with the name of an existing restore point, you can drop the restore point, using the DROP RESTORE POINT SQL*Plus statement.">Dropping Restore Points</a>"</span> to learn how to delete restore points
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-952278F2-DBBA-4CB9-AAC4-616B56837AAB" name="GUID-952278F2-DBBA-4CB9-AAC4-616B56837AAB"></a><h4 id="BRADV-GUID-952278F2-DBBA-4CB9-AAC4-616B56837AAB" class="sect4"><span class="enumeration_section">7.4.2 </span>Creating CDB Restore Points
                  </h4>
                  <div>
                     <p>The <code class="codeph">CREATE RESTORE POINT</code> SQL command enables you to create normal and guaranteed restore points in a multitenant container database (CDB).
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-952278F2-DBBA-4CB9-AAC4-616B56837AAB__GUID-B7C0E398-DF3B-4609-A3BF-8F0F7B56CF41">To create a CDB restore point:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Ensure that the prerequisites described in <a href="using-flasback-database-restore-points.html#GUID-AE2AD6A0-507A-4E40-A8FF-76AFC88EC56D" title="To ensure successful operation of Flashback Database and guaranteed restore points, you must first set some key database options.">Prerequisites for Flashback Database and Restore Points</a> are satisfied.</span></li>
                        <li class="stepexpand"><span>Connect SQL*Plus to the root as a common user with the <code class="codeph">SYSDBA</code> or <code class="codeph">SYSBACKUP</code> privilege.</span></li>
                        <li class="stepexpand"><span>Ensure that the CDB is open or mounted. If the CDB is mounted, then it must have been shut down cleanly (unless it is a physical standby database).</span></li>
                        <li class="stepexpand"><span>Run the <code class="codeph">CREATE RESTORE POINT</code> statement to create a <a href="glossary.html#GUID-6BFC6E77-175D-4055-8198-6091D47AD8F6"><span class="xrefglossterm">CDB restore point</span></a>.</span><div>
                              <p>The following command creates a normal CDB restore point:</p><pre class="pre codeblock"><code>SQL&gt; CREATE RESTORE POINT cdb_before_upgrade;</code></pre><p>The following command creates a guaranteed CDB restore point:</p><pre class="pre codeblock"><code>SQL&gt; CREATE RESTORE POINT cdb_grp_before_upgrade GUARANTEE FLASHBACK DATABASE;</code></pre></div>
                        </li>
                     </ol>
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-952278F2-DBBA-4CB9-AAC4-616B56837AAB__GUID-AD694122-9165-4FD8-A398-FB92EB1E0454">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="using-flasback-database-restore-points.html#GUID-434CD26D-D3DC-454B-A598-70F64D7C01EB" title="A CDB restore point serves as an alias for an SCN or a point in time in a multitenant container database (CDB). It can be a normal restore point or a guaranteed restore point.">About CDB Restore Points</a></p>
                              </li>
                              <li>
                                 <p><a href="using-flasback-database-restore-points.html#GUID-9363C4B9-48E5-470F-B13B-43FA56667978" title="You use the CREATE RESTORE POINT SQL statement to create restore points in a pluggable database (PDB).">Creating PDB Restore Points</a></p>
                              </li>
                              <li>
                                 <p><a href="using-flasback-database-restore-points.html#GUID-1A583D44-66CB-4D21-B170-2A07CFF6EE65" title="You can use the V$RESTORE_POINT control file view to obtain information about all currently-defined restore points (normal and guaranteed), including CDB restore points and PDB restore points.">Listing Restore Points Using the V$RESTORE_POINT View</a></p>
                              </li>
                              <li>
                                 <p><a href="../admin/getting-started-with-database-administration.html#ADMIN-GUID-7842AF72-DA25-4559-A8E7-9883D0C63BF2" target="_blank"><span><cite>Oracle Database Administrators Guide</cite></span></a> for the steps to connect SQL*Plus to the root
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-9363C4B9-48E5-470F-B13B-43FA56667978" name="GUID-9363C4B9-48E5-470F-B13B-43FA56667978"></a><h4 id="BRADV-GUID-9363C4B9-48E5-470F-B13B-43FA56667978" class="sect4"><span class="enumeration_section">7.4.3 </span>Creating PDB Restore Points
                  </h4>
                  <div>
                     <p>You use the <code class="codeph">CREATE RESTORE POINT</code> SQL statement to create restore points in a pluggable database (PDB).
                     </p>
                     <div class="section">The restore point can be a normal <a href="glossary.html#GUID-7C3A47D4-B9C5-40D3-89D0-8BD77281AAB1"><span class="xrefglossterm">PDB restore point</span></a>, guaranteed PDB restore point, or clean PDB restore point. You can create PDB restore points either when connected to the PDB or to the root.
                     </div>
                     <!-- class="section" -->
                     <div class="section">When a PDB uses shared undo, you can create a clean restore point only if the PDB does not have any outstanding transactions.</div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9363C4B9-48E5-470F-B13B-43FA56667978__GUID-F760138D-D0B8-42E5-B91E-C6F52F5C17D7">To create a PDB restore point when connected to the PDB:</p>
                        <ol>
                           <li>
                              <p>Ensure that the prerequisites described in <a href="using-flasback-database-restore-points.html#GUID-AE2AD6A0-507A-4E40-A8FF-76AFC88EC56D" title="To ensure successful operation of Flashback Database and guaranteed restore points, you must first set some key database options.">Prerequisites for Flashback Database and Restore Points</a> are met.
                              </p>
                           </li>
                           <li>
                              <p>Connect SQL*Plus to the PDB as a common user or local user with the <code class="codeph">SYSDBA</code> or <code class="codeph">SYSBACKUP</code> privilege.
                              </p>
                           </li>
                           <li>
                              <p>If you are creating a clean PDB restore point in a CDB that uses shared undo, then the PDB must be closed.</p>
                              <p>The following command displays the state of the PDB:</p><pre class="pre codeblock"><code>SQL&gt; SELECT name, open_mode FROM V$PDBs;</code></pre><p>Use the following command to close the PDB:</p><pre class="pre codeblock"><code>SQL&gt; ALTER PLUGGABLE DATABASE CLOSE;</code></pre></li>
                           <li>
                              <p>If the <a href="glossary.html#GUID-3E156A59-F6CC-4A2A-9749-DB7D1CE25F13"><span class="xrefglossterm">multitenant container database (CDB)</span></a> is in mounted state, then it must have been shut down consistently (unless it is a physical standby database).
                              </p>
                           </li>
                           <li>
                              <p>Set the current container to the PDB.</p>
                              <p>The following command sets to current container to the PDB <code class="codeph">my_pdb</code>:
                              </p><pre class="pre codeblock"><code>SQL&gt; ALTER SESSION SET CONTAINER=my_pdb;</code></pre></li>
                           <li>
                              <p>Create a PDB restore point by using the <code class="codeph">CREATE RESTORE POINT</code> command.
                              </p>
                              <p>The following command creates a normal PDB restore point:</p><pre class="pre codeblock"><code>SQL&gt; CREATE RESTORE POINT before_patching;</code></pre><p>The following command creates a guaranteed PDB restore point:</p><pre class="pre codeblock"><code>SQL&gt; CREATE RESTORE POINT before_upgrade GUARENTEE FLASHBACK DATABASE;</code></pre><p>The following command explicitly creates a clean PDB restore point. If a clean restore point cannot be created, then an error is returned.</p><pre class="pre codeblock"><code>SQL&gt; CREATE CLEAN RESTORE POINT before_patching;</code></pre></li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9363C4B9-48E5-470F-B13B-43FA56667978__GUID-9214C3FA-54CD-460D-AD18-A35E8F07AC13">To create a PDB restore point when connected to the CDB:</p>
                        <p></p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Ensure that the prerequisites described in <a href="using-flasback-database-restore-points.html#GUID-AE2AD6A0-507A-4E40-A8FF-76AFC88EC56D" title="To ensure successful operation of Flashback Database and guaranteed restore points, you must first set some key database options.">Prerequisites for Flashback Database and Restore Points</a> are met.</span></li>
                        <li class="stepexpand"><span>Connect SQL*Plus to the root as a common user with the <code class="codeph">SYSDBA</code> or <code class="codeph">SYSBACKUP</code> privilege.</span></li>
                        <li class="stepexpand"><span>If you are creating a clean PDB restore point in a CDB that uses shared undo, then the PDB must be closed.</span><div>The following command closes the PDB <code class="codeph">my_pdb</code>:
                           </div>
                           <div><pre class="pre codeblock"><code>SQL&gt; ALTER PLUGGABLE DATABASE my_pdb CLOSE;</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>The CDB that contains the PDB can be open or mounted. If the CDB is mounted, then it must have been shut down consistently (unless it is a physical standby database).</span><div>
                              <p>The following commands place the CDB in a mounted state:</p>
                           </div>
                           <div><pre class="pre codeblock"><code>SQL&gt; SHUTDOWN IMMEDIATE;
SQL&gt; STARTUP MOUNT;</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Set the current container to the root.</span><div><code class="codeph">SQL&gt; ALTER SESSION SET CONTAINER = CDB$ROOT;</code></div>
                        </li>
                        <li class="stepexpand"><span>Create a PDB restore point by using the <code class="codeph">CREATE RESTORE POINT</code> command with the <code class="codeph">FOR PLUGGABLE DATABASE</code> clause.</span><div>The following command creates a normal PDB restore point:<pre class="pre codeblock"><code>SQL&gt; CREATE RESTORE POINT mypdb_before_patching FOR PLUGGABLE DATABASE my_pdb;</code></pre><p>The following command creates a guaranteed PDB restore point:</p><pre class="pre codeblock"><code>SQL&gt; CREATE RESTORE POINT mypdb_grp_before_upgrade FOR PLUGGABLE DATABASE my_pdb GUARANTEE FLASHBACK DATABASE;</code></pre><p>The following command explicitly creates a clean PDB restore point (when the PDB is closed and has no pending transactions). If the restore point cannot be created, then an error is displayed.</p><pre class="pre codeblock"><code>SQL&gt; CREATE CLEAN RESTORE POINT mypdb_crp_before_patching FOR PLUGGABLE DATABASE my_pdb;</code></pre></div>
                        </li>
                     </ol>
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-9363C4B9-48E5-470F-B13B-43FA56667978__GUID-9CB8C1F3-2282-4E0A-819A-5401961C8FC5">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="rman-performing-flashback-dbpitr.html#GUID-66B1A12D-1C92-43B5-A204-AA8A6D177ABD" title="A multitenant container database (CDB) can use shared undo or local undo. The technique used by RMAN to perform flashback database operations depends on the type of undo configuration for the CDB.">About Undo and Flashback Database Operations for PDBs</a></p>
                              </li>
                              <li>
                                 <p><a href="using-flasback-database-restore-points.html#GUID-34C48821-B29D-4A2E-94DE-CD97CFA7784E" title="You can create normal and guaranteed restore points in a pluggable database (PDB). PDB restore points are accessible only to the PDB in which they are defined.">About Restore Points in PDBs</a></p>
                              </li>
                              <li>
                                 <p><a href="using-flasback-database-restore-points.html#GUID-952278F2-DBBA-4CB9-AAC4-616B56837AAB" title="The CREATE RESTORE POINT SQL command enables you to create normal and guaranteed restore points in a multitenant container database (CDB).">Creating CDB Restore Points</a></p>
                              </li>
                              <li>
                                 <p><a href="../admin/getting-started-with-database-administration.html#ADMIN-GUID-7842AF72-DA25-4559-A8E7-9883D0C63BF2" target="_blank"><span><cite>Oracle Database Administrators Guide</cite></span></a> for the steps to connect SQL*Plus to the root
                                 </p>
                              </li>
                              <li>
                                 <p><a href="using-flasback-database-restore-points.html#GUID-1A583D44-66CB-4D21-B170-2A07CFF6EE65" title="You can use the V$RESTORE_POINT control file view to obtain information about all currently-defined restore points (normal and guaranteed), including CDB restore points and PDB restore points.">Listing Restore Points Using the V$RESTORE_POINT View</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="BRADV592"></a><div class="props_rev_3"><a id="GUID-305E9D61-0F50-4885-891C-A7D86C6D3C8D" name="GUID-305E9D61-0F50-4885-891C-A7D86C6D3C8D"></a><h4 id="BRADV-GUID-305E9D61-0F50-4885-891C-A7D86C6D3C8D" class="sect4"><span class="enumeration_section">7.4.4 </span>Listing Restore Points Using the LIST Command
                  </h4>
                  <div>
                     <div class="section">
                        <p></p>
                        <p><a id="d33613e2822" class="indexterm-anchor"></a>You can use the <code class="codeph">LIST</code> command to list either a specific restore point or all restore points known to the RMAN repository. The variations of the command are as follows:
                        </p><pre class="oac_no_warn" dir="ltr">LIST RESTORE POINT <span class="italic">restore_point_name</span>;
LIST RESTORE POINT ALL;
</pre><p>RMAN indicates the SCN and time of the restore point, the type of restore point, and the name of the restore point. The following example shows sample output:</p><pre class="oac_no_warn" dir="ltr">RMAN&gt; LIST RESTORE POINT ALL;
 
using target database control file instead of recovery catalog
SCN              RSP Time  Type       Time      Name
---------------- --------- ---------- --------- ----
341859           28-APR-15            28-APR-15 NORMAL_RS
343690           28-APR-15 GUARANTEED 28-APR-15 GUARANTEED_RS
</pre><div class="infoboxnote" id="GUID-305E9D61-0F50-4885-891C-A7D86C6D3C8D__GUID-05810482-DBDD-4011-8594-16F5B12B8E47">
                           <p class="notep1">Note:</p>The <code class="codeph">LIST</code> command does not display details such as the PDB incarnation number and whether a restore point is a PDB restore point. To view additional details about restore points in a multitenant environment, see <a href="using-flasback-database-restore-points.html#GUID-1A583D44-66CB-4D21-B170-2A07CFF6EE65" title="You can use the V$RESTORE_POINT control file view to obtain information about all currently-defined restore points (normal and guaranteed), including CDB restore points and PDB restore points.">Listing Restore Points Using the V$RESTORE_POINT View</a>.
                        </div>
                        <div class="infoboxnotealso" id="GUID-305E9D61-0F50-4885-891C-A7D86C6D3C8D__GUID-4195DB14-20E0-460E-A713-BCFED405EB8B">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="rman-performing-flashback-dbpitr.html#GUID-953FA30D-BED2-4DBA-8361-9DA1B8FF073F" title="Flashback Database reverses unwanted changes by returning your database to its state at a previous point in time.">Rewinding a Database with Flashback Database</a>"</span></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-1A583D44-66CB-4D21-B170-2A07CFF6EE65" name="GUID-1A583D44-66CB-4D21-B170-2A07CFF6EE65"></a><h4 id="BRADV-GUID-1A583D44-66CB-4D21-B170-2A07CFF6EE65" class="sect4"><span class="enumeration_section">7.4.5 </span>Listing Restore Points Using the V$RESTORE_POINT View
                  </h4>
                  <div>
                     <p>You can use the <code class="codeph">V$RESTORE_POINT</code> control file view to obtain information about all currently-defined restore points (normal and guaranteed), including CDB restore points and PDB restore points.
                     </p>
                     <div class="section">The <code class="codeph">V$RESTORE_POINT</code> view contains additional information about restore points in a multitenant environment that is not displayed by the <code class="codeph">LIST RESTORE POINT</code> command. This includes details such as the incarnation of the <a href="glossary.html#GUID-D4239448-A344-41EF-9566-0B7716FEAE72"><span class="xrefglossterm">pluggable database (PDB)</span></a> in which a <a href="glossary.html#GUID-7C3A47D4-B9C5-40D3-89D0-8BD77281AAB1"><span class="xrefglossterm">PDB restore point</span></a> was created and whether a restore point is a PDB restore point or clean PDB restore point.
                     </div>
                     <!-- class="section" -->
                     <div class="p">
                        <p>The following steps display information about PDB restore points for all PDBs in the CDB:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Connect SQL*Plus to the target database. If the target database is a <a href="glossary.html#GUID-3E156A59-F6CC-4A2A-9749-DB7D1CE25F13"><span class="xrefglossterm">multitenant container database (CDB)</span></a>, then connect to the root.</span><div>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>To view restore points for all PDBs, you must connect to the root as a common use with the <code class="codeph">SYSDBA</code> or <code class="codeph">SYSBACKUP</code> privilege.
                                    </p>
                                 </li>
                                 <li>
                                    <p>To view the restore points in a particular PDB, you can connect to that PDB as a common user or local user with the <code class="codeph">SYSDBA</code> or <code class="codeph">SYSBACKUP</code> privilege.
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Query the <code class="codeph">V$RESTORE_POINT</code> view to display information about restore points.</span></li>
                     </ol>
                     <div class="example" id="GUID-1A583D44-66CB-4D21-B170-2A07CFF6EE65__GUID-242EBFA4-87DC-4B01-9AFD-80AE6FDF7B1F">
                        <p class="titleinexample">Example 7-1 Displaying Restore Points in a Multitenant Environment</p>
                        <p></p>
                        <p>The following query displays details about all restore points in a multitenant environment (query output formatted to fit in the page):</p><pre class="oac_no_warn" dir="ltr">SELECT name, guarantee_flashback_database, pdb_restore_point, clean_pdb_restore_point, pdb_incarnation#, storage_sizeFROM v$restore_point;</pre><pre class="oac_no_warn" dir="ltr">NAME                         GUARANTEE_  PDB_RESTORE_POINT  CLEAN_PDB_RESTORE_POINT  STORAGE_SIZE
--------                     ----------  ----------------   -----------------------  ------------
CDB_GRP_BEFORE_PATCH            YES         NO                  NO                     84586
PDB_GRP_BEFORE_UPGRADE_TEMP     YES         YES                 NO                      4562
CDB_RP1                         NO          NO                  NO                         0
PDB1_BEFORE_PATCHING            NO          YES                 NO                         0
MYPDB_CLEAN_GRP_BEFORE_UPGRADE  NO          YES                 YES                        0    

</pre><p>For normal restore points, <code class="codeph">STORAGE_SIZE</code> is zero. For guaranteed restore points, <code class="codeph">STORAGE_SIZE</code> indicates the approximate number of bytes of disk space in the fast recovery area that is tied up retaining logs required to guarantee <code class="codeph">FLASHBACK</code> <code class="codeph">DATABASE</code> to that restore point.
                        </p>
                        <div class="infoboxnotealso" id="GUID-1A583D44-66CB-4D21-B170-2A07CFF6EE65__GUID-00A96BB4-D232-4EF6-B0E6-C85EE99731E5">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../refrn/V-RESTORE_POINT.html#REFRN30390" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> for information about <code class="codeph">V$RESTORE_POINT</code></p>
                              </li>
                              <li>
                                 <p><a href="using-flasback-database-restore-points.html#GUID-305E9D61-0F50-4885-891C-A7D86C6D3C8D">Listing Restore Points Using the LIST Command</a></p>
                              </li>
                              <li>
                                 <p><a href="rman-performing-flashback-dbpitr.html#GUID-953FA30D-BED2-4DBA-8361-9DA1B8FF073F" title="Flashback Database reverses unwanted changes by returning your database to its state at a previous point in time.">Rewinding a Database with Flashback Database</a></p>
                              </li>
                              <li>
                                 <p><a href="rman-performing-flashback-dbpitr.html#GUID-8466CA3C-652A-4AAB-88EB-8815575D6266" title="You can perform a flashback database operation for a whole multitenant container database (CDB) using the FLASHBACK DATABASE command.">Performing a Flashback Database Operation for a Whole CDB</a></p>
                              </li>
                              <li>
                                 <p><a href="rman-performing-flashback-dbpitr.html#GUID-C1215E86-9A7B-4EC9-9777-2A18BD627394" title="You can perform a flashback database operation for a single pluggable database (PDB) in a multitenant container database (CDB) using the FLASHBACK DATABASE command.">Performing a Flashback Database Operation for PDBs</a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="example" -->
                  </div>
               </div><a id="BRADV593"></a><div class="props_rev_3"><a id="GUID-A1563822-015B-4941-B7EB-C3D44A63232C" name="GUID-A1563822-015B-4941-B7EB-C3D44A63232C"></a><h4 id="BRADV-GUID-A1563822-015B-4941-B7EB-C3D44A63232C" class="sect4"><span class="enumeration_section">7.4.6 </span>Dropping Restore Points
                  </h4>
                  <div>
                     <p>When you are satisfied that you do not need an existing restore point, or when you want to create a restore point with the name of an existing restore point, you can drop the restore point, using the <code class="codeph">DROP RESTORE POINT</code> SQL*Plus statement. 
                     </p>
                     <div class="section">
                        <p>For example:</p><pre class="pre codeblock"><code>SQL&gt; DROP RESTORE POINT before_app_upgrade;
Restore point dropped.
</code></pre><p>The same statement is used to drop both normal and guaranteed restore points.</p>
                        <div class="infoboxnote" id="GUID-A1563822-015B-4941-B7EB-C3D44A63232C__GUID-C8141E34-1290-4E83-BDEE-5C4A65BA07D2">
                           <p class="notep1">Note:</p>
                           <p>Normal restore points eventually age out of the control file, even if not explicitly dropped. The rules governing retention of restore points in the control file are:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The most recent 2048 restore points are always kept in the control file, regardless of their age.</p>
                              </li>
                              <li>
                                 <p>Any restore point more recent than the value of <code class="codeph">CONTROL_FILE_RECORD_KEEP_TIME</code> is retained, regardless of how many restore points are defined.
                                 </p>
                              </li>
                           </ul>
                           <p>Normal restore points that do not meet either of these conditions may age out of the control file.</p>
                        </div>
                        <p>Guaranteed restore points never age out of the control file. They remain until they are explicitly dropped.</p>
                        <div class="infoboxnote" id="GUID-A1563822-015B-4941-B7EB-C3D44A63232C__GUID-CF9D23CC-90DF-4B8C-B01A-0FF25B10A8E0">
                           <p class="notep1">See also:</p>
                           <p><a href="../sqlrf/DROP-RESTORE-POINT.html#SQLRF20002" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for reference information about the SQL <code class="codeph">DROP RESTORE POINT</code> statement
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="BRADV594"></a><div class="props_rev_3"><a id="GUID-4E96DB60-3616-4680-866A-F38A6049053A" name="GUID-4E96DB60-3616-4680-866A-F38A6049053A"></a><h3 id="BRADV-GUID-4E96DB60-3616-4680-866A-F38A6049053A" class="sect3"><span class="enumeration_section">7.5 </span>Using Flashback Database
               </h3>
               <div>
                  <p>To use flashback logging for a target database, you must enable Flashback Database. Certain guidelines can be followed to ensure optimal performance of Flashback Database. </p>
                  <p>This section contains the following topics:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="using-flasback-database-restore-points.html#GUID-FC98B2D7-9F18-4A62-BE4A-E97A0AA10BF4" title="Use the ALTER DATABASE command to enable Flashback Database">Enabling Flashback Database</a></p>
                     </li>
                     <li>
                        <p><a href="using-flasback-database-restore-points.html#GUID-B343C3D9-0CA1-49E5-AC62-1E872E9966A6" title="Use the ALTER DATABASE command to disable Flashback Database.">Disabling Flashback Database Logging</a></p>
                     </li>
                     <li>
                        <p><a href="using-flasback-database-restore-points.html#GUID-A214980E-8DF5-49A3-A2CF-35C90E74A045" title="Maintaining flashback logs imposes comparatively limited overhead on an database instance. Changed blocks are written from memory to the flashback logs at relatively infrequent, regular intervals, to limit processing and I/O overhead.">Configuring the Environment for Optimal Flashback Database Performance</a></p>
                     </li>
                     <li>
                        <p><a href="using-flasback-database-restore-points.html#GUID-19A3894F-22A9-49B1-91F4-951E9824C95F" title="Several data analysis methods are available to monitor the Flashback Database workload on your system.">Monitoring the Effect of Flashback Database on Performance</a></p>
                     </li>
                     <li>
                        <p><a href="using-flasback-database-restore-points.html#GUID-C6E3FBBA-188F-4D26-AC7D-31ED3D190E88" title="When flashback is enabled or when there are guaranteed restore points, the background process RVWR writes flashback data to flashback database logs in the fast recovery area.">About Flashback Writer (RVWR) Behavior with I/O Errors</a></p>
                     </li>
                  </ul>
               </div><a id="BRADV596"></a><a id="BRADV595"></a><div class="props_rev_3"><a id="GUID-FC98B2D7-9F18-4A62-BE4A-E97A0AA10BF4" name="GUID-FC98B2D7-9F18-4A62-BE4A-E97A0AA10BF4"></a><h4 id="BRADV-GUID-FC98B2D7-9F18-4A62-BE4A-E97A0AA10BF4" class="sect4"><span class="enumeration_section">7.5.1 </span>Enabling Flashback Database
                  </h4>
                  <div>
                     <p>Use the <code class="codeph">ALTER DATABASE</code> command to enable Flashback Database
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-FC98B2D7-9F18-4A62-BE4A-E97A0AA10BF4__GUID-A6BCA30F-8B5E-4EE6-BC8E-C58DEF3AF562">To enable flashback logging:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Configure the recovery area as described in <span class="q">"<a href="configuring-rman-client-basic.html#GUID-233338E2-3EE6-4248-A2B6-16A7899DB14F" title="You enable the fast recovery area by setting two initialization parameters. These parameters enable the fast recovery area with or without having to shut down and restart the database instance.">Enabling the Fast Recovery Area</a>"</span>.</span></li>
                        <li class="stepexpand"><span>Ensure the database instance is open or mounted. If the instance is mounted, then the database must be shut down cleanly unless it is a physical standby database. Other Oracle Real Application Clusters (Oracle RAC) instances can be in any mode.</span></li>
                        <li class="stepexpand"><span>Optionally, set the <code class="codeph">DB_FLASHBACK_RETENTION_TARGET</code> to the length of the desired flashback window in minutes:</span><div><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET DB_FLASHBACK_RETENTION_TARGET=4320 SCOPE=BOTH; # 3 days
</pre><p>By default <code class="codeph">DB_FLASHBACK_RETENTION_TARGET</code> is set to 1 day (1440 minutes). 
                              </p>
                              <div class="infoboxnote" id="GUID-FC98B2D7-9F18-4A62-BE4A-E97A0AA10BF4__GUID-7D7A30FD-341C-4C0D-8B66-FA5049E0ACB1">
                                 <p class="notep1">Note:</p>
                                 <p>This setting must be persistent across database startup and shutdown.</p>
                              </div>
                           </div>
                        </li>
                        <li class="stepexpand"><span>Enable the Flashback Database feature for the whole database:</span><div><pre class="pre codeblock"><code>ALTER DATABASE FLASHBACK ON;
</code></pre></div>
                        </li>
                        <li class="stepexpand"><span>Optionally, disable flashback logging for specific tablespaces.</span><div>
                              <p>By default, flashback logs are generated for all permanent tablespaces. You can reduce overhead by disabling flashback logging for specific tablespaces as in the following example:</p><pre class="pre codeblock"><code>ALTER TABLESPACE tbs_3 FLASHBACK OFF;
</code></pre><p>You can re-enable flashback logging for a tablespace later with this command:</p><pre class="pre codeblock"><code>ALTER TABLESPACE tbs_3 FLASHBACK ON;</code></pre><p>If you disable Flashback Database for a tablespace, then you must take its data files offline before running <code class="codeph">FLASHBACK</code> <code class="codeph">DATABASE</code>. 
                              </p>
                           </div>
                        </li>
                     </ol>
                     <div class="section">
                        <p>When you enable Flashback Database while the database is open, there is a very small chance the command may not be able to obtain the memory it needs. If the command fails because of that reason, retry the command after a while or retry after a shutdown and restart of the instance.</p>
                        <p>When you enable Flashback Database on a <a href="glossary.html#GUID-009B3F56-8C1E-4CF6-AF0F-A9D2C2E4B9C2"><span class="xrefglossterm">physical standby database</span></a>, you can flash back a standby database. Flashback Database of standby databases has some applications in the Data Guard environment. 
                        </p>
                        <div class="infoboxnotealso" id="GUID-FC98B2D7-9F18-4A62-BE4A-E97A0AA10BF4__GUID-674A0CA8-6517-4278-ABFA-29FAF383F2AF">
                           <p class="notep1">See Also:</p>
                           <p><a href="../sbydb/examples-of-using-oracle-data-guard.html#SBYDB4891" target="_blank"><span><cite>Oracle Data Guard Concepts and Administration</cite></span></a> for details about standby databases
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="BRADV597"></a><div class="props_rev_3"><a id="GUID-B343C3D9-0CA1-49E5-AC62-1E872E9966A6" name="GUID-B343C3D9-0CA1-49E5-AC62-1E872E9966A6"></a><h4 id="BRADV-GUID-B343C3D9-0CA1-49E5-AC62-1E872E9966A6" class="sect4"><span class="enumeration_section">7.5.2 </span>Disabling Flashback Database Logging
                  </h4>
                  <div>
                     <p>Use the <code class="codeph">ALTER DATABASE</code> command to disable Flashback Database.
                     </p>
                     <div class="section">
                        <p>On a database instance that is either in mount or open state, issue the following command:</p><pre class="oac_no_warn" dir="ltr">ALTER DATABASE FLASHBACK OFF;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="BRADV598"></a><div class="props_rev_3"><a id="GUID-A214980E-8DF5-49A3-A2CF-35C90E74A045" name="GUID-A214980E-8DF5-49A3-A2CF-35C90E74A045"></a><h4 id="BRADV-GUID-A214980E-8DF5-49A3-A2CF-35C90E74A045" class="sect4"><span class="enumeration_section">7.5.3 </span>Configuring the Environment for Optimal Flashback Database Performance
                  </h4>
                  <div>
                     <p>Maintaining flashback logs imposes comparatively limited overhead on an database instance. Changed blocks are written from memory to the flashback logs at relatively infrequent, regular intervals, to limit processing and I/O overhead. </p>
                     <div class="section">
                        <p>To achieve good performance for large production databases with Flashback Database enabled, Oracle recommends the following: </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Use a fast file system for your fast recovery area, preferably without operating system file caching. </p>
                              <p>Files that the database creates in the fast recovery area, including flashback logs, are typically large. Operating system file caching is typically not effective for these files, and may actually add CPU overhead for reading from and writing to these files. Thus, it is recommended to use a file system that avoids operating system file caching, such as Automatic Storage Management (ASM).</p>
                           </li>
                           <li>
                              <p>Configure enough disk spindles for the file system that holds the fast recovery area. </p>
                              <p>For large production databases, multiple disk spindles may be needed to support the required disk throughput for the database to write the flashback logs effectively.</p>
                           </li>
                           <li>
                              <p>If the storage system used to hold the fast recovery area does not have nonvolatile RAM, then try to configure the file system on striped storage volumes.</p>
                              <p>Use a relatively small stripe size such as 128 KB. This technique enables each write to the flashback logs to be spread across multiple spindles, improving performance.</p>
                           </li>
                           <li>
                              <p>For large databases, set the initialization parameter <code class="codeph">LOG_BUFFER</code> to at least 8 MB. 
                              </p>
                           </li>
                        </ul>
                        <p>The overhead of logging for Flashback Database depends on the mixture of reads and writes in the database workload. When you have a write-intensive workload, the Flashback Database logging overhead is high since it must log all those database changes. Queries do not change data and thus do not contribute to logging activity for Flashback Database.</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="BRADV600"></a><a id="BRADV599"></a><div class="props_rev_3"><a id="GUID-19A3894F-22A9-49B1-91F4-951E9824C95F" name="GUID-19A3894F-22A9-49B1-91F4-951E9824C95F"></a><h4 id="BRADV-GUID-19A3894F-22A9-49B1-91F4-951E9824C95F" class="sect4"><span class="enumeration_section">7.5.4 </span>Monitoring the Effect of Flashback Database on Performance
                  </h4>
                  <div>
                     <p>Several data analysis methods are available to monitor the Flashback Database workload on your system.</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p> AWR reports</p>
                           <p>The Automatic Workload Repository (AWR) automates database statistics gathering by collecting, processing, and maintaining performance statistics for database problem detection and self-tuning. You can compare AWR reports from before and after the Flashback Database was turned on to monitor performance effects.</p>
                        </li>
                        <li>
                           <p>AWR snapshots</p>
                           <p>You can review AWR snapshots to pinpoint system usage caused by flashback logging. For example, if <code class="codeph">flashback buf free by RVWR</code> is the top wait event, then you know that Oracle Database cannot write flashback logs very quickly. Therefore, you might want to tune the file system and storage used by the fast recovery area, possibly using a technique described in <span class="q">"<a href="using-flasback-database-restore-points.html#GUID-A214980E-8DF5-49A3-A2CF-35C90E74A045" title="Maintaining flashback logs imposes comparatively limited overhead on an database instance. Changed blocks are written from memory to the flashback logs at relatively infrequent, regular intervals, to limit processing and I/O overhead.">Configuring the Environment for Optimal Flashback Database Performance</a>"</span></p>
                        </li>
                        <li>
                           <p><code class="codeph">V$FLASHBACK_DATABASE_STAT</code> view
                           </p>
                           <p>The <code class="codeph">V$FLASHBACK_DATABASE_STAT</code> view shows the bytes of flashback data logged by the database. Each row in the view shows the statistics accumulated (typically over the course of an hour). The <code class="codeph">FLASHBACK_DATA</code> and <code class="codeph">REDO_DATA</code> columns describe bytes of flashback data and redo data written respectively during the time interval, while the <code class="codeph">DB_DATA</code> column describes bytes of data blocks read and written. The columns <code class="codeph">FLASHBACK_DATA</code> and <code class="codeph">REDO_DATA</code> correspond to sequential writes, whereas <code class="codeph">DB_DATA</code> column corresponds to random reads and writes.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">V$SYSSTAT</code> view
                           </p>
                           <p>Because of the difference between sequential I/O and random I/O, a better indication of I/O overhead is the number of I/O operations issued for flashback logs. The <code class="codeph">V$SYSSTAT</code> statistics shown in <a href="using-flasback-database-restore-points.html#GUID-19A3894F-22A9-49B1-91F4-951E9824C95F__CFHBHCAG" title="Describes columns in the V$SYSSTAT View">Table 7-1</a> can tell you the number of I/O operations that your instance has issued for various purposes.
                           </p>
                        </li>
                     </ul>
                     <div class="tblformal" id="GUID-19A3894F-22A9-49B1-91F4-951E9824C95F__CFHBHCAG">
                        <p class="titleintable">Table 7-1 V$SYSSTAT Statistics</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="V$SYSSTAT Statistics" summary="Describes columns in the V$SYSSTAT View" width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d33613e3819">Column Name</th>
                                 <th align="left" valign="bottom" width="69%" id="d33613e3822">Column Meaning</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d33613e3827" headers="d33613e3819 ">
                                    <p>Physical write I/O request </p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d33613e3827 d33613e3822 ">
                                    <p>The number of write operations issued for writing data blocks</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d33613e3834" headers="d33613e3819 ">
                                    <p>Physical read I/O request</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d33613e3834 d33613e3822 ">
                                    <p>The number of read operations issued for reading data blocks</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d33613e3841" headers="d33613e3819 ">
                                    <p>Redo writes</p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d33613e3841 d33613e3822 ">
                                    <p>The number of write operations issued for writing to the redo log</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d33613e3848" headers="d33613e3819 ">
                                    <p>Flashback log writes </p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d33613e3848 d33613e3822 ">
                                    <p>The number of write operations issued for writing to flashback logs </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d33613e3855" headers="d33613e3819 ">
                                    <p>Flashback log write bytes </p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d33613e3855 d33613e3822 ">
                                    <p>Total size in bytes of flashback database data written from this instance</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="infoboxnotealso" id="GUID-19A3894F-22A9-49B1-91F4-951E9824C95F__GUID-82CC01DB-6C2C-4835-9076-5FDD2F685269">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../refrn/statistics-descriptions.html#REFRN103" target="_blank"><span><cite>Oracle Database Reference</cite></span></a> for more details on columns in the <code class="codeph">V$SYSSTAT</code> view
                              </p>
                           </li>
                           <li>
                              <p><a href="../tgdba/gathering-database-statistics.html#TGDBA185" target="_blank"><span><cite>Oracle Database Performance Tuning Guide</cite></span></a> to learn about AWR
                              </p>
                           </li>
                           <li>
                              <p><a href="../tdppt/resolving-performance-degradation-over-time.html#TDPPT091" target="_blank"><span><cite>Oracle Database 2 Day + Performance Tuning Guide</cite></span></a> for more information about AWR reports
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
               </div><a id="BRADV601"></a><div class="props_rev_3"><a id="GUID-C6E3FBBA-188F-4D26-AC7D-31ED3D190E88" name="GUID-C6E3FBBA-188F-4D26-AC7D-31ED3D190E88"></a><h4 id="BRADV-GUID-C6E3FBBA-188F-4D26-AC7D-31ED3D190E88" class="sect4"><span class="enumeration_section">7.5.5 </span>About Flashback Writer (RVWR) Behavior with I/O Errors 
                  </h4>
                  <div>
                     <p>When flashback is enabled or when there are guaranteed restore points, the background process RVWR writes flashback data to flashback database logs in the fast recovery area.</p>
                     <p>If RVWR encounters an I/O error, then the following behavior is expected:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>If there are any guaranteed restore points defined, then the instance fails when RVWR encounters I/O errors.</p>
                        </li>
                        <li>
                           <p>If no guaranteed restore points are defined, then the instance remains unaffected when RVWR encounters I/O errors. Note the following cases:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>On a primary database, Oracle Database automatically disables Flashback Database while the database is open. All existing transactions and queries proceed unaffected. This behavior is expected for both single-instance and Oracle RAC databases.</p>
                              </li>
                              <li>
                                 <p>On a physical or logical standby, RVWR appears to have stopped responding, retrying the I/O periodically. This may eventually cause the logical standby or the managed recovery of the physical standby to suspend. (Oracle Database does not cause the standby instance to fail because it does not want to cause the primary database to fail in maximum protection mode.) To resolve the issue, you can issue either a <code class="codeph">SHUTDOWN ABORT</code> or an <code class="codeph">ALTER DATABASE FLASHBACK OFF</code> command.
                                 </p>
                              </li>
                           </ul>
                        </li>
                     </ul>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='04706.metadata-class.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>MetaData Class</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Programmer's Guide ">
      <meta property="og:description" content>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Programmer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="oracle-c-call-interface-programmers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-06T02:31:59-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="1999, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96205-02">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="message-class.html" title="Previous" type="text/html">
      <link rel="next" href="notifyresult-class.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Oracle C++ Call Interface Programmer's Guide">
    <meta name="dcterms.isVersionOf" content="LNCPP">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="message-class.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="notifyresult-class.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Programmer's Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="occi-application-programing-interface.html" property="item" typeof="WebPage"><span property="name"> OCCI Application Programming Interface</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">MetaData Class</li>
            </ol>
            <a id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F" name="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F"></a>
            
            <h2 id="LNCPP-GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F" class="sect2"><span class="enumeration_section">13.20 </span>MetaData Class
            </h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p>A <code class="codeph">MetaData</code> object can be used to describe the types and properties of the columns in a <code class="codeph">ResultSet</code> or the existing schema objects in the database. It also provides information about the database as a whole. The enumerated values of MetaData are in <a href="metadata-class.html#GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAJJDDG" title="First column lists the attribute used by the class, the second column describes the options available to each attribute">Table 13-27</a>, and the summary of its methods is in <a href="metadata-class.html#GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAFBGEH" title="First column lists methods; second column provides description of these methods.">Table 13-28</a>.
                  </p>
               </div>
               <!-- class="section" -->
               <div class="tblformal" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAJJDDG">
                  <p class="titleintable">Table 13-27 Enumerated Values Used by MetaData Class</p>
                  <table cellpadding="4" cellspacing="0" class="Formal" title="Enumerated Values Used by MetaData Class" summary="First column lists the attribute used by the class, the second column describes the options available to each attribute" width="100%" frame="hsides" border="1" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="23%" id="d142845e55">Attribute</th>
                           <th align="left" valign="bottom" width="77%" id="d142845e58">Options</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="23%" id="d142845e63" headers="d142845e55 "><pre class="oac_no_warn" dir="ltr">ParamType</pre><code class="codeph"> </code></td>
                           <td align="left" valign="top" width="77%" headers="d142845e63 d142845e58 ">
                              <p>The parameter types for objects are:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAIFGIA">PTYPE_ARG</code> is the argument of a function or procedure.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAGIEAF">PTYPE_COL</code> is the column of a table or view.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAHCJBB">PTYPE_DATABASE</code> is the database.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAGBIHB">PTYPE_FUNC</code> is the function.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAGAAFD">PTYPE_PKG</code> is the package.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBACHFAH">PTYPE_PROC</code> is the procedure.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAHIFBF">PTYPE_SCHEMA</code> is the schema.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAHIBEJ">PTYPE_SEQ</code> is the sequence.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBADEBID">PTYPE_SYN</code> is the synonym.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBABCHIH">PTYPE_TABLE</code> is the table.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBACCDHE">PTYPE_TYPE</code> is the type.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAIHEAD">PTYPE_TYPE_ARG</code> is the argument of a type method.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBABDFJD">PTYPE_TYPE_ATTR</code> is the attribute of a type.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAGBFJD">PTYPE_TYPE_COLL</code> is the collection type information.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAICHEH">PTYPE_TYPE_METHOD</code> is the method of a type.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAHDFDG">PTYPE_TYPE_RESULT</code> is the results of a method.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">PTYPE_UNK</code> is the object of an unknown type.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAHEFAD">PTYPE_VIEW</code> is the view.
                                    </p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="23%" id="d142845e164" headers="d142845e55 ">
                              <p><code class="codeph">AttrId</code> common to all parameters
                              </p>
                           </td>
                           <td align="left" valign="top" width="77%" headers="d142845e164 d142845e58 ">
                              <p>Attributes of all parameters:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">ATTR_OBJ_ID</code> is the object or schema id.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_OBJ_NAME</code> is either the database name, or the object name in a schema.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_OBJ_SCHEMA</code> is the name of the schema describing the object.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_PTYPE</code> is the type of information described by a parameter, <code class="codeph">ParamType</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_TIMESTAMP</code> is the timestamp of an object.
                                    </p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="23%" id="d142845e201" headers="d142845e55 ">
                              <p><code class="codeph">AttrId</code> for Tables and Views
                              </p>
                           </td>
                           <td align="left" valign="top" width="77%" headers="d142845e201 d142845e58 ">
                              <p>Parameters for a table or view (<code class="codeph">ParamType</code> of <code class="codeph">PTYPE_TABLE</code> and <code class="codeph">PTYPE_VIEW</code>) have the following type-specific attributes:
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">ATTR_OBJID</code> is the object id
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_NUM_COLS</code> is the number of columns
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_LIST_COLUMNS</code> is the column list 
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_REF_TDO</code> is the <code class="codeph">REF</code> to the <code class="codeph">TDO</code> of the base type in case of extent tables
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_IS_TEMPORARY</code> indicates the table is temporary
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_IS_TYPED</code> indicates the table is typed
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_DURATION</code> is the duration of a temporary table. Values can be <a href="metadata-class.html#GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBABEBDF">DURATION_SESSION</a>, <a href="metadata-class.html#GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAHECDA">DURATION_TRANS</a>, and <a href="metadata-class.html#GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAICGCH">DURATION_NULL</a>, as defined for attribute <code class="codeph">AttrValues</code></p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="23%" id="d142845e272" headers="d142845e55 ">
                              <p><code class="codeph">AttrId</code> for Tables only
                              </p>
                           </td>
                           <td align="left" valign="top" width="77%" headers="d142845e272 d142845e58 ">
                              <p>Parameters for a tables only (<code class="codeph">ParamType</code> of <code class="codeph">PTYPE_TABLE</code>):
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">ATTR_RDBA</code> indicates the data block address of the segment header
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_TABLESPACE</code> indicates the tablespace the table resides in
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_CLUSTERED</code> indicates the table is clustered
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_PARTITIONED</code> indicates the table is partitioned
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_INDEX_ONLY</code> indicates the table is index-only
                                    </p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="23%" id="d142845e313" headers="d142845e55 ">
                              <p><code class="codeph">AttrId</code> for Functions and Procedures
                              </p>
                           </td>
                           <td align="left" valign="top" width="77%" headers="d142845e313 d142845e58 ">
                              <p>Parameters for functions and procedures (<code class="codeph">ParamType</code> of <code class="codeph">PTYPE_FUNC</code> and <code class="codeph">PTYPE_PROC</code>, respectively):
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">ATTR_LIST_ARGUMENTS</code> indicates the argument list
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_IS_INVOKER_RIGHTS</code> indicates the procedure or function has invoker's rights
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_NAME</code> indicates the name of the procedure or function
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_OVERLOAD_ID</code> indicates the overloading ID number, relevant when the procedure or function is part of a class and it is overloaded; values returned may be different from direct query of a PL/SQL function or procedure
                                    </p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="23%" id="d142845e352" headers="d142845e55 ">
                              <p><code class="codeph">AttrId</code> for Packages
                              </p>
                           </td>
                           <td align="left" valign="top" width="77%" headers="d142845e352 d142845e58 ">
                              <p>Parameters for packages (<code class="codeph">Paramtype</code> of <code class="codeph">PTYPE_PKG</code>):
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">ATTR_LIST_SUBPROGRAMS</code> indicates the subprogram list
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_IS_INVOKER_RIGHTS</code> indicates the procedure or function has invoker's rights
                                    </p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="23%" id="d142845e378" headers="d142845e55 ">
                              <p><code class="codeph">AttrId</code> for Types
                              </p>
                           </td>
                           <td align="left" valign="top" width="77%" headers="d142845e378 d142845e58 ">
                              <p>Parameter is for types (<code class="codeph">ParamType</code> of <code class="codeph">PTYPE_TYPE</code>):
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">ATTR_REF_TDO</code> indicates the in-memory <code class="codeph">REF</code> of the type descriptor for the type, if the column type is an object type. If space has not been reserved, then it is allocated implicitly in the cache. The caller can then pin the object.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_TYPECODE</code> indicates the data type code
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_COLLECTION_TYPECODE</code> indicates the typecode of collection, if type is collection
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_IS_INCOMPLETE_TYPE</code> indicates that this is an incomplete type
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_IS_SYSTEM_TYPE</code> indicates that this is a system generated type
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_IS_PREDEFINED_TYPE</code> indicates that this is a predefined type
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_IS_TRANSIENT_TYPE</code> indicates that this is a transient type
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_IS_SYSTEM_GENERATED_TYPE</code> indicates that this is a system generated type
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_HAS_NESTED_TABLE </code>indicates that this type contains a nested table attribute
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_HAS_LOB</code> indicates that this type contains a <code class="codeph">LOB</code> attribute
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_HAS_FILE</code> indicates that this type contains a <code class="codeph">BFILE </code>attribute
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_COLLECTION_ELEMENT</code> indicates a reference to a collection element
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_NUM_TYPE_ATTRS</code> indicates the number of type attributes
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_LIST_TYPE_ATTRS</code> indicates the list of type attributes
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_NUM_TYPE_METHODS</code> indicates the number of type methods
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_LIST_TYPE_METHODS</code> indicates the list of type methods
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_MAP_METHOD </code>indicates the map method of the type
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_ORDER_METHOD</code> indicates the order method of the type
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_IS_INVOKER_RIGHTS</code> indicates the type has invoker's rights
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_NAME</code> indicates the type attribute name
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_SCHEMA_NAME</code> indicates the schema where the type is created
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_IS_FINAL_TYPE</code> indicates this is a final type
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_IS_INSTANTIABLE_TYPE</code> indicates this is an instantiable type
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_IS_SUBTYPE</code> indicates this is a subtype
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_SUPERTYPE_SCHEMA_NAME</code> indicates the name of the schema that contains the supertype
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_SUPERTYPE_NAME</code> indicates the name of the supertype
                                    </p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="23%" id="d142845e535" headers="d142845e55 ">
                              <p><code class="codeph">AttrId</code> for Type Attributes
                              </p>
                           </td>
                           <td align="left" valign="top" width="77%" headers="d142845e535 d142845e58 ">
                              <p>Parameter is for attributes of types (<code class="codeph">ParamType</code> of <code class="codeph">PTYPE_TYPE_ATTR</code>):
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">ATTR_DATA_SIZE</code> indicates the maximum size of the type attribute
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_TYPECODE</code> indicates the data type code
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_DATA_TYPE </code>indicates the data type of the type attribute
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_NAME</code> indicates the name of the procedure or function
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_PRECISION</code> indicates the precision of numeric type attributes.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_SCALE</code> indicates the scale of the numeric type attributes
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_TYPE_NAME</code> indicates a type name
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_SCHEMA_NAME</code> indicates the name of the schema where the type has been created
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_REF_TDO</code> indicates the in-memory <code class="codeph">REF</code> of the type, if the column type is an object type. If the space has not been reserved, it is allocated implicitly in the cache. The caller can then pin the object.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_CHARSET_ID</code> indicates the characterset ID
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_CHARSET_FORM</code> indicates the characterset form
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_FSPRECISION</code> indicates the fractional seconds precision of a <code class="codeph">Timestamp</code>, <code class="codeph">IntervalDS</code> or <code class="codeph">IntervalYM</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_LFPRECISION</code> indicates the leading field precision of an <code class="codeph">IntervalDS</code> or <code class="codeph">IntervalYM</code></p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="23%" id="d142845e633" headers="d142845e55 ">
                              <p><code class="codeph">AttrId</code> for Type Methods
                              </p>
                           </td>
                           <td align="left" valign="top" width="77%" headers="d142845e633 d142845e58 ">
                              <p>Parameter is for methods of types (<code class="codeph">ParamType</code> of <code class="codeph">PTYPE_METHOD</code>):
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">ATTR_NAME</code> indicates the name of the procedure or function
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_ENCAPSULATION</code> indicates the method's level of encapsulation
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_LIST_ARGUMENTS</code> indicates the argument list
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_IS_CONSTRUCTOR</code> indicates the method is a constructor
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_IS_DESTRUCTOR</code> indicates the method is a destructor
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_IS_OPERATOR</code> indicates the method is an operator
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_IS_SELFISH</code> indicates the method is selfish
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_IS_MAP </code>indicates the method is a map method
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_IS_ORDER</code> indicates the method is an order method
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_IS_RNDS</code> indicates that the method is in "read no data" state
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_IS_RNPS</code> indicates that the method is in a "read no process" state
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_IS_WNDS </code>indicates that the method is in "write no data" state
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_IS_WNPS </code>indicates that the method is in "write no process" state
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_IS_FINAL_METHOD</code> indicates that this is a final method
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_IS_INSTANTIABLE_METHOD</code> indicates that this is an instantiable method
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_IS_OVERRIDING_METHOD</code> indicates that this is an overriding method
                                    </p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="23%" id="d142845e730" headers="d142845e55 ">
                              <p><code class="codeph">AttrId</code> for Collections
                              </p>
                           </td>
                           <td align="left" valign="top" width="77%" headers="d142845e730 d142845e58 ">
                              <p>Parameter is for collections (<code class="codeph">ParamType</code> of <code class="codeph">PTYPE_TYPE_COLL</code>):
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">ATTR_DATA_SIZE</code> indicates ...
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_TYPECODE</code> indicates ...
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_DATA_TYPE</code> indicates the data type of the type attribute
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_NUM_ELEMS</code> indicates the number of elements in a collection
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_NAME</code> indicates the name of the type attribute
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_PRECISION</code> indicates the precision of a numeric attribute
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_SCALE</code> indicates the scale of a numeric attribute
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_TYPE_NAME</code> indicates the type name
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_SCHEMA_NAME</code> indicates the schema where the type has been created
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_REF_TDO</code> indicates the in-memory <code class="codeph">REF</code> of the type, if the column type is an object type. If the space has not been reserved, it is allocated implicitly in the cache. The caller can then pin the object.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_CHARSET_ID</code> indicates the characterset id
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_CHARSET_FORM</code> indicates the characterset form
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_IS_IDENTITY</code> indicates that the column may be auto-incremented
                                    </p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="23%" id="d142845e815" headers="d142845e55 ">
                              <p><code class="codeph">AttrId</code> for Synonyms
                              </p>
                           </td>
                           <td align="left" valign="top" width="77%" headers="d142845e815 d142845e58 ">
                              <p>Parameter is for synonyms (<code class="codeph">ParamType</code> of <code class="codeph">PTYPE_SYN</code>):
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">ATTR_OBJID</code> indicates the object id
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_SCHEMA_NAME</code> indicates the schema name of the synonym translation
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_NAME</code> indicates a <code class="codeph">NULL</code>-terminated object name of the synonym translation
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_LINK</code> indicates a <code class="codeph">NULL-</code>terminated database link name of the synonym installation
                                    </p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="23%" id="d142845e858" headers="d142845e55 ">
                              <p><code class="codeph">AttrId</code> for Sequences
                              </p>
                           </td>
                           <td align="left" valign="top" width="77%" headers="d142845e858 d142845e58 ">
                              <p>Parameter is for sequences (<code class="codeph">ParamType</code> of <code class="codeph">PTYPE_SEQ</code>):
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">ATTR_OBJID</code> indicates the object id
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_MIN</code> indicates the minimum value
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_MAX</code> indicates the maximum value
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_INCR</code> indicates the increment
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_CACHE</code> indicates the number of sequence numbers cached; 0 if the sequence is not cached
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_ORDER</code> indicates whether the sequence is ordered
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_HW_MARK</code> indicates the "high-water mark"
                                    </p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="23%" id="d142845e909" headers="d142845e55 ">
                              <p><code class="codeph">AttrId</code> for Columns
                              </p>
                           </td>
                           <td align="left" valign="top" width="77%" headers="d142845e909 d142845e58 ">
                              <p>Parameter is for columns of tables or views (<code class="codeph">ParamType</code> of <code class="codeph">PTYPE_COL</code>):
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">ATTR_CHAR_USED</code> indicates the type of length semantics of the column. <code class="codeph">0</code> means byte-length semantics and <code class="codeph">1</code> means character-length semantics.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_CHAR_SIZE</code> indicates the column character length, or number of characters allowed in a column
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_DATA_SIZE </code>indicates the maximum size of a column, or number of bytes allowed in a column
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_DATA_TYPE</code> indicates the data type of the column
                                    </p>
                                 </li>
                              </ul>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">ATTR_NAME</code> indicates the column name
                                    </p>
                                 </li>
                              </ul>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">ATTR_PRECISION</code> indicates the precision of numeric columns
                                    </p>
                                 </li>
                              </ul>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">ATTR_SCALE</code> indicates the scale of numeric columns
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_IS_NULL</code> indicates <code class="codeph">0</code> if <code class="codeph">NULL</code> values are not permitted for the column
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_TYPE_NAME</code> indicates a type name
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_SCHEMA_NAME</code> indicates the schema where the type was created
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_REF_TDO</code> indicates the <code class="codeph">REF</code> for the type, if the column is of object type
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_CHARSET_ID</code> indicates the characterset ID
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_CHARSET_FORM</code> indicates the characterset form
                                    </p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="23%" id="d142845e1008" headers="d142845e55 ">
                              <p><code class="codeph">AttrId</code> for Arguments and Results
                              </p>
                           </td>
                           <td align="left" valign="top" width="77%" headers="d142845e1008 d142845e58 ">
                              <p>Parameter for arguments of a procedure or function (<code class="codeph">PTYPE_ARG</code>), a method (<code class="codeph">PTYPE_TYPE_ARG</code>), or a result (<code class="codeph">PTYPE_TYPE_RESULT</code>)
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">ATTR_NAME</code> indicates the argument name
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_POSITION</code> indicates the position of the argument in the list
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_TYPECODE</code> indicates the typecode
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_DATA_TYPE</code> indicates the data type
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_DATA_SIZE</code> indicates the size of the data type
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_PRECISION</code> indicates the precision of a numeric argument
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_SCALE</code> indicates the scale of a numeric argument
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_LEVEL</code> indicates the data type level
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_HAS_DEFAULT</code> indicates whether an argument has a default
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_LIST_ARGUMENTS</code> indicates the list of arguments at the next level, for records or table types
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_IOMODE</code> indicates the argument mode: <code class="codeph">0</code> for <code class="codeph">IN</code>, <code class="codeph">1</code> for <code class="codeph">OUT</code>, <code class="codeph">2</code> for <code class="codeph">IN/OUT</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_RADIX</code> indicates the radix of a number type
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_IS_NULL</code> indicates <code class="codeph">0</code> if <code class="codeph">NULL</code> values are not permitted
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_TYPE_NAME </code>indicates the type name
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_SCHEMA_NAME</code> indicates the schema name where the type was created
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_SUB_NAME</code> indicates the type name for package local types
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_LINK</code> indicates a <code class="codeph">NULL-</code>terminated database link name where the type is defined, for package local types when the package is remote
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_REF_TDO</code> is the <code class="codeph">REF</code> to the <code class="codeph">TDO</code> of the type if the argument is an object
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_CHARSET_ID</code> indicates the characterset ID
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_CHARSET_FORM</code> indicates the characterset form
                                    </p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="23%" id="d142845e1161" headers="d142845e55 ">
                              <p><code class="codeph">AttrId</code> for Schemas
                              </p>
                           </td>
                           <td align="left" valign="top" width="77%" headers="d142845e1161 d142845e58 ">
                              <p>Parameter is for schemas (<code class="codeph">ParamType</code> of <code class="codeph">PTYPE_SCHEMA</code>):
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">ATTR_LIST_OBJECTS</code> indicates the list of objects in the schema
                                    </p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="23%" id="d142845e1182" headers="d142845e55 ">
                              <p><code class="codeph">AttrId</code> for Lists
                              </p>
                           </td>
                           <td align="left" valign="top" width="77%" headers="d142845e1182 d142845e58 ">
                              <p>Parameter is for list of columns, arguments or subprograms:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">ATTR_LIST_COLUMNS</code> indicates a column list
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_LIST_ARGUMENTS </code>indicates a procedure or function argument list
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_LIST_SUBPROGRAMS</code> indicates a subprogram list
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_LIST_TYPE_ATTRIBS</code> indicates a type attribute list
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_TYPE_METHODS</code> indicates a type method list
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_TYPE_OBJECTS</code> indicates a list of objects in a schema
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_LIST_SCHEMAS</code> indicates a list of schemas in a database
                                    </p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="23%" id="d142845e1227" headers="d142845e55 ">
                              <p><code class="codeph">AttrId</code> for Databases
                              </p>
                           </td>
                           <td align="left" valign="top" width="77%" headers="d142845e1227 d142845e58 ">
                              <p>Parameter is for list of columns, arguments or subprograms (<code class="codeph">ParamType</code> of <code class="codeph">PTYPE_DATABASE</code>):
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">ATTR_VERSION</code> indicates the database version
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_CHARSET_ID</code> indicates the characterset ID of the database
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_NCHARSET_ID</code> indicates the national characterset of the database
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_LIST_SCHEMAS</code> indicates the list of schemas, <a href="metadata-class.html#GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAHIFBF">PTYPE_SCHEMA</a></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_MAX_PROC_LEN</code> indicates the maximum length of a procedure name
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_MAX_COLUMN_LEN</code> indicates the maximum length of a column name
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_CURSOR_COMMIT_BEHAVIOR</code> indicates how a commit affects cursors and prepared statements. Values can be <a href="metadata-class.html#GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAHJJHJ">CURSOR_OPEN</a> and <a href="metadata-class.html#GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAJDHHE">CURSER_CLOSED</a>, as defined for attribute <code class="codeph">AttrValues</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_MAX_CATALOG_NAMELEN</code> indicates the maximum length of a database (catalog) name
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_CATALOG_LOCATION</code> indicates the position of the catalog in a qualified table. Values can be <a href="metadata-class.html#GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAJIICC">CL_START</a> and <a href="metadata-class.html#GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAGFDIC">CL_END</a>, as defined for attribute <code class="codeph">AttrValues</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_SAVEPOINT_SUPPORT</code> indicates whether the database supports savepoints. Values can be <a href="metadata-class.html#GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAHAFBF">SP_SUPPORTED</a> and <a href="metadata-class.html#GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBABJHHG">SP_UNSUPPORTED</a>, as defined for attribute <code class="codeph">AttrValues</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_NOWAIT_SUPPORT</code> indicates whether the database supports the "no wait" condition. Values can be <a href="metadata-class.html#GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAJEIDF">NW_SUPPORTED</a> and <a href="metadata-class.html#GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBABDCBJ">NW_UNSUPPORTED</a>, as defined for attribute <code class="codeph">AttrValues</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_AUTOCOMMIT_DDL </code>indicates if an autocommit mode is required for DDL statements. Values can be <a href="metadata-class.html#GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAGIDCE">AC_DDL</a> and <a href="metadata-class.html#GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAIDGGG">NO_AC_DDL</a>, as defined for attribute <code class="codeph">AttrValues</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_LOCKING_MODE</code> indicates the locking mode for the database. Values can be <a href="metadata-class.html#GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBACDIJI">LOCK_IMMEDIATE</a> and <a href="metadata-class.html#GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAHAFAC">LOCK_DELAYED</a>, as defined for attribute <code class="codeph">AttrValues</code></p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="23%" id="d142845e1359" headers="d142845e55 "><pre class="oac_no_warn" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAFDABH" dir="ltr">AttrValues</pre></td>
                           <td align="left" valign="top" width="77%" headers="d142845e1359 d142845e58 ">
                              <p>Attribute values are returned on executing a <code class="codeph">get</code><span class="italic"><code class="codeph">xxx</code></span><code class="codeph">()</code> method and passing in an attribute, for which these are the results:
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBABEBDF">DURATION_SESSION</code> is the duration of a temporary table: session.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAHECDA">DURATION_TRANS</code> is the duration of a temporary table: transaction.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAICGCH">DURATION_NULL</code> is the duration of a temporary table: table not temporary.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">TYPEENCAP_PRIVATE</code> is the encapsulation level of the method: private.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">TYPEENCAP_PUBLIC</code> is the encapsulation level of the method: public.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">TYPEPARAM_IN</code> is the argument mode: <code class="codeph">IN</code>.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">TYPEPARAM_OUT</code> is the argument mode: <code class="codeph">OUT</code>.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">TYPEPARAM_INOUT</code> is the argument mode: <code class="codeph">IN/OUT</code>.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAHJJHJ">CURSOR_OPEN</code> is the effect of <code class="codeph">COMMIT</code> operation on cursors and prepared statements in the database: preserve cursor state as before the <code class="codeph">COMMIT</code> operation.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAJDHHE">CURSER_CLOSED</code> is the effect of <code class="codeph">COMMIT</code> operation on cursors and prepared statements in the database: cursors are closed on <code class="codeph">COMMIT</code>, but the application can still rerun the statement without preparing it again.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAJIICC">CL_START</code> is the position of the catalog in a qualified table: start.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAGFDIC">CL_END</code> is the position of the catalog in a qualified table: end.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAHAFBF">SP_SUPPORTED</code> is the database supports savepoints.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBABJHHG">SP_UNSUPPORTED</code> is the database does not support savepoints.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAJEIDF">NW_SUPPORTED</code> is the database supports nowait clause.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBABDCBJ">NW_UNSUPPORTED</code> is the database does not supports nowait clause.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAGIDCE">AC_DDL</code> is the autocommit mode required for DDL statements.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAIDGGG">NO_AC_DDL</code> is the autocommit mode not required for DDL statements.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBACDIJI">LOCK_IMMEDIATE</code> is the locking mode for the database: immediate.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAHAFAC">LOCK_DELAYED </code>is the locking mode for the database: delayed.
                                    </p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="23%" id="d142845e1497" headers="d142845e55 ">
                              <p><code class="codeph">ColumnAttrId</code></p>
                           </td>
                           <td align="left" valign="top" width="77%" headers="d142845e1497 d142845e58 ">
                              <p>Attributes for column identity enable automatic increment support. Possible values are:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">ATTR_COL_IS_IDENTITY</code> is <code class="codeph">true</code> when column is an identity column.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_COL_IS_GEN_ALWAYS</code> is <code class="codeph">true</code> when the column is always generated.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ATTR_COL_IS_GEN_BY_DEF_ON_NULL</code> is <code class="codeph">true</code> when the identity column is generated by default on <code class="codeph">null</code>.
                                    </p>
                                 </li>
                              </ul>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
               <div class="tblformal" id="GUID-5B8E80D3-134A-44F6-B43E-D653BE9FC13F__BBAFBGEH">
                  <p class="titleintable">Table 13-28 Summary of MetaData Methods</p>
                  <table cellpadding="4" cellspacing="0" class="Formal" title="Summary of MetaData Methods" summary="First column lists methods; second column provides description of these methods." width="100%" frame="hsides" border="1" rules="rows">
                     <thead>
                        <tr align="left" valign="top">
                           <th align="left" valign="bottom" width="40%" id="d142845e1542">Method</th>
                           <th align="left" valign="bottom" width="60%" id="d142845e1545">Description</th>
                        </tr>
                     </thead>
                     <tbody>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d142845e1550" headers="d142845e1542 ">
                              <p><a href="metadata-class.html#GUID-FE7D781D-D2EA-462F-9372-CBE314FF9282">MetaData()</a></p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d142845e1550 d142845e1545 ">
                              <p><code class="codeph">MetaData</code> class constructor.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d142845e1560" headers="d142845e1542 ">
                              <p><a href="metadata-class.html#GUID-C3F82831-4C45-41A9-B81D-FBE914304A60">getAttributeCount()</a></p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d142845e1560 d142845e1545 ">
                              <p>Gets the count of the attribute as a <code class="codeph">MetaData</code> object
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d142845e1571" headers="d142845e1542 ">
                              <p><a href="metadata-class.html#GUID-ABA5D07A-8DA2-4143-9DFC-EB70DE00F013">getAttributeId()</a></p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d142845e1571 d142845e1545 ">
                              <p>Gets the ID of the specified attribute</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d142845e1579" headers="d142845e1542 ">
                              <p><a href="metadata-class.html#GUID-18D4A0DE-A53E-496E-9A07-09794C53B429">getAttributeType()</a></p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d142845e1579 d142845e1545 ">
                              <p>Gets the type of the specified attribute.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d142845e1587" headers="d142845e1542 ">
                              <p><a href="metadata-class.html#GUID-DC781671-DBC7-4EBD-8F02-540D000BD1FF">getBoolean()</a></p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d142845e1587 d142845e1545 ">
                              <p>Gets the value of the attribute as a C++ <code class="codeph">boolean</code>.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d142845e1598" headers="d142845e1542 ">
                              <p><a href="metadata-class.html#GUID-86B0BF75-F208-4709-AB65-6CD02537A977">getInt()</a></p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d142845e1598 d142845e1545 ">
                              <p>Gets the value of the attribute as a C++ <code class="codeph">int</code>.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d142845e1609" headers="d142845e1542 ">
                              <p><a href="metadata-class.html#GUID-5666D106-BA3A-4DCE-9BED-DC3F3EC5B9B0">getMetaData()</a></p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d142845e1609 d142845e1545 ">
                              <p>Gets the value of the attribute as a <code class="codeph">MetaData</code> object
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d142845e1620" headers="d142845e1542 ">
                              <p><a href="metadata-class.html#GUID-C89EC14B-2FEF-4E05-9546-AB0DCC1FC1AE">getNumber()</a></p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d142845e1620 d142845e1545 ">
                              <p>Returns the specified attribute as a <code class="codeph">Number</code> object.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d142845e1631" headers="d142845e1542 ">
                              <p><a href="metadata-class.html#GUID-9E13C98A-A482-4D01-B254-C9F8BC78945F">getRef()</a></p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d142845e1631 d142845e1545 ">
                              <p>Gets the value of the attribute as a <code class="codeph">Ref&lt;T&gt;</code>.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d142845e1642" headers="d142845e1542 ">
                              <p><a href="metadata-class.html#GUID-2F99B6DB-1F53-42F0-BCF7-693371591DFB">getString()</a></p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d142845e1642 d142845e1545 ">
                              <p>Gets the value of the attribute as a string.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d142845e1650" headers="d142845e1542 ">
                              <p><a href="metadata-class.html#GUID-ED2A418D-58C0-4CE0-8D7D-84A43A06CA1E">getTimeStamp()</a></p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d142845e1650 d142845e1545 ">
                              <p>Gets the value of the attribute as a <code class="codeph">Timestamp</code> object
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d142845e1662" headers="d142845e1542 ">
                              <p><a href="metadata-class.html#GUID-6AF10E68-32D7-4F18-B413-FBB53DD93BED">getUInt()</a></p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d142845e1662 d142845e1545 ">
                              <p>Gets the value of the attribute as a C++ <code class="codeph">unsigned int</code>.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d142845e1673" headers="d142845e1542 ">
                              <p><a href="metadata-class.html#GUID-979A20BB-A9E4-4E7F-84EE-17AB9564D26D">getUString()</a></p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d142845e1673 d142845e1545 ">
                              <p>Returns the value of the attribute as a <code class="codeph">UString</code> in the character set associated with the metadata.
                              </p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d142845e1684" headers="d142845e1542 ">
                              <p><a href="metadata-class.html#GUID-C3C421C9-FC91-4143-A829-CD4A7E0B8C5D">getVector()</a></p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d142845e1684 d142845e1545 ">
                              <p>Gets the value of the attribute as an C++ vector.</p>
                           </td>
                        </tr>
                        <tr align="left" valign="top">
                           <td align="left" valign="top" width="40%" id="d142845e1692" headers="d142845e1542 ">
                              <p><a href="metadata-class.html#GUID-B572C527-019A-4E98-8855-9B6AB1E93196">operator=()</a></p>
                           </td>
                           <td align="left" valign="top" width="60%" headers="d142845e1692 d142845e1545 ">
                              <p>Assigns one metadata object to another. </p>
                           </td>
                        </tr>
                     </tbody>
                  </table>
               </div>
               <!-- class="inftblhruleinformal" -->
            </div><a id="LNCPP21188"></a><a id="LNCPP21187"></a><div class="props_rev_3"><a id="GUID-FE7D781D-D2EA-462F-9372-CBE314FF9282" name="GUID-FE7D781D-D2EA-462F-9372-CBE314FF9282"></a><h3 id="LNCPP-GUID-FE7D781D-D2EA-462F-9372-CBE314FF9282" class="sect3"><span class="enumeration_section">13.20.1 </span>MetaData()
               </h3>
               <div>
                  <div class="section">
                     <p><code class="codeph">MetaData</code> class constructor.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-FE7D781D-D2EA-462F-9372-CBE314FF9282__GUID-1E4FC88C-63E0-4F6A-87CD-841120832219">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">MetaData(
&nbsp;&nbsp;&nbsp;const MetaData &amp;omd);</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-FE7D781D-D2EA-462F-9372-CBE314FF9282__GUID-2F26613C-DD9A-47A5-9D8D-32F574BF2051">
                     <table cellpadding="4" cellspacing="0" class="Formal" title summary="First column lists parameters; second column provides description of these parameters." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="28%" id="d142845e1783">Parameter</th>
                              <th align="left" valign="bottom" width="72%" id="d142845e1786">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="28%" id="d142845e1791" headers="d142845e1783 "><pre class="oac_no_warn" dir="ltr">cmd</pre></td>
                              <td align="left" valign="top" width="72%" headers="d142845e1791 d142845e1786 ">
                                 <p>The source that the <code class="codeph">MetaData</code> object is copied from.
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP21190"></a><a id="LNCPP21189"></a><div class="props_rev_3"><a id="GUID-C3F82831-4C45-41A9-B81D-FBE914304A60" name="GUID-C3F82831-4C45-41A9-B81D-FBE914304A60"></a><h3 id="LNCPP-GUID-C3F82831-4C45-41A9-B81D-FBE914304A60" class="sect3"><span class="enumeration_section">13.20.2 </span>getAttributeCount()
               </h3>
               <div>
                  <div class="section">
                     <p>This method returns the number of attributes related to the metadata object.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C3F82831-4C45-41A9-B81D-FBE914304A60__GUID-89117DB7-34CB-439F-96F8-511C25DD42F4">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">unsigned int getAttributeCount() const;
</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="LNCPP21192"></a><a id="LNCPP21191"></a><div class="props_rev_3"><a id="GUID-ABA5D07A-8DA2-4143-9DFC-EB70DE00F013" name="GUID-ABA5D07A-8DA2-4143-9DFC-EB70DE00F013"></a><h3 id="LNCPP-GUID-ABA5D07A-8DA2-4143-9DFC-EB70DE00F013" class="sect3"><span class="enumeration_section">13.20.3 </span>getAttributeId()
               </h3>
               <div>
                  <div class="section">
                     <p>This method returns the attribute ID, such as <code class="codeph">ATTR_NUM_COLS</code>, of the attribute represented by the attribute number specified.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-ABA5D07A-8DA2-4143-9DFC-EB70DE00F013__GUID-951621A7-DFA8-4E5B-BEFA-65AC68E1BB8F">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">AttrId getAttributeId(
&nbsp;&nbsp;&nbsp;unsigned int attributeNum) const;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-ABA5D07A-8DA2-4143-9DFC-EB70DE00F013__GUID-028134F1-8E13-4E14-85C1-61F5027DFE95">
                     <table cellpadding="4" cellspacing="0" class="Formal" title summary="First column lists parameters; second column provides description of these parameters." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="18%" id="d142845e1960">Parameter</th>
                              <th align="left" valign="bottom" width="82%" id="d142845e1963">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="18%" id="d142845e1968" headers="d142845e1960 "><pre class="oac_no_warn" dir="ltr">attributeNum</pre></td>
                              <td align="left" valign="top" width="82%" headers="d142845e1968 d142845e1963 ">
                                 <p>The number of the attribute for which the attribute ID is to be returned.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP21194"></a><a id="LNCPP21193"></a><div class="props_rev_3"><a id="GUID-18D4A0DE-A53E-496E-9A07-09794C53B429" name="GUID-18D4A0DE-A53E-496E-9A07-09794C53B429"></a><h3 id="LNCPP-GUID-18D4A0DE-A53E-496E-9A07-09794C53B429" class="sect3"><span class="enumeration_section">13.20.4 </span>getAttributeType()
               </h3>
               <div>
                  <div class="section">
                     <p>This method returns the attribute type, such as <code class="codeph">NUMBER</code> or <code class="codeph">INT</code>, of the attribute represented by attribute number specified.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-18D4A0DE-A53E-496E-9A07-09794C53B429__GUID-157FAC1E-9B57-4986-8EFF-9F30E5BF2870">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">Type getAttributeType(
&nbsp;&nbsp;&nbsp;unsigned int attributeNum) const;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-18D4A0DE-A53E-496E-9A07-09794C53B429__GUID-11C02B56-80E5-443E-B357-9BCF4039E8A6">
                     <table cellpadding="4" cellspacing="0" class="Formal" title summary="First column lists parameters; second column provides description of these parameters." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="18%" id="d142845e2062">Parameter</th>
                              <th align="left" valign="bottom" width="82%" id="d142845e2065">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="18%" id="d142845e2070" headers="d142845e2062 "><pre class="oac_no_warn" dir="ltr">attributeNum</pre></td>
                              <td align="left" valign="top" width="82%" headers="d142845e2070 d142845e2065 ">
                                 <p>The number of the attribute for which the attribute type is to be returned.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP21195"></a><div class="props_rev_3"><a id="GUID-DC781671-DBC7-4EBD-8F02-540D000BD1FF" name="GUID-DC781671-DBC7-4EBD-8F02-540D000BD1FF"></a><h3 id="LNCPP-GUID-DC781671-DBC7-4EBD-8F02-540D000BD1FF" class="sect3"><span class="enumeration_section">13.20.5 </span>getBoolean()
               </h3>
               <div>
                  <div class="section">
                     <p>This method returns the value of the attribute as a C++ <code class="codeph">boolean</code>. If the value is a SQL <code class="codeph">NULL</code>, the result is <code class="codeph">FALSE</code>. The overloaded version returns the value of the column attribute.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-DC781671-DBC7-4EBD-8F02-540D000BD1FF__GUID-A0599F90-4F69-49AB-939A-0BCD0EF6DCBB">
                     <table cellpadding="4" cellspacing="0" class="Formal" title summary="First column lists versions of the constructor; second column provides descriptions of these versions." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="66%" id="d142845e2160">Syntax</th>
                              <th align="left" valign="bottom" width="34%" id="d142845e2163">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="66%" id="d142845e2168" headers="d142845e2160 "><pre class="oac_no_warn" dir="ltr">bool getBoolean(
&nbsp;&nbsp;&nbsp;MetaData::AttrId attributeId) const;</pre></td>
                              <td align="left" valign="top" width="34%" headers="d142845e2168 d142845e2163 ">
                                 <p>Returns the value of the attribute.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="66%" id="d142845e2175" headers="d142845e2160 "><pre class="oac_no_warn" dir="ltr">bool getBoolean(
&nbsp;&nbsp;&nbsp;MetaData::ColumnAttrId colAttributeId) const;</pre></td>
                              <td align="left" valign="top" width="34%" headers="d142845e2175 d142845e2163 ">
                                 <p>Returns the value of the column attribute</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="tblformal" id="GUID-DC781671-DBC7-4EBD-8F02-540D000BD1FF__GUID-AD0A8CA0-F7A8-41AC-A228-C6DA815B7404">
                     <table cellpadding="4" cellspacing="0" class="Formal" title summary="First column lists parameters; second column provides description of these parameters." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="24%" id="d142845e2189">Parameter</th>
                              <th align="left" valign="bottom" width="76%" id="d142845e2192">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="24%" id="d142845e2197" headers="d142845e2189 "><pre class="oac_no_warn" dir="ltr">attributeId</pre></td>
                              <td align="left" valign="top" width="76%" headers="d142845e2197 d142845e2192 ">
                                 <p>The attribute ID</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="24%" id="d142845e2204" headers="d142845e2189 "><pre class="oac_no_warn" dir="ltr">colAttributeId</pre></td>
                              <td align="left" valign="top" width="76%" headers="d142845e2204 d142845e2192 ">
                                 <p>The column attribute ID</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP21198"></a><a id="LNCPP21197"></a><div class="props_rev_3"><a id="GUID-86B0BF75-F208-4709-AB65-6CD02537A977" name="GUID-86B0BF75-F208-4709-AB65-6CD02537A977"></a><h3 id="LNCPP-GUID-86B0BF75-F208-4709-AB65-6CD02537A977" class="sect3"><span class="enumeration_section">13.20.6 </span>getInt()
               </h3>
               <div>
                  <div class="section">
                     <p>This method returns the value of the attribute as a C++ <code class="codeph">int</code>. If the value is SQL <code class="codeph">NULL</code>, the result is <code class="codeph">0</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-86B0BF75-F208-4709-AB65-6CD02537A977__GUID-89A2F9DF-1699-4D0A-AD8B-8A10F8F24103">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">int getInt(
&nbsp;&nbsp;&nbsp;MetaData::AttrId attributeId) const;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-86B0BF75-F208-4709-AB65-6CD02537A977__GUID-63341DD0-F3CA-4411-96D3-98C3801D5D65">
                     <table cellpadding="4" cellspacing="0" class="Formal" title summary="First column lists parameters; second column provides description of these parameters." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="18%" id="d142845e2302">Parameter</th>
                              <th align="left" valign="bottom" width="82%" id="d142845e2305">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="18%" id="d142845e2310" headers="d142845e2302 "><pre class="oac_no_warn" dir="ltr">attributeId</pre></td>
                              <td align="left" valign="top" width="82%" headers="d142845e2310 d142845e2305 ">
                                 <p>The attribute ID</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP21200"></a><a id="LNCPP21199"></a><div class="props_rev_3"><a id="GUID-5666D106-BA3A-4DCE-9BED-DC3F3EC5B9B0" name="GUID-5666D106-BA3A-4DCE-9BED-DC3F3EC5B9B0"></a><h3 id="LNCPP-GUID-5666D106-BA3A-4DCE-9BED-DC3F3EC5B9B0" class="sect3"><span class="enumeration_section">13.20.7 </span>getMetaData()
               </h3>
               <div>
                  <div class="section">
                     <p>This method returns a <code class="codeph">MetaData</code> instance holding the attribute value. A metadata attribute value can be retrieved as a <code class="codeph">MetaData</code> instance. This method can only be called on attributes of the metadata type.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-5666D106-BA3A-4DCE-9BED-DC3F3EC5B9B0__GUID-7EF08AF6-5B0A-45C7-9FB4-29653C70F71B">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">MetaData getMetaData(
&nbsp;&nbsp;&nbsp;MetaData::AttrId attributeId) const;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-5666D106-BA3A-4DCE-9BED-DC3F3EC5B9B0__GUID-D88D6815-1BE8-4091-B81F-222AAAC72214">
                     <table cellpadding="4" cellspacing="0" class="Formal" title summary="First column lists parameters; second column provides description of these parameters." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="18%" id="d142845e2404">Parameter</th>
                              <th align="left" valign="bottom" width="82%" id="d142845e2407">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="18%" id="d142845e2412" headers="d142845e2404 "><pre class="oac_no_warn" dir="ltr">attributeId</pre></td>
                              <td align="left" valign="top" width="82%" headers="d142845e2412 d142845e2407 ">
                                 <p>The attribute ID</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP21202"></a><a id="LNCPP21201"></a><div class="props_rev_3"><a id="GUID-C89EC14B-2FEF-4E05-9546-AB0DCC1FC1AE" name="GUID-C89EC14B-2FEF-4E05-9546-AB0DCC1FC1AE"></a><h3 id="LNCPP-GUID-C89EC14B-2FEF-4E05-9546-AB0DCC1FC1AE" class="sect3"><span class="enumeration_section">13.20.8 </span>getNumber()
               </h3>
               <div>
                  <div class="section">
                     <p>This method returns the value of the attribute as a <code class="codeph">Number</code> object. If the value is a SQL <code class="codeph">NULL</code>, the result is <code class="codeph">NULL</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C89EC14B-2FEF-4E05-9546-AB0DCC1FC1AE__GUID-34F332A7-006E-41DE-9735-977AF7AED602">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">Number getNumber(
&nbsp;&nbsp;&nbsp;MetaData::AttrId attributeId) const;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-C89EC14B-2FEF-4E05-9546-AB0DCC1FC1AE__GUID-72F81DC6-DD12-46D5-8F78-4875CE22848C">
                     <table cellpadding="4" cellspacing="0" class="Formal" title summary="First column lists parameters; second column provides description of these parameters." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="18%" id="d142845e2509">Parameter</th>
                              <th align="left" valign="bottom" width="82%" id="d142845e2512">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="18%" id="d142845e2517" headers="d142845e2509 "><pre class="oac_no_warn" dir="ltr">attributeId</pre></td>
                              <td align="left" valign="top" width="82%" headers="d142845e2517 d142845e2512 ">
                                 <p>The attribute ID</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP21204"></a><a id="LNCPP21203"></a><div class="props_rev_3"><a id="GUID-9E13C98A-A482-4D01-B254-C9F8BC78945F" name="GUID-9E13C98A-A482-4D01-B254-C9F8BC78945F"></a><h3 id="LNCPP-GUID-9E13C98A-A482-4D01-B254-C9F8BC78945F" class="sect3"><span class="enumeration_section">13.20.9 </span>getRef()
               </h3>
               <div>
                  <div class="section">
                     <p>This method returns the value of the attribute as a <code class="codeph">RefAny</code>, or <code class="codeph">Ref</code> to a <code class="codeph">TDO</code>. If the value is SQL <code class="codeph">NULL</code>, the result is <code class="codeph">NULL</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9E13C98A-A482-4D01-B254-C9F8BC78945F__GUID-4F1F3A03-0159-417D-8BD4-F8AD69C80C91">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">RefAny getRef(
&nbsp;&nbsp;&nbsp;MetaData::AttrId attributeId) const;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-9E13C98A-A482-4D01-B254-C9F8BC78945F__GUID-C00689C3-5024-49CC-B974-E460ED68228C">
                     <table cellpadding="4" cellspacing="0" class="Formal" title summary="First column lists parameters; second column provides description of these parameters." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="18%" id="d142845e2621">Parameter</th>
                              <th align="left" valign="bottom" width="82%" id="d142845e2624">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="18%" id="d142845e2629" headers="d142845e2621 "><pre class="oac_no_warn" dir="ltr">attributeId</pre></td>
                              <td align="left" valign="top" width="82%" headers="d142845e2629 d142845e2624 ">
                                 <p>The attribute ID</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP21206"></a><a id="LNCPP21205"></a><div class="props_rev_3"><a id="GUID-2F99B6DB-1F53-42F0-BCF7-693371591DFB" name="GUID-2F99B6DB-1F53-42F0-BCF7-693371591DFB"></a><h3 id="LNCPP-GUID-2F99B6DB-1F53-42F0-BCF7-693371591DFB" class="sect3"><span class="enumeration_section">13.20.10 </span>getString()
               </h3>
               <div>
                  <div class="section">
                     <p>This method returns the value of the attribute as a string. If the value is SQL <code class="codeph">NULL</code>, the result is <code class="codeph">NULL</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-2F99B6DB-1F53-42F0-BCF7-693371591DFB__GUID-3EFD3454-5CE0-4BCF-81E2-5DDCAE4FE256">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">string getString(
&nbsp;&nbsp;&nbsp;MetaData::AttrId attributeId) const;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-2F99B6DB-1F53-42F0-BCF7-693371591DFB__GUID-35B1D3C2-9A81-486D-A6D7-2EC3028F886E">
                     <table cellpadding="4" cellspacing="0" class="Formal" title summary="First column lists parameters; second column provides description of these parameters." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="18%" id="d142845e2723">Parameter</th>
                              <th align="left" valign="bottom" width="82%" id="d142845e2726">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="18%" id="d142845e2731" headers="d142845e2723 "><pre class="oac_no_warn" dir="ltr">attributeId</pre></td>
                              <td align="left" valign="top" width="82%" headers="d142845e2731 d142845e2726 ">
                                 <p>The attribute ID</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP21208"></a><a id="LNCPP21207"></a><div class="props_rev_3"><a id="GUID-ED2A418D-58C0-4CE0-8D7D-84A43A06CA1E" name="GUID-ED2A418D-58C0-4CE0-8D7D-84A43A06CA1E"></a><h3 id="LNCPP-GUID-ED2A418D-58C0-4CE0-8D7D-84A43A06CA1E" class="sect3"><span class="enumeration_section">13.20.11 </span>getTimeStamp()
               </h3>
               <div>
                  <div class="section">
                     <p>This method returns the value of the attribute as a <code class="codeph">Timestamp</code> object. If the value is a SQL <code class="codeph">NULL</code>, the result is <code class="codeph">NULL</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-ED2A418D-58C0-4CE0-8D7D-84A43A06CA1E__GUID-B51E8923-0391-4FA0-948B-74B8BB5824F7">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">Timestamp getTimestamp(
&nbsp;&nbsp;&nbsp;MetaData::AttrId attributeId) const;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-ED2A418D-58C0-4CE0-8D7D-84A43A06CA1E__GUID-C734B067-432A-418D-A60A-81F9405A3401">
                     <table cellpadding="4" cellspacing="0" class="Formal" title summary="First column lists parameters; second column provides description of these parameters." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="18%" id="d142845e2828">Parameter</th>
                              <th align="left" valign="bottom" width="82%" id="d142845e2831">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="18%" id="d142845e2836" headers="d142845e2828 "><pre class="oac_no_warn" dir="ltr">attributeId</pre></td>
                              <td align="left" valign="top" width="82%" headers="d142845e2836 d142845e2831 ">
                                 <p>The attribute ID</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP21210"></a><a id="LNCPP21209"></a><div class="props_rev_3"><a id="GUID-6AF10E68-32D7-4F18-B413-FBB53DD93BED" name="GUID-6AF10E68-32D7-4F18-B413-FBB53DD93BED"></a><h3 id="LNCPP-GUID-6AF10E68-32D7-4F18-B413-FBB53DD93BED" class="sect3"><span class="enumeration_section">13.20.12 </span>getUInt()
               </h3>
               <div>
                  <div class="section">
                     <p>This method returns the value of the attribute as a C++ unsigned<code class="codeph"> int</code>. If the value is a SQL <code class="codeph">NULL</code>, the result is <code class="codeph">0</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-6AF10E68-32D7-4F18-B413-FBB53DD93BED__GUID-A7B19753-2CF4-4C9E-98ED-6ACC3BD1D01A">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">unsigned int getUInt(
&nbsp;&nbsp;&nbsp;MetaData::AttrId attributeId) const;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-6AF10E68-32D7-4F18-B413-FBB53DD93BED__GUID-ED192BEC-0A0C-4D11-B9AE-9743EE70D650">
                     <table cellpadding="4" cellspacing="0" class="Formal" title summary="First column lists parameters; second column provides description of these parameters." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="18%" id="d142845e2934">Parameter</th>
                              <th align="left" valign="bottom" width="82%" id="d142845e2937">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="18%" id="d142845e2942" headers="d142845e2934 "><pre class="oac_no_warn" dir="ltr">attributeId</pre></td>
                              <td align="left" valign="top" width="82%" headers="d142845e2942 d142845e2937 ">
                                 <p>The attribute ID</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP21212"></a><a id="LNCPP21211"></a><div class="props_rev_3"><a id="GUID-979A20BB-A9E4-4E7F-84EE-17AB9564D26D" name="GUID-979A20BB-A9E4-4E7F-84EE-17AB9564D26D"></a><h3 id="LNCPP-GUID-979A20BB-A9E4-4E7F-84EE-17AB9564D26D" class="sect3"><span class="enumeration_section">13.20.13 </span>getUString()
               </h3>
               <div>
                  <div class="section">
                     <p>Returns the value of an attribute as a <code class="codeph">UString</code> in the character set associated with the metadata. 
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-979A20BB-A9E4-4E7F-84EE-17AB9564D26D__GUID-635AB552-A012-4F3D-905D-8ABD272C824E">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">UString getUString(
&nbsp;&nbsp;&nbsp;MetaData::AttrId attributeId) const;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-979A20BB-A9E4-4E7F-84EE-17AB9564D26D__GUID-BECE8DDB-74B9-4B61-8DE2-2E9713237FF4">
                     <table cellpadding="4" cellspacing="0" class="Formal" title summary="First column lists parameters; second column provides description of these parameters." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="18%" id="d142845e3033">Parameter</th>
                              <th align="left" valign="bottom" width="82%" id="d142845e3036">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="18%" id="d142845e3041" headers="d142845e3033 "><pre class="oac_no_warn" dir="ltr">attributeId</pre></td>
                              <td align="left" valign="top" width="82%" headers="d142845e3041 d142845e3036 ">
                                 <p>The attribute ID</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP21214"></a><a id="LNCPP21213"></a><div class="props_rev_3"><a id="GUID-C3C421C9-FC91-4143-A829-CD4A7E0B8C5D" name="GUID-C3C421C9-FC91-4143-A829-CD4A7E0B8C5D"></a><h3 id="LNCPP-GUID-C3C421C9-FC91-4143-A829-CD4A7E0B8C5D" class="sect3"><span class="enumeration_section">13.20.14 </span>getVector()
               </h3>
               <div>
                  <div class="section">
                     <p>This method returns a C++ vector containing the attribute value. A collection attribute value can be retrieved as a C++ vector instance. This method can only be called on attributes of a list type.</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-C3C421C9-FC91-4143-A829-CD4A7E0B8C5D__GUID-8756D53C-DB36-4064-9006-E6F5638D8F5D">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">vector&lt;MetaData&gt; getVector(
&nbsp;&nbsp;&nbsp;MetaData::AttrId attributeId) const;</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-C3C421C9-FC91-4143-A829-CD4A7E0B8C5D__GUID-BAB5DE28-3A86-4CC3-9725-5B57BF59C8B2">
                     <table cellpadding="4" cellspacing="0" class="Formal" title summary="First column lists parameters; second column provides description of these parameters." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="18%" id="d142845e3129">Parameter</th>
                              <th align="left" valign="bottom" width="82%" id="d142845e3132">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="18%" id="d142845e3137" headers="d142845e3129 "><pre class="oac_no_warn" dir="ltr">attributeId</pre></td>
                              <td align="left" valign="top" width="82%" headers="d142845e3137 d142845e3132 ">
                                 <p>The attribute ID</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="LNCPP21216"></a><a id="LNCPP21215"></a><div class="props_rev_3"><a id="GUID-B572C527-019A-4E98-8855-9B6AB1E93196" name="GUID-B572C527-019A-4E98-8855-9B6AB1E93196"></a><h3 id="LNCPP-GUID-B572C527-019A-4E98-8855-9B6AB1E93196" class="sect3"><span class="enumeration_section">13.20.15 </span>operator=()
               </h3>
               <div>
                  <div class="section">
                     <p>This method assigns one <code class="codeph">MetaData</code> object to another. This increments the reference count of the <code class="codeph">MetaData</code> object that is assigned.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B572C527-019A-4E98-8855-9B6AB1E93196__GUID-66B583FC-E814-4F9E-BA59-3A56A284A4EE">Syntax</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"><pre class="oac_no_warn" dir="ltr">void operator=(
&nbsp;&nbsp;&nbsp;const MetaData &amp;omd);</pre></div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-B572C527-019A-4E98-8855-9B6AB1E93196__GUID-190BF47C-0F8D-4AD4-B1F8-9EE25FB3050D">
                     <table cellpadding="4" cellspacing="0" class="Formal" title summary="First column lists parameters; second column provides description of these parameters." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="18%" id="d142845e3232">Parameter</th>
                              <th align="left" valign="bottom" width="82%" id="d142845e3235">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="18%" id="d142845e3240" headers="d142845e3232 "><pre class="oac_no_warn" dir="ltr">cmd</pre></td>
                              <td align="left" valign="top" width="82%" headers="d142845e3240 d142845e3235 ">
                                 <p>MetaData object to be assigned</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html><html id='00161.json-path-expressions.html'></html><!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Oracle Database provides SQL access to JSON data using SQL/JSON path expressions.">
      <meta name="description" content="Oracle Database provides SQL access to JSON data using SQL/JSON path expressions.">
      <title>SQL/JSON Path Expressions</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="JSON Developer's Guide">
      <meta property="og:description" content="Oracle Database provides SQL access to JSON data using SQL/JSON path expressions.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="JSON Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="json-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-02-22T10:58:31-08:00">
      <meta name="dcterms.title" content="JSON Developer's Guide">
      <meta name="dcterms.dateCopyrighted" content="2015, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96227-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="simple-dot-notation-access-to-json-data.html" title="Previous" type="text/html">
      <link rel="next" href="clauses-used-in-functions-and-conditions-for-json.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="ADJSN">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="simple-dot-notation-access-to-json-data.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="clauses-used-in-functions-and-conditions-for-json.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">JSON Developer's Guide</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="query-json-data.html" property="item" typeof="WebPage"><span property="name">Query JSON Data</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">SQL/JSON Path Expressions</li>
            </ol>
            <a id="GUID-2DC05D71-3D62-4A14-855F-76E054032494" name="GUID-2DC05D71-3D62-4A14-855F-76E054032494"></a>
            
            <h2 id="ADJSN-GUID-2DC05D71-3D62-4A14-855F-76E054032494" class="sect2"><span class="enumeration_chapter">13 </span>SQL/JSON Path Expressions
            </h2>
         </header>
         <div class="ind"><script type="text/javascript">window.name='json-path-expressions'</script><script type="text/javascript">
    function footdisplay(footnum,footnote) {
    var msg = window.open('about:blank', 'NewWindow' + footnum,
        'directories=no,height=100,location=no,menubar=no,resizable=yes,' +
        'scrollbars=yes,status=no,toolbar=no,width=598');
    msg.document.open('text/html');
    msg.document.write('<!DOCTYPE html ');
    msg.document.write('PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" ');
    msg.document.write('"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">'); 
    msg.document.write('<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us" dir="ltr"><head><title>');
   
    msg.document.write('Footnote&nbsp; ' + footnum);
    msg.document.write('<\/title><meta http-equiv="Content-Type" ');
    msg.document.write('content="text/html; charset=utf-8" />');
    msg.document.write('<meta http-equiv="Content-Script-Type" ');
    msg.document.write('content="text/javascript" />');
    msg.document.write('<style type="text/css"> <![CDATA[ ');
    msg.document.write('h1 {text-align: center; font-size: 14pt;}');
    msg.document.write('fieldset {border: none;}');
    msg.document.write('form {text-align: center;}');
    msg.document.write(' ]]\u003e <\/style>');
    msg.document.write('<\/head><body><div id="footnote"><h1>Footnote&nbsp; ' + footnum + '<\/h1><p>');
    msg.document.write(footnote);
    msg.document.write('<\/p><form action="" method="post"><fieldset>');
    msg.document.write('<input type="button" value="OK" ');
    msg.document.write('onclick="window.close();" />');
    msg.document.write('<\/fieldset><\/form><\/div><\/body><\/html>');
    msg.document.close();
    setTimeout(function() {
        var height = msg.document.getElementById('footnote').offsetHeight;
        msg.resizeTo(598, height + 100);
    }
    , 100);
    msg.focus();
}
            </script><noscript>
               <p>The script content on this page is for navigation purposes only and does not alter the content in any way.</p>
            </noscript>
            <div>
               <p>Oracle Database provides SQL access to JSON data using SQL/JSON path expressions.</p>
               <div class="section"></div>
               <!-- class="section" -->
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="json-path-expressions.html#GUID-11006CA4-91CA-4D22-AB14-8F25508CFC5F">Overview of SQL/JSON Path Expressions</a><br>Oracle Database provides SQL access to JSON data using SQL/JSON path expressions.
                  </li>
                  <li class="ulchildlink"><a href="json-path-expressions.html#GUID-7B610884-39CD-4910-85E7-C251D342D879">SQL/JSON Path Expression Syntax</a><br>SQL/JSON path expressions are matched by SQL/JSON functions and conditions against JSON data, to select portions of it. Path expressions can use wildcards and array ranges. Matching is case-sensitive.
                  </li>
                  <li class="ulchildlink"><a href="json-path-expressions.html#GUID-8656CAB9-C293-4A99-BB62-F38F3CFC4C13">SQL/JSON Path Expression Item Methods</a><br>The Oracle item methods available for a SQL/JSON path expression are         described.
                  </li>
                  <li class="ulchildlink"><a href="json-path-expressions.html#GUID-20DC09A8-98DF-4473-8077-913D490A969C">ISO 8601 Date and Time Support</a><br>International Standards Organization (ISO) standard 8601 describes an internationally accepted way to represent dates and times. Oracle Database supports many of the ISO 8601 date and time formats.
                  </li>
                  <li class="ulchildlink"><a href="json-path-expressions.html#GUID-D951D27D-6918-40E8-8A0D-8D60AB83FD4A">Types in Comparisons</a><br>Comparisons in SQL/JSON path-expression filter conditions are statically typed at compile time. If the effective types of the operands of a comparison are not known to be the same then an attempt is sometimes made to reconcile them by type-casting.
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="query-json-data.html#GUID-119E5069-77F2-45DC-B6F0-A1B312945590" title="You can query JSON data using a simple dot notation or, for more functionality, using SQL/JSON functions and conditions. You can create and query a data guide that summarizes the structure and type information of a set of JSON documents.">Query JSON Data</a></p>
                  </div>
               </div>
            </div>
            <a id="ADXDB6254"></a><div class="props_rev_3"><a id="GUID-11006CA4-91CA-4D22-AB14-8F25508CFC5F" name="GUID-11006CA4-91CA-4D22-AB14-8F25508CFC5F"></a><h3 id="ADJSN-GUID-11006CA4-91CA-4D22-AB14-8F25508CFC5F" class="sect3"><span class="enumeration_section">13.1 </span>Overview of SQL/JSON Path Expressions
               </h3>
               <div>
                  <p>Oracle Database provides SQL access to JSON data using SQL/JSON path expressions.</p>
                  <p>JSON is a notation for JavaScript values. When JSON data is stored in the database you can query it using path expressions that are somewhat analogous to XQuery or XPath expressions for XML data. Similar to the way that SQL/XML allows SQL access to XML data using XQuery expressions, Oracle Database provides SQL access to JSON data using SQL/JSON path expressions.</p>
                  <p>SQL/JSON path expressions have a simple syntax. A path expression selects zero or more JSON values that match, or satisfy, it.</p>
                  <p>SQL/JSON condition <code class="codeph">json_exists</code> returns true if at least one value matches, and false if no value matches. If a single value matches, then SQL/JSON function <code class="codeph">json_value</code> returns that value if it is scalar and raises an error if it is non-scalar. If no value matches the path expression then <code class="codeph">json_value</code> returns SQL <code class="codeph">NULL</code>.
                  </p>
                  <p>SQL/JSON function <code class="codeph">json_query</code> returns all of the matching values, that is, it can return multiple values. You can think of this behavior as returning a sequence of values, as in XQuery, or you can think of it as returning multiple values. (No user-visible sequence is manifested.)
                  </p>
                  <p>In all cases, path-expression matching attempts to match each <span class="italic">step</span> of the path expression, in turn. If matching any step fails then no attempt is made to match the subsequent steps, and matching of the path expression fails. If matching each step succeeds then matching of the path expression succeeds.
                  </p>
                  <div class="section"></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="json-path-expressions.html#GUID-7B610884-39CD-4910-85E7-C251D342D879" title="SQL/JSON path expressions are matched by SQL/JSON functions and conditions against JSON data, to select portions of it. Path expressions can use wildcards and array ranges. Matching is case-sensitive.">SQL/JSON Path Expression Syntax</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="json-path-expressions.html#GUID-2DC05D71-3D62-4A14-855F-76E054032494" title="Oracle Database provides SQL access to JSON data using SQL/JSON path expressions.">SQL/JSON Path Expressions</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADXDB6255"></a><div class="props_rev_3"><a id="GUID-7B610884-39CD-4910-85E7-C251D342D879" name="GUID-7B610884-39CD-4910-85E7-C251D342D879"></a><h3 id="ADJSN-GUID-7B610884-39CD-4910-85E7-C251D342D879" class="sect3"><span class="enumeration_section">13.2 </span>SQL/JSON Path Expression Syntax
               </h3>
               <div>
                  <p>SQL/JSON path expressions are matched by SQL/JSON functions and conditions against JSON data, to select portions of it. Path expressions can use wildcards and array ranges. Matching is case-sensitive.</p>
                  <div class="section"></div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>You pass a SQL/JSON path expression and some JSON data to a SQL/JSON function or condition. The path expression is matched against the data, and the matching data is processed by the particular SQL/JSON function or condition. You can think of this matching process in terms of the path expression <span class="italic">returning</span> the matched data to the function or condition.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section"></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="json-path-expressions.html#GUID-AEBAD813-99AB-418A-93AB-F96BC1658618">Basic SQL/JSON Path Expression Syntax</a><br>The basic syntax of a SQL/JSON path expression is presented. It is         composed of a context-item symbol (<code class="codeph">$</code>) followed by zero or more object,         array, and descendant steps, each of which can be followed by a filter expression, followed         optionally by a function step. Examples are provided.
                     </li>
                     <li class="ulchildlink"><a href="json-path-expressions.html#GUID-951A61D5-EDC2-4E30-A20C-AE2AE7605C77">SQL/JSON Path Expression Syntax Relaxation</a><br>The basic SQL/JSON path-expression syntax is relaxed to allow implicit array wrapping and unwrapping. This means that you need not change a path expression in your code if your data evolves to replace a JSON value with an array of such values, or vice versa. Examples are provided.
                     </li>
                  </ul>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="conditions-is-json-and-is-not-json.html#GUID-1B6CFFBE-85FE-41DD-BA14-DD1DE73EAB20" title="The Oracle default syntax for JSON is lax. In particular: it reflects the JavaScript syntax for object fields; the Boolean and null values are not case-sensitive; and it is more permissive with respect to numerals, whitespace, and escaping of Unicode characters.">About Strict and Lax JSON Syntax</a></li>
                        <li><a href="diagrams-basic-sql-json-path-expression-syntax.html" title="Syntax diagrams and corresponding Backus-Naur Form (BNF) syntax descriptions are presented for the basic SQL/JSON path expression syntax.">Diagrams for Basic SQL/JSON Path Expression Syntax</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="json-path-expressions.html#GUID-2DC05D71-3D62-4A14-855F-76E054032494" title="Oracle Database provides SQL access to JSON data using SQL/JSON path expressions.">SQL/JSON Path Expressions</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADXDB6372"></a><div class="props_rev_3"><a id="GUID-AEBAD813-99AB-418A-93AB-F96BC1658618" name="GUID-AEBAD813-99AB-418A-93AB-F96BC1658618"></a><h4 id="ADJSN-GUID-AEBAD813-99AB-418A-93AB-F96BC1658618" class="sect4"><span class="enumeration_section">13.2.1 </span>Basic SQL/JSON Path Expression
        Syntax
                  </h4>
                  <div>
                     <p>The basic syntax of a SQL/JSON path expression is presented. It is
        composed of a context-item symbol (<code class="codeph">$</code>) followed by zero or more object,
        array, and descendant steps, each of which can be followed by a filter expression, followed
        optionally by a function step. Examples are provided.
                     </p>
                     <div class="section">
                        <p>However, this basic syntax is extended by relaxing the matching of
                arrays and non-arrays against non-array and array patterns, respectively  see <a href="json-path-expressions.html#GUID-951A61D5-EDC2-4E30-A20C-AE2AE7605C77" title="The basic SQL/JSON path-expression syntax is relaxed to allow implicit array wrapping and unwrapping. This means that you need not change a path expression in your code if your data evolves to replace a JSON value with an array of such values, or vice versa. Examples are provided.">SQL/JSON Path Expression Syntax Relaxation</a>.
                        </p>
                        <p>Matching of data against SQL/JSON path expressions is
                case-sensitive.</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>A SQL/JSON <span class="bold"><strong class="term">basic path
                                expression</strong></span> (also called just a <span class="italic">path expression</span>
                        here) is an <span class="italic">absolute path expression</span> or a <span class="italic">relative path
                            expression</span>.
                              </p>
                           </li>
                           <li>
                              <p>An <span class="bold"><strong class="term">absolute path
                                expression</strong></span> begins with a dollar sign
                            (<code class="codeph"><span class="bold">$</span></code>), which represents the path-expression
                                <span class="bold"><strong class="term">context item</strong></span>, that is, the JSON data
                        to be matched. That data is the result of evaluating a SQL expression that
                        is passed as argument to the SQL/JSON function. The dollar sign is followed
                        by zero or more <span class="italic">nonfunction steps</span>, followed by an optional
                            <span class="italic">function step</span>.
                              </p>
                           </li>
                           <li>
                              <p>A <span class="bold"><strong class="term">relative path
                                expression</strong></span> is an at sign (<code class="codeph"><span class="bold">@</span></code>)
                        followed by zero or more <span class="italic">nonfunction steps</span>, followed by an optional
                            <span class="italic">function step</span>. It has the same syntax as an <span class="italic">absolute path
                            expression</span>, except that it uses an at sign instead of a dollar sign
                            (<code class="codeph">$</code>).
                              </p>
                              <p>A relative path expression is
                        used inside a <span class="italic">filter expression</span> (<span class="italic">filter</span>, for short). The at
                        sign represents the path-expression <span class="bold"><strong class="term">current filter
                                item</strong></span>, that is, the JSON data that matches the part of the
                        (surrounding) path expression that precedes the filter containing the
                        relative path expression. A relative path expression is matched against the
                        current filter item in the same way that an absolute path expression is
                        matched against the context item.
                              </p>
                           </li>
                           <li>
                              <p>A <span class="bold"><strong class="term">nonfunction step</strong></span>
                        is an <span class="italic">object step</span>, an <span class="italic">array step</span>, or a <span class="italic">descendant step</span>,
                        followed by an optional <span class="italic">filter expression</span>. 
                              </p>
                           </li>
                           <li>
                              <p>A single <span class="bold"><strong class="term">function
                            step</strong></span> is <span class="italic">optional</span> in a <span class="italic">basic path expression</span>
                        (absolute or a relative). If present, it is the last step of the path
                        expression. It is a period (<code class="codeph"><span class="bold">.</span></code>), sometimes read as
                        "dot", followed by a SQL/JSON <span class="bold"><strong class="term">item method</strong></span>,
                        followed by a left parenthesis (<code class="codeph"><span class="bold">(</span></code>) and then a right
                        parenthesis (<code class="codeph"><span class="bold">)</span></code>). The parentheses can have whitespace
                        between them (such whitespace is insignificant). 
                              </p>
                              <p>The
                        item method is applied to the data that is targeted by the rest of the same
                        path expression, which <span class="italic">precedes</span> the function step. The item method is
                        used to transform that data. The SQL function or condition that is passed
                        the path expression as argument uses the transformed data in place of the
                        targeted data.
                              </p>
                           </li>
                           <li>
                              <p>An <span class="bold"><strong class="term">object step</strong></span> is
                        a period (<code class="codeph"><span class="bold">.</span></code>), followed by an object field name or an
                        asterisk (<span class="bold"><code class="codeph">*</code></span>) wildcard, which stands for (the values
                        of) <span class="italic">all</span> fields. A field name can be <span class="italic">empty</span>, in which case it
                            <span class="italic">must</span> be written as <code class="codeph"><span class="bold">""</span></code> (no intervening
                        whitespace). A nonempty field name must start with an uppercase or lowercase
                        letter A to Z and contain only such letters or decimal digits (0-9), or else
                        it must be enclosed in double quotation marks (<span class="bold"><code class="codeph">"</code></span>).
                        
                              </p>
                              <p>An object step returns the <span class="italic">value</span> of the field
                        that is specified. If a wildcard is used for the field then the step returns
                        the values of <span class="italic">all</span> fields, in no special order.
                              </p>
                           </li>
                           <li>
                              <p>An <span class="bold"><strong class="term">array step</strong></span> is a
                        left bracket (<span class="bold"><code class="codeph">[</code></span>) followed by <span class="italic">either</span> an
                        asterisk (<span class="bold"><code class="codeph">*</code></span>) wildcard, which stands for <span class="italic">all</span>
                        array elements, <span class="italic">or</span> one or more specific array indexes or range
                        specifications separated by commas (<code class="codeph"><span class="bold">,</span></code>), followed by
                        a right bracket (<span class="bold"><code class="codeph">]</code></span>). An error is raised if you use
                        both an asterisk and either an array index or a range specification.
                              </p>
                              <p>In a path expression, <span class="bold"><strong class="term">array
                                indexing</strong></span> is zero-based (0, 1, 2,...), as in the
                        JavaScript convention for arrays. A <span class="bold"><strong class="term">range
                                specification</strong></span> has the form <span class="italic"><code class="codeph">N</code></span> to
                                <span class="italic"><code class="codeph">M</code></span>, where <span class="italic"><code class="codeph">N</code></span> and
                                <span class="italic"><code class="codeph">M</code></span> are array indexes and
                                <span class="italic"><code class="codeph">N</code></span> is strictly less than
                                <span class="italic"><code class="codeph">M</code></span>.<a id="fn_1" name="fn_1" href="#fn_1" onclick="footdisplay(1, "The to in a range specification is sometimes informally called the array slice operator.")"><sup>Foot&nbsp;1</sup></a> An error is raised at query compilation
                        time if <span class="italic"><code class="codeph">N</code></span> is not less than
                        <span class="italic"><code class="codeph">M</code></span>.
                              </p>
                              <p>When indexes or range specifications are used, the array
                        elements they collectively specify must be specified in ascending order,
                        without repetitions, or else a compile-time error is raised. For example, an
                        error is raised for each of <code class="codeph">[3, 1 to 4]</code>, <code class="codeph">[4,
                            2]</code>, <code class="codeph">[2, 3 to 3]</code>, and <code class="codeph">[2, 3,
                            3]</code>. Errors are raised on the first two because the order is not
                        ascending, Errors are raised on the last two because of the repetition of
                        array index <code class="codeph">3</code> (which indexes the fourth array element,
                        because of zero-based indexing).
                              </p>
                              <p>Similarly, the elements
                        in the array value that results from matching are in ascending order, with
                        no repetitions. If an asterisk is used in the path expression then all of
                        the array elements are returned, in array order. </p>
                           </li>
                           <li>
                              <p>A <span class="bold"><strong class="term">descendant</strong></span> step
                        is two consecutive periods (<span class="bold"><code class="codeph">..</code></span>), sometimes read as
                        "dot dot", followed by a field name (which has the same syntax as for an
                            <span class="italic">object step</span>). 
                              </p>
                              <p>It <span class="italic">descends recursively</span>
                        into the objects or arrays that match the step immediately preceding it (or
                        into the context item if there is no preceding step). 
                              </p>
                              <p>At
                        each descendant level, for each object and for each array element that is an
                        object, it gathers the values of all fields that have the specified name. It
                        returns all of the gathered field values.</p>
                              <p>For example,
                        consider this query and
                        data:</p><pre class="pre codeblock"><code>json_query(some_json_column, '$.<span class="bold">a..z</span>' WITH ARRAY WRAPPER)</code></pre><pre class="pre codeblock"><code>{ "<span class="bold">a</span>" : { "b" : { "<span class="bold">z</span>" : <span class="bold">1</span> },
          "c" : [ 5, { "<span class="bold">z</span>" : <span class="bold">2</span> } ],
          "<span class="bold">z</span>" : <span class="bold">3</span> }
  "z" : 4 }</code></pre><p>The query returns an array, such as <code class="codeph">[1,2,3]</code>,
                        whose elements are <code class="codeph">1</code>, <code class="codeph">2</code>, and
                            <code class="codeph">3</code>. It gathers the value of each field
                            <code class="codeph">z</code> within the step that immediately precedes the dot dot
                            (<code class="codeph">..</code>), which is field <code class="codeph"><span class="bold">a</span></code>. The
                        topmost field <code class="codeph">z</code>, with value 4, is <span class="italic">not</span> matched
                        because it is not within the value of field <code class="codeph">a</code>.
                              </p>
                              <p>The value of field <code class="codeph">a</code> is an object, which is
                        descended into.
                              </p>
                              <ul style="list-style-type: disc;" id="GUID-AEBAD813-99AB-418A-93AB-F96BC1658618__UL_JY1_QWZ_RFB">
                                 <li>
                                    <p>It has a field <code class="codeph">z</code>, whose value
                                        (<code class="codeph"><span class="bold">3</span></code>) is gathered. It also has a field
                                    <code class="codeph">b</code> whose value is an object, which is descended
                                into to gather the value of its field <code class="codeph">z</code>, which is
                                        <code class="codeph"><span class="bold">1</span></code>. 
                                    </p>
                                 </li>
                                 <li>
                                    <p>It also has a field <code class="codeph">c</code>
                                whose value is an array, which has an element that is an object with
                                a field <code class="codeph">z</code>, whose value (<code class="codeph"><span class="bold">2</span></code>)
                                is gathered.
                                    </p>
                                 </li>
                              </ul>
                              <p>The JSON values gathered are thus <code class="codeph">3</code>,
                            <code class="codeph">1</code>, and <code class="codeph">2</code>. They are wrapped in an
                        array, in an undefined order. One of the possible return values is
                            <code class="codeph">[1,2,3]</code>.
                              </p>
                           </li>
                           <li>
                              <p>A <span class="bold"><strong class="term">filter expression</strong></span>
                                (<span class="bold"><strong class="term">filter</strong></span>, for short) is a question
                        mark (<code class="codeph"><span class="bold">?</span></code>) followed by a <span class="italic">filter condition</span>
                        enclosed in parentheses (<code class="codeph"><span class="bold">()</span></code>). A filter is satisfied
                        if its condition is satisfied, that is, returns true.
                              </p>
                           </li>
                           <li>
                              <p>A <span class="bold"><strong class="term">filter condition</strong></span> applies a predicate (Boolean function) to its arguments and is one of the following, where each of <code class="codeph"><span class="codeinlineitalic">cond</span></code>, <code class="codeph"><span class="codeinlineitalic">cond1</span></code>, and <code class="codeph"><span class="codeinlineitalic">cond2</span></code> stands for a filter condition.
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph"><span class="bold">(</span> <span class="codeinlineitalic">cond</span> <span class="bold">)</span></code>: Parentheses are used for <span class="italic">grouping</span>, separating filter condition <code class="codeph"><span class="codeinlineitalic">cond</span></code> as a unit from other filter conditions that may precede or follow it.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph"><span class="codeinlineitalic">cond1</span> <span class="bold">&amp;&amp;</span> <span class="codeinlineitalic">cond2</span></code>: The <span class="italic">conjunction</span> (<span class="italic">and</span>) of <code class="codeph"><span class="codeinlineitalic">cond1</span></code> and <code class="codeph"><span class="codeinlineitalic">cond2</span></code>, requiring that both be satisfied.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph"><span class="codeinlineitalic">cond1</span> <span class="bold">||</span> <span class="codeinlineitalic">cond2</span></code>: The inclusive <span class="italic">disjunction</span> (<span class="italic">or</span>) of <code class="codeph"><span class="codeinlineitalic">cond1</span></code> and <code class="codeph"><span class="codeinlineitalic">cond2</span></code>, requiring that <code class="codeph"><span class="codeinlineitalic">cond1</span></code>, <code class="codeph"><span class="codeinlineitalic">cond2</span></code>, or both, be satisfied.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph"><span class="bold">! (</span> <span class="codeinlineitalic">cond</span> <span class="bold">)</span></code>: The <span class="italic">negation</span> of <code class="codeph"><span class="codeinlineitalic">cond</span></code>, meaning that <code class="codeph"><span class="codeinlineitalic">cond</span></code> must <span class="italic">not</span> be satisfied.
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph"><span class="bold">exists (</span></code>, followed by a <span class="italic">relative path expression</span>, followed by <code class="codeph"><span class="bold">)</span></code>: The condition that the targeted data <span class="italic">exists</span> (is present).
                                    </p>
                                 </li>
                                 <li>
                                    <p>A <span class="bold"><strong class="term">comparison</strong></span>, which is one of the following: 
                                    </p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p>A <span class="italic">relative path expression</span>, followed by a <span class="italic">comparison predicate</span>, followed by either a JSON scalar value or a <span class="italic">SQL/JSON variable</span>.
                                          </p>
                                       </li>
                                       <li>
                                          <p>Either a JSON scalar value or a <span class="italic">SQL/JSON variable</span>, followed by a <span class="italic">comparison predicate</span>, followed by a <span class="italic">relative path expression</span>.
                                          </p>
                                       </li>
                                       <li>
                                          <p>A JSON scalar value, followed by a <span class="italic">comparison predicate</span>, followed by another JSON scalar value.
                                          </p>
                                       </li>
                                       <li>
                                          <p>A <span class="italic">relative path expression</span>, followed by <code class="codeph">has substring</code>, <code class="codeph">starts with</code>, <code class="codeph">like</code>, <code class="codeph">like_regex</code>, or <code class="codeph">eq_regex</code>, followed by either a JSON string or a <span class="italic">SQL/JSON variable</span> that is bound to a SQL string (which is automatically converted from the database character set to UTF8). 
                                          </p>
                                          <ul style="list-style-type: disc;" id="GUID-AEBAD813-99AB-418A-93AB-F96BC1658618__UL_KKR_2RY_XFB">
                                             <li>
                                                <p><code class="codeph"><span class="bold">has substring</span></code> means that the matching data value has the specified string as a <span class="italic">substring</span>.
                                                </p>
                                             </li>
                                             <li>
                                                <p><code class="codeph"><span class="bold">starts with</span></code> means that the matching data value has the specified string as a <span class="italic">prefix</span>.
                                                </p>
                                             </li>
                                             <li>
                                                <p><code class="codeph"><span class="bold">like</span></code> means that the JSON string data value matches the specified string, which is interpreted as a SQL <code class="codeph">LIKE</code> pattern that uses SQL <code class="codeph">LIKE4</code> character-set semantics. A percent sign (<code class="codeph"><span class="bold">%</span></code>) in the pattern matches zero or more characters. An underscore (<code class="codeph"><span class="bold">_</span></code>) matches a single character.
                                                </p>
                                                <div class="infoboxnote" id="GUID-AEBAD813-99AB-418A-93AB-F96BC1658618__GUID-25A8E2C1-8944-4040-BA8A-EF691FA1B9D9">
                                                   <p class="notep1">Note:</p>
                                                   <p>Unlike the case for SQL <code class="codeph">LIKE</code>, there is <span class="italic">no escape character</span> for path-expression predicate <code class="codeph">like</code>. Also, Oracle recommends that you avoid using character <code class="codeph"><span class="bold">`</span></code>, GRAVE ACCENT (U+0060), in your <code class="codeph">like</code> patterns  that character, also known sometimes as backquote or backtick, is <span class="italic">reserved for future use</span>.
                                                   </p>
                                                </div>
                                             </li>
                                             <li>
                                                <p><code class="codeph"><span class="bold">like_regex</span></code> means that the JSON string data value matches the specified string, which is interpreted as a SQL <code class="codeph">REGEXP LIKE</code> <span class="italic">regular expression</span> pattern that uses SQL <code class="codeph">LIKE4</code> character-set semantics. 
                                                </p>
                                                <p> <code class="codeph">like_regex</code> is <span class="italic">exceptional</span> among the pattern-matching comparisons, in that its pattern matches the empty JSON string (<code class="codeph"><span class="bold">""</span></code>). 
                                                </p>
                                             </li>
                                             <li>
                                                <p><code class="codeph"><span class="bold">eq_regex</span></code> is just like <code class="codeph">like_regex</code>, except for these two differences: 
                                                </p>
                                                <ul style="list-style-type: disc;" id="GUID-AEBAD813-99AB-418A-93AB-F96BC1658618__UL_JZ1_XLQ_CGB">
                                                   <li>
                                                      <p><code class="codeph">eq_regex</code> matches its regular expression pattern against the entire JSON string data value  <span class="italic">the full string must match</span> the pattern for the comparison to be satisfied. <code class="codeph">like_regex</code> is satisfied if any portion of the JSON string matches the pattern.
                                                      </p>
                                                   </li>
                                                   <li>
                                                      <p>The <code class="codeph">eq_regex</code> pattern does not match the empty JSON string (<code class="codeph"><span class="bold">""</span></code>). 
                                                      </p>
                                                   </li>
                                                </ul>
                                             </li>
                                          </ul>
                                          <p>For all of these predicates, a pattern that is the empty string (<code class="codeph">""</code>) matches data that is the empty string. And for all except <code class="codeph">like_regex</code>, a pattern that is a nonempty string does <span class="italic">not</span> match data that is the empty string. For <code class="codeph">like_regex</code> a nonempty pattern does match empty-string data.
                                          </p>
                                       </li>
                                       <li>
                                          <p>A <span class="italic">relative path expression</span>, followed by <code class="codeph"><span class="bold">in</span></code>, followed by a <span class="italic">value list</span>, meaning that the value is one of those in the <span class="italic">value list</span>.
                                          </p>
                                       </li>
                                    </ul>
                                    <p>A <span class="bold"><strong class="term">comparison predicate</strong></span> is <code class="codeph"><span class="bold">==</span></code>, <code class="codeph"><span class="bold">&lt;&gt;</span></code>, <code class="codeph"><span class="bold">!=</span></code><a id="fn_2" name="fn_2" href="#fn_2" onclick="footdisplay(2, "!= is an Oracle alias for the SQL/JSON standard comparison predicate <&gt;.")"><sup>Foot&nbsp;2</sup></a>, <code class="codeph"><span class="bold">&lt;</span></code>, <code class="codeph"><span class="bold">&lt;=</span></code>, <code class="codeph"><span class="bold">&gt;=</span></code>, or <code class="codeph"><span class="bold">&gt;</span></code>, meaning equals, does not equal, is less than, is less than or equal to, is greater than or equal to, and is greater than, respectively. 
                                    </p>
                                    <p>A <span class="bold"><strong class="term">SQL/JSON variable</strong></span> is a dollar sign (<code class="codeph"><span class="bold">$</span></code>) followed by the name of a SQL identifier that is bound in a <code class="codeph">PASSING</code> clause for <code class="codeph">json_exists</code>.
                                    </p>
                                 </li>
                                 <li>A <span class="bold"><strong class="term">value list</strong></span> is <code class="codeph"><span class="bold">(</span></code>, followed by a list of one or more scalar values and <span class="italic">SQL/JSON variables</span> separated by commas (<code class="codeph"><span class="bold">,</span></code>), followed by <code class="codeph"><span class="bold">)</span></code>.
                                 </li>
                              </ul>
                              <p>The predicates that you can use in filter conditions are thus <code class="codeph">&amp;&amp;</code>, <code class="codeph">||</code>, <code class="codeph">!</code>, <code class="codeph">exists</code>, <code class="codeph">==</code>, <code class="codeph">&lt;&gt;</code>, <code class="codeph">!=</code>, <code class="codeph">&lt;</code>, <code class="codeph">&lt;=</code>,<code class="codeph"> &gt;=</code>, <code class="codeph">&gt;</code>, and <code class="codeph">in</code>.
                              </p>
                              <p>As an example, the filter condition <code class="codeph">(a || b) &amp;&amp; (!(c) || d &lt; 42)</code> is satisfied if both of the following criteria are met:
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>At least one of the filter conditions <code class="codeph">a</code> and <code class="codeph">b</code> is satisfied: <code class="codeph">(a || b)</code>.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Filter condition <code class="codeph">c</code> is <span class="italic">not</span> satisfied or the number <code class="codeph">d</code> is less than or equal to 42, or both are true: <code class="codeph">(!(c) || d &lt; 42)</code>.
                                    </p>
                                 </li>
                              </ul>
                              <p>Comparison predicate <code class="codeph">!</code> has precedence over <code class="codeph">&amp;&amp;</code>, which has precedence over <code class="codeph">||</code>. You can always use parentheses to control grouping.
                              </p>
                              <p>Without parentheses for grouping, the preceding example would be <code class="codeph">a || b &amp;&amp; !(c) || d &lt; 42</code>, which would be satisfied if at least one of the following criteria is met:
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Condition <code class="codeph">b &amp;&amp; !(c)</code> is satisfied, which means that each of the conditions <code class="codeph">b</code> and <code class="codeph">!(c)</code> is satisfied (which in turn means that condition <code class="codeph">c</code> is not satisfied).
                                    </p>
                                 </li>
                                 <li>
                                    <p>Condition <code class="codeph">a</code> is satisfied.
                                    </p>
                                 </li>
                                 <li>
                                    <p>Condition <code class="codeph">d &lt; 42</code> is satisfied.
                                    </p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                        <p>At least one side of a comparison  must <span class="italic">not</span> be a SQL/JSON variable. The default <span class="italic">type</span> for a comparison is defined at compile time, based on the type(s) for the non-variable side(s). You can use a type-specifying <span class="italic">item method</span> to override this default with a different type. The type of your matching data is automatically converted, for the comparison, to fit the determined type (default or specified by item method). For example, <code class="codeph">$.a &gt; 5</code> imposes numerical comparison because <code class="codeph">5</code> is a number, <code class="codeph">$.a &gt; "5"</code> imposes string comparison because <code class="codeph">"5"</code> is a string.
                        </p>
                        <div class="infoboxnote" id="GUID-AEBAD813-99AB-418A-93AB-F96BC1658618__GUID-D32D9BC0-4147-4F93-9AB8-C6A25A653FD6">
                           <p class="notep1">Note:</p>
                           <p>For powerful full-text search, use Oracle SQL function <code class="codeph">json_textcontains</code>, which requires that you create a JSON search index. As a less-powerful alternative, if you do not create a JSON search index, and you just want simple string pattern-matching in a filter condition, you can use any of the pattern-matching comparisons: <code class="codeph">has substring</code>, <code class="codeph">starts with</code>, <code class="codeph">like</code>, <code class="codeph">like_regex</code>, or <code class="codeph">eq_regex</code>.
                           </p>
                        </div>
                        <p>Here are some examples of path expressions, with their meanings spelled
                out in detail.</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">$</code> &#x2013; The context item.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">$.friends</code> &#x2013; The value of field
                            <code class="codeph">friends</code> of a context-item object. The dot
                                (<code class="codeph"><span class="bold">.</span></code>) immediately after the dollar sign
                                (<code class="codeph"><span class="bold">$</span></code>) indicates that the context item is a
                        JSON <span class="italic">object</span>.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">$.friends[0]</code> &#x2013; An object that is
                        the first element of an array that is the value of field
                            <code class="codeph">friends</code> of a context-item object. The bracket notation
                        indicates that the value of field <code class="codeph">friends</code> is an
                            <span class="italic">array</span>.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">$.friends[0].name</code> &#x2013; Value of field
                            <code class="codeph">name</code> of an object that is the first element of an array
                        that is the value of field <code class="codeph">friends</code> of a context-item
                        object. The second dot (<code class="codeph"><span class="bold">.</span></code>) indicates that the first
                        element of array <code class="codeph">friends</code> is an object (with a
                            <code class="codeph">name</code> field).
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">$.friends[*].name</code> &#x2013; Value of field
                            <code class="codeph">name</code> of <span class="italic">each</span> object in an array that is the
                        value of field <code class="codeph">friends</code> of a context-item object.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">$.*[*].name</code> &#x2013; Field
                            <code class="codeph">name</code> values for each object in an array value of a
                        field of a context-item object.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">$.friends[3, 8 to 10, 12]</code> &#x2013; The
                        fourth, ninth through eleventh, and thirteenth elements of an array
                            <code class="codeph">friends</code> (field of a context-item object). The elements
                        must be specified in <span class="italic">ascending order</span>, and they are returned in that
                        order: fourth, ninth, tenth, eleventh, thirteenth.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">$.friends[3].cars</code> &#x2013; The value of
                        field <code class="codeph">cars</code> of an object that is the fourth element of an
                        array <code class="codeph">friends</code>. The dot (<code class="codeph"><span class="bold">.</span></code>)
                        indicates that the fourth element is an object (with a <code class="codeph">cars</code>
                        field).
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">$.friends[3].*</code> &#x2013; The values of
                            <span class="italic">all</span> of the fields of an object that is the fourth element of an
                        array <code class="codeph">friends</code>.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">$.friends[3].cars[0].year</code> &#x2013; The
                        value of field <code class="codeph">year</code> of an object that is the first element
                        of an array that is the value of field <code class="codeph">cars</code> of an object
                        that is the fourth element of an array <code class="codeph">friends</code>.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">$.friends[3].cars[0]?(@.year &gt;
                            2016)</code> &#x2013; The first object of an array <code class="codeph">cars</code>
                        (field of an object that is the fourth element of an array
                            <code class="codeph">friends</code>), <span class="italic">provided that</span> the value of its field
                            <code class="codeph">year</code> is, or can be converted to, a number greater than
                        2016. A <code class="codeph">year</code> value such as <code class="codeph">"2017"</code> is
                        converted to the number <code class="codeph">2017</code>, which satisfies the test. A
                            <code class="codeph">year</code> value such as <code class="codeph">"recent"</code> fails the
                        test  no match. 
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">$.friends[3].cars[0]?(@.year.number() &gt;
                            2016)</code> &#x2013; Same as the previous. Item method
                            <code class="codeph">number()</code> allows only a number or a string value that
                        can be converted to a number, and that behavior is already provided by
                        numeric comparison predicate <code class="codeph">&gt;</code>.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">$.friends[3].cars[0]?(@.year.numberOnly()
                            &gt; 2016)</code> &#x2013; Same as the previous, but only if the
                            <code class="codeph">year</code> value is a number. Item method
                            <code class="codeph">numberOnly()</code> excludes a car with a
                            <code class="codeph">year</code> value that is a string numeral, such as
                            <code class="codeph">"2017"</code>.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">$.friends[3]?(@.addresses.city == "San
                            Francisco")</code> &#x2013; An object that is the fourth element of an array
                            <code class="codeph">friends</code>, provided that it has an
                            <code class="codeph">addresses</code> field whose value is an object with a field
                            <code class="codeph">city</code> whose value is the string <code class="codeph">"San
                            Francisco"</code>.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">$.friends[*].addresses?(@city starts with
                            "San ").zip</code> &#x2013; Zip codes of all <code class="codeph">addresses</code> of
                            <code class="codeph">friends</code>, where the name of the address
                            <code class="codeph">city</code> starts with "San ". (In this case the filter is
                        not the last path step.)
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">$..zip</code> &#x2013; All values of a
                            <code class="codeph">zip</code> field, anywhere, at any level.
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">$.friends[3]?(@.addresses.city == "San
                            Francisco" &amp;&amp; @.addresses.state == "Nevada")</code> &#x2013; Objects
                        that are the fourth element of an array <code class="codeph">friends</code>, provided
                        that there is a match for an address with a <code class="codeph">city</code> of
                            <code class="codeph">"San Francisco"</code> and there is a match for an address
                        with a <code class="codeph">state</code> of <code class="codeph">"Nevada"</code>. 
                              </p>
                              <p>Note: The filter conditions in the conjunction do <span class="italic">not</span>
                        necessarily apply to the same object  the filter tests for the existence of
                        an object with city San Francisco and for the existence of an object with
                        state Nevada. It does <span class="italic">not</span> test for the existence of an object with
                        both city San Francisco and state Nevada. See <a href="condition-JSON_EXISTS.html#GUID-8A0043D5-95F8-4918-9126-F86FB0E203F0" title="You can use SQL/JSON condition json_exists with a path expression that has one or more filter expressions, to select documents that contain matching data. Filters let you test for the existence of documents that have particular fields that satisfy various conditions.">Using Filters with JSON_EXISTS</a>. 
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">$.friends[3].addresses?(@.city == "San
                            Francisco" &amp;&amp; @.state == "Nevada")</code> &#x2013; An object that is
                        the fourth element of array <code class="codeph">friends</code>, provided that object
                        has a match for <code class="codeph">city</code> of <code class="codeph">"San Francisco"</code>
                        and a match for <code class="codeph">state</code> of <code class="codeph">"Nevada"</code>. 
                              </p>
                              <p>Unlike the preceding example, in this case the filter conditions
                        in the conjunction, for fields <code class="codeph">city</code> and
                            <code class="codeph">state</code>, apply to the <span class="italic">same</span>
                                 <code class="codeph">addresses</code> object. The filter applies to a given
                            <code class="codeph">addresses</code> object, which is outside it.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="condition-JSON_EXISTS.html#GUID-8A0043D5-95F8-4918-9126-F86FB0E203F0" title="You can use SQL/JSON condition json_exists with a path expression that has one or more filter expressions, to select documents that contain matching data. Filters let you test for the existence of documents that have particular fields that satisfy various conditions.">Using Filters with JSON_EXISTS</a></li>
                           <li><a href="clauses-used-in-functions-and-conditions-for-json.html#GUID-DE9F29D3-1C23-4271-9DCD-E585866576D2" title="SQL functions json_value, json_query, json_serialize, and json_mergepatch accept an optional RETURNING clause, which specifies the data type of the value returned by the function. This clause and the default behavior (no RETURNING clause) are described here.">RETURNING Clause for SQL Query Functions</a></li>
                           <li><a href="json-path-expressions.html#GUID-8656CAB9-C293-4A99-BB62-F38F3CFC4C13" title="The Oracle item methods available for a SQL/JSON path expression are described.">SQL/JSON Path Expression Item Methods</a></li>
                           <li><a href="json-path-expressions.html#GUID-951A61D5-EDC2-4E30-A20C-AE2AE7605C77" title="The basic SQL/JSON path-expression syntax is relaxed to allow implicit array wrapping and unwrapping. This means that you need not change a path expression in your code if your data evolves to replace a JSON value with an array of such values, or vice versa. Examples are provided.">SQL/JSON Path Expression Syntax Relaxation</a></li>
                           <li><a href="diagrams-basic-sql-json-path-expression-syntax.html" title="Syntax diagrams and corresponding Backus-Naur Form (BNF) syntax descriptions are presented for the basic SQL/JSON path expression syntax.">Diagrams for Basic SQL/JSON Path Expression Syntax</a></li>
                           <li><a href="clauses-used-in-functions-and-conditions-for-json.html#GUID-9079CD9C-3783-4857-9F6B-84D746C91317" title="SQL/JSON query functions json_query and json_table accept an optional wrapper clause, which specifies the form of the value returned by json_query or used for the data in a json_table column. This clause and the default behavior (no wrapper clause) are described here. Examples are provided.">Wrapper Clause for SQL/JSON Query Functions JSON_QUERY and JSON_TABLE</a></li>
                           <li><a href="json-path-expressions.html#GUID-20DC09A8-98DF-4473-8077-913D490A969C" title="International Standards Organization (ISO) standard 8601 describes an internationally accepted way to represent dates and times. Oracle Database supports many of the ISO 8601 date and time formats.">ISO 8601 Date and Time Support</a></li>
                        </ul>
                     </div>
                     <div class="infoboxnotealso" id="GUID-AEBAD813-99AB-418A-93AB-F96BC1658618__GUID-F6FF8FF6-3773-4E1A-BDEA-6DAE47639138">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;" id="GUID-AEBAD813-99AB-418A-93AB-F96BC1658618__UL_SHL_FSY_XFB">
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adjsn&amp;id=wikipedia_iso8601" target="_blank">ISO 8601</a>
                            for information about the ISO date formats
                              </p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/Pattern-matching-Conditions.html#SQLRF-GUID-D2124F3A-C6E4-4CCA-A40E-2FFCABFD8E19" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for
                            information about SQL condition <code class="codeph">REGEXP LIKE</code></p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/Pattern-matching-Conditions.html#SQLRF-GUID-0779657B-06A8-441F-90C5-044B47862A0A" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for
                            information about SQL condition <code class="codeph">LIKE</code> and
                                <code class="codeph">LIKE4</code> character-set semantics
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="json-path-expressions.html#GUID-7B610884-39CD-4910-85E7-C251D342D879" title="SQL/JSON path expressions are matched by SQL/JSON functions and conditions against JSON data, to select portions of it. Path expressions can use wildcards and array ranges. Matching is case-sensitive.">SQL/JSON Path Expression Syntax</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADXDB6373"></a><div class="props_rev_3"><a id="GUID-951A61D5-EDC2-4E30-A20C-AE2AE7605C77" name="GUID-951A61D5-EDC2-4E30-A20C-AE2AE7605C77"></a><h4 id="ADJSN-GUID-951A61D5-EDC2-4E30-A20C-AE2AE7605C77" class="sect4"><span class="enumeration_section">13.2.2 </span>SQL/JSON Path Expression Syntax Relaxation
                  </h4>
                  <div>
                     <p>The basic SQL/JSON path-expression syntax is relaxed to allow implicit array wrapping and unwrapping. This means that you need not change a path expression in your code if your data evolves to replace a JSON value with an array of such values, or vice versa. Examples are provided.</p>
                     <p><a href="json-path-expressions.html#GUID-AEBAD813-99AB-418A-93AB-F96BC1658618" title="The basic syntax of a SQL/JSON path expression is presented. It is composed of a context-item symbol ($) followed by zero or more object, array, and descendant steps, each of which can be followed by a filter expression, followed optionally by a function step. Examples are provided.">Basic SQL/JSON Path Expression Syntax</a> defines the basic SQL/JSON path-expression syntax. The actual path expression syntax supported relaxes that definition as follows:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>If a path-expression step targets (expects) an array but the actual data presents no array then the data is implicitly wrapped in an array.</p>
                        </li>
                        <li>
                           <p>If a path-expression step targets (expects) a non-array but the actual data presents an array then the array is implicitly unwrapped.</p>
                        </li>
                     </ul>
                     <p>This relaxation allows for the following abbreviation: <span class="bold"><code class="codeph">[*]</code></span> can be elided whenever it precedes the object accessor, <span class="bold"><code class="codeph">.</code></span>, followed by an object field name, with no change in effect. The reverse is also true: <span class="bold"><code class="codeph">[*]</code></span> can always be inserted in front of the object accessor,<span class="bold"><code class="codeph"> .</code></span>, with no change in effect.
                     </p>
                     <p>This means that the object step <code class="codeph">[*].</code><span class="italic"><code class="codeph">prop</code></span>, which stands for the value of field <span class="italic"><code class="codeph">prop</code></span> of each element of a given array of objects, can be abbreviated as <span class="italic"><code class="codeph">.prop</code></span>, and the object step <span class="italic"><code class="codeph">.prop</code></span>, which looks as though it stands for the <span class="italic"><code class="codeph">prop</code></span> value of a single object, stands also for the <span class="italic"><code class="codeph">prop</code></span> value of each element of an array to which the object accessor is applied.
                     </p>
                     <p>This is an important feature, because it means that you need not change a path expression in your code if your data evolves to replace a given JSON value with an array of such values, or vice versa.</p>
                     <p>For example, if your data originally contains objects that have field <code class="codeph">Phone</code> whose value is a single object with fields <code class="codeph">type</code> and <code class="codeph">number</code>, the path expression <code class="codeph">$.Phone.number</code>, which matches a single phone number, can still be used if the data evolves to represent an array of phones. Path expression <code class="codeph">$.Phone.number</code> matches either a single phone object, selecting its number, or an array of phone objects, selecting the number of each.
                     </p>
                     <p>Similarly, if your data mixes both kinds of representationthere are some data entries that use a single phone object and some that use an array of phone objects, or even some entries that use bothyou can use the same path expression to access the phone information from these different kinds of entry.</p>
                     <p>Here are some example path expressions from section <a href="json-path-expressions.html#GUID-AEBAD813-99AB-418A-93AB-F96BC1658618" title="The basic syntax of a SQL/JSON path expression is presented. It is composed of a context-item symbol ($) followed by zero or more object, array, and descendant steps, each of which can be followed by a filter expression, followed optionally by a function step. Examples are provided.">Basic SQL/JSON Path Expression Syntax</a>, together with an explanation of equivalences.
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">$.friends</code> &#x2013; The value of field <code class="codeph">friends</code> of <span class="italic">either</span>:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The (single) context-item object.</p>
                              </li>
                              <li>
                                 <p> (equivalent to <code class="codeph">$[*].friends</code>) Each object in the context-item array.
                                 </p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p><code class="codeph">$.friends[0].name</code> &#x2013; Value of field <code class="codeph">name</code> for <span class="italic">any</span> of these objects:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p> The first element of the array that is the value of field <code class="codeph">friends</code> of the context-item object.
                                 </p>
                              </li>
                              <li>
                                 <p> (equivalent to <code class="codeph">$.friends.name</code>) The value of field <code class="codeph">friends</code> of the context-item object.
                                 </p>
                              </li>
                              <li>
                                 <p> (equivalent to <code class="codeph">$[*].friends.name</code>) The value of field <code class="codeph">friends</code> of each object in the context-item array.
                                 </p>
                              </li>
                              <li>
                                 <p> (equivalent to <code class="codeph">$[*].friends[0].name</code>) The first element of each array that is the value of field <code class="codeph">friends</code> of each object in the context-item array.
                                 </p>
                              </li>
                           </ul>
                           <p>The context item can be an object or an array of objects. In the latter case, each object in the array is matched for a field <code class="codeph">friends</code>.
                           </p>
                           <p>The value of field <code class="codeph">friends</code> can be an object or an array of objects. In the latter case, the first object in the array is used.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">$.*[*].name</code> &#x2013; Value of field <code class="codeph">name</code> for <span class="italic">any</span> of these objects:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>An element of an array value of a field of the context-item object.</p>
                              </li>
                              <li>
                                 <p>(equivalent to <code class="codeph">$.*.name</code>) The value of a field of the context-item object.
                                 </p>
                              </li>
                              <li>
                                 <p>(equivalent to <code class="codeph">$[*].*.name</code>) The value of a field of an object in the context-item array.
                                 </p>
                              </li>
                              <li>
                                 <p>(equivalent to <code class="codeph">$[*].*[*].name</code>) Each object in an array value of a field of an object in the context-item array.
                                 </p>
                              </li>
                           </ul>
                        </li>
                     </ul>
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="json-path-expressions.html#GUID-AEBAD813-99AB-418A-93AB-F96BC1658618" title="The basic syntax of a SQL/JSON path expression is presented. It is composed of a context-item symbol ($) followed by zero or more object, array, and descendant steps, each of which can be followed by a filter expression, followed optionally by a function step. Examples are provided.">Basic SQL/JSON Path Expression Syntax</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="json-path-expressions.html#GUID-7B610884-39CD-4910-85E7-C251D342D879" title="SQL/JSON path expressions are matched by SQL/JSON functions and conditions against JSON data, to select portions of it. Path expressions can use wildcards and array ranges. Matching is case-sensitive.">SQL/JSON Path Expression Syntax</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-8656CAB9-C293-4A99-BB62-F38F3CFC4C13" name="GUID-8656CAB9-C293-4A99-BB62-F38F3CFC4C13"></a><h3 id="ADJSN-GUID-8656CAB9-C293-4A99-BB62-F38F3CFC4C13" class="sect3"><span class="enumeration_section">13.3 </span>SQL/JSON Path Expression Item
        Methods
               </h3>
               <div>
                  <p>The Oracle item methods available for a SQL/JSON path expression are
        described.</p>
                  <div class="section">
                     <p> An item method is applied to the JSON data that is targeted by (the
                rest of) the path expression terminated by that method. The method is used to
                transform that data. The SQL function or condition that is passed the path
                expression uses the transformed data in place of the targeted data. In some cases
                the application of an item method acts as a filter, removing the targeted data from
                the result set.</p>
                     <p>If an item-method conversion fails for any reason,
                such as its argument being of the wrong type, then the path cannot be matched (it
                refers to no data), and <span class="italic">no error is raised</span>. In particular, this means that
                such an error is <span class="italic">not</span> handled by an error clause in the SQL/JSON function or
                condition to which the path expression is passed.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8656CAB9-C293-4A99-BB62-F38F3CFC4C13__GUID-841B3AAD-C23F-403C-8FE2-AB8DBF7F3543">Application of an
                Item Method to an Array</p>
                     <p>With the exception of item methods
                    <code class="codeph">size()</code> and <code class="codeph">type()</code>, if an array is targeted by
                an item method then the method is <span class="italic">applied to each of the array elements</span>, not
                to the array itself. For example, <code class="codeph">$.a.<span class="codeinlineitalic">method</span>()</code> applies
                item-method <code class="codeph"><span class="codeinlineitalic">method()</span></code> to each element of array
                    <code class="codeph">a</code>, to convert it and use it in place of the array. (This is
                similar, in effect, to the implied unwrapping of an array when a non-array is
                expected for an object step.) The resulting set of matches includes the converted
                array elements, not the targeted array.
                     </p>
                     <p>For
                    <code class="codeph">json_query</code> or a <code class="codeph">json_table</code> column expression
                with <code class="codeph">json_query</code> semantics you can use a wrapper clause to capture
                all of the converted array-element values as an array. For example, this
                query:
                     </p><pre class="pre codeblock"><code>SELECT json_query('["alpha", 42, "10.4"]', '$[*].stringOnly()' <span class="bold">WITH ARRAY WRAPPER</span>) FROM dual;</code></pre><p>returns this array (as a <code class="codeph">VARCHAR2</code> value):
                    <code class="codeph">["alpha", "10.4"]</code>.
                     </p>
                     <p>Item methods
                    <code class="codeph">size()</code> and <code class="codeph">type()</code> are <span class="italic">exceptional</span> in
                this regard. When applied to an array they treat it as such, instead of acting on
                its elements. For
                example:
                     </p><pre class="pre codeblock"><code>SELECT json_value('[19, "Oracle", {"a":1},[1,2,3]]', '$.type()') FROM dual;</code></pre><p>returns the single <code class="codeph">VARCHAR2</code> value
                    <code class="codeph">'array'</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8656CAB9-C293-4A99-BB62-F38F3CFC4C13__GUID-2458E67B-7753-4B38-9FC2-2EDA4658F3BC">Item-Method
                Descriptions</p>
                     <p>In the item-method descriptions here, in some
                cases a targeted JSON value is said to be <span class="italic">interpreted as a value of a given SQL
                    data type</span>. This means that it is handled as if it were controlled by a
                    <code class="codeph">json_value</code>
                        <code class="codeph">RETURNING</code> clause with that SQL data type.
                     </p>
                     <p>For example,
                item-method <code class="codeph">string()</code> interprets its target as would
                    <code class="codeph">json_value</code> with clause <code class="codeph">RETURNING
                    VARCHAR2(4000)</code>. A Boolean value is thus treated by
                    <code class="codeph">string()</code> as <code class="codeph">"true"</code> or
                <code class="codeph">"false"</code>; a <code class="codeph">null</code> value is treated as
                    <code class="codeph">"null"</code>; and a number is represented in a canonical string
                form.
                     </p>
                     <p>Because some item methods interpret the targeted JSON data
                as if it were of a SQL data type, they can be used with <code class="codeph">json_value</code>
                in place of a <code class="codeph">RETURNING</code> clause, and they can be used with
                    <code class="codeph">json_table</code> in place of a column type specification. That is,
                the <span class="italic">item methods can be used to specify the SQL data type</span> for the extracted
                JSON data.
                
                     </p>
                     <p>You can also use such item methods <span class="italic">together with</span> a
                    <code class="codeph">json_value</code>
                        <code class="codeph">RETURNING</code> clause or a <code class="codeph">json_table</code> column type
                specification. What happens if the SQL data type to use for extracted JSON data is
                controlled by <span class="italic">both</span> an item method and either a <code class="codeph">json_value</code>
                        <code class="codeph">RETURNING</code> clause or a <code class="codeph">json_table</code> column
                type?
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>If the two data types are compatible then the data
                        type for the <code class="codeph">RETURNING</code> clause or the column is used. For
                        these purposes, <code class="codeph">VARCHAR2</code> is compatible with both
                            <code class="codeph">VARCHAR2</code> and <code class="codeph">CLOB</code>.
                           </p>
                        </li>
                        <li>
                           <p>If the data types are incompatible then a static,
                        compile-time <span class="italic">error</span> is raised.
                           </p>
                        </li>
                     </ul>
                     <div class="tblformal" id="GUID-8656CAB9-C293-4A99-BB62-F38F3CFC4C13__TABLE_AN1_Y5C_TFB">
                        <p class="titleintable">Table 13-1 Compatibility of
                    Type-Conversion Item Methods and RETURNING Types</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Compatibility of&#xA;                    Type-Conversion Item Methods and RETURNING Types" summary="Describes the compatible combinations of an item method with a&#xA;                    RETURNING clause. The columns are Item Method and Compatible RETURNING Clause&#xA;                    Data Types" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" id="d11088e2401">Item Method</th>
                                 <th align="left" valign="bottom" id="d11088e2403">Compatible RETURNING Clause Data Types</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11088e2407" headers="d11088e2401 "><code class="codeph">string()</code> or
                                    <code class="codeph">stringOnly()</code></td>
                                 <td align="left" valign="top" headers="d11088e2407 d11088e2403 "><code class="codeph">VARCHAR2</code> or <code class="codeph">CLOB</code>,
                                except that <code class="codeph">string()</code> returns SQL
                                    <code class="codeph">NULL</code> for a JSON <code class="codeph">null</code>
                                value
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11088e2430" headers="d11088e2401 "><code class="codeph">number()</code> or
                                    <code class="codeph">numberOnly()</code></td>
                                 <td align="left" valign="top" headers="d11088e2430 d11088e2403 "><code class="codeph">NUMBER</code></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11088e2440" headers="d11088e2401 "><code class="codeph">date()</code></td>
                                 <td align="left" valign="top" headers="d11088e2440 d11088e2403 "><code class="codeph">DATE</code></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11088e2447" headers="d11088e2401 "><code class="codeph">timestamp()</code></td>
                                 <td align="left" valign="top" headers="d11088e2447 d11088e2403 "><code class="codeph">TIMESTAMP</code></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d11088e2454" headers="d11088e2401 "><code class="codeph">boolean()</code> or
                                    <code class="codeph">booleanOnly()</code></td>
                                 <td align="left" valign="top" headers="d11088e2454 d11088e2403 "><code class="codeph">VARCHAR2</code></td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>Using a <code class="codeph">RETURNING</code> clause or a column
                specification, you can specify a length for character data and a precision and scale
                for numerical data. This lets you assign a more precise SQL data type for extraction
                than what is provided by an item method for target-data comparison purposes.
                     </p>
                     <p>For example, if you use item method <code class="codeph">string()</code> and
                    <code class="codeph">RETURNING VARCHAR2(150)</code> then the data type of the returned data
                is <code class="codeph">VARCHAR2(150)</code>, not
                <code class="codeph">VARCHAR2(4000)</code>.
                     </p>
                     <p>The data-type conversion methods with only in their name are the same as the
                corresponding methods with names without only, except that the former convert
                    <span class="italic">only </span>JSON values that are of the given type (e.g.,
                    <code class="codeph">number</code>) to the related SQL data type (e.g.
                    <code class="codeph">NUMBER</code>). The methods without only in the name allow
                conversion, when possible, of <span class="italic">any </span>JSON value to the given SQL data type.
                (When an only method targets an array, the conversion applies to each array
                element, as
                usual.)
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><span class="bold"><code class="codeph">abs()</code></span>: The absolute value of the targeted JSON number. Corresponds to the use of SQL function <code class="codeph">ABS</code>.
                           </p>
                        </li>
                        <li>
                           <p><span class="bold"><code class="codeph">boolean()</code></span>: A SQL <code class="codeph">VARCHAR2(20)</code> interpretation of the targeted JSON value.
                           </p>
                        </li>
                        <li>
                           <p><span class="bold"><code class="codeph">booleanOnly()</code></span>: A SQL <code class="codeph">VARCHAR2(20)</code> interpretation of the targeted JSON data, but only if it is a JSON Boolean value; otherwise, there is no match. Acts as a filter, allowing matches only for JSON Boolean values.
                           </p>
                        </li>
                        <li>
                           <p><span class="bold"><code class="codeph">ceiling()</code></span>: The targeted JSON number, rounded up to the nearest integer. Corresponds to the use of SQL function <code class="codeph">CEIL</code>.
                           </p>
                        </li>
                        <li>
                           <p><span class="bold"><code class="codeph">date()</code></span>: A SQL date interpretation of the targeted JSON string. The targeted string data must be in one of the supported ISO 8601 formats; otherwise, there is no match.
                           </p>
                        </li>
                        <li>
                           <p><span class="bold"><code class="codeph">double()</code></span>: A SQL <code class="codeph">BINARY_DOUBLE</code> interpretation of the targeted JSON string or number.
                           </p>
                        </li>
                        <li>
                           <p><span class="bold"><code class="codeph">floor()</code></span>: The targeted JSON number, rounded down to the nearest integer. Corresponds to the use of SQL function <code class="codeph">FLOOR</code>.
                           </p>
                        </li>
                        <li>
                           <p><span class="bold"><code class="codeph">length()</code></span>: The number of characters in the targeted JSON string, interpreted as a SQL <code class="codeph">NUMBER</code>.
                           </p>
                        </li>
                        <li>
                           <p><span class="bold"><code class="codeph">lower()</code></span>: The lowercase string that corresponds to the characters in the targeted JSON string.
                           </p>
                        </li>
                        <li>
                           <p><span class="bold"><code class="codeph">number()</code></span>: A SQL <code class="codeph">NUMBER</code> interpretation of the targeted JSON string or number.
                           </p>
                        </li>
                        <li>
                           <p><span class="bold"><code class="codeph">numberOnly()</code></span>: A SQL <code class="codeph">NUMBER</code> interpretation of the targeted JSON data, but only if it is a JSON number; otherwise, there is no match. Acts as a filter, allowing matches only for JSON numbers.
                           </p>
                        </li>
                        <li>
                           <p><span class="bold"><code class="codeph">size()</code></span>: The number of elements in an array, or 1 for a scalar or an object. This item method can be used with <code class="codeph">json_query</code>, in addition to <code class="codeph">json_value</code> and <code class="codeph">json_table</code>. If applied to data that is an array, no implicit iteration over the array elements occurs: the resulting value is just the number of array elements. (This is an exception to the rule of implicit iteration.)
                           </p>
                        </li>
                        <li>
                           <p><span class="bold"><code class="codeph">string()</code></span>: A SQL <code class="codeph">VARCHAR2(4000)</code> interpretation of the targeted scalar JSON value.
                           </p>
                        </li>
                        <li>
                           <p><span class="bold"><code class="codeph">stringOnly()</code></span>: A SQL <code class="codeph">VARCHAR2(4000)</code> interpretation of the targeted scalar JSON value, but only if it is a JSON string; otherwise, there is no match. Acts as a filter, allowing matches only for JSON strings.
                           </p>
                        </li>
                        <li>
                           <p><span class="bold"><code class="codeph">timestamp()</code></span>: A SQL <code class="codeph">TIMESTAMP</code> interpretation of the targeted JSON string. The targeted string data must be in one of the supported ISO 8601 formats; otherwise, there is no match. <a id="fn_3" name="fn_3" href="#fn_3" onclick="footdisplay(3, "Applying item method timestamp() to a supported ISO 8601 string <ISO-STRING&gt; has the effect of SQL sys_extract_utc(to_utc_timestamp_tz(<ISO-STRING&gt;).")"><sup>Foot&nbsp;3</sup></a></p>
                        </li>
                        <li>
                           <p><span class="bold"><code class="codeph">type()</code></span>: The name of the JSON data type of the targeted data, interpreted as a SQL <code class="codeph">VARCHAR2(20)</code> value. This item method can be used with <code class="codeph">json_query</code>, in addition to <code class="codeph">json_value</code> and <code class="codeph">json_table</code>. If applied to data that is an array, no implicit iteration over the array elements occurs: the resulting value is <code class="codeph">"array"</code>. (This is an exception to the rule of implicit iteration.)
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">"null"</code> for a value of
                                    <code class="codeph">null</code>.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">"boolean"</code> for a value of
                                    <code class="codeph">true</code> or <code class="codeph">false</code>.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">"number"</code> for a
                            number.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">"string"</code> for a
                            string.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">"array"</code> for an
                            array.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">"object"</code> for an
                            object.
                                 </p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p><span class="bold"><code class="codeph">upper()</code></span>: The uppercase string that corresponds to the characters in the targeted JSON string.
                           </p>
                        </li>
                     </ul>
                     <p>Item methods <code class="codeph">boolean()</code>, <code class="codeph">booleanOnly()</code>,
                    <code class="codeph">date()</code>, <code class="codeph">length()</code>, <code class="codeph">lower()</code>,
                    <code class="codeph">number()</code>, <code class="codeph">numberOnly()</code>,
                    <code class="codeph">string()</code>, <code class="codeph">stringOnly()</code>,
                    <code class="codeph">timestamp()</code>, and <code class="codeph">upper()</code> are Oracle extensions
                to the SQL/JSON standard. The other item methods, <code class="codeph">abs()</code>,
                    <code class="codeph">ceiling()</code>, <code class="codeph">double()</code>, <code class="codeph">floor()</code>,
                    <code class="codeph">size()</code>, and <code class="codeph">type()</code> are part of the
                standard.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="json-path-expressions.html#GUID-AEBAD813-99AB-418A-93AB-F96BC1658618" title="The basic syntax of a SQL/JSON path expression is presented. It is composed of a context-item symbol ($) followed by zero or more object, array, and descendant steps, each of which can be followed by a filter expression, followed optionally by a function step. Examples are provided.">Basic SQL/JSON Path Expression Syntax</a></li>
                        <li><a href="json-path-expressions.html#GUID-20DC09A8-98DF-4473-8077-913D490A969C" title="International Standards Organization (ISO) standard 8601 describes an internationally accepted way to represent dates and times. Oracle Database supports many of the ISO 8601 date and time formats.">ISO 8601 Date and Time Support</a></li>
                        <li><a href="json-path-expressions.html#GUID-D951D27D-6918-40E8-8A0D-8D60AB83FD4A" title="Comparisons in SQL/JSON path-expression filter conditions are statically typed at compile time. If the effective types of the operands of a comparison are not known to be the same then an attempt is sometimes made to reconcile them by type-casting.">Types in Comparisons</a></li>
                        <li><a href="clauses-used-in-functions-and-conditions-for-json.html#GUID-DE9F29D3-1C23-4271-9DCD-E585866576D2" title="SQL functions json_value, json_query, json_serialize, and json_mergepatch accept an optional RETURNING clause, which specifies the data type of the value returned by the function. This clause and the default behavior (no RETURNING clause) are described here.">RETURNING Clause for SQL Query Functions</a></li>
                        <li><a href="function-JSON_VALUE.html#GUID-0565F0EE-5F13-44DD-8321-2AC142959215" title="SQL/JSON function json_value selects JSON data and returns a SQL scalar or an instance of a user-defined SQL object type or SQL collection type (varray, nested table).">SQL/JSON Function JSON_VALUE</a></li>
                        <li><a href="function-JSON_TABLE.html#GUID-0172660F-CE29-4765-BF2C-C405BDE8369A" title="SQL/JSON function json_table projects specific JSON data to columns of various SQL data types. You use it to map parts of a JSON document into the rows and columns of a new, virtual table, which you can also think of as an inline view.">SQL/JSON Function JSON_TABLE</a></li>
                        <li><a href="clauses-used-in-functions-and-conditions-for-json.html#GUID-9079CD9C-3783-4857-9F6B-84D746C91317" title="SQL/JSON query functions json_query and json_table accept an optional wrapper clause, which specifies the form of the value returned by json_query or used for the data in a json_table column. This clause and the default behavior (no wrapper clause) are described here. Examples are provided.">Wrapper Clause for SQL/JSON Query Functions JSON_QUERY and JSON_TABLE</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="json-path-expressions.html#GUID-2DC05D71-3D62-4A14-855F-76E054032494" title="Oracle Database provides SQL access to JSON data using SQL/JSON path expressions.">SQL/JSON Path Expressions</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-20DC09A8-98DF-4473-8077-913D490A969C" name="GUID-20DC09A8-98DF-4473-8077-913D490A969C"></a><h3 id="ADJSN-GUID-20DC09A8-98DF-4473-8077-913D490A969C" class="sect3"><span class="enumeration_section">13.4 </span>ISO 8601 Date and Time Support
               </h3>
               <div>
                  <p>International Standards Organization (ISO) standard 8601 describes an internationally accepted way to represent dates and times. Oracle Database supports many of the ISO 8601 date and time formats.</p>
                  <div class="section">
                     <p>International Standards Organization (ISO) standard 8601 describes an internationally accepted way to represent dates and times. You can manipulate strings that are in the most common ISO 8601 date and time formats as proper Oracle Database date and time values. The ISO 8601 formats that are supported are essentially those that are numeric-only, language-neutral, and unambiguous.</p>
                     <p>This is the allowed syntax for dates and times:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Date (only): <code class="codeph"><span class="codeinlineitalic">YYYY</span>-<span class="codeinlineitalic">MM</span>-<span class="codeinlineitalic">DD</span></code></p>
                        </li>
                        <li>
                           <p>Date with time: <code class="codeph"><span class="codeinlineitalic">YYYY</span><span class="bold">-</span><span class="codeinlineitalic">MM</span><span class="bold">-</span><span class="codeinlineitalic">DD</span><span class="bold">T</span><span class="codeinlineitalic">hh</span><span class="bold">:</span><span class="codeinlineitalic">mm</span><span class="bold">:</span><span class="codeinlineitalic">ss</span>[<span class="bold">.</span><span class="codeinlineitalic">s</span>[<span class="codeinlineitalic">s</span>[<span class="codeinlineitalic">s</span>[<span class="codeinlineitalic">s</span>[<span class="codeinlineitalic">s</span>[<span class="codeinlineitalic">s</span>]]]]][<span class="bold">Z</span>|(<span class="bold">+</span>|<span class="bold">-</span>)<span class="codeinlineitalic">hh</span><span class="bold">:</span><span class="codeinlineitalic">mm</span>]</code></p>
                        </li>
                     </ul>
                     <p>where:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph"><span class="codeinlineitalic"><span class="bold">YYYY</span></span></code> specifies the <span class="italic">year</span>, as four decimal digits.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph"><span class="codeinlineitalic"><span class="bold">MM</span></span></code> specifies the <span class="italic">month</span>, as two decimal digits, <code class="codeph">00</code> to <code class="codeph">12</code>.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph"><span class="codeinlineitalic"><span class="bold">DD</span></span></code> specifies the <span class="italic">day</span>, as two decimal digits, <code class="codeph">00</code> to <code class="codeph">31</code>.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph"><span class="codeinlineitalic"><span class="bold">hh</span></span></code> specifies the <span class="italic">hour</span>, as two decimal digits, <code class="codeph">00</code> to <code class="codeph">23</code>.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph"><span class="codeinlineitalic"><span class="bold">mm</span></span></code> specifies the <span class="italic">minutes</span>, as two decimal digits, <code class="codeph">00</code> to <code class="codeph">59</code>.
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph"><span class="bold"><span class="italic">ss</span></span>[<span class="bold">.<span class="italic">s</span></span>[<span class="bold"><span class="italic">s</span></span>[<span class="bold"><span class="italic">s</span></span>[<span class="bold"><span class="italic">s</span></span>[<span class="bold"><span class="italic">s</span></span>]]]]]</code> specifies the <span class="italic">seconds</span>, as two decimal digits, <code class="codeph">00</code> to <code class="codeph">59</code>, optionally followed by a decimal point and 1 to 6 decimal digits (representing the fractional part of a second).
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph"><span class="bold">Z</span></code> specifies <span class="italic">UTC</span> time (time zone 0). (It can also be specified by <code class="codeph">+00:00</code>, but not by <code class="codeph">&#x2013;00:00</code>.)
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">(<span class="bold">+</span>|<span class="bold">-</span>)hh<span class="bold">:</span>mm</code> specifies the time-zone as <span class="italic">difference from UTC</span>. (One of <code class="codeph">+</code> or <code class="codeph">&#x2013;</code> is required.)
                           </p>
                        </li>
                     </ul>
                     <p>For a time value, the time-zone part is optional. If it is absent then UTC time is assumed.</p>
                     <p>No other ISO 8601 date-time syntax is supported. In particular:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Negative dates (dates prior to year 1 BCE), which begin with a hyphen (e.g. <code class="codeph"><span class="bold">&#x2013;</span>2018&#x2013;10&#x2013;26T21:32:52</code>), are not supported.
                           </p>
                        </li>
                        <li>
                           <p>Hyphen and colon separators are required: so-called basic format, <code class="codeph">YYYYMMDDThhmmss</code>, is not supported.
                           </p>
                        </li>
                        <li>
                           <p>Ordinal dates (year plus day of year, calendar week plus day number) are not supported.</p>
                        </li>
                        <li>
                           <p>Using more than four digits for the year is not supported.</p>
                        </li>
                     </ul>
                     <p>Supported dates and times include the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">2018&#x2013;10&#x2013;26T21:32:52</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">2018-10-26T21:32:52+02:00</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">2018-10-26T19:32:52Z</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">2018-10-26T19:32:52+00:00</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">2018-10-26T21:32:52.12679</code></p>
                        </li>
                     </ul>
                     <p>Unsupported dates and times include the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">2018-10-26T21:32</code> (if a time is specified then all of its parts must be present)
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">2018-10-26T<span class="bold">25</span>:32:52+02:00</code> (the hours part, 25, is out of range)
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">18-10-26T21:32</code> (the year is not specified fully)
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section"></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-20DC09A8-98DF-4473-8077-913D490A969C__GUID-8D7C5414-865C-4ABD-8EC8-D248FD291A5C">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/adjsn&amp;id=iso-8601" target="_blank">ISO 8601 standard</a></p>
                        </li>
                        <li>
                           <p><a href="https://en.wikipedia.org/wiki/ISO_8601" target="_blank">ISO 8601 at Wikipedia</a></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="json-path-expressions.html#GUID-2DC05D71-3D62-4A14-855F-76E054032494" title="Oracle Database provides SQL access to JSON data using SQL/JSON path expressions.">SQL/JSON Path Expressions</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-D951D27D-6918-40E8-8A0D-8D60AB83FD4A" name="GUID-D951D27D-6918-40E8-8A0D-8D60AB83FD4A"></a><h3 id="ADJSN-GUID-D951D27D-6918-40E8-8A0D-8D60AB83FD4A" class="sect3"><span class="enumeration_section">13.5 </span>Types in Comparisons
               </h3>
               <div>
                  <p>Comparisons in SQL/JSON path-expression filter conditions are statically typed at compile time. If the effective types of the operands of a comparison are not known to be the same then an attempt is sometimes made to reconcile them by type-casting.</p>
                  <p>A SQL/JSON path expression targets JSON data, so the operands of a comparison are JSON values. Type comparison of JSON values is straightforward: JSON data types string, number, null, object, and array are mutually exclusive and incomparable.</p>
                  <p>But comparison operands are sometimes <span class="italic">interpreted</span> (essentially cast) as values of SQL data types. This is the case, for example, when some item methods, such as <code class="codeph">number()</code>, are used. This section addresses the type-checking of such effective values. 
                  </p>
                  <p>You can prevent such type-casting by explicitly using one of the only item methods. For example, applying method <code class="codeph">numberOnly()</code> prevents implicit type-casting to a number.
                  </p>
                  <p>SQL is a statically typed language; types are determined at compile time. The same applies to SQL/JSON path expressions, and in particular to comparisons in filter conditions. This means that you get the same result for a query regardless of how it is evaluated  whether functionally or using features such as indexes, materialized views, and In-Memory scans.</p>
                  <p>To realize this:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>If the types of both operands are <span class="italic">known</span> and they are the <span class="italic">same</span> then type-checking is satisfied.
                        </p>
                     </li>
                     <li>
                        <p>If the types of both operands are <span class="italic">unknown</span> then a compile-time error is raised.
                        </p>
                     </li>
                     <li>
                        <p>If the type of one operand is known and the other is unknown then the latter operand is cast to the type of the former. </p>
                        <p>For example, in <code class="codeph">$.a?(@.b.c == 3)</code> the type of <code class="codeph">$a.b.c</code> is unknown at compile time. The path expression is compiled as <code class="codeph">$.a?(@.b.c.<span class="bold">number()</span> == 3)</code>. At runtime an attempt is thus made to cast the data that matches <code class="codeph">$a.b.c</code> to a number. A string value <code class="codeph">"3"</code> would be cast to the number <code class="codeph">3</code>, satisfying the comparison.<a id="fn_4" name="fn_4" href="#fn_4" onclick="footdisplay(4, "To prevent such casting here, you can explicitly apply item method numberOnly(): $.a?(@.b.c.numberOnly() == 3). Data with a string value \"3\" would simply not match; it would be filtered out.")"><sup>Foot&nbsp;4</sup></a></p>
                     </li>
                     <li>
                        <p>If the types of both operands are <span class="italic">known</span> and they are <span class="italic">not</span> the same then an attempt is made to cast the type of one to the type of the other. Details are presented below.
                        </p>
                     </li>
                  </ul>
                  <p>Comparison operands used in the following combinations are <span class="italic">not</span> reconciled; a <span class="italic">compile-time error</span> is raised.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Number compared with any non-number type other than double.</p>
                     </li>
                     <li>
                        <p>Double compared with any non-double type other than number.</p>
                     </li>
                     <li>
                        <p>String compared with double.</p>
                     </li>
                     <li>
                        <p>Boolean compared with any non-Boolean type, except for comparison with a string value of <code class="codeph">'true'</code> or <code class="codeph">'false'</code> (or any letter-case variants, such as <code class="codeph">'tRUe'</code>).
                        </p>
                     </li>
                     <li>
                        <p>Date or timestamp compared with string, unless the string has a supported ISO 8601 format.</p>
                     </li>
                     <li>
                        <p>Date compared with any non-date type other than string.</p>
                     </li>
                     <li>
                        <p>Timestamp (with or without time zone) compared with any non-timestamp type other than string.</p>
                     </li>
                     <li>
                        <p>JSON <code class="codeph">null</code> compared with any type other than JSON <code class="codeph">null</code>.
                        </p>
                     </li>
                  </ul>
                  <p>An attempt is made to reconcile comparison operands used in the following combinations, by type-casting. You can think of a type-casting item method being implicitly applied to one of the operands in order to make it type-compatible with the other operand.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Number compared with double  <code class="codeph">double()</code> is implicitly applied to the number to make it a double value.
                        </p>
                     </li>
                     <li>
                        <p>String value of <code class="codeph">'true'</code> or <code class="codeph">'false'</code> (or any letter-case variants, such as <code class="codeph">'tRUe'</code>) compared with Boolean  <code class="codeph">boolean()</code> is implicitly applied to the string to make it a Boolean value.
                        </p>
                     </li>
                     <li>
                        <p>String in a supported ISO 8601 format compared with date  <code class="codeph">date()</code> is implicitly applied to the string to make it a date value. (Any time-zone component present is removed.)
                        </p>
                     </li>
                     <li>
                        <p>String in a supported ISO 8601 format compared with timestamp (with or without) time zone  <code class="codeph">timestamp()</code>  is implicitly applied to the string to make it a timestamp value. For this, the UTC time zone (Coordinated Universal Time, zero offset) is used as the default, taking into account any time zone specified in the string.
                        </p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>Related Topics</strong></p>
                     <ul>
                        <li><a href="json-path-expressions.html#GUID-8656CAB9-C293-4A99-BB62-F38F3CFC4C13" title="The Oracle item methods available for a SQL/JSON path expression are described.">SQL/JSON Path Expression Item Methods</a></li>
                        <li><a href="json-path-expressions.html#GUID-20DC09A8-98DF-4473-8077-913D490A969C" title="International Standards Organization (ISO) standard 8601 describes an internationally accepted way to represent dates and times. Oracle Database supports many of the ISO 8601 date and time formats.">ISO 8601 Date and Time Support</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="json-path-expressions.html#GUID-2DC05D71-3D62-4A14-855F-76E054032494" title="Oracle Database provides SQL access to JSON data using SQL/JSON path expressions.">SQL/JSON Path Expressions</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <hr><br><p style="text-decoration:underline">Footnote Legend</p>Footnote&nbsp;1: The <code class="codeph">to</code> in
                            a range specification is sometimes informally called the array
                                <span class="italic">slice</span> operator.<br>Footnote&nbsp;2: <code class="codeph">!=</code> is an Oracle alias for the SQL/JSON standard comparison predicate <code class="codeph">&lt;&gt;</code>.<br>Footnote&nbsp;3: Applying item method <code class="codeph">timestamp()</code> to a supported ISO 8601 string <code class="codeph"><span class="codeinlineitalic">&lt;ISO-STRING&gt;</span></code> has the effect of SQL <code class="codeph">sys_extract_utc(to_utc_timestamp_tz(<span class="codeinlineitalic">&lt;ISO-STRING&gt;</span>)</code>.<br>Footnote&nbsp;4: To prevent such casting here, you can explicitly apply item method <code class="codeph">numberOnly()</code>: <code class="codeph">$.a?(@.b.c.<span class="bold">numberOnly()</span> == 3)</code>. Data with a string value <code class="codeph">"3"</code> would simply not match; it would be filtered out.<br></div>
      </article>
   </body>
</html>