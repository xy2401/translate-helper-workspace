<?xml version='1.0' encoding='utf-8' ?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
		<title>Trace Compass User Guide - Counters Analysis</title>
		<link type="text/css" rel="stylesheet" href="book.css"/>
	</head>
	<body>
		<table class="navigation" style="width: 100%;" border="0" summary="navigation">
			<tr>
				<th style="width: 100%" align="center" colspan="3">Counters Analysis</th>
			</tr>
			<tr>
				<td style="width: 20%" align="left">
					<a href="Latency-Analyses.html" title="Latency Analyses">
						<img alt="Previous" border="0" src="images/prev.gif"/>
					</a>
				</td>
				<td style="width: 60%" align="center"></td>
				<td style="width: 20%" align="right">
					<a href="Java-Logging.html" title="Java Logging">
						<img alt="Next" border="0" src="images/next.gif"/>
					</a>
				</td>
			</tr>
			<tr>
				<td style="width: 20%" align="left" valign="top">Latency Analyses</td>
				<td style="width: 60%" align="center"></td>
				<td style="width: 20%" align="right" valign="top">Java Logging</td>
			</tr>
		</table><hr class="navigation-separator"/>
		<h1 id="Counters_Analysis">Counters Analysis</h1>
		<p>The 
			<b>Counters View</b> allows the user to inspect the values of hardware performance counters during the trace's lifetime. The counters store data concerning hardware-related activities such as page faults. The Counters View is currently available for LTTng UST and kernel traces.
			The Counters View supports experiments.
		</p>
		<h2 id="Creating_an_LTTng_trace_with_performance_counters">Creating an LTTng trace with performance counters</h2>
		<p>For the Counters View to display any data, the trace needs to collect information related to performance counters. There are two ways to configure a trace for this type of logging. On the command line, add a new context field to an LTTng channel using the <code>lttng-add-context</code> command (for more information, refer to the 
			<a href="http://lttng.org/docs/">LTTng documentation</a>). On the LTTng Tracer Control, add a new context field using the ''Add Context..." window (see 
			<a href="LTTng-Tracer-Control.html#Adding_Contexts_to_Channels_and_Events_of_a_Domain">Adding Contexts to Channels and Events of a Domain</a>).
		</p>
		<h2 id="Counters_View">Counters View</h2>
		<p>To open the view, double-click on the 
			<b>Counters</b> tree element of the 
			<i>Project Explorer</i> or type "Counters" in the 
			<i>Quick Access</i> search bar.
		</p>
		<p>
			<img border="0" src="images/counters/OpenCountersView.png"/>
		</p>
		<p>The Counters View contains a filtered checkbox tree on the left-hand side and a chart on the right-hand side. The checkbox tree also contains a 
			<b>Legend</b> column whose purpose is to display the styling of the entry in the chart. Thus, when checking a tree element, its data will appear in the chart and its styling will appear next to the element. An entry will conserve the same styling whether it is displayed on the chart or not.
		</p>
		<p>
			<img border="0" src="images/counters/CountersView.png"/>
		</p>
		<p>The counters data can also be visualized cumulatively throughout time thanks to the 
			<img border="0" src="images/counters/sigma.gif"/> tool bar button.
			By default the view is displayed differentially, with each data point's value being the counter value at that point's timestamp minus that of the previous point's timestamp.
		</p>
		<p>
			<img border="0" src="images/counters/CumulativeCountersView.png"/>
		</p>
		<p>The view's checkbox tree has enhanced functionalities. First, the checkboxes have three visual states. They are determined according to the visible elements of the tree.</p>
		<p>
			<img border="0" src="images/counters/UncheckedCheckbox.png"/> - The entry is not checked.
			<br/>

			<img border="0" src="images/counters/GrayedCheckbox.png"/> - The entry is checked, but not all of its children.
			<br/>

			<img border="0" src="images/counters/CheckedCheckbox.png"/> - The entry and all of its children are checked.
		</p>
		<p>Second, the checkbox tree has a search bar which allows users to apply filters on the tree elements. Multiple filters need to be separated with the "/" symbol. A match is detected when the subsequence of a tree element matches the pattern entered by the user. When checking an element of a filtered tree, the check state is only propagated to the visible elements. Below are different examples of filters being applied to the same tree:</p>
		<p>
			<img border="0" src="images/counters/FilteredTree1.png"/> 
			<img border="0" src="images/counters/FilteredTree2.png"/> 
			<img border="0" src="images/counters/FilteredTree3.png"/> 
			<img border="0" src="images/counters/FilteredTree4.png"/>
		</p>
		<p>Finally, the tree's checkboxes are remembered when switching from one trace to another.</p>
		<h3 id="Navigation_7">Navigation</h3>
		<p>For navigation, see CPU Usage view's 
			<b>
				<a href="LTTng-Kernel-Analysis.html#Using_the_mouse_2">Using the mouse</a>
			</b>, 
			<b>
				<a href="LTTng-Kernel-Analysis.html#Using_the_keyboard_2">Using the keyboard</a>
			</b> and 
			<b>
				<a href="LTTng-Kernel-Analysis.html#Zoom_region">Zoom region</a>
			</b>.
		</p>
		<h3 id="Toolbar_8">Toolbar</h3>
		<p>The view 
			<b>toolbar</b>, located at the top right of the view, has shortcut buttons to perform common actions:
		</p>
		<table>
			<tr>
				<td>
					<img border="0" src="images/counters/sigma.gif"/>
				</td>
				<td>Toggle cumulative or non-cumulative</td>
				<td>Switch between cumulative or non-cumulative presentation</td>
			</tr>
		</table>
		<p>For other toolbar buttons, see CPU Usage view's 
			<b>
				<a href="LTTng-Kernel-Analysis.html#Toolbar_3">Toolbar</a>
			</b>.
		</p>
		<h3 id="View_Menu_5">View Menu</h3>
		<p>The Counters View 
			<b>view menu</b>, located at the top right of the view, has shortcut buttons to perform common actions:
		</p>
		<table>
			<tr>
				<td>New Counters view</td>
				<td>Spawn a new Counters view. The new view can be pinned to a new instance of the current trace, pinned to any opened trace, or unpinned.</td>
			</tr>
			<tr>
				<td>Align Views</td>
				<td>Disable and enable the automatic time axis alignment of time-based views. Disabling the alignment in this view will disable this feature across all the views because it's a workspace preference.</td>
			</tr>
		</table><hr class="navigation-separator"/>
		<table class="navigation" style="width: 100%;" border="0" summary="navigation">
			<tr>
				<td style="width: 20%" align="left">
					<a href="Latency-Analyses.html" title="Latency Analyses">
						<img alt="Previous" border="0" src="images/prev.gif"/>
					</a>
				</td>
				<td style="width: 60%" align="center">
					<a href="User-Guide.html" title="Trace Compass User Guide">
						<img alt="Trace Compass User Guide" border="0" src="images/home.gif"/>
					</a>
				</td>
				<td style="width: 20%" align="right">
					<a href="Java-Logging.html" title="Java Logging">
						<img alt="Next" border="0" src="images/next.gif"/>
					</a>
				</td>
			</tr>
			<tr>
				<td style="width: 20%" align="left" valign="top">Latency Analyses</td>
				<td style="width: 60%" align="center"></td>
				<td style="width: 20%" align="right" valign="top">Java Logging</td>
			</tr>
		</table>
	</body>
</html>