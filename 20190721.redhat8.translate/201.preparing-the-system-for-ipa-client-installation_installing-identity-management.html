<html  xmlns="http://www.w3.org/1999/xhtml"><head><title>Chapter 9. 准备系统以进行Identity Management客户端安装</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"><meta name="generator" content="DocBook XSL-NS Stylesheets V1.78.1"></head><body ><div class="chapter"><div class="titlepage"><div><div><h1 class="title">Chapter 9. 准备系统以进行Identity Management客户端安装</h1></div></div></div><p>本章介绍了系统安装Identity Management客户端必须满足的条件。
			</p><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="dns-requirements-for-ipa-clients_installing-identity-management"></a> Identity Management客户端的DNS要求</h1></div></div></div><p>默认情况下，客户端安装程序会尝试搜索<code class="literal">_ldap._tcp.DOMAIN</code> DNS SRV记录其主机名的父域。例如，如果客户端计算机具有主机名<code class="literal">client1.idm.example.com</code> ，则安装程序将尝试从<code class="literal">_ldap._tcp.idm.example.com</code> ， <code class="literal">_ldap._tcp.example.com</code>和<code class="literal">_ldap._tcp.com</code>检索Identity Management服务器主机名<code class="literal">_ldap._tcp.com</code> DNS SRV记录。然后，使用发现的域在计算机上配置客户端组件（例如，SSSD和Kerberos 5配置）。
				</p><p>但是，Identity Management客户端的主机名不需要是主DNS域的一部分。如果客户端计算机主机名不在Identity Management服务器的子域中，请将IdM域作为<code class="literal">ipa-client-install</code>命令的<code class="literal">--domain</code>选项传递。在这种情况下，在安装客户端之后，SSSD和Kerberos组件都将在其配置文件中设置域，并将使用它来自动发现Identity Management服务器。
				</p><h3><a id="additional_resources_4"></a>其他资源</h3><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">有关Identity Management中DNS要求的详细信息，请参阅<a class="xref" href="preparing-the-system-for-ipa-server-installation_installing-identity-management.html#host-name-and-dns-requirements-for-ipa_installing-identity-management" title="身份管理的主机名和DNS要求">“身份管理的主机名和DNS要求”一节</a> 。
						</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="port-requirements-for-ipa-clients_installing-identity-management"></a> Identity Management客户端的端口要求</h1></div></div></div><p>Identity Management客户端连接到Identity Management服务器上的多个端口以与其服务进行通信。
				</p><p>在Identity Management客户端上，这些端口必须<span class="emphasis"><em>在传出方向上</em></span>打开。如果您使用的防火墙不过滤传出的数据包（例如<code class="literal">firewalld</code> ，则端口已在传出方向上可用。
				</p><h4><a id="additional_resources_5"></a>其他资源</h4><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">有关使用哪些特定端口的信息，请参阅<a class="xref" href="preparing-the-system-for-ipa-server-installation_installing-identity-management.html#port-requirements-for-ipa_installing-identity-management" title="身份管理的端口要求">“身份管理的端口要求”一节</a> 。
						</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="packages-required-to-install-an-ipa-client_installing-identity-management"></a>安装Identity Management客户端所需的程序包</h1></div></div></div><p>在RHEL8中，安装Identity Management客户端所需的软件包作为模块提供。两个IdM流提供IdM客户端包：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><code class="literal">idm:client</code>流。有关详细信息，请参阅<a class="xref" href="preparing-the-system-for-ipa-client-installation_installing-identity-management.html#installing-ipa-client-packages-from-the-idm-client-stream" title="从idm：client流安装ipa-client软件包">“从idm：客户端流安装ipa-client软件包”一节</a> 。
						</li><li class="listitem"><code class="literal">idm:DL1</code>流。有关详细信息，请参阅<a class="xref" href="preparing-the-system-for-ipa-client-installation_installing-identity-management.html#installing-ipa-client-packages-from-the-idm-dl1-stream" title="从idm：DL1流安装ipa-client软件包">“从idm：DL1流安装ipa-client软件包”一节</a> 。
						</li></ul></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="installing-ipa-client-packages-from-the-idm-client-stream"></a>从idm：client流安装ipa-client软件包</h2></div></div></div><p><code class="literal">idm:client</code>流是<code class="literal">idm</code>模块的默认流。如果您不需要在计算机上安装服务器组件，请使用此流下载IdM客户端软件包。如果您需要始终如一地使用长期支持的IdM客户端软件，并且您也不需要服务器组件，则特别推荐使用<code class="literal">idm:client</code>流。
					</p><div class="important" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">重要</h3><p>在您之前启用<code class="literal">idm:DL1</code>流和从中下载的包之后切换到<code class="literal">idm:client</code>流时，您需要首先显式删除所有相关的已安装内容，并在启用<code class="literal">idm:client</code>流之前禁用<code class="literal">idm:DL1</code>流。尝试在不禁用当前流的情况下启用新流会导致错误。有关如何继续的详细信息，请参阅<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/installing_managing_and_removing_user_space_components/#switching-module-streams-to-install-a-different-version-of-content_managing-versions-of-appstream-content">切换模块流以安装不同版本的内容</a> 。
						</p></div><h3><a id="procedure_10"></a>程序</h3><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">要下载安装IdM客户端所需的软件包：</p><pre class="literallayout"># <span class="strong"><strong>yum module install idm</strong></span></pre></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="installing-ipa-client-packages-from-the-idm-dl1-stream"></a>从idm：DL1流安装ipa-client软件包</h2></div></div></div><p>需要先启用<code class="literal">idm:DL1</code>流，然后才能从中下载软件包。如果需要在计算机上安装IdM服务器组件，请使用此流下载IdM客户端软件包。
					</p><div class="important" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">重要</h3><p>在您之前启用<code class="literal">idm:client</code>流和从中下载的包之后切换到<code class="literal">idm:DL1</code>流时，您需要首先显式删除所有相关的已安装内容，并在启用<code class="literal">idm:DL1</code>流之前禁用<code class="literal">idm:client</code>流。尝试在不禁用当前流的情况下启用新流会导致错误。有关如何继续的详细信息，请参阅<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/installing_managing_and_removing_user_space_components/#switching-module-streams-to-install-a-different-version-of-content_managing-versions-of-appstream-content">切换模块流以安装不同版本的内容</a> 。
						</p></div><h3><a id="procedure_11"></a>程序</h3><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p class="simpara">要切换到通过<code class="literal">idm:DL1</code>流传递的RPM：</p><pre class="literallayout"># <span class="strong"><strong>yum module enable idm:DL1</strong></span>
# <span class="strong"><strong>yum distro-sync</strong></span></pre></li><li class="listitem"><p class="simpara">要下载安装IdM客户端所需的软件包：</p><pre class="literallayout"># <span class="strong"><strong>yum module install idm:DL1/client</strong></span></pre></li></ol></div></div></div></div></body></html>