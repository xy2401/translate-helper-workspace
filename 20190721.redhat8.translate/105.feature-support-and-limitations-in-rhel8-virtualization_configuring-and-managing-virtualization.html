<html  xmlns="http://www.w3.org/1999/xhtml"><head><title>Chapter 9. RHEL 8虚拟化中的功能支持和限制</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"><meta name="generator" content="DocBook XSL-NS Stylesheets V1.78.1"></head><body ><div class="chapter"><div class="titlepage"><div><div><h1 class="title">Chapter 9. RHEL 8虚拟化中的功能支持和限制</h1></div></div></div><p>本文档提供有关Red Hat Enterprise Linux 8（RHEL 8）虚拟化中的功能支持和限制的信息。
		</p><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="how-rhel8-virtualization-support-works_feature-support-and-limitations-in-rhel8-virtualization"></a> RHEL 8虚拟化支持的工作原理</h1></div></div></div><p>一组支持限制适用于Red Hat Enterprise Linux 8（RHEL 8）中的虚拟化。这意味着当您在RHEL 8中使用虚拟机时使用某些功能或超过一定数量的已分配资源时，除非您有特定的订阅计划，否则Red Hat将不支持这些来宾。
			</p><p><a class="xref" href="feature-support-and-limitations-in-rhel8-virtualization_configuring-and-managing-virtualization.html#recommended-features-in-rhel8-virtualization_feature-support-and-limitations-in-rhel8-virtualization" title="Recommended features in RHEL 8 virtualization">“RHEL 8虚拟化中的推荐功能”一节中</a>列出<a class="xref" href="feature-support-and-limitations-in-rhel8-virtualization_configuring-and-managing-virtualization.html#recommended-features-in-rhel8-virtualization_feature-support-and-limitations-in-rhel8-virtualization" title="RHEL 8虚拟化中的推荐功能">的功能</a>已经过Red Hat的测试和认证，可与RHEL 8系统上的KVM管理程序配合使用。因此，它们完全受支持并建议用于RHEL 8中的虚拟化。
			</p><p><a class="xref" href="feature-support-and-limitations-in-rhel8-virtualization_configuring-and-managing-virtualization.html#unsupported-features-in-rhel8-virtualization_feature-support-and-limitations-in-rhel8-virtualization" title="Unsupported features in RHEL 8 virtualization">“RHEL 8虚拟化中不支持的功能”一节中</a>列出<a class="xref" href="feature-support-and-limitations-in-rhel8-virtualization_configuring-and-managing-virtualization.html#unsupported-features-in-rhel8-virtualization_feature-support-and-limitations-in-rhel8-virtualization" title="RHEL 8虚拟化中不支持的功能">的功能</a>可能有效，但不受支持，不适用于RHEL 8。因此，Red Hat强烈建议不要在RHEL 8中使用这些功能和KVM。</p><p>
				<a class="xref" href="feature-support-and-limitations-in-rhel8-virtualization_configuring-and-managing-virtualization.html#resource-allocation-limits-in-rhel8-virtualization_feature-support-and-limitations-in-rhel8-virtualization" title="RHEL 8虚拟化中的资源分配限制">“RHEL 8虚拟化中的资源分配限制”一节</a>列出了RHEL 8中KVM来宾支持的最大特定资源量。Red Hat不支持超出这些限制的客人。
			</p><p>此外，除非另有说明，否则支持RHEL 8虚拟化文档使用的所有功能和解决方案。但是，其中一些还没有经过全面测试，因此可能无法完全优化。
			</p><div class="note" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">注意</h3><p>其中许多限制不适用于Red Hat提供的其他虚拟化解决方案，例如Red Hat Virtualization（RHV）或Red Hat OpenStack Platform（RHOSP）。
				</p></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="recommended-features-in-rhel8-virtualization_feature-support-and-limitations-in-rhel8-virtualization"></a> RHEL 8虚拟化中的推荐功能</h1></div></div></div><p>建议将以下功能与Red Hat Enterprise Linux 8（RHEL 8）附带的KVM管理程序配合使用：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">
						<span class="strong"><strong>主机系统架构</strong></span>
					</p><p class="simpara">只有以下主机架构支持带有KVM的Red Hat Enterprise Linux：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">AMD64和Intel 64</li><li class="listitem">IBM Z  -  IBM z13系统及更高版本</li><li class="listitem">IBM POWER8</li><li class="listitem"><p class="simpara">IBM POWER9</p><div class="note" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">注意</h3><p>RHEL 8文档主要介绍AMD64和Intel 64的功能和用法。有关在不同体系结构上使用RHEL 8虚拟化的具体信息，请参阅：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
											<a class="xref" href="getting-started-with-virtualization-in-rhel-8-on-ibm-power_configuring-and-managing-virtualization.html" title="Chapter 9. 在IBM POWER上使用RHEL 8中的虚拟化入门">第3章， <em>在IBM POWER上的RHEL 8中开始使用虚拟化</em></a>
										</li><li class="listitem">
											<a class="xref" href="getting-started-with-virtualization-in-rhel-8-on-ibm-z_configuring-and-managing-virtualization.html" title="Chapter 9. 在IBM Z上的RHEL 8中开始使用虚拟化">第4章， <em>IBM Z上的RHEL 8中的虚拟化入门</em></a> 。</li></ul></div></div></li></ul></div></li><li class="listitem"><p class="simpara">
						<span class="strong"><strong>客户操作系统</strong></span>
					</p><p class="simpara">Red Hat支持使用以下操作系统的KVM虚拟机：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">红帽企业Linux 6及更高版本</li><li class="listitem">Microsoft Windows 10及更高版本</li><li class="listitem">Microsoft Windows Server 2016及更高版本</li></ul></div></li><li class="listitem"><p class="simpara">
						<span class="strong"><strong>Q35嘉宾</strong></span>
					</p><p class="simpara">KVM来宾虚拟机的推荐机器类型是QEMU Q35，它模拟ICH9芯片组。
					</p></li></ul></div><h3><a id="additional_resources_36"></a>其他资源</h3><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">有关RHEL 8虚拟化中不支持的guest虚拟机操作系统类型和功能的信息，请参阅<a class="xref" href="feature-support-and-limitations-in-rhel8-virtualization_configuring-and-managing-virtualization.html#unsupported-features-in-rhel8-virtualization_feature-support-and-limitations-in-rhel8-virtualization" title="RHEL 8虚拟化中不支持的功能">“RHEL 8虚拟化中不支持的功能”一节</a> 。
					</li><li class="listitem">有关可以分配给虚拟机的最大支持资源量的信息，请参阅<a class="xref" href="feature-support-and-limitations-in-rhel8-virtualization_configuring-and-managing-virtualization.html#resource-allocation-limits-in-rhel8-virtualization_feature-support-and-limitations-in-rhel8-virtualization" title="RHEL 8虚拟化中的资源分配限制">“RHEL 8虚拟化中的资源分配限制”一节</a> 。
					</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="unsupported-features-in-rhel8-virtualization_feature-support-and-limitations-in-rhel8-virtualization"></a> RHEL 8虚拟化中不支持的功能</h1></div></div></div><p>Red Hat Enterprise Linux 8（RHEL 8）附带的KVM管理程序不支持以下功能：</p><div class="note" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">注意</h3><p>其中许多限制不适用于Red Hat提供的其他虚拟化解决方案，例如Red Hat Virtualization（RHV）或Red Hat OpenStack Platform（RHOSP）。
				</p></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">
						<span class="strong"><strong>客户操作系统</strong></span>
					</p><p class="simpara">不支持在RHEL 8主机上使用以下客户机操作系统的KVM虚拟机：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">Microsoft Windows 8.1及更早版本</li><li class="listitem">Microsoft Windows Server 2012及更早版本</li><li class="listitem">苹果系统</li><li class="listitem">Solaris for x86系统</li><li class="listitem">任何操作系统在2009年之前发布</li></ul></div></li><li class="listitem"><p class="simpara">
						<span class="strong"><strong>vCPU热拔掉</strong></span>
					</p><p class="simpara">从正在运行的KVM虚拟机（也称为vCPU热拔出）中删除虚拟CPU（vCPU）在RHEL 8中不受支持，使用它可能会导致VM崩溃。因此，Red Hat强烈建议不要使用它。
					</p></li><li class="listitem"><p class="simpara">
						<span class="strong"><strong>内存热插拔</strong></span>
					</p><p class="simpara">RHEL 8不支持降低分配给运行KVM虚拟机的内存限制（也称为内存热拔出），使用它可能会导致VM崩溃。因此，Red Hat强烈建议不要使用它。
					</p></li><li class="listitem"><p class="simpara">
						<span class="strong"><strong>SR-IOV网络</strong></span>
					</p><p class="simpara">RHEL 8不支持单根I / O虚拟化（SR-IOV）网络。
					</p></li><li class="listitem"><p class="simpara">
						<span class="strong"><strong>I / O限制</strong></span>
					</p><p class="simpara">RHEL 8不支持为虚拟磁盘上的操作配置最大输入和输出级别，也称为I / O限制。
					</p></li><li class="listitem"><p class="simpara">
						<span class="strong"><strong>存储实时迁移</strong></span>
					</p><p class="simpara">RHEL 8不支持在主机之间迁移正在运行的虚拟机的磁盘映像。
					</p></li><li class="listitem"><p class="simpara">
						<span class="strong"><strong>实时快照</strong></span>
					</p><p class="simpara">RHEL 8不支持创建或加载正在运行的虚拟机的快照（也称为实时快照）。
					</p></li><li class="listitem"><p class="simpara">
						<span class="strong"><strong>虚拟主机用户</strong></span>
					</p><p class="simpara">RHEL 8不支持用户空间vHost接口的实现。
					</p></li><li class="listitem"><p class="simpara">
						<span class="strong"><strong>S3和S4系统电源状态</strong></span>
					</p><p class="simpara">不支持将虚拟机<span class="strong"><strong>挂起到挂起到RAM</strong></span> （S3）或<span class="strong"><strong>挂起到磁盘</strong></span> （S4）系统电源状态。请注意，默认情况下禁用这些功能，启用它们将使Red Hat无法支持您的虚拟机。
					</p></li><li class="listitem"><p class="simpara">
						<span class="strong"><strong>多路虚拟磁盘上的S3-PR</strong></span>
					</p><p class="simpara">RHEL 8中不支持多路径虚拟磁盘上的SCSI3持久保留（S3-PR）。因此，RHEL 8不支持Windows群集。如果您需要Windows群集支持，请改用红帽虚拟化（RHV）。
					</p></li><li class="listitem"><p class="simpara">
						<span class="strong"><strong>为Virtio-密码</strong></span>
					</p><p class="simpara">RHEL 8内核中提供了<span class="emphasis"><em>virtio-crypto</em></span>设备的驱动程序，因此可以在某些情况下在KVM管理程序上启用该设备。但是，不支持在RHEL 8中使用<span class="emphasis"><em>virtio-crypto</em></span>设备，并且非常不鼓励使用。
					</p></li></ul></div><h3><a id="additional_resources_37"></a>其他资源</h3><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">有关受支持的guest虚拟机操作系统类型和RHEL 8虚拟化中的建议功能的信息，请参阅<a class="xref" href="feature-support-and-limitations-in-rhel8-virtualization_configuring-and-managing-virtualization.html#recommended-features-in-rhel8-virtualization_feature-support-and-limitations-in-rhel8-virtualization" title="RHEL 8虚拟化中的推荐功能">“RHEL 8虚拟化中的推荐功能”一节</a> 。
					</li><li class="listitem">有关可以分配给虚拟机的最大支持资源量的信息，请参阅<a class="xref" href="feature-support-and-limitations-in-rhel8-virtualization_configuring-and-managing-virtualization.html#resource-allocation-limits-in-rhel8-virtualization_feature-support-and-limitations-in-rhel8-virtualization" title="RHEL 8虚拟化中的资源分配限制">“RHEL 8虚拟化中的资源分配限制”一节</a> 。
					</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="resource-allocation-limits-in-rhel8-virtualization_feature-support-and-limitations-in-rhel8-virtualization"></a> RHEL 8虚拟化中的资源分配限制</h1></div></div></div><p>以下限制适用于可以分配给Red Hat Enterprise Linux 8（RHEL 8）主机上的单个虚拟机的虚拟化资源。
			</p><div class="note" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">注意</h3><p>其中许多限制不适用于Red Hat提供的其他虚拟化解决方案，例如Red Hat Virtualization（RHV）或Red Hat OpenStack Platform（RHOSP）。
				</p></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">
						<span class="strong"><strong>每台主机的最大虚拟机数</strong></span>
					</p><p class="simpara">单个RHEL 8主机最多可同时运行<span class="strong"><strong>4个</strong></span> guest虚拟机。
					</p></li><li class="listitem"><p class="simpara">
						<span class="strong"><strong>每位客人的最大vCPU</strong></span>
					</p><p class="simpara">RHEL 8最多支持分配给单个KVM来宾的<span class="strong"><strong>384个</strong></span> vCPU。</p></li><li class="listitem"><p class="simpara">
						<span class="strong"><strong>每位客人的PCI设备</strong></span>
					</p><p class="simpara">RHEL 8支持每个虚拟机总线<span class="strong"><strong>32个</strong></span> PCI设备插槽，每个设备插槽支持<span class="strong"><strong>8个</strong></span> PCI功能。当在虚拟机中启用多功能功能并且不使用PCI桥时，这为每条总线提供理论上最多256个PCI功能。
					</p><p class="simpara">每个PCI桥都添加了一个新总线，可能会启用另外256个设备地址。但是，有些总线不能为用户提供所有256个设备地址;例如，根总线有几个占用插槽的内置设备。
					</p></li><li class="listitem"><p class="simpara">
						<span class="strong"><strong>虚拟化IDE设备</strong></span>
					</p><p class="simpara">KVM每个虚拟机最多只能有<span class="strong"><strong>4个</strong></span>虚拟化IDE设备。
					</p></li></ul></div></div></div></body></html>