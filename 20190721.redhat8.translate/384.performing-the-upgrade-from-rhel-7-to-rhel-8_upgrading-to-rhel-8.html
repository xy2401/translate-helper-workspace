<html  xmlns="http://www.w3.org/1999/xhtml"><head><title>Chapter 9. 执行从RHEL 7到RHEL 8的升级</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"><meta name="generator" content="DocBook XSL-NS Stylesheets V1.78.1"></head><body ><div class="chapter"><div class="titlepage"><div><div><h1 class="title">Chapter 9. 执行从RHEL 7到RHEL 8的升级</h1></div></div></div><p>此过程描述如何使用<span class="strong"><strong><span class="application">Leapp</span></strong></span>实用程序升级到RHEL 8。
		</p><h2><a id="prerequisites_2"></a>先决条件</h2><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><a class="xref" href="preparing-a-rhel-7-system-for-the-upgrade_upgrading-to-rhel-8.html" title="Chapter 9. 准备RHEL 7系统以进行升级">第2章， <em>为升级准备RHEL 7系统中</em></a>列出的步骤已完成，包括完整系统备份。
				</li></ul></div><h2><a id="procedure_2"></a>程序</h2><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p class="simpara">在RHEL 7系统上，启动升级过程：</p><pre class="screen"># leapp upgrade</pre><p class="simpara">在此阶段， <span class="strong"><strong><span class="application">Leapp</span></strong></span>实用程序收集有关系统的数据，检查可升级性，并在<code class="literal">/var/log/leapp/leapp-report.txt</code>文件中生成升级前报告。
				</p><p class="simpara">如果系统是可升级的， <span class="strong"><strong><span class="application">Leapp会</span></strong></span>下载必要的数据并准备RPM事务以进行升级。
				</p><p class="simpara">如果您的系统不满足可靠升级的参数， <span class="strong"><strong><span class="application">Leapp将</span></strong></span>终止升级过程，并在<code class="literal">/var/log/leapp/leapp-report.txt</code>文件中提供描述问题的记录和建议的解决方案。有关更多信息，请参阅<a class="xref" href="troubleshooting_upgrading-to-rhel-8.html" title="Chapter 9. 故障排除">第5章， <em>故障排除</em></a> 。
				</p></li><li class="listitem"><p class="simpara">手动重启系统：</p><pre class="screen"># reboot</pre><p class="simpara">在此阶段，系统将引导至基于RHEL 8的初始RAM磁盘映像initramfs。<span class="strong"><strong><span class="application">Leapp</span></strong></span>升级所有软件包并自动重新启动到RHEL 8系统。
				</p><p class="simpara">如果发生故障，请按照<a class="xref" href="troubleshooting_upgrading-to-rhel-8.html" title="Chapter 9. 故障排除">第5章“ <em>故障排除”中的说明</em></a>调查日志。
				</p></li><li class="listitem"><p class="simpara">执行以下升级后任务：</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem">登录RHEL 8系统。
						</li><li class="listitem"><p class="simpara">将SELinux模式更改为强制执行：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">在从许可模式切换之前，确保没有SELinux拒绝，例如，使用<span class="strong"><strong><span class="application">ausearch</span></strong></span>实用程序。有关详细信息<a class="xref" href="troubleshooting_upgrading-to-rhel-8.html" title="Chapter 5. Troubleshooting">，</a>请参见<a class="xref" href="troubleshooting_upgrading-to-rhel-8.html" title="Chapter 9. 故障排除">第5章， <em>故障排除</em></a>
								</li><li class="listitem"><p class="simpara">在强制模式下启用SELinux：</p><pre class="screen"># setenforce 1</pre></li></ul></div></li><li class="listitem"><p class="simpara">启用防火墙：</p><pre class="screen"># systemctl start firewalld
# systemctl enable firewalld</pre><p class="simpara">有关更多信息，请参阅<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/securing_networks/using-and-configuring-firewalls_securing-networks">使用和配置防火墙</a> 。
						</p></li><li class="listitem"><p class="simpara">取消设置RHEL 7.6版本，以便能够正确使用RHEL 8的<code class="literal">yum</code>更新：</p><pre class="screen"># subscription-manager release --unset</pre></li><li class="listitem">按照<a class="xref" href="verifying-the-post-upgrade-state-of-the-rhel-8-system_upgrading-to-rhel-8.html" title="Chapter 9. 验证RHEL 8系统的升级后状态">第4章“ <em>验证RHEL 8系统的升级后状态”中所述验证系统状态</em></a> 。
						</li></ol></div></li></ol></div></div></body></html>