<html  xmlns="http://www.w3.org/1999/xhtml"><head><title>Chapter 9. 新功能</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"><meta name="generator" content="DocBook XSL-NS Stylesheets V1.78.1"></head><body ><div class="chapter"><div class="titlepage"><div><div><h1 class="title">Chapter 9. 新功能</h1></div></div></div><p>本部分介绍了Red Hat Enterprise Linux 8中引入的新功能和主要增强功能。
		</p><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="web-console"></a> Web控制台</h1></div></div></div><div class="note" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">注意</h3><p>Web控制台的Subscriptions页面现在由新的<code class="literal">subscription-manager-cockpit</code>包提供。
				</p></div><p><a id="BZ-1647110"></a></p><div class="title"><strong>防火墙界面已添加到Web控制台</strong></div><p>RHEL 8 Web控制台中的“ <span class="strong"><strong>网络”</strong></span>页面现在包含“ <span class="strong"><strong>防火墙”</strong></span>部分。在本节中，用户可以启用或禁用防火墙，以及添加，删除和修改防火墙规则。
				</p><p>（BZ＃1647110）</p><p><a id="JIRA-RHELPLAN-10355"></a></p><div class="title"><strong>Web控制台现在默认可用</strong></div><p>RHEL 8 Web控制台的软件包（也称为Cockpit）现在是Red Hat Enterprise Linux默认存储库的一部分，因此可以立即安装在已注册的RHEL 8系统上。
				</p><p>此外，在RHEL 8的非最小安装中，将自动安装Web控制台，并且控制台所需的防火墙端口将自动打开。登录前还添加了一条系统消息，提供有关如何启用或访问Web控制台的信息。
			</p><p>（JIRA：RHELPLAN-10355）</p><p><a id="JIRA-RHELPLAN-3010"></a></p><div class="title"><strong>Web控制台的更好的IdM集成</strong></div><p>如果您的系统已注册到Identity Management（IdM）域，则RHEL 8 Web控制台现在默认使用域的集中管理的IdM资源。这包括以下好处：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">IdM域的管理员可以使用Web控制台来管理本地计算机。
					</li><li class="listitem">控制台的Web服务器自动切换到由IdM证书颁发机构（CA）颁发并由浏览器接受的证书。
					</li><li class="listitem">在IdM域中具有Kerberos票证的用户无需提供登录凭据即可访问Web控制台。
					</li><li class="listitem">无需手动添加SSH连接即可访问Web控制台可访问IdM域已知的SSH主机。
					</li></ul></div><p>请注意，要使IdM与Web控制台集成以正常工作，用户首先需要在IdM主系统中使用<code class="literal">enable-admins-sudo</code>选项运行<code class="literal">ipa-advise</code>实用程序。
			</p><p>（JIRA：RHELPLAN-3010）</p><p><a id="JIRA-RHELPLAN-10352"></a></p><div class="title"><strong>Web控制台现在与移动浏览器兼容</strong></div><p>通过此更新，可以在移动浏览器变体上导航Web控制台菜单和页面。这使得可以从移动设备使用RHEL 8 Web控制台管理系统。
				</p><p>（JIRA：RHELPLAN-10352）</p><p><a id="JIRA-RHELPLAN-10353"></a></p><div class="title"><strong>Web控制台首页现在显示缺少的更新和订阅</strong></div><p>如果RHEL 8 Web控制台管理的系统已过期软件包或已过期的订阅，则系统的Web控制台首页上将显示警告。
				</p><p>（JIRA：RHELPLAN-10353）</p><p><a id="JIRA-RHELPLAN-10354"></a></p><div class="title"><strong>Web控制台现在支持PBD注册</strong></div><p>通过此更新，您可以使用RHEL 8 Web控制台界面将基于策略的解密（PBD）规则应用于受管系统上的磁盘。这使用Clevis解密客户端来促进Web控制台中的各种安全管理功能，例如自动解锁LUKS加密的磁盘分区。
				</p><p>（JIRA：RHELPLAN-10354）</p><p><a id="JIRA-RHELPLAN-2896"></a></p><div class="title"><strong>现在可以使用Web控制台管理虚拟机</strong></div><p>现在可以将“ <code class="literal">Virtual Machines</code>页面添加到RHEL 8 Web控制台界面，该界面使用户可以创建和管理基于libvirt的虚拟机。
				</p><p>（JIRA：RHELPLAN-2896）</p></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="installation-composer"></a>安装程序和映像创建</h1></div></div></div><p><a id="BZ-1500792"></a></p><div class="title"><strong>现在，IBM Z完全支持使用<span class="strong"><strong>SE</strong></span>和<span class="strong"><strong>HMC</strong></span>从DVD安装RHEL</strong></div><p>现在，完全支持使用<span class="strong"><strong>支持元素（SE）</strong></span>和<span class="strong"><strong>硬件管理控制台（HMC）</strong></span>从DVD在IBM Z硬件上安装Red Hat Enterprise Linux 8。此添加简化了带有<span class="strong"><strong>SE</strong></span>和<span class="strong"><strong>HMC的</strong></span> IBM Z上的安装过程。</p><p>从二进制DVD启动时，安装程序会提示用户输入其他内核参数。要将DVD设置为安装源，请将<code class="literal">inst.repo=hmc</code>附加到内核参数。然后，安装程序启用<span class="strong"><strong>SE</strong></span>和<span class="strong"><strong>HMC</strong></span>文件访问，从DVD获取stage2的映像，并提供对DVD上的软件包的访问以供软件选择。
			</p><p>新功能消除了外部网络设置的要求，并扩展了安装选项。
			</p><p>（BZ＃1500792）</p><p><a id="BZ-1547908"></a></p><div class="title"><strong>安装程序现在支持LUKS2磁盘加密格式</strong></div><p>红帽企业版Linux 8安装程序现在使用默认的LUKS2格式，但您可以选择从<span class="strong"><strong>蟒蛇的</strong></span>自定义分区窗口或使用在Kickstart的新选项陆氏版本<code class="literal">autopart</code> ， <code class="literal">logvol</code> ， <code class="literal">part</code>和<code class="literal">RAID</code>命令。
				</p><p>LUKS2提供了许多改进和功能，例如，它扩展了磁盘格式的功能，并提供了存储元数据的灵活方式。
			</p><p>（BZ＃1547908）</p><p><a id="BZ-1612060"></a></p><div class="title"><strong><span class="strong"><strong>Anaconda</strong></span>支持RHEL 8中的系统目的</strong></div><p>以前， <span class="strong"><strong>Anaconda</strong></span>没有向<span class="strong"><strong>Subscription Manager</strong></span>提供系统用途信息。在Red Hat Enterprise Linux 8.0中，您可以使用<span class="strong"><strong>Anaconda的</strong></span> <code class="literal">System Purpose</code>窗口或Kickstart的<code class="literal">syspurpose</code>命令在安装期间设置系统的预期用途。安装完成后， <span class="strong"><strong>Subscription Manager会</strong></span>在订阅系统时使用系统用途信息。
				</p><p>（BZ＃1612060）</p><p><a id="BZ-1612061"></a></p><div class="title"><strong><code class="literal">Pykickstart</code>支持RHEL 8中的系统目的</strong></div><p>以前， <code class="literal">pykickstart</code>库无法向<span class="strong"><strong>Subscription Manager</strong></span>提供系统用途信息。在Red Hat Enterprise Linux 8.0中， <code class="literal">pykickstart</code>解析新的<code class="literal">syspurpose</code>命令，并在自动和部分自动安装期间记录系统的预期用途。然后将信息传递给<span class="strong"><strong>Anaconda</strong></span> ，保存在新安装的系统上，订阅系统时可用于<span class="strong"><strong>Subscription Manager</strong></span> 。
				</p><p>（BZ＃1612061）</p><p><a id="BZ-1595415"></a></p><div class="title"><strong><span class="strong"><strong>Anaconda</strong></span>在RHEL 8中支持新的内核引导参数</strong></div><p>以前，您只能从内核引导参数指定基本存储库。在Red Hat Enterprise Linux 8中，新的内核参数<code class="literal">inst.addrepo=&lt;name&gt;,&lt;url&gt;</code>允许您在安装期间指定其他存储库。
				</p><p>此参数有两个必需值：存储库的名称和指向存储库的URL。有关更多信息，请参阅<a class="link" href="https://anaconda-installer.readthedocs.io/en/latest/boot-options.html#inst-addrepo">https://anaconda-installer.readthedocs.io/en/latest/boot-options.html#inst-addrepo</a>
			</p><p>（BZ＃1595415）</p><p><a id="BZ-1610806"></a></p><div class="title"><strong><span class="strong"><strong>Anaconda</strong></span>支持RHEL 8中的统一ISO</strong></div><p>在Red Hat Enterprise Linux 8.0中，统一的ISO会自动加载BaseOS和AppStream安装源存储库。
				</p><p>此功能适用于安装期间加载的第一个基本存储库。例如，如果在未配置存储库的情况下引导安装，并且在GUI中具有统一的ISO作为基本存储库，或者使用指向统一ISO的<code class="literal">inst.repo=</code>选项引导安装。因此，AppStream存储<span class="strong"><strong>库</strong></span>在<span class="strong"><strong>Installation Source</strong></span> GUI窗口的<span class="strong"><strong>Additional Repositories</strong></span>部分下启用。您无法删除AppStream存储库或更改其设置，但您可以在<span class="strong"><strong>安装源中</strong></span>禁用它。如果使用其他基本存储库引导安装，然后将其更改为统一ISO，则此功能不起作用。如果这样做，则替换基本存储库。但是，AppStream存储库未替换并指向原始文件。
			</p><p>（BZ＃1610806）</p><p><a id="JIRA-RHELPLAN-1943"></a></p><div class="title"><strong>Anaconda可以在Kickstart脚本中安装模块化软件包</strong></div><p>Anaconda安装程序已扩展为处理与应用程序流相关的所有功能：模块，流和配置文件。Kickstart脚本现在可以启用模块和流组合，安装模块配置文件以及安装模块化程序包。有关更多信息，请参阅<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/performing_an_advanced_rhel_installation/">执行高级RHEL安装</a> 。
				</p><p>（JIRA：RHELPLAN-1943）</p><p><a id="BZ-1677411"></a></p><div class="title"><strong>现在，RHEL 8安装选项中提供了<code class="literal">nosmt</code>引导选项</strong></div><p><code class="literal">nosmt</code>引导选项在传递给新安装的RHEL 8系统的安装选项中可用。
				</p><p>（BZ＃1677411）</p><p><a id="BZ-1502323"></a></p><div class="title"><strong>RHEL 8支持从本地硬盘驱动器上的存储库进行安装</strong></div><p>以前，从硬盘驱动器安装RHEL需要ISO映像作为安装源。但是，对于某些文件系统，RHEL 8 ISO映像可能太大;例如，FAT32文件系统无法存储大于4 GiB的文件。</p><p>在RHEL 8中，您可以从本地硬盘驱动器上的存储库启用安装。您只需指定目录而不是ISO映像。例如：`inst.repo = hd：&lt;device&gt;：&lt;存储库的路径&gt;`</p><p>（BZ＃1502323）</p><p><a id="JIRA-RHELPLAN-7291"></a></p><div class="title"><strong>使用Image Builder自定义系统映像可在RHEL 8中使用</strong></div><p>Image Builder工具使用户能够创建自定义的RHEL图像。Image Builder可以在<span class="strong"><strong><span class="package">lorax-composer</span></strong></span>包中的AppStream中使用。
				</p><p>使用Image Builder，用户可以创建包含其他包的自定义系统映像。可以通过以下方式访问Image Builder功能：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">Web控制台中的图形用户界面</li><li class="listitem"><code class="literal">composer-cli</code>工具中的命令行界面。
					</li></ul></div><p>Image Builder输出格式包括：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">现场ISO磁盘映像</li><li class="listitem">qcow2文件，可直接用于虚拟机或OpenStack</li><li class="listitem">文件系统映像文件</li><li class="listitem">Azure，VMWare和AWS的云图像</li></ul></div><p>要了解有关Image Builder的更多信息，请参阅文档标题<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/composing_a_customized_rhel_system_image/">撰写自定义RHEL系统映像</a> 。
			</p><p>（JIRA：RHELPLAN-7291，BZ＃1628645，BZ＃1628646，BZ＃1628647，BZ＃1628648）</p></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="kernel"></a>核心</h1></div></div></div><p><a id="BZ-1643522"></a></p><div class="title"><strong>ARM 52位物理寻址现已推出</strong></div><p>通过此更新，可以支持64位ARM体系结构的52位物理寻址（PA）。这提供了比以前的48位PA更大的地址空间。</p><p>（BZ＃1643522）</p><p><a id="BZ-1485546"></a></p><div class="title"><strong>IOMMU代码支持RHEL 8中的5级页表</strong></div><p>Linux内核中的I / O内存管理单元（IOMMU）代码已更新，以支持Red Hat Enterprise Linux 8中的5级页表。
				</p><p>（BZ＃1485546）</p><p><a id="BZ-1485532"></a></p><div class="title"><strong>支持5级分页</strong></div><p>新的<code class="literal">P4d_t</code>软件页表类型已添加到Linux内核中，以支持Red Hat Enterprise Linux 8中的5级分页。
				</p><p>（BZ＃1485532）</p><p><a id="BZ-1485525"></a></p><div class="title"><strong>内存管理支持5级页表</strong></div><p>在Red Hat Enterprise Linux 7中，现有内存总线具有48/46位的虚拟/物理内存寻址能力，而Linux内核实现了4级页表来管理这些虚拟地址到物理地址。物理总线寻址线将物理内存上限容量设置为64 TB。</p><p>这些限制已扩展到57/52位虚拟/物理内存寻址，具有128 PiB的虚拟地址空间和4 PB的物理内存容量。
			</p><p>通过扩展的地址范围，Red Hat Enterprise Linux 8中的内存管理增加了对5级页表实现的支持，以便能够处理扩展的地址范围。
			</p><p>（BZ＃1485525）</p><p><a id="BZ-1638465"></a></p><div class="title"><strong><code class="literal">kernel-signing-ca.cer</code>被移植到RHEL 8中的<code class="literal">kernel-core</code></strong></div><p>在所有版本的Red Hat Enterprise Linux 7中， <code class="literal">kernel-signing-ca.cer</code>公钥都位于<code class="literal">kernel-doc</code>包中。但是，在Red Hat Enterprise Linux 8中， <code class="literal">kernel-signing-ca.cer</code>已经重新定位到每个架构的<code class="literal">kernel-core</code>软件包。
				</p><p>（BZ＃1638465）</p><p><a id="BZ-1651806"></a></p><div class="title"><strong>Spectre V2缓解默认值从IBRS更改为Retpolines</strong></div><p>对于具有第六代英特尔酷睿处理器及其近似衍生产品[1]的系统，Specter V2漏洞（CVE-2017-5715）的默认缓解已从间接分支限制性推测（IBRS）更改为红帽企业版Linux 8中的Retpolines。由于英特尔建议与Linux社区中使用的默认值保持一致并恢复性能损失，Red Hat已实施此更改。但请注意，在某些情况下使用Retpolines可能无法完全缓解Spectre V2。英特尔的Retpoline文档[2]描述了任何暴露案例。该文件还指出攻击的风险很低。
				</p><p>对于需要完成Specter V2缓解的用例，用户可以通过添加<code class="literal">spectre_v2=ibrs</code>标志，通过内核引导线选择IBRS。
			</p><p>如果一个或多个内核模块未使用Retpoline支持构建，则<code class="literal">/sys/devices/system/cpu/vulnerabilities/spectre_v2</code>文件将指示漏洞，而<code class="literal">/var/log/messages</code>文件将识别有问题的模块。请参阅链接：https：//access.redhat.com/solutions/3399691 [如何确定哪些模块负责spectre_v2返回“易受攻击的：具有不安全模块的Retpoline”？]了解更多信息。
			</p><p>[1]“第六代英特尔酷睿处理器及其近似衍生产品”是英特尔的Retpolines文件所称的“Skylake-generation”。
			</p><p>[2]链接：https：//software.intel.com/security-software-guidance/api-app/sites/default/files/Retpoline-A-Branch-Target-Injection-Mitigation.pdf [Retpoline：分支目标注射缓解 - 白皮书]</p><p>（BZ＃1651806）</p><p><a id="BZ-1683712"></a></p><div class="title"><strong>英特尔®Omni-Path架构（OPA）主机软件</strong></div><p>Red Hat Enterprise Linux 8完全支持Intel Omni-Path Architecture（OPA）主机软件。
				</p><p>英特尔OPA为主机结构接口（HFI）硬件提供初始化和设置，以便在群集环境中的计算和I / O节点之间进行高性能数据传输（高带宽，高消息速率，低延迟）。
			</p><p>有关安装Intel Omni-Path Architecture文档的说明，请参阅： <a class="link" href="https://www.intel.com/content/dam/support/us/en/documents/network-and-i-o/fabric-products/Intel_OP_Software_RHEL_8_RN_K51383.pdf">https</a> ： <a class="link" href="https://www.intel.com/content/dam/support/us/en/documents/network-and-i-o/fabric-products/Intel_OP_Software_RHEL_8_RN_K51383.pdf">//www.intel.com/content/dam/support/us/en/documents/network-and-io/fabric-products/Intel_OP_Software_RHEL_8_RN_K51383.pdf</a>
			</p><p>（ <a class="link" href="https://bugzilla.redhat.com/show_bug.cgi?id=1683712">BZ＃1683712</a> ）</p><p><a id="BZ-1550498"></a></p><div class="title"><strong>NUMA在RHEL 8中支持更多节点</strong></div><p>通过此更新，红帽企业版Linux 8中的非统一内存访问（NUMA）节点数已从4个NUMA节点增加到8个NUMA节点。
				</p><p>（BZ＃1550498）</p><p><a id="BZ-1658391"></a></p><div class="title"><strong>现在，在RHEL 8中默认启用IOMMU直通</strong></div><p>默认情况下已启用输入/输出内存管理单元（IOMMU）直通。这为AMD系统提供了改进的性能，因为主机禁用了直接内存访问（DMA）重映射。此更新带来了与默认情况下也禁用DMA重映射的Intel系统的一致性。用户可以通过在内核命令行（包括管理程序）上指定<code class="literal">iommu.passthrough=off</code>或<code class="literal">iommu=nopt</code>参数来禁用此类行为（并启用DMA重映射）。
				</p><p>（BZ＃1658391）</p><p><a id="BZ-1623590"></a></p><div class="title"><strong>RHEL8内核现在支持5级页表</strong></div><p>红帽企业Linux内核现在完全支持具有多达5级页表的未来英特尔处理器。这使处理器能够支持高达4PB的物理内存和128PB的虚拟地址空间。利用大量内存的应用程序现在可以使用系统提供的尽可能多的内存，而不受4级页表的限制。
				</p><p>（BZ＃1623590）</p><p><a id="BZ-1614144"></a></p><div class="title"><strong>RHEL8内核支持针对未来Intel CPU的增强型IBRS</strong></div><p>红帽企业Linux内核现在支持使用增强的间接分支限制猜测（IBRS）功能来缓解Specter V2漏洞。启用后，IBRS将比Retpolines（默认）更好地缓解Specter V2，并且不会干扰Intel Control-flow Enforcement技术。因此，在未来的英特尔CPU上，启用Spectre V2缓解的性能损失会更小。
				</p><p>（BZ＃1614144）</p><p><a id="BZ-1559607"></a></p><div class="title"><strong><code class="literal">bpftool</code>用于检查和操作基于eBPF的程序和地图</strong></div><p><code class="literal">bpftool</code>实用程序已添加到Linux内核中，该实用程序用于检查和简单操作基于扩展Berkeley数据包过滤（eBPF）的程序和映射。 <code class="literal">bpftool</code>是内核源代码树的一部分，由<span class="strong"><strong>bpftool</strong></span>包提供，该包作为<span class="strong"><strong>内核</strong></span>包的子包包含在内。
				</p><p>（BZ＃1559607）</p><p><a id="BZ-1592977"></a></p><div class="title"><strong><code class="literal">kernel-rt</code>源已更新</strong></div><p><code class="literal">kernel-rt</code>源已更新为使用最新的RHEL内核源代码树。最新的内核源代码树现在使用上游v4.18实时补丁集，它提供了许多错误修复和增强功能。
				</p><p>（BZ＃1592977）</p></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="software-management"></a>软件管理</h1></div></div></div><p><a id="BZ-1581198"></a></p><div class="title"><strong><span class="strong"><strong>YUM</strong></span>性能改进和对模块化内容的支持</strong></div><p>在Red Hat Enterprise Linux 8上，新版<span class="strong"><strong>YUM</strong></span>工具确保安装软件，该工具基于<span class="strong"><strong>DNF</strong></span>技术（ <span class="strong"><strong>YUM v4</strong></span> ）。
				</p><p>
				与以前在RHEL 7上使用的<span class="strong"><strong>YUM v3</strong></span>相比， <span class="strong"><strong>YUM v4</strong></span>具有以下优势：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">提高性能</li><li class="listitem">支持模块化内容</li><li class="listitem">精心设计的稳定API，可与工具集成</li></ul></div><p>有关新<span class="strong"><strong>YUM v4</strong></span>工具与RHEL 7以前版本<span class="strong"><strong>YUM v3</strong></span>之间差异的详细信息，请参阅<a class="link" href="http://dnf.readthedocs.io/en/latest/cli_vs_yum.html">DNF CLI与YUM相比的更改</a> 。</p><p>
				从命令行使用，编辑或创建配置文件时， <span class="strong"><strong>YUM v4</strong></span>与<span class="strong"><strong>YUM v3</strong></span>兼容。
			</p><p>对于安装软件，您可以使用与RHEL 7相同的方式使用<code class="literal">yum</code>命令及其特定选项。
			</p><p>选定的yum插件和实用程序已移植到新的DNF后端，并且可以使用与RHEL 7中相同的名称进行安装。它们还提供兼容性符号链接，因此可以在通常的位置找到二进制文件，配置文件和目录。
			</p><p>请注意， <span class="strong"><strong>YUM v3</strong></span>提供的旧版Python API不再可用。建议用户将其插件和脚本迁移到<span class="strong"><strong>YUM v4</strong></span> （DNF Python API）提供的新API，该API是稳定且完全支持的。DNF Python API可在<a class="link" href="https://dnf.readthedocs.io/en/latest/api.html">DNF API Reference中找到</a> 。
			</p><p>Libdnf和Hawkey API（包括C和Python）都不稳定，并且可能会在Red Hat Enterprise Linux 8生命周期中发生变化。
			</p><p>有关<span class="strong"><strong>YUM</strong></span>包和工具可用性更改的更多详细信息，请参阅<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/considerations_in_adopting_rhel_8/#changes-to-packages_considerations-in-adopting-RHEL-8">采用RHEL 8时的注意事项</a> 。
			</p><p>一些<span class="strong"><strong>YUM V3</strong></span>功能可以表现不同的<span class="strong"><strong>YUM V4。</strong></span>如果任何此类更改对您的工作流程产生负面影响，请打开Red Hat支持案例，如<a class="link" href="https://access.redhat.com/articles/38363">如何在客户门户上打开和管理支持案例中所述？</a>
			</p><p>（BZ＃1581198）</p><p><a id="BZ-1581990"></a></p><div class="title"><strong>RHEL 8中值得注意的RPM功能</strong></div><p>Red Hat Enterprise Linux 8随RPM 4.14一起发布。此版本引入了许多针对RPM 4.11的增强功能，可在RHEL 7中使用。最显着的功能包括：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><code class="literal">debuginfo</code>包可以并行安装</li><li class="listitem">支持弱依赖</li><li class="listitem">支持rich或boolean依赖项</li><li class="listitem">支持打包大小超过4 GB的文件</li><li class="listitem">支持文件触发器</li></ul></div><p>此外，最显着的变化包括：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">更严格的spec-parser</li><li class="listitem">简化签名检查非详细模式下的输出</li><li class="listitem">宏中的添加和弃用</li></ul></div><p>（BZ＃1581990）</p><p><a id="JIRA-RHELPLAN-10596"></a></p><div class="title"><strong><span class="strong"><strong>RPM</strong></span>现在在开始安装之前验证整个包的内容</strong></div><p>在Red Hat Enterprise Linux 7上， <span class="strong"><strong>RPM</strong></span>实用程序在解包时验证了各个文件的有效内容。但是，由于多种原因，这是不够的：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">如果有效负载损坏，则仅在执行不可逆转的脚本操作后才会注意到。
					</li><li class="listitem">如果有效负载损坏，则在更换先前版本的某些文件后，程序包的升级将中止，从而中断正在运行的安装。
					</li><li class="listitem">单个文件的哈希值是在未压缩的数据上执行的，这使得<span class="strong"><strong>RPM</strong></span>容易受到解压缩程序漏洞的攻击。
					</li></ul></div><p>在Red Hat Enterprise Linux 8上，整个软件包在安装之前在单独的步骤中使用最佳可用散列进行验证。
			</p><p>在Red Hat Enterprise Linux 8上构建的软件包在压缩的有效负载上使用新的<code class="literal">SHA-256</code>哈希。在签名包上，有效负载散列还受签名保护，因此在不破坏包头上的签名和其他散列的情况下不能更改。较旧的包使用标头和有效负载的<code class="literal">MD5</code>哈希，除非它被配置禁用。
			</p><p><code class="literal">%_pkgverify_level</code>宏可用于在安装之前另外启用强制签名验证或完全禁用有效负载验证。此外， <code class="literal">%_pkgverify_flags</code>宏可用于限制允许哪些哈希值和签名。例如，可以以与旧软件包的兼容性为代价禁用弱<code class="literal">MD5</code>哈希的使用。
			</p><p>（JIRA：RHELPLAN-10596）</p></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="infrastructure_services"></a>基建服务</h1></div></div></div><p><a id="BZ-1565598"></a></p><div class="title"><strong>RHEL 8中推荐的Tuned配置文件的显着变化</strong></div><p>通过此更新，现在可以根据以下规则选择推荐的Tuned配置文件（由<code class="literal">tuned-adm recommend</code>命令报告） - 匹配的第一个规则生效：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">如果<code class="literal">syspurpose</code>角色（由<code class="literal">syspurpose show</code>命令报告）包含<code class="literal">atomic</code> ，同时：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">如果Tuned在裸机上运行，则选择<code class="literal">atomic-host</code>配置文件</li><li class="listitem">如果Tuned正在虚拟机中运行，则会选择<code class="literal">atomic-guest</code>配置文件</li></ul></div></li><li class="listitem">如果Tuned正在虚拟机中运行，则会选择<code class="literal">virtual-guest</code>配置文件</li><li class="listitem">如果<code class="literal">syspurpose</code>角色包含<code class="literal">desktop</code>或<code class="literal">workstation</code> ，并且机箱类型（由<code class="literal">dmidecode</code>报告）是<code class="literal">Notebook</code> ， <code class="literal">Laptop</code>或<code class="literal">Portable</code> ，则选择<code class="literal">balanced</code>配置文件</li><li class="listitem">如果上述规则均不匹配，则选择<code class="literal">throughput-performance</code>配置文件</li></ul></div><p>（BZ＃1565598）</p><p><a id="BZ-1588592"></a></p><div class="title"><strong>由<span class="strong"><strong>named</strong></span>生成的文件可以写在工作目录中</strong></div><p>以前， <span class="strong"><strong>named</strong></span>守护进程将一些数据存储在工作目录中，该目录在Red Hat Enterprise Linux中是只读的。通过此更新，已将选定文件的路径更改为子目录，允许写入。现在，默认目录Unix和SELinux权限允许写入目录。在目录中分发的文件仍然是只读的<span class="strong"><strong>命名</strong></span> 。
				</p><p>（BZ＃1588592）</p><p><a id="JIRA-RHELPLAN-6746"></a></p><div class="title"><strong>Geolite数据库已被Geolite2数据库取代</strong></div><p>Red Hat Enterprise Linux 7中存在的Geolite数据库被Red Hat Enterprise Linux 8上的Geolite2数据库取代。
				</p><p>Geolite数据库由<code class="literal">GeoIP</code>软件包提供。上游不再支持此包与旧数据库一起使用。
			</p><p>Geolite2数据库由多个包提供。<code class="literal">libmaxminddb</code>包中包含库和<code class="literal">mmdblookup</code>命令行工具，可以手动搜索地址。传统<code class="literal">GeoIP</code>包中的<code class="literal">geoipupdate</code>二进制文件现在由<code class="literal">geoipupdate</code>包提供，并且能够下载旧数据库和新的Geolite2数据库。
			</p><p>（JIRA：RHELPLAN-6746）</p><p><a id="JIRA-RHELPLAN-12764"></a></p><div class="title"><strong>CUPS日志由journald处理</strong></div><p>在RHEL 8中，CUPS日志不再存储在RHEL 7中使用的<code class="literal">/var/log/cups</code>目录中的特定文件中。在RHEL 8中，所有类型的CUPS日志都集中记录在systemd <code class="literal">journald</code>守护程序中，以及来自其他程序的日志。要访问CUPS日志，请使用<code class="literal">journalctl -u cups</code>命令。有关更多信息，请参阅<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/deploying_different_types_of_servers/#types-of-cups-logs_working-with-cups-logs">使用CUPS日志</a> 。
				</p><p>（JIRA：RHELPLAN-12764）</p><p><a id="JIRA-RHELPLAN-1820"></a></p><div class="title"><strong>RHEL 8中值得注意的BIND功能</strong></div><p>RHEL 8包含版本9.11中的BIND（Berkeley Internet Name Domain）。与版本9.10相比，此版本的DNS服务器引入了多个新功能和功能更改。
				</p><p>新功能：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">添加了一种配置名为<span class="strong"><strong>Catalog Zones的</strong></span>辅助服务器的新方法。
					</li><li class="listitem">域名系统Cookie现在由<code class="literal">named</code>服务和<code class="literal">dig</code>实用程序发送。
					</li><li class="listitem"><span class="strong"><strong>响应速率限制</strong></span>功能现在可以帮助缓解DNS放大攻击。
					</li><li class="listitem">响应策略区（RPZ）的性能得到了改进。
					</li><li class="listitem">添加了一个名为<code class="literal">map</code>新区域文件格式。以此格式存储的区域数据可以直接映射到内存中，这样可以显着加快区域的加载速度。
					</li><li class="listitem">添加了一个名为<code class="literal">delv</code> （域实体查找和验证）的新工具，具有类似于挖掘的语义，用于查找DNS数据和执行内部DNS安全扩展（DNSSEC）验证。
					</li><li class="listitem">现在可以使用新的<code class="literal">mdig</code>命令。此命令是`dig`命令的一个版本，它发送多个流水线查询然后等待响应，而不是在发送下一个查询之前发送一个查询并等待响应。
					</li><li class="listitem">添加了一个新的<code class="literal">prefetch</code>选项，它可以提高递归解析器的性能。
					</li><li class="listitem">添加了一个新<code class="literal">in-view</code>区域选项，允许在视图之间共享区域数据。使用此选项时，多个视图可以权威地为相同区域提供服务，而无需在内存中存储多个副本。
					</li><li class="listitem">添加了一个新的<code class="literal">max-zone-ttl</code>选项，它强制执行区域的最大TTL。加载包含较高TTL的区域时，加载失败。接受具有更高TTL的动态DNS（DDNS）更新但是TTL被截断。
					</li><li class="listitem">添加了新配额以限制递归解析程序向经历拒绝服务攻击的权威服务器发送的查询。
					</li><li class="listitem"><code class="literal">nslookup</code>实用程序现在默认查找IPv6和IPv4地址。
					</li><li class="listitem"><code class="literal">named</code>服务现在会在启动之前检查其他名称服务器进程是否正在运行。
					</li><li class="listitem">加载已签名区域时， <code class="literal">named</code> now会检查资源记录签名（RSIG）启动时间是否在将来，如果是，则立即重新生成RRSIG。
					</li><li class="listitem">区域传输现在使用较小的邮件大小来改进邮件压缩，从而减少网络使用。
					</li></ul></div><p>功能变化：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">HTTP接口提供统计信道的版本<code class="literal">3 XML</code>模式，包括新统计信息和用于更快解析的扁平XML树。不再支持旧版本<code class="literal">2 XML</code>架构。
					</li><li class="listitem">现在， <code class="literal">named</code>服务默认侦听IPv6和IPv4接口。
					</li><li class="listitem"><code class="literal">named</code>服务不再支持GeoIP。由查询发送方的假定位置定义的访问控制列表（ACL）不可用。
					</li></ul></div><p>（JIRA：RHELPLAN-1820）</p></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="shells_and_command_line_tools_2"></a>外壳和命令行工具</h1></div></div></div><p><a id="BZ-1591969"></a></p><div class="title"><strong><code class="literal">nobody</code>用户替换<code class="literal">nfsnobody</code></strong></div><p>在Red Hat Enterprise Linux 7中，有：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">ID为99的<code class="literal">nobody</code>用户和组对</li><li class="listitem"><code class="literal">nfsnobody</code>用户和组对，ID为65534，这也是默认的内核溢出ID。
					</li></ul></div><p>这两个都已合并到<code class="literal">nobody</code>用户和组对中，它使用Red Hat Enterprise Linux 8中的65534 ID。新安装不再创建<code class="literal">nfsnobody</code>对。
			</p><p>此更改减少了由<code class="literal">nobody</code>拥有但与NFS无关的文件的混淆。</p><p>（BZ＃1591969）</p><p><a id="BZ-1693775"></a></p><div class="title"><strong>RHEL 8中的版本控制系统</strong></div><p>RHEL 8提供以下版本控制系统：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
						<code class="literal">Git 2.18</code> ，一个分布式版本控制系统，具有分散式架构。
					</li><li class="listitem">
						<code class="literal">Mercurial 4.8</code> ，一种轻量级分布式版本控制系统，专为高效处理大型项目而设计。
					</li><li class="listitem">
						<code class="literal">Subversion 1.10</code> ，一个集中版本控制系统。
					</li></ul></div><p>请注意，RHEL 7中提供的并发版本系统（CVS）和版本控制系统（RCS）不随RHEL 8一起分发。
			</p><p>（BZ＃1693775）</p><p><a id="BZ-1571415"></a></p><div class="title"><strong><code class="literal">Subversion 1.10</code>显着变化</strong></div><p>
					<code class="literal">Subversion 1.10</code>引入了自RHEL 7中分发的1.7版本以来的许多新功能，以及以下兼容性更改：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">由于用于支持语言绑定的<code class="literal">Subversion</code>库不兼容，因此<code class="literal">Subversion 1.10</code> <code class="literal">Python 3</code>绑定不可用。因此，不支持需要<code class="literal">Python</code>绑定<code class="literal">Subversion</code>应用程序。
					</li><li class="listitem">不再支持基于<code class="literal">Berkeley DB</code>存储库。在迁移之前，使用<code class="literal">svnadmin dump</code>命令备份使用<code class="literal">Subversion 1.7</code>创建的存储库。安装RHEL 8后，使用<code class="literal">svnadmin load</code>命令还原存储库。
					</li><li class="listitem">在可以从<code class="literal">Subversion 1.10</code>使用之前，必须将RHEL 7中的<code class="literal">Subversion 1.7</code>客户端检出的现有工作副本升级到新格式。安装RHEL 8后，在每个工作副本中运行<code class="literal">svn upgrade</code>命令。
					</li><li class="listitem">不再支持使用<code class="literal">https://</code>访问存储库的智能卡身份验证。
					</li></ul></div><p>（BZ＃1571415）</p><p><a id="BZ-1684947"></a></p><div class="title"><strong><code class="literal">dstat</code>显着变化</strong></div><p>RHEL 8随新版本的<code class="literal">dstat</code>工具一起发布。该工具现在是Performance Co-Pilot（PCP）工具包的一部分。<code class="literal">/usr/bin/dstat</code>文件和<code class="literal">dstat</code>包名称现在由<code class="literal">pcp-system-tools</code>包提供。
				</p><p>新版本的<code class="literal">dstat</code>介绍了以下增强功能<code class="literal">dstat</code>在RHEL 7可供选择：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
						<code class="literal">python3</code>支持</li><li class="listitem">历史分析</li><li class="listitem">远程主机分析</li><li class="listitem">配置文件插件</li><li class="listitem">新的绩效指标</li></ul></div><p>（ <a class="link" href="https://bugzilla.redhat.com/show_bug.cgi?id=1684947">BZ＃1684947</a> ）</p></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="web-servers-databases-dynamic-languages"></a>动态编程语言，Web和数据库服务器</h1></div></div></div><p><a id="BZ-1580387"></a></p><div class="title"><strong><code class="literal">Python 3</code>是RHEL 8中的默认<code class="literal">Python</code>实现</strong></div><p>Red Hat Enterprise Linux 8随<code class="literal">Python 3.6</code> 。默认情况下可能未安装该程序包。要安装<code class="literal">Python 3.6</code> ，请使用<code class="literal">yum install python3</code>命令。
				</p><p>
				<code class="literal">Python 2.7</code>在<code class="literal">python2</code>包中提供。但是， <code class="literal">Python 2</code>生命周期较短，其目的是为客户提供更顺畅的<code class="literal">Python 3</code>过渡。
			</p><p>默认的<code class="literal">python</code>包和unversioned <code class="literal">/usr/bin/python</code>可执行文件都不随RHEL 8一起分发。建议客户直接使用<code class="literal">python3</code>或<code class="literal">python2</code> 。或者，管理员可以使用<code class="literal">alternatives</code>命令配置unversioned <code class="literal">python</code>命令。
			</p><p>有关详细信息，请参阅<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/configuring_basic_system_settings/#using-python3_configuring-basic-system-settings">在Red Hat Enterprise Linux 8中使用Python</a> 。
			</p><p>（BZ＃1580387）</p><p><a id="BZ-1583620"></a></p><div class="title"><strong>Python脚本必须在RPM构建时指定hashbang中的主要版本</strong></div><p>在RHEL 8中，可执行的Python脚本应该使用hashbangs（shebangs）至少明确指定主要的Python版本。
				</p><p>构建任何RPM包时，会自动运行<code class="literal">/usr/lib/rpm/redhat/brp-mangle-shebangs</code> buildroot策略（BRP）脚本。此脚本尝试更正所有可执行文件中的hashbang。当脚本遇到没有指定Python主要版本的模糊Python hashbang时，它会生成错误并且RPM构建失败。这种模棱两可的hashbang的例子包括：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
						<code class="literal">＃！在/ usr / bin中/蟒蛇</code>
					</li><li class="listitem">
						<code class="literal">＃！/ usr / bin / env python</code>
					</li></ul></div><p>要修改Python脚本中的hashbang，导致RPM构建时出现这些构建错误，请使用<span class="strong"><strong>platform-python-devel</strong></span>包中的<code class="literal">pathfix.py</code>脚本：</p><pre class="screen"><code class="literal">pathfix.py -pn -i %{__python3} <span class="emphasis"><em>PATH</em></span> ...</code></pre><p>可以指定多个<span class="emphasis"><em>PATH</em></span> 。如果<span class="emphasis"><em>PATH</em></span>是一个目录， <code class="literal">pathfix.py</code>递归扫描任何与模式<code class="literal">^[a-zA-Z0-9_]+\.py$</code> 。py <code class="literal">^[a-zA-Z0-9_]+\.py$</code>匹配的Python脚本，而不仅仅是那些带有模糊hashbang的Python脚本。将运行<code class="literal">pathfix.py</code>的命令添加到<code class="literal">%prep</code>部分或<code class="literal">%install</code>部分的末尾。
			</p><p>有关更多信息，请参阅<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/configuring_basic_system_settings/#python-shebang-mangling">在Python脚本中处理hashbangs</a> 。
			</p><p>（BZ＃1583620）</p><p><a id="BZ-1580430"></a></p><div class="title"><strong><code class="literal">PHP</code>显着变化</strong></div><p>Red Hat Enterprise Linux 8随<code class="literal">PHP 7.2</code> 。此版本引入了<code class="literal">PHP 5.4</code>的以下主要更改，可在RHEL 7中使用：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
						<code class="literal">PHP</code>默认使用FastCGI Process Manager（FPM）（安全使用带有线程的<code class="literal">httpd</code> ）</li><li class="listitem">不应该在<code class="literal">httpd</code>配置文件中使用<code class="literal">php_value</code>和<code class="literal">php-flag</code>变量;它们应该在池配置中设置： <code class="literal">/etc/php-fpm.d/*.conf</code>
					</li><li class="listitem">
						<code class="literal">PHP</code>脚本错误和警告记录到<code class="literal">/var/log/php-fpm/www-error.log</code>文件而不是<code class="literal">/var/log/httpd/error.log</code>
					</li><li class="listitem">更改PHP <code class="literal">max_execution_time</code>配置变量时，应增加<code class="literal">httpd</code> <code class="literal">ProxyTimeout</code>设置以匹配</li><li class="listitem">现在，在FPM池配置中配置运行<code class="literal">PHP</code>脚本的用户（ <code class="literal">/etc/php-fpm/d/www.conf</code>文件; <code class="literal">apache</code>用户是默认用户）</li><li class="listitem">在配置更改后或安装新扩展后，需要重新启动<code class="literal">php-fpm</code>服务</li><li class="listitem"><code class="literal">zip</code>扩展已从<code class="literal">php-common</code>软件包移到另一个软件包<code class="literal">php-pecl-zip</code>
					</li></ul></div><p>已删除以下扩展程序：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
						<code class="literal">中的aspell</code>
					</li><li class="listitem">
						<code class="literal">mysql</code> （注意<code class="literal">mysqli</code>和<code class="literal">pdo_mysql</code>扩展仍然可用，由<code class="literal">php-mysqlnd</code>包提供）</li><li class="listitem">
						<code class="literal">内存缓存</code>
					</li></ul></div><p>（BZ＃1580430， <a class="link" href="https://bugzilla.redhat.com/show_bug.cgi?id=1691688">BZ＃1691688</a> ）</p><p><a id="BZ-1648843"></a></p><div class="title"><strong><code class="literal">Ruby</code>显着变化</strong></div><p>RHEL 8提供了<code class="literal">Ruby 2.5</code> ，它引入了许多RHEL 7中提供的<code class="literal">Ruby 2.0.0</code>新功能和增强功能。值得注意的变化包括：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">增量垃圾收集器已添加。
					</li><li class="listitem">已添加“ <code class="literal">Refinements</code>语法。
					</li><li class="listitem">符号现在是垃圾收集。
					</li><li class="listitem"><code class="literal">$SAFE=2</code>和<code class="literal">$SAFE=3</code>安全级别现已过时。
					</li><li class="listitem"><code class="literal">Fixnum</code>和<code class="literal">Bignum</code>类已统一到<code class="literal">Integer</code>类中。
					</li><li class="listitem">通过优化<code class="literal">Hash</code>类，改进对实例变量的访问以及<code class="literal">Mutex</code>类更小更快，性能得到了提高。
					</li><li class="listitem">某些旧API已被弃用。
					</li><li class="listitem">捆绑的库，如<code class="literal">RubyGems</code> ， <code class="literal">Rake</code> ， <code class="literal">RDoc</code> ， <code class="literal">Psych</code> ， <code class="literal">Minitest</code>和<code class="literal">test-unit</code> ，已经更新。
					</li><li class="listitem">其他库，例如<code class="literal">mathn</code> ， <code class="literal">DL</code> ， <code class="literal">ext/tk</code>和<code class="literal">XMLRPC</code> ，以前随<code class="literal">Ruby</code>一起分发，已弃用或不再包含在内。
					</li><li class="listitem"><code class="literal">SemVer</code>版本控制方案现在用于<code class="literal">Ruby</code>版本控制。
					</li></ul></div><p>（BZ＃1648843）</p><p><a id="BZ-1511131"></a></p><div class="title"><strong><code class="literal">Perl</code>显着变化</strong></div><p>
					与RHEL 8一起分发的<code class="literal">Perl 5.26</code>对RHEL 7中提供的版本进行了以下更改：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
						现在支持<code class="literal">Unicode 9.0</code> 。
					</li><li class="listitem">提供了新的<code class="literal">op-entry</code> ， <code class="literal">loading-file</code>和<code class="literal">loaded-file</code> <code class="literal">SystemTap</code>探针。
					</li><li class="listitem">在分配标量以提高性能时使用写时复制机制。
					</li><li class="listitem">已添加用于透明处理IPv4和IPv6套接字的<code class="literal">IO::Socket::IP</code>模块。
					</li><li class="listitem">添加了以结构化方式访问<code class="literal">perl -V</code>数据的<code class="literal">Config::Perl::V</code>模块。
					</li><li class="listitem">添加了一个新的<code class="literal">perl-App-cpanminus</code>包，其中包含用于从Comprehensive Perl Archive Network（CPAN）存储库获取，提取，构建和安装模块的<code class="literal">cpanm</code>实用程序。
					</li><li class="listitem">当前目录<code class="literal">.</code>已出于安全原因从<code class="literal">@INC</code>模块搜索路径中删除。
					</li><li class="listitem">由于上述行为更改， <code class="literal">do</code>语句在加载文件失败时会返回弃用警告。
					</li><li class="listitem">不再支持<code class="literal">do subroutine(LIST)</code>调用，并导致语法错误。
					</li><li class="listitem">哈希现在默认是随机的。在每个<code class="literal">perl</code>运行中，哈希返回键和值的顺序会发生变化。要禁用随机化，请将<code class="literal">PERL_PERTURB_KEYS</code>环境变量设置为<code class="literal">0</code> 。
					</li><li class="listitem">未转义的文字<code class="literal">{</code>正则表达式中的字符不再允许。
					</li><li class="listitem">已删除对<code class="literal">$_</code>变量的词法范围支持。
					</li><li class="listitem">在数组或哈希上使用已<code class="literal">defined</code>运算符会导致致命错误。
					</li><li class="listitem">从<code class="literal">UNIVERSAL</code>模块导入函数会导致致命错误。
					</li><li class="listitem"><code class="literal">find2perl</code> ， <code class="literal">s2p</code> ， <code class="literal">a2p</code> ， <code class="literal">c2ph</code>和<code class="literal">pstruct</code>工具已被删除。
					</li><li class="listitem"><code class="literal">${^ENCODING}</code>工具已被删除。不再支持<code class="literal">encoding</code> pragma的默认模式。要以<code class="literal">UTF-8</code>以外的其他编码编写源代码，请使用编码的<code class="literal">Filter</code>选项。
					</li><li class="listitem"><code class="literal">perl</code>包装现在与上游对齐。<code class="literal">perl</code>包还安装了核心模块，而<code class="literal">/usr/bin/perl</code>解释器由<code class="literal">perl-interpreter</code>包提供。在以前的版本中， <code class="literal">perl</code>包只包含一个最小的解释器，而<code class="literal">perl-core</code>包包括解释器和核心模块。
					</li></ul></div><p>（BZ＃1511131）</p><p><a id="BZ-1622118"></a></p><div class="title"><strong><code class="literal">Node.js</code>在RHEL中是新的</strong></div><p>
					<code class="literal">Node.js</code>是一个软件开发平台，用于在JavaScript编程语言中构建快速，可扩展的网络应用程序，这是RHEL首次提供的。它以前只能作为软件集合使用。RHEL 8提供<code class="literal">Node.js 10</code> 。
				</p><p>（BZ＃1622118）</p><p><a id="BZ-1660051"></a></p><div class="title"><strong><code class="literal">SWIG</code>显着变化</strong></div><p>RHEL 8包括简化包装器和接口生成器（SWIG）3.0版，它提供了许多新功能，增强功能和错误修复，而不是RHEL 7中分发的2.0版本。最值得注意的是，支持C ++ 11标准已经实现。<code class="literal">SWIG</code>现在也支持<code class="literal">Go 1.6</code> ， <code class="literal">PHP 7</code> ， <code class="literal">Octave 4.2</code>和<code class="literal">Python 3.5</code> 。
				</p><p>（BZ＃1660051）</p><p><a id="BZ-1632754"></a></p><div class="title"><strong>Apache <code class="literal">httpd</code>显着变化</strong></div><p>RHEL 8随Apache HTTP Server 2.4.37一起分发。此版本通过RHEL 7中提供的<code class="literal">httpd</code>引入了以下更改：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">现在， <code class="literal">mod_http2</code>包提供了HTTP / 2支持，该包是<code class="literal">httpd</code>模块的一部分。
					</li><li class="listitem">现在， <code class="literal">mod_md</code>软件包支持使用自动证书管理环境（ACME）协议进行自动TLS证书配置和续订（用于证书提供程序，如<code class="literal">Let's Encrypt</code> ）</li><li class="listitem">Apache HTTP Server现在支持直接从<code class="literal">PKCS#11</code>模块加载来自硬件安全令牌的TLS证书和私钥。因此， <code class="literal">mod_ssl</code>配置现在可以使用<code class="literal">PKCS#11</code> URL来标识TLS私钥，以及（可选） <code class="literal">SSLCertificateKeyFile</code>和<code class="literal">SSLCertificateFile</code>指令中的TLS证书。
					</li><li class="listitem">默认情况下，Apache HTTP Server配置的多处理模块（MPM）已从多进程分叉模型（称为<code class="literal">prefork</code> ）更改为高性能多线程模型<code class="literal">event</code> 。任何非线程安全的第三方模块都需要更换或删除。要更改已配置的MPM，请编辑<code class="literal">/etc/httpd/conf.modules.d/00-mpm.conf</code>文件。有关更多信息，请参见<code class="literal">httpd.conf(5)</code>手册页。
					</li></ul></div><p>有关<code class="literal">httpd</code>及其用法的更改的更多信息，请参阅<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/deploying_different_types_of_servers/#setting-apache-web-server_Deploying-different-types-of-servers">设置Apache HTTP Web服务器</a> 。
			</p><p>（BZ＃1632754，BZ＃1527084，BZ＃1581178）</p><p><a id="BZ-1545526"></a></p><div class="title"><strong>RHEL中新增的<code class="literal">nginx</code> Web服务器</strong></div><p>RHEL 8引入了<code class="literal">nginx 1.14</code> ，这是一个支持HTTP和其他协议的Web和代理服务器，专注于高并发性，高性能和低内存使用。 <code class="literal">nginx</code>以前只能作为软件集合使用。
				</p><p><code class="literal">nginx</code> Web服务器现在支持直接从<code class="literal">PKCS#11</code>模块加载来自硬件安全令牌的TLS私钥。因此， <code class="literal">nginx</code>配置可以使用<code class="literal">PKCS#11</code> URL来标识<code class="literal">ssl_certificate_key</code>指令中的TLS私钥。
			</p><p>（BZ＃1545526）</p><p><a id="BZ-1647908"></a></p><div class="title"><strong>RHEL 8中的数据库服务器</strong></div><p>RHEL 8提供以下数据库服务器：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
						<code class="literal">MySQL 8.0</code> ，一个多用户，多线程的SQL数据库服务器。它由<code class="literal">MySQL</code>服务器守护程序， <code class="literal">mysqld</code>和许多客户端程序组成。
					</li><li class="listitem">
						<code class="literal">MariaDB 10.3</code> ，一个多用户，多线程SQL数据库服务器。出于所有实际目的， <code class="literal">MariaDB</code>与<code class="literal">MySQL</code>二进制兼容。</li><li class="listitem">
						<code class="literal">PostgreSQL 10</code>和<code class="literal">PostgreSQL 9.6</code> ，一个高级的对象 - 关系数据库管理系统（DBMS）。
					</li><li class="listitem">
						<code class="literal">Redis 5</code> ，一个高级键值存储。它通常被称为数据结构服务器，因为键可以包含字符串，散列，列表，集和有序集。<code class="literal">Redis</code>是RHEL首次提供的。</li></ul></div><p>请注意，NoSQL <code class="literal">MongoDB</code>数据库服务器不包含在RHEL 8.0中，因为它使用服务器端公共许可证（SSPL）。
			</p><p>（BZ＃1647908）</p><p><a id="BZ-1649891"></a></p><div class="title"><strong><code class="literal">MySQL 8.0</code>显着变化</strong></div><p>RHEL 8与<code class="literal">MySQL 8.0</code> ，例如，它提供了以下增强功能：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
						<code class="literal">MySQL</code>现在包含一个事务数据字典，它存储有关数据库对象的信息。
					</li><li class="listitem">
						<code class="literal">MySQL</code>现在支持角色，这些角色是特权集合。
					</li><li class="listitem">默认字符集已从<code class="literal">latin1</code>更改为<code class="literal">utf8mb4</code> 。
					</li><li class="listitem">添加了对非递归和递归的公用表表达式的支持。
					</li><li class="listitem">
						<code class="literal">MySQL</code>现在支持窗口函数，它使用相关的行对查询中的每一行执行计算。
					</li><li class="listitem">
						<code class="literal">InnoDB</code>现在支持具有锁定读取语句的<code class="literal">NOWAIT</code>和<code class="literal">SKIP LOCKED</code>选项。
					</li><li class="listitem">与GIS相关的功能得到了改进。
					</li><li class="listitem">JSON功能已得到增强。
					</li><li class="listitem">新的<code class="literal">mariadb-connector-c</code>软件包为<code class="literal">MySQL</code>和<code class="literal">MariaDB</code>提供了一个通用的客户端库。该库可用于任何版本的<code class="literal">MySQL</code>和<code class="literal">MariaDB</code>数据库服务器。因此，用户可以将应用程序的一个版本连接到随RHEL 8一起分发的任何<code class="literal">MySQL</code>和<code class="literal">MariaDB</code>服务器。
					</li></ul></div><p>此外，与RHEL 8一起分发的<code class="literal">MySQL 8.0</code>服务器配置为使用<code class="literal">mysql_native_password</code>作为默认的身份验证插件，因为RHEL 8中的客户端工具和库与<code class="literal">caching_sha2_password</code>方法不兼容，后者在上游<code class="literal">MySQL 8.0</code>版本中默认使用。
			</p><p>要将默认身份验证插件更改为<code class="literal">caching_sha2_password</code> ，请编辑<code class="literal">/etc/my.cnf.d/mysql-default-authentication-plugin.cnf</code>文件，如下所示：</p><pre class="screen">[mysqld]
default_authentication_plugin=caching_sha2_password</pre><p>（BZ＃1649891，BZ＃1519450，BZ＃1631400）</p><p><a id="BZ-1637034"></a></p><div class="title"><strong><code class="literal">MariaDB 10.3</code>显着变化</strong></div><p>
					<code class="literal">MariaDB 10.3</code>提供了许多与RHEL 7中分发的5.5版相比的新功能，例如：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">公用表表达式</li><li class="listitem">系统版本的表</li><li class="listitem">
						<code class="literal">FOR</code>循环</li><li class="listitem">隐形列</li><li class="listitem">序列</li><li class="listitem"><code class="literal">InnoDB</code>即时<code class="literal">ADD COLUMN</code>
					</li><li class="listitem">存储引擎独立列压缩</li><li class="listitem">并行复制</li><li class="listitem">多源复制</li></ul></div><p>此外，新的<code class="literal">mariadb-connector-c</code>软件包为<code class="literal">MySQL</code>和<code class="literal">MariaDB</code>提供了一个通用的客户端库。该库可用于任何版本的<code class="literal">MySQL</code>和<code class="literal">MariaDB</code>数据库服务器。因此，用户可以将应用程序的一个版本连接到随RHEL 8一起分发的任何<code class="literal">MySQL</code>和<code class="literal">MariaDB</code>服务器。
			</p><p>其他值得注意的变化包括：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
						<code class="literal">MariaDB Galera Cluster</code>是一个同步多主集群，现在是<code class="literal">MariaDB</code>的标准部分。</li><li class="listitem">
						<code class="literal">InnoDB</code>用作默认存储引擎而不是<code class="literal">XtraDB</code> 。</li><li class="listitem">mariadb-bench子包已被删除。
					</li><li class="listitem">插件成熟度的默认允许级别已更改为低于服务器成熟度的一个级别。因此，以前工作的成熟度较低的插件将不再加载。
					</li></ul></div><p>另请参阅<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/deploying_different_types_of_servers/#using-mariadb">在Red Hat Enterprise Linux 8上使用MariaDB</a> 。
			</p><p>（BZ＃1637034，BZ＃1519450， <a class="link" href="https://bugzilla.redhat.com/show_bug.cgi?id=1688374">BZ＃1688374</a> ）</p><p><a id="BZ-1660041"></a></p><div class="title"><strong><code class="literal">PostgreSQL</code>显着变化</strong></div><p>RHEL 8.0提供了两个版本的<code class="literal">PostgreSQL</code>数据库服务器，分布在<code class="literal">postgresql</code>模块的两个流中： <code class="literal">PostgreSQL 10</code> （默认流）和<code class="literal">PostgreSQL 9.6</code> 。RHEL 7包含<code class="literal">PostgreSQL</code> 9.2版。
				</p><p>例如， <code class="literal">PostgreSQL 9.6</code>中的显着变化是：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">并行执行顺序操作： <code class="literal">scan</code> ， <code class="literal">join</code>和<code class="literal">aggregate</code>
					</li><li class="listitem">同步复制的增强功能</li><li class="listitem">改进的全文搜索功能使用户能够搜索短语</li><li class="listitem"><code class="literal">postgres_fdw</code>数据联合驱动程序现在支持远程<code class="literal">join</code> ， <code class="literal">sort</code> ， <code class="literal">UPDATE</code>和<code class="literal">DELETE</code>操作</li><li class="listitem">实质性的改进，特别是在多CPU插槽服务器上的可扩展性方面</li></ul></div><p><code class="literal">PostgreSQL 10</code>主要增强功能包括：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">使用<code class="literal">publish</code>和<code class="literal">subscribe</code>关键字进行逻辑复制</li><li class="listitem">基于<code class="literal">SCRAM-SHA-256</code>机制的更强密码验证</li><li class="listitem">声明性表分区</li><li class="listitem">改进了查询并行性</li><li class="listitem">显着的一般性能改进</li><li class="listitem">改进监测和控制</li></ul></div><p>另请参阅<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/deploying_different_types_of_servers/index#using-postgresql">在Red Hat Enterprise Linux 8上使用PostgreSQL</a> 。
			</p><p>（BZ＃1660041）</p><p><a id="BZ-1656871"></a></p><div class="title"><strong><code class="literal">Squid</code>显着变化</strong></div><p>RHEL 8.0与<code class="literal">Squid 4.4</code>一起发布， <code class="literal">Squid 4.4</code>是一个用于Web客户端的高性能代理缓存服务器，支持FTP，Gopher和HTTP数据对象。此版本提供了RHEL 7中3.5版本的许多新功能，增强功能和错误修复。
				</p><p>值得注意的变化包括：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">可配置的帮助程序队列大小</li><li class="listitem">对辅助并发通道的更改</li><li class="listitem">对辅助二进制文件的更改</li><li class="listitem">安全的互联网内容适应协议（ICAP）</li><li class="listitem">改进了对称多处理（SMP）的支持</li><li class="listitem">改进流程管理</li><li class="listitem">删除了对SSL的支持</li><li class="listitem">删除了Edge Side Includes（ESI）自定义解析器</li><li class="listitem">多个配置更改</li></ul></div><p>（ <a class="link" href="https://bugzilla.redhat.com/show_bug.cgi?id=1656871">BZ＃1656871</a> ）</p><p><a id="BZ-1633338"></a></p><div class="title"><strong>RHEL中的<code class="literal">Varnish Cache</code>新功能</strong></div><p>
					<code class="literal">Varnish Cache</code>是一种高性能HTTP反向代理，是RHEL首次提供的。它以前只能作为软件集合使用。<code class="literal">Varnish Cache</code>将文件或文件片段存储在内存中，用于减少未来等效请求的响应时间和网络带宽消耗。RHEL 8.0随<code class="literal">Varnish Cache 6.0</code> 。
				</p><p>（BZ＃1633338）</p></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="desktop"></a>桌面</h1></div></div></div><p><a id="BZ-1649404"></a></p><div class="title"><strong>GNOME Shell，RHEL 8中的3.28版</strong></div><p>GNOME Shell，版本3.28在Red Hat Enterprise Linux（RHEL）8中可用。显着的增强功能包括：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">新的GNOME Boxes功能</li><li class="listitem">新的屏幕键盘</li><li class="listitem">扩展设备支持Thunderbolt 3接口的最显着集成</li><li class="listitem">GNOME软件，dconf编辑器和GNOME终端的改进</li></ul></div><p>（BZ＃1649404）</p><p><a id="BZ-1589678"></a></p><div class="title"><strong><span class="strong"><strong>Wayland</strong></span>是默认的显示服务器</strong></div><p>在Red Hat Enterprise Linux 8中，GNOME会话和GNOME显示管理器（GDM）使用<span class="strong"><strong>Wayland</strong></span>作为其默认显示服务器，而不是<span class="strong"><strong>X.org</strong></span>服务器，后者与之前的RHEL主要版本一起使用。</p><p>
				<span class="strong"><strong>Wayland</strong></span>与<span class="strong"><strong>X.org</strong></span>相比具有多种优势和改进。最为显着地：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">更强大的安全模型</li><li class="listitem">改进了多显示器处理</li><li class="listitem">改进的用户界面（UI）缩放</li><li class="listitem">桌面可以直接控制窗口处理。
					</li></ul></div><p>请注意，以下功能目前不可用或无法按预期工作：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><span class="strong"><strong>Wayland</strong></span>不支持多GPU设置。
					</li><li class="listitem"><span class="strong"><strong>NVIDIA</strong></span>二进制驱动程序在<span class="strong"><strong>Wayland</strong></span>下无法运行。
					</li><li class="listitem">由于处理，分辨率，旋转和布局的方法不同， <code class="literal">xrandr</code>实用程序在<span class="strong"><strong>Wayland</strong></span>下不起作用。请注意，用于操作屏幕的其他<span class="strong"><strong>X.org</strong></span>实用程序也不能在<span class="strong"><strong>Wayland</strong></span>下工作。
					</li><li class="listitem">在<span class="strong"><strong>Wayland</strong></span>下，屏幕录制，远程桌面和辅助功能并不总能正常工作。
					</li><li class="listitem">没有剪贴板管理器可用。
					</li><li class="listitem">
						<span class="strong"><strong>Wayland</strong></span>忽略X11应用程序发出的键盘抓取，例如虚拟机查看器。
					</li><li class="listitem">
						Guest虚拟机（VM）中的<span class="strong"><strong>Wayland</strong></span>具有稳定性和性能问题，因此建议将X11会话用于虚拟环境。
					</li></ul></div><p>如果从使用<span class="strong"><strong>X.org</strong></span> GNOME会话的RHEL 7系统升级到RHEL 8，则系统将继续使用<span class="strong"><strong>X.org</strong></span> 。当使用以下图形驱动程序时，系统也会自动回退到<span class="strong"><strong>X.org</strong></span> ：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">NVIDIA二进制驱动程序</li><li class="listitem"><code class="literal">cirrus</code>司机</li><li class="listitem"><code class="literal">mga</code>司机</li><li class="listitem"><code class="literal">aspeed</code>司机</li></ul></div><p>您可以手动禁用<span class="strong"><strong>Wayland</strong></span> ：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">要在<span class="strong"><strong>GDM中</strong></span>禁用<span class="strong"><strong>Wayland</strong></span> ，请在<code class="literal">/etc/gdm/custom.conf</code>文件中设置<code class="literal">WaylandEnable=false</code>选项。
					</li><li class="listitem">要在GNOME会话中禁用<span class="strong"><strong>Wayland</strong></span> ，请在输入登录名后使用登录屏幕上的cogwheel菜单选择旧版X11选项。
					</li></ul></div><p>有关<span class="strong"><strong>Wayland的</strong></span>更多详细信息，请参阅<a class="link" href="https://wayland.freedesktop.org/">https://wayland.freedesktop.org/</a> 。</p><p>（BZ＃1589678）</p><p><a id="JIRA-RHELPLAN-2878"></a></p><div class="title"><strong>找不到默认情况下未启用的存储库中的RPM软件包</strong></div><p>默认情况下，不启用桌面的其他存储库。<code class="literal">enabled=0</code>由相应的<code class="literal">.repo</code>文件中的<code class="literal">enabled=0</code>行指示。如果您尝试使用PackageKit从此类存储库安装软件包，PackageKit会显示一条错误消息，通知该应用程序不可用。为了使提供的包，代替以前使用的<code class="literal">enabled=0</code>线在相应<code class="literal">.repo</code>与文件<code class="literal">enabled=1</code> 。
				</p><p>（JIRA：RHELPLAN-2878）</p><p><a id="JIRA-RHELPLAN-3001"></a></p><div class="title"><strong>用于包管理的<span class="strong"><strong>GNOME Sofware</strong></span></strong></div><p>在Red Hat Enterprise Linux 7上为图形环境中的包管理提供了一系列工具的<code class="literal">gnome-packagekit</code>包不再可用。在Red Hat Enterprise Linux 8上， <span class="strong"><strong>GNOME软件</strong></span>实用程序提供了类似的功能，使您可以安装和更新应用程序和gnome-shell扩展。<span class="strong"><strong>GNOME软件</strong></span>分发在<code class="literal">gnome-software</code>软件包中。
				</p><p>（JIRA：RHELPLAN-3001）</p><p><a id="BZ-1668883"></a></p><div class="title"><strong>适用于Wayland上GNOME Shell的分数缩放</strong></div><p>在<span class="strong"><strong>Wayland</strong></span>会话的<span class="strong"><strong>GNOME Shell上</strong></span> ，可以使用小数缩放功能。该功能可以按分数缩放GUI，从而改善某些显示器上缩放GUI的外观。
				</p><p>请注意，该功能目前被认为是实验性的，因此默认情况下处于禁用状态。
			</p><p>要启用小数缩放，请运行以下命令：</p><pre class="literallayout"># gsettings set org.gnome.mutter experimental-features "['scale-monitor-framebuffer']"</pre><p>（ <a class="link" href="https://bugzilla.redhat.com/show_bug.cgi?id=1668883">BZ＃1668883</a> ）</p></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="hardware_enablement"></a>硬件启用</h1></div></div></div><p><a id="BZ-1504934"></a></p><div class="title"><strong>可以使用<code class="literal">fwupd</code>进行固件更新</strong></div><p>RHEL 8使用<code class="literal">fwupd</code>守护程序支持固件更新，例如UEFI封装，设备固件升级（DFU）等。守护程序允许会话软件自动更新本地计算机上的设备固件。
				</p><p>要查看和应用更新，您可以使用：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">GUI软件管理器，例如GNOME Software</li><li class="listitem"><code class="literal">fwupdmgr</code>命令行工具</li></ul></div><p>元数据文件从Linux供应商固件服务（LVFS）安全门户自动下载，并通过D-Bus提交到<code class="literal">fwupd</code> 。下载需要应用的更新，显示用户通知和更新详细信息。在执行更新之前，用户必须明确同意固件更新操作。
			</p><p>请注意，默认情况下禁用对LVFS的访问。
			</p><p>要启用对LVFS的访问，请单击GNOME Software中<code class="literal">sources</code>对话框中的滑块，或运行<code class="literal">fwupdmgr enable-remote lvfs</code>命令。如果使用<code class="literal">fwupdmgr</code>获取更新列表，系统将询问您是否要启用LVFS。</p><p>通过访问LVFS，您将直接从硬件供应商处获得固件更新。请注意，Red Hat QA尚未验证此类更新。</p><p>（BZ＃1504934）</p><p><a id="BZ-1718422"></a></p><div class="title"><strong>完全支持Optane DC Persistent Memory技术的内存模式</strong></div><p>英特尔Optane DC持久性内存存储设备提供数据中心级持久性内存技术，可显着提高事务吞吐量。
				</p><p>要使用内存模式技术，您的系统不需要任何特殊驱动程序或特定认证。内存模式对操作系统是透明的。
			</p><p>（BZ＃1718422）</p></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="identity_management"></a>身份管理</h1></div></div></div><p><a id="BZ-1334254"></a></p><div class="title"><strong>Directory Server中的新密码语法检查</strong></div><p>此增强功能会向Directory Server添加新的密码语法检查。例如，管理员现在可以启用字典检查，允许或拒绝使用字符序列和回文。因此，如果启用，Directory Server中的密码策略语法检查会强制使用更安全的密码。
				</p><p>（BZ＃1334254）</p><p><a id="BZ-1358706"></a></p><div class="title"><strong>Directory Server现在提供改进的内部操作日志记录支持</strong></div><p>Directory Server中的几个操作由服务器和客户端启动，在后台执行其他操作。以前，服务器仅记录内部操作的<code class="literal">Internal</code>连接关键字，操作ID始终设置为<code class="literal">-1</code> 。通过此增强功能，Directory Server会记录实际连接和操作ID。您现在可以跟踪导致此操作的服务器或客户端操作的内部操作。
				</p><p>（BZ＃1358706）</p><p><a id="BZ-1636564"></a></p><div class="title"><strong><code class="literal">tomcatjss</code>库使用来自AIA扩展的响应器支持OCSP检查</strong></div><p>通过此增强功能， <code class="literal">tomcatjss</code>库支持使用来自证书的授权信息访问（AIA）扩展的响应者进行在线证书状态协议（OCSP）检查。因此，红帽证书系统的管理员现在可以配置使用来自AIA扩展的URL的OCSP检查。
				</p><p>（BZ＃1636564）</p><p><a id="BZ-1566360"></a></p><div class="title"><strong><code class="literal">pki subsystem-cert-find</code>和<code class="literal">pki subsystem-cert-show</code>命令现在显示证书的序列号</strong></div><p>通过此增强功能， <code class="literal">pki subsystem-cert-find</code>的<code class="literal">pki subsystem-cert-find</code>和<code class="literal">pki subsystem-cert-show</code>命令显示其输出中的证书序列号。序列号是一个重要的信息，通常需要多个其他命令。因此，现在可以更轻松地识别证书的序列号。
				</p><p>（BZ＃1566360）</p><p><a id="BZ-1394069"></a></p><div class="title"><strong><code class="literal">pki user</code>和<code class="literal">pki group</code>命令已在证书系统中弃用</strong></div><p>通过此更新，新的<code class="literal">pki <span class="emphasis"><em>&lt;subsystem&gt;</em></span> -user</code>和<code class="literal">pki <span class="emphasis"><em>&lt;subsystem&gt;</em></span> -group</code>命令将替换证书系统中的<code class="literal">pki user</code>和<code class="literal">pki group</code>命令。替换的命令仍然有效，但它们会显示一条消息，指出该命令已弃用并引用新命令。
				</p><p>（BZ＃1394069）</p><p><a id="BZ-1669257"></a></p><div class="title"><strong>证书系统现在支持系统证书的脱机续订</strong></div><p>通过此增强功能，管理员可以使用脱机续订功能续订在证书系统中配置的系统证书。系统证书过期后，证书系统无法启动。作为增强功能的结果，管理员不再需要解决方法来替换过期的系统证书。
				</p><p>（ <a class="link" href="https://bugzilla.redhat.com/show_bug.cgi?id=1669257">BZ＃1669257</a> ）</p><p><a id="BZ-1656856"></a></p><div class="title"><strong>证书系统现在可以使用SKI扩展创建CSR以进行外部CA签名</strong></div><p>通过此增强功能，证书系统支持使用主题密钥标识符（SKI）扩展创建证书签名请求（CSR），以进行外部证书颁发机构（CA）签名。某些CA要求此扩展具有特定值或从CA公钥派生。因此，管理员现在可以在传递给<code class="literal">pkispawn</code>实用程序的配置文件中使用<code class="literal">pki_req_ski</code>参数来创建具有SKI扩展名的CSR。
				</p><p>（BZ＃1656856）</p><p><a id="BZ-1620123"></a></p><div class="title"><strong>SSSD现在允许您选择多个智能卡身份验证设备之一</strong></div><p>默认情况下，系统安全服务守护程序（SSSD）会尝试自动检测设备以进行智能卡身份验证。如果连接了多个设备，SSSD会选择它检测到的第一个设备。因此，您无法选择特定设备，这有时会导致故障。
				</p><p>通过此更新，您可以为<code class="literal">sssd.conf</code>配置文件的<code class="literal">[pam]</code>部分配置新的<code class="literal">p11_uri</code>选项。使用此选项可以定义用于智能卡身份验证的设备。
			</p><p>例如，要选择OpenSC PKCS＃11模块检测到插槽ID为<code class="literal">2</code>的阅读器，请添加：</p><pre class="screen">p11_uri = library-description=OpenSC%20smartcard%20framework;slot-id=2</pre><p>到<code class="literal">sssd.conf</code>的<code class="literal">[pam]</code>部分。
			</p><p>有关详细信息，请参阅<code class="literal">man sssd.conf</code>页面。
			</p><p>（BZ＃1620123）</p><p><a id="JIRA-RHELPLAN-10439"></a></p><div class="title"><strong>本地用户由SSSD缓存并通过<code class="literal">nss_sss</code>模块提供服务</strong></div><p>在RHEL 8中，系统安全服务守护程序（SSSD）默认为<code class="literal">/etc/passwd</code>和<code class="literal">/etc/groups</code>文件中的用户和组提供服务。<code class="literal">sss</code> nsswitch模块位于<code class="literal">/etc/nsswitch.conf</code>文件中的文件之前。
				</p><p>通过SSSD为本地用户提供服务的优势在于，与访问磁盘和打开每个NSS请求上的文件相比， <code class="literal">nss_sss</code>模块具有快速<code class="literal">memory-mapped cache</code> ，可加快名称服务交换（NSS）查找。以前，Name服务缓存守护程序（ <code class="literal">nscd</code> ）有助于加快访问磁盘的过程。但是，使用与SSSD并行的<code class="literal">nscd</code>很麻烦，因为SSSD和<code class="literal">nscd</code>使用它们自己的独立缓存。因此，在SSSD也为来自远程域（例如LDAP或Active Directory）的用户提供服务的设置中使用<code class="literal">nscd</code>会导致不可预测的行为。
			</p><p>通过此更新，RHEL 8中本地用户和组的分辨率更快。请注意， <code class="literal">root</code>用户永远不会被SSSD处理，因此<code class="literal">root</code>解析不会受到SSSD中潜在错误的影响。另请注意，如果SSSD未运行，则<code class="literal">nss_sss</code>模块会通过回<code class="literal">nss_files</code>来优雅地处理这种情况，以避免出现问题。您不必以任何方式配置SSSD，自动添加文件域。
			</p><p>（JIRA：RHELPLAN-10439）</p><p><a id="JIRA-RHELPLAN-10440"></a></p><div class="title"><strong>KCM将KEYRING替换为默认凭证缓存存储</strong></div><p>在RHEL 8中，默认凭据缓存存储是Kerberos凭据管理器（KCM），由<code class="literal">sssd-kcm</code> deamon支持。KCM克服了以前使用的KEYRING的局限性，例如它很难在容器化环境中使用，因为它没有命名空间，并且可以查看和管理配额。
				</p><p>通过此更新，RHEL 8包含一个更适合容器化环境的凭据缓存，并为将来版本中构建更多功能提供了基础。
			</p><p>（JIRA：RHELPLAN-10440）</p><p><a id="JIRA-RHELPLAN-10442"></a></p><div class="title"><strong>Active Directory用户现在可以管理身份管理</strong></div><p>通过此更新，RHEL 8允许为Active Directory（AD）用户添加用户ID覆盖，作为Identity Management（IdM）组的成员。ID覆盖是描述特定ID用户或组属性在特定ID视图中应该是什么样的记录，在本例中为默认信任视图。作为更新的结果，IdM LDAP服务器能够将IdM组的访问控制规则应用于AD用户。
				</p><p>AD用户现在可以使用IdM UI的自助服务功能，例如上传他们的SSH密钥或更改他们的个人数据。AD管理员无需拥有两个不同的帐户和密码即可完全管理IdM。请注意，目前，IDM中的所选功能可能仍然无法供AD用户使用。
			</p><p>（JIRA：RHELPLAN-10442）</p><p><a id="JIRA-RHELPLAN-10443"></a></p><div class="title"><strong><code class="literal">sssctl</code>为IdM域打印HBAC规则报告</strong></div><p>通过此更新，系统安全服务守护程序（SSSD）的<code class="literal">sssctl</code>实用程序可以打印身份管理（IdM）域的访问控制报告。出于监管原因，此功能可满足某些环境的需要，以查看可以访问特定客户端计算机的用户和组列表。在IdM客户端上运行<code class="literal">sssctl access-report</code> <code class="literal">domain_name</code>在适用于客户端计算机的IdM域中打印已解析的基于主机的访问控制（HBAC）规则的子集。
				</p><p>请注意，除IdM之外，没有其他提供商支持此功能。
			</p><p>（JIRA：RHELPLAN-10443）</p><p><a id="JIRA-RHELPLAN-10438"></a></p><div class="title"><strong>身份管理包作为模块提供</strong></div><p>在RHEL 8中，安装Identity Management（IdM）服务器和客户端所需的软件包作为模块提供。<code class="literal">client</code>流是<code class="literal">idm</code>模块的默认流，您可以下载安装客户端所需的包，而无需启用流。
				</p><p>IdM服务器模块流称为<code class="literal">DL1</code>流。该流包含与不同类型的IdM服务器对应的多个配置文件：server，dns，adtrust，client和default。要在<code class="literal">DL1</code>流的特定配置文件中下载软件包：</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem">启用流。
					</li><li class="listitem">切换到通过流传递的RPM。
					</li><li class="listitem">运行<code class="literal">yum module install idm:DL1/profile_name</code>命令。
					</li></ol></div><p>要在已经启用特定流并从中下载包后切换到新模块流：</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem">删除所有相关的已安装内容并禁用当前模块流。
					</li><li class="listitem">启用新模块流。
					</li></ol></div><p>（JIRA：RHELPLAN-10438）</p><p><a id="JIRA-RHELPLAN-1473"></a></p><div class="title"><strong>添加了RHEL 8的会话录制解决方案</strong></div><p>Red Hat Enterprise Linux 8（RHEL 8）中添加了会话记录解决方案。新的<code class="literal">tlog</code>包及其关联的Web控制台会话播放器使得能够记录和回放用户终端会话。可以通过系统安全服务守护程序（SSSD）服务按用户或用户组配置记录。捕获所有终端输入和输出，并以基于文本的格式存储在系统日志中。出于安全原因，默认情况下输入处于非活动状态，不会拦截原始密码和其他敏感信息。
				</p><p>该解决方案可用于审核安全敏感系统上的用户会话。如果发生安全漏洞，可以将记录的会话作为取证分析的一部分进行审核。系统管理员现在可以在本地配置会话记录，并使用<code class="literal">tlog-play</code>实用程序从RHEL 8 Web控制台界面或命令行界面查看结果。
			</p><p>（JIRA：RHELPLAN-1473）</p><p><a id="JIRA-RHELPLAN-10445"></a></p><div class="title"><strong><code class="literal">authselect</code>简化了用户身份验证的配置</strong></div><p>此更新引入了<code class="literal">authselect</code>实用程序，该实用程序简化了RHEL 8主机上的用户身份验证配置，替换了<code class="literal">authconfig</code>实用程序。 <code class="literal">authselect</code>提供了一种更安全的PAM堆栈管理方法，使PAM配置更改对于系统管理员来说更加简单。 <code class="literal">authselect</code>可用于配置身份验证方法，如密码，证书，智能卡和指纹。请注意， <code class="literal">authselect</code>不会配置加入远程域所需的服务。此任务由专用工具执行，例如<code class="literal">realmd</code>或<code class="literal">ipa-client-install</code> 。
				</p><p>（JIRA：RHELPLAN-10445）</p></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="platform-tools"></a>编译器和开发工具</h1></div></div></div><p><a id="BZ-1494495"></a></p><div class="title"><strong>Boost已更新至1.66版</strong></div><p><span class="strong"><strong>Boost</strong></span> C ++库已更新至上游版本1.66。Red Hat Enterprise Linux 7中包含的<span class="strong"><strong>Boost</strong></span>版本是1.53。有关详细信息，请参阅上游更改日志： <a class="link" href="https://www.boost.org/users/history/">https</a> ： <a class="link" href="https://www.boost.org/users/history/">//www.boost.org/users/history/</a>
				</p><p>此更新引入了以下更改，破坏了与先前版本的兼容性：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">该<code class="literal">bs_set_hook()</code>函数中， <code class="literal">splay_set_hook()</code>从喷射容器的功能，以及<code class="literal">bool splay = true</code>在额外的参数<code class="literal">splaytree_algorithms()</code>在<span class="strong"><strong>侵入</strong></span>库函数已被删除。
					</li><li class="listitem"><span class="strong"><strong>属性树</strong></span>库中的解析器不再支持JSON文件中的注释或字符串连接。
					</li><li class="listitem"><span class="strong"><strong>Math</strong></span>库中的某些发行版和特殊函数已经修复为按文档记录，并引发<code class="literal">overflow_error</code>而不是返回最大有限值。
					</li><li class="listitem"><span class="strong"><strong>Math</strong></span>库中的一些头文件已移至<code class="literal">libs/math/include_private</code>目录中。
					</li><li class="listitem">来自<span class="strong"><strong>Regex</strong></span>库的<code class="literal">basic_regex&lt;&gt;::mark_count()</code>和<code class="literal">basic_regex&lt;&gt;::mark_count()</code> <code class="literal">basic_regex&lt;&gt;::subexpression(n)</code>函数的行为已更改为与其文档相匹配。
					</li><li class="listitem">在<span class="strong"><strong>Variant</strong></span>库中使用可变参数模板可能会破坏元编程功能。
					</li><li class="listitem"><code class="literal">boost::python::numeric</code> API已被删除。用户可以使用<code class="literal">boost::python::numpy</code> 。
					</li><li class="listitem">原子库中不再提供对非对象类型指针的算术运算。
					</li></ul></div><p>（BZ＃1494495）</p><p><a id="BZ-1512004"></a></p><div class="title"><strong>Unicode 11.0.0支持</strong></div><p>Red Hat Enterprise Linux核心C库<span class="strong"><strong>glibc</strong></span>已更新为支持Unicode标准版本11.0.0。因此，所有宽字符和多字节字符API（包括字符集之间的音译和转换）都能提供符合此标准的准确和正确的信息。
				</p><p>（BZ＃1512004）</p><p><a id="BZ-1616244"></a></p><div class="title"><strong><code class="literal">boost</code>包现在独立于Python</strong></div><p>通过此更新，安装<code class="literal">boost</code>软件包不再安装<code class="literal">Boost.Python</code>库作为依赖。为了使用<code class="literal">Boost.Python</code> ，你需要显式安装<code class="literal">boost-python3</code>或<code class="literal">boost-python3-devel</code>包。
				</p><p>（BZ＃1616244）</p><p><a id="BZ-1607227"></a></p><div class="title"><strong>一个新的<code class="literal">compat-libgfortran-48</code>包可用</strong></div><p>为了与使用Fortran库的Red Hat Enterprise Linux 6和7应用程序兼容，现在提供了一个新的<code class="literal">compat-libgfortran-48</code>兼容包，它提供了<code class="literal">libgfortran.so.3</code>库。
				</p><p>（BZ＃1607227）</p><p><a id="BZ-1535774"></a></p><div class="title"><strong>GCC中的Retpoline支持</strong></div><p>此更新增加了对GCC的retpolines的支持。 retpoline是内核使用的软件构造，用于减少CVE-2017-5715中描述的减轻Spectre Variant 2攻击的开销。
				</p><p>（BZ＃1535774）</p><p><a id="BZ-1504980"></a></p><div class="title"><strong>增强了对工具链组件中64位ARM体系结构的支持</strong></div><p>工具链组件， <code class="literal">GCC</code>和<code class="literal">binutils</code>现在为64位ARM体系结构提供扩展支持。例如：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
						<code class="literal">GCC</code>和<code class="literal">binutils</code>现在支持可缩放矢量扩展（SVE）。
					</li><li class="listitem"><code class="literal">GCC</code>已添加对ARM <code class="literal">FP16</code>提供的<code class="literal">FP16</code>数据类型的支持。 <code class="literal">FP16</code>数据类型提高了某些算法的性能。
					</li><li class="listitem"><code class="literal">binutils</code>工具现在支持ARM v8.3架构定义，包括指针验证。指针验证功能通过制作自己的函数指针来防止恶意代码破坏程序或内核的正常执行。因此，在分支到代码中的不同位置时，仅使用可信地址，这提高了安全性。
					</li></ul></div><p>（BZ＃1504980，BZ＃1550501，BZ＃1504995，BZ＃1504993，BZ＃1504994）</p><p><a id="BZ-1376834"></a></p><div class="title"><strong>针对IBM POWER系统的<code class="literal">glibc</code>优化</strong></div><p>此更新提供了新版本的<code class="literal">glibc</code> ，该版本针对IBM POWER 8和IBM POWER 9体系结构进行了优化。因此，IBM POWER 8和IBM POWER 9系统现在可以在运行时自动切换到适当的优化<code class="literal">glibc</code>变体。
				</p><p>（BZ＃1376834）</p><p><a id="BZ-1512010"></a></p><div class="title"><strong>GNU C Library已更新至2.28版</strong></div><p>Red Hat Enterprise Linux 8包含GNU C库2.28版（glibc）。显着的改进包括：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">安全加固功能：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">标记有<code class="literal">AT_SECURE</code>标志的安全二进制文件忽略<code class="literal">LD_LIBRARY_PATH</code>环境变量。
							</li><li class="listitem">不再打印回溯以进行堆栈检查失败，以加速关闭并避免在受损环境中运行更多代码。
							</li></ul></div></li><li class="listitem"><p class="simpara">性能改进：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">使用线程本地缓存改进了<code class="literal">malloc()</code>函数的性能。
							</li><li class="listitem">添加<code class="literal">GLIBC_TUNABLES</code>环境变量以更改库性能特征。
							</li><li class="listitem">线程信号量的实现已得到改进，并添加了新的可伸缩<code class="literal">pthread_rwlock_xxx()</code>函数。
							</li><li class="listitem">数学库的性能得到了改进。
							</li></ul></div></li><li class="listitem">添加了对Unicode 11.0.0的支持。
					</li><li class="listitem">增加了对ISO / IEC / IEEE 60559：2011，IEEE 754-2008和ISO / IEC TS 18661-3：2015标准定义的128位浮点数的改进支持。
					</li><li class="listitem"><p class="simpara">与<code class="literal">/etc/resolv.conf</code>配置文件相关的域名服务（DNS）存根解析器改进：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">更改文件时会自动重新加载配置。
							</li><li class="listitem">增加了对任意数量搜索域的支持。
							</li><li class="listitem">已添加适当的随机选择<code class="literal">rotate</code>选项。
							</li></ul></div></li><li class="listitem"><p class="simpara">增加了新的开发功能，包括：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">用于<code class="literal">preadv2</code>和<code class="literal">pwritev2</code>内核调用的Linux包装函数</li><li class="listitem">新函数包括<code class="literal">reallocarray()</code>和<code class="literal">explicit_bzero()</code>
							</li><li class="listitem"><code class="literal">posix_spawnattr_setflags()</code>函数的新标志，如<code class="literal">POSIX_SPAWN_SETSID</code>
							</li></ul></div></li></ul></div><p>（BZ＃1512010，BZ＃1504125，BZ＃506398）</p><p><a id="BZ-1590139"></a></p><div class="title"><strong>可在RHEL中使用CMake</strong></div><p>CMake构建系统版本3.11在Red Hat Enterprise Linux 8中作为<code class="literal">cmake</code>包提供。
				</p><p>（BZ＃1590139，BZ＃1502802）</p><p><a id="BZ-1641015"></a></p><div class="title"><strong><code class="literal">make</code>版本4.2.1</strong></div><p>Red Hat Enterprise Linux 8随<code class="literal">make</code> build工具版本4.2.1一起发布。值得注意的变化包括：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">配方失败时，将显示生成文件的名称和配方的行号。
					</li><li class="listitem">添加了<code class="literal">--trace</code>选项以启用目标跟踪。使用此选项时，每个配方都会在调用之前打印，即使它将被抑制，也可以与此配方所在的文件名和行号一起打印，还可以使用先决条件来调用它。
					</li><li class="listitem">混合显式和隐式规则不再导致<code class="literal">make</code>终止执行。而是打印一个警告。请注意，此语法已弃用，将来可能会完全删除。
					</li><li class="listitem">添加了<code class="literal">$(file …​)</code>函数以将文本写入文件。在没有文本参数的情况下调用时，它只会打开并立即关闭文件。
					</li><li class="listitem">新选项<code class="literal">--output-sync</code>或<code class="literal">-O</code>使每个作业对多个作业的输出进行分组，从而可以更轻松地调试并行构建。
					</li><li class="listitem"><code class="literal">--debug</code>选项现在还接受<code class="literal">n</code> （无）标志以禁用所有当前启用的调试设置。
					</li><li class="listitem"><p class="simpara">的<code class="literal">!=</code> shell赋值运算符已添加为<code class="literal">$(shell …​)</code>函数的替代，以增加与BSD makefile的兼容性。有关运算符和函数之间的更多详细信息和差异，请参阅GNU make手册。
					</p><p class="simpara">请注意，因此，变量的名称以感叹号结尾，然后紧接着赋值，例如<code class="literal">variable!=value</code> ，现在被解释为新语法。要恢复以前的行为，请在感叹号后面添加一个空格，例如<code class="literal">variable!=value</code> 。
					</p></li><li class="listitem">添加了由POSIX标准定义的<code class="literal">::=</code>赋值运算符。
					</li><li class="listitem">什么时候<code class="literal">.指定了POSIX</code>变量， <code class="literal">make</code>遵守处理反斜杠和新行的POSIX标准要求。在此模式下，保留反斜杠之前的任何尾随空格，并且每个反斜杠后跟一个新行和空格字符将转换为单个空格字符。
					</li><li class="listitem">现在可以更精确地定义<code class="literal">MAKEFLAGS</code>和<code class="literal">MFLAGS</code>变量的行为。
					</li><li class="listitem">一个新的变量， <code class="literal">GNUMAKEFLAGS</code> ，被解析为<code class="literal">make</code>标志相同，以<code class="literal">MAKEFLAGS</code> 。因此，GNU <code class="literal">make</code> -specific标志可以存储在<code class="literal">MAKEFLAGS</code>之外，并且makefile的可移植性也会增加。
					</li><li class="listitem">添加了包含主机体系结构的新变量<code class="literal">MAKE_HOST</code> 。
					</li><li class="listitem">新变量<code class="literal">MAKE_TERMOUT</code>和<code class="literal">MAKE_TERMERR</code>指示<code class="literal">make</code>是否正在向终端写入标准输出和错误。
					</li><li class="listitem">现在，在makefile中的<code class="literal">MAKEFLAGS</code>变量中设置<code class="literal">-r</code>和<code class="literal">-R</code>选项可以正常工作，并分别删除所有内置规则和变量。
					</li><li class="listitem">的<code class="literal">.现在按照食谱记住RECIPEPREFIX</code>设置。此外，在该配方中扩展的变量也使用该配方前缀设置。
					</li><li class="listitem">的<code class="literal">.RECIPEPREFIX</code>设置和所有特定于目标的变量显示在<code class="literal">-p</code>选项的输出中，就像在makefile中一样，而不是作为注释。
					</li></ul></div><p>（BZ＃1641015）</p><p><a id="BZ-1641032"></a></p><div class="title"><strong><span class="strong"><strong>SystemTap</strong></span> 4.0版</strong></div><p>Red Hat Enterprise Linux 8随<span class="strong"><strong>SystemTap</strong></span>检测工具4.0一起发布。显着的改进包括：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">扩展的Berkeley Packet Filter（eBPF）后端已得到改进，尤其是字符串和函数。要使用<code class="literal">--runtime=bpf</code> ，请使用<code class="literal">--runtime=bpf</code>选项启动<span class="strong"><strong>SystemTap</strong></span> 。
					</li><li class="listitem">增加了与Prometheus监测系统一起使用的新的出口网络服务。
					</li><li class="listitem">系统调用探测实现已得到改进，以便在必要时使用内核跟踪点。
					</li></ul></div><p>（BZ＃1641032）</p><p><a id="BZ-1641004"></a></p><div class="title"><strong><code class="literal">binutils</code>版本2.30的改进</strong></div><p>Red Hat Enterprise Linux 8包含<code class="literal">binutils</code>软件包2.30版。显着的改进包括：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">对新的IBM Z体系结构扩展的支持已得到改进。
					</li></ul></div><p>链接器：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">现在，链接器默认将代码和只读数据放入单独的段中。因此，创建的可执行文件更大，运行更安全，因为动态加载程序可以禁用包含只读数据的任何内存页面的执行。
					</li><li class="listitem">添加了对动态加载程序提供有关二进制文件的提示的GNU属性注释的支持。
					</li><li class="listitem">以前，链接器为英特尔间接分支跟踪（IBT）技术生成了无效的可执行代码。因此，生成的可执行文件无法启动。此错误已得到修复。
					</li><li class="listitem">此前， <code class="literal">gold</code>链接器合并了不正确的财产。因此，可能会在生成的代码中启用错误的硬件功能，并且代码可能会意外终止。此错误已得到修复。
					</li><li class="listitem">以前， <code class="literal">gold</code>链接器在末尾创建了带有填充字节的注释部分，以根据体系结构实现对齐。因为动态加载器没有期望填充，所以它会意外终止它正在加载的程序。此错误已得到修复。
					</li></ul></div><p>其他工具：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><code class="literal">readelf</code>和<code class="literal">objdump</code>工具现在可以选择将链接跟踪到单独的调试信息文件中，并在其中显示信息。
					</li><li class="listitem">新的<code class="literal">--inlines</code>选项扩展了<code class="literal">objdump</code>工具的现有<code class="literal">--line-numbers</code>选项，以显示内联函数的嵌套信息。
					</li><li class="listitem"><code class="literal">nm</code>工具获得了一个新选项<code class="literal">--with-version-strings</code>用于显示符号后面的符号版本信息（如果存在）。
					</li><li class="listitem">ARMv8-R架构和Cortex-R52，Cortex-M23和Cortex-M33处理器的支持已添加到汇编器中。
					</li></ul></div><p>（BZ＃1641004，BZ＃1637072，BZ＃1501420，BZ＃1504114，BZ＃1614908，BZ＃1614920）</p><p><a id="BZ-1641034"></a></p><div class="title"><strong><span class="strong"><strong>Performance Co-Pilot</strong></span>版本4.3.0</strong></div><p>Red Hat Enterprise Linux 8随<span class="strong"><strong>Performance Co-Pilot</strong></span> （PCP）版本4.3.0一起发布。显着的改进包括：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><code class="literal">pcp-dstat</code>工具现在包括历史分析和逗号分隔值（CSV）格式输出。
					</li><li class="listitem">日志实用程序可以使用度量标签和帮助文本记录。
					</li><li class="listitem"><code class="literal">pmdaperfevent</code>工具现在以较低的同步多线程（SMT）级别报告正确的CPU编号。
					</li><li class="listitem"><code class="literal">pmdapostgresql</code>工具现在支持<span class="strong"><strong>Postgres</strong></span>系列<code class="literal">pmdapostgresql</code>
					</li><li class="listitem"><code class="literal">pmdaredis</code>工具现在支持<span class="strong"><strong>Redis</strong></span>系列5.x.
					</li><li class="listitem"><code class="literal">pmdabcc</code>工具已通过动态进程过滤和每进程系统调用，ucalls和ustat得到增强。
					</li><li class="listitem"><code class="literal">pmdammv</code>工具现在导出度量标签，格式版本增加到3。
					</li><li class="listitem"><code class="literal">pmdagfs2</code>工具支持额外的<code class="literal">pmdagfs2</code>和<code class="literal">pmdagfs2</code> holder指标。
					</li><li class="listitem">已对SELinux策略进行了一些修复。
					</li></ul></div><p>（BZ＃1641034）</p><p><a id="BZ-1304448"></a></p><div class="title"><strong>内存保护密钥</strong></div><p>此更新启用了允许每线程页面保护标志更改的硬件功能。为<code class="literal">pkey_alloc()</code> ， <code class="literal">pkey_free()</code>和<code class="literal">pkey_mprotect()</code>函数添加了新的<code class="literal">glibc</code>系统调用包装器。此外，添加了<code class="literal">pkey_set()</code>和<code class="literal">pkey_get()</code>函数以允许访问每线程保护标志。
				</p><p>（BZ＃1304448）</p><p><a id="BZ-1571124"></a></p><div class="title"><strong>GCC现在在IBM Z上默认为z13</strong></div><p>通过此更新，默认情况下，IBM Z体系结构上的GCC为z13处理器构建代码，并且代码针对z14处理器进行了调整。这相当于使用<code class="literal">-march=z13</code>和<code class="literal">-mtune=z14</code>选项。用户可以通过显式使用目标体系结构和调整选项来覆盖此默认值。
				</p><p>（BZ＃1571124）</p><p><a id="BZ-1641007"></a></p><div class="title"><strong><code class="literal">elfutils</code>已更新至0.174版</strong></div><p>在Red Hat Enterprise Linux 8中， <span class="strong"><strong>elfutils</strong></span>软件包的版本为0.174。值得注意的变化包括：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">以前， <code class="literal">eu-readelf</code>工具可以显示具有负值的变量，就好像它具有较大的无符号值，或者将大的无符号值显示为负值。这已得到纠正， <code class="literal">eu-readelf</code>现在查找常量值类型的大小和符号以正确显示它们。
					</li><li class="listitem">用于读取缺少CU的<code class="literal">.debug_line</code>数据的新函数<code class="literal">dwarf_next_lines()</code>已添加到<span class="strong"><strong>libdw</strong></span>库中。此函数可用作<code class="literal">dwarf_getsrclines()</code>和<code class="literal">dwarf_getsrcfiles()</code>函数的替代函数。
					</li><li class="listitem">以前，超过65280个部分的文件可能会导致<span class="strong"><strong>libelf</strong></span>和<span class="strong"><strong>libdw</strong></span>库以及使用它们的所有工具出错。此错误已得到修复。因此，正确处理ELF文件头中的扩展<code class="literal">shnum</code>和<code class="literal">shstrndx</code>值。
					</li></ul></div><p>（BZ＃1641007）</p><p><a id="BZ-1641029"></a></p><div class="title"><strong>Valgrind已更新至3.14版</strong></div><p>Red Hat Enterprise Linux 8随Valgrind可执行代码分析工具3.14版一起发布。值得注意的变化包括：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">添加了一个新的<code class="literal">--keep-debuginfo</code>选项，以便为卸载的代码保留调试信息。因此，保存的堆栈跟踪可以包含内存中不再存在的代码的文件和行信息。
					</li><li class="listitem">已添加基于源文件名和行号的抑制。
					</li><li class="listitem"><code class="literal">Helgrind</code>工具已经扩展了一个选项<code class="literal">--delta-stacktrace</code>来指定完整历史堆栈跟踪的计算。值得注意的是，将此选项与<code class="literal">--history-level=full</code>一起使用可以将<code class="literal">Helgrind</code>性能提高多达25％。
					</li><li class="listitem"><code class="literal">Memcheck</code>工具中的误报率降低了英特尔和AMD 64位架构以及ARM 64位架构的优化代码。请注意，您可以使用<code class="literal">--expensive-definedness-checks</code>来控制定义检查的处理，并以牺牲性能为代价来提高速率。
					</li><li class="listitem">Valgrind现在可以识别IBM Power Systems的little-endian变体的更多指令。
					</li><li class="listitem">Valgrind现在可以处理IBM Z体系结构z13处理器的大多数整数和字符串向量指令。
					</li></ul></div><p>有关新选项及其已知限制的更多信息，请参阅<code class="literal">valgrind(1)</code>手册页。
			</p><p>（BZ＃1641029，BZ＃1501419）</p><p><a id="BZ-1641022"></a></p><div class="title"><strong>GDB版本8.2</strong></div><p>Red Hat Enterprise Linux 8随GDB调试器版本8.2一起发布。值得注意的变化包括：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">支持IPv6协议，以便使用GDB和<code class="literal">gdbserver</code>进行远程调试。
					</li><li class="listitem">没有调试信息的调试已得到改进。
					</li><li class="listitem">GDB用户界面中的符号完成已得到改进，通过使用更多语法结构（如ABI标记或命名空间）提供更好的建议。
					</li><li class="listitem">命令现在可以在后台执行。
					</li><li class="listitem">现在可以使用Rust编程语言创建调试程序。
					</li><li class="listitem">调试C和C ++语言已得到改进，解析器支持<code class="literal">_Alignof</code>和<code class="literal">alignof</code>运算符，C ++右值引用和C99可变长度自动数组。
					</li><li class="listitem">GDB扩展脚本现在可以使用Guile脚本语言。
					</li><li class="listitem">扩展的Python脚本语言接口已经通过新的API函数，框架装饰器，过滤器和展开器进行了改进。此外，GDB配置的<code class="literal">.debug_gdb_scripts</code>部分中的脚本会自动加载。
					</li><li class="listitem">GDB现在使用Python版本3来运行其脚本，包括漂亮的打印机，帧装饰器，过滤器和展开器。
					</li><li class="listitem">ARM和64位ARM体系结构已通过流程执行记录和重放进行了改进，包括Thumb 32位和系统调用指令。
					</li><li class="listitem">GDB现在支持64位ARM体系结构上的可伸缩向量扩展（SVE）。
					</li><li class="listitem">增加了对英特尔PKU寄存器和英特尔处理器跟踪的支持。
					</li><li class="listitem">记录和重放功能已经扩展到包括基于Intel的系统上的<code class="literal">rdrand</code>和<code class="literal">rdseed</code>指令。
					</li><li class="listitem">GDB在IBM Z体系结构上的功能已得到扩展，支持跟踪点和快速跟踪点，向量寄存器和ABI以及<code class="literal">Catch</code>系统调用。此外，GDB现在支持该架构的最新指令。
					</li><li class="listitem">GDB现在可以在64位ARM体系结构上使用SystemTap静态用户空间探测器（SDT）。
					</li></ul></div><p>（BZ＃1641022，BZ＃1497096，BZ＃1505346，BZ＃1592332，BZ＃1550502）</p><p><a id="BZ-1512009"></a></p><div class="title"><strong>RHEL的<code class="literal">glibc</code>本地化分布在多个包中</strong></div><p>在RHEL 8中，单个<code class="literal">glibc-common</code>软件包不再提供<code class="literal">glibc</code>语言环境和翻译。相反，每个语言环境和语言都可以在<code class="literal">glibc-langpack- <span class="emphasis"><em>CODE</em></span></code>包中找到。此外，在大多数情况下，默认情况下不安装所有语言环境，只在安装程序中选择这些语言环境。用户必须单独安装所需的所有其他语言环境包，或者如果他们希望可以安装<code class="literal">glibc-all-langpacks</code>以获取包含所有<code class="literal">glibc</code>语言环境的语言环境存档，如前所述。
				</p><p>有关使用langpacks的更多信息，请参阅<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/configuring_basic_system_settings/installing-using-langpacks">安装和使用langpacks</a> 。
			</p><p>（BZ＃1512009）</p><p><a id="JIRA-RHELPLAN-7437"></a></p><div class="title"><strong>GCC版本8.2</strong></div><p>在Red Hat Enterprise Linux 8中，GCC工具链基于GCC 8.2发布系列。值得注意的变化包括：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">已经添加了许多一般优化，例如别名分析，矢量化器改进，相同的代码折叠，过程间分析，商店合并优化传递等。
					</li><li class="listitem">Address Sanitizer已得到改进。已添加泄漏消毒剂和未定义行为消毒剂。
					</li><li class="listitem">现在可以以DWARF5格式生成调试信息。这种能力是实验性的。
					</li><li class="listitem">源代码覆盖率分析工具GCOV已经扩展了各种改进。
					</li><li class="listitem">添加了新警告和改进的诊断功能，可以静态检测更多编程错误。
					</li><li class="listitem">GCC已扩展为提供工具以确保生成的代码的额外加固。与安全性相关的改进包括用于溢出检查的内置插件，针对堆栈冲突的额外保护，检查控制流指令的目标地址，有界字符串操作函数的警告以及用于检测越界数组索引的警告。
					</li></ul></div><p>架构和处理器支持的改进包括：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">英特尔AVX-512架构的多个新架构特定选项，其许多微架构以及英特尔软件防护扩展（SGX）已被添加。
					</li><li class="listitem">代码生成现在可以针对64位ARM体系结构LSE扩展，ARMv8.2-A 16位浮点扩展（FPE）和ARMv8.2-A，ARMv8.3-A和ARMv8.4-A体系结构版本。
					</li><li class="listitem">添加了对IBM Z体系结构的z13和z14处理器的支持。
					</li></ul></div><p>与语言和标准相关的显着变化包括：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">在C语言中编译代码时使用的默认标准已更改为带有GNU扩展的C17。
					</li><li class="listitem">在C ++语言中编译代码时使用的默认标准已更改为使用GNU扩展的C ++ 14。
					</li><li class="listitem">C ++运行时库现在支持C ++ 11和C ++ 14标准。
					</li><li class="listitem">C ++编译器现在实现了C ++ 14标准。
					</li><li class="listitem">对C语言标准C11的支持已得到改进。
					</li><li class="listitem">新的<code class="literal">__auto_type</code> GNU C扩展提供了C语言中C ++ 11 <code class="literal">auto</code>关键字功能的子集。
					</li><li class="listitem">ISO / IEC TS 18661-3：2015标准指定的<code class="literal">_FloatN</code>和<code class="literal">_FloatNx</code>类型名称现在由C前端识别。
					</li><li class="listitem">根据平台ABI的要求，将空类作为参数传递现在不占用Intel 64和AMD64架构上的空间。</li><li class="listitem">已更正C ++ 11 <code class="literal">alignof</code>运算符返回的值以匹配C <code class="literal">_Alignof</code>运算符并返回最小对齐。要查找首选对齐方式，请使用GNU扩展名<code class="literal">__alignof__</code> 。
					</li><li class="listitem">Fortran语言代码的<code class="literal">libgfortran</code>库的主要版本已更改为5。
					</li><li class="listitem">已删除对Ada（GNAT），GCC Go和Objective C / C ++语言的支持。使用Go Toolset进行Go代码开发。
					</li></ul></div><p>（JIRA：RHELPLAN-7437，BZ＃1512593，BZ＃1512378）</p><p><a id="BZ-1633351"></a></p><div class="title"><strong>Go加密库FIPS模式现在尊重系统设置</strong></div><p>以前，Go标准加密库始终使用其FIPS模式，除非在使用库的应用程序的构建时明确禁用它。因此，基于Go的应用程序的用户无法控制是否使用了FIPS模式。通过此更改，如果未在FIPS模式下配置系统，则库不会默认为FIPS模式。因此，RHEL系统上基于Go的应用程序的用户可以更好地控制Go加密库的FIPS模式的使用。
				</p><p>（BZ＃1633351）</p><p><a id="BZ-1641014"></a></p><div class="title"><strong><code class="literal">strace</code>已更新至4.24版</strong></div><p>Red Hat Enterprise Linux 8随<code class="literal">strace</code>工具版本4.24一起发布。值得注意的变化包括：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">使用<code class="literal">-e inject=</code>选项添加了系统调用篡改功能。这包括注入错误，返回值，延迟和信号。
					</li><li class="listitem"><p class="simpara">系统调用限定语法已得到改进：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">添加了<code class="literal">-e trace=/regex</code>选项以使用正则表达式过滤系统调用。
							</li><li class="listitem">在<code class="literal">-e trace=</code>选项中将问号添加到系统调用限定允许<code class="literal">strace</code>继续，即使限定条件与任何系统调用都不匹配。
							</li><li class="listitem">在<code class="literal">-e trace</code>选项中已将个性指定添加到系统调用限定条件中。
							</li></ul></div></li><li class="listitem">已添加解码<code class="literal">kvm vcpu</code>退出原因。为此，请使用<code class="literal">-e kvm=vcpu</code>选项。
					</li><li class="listitem">该<code class="literal">libdw</code>从库<code class="literal">elfutils</code>现在用于堆栈展开的时候<code class="literal">-k</code>使用选项。另外，使用<code class="literal">libiberty</code>库执行符号解码。
					</li><li class="listitem">以前， <code class="literal">-r</code>选项导致<code class="literal">strace</code>忽略<code class="literal">-t</code>选项。这已得到修复，这两个选项现在是独立的。
					</li><li class="listitem">添加了<code class="literal">-A</code>选项以在追加模式下打开输出文件。
					</li><li class="listitem">添加了<code class="literal">-X</code>选项以配置<code class="literal">xlat</code>输出格式。
					</li><li class="listitem">使用<code class="literal">-yy</code>选项解码套接字地址已得到改进。此外，还添加了以<code class="literal">-yy</code>模式打印的块和字符设备编号。
					</li><li class="listitem">现在可以使用IBM Z体系结构上的单个<code class="literal">strace</code>工具跟踪64位和32位二进制文件。因此，RHEL 8中不再存在单独的<code class="literal">strace32</code>软件包。
					</li></ul></div><p>此外，还添加，改进或更新了以下项目的解码：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
						<code class="literal">netlink</code>协议，消息和属性</li><li class="listitem">
						<code class="literal">arch_prctl</code> ， <code class="literal">bpf</code> ， <code class="literal">getsockopt</code> ， <code class="literal">io_pgetevent</code> ， <code class="literal">keyctl</code> ， <code class="literal">prctl</code> ， <code class="literal">pkey_alloc</code> ， <code class="literal">pkey_free</code> ， <code class="literal">pkey_mprotect</code> ， <code class="literal">ptrace</code> ， <code class="literal">rseq</code> ， <code class="literal">setsockopt</code> ， <code class="literal">socket</code> ， <code class="literal">statx</code>和其他系统调用</li><li class="listitem">用于<code class="literal">ioctl</code>系统调用的多个命令</li><li class="listitem">各种常数</li><li class="listitem">使用间接参数对<code class="literal">execveat</code> ， <code class="literal">inotify_add_watch</code> ， <code class="literal">inotify_init</code> ， <code class="literal">select</code> ， <code class="literal">symlink</code> ， <code class="literal">symlinkat</code>系统调用和<code class="literal">mmap</code>系统调用进行路径跟踪</li><li class="listitem">信号代码列表</li></ul></div><p>（BZ＃1641014）</p><p><a id="BZ-1695698"></a></p><div class="title"><strong>RHEL 8中的编译器工具集</strong></div><p>RHEL 8.0提供以下编译器工具集作为Application Streams：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">Clang和LLVM Toolset 7.0.1，提供LLVM编译器基础结构框架，用于C和C ++语言的Clang编译器，LLDB调试器以及用于代码分析的相关工具。请参阅<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_developer_tools/2019.1/html/using_clang_and_llvm_toolset/index">Using Clang和LLVM Toolset</a>文档。
					</li><li class="listitem">Rust Toolset 1.31，它提供Rust编程语言编译器<code class="literal">rustc</code> ， <code class="literal">cargo</code>构建工具和依赖管理器， <code class="literal">cargo-vendor</code>插件和所需的库。请参阅<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_developer_tools/2019.1/html/using_rust_toolset/index">使用Rust工具集</a>文档。
					</li><li class="listitem">Go Toolset 1.11.5，提供Go编程语言工具和库。Go也称为<code class="literal">golang</code> 。请参阅<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_developer_tools/2019.1/html/using_go_toolset/index">使用Go Toolset</a>文档。
					</li></ul></div><p>（ <a class="link" href="https://bugzilla.redhat.com/show_bug.cgi?id=1695698">BZ＃1695698</a> ，BZ＃1613515，BZ＃1613516，BZ＃1613518）</p><p><a id="BZ-1699535"></a></p><div class="title"><strong>RHEL 8中的Java实现和Java工具</strong></div><p>RHEL 8 AppStream存储库包括：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><code class="literal">java-11-openjdk</code>包，提供OpenJDK 11 Java运行时环境和OpenJDK 11 Java软件开发工具包。
					</li><li class="listitem"><code class="literal">java-1.8.0-openjdk</code>包，提供OpenJDK 8 Java运行时环境和OpenJDK 8 Java软件开发工具包。
					</li><li class="listitem"><code class="literal">icedtea-web</code>包，提供Java Web Start的实现。
					</li><li class="listitem"><code class="literal">ant</code>模块，提供用于编译，组装，测试和运行Java应用程序的Java库和命令行工具。<code class="literal">Ant</code>已更新至1.10版。
					</li><li class="listitem"><code class="literal">maven</code>模块，提供软件项目管理和理解工具。之前<code class="literal">Maven</code>仅作为软件集合或在不受支持的可选通道中提供。
					</li><li class="listitem"><code class="literal">scala</code>模块，为Java平台提供通用编程语言。<code class="literal">Scala</code>以前只能作为软件集合使用。
					</li></ul></div><p>此外， <code class="literal">java-1.8.0-ibm</code>软件包通过Supplementary存储库分发。请注意，Red Hat不支持此存储库中的软件包。
			</p><p>（BZ＃1699535）</p><p><a id="BZ-1704867"></a></p><div class="title"><strong>C ++ ABI在<code class="literal">std::string</code>和<code class="literal">std::list</code>更改</strong></div><p>来自<code class="literal">libstdc++</code>库的<code class="literal">std::string</code>和<code class="literal">std::list</code>类的应用程序二进制接口（ABI）在RHEL 7（GCC 4.8）和RHEL 8（GCC 8）之间进行了更改，以符合C ++ 11标准。<code class="literal">libstdc++</code>库既支持新旧ABI，也支持其他一些C ++系统库。因此，需要重建动态链接这些库的应用程序。这会影响所有C ++标准模式，包括C ++ 98。它还会影响使用RHEL 7的Red Hat Developer Toolset编译器构建的应用程序，这使得旧的ABI保持与系统库的兼容性。
				</p><p>（BZ＃1704867）</p></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="filesystems-storage"></a>文件系统和存储</h1></div></div></div><p><a id="BZ-1649493"></a></p><div class="title"><strong>支持数据完整性字段/数据完整性扩展（DIF / DIX）</strong></div><p>完全支持DIF / DIX，前提是硬件供应商已对其进行限定，并为RHEL上的特定HBA和存储阵列配置提供完全支持。其他配置不支持DIF / DIX。它不支持在引导设备上使用，并且虚拟客户端不支持它。启用DIF / DIX时，Red Hat不支持使用ASMLib。在存储设备上启用/禁用DIF / DIX，其涉及到应用程序的各种层（包括）。用于在存储设备上激活DIF的方法取决于设备。
				</p><p>有关DIF / DIX功能的更多信息，请参阅<a class="link" href="https://access.redhat.com/solutions/41548">什么是DIF / DIX</a> 。</p><p>（BZ＃1649493）</p><p><a id="BZ-1494028"></a></p><div class="title"><strong>XFS现在支持共享的写时复制数据范围</strong></div><p>XFS文件系统支持共享的写时复制数据扩展功能。此功能允许两个或多个文件共享一组公共数据块。当共享公共块的任一文件发生更改时，XFS会断开与公共块的链接并创建新文件。这类似于其他文件系统中的写时复制（COW）功能。
				</p><p>共享的写时复制数据范围是：</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">快速</span></dt><dd>创建共享副本不使用磁盘I / O.</dd><dt><span class="term">空间高效</span></dt><dd>共享块不会占用额外的磁盘空间。
						</dd><dt><span class="term">透明</span></dt><dd>共享公共块的文件就像常规文件一样。
						</dd></dl></div><p>用户空间实用程序可以使用共享的写时复制数据范围：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">高效的文件克隆，例如使用<code class="literal">cp --reflink</code>命令</li><li class="listitem">每个文件的快照</li></ul></div><p>内核子系统（如Overlayfs和NFS）也使用此功能来实现更高效的操作。
			</p><p>现在，在创建XFS文件系统时，默认情况下会启用共享的写时复制数据扩展区，从<code class="literal">xfsprogs</code>软件包版本<code class="literal">4.17.0-2.el8</code> 。
			</p><p>请注意，Direct Access（DAX）设备当前不支持具有共享写时复制数据范围的XFS。要创建没有此功能的XFS文件系统，请使用以下命令：</p><pre class="screen"># mkfs.xfs -m reflink=0 <span class="emphasis"><em>block-device</em></span></pre><p>Red Hat Enterprise Linux 7只能以只读模式安装具有共享写时复制数据扩展区的XFS文件系统。
			</p><p>（BZ＃1494028）</p><p><a id="BZ-1563617"></a></p><div class="title"><strong>最大XFS文件系统大小为1024 TiB</strong></div><p>XFS文件系统支持的最大大小已从500 TiB增加到1024 TiB。</p><p>大于500 TiB的文件系统要求：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">元数据CRC功能和免费inode btree功能都以文件系统格式启用，并且</li><li class="listitem">分配组大小至少为512 GiB。</li></ul></div><p>在RHEL 8中， <code class="literal">mkfs.xfs</code>实用程序默认创建满足这些要求的文件系统。
			</p><p>不支持将不满足这些要求的较小文件系统发展为大于500 TiB的新大小。
			</p><p>（BZ＃1563617）</p><p><a id="BZ-1695584"></a></p><div class="title"><strong><code class="literal">ext4</code>文件系统现在支持<code class="literal">metadata checksum</code></strong></div><p>通过此更新， <code class="literal">ext4</code>元数据受<code class="literal">checksums</code>保护。这使文件系统能够识别损坏的元数据，从而避免损坏并提高文件系统的弹性。
				</p><p>（ <a class="link" href="https://bugzilla.redhat.com/show_bug.cgi?id=1695584">BZ＃1695584</a> ）</p><p><a id="BZ-1534087"></a></p><div class="title"><strong>VDO现在支持所有体系结构</strong></div><p>虚拟数据优化器（VDO）现在可用于RHEL 8支持的所有体系结构。
				</p><p>有关支持的体系结构列表，请参阅<a class="xref" href="architectures.html" title="Chapter 9. 架构">第2章“ <em>体系结构”</em></a> 。
			</p><p>（BZ＃1534087）</p><p><a id="BZ-1649582"></a></p><div class="title"><strong>BOOM启动管理器简化了创建启动条目的过程</strong></div><p>BOOM是Linux系统的启动管理器，它使用支持引导入口配置的BootLoader规范的引导加载程序。它支持灵活的引导配置，并简化了新的或修改的引导条目的创建：例如，引导使用LVM创建的系统的快照映像。</p><p>BOOM不会修改现有的引导加载程序配置，只会插入其他条目。维护现有配置，并且任何分发集成（例如内核安装和更新脚本）将继续像以前一样运行。
			</p><p>BOOM具有简化的命令行界面（CLI）和API，可简化创建引导条目的任务。
			</p><p>（BZ＃1649582）</p><p><a id="BZ-1564540"></a></p><div class="title"><strong>LUKS2现在是加密卷的默认格式</strong></div><p>在RHEL 8中，LUKS版本2（LUKS2）格式取代了传统的LUKS（LUKS1）格式。<code class="literal">dm-crypt</code>子系统和<code class="literal">cryptsetup</code>工具现在使用LUKS2作为加密卷的默认格式。LUKS2为部分元数据损坏事件提供元数据冗余和自动恢复的加密卷。
				</p><p>由于内部灵活的布局，LUKS2也是未来功能的推动者。它支持通过<code class="literal">libcryptsetup</code>中内置的通用内核密钥环令牌自动解锁，允许用户使用存储在内核密钥环保留服务中的密码来解锁LUKS2卷。
			</p><p>其他值得注意的增强功能包括：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">使用包装密钥密码方案的受保护密钥设置。
					</li><li class="listitem">更容易与基于策略的解密（Clevis）集成。
					</li><li class="listitem">最多32个密钥插槽 -  LUKS1仅提供8个密钥插槽。
					</li></ul></div><p>有关更多详细信息，请参阅<code class="literal">cryptsetup(8)</code>和<code class="literal">cryptsetup-reencrypt(8)</code>手册页。
			</p><p>（BZ＃1564540）</p><p><a id="BZ-1649497"></a></p><div class="title"><strong>Broadcom Emulex和Marvell Qlogic光纤通道适配器完全支持NVMe / FC</strong></div><p>当与Broadcom Emulex和具有NVMe支持的Marvell Qlogic光纤通道32Gbit适配器一起使用时，NVMe over Fibre Channel（NVMe / FC）传输类型现在在Initiator模式下得到完全支持。
				</p><p>除了之前在Red Hat Enterprise Linux中引入的远程直接内存访问（RDMA）协议之外，NVMe over Fibre Channel是非易失性存储器快速（NVMe）协议的附加结构传输类型。
			</p><p>启用NVMe / FC：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">要在<code class="literal">lpfc</code>驱动程序中启用NVMe / FC，请编辑<code class="literal">/etc/modprobe.d/lpfc.conf</code>文件并添加以下选项：</p><pre class="screen">lpfc_enable_fc4_type=3</pre></li><li class="listitem"><p class="simpara">要在<code class="literal">qla2xxx</code>驱动程序中启用NVMe / FC，请编辑<code class="literal">/etc/modprobe.d/qla2xxx.conf</code>文件并添加以下选项：</p><pre class="screen">qla2xxx.ql2xnvmeenable=1</pre></li></ul></div><p>附加限制：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">NVMe / FC不支持多路径。</li><li class="listitem">NVMe / FC不支持NVMe群集。</li><li class="listitem">使用Marvell Qlogic适配器，Red Hat Enterprise Linux不支持同时在启动器端口上使用NVMe / FC和SCSI / FC。
					</li><li class="listitem">
						NVMe / FC不支持<code class="literal">kdump</code> 。</li><li class="listitem">从存储区域网络（SAN）引导NVMe / FC不受支持。
					</li></ul></div><p>（BZ＃1649497）</p><p><a id="BZ-1676598"></a></p><div class="title"><strong>新的<code class="literal">scan_lvs</code>配置设置</strong></div><p>添加了新的<code class="literal">lvm.conf</code>配置文件设置<code class="literal">scan_lvs</code> ，默认情况下设置为0。新的默认行为阻止LVM查找可能存在于LV之上的PV;也就是说，它不会扫描活动LV以获得更多PV。默认设置还可以防止LVM在LV之上创建PV。</p><p>通过放置在LV顶部的VM映像可以在LV之上分层PV，在这种情况下，主机访问PV是不安全的。避免这种不安全的访问是新默认行为的主要原因。此外，在具有许多活动LV的环境中，LVM完成的设备扫描量可以显着降低。
			</p><p>通过将此设置更改为1，可以恢复以前的行为。
			</p><p>（ <a class="link" href="https://bugzilla.redhat.com/show_bug.cgi?id=1676598">BZ＃1676598</a> ）</p><p><a id="BZ-1643294"></a></p><div class="title"><strong>DM Multipath配置文件的新<code class="literal">overrides</code>部分</strong></div><p><code class="literal">/etc/multipath.conf</code>文件现在包含一个<code class="literal">overrides</code>部分，允许您为所有设备设置配置值。DM Multipath将这些属性用于所有设备，除非它们被<code class="literal">/etc/multipath.conf</code>文件的<code class="literal">multipaths</code>部分中指定的属性覆盖，以包含设备的路径。此功能替换配置文件的<code class="literal">devices</code>部分的<code class="literal">all_devs</code>参数，该参数不再受支持。
				</p><p>（BZ＃1643294）</p><p><a id="BZ-1499442"></a></p><div class="title"><strong>现在支持从NVDIMM设备安装和引导</strong></div><p>在此更新之前，安装程序会忽略任何模式下的非易失性双列直插式内存模块（NVDIMM）设备。
				</p><p>通过此更新，支持NVDIMM设备的内核改进为数据库或分析工作负载等写密集型应用程序提供了改进的系统性能和增强的文件系统访问，并降低了CPU开销。
			</p><p>此更新引入了以下支持：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">使用NVDIMM设备使用<code class="literal">nvdimm</code> Kickstart命令和GUI进行安装，可以在扇区模式下从NVDIMM设备安装和启动，并在安装过程中将NVDIMM设备重新配置为扇区模式。
					</li><li class="listitem"><span class="strong"><strong>Anaconda</strong></span>的<code class="literal">Kickstart</code>脚本的扩展，带有处理NVDIMM设备的命令。
					</li><li class="listitem"><code class="literal">grub2</code> ， <code class="literal">efibootmgr</code>和<code class="literal">efivar</code>系统组件处理和启动NVDIMM设备的能力。
					</li></ul></div><p>（BZ＃1499442）</p><p><a id="BZ-1643550"></a></p><div class="title"><strong>DM Multipath中边缘路径的检测得到了改进</strong></div><p><code class="literal">multipathd</code>服务现在支持改进的边缘路径检测。这有助于多路径设备避免可能重复失败的路径，并提高性能。边际路径是具有持久但间歇性I / O错误的路径。
				</p><p><code class="literal">/etc/multipath.conf</code>文件中的以下选项控制边际路径行为：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
						<code class="literal">marginal_path_double_failed_time</code> ，</li><li class="listitem">
						<code class="literal">marginal_path_err_sample_time</code> ，</li><li class="listitem">
						<code class="literal">marginal_path_err_rate_threshold</code> ，和</li><li class="listitem">
						<code class="literal">marginal_path_err_recheck_gap_time</code> 。
					</li></ul></div><p>DM Multipath禁用路径并使用重复的I / O对配置的采样时间进行测试，如果：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">列出的<code class="literal">multipath.conf</code>选项已设置，</li><li class="listitem">路径在配置的时间内失败两次，并且</li><li class="listitem">其他路径可用。
					</li></ul></div><p>如果在此测试期间路径的配置错误率超过配置的错误率，则DM Multipath会在配置的间隔时间内忽略它，然后重新测试它以查看它是否运行良好以便恢复。
			</p><p>有关更多信息，请参见<code class="literal">multipath.conf</code>手册页。
			</p><p>（BZ＃1643550）</p><p><a id="BZ-1647612"></a></p><div class="title"><strong>块设备上的多队列调度</strong></div><p>块设备现在在Red Hat Enterprise Linux 8中使用多队列调度。这使得块层性能可以通过快速固态驱动器（SSD）和多核系统很好地扩展。
				</p><p>已删除RHEL 7及更早版本中提供的传统调度程序。RHEL 8仅支持多队列调度程序。
			</p><p>（BZ＃1647612）</p></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="high-availability-clusters"></a>高可用性和集群</h1></div></div></div><p><a id="BZ-1578891"></a></p><div class="title"><strong>新的<code class="literal">pcs</code>命令列出可用的看门狗设备和测试看门狗设备</strong></div><p>为了使用Pacemaker配置SBD，需要一个有效的看门狗设备。此版本支持<code class="literal">pcs stonith sbd watchdog list</code>命令列出本地节点上的可用看门狗设备，以及用于测试看门狗设备的<code class="literal">pcs stonith sbd watchdog test</code>命令。有关<code class="literal">sbd</code>命令行工具的信息，请参见<code class="literal">sbd</code> （8）手册页。
				</p><p>（BZ＃1578891）</p><p><a id="BZ-1591308"></a></p><div class="title"><strong><code class="literal">pcs</code>命令现在支持按操作过滤资源故障及其间隔</strong></div><p>Pacemaker现在可以在资源名称和节点之上跟踪每个资源操作的资源故障。<code class="literal">pcs resource failcount show</code>命令现在允许按资源，节点，操作和间隔过滤失败。它提供了一个选项，用于显示按资源和节点聚合的故障，或按资源，节点，操作及其间隔详细说明的故障。此外， <code class="literal">pcs resource cleanup</code>命令现在允许按资源，节点，操作和间隔过滤失败。
				</p><p>（BZ＃1591308）</p><p><a id="BZ-1615420"></a></p><div class="title"><strong>在<code class="literal">corosync</code>日志中启用时间戳</strong></div><p><code class="literal">corosync</code>日志以前没有包含时间戳，这使得很难将其与来自其他节点和守护进程的日志相关联。在此版本中， <code class="literal">corosync</code>日志中存在时间戳。
				</p><p>（BZ＃1615420）</p><p><a id="BZ-1158816"></a></p><div class="title"><strong><code class="literal">pcs cluster setup</code>新格式， <code class="literal">pcs cluster node add</code>和<code class="literal">pcs cluster node remove</code>命令</strong></div><p>在Red Hat Enterprise Linux 8中， <code class="literal">pcs</code>完全支持Corosync 3， <code class="literal">knet</code>和节点名称。现在需要节点名称，并以节点标识符的角色替换节点地址。节点地址现在是可选的。
				</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">在<code class="literal">pcs host auth</code>命令中，节点地址默认为节点名称。
					</li><li class="listitem">在<code class="literal">pcs cluster setup</code>和<code class="literal">pcs cluster node add</code>命令中，节点地址默认为<code class="literal">pcs host auth</code>命令中指定的节点地址。
					</li></ul></div><p>通过这些更改，用于设置群集，向群集添加节点以及从群集中删除节点的命令格式已更改。有关这些新命令格式的信息，请参阅<code class="literal">pcs cluster setup</code>的帮助显示， <code class="literal">pcs cluster node add</code>和<code class="literal">pcs cluster node remove</code>命令。
			</p><p>（BZ＃1158816）</p><p><a id="BZ-1654280"></a></p><div class="title"><strong>新的<code class="literal">pcs</code>命令</strong></div><p>Red Hat Enterprise Linux 8引入了以下新命令。
				</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">RHEL 8引入了一个新命令， <code class="literal">pcs cluster node add-guest | remove-guest</code> ，取代了<code class="literal">pcs cluster remote-node add | remove</code>在RHEL 7中<code class="literal">pcs cluster remote-node add | remove</code>命令。
					</li><li class="listitem">RHEL 8引入了一个新命令<code class="literal">pcs quorum unblock</code> ，它取代了RHEL 7中的<code class="literal">pcs cluster quorum unblock</code>命令。
					</li><li class="listitem"><code class="literal">pcs resource failcount reset</code>命令已被删除，因为它复制了<code class="literal">pcs resource cleanup</code>命令的功能。
					</li><li class="listitem"><p class="simpara">RHEL 8引入了新命令，用于替换RHEL 7中的<code class="literal">pcs resource [show]</code>命令：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">RHEL 8中的<code class="literal">pcs resource [status]</code>命令替换了RHEL 7中的<code class="literal">pcs resource [show]</code>命令。
							</li><li class="listitem">RHEL 8中的<code class="literal">pcs resource config</code>命令替换了RHEL 7中的<code class="literal">pcs resource [show] --full</code>命令。
							</li><li class="listitem">RHEL 8中的<code class="literal">pcs resource config <span class="emphasis"><em>resource id</em></span></code>命令替换了RHEL 7中的<code class="literal">pcs resource show <span class="emphasis"><em>resource id</em></span></code>命令。
							</li></ul></div></li><li class="listitem"><p class="simpara">RHEL 8引入了新命令，用于替换RHEL 7中的<code class="literal">pcs stonith [show]</code>命令：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">RHEL 8中的<code class="literal">pcs stonith [status]</code>命令替换了RHEL 7中的<code class="literal">pcs stonith [show]</code>命令。
							</li><li class="listitem">RHEL 8中的<code class="literal">pcs stonith config</code>命令替换了RHEL 7中的<code class="literal">pcs stonith [show] --full</code>命令。
							</li><li class="listitem">RHEL 8中的<code class="literal">pcs stonith config <span class="emphasis"><em>resource id</em></span></code>命令替换了RHEL 7中的<code class="literal">pcs stonith show <span class="emphasis"><em>resource id</em></span></code>命令。
							</li></ul></div></li></ul></div><p>（BZ＃1654280）</p><p><a id="BZ-1543494"></a></p><div class="title"><strong>RHEL 8中的Pacemaker 2.0.0</strong></div><p><code class="literal">pacemaker</code>包已升级到Pacemaker 2.0.0的上游版本，该版本提供了许多错误修复和增强功能：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">Pacemaker详细日志现在默认为<code class="literal">/var/log/pacemaker/pacemaker.log</code> （不直接在<code class="literal">/var/log</code>或与<code class="literal">/var/log/cluster</code>下的<code class="literal">corosync</code>日志结合使用）。
					</li><li class="listitem">Pacemaker守护程序进程已重命名，以便更直观地读取日志。例如， <code class="literal">pengine</code>已重命名为<code class="literal">pacemaker-schedulerd</code> 。
					</li><li class="listitem">已删除对已弃用的<code class="literal">default-resource-stickiness</code>和<code class="literal">is-managed-default</code>集群属性的支持。应该在资源默认值中设置<code class="literal">resource-stickiness</code>和<code class="literal">is-managed</code>属性。使用已弃用语法的现有配置（尽管不是新创建的配置）将自动更新以使用支持的语法。
					</li><li class="listitem">有关更改的更完整列表，请参阅<a class="link" href="https://access.redhat.com/articles/3681151">Red Hat Enterprise Linux 8中的Pacemaker 2.0升级</a> 。
					</li></ul></div><p>建议使用Red Hat Enterprise Linux 7或更早版本升级现有集群的用户在所有集群节点上升级RHEL之前和之后，在任何集群节点上运行<code class="literal">pcs cluster cib-upgrade</code> 。
			</p><p>（ <a class="link" href="https://bugzilla.redhat.com/show_bug.cgi?id=1543494">BZ＃1543494</a> ）</p><p><a id="BZ-1542288"></a></p><div class="title"><strong>主资源重命名为可升级的克隆资源</strong></div><p>红帽企业Linux（RHEL）8支持Pacemaker 2.0，其中主/从资源不再是单独的资源类型，而是具有<code class="literal">promotable</code>提升元属性设置为<code class="literal">true</code>的标准克隆资源。为支持此更新，已实施以下更改：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">使用<code class="literal">pcs</code>命令不再可以创建主资源。相反，可以创建<code class="literal">promotable</code>克隆资源。相关的关键字和命令已从<code class="literal">master</code>更改为<code class="literal">promotable</code> 。
					</li><li class="listitem">所有现有主资源都显示为可升级克隆资源。
					</li><li class="listitem">在Web UI中管理RHEL7集群时，主资源仍称为master，因为RHEL7集群不支持可升级克隆。
					</li></ul></div><p>（BZ＃1542288）</p><p><a id="BZ-1549535"></a></p><div class="title"><strong>用于验证集群中节点的新命令</strong></div><p>红帽企业Linux（RHEL）8对用于验证群集中节点的命令进行了以下更改。
				</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">用于身份验证的新命令是<code class="literal">pcs host auth</code> 。此命令允许用户指定主机名，地址和<code class="literal">pcsd</code>端口。
					</li><li class="listitem"><code class="literal">pcs cluster auth</code>命令仅对本地群集中的节点进行身份验证，并且不接受节点列表</li><li class="listitem">现在可以为每个节点指定一个地址。然后， <code class="literal">pcs</code> / <code class="literal">pcsd</code>将使用指定的地址与每个节点通信。这些地址可能与<code class="literal">corosync</code>内部使用的地址不同。
					</li><li class="listitem"><code class="literal">pcs pcsd clear-auth</code>命令已被<code class="literal">pcs pcsd deauth</code>和<code class="literal">pcs host deauth</code>命令取代。新命令允许用户取消验证单个主机以及所有主机。
					</li><li class="listitem">以前，节点身份验证是双向的，并且运行<code class="literal">pcs cluster auth</code>命令会导致所有指定节点相互进行身份验证。但是， <code class="literal">pcs host auth</code>命令仅导致本地主机针对指定节点进行身份验证。这样可以在运行此命令时更好地控制对其他节点进行身份验证的节点。在群集设置本身以及添加节点时， <code class="literal">pcs</code>自动同步群集上的令牌，因此群集中的所有节点仍然会像以前一样自动进行身份验证，群集节点可以相互通信。
					</li></ul></div><p>请注意，这些更改不向后兼容。在RHEL 7系统上进行身份验证的节点需要再次进行身份验证。
			</p><p>（BZ＃1549535）</p><p><a id="BZ-1620190"></a></p><div class="title"><strong><code class="literal">pcs</code>命令现在支持屏蔽历史记录的显示，清理和同步</strong></div><p>Pacemaker的fence守护进程跟踪所有围栏操作的历史记录（待处理，成功和失败）。在此版本中， <code class="literal">pcs</code>命令允许用户通过以下方式访问防护历史记录：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><code class="literal">pcs status</code>命令显示失败和挂起的防护操作</li><li class="listitem"><code class="literal">pcs status --full</code>命令显示整个防护历史记录</li><li class="listitem"><code class="literal">pcs stonith history</code>命令提供显示和清除防护历史记录的选项</li><li class="listitem">虽然防护历史记录是自动同步的，但是<code class="literal">pcs stonith history</code>命令现在支持<code class="literal">update</code>选项，允许用户在必要时手动同步防护历史记录</li></ul></div><p>（BZ＃1620190，BZ＃1615891）</p></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="networking"></a>联网</h1></div></div></div><p><a id="BZ-1644030"></a></p><div class="title"><strong><code class="literal">nftables</code>将<code class="literal">iptables</code>替换为默认的网络包过滤框架</strong></div><p><code class="literal">nftables</code>框架提供了数据包分类工具，它是<code class="literal">iptables</code> ， <code class="literal">ip6tables</code> ， <code class="literal">arptables</code>和<code class="literal">ebtables</code>工具的指定后继者。与以前的数据包过滤工具相比，它在方便性，功能和性能方面提供了许多改进，最值得注意的是：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">查找表而不是线性处理</li><li class="listitem"><code class="literal">IPv4</code>和<code class="literal">IPv6</code>协议的单一框架</li><li class="listitem">所有规则都以原子方式应用，而不是获取，更新和存储完整的规则集</li><li class="listitem">支持在规则集（ <code class="literal">nftrace</code> ）中调试和跟踪以及监视跟踪事件（在<code class="literal">nft</code>工具中）</li><li class="listitem">更一致和紧凑的语法，没有特定于协议的扩展</li><li class="listitem">适用于第三方应用程序的Netlink API</li></ul></div><p>与<code class="literal">iptables</code>类似， <code class="literal">nftables</code>使用表来存储链。链包含执行操作的单独规则。<code class="literal">nft</code>工具取代了之前的数据包过滤框架中的所有工具。所述<code class="literal">libnftables</code>库可以被用于具有低级别的相互作用<code class="literal">nftables</code>网络链路API在<code class="literal">libmnl</code>库。
			</p><p><code class="literal">iptables</code> ， <code class="literal">ip6tables</code> ， <code class="literal">ebtables</code>和<code class="literal">arptables</code>工具被基于nftables的直接替换替换为同名。虽然外部行为与传统行为相同，但在内部，他们通过兼容性接口在需要时使用<code class="literal">nftables</code>和传统的<code class="literal">netfilter</code>内核模块。
			</p><p>可以使用<code class="literal">nftables</code> <code class="literal">nft list ruleset</code>命令观察模块对<code class="literal">nftables</code>规则<code class="literal">nft list ruleset</code> 。由于这些工具将表，链和规则添加到<code class="literal">nftables</code>规则集，请注意<code class="literal">nftables</code>规则集操作（例如<code class="literal">nftables</code> <code class="literal">nft flush ruleset</code>命令）可能会影响使用以前单独的旧命令安装的规则集。
			</p><p>要快速识别工具的哪个变体，版本信息已更新为包含后端名称。在RHEL 8中，基于nftables的<code class="literal">iptables</code>工具打印以下版本字符串：</p><pre class="screen">$ iptables --version
iptables v1.8.0 (nf_tables)</pre><p>为了进行比较，如果存在legacy <code class="literal">iptables</code>工具，则会打印以下版本信息：</p><pre class="screen">$ iptables --version
iptables v1.8.0 (legacy)</pre><p>（BZ＃1644030）</p><p><a id="BZ-1562998"></a></p><div class="title"><strong>RHEL 8中值得注意的TCP功能</strong></div><p>红帽企业版Linux 8随TCP网络堆栈版本4.18一起发布，提供更高的性能，更好的可扩展性和更高的稳定性。特别是对于具有高入口连接速率的繁忙TCP服务器，性能得到提升。
				</p><p>此外，两种新的TCP拥塞算法<code class="literal">BBR</code>和<code class="literal">NV</code>可用，在大多数情况下提供比立方更低的延迟和更好的吞吐量。
			</p><p>（BZ＃1562998）</p><p><a id="BZ-1509026"></a></p><div class="title"><strong><code class="literal">firewalld</code>默认使用<code class="literal">nftables</code></strong></div><p>通过此更新， <code class="literal">nftables</code>过滤子系统是<code class="literal">firewalld</code>守护程序的默认防火墙后端。要更改后端，请使用<code class="literal">/etc/firewalld.conf</code>文件中的<code class="literal">FirewallBackend</code>选项。
				</p><p>使用<code class="literal">nftables</code>时，此更改会引入以下行为<code class="literal">nftables</code> ：</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p class="simpara">
						<code class="literal">iptables</code>规则执行总是在<code class="literal">firewalld</code>规则之前发生</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
								<code class="literal">iptables</code> <code class="literal">DROP</code>意味着<code class="literal">firewalld</code>永远不会看到数据包
							</li><li class="listitem">
								<code class="literal">iptables</code> <code class="literal">ACCEPT</code>意味着数据包仍然受到<code class="literal">firewalld</code>规则的约束</li></ul></div></li><li class="listitem">
						<code class="literal">firewalld</code>直接规则仍然通过<code class="literal">iptables</code>实现，而其他<code class="literal">firewalld</code>功能使用<code class="literal">nftables</code>
					</li><li class="listitem">直接规则执行发生在<code class="literal">firewalld</code>通用接受已建立的连接之前</li></ol></div><p>（BZ＃1509026）</p><p><a id="BZ-1582538"></a></p><div class="title"><strong>RHEL 8中<code class="literal">wpa_supplicant</code>显着变化</strong></div><p>在Red Hat Enterprise Linux（RHEL）8中， <code class="literal">wpa_supplicant</code>包是在启用<code class="literal">CONFIG_DEBUG_SYSLOG</code>情况下构建的。这允许使用<code class="literal">journalctl</code>实用程序读取<code class="literal">wpa_supplicant</code>日志，而不是检查<code class="literal">/var/log/wpa_supplicant.log</code>文件的内容。
				</p><p>（BZ＃1582538）</p><p><a id="BZ-1555013"></a></p><div class="title"><strong><span class="strong"><strong>NetworkManager</strong></span>现在支持SR-IOV虚拟功能</strong></div><p>在Red Hat Enterprise Linux 8.0中， <span class="strong"><strong>NetworkManager</strong></span>允许为支持单根I / O虚拟化（SR-IOV）的接口配置虚拟功能（VF）的数量。此外， <span class="strong"><strong>NetworkManager</strong></span>允许配置<span class="strong"><strong>VF的</strong></span>某些属性，例如MAC地址，VLAN， <code class="literal">spoof checking</code>设置和允许的比特率。请注意， <code class="literal">sriov</code>连接设置中提供了与SR-IOV相关的所有属性。有关更多详细信息，请参见<code class="literal">nm-settings(5)</code>手册页。
				</p><p>（BZ＃1555013）</p><p><a id="BZ-1261167"></a></p><div class="title"><strong>现在支持IPVLAN虚拟网络驱动程序</strong></div><p>在Red Hat Enterprise Linux 8.0中，内核包括对IPVLAN虚拟网络驱动程序的支持。通过此更新，IPVLAN虚拟网络接口卡（NIC）可为多个容器启用网络连接，从而将单个MAC地址暴露给本地网络。这允许单个主机具有许多容器，以克服对等网络设备支持的MAC地址数量的可能限制。
				</p><p>（BZ＃1261167）</p><p><a id="BZ-1555012"></a></p><div class="title"><strong><span class="strong"><strong>NetworkManager</strong></span>支持连接的通配符接口名称匹配</strong></div><p>以前，可以仅使用接口名称上的完全匹配来限制与给定接口的连接。通过此更新，连接具有一个新的<code class="literal">match.interface-name</code>属性，该属性支持通配符。此更新使用户能够使用通配符模式以更灵活的方式为连接选择接口。
				</p><p>（BZ＃1555012）</p><p><a id="BZ-1562987"></a></p><div class="title"><strong>网络堆栈的改进4.18</strong></div><p>红帽企业Linux 8.0包括升级到上游版本4.18的网络堆栈，它提供了一些错误修复和增强功能。值得注意的变化包括：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">引入了新的卸载功能，例如<code class="literal">UDP_GSO</code> ，以及一些设备驱动程序<code class="literal">GRO_HW</code> 。</li><li class="listitem">改进了用户数据报协议（UDP）的显着可扩展性。
					</li><li class="listitem">改进了通用繁忙轮询代码。
					</li><li class="listitem">改进了IPv6协议的可扩展性。
					</li><li class="listitem">改进了路由代码的可扩展性。
					</li><li class="listitem">添加了新的默认传输队列调度算法<code class="literal">fq_codel</code> ，该算法改善了传输延迟。
					</li><li class="listitem">改进了一些传输队列调度算法的可扩展性。例如， <code class="literal">pfifo_fast</code>现在无锁。
					</li><li class="listitem">通过删除垃圾收集内核线程来提高IP重组单元的可扩展性，并且ip片段仅在超时时到期。因此，DoS下的CPU使用率要低得多，并且最大可持续片段丢弃率受到为IP重组单元配置的内存量的限制。
					</li></ul></div><p>（BZ＃1562987）</p><p><a id="BZ-1564596"></a></p><div class="title"><strong>将<code class="literal">iptables</code>转换为<code class="literal">nftables</code>新工具</strong></div><p>此更新添加了<code class="literal">iptables-translate</code>和<code class="literal">ip6tables-translate</code>工具，将现有的<code class="literal">iptables</code>或<code class="literal">ip6tables</code>规则转换为<code class="literal">nftables</code>的等效规则。请注意，某些扩展缺少翻译支持。如果存在这样的扩展名，该工具将打印带有<code class="literal">#</code>符号前缀的未翻译规则。例如：</p><pre class="screen">| % iptables-translate -A INPUT -j CHECKSUM --checksum-fill
| nft # -A INPUT -j CHECKSUM --checksum-fill</pre><p>此外，用户可以使用<code class="literal">iptables-restore-translate</code>和<code class="literal">ip6tables-restore-translate</code>工具来转换规则转储。请注意，在此之前，用户可以使用<code class="literal">iptables-save</code>或<code class="literal">ip6tables-save</code>命令打印当前规则的转储。例如：</p><pre class="screen">| % sudo iptables-save &gt;/tmp/iptables.dump
| % iptables-restore-translate -f /tmp/iptables.dump
| # Translated by iptables-restore-translate v1.8.0 on Wed Oct 17 17:00:13 2018
| add table ip nat
| ...</pre><p>（BZ＃1564596）</p><p><a id="BZ-1557035"></a></p><div class="title"><strong>使用<span class="strong"><strong>NetworkManager</strong></span>将新功能添加到VPN</strong></div><p>在Red Hat Enterprise Linux 8.0中， <span class="strong"><strong>NetworkManager</strong></span>为VPN提供以下新功能：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">支持Internet密钥交换版本2（IKEv2）协议。
					</li><li class="listitem">增加了一些更<span class="strong"><strong>Libreswan</strong></span>选项，如<code class="literal">rightid</code> ， <code class="literal">leftcert</code> ， <code class="literal">narrowing</code> ， <code class="literal">rekey</code> ， <code class="literal">fragmentation</code>的选项。有关支持的选项的更多详细信息，请参阅<code class="literal">nm-settings-libreswan</code>手册页。
					</li><li class="listitem">更新了默认密码。这意味着当用户未指定密码时， <span class="strong"><strong>NetworkManager-libreswan</strong></span>插件允许<span class="strong"><strong>Libreswan</strong></span>应用程序选择系统默认密码。唯一的例外是用户选择IKEv1主动模式配置。在这种情况下， <code class="literal">ike = aes256-sha1;modp1536</code>和<code class="literal">eps = aes256-sha1</code>值将传递给<span class="strong"><strong>Libreswan</strong></span> 。
					</li></ul></div><p>（BZ＃1557035）</p><p><a id="BZ-1273139"></a></p><div class="title"><strong>添加到SCTP的新数据块类型<code class="literal">I-DATA</code></strong></div><p>此更新将新的数据块类型， <code class="literal">I-DATA</code>和流调度程序添加到流控制传输协议（SCTP）。以前，SCTP以与用户发送的顺序相同的顺序发送用户消息。因此，大型SCTP用户消息会阻止任何流中的所有其他消息，直到完全发送。使用<code class="literal">I-DATA</code>块时，传输序列号（TSN）字段不会过载。因此，SCTP现在可以以不同的方式调度流，并且<code class="literal">I-DATA</code>允许用户消息交织（RFC 8260）。请注意，两个对等体必须支持<code class="literal">I-DATA</code>块类型。
				</p><p>（BZ＃1273139）</p><p><a id="BZ-1335409"></a></p><div class="title"><strong><code class="literal">NetworkManager</code>支持配置<code class="literal">ethtool</code>卸载功能</strong></div><p>通过此增强功能， <code class="literal">NetworkManager</code>支持配置<code class="literal">ethtool</code>卸载功能，用户不再需要使用init脚本或<code class="literal">NetworkManager</code>调度程序脚本。因此，用户现在可以使用以下方法之一将卸载功能配置为连接配置文件的一部分：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">通过使用<code class="literal">nmcli</code>实用程序</li><li class="listitem">通过编辑<code class="literal">/etc/NetworkManager/system-connections/</code>目录中的密钥文件</li><li class="listitem">通过编辑<code class="literal">/etc/sysconfig/network-scripts/ifcfg-*</code>文件</li></ul></div><p>请注意，图形界面和<code class="literal">nmtui</code>实用程序当前不支持此功能。
			</p><p>（BZ＃1335409）</p><p><a id="BZ-1515987"></a></p><div class="title"><strong>RHEL 8中的TCP BBR支持</strong></div><p>红帽企业Linux（RHEL）8现在支持新的TCP拥塞控制算法，瓶颈带宽和往返时间（BBR）。BBR尝试确定瓶颈链路的带宽和往返时间（RTT）。大多数拥塞算法都基于数据包丢失（包括CUBIC，默认的Linux TCP拥塞控制算法），这在高吞吐量链路上存在问题。BBR不会直接对丢失事件做出反应，它会调整TCP调步速率以使其与可用带宽相匹配。TCP BBR的用户应切换到所有相关接口上的<code class="literal">fq</code>队列设置。
				</p><p>请注意，用户应明确使用<code class="literal">fq</code>而不是<code class="literal">fq_codel</code> 。
			</p><p>有关更多详细信息，请参见<code class="literal">tc-fq</code>手册页。
			</p><p>（BZ＃1515987）</p><p><a id="BZ-1568622"></a></p><div class="title"><strong><code class="literal">lksctp-tools</code> ，版本1.0.18，在RHEL 8中</strong></div><p><code class="literal">lksctp-tools</code>软件包3.28版可在Red Hat Enterprise Linux（RHEL）8中使用。值得注意的增强功能和错误修复包括：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">与Travis CI和Coverity Scan集成</li><li class="listitem">支持<code class="literal">sctp_peeloff_flags</code>函数</li><li class="listitem">指示可用的内核功能</li><li class="listitem">修复了Coverity扫描问题</li></ul></div><p>（BZ＃1568622）</p><p><a id="BZ-1642795"></a></p><div class="title"><strong>在RHEL 8中默认将SCTP模块列入黑名单</strong></div><p>为了提高安全性，已将一组内核模块移至<code class="literal">kernel-modules-extra</code>软件包。默认情况下不安装这些。因此，非root用户无法加载这些组件，因为它们在默认情况下被列入黑名单。要使用其中一个内核模块，系统管理员必须安装<code class="literal">kernel-modules-extra</code>并明确删除模块黑名单。因此，非root用户将能够自动加载软件组件。
				</p><p>（BZ＃1642795）</p><p><a id="BZ-1648411"></a></p><div class="title"><strong><code class="literal">driverctl</code> 0.101的显着变化</strong></div><p>Red Hat Enterprise Linux 8.0与<code class="literal">driverctl</code> 0.101一起<code class="literal">driverctl</code> 。此版本包括以下错误修复：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><code class="literal">shellcheck</code>警告已得到修复。
					</li><li class="listitem">bash-completion安装为<code class="literal">driverctl</code>而不是<code class="literal">driverctl-bash-completion.sh</code> 。
					</li><li class="listitem">非PCI总线的<code class="literal">load_override</code>功能已得到修复。
					</li><li class="listitem"><code class="literal">driverctl</code>服务在到达<code class="literal">basic.target</code> systemd目标之前加载所有覆盖。
					</li></ul></div><p>（BZ＃1648411）</p><p><a id="BZ-1648497"></a></p><div class="title"><strong>为firewalld添加了丰富的规则优先级</strong></div><p><code class="literal">priority</code>选项已添加到丰富的规则中。这允许用户在规则执行期间定义所需的优先级顺序，并提供对丰富规则的更高级控制。
				</p><p>（BZ＃1648497）</p><p><a id="BZ-1680177"></a></p><div class="title"><strong>RHEL 8支持NVMe over RDMA</strong></div><p>在红帽企业Linux（RHEL）8中，通过远程直接内存访问（RDMA）的非易失性存储器快速（NVMe）仅在启动器模式下支持Infiniband，RoCEv2和iWARP。
				</p><p>请注意，仅在故障转移模式下支持Multipath。
			</p><p>附加限制：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">NVMe / RDMA不支持Kdump。</li><li class="listitem">不支持通过RDMA从NVMe设备启动。
					</li></ul></div><p>（ <a class="link" href="https://bugzilla.redhat.com/show_bug.cgi?id=1680177">BZ＃1680177</a> ）</p><p><a id="BZ-1645744"></a></p><div class="title"><strong><code class="literal">nf_tables</code>后端不支持使用<code class="literal">dmesg</code>调试</strong></div><p>Red Hat Enterprise Linux 8.0将<code class="literal">nf_tables</code>后端用于不支持使用<code class="literal">dmesg</code>实用程序输出调试防火墙的防火墙。要调试防火墙规则，请使用<code class="literal">xtables-monitor -t</code>或<code class="literal">nft monitor trace</code>命令解码规则评估事件。
				</p><p>（BZ＃1645744）</p><p><a id="BZ-1440031"></a></p><div class="title"><strong>红帽企业Linux支持VRF</strong></div><p>RHEL 8.0中的内核支持虚拟路由和转发（VRF）。VRF设备与使用<code class="literal">ip</code>实用程序设置的规则相结合，使管理员能够在Linux网络堆栈中创建VRF域。这些域隔离了第3层上的流量，因此，管理员可以创建不同的路由表，并在一台主机上的不同VRF域内重用相同的IP地址。
				</p><p>（BZ＃1440031）</p><p><a id="BZ-1589317"></a></p><div class="title"><strong><code class="literal">iproute</code> ，RHEL 8中的4.18版</strong></div><p><code class="literal">iproute</code>软件包随Red Hat Enterprise Linux（RHEL）8中的4.18版一起发布。最显着的变化是不再支持标记为ethX：Y的接口别名，例如eth0：1。要解决此问题，用户应在进入<code class="literal">ip link show</code>之前删除别名后缀，即冒号和以下数字。
				</p><p>（BZ＃1589317）</p></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="security"></a>安全</h1></div></div></div><p><a id="BZ-1636338"></a></p><div class="title"><strong>RHEL 8.0版本的SWID标记</strong></div><p>为了使用ISO / IEC 19770-2：2015机制识别RHEL 8.0安装，软件标识（SWID）标签安装在<code class="literal">/usr/lib/swidtag/redhat.com/com.redhat.文件中<code class="literal">/usr/lib/swidtag/redhat.com/com.redhat.RHEL-8-&lt;architecture&gt;.swidtag</code>和<code class="literal">/usr/lib/swidtag/redhat.com/com.redhat.RHEL-8.0-&lt;architecture&gt;.swidtag</code> 。也可以通过<code class="literal">/etc/swid/swidtags.d/redhat.com</code>符号链接找到这些标记的父目录。
				</p><p>可以使用<code class="literal">xmlsec1 verify</code>命令验证SWID标记文件的XML签名，例如：</p><pre class="screen">xmlsec1 verify --trusted-pem /etc/pki/swid/CA/redhat.com/redhatcodesignca.cert /usr/share/redhat.com/com.redhat.RHEL-8-x86_64.swidtag</pre><p>代码签名证书颁发机构的证书也可以从客户门户上的“ <a class="link" href="https://access.redhat.com/security/team/key">产品签名密钥”</a>页面获取。
			</p><p>（BZ＃1636338）</p><p><a id="BZ-1591620"></a></p><div class="title"><strong>默认情况下应用系统范围的加密策略</strong></div><p>加密策略是红帽企业Linux 8中的一个组件，它配置核心加密子系统，涵盖TLS，IPsec，DNSSEC，Kerberos和SSH协议。它提供了一小组策略，管理员可以使用<code class="literal">update-crypto-policies</code>命令进行选择。
				</p><p><code class="literal">DEFAULT</code>系统范围的加密策略为当前威胁模型提供安全设置。它允许TLS 1.2和1.3协议，以及IKEv2和SSH2协议。如果大于2047位，则接受RSA密钥和Diffie-Hellman参数。
			</p><p>有关详细信息，请参阅Red Hat博客上的<a class="link" href="https://www.redhat.com/en/blog/consistent-security-crypto-policies-red-hat-enterprise-linux-8">Red Hat Enterprise Linux 8</a>文章中<a class="link" href="https://www.redhat.com/en/blog/consistent-security-crypto-policies-red-hat-enterprise-linux-8">的加密策略</a>的<a class="link" href="https://www.redhat.com/en/blog/consistent-security-crypto-policies-red-hat-enterprise-linux-8">一致性安全性</a>以及<code class="literal">update-crypto-policies(8)</code>手册页。
			</p><p>（BZ＃1591620）</p><p><a id="BZ-1622511"></a></p><div class="title"><strong><span class="strong"><strong>OpenSSH</strong></span>重新定义为7.8p1版本</strong></div><p><code class="literal">openssh</code>软件包已升级到上游版本7.8p1。值得注意的变化包括：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">删除了对<code class="literal">SSH version 1</code>协议的支持。
					</li><li class="listitem">删除了对<code class="literal">hmac-ripemd160</code>消息验证代码的支持。
					</li><li class="listitem">删除了对RC4（ <code class="literal">arcfour</code> ）密码的支持。
					</li><li class="listitem">删除了对<code class="literal">Blowfish</code>密码的支持。
					</li><li class="listitem">删除了对<code class="literal">CAST</code>密码的支持。
					</li><li class="listitem">将<code class="literal">UseDNS</code>选项的默认值更改为<code class="literal">no</code> 。
					</li><li class="listitem">默认情况下禁用<code class="literal">DSA</code>公钥算法。
					</li><li class="listitem">将<code class="literal">Diffie-Hellman</code>参数的最小模数大小更改为2048位。
					</li><li class="listitem">更改了<code class="literal">ExposeAuthInfo</code>配置选项的语义。
					</li><li class="listitem"><code class="literal">UsePrivilegeSeparation=sandbox</code>选项现在是必需的，无法禁用。
					</li><li class="listitem">将最小接受<code class="literal">RSA</code>密钥大小设置为1024位。
					</li></ul></div><p>（BZ＃1622511）</p><p><a id="BZ-1228088"></a></p><div class="title"><strong>现在，自动<code class="literal">OpenSSH</code>服务器密钥生成由<code class="literal">sshd-keygen@.service</code></strong></div><p>
					如果丢失， <code class="literal">OpenSSH</code>会自动创建RSA，ECDSA和ED25519服务器主机密钥。要在RHEL 8中配置主机密钥创建，请使用<code class="literal">sshd-keygen@.service</code>实例化服务。
				</p><p>例如，要禁用自动创建RSA密钥类型：</p><pre class="screen"># systemctl mask sshd-keygen@rsa.service</pre><p>有关更多信息，请参阅<code class="literal">/etc/sysconfig/sshd</code>文件。
			</p><p>（BZ＃1228088）</p><p><a id="BZ-1645038"></a></p><div class="title"><strong>SSH身份验证支持ECDSA密钥</strong></div><p>此版本的<code class="literal">OpenSSH</code>套件引入了对存储在PKCS＃11智能卡上的ECDSA密钥的支持。因此，用户现在可以使用RSA和ECDSA密钥进行SSH身份验证。
				</p><p>（BZ＃1645038）</p><p><a id="BZ-1485241"></a></p><div class="title"><strong><code class="literal">libssh</code> SSH作为核心加密组件实现</strong></div><p>此更改将<code class="literal">libssh</code>作为Red Hat Enterprise Linux 8中的核心加密组件引入。<code class="literal">libssh</code>库实现了Secure Shell（SSH）协议。
				</p><p>请注意， <code class="literal">libssh</code>的客户端通过系统范围的加密策略遵循<code class="literal">OpenSSH</code>的配置集，但不能通过系统范围的加密策略更改服务器端的配置。
			</p><p>（BZ＃1485241）</p><p><a id="BZ-1516728"></a></p><div class="title"><strong>加密库中的TLS 1.3支持</strong></div><p>此更新默认在所有主要后端加密库中启用传输层安全性（TLS）1.3。这样可以在整个操作系统通信层实现低延迟，并通过利用新算法（如RSA-PSS或X25519）增强应用程序的隐私性和安全性。
				</p><p>（BZ＃1516728）</p><p><a id="BZ-1489094"></a></p><div class="title"><strong>NSS现在默认使用SQL</strong></div><p>默认情况下，网络安全服务（NSS）库现在使用信任数据库的SQL文件格式。DBM文件格式在以前的版本中用作默认数据库格式，不支持多个进程对同一数据库的并发访问，并且已在上游弃用。因此，使用NSS信任数据库存储密钥，证书和吊销信息的应用程序现在默认以SQL格式创建数据库。尝试以旧版DBM格式创建数据库失败。现有DBM数据库以只读模式打开，并自动转换为SQL格式。请注意，自Red Hat Enterprise Linux 6起，NSS支持SQL文件格式。
				</p><p>（BZ＃1489094）</p><p><a id="BZ-1516741"></a></p><div class="title"><strong>PKCS＃11对智能卡和HSM的支持现在在整个系统中保持一致</strong></div><p>通过此更新，使用智能卡和硬件安全模块（HSM）与PKCS＃11加密令牌接口变得一致。这意味着用户和管理员可以对系统中的所有相关工具使用相同的语法。显着的增强功能包括：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">支持PKCS＃11统一资源标识符（URI）方案，确保在管理员和应用程序编写者的RHEL服务器上简化启用令牌。
					</li><li class="listitem">使用<code class="literal">pkcs11.conf</code>智能卡和HSM的系统范围注册方法。
					</li><li class="listitem">NSS，GnuTLS和OpenSSL（通过<code class="literal">openssl-pkcs11</code>引擎）应用程序提供对HSM和智能卡的一致支持。
					</li><li class="listitem">Apache HTTP服务器（ <code class="literal">httpd</code> ）现在无缝支持HSM。</li></ul></div><p>有关更多信息，请参见<code class="literal">pkcs11.conf(5)</code>手册页。
			</p><p>（BZ＃1516741）</p><p><a id="BZ-1595638"></a></p><div class="title"><strong>Firefox现在可以与系统范围内注册的PKCS＃11驱动程序一起使用</strong></div><p>Firefox Web浏览器自动加载<code class="literal">p11-kit-proxy</code>模块，并自动检测通过<code class="literal">pkcs11.conf</code>文件在<code class="literal">p11-kit</code>在系统范围内注册的每个智能卡。对于使用TLS客户端身份验证，无需其他设置，并且当服务器请求时，会自动使用智能卡中的密钥。
				</p><p>（BZ＃1595638）</p><p><a id="BZ-1595626"></a></p><div class="title"><strong><code class="literal">OpenSC</code>现在支持RSA-PSS</strong></div><p>此更新为<code class="literal">OpenSC</code>智能卡驱动程序添加了对RSA-PSS加密签名方案的<code class="literal">OpenSC</code> 。新方案支持客户端软件中TLS 1.3支持所需的安全加密算法。
				</p><p>（BZ＃1595626）</p><p><a id="BZ-1566574"></a></p><div class="title"><strong>RHEL 8中<code class="literal">Libreswan</code>显着变化</strong></div><p><code class="literal">libreswan</code>软件包已升级到上游版本3.27，它提供了许多错误修复和增强功能。最值得注意的变化包括：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">通过<code class="literal">authby=rsa-sha2</code>支持RSA-PSS（RFC 7427），通过<code class="literal">authby=ecdsa-sha2</code> ECDSA（RFC 7427），使用<code class="literal">dh31</code>关键字支持CURVE25519，通过<code class="literal">chacha20_poly1305</code>加密关键字支持IKE和ESP的CHACHA20-POLY1305对于IKEv2协议。
					</li><li class="listitem">由于上游已完全弃用了KLIPS，因此已从<code class="literal">Libreswan</code>删除对替代KLIPS内核模块的支持。
					</li><li class="listitem">不再支持Diffie-Hellman组DH22，DH23和DH24（根据RFC 8247）。
					</li></ul></div><p>请注意， <code class="literal">authby=rsasig</code>已更改为始终使用RSA v1.5方法，而<code class="literal">authby=rsa-sha2</code>选项使用RSASSA-PSS方法。根据RFC 8247， <code class="literal">authby=rsa-sha1</code>选项无效。这就是<code class="literal">Libreswan</code>不再支持带有数字签名的SHA-1的原因。
			</p><p>（BZ＃1566574）</p><p><a id="BZ-1645606"></a></p><div class="title"><strong>系统范围的加密策略将Libreswan中的默认IKE版本更改为IKEv2</strong></div><p>Libreswan IPsec实现中的默认IKE版本已从IKEv1（RFC 2409）更改为IKEv2（RFC 7296）。用于IPsec的默认IKE和ESP / AH算法已更新，以符合系统范围的加密策略，RFC 8221和RFC 8247。现在，对于128位的密钥大小，加密密钥大小为256位。
				</p><p>默认的IKE和ESP / AH密码现在包括AES-GCM，CHACHA20POLY1305和AES-CBC用于加密。对于完整性检查，它们提供AEAD和SHA-2。Diffie-Hellman组现在含有DH19，DH20，DH21，DH14，DH15，DH16和DH18。
			</p><p>以下算法已从默认的IKE和ESP / AH策略中删除：AES_CTR，3DES，SHA1，DH2，DH5，DH22，DH23和DH24。除DH22，DH23和DH24外，这些算法可以通过IPsec配置文件中的<code class="literal">ike=</code>或<code class="literal">phase2alg=/esp=/ah=</code>选项启用。
			</p><p>要配置仍需要IKEv1协议的IPsec VPN连接，请将<code class="literal">ikev2=no</code>选项添加到连接配置文件。有关更多信息，请参见<code class="literal">ipsec.conf(5)</code>手册页。
			</p><p>（BZ＃1645606）</p><p><a id="BZ-1648776"></a></p><div class="title"><strong>Libreswan中与IKE版本相关的更改</strong></div><p>通过此增强功能，Libreswan可以不同方式处理Internet密钥交换（IKE）设置：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">默认的Internet密钥交换（IKE）版本已从1更改为2。
					</li><li class="listitem">现在，连接可以使用IKEv1或IKEv2协议，但不能同时使用两者。
					</li><li class="listitem"><p class="simpara"><code class="literal">ikev2</code>选项的解释已更改：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><code class="literal">insist</code>的值被解释为仅IKEv2。
							</li><li class="listitem">值<code class="literal">no</code>和<code class="literal">never</code>将仅解释为IKEv1。
							</li><li class="listitem"><code class="literal">propose</code>的值， <code class="literal">yes</code>和， <code class="literal">permit</code>不再有效并导致错误，因为不清楚哪些IKE版本是由这些值产生的</li></ul></div></li></ul></div><p>（BZ＃1648776）</p><p><a id="BZ-1614273"></a></p><div class="title"><strong>RHEL 8中<code class="literal">OpenSCAP</code>新功能</strong></div><p><code class="literal">OpenSCAP</code>套件已升级到上游版本1.3.0，它引入了许多先前版本的增强功能。最显着的功能包括：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">API和ABI已合并 - 已删除已更新，已弃用和/或未使用的符号。
					</li><li class="listitem">探针不作为独立进程运行，而是作为<code class="literal">oscap</code>进程中的线程运行。
					</li><li class="listitem">命令行界面已更新。
					</li><li class="listitem">
						<code class="literal">Python 2</code>绑定已被<code class="literal">Python 3</code>绑定所取代。
					</li></ul></div><p>（BZ＃1614273）</p><p><a id="BZ-1618505"></a></p><div class="title"><strong><code class="literal">SCAP Security Guide</code>现在支持系统范围的加密策略</strong></div><p><code class="literal">scap-security-guide</code>软件包已更新为使用预定义的系统范围加密策略来配置核心加密子系统。已删除与系统范围的加密策略冲突或覆盖的安全内容。
				</p><p>请注意，此更改仅适用于<code class="literal">scap-security-guide</code>的安全性内容，您无需更新OpenSCAP扫描程序或其他SCAP组件。
			</p><p>（BZ＃1618505）</p><p><a id="BZ-1618484"></a></p><div class="title"><strong>OpenSCAP命令行界面得到了改进</strong></div><p>详细模式现在可用于所有<code class="literal">oscap</code>模块和子模块。工具输出改进了格式。
				</p><p>已删除不推荐使用的选项以提高命令行界面的可用性。
			</p><p>以下选项不再可用：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
						<code class="literal">--show</code>在<code class="literal">oscap xccdf generate report</code>已被完全删除。
					</li><li class="listitem">
						<code class="literal">--probe-root</code> <code class="literal">oscap oval eval</code> <code class="literal">--probe-root</code>已被删除。可以通过设置环境变量<code class="literal">OSCAP_PROBE_ROOT</code>来替换它。</li><li class="listitem">
						<code class="literal">--sce-results</code> in <code class="literal">oscap xccdf eval</code>已被<code class="literal">--check-engine-results</code>取代
					</li><li class="listitem">
						已从CPE，OVAL和XCCDF模块中删除了<code class="literal">validate-xml</code>子模块。可以使用<code class="literal">validate</code>子模块来代替XML模式和XSD架构来验证SCAP内容。
					</li><li class="listitem">
						<code class="literal">oscap oval list-probes</code>命令，可以使用<code class="literal">oscap --version</code>显示可用探测列表。
					</li></ul></div><p>OpenSCAP允许使用<code class="literal">--profile '(all)'</code>评估给定XCCDF基准测试中的所有规则，而不考虑配置文件。
			</p><p>（BZ＃1618484）</p><p><a id="BZ-1618528"></a></p><div class="title"><strong>SCAP安全指南PCI-DSS配置文件与版本3.2.1一致</strong></div><p><code class="literal">scap-security-guide</code>软件包为Red Hat Enterprise Linux 8提供PCI-DSS（支付卡行业数据安全标准）配置文件，此配置文件已更新，以符合最新的PCI-DSS版本 -  3.2.1。
				</p><p>（BZ＃1618528）</p><p><a id="BZ-1618518"></a></p><div class="title"><strong>SCAP安全指南支持OSPP 4.2</strong></div><p><code class="literal">scap-security-guide</code>软件包提供了针对Red Hat Enterprise Linux 8的OSPP（通用操作系统保护配置文件）配置文件版本4.2的草稿。此配置文件反映了通用操作系统保护配置文件（保护配置文件版本4.2）的NIAP配置附件中标识的强制配置控制。SCAP安全指南提供自动检查和脚本，帮助用户满足OSPP中定义的要求。</p><p>（BZ＃1618518）</p><p><a id="BZ-1613880"></a></p><div class="title"><strong>RHEL 8中<code class="literal">rsyslog</code>显着变化</strong></div><p><code class="literal">rsyslog</code>软件包已升级到上游版本8.37.0，它提供了许多错误修复和增强功能。最值得注意的变化包括：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">增强了<span class="strong"><strong>rsyslog</strong></span>内部消息的处理;限制它们的可能性;修复了可能的死锁。
					</li><li class="listitem">一般来说，增强了速率限制;现在记录了实际的<span class="emphasis"><em>垃圾邮件源</em></span> 。
					</li><li class="listitem">改进了对超大消息的处理 - 用户现在可以设置如何在核心和某些模块中使用单独的操作来处理它们。
					</li><li class="listitem">
						<code class="literal">mmnormalize</code>规则库现在可以嵌入<code class="literal">config</code>文件中，而不是为它们创建单独的文件。
					</li><li class="listitem">所有<code class="literal">config</code>变量（包括JSON中的变量）现在都不区分大小写。
					</li><li class="listitem">PostgreSQL输出的各种改进。
					</li><li class="listitem">添加了使用shell变量来控制<code class="literal">config</code>处理的可能性，例如条件加载其他配置文件，执行语句或在<code class="literal">config</code>包含文本。请注意，过度使用此功能会使调试<span class="strong"><strong>rsyslog的</strong></span>问题变得非常困难。
					</li><li class="listitem">现在可以在<code class="literal">config</code>指定4位数文件创建模式。
					</li><li class="listitem">可靠的事件记录协议（RELP）输入现在也只能绑定在指定的地址上。
					</li><li class="listitem">现在，邮件输出的<code class="literal">enable.body</code>选项的默认值与文档对齐</li><li class="listitem">用户现在可以指定<span class="strong"><strong>MongoDB</strong></span>输出中应忽略的插入错误代码。
					</li><li class="listitem">并行TCP（pTCP）输入现在具有可配置的积压，以实现更好的负载平衡。
					</li><li class="listitem">为了避免在<code class="literal">journald</code>轮换其文件时可能出现的重复记录，添加了<code class="literal">imjournal</code>选项。请注意，使用此选项可能会影响性能。
					</li></ul></div><p>请注意，可以将具有<code class="literal">rsyslog</code>的系统配置为提供更好的性能，如<a class="link" href="https://access.redhat.com/articles/4058681">配置系统日志记录而不使用journald或使用最小化的journald用法</a>知识库文章中所述。
			</p><p>（BZ＃1613880）</p><p><a id="BZ-1542497"></a></p><div class="title"><strong>新<span class="strong"><strong>rsyslog现在</strong></span>模块： <code class="literal">omkafka</code></strong></div><p>要启用<span class="strong"><strong>kafka</strong></span>集中式数据存储方案，您现在可以使用新的<code class="literal">omkafka</code>模块将日志转发到<span class="strong"><strong>kafka</strong></span>基础<code class="literal">omkafka</code> 。
				</p><p>（BZ＃1542497）</p><p><a id="BZ-1614179"></a></p><div class="title"><strong><span class="strong"><strong>rsyslog现在</strong></span> <code class="literal">imfile</code>现在支持符号链接</strong></div><p>在这个更新中<span class="strong"><strong>，rsyslog现在</strong></span> <code class="literal">imfile</code>模块可提供更好的性能和更多的配置选项。这允许您将模块用于更复杂的文件监视用例。例如，您现在可以在配置的路径中的任何位置使用具有glob模式的文件监视器，并使用增加的数据吞吐量旋转符号链接目标。
				</p><p>（BZ＃1614179）</p><p><a id="BZ-1619645"></a></p><div class="title"><strong>默认的<code class="literal">rsyslog</code>配置文件格式现在是非遗留的</strong></div><p>现在， <code class="literal">rsyslog</code>包中的配置文件默认使用非传统格式。遗留格式仍然可以使用，但是，混合当前和遗留配置语句有几个限制。应修改先前RHEL版本中的配置。有关更多信息，请参见<code class="literal">rsyslog.conf(5)</code>手册页。
				</p><p>（BZ＃1619645）</p><p><a id="BZ-1616428"></a></p><div class="title"><strong>Audit 3.0用<code class="literal">auditd</code>替换<code class="literal">audispd</code></strong></div><p>通过此更新， <code class="literal">audispd</code>功能已移至<code class="literal">auditd</code> 。因此， <code class="literal">audispd</code>配置选项现在是<code class="literal">auditd.conf</code>一部分。另外， <code class="literal">plugins.d</code>目录已经在<code class="literal">/etc/audit</code>下移动了。现在可以通过运行<code class="literal">service auditd state</code>命令来检查<code class="literal">auditd</code>及其插件的当前状态。
				</p><p>（BZ＃1616428）</p><p><a id="BZ-1664345"></a></p><div class="title"><strong><code class="literal">tangd_port_t</code>允许更改Tang的默认端口</strong></div><p>此更新引入了<code class="literal">tangd_port_t</code> SELinux类型，该类型允许以SELinux强制模式限制的<code class="literal">tangd</code>服务运行。此更改有助于简化配置Tang服务器以侦听用户定义的端口，并且还可以保留SELinux在强制模式下提供的安全级别。
				</p><p>有关详细信息，请参阅<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/security_hardening/index#configuring-automated-unlocking-of-encrypted-volumes-using-policy-based-decryption_security-hardening">使用基于策略的解密配置自动解锁加密卷</a>部分。
			</p><p>（ <a class="link" href="https://bugzilla.redhat.com/show_bug.cgi?id=1664345">BZ＃1664345</a> ）</p><p><a id="JIRA-RHELPLAN-10347"></a></p><div class="title"><strong>新的SELinux布尔</strong></div><p>SELinux系统策略的此更新引入了以下布尔值：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">colord_use_nfs</li><li class="listitem">mysql_connect_http</li><li class="listitem">pdns_can_network_connect_db</li><li class="listitem">ssh_use_tcpd</li><li class="listitem">sslh_can_bind_any_port</li><li class="listitem">sslh_can_connect_any_port</li><li class="listitem">virt_use_pcscd</li></ul></div><p>要获取包含其含义的布尔列表，并查看是否已启用或禁用布尔值，请安装<code class="literal">selinux-policy-devel</code>软件包并使用：</p><pre class="screen"># semanage boolean -l</pre><p>（JIRA：RHELPLAN-10347）</p><p><a id="BZ-1594111"></a></p><div class="title"><strong>SELinux现在支持<span class="strong"><strong>systemd</strong></span> <code class="literal">No New Privileges</code></strong></div><p>此更新引入了<code class="literal">nnp_nosuid_transition</code>策略功能，该功能在<code class="literal">nnp_nosuid_transition</code> <code class="literal">No New Privileges</code> （NNP）或<code class="literal">nosuid</code>下启用SELinux域转换（如果<code class="literal">nnp_nosuid_transition</code>上下文之间允许<code class="literal">nnp_nosuid_transition</code> ）。<code class="literal">selinux-policy</code>软件包现在包含使用<code class="literal">NNP</code>安全功能的<span class="strong"><strong>systemd</strong></span>服务的策略。
				</p><p>以下规则描述了为服务允许此功能：</p><pre class="screen">   allow source_domain  target_type:process2 { nnp_transition nosuid_transition };</pre><p>例如：</p><pre class="screen">   allow init_t fprintd_t:process2 { nnp_transition nosuid_transition };</pre><p>分发策略现在还包含一个m4宏接口，可以在SELinux安全策略中用于使用<code class="literal">init_nnp_daemon_domain()</code>函数的服务。
			</p><p>（BZ＃1594111）</p><p><a id="BZ-1592244"></a></p><div class="title"><strong>支持<code class="literal">mmap</code>系统调用上的新地图权限检查</strong></div><p>已添加SELinux <code class="literal">map</code>权限以控制对文件，目录，套接字等的内存映射访问。这允许SELinux策略阻止对各种文件系统对象的直接内存访问，并确保重新验证每个此类访问。
				</p><p>（BZ＃1592244）</p><p><a id="BZ-1549772"></a></p><div class="title"><strong>SELinux现在支持<code class="literal">process</code>类中的<code class="literal">getrlimit</code>权限</strong></div><p>此更新引入了一个新的SELinux访问控制检查， <code class="literal">process:getrlimit</code> ，已为<code class="literal">prlimit()</code>函数添加。这使SELinux策略开发人员能够控制一个进程何时尝试读取，然后使用以下<code class="literal">process:setrlimit</code>修改另一个进程的资源限制<code class="literal">process:setrlimit</code>权限。请注意，SELinux不会限制进程通过<code class="literal">prlimit()</code>操纵自己的资源限制。有关更多信息，请参见<code class="literal">prlimit(2)</code>和<code class="literal">getrlimit(2)</code>手册页。
				</p><p>（BZ＃1549772）</p><p><a id="BZ-1483904"></a></p><div class="title"><strong><code class="literal">selinux-policy</code>现在支持VxFS标签</strong></div><p>此更新引入了对Veritas File System（VxFS）安全性扩展属性（xattrs）的支持。这样就可以在文件系统上存储正确的SELinux标签和对象，而不是通用的vxfs_t类型。因此，具有完全支持SELinux的VxFS的系统更安全。
				</p><p>（BZ＃1483904）</p><p><a id="JIRA-RHELPLAN-2306"></a></p><div class="title"><strong>编译时安全加固标志一致地应用</strong></div><p>编译时安全加固标志一致地应用于RHEL 8发行版中的所有RPM软件包，而<code class="literal">redhat-rpm-config</code>软件包现在自动提供安全加固标志。应用的编译时标志也有助于满足通用标准（CC）要求。应用以下安全加固标志：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">用于检测缓冲区溢出错误： <code class="literal">D_FORTIFY_SOURCE=2</code>
					</li><li class="listitem">检查C ++数组，向量和字符串的标准库强化： <code class="literal">D_GLIBCXX_ASSERTIONS</code>
					</li><li class="listitem">对于Stack Smashing Protector（SSP）： <code class="literal">fstack-protector-strong</code>
					</li><li class="listitem">对于异常强化： <code class="literal">fexceptions</code>
					</li><li class="listitem">对于控制流完整性（CFI）： <code class="literal">fcf-protection=full</code> （仅适用于AMD和Intel 64位架构）</li><li class="listitem">对于地址空间布局随机化（ASLR）： <code class="literal">fPIE</code> （用于可执行文件）或<code class="literal">fPIC</code> （用于库）</li><li class="listitem">为了防止Stack Clash漏洞： <code class="literal">fstack-clash-protection</code> （ARM除外）</li><li class="listitem">链接标志以在启动时解析所有符号： <code class="literal">-Wl</code> ， <code class="literal">-z,now</code>
					</li></ul></div><p>有关更多信息，请参见<code class="literal">gcc(1)</code>手册页。
			</p><p>（JIRA：RHELPLAN-2306）</p></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="virtualization"></a>虚拟化</h1></div></div></div><p><a id="BZ-1559240"></a></p><div class="title"><strong>RHEL 8中的<code class="literal">qemu-kvm</code> 2.12</strong></div><p>Red Hat Enterprise Linux 8随<code class="literal">qemu-kvm</code> 2.12一起发布。此版本修复了多个错误，并在1.5.3版本中添加了许多增强功能，可在Red Hat Enterprise Linux 7中使用。
				</p><p>值得注意的是，引入了以下功能：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">Q35客机类型</li><li class="listitem">UEFI来宾启动</li><li class="listitem">NUMA在客人中调整和固定</li><li class="listitem">vCPU热插拔和热插拔</li><li class="listitem">客户I / O线程</li></ul></div><p>请注意，Red Hat Enterprise Linux 8不支持<code class="literal">qemu-kvm</code> 2.12中提供的某些功能。有关详细信息，请参阅Red Hat客户门户上的“RHEL 8虚拟化中的功能支持和限制”。
			</p><p>（BZ＃1559240）</p><p><a id="BZ-1599777"></a></p><div class="title"><strong>现在，虚拟化支持<span class="strong"><strong>Q35</strong></span>机器类型</strong></div><p>Red Hat Enterprise Linux 8引入了对<span class="strong"><strong>Q35</strong></span>的支持， <span class="strong"><strong>Q35</strong></span>是一种更现代的基于PCI Express的机器类型。这为虚拟设备的功能和性能提供了各种改进，并确保更广泛的现代设备与虚拟化兼容。此外，在Red Hat Enterprise Linux 8中创建的虚拟机默认设置为使用<span class="strong"><strong>Q35</strong></span> 。
				</p><p>另请注意，以前的默认<span class="strong"><strong>PC</strong></span>机器类型已弃用，只应在虚拟化不支持Q35的旧操作系统时使用。
			</p><p>（BZ＃1599777）</p><p><a id="BZ-1494651"></a></p><div class="title"><strong>KVM支持RHEL 8中的UMIP</strong></div><p>KVM虚拟化现在支持用户模式指令防护（UMIP）功能，该功能有助于防止用户空间应用程序访问系统范围的设置。这减少了特权升级攻击的潜在载体，从而使KVM管理程序及其客户机更安全。
				</p><p>（BZ＃1494651）</p><p><a id="BZ-1508139"></a></p><div class="title"><strong>KVM来宾崩溃报告中的其他信息</strong></div><p>如果guest虚拟机意外终止或无响应，KVM管理程序生成的崩溃信息已经扩展。这样可以更轻松地诊断和修复KVM虚拟化部署中的问题。
				</p><p>（BZ＃1508139）</p><p><a id="BZ-1497911"></a></p><div class="title"><strong>NVIDIA vGPU现在与VNC控制台兼容</strong></div><p>使用NVIDIA虚拟GPU（vGPU）功能时，现在可以使用VNC控制台显示来宾的可视输出。</p><p>（BZ＃1497911）</p><p><a id="BZ-1578855"></a></p><div class="title"><strong>Ceph受虚拟化支持</strong></div><p>通过此更新，Red Hat支持的所有CPU架构上的KVM虚拟化都支持Ceph存储。
				</p><p>（BZ＃1578855）</p><p><a id="BZ-1508137"></a></p><div class="title"><strong>IBM Z上用于KVM虚拟机的交互式引导加载程序</strong></div><p>在IBM Z主机上引导KVM虚拟机时，QEMU引导加载程序固件现在可以提供来宾OS的交互式控制台界面。这使得可以在不访问主机环境的情况下解决客户操作系统引导问题。
				</p><p>（BZ＃1508137）</p><p><a id="BZ-1592337"></a></p><div class="title"><strong>虚拟机支持IBM z14 ZR1</strong></div><p>KVM管理程序现在支持IBM z14 ZR1服务器的CPU模型。这样可以在IBM Z系统上运行的KVM虚拟机中使用此CPU的功能。
				</p><p>（BZ＃1592337）</p><p><a id="BZ-1570029"></a></p><div class="title"><strong>KVM支持<span class="strong"><strong>Telnet 3270</strong></span>在IBMž</strong></div><p>在IBM Z系统上使用RHEL 8作为主机时，现在可以使用<span class="strong"><strong>Telnet 3270</strong></span>客户端连接到主机上的虚拟机。
				</p><p>（BZ＃1570029）</p><p><a id="JIRA-RHELPLAN-10628"></a></p><div class="title"><strong>QEMU沙盒已添加</strong></div><p>在Red Hat Enterprise Linux 8中，QEMU仿真器引入了沙盒功能。QEMU沙盒为QEMU可以执行的系统调用提供了可配置的限制，从而使虚拟机更加安全。请注意，默认情况下已启用并配置此功能。
				</p><p>（JIRA：RHELPLAN-10628）</p><p><a id="BZ-1585651"></a></p><div class="title"><strong>IBM POWER上的KVM虚拟机的新机器类型</strong></div><p>已为在IBM POWER 8和IBM POWER 9系统上运行的KVM管理程序启用了多个新的rhel-pseries机器类型。这使得IBM POWER系统上RHEL 8上托管的虚拟机（VM）可以正确使用这些机器类型的CPU功能。此外，这允许将IBM POWER上的VM迁移到更新版本的KVM管理程序。
				</p><p>（BZ＃1585651，BZ＃1595501）</p><p><a id="BZ-1422268"></a></p><div class="title"><strong>ARM 64系统现在支持最多384个vCPU的虚拟机</strong></div><p>在ARM 64系统上使用KVM管理程序时，现在可以为单个虚拟机（VM）分配最多384个虚拟CPU（vCPU）。
				</p><p>请注意，主机上的物理CPU数必须等于或大于连接到其VM的vCPU数，因为RHEL 8不支持vCPU过量使用。
			</p><p>（BZ＃1422268）</p><p><a id="BZ-1494705"></a></p><div class="title"><strong>为Intel Xeon SnowRidge启用了GFNI和CLDEMOT指令集</strong></div><p>在Intel Xeon SnowRidge系统上的RHEL 8主机中运行的虚拟机（VM）现在可以使用GFNI和CLDEMOT指令集。在某些情况下，这可能会显着提高此类VM的性能。
				</p><p>（BZ＃1494705）</p><p><a id="BZ-1536627"></a></p><div class="title"><strong>为OVMF启用了IPv6</strong></div><p>现在，在Open Virtual Machine Firmware（OVMF）上启用了IPv6协议。这使得使用OVMF的虚拟机可以利用IPv6提供的各种网络引导改进。
				</p><p>（BZ＃1536627）</p><p><a id="BZ-1519004"></a></p><div class="title"><strong>添加了一个用于NVMe设备的基于VFIO的块驱动程序</strong></div><p>QEMU仿真器为非易失性存储器速度（NVMe）设备引入了基于虚拟功能I / O（VFIO）的驱动程序。驱动程序直接与连接到虚拟机（VM）的NVMe设备通信，并避免使用内核系统层及其NVMe驱动程序。因此，这增强了NVMe设备在虚拟机中的性能。
				</p><p>（BZ＃1519004）</p><p><a id="BZ-1650149"></a></p><div class="title"><strong>对Hyper-V Generic UIO驱动程序的多通道支持</strong></div><p>RHEL 8现在支持Hyper-V通用用户空间I / O（UIO）驱动程序的多通道功能。这使得在Hyper-V管理程序上运行的RHEL 8 VM可以使用数据平面开发工具包（DPDK）Netvsc轮询模式驱动程序（PMD），从而增强这些VM的网络功能。</p><p>但请注意，即使Netvsc接口状态正在运行且可用，它也会显示为Down。
			</p><p>（BZ＃1650149）</p><p><a id="JIRA-RHELPLAN-14607"></a></p><div class="title"><strong>改进了巨大的页面支持</strong></div><p>使用RHEL 8作为虚拟化主机时，用户可以将支持虚拟机（VM）内存的页面大小修改为CPU支持的任何大小。这可以显着提高VM的性能。</p><p>要配置VM内存页面的大小，请编辑VM的XML配置并将&lt;hugepages&gt;元素添加到&lt;memoryBacking&gt;部分。
			</p><p>（JIRA：RHELPLAN-14607）</p></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="supportability"></a>保障性</h1></div></div></div><p><a id="BZ-1559836"></a></p><div class="title"><strong><span class="strong"><strong>sosreport</strong></span>可以报告基于eBPF的程序和地图</strong></div><p><span class="strong"><strong>sosreport</strong></span>工具已得到增强，可在Red Hat Enterprise Linux 8中报告任何已加载的扩展Berkeley数据包过滤（eBPF）程序和映射。
				</p><p>（BZ＃1559836）</p></div></div></body></html>