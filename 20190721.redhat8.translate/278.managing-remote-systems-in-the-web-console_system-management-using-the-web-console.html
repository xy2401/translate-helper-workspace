<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Chapter 10. Managing remote systems in the web console</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"/><meta name="generator" content="DocBook XSL-NS Stylesheets V1.78.1"/></head><body><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="managing-remote-systems-in-the-web-console_system-management-using-the-web-console"/>Chapter 10. Managing remote systems in the web console</h1></div></div></div><p>
			THe RHEL 8 web console can connect to remote systems and manage them through the user-friendly web interface. The following chapter describes:
		</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
					The optimal topology of connected systems.
				</li><li class="listitem">
					What is the Dashboard.
				</li><li class="listitem">
					How to add and remove remote systems.
				</li><li class="listitem">
					When, why and how to use SSH keys to for remote system authentication.
				</li></ul></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="prerequisites-managing-remote-systems-in-the-web-console"/>Prerequisites</h1></div></div></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
						Opened the SSH service on remote systems.
					</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="remote-system-manager-in-the-web-console_managing-remote-systems-in-the-web-console"/>Remote system manager in the web console</h1></div></div></div><p>
				Using the RHEL 8 web console to manage remote systems in the network requires considering the topology of connected servers.
			</p><p>
				For optimal security, Red Hat recommends the following connection setup:
			</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
						Use one system with the web console as a bastion host. The bastion host is a system with opened HTTPS port.
					</li><li class="listitem">
						All other systems communicate through SSH.
					</li></ul></div><p>
				With the web interface running on the bastion host, you can reach all other systems through the SSH protocol using port 22 in the default configuration.
			</p><p>
				<span class="inlinemediaobject"><img src="images/RHEL_Cockpit-ManagingSystems_484190_0119.png" alt="RHEL Cockpit ManagingSystems 484190 0119"/></span>

			</p></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="adding-remote-hosts-to-the-web-console_managing-remote-systems-in-the-web-console"/>Adding remote hosts to the web console</h1></div></div></div><p>
				This section helps you to connect other systems with a user name and password to the Dashboard located in the web console.
			</p><p>
				The Dashboard is a tool designed for remote server management, where you can add, connect, or remove remote systems.
			</p><p>
				The Dashboard displays graphs and status for each of the remote systems.
			</p><p>
				You can add up to 20 remote systems in the Dashboard.
			</p><p>
				<span class="inlinemediaobject"><img src="images/cockpit-dashboard.png" alt="cockpit dashboard"/></span>

			</p><h3><a id="prerequisites_63"/>Prerequisites</h3><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">
						The <code class="literal">cockpit-dashboard</code> package installed in the system where the web interface is running:
					</p><pre class="literallayout">$ sudo yum install cockpit-dashboard</pre><p class="simpara">
						The <code class="literal">cockpit-dashboard</code> package extends the RHEL 8 web console with the remote system management.
					</p></li><li class="listitem"><p class="simpara">
						You need to be logged into the web console with administration privileges.
					</p><p class="simpara">
						For details, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/managing_systems_using_the_rhel_8_web_console/index#logging-in-to-the-web-console_getting-started-with-the-rhel-8-web-console">Logging in to the web console</a>.
					</p></li></ul></div><h3><a id="procedure_69"/>Procedure</h3><div class="orderedlist"><ol class="orderedlist"><li class="listitem">
						In the RHEL 8 web console, go to <span class="strong"><strong>Dashboard</strong></span>.
					</li><li class="listitem"><p class="simpara">
						In the <span class="strong"><strong>Dashboard</strong></span>, click the <span class="strong"><strong>Add Server</strong></span> icon.
					</p><p class="simpara">
						<span class="inlinemediaobject"><img src="images/cockpit-add-server-icon.png" alt="cockpit add server icon"/></span>

					</p></li><li class="listitem">
						In the <span class="strong"><strong>Add Machine to Dashboard</strong></span> dialog box, enter the host name or IP address of the remote system.
					</li><li class="listitem">
						(Optional) Click the <span class="strong"><strong>Color</strong></span> field to change the color of the system in Dashboard.
					</li><li class="listitem">
						Click <span class="strong"><strong>Add</strong></span>.
					</li><li class="listitem"><p class="simpara">
						In the <span class="strong"><strong>Log in to &lt;servername&gt;</strong></span> dialog box, enter the credentials for the remote system.
					</p><p class="simpara">
						You can use any user account of the remote system. Howerver, if you use credetials of a user account without administration privileges, you will not be able to perform administration tasks.
					</p><p class="simpara">
						If you use the same credentials as for your local system, the web console will authenticate remote systems automatically every time you log in. However, using the same credentials on more machines could be a potential security risk.
					</p><p class="simpara">
						<span class="inlinemediaobject"><img src="images/cockpit-add-server-passwd.png" alt="cockpit add server passwd"/></span>

					</p></li><li class="listitem">
						Click <span class="strong"><strong>Log In</strong></span>.
					</li></ol></div><p>
				If the login succeeds the Dashboard adds a new item in the list. To verify the connection, click the system to see all the details in the web console.
			</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
					The web console does not save passwords used to log in to remote systems which means that you have to log in again after each system restart. To open the login dialog, click the <span class="strong"><strong>Troubleshoot</strong></span> button placed on the main screen of the disconnected remote system.
				</p><p>
					<span class="inlinemediaobject"><img src="images/cockpit-cannot-connect-screen.png" alt="cockpit cannot connect screen"/></span>

				</p></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="removing-remote-hosts-from-the-web-console_managing-remote-systems-in-the-web-console"/>Removing remote hosts from the web console</h1></div></div></div><p>
				This section guides you on removing other systems from a dashboard located in the web console.
			</p><h3><a id="prerequisites_64"/>Prerequisites</h3><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
						The <code class="literal">cockpit-dashboard</code> package installed in the system where the web interface is running.
					</li><li class="listitem"><p class="simpara">
						Remote systems added.
					</p><p class="simpara">
						For details, see <a class="link" href="managing-remote-systems-in-the-web-console_system-management-using-the-web-console.html#adding-remote-hosts-to-the-web-console_managing-remote-systems-in-the-web-console" title="Adding remote hosts to the web console">Using the web console to add remote systems</a>.
					</p></li><li class="listitem"><p class="simpara">
						You must be logged into the web console with administrator privileges.
					</p><p class="simpara">
						For details, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/managing_systems_using_the_rhel_8_web_console/index#logging-in-to-the-web-console_getting-started-with-the-rhel-8-web-console">Logging in to the web console</a>.
					</p></li></ul></div><h3><a id="procedure_70"/>Procedure</h3><div class="orderedlist"><ol class="orderedlist"><li class="listitem">
						Log in to the RHEL 8 web console.
					</li><li class="listitem">
						Click <span class="strong"><strong>Dashboard</strong></span>.
					</li><li class="listitem"><p class="simpara">
						Click the <span class="strong"><strong>Edit Server</strong></span> icon.
					</p><p class="simpara">
						<span class="inlinemediaobject"><img src="images/cockpit-edit-server-icon.png" alt="cockpit edit server icon"/></span>

					</p></li><li class="listitem"><p class="simpara">
						To remove the server from the <span class="strong"><strong>Dashboard</strong></span>, click the red <span class="strong"><strong>Remove</strong></span> icon.
					</p><p class="simpara">
						<span class="inlinemediaobject"><img src="images/cockpit-remove-server.png" alt="cockpit remove server"/></span>

					</p></li></ol></div><p>
				As a result, the server is removed from <span class="strong"><strong>Dashboard</strong></span>.
			</p></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="setting-up-ssh-for-remote-management-in-the-web-console_managing-remote-systems-in-the-web-console"/>Setting up SSH for remote management in the web console</h1></div></div></div><p>
				The RHEL 8 web console supports authentication with SSH keys. This has the following advantages:
			</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
						Increasing security of the communication between servers.
					</li><li class="listitem">
						Avoiding entering credentials repeatedly.
					</li></ul></div><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>
					Using SSH keys works only for read only access or for password-less sudo because the authentication happens without a password. To perform administrative tasks, use your system account credentials with administrative privileges.
				</p></div><p>
				To configure authentication with SSH keys in the web console:
			</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
						Copy the public key into the connected remote system.
					</li><li class="listitem">
						Set the path to the private key in the system, on which the RHEL 8 web console is running.
					</li><li class="listitem">
						Log out from the web console and log in again to ensure the authentication change.
					</li></ul></div><h3><a id="prerequisites_65"/>Prerequisites</h3><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">
						SSH key stored in the system with running web console. If you do not have any, use the following command:
					</p><pre class="literallayout">$ ssh-keygen</pre></li><li class="listitem">
						Password to the generated SSH key.
					</li><li class="listitem">
						The contents of the <code class="literal">~/.ssh/id_rsa.pub</code> file copied in the clipboard.
					</li></ul></div><h3><a id="procedure_71"/>Procedure</h3><p>
				To copy the public SSH key into a remote system:
			</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem">
						Open the web console.
					</li><li class="listitem">
						Click <span class="strong"><strong>Dashboard</strong></span>.
					</li><li class="listitem">
						Select the remote system where you want to add the public key.
					</li><li class="listitem">
						In the system settings, go to <span class="strong"><strong>Accounts</strong></span>.
					</li><li class="listitem">
						Select the user account to which you want to assign the public key.
					</li><li class="listitem"><p class="simpara">
						In the <span class="strong"><strong>Authorized Public SSH Keys</strong></span> settings, click the <span class="strong"><strong>+</strong></span> button.
					</p><p class="simpara">
						<span class="inlinemediaobject"><img src="images/cockpit-account.png" alt="cockpit account"/></span>

					</p></li><li class="listitem">
						In the <span class="strong"><strong>Add public key</strong></span> dialog box, paste the public key you have in the clipboard.
					</li><li class="listitem">
						Click <span class="strong"><strong>Add key</strong></span>.
					</li></ol></div><p>
				At this point, you can see the new public key assigned to the user account.
			</p><p>
				<span class="inlinemediaobject"><img src="images/cockpit-ssh-pub-key.png" alt="cockpit ssh pub key"/></span>

			</p><p>
				To set the path to the private SSH key:
			</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem">
						Go to upper right corner settings.
					</li><li class="listitem"><p class="simpara">
						In the drop down menu, select <span class="strong"><strong>Authentication</strong></span>.
					</p><p class="simpara">
						<span class="inlinemediaobject"><img src="images/cockpit-ssh-auth.png" alt="cockpit ssh auth"/></span>

					</p></li><li class="listitem"><p class="simpara">
						Verify that the web console uses the correct path to the private key you want to use.
					</p><p class="simpara">
						By default, the web console uses the following paths for private keys:
					</p><pre class="literallayout">~/.ssh/id_rsa
~/.ssh/id_dsa
~/.ssh/id_ed25519
~/.ssh/id_ecdsa</pre><p class="simpara">
						To use a different key, add the path manually.
					</p></li><li class="listitem"><p class="simpara">
						Enable the key with the <span class="strong"><strong>On/Off</strong></span> button.
					</p><p class="simpara">
						Enabling the key opens a password dialog.
					</p></li><li class="listitem"><p class="simpara">
						Enter the SSH key password.
					</p><p class="simpara">
						<span class="inlinemediaobject"><img src="images/cockpit-add-key-password.png" alt="cockpit add key password"/></span>

					</p></li><li class="listitem"><p class="simpara">
						Click <span class="strong"><strong>Unlock Key</strong></span>.
					</p><p class="simpara">
						On <span class="strong"><strong>Details</strong></span> tab, you can verify the certificate owner and the fingerprint.
					</p></li><li class="listitem">
						Click <span class="strong"><strong>Close</strong></span>.
					</li></ol></div><p>
				The RHEL 8 web console uses now SSH keys on both sides. However, systems still use the original credentials.
			</p><p>
				To change the authentication settings:
			</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p class="simpara">
						Log out yourself from the web console.
					</p><p class="simpara">
						After the logging back in the web console, red triangle icon appears before the remote system.
					</p></li><li class="listitem"><p class="simpara">
						Click the system trying to connect to the web console.
					</p><p class="simpara">
						You can see two buttons in the screen. <span class="strong"><strong>Reconnect</strong></span> and <span class="strong"><strong>Troubleshoot</strong></span>.
					</p></li><li class="listitem"><p class="simpara">
						Click the <span class="strong"><strong>Troubleshoot</strong></span> button.
					</p><p class="simpara">
						Login dialog appears.
					</p><p class="simpara">
						<span class="inlinemediaobject"><img src="images/cockpit-add-server-using-available-credentials.png" alt="cockpit add server using available credentials"/></span>

					</p></li><li class="listitem">
						In the <span class="strong"><strong>Authentication</strong></span> drop down menu, select <span class="strong"><strong>Using available credentials</strong></span>.
					</li></ol></div><p>
				The web console creates a new connection secured with SSH keys. It works for the web console login as well as for a terminal access.
			</p></div></div></body></html>