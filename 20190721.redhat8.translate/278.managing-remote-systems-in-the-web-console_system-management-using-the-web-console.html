<html  xmlns="http://www.w3.org/1999/xhtml"><head><title>Chapter 9. 在Web控制台中管理远程系统</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"><meta name="generator" content="DocBook XSL-NS Stylesheets V1.78.1"></head><body ><div class="chapter"><div class="titlepage"><div><div><h1 class="title">Chapter 9. 在Web控制台中管理远程系统</h1></div></div></div><p>RHEL 8 Web控制台可以连接到远程系统并通过用户友好的Web界面进行管理。以下章节描述：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">连通系统的最佳拓扑结构。
				</li><li class="listitem">什么是仪表板。
				</li><li class="listitem">如何添加和删除远程系统。
				</li><li class="listitem">何时，为何以及如何使用SSH密钥进行远程系统身份验证。
				</li></ul></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="prerequisites-managing-remote-systems-in-the-web-console"></a>先决条件</h1></div></div></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">在远程系统上打开SSH服务。
					</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="remote-system-manager-in-the-web-console_managing-remote-systems-in-the-web-console"></a> Web控制台中的远程系统管理器</h1></div></div></div><p>使用RHEL 8 Web控制台管理网络中的远程系统需要考虑连接服务器的拓扑。
			</p><p>为获得最佳安全性，Red Hat建议采用以下连接设置：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">将一个系统与Web控制台一起用作堡垒主机。堡垒主机是一个打开HTTPS端口的系统。
					</li><li class="listitem">所有其他系统通过SSH进行通信。</li></ul></div><p>通过在堡垒主机上运行Web界面，您可以使用默认配置中的端口22通过SSH协议访问所有其他系统。
			</p><p>
				<span class="inlinemediaobject"><img src="images/RHEL_Cockpit-ManagingSystems_484190_0119.png" alt="RHEL Cockpit ManagingSystems 484190 0119"></span>

			</p></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="adding-remote-hosts-to-the-web-console_managing-remote-systems-in-the-web-console"></a>将远程主机添加到Web控制台</h1></div></div></div><p>本节帮助您使用用户名和密码将其他系统连接到Web控制台中的仪表板。
			</p><p>仪表板是专为远程服务器管理而设计的工具，您可以在其中添加，连接或删除远程系统。
			</p><p>仪表板显示每个远程系统的图形和状态。
			</p><p>您可以在仪表板中添加最多20个远程系统。
			</p><p>
				<span class="inlinemediaobject"><img src="images/cockpit-dashboard.png" alt="驾驶舱仪表板"></span>

			</p><h3><a id="prerequisites_63"></a>先决条件</h3><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">安装在Web界面运行的系统中的<code class="literal">cockpit-dashboard</code>包：</p><pre class="literallayout">$ sudo yum install cockpit-dashboard</pre><p class="simpara"><code class="literal">cockpit-dashboard</code>包通过远程系统管理扩展了RHEL 8 Web控制台。
					</p></li><li class="listitem"><p class="simpara">您需要使用管理权限登录Web控制台。
					</p><p class="simpara">有关详细信息，请参阅<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/managing_systems_using_the_rhel_8_web_console/index#logging-in-to-the-web-console_getting-started-with-the-rhel-8-web-console">登录Web控制台</a> 。
					</p></li></ul></div><h3><a id="procedure_69"></a>程序</h3><div class="orderedlist"><ol class="orderedlist"><li class="listitem">在RHEL 8 Web控制台中，转到<span class="strong"><strong>仪表板</strong></span> 。
					</li><li class="listitem"><p class="simpara">在<span class="strong"><strong>仪表板中</strong></span> ，单击“ <span class="strong"><strong>添加服务器”</strong></span>图标。
					</p><p class="simpara">
						<span class="inlinemediaobject"><img src="images/cockpit-add-server-icon.png" alt="驾驶舱添加服务器图标"></span>

					</p></li><li class="listitem">在“ <span class="strong"><strong>将计算机添加到仪表板”</strong></span>对话框中，输入远程系统的主机名或IP地址。
					</li><li class="listitem">（可选）单击“ <span class="strong"><strong>颜色”</strong></span>字段以更改仪表板中系统的颜色。
					</li><li class="listitem">单击<span class="strong"><strong>添加</strong></span> 。
					</li><li class="listitem"><p class="simpara">在“ <span class="strong"><strong>登录到&lt;servername&gt;”</strong></span>对话框中，输入远程系统的凭据。
					</p><p class="simpara">您可以使用远程系统的任何用户帐户。但是，如果您使用没有管理权限的用户帐户的凭据，您将无法执行管理任务。
					</p><p class="simpara">如果使用与本地系统相同的凭据，则Web控制台将在每次登录时自动对远程系统进行身份验证。但是，在更多计算机上使用相同的凭据可能存在潜在的安全风险。
					</p><p class="simpara">
						<span class="inlinemediaobject"><img src="images/cockpit-add-server-passwd.png" alt="驾驶舱添加服务器passwd"></span>

					</p></li><li class="listitem">单击“ <span class="strong"><strong>登录”</strong></span> 。
					</li></ol></div><p>如果登录成功，仪表板会在列表中添加新项目。要验证连接，请单击系统以查看Web控制台中的所有详细信息。
			</p><div class="note" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">注意</h3><p>Web控制台不会保存用于登录远程系统的密码，这意味着您必须在每次系统重新启动后再次登录。要打开登录对话框，请单击断开连接的远程系统主屏幕上的“ <span class="strong"><strong>疑难解答”</strong></span>按钮。
				</p><p>
					<span class="inlinemediaobject"><img src="images/cockpit-cannot-connect-screen.png" alt="驾驶舱无法连接屏幕"></span>

				</p></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="removing-remote-hosts-from-the-web-console_managing-remote-systems-in-the-web-console"></a>从Web控制台中删除远程主机</h1></div></div></div><p>本节将指导您从位于Web控制台中的仪表板中删除其他系统。
			</p><h3><a id="prerequisites_64"></a>先决条件</h3><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><code class="literal">cockpit-dashboard</code>包安装在运行Web界面的系统中。
					</li><li class="listitem"><p class="simpara">远程系统添加。
					</p><p class="simpara">有关详细信息，请参阅<a class="link" href="managing-remote-systems-in-the-web-console_system-management-using-the-web-console.html#adding-remote-hosts-to-the-web-console_managing-remote-systems-in-the-web-console" title="将远程主机添加到Web控制台">使用Web控制台添加远程系统</a> 。
					</p></li><li class="listitem"><p class="simpara">您必须使用管理员权限登录Web控制台。
					</p><p class="simpara">有关详细信息，请参阅<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/managing_systems_using_the_rhel_8_web_console/index#logging-in-to-the-web-console_getting-started-with-the-rhel-8-web-console">登录Web控制台</a> 。
					</p></li></ul></div><h3><a id="procedure_70"></a>程序</h3><div class="orderedlist"><ol class="orderedlist"><li class="listitem">登录RHEL 8 Web控制台。
					</li><li class="listitem">单击<span class="strong"><strong>仪表板</strong></span> 。
					</li><li class="listitem"><p class="simpara">单击“ <span class="strong"><strong>编辑服务器”</strong></span>图标。
					</p><p class="simpara">
						<span class="inlinemediaobject"><img src="images/cockpit-edit-server-icon.png" alt="驾驶舱编辑服务器图标"></span>

					</p></li><li class="listitem"><p class="simpara">要从<span class="strong"><strong>仪表板中</strong></span>删除服务器，请单击红色的“ <span class="strong"><strong>删除”</strong></span>图标。
					</p><p class="simpara">
						<span class="inlinemediaobject"><img src="images/cockpit-remove-server.png" alt="驾驶舱删除服务器"></span>

					</p></li></ol></div><p>因此，服务器将从<span class="strong"><strong>仪表板中</strong></span>删除。
			</p></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="setting-up-ssh-for-remote-management-in-the-web-console_managing-remote-systems-in-the-web-console"></a>在Web控制台中设置SSH以进行远程管理</h1></div></div></div><p>RHEL 8 Web控制台支持使用SSH密钥进行身份验证。这具有以下优点：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">提高服务器之间通信的安全性。
					</li><li class="listitem">避免重复输入凭据。
					</li></ul></div><div class="important" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">重要</h3><p>使用SSH密钥仅适用于只读访问或无密码sudo，因为身份验证在没有密码的情况下进行。要执行管理任务，请使用具有管理权限的系统帐户凭据。
				</p></div><p>要在Web控制台中使用SSH密钥配置身份验证：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">将公钥复制到连接的远程系统中。
					</li><li class="listitem">设置运行RHEL 8 Web控制台的系统中私钥的路径。
					</li><li class="listitem">从Web控制台注销并再次登录以确保更改身份验证。
					</li></ul></div><h3><a id="prerequisites_65"></a>先决条件</h3><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">SSH密钥存储在系统中，运行Web控制台。如果您没有，请使用以下命令：</p><pre class="literallayout">$ ssh-keygen</pre></li><li class="listitem">生成的SSH密钥的密码。
					</li><li class="listitem"><code class="literal">~/.ssh/id_rsa.pub</code>文件的内容复制到剪贴板中。
					</li></ul></div><h3><a id="procedure_71"></a>程序</h3><p>要将公共SSH密钥复制到远程系统：</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem">打开Web控制台。
					</li><li class="listitem">单击<span class="strong"><strong>仪表板</strong></span> 。
					</li><li class="listitem">选择要添加公钥的远程系统。
					</li><li class="listitem">在系统设置中，转到“ <span class="strong"><strong>帐户”</strong></span> 。
					</li><li class="listitem">选择要为其分配公钥的用户帐户。
					</li><li class="listitem"><p class="simpara">在“ <span class="strong"><strong>授权的公共SSH密钥”</strong></span>设置中，单击“ <span class="strong"><strong>+”</strong></span>按钮。
					</p><p class="simpara">
						<span class="inlinemediaobject"><img src="images/cockpit-account.png" alt="驾驶舱帐户"></span>

					</p></li><li class="listitem">在“ <span class="strong"><strong>添加公钥”</strong></span>对话框中，粘贴剪贴板中的公钥。
					</li><li class="listitem">单击“ <span class="strong"><strong>添加”键</strong></span> 。
					</li></ol></div><p>此时，您可以看到分配给用户帐户的新公钥。
			</p><p>
				<span class="inlinemediaobject"><img src="images/cockpit-ssh-pub-key.png" alt="驾驶舱ssh酒吧钥匙"></span>

			</p><p>要设置私有SSH密钥的路径：</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem">转到右上角设置。
					</li><li class="listitem"><p class="simpara">在下拉菜单中，选择“ <span class="strong"><strong>身份验证”</strong></span> 。
					</p><p class="simpara">
						<span class="inlinemediaobject"><img src="images/cockpit-ssh-auth.png" alt="驾驶舱ssh认证"></span>

					</p></li><li class="listitem"><p class="simpara">验证Web控制台是否使用了要使用的私钥的正确路径。
					</p><p class="simpara">默认情况下，Web控制台对私钥使用以下路径：</p><pre class="literallayout">~/.ssh/id_rsa
~/.ssh/id_dsa
~/.ssh/id_ed25519
~/.ssh/id_ecdsa</pre><p class="simpara">要使用其他密钥，请手动添加路径。
					</p></li><li class="listitem"><p class="simpara">使用<span class="strong"><strong>开/关</strong></span>按钮启用该键。
					</p><p class="simpara">启用该密钥将打开密码对话框。
					</p></li><li class="listitem"><p class="simpara">输入SSH密钥密码。
					</p><p class="simpara">
						<span class="inlinemediaobject"><img src="images/cockpit-add-key-password.png" alt="驾驶舱添加密钥密码"></span>

					</p></li><li class="listitem"><p class="simpara">单击<span class="strong"><strong>解锁密钥</strong></span> 。
					</p><p class="simpara">在“ <span class="strong"><strong>详细信息”</strong></span>选项卡上，您可以验证证书所有者和指纹。
					</p></li><li class="listitem">单击<span class="strong"><strong>关闭</strong></span> 。
					</li></ol></div><p>RHEL 8 Web控制台现在使用两侧的SSH密钥。但是，系统仍使用原始凭据。
			</p><p>要更改身份验证设置：</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p class="simpara">从Web控制台退出。
					</p><p class="simpara">在Web控制台中重新登录后，远程系统之前会出现红色三角形图标。
					</p></li><li class="listitem"><p class="simpara">单击尝试连接到Web控制台的系统。
					</p><p class="simpara">您可以在屏幕上看到两个按钮。<span class="strong"><strong>重新连接</strong></span>并<span class="strong"><strong>排除故障</strong></span> 。
					</p></li><li class="listitem"><p class="simpara">单击“ <span class="strong"><strong>疑难解答”</strong></span>按钮。
					</p><p class="simpara">出现登录对话框。
					</p><p class="simpara">
						<span class="inlinemediaobject"><img src="images/cockpit-add-server-using-available-credentials.png" alt="驾驶舱使用可用凭证添加服务器"></span>

					</p></li><li class="listitem">在“ <span class="strong"><strong>身份验证”</strong></span>下拉菜单中，选择“ <span class="strong"><strong>使用可用凭据”</strong></span> 。
					</li></ol></div><p>Web控制台创建使用SSH密钥保护的新连接。它适用于Web控制台登录以及终端访问。
			</p></div></div></body></html>