<html  xmlns="http://www.w3.org/1999/xhtml"><head><title>Chapter 9. 准备安装</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"><meta name="generator" content="DocBook XSL-NS Stylesheets V1.78.1"></head><body ><div class="chapter"><div class="titlepage"><div><div><h1 class="title">Chapter 9. 准备安装</h1></div></div></div><p>如果您是Red Hat Enterprise Linux的新手，通过查看系统要求，下载所需的安装映像以及创建安装介质来准备安装非常重要。
			</p><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="preparing-for-your-installation-workflow_preparing-for-your-installation"></a>推荐步骤</h1></div></div></div><p>准备安装包括几个步骤。
				</p><div class="note" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">注意</h3><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">如果您是Red Hat Enterprise Linux的新手，请完成步骤1到5。
							</li><li class="listitem">如果您熟悉Red Hat Enterprise Linux，请完成步骤3到5。
							</li></ul></div></div><div class="orderedlist"><p class="title"><strong>程序</strong></p><ol class="orderedlist"><li class="listitem">检查系统要求。
						</li><li class="listitem">选择安装启动方法。
						</li><li class="listitem">选择并下载安装映像。
						</li><li class="listitem">创建可启动的安装媒体。
						</li><li class="listitem">准备安装源*</li></ol></div><p>*仅适用于Boot ISO（最小安装）映像。
				</p></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="check-system-requirements_preparing-for-your-installation"></a>检查系统要求</h1></div></div></div><p>如果这是首次安装Red Hat Enterprise Linux，建议您在安装之前查看为系统，硬件，安全性，内存和RAID提供的指南。有关详细信息<a class="xref" href="system-requirements-reference_installing-RHEL.html" title="Appendix A. System requirements reference">，</a>请参阅<a class="xref" href="system-requirements-reference_installing-RHEL.html" title="附录A.系统要求参考">附录A， <em>系统要求参考</em></a> 。
				</p><h3><a id="additional_resources_3"></a>其他资源</h3><p>有关保护Red Hat Enterprise Linux的更多信息，请参阅<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/security_hardening/index/"><span class="emphasis"><em>安全加固</em></span></a>文档。
				</p></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="choose-an-installation-boot-method_preparing-for-your-installation"></a>选择安装启动方法</h1></div></div></div><p>有几种方法可以引导Red Hat Enterprise Linux安装程序。您选择的方法取决于您的安装媒体。
				</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">完全安装DVD或USB闪存驱动器</span></dt><dd>使用<span class="strong"><strong>Binary DVD ISO</strong></span>映像创建完整安装DVD或USB闪存驱动器。DVD或USB闪存驱动器可用作引导设备和安装软件包的安装源。由于二进制DVD ISO映像的大小，推荐使用DVD或USB闪存驱动器。
							</dd><dt><span class="term">最小安装DVD，CD或USB闪存驱动器</span></dt><dd>使用<span class="strong"><strong>Boot ISO</strong></span>映像创建最小安装CD，DVD或USB闪存驱动器，该映像仅包含引导系统和启动安装程序所需的最少文件。<span class="strong"><strong>Boot ISO</strong></span>映像需要包含所需软件包的安装源。
							</dd><dt><span class="term">PXE服务器</span></dt><dd><span class="emphasis"><em>预引导执行环境</em></span> （PXE）服务器允许安装程序通过网络引导。系统引导后，您必须从其他安装源（例如本地硬盘驱动器或网络位置）完成安装。
							</dd></dl></div><h3><a id="additional_resources_4"></a>其他资源</h3><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">有关如何创建安装DVD或USB闪存驱动器的说明，请参阅<a class="xref" href="preparing-for-your-installation_installing-RHEL.html#making-media_preparing-for-your-installation" title="创建安装媒体">“创建安装介质”一节</a>以获取更多信息。
						</li><li class="listitem">有关如何创建可引导DVD，CD和USB闪存驱动器的说明，请参阅<a class="xref" href="preparing-for-your-installation_installing-RHEL.html#prepare-installation-source_preparing-for-your-installation" title="准备安装源">“准备安装源”一节</a>以获取更多信息。
						</li><li class="listitem">有关PXE服务器的详细信息，请参阅<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/performing_an_advanced_rhel_installation/index/"><span class="emphasis"><em>执行高级RHEL安装</em></span></a>文档。
						</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="types-of-installation-media_preparing-for-your-installation"></a>选择所需的安装映像</h1></div></div></div><p>Red Hat客户门户网站提供了两个Red Hat Enterprise Linux 8安装映像。
				</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">二进制DVD ISO映像文件</span></dt><dd><p class="simpara">包含BaseOS和AppStream存储库的完整安装程序，允许您在没有其他存储库的情况下完成安装。从二进制DVD ISO安装Red Hat Enterprise Linux是执行标准RHEL安装的最简单和推荐的方法。
							</p><div class="important" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">重要</h3><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><span class="strong"><strong>建议</strong></span>您使用Binary DVD ISO映像文件来安装Red Hat Enterprise Linux 8。
										</li><li class="listitem">您可以使用Binary DVD for IBM Z使用SCSI DVD驱动器或安装源来引导安装程序。
										</li></ul></div></div></dd><dt><span class="term">启动ISO映像文件</span></dt><dd>Boot ISO映像是一种最小安装，需要访问BaseOS和AppStream存储库才能安装软件包。存储库是二进制DVD ISO映像的一部分，可从<a class="link" href="https://access.redhat.com/home">https://access.redhat.com/home</a>下载。下载并解压缩二进制DVD ISO映像以访问存储库。
							</dd></dl></div><p>下表包含有关支持的体系结构可用的映像的信息。
				</p><div class="table"><a id="idm140346673217184"></a><p class="title"><strong>表4.1。启动和安装映像</strong></p><div class="table-contents"><table border="1" summary="Boot and Installation Images"><colgroup><col class="col_1"><col class="col_2"><col class="col_3"></colgroup><thead><tr><th valign="top" style="text-align:left">建筑</th><th valign="top" style="text-align:left">安装DVD</th><th valign="top" style="text-align:left">启动DVD</th></tr></thead><tbody><tr><td valign="top" style="text-align:left"> <p>AMD64和Intel 64</p>
								 </td><td valign="top" style="text-align:left"> <p>x86_64二进制DVD ISO映像文件</p>
								 </td><td valign="top" style="text-align:left"> <p>x86_64引导ISO映像文件</p>
								 </td></tr><tr><td valign="top" style="text-align:left"> <p>ARM 64</p>
								 </td><td valign="top" style="text-align:left"> <p>AArch64二进制DVD ISO映像文件</p>
								 </td><td valign="top" style="text-align:left"> <p>AArch64启动ISO映像文件</p>
								 </td></tr><tr><td valign="top" style="text-align:left"> <p>IBM POWER</p>
								 </td><td valign="top" style="text-align:left"> <p>ppc64le二进制DVD ISO映像文件</p>
								 </td><td valign="top" style="text-align:left"> <p>ppc64le引导ISO映像文件</p>
								 </td></tr><tr><td valign="top" style="text-align:left"> <p>IBM Z.</p>
								 </td><td valign="top" style="text-align:left"> <p>s390x二进制DVD ISO映像文件</p>
								 </td><td valign="top" style="text-align:left"> <p>s390x启动ISO映像文件</p>
								 </td></tr></tbody></table></div></div><h4><a id="additional_resources_5"></a>其他资源</h4><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">有关如何访问二进制DVD ISO映像存储库的说明，请参阅<a class="xref" href="preparing-for-your-installation_installing-RHEL.html#prepare-installation-source_preparing-for-your-installation" title="准备安装源">“准备安装源”一节</a>以获取更多信息。
						</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="downloading-beta-installation-images_preparing-for-your-installation"></a>下载安装ISO映像</h1></div></div></div><p>本节包含有关从Red Hat客户门户或使用<code class="literal">curl</code>命令下载Red Hat Enterprise Linux安装映像的说明。
				</p><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="downloading-a-specific-beta-iso-image_downloading-beta-installation-images"></a>从客户门户下载ISO映像</h2></div></div></div><p>按照此过程从Red Hat客户门户下载Red Hat Enterprise Linux 8 ISO映像。
					</p><div class="note" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">注意</h3><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">Red Hat建议使用Binary DVD ISO映像来安装Red Hat Enterprise Linux 8，因为它包含所有存储库和软件包，并且不需要任何其他配置。
								</li><li class="listitem">如果下载Boot ISO映像文件，则必须配置安装源以获取存储库和软件包。有关详细信息，请参阅<a class="xref" href="preparing-for-your-installation_installing-RHEL.html#prepare-installation-source_preparing-for-your-installation" title="准备安装源">“准备安装源”一节</a> 。
								</li></ul></div></div><div class="itemizedlist"><p class="title"><strong>先决条件</strong></p><ul class="itemizedlist"><li class="listitem">您有一个活跃的Red Hat订阅。
							</li><li class="listitem">您已登录红帽客户门户的<span class="strong"><strong>产品下载</strong></span>部分， <a class="link" href="https://access.redhat.com/downloads">网址</a>为<a class="link" href="https://access.redhat.com/downloads">https://access.redhat.com/downloads</a> 。</li></ul></div><div class="orderedlist"><p class="title"><strong>程序</strong></p><ol class="orderedlist"><li class="listitem">从“ <span class="strong"><strong>产品下载”</strong></span>页面中，选择“ <span class="strong"><strong>按类别”</strong></span>选项卡。
							</li><li class="listitem"><p class="simpara">单击<span class="strong"><strong>Red Hat Enterprise Linux 8</strong></span>链接。
							</p><p class="simpara">将打开“ <span class="strong"><strong>下载Red Hat Enterprise Linux”</strong></span>网页。
							</p></li><li class="listitem"><p class="simpara">从<span class="strong"><strong>Product Variant</strong></span>下拉菜单中，选择您需要的变体，例如<span class="strong"><strong>Red Hat Enterprise Linux for x86_64</strong></span> 。
							</p><div class="note" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">注意</h3><p>如果您不确定符合要求的变体，请<a class="link" href="http://www.redhat.com/en/technologies/linux-platforms/enterprise-linux">访问http://www.redhat.com/en/technologies/linux-platforms/enterprise-linux</a> 。</p></div></li><li class="listitem"><span class="strong"><strong>版本</strong></span>下拉菜单默认为<span class="strong"><strong>8.0</strong></span> 。
							</li><li class="listitem"><p class="simpara"><span class="strong"><strong>架构</strong></span>下拉菜单默认为<span class="strong"><strong>x86_64</strong></span> 。
							</p><p class="simpara">“ <span class="strong"><strong>产品软件”</strong></span>选项卡显示图像，其中包括：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
										<span class="strong"><strong>红帽企业Linux 8.0二进制DVD</strong></span>映像。
									</li><li class="listitem">
										<span class="strong"><strong>Red Hat Enterprise Linux 8.0引导ISO</strong></span>映像。
									</li></ul></div><p class="simpara">可以使用其他图像，例如，预配置的虚拟机映像，但它们超出了本文档的范围。
							</p></li><li class="listitem">单击所需的ISO映像旁边的<span class="strong"><strong>立即下载</strong></span> 。
							</li></ol></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="downloading-an-iso-image-with-curl_downloading-beta-installation-images"></a>使用curl下载ISO映像</h2></div></div></div><p>使用<code class="literal">curl</code>命令直接从特定URL下载安装映像。</p><h4><a id="prerequisites_2"></a>先决条件</h4><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">验证curl包是否已安装：</p><div class="informalexample"><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">如果您的发行版使用<span class="strong"><strong>yum</strong></span>包管理器：</p><pre class="literallayout"># yum install curl</pre></li><li class="listitem"><p class="simpara">如果您的发行版使用<span class="strong"><strong>dnf</strong></span>包管理器：</p><pre class="literallayout"># dnf install curl</pre></li><li class="listitem"><p class="simpara">如果您的发行版使用<span class="strong"><strong>apt</strong></span>包管理器：</p><pre class="literallayout"># apt update
# apt install curl</pre></li><li class="listitem">如果您的Linux发行版不使用yum，dnf或apt，或者如果您不使用Linux，请从<a class="link" href="https://curl.haxx.se/download.html">curl网站</a>下载最合适的软件包。
									</li></ul></div></div></li><li class="listitem">您已导航到红帽客户门户的<span class="strong"><strong>产品下载</strong></span>部分， <a class="link" href="https://access.redhat.com/downloads">网址</a>为<a class="link" href="https://access.redhat.com/downloads">https://access.redhat.com/downloads</a> ，并选择了您需要的变体，版本和体系结构。您已右键单击所需的ISO映像文件，并选择了“ <span class="strong"><strong>复制链接位置”</strong></span>以将ISO映像文件的URL复制到剪贴板。
							</li></ul></div><h4><a id="procedure_2"></a>程序</h4><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p class="simpara">在命令行上，输入合适的目录，然后运行以下命令以下载文件：</p><pre class="literallayout">$ curl --output <span class="emphasis"><em>directory-path/filename.iso</em></span> <span class="emphasis"><em>'copied_link_location'</em></span></pre><p class="simpara">将<span class="emphasis"><em>directory-path</em></span>替换为要保存文件的位置的路径;将<span class="emphasis"><em>filename.iso</em></span>替换为客户门户中显示的ISO映像名称;将<span class="emphasis"><em>copied_link_location</em></span>替换为您从客户门户复制的链接。
							</p></li></ol></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="making-media_preparing-for-your-installation"></a>创建安装媒体</h1></div></div></div><p>本节包含有关使用您在<a class="xref" href="preparing-for-your-installation_installing-RHEL.html#downloading-beta-installation-images_preparing-for-your-installation" title="下载安装ISO映像">“下载安装ISO映像”一节中</a>下载的ISO映像文件来创建可启动的物理安装介质（如USB，DVD或CD）的信息。</p><div class="note" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">注意</h3><p>默认情况下， <code class="literal">inst.stage2=</code> boot选项在安装介质上使用，并设置为特定标签，例如， <code class="literal">inst.stage2=hd:LABEL=RHEL8\x86_64</code> 。如果修改包含运行时映像的文件系统的默认标签，或者使用自定义过程引导安装系统，则必须验证标签是否设置为正确的值。
					</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="making-an-installation-cd-or-dvd_preparing-for-your-installation"></a>创建可引导的DVD或CD</h2></div></div></div><p>您可以使用刻录软件和CD / DVD刻录机创建可引导的安装DVD或CD。根据安装的操作系统和光盘刻录软件，从ISO映像文件生成DVD或CD的确切步骤差别很大。有关从ISO映像文件刻录CD或DVD的确切步骤，请参阅系统的刻录软件文档。
					</p><div class="warning" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">警告</h3><p>您可以使用Binary DVD ISO映像（完整安装）或Boot ISO映像（最小安装）创建可启动DVD或CD。但是，二进制DVD ISO映像大于4.7 GB，因此可能不适合单层DVD。使用二进制DVD ISO映像创建可启动安装介质时，建议使用双层DVD或USB密钥。
						</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="create-bootable-usb-linux_preparing-for-your-installation"></a>在Linux上创建可启动的USB设备</h2></div></div></div><p>按照此过程在Linux系统上创建可引导的USB设备。
					</p><h4><a id="prerequisites_3"></a>先决条件</h4><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">您已按照<a class="xref" href="preparing-for-your-installation_installing-RHEL.html#downloading-beta-installation-images_preparing-for-your-installation" title="下载安装ISO映像">“下载安装ISO映像”一节中的说明下载了安装ISO映像</a> 。
							</li><li class="listitem"><span class="strong"><strong>二进制DVD</strong></span> ISO映像大于4.7 GB，因此您必须具有足以容纳ISO映像的USB闪存驱动器。
							</li></ul></div><h4><a id="procedure_3"></a>程序</h4><div class="note" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">注意</h3><p>此过程具有破坏性，USB闪存驱动器上的数据在没有警告的情况下被破坏。
						</p></div><div class="orderedlist"><ol class="orderedlist"><li class="listitem">将USB闪存盘连接到系统。
							</li><li class="listitem"><p class="simpara">打开终端窗口并运行<code class="literal">dmesg</code>命令：</p><pre class="screen">$ dmesg|tail</pre><p class="simpara"><code class="literal">dmesg</code>命令返回详细记录所有最近事件的日志。连接的USB闪存驱动器产生的消息显示在日志的底部。记录连接设备的名称。
							</p></li><li class="listitem"><p class="simpara">切换到用户root：</p><pre class="screen">$ su -</pre></li><li class="listitem">出现提示时输入您的root密码。
							</li><li class="listitem"><p class="simpara">找到分配给驱动器的设备节点。在此示例中，驱动器名称为<code class="literal">sdd</code> 。
							</p><pre class="screen"># <span class="command">dmesg|tail</span>
[288954.686557] usb 2-1.8: New USB device strings: Mfr=0, Product=1, SerialNumber=2
[288954.686559] usb 2-1.8: Product: USB Storage
[288954.686562] usb 2-1.8: SerialNumber: 000000009225
[288954.712590] usb-storage 2-1.8:1.0: USB Mass Storage device detected
[288954.712687] scsi host6: usb-storage 2-1.8:1.0
[288954.712809] usbcore: registered new interface driver usb-storage
[288954.716682] usbcore: registered new interface driver uas
[288955.717140] scsi 6:0:0:0: Direct-Access     Generic  STORAGE DEVICE   9228 PQ: 0 ANSI: 0
[288955.717745] sd 6:0:0:0: Attached scsi generic sg4 type 0
[288961.876382] sd 6:0:0:0: <span class="strong"><strong>sdd</strong></span> Attached SCSI removable disk</pre></li><li class="listitem"><p class="simpara">运行<code class="literal">dd</code>命令将ISO映像直接写入USB设备。
							</p><pre class="screen"># dd if=/image_directory/image.iso of=/dev/device</pre><p class="simpara">将<span class="emphasis"><em>/image_directory/image.iso</em></span>替换为您下载的ISO映像文件的完整路径，并将<span class="emphasis"><em>设备</em></span>替换为使用<code class="literal">dmesg</code>命令检索的设备名称。在此示例中，ISO映像的完整路径为<code class="literal">/home/testuser/Downloads/rhel-8-x86_64-boot.iso</code> ，设备名称为<code class="literal">sdd</code> ：</p><pre class="screen"># <span class="command">dd</span> if=/home/testuser/Downloads/rhel-8-x86_64-boot.iso of=/dev/sdd</pre><div class="note" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">注意</h3><p>确保使用正确的设备名称，而不是设备上的分区名称。分区名称通常是带有数字后缀的设备名称。例如， <code class="literal">sdd</code>是设备名称， <code class="literal">sdd1</code>是设备<code class="literal">sdd</code>上的分区名称。
								</p></div></li><li class="listitem">等待<code class="literal">dd</code>命令完成将映像写入设备。出现<span class="strong"><strong>＃</strong></span>提示时，数据传输完成。显示提示时，注销root帐户并拔下USB驱动器。USB驱动器现在可以用作引导设备。
							</li></ol></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="creating-a-bootable-usb-windows_preparing-for-your-installation"></a>在Windows上创建可启动的USB设备</h2></div></div></div><p>按照此过程中的步骤在Windows系统上创建可引导的USB设备。该程序因工具而异。Red Hat建议使用Fedora Media Writer，可从<a class="link" href="https://github.com/FedoraQt/MediaWriter/releases">https://github.com/FedoraQt/MediaWriter/releases</a>下载。</p><div class="note" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">注意</h3><p>Fedora Media Writer是一款社区产品，Red Hat不支持。您可以通过<a class="link" href="https://github.com/FedoraQt/MediaWriter/issues">https://github.com/FedoraQt/MediaWriter/issues</a>报告该工具的任何问题。</p></div><h4><a id="prerequisites_4"></a>先决条件</h4><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">您已按照<a class="xref" href="preparing-for-your-installation_installing-RHEL.html#downloading-beta-installation-images_preparing-for-your-installation" title="下载安装ISO映像">“下载安装ISO映像”一节中的说明下载了安装ISO映像</a> 。
							</li><li class="listitem"><span class="strong"><strong>二进制DVD</strong></span> ISO映像大于4.7 GB，因此您必须具有足以容纳ISO映像的USB闪存驱动器。
							</li></ul></div><h4><a id="procedure_4"></a>程序</h4><div class="note" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">注意</h3><p>此过程具有破坏性，USB闪存驱动器上的数据在没有警告的情况下被破坏。
						</p></div><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p class="simpara">从<a class="link" href="https://github.com/FedoraQt/MediaWriter/releases">https://github.com/FedoraQt/MediaWriter/releases</a>下载并安装Fedora Media Writer。</p><div class="note" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">注意</h3><p>要在Red Hat Enterprise Linux上安装Fedora Media Writer，请使用预构建的Flatpak软件包。您可以从官方的Flatpak存储库Flathub.org获取该软件包，网址为<a class="link" href="https://flathub.org/apps/details/org.fedoraproject.MediaWriter">https://flathub.org/apps/details/org.fedoraproject.MediaWriter</a> 。</p></div></li><li class="listitem">将USB闪存盘连接到系统。
							</li><li class="listitem">打开Fedora Media Writer。
							</li><li class="listitem">在主窗口中，单击“ <span class="strong"><strong>自定义映像”，</strong></span>然后选择以前下载的Red Hat Enterprise Linux ISO映像。
							</li><li class="listitem">从“ <span class="strong"><strong>写入自定义图像”</strong></span>窗口中，选择要使用的驱动器。
							</li><li class="listitem">单击“ <span class="strong"><strong>写入磁盘”</strong></span> 。启动引导介质创建过程。在操作完成之前，请勿拔下驱动器。操作可能需要几分钟，具体取决于ISO映像的大小和USB驱动器的写入速度。
							</li><li class="listitem">操作完成后，卸载USB驱动器。USB驱动器现在可以用作引导设备。
							</li></ol></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="creating-a-bootable-usb-mac_preparing-for-your-installation"></a>在Mac OS X上创建可启动的USB设备</h2></div></div></div><p>按照此过程中的步骤在Mac OS X系统上创建可引导USB设备。
					</p><h4><a id="prerequisites_5"></a>先决条件</h4><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">您已按照<a class="xref" href="preparing-for-your-installation_installing-RHEL.html#downloading-beta-installation-images_preparing-for-your-installation" title="下载安装ISO映像">“下载安装ISO映像”一节中的说明下载了安装ISO映像</a> 。
							</li><li class="listitem"><span class="strong"><strong>二进制DVD</strong></span> ISO映像大于4.7 GB，因此您必须具有足以容纳ISO映像的USB闪存驱动器。
							</li></ul></div><h4><a id="procedure_5"></a>程序</h4><div class="note" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">注意</h3><p>此过程具有破坏性，USB闪存驱动器上的数据在没有警告的情况下被破坏。
						</p></div><div class="orderedlist"><ol class="orderedlist"><li class="listitem">将USB闪存盘连接到系统。
							</li><li class="listitem"><p class="simpara">使用<code class="literal">diskutil list</code>命令标识设备路径。设备路径的格式为<span class="emphasis"><em>/ dev / disknumber</em></span> ，其中number是磁盘的编号。磁盘从零（0）开始编号。通常，磁盘0是OS X恢复磁盘，磁盘1是主要的OS X安装。在以下示例中，USB设备是<code class="literal">disk2</code> ：</p><pre class="screen">$ diskutil list
/dev/disk0
#:                       TYPE NAME                    SIZE       IDENTIFIER
0:      GUID_partition_scheme                        *500.3 GB   disk0
1:                        EFI EFI                     209.7 MB   disk0s1
2:          Apple_CoreStorage                         400.0 GB   disk0s2
3:                 Apple_Boot Recovery HD             650.0 MB   disk0s3
4:          Apple_CoreStorage                         98.8 GB    disk0s4
5:                 Apple_Boot Recovery HD             650.0 MB   disk0s5
/dev/disk1
#:                       TYPE NAME                    SIZE       IDENTIFIER
0:                  Apple_HFS YosemiteHD             *399.6 GB   disk1
Logical Volume on disk0s1
8A142795-8036-48DF-9FC5-84506DFBB7B2
Unlocked Encrypted
/dev/disk2
#:                       TYPE NAME                    SIZE       IDENTIFIER
0:     FDisk_partition_scheme                        *8.0 GB     disk2
1:               Windows_NTFS SanDisk USB             8.0 GB     disk2s1</pre></li><li class="listitem">要识别USB闪存驱动器，请将NAME，TYPE和SIZE列与闪存驱动器进行比较。例如，NAME应该是<span class="strong"><strong>Finder</strong></span>工具中闪存驱动器图标的标题。您还可以将这些值与闪存驱动器的信息面板中的值进行比较。
							</li><li class="listitem"><p class="simpara">使用<code class="literal">diskutil unmountDisk</code>命令卸载闪存驱动器的文件系统卷：</p><pre class="screen">$ diskutil unmountDisk /dev/disknumber
					Unmount of all volumes on disknumber was successful</pre><p class="simpara">命令完成后，闪存驱动器的图标将从桌面上消失。如果图标没有消失，则可能选择了错误的磁盘。尝试卸载系统磁盘意外地返回<span class="strong"><strong>失败的卸载</strong></span>错误。
							</p></li><li class="listitem"><p class="simpara">以root身份登录：</p><pre class="screen">$ su -</pre></li><li class="listitem">出现提示时输入您的root密码。
							</li><li class="listitem"><p class="simpara">使用<code class="literal">dd</code>命令作为sudo命令的参数将ISO映像写入闪存驱动器：</p><pre class="screen"># sudo dd if=/path/to/image.iso of=/dev/rdisknumber bs=1m&gt;</pre><div class="note" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">注意</h3><p>Mac OS X为每个存储设备提供块（/ dev / disk *）和字符设备（/ dev / rdisk *）文件。将图像写入/ dev / rdisknumber字符设备比写入/ dev / disknumber块设备要快。
								</p></div></li><li class="listitem"><p class="simpara">要将<span class="emphasis"><em>/Users/user_name/Downloads/rhel-8-x86_64-boot.iso</em></span>文件写入<span class="emphasis"><em>/ dev / rdisk2</em></span>设备，请运行以下命令：</p><pre class="screen"># sudo dd if=/Users/user_name/Downloads/rhel-8-x86_64-boot.iso of=/dev/rdisk2</pre></li><li class="listitem">等待<code class="literal">dd</code>命令完成将映像写入设备。出现<span class="strong"><strong>＃</strong></span>提示时，数据传输完成。显示提示时，注销root帐户并拔下USB驱动器。USB驱动器现在可以用作引导设备。
							</li></ol></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="prepare-installation-source_preparing-for-your-installation"></a>准备安装源</h1></div></div></div><p>Boot ISO映像文件不包含任何存储库或软件包;它仅包含安装程序和引导系统并开始安装所需的工具。本节包含有关使用包含所需存储库和软件包的Binary DVD ISO映像为Boot ISO映像创建安装源的信息。
				</p><div class="important" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">重要</h3><p>仅对Boot ISO映像需要创建安装源。Red Hat建议将<span class="strong"><strong>Binary DVD</strong></span> ISO映像作为安装Red Hat Enterprise Linux的首选方法。
					</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="types-of-installation-source_prepare-installation-source"></a>安装源的类型</h2></div></div></div><p>您可以使用以下安装源之一来获取最小的启动映像：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
								<span class="strong"><strong>DVD：</strong></span>将二进制DVD ISO映像刻录到DVD。安装程序将自动从DVD安装软件包。</li><li class="listitem"><p class="simpara">
								<span class="strong"><strong>硬盘驱动器或USB驱动器：</strong></span>将二进制DVD ISO映像复制到驱动器并配置安装程序以从驱动器安装软件包。如果使用USB驱动器，请在安装开始之前验证它是否已连接到系统。安装开始后，安装程序无法检测介质。
							</p><div class="informalexample"><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
										<span class="strong"><strong>硬盘驱动器限制</strong></span> ： <span class="strong"><strong>硬盘驱动器上</strong></span>的二进制DVD ISO映像必须位于具有安装程序可以安装的文件系统的分区上。支持的文件系统是<code class="literal">xfs</code> ， <code class="literal">ext2</code> ， <code class="literal">ext3</code> ， <code class="literal">ext4</code>和<code class="literal">vfat (FAT32)</code> 。
									</li></ul></div><div class="warning" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">警告</h3><p>在Microsoft Windows系统上，格式化硬盘驱动器时使用的默认文件系统是NTFS。 exFAT文件系统也可用。但是，在安装过程中，这些文件系统都不能安装。如果要在Microsoft Windows上创建硬盘驱动器或USB驱动器作为安装源，请确认已将驱动器格式化为FAT32。请注意，FAT32文件系统无法存储大于4 GiB的文件。</p><p>在Red Hat Enterprise Linux 8中，您可以从本地硬盘驱动器上的存储库启用安装。为此，您需要将DVD ISO映像的内容复制到硬盘驱动器上的目录，然后将目录指定为安装源而不是ISO映像。例如： <code class="literal">inst.repo=hd:&lt;device&gt;:&lt;path to the repository&gt;</code>
								</p></div></div></li><li class="listitem"><p class="simpara">
								<span class="strong"><strong>网络位置：</strong></span>将二进制DVD ISO映像或安装树（二进制DVD ISO映像的提取内容）复制到网络位置，并使用以下协议通过网络执行安装：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
										<span class="strong"><strong>NFS：</strong></span>二进制DVD ISO映像位于网络文件系统（NFS）共享中。
									</li><li class="listitem">
										<span class="strong"><strong>HTTPS，HTTP或FTP：</strong></span>安装树位于可通过HTTP，HTTPS或FTP访问的网络位置。</li></ul></div></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="specify-an-installation-source_prepare-installation-source"></a>指定安装源</h2></div></div></div><p>您可以使用以下任一方法指定安装源：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
								<span class="strong"><strong>图形安装：</strong></span>在<span class="strong"><strong>图形安装</strong></span>的“ <span class="strong"><strong>安装源”</strong></span>窗口中选择安装源。有关详细信息，请参阅<a class="xref" href="graphical-installation_graphical-installation.html#configuring-installation-source_configuring-software-settings" title="配置安装源">“配置安装源”一节</a> 。
							</li><li class="listitem">
								<span class="strong"><strong>引导选项：</strong></span>配置自定义引导选项以指定安装源。有关更多信息，请参阅<a class="xref" href="booting-the-installer_installing-RHEL.html#custom-boot-options_booting-the-installer" title="启动选项">“引导选项”一节</a> 。
							</li><li class="listitem">
								<span class="strong"><strong>Kickstart文件：</strong></span>使用<span class="strong"><strong>Kickstart文件中</strong></span>的install命令指定安装源。有关更多信息，请参阅<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/performing_an_advanced_rhel_installation/index/"><span class="emphasis"><em>执行高级RHEL安装</em></span></a>文档。
							</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="ports-for-network-based-installation_prepare-installation-source"></a>基于网络的安装端口</h2></div></div></div><p>下表列出了必须在服务器上打开的端口，这些端口为每种基于网络的安装提供文件。
					</p><div class="table"><a id="idm140346687479584"></a><p class="title"><strong>表4.2。基于网络的安装端口</strong></p><div class="table-contents"><table border="1" summary="Ports for network-based installation"><colgroup><col class="col_1"><col class="col_2"></colgroup><thead><tr><th valign="top" style="text-align:left">使用的协议</th><th valign="top" style="text-align:left">港口开放</th></tr></thead><tbody><tr><td valign="top" style="text-align:left"> <p>HTTP</p>
									 </td><td valign="top" style="text-align:left"> <p>80</p>
									 </td></tr><tr><td valign="top" style="text-align:left"> <p>HTTPS</p>
									 </td><td valign="top" style="text-align:left"> <p>443</p>
									 </td></tr><tr><td valign="top" style="text-align:left"> <p>FTP</p>
									 </td><td valign="top" style="text-align:left"> <p>21</p>
									 </td></tr><tr><td valign="top" style="text-align:left"> <p>NFS</p>
									 </td><td valign="top" style="text-align:left"> <p>2049,111,2004</p>
									 </td></tr><tr><td valign="top" style="text-align:left"> <p>TFTP</p>
									 </td><td valign="top" style="text-align:left"> <p>69</p>
									 </td></tr></tbody></table></div></div><div class="itemizedlist"><p class="title"><strong>其他资源</strong></p><ul class="itemizedlist"><li class="listitem">有关详细信息，请参阅“ <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/securing_networks/index/"><span class="emphasis"><em>保护网络”</em></span></a>文档。
							</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="creating-an-installation-source_prepare-installation-source"></a>在NFS服务器上创建安装源</h2></div></div></div><p>按照此过程中的步骤将安装源放在NFS服务器上。使用此安装方法可以从单个源安装多个系统，而无需连接到物理介质。
					</p><h4><a id="prerequisites_6"></a>先决条件</h4><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">您具有对具有Red Hat Enterprise Linux 8的服务器的管理级访问权限，并且此服务器与要安装的系统位于同一网络上。
							</li><li class="listitem">您已下载二进制DVD ISO映像。有关详细信息，请参阅<a class="xref" href="preparing-for-your-installation_installing-RHEL.html#downloading-beta-installation-images_preparing-for-your-installation" title="下载安装ISO映像">“下载安装ISO映像”一节</a> 。
							</li><li class="listitem">您已从映像文件创建了可引导的CD，DVD或USB设备。有关详细信息，请参阅<a class="xref" href="preparing-for-your-installation_installing-RHEL.html#making-media_preparing-for-your-installation" title="创建安装媒体">“创建安装介质”一节</a> 。
							</li><li class="listitem">您已验证防火墙允许您安装的系统访问远程安装源。有关详细信息，请参阅<a class="xref" href="preparing-for-your-installation_installing-RHEL.html#ports-for-network-based-installation_prepare-installation-source" title="基于网络的安装端口">“基于网络的安装的端口”一节</a> 。
							</li></ul></div><h4><a id="procedure_6"></a>程序</h4><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p class="simpara">安装<code class="literal">nfs-utils</code>包：</p><pre class="screen"># yum install nfs-utils</pre></li><li class="listitem">将二进制DVD ISO映像复制到NFS服务器上的目录。
							</li><li class="listitem"><p class="simpara">使用文本编辑器打开<code class="literal">/etc/exports</code>文件，并使用以下语法添加一行：</p><pre class="screen">/<span class="emphasis"><em>exported_directory</em></span>/ <span class="emphasis"><em>clients</em></span></pre></li><li class="listitem"><p class="simpara">将<span class="emphasis"><em>/ exported_directory /</em></span>替换为带有ISO映像的目录的完整路径。使用目标系统的主机名或IP地址替换<span class="emphasis"><em>客户端</em></span> ，所有目标系统可用于访问ISO映像的子网，或者如果要允许任何具有NFS服务器网络访问权限的系统，则使用星号（ <code class="literal">*</code> ）使用ISO映像。有关此字段格式的详细信息，请参见<code class="literal">exports(5)</code>手册页。
							</p><p class="simpara">使<code class="literal">/rhel8-install/</code>目录以只读方式提供给所有客户端的基本配置是：</p><pre class="screen">/rhel8-install *</pre></li><li class="listitem">保存<code class="literal">/etc/exports</code>文件并退出文本编辑器。
							</li><li class="listitem"><p class="simpara">启动nfs服务：</p><pre class="screen"># systemctl start nfs-server.service</pre><p class="simpara">如果在更改<code class="literal">/etc/exports</code>文件之前服务正在运行，请对正在运行的NFS服务器运行以下命令以重新加载其配置：</p><pre class="screen"># systemctl reload nfs-server.service</pre><p class="simpara">现在可以通过NFS访问ISO映像，并可以将其用作安装源。
							</p></li></ol></div><div class="note" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">注意</h3><p>配置安装源时，请使用<code class="literal">nfs:</code>作为协议，服务器主机名或IP地址，冒号<code class="literal">(:)</code>和保存ISO映像的目录。例如，如果服务器主机名是<code class="literal">myserver.example.com</code>并且您已在<code class="literal">/rhel8-install/</code>保存了ISO映像，请指定<code class="literal">nfs:myserver.example.com:/rhel8-install/</code>作为安装源。
						</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="creating-an-installation-source-on-http_prepare-installation-source"></a>使用HTTP或HTTPS创建安装源</h2></div></div></div><p>按照此过程中的步骤使用安装树为基于网络的安装创建安装源，安装树是包含二进制DVD ISO映像的提取内容和有效<code class="literal">.treeinfo</code>文件的目录。可以通过HTTP或HTTPS访问安装源。</p><h4><a id="prerequisites_7"></a>先决条件</h4><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">您具有对具有Red Hat Enterprise Linux 8的服务器的管理级访问权限，并且此服务器与要安装的系统位于同一网络上。
							</li><li class="listitem">您已下载二进制DVD ISO映像。有关详细信息，请参阅<a class="xref" href="preparing-for-your-installation_installing-RHEL.html#downloading-beta-installation-images_preparing-for-your-installation" title="下载安装ISO映像">“下载安装ISO映像”一节</a> 。
							</li><li class="listitem">您已从映像文件创建了可引导的CD，DVD或USB设备。有关详细信息，请参阅<a class="xref" href="preparing-for-your-installation_installing-RHEL.html#making-media_preparing-for-your-installation" title="创建安装媒体">“创建安装介质”一节</a> 。
							</li><li class="listitem">您已验证防火墙允许您安装的系统访问远程安装源。有关详细信息，请参阅<a class="xref" href="preparing-for-your-installation_installing-RHEL.html#ports-for-network-based-installation_prepare-installation-source" title="基于网络的安装端口">“基于网络的安装的端口”一节</a> 。
							</li></ul></div><h4><a id="procedure_7"></a>程序</h4><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p class="simpara">安装<code class="literal">httpd</code>包：</p><pre class="screen"># yum install httpd</pre><div class="warning" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">警告</h3><p>如果Apache Web服务器配置启用了SSL安全性，请验证是否仅启用TLSv1协议，并禁用SSLv2和SSLv3。这是由于POODLE SSL漏洞（CVE-2014-3566）。有关详细信息，请参阅<a class="link" href="https://access.redhat.com/solutions/1232413">https://access.redhat.com/solutions/1232413</a> 。
								</p></div><div class="important" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">重要</h3><p>如果将HTTPS服务器与自签名证书一起使用，则必须使用<code class="literal">noverifyssl</code>选项引导安装程序。
								</p></div></li><li class="listitem">将二进制DVD ISO映像复制到HTTP（S）服务器。
							</li><li class="listitem"><p class="simpara">使用<code class="literal">mount</code>命令将Binary DVD ISO映像<code class="literal">mount</code>到合适的目录：</p><pre class="screen"># mount -o loop,ro -t iso9660 <span class="emphasis"><em>/image_directory/image.iso /mount_point/</em></span></pre><div class="informalexample"><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">将<span class="emphasis"><em>/image_directory/image.iso</em></span>替换为Binary DVD ISO映像的路径。
									</li><li class="listitem">将<span class="emphasis"><em>/ mount_point /</em></span>替换为您要在其中找到ISO映像内容的目录的路径。
									</li></ul></div></div></li><li class="listitem"><p class="simpara">将文件从挂载的映像复制到HTTP（S）服务器根目录。此命令使用图像的内容创建<code class="literal">/var/www/html/rhel8-install/</code>目录。
							</p><pre class="screen"># cp -r /mnt/rhel8-install/ /var/www/html/</pre></li><li class="listitem"><p class="simpara">启动<code class="literal">httpd</code>服务：</p><pre class="screen"># systemctl start httpd.service</pre><p class="simpara">现在可以访问安装树并准备好将其用作安装源。
							</p><div class="note" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">注意</h3><p>配置安装源时，请使用<code class="literal">http://</code>或<code class="literal">https://</code>作为协议，服务器主机名或IP地址，以及包含ISO映像中相对于HTTP服务器根目录的文件的目录。例如，如果您使用的是HTTP，则服务器主机名为<code class="literal">myserver.example.com</code> ，并且您已将映像中的文件复制到<code class="literal">/var/www/html/rhel8-install/</code> ，并指定<code class="literal"><a class="link" href="http://myserver.example.com/rhel8-install/">http://myserver.example.com/rhel8-install/</a></code>作为安装源。
								</p></div></li></ol></div><h4><a id="additional_resources_6"></a>其他资源</h4><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">有关HTTP服务器的详细信息，请参阅<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/deploying_different_types_of_servers/index/"><span class="emphasis"><em>部署不同类型的服务器</em></span></a>文档。
							</li></ul></div></div></div></div></body></html>