<html  xmlns="http://www.w3.org/1999/xhtml"><head><title>Chapter 9. RHEL中的身份管理和访问控制规划概述</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"><meta name="generator" content="DocBook XSL-NS Stylesheets V1.78.1"></head><body ><div class="chapter"><div class="titlepage"><div><div><h1 class="title">Chapter 9. RHEL中的身份管理和访问控制规划概述</h1></div></div></div><p>以下部分概述了Red Hat Enterprise Linux中的身份管理和访问控制选项。阅读完这些部分后，您将能够进入适合您环境的规划阶段。
		</p><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="intro-to-ipa-overview-of-planning-idm-and-access-control"></a>身份管理简介</h1></div></div></div><p>该模块解释了红帽企业Linux中身份管理的目的。它还提供有关Identity Management域的基本信息，包括属于域的客户端和服务器计算机。
			</p><div class="title"><strong>红帽企业Linux中身份管理的目标</strong></div><p>红帽企业Linux（IdM）中的身份管理提供了一种集中统一的方式来管理基于Linux的域中的身份存储，身份验证，策略和授权策略。IdM显着降低了单独管理不同服务和在不同计算机上使用不同工具的管理开销。
				</p><p>IdM是为数不多的集中式身份，策略和授权软件解决方案之一，它们支持：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">Linux操作系统环境的高级功能</li><li class="listitem">统一大型Linux机器组</li><li class="listitem">与Active Directory本机集成</li></ul></div><p>IdM创建基于Linux和Linux控制的域：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">IdM构建于现有的本机Linux工具和协议之上。它有自己的流程和配置，但其基础技术在Linux系统上已经很好地建立，并且受到Linux管理员的信任。
					</li><li class="listitem">IdM服务器和客户端是Red Hat Enterprise Linux机器。如果IdM客户端支持标准协议，它们也可以是其他Linux和UNIX发行版。Windows客户端不能是IdM域的成员，但登录到Active Directory（AD）管理的Windows系统的用户可以连接到Linux客户端或访问由IdM管理的服务。这是通过在AD和IdM域之间建立跨林信任来实现的。
					</li></ul></div><div class="title"><strong>管理多个Linux服务器上的身份和策略</strong></div><p>
					<span class="emphasis"><em>没有IdM：</em></span>每台服务器都是单独管理的。所有密码都保存在本地计算机上。IT管理员管理每台计算机上的用户，分别设置身份验证和授权策略，并维护本地密码。但是，用户更多时候依赖其他集中式解决方案，例如与Active Directory（AD）直接集成。系统可以使用几种不同的解决方案直接与AD集成：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">旧版Linux工具（不建议使用）</li><li class="listitem">基于Samba winbind的解决方案（推荐用于特定用例）</li><li class="listitem">基于第三方软件的解决方案（通常需要其他供应商的许可）</li><li class="listitem">基于SSSD的解决方案（本机Linux，推荐用于大多数用例）</li></ul></div><p>
				<span class="emphasis"><em>使用IdM：</em></span> IT管理员可以：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">在一个中心位置维护身份：IdM服务器</li><li class="listitem">同时将策略统一应用于多台计算机</li><li class="listitem">使用基于主机的访问控制，委派和其他规则为用户设置不同的访问级别</li><li class="listitem">集中管理权限提升规则</li><li class="listitem">定义主目录的装入方式</li></ul></div><div class="title"><strong>企业单点登录</strong></div><p>在Identity Management Enterprise的情况下，利用Kerberos协议实现SSO（单点登录）。此协议在基础结构级别很流行，并通过SSH，LDAP，NFS，CUPS或DNS等服务启用SSO。还可以启用使用不同Web堆栈（Apache，EAP，Django等）的Web服务以将Kerberos用于SSO。但是，实践表明，使用基于SSO的OpenID Connect或SAML对Web应用程序来说更方便。要桥接这两个层，建议部署一个身份提供程序解决方案（IdP），该解决方案能够将Kerberos身份验证转换为OpenID Connect故障单或SAML断言。基于Keycloak开源项目的Red Hat SSO技术就是这种IdP的一个例子</p><p>
				<span class="emphasis"><em>没有IdM：</em></span>用户登录系统，每次访问服务或应用程序时都会提示输入密码。这些密码可能不同，用户必须记住哪个凭据用于哪个应用程序。
			</p><p>
				<span class="emphasis"><em>使用Idm：</em></span>用户登录系统后，可以访问多个服务和应用程序，而无需重复询问其凭据。这有助于：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">提高可用性</li><li class="listitem">降低密码被写入或存储不安全的安全风险</li><li class="listitem">提高用户工作效率</li></ul></div><div class="title"><strong>管理混合的Linux和Windows环境</strong></div><p>
					<span class="emphasis"><em>没有IdM：</em></span> Windows系统在Active Directory林中管理，但开发，生产和其他团队拥有许多Linux系统。Linux系统不在Active Directory环境中。
				</p><p>
				<span class="emphasis"><em>使用IdM：</em></span> IT管理员可以：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">使用本机Linux工具管理Linux系统</li><li class="listitem">将Linux系统集成到由Active Directory集中管理的环境中，从而保留集中式用户存储。
					</li><li class="listitem">轻松或根据需要轻松部署新的Linux系统。
					</li><li class="listitem">快速响应业务需求并做出与Linux基础架构管理相关的决策，而不依赖于其他团队避免延迟。
					</li></ul></div><div class="title"><strong>将身份管理与标准LDAP目录进行对比</strong></div><p>标准LDAP目录（如Red Hat Directory Server）是一个通用目录：可以对其进行自定义以适应各种用例。
				</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">架构：一种灵活的架构，可以针对大量条目进行自定义，例如用户，机器，网络实体，物理设备或建筑物。
					</li><li class="listitem">通常用作：后端目录，用于存储其他应用程序的数据，例如在Internet上提供服务的业务应用程序。
					</li></ul></div><p>身份管理（IdM）具有特定目的：管理内部，企业内部身份以及与这些身份相关的身份验证和授权策略。
			</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">架构：一种特定架构，用于定义与其用途相关的特定条目集，例如用户或机器标识的条目。
					</li><li class="listitem">通常用作：身份和身份验证服务器，用于管理企业或项目边界内的身份。
					</li></ul></div><p>Red Hat Directory Server和IdM的底层目录服务器技术是相同的。但是，IdM已经过优化，可以管理企业内部的身份。这限制了它的一般可扩展性，但也带来了一些好处：更简单的配置，更好的资源管理自动化，以及提高管理企业身份的效率。
			</p><div class="itemizedlist"><p class="title"><strong>其他资源</strong></p><ul class="itemizedlist"><li class="listitem">
						<a class="link" href="https://rhelblog.redhat.com/2015/06/01/identity-management-or-red-hat-directory-server-which-one-should-i-use">身份管理或红帽目录服务器 - 我应该使用哪一个？</a> 在红帽企业Linux博客上。
					</li><li class="listitem">有关<a class="link" href="https://access.redhat.com/articles/261973">标准协议的</a>知识库文章。
					</li><li class="listitem">红帽企业Linux 8 Beta发行说明</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="introduction-to-ipa-servers-and-clients_overview-of-planning-idm-and-access-control"></a>身份管理服务器和客户端简介</h1></div></div></div><p>身份管理域包括以下类型的系统：</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">身份管理服务器</span></dt><dd><p class="simpara">身份管理服务器是用作域控制器（DC）的Red Hat Enterprise Linux系统。在大多数部署中，还会与IdM服务器一起安装集成证书颁发机构（CA）。
						</p><p class="simpara">服务器是身份和策略信息的中央存储库。他们还托管域成员使用的服务。
						</p></dd><dt><span class="term">身份管理客户端</span></dt><dd><p class="simpara">Identity Management客户端是与服务器一起注册的Red Hat Enterprise Linux系统，并配置为在这些服务器上使用Identity Management服务。
						</p><p class="simpara">客户端与Identity Management服务器交互以访问它们提供的服务。例如，客户端使用Kerberos协议执行身份验证并获取企业SSO的票证，使用LDAP获取身份和策略信息，使用DNS检测服务器和服务的位置以及如何连接它们。
						</p><p class="simpara">身份管理服务器也是嵌入式身份管理客户端。当客户自己注册时，服务器提供与其他客户端相同的功能。
						</p></dd></dl></div><p>为了为大量客户端提供服务，以及冗余和可用性，Identity Management允许在单个域中的多个IdM服务器上进行部署。最多可以部署60台服务器。这是IdM域中当前支持的最大IdM服务器数，也称为副本。身份管理服务器为客户端提供不同的服务。并非所有服务器都需要提供所有可能的服务。某些服务器组件（如Kerberos和LDAP）始终可在每台服务器上使用。其他服务（如证书颁发机构（CA），DNS，信任控制器或Vault）是可选的。这意味着不同的服务器通常在部署中扮演不同的角色。
			</p><p>为创建域而安装的第一台服务器是<span class="emphasis"><em>主服务器</em></span> 。如果您的身份管理拓扑包含集成的证书颁发机构（CA），则此服务器是<span class="emphasis"><em>CRL生成主机</em></span>和<span class="emphasis"><em>CA续订主机</em></span> ：域中唯一负责跟踪CA子系统证书和密钥以及生成证书吊销列表的系统（CRL） ）。
			</p><div class="important" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">重要</h3><p>CRL生成主机角色至关重要，因为它仅由拓扑中的一个服务器执行。
				</p></div><p>对于冗余和负载平衡，管理员通过创建任何现有服务器（主服务器或其他副本）的<span class="emphasis"><em>副本</em></span>来创建其他服务器。创建副本时，Identity Management会克隆现有服务器的配置。副本与初始服务器共享其核心配置，包括有关用户，系统，证书和配置策略的内部信息。
			</p><div class="note" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">注意</h3><p>副本及其创建的服务器在功能上是相同的，除了CRL生成主机的角色。因此，术语<span class="emphasis"><em>服务器</em></span>和<span class="emphasis"><em>副本</em></span>在此处可互换使用，具体取决于上下文。
				</p></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="identity-management-and-access-control-in-rhel-central-versus-local_overview-of-planning-idm-and-access-control"></a> RHEL中的身份管理和访问控制：中央与本地</h1></div></div></div><p>在Red Hat Enterprise Linux中，您可以使用集中式工具管理整个系统域的身份和访问控制策略，也可以使用本地工具处理单个系统。
			</p><div class="title"><strong>管理多个Red Hat Enterprise Linux服务器上的身份和策略：使用和不使用Identity Management</strong></div><p>通过身份管理，IT管理员可以：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">在一个中心位置维护身份和分组机制：身份管理服务器</li><li class="listitem">集中管理不同类型的凭据，例如密码，PKI证书，OTP令牌或SSH密钥</li><li class="listitem">同时将策略统一应用于多台计算机</li><li class="listitem">管理外部Active Directory用户的POSIX和其他属性</li><li class="listitem">使用基于主机的访问控制，委派和其他规则为用户设置不同的访问级别</li><li class="listitem">集中管理权限提升规则（sudo）和强制访问控制（SELinux用户映射）</li><li class="listitem">维护中央PKI基础设施和秘密商店</li><li class="listitem">定义主目录的装入方式</li></ul></div><p>没有身份管理：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">每个服务器都单独管理。
					</li><li class="listitem">所有密码都保存在本地计算机上。
					</li><li class="listitem">IT管理员管理每台计算机上的用户，分别设置身份验证和授权策略，并维护本地密码。
					</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="additional-resources_overview-of-planning-idm-and-access-control"></a>其他资源</h1></div></div></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">有关红帽身份管理的一般信息，请参阅红帽客户门户上的<a class="link" href="https://access.redhat.com/products/identity-management">红帽身份管理产品页面</a> 。
					</li></ul></div></div></div></body></html>