<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Chapter 2. Installing Image Builder</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"/><meta name="generator" content="DocBook XSL-NS Stylesheets V1.78.1"/></head><body><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="installing-composer_composing-a-customized-rhel-system-image"/>Chapter 2. Installing Image Builder</h1></div></div></div><p>
			Before using Image Builder, you must install Image Builder in a virtual machine.
		</p><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="installing-composer-in-a-virtual-machine_installing-composer"/>Installing Image Builder in a virtual machine</h1></div></div></div><p>
				To install Image Builder on a dedicated virtual machine, follow these steps:
			</p><div class="itemizedlist"><p class="title"><strong>Prerequisites</strong></p><ul class="itemizedlist"><li class="listitem">
						Connect to the virtual machine.
					</li><li class="listitem">
						The virtual machine for Image Builder must be installed, subscribed, and running.
					</li></ul></div><div class="orderedlist"><p class="title"><strong>Procedure</strong></p><ol class="orderedlist"><li class="listitem"><p class="simpara">
						Install the Image Builder and other necessary packages on the virtual machine:
					</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
								lorax-composer
							</li><li class="listitem">
								composer-cli
							</li><li class="listitem">
								cockpit-composer
							</li><li class="listitem"><p class="simpara">
								bash-completion
							</p><pre class="screen"># yum install lorax-composer composer-cli cockpit-composer bash-completion</pre><p class="simpara">
								The web console is installed as a dependency of the <span class="emphasis"><em>cockpit-composer</em></span> package.
							</p></li></ul></div></li><li class="listitem"><p class="simpara">
						Enable Image Builder to start after each reboot:
					</p><pre class="screen"># systemctl enable lorax-composer.socket
# systemctl enable cockpit.socket</pre><p class="simpara">
						The <code class="literal">lorax-composer</code> and <code class="literal">cockpit</code> services start automatically on first access.
					</p></li><li class="listitem"><p class="simpara">
						Configure the system firewall to allow access to the web console:
					</p><pre class="screen"># firewall-cmd --add-service=cockpit &amp;&amp; firewall-cmd --add-service=cockpit --permanent</pre></li><li class="listitem"><p class="simpara">
						Load the shell configuration script so that the autocomplete feature for the <code class="literal">composer-cli</code> command starts working immediately without reboot:
					</p><pre class="screen">$ source  /etc/bash_completion.d/composer-cli</pre></li></ol></div></div></div></body></html>