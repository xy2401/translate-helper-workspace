<html  xmlns="http://www.w3.org/1999/xhtml"><head><title>Chapter 9. 安装RHEL 8内容</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"><meta name="generator" content="DocBook XSL-NS Stylesheets V1.78.1"></head><body ><div class="chapter"><div class="titlepage"><div><div><h1 class="title">Chapter 9. 安装RHEL 8内容</h1></div></div></div><p>以下部分描述了如何在Red Hat Enterprise Linux 8中安装内容。
		</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
					<a class="xref" href="installing-rhel-8-content_using-appstream.html#installing-a-package_installing-rhel-8-content" title="安装包">“安装包”一节</a>包括安装包的步骤。
				</li><li class="listitem">
					<a class="xref" href="installing-rhel-8-content_using-appstream.html#selecting-a-stream-before-installation-of-packages_installing-rhel-8-content" title="在安装软件包之前选择流">“安装软件包之前选择流”一节</a>介绍了如何为软件包安装选择流。
				</li><li class="listitem">
					<a class="xref" href="installing-rhel-8-content_using-appstream.html#installing-a-module-stream_installing-rhel-8-content" title="安装模块流">“安装模块流”一节</a>描述了安装模块提供的软件包集的步骤。
				</li><li class="listitem">
					<a class="xref" href="installing-rhel-8-content_using-appstream.html#example-installing-a-non-default-stream-of-an-application_installing-rhel-8-content" title="示例：安装应用程序的非默认流">“示例：安装应用程序的非默认流”一节</a>显示了在非默认版本中安装一组软件包所需的步骤示例。
				</li><li class="listitem">
					<a class="xref" href="installing-rhel-8-content_using-appstream.html#running-installed-content_installing-rhel-8-content" title="运行已安装的内容">“运行已安装的内容”一节</a>提供了运行RHEL 8安装内容的详细信息。
				</li><li class="listitem">
					<a class="xref" href="installing-rhel-8-content_using-appstream.html#commands-for-installing-rhel-8-content_installing-rhel-8-content" title="Commands for installing RHEL 8 content">“安装RHEL 8内容</a>的命令<a class="xref" href="installing-rhel-8-content_using-appstream.html#commands-for-installing-rhel-8-content_installing-rhel-8-content" title="用于安装RHEL 8内容的命令">”一节</a>提供了对安装RHEL 8内容有用的命令的参考。
				</li></ul></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="installing-a-package_installing-rhel-8-content"></a>安装包</h1></div></div></div><p>本节介绍如何安装软件包。
			</p><div class="itemizedlist"><p class="title"><strong>程序</strong></p><ul class="itemizedlist"><li class="listitem"><p class="simpara">安装包：</p><pre class="screen"># yum install <span class="emphasis"><em>package</em></span></pre><div class="informalexample"><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">如果任何模块流未提供程序包，则此过程与以前版本的Red Hat Enterprise Linux上使用的过程相同。
							</li><li class="listitem">如果程序包由启用的模块流提供，则无需任何进一步操作即可安装程序包。
							</li><li class="listitem">如果程序包由标记为default的模块流提供，则<code class="literal">yum</code>工具会在安装此程序包之前自动透明地启用该模块流。
							</li><li class="listitem">如果程序包由未激活的模块流提供（上述两种情况都不是），则在手动启用相应的模块流之前无法识别该程序包。
							</li></ul></div></div></li></ul></div><div class="itemizedlist"><p class="title"><strong>其他资源</strong></p><ul class="itemizedlist"><li class="listitem">
						<a class="xref" href="installing-rhel-8-content_using-appstream.html#installing-a-module-stream_installing-rhel-8-content" title="安装模块流">“安装模块流”一节</a>
					</li><li class="listitem">
						<a class="xref" href="using-appstream_using-appstream.html#package-management-using-yum-in-rhel-8_using-appstream" title="在RHEL 8中使用YUM进行包管理">“在RHEL 8中使用YUM进行包管理”一节</a>
					</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="selecting-a-stream-before-installation-of-packages_installing-rhel-8-content"></a>在安装软件包之前选择流</h1></div></div></div><p>默认模块流确保用户可以在不关心模块化功能的情况下安装软件包。当用户想要包含非默认流版本的软件包时，必须先启用该流，然后才能安装该软件包提供的软件包。
			</p><div class="itemizedlist"><p class="title"><strong>先决条件</strong></p><ul class="itemizedlist"><li class="listitem">您必须了解<a class="link" href="introduction-to-modules_using-appstream.html#module-streams_introduction-to-modules" title="Module streams"><span class="emphasis"><em>活动模块流</em></span></a>的<a class="link" href="introduction-to-modules_using-appstream.html#module-streams_introduction-to-modules" title="模块流">概念</a> 。
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>程序</strong></p><ul class="itemizedlist"><li class="listitem"><p class="simpara">启用模块流：</p><pre class="screen"># yum module enable <span class="emphasis"><em>module-name</em></span>:<span class="emphasis"><em>stream</em></span></pre><p class="simpara">将<span class="emphasis"><em>module-name</em></span>和<span class="emphasis"><em>stream</em></span>替换为<span class="emphasis"><em>模块</em></span>和<span class="emphasis"><em>流</em></span>的名称。
					</p><p class="simpara">
						<code class="literal">yum</code>要求确认，并且流已启用并处于活动状态。如果模块的另一个流先前处于活动状态（默认或启用），则它不再处于活动状态。
					</p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="installing-a-module-stream_installing-rhel-8-content"></a>安装模块流</h1></div></div></div><p>本节介绍如何使用模块流从该模块安装推荐的软件包集。
			</p><div class="itemizedlist"><p class="title"><strong>先决条件</strong></p><ul class="itemizedlist"><li class="listitem">您必须了解<a class="link" href="introduction-to-modules_using-appstream.html#module-streams_introduction-to-modules" title="Module streams"><span class="emphasis"><em>活动模块流</em></span></a>的<a class="link" href="introduction-to-modules_using-appstream.html#module-streams_introduction-to-modules" title="模块流">概念</a> 。
					</li><li class="listitem">您没有从同一模块的另一个流安装任何软件包。
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>程序</strong></p><ul class="itemizedlist"><li class="listitem"><p class="simpara">安装模块流的配置文件：</p><pre class="screen"># yum install @<span class="emphasis"><em>module-name</em></span>:<span class="emphasis"><em>stream</em></span>/<span class="emphasis"><em>profile</em></span></pre><p class="simpara">这将启用流并为模块的给定流（版本）和配置文件（目的）安装推荐的软件包集。
					</p><p class="simpara">省略/ <span class="emphasis"><em>配置文件</em></span>以使用默认配置文件。如果没有将配置文件设置为默认配置文件，则此步骤将在没有指定配置文件的情
					</p><p class="simpara">另外，省略： <span class="emphasis"><em>stream</em></span>以使用活动流。如果模块没有活动流，则必须指定流。
					</p></li></ul></div><div class="itemizedlist"><p class="title"><strong>其他资源</strong></p><ul class="itemizedlist"><li class="listitem">
						<a class="xref" href="introduction-to-modules_using-appstream.html" title="Chapter 9. 模块简介">第2章， <em>模块简介</em></a>
					</li><li class="listitem">
						<a class="xref" href="installing-rhel-8-content_using-appstream.html#commands-for-installing-rhel-8-content_installing-rhel-8-content" title="用于安装RHEL 8内容的命令">“安装RHEL 8内容的命令”一节</a>
					</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="example-installing-a-non-default-stream-of-an-application_installing-rhel-8-content"></a>示例：安装应用程序的非默认流</h1></div></div></div><p>此示例显示如何从非默认流（版本）安装应用程序。
			</p><p>更具体地说，此示例显示如何在<span class="strong"><strong>9.6</strong></span>版中安装<span class="strong"><strong><span class="application">PostgreSQL</span></strong></span>服务器（包<span class="strong"><strong><span class="package">postgresql-server</span></strong></span> ），而默认流提供版本<span class="strong"><strong>10</strong></span> 。
			</p><div class="orderedlist"><p class="title"><strong>程序</strong></p><ol class="orderedlist"><li class="listitem"><p class="simpara">列出提供<span class="strong"><strong><span class="package">postgresql-server</span></strong></span>软件包的模块，以查看可用的流：</p><pre class="screen">$ <code class="literal">yum module list postgresql</code>
Name        Stream  Profiles             Summary
postgresql  10 [d]  client, default [d]  PostgreSQL server and client module
postgresql  9.6     client, default [d]  PostgreSQL server and client module

Hint: [d]efault, [e]nabled, [x]disabled, [i]nstalled</pre><p class="simpara">输出显示<span class="strong"><strong>postgresql</strong></span>模块可用于流<span class="strong"><strong>10</strong></span>和<span class="strong"><strong>9.6</strong></span> 。默认流为<span class="strong"><strong>10</strong></span> 。
					</p></li><li class="listitem"><p class="simpara">在流<span class="strong"><strong>9.6中</strong></span>安装<span class="strong"><strong>postgresql</strong></span>模块提供的包：</p><pre class="screen"># <code class="literal">yum install @postgresql:9.6</code>
Dependencies resolved.
=====================================================================
 Package           Version                           Repository Size
=====================================================================
Installing group/module packages:
 postgresql-server 9.6.10-1.module+el8+2470+d1bafa0e appstream  5.0 M
Installing dependencies:
 libpq             10.5-1.el8                        appstream  188 k
 postgresql        9.6.10-1.module+el8+2470+d1bafa0e appstream  1.4 M
Installing module profiles:
 postgresql/server
Enabling module streams:
 postgresql                 9.6

Transaction Summary
=====================================================================
Install  3 Packages

Total download size: 6.6 M
Installed size: 27 M
Is this ok [y/N]: <span class="strong"><strong>y</strong></span>
(...)
Complete!</pre><p class="simpara">由于未指定安装配置文件，因此使用了默认配置文件<span class="strong"><strong>服务器</strong></span> 。
					</p></li><li class="listitem"><p class="simpara">验证已安装的<span class="strong"><strong><span class="application">PostgreSQL</span></strong></span>版本：</p><pre class="screen">$ postgres --version
postgres (PostgreSQL) 9.6.10</pre></li></ol></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="running-installed-content_installing-rhel-8-content"></a>运行已安装的内容</h1></div></div></div><p>通常，在从RHEL 8存储库安装内容后，将启用新命令。如果命令源自RPM软件包或模块启用的RPM软件包，则使用该命令的体验应该没有区别。要运行新命令，请直接使用它们：</p><pre class="screen">$ <span class="emphasis"><em>command</em></span></pre></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="commands-for-installing-rhel-8-content_installing-rhel-8-content"></a>用于安装RHEL 8内容的命令</h1></div></div></div><p>本节列出了用于安装RHEL 8内容的常用命令。
			</p><div class="variablelist"><p class="title"><strong>命令列表</strong></p><dl class="variablelist"><dt><span class="term">安装包</span></dt><dd><pre class="screen"># yum install <span class="emphasis"><em>package</em></span></pre><p class="simpara">如果程序包由模块流提供， <code class="literal">yum</code>将解析所需的模块流，并在安装此程序包时自动启用它。对于所有包依赖性，这也是递归发生的。如果更多模块流满足要求，则使用默认模块流。
						</p></dd><dt><span class="term">使用其默认流启用模块</span></dt><dd><pre class="screen"># yum module enable <span class="emphasis"><em>module-name</em></span></pre><p class="simpara">当您希望将软件包提供给系统时启用该模块，但此时不希望安装任何软件包。
						</p><p class="simpara">某些模块可能未定义默认流。在这种情况下，您必须明确指定流。
						</p></dd><dt><span class="term">使用特定流启用模块</span></dt><dd><pre class="screen"># yum module enable <span class="emphasis"><em>module-name</em></span>:<span class="emphasis"><em>stream</em></span></pre><p class="simpara">如果模块定义了默认流，则可以省略流和冒号。
						</p></dd><dt><span class="term">使用默认流和配置文件安装模块</span></dt><dd><pre class="screen"># yum install @<span class="emphasis"><em>module-name</em></span></pre><p class="simpara">或者：</p><pre class="screen"># yum module install <span class="emphasis"><em>module-name</em></span></pre><div class="caution" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">警告</h3><p>某些模块不定义默认流。
						</p></div></dd><dt><span class="term">使用特定流和默认配置文件安装模块</span></dt><dd><pre class="screen"># yum install @<span class="emphasis"><em>module-name</em></span>:<span class="emphasis"><em>stream</em></span></pre><p class="simpara">或者：</p><pre class="screen"># yum module install <span class="emphasis"><em>module-name</em></span>:<span class="emphasis"><em>stream</em></span></pre></dd><dt><span class="term">使用特定的流和配置文件安装模块</span></dt><dd><pre class="screen"># yum install @<span class="emphasis"><em>module-name</em></span>:<span class="emphasis"><em>stream</em></span>/<span class="emphasis"><em>profile</em></span></pre><p class="simpara">或者：</p><pre class="screen"># yum module install <span class="emphasis"><em>module-name</em></span>:<span class="emphasis"><em>stream</em></span>/<span class="emphasis"><em>profile</em></span></pre></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="additional-resources"></a>其他资源</h1></div></div></div><div class="itemizedlist"><p class="title"><strong>在线资源</strong></p><ul class="itemizedlist"><li class="listitem">有关传统软件安装方法的详细信息，请参阅“配置基本系统设置”中的“ <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/configuring_basic_system_settings/installing-software-with-yum">使用yum安装软件”</a> 。
					</li></ul></div><div class="itemizedlist"><p class="title"><strong>已安装的资源</strong></p><ul class="itemizedlist"><li class="listitem"><p class="simpara">有关各种<code class="literal">yum</code>工具命令的详细信息，请参阅<code class="literal">yum(8)</code>手册页：</p><pre class="screen">$ man yum</pre></li></ul></div></div></div></body></html>