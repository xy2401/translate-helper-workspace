<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Chapter 5. Displaying LVM components</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"/><meta name="generator" content="DocBook XSL-NS Stylesheets V1.78.1"/></head><body><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="assembly_displaying-lvm-components-configuring-and-managing-logical-volumes"/>Chapter 5. Displaying LVM components</h1></div></div></div><p>
			LVM provides a variety of ways to display the LVM components, as well as to customize the display. This sections summarizes the usage of the basic LVM display commands.
		</p><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="proc_displaying-with-the-lvm-comand-displaying-lvm-components"/>Displaying LVM Information with the lvm Command</h1></div></div></div><p>
				The <code class="literal">lvm</code> command provides several built-in options that you can use to display information about LVM support and configuration.
			</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">
						<code class="literal">lvm devtypes</code>
					</p><p class="simpara">
						Displays the recognized built-in block device types
					</p></li><li class="listitem"><p class="simpara">
						<code class="literal">lvm formats</code>
					</p><p class="simpara">
						Displays recognized metadata formats.
					</p></li><li class="listitem"><p class="simpara">
						<code class="literal">lvm help</code>
					</p><p class="simpara">
						Displays LVM help text.
					</p></li><li class="listitem"><p class="simpara">
						<code class="literal">lvm segtypes</code>
					</p><p class="simpara">
						Displays recognized logical volume segment types.
					</p></li><li class="listitem"><p class="simpara">
						<code class="literal">lvm tags</code>
					</p><p class="simpara">
						Displays any tags defined on this host.
					</p></li><li class="listitem"><p class="simpara">
						<code class="literal">lvm version</code>
					</p><p class="simpara">
						Displays the current version information.
					</p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="proc_displaying-physical-volumes-displaying-lvm-components"/>Displaying physical volumes</h1></div></div></div><p>
				There are three commands you can use to display properties of LVM physical volumes: <code class="literal">pvs</code>, <code class="literal">pvdisplay</code>, and <code class="literal">pvscan</code>.
			</p><p>
				The <code class="literal">pvs</code> command provides physical volume information in a configurable form, displaying one line per physical volume. The <code class="literal">pvs</code> command provides a great deal of format control, and is useful for scripting.
			</p><p>
				The <code class="literal">pvdisplay</code> command provides a verbose multi-line output for each physical volume. It displays physical properties (size, extents, volume group, and so on) in a fixed format.
			</p><p>
				The following example shows the output of the <code class="literal">pvdisplay</code> command for a single physical volume.
			</p><pre class="literallayout"># <code class="literal">pvdisplay</code>
  --- Physical volume ---
  PV Name               /dev/sdc1
  VG Name               new_vg
  PV Size               17.14 GB / not usable 3.40 MB
  Allocatable           yes
  PE Size (KByte)       4096
  Total PE              4388
  Free PE               4375
  Allocated PE          13
  PV UUID               Joqlch-yWSj-kuEn-IdwM-01S9-XO8M-mcpsVe</pre><p>
				The <code class="literal">pvscan</code> command scans all supported LVM block devices in the system for physical volumes.
			</p><p>
				The following command shows all physical devices found:
			</p><pre class="literallayout"># <code class="literal">pvscan</code>
 PV /dev/sdb2   VG vg0   lvm2 [964.00 MB / 0   free]
 PV /dev/sdc1   VG vg0   lvm2 [964.00 MB / 428.00 MB free]
 PV /dev/sdc2            lvm2 [964.84 MB]
 Total: 3 [2.83 GB] / in use: 2 [1.88 GB] / in no VG: 1 [964.84 MB]</pre><p>
				You can define a filter in the <code class="literal">lvm.conf</code> file so that this command will avoid scanning specific physical volumes.
			</p></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="proc_displaying-volume-groups-displaying-lvm-components"/>Displaying volume groups</h1></div></div></div><p>
				There are two commands you can use to display properties of LVM volume groups: <code class="literal">vgs</code> and <code class="literal">vgdisplay</code>. The <code class="literal">vgscan</code> command, which scans all supported LVM block devices in the system for volume groups, can also be used to display the existing volume groups.
			</p><p>
				The <code class="literal">vgs</code> command provides volume group information in a configurable form, displaying one line per volume group. The <code class="literal">vgs</code> command provides a great deal of format control, and is useful for scripting.
			</p><p>
				The <code class="literal">vgdisplay</code> command displays volume group properties (such as size, extents, number of physical volumes, and so on) in a fixed form. The following example shows the output of the <code class="literal">vgdisplay</code> command for the volume group <code class="literal">new_vg</code>. If you do not specify a volume group, all existing volume groups are displayed.
			</p><pre class="literallayout"># <code class="literal">vgdisplay new_vg</code>
  --- Volume group ---
  VG Name               new_vg
  System ID
  Format                lvm2
  Metadata Areas        3
  Metadata Sequence No  11
  VG Access             read/write
  VG Status             resizable
  MAX LV                0
  Cur LV                1
  Open LV               0
  Max PV                0
  Cur PV                3
  Act PV                3
  VG Size               51.42 GB
  PE Size               4.00 MB
  Total PE              13164
  Alloc PE / Size       13 / 52.00 MB
  Free  PE / Size       13151 / 51.37 GB
  VG UUID               jxQJ0a-ZKk0-OpMO-0118-nlwO-wwqd-fD5D32</pre><p>
				The following example shows the output of the <code class="literal">vgscan</code> command.
			</p><pre class="literallayout"># <code class="literal">vgscan</code>
Reading all physical volumes.  This may take a while...
Found volume group "new_vg" using metadata type lvm2
Found volume group "officevg" using metadata type lvm2</pre></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="proc_displaying-logical-volumes-displaying-lvm-components"/>Displaying logical volumes</h1></div></div></div><p>
				There are three commands you can use to display properties of LVM logical volumes: <code class="literal">lvs</code>, <code class="literal">lvdisplay</code>, and <code class="literal">lvscan</code>.
			</p><p>
				The <code class="literal">lvs</code> command provides logical volume information in a configurable form, displaying one line per logical volume. The <code class="literal">lvs</code> command provides a great deal of format control, and is useful for scripting.
			</p><p>
				The <code class="literal">lvdisplay</code> command displays logical volume properties (such as size, layout, and mapping) in a fixed format.
			</p><p>
				The following command shows the attributes of <code class="literal">lvol2</code> in <code class="literal">vg00</code>. If snapshot logical volumes have been created for this original logical volume, this command shows a list of all snapshot logical volumes and their status (active or inactive) as well.
			</p><pre class="literallayout"># <code class="literal">lvdisplay -v /dev/vg00/lvol2</code></pre><p>
				The <code class="literal">lvscan</code> command scans for all logical volumes in the system and lists them, as in the following example.
			</p><pre class="literallayout"># <code class="literal">lvscan</code>
 ACTIVE                   '/dev/vg0/gfslv' [1.46 GB] inherit</pre></div></div></body></html>