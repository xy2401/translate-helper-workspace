<html  xmlns="http://www.w3.org/1999/xhtml"><head><title>Chapter 9. 动态编程语言，Web服务器，数据库服务器</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"><meta name="generator" content="DocBook XSL-NS Stylesheets V1.78.1"></head><body ><div class="chapter"><div class="titlepage"><div><div><h1 class="title">Chapter 9. 动态编程语言，Web服务器，数据库服务器</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="dynamic-programming-languages_dynamic-programming-languages-web-servers-database-servers"></a>动态编程语言</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="python_dynamic-programming-languages-web-servers-database-servers"></a> Python中的显着变化</h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="python-3-default_dynamic-programming-languages-web-servers-database-servers"></a> <code class="literal">Python 3</code>是RHEL 8中的默认<code class="literal">Python</code>实现</h3></div></div></div><p>Red Hat Enterprise Linux 8随<code class="literal">Python 3.6</code> 。默认情况下可能未安装该程序包。要安装<code class="literal">Python 3.6</code> ，请使用<code class="literal">yum install python3</code>命令。
					</p><p>
						<code class="literal">Python 2.7</code>在<code class="literal">python2</code>包中提供。但是， <code class="literal">Python 2</code>生命周期较短，其目的是为客户提供更顺畅的<code class="literal">Python 3</code>过渡。
					</p><p>默认的<code class="literal">python</code>包和unversioned <code class="literal">/usr/bin/python</code>可执行文件都不随RHEL 8一起分发。建议客户直接使用<code class="literal">python3</code>或<code class="literal">python2</code> 。或者，管理员可以使用<code class="literal">alternatives</code>命令配置unversioned <code class="literal">python</code>命令。
					</p><p>有关详细信息，请参阅<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/configuring_basic_system_settings/#using-python3_configuring-basic-system-settings">在Red Hat Enterprise Linux 8中使用Python</a> 。
					</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="migrate-to-python3_dynamic-programming-languages-web-servers-database-servers"></a>从Python 2迁移到Python 3</h3></div></div></div><p>作为开发人员，您可能希望将以前用Python 2编写的代码迁移到Python 3。有关如何将大型代码库迁移到Python 3的更多信息，请参阅<a class="link" href="https://portingguide.readthedocs.io/en/latest/#fconservative">“保守的Python 3移植指南”</a> 。
					</p><p>请注意，在此迁移之后，Python 3解释器可以解释原始Python 2代码，并且对Python 2解释器也可以解释。
					</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="configuring-unversioned-python_dynamic-programming-languages-web-servers-database-servers"></a>配置无版本的Python</h3></div></div></div><p>系统管理员可以使用<code class="literal">alternatives</code>命令在系统上配置unversioned <code class="literal">python</code>命令。请注意，在将unversioned命令配置为相应版本之前，需要安装所需的软件包（ <code class="literal">python3</code>或<code class="literal">python2</code> 。
					</p><p>要直接将unversioned <code class="literal">python</code>命令配置为Python 3，请运行：</p><pre class="literallayout">alternatives --set python /usr/bin/python3</pre><p>如果选择Python 2，请使用类似命令。
					</p><p>或者，您可以交互式配置unversioned <code class="literal">python</code>命令：</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p class="simpara">运行以下命令：</p><pre class="literallayout">alternatives --config python</pre></li><li class="listitem">从提供的列表中选择所需的版本。
							</li></ol></div><p>要重置此配置并删除unversioned <code class="literal">python</code>命令，请运行：</p><pre class="literallayout">alternatives --auto python</pre><div class="warning" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">警告</h3><p>其他与Python相关的命令（如<code class="literal">pip3</code> ）没有可配置的无版本变体。
						</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="python-scripts_dynamic-programming-languages-web-servers-database-servers"></a> Python脚本必须在RPM构建时指定hashbang中的主要版本</h3></div></div></div><p>在RHEL 8中，可执行的Python脚本应该使用hashbangs（shebangs）至少明确指定主要的Python版本。
					</p><p>构建任何RPM包时，会自动运行<code class="literal">/usr/lib/rpm/redhat/brp-mangle-shebangs</code> buildroot策略（BRP）脚本。此脚本尝试更正所有可执行文件中的hashbang。当脚本遇到没有指定Python主要版本的模糊Python hashbang时，它会生成错误并且RPM构建失败。这种模棱两可的hashbang的例子包括：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
								<code class="literal">＃！在/ usr / bin中/蟒蛇</code>
							</li><li class="listitem">
								<code class="literal">＃！/ usr / bin / env python</code>
							</li></ul></div><p>要修改Python脚本中的hashbang，导致RPM构建时出现这些构建错误，请使用<span class="strong"><strong>platform-python-devel</strong></span>包中的<code class="literal">pathfix.py</code>脚本：</p><pre class="screen"><code class="literal">pathfix.py -pn -i %{__python3} <span class="emphasis"><em>PATH</em></span> ...</code></pre><p>可以指定多个<span class="emphasis"><em>PATH</em></span> 。如果<span class="emphasis"><em>PATH</em></span>是一个目录， <code class="literal">pathfix.py</code>递归扫描任何与模式<code class="literal">^[a-zA-Z0-9_]+\.py$</code> 。py <code class="literal">^[a-zA-Z0-9_]+\.py$</code>匹配的Python脚本，而不仅仅是那些带有模糊hashbang的Python脚本。将运行<code class="literal">pathfix.py</code>的命令添加到<code class="literal">%prep</code>部分或<code class="literal">%install</code>部分的末尾。
					</p><p>有关更多信息，请参阅<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/configuring_basic_system_settings/#python-shebang-mangling">在Python脚本中处理hashbangs</a> 。
					</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="python-binding-net-snmp_dynamic-programming-languages-web-servers-database-servers"></a> <code class="literal">net-snmp</code>包的<code class="literal">Python</code>绑定不可用</h3></div></div></div><p><code class="literal">Net-SNMP</code>工具套件不提供<code class="literal">Python 3</code>绑定，这是RHEL 8中的默认<code class="literal">Python</code>实现。因此，RHEL 8中不提供<code class="literal">python-net-snmp</code> ， <code class="literal">python2-net-snmp</code>或<code class="literal">python3-net-snmp</code>软件包。
					</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="python-additional-resources_dynamic-programming-languages-web-servers-database-servers"></a>其他资源</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
								<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/configuring_basic_system_settings/using-python3_configuring-basic-system-settings#packaging-python3_using-python3">包装Python 3 RPMs</a>
							</li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="php_dynamic-programming-languages-web-servers-database-servers"></a> <code class="literal">PHP</code>显着变化</h2></div></div></div><p>Red Hat Enterprise Linux 8随<code class="literal">PHP 7.2</code> 。此版本引入了<code class="literal">PHP 5.4</code>的以下主要更改，可在RHEL 7中使用：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
							<code class="literal">PHP</code>默认使用FastCGI Process Manager（FPM）（安全使用带有线程的<code class="literal">httpd</code> ）</li><li class="listitem">不应该在<code class="literal">httpd</code>配置文件中使用<code class="literal">php_value</code>和<code class="literal">php-flag</code>变量;它们应该在池配置中设置： <code class="literal">/etc/php-fpm.d/*.conf</code>
						</li><li class="listitem">
							<code class="literal">PHP</code>脚本错误和警告记录到<code class="literal">/var/log/php-fpm/www-error.log</code>文件而不是<code class="literal">/var/log/httpd/error.log</code>
						</li><li class="listitem">更改PHP <code class="literal">max_execution_time</code>配置变量时，应增加<code class="literal">httpd</code> <code class="literal">ProxyTimeout</code>设置以匹配</li><li class="listitem">现在，在FPM池配置中配置运行<code class="literal">PHP</code>脚本的用户（ <code class="literal">/etc/php-fpm/d/www.conf</code>文件; <code class="literal">apache</code>用户是默认用户）</li><li class="listitem">在配置更改后或安装新扩展后，需要重新启动<code class="literal">php-fpm</code>服务</li><li class="listitem"><code class="literal">zip</code>扩展已从<code class="literal">php-common</code>软件包移到另一个软件包<code class="literal">php-pecl-zip</code>
						</li></ul></div><p>已删除以下扩展程序：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
							<code class="literal">中的aspell</code>
						</li><li class="listitem">
							<code class="literal">mysql</code> （注意<code class="literal">mysqli</code>和<code class="literal">pdo_mysql</code>扩展仍然可用，由<code class="literal">php-mysqlnd</code>包提供）</li><li class="listitem">
							<code class="literal">内存缓存</code>
						</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="perl_dynamic-programming-languages-web-servers-database-servers"></a> <code class="literal">Perl</code>显着变化</h2></div></div></div><p>
					与RHEL 8一起分发的<code class="literal">Perl 5.26</code>对RHEL 7中提供的版本进行了以下更改：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
							现在支持<code class="literal">Unicode 9.0</code> 。
						</li><li class="listitem">提供了新的<code class="literal">op-entry</code> ， <code class="literal">loading-file</code>和<code class="literal">loaded-file</code> <code class="literal">SystemTap</code>探针。
						</li><li class="listitem">在分配标量以提高性能时使用写时复制机制。
						</li><li class="listitem">已添加用于透明处理IPv4和IPv6套接字的<code class="literal">IO::Socket::IP</code>模块。
						</li><li class="listitem">添加了以结构化方式访问<code class="literal">perl -V</code>数据的<code class="literal">Config::Perl::V</code>模块。
						</li><li class="listitem">添加了一个新的<code class="literal">perl-App-cpanminus</code>包，其中包含用于从Comprehensive Perl Archive Network（CPAN）存储库获取，提取，构建和安装模块的<code class="literal">cpanm</code>实用程序。
						</li><li class="listitem">当前目录<code class="literal">.</code>已出于安全原因从<code class="literal">@INC</code>模块搜索路径中删除。
						</li><li class="listitem">由于上述行为更改， <code class="literal">do</code>语句在加载文件失败时会返回弃用警告。
						</li><li class="listitem">不再支持<code class="literal">do subroutine(LIST)</code>调用，并导致语法错误。
						</li><li class="listitem">哈希现在默认是随机的。在每个<code class="literal">perl</code>运行中，哈希返回键和值的顺序会发生变化。要禁用随机化，请将<code class="literal">PERL_PERTURB_KEYS</code>环境变量设置为<code class="literal">0</code> 。
						</li><li class="listitem">未转义的文字<code class="literal">{</code>正则表达式中的字符不再允许。
						</li><li class="listitem">已删除对<code class="literal">$_</code>变量的词法范围支持。
						</li><li class="listitem">在数组或哈希上使用已<code class="literal">defined</code>运算符会导致致命错误。
						</li><li class="listitem">从<code class="literal">UNIVERSAL</code>模块导入函数会导致致命错误。
						</li><li class="listitem"><code class="literal">find2perl</code> ， <code class="literal">s2p</code> ， <code class="literal">a2p</code> ， <code class="literal">c2ph</code>和<code class="literal">pstruct</code>工具已被删除。
						</li><li class="listitem"><code class="literal">${^ENCODING}</code>工具已被删除。不再支持<code class="literal">encoding</code> pragma的默认模式。要以<code class="literal">UTF-8</code>以外的其他编码编写源代码，请使用编码的<code class="literal">Filter</code>选项。
						</li><li class="listitem"><code class="literal">perl</code>包装现在与上游对齐。<code class="literal">perl</code>包还安装了核心模块，而<code class="literal">/usr/bin/perl</code>解释器由<code class="literal">perl-interpreter</code>包提供。在以前的版本中， <code class="literal">perl</code>包只包含一个最小的解释器，而<code class="literal">perl-core</code>包包括解释器和核心模块。
						</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="ruby_dynamic-programming-languages-web-servers-database-servers"></a> <code class="literal">Ruby</code>显着变化</h2></div></div></div><p>RHEL 8提供了<code class="literal">Ruby 2.5</code> ，它引入了许多RHEL 7中提供的<code class="literal">Ruby 2.0.0</code>新功能和增强功能。值得注意的变化包括：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">增量垃圾收集器已添加。
						</li><li class="listitem">已添加“ <code class="literal">Refinements</code>语法。
						</li><li class="listitem">符号现在是垃圾收集。
						</li><li class="listitem"><code class="literal">$SAFE=2</code>和<code class="literal">$SAFE=3</code>安全级别现已过时。
						</li><li class="listitem"><code class="literal">Fixnum</code>和<code class="literal">Bignum</code>类已统一到<code class="literal">Integer</code>类中。
						</li><li class="listitem">通过优化<code class="literal">Hash</code>类，改进对实例变量的访问以及<code class="literal">Mutex</code>类更小更快，性能得到了提高。
						</li><li class="listitem">某些旧API已被弃用。
						</li><li class="listitem">捆绑的库，如<code class="literal">RubyGems</code> ， <code class="literal">Rake</code> ， <code class="literal">RDoc</code> ， <code class="literal">Psych</code> ， <code class="literal">Minitest</code>和<code class="literal">test-unit</code> ，已经更新。
						</li><li class="listitem">其他库，例如<code class="literal">mathn</code> ， <code class="literal">DL</code> ， <code class="literal">ext/tk</code>和<code class="literal">XMLRPC</code> ，以前随<code class="literal">Ruby</code>一起分发，已弃用或不再包含在内。
						</li><li class="listitem"><code class="literal">SemVer</code>版本控制方案现在用于<code class="literal">Ruby</code>版本控制。
						</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="swig_dynamic-programming-languages-web-servers-database-servers"></a> <code class="literal">SWIG</code>显着变化</h2></div></div></div><p>RHEL 8包括简化包装器和接口生成器（SWIG）3.0版，它提供了许多新功能，增强功能和错误修复，而不是RHEL 7中分发的2.0版本。最值得注意的是，支持C ++ 11标准已经实现。<code class="literal">SWIG</code>现在也支持<code class="literal">Go 1.6</code> ， <code class="literal">PHP 7</code> ， <code class="literal">Octave 4.2</code>和<code class="literal">Python 3.5</code> 。
				</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="nodejs_dynamic-programming-languages-web-servers-database-servers"></a> <code class="literal">Node.js</code>在RHEL中是新的</h2></div></div></div><p>
					<code class="literal">Node.js</code>是一个软件开发平台，用于在JavaScript编程语言中构建快速，可扩展的网络应用程序，这是RHEL首次提供的。它以前只能作为软件集合使用。RHEL 8提供<code class="literal">Node.js 10</code> 。
				</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="tcl_dynamic-programming-languages-web-servers-database-servers"></a> TCL</h2></div></div></div><p>
					<span class="strong"><strong><span class="application">工具命令语言（Tcl）</span></strong></span>是一种动态编程语言。该语言的解释器与C库一起由<code class="literal">tcl</code>包提供。
				</p><p>使用<span class="strong"><strong><span class="application">Tcl</span></strong></span>与<span class="strong"><strong><span class="application">Tk</span></strong></span> （ <span class="strong"><strong>Tcl / Tk</strong></span> ）配对可以创建跨平台的GUI应用程序。<span class="strong"><strong><span class="application">Tk</span></strong></span>由<code class="literal">tk</code>包提供。
				</p><p>请注意， <span class="strong"><strong><span class="application">Tk</span></strong></span>可以参考以下任何一项：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">适用于多种语言的编程工具包</li><li class="listitem">可用于多种语言的Tk C库绑定，例如C，Ruby，Perl和Python</li><li class="listitem">一个实例化Tk控制台的愿望解释器</li><li class="listitem">Tk扩展，为特定的Tcl解释器添加了许多新命令</li></ul></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="notable-changes-in-tcl_tcl"></a> Tcl / Tk 8.6的显着变化</h3></div></div></div><p>RHEL 8随<span class="strong"><strong><span class="application">Tcl / Tk版本8.6一起发布</span></strong></span> ，它提供了对<span class="strong"><strong><span class="application">Tcl / Tk版本8.5的</span></strong></span>多个显着更改：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">面向对象的编程支持</li><li class="listitem">无堆栈评估实施</li><li class="listitem">增强的异常处理</li><li class="listitem">使用Tcl构建和安装的第三方软件包的集合</li><li class="listitem">启用多线程操作</li><li class="listitem">SQL数据库驱动的脚本支持</li><li class="listitem">IPv6网络支持</li><li class="listitem">内置Zlib压缩</li><li class="listitem"><p class="simpara">列表处理</p><p class="simpara">有两个新命令， <code class="literal">lmap</code>和<code class="literal">dict map</code> ，它们允许在<span class="strong"><strong><span class="application">Tcl</span></strong></span>容器上表达转换。
							</p></li><li class="listitem"><p class="simpara">按脚本堆叠通道</p><p class="simpara">有两个新命令， <code class="literal">chan push</code>和<code class="literal">chan pop</code> ，可以在I / O通道上添加或删除转换。
							</p></li></ul></div><p>有关<span class="strong"><strong><span class="application">Tcl / Tk版本8.6</span></strong></span>更改和新功能的更多详细信息，请参阅以下资源：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
								<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/configuring_basic_system_settings/index#tcl-notable-changes_getting-started-with-tcl">配置基本系统设置</a>
							</li><li class="listitem">
								<a class="link" href="https://wiki.tcl-lang.org/page/Changes+in+Tcl%2FTk+8%2E6">Tcl / Tk的变化8.6</a>
							</li></ul></div><p>如果需要迁移到<span class="strong"><strong><span class="application">Tcl / Tk 8.6</span></strong></span> ，请参阅<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/configuring_basic_system_settings/index#migrate-to-tcl8.6_getting-started-with-tcl">迁移到Tcl / Tk 8.6</a> 。
					</p></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="web-servers_dynamic-programming-languages-web-servers-database-servers"></a> Web服务器</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="apache-changes-to-rhel7_dynamic-programming-languages-web-servers-database-servers"></a> Apache HTTP Server中的显着变化</h2></div></div></div><p><span class="strong"><strong><span class="application">Apache HTTP Server</span></strong></span>已在RHEL 7和RHEL 8之间从版本2.4.6更新到版本2.4.37。此更新版本包括几个新功能，但在外部模块的配置和应用程序二进制接口（ABI）级别上保持与RHEL 7版本的向后兼容性。
				</p><p>新功能包括：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
							现在， <code class="literal">mod_http2</code>包提供了<code class="literal">HTTP/2</code>支持，该包是<code class="literal">httpd</code>模块的一部分。
						</li><li class="listitem">支持systemd套接字激活。有关更多详细信息，请参见<code class="literal">httpd.socket(8)</code>手册页。
						</li></ul></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">添加了多个新模块：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
									<code class="literal">mod_proxy_hcheck</code> - 代理健康检查模块</li><li class="listitem">
									<code class="literal">mod_proxy_uwsgi</code> -  Web服务器网关接口（WSGI）代理</li><li class="listitem">
									<code class="literal">mod_proxy_fdpass</code> - 支持将客户端的套接字传递给另一个进程</li><li class="listitem">
									<code class="literal">mod_cache_socache</code> - 使用例如memcache后端的HTTP缓存</li><li class="listitem">
									<code class="literal">mod_md</code> -  ACME协议SSL / TLS证书服务</li></ul></div></li><li class="listitem"><p class="simpara">现在默认加载以下模块：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
									<code class="literal">mod_request</code>
								</li><li class="listitem">
									<code class="literal">mod_macro</code>
								</li><li class="listitem">
									<code class="literal">mod_watchdog</code>
								</li></ul></div></li><li class="listitem">添加了一个新的子包<code class="literal">httpd-filesystem</code> ，其中包含<span class="strong"><strong><span class="application">Apache HTTP Server</span></strong></span>的基本目录布局，包括对目录的正确权限。
						</li><li class="listitem">已经引入了实例化服务支持<code class="literal">httpd@.service</code> 。有关更多信息，请参见<code class="literal">httpd.service</code>手册页。
						</li></ul></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">新的<code class="literal">httpd-init.service</code>替换<code class="literal">%post script</code>以创建自签名的<code class="literal">mod_ssl</code>密钥对。
						</li></ul></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">现在， <code class="literal">mod_md</code>软件包支持使用自动证书管理环境（ACME）协议进行自动TLS证书配置和续订（用于证书提供程序，如<code class="literal">Let's Encrypt</code> ）。
						</li><li class="listitem"><span class="strong"><strong><span class="application">Apache HTTP Server</span></strong></span>现在支持直接从<code class="literal">PKCS#11</code>模块加载来自硬件安全令牌的TLS证书和私钥。因此， <code class="literal">mod_ssl</code>配置现在可以使用<code class="literal">PKCS#11</code> URL来标识TLS私钥，以及（可选） <code class="literal">SSLCertificateKeyFile</code>和<code class="literal">SSLCertificateFile</code>指令中的TLS证书。
						</li><li class="listitem"><p class="simpara">现在支持<code class="literal">/etc/httpd/conf/httpd.conf</code>文件中的新<code class="literal">ListenFree</code>指令。
						</p><p class="simpara">与<code class="literal">Listen</code>指令类似， <code class="literal">ListenFree</code>提供有关服务器侦听的IP地址，端口或IP地址和端口组合的信息。但是，使用<code class="literal">ListenFree</code> ，默认情况下会启用<code class="literal">IP_FREEBIND</code>套接字选项。因此，允许<code class="literal">httpd</code>绑定到非本地IP地址或尚未存在的IP地址。这允许<code class="literal">httpd</code>监听套接字，而不需要在<code class="literal">httpd</code>尝试绑定到它时，底层网络接口或指定的动态IP地址。
						</p><p class="simpara">请注意， <code class="literal">ListenFree</code>指令目前仅在RHEL 8中可用。
						</p><p class="simpara">有关<code class="literal">ListenFree</code>更多详细信息，请参阅下表：</p><div class="table"><a id="idm139646225795328"></a><p class="title"><strong>表15.1。ListenFree指令的语法，状态和模块</strong></p><div class="table-contents"><table border="1" summary="ListenFree directive’s syntax, status, and modules"><colgroup><col class="col_1"><col class="col_2"><col class="col_3"></colgroup><thead><tr><th valign="top" style="text-align:left">句法</th><th valign="top" style="text-align:left">状态</th><th valign="top" style="text-align:left">模块</th></tr></thead><tbody><tr><td valign="top" style="text-align:left"> <p>ListenFree [IP-address：] portnumber [protocol]</p>
										 </td><td valign="top" style="text-align:left"> <p>MPM</p>
										 </td><td valign="top" style="text-align:left"> <p>event，worker，prefork，mpm_winnt，mpm_netware，mpmt_os2</p>
										 </td></tr></tbody></table></div></div></li></ul></div><p>其他值得注意的变化包括：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">以下模块已被删除：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
									<code class="literal">mod_file_cache提供</code>
								</li><li class="listitem">
									<code class="literal">mod_nss</code>
								</li><li class="listitem">
									<code class="literal">的mod_perl</code>
								</li></ul></div></li><li class="listitem">RHEL 8中<span class="strong"><strong><span class="application">Apache HTTP Server</span></strong></span>使用的DBM身份验证数据库的默认类型已从<code class="literal">SDBM</code>更改为<code class="literal">db5</code> 。
						</li><li class="listitem"><span class="strong"><strong><span class="application">Apache HTTP Server</span></strong></span>的<code class="literal">mod_wsgi</code>模块已更新为Python 3。WSGI应用程序现在仅支持Python 3，必须从Python 2迁移。
						</li><li class="listitem"><p class="simpara">默认情况下， <span class="strong"><strong><span class="application">Apache HTTP Server</span></strong></span>配置的多处理模块（MPM）已从多进程分叉模型（称为<code class="literal">prefork</code> ）更改为高性能多线程模型<code class="literal">event</code> 。
						</p><p class="simpara">任何非线程安全的第三方模块都需要更换或删除。要更改已配置的MPM，请编辑<code class="literal">/etc/httpd/conf.modules.d/00-mpm.conf</code>文件。有关更多信息，请参见<code class="literal">httpd.service(8)</code>手册页。
						</p></li><li class="listitem">suEXEC允许用户使用的最小UID和GID现在分别为1000和500（之前为100和100）。
						</li><li class="listitem"><code class="literal">/etc/sysconfig/httpd</code>文件不再是用于为<code class="literal">httpd</code>服务设置环境变量的受支持接口。已为systemd服务添加了<code class="literal">httpd.service(8)</code>手册页。
						</li><li class="listitem">停止<code class="literal">httpd</code>服务现在默认使用“正常停止”。
						</li><li class="listitem">该<code class="literal">mod_auth_kerb</code>模块已经取代了<code class="literal">mod_auth_gssapi</code>模块。
						</li></ul></div><p>有关部署的说明，请参阅<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/deploying_different_types_of_servers/index#setting-apache-web-server_Deploying-different-types-of-servers">设置Apache HTTP Web服务器</a> 。
				</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="nginx_dynamic-programming-languages-web-servers-database-servers"></a> RHEL中新增的<code class="literal">nginx</code> Web服务器</h2></div></div></div><p>RHEL 8引入了<code class="literal">nginx 1.14</code> ，这是一个支持HTTP和其他协议的Web和代理服务器，专注于高并发性，高性能和低内存使用。 <code class="literal">nginx</code>以前只能作为软件集合使用。
				</p><p><code class="literal">nginx</code> Web服务器现在支持直接从<code class="literal">PKCS#11</code>模块加载来自硬件安全令牌的TLS私钥。因此， <code class="literal">nginx</code>配置可以使用<code class="literal">PKCS#11</code> URL来标识<code class="literal">ssl_certificate_key</code>指令中的TLS私钥。
				</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="tomcat-removal_dynamic-programming-languages-web-servers-database-servers"></a> Apache Tomcat已被删除</h2></div></div></div><p>Apache Tomcat服务器已从Red Hat Enterprise Linux中删除。Apache Tomcat是Java Servlet和JavaServer Pages（JSP）技术的servlet容器。Red Hat建议需要servlet容器的用户使用<a class="link" href="https://www.redhat.com/en/technologies/jboss-middleware/web-server">JBoss Web Server</a> 。
				</p></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="proxy-caching-servers_dynamic-programming-languages-web-servers-database-servers"></a>代理缓存服务器</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="varnish_cache_dynamic-programming-languages-web-servers-database-servers"></a> RHEL中的<code class="literal">Varnish Cache</code>新功能</h2></div></div></div><p>
					<code class="literal">Varnish Cache</code>是一种高性能HTTP反向代理，是RHEL首次提供的。它以前只能作为软件集合使用。<code class="literal">Varnish Cache</code>将文件或文件片段存储在内存中，用于减少未来等效请求的响应时间和网络带宽消耗。RHEL 8.0随<code class="literal">Varnish Cache 6.0</code> 。
				</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="squid_dynamic-programming-languages-web-servers-database-servers"></a> <code class="literal">Squid</code>显着变化</h2></div></div></div><p>RHEL 8.0与<code class="literal">Squid 4.4</code>一起发布， <code class="literal">Squid 4.4</code>是一个用于Web客户端的高性能代理缓存服务器，支持FTP，Gopher和HTTP数据对象。此版本提供了RHEL 7中3.5版本的许多新功能，增强功能和错误修复。
				</p><p>值得注意的变化包括：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">可配置的帮助程序队列大小</li><li class="listitem">对辅助并发通道的更改</li><li class="listitem">对辅助二进制文件的更改</li><li class="listitem">安全的互联网内容适应协议（ICAP）</li><li class="listitem">改进了对称多处理（SMP）的支持</li><li class="listitem">改进流程管理</li><li class="listitem">删除了对SSL的支持</li><li class="listitem">删除了Edge Side Includes（ESI）自定义解析器</li><li class="listitem">多个配置更改</li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="database-servers_dynamic-programming-languages-web-servers-database-servers"></a>数据库服务器</h1></div></div></div><p>RHEL 8提供以下数据库服务器：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
						<code class="literal">MySQL 8.0</code> ，一个多用户，多线程的SQL数据库服务器。它由<code class="literal">MySQL</code>服务器守护程序， <code class="literal">mysqld</code>和许多客户端程序组成。
					</li><li class="listitem">
						<code class="literal">MariaDB 10.3</code> ，一个多用户，多线程SQL数据库服务器。出于所有实际目的， <code class="literal">MariaDB</code>与<code class="literal">MySQL</code>二进制兼容。</li><li class="listitem">
						<code class="literal">PostgreSQL 10</code>和<code class="literal">PostgreSQL 9.6</code> ，一个高级的对象 - 关系数据库管理系统（DBMS）。
					</li><li class="listitem">
						<code class="literal">Redis 5</code> ，一个高级键值存储。它通常被称为数据结构服务器，因为键可以包含字符串，散列，列表，集和有序集。<code class="literal">Redis</code>是RHEL首次提供的。</li></ul></div><p>请注意，NoSQL <code class="literal">MongoDB</code>数据库服务器不包含在RHEL 8.0中，因为它使用服务器端公共许可证（SSPL）。
			</p><h3><a id="database_servers_are_not_installable_in_parallel"></a>数据库服务器不能并行安装</h3><p>由于RPM包存在冲突，因此无法在RHEL 8.0中并行安装<code class="literal">mariadb</code>和<code class="literal">mysql</code>模块。
			</p><p>按照设计，不可能并行安装同一模块的多个版本（流）。例如，您只需要从<code class="literal">postgresql</code>模块中选择一个可用的流， <code class="literal">10</code> （默认）或<code class="literal">9.6</code> 。RHEL 6和RHEL 7的Red Hat软件集合中可以并行安装组件。在RHEL 8中，可以在容器中使用不同版本的数据库服务器。
			</p><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="mariadb_dynamic-programming-languages-web-servers-database-servers"></a> <code class="literal">MariaDB 10.3</code>显着变化</h2></div></div></div><p>
					<code class="literal">MariaDB 10.3</code>提供了许多与RHEL 7中分发的5.5版相比的新功能，例如：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">公用表表达式</li><li class="listitem">系统版本的表</li><li class="listitem">
							<code class="literal">FOR</code>循环</li><li class="listitem">隐形列</li><li class="listitem">序列</li><li class="listitem"><code class="literal">InnoDB</code>即时<code class="literal">ADD COLUMN</code>
						</li><li class="listitem">存储引擎独立列压缩</li><li class="listitem">并行复制</li><li class="listitem">多源复制</li></ul></div><p>此外，新的<code class="literal">mariadb-connector-c</code>软件包为<code class="literal">MySQL</code>和<code class="literal">MariaDB</code>提供了一个通用的客户端库。该库可用于任何版本的<code class="literal">MySQL</code>和<code class="literal">MariaDB</code>数据库服务器。因此，用户可以将应用程序的一个版本连接到随RHEL 8一起分发的任何<code class="literal">MySQL</code>和<code class="literal">MariaDB</code>服务器。
				</p><p>其他值得注意的变化包括：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
							<code class="literal">MariaDB Galera Cluster</code>是一个同步多主集群，现在是<code class="literal">MariaDB</code>的标准部分。</li><li class="listitem">
							<code class="literal">InnoDB</code>用作默认存储引擎而不是<code class="literal">XtraDB</code> 。</li><li class="listitem">mariadb-bench子包已被删除。
						</li><li class="listitem">插件成熟度的默认允许级别已更改为低于服务器成熟度的一个级别。因此，以前工作的成熟度较低的插件将不再加载。
						</li></ul></div><p>另请参阅<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/deploying_different_types_of_servers/#using-mariadb">在Red Hat Enterprise Linux 8上使用MariaDB</a> 。
				</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="mysql_dynamic-programming-languages-web-servers-database-servers"></a> <code class="literal">MySQL 8.0</code>显着变化</h2></div></div></div><p>RHEL 8与<code class="literal">MySQL 8.0</code> ，例如，它提供了以下增强功能：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
							<code class="literal">MySQL</code>现在包含一个事务数据字典，它存储有关数据库对象的信息。
						</li><li class="listitem">
							<code class="literal">MySQL</code>现在支持角色，这些角色是特权集合。
						</li><li class="listitem">默认字符集已从<code class="literal">latin1</code>更改为<code class="literal">utf8mb4</code> 。
						</li><li class="listitem">添加了对非递归和递归的公用表表达式的支持。
						</li><li class="listitem">
							<code class="literal">MySQL</code>现在支持窗口函数，它使用相关的行对查询中的每一行执行计算。
						</li><li class="listitem">
							<code class="literal">InnoDB</code>现在支持具有锁定读取语句的<code class="literal">NOWAIT</code>和<code class="literal">SKIP LOCKED</code>选项。
						</li><li class="listitem">与GIS相关的功能得到了改进。
						</li><li class="listitem">JSON功能已得到增强。
						</li><li class="listitem">新的<code class="literal">mariadb-connector-c</code>软件包为<code class="literal">MySQL</code>和<code class="literal">MariaDB</code>提供了一个通用的客户端库。该库可用于任何版本的<code class="literal">MySQL</code>和<code class="literal">MariaDB</code>数据库服务器。因此，用户可以将应用程序的一个版本连接到随RHEL 8一起分发的任何<code class="literal">MySQL</code>和<code class="literal">MariaDB</code>服务器。
						</li></ul></div><p>此外，与RHEL 8一起分发的<code class="literal">MySQL 8.0</code>服务器配置为使用<code class="literal">mysql_native_password</code>作为默认的身份验证插件，因为RHEL 8中的客户端工具和库与<code class="literal">caching_sha2_password</code>方法不兼容，后者在上游<code class="literal">MySQL 8.0</code>版本中默认使用。
				</p><p>要将默认身份验证插件更改为<code class="literal">caching_sha2_password</code> ，请编辑<code class="literal">/etc/my.cnf.d/mysql-default-authentication-plugin.cnf</code>文件，如下所示：</p><pre class="screen">[mysqld]
default_authentication_plugin=caching_sha2_password</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="postgresql_dynamic-programming-languages-web-servers-database-servers"></a> <code class="literal">PostgreSQL</code>显着变化</h2></div></div></div><p>RHEL 8.0提供了两个版本的<code class="literal">PostgreSQL</code>数据库服务器，分布在<code class="literal">postgresql</code>模块的两个流中： <code class="literal">PostgreSQL 10</code> （默认流）和<code class="literal">PostgreSQL 9.6</code> 。RHEL 7包含<code class="literal">PostgreSQL</code> 9.2版。
				</p><p>例如， <code class="literal">PostgreSQL 9.6</code>中的显着变化是：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">并行执行顺序操作： <code class="literal">scan</code> ， <code class="literal">join</code>和<code class="literal">aggregate</code>
						</li><li class="listitem">同步复制的增强功能</li><li class="listitem">改进的全文搜索功能使用户能够搜索短语</li><li class="listitem"><code class="literal">postgres_fdw</code>数据联合驱动程序现在支持远程<code class="literal">join</code> ， <code class="literal">sort</code> ， <code class="literal">UPDATE</code>和<code class="literal">DELETE</code>操作</li><li class="listitem">实质性的改进，特别是在多CPU插槽服务器上的可扩展性方面</li></ul></div><p><code class="literal">PostgreSQL 10</code>主要增强功能包括：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">使用<code class="literal">publish</code>和<code class="literal">subscribe</code>关键字进行逻辑复制</li><li class="listitem">基于<code class="literal">SCRAM-SHA-256</code>机制的更强密码验证</li><li class="listitem">声明性表分区</li><li class="listitem">改进了查询并行性</li><li class="listitem">显着的一般性能改进</li><li class="listitem">改进监测和控制</li></ul></div><p>另请参阅<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/deploying_different_types_of_servers/index#using-postgresql">在Red Hat Enterprise Linux 8上使用PostgreSQL</a> 。
				</p></div></div></div></body></html>