<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Chapter 6. Uninstalling an Identity Management server</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"/><meta name="generator" content="DocBook XSL-NS Stylesheets V1.78.1"/></head><body><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="uninstalling-an-ipa-server_installing-identity-management"/>Chapter 6. Uninstalling an Identity Management server</h1></div></div></div><p>
				As an administrator, you can remove an Identity Management server from the topology.
			</p><p>
				This procedure describes how you can uninstall an example server named <code class="literal">server.idm.example.com</code>.
			</p><h3><a id="prerequisites_3"/>Prerequisites</h3><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
						Before uninstalling a server that serves as a certificate authority (CA), key recovery authority (KRA), or DNS server, make sure these services are running on another server in the domain.
					</li></ul></div><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p>
					Removing the last server that serves as a CA, KRA, or DNS server seriously disrupts the Identity Management functionality.
				</p></div><h3><a id="procedure_8"/>Procedure</h3><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p class="simpara">
						On all the servers in the topology that have a replication agreement with <code class="literal">server.idm.example.com</code>, use the <code class="literal">ipa server-del</code> command to delete the replica from the topology:
					</p><pre class="literallayout">[root@another_server ~]# <span class="strong"><strong>ipa server-del server.example.com</strong></span></pre></li><li class="listitem"><p class="simpara">
						On <code class="literal">server.idm.example.com</code>, use the <code class="literal">ipa-server-install --uninstall</code> command:
					</p><pre class="literallayout">[root@server ~]# <span class="strong"><strong>ipa-server-install --uninstall</strong></span>
...
Are you sure you want to continue with the uninstall procedure? [no]: yes</pre></li><li class="listitem">
						Make sure all name server (NS) DNS records pointing to <code class="literal">server.idm.example.com</code> are deleted from your DNS zones. This applies regardless of whether you use integrated DNS managed by Identity Management or external DNS.
					</li></ol></div></div></body></html>