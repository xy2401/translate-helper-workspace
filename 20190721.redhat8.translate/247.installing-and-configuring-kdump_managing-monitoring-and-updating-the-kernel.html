<html  xmlns="http://www.w3.org/1999/xhtml"><head><title>Chapter 9. 安装和配置kdump</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"><meta name="generator" content="DocBook XSL-NS Stylesheets V1.78.1"></head><body ><div class="chapter"><div class="titlepage"><div><div><h1 class="title">Chapter 9. 安装和配置kdump</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="what-is-kdump_installing-and-configuring-kdump"></a>什么是kdump</h1></div></div></div><p>
				<code class="literal">kdump</code>是一种提供崩溃转储机制的服务。该服务使您可以保存系统内存的内容以供以后分析。 <code class="literal">kdump</code>使用<code class="literal">kexec</code>系统调用来引导进入第二个内核（ <span class="emphasis"><em>捕获内核</em></span> ）而无需重启;然后捕获崩溃的内核的内存（ <span class="emphasis"><em>崩溃转储</em></span>或<span class="emphasis"><em>vmcore</em></span> ）并保存它。第二个内核驻留在系统内存的保留部分。
			</p><div class="important" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">重要</h3><p>内核崩溃转储可能是系统出现故障时可用的唯一信息（严重错误）。因此，确保<code class="literal">kdump</code>运行在任务关键型环境中非常重要。Red Hat建议系统管理员在正常的内核更新周期中定期更新和测试<code class="literal">kexec-tools</code> 。在实现新内核功能时，这一点尤为重要。
				</p></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="installing-kdump_installing-and-configuring-kdump"></a>安装kdump</h1></div></div></div><p>在许多情况下，默认情况下，在新的Red Hat Enterprise Linux安装上安装并激活<code class="literal">kdump</code>服务。<span class="strong"><strong><span class="application">Anaconda</span></strong></span>安装程序在使用图形或文本界面执行交互式安装时为<code class="literal">kdump</code>配置提供屏幕。安装程序屏幕标题为<code class="literal">Kdump</code> ，可从主<code class="literal">Installation Summary</code>屏幕获得，并且仅允许有限配置 - 您只能选择是否启用了<code class="literal">kdump</code>以及保留了多少内存。
			</p><div class="informalfigure"><div class="mediaobject"><img src="images/anaconda-summary-hub-states.png" alt="在RHEL安装期间启用kdump"></div></div><p>某些安装选项（如自定义Kickstart安装）在某些情况下默认情况下不会安装或启用<code class="literal">kdump</code> 。如果您的系统是这种情况，请按照以下步骤安装<code class="literal">kdump</code> 。
			</p><h3><a id="prerequisites_8"></a>先决条件</h3><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">一个活跃的Red Hat Enterprise Linux订阅。
					</li><li class="listitem">包含适用于系统CPU体系结构的<span class="strong"><strong><span class="package">kexec-tools</span></strong></span>软件包的存储库。
					</li><li class="listitem"><a class="link" href="installing-and-configuring-kdump_managing-monitoring-and-updating-the-kernel.html#supported-kdump-configurations-and-targets_installing-and-configuring-kdump" title="Supported kdump configurations and targets">满足</a> <code class="literal">kdump</code> <a class="link" href="installing-and-configuring-kdump_managing-monitoring-and-updating-the-kernel.html#supported-kdump-configurations-and-targets_installing-and-configuring-kdump" title="支持的kdump配置和目标">要求</a> 。
					</li></ul></div><h3><a id="procedure_10"></a>程序</h3><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p class="simpara">执行以下命令以检查系统上是否安装了<code class="literal">kdump</code> ：</p><pre class="screen"><code class="literal">$</code> <code class="literal">rpm -q kexec-tools</code></pre><p class="simpara">如果安装了软件包，则输出：</p><pre class="screen"><code class="literal">kexec-tools-2.0.17-11.el8.x86_64</code></pre><p class="simpara">如果未安装包，则输出：</p><pre class="screen"><code class="literal">package kexec-tools is not installed</code></pre></li><li class="listitem"><p class="simpara">通过以下方式安装<code class="literal">kdump</code>和其他必要的包：</p><pre class="screen"><code class="literal">#</code> yum install kexec-tools</pre></li></ol></div><div class="important" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">重要</h3><p>从Red Hat Enterprise Linux 7.4（kernel-3.10.0-693.el7）开始， <code class="literal">kdump</code>支持<code class="literal">Intel IOMMU</code>驱动程序。对于以前的版本，Red Hat Enterprise Linux 7.3（kernel-3.10.0-514 [。XYZ] .el7）及更早版本，建议禁用<code class="literal">Intel IOMMU</code>支持，否则kdump内核很可能无响应。
				</p></div><h3><a id="additional_resources_12"></a>其他资源</h3><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">有关<code class="literal">kdump</code>内存要求的信息，请<a class="xref" href="installing-and-configuring-kdump_managing-monitoring-and-updating-the-kernel.html#memory-requirements-for-kdump_supported-kdump-configurations-and-targets" title="kdump的内存要求">参阅“kdump的内存要求”一节</a> 。
					</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="configuring-kdump-on-the-command-line_installing-and-configuring-kdump"></a>在命令行上配置kdump</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="configuring-kdump-memory-usage_configuring-kdump-on-the-command-line"></a>配置kdump内存使用情况</h2></div></div></div><p>在系统引导期间始终保留为<code class="literal">kdump</code>功能保留的内存。内存量在系统的Grand Unified Bootloader（GRUB）2配置中指定。以下过程描述了如何通过命令行配置为<code class="literal">kdump</code>保留的内存。
				</p><h4><a id="prerequisites_9"></a>先决条件</h4><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><a class="link" href="installing-and-configuring-kdump_managing-monitoring-and-updating-the-kernel.html#supported-kdump-configurations-and-targets_installing-and-configuring-kdump" title="Supported kdump configurations and targets">满足</a> <code class="literal">kdump</code> <a class="link" href="installing-and-configuring-kdump_managing-monitoring-and-updating-the-kernel.html#supported-kdump-configurations-and-targets_installing-and-configuring-kdump" title="支持的kdump配置和目标">要求</a> 。
						</li></ul></div><h4><a id="procedure_11"></a>程序</h4><div class="orderedlist"><ol class="orderedlist"><li class="listitem">使用root权限编辑<code class="literal">/etc/default/grub</code>文件。
						</li><li class="listitem"><p class="simpara">将<code class="literal">crashkernel=</code>选项设置为所需的值。
						</p><p class="simpara">例如，要保留128 MB内存，请使用以下命令：</p><pre class="screen">crashkernel=128M</pre><p class="simpara">或者，您可以根据已安装的内存总量将保留内存量设置为变量。内存保留到变量的语法是<code class="literal">crashkernel= <span class="emphasis"><em>&lt;range1&gt;</em></span> : <span class="emphasis"><em>&lt;size1&gt;</em></span> , <span class="emphasis"><em>&lt;range2&gt;</em></span> : <span class="emphasis"><em>&lt;size2&gt;</em></span></code> 。例如：</p><pre class="screen">crashkernel=512M-2G:64M,2G-:128M</pre><p class="simpara">如果系统内存总量为512 MB或更高且低于2 GB，则上面的示例保留64 MB内存。如果内存总量超过2 GB，则为<code class="literal">kdump</code>保留128 MB。
						</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">偏移保留的内存。
								</p><p class="simpara">有些系统需要保留具有一定固定偏移量的内存，因为崩溃内核预留很早，并且它希望保留一些区域以供特殊使用。如果设置了偏移量，则保留的存储器从那里开始。要偏移保留的内存，请使用以下语法：</p><pre class="screen">crashkernel=128M@16M</pre><p class="simpara">上面的示例意味着<code class="literal">kdump</code>保留从16 MB（物理地址0x01000000）开始的128 MB内存。如果offset参数设置为0或完全省略，则<code class="literal">kdump</code>自动偏移保留的内存。如上所述，当设置可变存储器保留时，也可以使用该语法。在这种情况下，偏移总是最后指定的（例如， <code class="literal">crashkernel=512M-2G:64M,2G-:128M@16M</code> ）。
								</p></li></ul></div></li><li class="listitem"><p class="simpara">使用以下命令更新GRUB2配置文件：</p><pre class="screen"># grub2-mkconfig -o /boot/grub2/grub.cfg</pre></li></ol></div><div class="note" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">注意</h3><p>为<code class="literal">kdump</code>配置内存的另一种方法是使用<code class="literal">grub2-editenv</code>将<code class="literal">crashkernel=&lt; <span class="emphasis"><em>SOME_VALUE</em></span> &gt;</code>参数附加到<code class="literal">kernelopts</code>变量， <code class="literal">grub2-editenv</code>将更新所有引导条目。或者，您可以使用<code class="literal">grubby</code>实用程序更新一个条目的内核命令行参数。
					</p></div><h4><a id="additional_resources_13"></a>其他资源</h4><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><code class="literal">crashkernel=</code>选项可以通过多种方式定义。<code class="literal">auto</code>值允许根据系统中的总内存量自动配置保留内存，遵循<a class="xref" href="installing-and-configuring-kdump_managing-monitoring-and-updating-the-kernel.html#memory-requirements-for-kdump_supported-kdump-configurations-and-targets" title="kdump的内存要求">“kdump的内存要求”一节中</a>描述的指导原则。
						</li><li class="listitem">有关启动项，详细信息<code class="literal">kernelopts</code> ，以及如何与工作<code class="literal">grub2-editenv</code>和<code class="literal">grubby</code>见<a class="xref" href="configuring-kernel-command-line-parameters_managing-monitoring-and-updating-the-kernel.html" title="Chapter 9. 配置内核命令行参数">第3章， <em>配置内核命令行参数</em></a> 。
						</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="configuring-the-kdump-target_configuring-kdump-on-the-command-line"></a>配置kdump目标</h2></div></div></div><p>捕获内核崩溃时，核心转储可以作为文件存储在本地文件系统中，直接写入设备，也可以使用<code class="literal">NFS</code> （网络文件系统）或<code class="literal">SSH</code> （安全Shell）协议通过网络发送。一次只能设置其中一个选项，默认行为是将vmcore文件存储在本地文件系统的<code class="literal">/var/crash/</code>目录中。
				</p><h4><a id="prerequisites_10"></a>先决条件</h4><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><a class="link" href="installing-and-configuring-kdump_managing-monitoring-and-updating-the-kernel.html#supported-kdump-configurations-and-targets_installing-and-configuring-kdump" title="Supported kdump configurations and targets">满足</a> <code class="literal">kdump</code> <a class="link" href="installing-and-configuring-kdump_managing-monitoring-and-updating-the-kernel.html#supported-kdump-configurations-and-targets_installing-and-configuring-kdump" title="支持的kdump配置和目标">要求</a> 。
						</li></ul></div><h4><a id="procedure_12"></a>程序</h4><p>要以<code class="literal">root</code>身份更改要保存核心转储的本地目录，请编辑<code class="literal">/etc/kdump.conf</code>配置文件，如下所述。
				</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem">从<code class="literal">#path /var/crash</code>行的开头删除哈希符号（“＃”）。
						</li><li class="listitem"><p class="simpara">将值替换为目标目录路径。例如：</p><pre class="screen">path /usr/local/cores</pre><div class="important" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">重要</h3><p>在Red Hat Enterprise Linux 8中，使用<code class="literal">path</code>指令定义为kdump目标的目录必须在启动<code class="literal">kdump</code> systemd服务时存在 - 否则服务将失败。此行为与早期版本的Red Hat Enterprise Linux不同，如果在启动服务时该目录不存在，则会自动创建该目录。
							</p></div></li></ol></div><p>要以<code class="literal">root</code> <code class="literal">/etc/kdump.conf</code>将文件写入其他分区，请编辑<code class="literal">/etc/kdump.conf</code>配置文件，如下所述。
				</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p class="simpara">根据您的选择，从<code class="literal">#ext4</code>行的开头删除哈希符号（“＃”）。
						</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">设备名称（ <code class="literal">#ext4 /dev/vg/lv_kdump</code>行）</li><li class="listitem">文件系统标签（ <code class="literal">#ext4 LABEL=/boot</code> line）</li><li class="listitem">UUID（ <code class="literal">#ext4 UUID=03138356-5e61-4ab3-b58e-27507ac41937</code>行）</li></ul></div></li><li class="listitem"><p class="simpara">将文件系统类型以及设备名称，标签或UUID更改为所需的值。例如：</p><pre class="screen">ext4 UUID=03138356-5e61-4ab3-b58e-27507ac41937</pre><div class="important" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">重要</h3><p>建议使用<code class="literal">LABEL=</code>或<code class="literal">UUID=</code>指定存储设备。诸如<code class="literal">/dev/sda3</code>类的磁盘设备名称不能保证在重新引导时保持一致。
							</p></div><div class="important" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">重要</h3><p>在IBM Z硬件上转储到Direct Access存储设备（DASD）时，必须在<code class="literal">/etc/dasd.conf</code>中正确指定转储设备， <code class="literal">/etc/dasd.conf</code>再继续。
							</p></div></li></ol></div><p>要将转储直接写入设备：</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem">从<code class="literal">#raw /dev/vg/lv_kdump</code>行的开头删除哈希符号（“＃”）。
						</li><li class="listitem"><p class="simpara">将值替换为目标设备名称。例如：</p><pre class="screen">raw /dev/sdb1</pre></li></ol></div><p>要使用<code class="literal">NFS</code>协议将转储存储到远程计算机：</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem">从<code class="literal">#nfs my.server.com:/export/tmp</code>行的开头删除哈希符号（“＃”）。
						</li><li class="listitem"><p class="simpara">将值替换为有效的主机名和目录路径。例如：</p><pre class="screen">nfs penguin.example.com:/export/cores</pre></li></ol></div><p>要使用<code class="literal">SSH</code>协议将转储存储到远程计算机：</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem">从<code class="literal">#ssh <a class="link" href="mailto:user@my.server.com">user@my.server.com</a></code>行的开头删除哈希符号（“＃”）。
						</li><li class="listitem">用有效的用户名和主机名替换该值。
						</li><li class="listitem"><p class="simpara">在配置中包含<code class="literal">SSH</code>密钥。
						</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">从<code class="literal">#sshkey /root/.ssh/kdump_id_rsa</code>行的开头删除哈希符号。
								</li><li class="listitem"><p class="simpara">将值更改为您尝试转储到的服务器上有效的密钥的位置。例如：</p><pre class="screen">ssh john@penguin.example.com
sshkey /root/.ssh/mykey</pre></li></ul></div></li></ol></div><h4><a id="additional_resources_14"></a>其他资源</h4><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">有关按类型排序的当前支持和不支持的目标的完整列表，请参阅<a class="xref" href="installing-and-configuring-kdump_managing-monitoring-and-updating-the-kernel.html#supported-kdump-targets_supported-kdump-configurations-and-targets" title="支持的kdump目标">“支持的kdump目标”一节</a> 。
						</li><li class="listitem">有关如何配置SSH服务器和设置基于密钥的身份验证的信息，请参阅在Red Hat Enterprise Linux中<span class="emphasis"><em><span class="citetitle"><a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/configuring_basic_system_settings/index#sec-SSH">配置基本系统设置</a></span></em></span> 。
						</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="configuring-the-core-collector_configuring-kdump-on-the-command-line"></a>配置核心收集器</h2></div></div></div><p>
					<code class="literal">kdump</code>使用指定为<code class="literal">core collector</code>的程序来捕获vmcore。目前，唯一完全支持的<code class="literal">core collector</code>是<code class="literal">makedumpfile</code>实用程序。它有几个可配置的选项，这些选项会影响收集过程。例如，收集数据的范围，或者是否应压缩生成的vmcore。
				</p><p>要启用和配置<code class="literal">core collector</code> ，请按照以下步骤操作。
				</p><h4><a id="prerequisites_11"></a>先决条件</h4><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><a class="link" href="installing-and-configuring-kdump_managing-monitoring-and-updating-the-kernel.html#supported-kdump-configurations-and-targets_installing-and-configuring-kdump" title="Supported kdump configurations and targets">满足</a> <code class="literal">kdump</code> <a class="link" href="installing-and-configuring-kdump_managing-monitoring-and-updating-the-kernel.html#supported-kdump-configurations-and-targets_installing-and-configuring-kdump" title="支持的kdump配置和目标">要求</a> 。
						</li></ul></div><h4><a id="procedure_13"></a>程序</h4><div class="orderedlist"><ol class="orderedlist"><li class="listitem">以<code class="literal">root</code> <code class="literal">/etc/kdump.conf</code>编辑<code class="literal">/etc/kdump.conf</code>配置文件，并从<code class="literal">#core_collector makedumpfile -l --message-level 1 -d 31</code>的开头删除<code class="literal">/etc/kdump.conf</code>号（“＃”）。
						</li><li class="listitem"><p class="simpara">添加<code class="literal">-c</code>参数。例如：</p><pre class="screen">core_collector makedumpfile -c</pre><p class="simpara">上面的命令启用转储文件压缩。
						</p></li><li class="listitem"><p class="simpara">添加<code class="literal">-d <span class="emphasis"><em>value</em></span></code>参数。例如：</p><pre class="screen">core_collector makedumpfile -d 17 -c</pre><p class="simpara">上面的命令从转储中删除零和空闲页面。该<span class="emphasis"><em>值</em></span>表示位掩码，其中每个位与特定类型的存储器页相关联，并确定是否将收集该类型的页。有关各个位的说明，请参阅<a class="xref" href="installing-and-configuring-kdump_managing-monitoring-and-updating-the-kernel.html#supported-kdump-filtering-levels_supported-kdump-configurations-and-targets" title="支持的kdump过滤级别">“支持的kdump过滤级别”一节</a> 。
						</p></li></ol></div><h4><a id="additional_resources_15"></a>其他资源</h4><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">有关可用选项的完整列表，请参见<code class="literal">makedumpfile(8)</code>手册页。
						</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="configuring-the-kdump-default-failure-responses_configuring-kdump-on-the-command-line"></a>配置kdump默认失败响应</h2></div></div></div><p>默认情况下，当<code class="literal">kdump</code>无法在<a class="xref" href="installing-and-configuring-kdump_managing-monitoring-and-updating-the-kernel.html#configuring-the-kdump-target_configuring-kdump-on-the-command-line" title="配置kdump目标">“配置kdump目标”一节中</a>指定的目标位置创建vmcore转储文件时，系统将重新启动，并且转储将在此过程中丢失。要更改此行为，请按照以下步骤操作。
				</p><h4><a id="prerequisites_12"></a>先决条件</h4><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><a class="link" href="installing-and-configuring-kdump_managing-monitoring-and-updating-the-kernel.html#supported-kdump-configurations-and-targets_installing-and-configuring-kdump" title="Supported kdump configurations and targets">满足</a> <code class="literal">kdump</code> <a class="link" href="installing-and-configuring-kdump_managing-monitoring-and-updating-the-kernel.html#supported-kdump-configurations-and-targets_installing-and-configuring-kdump" title="支持的kdump配置和目标">要求</a> 。
						</li></ul></div><h4><a id="procedure_14"></a>程序</h4><div class="orderedlist"><ol class="orderedlist"><li class="listitem">以<code class="literal">root</code> <code class="literal">/etc/kdump.conf</code> ，从<code class="literal">/etc/kdump.conf</code>配置文件中的<code class="literal">/etc/kdump.conf</code> <code class="literal">#default shell</code>行的开头删除哈希符号（“＃”）。
						</li><li class="listitem"><p class="simpara">使用<a class="xref" href="installing-and-configuring-kdump_managing-monitoring-and-updating-the-kernel.html#supported-default-failure-responses_supported-kdump-configurations-and-targets" title="支持的默认失败响应">“支持的默认故障响应”一节中</a>所述的所需操作替换该值。例如：</p><pre class="screen">default poweroff</pre></li></ol></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="enabling-and-disabling-the-kdump-service_configuring-kdump-on-the-command-line"></a>启用和禁用kdump服务</h2></div></div></div><p>要在引导时启动<code class="literal">kdump</code>服务，请按照以下步骤操作。
				</p><h4><a id="prerequisites_13"></a>先决条件</h4><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><a class="link" href="installing-and-configuring-kdump_managing-monitoring-and-updating-the-kernel.html#supported-kdump-configurations-and-targets_installing-and-configuring-kdump" title="Supported kdump configurations and targets">满足</a> <code class="literal">kdump</code> <a class="link" href="installing-and-configuring-kdump_managing-monitoring-and-updating-the-kernel.html#supported-kdump-configurations-and-targets_installing-and-configuring-kdump" title="支持的kdump配置和目标">要求</a> 。
						</li><li class="listitem">所有<a class="link" href="installing-and-configuring-kdump_managing-monitoring-and-updating-the-kernel.html#configuring-kdump-on-the-command-line_installing-and-configuring-kdump" title="在命令行上配置kdump">配置</a>均根据您的需要进行设置。
						</li></ul></div><h4><a id="procedure_15"></a>程序</h4><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p class="simpara">要启用<code class="literal">kdump</code>服务，请使用以下命令：</p><pre class="screen"><code class="literal"># systemctl</code> <code class="literal">enable</code> <code class="literal">kdump.service</code></pre><p class="simpara">这为<code class="literal">multi-user.target</code>启用了服务。
						</p></li><li class="listitem"><p class="simpara">要在当前会话中启动该服务，请使用以下命令：</p><pre class="screen"><code class="literal"># systemctl</code> <code class="literal">start</code> <code class="literal">kdump.service</code></pre></li><li class="listitem"><p class="simpara">要停止<code class="literal">kdump</code>服务，请键入以下命令：</p><pre class="screen"><code class="literal"># systemctl</code> <code class="literal">stop</code> <code class="literal">kdump.service</code></pre></li><li class="listitem"><p class="simpara">要禁用<code class="literal">kdump</code>服务，请执行以下命令：</p><pre class="screen"><code class="literal"># systemctl</code> <code class="literal">disable</code> <code class="literal">kdump.service</code></pre></li></ol></div><h4><a id="additional_resources_16"></a>其他资源</h4><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">有关<code class="literal">systemd</code>和配置服务的更多信息，请参阅在Red Hat Enterprise Linux中<span class="emphasis"><em><span class="citetitle"><a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/configuring_basic_system_settings/index#managing-services-with-systemd">配置基本系统设置</a></span></em></span> 。
						</li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="configuring-kdump-in-the-web-console_installing-and-configuring-kdump"></a>在Web控制台中配置kdump</h1></div></div></div><p>以下部分概述了如何通过Red Hat Enterprise Linux Web控制台设置和测试<code class="literal">kdump</code>配置。Web控制台是Red Hat Enterprise Linux 8的默认安装的一部分，并在启动时启用或禁用<code class="literal">kdump</code>服务。此外，Web控制台可以方便地为<code class="literal">kdump</code>配置保留内存。或以未压缩或压缩格式选择<span class="emphasis"><em>vmcore</em></span>保存位置。
			</p><h3><a id="prerequisites_14"></a>先决条件</h3><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">有关更多详细信息，请参阅<span class="emphasis"><em><span class="citetitle"><a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/managing_systems_using_the_web_console/index#getting-started-with-the-rhel-8-web-console_system-management-using-the-web-console">Red Hat Enterprise Linux Web控制台</a></span></em></span> 。
					</li></ul></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="configuring-kdump-memory-usage-and-target-location-in-web-console_configuring-kdump-in-the-web-console"></a>在Web控制台中配置kdump内存使用情况和目标位置</h2></div></div></div><p>下面的过程说明如何使用Red Hat Enterprise Linux Web控制台界面中的<code class="literal">Kernel Dump</code>选项卡配置为kdump内核保留的内存量。该过程还描述了如何指定vmcore转储文件的目标位置以及如何测试配置。
				</p><h4><a id="prerequisites_15"></a>先决条件</h4><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">操作<span class="emphasis"><em><span class="citetitle"><a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/managing_systems_using_the_web_console/">Web控制台</a></span></em></span>简介。
						</li></ul></div><h4><a id="procedure_16"></a>程序</h4><div class="orderedlist"><ol class="orderedlist"><li class="listitem">打开<code class="literal">Kernel Dump</code>选项卡并启动<code class="literal">kdump</code>服务。
						</li><li class="listitem">通过<span class="emphasis"><em><span class="citetitle"><a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/managing_monitoring_and_updating_the_kernel/index#configuring-kdump-memory-usage_configuring-kdump-on-the-command-line">命令行</a></span></em></span>配置<code class="literal">kdump</code>内存使用情况。
						</li><li class="listitem"><p class="simpara">单击“ <code class="literal">Crash dump location</code>选项旁边的链接。
						</p><div class="informalfigure"><div class="mediaobject"><img src="images/web_console_initial_screen.png" alt="Web控制台初始屏幕"></div></div></li><li class="listitem"><p class="simpara">从下拉列表中选择“ <code class="literal">Local Filesystem</code>选项，并指定要在其中保存转储的目录。
						</p><div class="informalfigure"><div class="mediaobject"><img src="images/web_console_crashdump_target.png" alt="web console crashdump target"></div></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">或者，从下拉列表中选择<code class="literal">Remote over SSH</code>选项，以使用SSH协议将vmcore发送到远程计算机。
								</p><p class="simpara">使用远程计算机地址，ssh密钥位置和目标目录填充<code class="literal">Server</code> ， <code class="literal">ssh key</code>和<code class="literal">Directory</code>字段。
								</p></li><li class="listitem"><p class="simpara">另一种选择是从下拉列表中选择<code class="literal">Remote over NFS</code>选项并填充<code class="literal">Mount</code>字段，以使用NFS协议将vmcore发送到远程计算机。
								</p><div class="note" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">注意</h3><p>勾选“ <code class="literal">Compression</code>复选框以减小vmcore文件的大小。
									</p></div></li></ul></div></li><li class="listitem"><p class="simpara">通过崩溃内核来测试您的配置。
						</p><div class="informalfigure"><div class="mediaobject"><img src="images/web_console_test_kdump_config.png" alt="web控制台测试kdump配置"></div></div><div class="warning" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">警告</h3><p>此步骤会中断内核的执行并导致系统崩溃和数据丢失。
							</p></div></li></ol></div><h4><a id="additional_resources_17"></a>其他资源</h4><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">有关<code class="literal">kdump</code>当前支持的目标的完整列表，请参阅<span class="emphasis"><em><span class="citetitle"><a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/managing_monitoring_and_updating_the_kernel/index#supported-kdump-targets_supported-kdump-configurations-and-targets">支持的kdump目标</a></span></em></span> 。
						</li><li class="listitem">有关如何配置SSH服务器和设置基于密钥的身份验证的信息，请参阅在Red Hat Enterprise Linux中<span class="emphasis"><em><span class="citetitle"><a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/configuring_basic_system_settings/index#sec-SSH">配置基本系统设置</a></span></em></span> 。
						</li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="supported-kdump-configurations-and-targets_installing-and-configuring-kdump"></a>支持的kdump配置和目标</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="memory-requirements-for-kdump_supported-kdump-configurations-and-targets"></a> kdump的内存要求</h2></div></div></div><p>为了使<code class="literal">kdump</code>能够捕获内核崩溃转储并将其保存以供进一步分析，系统内存的一部分必须永久保留用于捕获内核。保留时，主内核无法使用系统内存的这一部分。
				</p><p>内存要求因某些系统参数而异。其中一个主要因素是系统的硬件架构。要找出确切的机器体系结构（例如Intel 64和AMD64，也称为x86_64）并将其打印到标准输出，请使用以下命令：</p><pre class="screen"><code class="literal">$ uname -m</code></pre><p>下表包含自动为<code class="literal">kdump</code>保留内存大小的最低内存要求列表。大小根据系统的体系结构和总可用物理内存而变化。
				</p><div class="table"><a id="idm139880527210736"></a><p class="title"><strong>表5.1。kdump所需的最小预留内存量</strong></p><div class="table-contents"><table border="1" summary="Minimum Amount of Reserved Memory Required for kdump"><colgroup><col class="col_1"><col class="col_2"><col class="col_3"></colgroup><thead><tr><th valign="top" style="text-align:left">建筑</th><th valign="top" style="text-align:left">有效内存</th><th valign="top" style="text-align:left">最小保留内存</th></tr></thead><tbody><tr><td valign="top" style="text-align:left"> <p>AMD64和Intel 64（ <code class="literal">x86_64</code> ）</p>
								 </td><td valign="top" style="text-align:left"> <p>1 GB到64 GB</p>
								 </td><td valign="top" style="text-align:left"> <p>160 MB的RAM。</p>
								 </td></tr><tr><td valign="top" style="text-align:left"> </td><td valign="top" style="text-align:left"> <p>64 GB到1 TB</p>
								 </td><td valign="top" style="text-align:left"> <p>256 MB的RAM。</p>
								 </td></tr><tr><td valign="top" style="text-align:left"> </td><td valign="top" style="text-align:left"> <p>1 TB甚至更多</p>
								 </td><td valign="top" style="text-align:left"> <p>512 MB的RAM。</p>
								 </td></tr><tr><td valign="top" style="text-align:left"> <p>64位ARM体系结构（ <code class="literal">arm64</code> ）</p>
								 </td><td valign="top" style="text-align:left"> <p>2 GB甚至更多</p>
								 </td><td valign="top" style="text-align:left"> <p>512 MB的RAM。</p>
								 </td></tr><tr><td valign="top" style="text-align:left"> <p>IBM Power Systems（ <code class="literal">ppc64le</code> ）</p>
								 </td><td valign="top" style="text-align:left"> <p>2 GB到4 GB</p>
								 </td><td valign="top" style="text-align:left"> <p>384 MB的RAM。</p>
								 </td></tr><tr><td valign="top" style="text-align:left"> </td><td valign="top" style="text-align:left"> <p>4 GB到16 GB</p>
								 </td><td valign="top" style="text-align:left"> <p>512 MB的RAM。</p>
								 </td></tr><tr><td valign="top" style="text-align:left"> </td><td valign="top" style="text-align:left"> <p>16 GB到64 GB</p>
								 </td><td valign="top" style="text-align:left"> <p>1 GB的RAM。</p>
								 </td></tr><tr><td valign="top" style="text-align:left"> </td><td valign="top" style="text-align:left"> <p>64 GB到128 GB</p>
								 </td><td valign="top" style="text-align:left"> <p>2 GB的RAM。</p>
								 </td></tr><tr><td valign="top" style="text-align:left"> </td><td valign="top" style="text-align:left"> <p>128 GB甚至更多</p>
								 </td><td valign="top" style="text-align:left"> <p>4 GB的RAM。</p>
								 </td></tr><tr><td valign="top" style="text-align:left"> <p>IBM Z（ <code class="literal">s390x</code> ）</p>
								 </td><td valign="top" style="text-align:left"> <p>4 GB到64 GB</p>
								 </td><td valign="top" style="text-align:left"> <p>160 MB的RAM。</p>
								 </td></tr><tr><td valign="top" style="text-align:left"> </td><td valign="top" style="text-align:left"> <p>64 GB到1 TB</p>
								 </td><td valign="top" style="text-align:left"> <p>256 MB的RAM。</p>
								 </td></tr><tr><td valign="top" style="text-align:left"> </td><td valign="top" style="text-align:left"> <p>1 TB甚至更多</p>
								 </td><td valign="top" style="text-align:left"> <p>512 MB的RAM。</p>
								 </td></tr></tbody></table></div></div><p>在许多系统上， <code class="literal">kdump</code>能够估计所需的内存量并自动保留。默认情况下启用此行为，但仅适用于具有超过<a class="link" href="installing-and-configuring-kdump_managing-monitoring-and-updating-the-kernel.html#minimum-threshold-for-automatic-memory-reservation_supported-kdump-configurations-and-targets" title="Minimum threshold for automatic memory reservation">一定总可用内存量</a>的系统，这些<a class="link" href="installing-and-configuring-kdump_managing-monitoring-and-updating-the-kernel.html#minimum-threshold-for-automatic-memory-reservation_supported-kdump-configurations-and-targets" title="自动存储器预留的最小阈值">内存</a>因系统体系结构而异。
				</p><div class="important" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">重要</h3><p>基于系统中的总存储量自动配置保留存储器是尽力而为的估计。由于I / O设备等其他因素，实际所需的内存可能会有所不同。使用足够的内存可能会导致调试内核无法在内核崩溃的情况下作为捕获内核启动。要避免此问题，请充分增加崩溃内核内存。
					</p></div><h4><a id="additional_resources_18"></a>其他资源</h4><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">有关如何在命令行上更改内存设置的信息，请参阅<a class="xref" href="installing-and-configuring-kdump_managing-monitoring-and-updating-the-kernel.html#configuring-kdump-memory-usage_configuring-kdump-on-the-command-line" title="配置kdump内存使用情况">“配置kdump内存使用情况”一节</a> 。
						</li><li class="listitem">有关如何通过Web控制台设置保留内存量的说明，请参阅<a class="xref" href="installing-and-configuring-kdump_managing-monitoring-and-updating-the-kernel.html#configuring-kdump-memory-usage-and-target-location-in-web-console_configuring-kdump-in-the-web-console" title="在Web控制台中配置kdump内存使用情况和目标位置">“在Web控制台中配置kdump内存使用情况和目标位置”一节</a> 。
						</li><li class="listitem">有关各种Red Hat Enterprise Linux技术功能和限制的更多信息，请参阅<span class="emphasis"><em><span class="citetitle"><a class="link" href="https://access.redhat.com/articles/rhel-limits">技术功能和限制表</a></span></em></span> 。
						</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="minimum-threshold-for-automatic-memory-reservation_supported-kdump-configurations-and-targets"></a>自动存储器预留的最小阈值</h2></div></div></div><p>在某些系统上，可以通过在引导加载程序配置文件中使用<code class="literal">crashkernel=auto</code>参数或在图形配置实用程序中启用此选项来自动为<code class="literal">kdump</code>分配内存。但是，要使此自动预留起作用，系统中需要有一定量的总内存。数量因系统架构而异。
				</p><p>下表列出了自动内存分配的阈值。如果系统的内存少于表中指定的内存，则需要<a class="link" href="installing-and-configuring-kdump_managing-monitoring-and-updating-the-kernel.html#configuring-kdump-memory-usage_configuring-kdump-on-the-command-line" title="配置kdump内存使用情况">手动保留</a>内存。
				</p><div class="table"><a id="idm139880524367888"></a><p class="title"><strong>表5.2。自动内存预留所需的最小内存量</strong></p><div class="table-contents"><table border="1" summary="Minimum Amount of Memory Required for Automatic Memory Reservation"><colgroup><col class="col_1"><col class="col_2"></colgroup><thead><tr><th valign="top" style="text-align:left">建筑</th><th valign="top" style="text-align:left">所需内存</th></tr></thead><tbody><tr><td valign="top" style="text-align:left"> <p>AMD64和Intel 64（ <code class="literal">x86_64</code> ）</p>
								 </td><td valign="top" style="text-align:left"> <p>2 GB</p>
								 </td></tr><tr><td valign="top" style="text-align:left"> <p>IBM Power Systems（ <code class="literal">ppc64le</code> ）</p>
								 </td><td valign="top" style="text-align:left"> <p>2 GB</p>
								 </td></tr><tr><td valign="top" style="text-align:left"> <p>IBM Z（ <code class="literal">s390x</code> ）</p>
								 </td><td valign="top" style="text-align:left"> <p>4GB</p>
								 </td></tr></tbody></table></div></div><h4><a id="additional_resources_19"></a>其他资源</h4><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">有关如何在命令行上手动更改这些设置的信息，请参阅<a class="xref" href="installing-and-configuring-kdump_managing-monitoring-and-updating-the-kernel.html#configuring-kdump-memory-usage_configuring-kdump-on-the-command-line" title="配置kdump内存使用情况">“配置kdump内存使用情况”一节</a> 。
						</li><li class="listitem">有关如何通过Web控制台手动更改保留内存量的说明，请参阅<a class="xref" href="installing-and-configuring-kdump_managing-monitoring-and-updating-the-kernel.html#configuring-kdump-memory-usage-and-target-location-in-web-console_configuring-kdump-in-the-web-console" title="在Web控制台中配置kdump内存使用情况和目标位置">“在Web控制台中配置kdump内存使用情况和目标位置”一节</a> 。
						</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="supported-kdump-targets_supported-kdump-configurations-and-targets"></a>支持的kdump目标</h2></div></div></div><p>捕获内核崩溃时，vmcore转储文件可以直接写入设备，作为文件存储在本地文件系统上，也可以通过网络发送。下表包含<code class="literal">kdump</code>当前支持或明确不支持的转储目标的完整列表。
				</p><div class="table"><a id="idm139880494175664"></a><p class="title"><strong>表5.3。支持的kdump目标</strong></p><div class="table-contents"><table border="1" summary="Supported kdump Targets"><colgroup><col class="col_1"><col class="col_2"><col class="col_3"></colgroup><thead><tr><th valign="top" style="text-align:left">类型</th><th valign="top" style="text-align:left">支持的目标</th><th valign="top" style="text-align:left">不受支持的目标</th></tr></thead><tbody><tr><td valign="top" style="text-align:left"> <p>原始设备</p>
								 </td><td valign="top" style="text-align:left"> <p>所有本地连接的原始磁盘和分区。
								</p>
								 </td><td valign="top" style="text-align:left"> </td></tr><tr><td valign="top" style="text-align:left"> <p>本地文件系统</p>
								 </td><td valign="top" style="text-align:left"> <p>
									直接连接的磁盘驱动器，硬件RAID逻辑驱动器，LVM设备和<code class="literal">mdraid</code>阵列上的<code class="literal">ext2</code> ， <code class="literal">ext3</code> ， <code class="literal">ext4</code>和<code class="literal">xfs</code>文件系统。
								</p>
								 </td><td valign="top" style="text-align:left"> <p>此表中未明确列出的任何本地文件系统，包括<code class="literal">auto</code>类型（自动文件系统检测）。
								</p>
								 </td></tr><tr><td valign="top" style="text-align:left"> <p>远程目录</p>
								 </td><td valign="top" style="text-align:left"> <p>通过<code class="literal">IPv4</code>使用<code class="literal">NFS</code>或<code class="literal">SSH</code>协议访问的远程目录。
								</p>
								 </td><td valign="top" style="text-align:left"> <p>使用<code class="literal">NFS</code>协议访问的<code class="literal">rootfs</code>文件系统上的远程目录。
								</p>
								 </td></tr><tr><td valign="top" style="text-align:left"> <p>通过<code class="literal">iSCSI</code>协议通过硬件和软件启动器访问的远程目录。
								</p>
								 </td><td valign="top" style="text-align:left"> <p>在<code class="literal">be2iscsi</code>硬件上使用<code class="literal">iSCSI</code>协议访问的远程目录。
								</p>
								 </td><td valign="top" style="text-align:left"> <p>基于多路径的存储。
								</p>
								 </td></tr><tr><td colspan="2" valign="top" style="text-align:center"> </td><td valign="top" style="text-align:left"> <p>通过<code class="literal">IPv6</code>访问的远程目录。
								</p>
								 </td></tr><tr><td colspan="2" valign="top" style="text-align:center"> </td><td valign="top" style="text-align:left"> <p>使用<code class="literal">SMB</code>或<code class="literal">CIFS</code>协议访问的远程目录。
								</p>
								 </td></tr><tr><td colspan="2" valign="top" style="text-align:center"> </td><td valign="top" style="text-align:left"> <p>使用<code class="literal">FCoE</code> （ <span class="emphasis"><em>以太网光纤通道</em></span> ）协议访问的远程目录。
								</p>
								 </td></tr><tr><td colspan="2" valign="top" style="text-align:center"> </td><td valign="top" style="text-align:left"> <p>使用无线网络接口访问远程目录。
								</p>
								 </td></tr></tbody></table></div></div><h4><a id="additional_resources_20"></a>其他资源</h4><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">有关如何在命令行上配置目标类型的信息，请参阅<a class="xref" href="installing-and-configuring-kdump_managing-monitoring-and-updating-the-kernel.html#configuring-the-kdump-target_configuring-kdump-on-the-command-line" title="配置kdump目标">“配置kdump目标”一节</a> 。
						</li><li class="listitem">有关如何通过Web控制台配置目标的信息，请参阅<a class="xref" href="installing-and-configuring-kdump_managing-monitoring-and-updating-the-kernel.html#configuring-kdump-memory-usage-and-target-location-in-web-console_configuring-kdump-in-the-web-console" title="在Web控制台中配置kdump内存使用情况和目标位置">“在Web控制台中配置kdump内存使用情况和目标位置”一节</a> 。
						</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="supported-kdump-filtering-levels_supported-kdump-configurations-and-targets"></a>支持的kdump过滤级别</h2></div></div></div><p>为了减小转储文件的大小， <code class="literal">kdump</code>使用<code class="literal">makedumpfile</code>核心收集器来压缩数据，并可选择省略不需要的信息。下表包含<code class="literal">makedumpfile</code>实用程序当前支持的过滤级别的完整列表。
				</p><div class="table"><a id="idm139880540722656"></a><p class="title"><strong>表5.4。支持的过滤级别</strong></p><div class="table-contents"><table border="1" summary="Supported Filtering Levels"><colgroup><col class="col_1"><col class="col_2"></colgroup><thead><tr><th valign="top" style="text-align:left">选项</th><th valign="top" style="text-align:left">描述</th></tr></thead><tbody><tr><td valign="top" style="text-align:left"> <p>
									<code class="literal">1</code>
								</p>
								 </td><td valign="top" style="text-align:left"> <p>零页面</p>
								 </td></tr><tr><td valign="top" style="text-align:left"> <p>
									<code class="literal">2</code>
								</p>
								 </td><td valign="top" style="text-align:left"> <p>缓存页面</p>
								 </td></tr><tr><td valign="top" style="text-align:left"> <p>
									<code class="literal">4</code>
								</p>
								 </td><td valign="top" style="text-align:left"> <p>缓存私密</p>
								 </td></tr><tr><td valign="top" style="text-align:left"> <p>
									<code class="literal">8</code>
								</p>
								 </td><td valign="top" style="text-align:left"> <p>用户页面</p>
								 </td></tr><tr><td valign="top" style="text-align:left"> <p>
									<code class="literal">16</code>
								</p>
								 </td><td valign="top" style="text-align:left"> <p>免费页面</p>
								 </td></tr></tbody></table></div></div><div class="note" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">注意</h3><p><code class="literal">makedumpfile</code>命令支持删除透明的大页面和hugetlbfs页面。考虑这两种类型的大页面用户页面，并使用<code class="literal">-8</code>级别删除它们。
					</p></div><h4><a id="additional_resources_21"></a>其他资源</h4><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">有关如何在命令行上配置核心收集器的说明，请参阅<a class="xref" href="installing-and-configuring-kdump_managing-monitoring-and-updating-the-kernel.html#configuring-the-core-collector_configuring-kdump-on-the-command-line" title="配置核心收集器">“配置核心收集器”一节</a> 。
						</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="supported-default-failure-responses_supported-kdump-configurations-and-targets"></a>支持的默认失败响应</h2></div></div></div><p>默认情况下，当<code class="literal">kdump</code>无法创建核心转储时，操作系统将重新启动。但是，您可以将<code class="literal">kdump</code>配置为执行不同的操作，以防将核心转储保存到主目标。下表列出了当前支持的所有默认操作。
				</p><div class="table"><a id="idm139880546834640"></a><p class="title"><strong>表5.5。支持的默认操作</strong></p><div class="table-contents"><table border="1" summary="Supported Default Actions"><colgroup><col class="col_1"><col class="col_2"></colgroup><thead><tr><th valign="top" style="text-align:left">选项</th><th valign="top" style="text-align:left">描述</th></tr></thead><tbody><tr><td valign="top" style="text-align:left"> <p>
									<code class="literal">dump_to_rootfs</code>
								</p>
								 </td><td valign="top" style="text-align:left"> <p>尝试将核心转储保存到根文件系统。此选项在与网络目标结合使用时特别有用：如果网络目标无法访问，则此选项将配置kdump以在本地保存核心转储。之后系统重新启动。
								</p>
								 </td></tr><tr><td valign="top" style="text-align:left"> <p>
									<code class="literal">重启</code>
								</p>
								 </td><td valign="top" style="text-align:left"> <p>重新启动系统，在此过程中丢失核心转储。
								</p>
								 </td></tr><tr><td valign="top" style="text-align:left"> <p>
									<code class="literal">停</code>
								</p>
								 </td><td valign="top" style="text-align:left"> <p>暂停系统，在此过程中丢失核心转储。
								</p>
								 </td></tr><tr><td valign="top" style="text-align:left"> <p>
									<code class="literal">关机</code>
								</p>
								 </td><td valign="top" style="text-align:left"> <p>关闭系统电源，在此过程中丢失核心转储。
								</p>
								 </td></tr><tr><td valign="top" style="text-align:left"> <p>
									<code class="literal">贝壳</code>
								</p>
								 </td><td valign="top" style="text-align:left"> <p>从initramfs中运行shell会话，允许用户手动记录核心转储。
								</p>
								 </td></tr></tbody></table></div></div><h4><a id="additional_resources_22"></a>其他资源</h4><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">有关如何在命令行上设置默认故障响应的详细信息，请参阅<a class="xref" href="installing-and-configuring-kdump_managing-monitoring-and-updating-the-kernel.html#configuring-the-kdump-default-failure-responses_configuring-kdump-on-the-command-line" title="配置kdump默认失败响应">“配置kdump缺省故障响应”一节</a> 。
						</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="estimating-kdump-size_supported-kdump-configurations-and-targets"></a>估计kdump大小</h2></div></div></div><p>在规划和构建kdump环境时，有必要知道在生成转储文件之前需要多少空间。
				</p><p><code class="literal">makedumpfile --mem-usage</code>命令提供有关可排除页面的有用报告，可用于确定要分配的转储级别。当系统处于代表性负载时运行此命令，否则<code class="literal">makedumpfile --mem-usage</code>返回的值小于生产环境中的预期值。
				</p><pre class="screen">[root@hostname ~]# makedumpfile --mem-usage /proc/kcore

TYPE            PAGES                   EXCLUDABLE      DESCRIPTION
----------------------------------------------------------------------
ZERO            501635                  yes             Pages filled with zero
CACHE           51657                   yes             Cache pages
CACHE_PRIVATE   5442                    yes             Cache pages + private
USER            16301                   yes             User process pages
FREE            77738211                yes             Free pages
KERN_DATA       1333192                 no              Dumpable kernel data</pre><div class="important" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">重要</h3><p><code class="literal">makedumpfile --mem-usage</code>命令以<span class="strong"><strong>页面形式</strong></span>报告。这意味着您必须根据内核页面大小计算使用的内存大小。默认情况下，Red Hat Enterprise Linux内核为AMD64和Intel 64体系结构使用4 KB大小的页面，为IBM POWER体系结构使用64 KB大小的页面。
					</p></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="testing-the-kdump-configuration_installing-and-configuring-kdump"></a>测试kdump配置</h1></div></div></div><p>以下过程描述了如何在计算机进入生产之前测试内核转储过程是否有效并且有效。
			</p><div class="warning" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">警告</h3><p>以下命令导致内核崩溃。按照这些步骤时要小心，不要在活动的生产系统上不小心使用它们。
				</p></div><h3><a id="procedure_17"></a>程序</h3><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><a class="link" href="installing-and-configuring-kdump_managing-monitoring-and-updating-the-kernel.html#enabling-and-disabling-the-kdump-service_configuring-kdump-on-the-command-line" title="启用和禁用kdump服务">启用</a> <code class="literal">kdump</code>重启系统。
					</li><li class="listitem"><p class="simpara">确保<code class="literal">kdump</code>正在运行：</p><pre class="screen">~]# systemctl is-active kdump
active</pre></li><li class="listitem"><p class="simpara">强制Linux内核崩溃：</p><pre class="screen"><code class="literal">echo 1 &gt; /proc/sys/kernel/sysrq</code>
<code class="literal">echo c &gt; /proc/sysrq-trigger</code></pre><div class="warning" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">警告</h3><p>上面的命令会崩溃内核并需要重新启动。
						</p></div><p class="simpara">再次启动后， <code class="literal"><span class="emphasis"><em>address</em></span> - <span class="emphasis"><em>YYYY-MM-DD</em></span> - <span class="emphasis"><em>HH:MM:SS</em></span> /vmcore</code>文件将在您在<code class="literal">/etc/kdump.conf</code> <a class="link" href="installing-and-configuring-kdump_managing-monitoring-and-updating-the-kernel.html#configuring-the-kdump-target_configuring-kdump-on-the-command-line" title="配置kdump目标">指定</a>的位置创建（默认为<code class="literal">/var/crash/</code> ）。
					</p><div class="note" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">注意</h3><p>除了确认配置的有效性之外，还可以使用此操作来记录在代表性负载运行时完成故障转储所需的时间。
						</p></div></li></ol></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="analyzing-a-core-dump_installing-and-configuring-kdump"></a>分析核心转储</h1></div></div></div><p>要确定系统崩溃的原因，可以使用<span class="strong"><strong><span class="application">崩溃</span></strong></span>实用程序，它提供与GNU调试器（GDB）非常相似的交互式提示。此实用程序允许您以交互方式分析由<code class="literal">kdump</code> ， <code class="literal">netdump</code> ， <code class="literal">diskdump</code>或<code class="literal">xendump</code>以及正在运行的Linux系统创建的核心转储。或者，您可以选择使用<span class="emphasis"><em><span class="citetitle"><a class="link" href="https://access.redhat.com/labs/kdumphelper/">Kdump Helper</a></span></em></span>或<span class="emphasis"><em><span class="citetitle"><a class="link" href="https://access.redhat.com/labs/kerneloopsanalyzer/">Kernel Oops Analyzer</a></span></em></span> 。
			</p><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="installing-the-crash-utility_analyzing-a-core-dump"></a>安装崩溃实用程序</h2></div></div></div><p>以下过程介绍了如何安装<span class="strong"><strong><span class="application">崩溃</span></strong></span>分析工具。
				</p><h4><a id="procedure_18"></a>程序</h4><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p class="simpara">启用相关的<code class="literal">baseos</code>和<code class="literal">appstream</code>存储库：</p><pre class="screen"><code class="literal"># subscription-manager repos --enable <span class="emphasis"><em>baseos repository</em></span></code></pre><pre class="screen"><code class="literal"># subscription-manager repos --enable <span class="emphasis"><em>appstream repository</em></span></code></pre></li><li class="listitem"><p class="simpara">安装<code class="literal">crash</code>包：</p><pre class="screen"><code class="literal"># yum install crash</code></pre></li><li class="listitem"><p class="simpara">安装<code class="literal">kernel-debuginfo</code>包：</p><pre class="screen"><code class="literal"># yum install kernel-debuginfo</code></pre><p class="simpara">该包对应于正在运行的内核，并提供转储分析所需的数据。
						</p></li></ol></div><h4><a id="additional_resources_23"></a>其他资源</h4><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">有关如何使用<code class="literal">subscription-manager</code>实用程序使用存储库的更多信息，请参阅<span class="emphasis"><em><span class="citetitle"><a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/configuring_basic_system_settings/index#sec-Installation-Basic-Tasks">配置基本系统设置</a></span></em></span> 。
						</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="running-and-exiting-the-crash-utility_analyzing-a-core-dump"></a>运行和退出崩溃实用程序</h2></div></div></div><p>以下过程介绍了如何启动崩溃实用程序以分析系统崩溃的原因。
				</p><h4><a id="prerequisites_16"></a>先决条件</h4><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">找出您当前正在运行的内核（例如<code class="literal">4.18.0-5.el8.x86_64</code> ）。
						</li></ul></div><h4><a id="procedure_19"></a>程序</h4><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p class="simpara">要启动<code class="literal">crash</code>实用程序，需要将两个必要参数传递给命令：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">debug-info（解压缩的vmlinuz映像），例如<code class="literal">/usr/lib/debug/lib/modules/4.18.0-5.el8.x86_64/vmlinux</code>通过特定的<code class="literal">kernel-debuginfo</code>包提供。
								</li><li class="listitem"><p class="simpara">实际的vmcore文件，例如<code class="literal">/var/crash/127.0.0.1-2018-10-06-14:05:33/vmcore</code>
								</p><p class="simpara">生成的<code class="literal">crash</code>命令如下所示：</p><pre class="screen"><code class="literal"># crash /usr/lib/debug/lib/modules/4.18.0-5.el8.x86_64/vmlinux /var/crash/127.0.0.1-2018-10-06-14:05:33/vmcore</code></pre><p class="simpara">使用<code class="literal">kdump</code>捕获的相同<span class="emphasis"><em>&lt;kernel&gt;</em></span>版本。
								</p><div class="example"><a id="idm139880435065248"></a><p class="title"><strong>例5.1。运行崩溃实用程序</strong></p><div class="example-contents"><p>以下示例显示使用4.18.0-5.el8.x86_64内核分析在2018年10月6日下午14:05创建的核心转储。
									</p><pre class="screen">...
WARNING: kernel relocated [202MB]: patching 90160 gdb minimal_symbol values

      KERNEL: /usr/lib/debug/lib/modules/4.18.0-5.el8.x86_64/vmlinux
    DUMPFILE: /var/crash/127.0.0.1-2018-10-06-14:05:33/vmcore  [PARTIAL DUMP]
        CPUS: 2
        DATE: Sat Oct  6 14:05:16 2018
      UPTIME: 01:03:57
LOAD AVERAGE: 0.00, 0.00, 0.00
       TASKS: 586
    NODENAME: localhost.localdomain
     RELEASE: 4.18.0-5.el8.x86_64
     VERSION: #1 SMP Wed Aug 29 11:51:55 UTC 2018
     MACHINE: x86_64  (2904 Mhz)
      MEMORY: 2.9 GB
       PANIC: "sysrq: SysRq : Trigger a crash"
         PID: 10635
     COMMAND: "bash"
        TASK: ffff8d6c84271800  [THREAD_INFO: ffff8d6c84271800]
         CPU: 1
       STATE: TASK_RUNNING (SYSRQ)

crash&gt;</pre></div></div></li></ul></div></li><li class="listitem"><p class="simpara">要退出交互式提示并终止<code class="literal">crash</code> ，请键入<code class="literal">exit</code>或<code class="literal">q</code> 。
						</p><div class="example"><a id="idm139880531288656"></a><p class="title"><strong>例5.2。退出崩溃实用程序</strong></p><div class="example-contents"><pre class="screen">crash&gt; exit
~]#</pre></div></div></li></ol></div><div class="note" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">注意</h3><p><code class="literal">crash</code>命令还可以用作调试实时系统的强大工具。但请谨慎使用，以免破坏您的系统。
					</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="displaying-message-buffer-backtrace-and-other-indicators-in-the-crash-utility_analyzing-a-core-dump"></a>在崩溃实用程序中显示消息缓冲区，回溯和其他指示符</h2></div></div></div><p>以下过程描述如何使用崩溃实用程序并显示各种指示符，例如内核消息缓冲区，回溯，进程状态，虚拟内存信息和打开文件。
				</p><h4><a id="displaying_the_message_buffer"></a>显示消息缓冲区</h4><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">要显示内核消息缓冲区，请在交互式提示符下键入<code class="literal">log</code>命令，如下例所示：</p><div class="example"><a id="idm139880540128784"></a><p class="title"><strong>例5.3。显示内核消息缓冲区</strong></p><div class="example-contents"><pre class="screen">crash&gt; log
<span class="strong"><strong>... several lines omitted ...</strong></span>
EIP: 0060:[&lt;c068124f&gt;] EFLAGS: 00010096 CPU: 2
EIP is at sysrq_handle_crash+0xf/0x20
EAX: 00000063 EBX: 00000063 ECX: c09e1c8c EDX: 00000000
ESI: c0a09ca0 EDI: 00000286 EBP: 00000000 ESP: ef4dbf24
 DS: 007b ES: 007b FS: 00d8 GS: 00e0 SS: 0068
Process bash (pid: 5591, ti=ef4da000 task=f196d560 task.ti=ef4da000)
Stack:
 c068146b c0960891 c0968653 00000003 00000000 00000002 efade5c0 c06814d0
&lt;0&gt; fffffffb c068150f b7776000 f2600c40 c0569ec4 ef4dbf9c 00000002 b7776000
&lt;0&gt; efade5c0 00000002 b7776000 c0569e60 c051de50 ef4dbf9c f196d560 ef4dbfb4
Call Trace:
 [&lt;c068146b&gt;] ? __handle_sysrq+0xfb/0x160
 [&lt;c06814d0&gt;] ? write_sysrq_trigger+0x0/0x50
 [&lt;c068150f&gt;] ? write_sysrq_trigger+0x3f/0x50
 [&lt;c0569ec4&gt;] ? proc_reg_write+0x64/0xa0
 [&lt;c0569e60&gt;] ? proc_reg_write+0x0/0xa0
 [&lt;c051de50&gt;] ? vfs_write+0xa0/0x190
 [&lt;c051e8d1&gt;] ? sys_write+0x41/0x70
 [&lt;c0409adc&gt;] ? syscall_call+0x7/0xb
Code: a0 c0 01 0f b6 41 03 19 d2 f7 d2 83 e2 03 83 e0 cf c1 e2 04 09 d0 88 41 03 f3 c3 90 c7 05 c8 1b 9e c0 01 00 00 00 0f ae f8 89 f6 &lt;c6&gt; 05 00 00 00 00 01 c3 89 f6 8d bc 27 00 00 00 00 8d 50 d0 83
EIP: [&lt;c068124f&gt;] sysrq_handle_crash+0xf/0x20 SS:ESP 0068:ef4dbf24
CR2: 0000000000000000</pre></div></div><p class="simpara">键入<code class="literal">help log</code>以获取有关命令用法的更多信息。
						</p><div class="note" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">注意</h3><p>内核消息缓冲区包含有关系统崩溃的最重要信息，因此，它始终首先转储到<code class="literal">vmcore-dmesg.txt</code>文件中。当尝试获取完整的<code class="literal">vmcore</code>文件失败时（例如，由于目标位置上缺少空间），这很有用。默认情况下， <code class="literal">vmcore-dmesg.txt</code>位于<code class="literal">/var/crash/</code>目录中。
							</p></div></li></ul></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="displaying_a_backtrace"></a>显示回溯</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">要显示内核堆栈跟踪，请使用<code class="literal">bt</code>命令。
							</p><div class="example"><a id="idm139880495955680"></a><p class="title"><strong>例5.4。显示内核堆栈跟踪</strong></p><div class="example-contents"><pre class="screen">crash&gt; bt
PID: 5591   TASK: f196d560  CPU: 2   COMMAND: "bash"
 #0 [ef4dbdcc] crash_kexec at c0494922
 #1 [ef4dbe20] oops_end at c080e402
 #2 [ef4dbe34] no_context at c043089d
 #3 [ef4dbe58] bad_area at c0430b26
 #4 [ef4dbe6c] do_page_fault at c080fb9b
 #5 [ef4dbee4] error_code (via page_fault) at c080d809
    EAX: 00000063  EBX: 00000063  ECX: c09e1c8c  EDX: 00000000  EBP: 00000000
    DS:  007b      ESI: c0a09ca0  ES:  007b      EDI: 00000286  GS:  00e0
    CS:  0060      EIP: c068124f  ERR: ffffffff  EFLAGS: 00010096
 #6 [ef4dbf18] sysrq_handle_crash at c068124f
 #7 [ef4dbf24] __handle_sysrq at c0681469
 #8 [ef4dbf48] write_sysrq_trigger at c068150a
 #9 [ef4dbf54] proc_reg_write at c0569ec2
#10 [ef4dbf74] vfs_write at c051de4e
#11 [ef4dbf94] sys_write at c051e8cc
#12 [ef4dbfb0] system_call at c0409ad5
    EAX: ffffffda  EBX: 00000001  ECX: b7776000  EDX: 00000002
    DS:  007b      ESI: 00000002  ES:  007b      EDI: b7776000
    SS:  007b      ESP: bfcb2088  EBP: bfcb20b4  GS:  0033
    CS:  0073      EIP: 00edc416  ERR: 00000004  EFLAGS: 00000246</pre></div></div><p class="simpara">键入<code class="literal">bt <span class="emphasis"><em>&lt;pid&gt;</em></span></code>以显示特定进程的回溯，或键入<code class="literal">help bt</code>以获取有关<code class="literal">bt</code>用法的更多信息。
							</p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="displaying_a_process_status"></a>显示进程状态</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">要显示系统中进程的状态，请使用<code class="literal">ps</code>命令。
							</p><div class="example"><a id="idm139880542767296"></a><p class="title"><strong>例5.5。显示系统中进程的状态</strong></p><div class="example-contents"><pre class="screen">crash&gt; <code class="literal">ps</code>
   PID    PPID  CPU   TASK    ST  %MEM     VSZ    RSS  COMM
&gt;     0      0   0  c09dc560  RU   0.0       0      0  [swapper]
&gt;     0      0   1  f7072030  RU   0.0       0      0  [swapper]
      0      0   2  f70a3a90  RU   0.0       0      0  [swapper]
&gt;     0      0   3  f70ac560  RU   0.0       0      0  [swapper]
      1      0   1  f705ba90  IN   0.0    2828   1424  init
<span class="strong"><strong>... several lines omitted ...</strong></span>
   5566      1   1  f2592560  IN   0.0   12876    784  auditd
   5567      1   2  ef427560  IN   0.0   12876    784  auditd
   5587   5132   0  f196d030  IN   0.0   11064   3184  sshd
&gt;  5591   5587   2  f196d560  RU   0.0    5084   1648  bash</pre></div></div><p class="simpara">使用<code class="literal">ps <span class="emphasis"><em>&lt;pid&gt;</em></span></code>显示单个特定进程的状态。有关<code class="literal">ps</code>使用的更多信息，请使用<span class="emphasis"><em>help ps</em></span> 。
							</p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="displaying_virtual_memory_information"></a>显示虚拟内存信息</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">要显示基本虚拟内存信息，请在交互式提示符下键入<code class="literal">vm</code>命令。
							</p><div class="example"><a id="idm139880494959712"></a><p class="title"><strong>例5.6。显示当前上下文的虚拟内存信息</strong></p><div class="example-contents"><pre class="screen">crash&gt; vm
PID: 5591   TASK: f196d560  CPU: 2   COMMAND: "bash"
   MM       PGD      RSS    TOTAL_VM
f19b5900  ef9c6000  1648k    5084k
  VMA       START      END    FLAGS  FILE
f1bb0310    242000    260000 8000875  /lib/ld-2.12.so
f26af0b8    260000    261000 8100871  /lib/ld-2.12.so
efbc275c    261000    262000 8100873  /lib/ld-2.12.so
efbc2a18    268000    3ed000 8000075  /lib/libc-2.12.so
efbc23d8    3ed000    3ee000 8000070  /lib/libc-2.12.so
efbc2888    3ee000    3f0000 8100071  /lib/libc-2.12.so
efbc2cd4    3f0000    3f1000 8100073  /lib/libc-2.12.so
efbc243c    3f1000    3f4000 100073
efbc28ec    3f6000    3f9000 8000075  /lib/libdl-2.12.so
efbc2568    3f9000    3fa000 8100071  /lib/libdl-2.12.so
efbc2f2c    3fa000    3fb000 8100073  /lib/libdl-2.12.so
f26af888    7e6000    7fc000 8000075  /lib/libtinfo.so.5.7
f26aff2c    7fc000    7ff000 8100073  /lib/libtinfo.so.5.7
efbc211c    d83000    d8f000 8000075  /lib/libnss_files-2.12.so
efbc2504    d8f000    d90000 8100071  /lib/libnss_files-2.12.so
efbc2950    d90000    d91000 8100073  /lib/libnss_files-2.12.so
f26afe00    edc000    edd000 4040075
f1bb0a18   8047000   8118000 8001875  /bin/bash
f1bb01e4   8118000   811d000 8101873  /bin/bash
f1bb0c70   811d000   8122000 100073
f26afae0   9fd9000   9ffa000 100073
<span class="strong"><strong>... several lines omitted ...</strong></span></pre></div></div><p class="simpara">使用<code class="literal">vm <span class="emphasis"><em>&lt;pid&gt;</em></span></code>显示有关单个特定进程的信息，或使用<code class="literal">help vm</code>获取有关<code class="literal">vm</code>用法的更多信息。
							</p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="displaying_open_files"></a>显示打开的文件</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">要显示有关打开文件的信息，请使用<code class="literal">files</code>命令。
							</p><div class="example"><a id="idm139880548069552"></a><p class="title"><strong>例5.7。显示有关当前上下文的打开文件的信息</strong></p><div class="example-contents"><pre class="screen">crash&gt; <code class="literal">files</code>
PID: 5591   TASK: f196d560  CPU: 2   COMMAND: "bash"
ROOT: /    CWD: /root
 FD    FILE     DENTRY    INODE    TYPE  PATH
  0  f734f640  eedc2c6c  eecd6048  CHR   /pts/0
  1  efade5c0  eee14090  f00431d4  REG   /proc/sysrq-trigger
  2  f734f640  eedc2c6c  eecd6048  CHR   /pts/0
 10  f734f640  eedc2c6c  eecd6048  CHR   /pts/0
255  f734f640  eedc2c6c  eecd6048  CHR   /pts/0</pre></div></div><p class="simpara">使用<code class="literal">files <span class="emphasis"><em>&lt;pid&gt;</em></span></code>显示仅由一个选定进程打开的文件，或使用<code class="literal">help files</code>获取有关<code class="literal">files</code>用法的更多信息。
							</p></li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="using-kernel-oops-analyzer_analyzing-a-core-dump"></a>使用Kernel Oops Analyzer</h2></div></div></div><p>内核Oops Analyzer是一种通过将oops消息与知识库中的已知问题进行比较来分析故障转储的工具。
				</p><h4><a id="prerequisites_17"></a>先决条件</h4><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">按照<span class="emphasis"><em><span class="citetitle"><a class="link" href="https://access.redhat.com/labs/kerneloopsanalyzer/#instruction">Red Hat Labs中的</a></span></em></span>说明，保护oops消息以提供内核Oops Analyzer。
						</li></ul></div><h4><a id="procedure_20"></a>程序</h4><div class="orderedlist"><ol class="orderedlist"><li class="listitem">按照<span class="emphasis"><em><span class="citetitle"><a class="link" href="https://access.redhat.com/labs/kerneloopsanalyzer/">Kernel Oops Analyzer</a></span></em></span>链接访问该工具。
						</li><li class="listitem"><p class="simpara">单击“ <span class="guibutton">浏览”</span>按钮<span class="guibutton">浏览</span> oops消息。
						</p><div class="informalfigure"><div class="mediaobject"><img src="images/kdump-kernel_dump_analyzing-core_dump.png" alt="内核oops分析器"></div></div></li><li class="listitem">单击<span class="guibutton">DETECT</span>按钮，根据<code class="literal">makedumpfile</code>中的信息与已知解决方案比较oops消息。
						</li></ol></div><h2><a id="additional_resources_24"></a>其他资源</h2><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
							<span class="strong"><strong>kdump.conf</strong></span> （5） - <code class="literal">/etc/kdump.conf</code>配置文件的手册页，其中包含可用选项的完整文档。
						</li><li class="listitem">
							<span class="strong"><strong>zipl.conf</strong></span> （5） - <code class="literal">/etc/zipl.conf</code>配置文件的手册页。
						</li><li class="listitem">
							<span class="strong"><strong>zipl</strong></span> （8） -  IBM System z的<code class="literal">zipl</code>引导加载程序实用程序的手册页。
						</li><li class="listitem">
							<span class="strong"><strong>makedumpfile</strong></span> （8） - <code class="literal">makedumpfile</code>核心收集器的手册页。
						</li><li class="listitem">
							<span class="strong"><strong>kexec</strong></span> （8） - <span class="strong"><strong><span class="application">kexec</span></strong></span>的手册页。
						</li><li class="listitem">
							<span class="strong"><strong>crash</strong></span> （8） - <span class="strong"><strong><span class="application">崩溃</span></strong></span>实用程序的手册页。
						</li><li class="listitem">
							<code class="literal">/usr/share/doc/kexec-tools/kexec-kdump-howto.txt</code> - <code class="literal">kdump</code>和<span class="strong"><strong><span class="application">kexec</span></strong></span>安装和使用的概述。
						</li><li class="listitem">有关<code class="literal">kexec</code>和<code class="literal">kdump</code>配置的更多信息，请参阅<span class="emphasis"><em><span class="citetitle"><a class="link" href="https://access.redhat.com/site/solutions/6038">Red Hat知识库文章</a></span></em></span> 。
						</li><li class="listitem">有关受支持的<code class="literal">kdump</code>目标的更多信息，请参阅<span class="emphasis"><em><span class="citetitle"><a class="link" href="https://access.redhat.com/site/solutions/223773">Red Hat知识库文章</a></span></em></span> 。
						</li></ul></div></div></div></div></body></html>