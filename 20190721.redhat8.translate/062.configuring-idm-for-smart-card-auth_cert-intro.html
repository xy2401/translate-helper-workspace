<html  xmlns="http://www.w3.org/1999/xhtml"><head><title>Chapter 9. 配置身份管理以进行智能卡身份验证</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"><meta name="generator" content="DocBook XSL-NS Stylesheets V1.78.1"></head><body ><div class="chapter"><div class="titlepage"><div><div><h1 class="title">Chapter 9. 配置身份管理以进行智能卡身份验证</h1></div></div></div><p>基于智能卡的身份验证是密码的替代方法。用户凭证以私钥和证书的形式存储在智能卡上，并使用特殊的软件和硬件来访问它们。用户将智能卡放入读卡器或USB插座，并提供智能卡的PIN码，而不是提供他的登录名和密码。
		</p><p>身份管理（IdM）支持智能卡身份验证：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">IdM证书颁发机构颁发的用户证书</li><li class="listitem">由外部证书颁发机构颁发的用户证书</li></ul></div><p>此用户案例显示了如何在IdM中为两种类型的证书设置智能卡身份验证。在用户素材中， <code class="literal">smartcard_ca.pem</code> CA证书是包含受信任外部证书颁发机构证书的文件。
		</p><p>用户素材包含以下模块：</p><p>
			<a class="xref" href="configuring-idm-for-smart-card-auth_cert-intro.html#conf-idm-server-for-smart-card-auth_configuring-idm-for-smart-card-auth" title="配置IdM服务器以进行智能卡身份验证">“为智能卡身份验证配置IdM服务器”一节</a>
		</p><p>
			<a class="xref" href="configuring-idm-for-smart-card-auth_cert-intro.html#conf-idm-client-for-smart-card-auth_configuring-idm-for-smart-card-auth" title="配置IdM客户端以进行智能卡身份验证">“为智能卡身份验证配置IdM客户端”一节</a>
		</p><p>
			<a class="xref" href="configuring-idm-for-smart-card-auth_cert-intro.html#add-cert-idm-user_configuring-idm-for-smart-card-auth" title="将证书添加到IdM中的用户条目">“将标识添加到IdM中的用户条目”一节</a>
		</p><p>
			<a class="xref" href="configuring-idm-for-smart-card-auth_cert-intro.html#proc-conf-browser-for-s-c" title="配置浏览器以进行智能卡身份验证">“为智能卡身份验证配置浏览器”一节</a>
		</p><p>
			<a class="xref" href="configuring-idm-for-smart-card-auth_cert-intro.html#logging-in-to-idm-with-smart-cards_configuring-idm-for-smart-card-auth" title="使用智能卡登录IdM">“使用智能卡登录IdM”一节</a>
		</p><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="conf-idm-server-for-smart-card-auth_configuring-idm-for-smart-card-auth"></a>配置IdM服务器以进行智能卡身份验证</h1></div></div></div><p>如果要为其证书已由<code class="literal">EXAMPLE.ORG</code>域的证书颁发机构颁发的用户启用智能卡身份验证，其LDAP可分辨名称（DN）为<code class="literal">CN=Certificate Authority,DC=EXAMPLE,DC=COM</code> ，则需要获取权限证书，以便您可以使用配置IdM服务器的脚本运行它。例如，您可以从权威机构颁发证书的网页下载证书。有关详细信息，请参阅<a class="xref" href="dc-web-ui-auth.html#configuring-browser-for-cert-auth_dc-web-ui-auth" title="Configuring a browser to enable certificate authentication">“配置浏览器以启用证书身份验证”一节</a>中<a class="xref" href="dc-web-ui-auth.html#configuring-browser-for-cert-auth_dc-web-ui-auth" title="配置浏览器以启用证书身份验证">的</a>步骤1  -  4a。
			</p><p>要为已由IdM证书颁发机构颁发证书的IdM用户启用智能卡身份验证，请从运行IdM CA的IdM服务器上的<code class="literal">/etc/ipa/ca.crt</code>文件中获取CA证书。
			</p><p>本节介绍如何为智能卡身份验证配置IdM服务器。首先，使用PEM格式的CA证书获取文件，然后运行内置的<code class="literal">ipa-advise</code>脚本。最后，重新加载系统配置。
			</p><h3><a id="prerequisites_12"></a>先决条件</h3><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">您具有IdM服务器的root访问权限。
					</li></ul></div><h3><a id="procedure_21"></a>程序</h3><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p class="simpara">创建一个用于执行配置的目录：</p><pre class="literallayout">[root@server]# <span class="strong"><strong>mkdir ~/SmartCard/</strong></span></pre></li><li class="listitem"><p class="simpara">导航到目录：</p><pre class="literallayout">[root@server]# <span class="strong"><strong>cd ~/SmartCard/</strong></span></pre></li><li class="listitem"><p class="simpara">获取存储在PEM格式的文件中的相关CA证书： <code class="literal">.pem</code> ， <code class="literal">.crt</code>和<code class="literal">.cer</code> 。IdM证书颁发机构证书位于<code class="literal">/etc/ipa/ca.crt</code>文件中。为方便起见，请将证书复制到要进行配置的目录：</p><pre class="literallayout">[root@server SmartCard]# <span class="strong"><strong>cp /etc/ipa/ca.crt ~/SmartCard/</strong></span>
[root@server SmartCard]# <span class="strong"><strong>cp /tmp/smartcard_ca.pem ~/SmartCard/</strong></span></pre></li><li class="listitem"><p class="simpara">（可选）如果使用外部证书颁发机构的证书，请使用<code class="literal">openssl x509</code>实用程序查看<code class="literal">PEM</code>格式的文件内容，以检查<code class="literal">Issuer</code>和<code class="literal">Subject</code>值是否正确：</p><pre class="literallayout">[root@server SmartCard]# <span class="strong"><strong>openssl x509 -noout -text -in smartcard_ca.pem | more</strong></span></pre></li><li class="listitem"><p class="simpara">使用内置的<code class="literal">ipa-advise</code>实用程序使用管理员权限生成配置脚本：</p><pre class="literallayout">[root@server SmartCard]# <span class="strong"><strong>kinit admin</strong></span>
[root@server SmartCard]# <span class="strong"><strong>sudo ipa-advise config-server-for-smart-card-auth &gt; config-server-for-smart-card-auth.sh</strong></span></pre><p class="simpara"><code class="literal">config-server-for-smart-card-auth.sh</code>脚本执行以下操作：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">它配置IdM Apache HTTP服务器。
							</li><li class="listitem">它在密钥分发中心（KDC）上启用Kerberos（PKINIT）中的初始身份验证的公钥加密。
							</li><li class="listitem">它将IdM Web UI配置为接受智能卡授权请求。
							</li></ul></div></li><li class="listitem"><p class="simpara">执行脚本，将包含CA证书的PEM文件添加为参数：</p><pre class="literallayout">[root@server SmartCard]# <span class="strong"><strong>chmod +x config-server-for-smart-card-auth.sh</strong></span>
[root@server SmartCard]# <span class="strong"><strong>./config-server-for-smart-card-auth.sh smartcard_ca.pem ca.crt</strong></span>
Ticket cache:KEYRING:persistent:0:0
Default principal: admin@IDM.EXAMPLE.COM
[...]
Systemwide CA database updated.
The ipa-certupdate command was successful</pre></li><li class="listitem"><p class="simpara">（可选）如果颁发用户证书的证书颁发机构未提供任何联机证书状态协议（OCSP）响应程序，则可能需要禁用OCSP检查以对IdM Web UI进行身份验证：</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p class="simpara">在<code class="literal">SSLOCSPEnable</code>文件中将<code class="literal">off</code>参数设置为<code class="literal">/etc/httpd/conf.d/ssl.conf</code> ：</p><pre class="literallayout"><span class="strong"><strong>SSLOCSPEnable off</strong></span></pre></li><li class="listitem"><p class="simpara">重新启动Apache守护程序（httpd）以使更改立即生效：</p><pre class="literallayout">[root@server SmartCard]# <span class="strong"><strong>sudo systemctl restart httpd</strong></span></pre></li></ol></div><div class="warning" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">警告</h3><p>如果仅使用IdM CA颁发的用户证书，请不要禁用OCSP检查。 OCSP响应者是IdM的一部分。</p></div><p class="simpara">有关如何启用OCSP检查的说明，但如果IdM服务器不包含有关发出用户证书的CA侦听OCSP服务请求的位置的信息，则会阻止用户证书拒绝用户证书，请参阅<a class="link" href="http://httpd.apache.org/docs/trunk/en/mod/mod_ssl.html">Apache mod_ssl配置选项中</a>的<code class="literal">SSLOCSPDefaultResponder</code>指令。
					</p></li></ol></div><p>服务器现在配置为智能卡身份验证。
			</p><div class="note" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">注意</h3><p>要在整个拓扑中启用智能卡身份验证，请在每个IdM服务器上运行该过程。
				</p></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="conf-idm-client-for-smart-card-auth_configuring-idm-for-smart-card-auth"></a>配置IdM客户端以进行智能卡身份验证</h1></div></div></div><p>本节介绍如何为智能卡身份验证配置IdM客户端。需要在使用智能卡进行身份验证时要连接到的每个IdM系统，客户端或服务器上运行该过程。例如，要启用从主机A到主机B的<code class="literal">ssh</code>连接，需要在主机B上运行脚本。</p><p>作为管理员，请运行此过程以使用启用智能卡身份验证</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><code class="literal">ssh</code>协议</li><li class="listitem">控制台登录</li><li class="listitem">Gnome显示管理器（GDM）</li><li class="listitem"><code class="literal">su</code>命令</li></ul></div><p>对IdM Web UI进行身份验证不需要此过程。对IdM Web UI进行身份验证涉及两个主机，这两个主机都不需要是IdM客户端：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">机器 - 可能在IdM域之外 - 运行浏览器</li><li class="listitem">运行<code class="literal">httpd</code>的IdM服务器</li></ul></div><p>以下过程假定您在不是IdM主服务器的IdM客户端上配置智能卡身份验证。因此，您需要两台计算机：用于生成配置脚本的IdM主机和用于运行脚本的IdM客户机。
			</p><h3><a id="prerequisites_13"></a>先决条件</h3><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">您的IdM服务器已配置为智能卡身份验证，如<a class="xref" href="configuring-idm-for-smart-card-auth_cert-intro.html#conf-idm-server-for-smart-card-auth_configuring-idm-for-smart-card-auth" title="Configuring the IdM server for smart card authentication">“为智能卡身份验证配置IdM服务器”一节</a>中<a class="xref" href="configuring-idm-for-smart-card-auth_cert-intro.html#conf-idm-server-for-smart-card-auth_configuring-idm-for-smart-card-auth" title="配置IdM服务器以进行智能卡身份验证">所述</a> 。
					</li><li class="listitem">您具有IdM服务器和IdM客户端的root访问权限。
					</li></ul></div><h3><a id="procedure_22"></a>程序</h3><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p class="simpara">在IdM主服务器上，使用管理员权限使用<code class="literal">ipa-advise</code>生成配置脚本：</p><pre class="literallayout">[root@server SmartCard]# <span class="strong"><strong>kinit admin</strong></span>
[root@server SmartCard]# <span class="strong"><strong>ipa-advise config-client-for-smart-card-auth &gt; config-client-for-smart-card-auth.sh</strong></span></pre><p class="simpara"><code class="literal">config-client-for-smart-card-auth.sh</code>脚本执行以下操作：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">它配置智能卡守护程序。
							</li><li class="listitem">它设置了系统范围的信任存储。
							</li><li class="listitem">它配置系统安全服务守护程序（SSSD）以允许智能卡登录到桌面。
							</li></ul></div></li><li class="listitem"><p class="simpara">从IdM主机，将脚本复制到IdM客户端计算机上您选择的目录：</p><pre class="literallayout">[root@server SmartCard]# <span class="strong"><strong>scp config-client-for-smart-card-auth.sh root<span class="strong"><strong>@</strong></span>client.idm.example.com:/root/SmartCard/</strong></span>
Password:
config-client-for-smart-card-auth.sh        100%   2419       3.5MB/s   00:00</pre></li><li class="listitem"><p class="simpara">在IdM主服务器中，将PEM格式的CA证书文件复制到IdM客户端计算机上与上一步骤中使用的目录相同的方便：</p><pre class="literallayout">[root@server SmartCard]# <span class="strong"><strong>scp {smartcard_ca.pem,ca.crt} root<span class="strong"><strong>@</strong></span>client.idm.example.com:/root/SmartCard/</strong></span>
Password:
smartcard_ca.pem                    100%   1237     9.6KB/s   00:00
ca.crt                              100%   2514    19.6KB/s   00:00</pre></li><li class="listitem"><p class="simpara">在客户端计算机上，执行脚本，将包含CA证书的PEM文件添加为参数：</p><pre class="literallayout">[root@client SmartCard]# <span class="strong"><strong>kinit admin</strong></span>
[root@client SmartCard]# <span class="strong"><strong>chmod +x config-client-for-smart-card-auth.sh</strong></span>
[root@client SmartCard]# <span class="strong"><strong>./config-client-for-smart-card-auth.sh smartcard_ca.pem ca.crt</strong></span>
Ticket cache:KEYRING:persistent:0:0
Default principal: admin@IDM.EXAMPLE.COM
[...]
Systemwide CA database updated.
The ipa-certupdate command was successful</pre></li></ol></div><p>客户端现在配置为智能卡身份验证。
			</p></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="add-cert-idm-user_configuring-idm-for-smart-card-auth"></a>将证书添加到IdM中的用户条目</h1></div></div></div><p>此过程描述如何将外部证书添加到IdM中的用户条目。</p><p>也可以将证书映射数据上载到IdM中的用户条目，而不是上载整个证书。包含完整证书或证书映射数据的用户条目可以与相应的证书映射规则结合使用，以便于为系统管理员配置智能卡身份验证。有关详细信息，请参阅<a class="xref" href="conf-certmap-idm.html" title="Chapter 9. 在Identity Management中配置证书映射规则">第11章， <em>在Identity Management中配置证书映射规则</em></a> 。
			</p><div class="note" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">注意</h3><p>如果用户的证书已由IdM证书颁发机构颁发，则证书已存储在用户条目中，您可以跳过此部分。
				</p></div><h3><a id="prerequisites_14"></a>先决条件</h3><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">您拥有要添加到用户条目的证书。
					</li></ul></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="proc-add-cert-idm-user-webui"></a>将证书添加到IdM Web UI中的用户条目</h2></div></div></div><div class="orderedlist"><ol class="orderedlist"><li class="listitem">如果要将证书添加到其他用户，请以管理员身份登录IdM Web UI。要将证书添加到您自己的配置文件，您不需要管理员的凭据。
						</li><li class="listitem">导航到<code class="literal">Users</code> → <code class="literal">Active users</code> → <code class="literal">sc_user</code> 。
						</li><li class="listitem">找到“ <code class="literal">Certificate</code>选项并单击“ <code class="literal">Add</code> 。
						</li><li class="listitem"><p class="simpara">在<code class="literal">Command-Line Interface</code> ，使用<code class="literal">cat</code>实用程序或文本编辑器显示证书：</p><pre class="literallayout">[user@client SmartCard]$ <span class="strong"><strong>cat sc_user_certificate.pem</strong></span></pre></li><li class="listitem">将证书从CLI复制并粘贴到Web UI中打开的窗口中。</li><li class="listitem"><p class="simpara">单击<code class="literal">Add</code> 。
						</p><div class="figure"><a id="configuring-idm-for-smart-card-auth-new-certmaprule-add"></a><p class="title"><strong>图9.1。在IdM Web UI中添加新证书</strong></p><div class="figure-contents"><div class="mediaobject"><img src="images/idm-add-cert.png" alt="idm添加证书"></div></div></div></li></ol></div><p><code class="literal">sc_user</code>条目现在包含外部证书。
				</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="proc-add-cert-idm-user-cli"></a>将证书添加到IdM CLI中的用户条目</h2></div></div></div><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p class="simpara">如果要将证书添加到其他用户，请以管理员身份登录IdM Web UI：</p><pre class="literallayout">[user@client SmartCard]$ <span class="strong"><strong>kinit admin</strong></span></pre><p class="simpara">要将证书添加到您自己的配置文件，您不需要管理员的凭据：</p><pre class="literallayout">[user@client SmartCard]$ <span class="strong"><strong>kinit sc_user</strong></span></pre></li><li class="listitem"><p class="simpara">创建一个包含证书的环境变量，其中删除了页眉和页脚并连接成一行，这是<code class="literal">ipa user-add-cert</code>命令所期望的格式：</p><pre class="literallayout">[user@client SmartCard]$ <span class="strong"><strong>export CERT=`openssl x509 -outform der -in sc_user_certificate.pem | base64 -w0 -`</strong></span></pre></li><li class="listitem"><p class="simpara">使用<code class="literal">ipa user-add-cert</code>命令将证书添加到sc_user的配置文件中：</p><pre class="literallayout">[user@client SmartCard]$ <span class="strong"><strong>ipa user-add-cert sc_user --certificate=$CERT</strong></span></pre></li></ol></div><p><code class="literal">sc_user</code>条目现在包含外部证书。
				</p></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="proc-conf-browser-for-s-c"></a>配置浏览器以进行智能卡身份验证</h1></div></div></div><p>本模块介绍如何配置Firefox浏览器进行智能卡身份验证。
			</p><p>Identity Management支持以下浏览器连接到Web UI：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">Mozilla Firefox 38及更高版本</li><li class="listitem">谷歌Chrome 46及更高版本</li></ul></div><p>以下过程说明如何配置Mozilla Firefox 57.0.1浏览器。
			</p><h3><a id="prerequisites_15"></a>先决条件</h3><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">您的IdM服务器已配置为智能卡身份验证，如<a class="xref" href="configuring-idm-for-smart-card-auth_cert-intro.html#conf-idm-server-for-smart-card-auth_configuring-idm-for-smart-card-auth" title="Configuring the IdM server for smart card authentication">“为智能卡身份验证配置IdM服务器”一节</a>中<a class="xref" href="configuring-idm-for-smart-card-auth_cert-intro.html#conf-idm-server-for-smart-card-auth_configuring-idm-for-smart-card-auth" title="配置IdM服务器以进行智能卡身份验证">所述</a> 。
					</li><li class="listitem">智能卡插入主机的USB插槽中，您要在其中配置浏览器以进行智能卡身份验证。
					</li><li class="listitem">在智能卡上，存储了IdM用户的证书和私钥。有关将证书和密钥导入智能卡的详细信息，请参阅智能卡供应商的文档。
					</li><li class="listitem">IdM中的用户条目包含存储在智能卡上的证书。有关将证书上载到IdM用户的用户条目的详细信息，请参阅<a class="xref" href="configuring-idm-for-smart-card-auth_cert-intro.html#add-cert-idm-user_configuring-idm-for-smart-card-auth" title="将证书添加到IdM中的用户条目">“在IdM中向用户条目添加证书”一节</a> 。
					</li></ul></div><h3><a id="procedure_23"></a>程序</h3><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p class="simpara">打开Firefox，单击“ <code class="literal">Preferences</code> 。
					</p><div class="figure"><a id="configuring-idm-for-smart-card-auth-firefox-preferences"></a><p class="title"><strong>图9.2。Firefox首选项</strong></p><div class="figure-contents"><div class="mediaobject"><img src="images/firefox-preferences.png" alt="firefox偏好"></div></div></div></li><li class="listitem">导航到<code class="literal">Privacy &amp; Security</code> 。
					</li><li class="listitem"><p class="simpara">单击<code class="literal">Security Devices</code> 。
					</p><div class="figure"><a id="configuring-idm-for-smart-card-auth-security-devices"></a><p class="title"><strong>图9.3。安全设备</strong></p><div class="figure-contents"><div class="mediaobject"><img src="images/security-devices.png" alt="安全设备"></div></div></div></li><li class="listitem"><p class="simpara">在新的“ <code class="literal">Device Manager</code>对话窗口中，单击“ <code class="literal">Load</code> 。
					</p><div class="figure"><a id="configuring-idm-for-smart-card-auth-load-module"></a><p class="title"><strong>图9.4。加载安全设备</strong></p><div class="figure-contents"><div class="mediaobject"><img src="images/load-module.png" alt="加载模块"></div></div></div></li><li class="listitem"><p class="simpara">在新的<code class="literal">Load PKCS#11 Device Driver</code>对话窗口中，输入模块名称，例如<code class="literal">OpenSC</code> 。输入模块文件名。OpenSC的模块位于<code class="literal">/usr/lib64/opensc-pkcs11.so</code>文件中。
					</p><div class="figure"><a id="configuring-idm-for-smart-card-auth-pkcs11-module-name"></a><p class="title"><strong>图9.5。输入安全设备信息</strong></p><div class="figure-contents"><div class="mediaobject"><img src="images/pkcs11-module-name.png" alt="pkcs11模块名称"></div></div></div></li><li class="listitem"><p class="simpara">（可选）检查该模块是否可以登录Firefox。
					</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p class="simpara">单击左窗格中的<code class="literal">PIV Card Holder pin (PIV_II)</code> ，然后单击右窗格中的“ <code class="literal">Log In</code> 。
							</p><div class="figure"><a id="configuring-idm-for-smart-card-auth-log-in-pkcs11-module"></a><p class="title"><strong>图9.6。使用安全设备登录</strong></p><div class="figure-contents"><div class="mediaobject"><img src="images/log-in-pkcs11-module.png" alt="登录pkcs11模块"></div></div></div></li><li class="listitem"><p class="simpara">输入智能卡的PIN，然后单击“ <code class="literal">OK</code> 。</p><div class="figure"><a id="configuring-idm-for-smart-card-auth-idm-PIN-dialogue"></a><p class="title"><strong>图9.7。输入智能卡PIN</strong></p><div class="figure-contents"><div class="mediaobject"><img src="images/idm-PIN-dialogue.png" alt="idm PIN对话"></div></div></div><p class="simpara">如果成功，您将看到“ <code class="literal">Log In</code>按钮变灰。
							</p><div class="figure"><a id="configuring-idm-for-smart-card-auth-pkcs11-module-loaded"></a><p class="title"><strong>图9.8。已加载安全设备模块</strong></p><div class="figure-contents"><div class="mediaobject"><img src="images/pkcs11-module-loaded.png" alt="pkcs11模块已加载"></div></div></div></li></ol></div></li><li class="listitem">单击<code class="literal">OK</code> 。</li></ol></div><p>现在，您的浏览器已准备好使用加载的安全设备进行智能卡身份验
			</p></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="logging-in-to-idm-with-smart-cards_configuring-idm-for-smart-card-auth"></a>使用智能卡登录IdM</h1></div></div></div><p>本节提供有关使用智能卡登录IdM Web UI的信息。</p><h3><a id="prerequisites_16"></a>先决条件</h3><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">Web浏览器配置为使用智能卡身份验证。
					</li><li class="listitem">IdM服务器已配置为智能卡身份验证。
					</li><li class="listitem">IdM服务器知道智能卡上安装的证书。
					</li><li class="listitem">您需要PIN才能访问证书。
					</li><li class="listitem">智能卡已插入阅读器。
					</li></ul></div><h3><a id="procedure_24"></a>程序</h3><div class="orderedlist"><ol class="orderedlist"><li class="listitem">在浏览器中打开IdM Web UI。
					</li><li class="listitem"><p class="simpara">单击“ <span class="strong"><strong>使用证书登录”</strong></span> 。
					</p><p class="simpara">
						<span class="inlinemediaobject"><img src="images/ipa-login-smart-card.png" alt="ipa登录智能卡"></span>

					</p></li><li class="listitem"><p class="simpara">如果“ <span class="strong"><strong>密码必需”</strong></span>对话框打开，请添加PIN以解锁证书，然后单击“ <span class="strong"><strong>确定”</strong></span>按钮。
					</p><p class="simpara">将打开“ <span class="strong"><strong>用户标识请求”</strong></span>对话框。
					</p><p class="simpara">如果智能卡包含多个证书，请在下面的下拉列表中<span class="strong"><strong>选择</strong></span>要用于身份验证<span class="strong"><strong>的证书选择要作为标识提供的证书</strong></span> 。
					</p></li><li class="listitem">单击“ <span class="strong"><strong>确定”</strong></span>按钮。
					</li></ol></div><p>现在，您已成功登录到IdM Web UI。</p><p>
				<span class="inlinemediaobject"><img src="images/web_ui_users.png" alt="web ui用户"></span>

			</p></div></div></body></html>