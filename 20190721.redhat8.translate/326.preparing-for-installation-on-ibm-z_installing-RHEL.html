<html  xmlns="http://www.w3.org/1999/xhtml"><head><title>Chapter 9. 准备在IBM Z上安装</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"><meta name="generator" content="DocBook XSL-NS Stylesheets V1.78.1"></head><body ><div class="chapter"><div class="titlepage"><div><div><h1 class="title">Chapter 9. 准备在IBM Z上安装</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="overview-of-the-ibm-z-installation-process_preparing-for-installation-on-ibm-z"></a> IBM Z安装过程概述</h1></div></div></div><p>您可以以交互方式或无人参与模式在IBM Z上安装Red Hat Enterprise Linux。IBM Z上的安装与其他体系结构上的安装不同，因为它通常通过网络而不是本地介质执行。安装包括两个阶段：</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p class="simpara">
							<span class="strong"><strong>启动安装</strong></span>
						</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">连接大型机</li><li class="listitem">从包含安装程序的介质执行初始程序加载（IPL）或引导。
								</li></ul></div></li><li class="listitem"><p class="simpara">
							<span class="strong"><strong>蟒蛇</strong></span>
						</p><p class="simpara">使用<span class="strong"><strong><span class="application">Anaconda</span></strong></span>安装程序：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">配置网络</li><li class="listitem">指定语言支持</li><li class="listitem">指定安装源</li><li class="listitem">指定要安装的软件包</li><li class="listitem">执行其余的安装</li></ul></div></li></ol></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="planning-for-installation-on-ibm-z_preparing-for-installation-on-ibm-z"></a>规划在IBM Z上安装</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="pre_installation"></a>预安装</h2></div></div></div><p>Red Hat Enterprise Linux 8在z13或更高版本的IBM大型机系统上运行。
					</p><p>安装过程假定您熟悉IBM Z并且可以设置<span class="emphasis"><em>逻辑分区</em></span> （LPAR）和z / VM guest虚拟机。
					</p><p>为了在IBM Z上安装Red Hat Enterprise Linux，Red Hat支持直接访问存储设备（DASD）和光纤通道协议（FCP）存储设备。
					</p><p>
						<span class="strong"><strong>安装前的决定</strong></span>
					</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">操作系统是在LPAR上运行还是在z / VM客户机操作系统上运行。
							</li><li class="listitem">如果需要交换空间，以及多少。虽然建议为z / VM guest虚拟机分配足够的内存并让z / VM进行必要的交换，但有时需要很少量的RAM需要预测。应根据具体情况审查此类情况。
							</li><li class="listitem"><p class="simpara">网络配置。适用于IBM Z的Red Hat Enterprise Linux 8支持以下网络设备：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">真实和虚拟<span class="emphasis"><em>开放系统适配器</em></span> （OSA）</li><li class="listitem">真实和虚拟的HiperSockets</li><li class="listitem">
										用于实际OSA的<span class="emphasis"><em>LAN信道站</em></span> （LCS）</li></ul></div></li></ul></div><p>
						<span class="strong"><strong>磁盘空间</strong></span>
					</p><p>您需要在DASD或SCSI磁盘上计算和分配足够的磁盘空间。
					</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">服务器安装至少需要10 GB，如果要安装所有软件包，则需要20 GB。
							</li><li class="listitem">任何应用程序数据也需要磁盘空间。安装后，您可以添加或删除更多DASD或SCSI磁盘分区。
							</li><li class="listitem">新安装的Red Hat Enterprise Linux系统（Linux实例）使用的磁盘空间必须与系统上安装的其他操作系统使用的磁盘空间分开。
							</li></ul></div><p>
						<span class="strong"><strong>内存</strong></span>
					</p><p>您必须确保有足够的RAM可用。
					</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">Linux实例建议使用1 GB。通过一些调整，一个实例可能只需512 MB RAM就可以运行。</li><li class="listitem">如果从NFS安装，1 GB就足够了。但是，如果从HTTP或FTP源安装，则需要1.5 GB。
							</li><li class="listitem">只有从NFS安装时，才能在文本模式下以512 MB运行。</li></ul></div><div class="note" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">注意</h3><p>使用<span class="strong"><strong><span class="application">SWAPGEN</span></strong></span>实用程序初始化固定块体系结构（FBA）DASD上的交换空间时，必须使用<code class="literal">FBAPART</code>选项。
						</p></div><h5><a id="additional_resources_16"></a>其他资源</h5><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">有关IBM Z的其他信息，请<a class="link" href="http://www.ibm.com/systems/z">访问http://www.ibm.com/systems/z</a> 。</li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="installing-under-z-vm_preparing-for-installation-on-ibm-z"></a>在z / VM下安装</h1></div></div></div><p>使用<span class="strong"><strong><span class="application">x3270</span></strong></span>或<span class="strong"><strong><span class="application">c3270</span></strong></span>终端仿真程序，从其他Linux系统登录z / VM，或使用IBM Z硬件管理控制台（HMC）上的IBM 3270终端仿真程序。如果您运行的是Microsoft Windows操作系统，则可以使用多种选项，并可通过Internet搜索找到。还存在<span class="strong"><strong><span class="application">一个</span></strong></span>名为<span class="strong"><strong><span class="application">wc3270的</span></strong></span>免费本机Windows端口<span class="strong"><strong><span class="application">c3270</span></strong></span> 。
				</p><p>在z / VM下安装时，您可以从以下位置启动：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">z / VM虚拟阅读器</li><li class="listitem">使用<span class="strong"><strong><span class="application">zipl</span></strong></span>引导加载程序准备的DASD或FCP连接的SCSI设备</li><li class="listitem"><p class="simpara">一个FCP连接的SCSI DVD驱动器</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem">登录为Linux安装选择的z / VM guest虚拟机。
								</li></ol></div></li></ul></div><div class="note" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">注意</h3><p>如果您的3270连接中断且由于上一个会话仍处于活动状态而无法再次登录，则可以在z / VM登录屏幕上输入以下命令，将旧会话替换为新会话：</p><pre class="literallayout"><code class="literal">logon <span class="emphasis"><em>user</em></span> here</code></pre><p>将<span class="emphasis"><em>用户</em></span>替换为z / VM guest虚拟机的名称。根据是否使用外部安全性管理器（例如RACF），登录命令可能会有所不同。
					</p></div><p>如果您尚未在guest虚拟机中运行<span class="strong"><strong><span class="application">CMS</span></strong></span> （z / VM附带的单用户操作系统），请输入以下命令立即启动它：</p><pre class="literallayout"><code class="literal">cp ipl cms</code></pre><p>请确保不要将CMS磁盘（例如A盘（通常为设备号0191））用作安装目标。要找出CMS正在使用哪些磁盘，请使用以下查询：</p><pre class="literallayout"><code class="literal">query disk</code></pre><p>您可以使用以下CP（z / VM控制程序，即z / VM虚拟机监控程序）查询命令来查找z / VM来宾虚拟机的设备配置：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">查询可用的主内存，在IBM Z术语中称为<span class="emphasis"><em>存储</em></span> 。您的访客应至少有1 GB的主内存。
						</p><pre class="literallayout"><code class="literal">cp query virtual storage</code></pre></li><li class="listitem"><p class="simpara">按类型查询可用的网络设备：</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">OSA</code></span></dt><dd>OSA  -  CHPID类型OSD，实时或虚拟（VSWITCH或GuestLAN），均为QDIO模式</dd><dt><span class="term"><code class="literal">恒指</code></span></dt><dd>HiperSockets  -  CHPID类型IQD，真实或虚拟（GuestLAN类型Hipers）</dd><dt><span class="term"><code class="literal">LCS</code></span></dt><dd><p class="simpara">LCS  -  CHPID类型OSE</p><p class="simpara">例如，要查询上面提到的所有网络设备类型，请运行：</p><pre class="literallayout"><code class="literal">cp query virtual osa</code></pre></dd></dl></div></li><li class="listitem"><p class="simpara">查询可用的DASD。只有那些标记为读写模式的<code class="literal">RW</code>才能用作安装目标：</p><pre class="literallayout"><code class="literal">cp query virtual dasd</code></pre></li><li class="listitem"><p class="simpara">查询可用的FCP频道：</p><pre class="literallayout"><code class="literal">cp query virtual fcp</code></pre></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="using-parameter-and-configuration-files-on-ibm-z_preparing-for-installation-on-ibm-z"></a>在IBM Z上使用参数和配置文件</h1></div></div></div><p>IBM Z体系结构可以使用自定义参数文件将引导参数传递给内核和安装程序。
				</p><p>如果要执行以下操作，则需要更改参数文件：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">使用Kickstart无人值守安装。
						</li><li class="listitem">选择无法通过安装程序的交互式用户界面访问的非默认安装设置，例如救援模式。
						</li></ul></div><p>参数文件可用于在安装程序（ <span class="strong"><strong><span class="application">Anaconda</span></strong></span> ）启动之前以非交互方式设置网络。
				</p><p>内核参数文件限制为895个字符加上行尾字符。参数文件可以是可变或固定的记录格式。固定记录格式通过将每行填充到记录长度来增加文件大小。如果您遇到安装程序无法识别LPAR环境中所有指定参数的问题，您可以尝试将所有参数放在一行中，或者使用空格字符开始和结束每一行。
				</p><p>参数文件包含内核参数（如<code class="literal">ro</code> ）和安装过程的参数，例如<code class="literal">vncpassword=test</code>或<code class="literal">vnc</code> 。
				</p></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="required-configuration-file-parameters-on-ibm-z_preparing-for-installation-on-ibm-z"></a> IBM Z上必需的配置文件参数</h1></div></div></div><p>需要几个参数，并且必须包含在参数文件中。这些参数也在安装DVD的目录<code class="literal">images/</code>文件<code class="literal">generic.prm</code>中提供。</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">
							<code class="literal">RO</code>
						</p><p class="simpara">以只读方式挂载根文件系统（RAM磁盘）。
						</p></li><li class="listitem"><p class="simpara">
							<code class="literal">ramdisk_size = <span class="emphasis"><em>size</em></span></code>
						</p><p class="simpara">修改为RAM磁盘保留的内存大小，以确保Red Hat Enterprise Linux安装程序适合其中。例如： <code class="literal">ramdisk_size=40000</code> 。
						</p></li></ul></div><p><code class="literal">generic.prm</code>文件还包含附加参数<code class="literal">cio_ignore=all,!condev</code> 。此设置可加速具有许多设备的系统上的引导和设备检测。安装程序透明地处理被忽略设备的激活。
				</p><div class="important" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">重要</h3><p>为避免因未在整个堆栈中实现<code class="literal">cio_ignore</code>支持而导致的安装问题，请将<code class="literal">cio_ignore=</code>参数值调整到系统或从用于引导（IPL）安装程序的参数文件中完全删除参数。
					</p></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="ibm-zvm-configuration-file_preparing-for-installation-on-ibm-z"></a> IBM Z / VM配置文件</h1></div></div></div><p>在z / VM下，您可以在CMS格式的磁盘上使用配置文件。CMS配置文件的目的是通过将参数配置初始网络设置，DASD和FCP规范的参数移出参数文件来节省参数文件中的空间。
				</p><p>CMS配置文件的每一行都包含单个变量及其关联值，采用以下shell样式语法： <code class="literal"><span class="emphasis"><em>variable</em></span> = <span class="emphasis"><em>value</em></span></code> 。
				</p><p>您还必须将<code class="literal">CMSDASD</code>和<code class="literal">CMSCONFFILE</code>参数添加到参数文件中。这些参数将安装程序指向配置文件：</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">CMSDASD = <span class="emphasis"><em>cmsdasd_address</em></span></code></span></dt><dd><p class="simpara">其中<span class="emphasis"><em>cmsdasd_address</em></span>是包含配置文件的CMS格式磁盘的设备编号。这通常是CMS用户的<code class="literal">A</code>盘。
							</p><p class="simpara">例如： <code class="literal">CMSDASD=191</code>
							</p></dd><dt><span class="term"><code class="literal">CMSCONFFILE = <span class="emphasis"><em>configuration_file</em></span></code></span></dt><dd><p class="simpara">其中<span class="emphasis"><em>configuration_file</em></span>是配置文件的名称。<span class="strong"><strong>必须以小写形式指定此值。</strong></span> 它以Linux文件名格式指定： <code class="literal"><span class="emphasis"><em>CMS_file_name</em></span> .<span class="emphasis"><em>CMS_file_type</em></span></code> 。
							</p><p class="simpara">CMS文件<code class="literal">REDHAT CONF</code>指定为<code class="literal">redhat.conf</code> 。CMS文件名和文件类型均可以是遵循CMS约定的一到八个字符。
							</p><p class="simpara">例如： <code class="literal">CMSCONFFILE=redhat.conf</code>
							</p></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="installation-network-parameters-on-ibm-z_preparing-for-installation-on-ibm-z"></a> IBM Z上的安装网络参数</h1></div></div></div><p>这些参数可用于自动设置初步网络，并可在CMS配置文件中定义。这些参数是唯一也可以在CMS配置文件中使用的参数。必须在参数文件中指定其他部分中的所有其他参数。
				</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">NETTYPE =“ <span class="emphasis"><em>类型</em></span> ”</code></span></dt><dd><p class="simpara">其中<span class="emphasis"><em>type</em></span>必须是以下之一： <code class="literal">qeth</code> ， <code class="literal">lcs</code>或<code class="literal">ctc</code> 。默认为<code class="literal">qeth</code> 。
							</p><p class="simpara">选择<code class="literal">lcs</code> ：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">OSA-2以太网/令牌环</li><li class="listitem">非QDIO模式下的OSA-Express快速以太网</li><li class="listitem">非QDIO模式下的OSA-Express高速令牌环</li><li class="listitem"><p class="simpara">非QDIO模式下的千兆以太网</p><p class="simpara">选择<code class="literal">qeth</code> ：</p></li><li class="listitem">OSA-Express快速以太网</li><li class="listitem">千兆以太网（包括1000Base-T）</li><li class="listitem">高速令牌环</li><li class="listitem">的HiperSockets</li><li class="listitem">ATM（运行以太网LAN仿真）</li></ul></div></dd><dt><span class="term"><code class="literal">SUBCHANNELS =“ <span class="emphasis"><em>device_bus_IDs</em></span> ”</code></span></dt><dd><p class="simpara">其中<span class="emphasis"><em>device_bus_IDs</em></span>是两个或三个设备总线ID的逗号分隔列表。必须以小写形式指定ID。
							</p><p class="simpara">为各种网络接口提供所需的设备总线ID：</p><pre class="literallayout">qeth: SUBCHANNELS="<span class="emphasis"><em>read_device_bus_id</em></span>,<span class="emphasis"><em>write_device_bus_id</em></span>,<span class="emphasis"><em>data_device_bus_id</em></span>"
lcs or ctc: SUBCHANNELS="<span class="emphasis"><em>read_device_bus_id</em></span>,<span class="emphasis"><em>write_device_bus_id</em></span>"</pre><p class="simpara">例如（一个示例qeth SUBCHANNEL语句）：</p><pre class="literallayout">SUBCHANNELS="0.0.f5f0,0.0.f5f1,0.0.f5f2"</pre></dd><dt><span class="term"><code class="literal">PORTNAME=" <span class="emphasis"><em>osa_portname</em></span> "</code> <code class="literal">PORTNAME=" <span class="emphasis"><em>lcs_portnumber</em></span> "</code></span></dt><dd><p class="simpara">此变量支持在qdio模式或非qdio模式下运行的OSA设备。
							</p><p class="simpara">使用qdio模式（ <code class="literal">NETTYPE="qeth"</code> ）时， <span class="emphasis"><em>osa_portname</em></span>是在qeth模式下操作时在OSA设备上指定的端口名。
							</p><p class="simpara">使用非qdio模式（ <code class="literal">NETTYPE="lcs"</code> ）时， <span class="emphasis"><em>lcs_portnumber</em></span>用于将相对端口号作为十进制整数传递，范围为0到15。
							</p></dd><dt><span class="term"><code class="literal">PORTNO =“ <span class="emphasis"><em>portnumber</em></span> ”</code></span></dt><dd>您可以向CMS配置文件添加<code class="literal">PORTNO="0"</code> （使用端口0）或<code class="literal">PORTNO="1"</code> （使用每个CHPID有两个端口的OSA功能的端口1），以避免被提示输入该模式。
							</dd><dt><span class="term"><code class="literal">LAYER2 =“ <span class="emphasis"><em>价值</em></span> ”</code></span></dt><dd><p class="simpara">其中<span class="emphasis"><em>值</em></span>可以是<code class="literal">0</code>或<code class="literal">1</code> 。
							</p><p class="simpara">使用<code class="literal">LAYER2="0"</code>以第3层模式（ <code class="literal">NETTYPE="qeth"</code> ）操作OSA或HiperSockets设备。对于第2层模式，使用<code class="literal">LAYER2="1"</code> 。对于z / VM下的虚拟网络设备，此设置必须与设备所连接的GuestLAN或VSWITCH的定义相匹配。
							</p><p class="simpara">要使用在第2层（数据链路层或其MAC子层）（如DHCP）上运行的网络服务，第2层模式是一个不错的选择。
							</p><p class="simpara">OSA设备的qeth设备驱动程序默认值现在是第2层模式。要继续使用先前的第3层模式默认值，请明确设置<code class="literal">LAYER2="0"</code> 。
							</p></dd><dt><span class="term"><code class="literal">VSWITCH =“ <span class="emphasis"><em>价值</em></span> ”</code></span></dt><dd><p class="simpara">其中<span class="emphasis"><em>值</em></span>可以是<code class="literal">0</code>或<code class="literal">1</code> 。
							</p><p class="simpara">连接到z / VM VSWITCH或GuestLAN时指定<code class="literal">VSWITCH="1"</code> ，或者在使用直接连接的真实OSA或直接连接的真实HiperSockets时指定<code class="literal">VSWITCH="1"</code> <code class="literal">VSWITCH="0"</code> （或根本没有）。
							</p></dd><dt><span class="term"><code class="literal">MACADDR =“ <span class="emphasis"><em>MAC_address</em></span> ”</code></span></dt><dd><p class="simpara">如果指定<code class="literal">LAYER2="1"</code>且<code class="literal">VSWITCH="0"</code> ，则可以选择使用此参数指定MAC地址。Linux需要六个冒号分隔的八位字节作为成对的小写十六进制数字 - 例如， <code class="literal">MACADDR=62:a3:18:e7:bc:5f</code> 。请注意，这与z / VM使用的表示法不同。</p><p class="simpara">如果指定<code class="literal">LAYER2="1"</code>且<code class="literal">VSWITCH="1"</code> ，则不能指定<code class="literal">MACADDR</code> ，因为z / VM在第2层模式下为虚拟网络设备分配唯一的MAC地址。
							</p></dd><dt><span class="term"><code class="literal">CTCPROT =“ <span class="emphasis"><em>价值</em></span> ”</code></span></dt><dd><p class="simpara">其中<span class="emphasis"><em>值</em></span>可以是<code class="literal">0</code> ， <code class="literal">1</code> ，或<code class="literal">3</code> 。
							</p><p class="simpara">指定<code class="literal">NETTYPE="ctc"</code>的CTC协议。默认值为<code class="literal">0</code> 。
							</p></dd><dt><span class="term"><code class="literal">HOSTNAME =“ <span class="emphasis"><em>字符串</em></span> ”</code></span></dt><dd>其中<span class="emphasis"><em>string</em></span>是新安装的Linux实例的主机名。
							</dd><dt><span class="term"><code class="literal">IPADDR =“ <span class="emphasis"><em>IP</em></span> ”</code></span></dt><dd>其中<span class="emphasis"><em>IP</em></span>是新Linux实例的IP地址。
							</dd><dt><span class="term"><code class="literal">NETMASK =“ <span class="emphasis"><em>网络掩码</em></span> ”</code></span></dt><dd><p class="simpara">其中<span class="emphasis"><em>netmask</em></span>是网络掩码。
							</p><p class="simpara">网络掩码支持IPv4 <span class="emphasis"><em>无类域间路由</em></span> （CIDR）中指定的前缀整数（从1到32）的语法。例如，您可以指定<code class="literal">24</code>而不是<code class="literal">255.255.255.0</code> ，或<code class="literal">20</code>而不是<code class="literal">255.255.240.0</code> 。
							</p></dd><dt><span class="term"><code class="literal">GATEWAY =“ <span class="emphasis"><em>gw</em></span> ”</code></span></dt><dd>其中<span class="emphasis"><em>gw</em></span>是此网络设备的网关IP地址。
							</dd><dt><span class="term"><code class="literal">MTU =“ <span class="emphasis"><em>mtu</em></span> ”</code></span></dt><dd>其中<span class="emphasis"><em>mtu</em></span>是此网络设备的<span class="emphasis"><em>最大传输单元</em></span> （MTU）。
							</dd><dt><span class="term"><code class="literal">DNS =“ <span class="emphasis"><em>server1：server2：additional_server_terms：serverN</em></span> ”</code></span></dt><dd><p class="simpara">其中“ <span class="emphasis"><em>server1：server2：additional_server_terms：serverN</em></span> ”是DNS服务器列表，以冒号分隔。例如：</p><pre class="literallayout">DNS="10.1.2.3:10.3.2.1"</pre></dd><dt><span class="term"><code class="literal">SEARCHDNS =“ <span class="emphasis"><em>domain1：domain2：additional_dns_terms：domainN</em></span> ”</code></span></dt><dd><p class="simpara">其中“ <span class="emphasis"><em>domain1：domain2：additional_dns_terms：domainN</em></span> ”是搜索域的列表，以冒号分隔。例如：</p><pre class="literallayout">SEARCHDNS="subdomain.domain:domain"</pre><p class="simpara">如果指定<code class="literal">DNS=</code>参数，则只需指定<code class="literal">SEARCHDNS=</code> 。
							</p></dd><dt><span class="term"><code class="literal">DASD =</code></span></dt><dd><p class="simpara">定义要为安装配置的DASD或DASD范围。
							</p><p class="simpara">安装程序支持以逗号分隔的设备总线ID的列表，或者与该可选属性设备总线ID的范围<code class="literal">ro</code> ， <code class="literal">diag</code> ， <code class="literal">erplog</code> ，和<code class="literal">failfast</code> 。（可选）您可以将设备总线ID缩写为带有前导零的设备编号。任何可选属性都应该用冒号分隔并括在括号中。可选属性遵循设备总线ID或一系列设备总线ID。
							</p><p class="simpara">唯一受支持的全局选项是<code class="literal">autodetect</code> 。这不支持指定不存在的DASD来保留内核设备名称以便以后添加DASD。使用永久DASD设备名称（例如<code class="literal">/dev/disk/by-path/…​</code> ），以以后启用透明除了磁盘。安装程序不支持其他全局选项，如<code class="literal">probeonly</code> ， <code class="literal">nopav</code>或<code class="literal">nofcx</code> 。
							</p><p class="simpara">仅指定需要在系统上安装的DASD。此处指定的所有未格式化的DASD必须在安装程序中稍后确认之后进行格式化。
							</p><p class="simpara">在安装后添加根文件系统或<code class="literal">/boot</code>分区不需要的任何数据DASD。
							</p><p class="simpara">例如：</p><pre class="literallayout">DASD="eb1c,0.0.a000-0.0.a003,eb10-eb14(diag),0.0.ab1c(ro:diag)"</pre><p class="simpara">对于仅限FCP的环境，请从CMS配置文件中删除<code class="literal">DASD=</code>选项，以指示不存在DASD。
							</p><pre class="literallayout">FCP_<span class="emphasis"><em>n</em></span>="<span class="emphasis"><em>device_bus_ID</em></span> <span class="emphasis"><em>WWPN</em></span> <span class="emphasis"><em>FCP_LUN</em></span>"</pre><p class="simpara">哪里：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
										<span class="emphasis"><em>n</em></span>通常是整数值（例如<code class="literal">FCP_1</code>或<code class="literal">FCP_2</code> ），但可以是具有字母或数字字符或下划线的任何字符串。
									</li><li class="listitem">
										<span class="emphasis"><em>device_bus_ID</em></span>指定表示<span class="emphasis"><em>主机总线适配器</em></span> （HBA）（例如FCP设备的设备的总线ID <code class="literal">0.0.fc00</code>用于设备FC00）。
									</li><li class="listitem">
										<span class="emphasis"><em>WWPN</em></span>是用于路由的全球端口名称（通常与多路径一起使用），并且是16位十六进制值（例如<code class="literal">0x50050763050b073d</code> ）。
									</li><li class="listitem"><p class="simpara">
										<span class="emphasis"><em>FCP_LUN</em></span>引用存储逻辑单元标识符，并指定为用右边的零填充的16位十六进制值（例如<code class="literal">0x4020400100000000</code> ）。
									</p><p class="simpara">这些变量可用于具有FCP设备的系统，以激活FCP LUN（如SCSI磁盘）。可以在交互式安装期间或通过Kickstart文件激活其他FCP LUN。示例值类似于以下内容：</p><pre class="literallayout">FCP_1="0.0.fc00 0x50050763050b073d 0x4020400100000000"</pre><div class="important" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">重要</h3><p>FCP参数中使用的每个值（例如<code class="literal">FCP_1</code>或<code class="literal">FCP_2</code> ）都是特定于站点的，通常由FCP存储管理员提供。
										</p></div></li></ul></div></dd></dl></div><p>安装程序会提示您输入参数或配置文件中未指定的任何必需参数（FCP_n除外）。
				</p></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="parameters-for-kickstart-installations-on-ibm-z_preparing-for-installation-on-ibm-z"></a> IBM Z上的kickstart安装的参数</h1></div></div></div><p>可以在参数文件中定义以下参数，但不能在CMS配置文件中使用。
				</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">inst.ks = <span class="emphasis"><em>URL</em></span></code></span></dt><dd>引用Kickstart文件，该文件通常位于网络上，用于在IBM Z上安装Linux。使用完整路径替换<span class="emphasis"><em>URL</em></span> ，包括Kickstart文件的文件名。此参数使用Kickstart激活自动安装。
							</dd><dt><span class="term"><code class="literal">inst.cmdline</code></span></dt><dd>指定此选项后，行模式终端（例如z / VM下的3270或LPAR的操作系统消息）上的输出变为可读，因为安装程序会禁用仅适用于类UNIX控制台的转义终端序列。这需要使用能够回答所有问题的Kickstart文件进行安装，因为安装程序不支持cmdline模式下的交互式用户输入。
							</dd></dl></div><p>在使用<code class="literal">inst.cmdline</code>选项之前，请确保您的Kickstart文件包含所有必需参数。如果缺少必需的命令，则安装将失败。
				</p></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="miscellaneous-parameters-on-ibm-z_preparing-for-installation-on-ibm-z"></a> IBM Z上的其他参数</h1></div></div></div><p>可以在参数文件中定义以下参数，但不能在CMS配置文件中使用。
				</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">rd.live.check</code></span></dt><dd>打开基于ISO的安装源的测试;例如，从FCP连接的DVD引导或使用<code class="literal">inst.repo=</code>在本地硬盘上使用ISO或使用NFS安装时。</dd><dt><span class="term"><code class="literal">nompath</code></span></dt><dd>禁用对多路径设备的支持。
							</dd><dt><span class="term"><code class="literal">proxy = [ <span class="emphasis"><em>protocol</em></span> ：//] [ <span class="emphasis"><em>username</em></span> [： <span class="emphasis"><em>password</em></span> ] @] <span class="emphasis"><em>host</em></span> [： <span class="emphasis"><em>port</em></span> ]</code></span></dt><dd>指定用于通过HTTP，HTTPS或FTP进行安装的代理。</dd><dt><span class="term"><code class="literal">inst.rescue</code></span></dt><dd>启动从RAM磁盘运行的救援系统，该系统可用于修复和恢复已安装的系统。
							</dd><dt><span class="term"><code class="literal">inst.stage2 = <span class="emphasis"><em>URL</em></span></code></span></dt><dd><p class="simpara">指定包含<code class="literal">install.img</code>的树的路径，而不是直接指向<code class="literal">install.img</code> 。否则，遵循与<code class="literal">inst.repo=</code>相同的语法。如果指定了<code class="literal">inst.stage2</code> ，则它通常优先于其他查找<code class="literal">install.img</code>方法。但是，如果<span class="strong"><strong><span class="application">Anaconda</span></strong></span>在本地媒体上找到<code class="literal">install.img</code> ，则将忽略<code class="literal">inst.stage2</code> URL。
							</p><p class="simpara">如果未指定<code class="literal">inst.stage2</code>并且无法在本地找到<code class="literal">install.img</code> ，则<span class="strong"><strong><span class="application">Anaconda会</span></strong></span>查看<code class="literal">inst.repo=</code>或<code class="literal">method=</code>给出的位置。
							</p><p class="simpara">如果只有<code class="literal">inst.stage2=</code>没有给出<code class="literal">inst.repo=</code>或<code class="literal">method=</code> ， <span class="strong"><strong><span class="application">蟒蛇</span></strong></span>使用任何回购协议安装的系统会默认安装启用。
							</p><p class="simpara">多次使用该选项可指定多个HTTP，HTTPS或FTP源。然后按顺序尝试HTTP，HTTPS或FTP路径，直到成功为止：</p><pre class="literallayout">inst.stage2=http://hostname/path_to_install_tree/
inst.stage2=http://hostname/path_to_install_tree/
inst.stage2=http://hostname/path_to_install_tree/</pre></dd><dt><span class="term"><code class="literal">inst.syslog = <span class="emphasis"><em>IP /主机名</em></span> [： <span class="emphasis"><em>port</em></span> ]</code></span></dt><dd>将日志消息发送到远程syslog服务器。
							</dd></dl></div><p>此处描述的引导参数对于IBM Z上的安装和故障排除最有用，但只是影响安装程序的一部分。
				</p></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="sample-parameter-file-and-cms-configuration-file-on-ibm-z_preparing-for-installation-on-ibm-z"></a> IBM Z上的示例参数文件和CMS配置文件</h1></div></div></div><p>要更改参数文件，请首先扩展随附的<code class="literal">generic.prm</code>文件。
				</p><p><code class="literal">generic.prm</code>文件的示例：</p><pre class="literallayout">ro ramdisk_size=40000 cio_ignore=all,!condev
CMSDASD="191" CMSCONFFILE="redhat.conf"
vnc
inst.repo=http://example.com/path/to/repository</pre><p>配置QETH网络设备的<code class="literal">redhat.conf</code>文件示例（在<code class="literal">generic.prm</code>由<code class="literal">CMSCONFFILE</code>指向）：</p><pre class="literallayout">NETTYPE="qeth"
SUBCHANNELS="0.0.0600,0.0.0601,0.0.0602"
PORTNAME="FOOBAR"
PORTNO="0"
LAYER2="1"
MACADDR="02:00:be:3a:01:f3"
HOSTNAME="foobar.systemz.example.com"
IPADDR="192.168.17.115"
NETMASK="255.255.255.0"
GATEWAY="192.168.17.254"
DNS="192.168.17.1"
SEARCHDNS="systemz.example.com:example.com"
DASD="200-203"</pre></div></div></body></html>