<html  xmlns="http://www.w3.org/1999/xhtml"><head><title>Chapter 9. 用yum安装软件</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"><meta name="generator" content="DocBook XSL-NS Stylesheets V1.78.1"></head><body ><div class="chapter"><div class="titlepage"><div><div><h1 class="title">Chapter 9. 用yum安装软件</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="introduction-to-installing-software_installing-software-with-yum"></a>在Red Hat Enterprise Linux 8上安装软件的简介</h1></div></div></div><p>在Red Hat Enterprise Linux 8上，新版<span class="strong"><strong><span class="application">YUM</span></strong></span>工具确保安装软件，该工具基于<span class="strong"><strong><span class="application">DNF</span></strong></span>技术（ <span class="strong"><strong><span class="application">YUM v4</span></strong></span> ）。
			</p><p>
				与以前在Red Hat Enterprise Linux 7上使用的<span class="strong"><strong><span class="application">YUM v3</span></strong></span>相比， <span class="strong"><strong><span class="application">YUM v4</span></strong></span>具有以下优势：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">提高性能</li><li class="listitem">可用的新功能，最重要的是支持管理模块化内容</li><li class="listitem">精心设计的稳定API，可与工具集成</li></ul></div><p>有关新<span class="strong"><strong><span class="application">YUM</span></strong></span>工具与Red Hat Enterprise Linux 7以前版本<span class="strong"><strong><span class="application">YUM v3</span></strong></span>之间差异的详细信息，请参阅<a class="link" href="http://dnf.readthedocs.io/en/latest/cli_vs_yum.html">DNF CLI与YUM相比的更改</a> 。</p><div class="note" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">注意</h3><p>注意，上游调用此工具<span class="strong"><strong><span class="application">DNF</span></strong></span> 。因此，Red Hat Enterprise Linux 8中新的<span class="strong"><strong><span class="application">YUM</span></strong></span>工具返回的一些输出提到了<span class="strong"><strong><span class="application">DNF</span></strong></span> ，而上游文档将该技术标识为<span class="strong"><strong><span class="application">DNF</span></strong></span> 。</p></div><p>对于安装软件，您可以使用<code class="literal">yum</code>命令及其特定选项，方法与Red Hat Enterprise Linux 7相同。
			</p><p>选定的yum插件和实用程序已移植到新的DNF后端，并且可以安装在与Red Hat Enterprise Linux 7相同的名称下。它们还提供兼容性符号链接，因此可以在通常的位置找到二进制文件，配置文件和目录。
			</p><p>请注意， <span class="strong"><strong>YUM v3</strong></span>提供的旧版Python API不再可用。建议用户将其插件和脚本迁移到<span class="strong"><strong>YUM v4</strong></span> （DNF Python API）提供的新API，该API是稳定且完全支持的。DNF Python API可<a class="link" href="https://dnf.readthedocs.io/en/latest/api.html">在此处获得</a> 。
			</p><p>Libdnf和Hawkey API（包括C和Python）都不稳定，并且可能会在RHEL 8生命周期中发生变化。
			</p><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="application-streams_installing-software-with-yum"></a>应用流</h2></div></div></div><p>Red Hat Enterprise Linux 8.0引入了Application Streams的概念。现在，与核心操作系统软件包相比，可以更频繁地交付和更新多个版本的用户空间组件。这为定制Red Hat Enterprise Linux提供了更大的灵活性，而不会影响平台或特定部署的底层稳定性。
				</p><p>作为Application Streams提供的组件可以打包为模块或RPM包，并通过RHEL 8中的AppStream存储库提供。每个Application Stream组件都有一个给定的生命周期。有关详细信息，请参阅<a class="link" href="https://access.redhat.com/support/policy/updates/errata">Red Hat Enterprise Linux生命周期</a> 。
				</p><p>模块是表示逻辑单元的包的集合：应用程序，语言堆栈，数据库或一组工具。这些包是一起构建，测试和发布的。
				</p><p>模块流表示Application Stream组件的版本。例如，postgresql模块中有两个PostgreSQL数据库服务器流（版本）：PostgreSQL 10（默认流）和PostgreSQL 9.6。系统上只能安装一个模块流。不同的版本可以在单独的容器中使用。
				</p><p><a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/installing_managing_and_removing_user_space_components/">安装，管理和删除用户空间组件文档</a>中描述了详细的模块命令。有关AppStream中可用模块的列表，请参阅<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/package_manifest/#chap-AppStream_Modules">包清单</a> 。</p></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="introduction-to-yum-functionality_installing-software-with-yum"></a> yum功能简介</h1></div></div></div><p>
				<span class="strong"><strong><span class="application">yum</span></strong></span>是Red Hat软件包管理器，它能够查询有关可用软件包的信息，从存储库中获取软件包，安装和卸载软件包，以及将整个系统更新到最新的可用版本。Yum在更新，安装或删除软件包时执行自动依赖性解析，因此能够自动确定，获取和安装所有可用的依赖软件包。
			</p><p>
				<span class="strong"><strong><span class="application">yum</span></strong></span>可以配置新的，附加的存储库或<span class="emphasis"><em>包源</em></span> ，还提供许多增强和扩展其功能的插件。Yum实现简单易用的包管理。
			</p><div class="important" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">重要</h3><p>
					<span class="strong"><strong><span class="application">yum</span></strong></span>通过启用Gnu Privacy Guard（GPG）（也称为GnuPG），对所有软件包存储库（软件包源）或单个存储库启用GPG签名软件包的签名验证，提供安全软件包管理。
				</p></div><p>您还可以使用<span class="strong"><strong><span class="application">yum</span></strong></span>设置自己的存储库，使用<span class="strong"><strong><span class="application">RPM</span></strong></span>软件包在其他计算机上下载和安装。如果可能，yum使用多个包和元数据的<span class="strong"><strong>并行下载</strong></span>来加速下载。
			</p><div class="note" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">注意</h3><p>您必须具有超级用户权限才能使用<span class="strong"><strong><span class="application">yum</span></strong></span>在系统上安装，更新或删除软件包。此处的所有示例都假定您已使用<code class="literal">su</code>或<code class="literal">sudo</code>命令获得超级用户权限。
				</p></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="using-yum-for-particular-tasks_installing-software-with-yum"></a>使用yum执行特定任务</h1></div></div></div><p>本节介绍如何使用<span class="strong"><strong><span class="application">yum</span></strong></span>来完成特定任务。
			</p><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="yum-checking-updating-packages_using-yum-for-particular-tasks"></a>检查更新并更新包</h2></div></div></div><p>
					<span class="strong"><strong><span class="application">yum</span></strong></span>使您可以检查系统是否有任何等待应用的更新。您可以列出需要更新的软件包并将其作为整体进行更新，也可以更新选定的单个软件包。
				</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sec-Checking_For_Updates"></a>查询更新</h3></div></div></div><p>要查看系统上哪些已安装的软件包具有可用更新，请使用以下命令：</p><pre class="literallayout"><code class="literal">yum</code> <code class="literal">check-update</code></pre><p>该命令显示具有可用更新的程序包及其依赖项的列表。每个包的输出包括：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">包的名称</li><li class="listitem">包构建的CPU架构</li><li class="listitem">要安装的更新包的版本</li><li class="listitem">更新包的发布</li><li class="listitem">构建版本，作为z-stream更新的一部分添加</li><li class="listitem">更新包所在的存储库。
							</li></ul></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="sec-Updating_Packages"></a>更新包</h4></div></div></div><p>您可以选择一次更新单个包，多个包或所有包。如果您更新的软件包或软件包的任何依赖项本身都有可用的更新，那么它们也会更新。
						</p><div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="sec-Updating_a_Single_Package"></a>更新单个包</h5></div></div></div><p>要更新单个程序包，请以<code class="literal">root</code>身份运行以下命令：</p><pre class="literallayout"><code class="literal">yum</code> <code class="literal">update</code> <span class="emphasis"><em>package_name</em></span></pre><div class="important" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">重要</h3><p>
									无论您是使用<code class="literal">yum update</code>还是使用<code class="literal">yum install</code>命令来应用内核更新， <span class="strong"><strong><span class="application">yum</span></strong></span>始终<span class="strong"><strong>会安装</strong></span>新内核。
								</p><p>另一方面，当使用<span class="strong"><strong><span class="application">RPM时</span></strong></span> ，重要的是使用<code class="literal">rpm -i kernel</code>命令安装新内核而不是<code class="literal">rpm -u kernel</code> ，它<span class="strong"><strong>替换</strong></span>当前内核。
								</p></div></div><div class="section"><div class="titlepage"><div><div><h5 class="title"><a id="sec-Updating_a_Package_Group"></a>更新包组</h5></div></div></div><p>要更新软件包组，请以<code class="literal">root</code>身份键入：</p><pre class="literallayout"><code class="literal">yum</code> <code class="literal">group update</code> <span class="emphasis"><em>group_name</em></span></pre><p>在此处，将<span class="emphasis"><em>group_name</em></span>替换为要更新的程序包组的名称。有关包组的更多信息，请参阅<a class="xref" href="installing-software-with-yum_configuring-basic-system-settings.html#yum-working-with-package-groups_using-yum-for-particular-tasks" title="使用包组">“使用包组”一节</a> 。
							</p></div></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="sec-Updating_all_Packages"></a>更新所有包及其依赖项</h4></div></div></div><p>要更新所有包及其依赖项，请使用不带任何参数的<code class="literal">yum update</code>命令：</p><pre class="literallayout"><code class="literal">yum</code> <code class="literal">update</code></pre></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="sec-Updating_Security-Related_Packages"></a>更新与安全相关的包</h4></div></div></div><p>如果程序包具有可用的安全更新，则只能将这些程序包更新为其最新版本。输入<code class="literal">root</code> ：</p><pre class="literallayout"><code class="literal">yum</code> <code class="literal">update --security</code></pre><p>您还可以仅将包更新到包含最新安全更新的版本。输入<code class="literal">root</code> ：</p><pre class="literallayout"><code class="literal">yum</code> <code class="literal">update-minimal --security</code></pre></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="yum-working-with-packages_using-yum-for-particular-tasks"></a>使用包</h2></div></div></div><p>
					<span class="strong"><strong><span class="application">yum</span></strong></span>使您可以使用软件包执行一整套操作，包括搜索包，查看有关包，安装和删除的信息。
				</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sec-Searching_Packages"></a>搜索包</h3></div></div></div><p>您可以使用以下命令搜索所有包名称，描述和摘要：</p><pre class="literallayout"><code class="literal">yum</code> <code class="literal">search</code> <span class="emphasis"><em>term</em></span>...</pre><p>将<span class="emphasis"><em>术语</em></span>替换为您要搜索的包名称。
					</p><p><code class="literal">yum search</code>命令对于搜索您不知道其名称但您知道相关术语的包非常有用。请注意，默认情况下， <code class="literal">yum search</code>返回包名称和摘要中的匹配项，从而加快搜索速度。使用<code class="literal">yum search --all</code>命令进行更详尽但更慢的搜索，其中还包括包描述。
					</p><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="sec-Yum-Listing_Packages-Filtering"></a>过滤结果</h4></div></div></div><p>所有yum的list命令都允许您通过附加一个或多个<span class="emphasis"><em>glob表达式</em></span>作为参数来过滤结果。全局表达式是正常的字符串，包含一个或多个通配符<code class="literal">*</code> （扩展以匹配任何字符子集）和<code class="literal">?</code> （扩展以匹配任何单个字符）。
						</p><p>将它们作为参数传递给<code class="literal">yum</code>命令时要小心转义全局表达式，否则Bash shell会将这些表达式解释为<span class="emphasis"><em>路径名扩展</em></span> ，并可能将当前目录中与全局表达式匹配的所有文件传递给<code class="literal">yum</code> 。要确保全局表达式按预期传递给<code class="literal">yum</code> ，请使用以下方法之一：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">通过在它们前面加上反斜杠字符来转义通配符</li><li class="listitem">双引号或单引号整个全局表达式。
								</li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sec-Listing_Packages"></a>列出包</h3></div></div></div><p>要列出有关所有已安装<span class="strong"><strong>和</strong></span>可用软件包的信息<span class="strong"><strong>，</strong></span>请在shell提示符下键入以下内容：</p><pre class="literallayout"><code class="literal">yum</code> <code class="literal">list</code> <code class="literal">--all</code></pre><p>要列出与插入的全局表达式匹配的已安装<span class="strong"><strong>和</strong></span>可用包，请使用以下命令：</p><pre class="literallayout"><code class="literal">yum</code> <code class="literal">list</code> <span class="emphasis"><em>glob_expression</em></span>...</pre><p>要列出系统上<code class="literal">installed</code>所有软件包，请使用已<code class="literal">installed</code>关键字。
					</p><pre class="literallayout"><code class="literal">yum</code> <code class="literal">list --installed</code> <span class="emphasis"><em>glob_expression</em></span>...</pre><p>要列出可安装的所有已启用存储库中的所有软件包，请使用以下格式的命令：</p><pre class="literallayout"><code class="literal">yum</code> <code class="literal">list --available</code> <span class="emphasis"><em>glob_expression</em></span>...</pre><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="sec-Yum-Listing_Packages-Listing_Repositories"></a>列出存储库</h4></div></div></div><p>要列出系统上每个已<span class="strong"><strong>启用</strong></span>存储库的存储库ID，名称和程序包数，请使用以下命令：</p><pre class="literallayout"><code class="literal">yum</code> <code class="literal">repolist</code></pre><p>要列出有关这些存储库的更多信息，请使用<code class="literal">repoinfo</code>命令。使用此命令，将为每个列出的存储库显示包括文件名，总大小，上次更新日期和基本URL的信息。
						</p><pre class="literallayout"><code class="literal">yum</code> <code class="literal">repoinfo</code></pre><p>要列出启用和禁用的存储库，请使用以下命令。状态列将添加到输出列表中，以显示启用了哪些存储库。
						</p><pre class="literallayout"><code class="literal">yum</code> <code class="literal">repolist</code> <code class="literal">--all</code></pre><p>通过将<code class="literal">disabled</code>作为第一个参数传递，可以将命令输出减少到禁用的存储库。对于进一步的规范，您可以将存储库的ID或名称或相关的glob_expressions作为参数传递。请注意，如果存储库ID或名称与插入的参数之间存在完全匹配，则即使未通过<span class="strong"><strong>启用</strong></span>或<span class="strong"><strong>禁用的</strong></span>过滤器，也会列出此存储库。
						</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="sec-Displaying_Package_Information"></a>显示包信息</h4></div></div></div><p>要显示有关一个或多个包的信息，请使用以下命令（全局表达式在此处也有效）：</p><pre class="literallayout"><code class="literal">yum</code> <code class="literal">info</code> <span class="emphasis"><em>package_name</em></span>...</pre><p>将<span class="emphasis"><em>package_name</em></span>替换为包的名称。
						</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="sec-Installing"></a>安装包</h4></div></div></div><p>要安装单个程序包及其所有未安装的依赖项，请以<code class="literal">root</code>身份输入以下格式的命令：</p><pre class="literallayout"><code class="literal">yum</code> <code class="literal">install</code> <span class="emphasis"><em>package_name</em></span></pre><p>您还可以通过将其名称作为参数附加来同时安装多个包。为此，请以<code class="literal">root</code>身份键入：</p><pre class="literallayout"><code class="literal">yum</code> <code class="literal">install</code> <span class="emphasis"><em>package_name</em></span> <span class="emphasis"><em>package_name</em></span>...</pre><p>如果要在<span class="emphasis"><em>multilib</em></span>系统（例如AMD64或Intel 64计算机）上安装软件包，则可以通过将<span class="emphasis"><em>.arch</em></span>附加到软件包名称来指定软件包的体系结构（只要它在已启用的存储库中可用）：</p><pre class="literallayout"><code class="literal">yum</code> <code class="literal">install</code> <span class="emphasis"><em>package_name</em></span><span class="emphasis"><em>.arch</em></span></pre><p>您可以使用全局表达式快速安装多个具有相似名称的包。以<code class="literal">root</code>身份执行：</p><pre class="literallayout"><code class="literal">yum</code> <code class="literal">install</code> <span class="emphasis"><em>glob_expression</em></span>...</pre><p>除了包名称和全局表达式之外，您还可以为<code class="literal">yum install</code>提供文件名。如果您知道要安装的二进制文件的名称，而不知道其软件包名称，则可以为<code class="literal">yum install</code>路径名称。以<code class="literal">root</code>输入：</p><pre class="literallayout"><code class="literal">yum</code> <code class="literal">install</code> <code class="literal">/usr/sbin/named</code></pre><p>然后Yum搜索其包列表，找到提供<code class="literal">/usr/sbin/named</code> （如果有），并提示您是否要安装它。
						</p><p>正如您在上面的示例中所看到的， <code class="literal">yum install</code>命令不需要严格定义的参数。它可以处理各种格式的包名称和全局表达式，这使得用户的安装更加容易。另一方面， <span class="strong"><strong><span class="application">yum</span></strong></span>需要一些时间才能正确解析输入，特别是如果指定了大量的包。要优化包搜索，可以使用以下命令显式定义如何解析参数：</p><pre class="literallayout"><code class="literal">yum install-n</code> <span class="emphasis"><em>name</em></span></pre><pre class="literallayout"><code class="literal">yum install-na</code> <span class="emphasis"><em>name.architecture</em></span></pre><pre class="literallayout"><code class="literal">yum install-nevra</code> <span class="emphasis"><em>name-epoch:version-release.architecture</em></span></pre><p>使用<code class="literal">install-n</code> ， <span class="strong"><strong><span class="application">yum</span></strong></span>会将<span class="emphasis"><em>name</em></span>解释为包的确切名称。<code class="literal">install-na</code>命令告诉<span class="strong"><strong><span class="application">yum</span></strong></span>后续参数包含包名称和体系结构除以点字符。使用<code class="literal">install-nevra</code> ， <span class="strong"><strong><span class="application">yum</span></strong></span>将期望以<span class="emphasis"><em>name-epoch：version-release.architecture</em></span>的形式<span class="emphasis"><em>出现</em></span>一个参数。同样，在搜索要<code class="literal">yum remove-nevra</code>时，可以使用<code class="literal">yum remove-n</code> ， <code class="literal">yum remove-na</code>和<code class="literal">yum remove-nevra</code> 。
						</p><div class="note" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">注意</h3><p>如果您知道要安装包含<code class="literal">named</code>二进制文件的软件包，但您不知道文件安装在哪个<code class="literal">bin/</code>或<code class="literal">sbin/</code>目录中，请使用带有全局表达式的<code class="literal">yum provides</code>命令。
							</p><p>
								<code class="literal">yum provides "*/ <span class="emphasis"><em>file_name</em></span> "</code>是查找包含<span class="emphasis"><em>file_name</em></span>的包的有用方法。
							</p></div><p>要从系统上的本地目录安装以前下载的软件包，请使用以下命令：</p><pre class="literallayout"><code class="literal">yum install</code> <span class="emphasis"><em>path</em></span></pre><p>将<span class="emphasis"><em>路径</em></span>替换为要安装的程序包的路径。
						</p><p>或者，您也可以使用<code class="literal">yum localinstall</code>命令从本地目录安装以前加载的包。
						</p></div><div class="section"><div class="titlepage"><div><div><h4 class="title"><a id="sec-Removing"></a>删除包</h4></div></div></div><p>要卸载特定软件包以及依赖于它的任何软件包，请以<code class="literal">root</code>身份运行以下命令：</p><pre class="literallayout"><code class="literal">yum</code> <code class="literal">remove</code> <span class="emphasis"><em>package_name</em></span>...</pre><p>通过向命令添加更多包名称来一次删除多个包。
						</p><p>与<code class="literal">install</code>类似， <code class="literal">remove</code>可以采用以下参数：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">包名称</li><li class="listitem">全局表达</li><li class="listitem">文件列表</li><li class="listitem">包提供</li></ul></div><div class="warning" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">警告</h3><p>
								如果没有删除依赖它的包， <span class="strong"><strong><span class="application">yum</span></strong></span>将无法删除包。
							</p></div></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="yum-working-with-package-groups_using-yum-for-particular-tasks"></a>使用包组</h2></div></div></div><p>包组是一组用于通用目的的包，例如<span class="strong"><strong><span class="application">系统工具</span></strong></span>或<span class="strong"><strong><span class="application">声音和视频</span></strong></span> 。安装软件包组会提取一组依赖软件包，从而大大节省了时间。<code class="literal">yum groups</code>命令是一个顶级命令，它涵盖了<span class="strong"><strong><span class="application">yum中</span></strong></span>对包组进行操作的所有操作。
				</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sec-Listing_Package_Groups"></a>列出包组</h3></div></div></div><p><code class="literal">summary</code>选项用于查看以下数量：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">安装组</li><li class="listitem">可用的团体</li><li class="listitem">可用的环境组</li><li class="listitem">已安装和可用的语言组</li></ul></div><pre class="literallayout"><code class="literal">yum groups</code> <code class="literal">summary</code></pre><p>要列出yum存储库中的所有软件包组，请添加<code class="literal">list</code>选项。您可以按组名称过滤命令输出。
					</p><pre class="literallayout"><code class="literal">yum</code> <code class="literal">group list</code> <span class="emphasis"><em>glob_expression</em></span>...</pre><p>可以将几个可选参数传递给此命令，包括<code class="literal">--hidden</code>以列出未标记为用户可见的组，以及<code class="literal">-v</code>列出组ID。您还可以添加<code class="literal">--installed</code>或<code class="literal">--available</code>选项以将命令输出减少到特定组类型。
					</p><p>要列出特定组中包含的必需和可选包，请使用以下命令：</p><pre class="literallayout"><code class="literal">yum</code> <code class="literal">group info</code> <span class="emphasis"><em>glob_expression</em></span>...</pre><div class="note" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">注意</h3><p>包组可以用<span class="strong"><strong>@</strong></span>标记。使用<code class="literal">yum</code> <code class="literal">group</code> <code class="literal">list</code> ， <code class="literal">info</code> ， <code class="literal">install</code>或<code class="literal">remove</code> ，请传递<span class="strong"><strong>@group_name</strong></span>以指定包组或环境组。
						</p></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sec-Installing_a_Package_Group"></a>安装软件包组</h3></div></div></div><p>您可以通过将其完整组名称（不带groupid部分）传递给<code class="literal">group install</code>命令来安装软件包组。以<code class="literal">root</code>输入：</p><pre class="literallayout"><code class="literal">yum</code> <code class="literal">group install</code> <span class="emphasis"><em>group_name</em></span></pre><p>您也可以通过groupid安装。以<code class="literal">root</code>身份执行以下命令：</p><pre class="literallayout"><code class="literal">yum</code> <code class="literal">group install</code> <span class="emphasis"><em>groupid</em></span></pre><p>如果在前面添加<span class="strong"><strong>@</strong></span>符号，则可以将groupid或带引号的组名称传递给<code class="literal">install</code>命令，该符号告诉<code class="literal">yum</code>您要执行<code class="literal">group install</code> 。以<code class="literal">root</code>输入：</p><pre class="literallayout"><code class="literal">yum</code> <code class="literal">install</code> @<span class="emphasis"><em>group</em></span></pre><p>将<span class="emphasis"><em>group</em></span>替换为groupid或带引号的组名。同样的逻辑适用于环保团体：</p><pre class="literallayout"><code class="literal">yum</code> <code class="literal">install</code> @<span class="emphasis"><em>group</em></span></pre></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sec-Removing_a_Package_Group"></a>删除包组</h3></div></div></div><p>您可以使用类似于<code class="literal">install</code>语法的语法删除程序包组，并使用程序包组的名称或其ID。以<code class="literal">root</code>输入：</p><pre class="literallayout"><code class="literal">yum</code> <code class="literal">group remove</code> <span class="emphasis"><em>group_name</em></span></pre><pre class="literallayout"><code class="literal">yum</code> <code class="literal">group remove</code> <span class="emphasis"><em>groupid</em></span></pre><p>此外，如果在前面加上<span class="strong"><strong>@</strong></span>符号，则可以将groupid或带引号的名称传递给<code class="literal">remove</code>命令，该符号告诉<span class="strong"><strong><span class="application">yum</span></strong></span>您要执行<code class="literal">group remove</code> 。以<code class="literal">root</code>输入：</p><pre class="literallayout"><code class="literal">yum</code> <code class="literal">remove</code> @<span class="emphasis"><em>group</em></span></pre><p>将<span class="emphasis"><em>group</em></span>替换为groupid或带引号的组名。同样，您可以替换环境组：</p><pre class="literallayout"><code class="literal">yum</code> <code class="literal">remove</code> @<span class="emphasis"><em>group</em></span></pre></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="yum-working-with-transaction-history_installing-software-with-yum"></a>使用交易历史记录</h1></div></div></div><p><code class="literal">yum history</code>命令使用户能够查看有关yum事务的时间轴，它们发生的日期和时间，受影响的包数，这些事务是成功还是中止以及RPM数据库是否在事务之间更改的信息。此外，此命令可用于撤消或重做某些事务。所有历史数据都存储在<code class="literal">/var/lib/yum/history/</code>目录中的<span class="strong"><strong>历史数据库中</strong></span> 。
			</p><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sec-Yum-Transaction_History-Listing"></a>上市交易</h2></div></div></div><p>要以<code class="literal">root</code>身份显示最近20个事务的列表，请运行<code class="literal">yum history</code>而不添加其他参数，或者在shell提示符下键入以下内容：</p><pre class="literallayout"><code class="literal">yum</code> <code class="literal">history</code> <code class="literal">list</code></pre><p>要更详细地检查特定事务或事务，请以<code class="literal">root</code>身份运行以下命令：</p><pre class="literallayout"><code class="literal">yum</code> <code class="literal">history</code> <code class="literal">info</code> <span class="emphasis"><em>id</em></span>...</pre><p>这里的<span class="emphasis"><em>id</em></span>参数代表事务的ID。此参数是可选的，当您省略它时， <span class="strong"><strong><span class="application">yum会</span></strong></span>自动使用最后一个事务。
				</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sec-Yum-Transaction_History-Reverting"></a>恢复和重复交易</h2></div></div></div><p>除了查看交易历史之外， <code class="literal">yum history</code>命令还提供了还原或重复所选交易的方法。要还原事务，请在shell提示符下以<code class="literal">root</code>身份键入以下内容：</p><pre class="literallayout"><code class="literal">yum</code> <code class="literal">history</code> <code class="literal">undo</code> <span class="emphasis"><em>id</em></span></pre><p>要以<code class="literal">root</code>身份重复特定事务，请运行以下命令：</p><pre class="literallayout"><code class="literal">yum</code> <code class="literal">history</code> <code class="literal">redo</code> <span class="emphasis"><em>id</em></span></pre><p>这两个命令还接受<code class="literal">last</code>关键字来撤消或重复最新的事务。
				</p><p>请注意， <code class="literal">yum history undo</code>和<code class="literal">yum history redo</code>命令仅还原或重复事务期间执行的步骤。如果事务安装了新包，则<code class="literal">yum history undo</code>命令将卸载它，如果事务卸载了包，则命令将再次安装它。如果这些旧版软件包仍然可用，则此命令还会尝试将所有更新的软件包降级到其先前版本。
				</p></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="yum-configuring-and-yum-repos_installing-software-with-yum"></a>配置yum和yum存储库</h1></div></div></div><p><span class="strong"><strong><span class="application">yum</span></strong></span>和相关实用程序的配置信息位于<code class="literal">/etc/yum.conf</code>文件中。此文件包含一个必需的<code class="literal">[main]</code>部分，使您可以设置具有全局效果的yum选项，还可以包含一个或多个<code class="literal">[ <span class="emphasis"><em>repository</em></span> ]</code>部分，这些部分允许您设置特定于存储库的选项。但是，建议在<code class="literal">/etc/yum.repos.d/</code>目录中的新的或现有的<code class="literal">.repo</code>文件中定义单个存储库。您在<code class="literal">/etc/yum.conf</code>文件的各个<code class="literal">[ <span class="emphasis"><em>repository</em></span> ]</code>部分中定义的值将覆盖<code class="literal">[main]</code>部分中设置的值。
			</p><p>本节介绍如何：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">通过编辑<code class="literal">/etc/yum.conf</code>配置文件的<code class="literal">[main]</code>部分来设置全局yum选项;</li><li class="listitem">通过编辑设置单个存储库选项<code class="literal">[ <span class="emphasis"><em>repository</em></span> ]</code>在部分<code class="literal">/etc/yum.conf</code>和<code class="literal">.repo</code>中的文件<code class="literal">/etc/yum.repos.d/</code>目录;</li></ul></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">在命令行上添加，启用和禁用yum存储库</li></ul></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sec-Viewing_the_Current_Configuration"></a>查看当前配置</h2></div></div></div><p>要显示全局yum选项的当前值（即<code class="literal">/etc/yum.conf</code>文件的<code class="literal">[main]</code>部分中指定的选项），请使用以下命令行选项执行<code class="literal">yum-config-manager</code>命令：</p><pre class="literallayout"><code class="literal">yum-config-manager --dump</code></pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sec-Setting_main_Options"></a>设置[main]选项</h2></div></div></div><p><code class="literal">/etc/yum.conf</code>配置文件只包含一个<code class="literal">[main]</code>部分，虽然本节中的某些键值对会影响yum的运行方式，但其他部分会影响<span class="strong"><strong><span class="application">yum</span></strong></span>对待存储库的方式。
				</p><p>您可以在<code class="literal">/etc/yum.conf</code>的<code class="literal">[main]</code>部分标题下添加许多其他选项。
				</p><p>有关可用<code class="literal">[main]</code>选项的完整列表，请参阅<span class="strong"><strong>yum.conf</strong></span> （5）手册页的<code class="literal">[main] OPTIONS</code>部分。
				</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sec-Setting_repository_Options"></a>设置[repository]选项</h2></div></div></div><p><code class="literal">[ <span class="emphasis"><em>repository</em></span> ]</code>部分，其中<span class="emphasis"><em>repository</em></span>是唯一的存储库ID，例如<code class="literal">my_personal_repo</code> （不允许使用空格），允许您定义单独的yum存储库。为避免冲突，请不要将Red Hat存储库使用的名称用于自定义存储库。
				</p><p>有关可用<code class="literal">[repository]</code>选项的完整列表，请参阅<span class="strong"><strong>yum.conf</strong></span> （5）手册页的<code class="literal">[repository] OPTIONS</code>部分。
				</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sec-Managing_Yum_Repositories"></a>添加，启用和禁用yum存储库</h2></div></div></div><p>
					<a class="xref" href="installing-software-with-yum_configuring-basic-system-settings.html#sec-Setting_repository_Options" title="设置[repository]选项">名为“设置[存储库]选项”的部分</a>描述了可用于定义yum存储库的各种选项。本节介绍如何使用<code class="literal">yum-config-manager</code>命令添加，启用和禁用存储库。
				</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sec-Managing_Yum_Repositories-Adding"></a>添加yum存储库</h3></div></div></div><p>要定义新存储库，可以将<code class="literal">[ <span class="emphasis"><em>repository</em></span> ]</code>部分添加到<code class="literal">/etc/yum.conf</code>文件，或添加到<code class="literal">/etc/yum.repos.d/</code>目录中的<code class="literal">.repo</code>文件。yum读取此目录中具有<code class="literal">.repo</code>文件扩展名的所有文件，建议在此处而不是在<code class="literal">/etc/yum.conf</code>定义您的存储库。
					</p><div class="warning" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">警告</h3><p>从Red Hat基于证书的<code class="literal">Content Delivery Network</code> （ <span class="strong"><strong>CDN</strong></span> ）以外的未经验证或不受信任的软件源获取和安装软件包构成潜在的安全风险，并可能导致安全性，稳定性，兼容性和可维护性问题。
						</p></div><p>
						<span class="strong"><strong><span class="application">Yum</span></strong></span>存储库通常提供自己的<code class="literal">.repo</code>文件。要将此类存储库添加到系统并启用它，请以<code class="literal">root</code>身份运行以下命令：</p><pre class="literallayout"><code class="literal">yum-config-manager</code> <code class="literal">--add-repo</code> <span class="emphasis"><em>repository_url</em></span></pre><p>这里<span class="emphasis"><em>repository_url</em></span>是<code class="literal">.repo</code>文件的链接。
					</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sec-Managing_Yum_Repositories-Enabling"></a>启用yum存储库</h3></div></div></div><p>要启用特定存储库或存储库，请在shell提示符下以<code class="literal">root</code>身份键入以下内容：</p><pre class="literallayout"><code class="literal">yum-config-manager</code> <code class="literal">--enable</code> <span class="emphasis"><em>repository</em></span>...</pre><p>这里， <span class="emphasis"><em>repository</em></span>是唯一的存储库ID（使用<code class="literal">yum repolist all</code>列出可用的存储库ID）。
					</p><h4><a id="sec-Managing_Yum_Repositories-Disabling"></a>禁用yum存储库</h4><p>要禁用yum存储库，请以<code class="literal">root</code>身份运行以下命令：</p><pre class="literallayout"><code class="literal">yum-config-manager</code> <code class="literal">--disable</code> <span class="emphasis"><em>repository</em></span>...</pre><p>这里， <span class="emphasis"><em>repository</em></span>是唯一的存储库ID（使用<code class="literal">yum repolist all</code>列出可用的存储库ID）。
					</p></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="yum-plugins_installing-software-with-yum"></a>使用yum插件</h1></div></div></div><p>
				<span class="strong"><strong><span class="application">Yum</span></strong></span>提供扩展和增强其操作的插件。默认情况下会安装某些插件。当您调用任何<code class="literal">yum</code>命令时， <span class="strong"><strong><span class="application">百胜</span></strong></span>总会通知您哪些插件（如果有）已加载并处于活动状态。
			</p><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sec-Enabling_Configuring_and_Disabling_Yum_Plugins"></a>启用，配置和禁用yum插件</h2></div></div></div><p>要启用yum插件，请确保<code class="literal">/etc/yum.conf</code>的<code class="literal">[main]</code>部分中存在以<code class="literal">plugins=</code>开头的行，并且其值为<code class="literal">1</code> ：</p><pre class="literallayout">plugins=1</pre><p>您可以通过将此行更改为<code class="literal">plugins=0</code>来禁用所有插件。
				</p><div class="important" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">重要</h3><p>不建议禁用所有插件，因为某些插件提供了重要的yum服务。特别是， <span class="strong"><strong><span class="application">product-id</span></strong></span>和<span class="strong"><strong><span class="application">subscription-manager</span></strong></span>插件为基于证书的<code class="literal">Content Delivery Network</code> （ <span class="strong"><strong>CDN</strong></span> ）提供支持。全局禁用插件作为便利选项提供，通常仅在诊断<span class="strong"><strong><span class="application">yum</span></strong></span>的潜在问题时建议使用。
					</p></div><p>每个已安装的插件在<code class="literal">/etc/dnf/plugins/</code>目录中都有自己的配置文件。您可以在这些文件中设置插件特定选项。
				</p><p>与<code class="literal">/etc/yum.conf</code>文件类似，插件配置文件始终包含<code class="literal">[main]</code>部分，其中<code class="literal">enabled=</code>选项控制在运行<code class="literal">yum</code>命令时是否启用插件。如果缺少此选项，则可以手动将其添加到文件中。
				</p><p>如果通过在<code class="literal">/etc/yum.conf</code>设置<code class="literal">enabled=0</code>来禁用所有插件，则无论是否在各自的配置文件中启用了所有插件，都会禁用所有插件。
				</p><p>如果要为单个<code class="literal">yum</code>命令禁用所有yum插件，请使用<code class="literal">--noplugins</code>选项。
				</p><p>如果要为单个<code class="literal">yum</code>命令禁用一个或多个yum插件，请在命令中添加<code class="literal">--disableplugin= <span class="emphasis"><em>plugin_name</em></span></code>选项。
				</p></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="yum-additional-resources_installing-software-with-yum"></a>其他资源</h1></div></div></div><p>以下信息来源提供有关<span class="strong"><strong><span class="application">YUM的</span></strong></span>额外资源。</p><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="installed_documentation"></a>已安装的文档</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
							<code class="literal">yum</code> （8） - <code class="literal">yum</code>命令行实用程序的手册页提供了受支持的选项和命令的完整列表。
						</li><li class="listitem">
							<code class="literal">yum.conf</code> （5） - 名为<code class="literal">yum.conf</code>的手册页文档提供了yum配置选项。
						</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="online_documentation"></a>在线文档</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
							<a class="link" href="https://access.redhat.com/labs/">红帽客户门户实验室</a> - 红帽客户门户实验室包括“百胜仓库配置帮助程序”。
						</li></ul></div></div></div></div></body></html>