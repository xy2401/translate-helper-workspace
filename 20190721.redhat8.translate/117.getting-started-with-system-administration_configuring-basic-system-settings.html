<html  xmlns="http://www.w3.org/1999/xhtml"><head><title>Chapter 9. 在Red Hat Enterprise Linux中开始使用系统管理</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"><meta name="generator" content="DocBook XSL-NS Stylesheets V1.78.1"></head><body ><div class="chapter"><div class="titlepage"><div><div><h1 class="title">Chapter 9. 在Red Hat Enterprise Linux中开始使用系统管理</h1></div></div></div><p>以下部分概述了系统管理员在安装Red Hat Enterprise Linux后可能需要执行的基本任务。
		</p><div class="note" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">注意</h3><p>这些任务可以包括通常在安装过程中已经完成的项目，但是不必必须完成它们，例如系统的注册。处理此类任务的部分简要概述了在安装过程中如何实现这一目标以及相关文档的链接。
			</p><p>有关Red Hat Enterprise Linux安装的信息，请参阅<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/performing_a_standard_rhel_installation/">执行标准RHEL安装</a> 。
			</p></div><div class="note" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">注意</h3><p>以下部分提到了一些要执行的命令。<code class="literal">root</code>用户需要输入的命令在提示符中有<code class="literal">#</code> ，而普通用户可以执行的命令在提示符中有<code class="literal">$</code> 。
			</p></div><p>虽然可以通过命令行完成所有安装后任务，但您也可以使用RHEL 8 Web控制台执行其中的一些任务。
		</p><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="what-is-the-rhel-8-web-console_getting-started-with-system-administration"></a> RHEL 8 Web控制台是什么以及它可以用于哪些任务</h1></div></div></div><p>RHEL 8 Web控制台是交互式服务器管理界面。它从浏览器中的真实Linux会话直接与操作系统交互。
			</p><p>Web控制台可以执行以下任务：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">监控基本系统功能，例如硬件信息，时间配置，性能配置文件，与域域的连接</li></ul></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">检查系统日志文件</li></ul></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">管理网络接口和配置防火墙</li><li class="listitem">处理码头图像</li><li class="listitem">管理虚拟机</li><li class="listitem">管理用户帐户</li><li class="listitem">监视和配置系统服务</li><li class="listitem">创建诊断报告</li><li class="listitem">设置内核转储配置</li><li class="listitem">管理包</li><li class="listitem">配置SELinux</li><li class="listitem">更新软件</li><li class="listitem">管理系统订阅</li><li class="listitem">访问终端</li></ul></div><p>有关安装和使用RHEL 8 Web控制台的更多信息，请参阅<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/managing_systems_using_the_web_console/">使用Web控制台管理系统</a> 。
			</p></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="configuring-system-settings-in-the-web-console_getting-started-with-system-administration"></a>在Web控制台中配置系统设置</h1></div></div></div><p>在本章中，您将学习如何在Web控制台中执行基本系统设置，从而能够：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">在Web控制台中重新启动或关闭系统。
					</li><li class="listitem">更改系统主机名。
					</li><li class="listitem">将系统加入域。
					</li><li class="listitem">配置时区和时区。
					</li><li class="listitem">更改性能配置文件。
					</li></ul></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="using-the-web-console-to-restart-the-system_configuring-system-settings-in-the-web-console"></a>使用Web控制台重新启动系统</h2></div></div></div><p>以下过程描述了在Web控制台中执行的系统重新启动。
				</p><h4><a id="prerequisites"></a>先决条件</h4><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">必须安装和访问Web控制台。
						</p><p class="simpara">有关详细信息，请参阅<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/managing_systems_using_the_rhel_8_web_console/index#installing-the-web-console_getting-started-with-the-rhel-8-web-console">安装Web控制台</a> 。
						</p></li></ul></div><h4><a id="procedure"></a>程序</h4><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p class="simpara">登录RHEL 8 Web控制台。
						</p><p class="simpara">有关详细信息，请参阅<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/managing_systems_using_the_rhel_8_web_console/index#logging-in-to-the-web-console_getting-started-with-the-rhel-8-web-console">登录Web控制台</a> 。
						</p></li><li class="listitem">单击<span class="strong"><strong>系统</strong></span> 。
						</li><li class="listitem"><p class="simpara">在“ <span class="strong"><strong>电源选项”</strong></span>下拉列表中，选择“ <span class="strong"><strong>重新启动”</strong></span> 。
						</p><p class="simpara">
							<span class="inlinemediaobject"><img src="images/cockpit-system-restart.png" alt="驾驶舱系统重启"></span>

						</p></li><li class="listitem">如果有用户登录系统，请在“ <span class="strong"><strong>重新启动”</strong></span>对话框中写入重新启动的原因。
						</li><li class="listitem"><p class="simpara">在“ <span class="strong"><strong>延迟”</strong></span>下拉列表中，选择时间间隔。
						</p><p class="simpara">
							<span class="inlinemediaobject"><img src="images/cockpit-restart.png" alt="驾驶舱重启"></span>

						</p></li><li class="listitem">单击<span class="strong"><strong>重启</strong></span> 。
						</li></ol></div><p>系统将根据您的选择重新启动。
				</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="using-the-web-console-to-shutdown-the-system_configuring-system-settings-in-the-web-console"></a>使用Web控制台关闭系统</h2></div></div></div><p>以下过程描述了在Web控制台中执行的系统关闭。
				</p><h4><a id="prerequisites_2"></a>先决条件</h4><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">必须安装和访问Web控制台。
						</p><p class="simpara">有关详细信息，请参阅<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/managing_systems_using_the_rhel_8_web_console/index#installing-the-web-console_getting-started-with-the-rhel-8-web-console">安装Web控制台</a> 。
						</p></li></ul></div><h4><a id="procedure_2"></a>程序</h4><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p class="simpara">登录RHEL 8 Web控制台。
						</p><p class="simpara">有关详细信息，请参阅<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/managing_systems_using_the_rhel_8_web_console/index#logging-in-to-the-web-console_getting-started-with-the-rhel-8-web-console">登录Web控制台</a> 。
						</p></li><li class="listitem">单击<span class="strong"><strong>系统</strong></span> 。
						</li><li class="listitem"><p class="simpara">在“ <span class="strong"><strong>电源选项”</strong></span>下拉列表中，选择<span class="strong"><strong>“关机”</strong></span> 。
						</p><p class="simpara">
							<span class="inlinemediaobject"><img src="images/cockpit-system-restart.png" alt="驾驶舱系统重启"></span>

						</p></li><li class="listitem">如果有用户登录系统，请在“ <span class="strong"><strong>关闭”</strong></span>对话框中写入关闭原因。
						</li><li class="listitem">在“ <span class="strong"><strong>延迟”</strong></span>下拉列表中，选择时间间隔。
						</li><li class="listitem">单击<span class="strong"><strong>“关机”</strong></span> 。
						</li></ol></div><p>系统将根据您的选择关闭。
				</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="using-the-web-console-for-setting-a-host-name_configuring-system-settings-in-the-web-console"></a>使用Web控制台设置主机名</h2></div></div></div><p>主机名标识系统。默认情况下，主机名设置为<code class="literal">localhost</code> ，但您可以更改它。
				</p><p>主机名由两部分组成：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">主机名 - 它是标识系统的唯一名称。
						</li><li class="listitem">域 - 如果要在网络中使用计算机并使用名称而不是IP地址，则需要将域添加为主机名后面的后缀。例如： <code class="literal">mymachine.example.com</code>
						</li></ul></div><p>您还可以在RHEL Web控制台中配置漂亮的主机名。漂亮的主机名允许您输入大写字母，空格等主机名。漂亮的主机名显示在Web控制台中，但它不必与主机名对应。
				</p><p>
					<span class="strong"><strong>例：</strong></span>
				</p><p>漂亮的主机名： <span class="strong"><strong>我的机器</strong></span>主机名： <code class="literal">mymachine</code>真实主机名（完全限定的域名）： <code class="literal">mymachine.idm.company.com</code>
				</p><p>主机名存储在<code class="literal">/etc/hostname</code>文件中，但是，您可以在Web控制台中设置或更改主机名。
				</p><h4><a id="prerequisites_3"></a>先决条件</h4><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">必须安装和访问Web控制台。
						</p><p class="simpara">有关详细信息，请参阅<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/managing_systems_using_the_rhel_8_web_console/index#installing-the-web-console_getting-started-with-the-rhel-8-web-console">安装Web控制台</a> 。
						</p></li></ul></div><h4><a id="procedure_3"></a>程序</h4><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p class="simpara">登录RHEL 8 Web控制台。
						</p><p class="simpara">有关详细信息，请参阅<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/managing_systems_using_the_rhel_8_web_console/index#logging-in-to-the-web-console_getting-started-with-the-rhel-8-web-console">登录Web控制台</a> 。
						</p></li><li class="listitem">单击<span class="strong"><strong>系统</strong></span> 。
						</li><li class="listitem"><p class="simpara">单击当前主机名。
						</p><p class="simpara">
							<span class="inlinemediaobject"><img src="images/cockpit-system-hostname.png" alt="驾驶舱系统主机名"></span>

						</p></li><li class="listitem">在“ <span class="strong"><strong>更改主机名”</strong></span>对话框中，在“ <span class="strong"><strong>Pretty Host Name”</strong></span>字段中输入主机名。
						</li><li class="listitem"><p class="simpara">在<span class="strong"><strong>Real Host Name</strong></span>字段中，漂亮的名称将与域名复合。
						</p><p class="simpara">如果主机名与美特主机名不对应，则可以手动更改主机名。
						</p></li><li class="listitem"><p class="simpara">单击<span class="strong"><strong>更改</strong></span> 。
						</p><p class="simpara">
							<span class="inlinemediaobject"><img src="images/cockpit-hostname-change.png" alt="驾驶舱主机名更改"></span>

						</p></li></ol></div><p>要验证主机名是否已正确配置，请尝试从Web控制台注销，并使用新主机名将地址添加到浏览器。
				</p><p>
					<span class="inlinemediaobject"><img src="images/cockpit-hostname-in-the-url.png" alt="url中的cockpit主机名"></span>

				</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="joining-the-rhel-8-system-to-the-idm-domain-using-the-web-console_configuring-system-settings-in-the-web-console"></a>使用Web控制台将RHEL 8系统加入IdM域</h2></div></div></div><p>以下过程描述了将RHEL 8系统加入IdM域。
				</p><h4><a id="prerequisites_4"></a>先决条件</h4><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">IdM域可以从您要加入的客户端运行并且可以访问。
						</li><li class="listitem">IdM域管理员凭据。
						</li></ul></div><h4><a id="procedure_4"></a>程序</h4><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p class="simpara">登录RHEL Web控制台。
						</p><p class="simpara">有关详细信息，请参阅<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/managing_systems_using_the_rhel_8_web_console/index#logging-in-to-the-web-console_getting-started-with-the-rhel-8-web-console">登录Web控制台</a> 。
						</p></li><li class="listitem">打开“ <span class="strong"><strong>系统”</strong></span>选项卡。
						</li><li class="listitem"><p class="simpara">单击<span class="strong"><strong>加入域</strong></span> 。
						</p><p class="simpara">
							<span class="inlinemediaobject"><img src="images/idm-cockpit-join-domain.png" alt="idm cockpit加入域名"></span>

						</p></li><li class="listitem">在“ <span class="strong"><strong>加入域”</strong></span>对话框中，在“ <span class="strong"><strong>域地址”</strong></span>字段中输入IdM服务器的主机名。
						</li><li class="listitem"><p class="simpara">在“ <span class="strong"><strong>身份验证”</strong></span>下拉列表中，选择是否要使用密码或一次性密码进行身份验证。
						</p><p class="simpara">
							<span class="inlinemediaobject"><img src="images/idm-cockpit-join-psswd.png" alt="idm cockpit加入psswd"></span>

						</p></li><li class="listitem">在“ <span class="strong"><strong>域管理员名称”</strong></span>字段中，输入IdM管理帐户的用户名。
						</li><li class="listitem">在密码字段中，根据您在上面的“ <span class="strong"><strong>身份验证”</strong></span>下拉列表中选择的内容添加密码或一次性密码。
						</li><li class="listitem"><p class="simpara">单击<span class="strong"><strong>加入</strong></span> 。
						</p><p class="simpara">
							<span class="inlinemediaobject"><img src="images/idm-cockpit-join.png" alt="idm驾驶舱加入"></span>

						</p></li></ol></div><p>如果RHEL 8 Web控制台未显示错误，则系统已加入IdM域，您可以在“ <span class="strong"><strong>系统”</strong></span>屏幕中看到域名。
				</p><p>
					<span class="inlinemediaobject"><img src="images/idm-cockpit-domain-added.png" alt="idm cockpit domain添加"></span>

				</p><div class="warning" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">警告</h3><p>如果在“ <span class="strong"><strong>系统”</strong></span>屏幕中单击加入的域，系统将显示一个警告对话框，其中包含有关离开域的信息。如果单击“ <span class="strong"><strong>离开”</strong></span> ，系统将离开域。
					</p></div><p>
					<span class="inlinemediaobject"><img src="images/idm-cockpit-leave.png" alt="idm驾驶舱离开"></span>

				</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="using-the-web-console-for-configuring-time-settings_configuring-system-settings-in-the-web-console"></a>使用Web控制台配置时间设置</h2></div></div></div><p>本节介绍如何设置：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">正确的时区</li><li class="listitem">NTP服务器提供的自动时间设置。
						</li><li class="listitem">特定的NTP服务器。
						</li></ul></div><h4><a id="prerequisites_5"></a>先决条件</h4><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">必须安装和访问Web控制台。
						</p><p class="simpara">有关详细信息，请参阅<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/managing_systems_using_the_rhel_8_web_console/index#installing-the-web-console_getting-started-with-the-rhel-8-web-console">安装Web控制台</a> 。
						</p></li></ul></div><h4><a id="procedure_5"></a>程序</h4><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p class="simpara">登录RHEL 8 Web控制台。
						</p><p class="simpara">有关详细信息，请参阅<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/managing_systems_using_the_rhel_8_web_console/index#logging-in-to-the-web-console_getting-started-with-the-rhel-8-web-console">登录Web控制台</a> 。
						</p></li><li class="listitem">单击<span class="strong"><strong>系统</strong></span> 。
						</li><li class="listitem"><p class="simpara">单击当前系统时间。
						</p><p class="simpara">
							<span class="inlinemediaobject"><img src="images/cockpit-time-settings.png" alt="驾驶舱时间设置"></span>

						</p></li><li class="listitem">在“ <span class="strong"><strong>更改系统时间”</strong></span>对话框中，根据需要更改时区。
						</li><li class="listitem"><p class="simpara">在“ <span class="strong"><strong>设置时间”</strong></span>下拉菜单中，选择：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">手动</li><li class="listitem">自动使用NTP服务器 - 这是默认选项。如果系统时间正确，请保持原样。
								</li><li class="listitem">自动使用特定NTP服务器 - 仅当您需要将系统与特定NTP服务器同步并添加服务器的DNS名称或IP地址时，才使用此选项。
								</li></ul></div></li><li class="listitem"><p class="simpara">单击<span class="strong"><strong>更改</strong></span> 。
						</p><p class="simpara">
							<span class="inlinemediaobject"><img src="images/cockpit-time-change.png" alt="驾驶舱时间变化"></span>

						</p></li></ol></div><p>现在，“ <span class="strong"><strong>系统”</strong></span>选项卡中提供了更改。
				</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="using-the-web-console-for-selecting-performance-profiles_configuring-system-settings-in-the-web-console"></a>使用Web控制台选择性能配置文件</h2></div></div></div><p>Red Hat Enterprise Linux 8包括性能配置文件优化：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">使用桌面的系统</li><li class="listitem">延迟表现</li><li class="listitem">网络性能</li><li class="listitem">功耗低</li><li class="listitem">虚拟机</li></ul></div><p>以下过程介绍如何在Web控制台中设置性能配置文件。
				</p><p>RHEL 8 Web控制台配置<code class="literal">tuned</code>服务。
				</p><p>有关已<code class="literal">tuned</code>服务的详细信息，请参阅<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/monitoring_and_managing_system_status_and_performance">监视和管理系统状态和性能</a> 。
				</p><h4><a id="prerequisites_6"></a>先决条件</h4><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">必须安装和访问Web控制台。
						</p><p class="simpara">有关详细信息，请参阅<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/managing_systems_using_the_rhel_8_web_console/index#installing-the-web-console_getting-started-with-the-rhel-8-web-console">安装Web控制台</a> 。
						</p></li></ul></div><h4><a id="procedure_6"></a>程序</h4><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p class="simpara">登录RHEL 8 Web控制台。
						</p><p class="simpara">有关详细信息，请参阅<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/managing_systems_using_the_rhel_8_web_console/index#logging-in-to-the-web-console_getting-started-with-the-rhel-8-web-console">登录Web控制台</a> 。
						</p></li><li class="listitem">单击<span class="strong"><strong>系统</strong></span> 。
						</li><li class="listitem"><p class="simpara">在“ <span class="strong"><strong>性能配置文件”</strong></span>字段中，单击当前性能配置文件。
						</p><p class="simpara">
							<span class="inlinemediaobject"><img src="images/cockpit-performance-profile.png" alt="驾驶舱性能简介"></span>

						</p></li><li class="listitem">在“ <span class="strong"><strong>更改性能配置文件”</strong></span>对话框中，根据需要更改配置文件。
						</li><li class="listitem"><p class="simpara">单击<span class="strong"><strong>更改</strong></span> 。
						</p><p class="simpara">
							<span class="inlinemediaobject"><img src="images/cockpit-performance-profile-change.png" alt="驾驶舱性能变化"></span>

						</p></li></ol></div><p>现在，“ <span class="strong"><strong>系统”</strong></span>选项卡中提供了更改。
				</p></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="what-rhel-system-roles-are_getting-started-with-system-administration"></a> RHEL系统角色是什么以及它们可以用于哪些任务</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="intro-to-rhel-system-roles_what-rhel-system-roles-are"></a> RHEL系统角色简介</h2></div></div></div><p>红帽企业Linux系统角色是Ansible角色和模块的集合，提供远程管理多个RHEL系统的配置界面。该界面支持跨多个RHEL版本管理系统配置，以及采用新的主要版本。
				</p><p>Red Hat Enterprise Linux系统角色随Red Hat Enterprise Linux 7.4一起推出。有关更多信息，请参阅<a class="link" href="https://access.redhat.com/articles/3050101">Red Hat Enterprise Linux（RHEL）系统角色</a> Red Hat知识库文章。
				</p><p>在Red Hat Enterprise Linux 8上，该界面目前包含以下角色：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">SELinux的</li><li class="listitem">内核转储</li><li class="listitem">网络</li><li class="listitem">时间同步</li></ul></div><p>所有这些角色都由AppStream库中提供的<code class="literal">rhel-system-roles</code>包提供。
				</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="applying-a-role_what-rhel-system-roles-are"></a>申请角色</h2></div></div></div><p>要应用特定角色，您需要满足以下先决条件。
				</p><h4><a id="prerequisites_7"></a>先决条件</h4><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara"><code class="literal">rhel-system-roles</code>软件包已安装在您要用作控制节点的系统上：</p><pre class="literallayout">~]#  yum install rhel-system-roles</pre></li><li class="listitem"><p class="simpara">该Ansible引擎库已经启用，并且<code class="literal">ansible</code>包已经安装了要作为控制节点中使用的系统。运行使用红帽企业Linux系统角色的剧本需要<code class="literal">ansible</code>包。
						</p><p class="simpara">
							<span class="strong"><strong>如果您没有Red Hat Ansible Engine订阅，则可以使用Red Hat Enterprise Linux订阅提供的受限支持的Red Hat Ansible Engine版本。</strong></span> 在这种情况下，请按照下列步骤操作</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">启用RHEL Ansible Engine存储库：</p><pre class="literallayout">~]# subscription-manager refresh
~]# subscription-manager repos --enable ansible-2-for-rhel-8-x86_64-rpms</pre></li><li class="listitem"><p class="simpara">安装Ansible引擎：</p><pre class="literallayout">~]# yum install ansible</pre><p class="simpara">
									<span class="strong"><strong>如果您有Red Hat Ansible Engine订阅，请按照<a class="link" href="https://access.redhat.com/articles/3174981">如何下载和安装Red Hat Ansible Engine中</a>描述的步骤进行<a class="link" href="https://access.redhat.com/articles/3174981">操作？</a></strong></span> 。
								</p></li></ul></div></li><li class="listitem"><p class="simpara">您可以创建一个Ansible剧本。
						</p><p class="simpara">Playbooks代表Ansible的配置，部署和编排语言。通过使用Playbooks，您可以声明和管理远程计算机的配置，部署多个远程计算机或协调任何手动订购过程的步骤。
						</p><p class="simpara">一个剧本是一个或多个列表<code class="literal">plays</code> 。每个<code class="literal">play</code>都可以包含Ansible变量，任务或角色。
						</p><p class="simpara">Playbooks是人类可读的，它们以<code class="literal">YAML</code>格式表示。
						</p><p class="simpara">有关playbooks的更多信息，请参阅<a class="link" href="https://docs.ansible.com/ansible/latest/user_guide/playbooks.html">Ansible文档</a>
						</p></li></ul></div><p>要应用特定角色，请使用以下过程。
				</p><h4><a id="procedure_7"></a>程序</h4><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p class="simpara">创建一个包含所需角色的Ansible剧本。
						</p><p class="simpara">使用角色的经典方法是通过<code class="literal">roles:</code>给定<code class="literal">play</code>选项，如下例所示：</p><pre class="literallayout">---
- hosts: webservers
  roles:
     - rhel-system-roles.network
     - rhel-system-roles.timesync</pre><p class="simpara">有关在playbooks中使用角色的更多信息，请参阅<a class="link" href="https://docs.ansible.com/ansible/latest/user_guide/playbooks_reuse_roles.html">Ansible文档</a> 。
						</p><p class="simpara">有关示例playbooks，请参阅<a class="link" href="https://github.com/ansible/ansible-examples">Ansible示例</a> 。
						</p><div class="note" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">注意</h3><p>每个角色都包含一个README文件，该文件记录了如何使用角色和支持的参数值。您还可以在角色的文档目录下找到特定角色的示例手册。默认情况下，此类文档目录随<code class="literal">rhel-system-roles</code>软件包提供，可在以下位置找到：</p><pre class="literallayout">/usr/share/doc/rhel-system-roles-&lt;version&gt;/SUBSYSTEM/</pre><p>其中SUBSYSTEM是包含单个角色管理的子系统的名称 -  selinux，kdump，network或timesync。
							</p></div></li><li class="listitem"><p class="simpara">通过运行<code class="literal">ansible-playbook</code>命令在目标主机上执行<code class="literal">ansible-playbook</code> ：</p><pre class="literallayout">ansible-playbook -i &lt;name of the inventory&gt; &lt;name of the playbook&gt;</pre><p class="simpara">库存是Ansible工作的系统列表。有关如何创建和清点以及如何使用它的更多信息，请参阅<a class="link" href="https://docs.ansible.com/ansible/latest/user_guide/intro_inventory.html">Ansible文档</a> 。
						</p><p class="simpara">如果您尚未提前创建库存，即使在运行<code class="literal">ansible-playbook</code>时也可以这样做：</p><p class="simpara">对于只有一个目标主机，您想要运行该剧本的情况，请使用：</p><pre class="literallayout">ansible-playbook -i  host1, &lt;name of the playbook&gt;</pre><p class="simpara">对于具有多个目标主机的情况，您要对其运行该剧本，请使用：</p><pre class="literallayout">ansible-playbook -i  host1,host2,…​.,hostn &lt;name of the playbook&gt;</pre><p class="simpara">有关使用<code class="literal">ansible-playbook</code>命令的更多详细信息，请参阅<code class="literal">ansible-playbook</code>手册页。
						</p></li></ol></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="Basics-environment-conf_getting-started-with-system-administration"></a>环境的基本配置</h1></div></div></div><p>环境的基本配置包括：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">日期和时间</li><li class="listitem">系统区域设置</li><li class="listitem">键盘布局</li></ul></div><p>这些项目的设置通常是安装过程的一部分。有关更多信息，请参阅<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/performing_a_standard_rhel_installation/">执行标准RHEL安装</a> 。
			</p><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Setting_Date_Time"></a>配置日期和时间简介</h2></div></div></div><p>出于多种原因，准确的计时很重要。在Red Hat Enterprise Linux中， <code class="literal">NTP</code>协议确保了计时， <code class="literal">NTP</code>协议由在用户空间中运行的守护程序实现。用户空间守护程序更新内核中运行的系统时钟。系统时钟可以通过使用各种时钟源来节省时间。
				</p><p>Red Hat Enterprise Linux 8使用<code class="literal">chronyd</code>守护程序来实现<code class="literal">NTP</code> 。 <code class="literal">chronyd</code>可从<span class="strong"><strong><span class="package">chrony</span></strong></span>包中获得。有关使用<code class="literal">chronyd</code>配置和使用<code class="literal">NTP</code>更多信息，请参阅<a class="xref" href="using-chrony-to-configure-ntp.html" title="Chapter 9. 使用Chrony套件配置NTP">第5章， <em>使用Chrony套件配置NTP</em></a> 。</p><h4><a id="displaying_the_current_date_and_time"></a>显示当前日期和时间</h4><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">要显示当前日期和时间，请使用以下命令之一：</p><pre class="literallayout">~]$ <code class="literal">date</code>
~]$ <code class="literal">timedatectl</code></pre><p class="simpara">请注意， <code class="literal">timedatectl</code>命令提供更详细的输出，包括通用时间，当前使用的时区，网络时间协议（NTP）配置的状态以及一些其他信息。
						</p></li></ul></div><p>有关在安装期间配置日期和时间的详细信息，请参阅<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/performing_a_standard_rhel_installation/">执行标准RHEL安装</a> 。
				</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sec-Cockpit-time-configurations"></a>在RHEL 8 Web控制台中管理时间配置</h3></div></div></div><p>Web控制台中的时间设置描述<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/managing_systems_using_the_web_console/index#using-the-web-console-for-configuring-time-settings_configuring-system-settings-in-the-web-console">使用Web控制台配置时间设置</a> 。
					</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Setting_Syst_Locale"></a>配置系统区域设置简介</h2></div></div></div><p>系统范围的语言环境设置存储在<code class="literal">/etc/locale.conf</code>文件中，该文件在<code class="literal">systemd</code>守护程序的早期启动时读取。<code class="literal">/etc/locale.conf</code>中配置的区域设置由每个服务或用户继承，除非单个程序或单个用户覆盖它们。
				</p><p>处理系统区域设置的基本任务：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">列出可用的系统区域设置：</p><pre class="literallayout">~]$ <code class="literal">localectl list-locales</code></pre></li><li class="listitem"><p class="simpara">显示系统区域设置的当前状态：</p><pre class="literallayout">~]$ <code class="literal">localectl status</code></pre></li><li class="listitem"><p class="simpara">设置或更改默认系统区域设置：</p><pre class="literallayout">~]# localectl set-locale LANG=locale</pre></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Setting_Keyboard_Layout"></a>配置键盘布局简介</h2></div></div></div><p>键盘布局设置控制文本控制台和图形用户界面上使用的布局。
				</p><p>处理键盘布局的基本任务包括：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">列出可用的键盘映射：</p><pre class="literallayout">~]$ <code class="literal">localectl list-keymaps</code></pre></li><li class="listitem"><p class="simpara">显示键映射设置的当前状态：</p><pre class="literallayout">~]$ <code class="literal">localectl status</code></pre></li><li class="listitem"><p class="simpara">设置或更改默认系统键映射：</p><pre class="literallayout">~]# localectl set-keymap</pre></li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="Network-access"></a>配置和管理网络访问</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="configuring_network_access_during_the_installation_process"></a>在安装过程中配置网络访问</h2></div></div></div><p>在安装过程中配置网络访问的方法：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><span class="strong"><strong><span class="application">Anaconda</span></strong></span>安装程序的图形用户界面中“安装摘要”屏幕上的“ <span class="guibutton">网络和主机名”</span>菜单</li><li class="listitem"><span class="strong"><strong><span class="application">Anaconda</span></strong></span>安装程序的文本模式中的<span class="guibutton">网络设置</span>选项</li><li class="listitem">Kickstart文件</li></ul></div><p>安装完成后系统首次引导时，将自动激活您在安装期间配置的所有网络接口。
				</p><p>有关在安装过程中配置网络访问的详细信息，请参阅<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8-beta/html-single/installing_red_hat_enterprise_linux_8/">安装Red Hat Enterprise Linux 8</a> 。
				</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sec-Network-access-after-installation-nmcli"></a>使用nmcli在安装过程后管理网络连接</h2></div></div></div><p>运行以下命令以使用<span class="strong"><strong><span class="application">nmcli</span></strong></span>实用程序管理网络连接。
				</p><div class="note" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">注意</h3><p>当按<span class="keycap"><strong>Tab</strong></span>键两次时， <span class="strong"><strong><span class="application">nmcli</span></strong></span>实用程序具有强大的语法完成功能。您需要安装<code class="literal">bash-completion</code>软件包才能启用它。
					</p></div><p>要创建新连接：</p><pre class="literallayout">~]# nmcli con add type <span class="emphasis"><em>type of the connection</em></span> con-name <span class="emphasis"><em>connection name</em></span> ifname <span class="emphasis"><em>ifname</em></span> ipv4.addresses <span class="emphasis"><em>ipv4 address</em></span> ipv4.gateway <span class="emphasis"><em>gateway address</em></span></pre><p>在这里，替换：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
							所需类型的设备<span class="emphasis"><em>的连接</em></span>类型</li><li class="listitem">
							<span class="emphasis"><em>连接名称</em></span>所需的连接名称</li><li class="listitem">
							<span class="emphasis"><em>ifname</em></span>由所需的设备名称</li><li class="listitem">
							<span class="emphasis"><em>ipv4地址</em></span>所需的IPv4地址/网络掩码</li><li class="listitem">
							<span class="emphasis"><em>网关地址</em></span>所需的网关地址</li></ul></div><p>请注意， <span class="emphasis"><em>ipv4地址</em></span>和<span class="emphasis"><em>网关地址</em></span>是可选设置，而所有剩余设置都是必需的。
				</p><p>您还可以在辅助模式下创建新连接。为此，请运行此命令，并按照提示输入此连接的特定配置设置的说明进行操作：</p><pre class="literallayout">~]# nmcli -a con add</pre><p>要修改现有连接：</p><pre class="literallayout">~]# nmcli con mod <span class="emphasis"><em>connection name</em></span> <span class="emphasis"><em>setting.property</em></span> <span class="emphasis"><em>newvalue</em></span></pre><p>在这里，替换：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
							<span class="emphasis"><em>连接名称</em></span> ，您要修改的连接的名称</li><li class="listitem">
							<span class="emphasis"><em>setup.property</em></span>由您要修改的配置设置</li><li class="listitem">
							<span class="emphasis"><em>newvalue</em></span>按此配置设置所需的值</li></ul></div><p>例如，为了IPv4地址（ipv4.method）的配置的方式设置为<code class="literal">auto</code>为连接命名<code class="literal">enp0</code> ，使用下面的命令：</p><pre class="literallayout">~]# nmcli con mod enp0 ipv4.method auto</pre><p>要编辑连接，请运行以下命令：</p><pre class="literallayout">~]# nmcli connection edit <span class="emphasis"><em>connection name</em></span></pre><p>在此处，将<span class="emphasis"><em>连接名称</em></span>替换为要编辑的连接的名称。
				</p><p>要显示所有连接：</p><pre class="literallayout">~]# nmcli con show</pre><p>要显示活动连接：</p><pre class="literallayout">~]# nmcli con show --active</pre><p>要显示特定连接的所有配置设置：</p><pre class="literallayout">~]# nmcli con show con-name <span class="emphasis"><em>connection name</em></span></pre><p>在这里，用所需连接的名称替换<span class="emphasis"><em>连接名称</em></span> 。
				</p><p>然后，按照提示输入特定配置设置的说明进行操作。要显示任何配置设置的所有可能选项，请在编辑器中使用<code class="literal">print</code>命令。
				</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sec-Network-access-after-installation-nmtui"></a>使用nmtui在安装过程之后管理网络连接</h2></div></div></div><p><span class="strong"><strong><span class="application">NetworkManager</span></strong></span>文本用户界面（TUI）实用程序<span class="strong"><strong><span class="application">nmtui</span></strong></span>提供了一个文本界面，用于通过控制<span class="strong"><strong><span class="application">NetworkManager</span></strong></span>来配置网络。
				</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sec-Networking-Cockpit"></a>在RHEL 8 Web控制台中管理网络</h2></div></div></div><p>在Web控制台中， <span class="guibutton">Networking</span>菜单使您能够：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">显示当前接收和发送的数据包</li><li class="listitem">显示可用网络接口的最重要特征</li><li class="listitem">显示网络日志的内容。
						</li><li class="listitem">添加各种类型的网络接口（绑定，团队，网桥，VLAN）</li></ul></div><div class="figure"><a id="figu-Manag-networking-cockpit"></a><p class="title"><strong>图1.1。在RHEL 8 Web控制台中管理网络</strong></p><div class="figure-contents"><div class="mediaobject"><img src="images/cs_getting_started_networking_new.png" alt="开始联网新的"></div></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sec-Networking-rhel-system-roles"></a>使用RHEL系统角色管理网络</h2></div></div></div><p>您可以使用<code class="literal">network</code>角色在多台目标计算机上配置网络连接。
				</p><p><code class="literal">network</code>角色允许配置以下类型的接口：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">以太网络</li><li class="listitem">桥</li><li class="listitem">保税</li><li class="listitem">VLAN</li><li class="listitem">MacVLAN</li><li class="listitem">Infiniband的</li></ul></div><p>每个主机所需的网络连接在<code class="literal">network_connections</code>变量中作为列表提供。
				</p><div class="warning" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">警告</h3><p><code class="literal">network</code>角色完全按照<code class="literal">network_connections</code>变量中的指定更新或创建目标系统上的所有连接配置文件。因此，如果选项仅存在于系统上但不存在于<code class="literal">network_connections</code>变量中，则<code class="literal">network</code>角色将从指定的配置文件中删除选项。
					</p></div><p>以下示例显示如何应用<code class="literal">network</code>角色以确保存在具有所需参数的以太网连接：</p><div class="example"><a id="idm140276618333072"></a><p class="title"><strong>例1.1。应用网络角色以设置具有所需参数的以太网连接的示例手册</strong></p><div class="example-contents"><pre class="literallayout"># SPDX-License-Identifier: BSD-3-Clause
---
- hosts: network-test
  vars:
    network_connections:

      # Create one ethernet profile and activate it.
      # The profile uses automatic IP addressing
      # and is tied to the interface by MAC address.
      - name: prod1
        state: up
        type: ethernet
        autoconnect: yes
        mac: "00:00:5e:00:53:00"
        mtu: 1450

  roles:
    - rhel-system-roles.network</pre></div></div><p>有关应用<code class="literal">network</code>角色的更多信息，以及有关使用角色的更多示例，请参阅<a class="link" href="https://github.com/linux-system-roles/network">系统角色文档</a> 。
				</p></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="registering-the-system-and-managing-subscriptions_getting-started-with-system-administration"></a>注册系统和管理订阅</h1></div></div></div><p>Red Hat Enterprise Linux上安装的产品，包括操作系统本身，都包含在订阅中。
			</p><p>订阅Red Hat Content Delivery Network用于跟踪：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">注册系统</li><li class="listitem">在这些系统上安装的产品</li><li class="listitem">附加到这些产品的订阅</li></ul></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="basics-registering-managing-subscriptions_registering-the-system-and-managing-subscriptions"></a>安装后注册系统</h2></div></div></div><p>您的订阅可以在安装过程中注册。有关更多信息，请参阅<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/performing_a_standard_rhel_installation/">执行标准RHEL安装</a> 。
				</p><p>如果您在安装过程中未注册系统，则可以通过以下步骤进行操作。请注意，此过程中的所有命令都需要以<code class="literal">root</code>用户身份执行。
				</p><div class="orderedlist"><a id="Reg-your-system"></a><p class="title"><strong>注册和订阅您的系统</strong></p><ol class="orderedlist"><li class="listitem"><p class="simpara">注册您的系统：</p><pre class="literallayout">~]# subscription-manager register</pre><p class="simpara">该命令将提示您输入Red Hat Customer Portal用户名和密码。
						</p></li><li class="listitem"><p class="simpara">确定所需订阅的池ID：</p><pre class="literallayout">~]# subscription-manager list --available</pre><p class="simpara">此命令显示Red Hat帐户的所有可用订阅。对于每个订阅，将显示各种特征，包括池ID。</p></li><li class="listitem"><p class="simpara">通过将<span class="emphasis"><em>pool_id</em></span>替换为上一步中确定的池ID，将适当的订阅附加到您的系统：</p><pre class="literallayout">~]# subscription-manager attach --pool=<span class="emphasis"><em>pool_id</em></span></pre></li></ol></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="registering-subscriptions-with-credentials-in-the-web-console_registering-the-system-and-managing-subscriptions"></a>在Web控制台中使用凭据注册订阅</h2></div></div></div><p>以下描述使用RHEL 8 Web控制台订阅新安装的Red Hat Enterprise Linux。
				</p><h4><a id="prerequisites_8"></a>先决条件</h4><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">红帽客户门户中的有效用户帐户。
						</p><p class="simpara">请参阅<a class="link" href="https://www.redhat.com/wapps/ugc/register.html">创建Red Hat登录</a>页面。
						</p></li><li class="listitem">RHEL系统的有效订阅。
						</li></ul></div><h4><a id="procedure_8"></a>程序</h4><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p class="simpara">在搜索字段中键入订阅，然后按<span class="strong"><strong>Enter</strong></span>键。
						</p><p class="simpara">
							<span class="inlinemediaobject"><img src="images/cockpit-subscription-icon.png" alt="驾驶舱订阅图标"></span>

						</p><p class="simpara">或者，您可以登录RHEL 8 Web控制台。有关详细信息，请参阅<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/managing_systems_using_the_rhel_8_web_console/index#logging-in-to-the-web-console_getting-started-with-the-rhel-8-web-console">登录Web控制台</a> 。
						</p></li><li class="listitem"><p class="simpara">在特权任务的polkit身份验证对话框中，添加对话框中显示的用户名密码。
						</p><p class="simpara">
							<span class="inlinemediaobject"><img src="images/cockpit-subscription-password.png" alt="驾驶舱订阅密码"></span>

						</p></li><li class="listitem">单击“ <span class="strong"><strong>验证”</strong></span> 。
						</li><li class="listitem"><p class="simpara">在“ <span class="strong"><strong>订阅”</strong></span>对话框中，单击“ <span class="strong"><strong>注册”</strong></span> 。
						</p><p class="simpara">
							<span class="inlinemediaobject"><img src="images/cockpit-subscription-notregistered.png" alt="驾驶舱订阅未注册"></span>

						</p></li><li class="listitem"><p class="simpara">输入您的客户门户凭据。
						</p><p class="simpara">
							<span class="inlinemediaobject"><img src="images/cockpit-subscription-register-cred.png" alt="驾驶舱订阅注册信用"></span>

						</p></li><li class="listitem"><p class="simpara">输入您组织的名称。
						</p><p class="simpara">如果您在Red Hat客户门户中有多个帐户，则需要添加组织名称或组织ID。要获取组织ID，请转到您的Red Hat联系点。
						</p></li><li class="listitem">单击“ <span class="strong"><strong>注册”</strong></span>按钮。
						</li></ol></div><p>此时，您的RHEL 8系统已成功注册。
				</p><p>
					<span class="inlinemediaobject"><img src="images/cockpit-subscription-registered.png" alt="驾驶舱订阅已注册"></span>

				</p></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="basics-installing-software_getting-started-with-system-administration"></a>安装软件</h1></div></div></div><p>本节提供的信息可指导您完成软件安装的基础知识。它提到了您需要满足的先决条件才能安装软件，提供有关软件包和软件存储库的基本信息，并提供执行与软件安装相关的基本任务的方法。
			</p><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sec-Installation-Prereq"></a>软件安装的先决条件</h2></div></div></div><p>Red Hat Content Delivery Network订阅服务提供了一种处理Red Hat软件清单的机制，使您能够安装其他软件或更新已安装的软件包。您可以在注册系统并附加订阅后开始安装软件，如<a class="xref" href="getting-started-with-system-administration_configuring-basic-system-settings.html#basics-registering-managing-subscriptions_registering-the-system-and-managing-subscriptions" title="Registering the system after the installation">“安装后注册系统”一节</a>中<a class="xref" href="getting-started-with-system-administration_configuring-basic-system-settings.html#basics-registering-managing-subscriptions_registering-the-system-and-managing-subscriptions" title="安装后注册系统">所述</a> 。
				</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sec-Installation-Intro"></a>介绍软件包装和软件存储库系统</h2></div></div></div><p>Red Hat Enterprise Linux系统上的所有软件都分为RPM软件包，这些软件包存储在特定的存储库中。当系统订阅Red Hat Content Delivery Network时，会在<code class="literal">/etc/yum.repos.d/</code>目录中创建一个存储库文件。
				</p><p>使用<code class="literal">yum</code>实用程序来管理包操作：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">搜索有关包的信息</li><li class="listitem">安装包</li><li class="listitem">更新包</li><li class="listitem">删除包</li><li class="listitem">检查当前可用存储库的列表</li><li class="listitem">添加或删除存储库</li><li class="listitem">启用或禁用存储库</li></ul></div><p>有关与软件安装相关的基本任务的信息，请参阅<a class="xref" href="getting-started-with-system-administration_configuring-basic-system-settings.html#sec-Installation-Basic-Tasks" title="使用订阅管理器和yum管理基本的软件安装任务">“使用订阅管理器和yum管理基本软件安装任务”一节</a> 。
				</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sec-Installation-Basic-Tasks"></a>使用订阅管理器和yum管理基本的软件安装任务</h2></div></div></div><p>安装操作系统后可能需要的最基本的软件安装任务包括：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">列出所有可用的存储库：</p><pre class="literallayout">~]# subscription-manager repos --list</pre></li><li class="listitem"><p class="simpara">列出所有当前启用的存储库：</p><pre class="literallayout">~]$ <code class="literal">yum repolist</code></pre></li><li class="listitem"><p class="simpara">启用或禁用存储库：</p><pre class="literallayout">~]# subscription-manager repos --enable <span class="emphasis"><em>repository</em></span></pre><pre class="literallayout">~]# subscription-manager repos --disable <span class="emphasis"><em>repository</em></span></pre></li><li class="listitem"><p class="simpara">搜索与特定字符串匹配的包：</p><pre class="literallayout">~]$ <code class="literal">yum search</code> <span class="emphasis"><em>string</em></span></pre></li><li class="listitem"><p class="simpara">安装包：</p><pre class="literallayout">~]# yum install <span class="emphasis"><em>package_name</em></span></pre></li><li class="listitem"><p class="simpara">更新所有包及其依赖项：</p><pre class="literallayout">~]# yum update</pre></li><li class="listitem"><p class="simpara">更新包：</p><pre class="literallayout">~]# yum update <span class="emphasis"><em>package_name</em></span></pre></li><li class="listitem"><p class="simpara">卸载程序包以及依赖它的任何程序包：</p><pre class="literallayout">~]# yum remove <span class="emphasis"><em>package_name</em></span></pre></li><li class="listitem"><p class="simpara">列出所有已安装和可用包的信息：</p><pre class="literallayout">~]$ <code class="literal">yum list all</code></pre></li><li class="listitem"><p class="simpara">列出所有已安装软件包的信息：</p><pre class="literallayout">~]$ <code class="literal">yum list installed</code></pre></li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="basics-systemd-services_getting-started-with-system-administration"></a>使系统服务在启动时启动</h1></div></div></div><p>Systemd是Linux操作系统的系统和服务管理器，它引入了systemd单元的概念。
			</p><p>本节提供有关如何确保在引导时启用或禁用服务的信息。它还解释了如何通过Web控制台管理服务。
			</p><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="enabling-disabling-systemd-services"></a>启用或禁用服务</h2></div></div></div><p>您可以确定在安装过程中已在启动时启用或禁用的服务，也可以在已安装的操作系统上启用或禁用服务。
				</p><p>要在安装过程中创建启动或禁用的服务列表，请使用Kickstart文件中的<code class="literal">services</code>选项：</p><pre class="literallayout">services [--disabled=list] [--enabled=list]</pre><div class="note" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">注意</h3><p>已禁用的服务列表在启用的服务列表之前处理。因此，如果两个列表中都显示服务，则会启用该服务。应以逗号分隔格式提供服务列表。不要在服务列表中包含空格。
					</p></div><p>要在已安装的操作系统上启用或禁用服务：</p><pre class="literallayout">~]# systemctl enable <span class="emphasis"><em>service_name</em></span></pre><pre class="literallayout">~]# systemctl disable <span class="emphasis"><em>service_name</em></span></pre><p>有关启用和禁用服务的更多详细信息，请参阅<a class="xref" href="managing-services-with-systemd_configuring-basic-system-settings.html#managing-system-services_managing-services-with-systemd" title="管理系统服务">“管理系统服务”一节</a> 。
				</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="managing-systemd-cockpit"></a>在RHEL 8 Web控制台中管理服务</h2></div></div></div><p>在Web控制台中，选择“ <span class="guibutton">服务”</span>以管理系统目标，服务，套接字，计时器和路径。在那里，您可以检查其状态，启动或停止它们，启用或禁用它们。
				</p><div class="figure"><a id="figu-Manag-systemd-cockpit"></a><p class="title"><strong>图1.2。在RHEL 8 Web控制台中管理服务</strong></p><div class="figure-contents"><div class="mediaobject"><img src="images/cs_getting_started_systemd_new2.png" alt="cs入门systemd new2"></div></div></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="basics-security-firewall-selinux-SSH"></a>使用防火墙，SELinux和SSH登录增强系统安全性</h1></div></div></div><p>计算机安全性是保护计算机系统免受其硬件，软件或信息的盗窃或损坏，以及它们提供的服务的中断或误导。因此，确保计算机安全性不仅是处理敏感数据或处理某些业务交易的企业的重要任务。
			</p><p>计算机安全包括各种功能和工具。本节仅介绍安装操作系统后需要配置的基本安全功能。有关保护Red Hat Enterprise Linux的详细信息，请参阅<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8-beta/html-single/configuring_and_managing_security/">配置和管理安全性</a> 。
			</p><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sec-Firewall"></a>确保防火墙已启用并正在运行</h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sec-Firewall-definition"></a>什么是防火墙以及它如何增强系统安全性</h3></div></div></div><p>防火墙是一种网络安全系统，它根据预定的安全规则监视和控制传入和传出的网络流量。防火墙通常在可信，安全的内部网络和另一个外部网络之间建立屏障。
					</p><p>防火墙由<code class="literal">firewalld</code>服务提供，该服务在安装期间自动启用。但是，如果您明确禁用了该服务，则可以重新启用它，如<a class="xref" href="getting-started-with-system-administration_configuring-basic-system-settings.html#sec-Reenabling-Firewall" title="重新启用firewalld服务">“重新启用firewalld服务”一节中所述</a> 。
					</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sec-Reenabling-Firewall"></a>重新启用firewalld服务</h3></div></div></div><p>如果在安装后禁用了<code class="literal">firewalld</code>服务，Red Hat建议考虑重新启用它。
					</p><p>即使是普通用户，您也可以显示<code class="literal">firewalld</code>的当前状态：</p><pre class="literallayout">~]$ <code class="literal">systemctl status firewalld</code></pre><p>如果<code class="literal">firewalld</code>未启用并正在运行，请切换到<code class="literal">root</code>用户，并更改其状态：</p><pre class="literallayout">~]# systemctl start firewalld</pre><pre class="literallayout">~]# systemctl enable firewalld</pre><p>有关配置和使用防火墙的详细信息，请参阅<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8-beta/html-single/configuring_and_managing_security/#assembly_using-firewalls-auditing-the-system">使用和配置防火墙</a> 。
					</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sec-Firewall-in-the-rhel-8-web-console"></a>在RHEL 8 Web控制台中管理防火墙</h3></div></div></div><p>在Web控制台中，使用<span class="guibutton">网络</span>下的<span class="guibutton">防火墙</span>选项可启用或禁用<code class="literal">firewalld</code>服务。
					</p><p>默认情况下，Web控制台中的<code class="literal">firewalld</code>服务已启用。要禁用它，设置<code class="literal">off</code> ，如下所示。此外，您可以选择要通过防火墙允许的服务。
					</p><div class="figure"><a id="figu-Manag-firewall-cockpit"></a><p class="title"><strong>图1.3。在RHEL 8 Web控制台中管理防火墙</strong></p><div class="figure-contents"><div class="mediaobject"><img src="images/cs_getting_started_firewall_new.png" alt="cs入门防火墙新"></div></div></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sec-SELinux"></a>确保SELinux的适当状态</h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sec-SELinux-definition"></a> SELinux是什么以及它如何增强系统安全性</h3></div></div></div><p>
						<span class="strong"><strong><span class="application">安全性增强型Linux（SELinux）</span></strong></span>是系统安全性的附加层，用于确定哪个进程可以访问哪些文件，目录和端口。
					</p><h4><a id="selinux_states"></a> SELinux说</h4><p>
						<span class="strong"><strong><span class="application">SELinux</span></strong></span>有两种可能的状态：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">启用</li><li class="listitem">残</li></ul></div><p>禁用<span class="strong"><strong><span class="application">SELinux时</span></strong></span> ，仅使用自由访问控制（DAC）规则。
					</p><h4><a id="selinux_modes"></a> SELinux模式</h4><p>启用<span class="strong"><strong><span class="application">SELinux后</span></strong></span> ，它可以以下列模式之一运行：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">强制执行</li><li class="listitem">宽容</li></ul></div><p>强制模式意味着强制执行<span class="strong"><strong><span class="application">SELinux</span></strong></span>策略。<span class="strong"><strong><span class="application">SELinux</span></strong></span>基于<span class="strong"><strong><span class="application">SELinux</span></strong></span>策略规则拒绝访问，并仅启用特别允许的交互。执行模式是安装后的默认模式，也是最安全的<span class="strong"><strong><span class="application">SELinux</span></strong></span>模式。
					</p><p>许可模式意味着不强制执行<span class="strong"><strong><span class="application">SELinux</span></strong></span>策略。<span class="strong"><strong><span class="application">SELinux</span></strong></span>不拒绝访问，但是如果在强制模式下运行，则会拒绝拒绝操作。许可模式是安装期间的默认模式。在某些特定情况下，以许可模式运行也很有用，例如，在解决问题时需要访问访问向量缓存（AVC）拒绝。
					</p><p>有关<span class="strong"><strong><span class="application">SELinux的</span></strong></span>更多信息，请参阅<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8-beta/html-single/configuring_and_managing_security/">配置和管理安全性</a> 。
					</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sec-SELinux-ensure-required-state"></a>确保SELinux的所需状态</h2></div></div></div><p>默认情况下， <span class="strong"><strong><span class="application">SELinux</span></strong></span>在安装期间以许可模式运行，在安装完成时以强制模式运行。
				</p><p>但是，在某些特定情况下， <span class="strong"><strong><span class="application">SELinux</span></strong></span>可能会明确设置为许可模式，甚至可能在已安装的操作系统上禁用。这可以在kickstart配置中设置。
				</p><div class="important" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">重要</h3><p>Red Hat建议您将系统保持在强制模式。
					</p></div><p>要显示当前的SELinux模式，并根据需要设置模式：</p><div class="orderedlist"><a id="Setting-SELinux-state"></a><p class="title"><strong>确保SELinux所需的状态</strong></p><ol class="orderedlist"><li class="listitem"><p class="simpara">显示当前有效的<span class="strong"><strong><span class="application">SELinux</span></strong></span>模式：</p><pre class="literallayout">~]$ <code class="literal">getenforce</code></pre></li><li class="listitem"><p class="simpara">如果需要，在SELinux模式之间切换。
						</p><p class="simpara">该开关可以是临时的也可以是永久的。临时交换机在重新启动时不会持久，而永久交换机则是。
						</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">要临时切换到强制或许可模式：</p><pre class="literallayout">~]# setenforce Enforcing</pre><pre class="literallayout">~]# setenforce Permissive</pre></li><li class="listitem"><p class="simpara">要永久设置<span class="strong"><strong><span class="application">SELinux</span></strong></span>模式，请修改<code class="literal">/etc/selinux/config</code>配置文件中的<span class="emphasis"><em>SELINUX</em></span>变量。
								</p><p class="simpara">例如，要将<span class="strong"><strong><span class="application">SELinux</span></strong></span>切换为强制模式：</p><pre class="literallayout"># This file controls the state of SELinux on the system.
# SELINUX= can take one of these three values:
#     enforcing - SELinux security policy is enforced.
#     permissive - SELinux prints warnings instead of enforcing.
#     disabled - No SELinux policy is loaded.
SELINUX=enforcing</pre></li></ul></div></li></ol></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sec-SELinux-in-the-rhel-8-web-console"></a>在RHEL 8 Web控制台中管理SELinux</h3></div></div></div><p>在Web控制台中，使用<span class="guibutton">SELinux</span>选项打开或关闭<span class="strong"><strong><span class="application">SELinux</span></strong></span>强制策略。
					</p><p>默认情况下，Web控制台中的<span class="strong"><strong><span class="application">SELinux</span></strong></span>强制策略处于打开状态， <span class="strong"><strong><span class="application">SELinux</span></strong></span>以强制模式运行。通过关闭它，您可以将<span class="strong"><strong><span class="application">SELinux</span></strong></span>切换到许可模式。请注意，这种与/ etc / sysconfig / selinux文件中默认配置的偏差会在下次引导时自动恢复。
					</p><div class="figure"><a id="figu-Manag-selinux-cockpit"></a><p class="title"><strong>图1.4。在RHEL 8 Web控制台中管理SELinux</strong></p><div class="figure-contents"><div class="mediaobject"><img src="images/cs_getting_started-selinux-on.png" alt="cs开始使用selinux"></div></div></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sec-selinux-in-rhel-system-roles"></a>使用RHEL系统角色管理SELinux</h2></div></div></div><p>您可以使用<code class="literal">selinux</code>角色在多个目标计算机上管理各种<span class="strong"><strong><span class="application">SELinux</span></strong></span>本地自定义。
				</p><p>以下示例显示如何应用<code class="literal">selinux</code>角色来设置SELinux模式，并在需要应用更改时重新引导托管主机：</p><div class="example"><a id="idm140276563533744"></a><p class="title"><strong>例1.2。应用selinux角色设置SELinux模式的示例playbook</strong></p><div class="example-contents"><p>
						
					</p><pre class="literallayout">- hosts: selinux-test
  vars:
    # possible values: enforcing, permissive, disabled
    selinux_state: enforcing
  tasks:
    - name: execute the role and catch errors
      block:
        - include_role:
            name: rhel-system-roles.selinux
      rescue:
        # Fail if failed for a different reason than selinux_reboot_required.
        - name: handle errors
          fail:
            msg: "role failed"
          when: not selinux_reboot_required
        - name: Unconditionally reboot the machine with all defaults
          reboot:</pre></div></div><p>有关应用<code class="literal">selinux</code>角色来管理各种本地自定义的更多信息，例如将restorecon应用于文件系统树的某些部分，或管理文件上下文，SELinux布尔值，登录或端口，请参阅<a class="link" href="https://github.com/linux-system-roles/selinux">系统角色文档</a> 。
				</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sec-SSH"></a>通过SSH访问系统</h2></div></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sec-SSH-definition"></a>什么是基于SSH的访问以及它如何增强系统安全性</h3></div></div></div><p>如果要保护与其他计算机的通信，可以使用基于SSH的身份验证。
					</p><p>Secure Shell（SSH）是一种促进客户端 - 服务器通信的协议，允许用户远程登录到运行SSH的任何主机系统。SSH保护连接。客户端使用加密将其认证信息发送到服务器，并且在会话期间发送和接收的所有数据都在加密下传输。
					</p><p>SSH使其用户无需密码即可进行身份验证。为此，SSH使用私有 - 公钥方案。
					</p><p>有关SSH的更多信息，请参阅<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8-beta/html-single/configuring_and_managing_security/">配置和管理安全性</a> 。
					</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sec-SSH-connection"></a>配置基于密钥的SSH访问</h3></div></div></div><p>为了能够使用SSH连接，请创建一对由公钥和私钥组成的两个密钥。
					</p><div class="orderedlist"><a id="establish-ssh-con"></a><p class="title"><strong>创建密钥文件并将其复制到服务器</strong></p><ol class="orderedlist"><li class="listitem"><p class="simpara">生成公钥和私钥：</p><pre class="literallayout">~]$ <code class="literal">ssh-keygen</code></pre><p class="simpara">这两个键都存储在<code class="literal">~/.ssh/</code>目录中：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
										<code class="literal">~/.ssh/id_rsa.pub</code> - 公钥</li><li class="listitem"><p class="simpara">
										<code class="literal">~/.ssh/id_rsa</code> - 私钥</p><p class="simpara">公钥不需要保密。它用于验证私钥。私钥是秘密的。您可以选择使用在密钥生成过程中指定的密码来保护私钥。使用密码，身份验证更加安全，但不再是密码。您可以使用<code class="literal">ssh-agent</code>命令来避免这种情况。在这种情况下，您只需输入一次密码 - 在会话开始时。
									</p></li></ul></div></li><li class="listitem"><p class="simpara">将最近修改的公钥复制到要登录的远程计算机：</p><pre class="literallayout">~]# ssh-copy-id USER@hostname</pre><p class="simpara">因此，您现在可以以安全的方式进入系统，但无需输入密码。
							</p></li></ol></div></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sec-SSH-disabling-root-login"></a>禁用SSH root登录</h3></div></div></div><p>要提高系统安全性，可以禁用<code class="literal">root</code>用户的SSH访问权限，默认情况下已启用。
					</p><div class="orderedlist"><a id="Disable-SSH-Root-Login"></a><p class="title"><strong>禁用SSH root登录</strong></p><ol class="orderedlist"><li class="listitem"><p class="simpara">访问<code class="literal">/etc/ssh/sshd_config</code>文件：</p><pre class="literallayout">~]# vi /etc/ssh/sshd_config</pre></li><li class="listitem"><p class="simpara">将读取<code class="literal">#PermitRootLogin yes</code>的行更改为：</p><pre class="literallayout">PermitRootLogin no</pre></li><li class="listitem"><p class="simpara">重启<code class="literal">sshd</code>服务：</p><pre class="literallayout">~]# systemctl restart sshd</pre></li></ol></div><div class="note" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">注意</h3><p>使用<code class="literal">PermitRootLogin no</code> ， <code class="literal">root</code>用户无法直接登录系统。或者，可以允许<code class="literal">root</code>用户登录，但使用无密码身份验证方法（通常是基于密钥的身份验证），在<a class="xref" href="getting-started-with-system-administration_configuring-basic-system-settings.html#sec-SSH-connection" title="Configuring key-based SSH access">“配置基于密钥的SSH访问”一节</a>中进行<a class="xref" href="getting-started-with-system-administration_configuring-basic-system-settings.html#sec-SSH-connection" title="配置基于密钥的SSH访问">了</a>描述。要确保这一点，请在<code class="literal">/etc/ssh/sshd_config</code>文件中指定<code class="literal">PermitRootLogin prohibit-password</code> 。
						</p></div></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="managing-user-accounts_getting-started-with-system-administration"></a>管理用户帐户</h1></div></div></div><p>Red Hat Enterprise Linux是一个多用户操作系统，它允许不同计算机上的多个用户访问安装在一台计算机上的单个系统。每个用户都在自己的帐户下运营，因此管理用户帐户是红帽企业Linux系统管理的核心要素。
			</p><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="basics-managing-users_managing-user-accounts"></a>管理用户帐户的基础知识</h2></div></div></div><h4><a id="normal_and_system_accounts"></a>正常和系统帐户</h4><p>为特定系统的用户创建普通帐户。在正常的系统管理期间，可以添加，删除和修改此类帐户。
				</p><p>系统帐户代表系统上的特定应用程序标识符。此类帐户通常仅在软件安装时添加或操作，并且稍后不会对其进行修改。
				</p><div class="warning" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">警告</h3><p>系统帐户被假定为在系统上本地可用。如果远程配置和提供这些帐户，例如在LDAP配置的实例中，则可能发生系统中断和服务启动故障。
					</p></div><p>对于系统帐户，保留低于1000的用户ID。对于普通帐户，您可以使用从1000开始的ID。但是，建议的做法是从5000开始分配ID。有关更多信息，请参阅<a class="link" href="managing-users-groups-permissions_configuring-basic-system-settings.html#users-groups-reserved-ids_managing-users-groups-permissions" title="保留的用户和组ID">保留的用户和组ID</a> 。可以在<code class="literal">/etc/login.defs</code>文件中找到分配ID的准则：</p><pre class="literallayout"># Min/max values for automatic uid selection in useradd
#
UID_MIN                  1000
UID_MAX                 60000
# System accounts
SYS_UID_MIN               201
SYS_UID_MAX               999</pre><h4><a id="what_groups_are_and_which_purposes_they_can_be_used_for"></a>哪些组是什么以及它们可以用于哪些目的</h4><p>实体中的一个组，它将多个用户帐户绑定在一起以实现共同目的，例如授予对特定文件的访问权限。
				</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sec-Cmdline_Tools_User_Accounts"></a>用于管理用户帐户和组的基本命令行工具</h3></div></div></div><p>管理用户帐户和组的最基本任务以及相应的命令行工具包括：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">显示用户和组ID：</p><pre class="literallayout">~]$ <code class="literal">id</code></pre></li><li class="listitem"><p class="simpara">创建新用户帐户：</p><pre class="literallayout">~]# useradd [options] <span class="emphasis"><em>user_name</em></span></pre></li><li class="listitem"><p class="simpara">为属于<span class="emphasis"><em>用户名</em></span>的用户帐户分配新密码：</p><pre class="literallayout">~]# passwd <span class="emphasis"><em>user_name</em></span></pre></li><li class="listitem"><p class="simpara">将用户添加到组：</p><pre class="literallayout">~]# usermod -a -G group_name user_name</pre></li></ul></div><p>有关管理用户和组的详细信息，请参阅<a class="xref" href="managing-users-groups-permissions_configuring-basic-system-settings.html#user-groups-intro_managing-users-groups-permissions" title="用户和组简介">“用户和组简介”一节</a> 。
					</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="system-user-accounts-managed-in-the-web-console_managing-user-accounts"></a>在Web控制台中管理的系统用户帐户</h2></div></div></div><p>通过RHEL 8 Web控制台中显示的用户帐户，您可以：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">访问系统时对用户进行身份验证。
						</li><li class="listitem">设置他们对系统的访问权限。
						</li></ul></div><p>RHEL 8 Web控制台显示系统中的所有用户帐户。因此，您可以在首次登录Web控制台后看到至少一个用户帐户。
				</p><p>如果您已登录RHEL 8 Web控制台，则可以：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">创建新用户帐户。
						</li><li class="listitem">改变他们的参数。
						</li><li class="listitem">锁定帐户。
						</li><li class="listitem">终止用户会话。
						</li></ul></div><p>您可以在“ <span class="strong"><strong>帐户”</strong></span>设置中找到帐户管理。
				</p><p>
					<span class="inlinemediaobject"><img src="images/cockpit-user-accounts.png" alt="驾驶舱用户帐户"></span>

				</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="adding-new-accounts-in-the-web-console_managing-user-accounts"></a>在Web控制台中添加新帐户</h2></div></div></div><p>下面介绍如何在RHEL 8 Web控制台中添加系统用户帐户以及为帐户设置管理权限。
				</p><h4><a id="procedure_9"></a>程序</h4><div class="orderedlist"><ol class="orderedlist"><li class="listitem">登录RHEL Web控制台。
						</li><li class="listitem">单击<span class="strong"><strong>帐户</strong></span> 。
						</li><li class="listitem">单击“ <span class="strong"><strong>创建新帐户”</strong></span> 。
						</li><li class="listitem"><p class="simpara">在“ <span class="strong"><strong>全名”</strong></span>字段中，输入用户的全名。
						</p><p class="simpara">RHEL Web控制台自动从全名建议用户名，并在“ <span class="strong"><strong>用户名”</strong></span>字段中填写。如果您不想使用由名字的第一个字母和整个姓氏组成的原始命名约定，请更新建议。
						</p></li><li class="listitem"><p class="simpara">在“ <span class="strong"><strong>密码/确认”</strong></span>字段中，输入密码并重新键入密码以验证密码是否正确。放置在字段下方的颜色条显示输入密码的安全级别，这不允许您创建具有弱密码的用户。
						</p><p class="simpara">
							<span class="inlinemediaobject"><img src="images/cockpit-create-new-account.png" alt="驾驶舱创建新帐户"></span>

						</p></li><li class="listitem">单击“ <span class="strong"><strong>创建”</strong></span>以保存设置并关闭对话框。
						</li><li class="listitem">选择新创建的帐户。
						</li><li class="listitem">在“ <span class="strong"><strong>角色”</strong></span>项中选择“ <span class="strong"><strong>Server Administrator</strong></span> ”。
						</li></ol></div><p>
					<span class="inlinemediaobject"><img src="images/cockpit-terminate-session.png" alt="驾驶舱终止会议"></span>

				</p><p>现在，您可以在“ <span class="strong"><strong>帐户”</strong></span>设置中看到新帐户，并且可以使用凭据连接到系统。
				</p></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="basics-kdump"></a>使用kdump机制转储崩溃的内核</h1></div></div></div><p>本节介绍了内核崩溃转储机制，也称为<span class="strong"><strong><span class="application">kdump</span></strong></span> ，并在<a class="xref" href="getting-started-with-system-administration_configuring-basic-system-settings.html#sec-kdump_Definition" title="什么是kdump以及它可以用于哪些任务">“kdump是什么以及可以使用哪些任务”一节中</a>简要说明了<span class="strong"><strong><span class="application">kdump</span></strong></span>的用途。
			</p><p>激活<code class="literal">kdump</code>服务是安装过程的一部分，如<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8-beta/html-single/installing_red_hat_enterprise_linux_8/">安装Red Hat Enterprise Linux 8中所述</a> 。本节总结了如何在安装后禁用<code class="literal">kdump</code>服务时如何在<a class="xref" href="getting-started-with-system-administration_configuring-basic-system-settings.html#sec-kdump_Enablement_After_Installation" title="确保在安装过程之后安装并启用了kdump">“确保在安装过程之后安装和启用kdump”一节中</a>禁用它。
			</p><p>您还可以使用Web控制台配置<span class="strong"><strong><span class="application">kdump</span></strong></span> 。有关详细信息，请参阅<a class="xref" href="getting-started-with-system-administration_configuring-basic-system-settings.html#sec-kdump_in_web-console" title="在RHEL 8 Web控制台中配置kdump">“在RHEL 8 Web控制台中配置kdump”一节</a> 。
			</p><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sec-kdump_Definition"></a>什么是kdump以及它可以用于哪些任务</h2></div></div></div><p>如果系统崩溃，您可以使用名为<span class="strong"><strong><span class="application">kdump</span></strong></span>的内核崩溃转储机制，该机制允许您保存系统内存的内容以供以后分析。<span class="strong"><strong><span class="application">kdump</span></strong></span>机制依赖于kexec系统调用，该调用可用于从另一个内核的上下文启动Linux内核，绕过BIOS，并保留第一个内核的内存，否则这些内容将丢失。
				</p><p>当发生内核崩溃时， <span class="strong"><strong><span class="application">kdump</span></strong></span>使用kexec引导进入第二个内核，即捕获内核，它驻留在系统内存的保留部分，第一个内核无法访问。第二个内核捕获崩溃内核的内存，崩溃转储并保存它。
				</p><p>有关<span class="strong"><strong><span class="application">kdump的</span></strong></span>更多详细信息，请参阅<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8-beta/html-single/managing_monitoring_and_updating_the_kernel/">管理，监视和更新内核</a> 。
				</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sec-kdump_Enablement_After_Installation"></a>确保在安装过程之后安装并启用了kdump</h2></div></div></div><p>要确保安装了<span class="strong"><strong><span class="application">kdump</span></strong></span> ，并进行配置：</p><div class="orderedlist"><a id="install-conf-kdump"></a><p class="title"><strong>检查是否已安装kdump并配置kdump</strong></p><ol class="orderedlist"><li class="listitem"><p class="simpara">要检查系统上是否安装了<span class="strong"><strong><span class="application">kdump</span></strong></span> ：</p><pre class="literallayout">~]$ <code class="literal">rpm -q kexec-tools</code></pre></li><li class="listitem"><p class="simpara">如果未安装，要安装<span class="strong"><strong><span class="application">kdump</span></strong></span> ，请以<code class="literal">root</code>用户身份输入：</p><pre class="literallayout">~]# yum install kexec-tools</pre></li><li class="listitem"><p class="simpara">配置<span class="strong"><strong><span class="application">kdump</span></strong></span> ：</p><p class="simpara">使用命令行或图形用户界面，如<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8-beta/html-single/managing_monitoring_and_updating_the_kernel/#installing-and-configuring-kdump_managing-monitoring-and-updating-the-kernel">管理，监视和更新内核中所述</a> 。
						</p><p class="simpara">如果需要安装图形配置工具：</p><pre class="literallayout">~]# yum install system-config-kdump</pre></li></ol></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sec-kdump_in_web-console"></a>在RHEL 8 Web控制台中配置kdump</h2></div></div></div><p>在Web控制台中，选择<span class="guibutton">内核转储配置</span>以验证：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><span class="strong"><strong><span class="application">kdump</span></strong></span>状态</li><li class="listitem">为<span class="strong"><strong><span class="application">kdump</span></strong></span>保留的内存量
						</li><li class="listitem">崩溃转储文件的位置</li></ul></div><div class="figure"><a id="figu-Conf-kdump-cockpit"></a><p class="title"><strong>图1.5。在RHEL 8 Web控制台中配置kdump</strong></p><div class="figure-contents"><div class="mediaobject"><img src="images/cs_getting_started_kdump_new.png" alt="cs入门kdump新"></div></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sec-kdump_using-rhel-system-roles"></a>使用RHEL系统角色配置kdump</h2></div></div></div><p>您可以使用<code class="literal">kdump</code>角色在多台目标计算机上配置<span class="strong"><strong><span class="application">kdump</span></strong></span> 。
				</p><div class="warning" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">警告</h3><p><code class="literal">kdump</code>角色完全替换托管主机的<span class="strong"><strong><span class="application">kdump</span></strong></span>配置。如果应用了<code class="literal">kdump</code>角色，则所有先前的<span class="strong"><strong><span class="application">kdump</span></strong></span>设置都将丢失，即使角色变量未指定它们也是如此。<code class="literal">/etc/sysconfig/kdump</code>和<code class="literal">/etc/kdump.conf</code>配置文件将被替换。
					</p></div><p>以下示例显示如何应用<code class="literal">kdump</code>角色来设置故障转储文件的位置：</p><div class="example"><a id="idm140276619153488"></a><p class="title"><strong>例1.3。应用kdump角色设置kdump文件位置的示例playbook</strong></p><div class="example-contents"><pre class="literallayout">---
- hosts: kdump-test
  vars:
    kdump_path: /var/crash
  roles:
    - rhel-system-roles.kdump</pre></div></div><p>有关应用<code class="literal">kdump</code>角色来管理各种<span class="strong"><strong><span class="application">kdump</span></strong></span>配置的更多信息，请参阅<a class="link" href="https://github.com/linux-system-roles/kdump">系统角色文档</a> 。
				</p></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="basics-system-rescue-backup_getting-started-with-system-administration"></a>使用ReaR执行系统救援和创建系统备份</h1></div></div></div><p>当软件或硬件故障破坏操作系统时，您需要一种机制来挽救系统。保存系统备份也很有用。Red Hat建议使用Relax-and-Recover（ReaR）工具来满足这些需求。
			</p><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sec-ReaR_Definition"></a> ReaR是什么以及它可以用于哪些任务</h2></div></div></div><p>ReaR是一个灾难恢复和系统迁移实用程序，使您可以创建完整的救援系统。默认情况下，此救援系统仅恢复存储布局和引导加载程序，但不恢复实际的用户和系统文件。
				</p><p>此外，某些备份软件使您可以集成ReaR以进行灾难恢复。
				</p><p>ReaR可以执行以下任务：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">在新硬件上引导救援系统</li><li class="listitem">复制原始存储布局</li><li class="listitem">恢复用户和系统文件</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sec-Quickstart_Install_Rear"></a>快速入门安装和配置ReaR</h2></div></div></div><p>要安装ReaR，请以<code class="literal">root</code>用户身份输入：</p><pre class="literallayout">~]# yum install rear genisoimage syslinux</pre><p>使用<code class="literal">/etc/rear/local.conf</code>文件中的设置配置ReaR。</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sec-Quickstart_Rescue_System"></a>使用ReaR快速启动救援系统</h2></div></div></div><p>要创建救援系统，请以<code class="literal">root</code>用户身份执行以下命令：</p><pre class="literallayout">~]# rear mkrescue</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sec-Quickstart_ReaR_Backup"></a>使用备份软件快速启动ReaR配置</h2></div></div></div><p>ReaR包含一个称为NETFS的完全集成的内置或内部备份方法。</p><p>要使ReaR使用其内部备份方法，请将这些行添加到<code class="literal">/etc/rear/local.conf</code>文件中：</p><pre class="literallayout">BACKUP=NETFS
BACKUP_URL=backup location</pre><p>您还可以通过<code class="literal">/etc/rear/local.conf</code>添加到<code class="literal">/etc/rear/local.conf</code>来配置ReaR以在创建新备份存档时保留以前的备份存档：</p><pre class="literallayout">NETFS_KEEP_OLD_BACKUP_COPY=y</pre><p>要使备份增量，意味着每次运行仅备份更改的文件，请将此行添加到<code class="literal">/etc/rear/local.conf</code> ：</p><pre class="literallayout">BACKUP_TYPE=incremental</pre></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="Troubleshoot-log-files_getting-started-with-system-administration"></a>使用日志文件来解决问题</h1></div></div></div><p>解决问题时，您可能会欣赏包含有关操作系统的不同信息和消息的日志文件。Red Hat Enterprise Linux中的日志记录系统基于内置的<span class="strong"><strong><span class="application">syslog</span></strong></span>协议。特定程序使用此系统记录事件并将其组织到日志文件中，这在审核操作系统和解决各种问题时非常有用。
			</p><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sec-Handl_syslog"></a>处理syslog消息的服务</h2></div></div></div><p>系统日志消息由两个服务处理：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><code class="literal">systemd-journald</code>守护进程</li><li class="listitem"><code class="literal">rsyslog</code>服务</li></ul></div><p><code class="literal">systemd-journald</code>守护程序从各种源收集消息，并将它们转发到<code class="literal">rsyslog</code>服务以进行进一步处理。收集消息的来源是：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">核心</li><li class="listitem">启动过程的早期阶段</li><li class="listitem">守护进程启动和运行时的标准输出和错误</li><li class="listitem">系统日志</li></ul></div><p><code class="literal">rsyslog</code>服务按类型和优先级对syslog消息进行排序，并将它们写入<code class="literal">/var/log</code>目录中的文件，其中日志是持久存储的。
				</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sec-Storing_syslog"></a>存储syslog消息的子目录</h2></div></div></div><p>系统日志消息根据它们包含的消息和日志类型存储在<code class="literal">/var/log</code>目录下的各个子目录中：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
							<code class="literal">var/log/messages</code> - 除下面提到的那些之外的所有系统日志消息</li><li class="listitem">
							<code class="literal">var/log/secure</code> - 与<code class="literal">var/log/secure</code>性和身份验证相关的消息和错误</li><li class="listitem">
							<code class="literal">var/log/maillog</code> - 与邮件服务器相关的消息和错误</li><li class="listitem">
							<code class="literal">var/log/cron</code> - 与定期执行的任务相关的日志文件</li><li class="listitem">
							<code class="literal">var/log/boot.log</code> - 与系统启动相关的日志文件</li></ul></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="sec-Logs-in-the-rhel-8-web-console"></a>管理RHEL 8 Web控制台中的日志文件</h3></div></div></div><p>如果要检查日志文件，请在Web控制台中使用“ <span class="guibutton">日志”</span>选项。
					</p><div class="figure"><a id="figu-Manag-logs-cockpit"></a><p class="title"><strong>图1.6。检查RHEL 8 Web控制台中的日志文件</strong></p><div class="figure-contents"><div class="mediaobject"><img src="images/cs_getting_started_logs_new.png" alt="cs入门记录新的"></div></div></div></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="Accessing-RH-support_getting-started-with-system-administration"></a>访问Red Hat支持</h1></div></div></div><p>要获得Red Hat的支持，请使用<a class="link" href="https://access.redhat.com">Red Hat Customer Portal</a> ，它可以访问您订阅的所有内容。
			</p><p>本节介绍：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">获取红帽支持，在<a class="xref" href="getting-started-with-system-administration_configuring-basic-system-settings.html#sec-RH_support_CP" title="通过红帽客户门户获得红帽支持">“通过红帽客户门户获取红帽支持”一节中</a>
					</li><li class="listitem">使用<span class="strong"><strong><span class="application">SOS报告</span></strong></span>解决问题，在<a class="xref" href="getting-started-with-system-administration_configuring-basic-system-settings.html#sec-SOS_report" title="使用SOS报告来解决问题">“使用SOS报告解决问题”一节中</a>
					</li></ul></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sec-RH_support_CP"></a>通过红帽客户门户获得红帽支持</h2></div></div></div><p>通过使用<a class="link" href="https://access.redhat.com/support">红帽客户门户，</a>您可以：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">打开一个新的支持案例</li><li class="listitem">与红帽专家进行实时聊天</li><li class="listitem">通过拨打电话或发送电子邮件联系红帽专家</li></ul></div><p>要访问红帽客户门户，请访问<a class="link" href="https://access.redhat.com">https://access.redhat.com</a> 。</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sec-SOS_report"></a>使用SOS报告来解决问题</h2></div></div></div><p><span class="strong"><strong><span class="application">SOS报告</span></strong></span>从Red Hat Enterprise Linux系统收集配置详细信息，系统信息和诊断信息。打开支持案例时附加报告。
				</p><p>请注意， <span class="strong"><strong><span class="application">SOS报告</span></strong></span>是在<span class="strong"><strong><span class="package">sos</span></strong></span>软件包中提供的，该软件包未与Red Hat Enterprise Linux的默认最小安装一起安装。
				</p><p>要安装<span class="strong"><strong><span class="package">sos</span></strong></span>包：</p><pre class="literallayout">~]# yum install sos</pre><p>要生成<span class="strong"><strong><span class="application">SOS报告</span></strong></span> ：</p><pre class="literallayout">~]# sosreport</pre><p>要将<span class="strong"><strong><span class="application">sos报告</span></strong></span>附加到您的支持案例，请参阅Red Hat知识库文章<a class="link" href="https://access.redhat.com/solutions/751083">如何将文件附加到Red Hat支持案例？</a> 。请注意，在附加<span class="strong"><strong><span class="application">sos报告</span></strong></span>时，系统将提示您输入支持案例的编号。
				</p><p>有关<span class="strong"><strong><span class="application">SOS报告的</span></strong></span>更多信息，请参阅Red Hat知识库文章<a class="link" href="https://access.redhat.com/solutions/3592">什么是sosreport以及如何在Red Hat Enterprise Linux 4.6及更高版本中创建sosreport？</a> 。
				</p></div></div></div></body></html>