<html  xmlns="http://www.w3.org/1999/xhtml"><head><title>Chapter 9. 使用Web控制台管理Virtual Data Optimizer卷</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"><meta name="generator" content="DocBook XSL-NS Stylesheets V1.78.1"></head><body ><div class="chapter"><div class="titlepage"><div><div><h1 class="title">Chapter 9. 使用Web控制台管理Virtual Data Optimizer卷</h1></div></div></div><p>本章介绍使用RHEL 8 Web控制台的虚拟数据优化器（VDO）配置。阅读后，您将能够：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">创建VDO卷</li><li class="listitem">格式化VDO卷</li><li class="listitem">扩展VDO卷</li></ul></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="prerequisites-using-the-web-console-for-managing-virtual-data-optimizer-volumes"></a>先决条件</h1></div></div></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">RHEL 8 Web控制台已安装并可访问。
					</p><p class="simpara">有关详细信息，请参阅<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/managing_systems_using_the_rhel_8_web_console#installing-the-web-console_getting-started-with-the-rhel-8-web-console">安装Web控制台</a> 。
					</p></li></ul></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="vdo-volumes-in-the-web-console_using-the-web-console-for-managing-virtual-data-optimizer-volumes"></a> Web控制台中的VDO卷</h1></div></div></div><p>红帽企业Linux 8支持虚拟数据优化器（VDO）。VDO是一种块虚拟化技术，它结合了：</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">压缩</span></dt><dd>有关详细信息，请参阅<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/deduplicating_and_compressing_storage/maintaining-vdo_deduplicating-and-compressing-storage#enabling-or-disabling-compression-in-vdo_maintaining-vdo">在VDO中启用或禁用压缩</a> 。</dd><dt><span class="term">重复数据删除</span></dt><dd>有关详细信息，请参阅<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/deduplicating_and_compressing_storage/maintaining-vdo_deduplicating-and-compressing-storage#enabling-or-disabling-deduplication-in-vdo_maintaining-vdo">在VDO中启用或禁用重复数据删除</a> 。</dd><dt><span class="term">精简配置</span></dt><dd>有关详细信息，请参阅<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/configuring_and_managing_logical_volumes/logical_volumes-configuring-and-managing-logical-volumes#con_thin-volumes_lvm-logical-volumes">精简配置的逻辑卷（精简卷）</a> 。
						</dd></dl></div><p>使用这些技术，VDO：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">内联存储空间</li><li class="listitem">压缩文件</li><li class="listitem">消除重复</li><li class="listitem">使您能够分配比物理或逻辑存储提供的虚拟空间更多的虚拟空间</li><li class="listitem">使您能够通过增长来扩展虚拟存储</li></ul></div><p>可以在许多类型的存储之上创建VDO。在RHEL 8 Web控制台中，您可以在以下位置配置VDO：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">LVM</p><div class="note" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">注意</h3><p>无法在精简配置卷上配置VDO。
						</p></div></li><li class="listitem">物理量</li><li class="listitem">软件RAID</li></ul></div><p>有关将VDO放置在存储堆栈中的详细信息，请参阅<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/deduplicating_and_compressing_storage/deploying-vdo_deduplicating-and-compressing-storage#vdo-requirements_deploying-vdo">系统要求</a> 。
			</p><h3><a id="additional_resources_15"></a>其他资源</h3><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">有关VDO的详细信息，请参阅<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/deduplicating_and_compressing_storage/">重复数据删除和压缩存储</a> 。
					</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="creating-virtual-data-optimizer-in-the-web-console_using-the-web-console-for-managing-virtual-data-optimizer-volumes"></a>在Web控制台中创建VDO卷</h1></div></div></div><p>本节帮助您在RHEL Web控制台中创建VDO卷。
			</p><h3><a id="prerequisites_9"></a>先决条件</h3><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">要从中创建VDO的物理驱动器，LVM或RAID。</li></ul></div><h3><a id="procedure_31"></a>程序</h3><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p class="simpara">登录RHEL 8 Web控制台。
					</p><p class="simpara">有关详细信息，请参阅<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/managing_systems_using_the_rhel_8_web_console#logging-in-to-the-web-console_getting-started-with-the-rhel-8-web-console">登录Web控制台</a> 。
					</p></li><li class="listitem">单击<span class="strong"><strong>存储</strong></span> 。
					</li><li class="listitem"><p class="simpara">单击“ <span class="strong"><strong>VDO设备”</strong></span>框中的<span class="strong"><strong>+</strong></span>图标。
					</p><p class="simpara">
						<span class="inlinemediaobject"><img src="images/cockpit-adding-vdo.png" alt="驾驶舱添加vdo"></span>

					</p></li><li class="listitem">在“ <span class="strong"><strong>名称”</strong></span>字段中，输入不带空格的VDO卷的名称。
					</li><li class="listitem">选择要使用的驱动器。
					</li><li class="listitem"><p class="simpara">在“ <span class="strong"><strong>逻辑大小”</strong></span>栏中，设置VDO卷的大小。您可以将其扩展十次以上，但请考虑创建VDO卷的目的：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">对于活动VM或容器存储，请使用十倍于卷的物理大小的逻辑大小。
							</li><li class="listitem">对于对象存储，请使用三倍于卷的物理大小的逻辑大小。
							</li></ul></div><p class="simpara">有关详细信息，请参阅<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/deduplicating_and_compressing_storage/deploying-vdo_deduplicating-and-compressing-storage">部署VDO</a> 。</p></li><li class="listitem"><p class="simpara">在“ <span class="strong"><strong>索引内存”</strong></span>栏中，为VDO卷分配内存。
					</p><p class="simpara">有关VDO系统要求的详细信息，请参阅<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/deduplicating_and_compressing_storage/deploying-vdo_deduplicating-and-compressing-storage#vdo-requirements_deploying-vdo">系统要求</a> 。
					</p></li><li class="listitem"><p class="simpara">选择“ <span class="strong"><strong>压缩”</strong></span>选项。此选项可以有效地减少各种文件格式。
					</p><p class="simpara">有关详细信息，请参阅<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/deduplicating_and_compressing_storage/maintaining-vdo_deduplicating-and-compressing-storage#enabling-or-disabling-compression-in-vdo_maintaining-vdo">在VDO中启用或禁用压缩</a> 。</p></li><li class="listitem"><p class="simpara">选择“ <span class="strong"><strong>重复数据删除”</strong></span>选项。
					</p><p class="simpara">此选项通过消除重复块的多个副本来减少存储资源的消耗。有关详细信息，请参阅<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/deduplicating_and_compressing_storage/maintaining-vdo_deduplicating-and-compressing-storage#enabling-or-disabling-deduplication-in-vdo_maintaining-vdo">在VDO中启用或禁用重复数据删除</a> 。</p></li><li class="listitem">[可选]如果要将VDO卷用于需要512字节块大小的应用程序，请选择“ <span class="strong"><strong>使用512字节仿真”</strong></span> 。这会降低VDO卷的性能，但应该很少需要。如有疑问，请将其关闭。
					</li><li class="listitem"><p class="simpara">单击“ <span class="strong"><strong>创建”</strong></span>
					</p><p class="simpara">
						<span class="inlinemediaobject"><img src="images/cockpit-create-vdo-dialog.png" alt="驾驶舱创建vdo对话框"></span>

					</p></li></ol></div><p>如果创建VDO卷的过程成功，您可以在“ <span class="strong"><strong>存储”</strong></span>部分中查看新的VDO卷，并使用文件系统对其进行格式化。
			</p><p>
				<span class="inlinemediaobject"><img src="images/cockpit-vdo-created.png" alt="驾驶舱vdo创建"></span>

			</p></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="formatting-vdo-volumes-in-the-web-console_using-the-web-console-for-managing-virtual-data-optimizer-volumes"></a>在Web控制台中格式化VDO卷</h1></div></div></div><p>VDO卷充当物理驱动器。要使用它们，您需要使用文件系统格式化它们。
			</p><div class="warning" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">警告</h3><p>格式化VDO将清除卷上的所有数据。
				</p></div><p>以下步骤描述了格式化VDO卷的过程。
			</p><h3><a id="prerequisites_10"></a>先决条件</h3><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">创建VDO卷。有关详细信息，请参阅<a class="xref" href="using-the-web-console-for-managing-virtual-data-optimizer-volumes_deduplicating-and-compressing-storage.html#creating-virtual-data-optimizer-in-the-web-console_using-the-web-console-for-managing-virtual-data-optimizer-volumes" title="在Web控制台中创建VDO卷">“在Web控制台中创建VDO卷”一节</a> 。
					</li></ul></div><h3><a id="procedure_32"></a>程序</h3><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p class="simpara">登录RHEL 8 Web控制台。
					</p><p class="simpara">有关详细信息，请参阅<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/managing_systems_using_the_rhel_8_web_console#logging-in-to-the-web-console_getting-started-with-the-rhel-8-web-console">登录Web控制台</a> 。
					</p></li><li class="listitem">单击<span class="strong"><strong>存储</strong></span> 。
					</li><li class="listitem">单击VDO卷。
					</li><li class="listitem">单击“ <span class="strong"><strong>无法识别的数据”</strong></span>选项卡。
					</li><li class="listitem"><p class="simpara">单击<span class="strong"><strong>格式</strong></span> 。
					</p><p class="simpara">
						<span class="inlinemediaobject"><img src="images/cockpit-vdo-format.png" alt="驾驶舱vdo格式"></span>

					</p></li><li class="listitem"><p class="simpara">在“ <span class="strong"><strong>删除”</strong></span>下拉菜单中，选择：</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><span class="strong"><strong>不要覆盖现有数据</strong></span></span></dt><dd>RHEL Web控制台仅重写磁盘头。此选项的优点是格式化速度。
								</dd><dt><span class="term"><span class="strong"><strong>用零覆盖现有数据</strong></span></span></dt><dd>RHEL Web控制台使用零重写整个磁盘。此选项较慢，因为程序必须通过整个磁盘。如果磁盘包含任何数据并且您需要重写它们，请使用此选项。
								</dd></dl></div></li><li class="listitem"><p class="simpara">在“ <span class="strong"><strong>类型”</strong></span>下拉菜单中，选择文件系统：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara"><span class="strong"><strong>XFS</strong></span>文件系统支持大型逻辑卷，在线连接物理驱动器而不会中断，并且不断增长。如果您没有其他强烈偏好，请选中此文件系统。
							</p><p class="simpara">XFS不支持缩小卷。因此，您将无法减少使用XFS格式化的卷。</p></li><li class="listitem"><span class="strong"><strong>ext4</strong></span>文件系统支持逻辑卷，在线切换物理驱动器，不会中断，增长和缩小。
							</li></ul></div><p class="simpara">您还可以选择具有LUKS（Linux统一密钥设置）加密的版本，该版本允许您使用密码加密卷。
					</p></li><li class="listitem">在“ <span class="strong"><strong>名称”</strong></span>字段中，输入逻辑卷名称。
					</li><li class="listitem"><p class="simpara">在“ <span class="strong"><strong>安装”</strong></span>下拉菜单中，选择“ <span class="strong"><strong>自定义”</strong></span> 。
					</p><p class="simpara">“ <span class="strong"><strong>默认”</strong></span>选项无法确保在下次引导时安装文件系统。
					</p></li><li class="listitem">在“ <span class="strong"><strong>挂载点”</strong></span>字段中，添加装载路径。
					</li><li class="listitem"><p class="simpara">选择<span class="strong"><strong>启动时安装</strong></span> 。
					</p><p class="simpara">
						<span class="inlinemediaobject"><img src="images/cockpit-lv-format.png" alt="驾驶舱lv格式"></span>

					</p></li><li class="listitem"><p class="simpara">单击<span class="strong"><strong>格式</strong></span> 。
					</p><p class="simpara">格式化可能需要几分钟，具体取决于使用的格式选项和卷大小。
					</p><p class="simpara">成功完成后，您可以在“ <span class="strong"><strong>文件系统”</strong></span>选项卡上查看格式化的VDO卷的详细信息。
					</p><p class="simpara">
						<span class="inlinemediaobject"><img src="images/cockpit-vdo-formatted.png" alt="驾驶舱vdo格式化"></span>

					</p></li><li class="listitem">要使用VDO卷，请单击“ <span class="strong"><strong>安装”</strong></span> 。
					</li></ol></div><p>此时，系统使用已安装和格式化的VDO卷。
			</p></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="extending-vdo-volumes-in-the-web-console_using-the-web-console-for-managing-virtual-data-optimizer-volumes"></a>在Web控制台中扩展VDO卷</h1></div></div></div><p>本节介绍在RHEL 8 Web控制台中扩展VDO卷。
			</p><h3><a id="prerequisites_11"></a>先决条件</h3><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">已创建VDO卷。
					</li></ul></div><h3><a id="procedure_33"></a>程序</h3><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p class="simpara">登录RHEL 8 Web控制台。
					</p><p class="simpara">有关详细信息，请参阅<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/managing_systems_using_the_rhel_8_web_console#logging-in-to-the-web-console_getting-started-with-the-rhel-8-web-console">登录Web控制台</a> 。
					</p></li><li class="listitem">单击<span class="strong"><strong>存储</strong></span> 。
					</li><li class="listitem"><p class="simpara">在<span class="strong"><strong>VDO Devices</strong></span>框中单击您的VDO卷。
					</p><p class="simpara">
						<span class="inlinemediaobject"><img src="images/cockpit-vdo-created.png" alt="驾驶舱vdo创建"></span>

					</p></li><li class="listitem">在VDO卷详细信息中，单击“ <span class="strong"><strong>增长”</strong></span>按钮。
					</li><li class="listitem"><p class="simpara">在“ <span class="strong"><strong>VDO</strong></span>的<span class="strong"><strong>增长逻辑大小”</strong></span>对话框中，扩展VDO卷的逻辑大小。
					</p><p class="simpara">
						<span class="inlinemediaobject"><img src="images/cockpit-vdo-grow-done.png" alt="驾驶舱vdo成长完成"></span>

					</p><p class="simpara">屏幕截图中逻辑卷的原始大小为6 GB。如您所见，RHEL Web控制台使您可以将卷增大到十倍以上，并且由于压缩和重复数据删除，它可以正常工作。
					</p></li><li class="listitem">单击“ <span class="strong"><strong>增长”</strong></span>
					</li></ol></div><p>如果成功生成VDO的过程成功，您可以在VDO卷详细信息中看到新大小。
			</p><p>
				<span class="inlinemediaobject"><img src="images/cockpit-vdo-grow-details.png" alt="驾驶舱vdo增长细节"></span>

			</p></div></div></body></html>