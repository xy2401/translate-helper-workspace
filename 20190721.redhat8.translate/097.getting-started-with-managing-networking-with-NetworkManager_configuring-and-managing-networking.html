<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Chapter 3. Getting started with managing networking with NetworkManager</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"/><meta name="generator" content="DocBook XSL-NS Stylesheets V1.78.1"/></head><body><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="getting-started-with-managing-networking-with-NetworkManager_configuring-and-managing-networking"/>Chapter 3. Getting started with managing networking with NetworkManager</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="Overview_of_NetworkManager_getting-started-with-networking-devices-with-NetworkManager"/>Overview of NetworkManager</h1></div></div></div><p>
				Red Hat Enterprise Linux 8 uses the default networking service, <span class="strong"><strong><span class="application">NetworkManager</span></strong></span>, which is a dynamic network control and configuration daemon to keep network devices and connections up and active when they are available. The traditional <code class="literal">ifcfg</code> type configuration files are still supported.
			</p><p>
				Each network device corresponds to a <span class="strong"><strong><span class="application">NetworkManager</span></strong></span> device. The configuration of a network device is completely stored in a single <span class="strong"><strong>NetworkManager</strong></span> connection. You can perform a network configuration applying a <span class="strong"><strong>NetworkManager</strong></span> connection to a <span class="strong"><strong>NetworkManager</strong></span> device.
			</p><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="Benefits_of_Using_NetworkManager_getting-started-with-networking-devices-with-NetworkManager"/>Benefits of using NetworkManager</h2></div></div></div><p>
					The main benefits of using NetworkManager are:
				</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
							Offering an API through D-Bus which allows to query and control network configuration and state. In this way, networking can be checked and configured by multiple applications ensuring a synced and up-to-date networking status. For example, the RHEL web console, which monitors and configures servers through a web browser, uses the <span class="strong"><strong><span class="application">NetworkManager</span></strong></span> D-BUS interface to configure networking, as well as the <span class="strong"><strong>Gnome GUI</strong></span>, the <span class="strong"><strong>nmcli</strong></span> and the <span class="strong"><strong>nm-connection-editor</strong></span> tools. Each change made in one of these tools is detected by all the others.
						</li><li class="listitem">
							Making Network management easier: <span class="strong"><strong><span class="application">NetworkManager</span></strong></span> ensures that network connectivity works. When it detects that there is no network configuration in a system but there are network devices, <span class="strong"><strong><span class="application">NetworkManager</span></strong></span> creates temporary connections to provide connectivity.
						</li><li class="listitem">
							Providing easy setup of connection to the user: <span class="strong"><strong><span class="application">NetworkManager</span></strong></span> offers management through different tools — <span class="strong"><strong><span class="application">GUI, nmtui, nmcli</span></strong></span>.
						</li><li class="listitem">
							Supporting configuration flexibility. For example, configuring a WiFi interface, <span class="strong"><strong><span class="application">NetworkManager</span></strong></span> scans and shows the available wifi networks. You can select an interface, and <span class="strong"><strong><span class="application">NetworkManager</span></strong></span> displays the required credentials providing automatic connection after the reboot process. <span class="strong"><strong><span class="application">NetworkManager</span></strong></span> can configure network aliases, IP addresses, static routes, DNS information, and VPN connections, as well as many connection-specific parameters. You can modify the configuration options to reflect your needs.
						</li><li class="listitem">
							Maintaining the state of devices after the reboot process and taking over interfaces which are set into managed mode during restart.
						</li><li class="listitem">
							Handling devices which are not explicitly set unmanaged but controlled manually by the user or another network service.
						</li></ul></div><h3><a id="additional_resources_3"/>Additional resources</h3><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
							<a class="xref" href="getting-started-with-managing-networking-with-NetworkManager_configuring-and-managing-networking.html#NetworkManager-tools_getting-started-with-networking-devices-with-NetworkManager" title="NetworkManager tools">the section called “NetworkManager tools”</a>
						</li><li class="listitem">
							For more information on installing and using the RHEL 8 web console, see <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/managing_systems_using_the_rhel-8_web_console/">Managing systems using the RHEL 8 web console</a>.
						</li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="Installing-NetworkManager_getting-started-with-networking-devices-with-NetworkManager"/>Installing NetworkManager</h1></div></div></div><p>
				<span class="strong"><strong><span class="application">NetworkManager</span></strong></span> is installed by default on Red Hat Enterprise Linux 8 . If it is not, enter as <code class="literal">root</code>:
			</p><pre class="literallayout">~]# yum install NetworkManager</pre><h3><a id="additional_resources_4"/>Additional resources</h3><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
						<a class="xref" href="getting-started-with-managing-networking-with-NetworkManager_configuring-and-managing-networking.html#Overview_of_NetworkManager_getting-started-with-networking-devices-with-NetworkManager" title="Overview of NetworkManager">the section called “Overview of NetworkManager”</a>
					</li><li class="listitem">
						<a class="xref" href="getting-started-with-managing-networking-with-NetworkManager_configuring-and-managing-networking.html#Benefits_of_Using_NetworkManager_getting-started-with-networking-devices-with-NetworkManager" title="Benefits of using NetworkManager">the section called “Benefits of using NetworkManager”</a>
					</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="Checking-the-Status-of-NetworkManager_getting-started-with-networking-devices-with-NetworkManager"/>Checking the status of NetworkManager</h1></div></div></div><p>
				To check whether <span class="strong"><strong><span class="application">NetworkManager</span></strong></span> is running:
			</p><pre class="literallayout">~]$ systemctl status NetworkManager
NetworkManager.service - Network Manager
   Loaded: loaded (/lib/systemd/system/NetworkManager.service; enabled)
   Active: active (running) since Fri, 08 Mar 2013 12:50:04 +0100; 3 days ago</pre><p>
				Note that the <code class="literal">systemctl status</code> command displays <code class="literal">Active: inactive (dead)</code> when <span class="strong"><strong><span class="application">NetworkManager</span></strong></span> is not running.
			</p></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="Starting-NetworkManager_getting-started-with-networking-devices-with-NetworkManager"/>Starting NetworkManager</h1></div></div></div><p>
				To start <span class="strong"><strong><span class="application">NetworkManager</span></strong></span>:
			</p><pre class="literallayout">~]# systemctl start NetworkManager</pre><p>
				To enable <span class="strong"><strong><span class="application">NetworkManager</span></strong></span> automatically at boot time:
			</p><pre class="literallayout">~]# systemctl enable NetworkManager</pre></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="NetworkManager-tools_getting-started-with-networking-devices-with-NetworkManager"/>NetworkManager tools</h1></div></div></div><div class="table"><a id="tb-A_Summary_of_NetworkManager_Tools_and_Applications"/><p class="title"><strong>Table 3.1. A summary of NetworkManager tools and applications</strong></p><div class="table-contents"><table summary="A summary of NetworkManager tools and applications" border="1"><colgroup><col class="col_1"/><col class="col_2"/></colgroup><thead><tr><th style="text-align: left" valign="top">Application or Tool</th><th style="text-align: left" valign="top">Description</th></tr></thead><tbody><tr><td style="text-align: left" valign="top"> <p>
								<span class="strong"><strong><span class="application">nmcli</span></strong></span>
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								A command-line tool which enables users and scripts to interact with <span class="strong"><strong><span class="application">NetworkManager</span></strong></span>. Note that <span class="strong"><strong><span class="application">nmcli</span></strong></span> can be used on systems without a GUI such as servers to control all aspects of <span class="strong"><strong><span class="application">NetworkManager</span></strong></span>. It provides a deeper functionality as GUI tools.
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								<span class="strong"><strong><span class="application">nmtui</span></strong></span>
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								A simple curses-based text user interface (TUI) for <span class="strong"><strong><span class="application">NetworkManager</span></strong></span>
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								<span class="strong"><strong><span class="application">nm-connection-editor</span></strong></span>
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								A graphical user interface tool for certain tasks not yet handled by the <span class="strong"><strong><span class="application">control-center</span></strong></span> utility such as configuring bonds and teaming connections. You can add, remove, and modify network connections stored by <span class="strong"><strong><span class="application">NetworkManager</span></strong></span>. To start it, enter <span class="strong"><strong><span class="application">nm-connection-editor</span></strong></span> in a terminal.
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								<span class="strong"><strong><span class="application">control-center</span></strong></span>
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								A graphical user interface tool provided by the GNOME Shell, available for desktop users. It incorporates a Network settings tool. To start it, press the <span class="keycap"><strong>Super</strong></span> key to enter the Activities Overview, type <span class="strong"><strong><span class="application">Network</span></strong></span> and then press <span class="keycap"><strong>Enter</strong></span>. The Network settings tool appears.
							</p>
							 </td></tr><tr><td style="text-align: left" valign="top"> <p>
								<span class="strong"><strong><span class="application">network connection icon</span></strong></span>
							</p>
							 </td><td style="text-align: left" valign="top"> <p>
								A graphical user interface tool provided by the GNOME Shell representing network connection states as reported by <span class="strong"><strong><span class="application">NetworkManager</span></strong></span>. The icon has multiple states that serve as visual indicators for the type of connection you are currently using.
							</p>
							 </td></tr></tbody></table></div></div><h3><a id="additional_resources_5"/>Additional resources</h3><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
						<a class="xref" href="Configuring-IP-Networking-with-nmtui_configuring-and-managing-networking.html" title="Chapter 5. Configuring IP networking with nmtui">Chapter 5, <em>Configuring IP networking with nmtui</em></a>
					</li><li class="listitem">
						<a class="xref" href="Configuring-Networking-with-nmcli_configuring-and-managing-networking.html" title="Chapter 6. Configuring networking with nmcli">Chapter 6, <em>Configuring networking with nmcli</em></a>
					</li><li class="listitem">
						<a class="xref" href="Configuring-Networking-with-GNOME-GUI_configuring-and-managing-networking.html" title="Chapter 7. Configuring networking with GNOME GUI">Chapter 7, <em>Configuring networking with GNOME GUI</em></a>
					</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="Running-Dispatcher-Scripts_getting-started-with-networking-devices-with-NetworkManager"/>Running dispatcher scripts</h1></div></div></div><p>
				<span class="strong"><strong><span class="application">NetworkManager</span></strong></span> provides a way to run additional custom scripts to start or stop services based on the connection status. By default, the <code class="literal">/etc/NetworkManager/dispatcher.d/</code> directory exists and <span class="strong"><strong><span class="application">NetworkManager</span></strong></span> runs scripts there, in alphabetical order. Each script must be an executable file <span class="strong"><strong>owned by</strong></span> <code class="literal">root</code> and must have <code class="literal">write permission</code> only for the file owner.
			</p><h3><a id="additional_resources_6"/>Additional resources</h3><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
						For more information about running NetworkManager dispatcher scripts, see the Red Hat Knowledgebase solution <a class="link" href="https://access.redhat.com/solutions/2841131">How to write a NetworkManager dispatcher script to apply ethtool commands</a>.
					</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="Using-NetworkManager-with-sysconfig-files_getting-started-with-networking-devices-with-NetworkManager"/>Using NetworkManager with sysconfig files</h1></div></div></div><p>
				The <code class="literal">/etc/sysconfig/</code> directory is a location for configuration files and scripts. Most network configuration information is stored there, with the exception of VPN, mobile broadband and PPPoE configuration, which are stored in the <code class="literal">/etc/NetworkManager/</code> subdirectories. For example, interface-specific information is stored in the <code class="literal">ifcfg</code> files in the <code class="literal">/etc/sysconfig/network-scripts/</code> directory.
			</p><p>
				For global settings, use the <code class="literal">/etc/sysconfig/network</code> file. Information for VPNs, mobile broadband and PPPoE connections is stored in <code class="literal">/etc/NetworkManager/system-connections/</code>.
			</p><p>
				In Red Hat Enterprise Linux 8, if you edit an <code class="literal">ifcfg</code> file, <span class="strong"><strong><span class="application">NetworkManager</span></strong></span> is not automatically aware of the change and has to be prompted to notice the change. If you use one of the tools to update <span class="strong"><strong><span class="application">NetworkManager</span></strong></span> profile settings, <span class="strong"><strong><span class="application">NetworkManager</span></strong></span> does not implement those changes until you reconnect using that profile. For example, if configuration files have been changed using an editor, <span class="strong"><strong><span class="application">NetworkManager</span></strong></span> must read the configuration files again.
			</p><p>
				To ensure this, enter as <code class="literal">root</code> to reload all connection profiles:
			</p><pre class="literallayout">~]# nmcli connection reload</pre><p>
				Alternatively, to reload <span class="strong"><strong>only one</strong></span> changed file, <code class="literal">ifcfg-<span class="emphasis"><em>ifname</em></span></code>:
			</p><pre class="literallayout">~]# nmcli con load /etc/sysconfig/network-scripts/ifcfg-ifname</pre><p>
				Note that you can specify multiple file names using the above command.
			</p><p>
				To restart the connection after changes are made, use:
			</p><pre class="literallayout">~]# nmcli con up <span class="emphasis"><em>connection-name</em></span></pre><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="legacy_network_scripts_support"/>Legacy network scripts support</h2></div></div></div><p>
					Network scripts are deprecated in Red Hat Enterprise Linux 8 and are no longer provided by default. The basic installation provides a new version of the <code class="literal">ifup</code> and <code class="literal">ifdown</code> scripts which call <span class="strong"><strong><span class="application">NetworkManager</span></strong></span> through the <span class="strong"><strong><span class="application">nmcli</span></strong></span> tool. In Red Hat Enterprise Linux 8, to run the <code class="literal">ifup</code> and the <code class="literal">ifdown</code> scripts, <span class="strong"><strong><span class="application">NetworkManager</span></strong></span> must be running.
				</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
						Custom commands in <code class="literal">/sbin/ifup-local</code>, <code class="literal">ifdown-pre-local</code> and <code class="literal">ifdown-local</code> scripts are not executed.
					</p><p>
						If any of these scripts are required, the installation of the deprecated network scripts in the system is still possible with the following command:
					</p><pre class="literallayout">~]# yum install network-scripts</pre><p>
						The <code class="literal">ifup</code> and the <code class="literal">ifdown</code> scripts link to the installed legacy network scripts.
					</p><p>
						Calling the legacy network scripts shows a warning about their deprecation.
					</p></div><h3><a id="additional_resources_7"/>Additional resources</h3><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
							<code class="literal">NetworkManager(8)</code> man page — Describes the network management daemon.
						</li><li class="listitem">
							<code class="literal">NetworkManager.conf(5)</code> man page — Describes the <code class="literal">NetworkManager</code> configuration file.
						</li><li class="listitem">
							<code class="literal">/usr/share/doc/initscripts/sysconfig.txt</code> — Describes <code class="literal">ifcfg</code> configuration files and their directives as understood by the legacy network service.
						</li><li class="listitem">
							<code class="literal">ifcfg(8)</code> man page — Describes briefly the <code class="literal">ifcfg</code> command.
						</li></ul></div></div></div></div></body></html>