<html  xmlns="http://www.w3.org/1999/xhtml"><head><title>Chapter 9. 虚拟化</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"><meta name="generator" content="DocBook XSL-NS Stylesheets V1.78.1"></head><body ><div class="chapter"><div class="titlepage"><div><div><h1 class="title">Chapter 9. 虚拟化</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="Virtual-machines-can-now-be-managed-using-the-web-console_virtualization"></a>现在可以使用Web控制台管理虚拟机</h1></div></div></div><p>现在可以将“虚拟机”页面添加到RHEL 8 Web控制台界面，该界面使用户可以创建和管理基于libvirt的虚拟机（VM）。
			</p><p>此外，虚拟机管理器（ <code class="literal">virt-manager</code> ）应用程序已被弃用，并且可能在RHEL的未来主要版本中不受支持。</p><p>但请注意，Web控制台目前不提供“virt-manager”所有的所有虚拟管理功能。值得注意的是：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">要创建新VM，只能使用全新安装。无法导入VM映像。
					</li><li class="listitem">创建新VM时，无法选择特定存储池。
					</li><li class="listitem">只能创建存储池，不能删除，停用或修改存储池。
					</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="The-q35-machine-type-is-now-supported-by-virtualization_virtualization"></a>现在，虚拟化支持Q35机器类型</h1></div></div></div><p>Red Hat Enterprise Linux 8引入了对<code class="literal">Q35</code>的支持， <code class="literal">Q35</code>是一种更现代的基于PCI Express的机器类型。这为虚拟设备的功能和性能提供了各种改进，并确保更广泛的现代设备与虚拟化兼容。此外，在Red Hat Enterprise Linux 8中创建的虚拟机默认设置为使用Q35。
			</p><p>请注意，以前的默认<code class="literal">PC</code>机器类型已被弃用，并且可能在RHEL的未来主要版本中不受支持。但是，不建议将现有VM的机器类型从<code class="literal">PC</code>更改为<code class="literal">Q35</code> 。
			</p><p><code class="literal">PC</code>和<code class="literal">Q35</code>之间的显着差异包括：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">较旧的操作系统（如Windows XP）不支持Q35，如果在Q35 VM上使用，则无法启动。</li><li class="listitem"><p class="simpara">目前，在Q35 VM上使用RHEL 6作为操作系统时，在某些情况下将PCI设备热插拔到该VM不起作用。此外，某些传统virtio设备无法在RHEL 6 Q35 VM上正常运行。</p><p class="simpara">因此，建议在RHEL 6 VM中使用PC机类型。</p></li><li class="listitem">Q35模拟PCI Express（PCI-e）总线而不是PCI。结果，向客户OS呈现不同的设备拓扑和寻址方案。</li><li class="listitem">Q35有一个内置的SATA / AHCI控制器，而不是IDE控制器。
					</li></ul></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">SecureBoot功能仅适用于Q35 VM。</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="Removed-virtualization-functionality_virtualization"></a>删除了虚拟化功能</h1></div></div></div><h3><a id="ivshmem_has_been_disabled"></a> IVSHMEM已被禁用</h3><p>现在，红帽企业版Linux 8中禁用了跨VM共享内存设备（IVSHMEM）功能，该功能在多个虚拟机之间提供共享内存。使用此设备配置的虚拟机将无法引导。类似地，尝试热插拔这样的设备设备也将失败。
			</p><h3><a id="literal_virt_install_literal_can_no_longer_use_nfs_locations"></a> <code class="literal">virt-install</code>不能再使用NFS位置</h3><p>通过此更新， <code class="literal">virt-install</code>实用程序无法装入NFS位置。因此，尝试使用带有NFS地址的<code class="literal">virt-install</code>虚拟机作为<code class="literal">--location</code>选项的值会失败。要解决此更改，请在使用<code class="literal">virt-install</code>之前安装NFS共享，或使用HTTP位置。
			</p><h3><a id="rhel_8_does_not_support_the_tulip_driver"></a> RHEL 8不支持郁金香驱动程序</h3><p>通过此更新，不再支持tulip网络驱动程序。因此，在Microsoft Hyper-V虚拟机管理程序上的第1代虚拟机（VM）上使用RHEL 8时，“传统网络适配器”设备不起作用，这会导致此类VM的PXE安装失败。
			</p><p>要使PXE安装正常，请在第2代Hyper-V VM上安装RHEL 8。如果需要RHEL 8 Generation 1 VM，请使用ISO安装。
			</p><h3><a id="lsi_logic_sas_and_parallel_scsi_drivers_are_not_supported"></a>不支持LSI Logic SAS和Parallel SCSI驱动程序</h3><p>不再支持SCSI的LSI Logic SAS驱动程序（ <code class="literal">mptsas</code> ）和LSI Logic Parallel驱动程序（ <code class="literal">mptspi</code> ）。因此，驱动程序可用于将RHEL 8作为VMWare虚拟机管理程序上的客户操作系统安装到SCSI磁盘，但Red Hat不支持创建的VM。
			</p></div></div></body></html>