<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Chapter 1. Getting started with partitions</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"/><meta name="generator" content="DocBook XSL-NS Stylesheets V1.78.1"/></head><body><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="assembly_getting-started-with-partitions_managing-storage-devices"/>Chapter 1. Getting started with partitions</h1></div></div></div><p>
			As a system administrator, you can use the following procedures to create, delete, and modify various types of disk partitions.
		</p><p>
			For an overview of the advantages and disadvantages to using partitions on block devices, see the following KBase article: <a class="link" href="https://access.redhat.com/solutions/163853">https://access.redhat.com/solutions/163853</a>.
		</p><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="assembly_viewing-the-partition-table_assembly_getting-started-with-partitions"/>Viewing the partition table</h1></div></div></div><p>
				As a system administrator, you can display the partition table of a block device to see the partition layout and details about individual partitions.
			</p><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="proc_viewing-the-partition-table-with-parted_assembly_viewing-the-partition-table"/>Viewing the partition table with parted</h2></div></div></div><p>
					This procedure describes how to view the partition table on a block device using the <code class="literal">parted</code> utility.
				</p><h4><a id="procedure"/>Procedure</h4><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p class="simpara">
							Start the interactive <code class="literal">parted</code> shell:
						</p><pre class="screen"># parted <span class="emphasis"><em><span class="replaceable">block-device</span></em></span></pre><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
									Replace <span class="emphasis"><em><span class="replaceable">block-device</span></em></span> with the path to the device you want to examine: for example, <code class="literal">/dev/sda</code>.
								</li></ul></div></li><li class="listitem"><p class="simpara">
							View the partition table:
						</p><pre class="screen">(parted) print</pre></li><li class="listitem"><p class="simpara">
							Optionally, use the following command to switch to another device you want to examine next:
						</p><pre class="screen">(parted) select <span class="emphasis"><em><span class="replaceable">block-device</span></em></span></pre></li></ol></div><h4><a id="additional_resources"/>Additional resources</h4><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
							The <code class="literal">parted(8)</code> man page.
						</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="ref_example-output-of-parted-print_assembly_viewing-the-partition-table"/>Example output of <code class="literal">parted print</code></h2></div></div></div><p>
					This section provides an example output of the <code class="literal">print</code> command in the <code class="literal">parted</code> shell and describes fields in the output.
				</p><div class="example"><a id="idm140236385603280"/><p class="title"><strong>Example 1.1. Output of the <code class="literal">print</code> command</strong></p><div class="example-contents"><pre class="screen">Model: ATA SAMSUNG MZNLN256 (scsi)
Disk /dev/sda: 256GB
Sector size (logical/physical): 512B/512B
Partition Table: msdos
Disk Flags:

Number  Start   End     Size    Type      File system  Flags
 1      1049kB  269MB   268MB   primary   xfs          boot
 2      269MB   34.6GB  34.4GB  primary
 3      34.6GB  45.4GB  10.7GB  primary
 4      45.4GB  256GB   211GB   extended
 5      45.4GB  256GB   211GB   logical</pre><p>
						Following is a description of the fields:
					</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">Model: ATA SAMSUNG MZNLN256 (scsi)</code></span></dt><dd>
									The disk type, manufacturer, model number, and interface.
								</dd><dt><span class="term"><code class="literal">Disk /dev/sda: 256GB</code></span></dt><dd>
									The file path to the block device and the storage capacity.
								</dd><dt><span class="term"><code class="literal">Partition Table: msdos</code></span></dt><dd>
									The disk label type.
								</dd><dt><span class="term"><code class="literal">Number</code></span></dt><dd>
									The partition number. For example, the partition with minor number 1 corresponds to <code class="literal">/dev/sda1</code>.
								</dd><dt><span class="term"><code class="literal">Start</code> and <code class="literal">End</code></span></dt><dd>
									The location on the device where the partition starts and ends.
								</dd><dt><span class="term"><code class="literal">Type</code></span></dt><dd>
									Valid types are metadata, free, primary, extended, or logical.
								</dd><dt><span class="term"><code class="literal">File system</code></span></dt><dd>
									The file system type. If the <code class="literal">File system</code> field of a device shows no value, this means that its file system type is unknown. The <code class="literal">parted</code> utility cannot recognize the file system on encrypted devices.
								</dd><dt><span class="term"><code class="literal">Flags</code></span></dt><dd>
									Lists the flags set for the partition. Available flags are <code class="literal">boot</code>, <code class="literal">root</code>, <code class="literal">swap</code>, <code class="literal">hidden</code>, <code class="literal">raid</code>, <code class="literal">lvm</code>, or <code class="literal">lba</code>.
								</dd></dl></div></div></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="assembly_creating-a-partition-table-on-a-disk_assembly_getting-started-with-partitions"/>Creating a partition table on a disk</h1></div></div></div><p>
				As a system administrator, you can format a block device with different types of partition tables to enable using partitions on the device.
			</p><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p>
					Formatting a block device with a partition table deletes all data stored on the device.
				</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="con_considerations-before-modifying-partitions-on-a-disk_assembly_creating-a-partition-table-on-a-disk"/>Considerations before modifying partitions on a disk</h2></div></div></div><p>
					This section lists key points to consider before creating, removing, or resizing partitions.
				</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
						This section does not cover the DASD partition table, which is specific to the IBM Z architecture. For information on DASD, see:
					</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
								<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/performing_a_standard_rhel_installation/configuring-a-linux-instance-on-ibm-z_installing-rhel">Configuring a Linux instance on IBM Z</a>
							</li><li class="listitem">
								The <a class="link" href="https://www.ibm.com/support/knowledgecenter/linuxonibm/com.ibm.linux.z.lgdd/lgdd_c_dasd_know.html">What you should know about DASD</a> article at the IBM Knowledge Center
							</li></ul></div></div><h4><a id="the_maximum_number_of_partitions"/>The maximum number of partitions</h4><p>
					The number of partitions on a device is limited by the type of the partition table:
				</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">
							On a device formatted with the <span class="strong"><strong>Master Boot Record (MBR)</strong></span> partition table, you can have either:
						</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
									Up to four primary partitions, or
								</li><li class="listitem">
									Up to three primary partitions, one extended partition, and multiple logical partitions within the extended.
								</li></ul></div></li><li class="listitem">
							On a device formatted with the <span class="strong"><strong>GUID Partition Table (GPT)</strong></span>, the maximum number of partitions is 128. While the GPT specification allows for more partitions by growing the area reserved for the partition table, common practice used by the <code class="literal">parted</code> utility is to limit it to enough area for 128 partitions.
						</li></ul></div><h4><a id="the_maximum_size_of_a_partition"/>The maximum size of a partition</h4><p>
					The size of a partition on a device is limited by the type of the partition table:
				</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
							On a device formatted with the <span class="strong"><strong>Master Boot Record (MBR)</strong></span> partition table, the maximum size is 2TiB.
						</li><li class="listitem">
							On a device formatted with the <span class="strong"><strong>GUID Partition Table (GPT)</strong></span>, the maximum size is 8ZiB.
						</li></ul></div><p>
					If you want to create a partition larger than 2TiB, the disk must be formatted with GPT.
				</p><h4><a id="size_alignment"/>Size alignment</h4><p>
					The <code class="literal">parted</code> utility enables you to specify partition size using multiple different suffixes:
				</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">MiB, GiB, or TiB</span></dt><dd><p class="simpara">
								Size expressed in powers of 2.
							</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
										The starting point of the partition is aligned to the exact sector specified by size.
									</li><li class="listitem">
										The ending point is aligned to the specified size minus 1 sector.
									</li></ul></div></dd><dt><span class="term">MB, GB, or TB</span></dt><dd><p class="simpara">
								Size expressed in powers of 10.
							</p><p class="simpara">
								The starting and ending point is aligned within one half of the specified unit: for example, ±500KB when using the MB suffix.
							</p></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="ref_comparison-of-partition-table-types_assembly_creating-a-partition-table-on-a-disk"/>Comparison of partition table types</h2></div></div></div><p>
					This section compares the properties of different types of partition tables that you can create on a block device.
				</p><div class="table"><a id="idm140236401295184"/><p class="title"><strong>Table 1.1. Partition table types</strong></p><div class="table-contents"><table summary="Partition table types" border="1"><colgroup><col class="col_1"/><col class="col_2"/><col class="col_3"/></colgroup><thead><tr><th style="text-align: left" valign="top">Partition table</th><th style="text-align: left" valign="top">Maximum number of partitions</th><th style="text-align: left" valign="top">Maximum partition size</th></tr></thead><tbody><tr><td style="text-align: left" valign="top"> <p>
									Master Boot Record (MBR)
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									4 primary, or 3 primary and 12 logical inside an extended partition
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									2TiB
								</p>
								 </td></tr><tr><td style="text-align: left" valign="top"> <p>
									GUID Partition Table (GPT)
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									128
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									8ZiB
								</p>
								 </td></tr></tbody></table></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="proc_creating-a-partition-table-on-a-disk-with-parted_assembly_creating-a-partition-table-on-a-disk"/>Creating a partition table on a disk with parted</h2></div></div></div><p>
					This procedure describes how to format a block device with a partition table using the <code class="literal">parted</code> utility.
				</p><h4><a id="procedure_2"/>Procedure</h4><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p class="simpara">
							Start the interactive <code class="literal">parted</code> shell:
						</p><pre class="screen"># parted <span class="emphasis"><em><span class="replaceable">block-device</span></em></span></pre><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
									Replace <span class="emphasis"><em><span class="replaceable">block-device</span></em></span> with the path to the device where you want to create a partition table: for example, <code class="literal">/dev/sda</code>.
								</li></ul></div></li><li class="listitem"><p class="simpara">
							Determine if there already is a partition table on the device:
						</p><pre class="screen">(parted) print</pre><p class="simpara">
							If the device already contains partitions, they will be deleted in the next steps.
						</p></li><li class="listitem"><p class="simpara">
							Create the new partition table:
						</p><pre class="screen">(parted) mklabel <span class="emphasis"><em><span class="replaceable">table-type</span></em></span></pre><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">
									Replace <span class="emphasis"><em><span class="replaceable">table-type</span></em></span> with with the intended partition table type:
								</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
											<code class="literal">msdos</code> for MBR
										</li><li class="listitem">
											<code class="literal">gpt</code> for GPT
										</li></ul></div></li></ul></div><div class="example"><a id="idm140236405913072"/><p class="title"><strong>Example 1.2. Creating a GPT table</strong></p><div class="example-contents"><p>
								For example, to create a GPT table on the disk, use:
							</p><pre class="screen">(parted) mklabel gpt</pre></div></div><p class="simpara">
							The changes start taking place as soon as you enter this command, so review it before executing it.
						</p></li><li class="listitem"><p class="simpara">
							View the partition table to confirm that the partition table exists:
						</p><pre class="screen">(parted) print</pre></li><li class="listitem"><p class="simpara">
							Exit the <code class="literal">parted</code> shell:
						</p><pre class="screen">(parted) quit</pre></li></ol></div><h4><a id="additional_resources_2"/>Additional resources</h4><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
							The <code class="literal">parted(8)</code> man page.
						</li></ul></div><h4><a id="next_steps"/>Next steps</h4><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
							Create partitions on the device. See <a class="xref" href="assembly_getting-started-with-partitions_managing-storage-devices.html#assembly_creating-a-partition_assembly_getting-started-with-partitions" title="Creating a partition">the section called “Creating a partition”</a> for details.
						</li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="assembly_creating-a-partition_assembly_getting-started-with-partitions"/>Creating a partition</h1></div></div></div><p>
				As a system administrator, you can create new partitions on a disk.
			</p><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="con_considerations-before-modifying-partitions-on-a-disk_assembly_creating-a-partition"/>Considerations before modifying partitions on a disk</h2></div></div></div><p>
					This section lists key points to consider before creating, removing, or resizing partitions.
				</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
						This section does not cover the DASD partition table, which is specific to the IBM Z architecture. For information on DASD, see:
					</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
								<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/performing_a_standard_rhel_installation/configuring-a-linux-instance-on-ibm-z_installing-rhel">Configuring a Linux instance on IBM Z</a>
							</li><li class="listitem">
								The <a class="link" href="https://www.ibm.com/support/knowledgecenter/linuxonibm/com.ibm.linux.z.lgdd/lgdd_c_dasd_know.html">What you should know about DASD</a> article at the IBM Knowledge Center
							</li></ul></div></div><h4><a id="the_maximum_number_of_partitions_2"/>The maximum number of partitions</h4><p>
					The number of partitions on a device is limited by the type of the partition table:
				</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">
							On a device formatted with the <span class="strong"><strong>Master Boot Record (MBR)</strong></span> partition table, you can have either:
						</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
									Up to four primary partitions, or
								</li><li class="listitem">
									Up to three primary partitions, one extended partition, and multiple logical partitions within the extended.
								</li></ul></div></li><li class="listitem">
							On a device formatted with the <span class="strong"><strong>GUID Partition Table (GPT)</strong></span>, the maximum number of partitions is 128. While the GPT specification allows for more partitions by growing the area reserved for the partition table, common practice used by the <code class="literal">parted</code> utility is to limit it to enough area for 128 partitions.
						</li></ul></div><h4><a id="the_maximum_size_of_a_partition_2"/>The maximum size of a partition</h4><p>
					The size of a partition on a device is limited by the type of the partition table:
				</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
							On a device formatted with the <span class="strong"><strong>Master Boot Record (MBR)</strong></span> partition table, the maximum size is 2TiB.
						</li><li class="listitem">
							On a device formatted with the <span class="strong"><strong>GUID Partition Table (GPT)</strong></span>, the maximum size is 8ZiB.
						</li></ul></div><p>
					If you want to create a partition larger than 2TiB, the disk must be formatted with GPT.
				</p><h4><a id="size_alignment_2"/>Size alignment</h4><p>
					The <code class="literal">parted</code> utility enables you to specify partition size using multiple different suffixes:
				</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">MiB, GiB, or TiB</span></dt><dd><p class="simpara">
								Size expressed in powers of 2.
							</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
										The starting point of the partition is aligned to the exact sector specified by size.
									</li><li class="listitem">
										The ending point is aligned to the specified size minus 1 sector.
									</li></ul></div></dd><dt><span class="term">MB, GB, or TB</span></dt><dd><p class="simpara">
								Size expressed in powers of 10.
							</p><p class="simpara">
								The starting and ending point is aligned within one half of the specified unit: for example, ±500KB when using the MB suffix.
							</p></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="con_partition-types_assembly_creating-a-partition"/>Partition types</h2></div></div></div><p>
					This section describes different attributes that specify the type of a partition.
				</p><h4><a id="partition_types_or_flags"/>Partition types or flags</h4><p>
					The partition type, or flag, is used by a running system only rarely. However, the partition type matters to on-the-fly generators, such as <code class="literal">systemd-gpt-auto-generator</code>, which use the partition type to, for example, automatically identify and mount devices.
				</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
							The <code class="literal">parted</code> utility provides some control of partition types by mapping the partition type to <span class="emphasis"><em>flags</em></span>. The parted utility can handle only certain partition types: for example LVM, swap, or RAID.
						</li><li class="listitem">
							The <code class="literal">fdisk</code> utility supports the full range of partition types by specifying hexadecimal codes.
						</li></ul></div><h4><a id="partition_file_system_type"/>Partition file system type</h4><p>
					The <code class="literal">parted</code> utility optionally accepts a file system type argument when creating a partition. The value is used to:
				</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
							Set the partition flags on MBR, or
						</li><li class="listitem">
							Set the partition UUID type on GPT. For example, the <code class="literal">swap</code>, <code class="literal">fat</code>, or <code class="literal">hfs</code> file system types set different GUIDs. The default value is the Linux Data GUID.
						</li></ul></div><p>
					The argument does not modify the file system on the partition in any way. It only differentiates between the supported flags or GUIDs.
				</p><p>
					The following file system types are supported:
				</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
							<code class="literal">xfs</code>
						</li><li class="listitem">
							<code class="literal">ext2</code>
						</li><li class="listitem">
							<code class="literal">ext3</code>
						</li><li class="listitem">
							<code class="literal">ext4</code>
						</li><li class="listitem">
							<code class="literal">fat16</code>
						</li><li class="listitem">
							<code class="literal">fat32</code>
						</li><li class="listitem">
							<code class="literal">hfs</code>
						</li><li class="listitem">
							<code class="literal">hfs+</code>
						</li><li class="listitem">
							<code class="literal">linux-swap</code>
						</li><li class="listitem">
							<code class="literal">ntfs</code>
						</li><li class="listitem">
							<code class="literal">reiserfs</code>
						</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="proc_creating-a-partition-with-parted_assembly_creating-a-partition"/>Creating a partition with parted</h2></div></div></div><p>
					This procedure describes how to create a new partition on a block device using the <code class="literal">parted</code> utility.
				</p><h4><a id="prerequisites"/>Prerequisites</h4><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
							There is a partition table on the disk. For details on how to format the disk, see <a class="xref" href="assembly_getting-started-with-partitions_managing-storage-devices.html#assembly_creating-a-partition-table-on-a-disk_assembly_getting-started-with-partitions" title="Creating a partition table on a disk">the section called “Creating a partition table on a disk”</a>.
						</li><li class="listitem">
							If the partition you want to create is larger than 2TiB, the disk must be formatted with the GUID Partition Table (GPT).
						</li></ul></div><h4><a id="procedure_3"/>Procedure</h4><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p class="simpara">
							Start the interactive <code class="literal">parted</code> shell:
						</p><pre class="screen"># parted <span class="emphasis"><em><span class="replaceable">block-device</span></em></span></pre><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
									Replace <span class="emphasis"><em><span class="replaceable">block-device</span></em></span> with the path to the device where you want to create a partition: for example, <code class="literal">/dev/sda</code>.
								</li></ul></div></li><li class="listitem"><p class="simpara">
							View the current partition table to determine if there is enough free space:
						</p><pre class="screen">(parted) print</pre><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
									If there is not enough free space, you can resize an existing partition. For more information, see <a class="xref" href="assembly_getting-started-with-partitions_managing-storage-devices.html#assembly_resizing-a-partition_assembly_getting-started-with-partitions" title="Resizing a partition">the section called “Resizing a partition”</a>.
								</li><li class="listitem"><p class="simpara">
									From the partition table, determine:
								</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
											The start and end points of the new partition
										</li><li class="listitem">
											On MBR, what partition type it should be.
										</li></ul></div></li></ul></div></li><li class="listitem"><p class="simpara">
							Create the new partition:
						</p><pre class="screen">(parted) mkpart <span class="emphasis"><em><span class="replaceable">part-type</span></em></span> <span class="emphasis"><em><span class="replaceable">name</span></em></span> <span class="emphasis"><em><span class="replaceable">fs-type</span></em></span> <span class="emphasis"><em><span class="replaceable">start</span></em></span> <span class="emphasis"><em><span class="replaceable">end</span></em></span></pre><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
									Replace <span class="emphasis"><em><span class="replaceable">part-type</span></em></span> with with <code class="literal">primary</code>, <code class="literal">logical</code>, or <code class="literal">extended</code> based on what you decided from the partition table. This applies only to the MBR partition table.
								</li><li class="listitem">
									Replace <span class="emphasis"><em><span class="replaceable">name</span></em></span> with an arbitrary partition name. This is required for GPT partition tables.
								</li><li class="listitem">
									Replace <span class="emphasis"><em><span class="replaceable">fs-type</span></em></span> with any one of <code class="literal">xfs</code>, <code class="literal">ext2</code>, <code class="literal">ext3</code>, <code class="literal">ext4</code>, <code class="literal">fat16</code>, <code class="literal">fat32</code>, <code class="literal">hfs</code>, <code class="literal">hfs+</code>, <code class="literal">linux-swap</code>, <code class="literal">ntfs</code>, or <code class="literal">reiserfs</code>. The <span class="emphasis"><em><span class="replaceable">fs-type</span></em></span> parameter is optional. Note that <code class="literal">parted</code> does not create the file system on the partition.
								</li><li class="listitem">
									Replace <span class="emphasis"><em><span class="replaceable">start</span></em></span> and <span class="emphasis"><em><span class="replaceable">end</span></em></span> with the sizes that determine the starting and ending points of the partition, counting from the beginning of the disk. You can use size suffixes, such as <code class="literal">512MiB</code>, <code class="literal">20GiB</code>, or <code class="literal">1.5TiB</code>. The default size megabytes.
								</li></ul></div><div class="example"><a id="idm140236387828576"/><p class="title"><strong>Example 1.3. Creating a small primary partition</strong></p><div class="example-contents"><p>
								For example, to create a primary partition from 1024MiB until 2048MiB on an MBR table, use:
							</p><pre class="screen">(parted) mkpart primary 1024MiB 2048MiB</pre></div></div><p class="simpara">
							The changes start taking place as soon as you enter this command, so review it before executing it.
						</p></li><li class="listitem"><p class="simpara">
							View the partition table to confirm that the created partition is in the partition table with the correct partition type, file system type, and size:
						</p><pre class="screen">(parted) print</pre></li><li class="listitem"><p class="simpara">
							Exit the <code class="literal">parted</code> shell:
						</p><pre class="screen">(parted) quit</pre></li><li class="listitem"><p class="simpara">
							Use the following command to wait for the system to register the new device node:
						</p><pre class="screen"># udevadm settle</pre></li><li class="listitem"><p class="simpara">
							Verify that the kernel recognizes the new partition:
						</p><pre class="screen"># cat /proc/partitions</pre></li></ol></div><h4><a id="additional_resources_3"/>Additional resources</h4><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
							The <code class="literal">parted(8)</code> man page.
						</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="proc_setting-a-partition-type-with-fdisk_assembly_creating-a-partition"/>Setting a partition type with fdisk</h2></div></div></div><p>
					This procedure describes how to set a partition type, or flag, using the <code class="literal">fdisk</code> utility.
				</p><h4><a id="prerequisites_2"/>Prerequisites</h4><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
							There is a partition on the disk.
						</li></ul></div><h4><a id="procedure_4"/>Procedure</h4><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p class="simpara">
							Start the interactive <code class="literal">fdisk</code> shell:
						</p><pre class="screen"># fdisk <span class="emphasis"><em><span class="replaceable">block-device</span></em></span></pre><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
									Replace <span class="emphasis"><em><span class="replaceable">block-device</span></em></span> with the path to the device where you want to set a partition type: for example, <code class="literal">/dev/sda</code>.
								</li></ul></div></li><li class="listitem"><p class="simpara">
							View the current partition table to determine the minor partition number:
						</p><pre class="screen">Command (m for help): <span class="strong"><strong><span class="command">print</span></strong></span></pre><p class="simpara">
							You can see the current partition type in the <code class="literal">Type</code> column and its corresponding type ID in the <code class="literal">Id</code> column.
						</p></li><li class="listitem"><p class="simpara">
							Enter the partition type command and select a partition using its minor number:
						</p><pre class="screen">Command (m for help): <span class="strong"><strong><span class="command">type</span></strong></span>
Partition number (<span class="emphasis"><em><span class="replaceable">1,2,3</span></em></span> default <span class="emphasis"><em><span class="replaceable">3</span></em></span>): <span class="emphasis"><em><span class="replaceable"><span class="strong"><strong>2</strong></span></span></em></span></pre></li><li class="listitem"><p class="simpara">
							Optionally, list the available hexadecimal codes:
						</p><pre class="screen">Hex code (type L to list all codes): <span class="strong"><strong><span class="command">L</span></strong></span></pre></li><li class="listitem"><p class="simpara">
							Set the partition type:
						</p><pre class="screen">Hex code (type L to list all codes): <span class="emphasis"><em><span class="replaceable"><span class="strong"><strong>8e</strong></span></span></em></span></pre></li><li class="listitem"><p class="simpara">
							Write your changes and exit the <code class="literal">fdisk</code> shell:
						</p><pre class="screen">Command (m for help): <span class="strong"><strong><span class="command">write</span></strong></span>
The partition table has been altered.
Syncing disks.</pre></li><li class="listitem"><p class="simpara">
							Verify your changes:
						</p><pre class="screen"># fdisk --list <span class="emphasis"><em><span class="replaceable">block-device</span></em></span></pre></li></ol></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="assembly_removing-a-partition_assembly_getting-started-with-partitions"/>Removing a partition</h1></div></div></div><p>
				As a system administrator, you can remove a disk partition that is no longer used to free up disk space.
			</p><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p>
					Removing a partition deletes all data stored on the partition.
				</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="con_considerations-before-modifying-partitions-on-a-disk_assembly_removing-a-partition"/>Considerations before modifying partitions on a disk</h2></div></div></div><p>
					This section lists key points to consider before creating, removing, or resizing partitions.
				</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
						This section does not cover the DASD partition table, which is specific to the IBM Z architecture. For information on DASD, see:
					</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
								<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/performing_a_standard_rhel_installation/configuring-a-linux-instance-on-ibm-z_installing-rhel">Configuring a Linux instance on IBM Z</a>
							</li><li class="listitem">
								The <a class="link" href="https://www.ibm.com/support/knowledgecenter/linuxonibm/com.ibm.linux.z.lgdd/lgdd_c_dasd_know.html">What you should know about DASD</a> article at the IBM Knowledge Center
							</li></ul></div></div><h4><a id="the_maximum_number_of_partitions_3"/>The maximum number of partitions</h4><p>
					The number of partitions on a device is limited by the type of the partition table:
				</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">
							On a device formatted with the <span class="strong"><strong>Master Boot Record (MBR)</strong></span> partition table, you can have either:
						</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
									Up to four primary partitions, or
								</li><li class="listitem">
									Up to three primary partitions, one extended partition, and multiple logical partitions within the extended.
								</li></ul></div></li><li class="listitem">
							On a device formatted with the <span class="strong"><strong>GUID Partition Table (GPT)</strong></span>, the maximum number of partitions is 128. While the GPT specification allows for more partitions by growing the area reserved for the partition table, common practice used by the <code class="literal">parted</code> utility is to limit it to enough area for 128 partitions.
						</li></ul></div><h4><a id="the_maximum_size_of_a_partition_3"/>The maximum size of a partition</h4><p>
					The size of a partition on a device is limited by the type of the partition table:
				</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
							On a device formatted with the <span class="strong"><strong>Master Boot Record (MBR)</strong></span> partition table, the maximum size is 2TiB.
						</li><li class="listitem">
							On a device formatted with the <span class="strong"><strong>GUID Partition Table (GPT)</strong></span>, the maximum size is 8ZiB.
						</li></ul></div><p>
					If you want to create a partition larger than 2TiB, the disk must be formatted with GPT.
				</p><h4><a id="size_alignment_3"/>Size alignment</h4><p>
					The <code class="literal">parted</code> utility enables you to specify partition size using multiple different suffixes:
				</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">MiB, GiB, or TiB</span></dt><dd><p class="simpara">
								Size expressed in powers of 2.
							</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
										The starting point of the partition is aligned to the exact sector specified by size.
									</li><li class="listitem">
										The ending point is aligned to the specified size minus 1 sector.
									</li></ul></div></dd><dt><span class="term">MB, GB, or TB</span></dt><dd><p class="simpara">
								Size expressed in powers of 10.
							</p><p class="simpara">
								The starting and ending point is aligned within one half of the specified unit: for example, ±500KB when using the MB suffix.
							</p></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="proc_removing-a-partition-with-parted_assembly_removing-a-partition"/>Removing a partition with parted</h2></div></div></div><p>
					This procedure describes how to remove a disk partition using the <code class="literal">parted</code> utility.
				</p><h4><a id="procedure_5"/>Procedure</h4><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p class="simpara">
							Start the interactive <code class="literal">parted</code> shell:
						</p><pre class="screen"># parted <span class="emphasis"><em><span class="replaceable">block-device</span></em></span></pre><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
									Replace <span class="emphasis"><em><span class="replaceable">block-device</span></em></span> with the path to the device where you want to remove a partition: for example, <code class="literal">/dev/sda</code>.
								</li></ul></div></li><li class="listitem"><p class="simpara">
							View the current partition table to determine the minor number of the partition to remove:
						</p><pre class="screen">(parted) print</pre></li><li class="listitem"><p class="simpara">
							Remove the partition:
						</p><pre class="screen">(parted) rm <span class="emphasis"><em><span class="replaceable">minor-number</span></em></span></pre><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
									Replace <span class="emphasis"><em><span class="replaceable">minor-number</span></em></span> with the minor number of the partition you want to remove: for example, <code class="literal">3</code>.
								</li></ul></div><p class="simpara">
							The changes start taking place as soon as you enter this command, so review it before executing it.
						</p></li><li class="listitem"><p class="simpara">
							Confirm that the partition is removed from the partition table:
						</p><pre class="screen">(parted) print</pre></li><li class="listitem"><p class="simpara">
							Exit the <code class="literal">parted</code> shell:
						</p><pre class="screen">(parted) quit</pre></li><li class="listitem"><p class="simpara">
							Verify that the kernel knows the partition is removed:
						</p><pre class="screen"># cat /proc/partitions</pre></li><li class="listitem">
							Remove the partition from the <code class="literal">/etc/fstab</code> file if it is present. Find the line that declares the removed partition, and remove it from the file.
						</li><li class="listitem"><p class="simpara">
							Regenerate mount units so that your system registers the new <code class="literal">/etc/fstab</code> configuration:
						</p><pre class="screen"># systemctl daemon-reload</pre></li><li class="listitem"><p class="simpara">
							If you have deleted a swap partition or removed pieces of LVM, remove all references to the partition from the kernel command line in the <code class="literal">/etc/default/grub</code> file and regenerate GRUB configuration:
						</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">
									On a BIOS-based system:
								</p><pre class="screen"># grub2-mkconfig --output=/etc/grub2.cfg</pre></li><li class="listitem"><p class="simpara">
									On a UEFI-based system:
								</p><pre class="screen"># grub2-mkconfig --output=/etc/grub2-efi.cfg</pre></li></ul></div></li><li class="listitem"><p class="simpara">
							To register the changes in the early boot system, rebuild the <code class="literal">initramfs</code> file system:
						</p><pre class="screen"># dracut --force --verbose</pre></li></ol></div><h4><a id="additional_resources_4"/>Additional resources</h4><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
							The <code class="literal">parted(8)</code> man page
						</li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="assembly_resizing-a-partition_assembly_getting-started-with-partitions"/>Resizing a partition</h1></div></div></div><p>
				As a system administrator, you can extend a partition to utilize unused disk space, or shrink a partition to use its capacity for different purposes.
			</p><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="con_considerations-before-modifying-partitions-on-a-disk_assembly_resizing-a-partition"/>Considerations before modifying partitions on a disk</h2></div></div></div><p>
					This section lists key points to consider before creating, removing, or resizing partitions.
				</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
						This section does not cover the DASD partition table, which is specific to the IBM Z architecture. For information on DASD, see:
					</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
								<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html/performing_a_standard_rhel_installation/configuring-a-linux-instance-on-ibm-z_installing-rhel">Configuring a Linux instance on IBM Z</a>
							</li><li class="listitem">
								The <a class="link" href="https://www.ibm.com/support/knowledgecenter/linuxonibm/com.ibm.linux.z.lgdd/lgdd_c_dasd_know.html">What you should know about DASD</a> article at the IBM Knowledge Center
							</li></ul></div></div><h4><a id="the_maximum_number_of_partitions_4"/>The maximum number of partitions</h4><p>
					The number of partitions on a device is limited by the type of the partition table:
				</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">
							On a device formatted with the <span class="strong"><strong>Master Boot Record (MBR)</strong></span> partition table, you can have either:
						</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
									Up to four primary partitions, or
								</li><li class="listitem">
									Up to three primary partitions, one extended partition, and multiple logical partitions within the extended.
								</li></ul></div></li><li class="listitem">
							On a device formatted with the <span class="strong"><strong>GUID Partition Table (GPT)</strong></span>, the maximum number of partitions is 128. While the GPT specification allows for more partitions by growing the area reserved for the partition table, common practice used by the <code class="literal">parted</code> utility is to limit it to enough area for 128 partitions.
						</li></ul></div><h4><a id="the_maximum_size_of_a_partition_4"/>The maximum size of a partition</h4><p>
					The size of a partition on a device is limited by the type of the partition table:
				</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
							On a device formatted with the <span class="strong"><strong>Master Boot Record (MBR)</strong></span> partition table, the maximum size is 2TiB.
						</li><li class="listitem">
							On a device formatted with the <span class="strong"><strong>GUID Partition Table (GPT)</strong></span>, the maximum size is 8ZiB.
						</li></ul></div><p>
					If you want to create a partition larger than 2TiB, the disk must be formatted with GPT.
				</p><h4><a id="size_alignment_4"/>Size alignment</h4><p>
					The <code class="literal">parted</code> utility enables you to specify partition size using multiple different suffixes:
				</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">MiB, GiB, or TiB</span></dt><dd><p class="simpara">
								Size expressed in powers of 2.
							</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
										The starting point of the partition is aligned to the exact sector specified by size.
									</li><li class="listitem">
										The ending point is aligned to the specified size minus 1 sector.
									</li></ul></div></dd><dt><span class="term">MB, GB, or TB</span></dt><dd><p class="simpara">
								Size expressed in powers of 10.
							</p><p class="simpara">
								The starting and ending point is aligned within one half of the specified unit: for example, ±500KB when using the MB suffix.
							</p></dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="proc_resizing-a-partition-with-parted_assembly_resizing-a-partition"/>Resizing a partition with parted</h2></div></div></div><p>
					This procedure resizes a disk partition using the <code class="literal">parted</code> utility.
				</p><h4><a id="prerequisites_3"/>Prerequisites</h4><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">
							If you want to shrink a partition, back up the data that are stored on it.
						</p><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p>
								Shrinking a partition might result in data loss on the partition.
							</p></div></li><li class="listitem">
							If you want to resize a partition to be larger than 2TiB, the disk must be formatted with the GUID Partition Table (GPT). For details on how to format the disk, see <a class="xref" href="assembly_getting-started-with-partitions_managing-storage-devices.html#assembly_creating-a-partition-table-on-a-disk_assembly_getting-started-with-partitions" title="Creating a partition table on a disk">the section called “Creating a partition table on a disk”</a>.
						</li></ul></div><h4><a id="procedure_6"/>Procedure</h4><div class="orderedlist"><ol class="orderedlist"><li class="listitem">
							If you want to shrink the partition, shrink the file system on it first so that it is not larger than the resized partition. Note that XFS does not support shrinking.
						</li><li class="listitem"><p class="simpara">
							Start the interactive <code class="literal">parted</code> shell:
						</p><pre class="screen"># parted <span class="emphasis"><em><span class="replaceable">block-device</span></em></span></pre><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
									Replace <span class="emphasis"><em><span class="replaceable">block-device</span></em></span> with the path to the device where you want to resize a partition: for example, <code class="literal">/dev/sda</code>.
								</li></ul></div></li><li class="listitem"><p class="simpara">
							View the current partition table:
						</p><pre class="screen">(parted) print</pre><p class="simpara">
							From the partition table, determine:
						</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
									The minor number of the partition
								</li><li class="listitem">
									The location of the existing partition and its new ending point after resizing
								</li></ul></div></li><li class="listitem"><p class="simpara">
							Resize the partition:
						</p><pre class="screen">(parted) resizepart <span class="emphasis"><em><span class="replaceable">minor-number</span></em></span> <span class="emphasis"><em><span class="replaceable">new-end</span></em></span></pre><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
									Replace <span class="emphasis"><em><span class="replaceable">minor-number</span></em></span> with the minor number of the partition that you are resizing: for example, <code class="literal">3</code>.
								</li><li class="listitem">
									Replace <span class="emphasis"><em><span class="replaceable">new-end</span></em></span> with the size that determines the new ending point of the resized partition, counting from the beginning of the disk. You can use size suffixes, such as <code class="literal">512MiB</code>, <code class="literal">20GiB</code>, or <code class="literal">1.5TiB</code>. The default size megabytes.
								</li></ul></div><div class="example"><a id="idm140236383867504"/><p class="title"><strong>Example 1.4. Extending a partition</strong></p><div class="example-contents"><p>
								For example, to extend a partition located at the beginning of the disk to be 2GiB in size, use:
							</p><pre class="screen">(parted) resizepart 1 2GiB</pre></div></div><p class="simpara">
							The changes start taking place as soon as you enter this command, so review it before executing it.
						</p></li><li class="listitem"><p class="simpara">
							View the partition table to confirm that the resized partition is in the partition table with the correct size:
						</p><pre class="screen">(parted) print</pre></li><li class="listitem"><p class="simpara">
							Exit the <code class="literal">parted</code> shell:
						</p><pre class="screen">(parted) quit</pre></li><li class="listitem"><p class="simpara">
							Verify that the kernel recognizes the new partition:
						</p><pre class="screen"># cat /proc/partitions</pre></li><li class="listitem">
							If you extended the partition, extend the file system on it as well. See (reference) for details.
						</li></ol></div><h4><a id="additional_resources_5"/>Additional resources</h4><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
							The <code class="literal">parted(8)</code> man page.
						</li></ul></div></div></div></div></body></html>