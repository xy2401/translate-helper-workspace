<html  xmlns="http://www.w3.org/1999/xhtml"><head><title>附录B.分区参考</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"><meta name="generator" content="DocBook XSL-NS Stylesheets V1.78.1"></head><body ><div class="appendix"><div class="titlepage"><div><div><h1 class="title"><a id="partitioning-reference_installing-RHEL"></a>附录B.分区参考</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="supported-device-types_partitioning-reference"></a>支持的设备类型</h1></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">标准分区</span></dt><dd>标准分区可以包含文件系统或交换空间。标准分区最常用于<code class="literal">/boot</code>以及<code class="literal">BIOS Boot</code>和<code class="literal">EFI System partitions</code> 。建议将LVM逻辑卷用于大多数其他用途。
							</dd><dt><span class="term">LVM</span></dt><dd>选择<code class="literal">LVM</code> （或逻辑卷管理）作为设备类型会创建LVM逻辑卷。如果当前不存在LVM卷组，则会自动创建一个以包含新卷;如果LVM卷组已存在，则分配卷。LVM可以在使用物理磁盘时提高性能，并且允许进行高级设置，例如将多个物理磁盘用于一个安装点，以及设置软件RAID以提高性能，可靠性或两者兼而有之。
							</dd><dt><span class="term">LVM精简配置</span></dt><dd>使用精简资源调配，您可以管理可用空间的存储池，称为精简池，可以在应用程序需要时分配给任意数量的设备。您可以在需要时动态扩展池，以便经济高效地分配存储空间。
							</dd></dl></div><div class="warning" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">警告</h3><p>安装程序不支持过度配置的LVM精简池。
					</p></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="supported-file-systems_partitioning-reference"></a>支持的文件系统</h1></div></div></div><p>本节介绍Red Hat Enterprise Linux中可用的文件系统。
				</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">XFS</span></dt><dd>
								<code class="literal">XFS</code>是一个高度可扩展的高性能文件系统，支持最高16艾字节（大约1600万兆兆字节）的文件系统，高达8艾字节（大约800万兆兆字节）的文件，以及包含数千万条目的目录结构。<code class="literal">XFS</code>还支持元数据日记功能，这有助于更快地进行崩溃恢复。单个XFS文件系统支持的最大大小为500 TB。 <code class="literal">XFS</code>是Red Hat Enterprise Linux上的默认和推荐文件系统。
							</dd><dt><span class="term">EXT4</span></dt><dd><code class="literal">ext4</code>文件系统基于<code class="literal">ext3</code>文件系统，具有许多改进。其中包括支持更大的文件系统和更大的文件，更快，更有效地分配磁盘空间，不限制目录中的子目录数量，更快的文件系统检查以及更强大的日记功能。单个<code class="literal">ext4</code>文件系统支持的最大大小为50 TB。</dd><dt><span class="term">EXT3</span></dt><dd><code class="literal">ext3</code>文件系统基于<code class="literal">ext2</code>文件系统，具有一个主要优点 - 日志。使用日记文件系统可以减少意外终止后恢复文件系统所花费的时间，因为无需每次都运行fsck实用程序来检查文件系统的元数据一致性。
							</dd><dt><span class="term">EXT2</span></dt><dd><code class="literal">ext2</code>文件系统支持标准的Unix文件类型，包括常规文件，目录或符号链接。它提供了分配长文件名的功能，最多255个字符。
							</dd><dt><span class="term">交换</span></dt><dd>交换分区用于支持虚拟内存。换句话说，当没有足够的RAM来存储系统正在处理的数据时，数据将写入交换分区。
							</dd><dt><span class="term">VFAT</span></dt><dd><code class="literal">VFAT</code>文件系统是Linux文件系统，与FAT文件系统上的Microsoft Windows长文件名兼容。
							</dd><dt><span class="term">BIOS启动</span></dt><dd>在BIOS兼容模式下，在BIOS系统和UEFI系统上从具有GUID分区表（GPT）的设备引导所需的分区非常小。
							</dd><dt><span class="term">EFI系统分区</span></dt><dd>在UEFI系统上引导具有GUID分区表（GPT）的设备所需的小分区。
							</dd><dt><span class="term">的PReP</span></dt><dd>此小启动分区位于硬盘驱动器的第一个分区上。<code class="literal">PReP</code>引导分区包含GRUB2引导加载程序，允许其他IBM Power Systems服务器引导Red Hat Enterprise Linux。
							</dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="supported-raid-types_partitioning-reference"></a>支持的RAID类型</h1></div></div></div><p>RAID代表Redundant Array of Independent Disks，这项技术允许您将多个物理磁盘组合成逻辑单元。一些设置旨在以可靠性为代价来提高性能，而其他设置则会以相同数量的可用空间需要更多磁盘为代价来提高可靠性。
				</p><p>本节介绍支持的软件RAID类型，您可以将其与LVM和LVM精简配置一起用于在已安装的系统上设置存储。
				</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">没有</span></dt><dd>不会设置RAID阵列。
							</dd><dt><span class="term">RAID0</span></dt><dd>性能：跨多个磁盘分发数据。RAID 0提供了比标准分区更高的性能，可用于将多个磁盘的存储集中到一个大型虚拟设备中。请注意，RAID 0不提供冗余，并且阵列中一个设备的故障会破坏整个阵列中的数据。RAID 0至少需要两个磁盘。
							</dd><dt><span class="term">RAID1</span></dt><dd>冗余：将一个分区中的所有数据镜像到一个或多个其他磁盘上。阵列中的其他设备提供更高级别的冗余。RAID 1至少需要两个磁盘。
							</dd><dt><span class="term">RAID4</span></dt><dd>错误检查：在多个磁盘上分配数据，并使用阵列中的一个磁盘存储奇偶校验信息，以便在阵列中的任何磁盘发生故障时保护阵列。由于所有奇偶校验信息都存储在一个磁盘上，因此访问此磁盘会在阵列性能中产生“瓶颈”。RAID 4至少需要三个磁盘。
							</dd><dt><span class="term">RAID5</span></dt><dd>分布式错误检查：跨多个磁盘分配数据和奇偶校验信息。RAID 5提供了跨多个磁盘分发数据的性能优势，但不会共享RAID 4的性能瓶颈，因为奇偶校验信息也通过阵列分发。RAID 5至少需要三个磁盘。
							</dd><dt><span class="term">RAID6</span></dt><dd>冗余错误检查：RAID 6类似于RAID 5，但它不存储一组奇偶校验数据，而是存储两组。RAID 6至少需要四个磁盘。
							</dd><dt><span class="term">RAID10</span></dt><dd>性能和冗余：RAID 10是嵌套式或混合型RAID。它是通过镜像磁盘集分发数据构建的。例如，由四个RAID分区构成的RAID 10阵列由两对镜像条带分区组成。RAID 10至少需要四个磁盘。
							</dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="recommended-partitioning-scheme_partitioning-reference"></a>推荐的分区方案</h1></div></div></div><p>Red Hat建议您在以下挂载点创建单独的文件系统：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
							<code class="literal">/boot</code>
						</li><li class="listitem">
							<code class="literal">/</code> （根）</li><li class="listitem">
							<code class="literal">/home</code>
						</li><li class="listitem">
							<code class="literal">swap</code>
						</li><li class="listitem">
							<code class="literal">/boot/efi</code>
						</li><li class="listitem"><p class="simpara">
							<code class="literal">PReP</code>
						</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">/boot</code> partition  - 建议大小至少为1 GiB</span></dt><dd><p class="simpara">安装在<code class="literal">/boot</code>上的分区包含操作系统内核，它允许系统引导Red Hat Enterprise Linux 8，以及引导过程中使用的文件。由于大多数固件的限制，建议创建一个小分区来容纳这些固件。在大多数情况下，1 GiB启动分区就足够了。与其他安装点不同，无法使用LVM卷进行<code class="literal">/boot</code> - <code class="literal">/boot</code>必须位于单独的磁盘分区上。
									</p><div class="warning" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">警告</h3><p>通常， <code class="literal">/boot</code>分区由安装程序自动创建。但是，如果<code class="literal">/</code> （root）分区大于2 TiB并且（U）EFI用于引导，则需要创建一个小于2 TiB的单独<code class="literal">/boot</code>分区才能成功引导计算机。
										</p></div><div class="note" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">注意</h3><p>如果您有RAID卡，请注意某些BIOS类型不支持从RAID卡启动。在这种情况下，必须在RAID阵列外部的分区上创建<code class="literal">/boot</code>分区，例如在单独的硬盘驱动器上。
										</p></div></dd><dt><span class="term"><code class="literal">root</code> - 建议大小为10 GiB</span></dt><dd><p class="simpara">这是“ <code class="literal">/</code> ”或根目录所在的位置。根目录是目录结构的顶级。默认情况下，除非在写入的路径中安装了不同的文件系统（例如<code class="literal">/boot</code>或<code class="literal">/home</code> ，否则所有文件都将写入此文件系统。
									</p><p class="simpara">虽然5 GiB根文件系统允许您安装最小安装，但建议至少分配10 GiB，以便您可以根据需要安装任意数量的软件包组。
									</p><div class="important" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">重要</h3><p>不要将<code class="literal">/</code>目录与<code class="literal">/root</code>目录混淆。<code class="literal">/root</code>目录是root用户的主目录。<code class="literal">/root</code>目录有时称为<span class="emphasis"><em>斜杠根目录，</em></span>以区别于根目录。
										</p></div></dd><dt><span class="term"><code class="literal">/home</code> - 建议大小至少为1 GiB</span></dt><dd>要将用户数据与系统数据分开存储，请为<code class="literal">/home</code>目录创建专用文件系统。将文件系统大小基于本地存储的数据量，用户数等。您可以在不删除用户数据文件的情况下升级或重新安装Red Hat Enterprise Linux 8。如果选择自动分区，建议至少有55 GiB的磁盘空间可用于安装，以确保创建<code class="literal">/home</code>文件系统。
									</dd><dt><span class="term"><code class="literal">swap</code>分区 - 建议大小至少为1 GB</span></dt><dd><p class="simpara">交换文件系统支持虚拟内存;当没有足够的RAM来存储系统正在处理的数据时，数据将写入交换文件系统。交换大小是系统内存工作负载的函数，而不是系统总内存，因此不等于系统总内存大小。分析系统将运行的应用程序以及这些应用程序将提供的负载以确定系统内存工作负载非常重要。应用提供商和开发人员可以提供指导
									</p><p class="simpara">当系统耗尽交换空间时，内核会在系统RAM内存耗尽时终止进程。配置过多的交换空间会导致存储设备被分配但空闲，并且资源使用率很低。太多的交换空间也可以隐藏内存泄漏。可以在<code class="literal">mkswap(8)</code>手册页中找到交换分区的最大大小和其他附加信息。
									</p><p class="simpara">下表提供了交换分区的建议大小，具体取决于系统中的RAM量以及是否需要足够的内存供系统休眠。如果让安装程序自动对系统进行分区，则使用这些准则建立交换分区大小。自动分区设置假设未使用休眠模式。交换分区的最大大小限制为硬盘驱动器总大小的10％，安装程序无法创建大小超过128 GB的交换分区。要设置足够的交换空间以允许休眠，或者如果要将交换分区大小设置为系统存储空间的10％以上或大于128 GB，则必须手动编辑分区布局。
									</p></dd><dt><span class="term"><code class="literal">/boot/efi</code> partition  - 建议大小为200 MiB</span></dt><dd>基于UEFI的AMD64，Intel 64和64位ARM需要200 MiB EFI系统分区。建议的最小尺寸为200 MiB，默认尺寸为600 MiB，最大尺寸为600 MiB。 BIOS系统不需要EFI系统分区。
									</dd></dl></div></li></ul></div><div class="table"><a id="idm140346571948448"></a><p class="title"><strong>表B.1。推荐的系统交换空间</strong></p><div class="table-contents"><table border="1" summary="Recommended System Swap Space"><colgroup><col class="col_1"><col class="col_2"><col class="col_3"></colgroup><thead><tr><th valign="top" style="text-align:left">系统中的RAM量</th><th valign="top" style="text-align:left">推荐的交换空间</th><th valign="top" style="text-align:left">如果允许休眠，建议的交换空间</th></tr></thead><tbody><tr><td valign="top" style="text-align:left"> <p>小于2 GB</p>
								 </td><td valign="top" style="text-align:left"> <p>RAM量的2倍</p>
								 </td><td valign="top" style="text-align:left"> <p>RAM量的3倍</p>
								 </td></tr><tr><td valign="top" style="text-align:left"> <p>2 GB  -  8 GB</p>
								 </td><td valign="top" style="text-align:left"> <p>等于RAM的数量</p>
								 </td><td valign="top" style="text-align:left"> <p>RAM量的2倍</p>
								 </td></tr><tr><td valign="top" style="text-align:left"> <p>8 GB  -  64 GB</p>
								 </td><td valign="top" style="text-align:left"> <p>4 GB到0.5倍的RAM量</p>
								 </td><td valign="top" style="text-align:left"> <p>RAM量的1.5倍</p>
								 </td></tr><tr><td valign="top" style="text-align:left"> <p>超过64 GB</p>
								 </td><td valign="top" style="text-align:left"> <p>依赖于工作负载（至少4GB）</p>
								 </td><td valign="top" style="text-align:left"> <p>不推荐休眠</p>
								 </td></tr></tbody></table></div></div><p>在每个范围之间的边界处，例如，具有2 GB，8 GB或64 GB系统RAM的系统，可以根据所选交换空间和休眠支持自行决定。如果您的系统资源允许，增加交换空间可以带来更好的性能。
				</p><p>在多个存储设备上分配交换空间 - 特别是在具有快速驱动器，控制器和接口的系统上 - 也可以提高交换空间性能。
				</p><p>许多系统具有比最低要求更多的分区和卷。根据您的特定系统需求选择分区。
				</p><div class="note" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">注意</h3><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">仅为您需要的分区立即分配存储容量。您可以随时分配可用空间，以满足发生的需求。
							</li><li class="listitem">如果您不确定如何配置分区，请接受安装程序提供的自动默认分区布局。
							</li></ul></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">PReP</code>启动分区 - 建议大小为4到8 MiB</span></dt><dd>在IBM Power System服务器上安装Red Hat Enterprise Linux时，硬盘驱动器的第一个分区应包含<code class="literal">PReP</code>启动分区。它包含GRUB2引导加载程序，允许其他IBM Power Systems服务器引导Red Hat Enterprise Linux。
							</dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="advice-on-partitions_partitioning-reference"></a>有关分区的建议</h1></div></div></div><p>没有最好的方法来划分每个系统;最佳设置取决于您计划如何使用正在安装的系统。但是，以下提示可帮助您找到满足您需求的最佳布局：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">首先创建具有特定要求的分区，例如，如果特定分区必须位于特定磁盘上。
						</li><li class="listitem">考虑加密可能包含敏感数据的任何分区和卷。加密可防止未经授权的人访问分区上的数据，即使他们可以访问物理存储设备。在大多数情况下，您至少应该加密包含用户数据的<code class="literal">/home</code>分区。
						</li><li class="listitem">在某些情况下，为<code class="literal">/</code> ， <code class="literal">/boot</code>和<code class="literal">/home</code>以外的目录创建单独的挂载点可能很有用;例如，在运行<span class="strong"><strong><span class="application">MySQL</span></strong></span>数据库的服务器上，为<code class="literal">/var/lib/mysql</code>提供单独的挂载点将允许您在重新安装期间保留数据库，而不必在之后从备份中恢复它。但是，具有不必要的单独安装点将使存储管理更加困难。
						</li><li class="listitem">某些特殊限制适用于某些目录，可以放置哪些分区布局。值得注意的是， <code class="literal">/boot</code>目录必须始终位于物理分区上（而不是LVM卷上）。
						</li><li class="listitem">如果您不熟悉Linux，请考虑查看<a class="link" href="http://refspecs.linuxfoundation.org/FHS_2.3/fhs-2.3.html">http://refspecs.linuxfoundation.org/FHS_2.3/fhs-2.3.html上</a>的<span class="emphasis"><em><span class="citetitle">Linux Filesystem Hierarchy Standard</span></em></span> ，以获取有关各种系统目录及其内容的信息。
						</li><li class="listitem">系统上安装的每个内核在<code class="literal">/boot</code>分区上大约需要20 MB。<code class="literal">/boot</code>的默认分区大小为1 GB应该足以满足大多数常见用途;如果您计划同时安装许多内核，请增加此分区的大小。
						</li><li class="listitem"><code class="literal">/var</code>目录包含许多应用程序的内容，包括<span class="strong"><strong><span class="application">Apache</span></strong></span> Web服务器， <span class="strong"><strong><span class="application">DNF</span></strong></span>包管理器使用它来临时存储下载的包更新。确保包含<code class="literal">/var</code>的分区或卷至少具有3 GB。</li><li class="listitem"><code class="literal">/var</code>目录的内容通常会经常更改。这可能会导致较旧的固态驱动器（SSD）出现问题，因为它们在变为不可用之前可以处理较少的读/写周期。如果您的系统根位于SSD上，请考虑在经典（盘片）HDD上为<code class="literal">/var</code>创建单独的挂载点。</li><li class="listitem"><code class="literal">/usr</code>目录包含典型Red Hat Enterprise Linux安装中的大部分软件。因此，对于最小安装，包含此目录的分区或卷应至少为5 GB，对于具有图形环境的安装，至少应为10 GB。
						</li><li class="listitem"><p class="simpara">如果<code class="literal">/usr</code>或<code class="literal">/var</code>与根卷的其余部分分开，则引导过程变得复杂得多，因为这些目录包含启动关键组件。在某些情况下，例如将这些目录放在iSCSI驱动器或FCoE位置时，系统可能无法启动，或者在关闭电源或重新启动时可能因<code class="literal">Device is busy</code>而挂起。
						</p><p class="simpara">此限制仅适用于<code class="literal">/usr</code>或<code class="literal">/var</code> ，而不适用于它们下面的目录。例如， <code class="literal">/var/www</code>的单独分区可以正常工作。
						</p></li><li class="listitem">考虑将未分配的LVM卷组中的一部分空间留空。如果您的空间需求发生变化但您不希望从其他卷中删除数据，则此未分配的空间可为您提供灵活性。您还可以为分区选择<code class="literal">LVM Thin Provisioning</code>设备类型，以使卷自动处理未使用的空间。
						</li><li class="listitem">无法减小XFS文件系统的大小 - 如果需要使此文件系统的分区或卷更小，则必须备份数据，销毁文件系统，并在其位置创建新的较小的文件系统。因此，如果您希望以后需要操作分区布局，则应使用ext4文件系统。
						</li><li class="listitem">如果您预计通过在安装后添加更多硬盘驱动器或扩展虚拟机硬盘驱动器来扩展存储，请使用逻辑卷管理（LVM）。使用LVM，您可以在新驱动器上创建物理卷，然后根据需要将它们分配给任何卷组和逻辑卷 - 例如，您可以轻松扩展系统的<code class="literal">/home</code> （或驻留在逻辑卷上的任何其他目录） ）。
						</li><li class="listitem">可能需要创建BIOS引导分区或EFI系统分区，具体取决于系统的固件，引导驱动器大小和引导驱动器磁盘标签。有关这些分区的信息，请参阅<a class="xref" href="partitioning-reference_installing-RHEL.html#recommended-partitioning-scheme_partitioning-reference" title="推荐的分区方案">“推荐的分区方案”一节</a> 。需要注意的是图形化的安装不会让你创建一个BIOS引导或EFI系统分区，如果您的系统<span class="strong"><strong>不需要</strong></span>一个-在这种情况下，他们会从菜单隐藏。
						</li><li class="listitem">如果您需要在安装后对存储配置进行任何更改，Red Hat Enterprise Linux存储库提供了几种可以帮助您执行此操作的不同工具。如果您更喜欢命令行工具，请尝试使用<span class="strong"><strong><span class="package">system-storage-manager</span></strong></span> 。
						</li></ul></div></div></div></body></html>