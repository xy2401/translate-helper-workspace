<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Appendix B. Partitioning reference</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"/><meta name="generator" content="DocBook XSL-NS Stylesheets V1.78.1"/></head><body><div class="appendix"><div class="titlepage"><div><div><h1 class="title"><a id="partitioning-reference_installing-RHEL"/>Appendix B. Partitioning reference</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="supported-device-types_partitioning-reference"/>Supported device types</h1></div></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term">Standard partition</span></dt><dd>
								A standard partition can contain a file system or swap space. Standard partitions are most commonly used for <code class="literal">/boot</code> and the <code class="literal">BIOS Boot</code> and <code class="literal">EFI System partitions</code>. LVM logical volumes are recommended for most other uses.
							</dd><dt><span class="term">LVM</span></dt><dd>
								Choosing <code class="literal">LVM</code> (or Logical Volume Management) as the device type creates an LVM logical volume. If no LVM volume group currently exists, one is automatically created to contain the new volume; if an LVM volume group already exists, the volume is assigned. LVM can improve performance when using physical disks, and it allows for advanced setups such as using multiple physical disks for one mount point, and setting up software RAID for increased performance, reliability, or both.
							</dd><dt><span class="term">LVM thin provisioning</span></dt><dd>
								Using thin provisioning, you can manage a storage pool of free space, known as a thin pool, which can be allocated to an arbitrary number of devices when needed by applications. You can dynamically expand the pool when needed for cost-effective allocation of storage space.
							</dd></dl></div><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p>
						The installation program does not support overprovisioned LVM thin pools.
					</p></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="supported-file-systems_partitioning-reference"/>Supported file systems</h1></div></div></div><p>
					This section describes the file systems available in Red Hat Enterprise Linux.
				</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">xfs</span></dt><dd>
								<code class="literal">XFS</code> is a highly scalable, high-performance file system that supports file systems up to 16 exabytes (approximately 16 million terabytes), files up to 8 exabytes (approximately 8 million terabytes), and directory structures containing tens of millions of entries. <code class="literal">XFS</code> also supports metadata journaling, which facilitates quicker crash recovery. The maximum supported size of a single XFS file system is 500 TB. <code class="literal">XFS</code> is the default and recommended file system on Red Hat Enterprise Linux.
							</dd><dt><span class="term">ext4</span></dt><dd>
								The <code class="literal">ext4</code> file system is based on the <code class="literal">ext3</code> file system and features a number of improvements. These include support for larger file systems and larger files, faster and more efficient allocation of disk space, no limit on the number of subdirectories within a directory, faster file system checking, and more robust journaling. The maximum supported size of a single <code class="literal">ext4</code> file system is 50 TB.
							</dd><dt><span class="term">ext3</span></dt><dd>
								The <code class="literal">ext3</code> file system is based on the <code class="literal">ext2</code> file system and has one main advantage - journaling. Using a journaling file system reduces the time spent recovering a file system after it terminates unexpectedly, as there is no need to check the file system for metadata consistency by running the fsck utility every time.
							</dd><dt><span class="term">ext2</span></dt><dd>
								An <code class="literal">ext2</code> file system supports standard Unix file types, including regular files, directories, or symbolic links. It provides the ability to assign long file names, up to 255 characters.
							</dd><dt><span class="term">swap</span></dt><dd>
								Swap partitions are used to support virtual memory. In other words, data is written to a swap partition when there is not enough RAM to store the data your system is processing.
							</dd><dt><span class="term">vfat</span></dt><dd>
								The <code class="literal">VFAT</code> file system is a Linux file system that is compatible with Microsoft Windows long file names on the FAT file system.
							</dd><dt><span class="term">BIOS Boot</span></dt><dd>
								A very small partition required for booting from a device with a GUID partition table (GPT) on BIOS systems and UEFI systems in BIOS compatibility mode.
							</dd><dt><span class="term">EFI System Partition</span></dt><dd>
								A small partition required for booting a device with a GUID partition table (GPT) on a UEFI system.
							</dd><dt><span class="term">PReP</span></dt><dd>
								This small boot partition is located on the first partition of the hard drive. The <code class="literal">PReP</code> boot partition contains the GRUB2 boot loader, which allows other IBM Power Systems servers to boot Red Hat Enterprise Linux.
							</dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="supported-raid-types_partitioning-reference"/>Supported RAID types</h1></div></div></div><p>
					RAID stands for Redundant Array of Independent Disks, a technology which allows you to combine multiple physical disks into logical units. Some setups are designed to enhance performance at the cost of reliability, while others will improve reliability at the cost of requiring more disks for the same amount of available space.
				</p><p>
					This section describes supported software RAID types which you can use with LVM and LVM Thin Provisioning to set up storage on the installed system.
				</p><div class="variablelist"><dl class="variablelist"><dt><span class="term">None</span></dt><dd>
								No RAID array will be set up.
							</dd><dt><span class="term">RAID0</span></dt><dd>
								Performance: Distributes data across multiple disks. RAID 0 offers increased performance over standard partitions and can be used to pool the storage of multiple disks into one large virtual device. Note that RAID 0 offers no redundancy and that the failure of one device in the array destroys data in the entire array. RAID 0 requires at least two disks.
							</dd><dt><span class="term">RAID1</span></dt><dd>
								Redundancy: Mirrors all data from one partition onto one or more other disks. Additional devices in the array provide increasing levels of redundancy. RAID 1 requires at least two disks.
							</dd><dt><span class="term">RAID4</span></dt><dd>
								Error checking: Distributes data across multiple disks and uses one disk in the array to store parity information which safeguards the array in case any disk in the array fails. As all parity information is stored on one disk, access to this disk creates a "bottleneck" in the array’s performance. RAID 4 requires at least three disks.
							</dd><dt><span class="term">RAID5</span></dt><dd>
								Distributed error checking: Distributes data and parity information across multiple disks. RAID 5 offers the performance advantages of distributing data across multiple disks, but does not share the performance bottleneck of RAID 4 as the parity information is also distributed through the array. RAID 5 requires at least three disks.
							</dd><dt><span class="term">RAID6</span></dt><dd>
								Redundant error checking: RAID 6 is similar to RAID 5, but instead of storing only one set of parity data, it stores two sets. RAID 6 requires at least four disks.
							</dd><dt><span class="term">RAID10</span></dt><dd>
								Performance and redundancy: RAID 10 is nested or hybrid RAID. It is constructed by distributing data over mirrored sets of disks. For example, a RAID 10 array constructed from four RAID partitions consists of two mirrored pairs of striped partitions. RAID 10 requires at least four disks.
							</dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="recommended-partitioning-scheme_partitioning-reference"/>Recommended partitioning scheme</h1></div></div></div><p>
					Red Hat recommends that you create separate file systems at the following mount points:
				</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
							<code class="literal">/boot</code>
						</li><li class="listitem">
							<code class="literal">/</code> (root)
						</li><li class="listitem">
							<code class="literal">/home</code>
						</li><li class="listitem">
							<code class="literal">swap</code>
						</li><li class="listitem">
							<code class="literal">/boot/efi</code>
						</li><li class="listitem"><p class="simpara">
							<code class="literal">PReP</code>
						</p><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">/boot</code> partition - recommended size at least 1 GiB</span></dt><dd><p class="simpara">
										The partition mounted on <code class="literal">/boot</code> contains the operating system kernel, which allows your system to boot Red Hat Enterprise Linux 8, along with files used during the bootstrap process. Due to the limitations of most firmwares, creating a small partition to hold these is recommended. In most scenarios, a 1 GiB boot partition is adequate. Unlike other mount points, using an LVM volume for <code class="literal">/boot</code> is not possible - <code class="literal">/boot</code> must be located on a separate disk partition.
									</p><div class="warning" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Warning</h3><p>
											Normally, the <code class="literal">/boot</code> partition is created automatically by the installation program. However, if the <code class="literal">/</code> (root) partition is larger than 2 TiB and (U)EFI is used for booting, you need to create a separate <code class="literal">/boot</code> partition that is smaller than 2 TiB to boot the machine successfully.
										</p></div><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
											If you have a RAID card, be aware that some BIOS types do not support booting from the RAID card. In such a case, the <code class="literal">/boot</code> partition must be created on a partition outside of the RAID array, such as on a separate hard drive.
										</p></div></dd><dt><span class="term"><code class="literal">root</code> - recommended size of 10 GiB</span></dt><dd><p class="simpara">
										This is where "<code class="literal">/</code>", or the root directory, is located. The root directory is the top-level of the directory structure. By default, all files are written to this file system unless a different file system is mounted in the path being written to, for example, <code class="literal">/boot</code> or <code class="literal">/home</code>.
									</p><p class="simpara">
										While a 5 GiB root file system allows you to install a minimal installation, it is recommended to allocate at least 10 GiB so that you can install as many package groups as you want.
									</p><div class="important" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Important</h3><p>
											Do not confuse the <code class="literal">/</code> directory with the <code class="literal">/root</code> directory. The <code class="literal">/root</code> directory is the home directory of the root user. The <code class="literal">/root</code> directory is sometimes referred to as <span class="emphasis"><em>slash root</em></span> to distinguish it from the root directory.
										</p></div></dd><dt><span class="term"><code class="literal">/home</code> - recommended size at least 1 GiB</span></dt><dd>
										To store user data separately from system data, create a dedicated file system for the <code class="literal">/home</code> directory. Base the file system size on the amount of data that is stored locally, number of users, and so on. You can upgrade or reinstall Red Hat Enterprise Linux 8 without erasing user data files. If you select automatic partitioning, it is recommended to have at least 55 GiB of disk space available for the installation, to ensure that the <code class="literal">/home</code> file system is created.
									</dd><dt><span class="term"><code class="literal">swap</code> partition - recommended size at least 1 GB</span></dt><dd><p class="simpara">
										Swap file systems support virtual memory; data is written to a swap file system when there is not enough RAM to store the data your system is processing. Swap size is a function of system memory workload, not total system memory and therefore is not equal to the total system memory size. It is important to analyze what applications a system will be running and the load those applications will serve in order to determine the system memory workload. Application providers and developers can provide guidance.
									</p><p class="simpara">
										When the system runs out of swap space, the kernel terminates processes as the system RAM memory is exhausted. Configuring too much swap space results in storage devices being allocated but idle and is a poor use of resources. Too much swap space can also hide memory leaks. The maximum size for a swap partition and other additional information can be found in the <code class="literal">mkswap(8)</code> manual page.
									</p><p class="simpara">
										The following table provides the recommended size of a swap partition depending on the amount of RAM in your system and if you want sufficient memory for your system to hibernate. If you let the installation program partition your system automatically, the swap partition size is established using these guidelines. Automatic partitioning setup assumes hibernation is not in use. The maximum size of the swap partition is limited to 10 percent of the total size of the hard drive, and the installation program cannot create swap partitions more than 128 GB in size. To set up enough swap space to allow for hibernation, or if you want to set the swap partition size to more than 10 percent of the system’s storage space, or more than 128 GB, you must edit the partitioning layout manually.
									</p></dd><dt><span class="term"><code class="literal">/boot/efi</code> partition - recommended size of 200 MiB</span></dt><dd>
										UEFI-based AMD64, Intel 64, and 64-bit ARM require a 200 MiB EFI system partition. The recommended minimum size is 200 MiB, the default size is 600 MiB, and the maximum size is 600 MiB. BIOS systems do not require an EFI system partition.
									</dd></dl></div></li></ul></div><div class="table"><a id="idm140346571948448"/><p class="title"><strong>Table B.1. Recommended System Swap Space</strong></p><div class="table-contents"><table summary="Recommended System Swap Space" border="1"><colgroup><col class="col_1"/><col class="col_2"/><col class="col_3"/></colgroup><thead><tr><th style="text-align: left" valign="top">Amount of RAM in the system</th><th style="text-align: left" valign="top">Recommended swap space</th><th style="text-align: left" valign="top">Recommended swap space if allowing for hibernation</th></tr></thead><tbody><tr><td style="text-align: left" valign="top"> <p>
									Less than 2 GB
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									2 times the amount of RAM
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									3 times the amount of RAM
								</p>
								 </td></tr><tr><td style="text-align: left" valign="top"> <p>
									2 GB - 8 GB
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									Equal to the amount of RAM
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									2 times the amount of RAM
								</p>
								 </td></tr><tr><td style="text-align: left" valign="top"> <p>
									8 GB - 64 GB
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									4 GB to 0.5 times the amount of RAM
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									1.5 times the amount of RAM
								</p>
								 </td></tr><tr><td style="text-align: left" valign="top"> <p>
									More than 64 GB
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									Workload dependent (at least 4GB)
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									Hibernation not recommended
								</p>
								 </td></tr></tbody></table></div></div><p>
					At the border between each range, for example, a system with 2 GB, 8 GB, or 64 GB of system RAM, discretion can be exercised with regard to chosen swap space and hibernation support. If your system resources allow for it, increasing the swap space can lead to better performance.
				</p><p>
					Distributing swap space over multiple storage devices - particularly on systems with fast drives, controllers and interfaces - also improves swap space performance.
				</p><p>
					Many systems have more partitions and volumes than the minimum required. Choose partitions based on your particular system needs.
				</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
								Only assign storage capacity to those partitions you require immediately. You can allocate free space at any time, to meet needs as they occur.
							</li><li class="listitem">
								If you are unsure about how to configure partitions, accept the automatic default partition layout provided by the installation program.
							</li></ul></div></div><div class="variablelist"><dl class="variablelist"><dt><span class="term"><code class="literal">PReP</code> boot partition - recommended size of 4 to 8 MiB</span></dt><dd>
								When installing Red Hat Enterprise Linux on IBM Power System servers, the first partition of the hard drive should include a <code class="literal">PReP</code> boot partition. This contains the GRUB2 boot loader, which allows other IBM Power Systems servers to boot Red Hat Enterprise Linux.
							</dd></dl></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="advice-on-partitions_partitioning-reference"/>Advice on partitions</h1></div></div></div><p>
					There is no best way to partition every system; the optimal setup depends on how you plan to use the system being installed. However, the following tips may help you find the optimal layout for your needs:
				</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
							Create partitions that have specific requirements first, for example, if a particular partition must be on a specific disk.
						</li><li class="listitem">
							Consider encrypting any partitions and volumes which might contain sensitive data. Encryption prevents unauthorized people from accessing the data on the partitions, even if they have access to the physical storage device. In most cases, you should at least encrypt the <code class="literal">/home</code> partition, which contains user data.
						</li><li class="listitem">
							In some cases, creating separate mount points for directories other than <code class="literal">/</code>, <code class="literal">/boot</code> and <code class="literal">/home</code> may be useful; for example, on a server running a <span class="strong"><strong><span class="application">MySQL</span></strong></span> database, having a separate mount point for <code class="literal">/var/lib/mysql</code> will allow you to preserve the database during a reinstallation without having to restore it from backup afterwards. However, having unnecessary separate mount points will make storage administration more difficult.
						</li><li class="listitem">
							Some special restrictions apply to certain directories with regards on which partitioning layouts can they be placed. Notably, the <code class="literal">/boot</code> directory must always be on a physical partition (not on an LVM volume).
						</li><li class="listitem">
							If you are new to Linux, consider reviewing the <span class="emphasis"><em><span class="citetitle">Linux Filesystem Hierarchy Standard</span></em></span> at <a class="link" href="http://refspecs.linuxfoundation.org/FHS_2.3/fhs-2.3.html">http://refspecs.linuxfoundation.org/FHS_2.3/fhs-2.3.html</a> for information about various system directories and their contents.
						</li><li class="listitem">
							Each kernel installed on your system requires approximately 20 MB on the <code class="literal">/boot</code> partition. The default partition size of 1 GB for <code class="literal">/boot</code> should suffice for most common uses; increase the size of this partition if you plan to keep many kernels installed at the same time.
						</li><li class="listitem">
							The <code class="literal">/var</code> directory holds content for a number of applications, including the <span class="strong"><strong><span class="application">Apache</span></strong></span> web server, and is used by the <span class="strong"><strong><span class="application">DNF</span></strong></span> package manager to temporarily store downloaded package updates. Make sure that the partition or volume containing <code class="literal">/var</code> has at least 3 GB.
						</li><li class="listitem">
							The contents of the <code class="literal">/var</code> directory usually change very often. This may cause problems with older solid state drives (SSDs), as they can handle a lower number of read/write cycles before becoming unusable. If your system root is on an SSD, consider creating a separate mount point for <code class="literal">/var</code> on a classic (platter) HDD.
						</li><li class="listitem">
							The <code class="literal">/usr</code> directory holds the majority of software on a typical Red Hat Enterprise Linux installation. The partition or volume containing this directory should therefore be at least 5 GB for minimal installations, and at least 10 GB for installations with a graphical environment.
						</li><li class="listitem"><p class="simpara">
							If <code class="literal">/usr</code> or <code class="literal">/var</code> is partitioned separately from the rest of the root volume, the boot process becomes much more complex because these directories contain boot-critical components. In some situations, such as when these directories are placed on an iSCSI drive or an FCoE location, the system may either be unable to boot, or it may hang with a <code class="literal">Device is busy</code> error when powering off or rebooting.
						</p><p class="simpara">
							This limitation only applies to <code class="literal">/usr</code> or <code class="literal">/var</code>, not to directories below them. For example, a separate partition for <code class="literal">/var/www</code> will work without issues.
						</p></li><li class="listitem">
							Consider leaving a portion of the space in an LVM volume group unallocated. This unallocated space gives you flexibility if your space requirements change but you do not wish to remove data from other volumes. You can also select the <code class="literal">LVM Thin Provisioning</code> device type for the partition to have the unused space handled automatically by the volume.
						</li><li class="listitem">
							The size of an XFS file system can not be reduced - if you need to make a partition or volume with this file system smaller, you must back up your data, destroy the file system, and create a new, smaller one in its place. Therefore, if you expect needing to manipulate your partitioning layout later, you should use the ext4 file system instead.
						</li><li class="listitem">
							Use Logical Volume Management (LVM) if you anticipate expanding your storage by adding more hard drives or expanding virtual machine hard drives after the installation. With LVM, you can create physical volumes on the new drives, and then assign them to any volume group and logical volume as you see fit - for example, you can easily expand your system’s <code class="literal">/home</code> (or any other directory residing on a logical volume).
						</li><li class="listitem">
							Creating a BIOS Boot partition or an EFI System Partition may be necessary, depending on your system’s firmware, boot drive size, and boot drive disk label. See <a class="xref" href="partitioning-reference_installing-RHEL.html#recommended-partitioning-scheme_partitioning-reference" title="Recommended partitioning scheme">the section called “Recommended partitioning scheme”</a> for information about these partitions. Note that graphical installation will not let you create a BIOS Boot or EFI System Partition if your system does <span class="strong"><strong>not</strong></span> require one - in that case, they will be hidden from the menu.
						</li><li class="listitem">
							If you need to make any changes to your storage configuration after the installation, Red Hat Enterprise Linux repositories offer several different tools which can help you do this. If you prefer a command line tool, try <span class="strong"><strong><span class="package">system-storage-manager</span></strong></span>.
						</li></ul></div></div></div></body></html>