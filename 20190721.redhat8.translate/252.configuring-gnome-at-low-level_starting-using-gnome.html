<html  xmlns="http://www.w3.org/1999/xhtml"><head><title>Chapter 9. 在低级别配置GNOME</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"><meta name="generator" content="DocBook XSL-NS Stylesheets V1.78.1"></head><body ><div class="chapter"><div class="titlepage"><div><div><h1 class="title">Chapter 9. 在低级别配置GNOME</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="introduction-to-gnome_configuring-gnome-at-low-level"></a>配置GNOME简介</h1></div></div></div><p>为了能够配置GNOME桌面环境，您需要了解这些基本术语：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">dconf</li><li class="listitem">GSettings</li><li class="listitem">gsettings</li></ul></div><p>
				<span class="strong"><strong><span class="application">dconf</span></strong></span>有两个不同的含义。
			</p><p>首先， <span class="strong"><strong><span class="application">dconf</span></strong></span>是一个基于密钥的二进制大对象（BLOB）数据库，用于存储GNOME配置。 <span class="strong"><strong><span class="application">dconf</span></strong></span>管理用户设置，如GDM，应用程序和代理设置，并作为<span class="strong"><strong><span class="application">GSettings的后端</span></strong></span> 。
			</p><p>其次， <span class="strong"><strong><span class="application">dconf</span></strong></span>是一个命令行实用程序，用于从dconf数据库读取和写入单个值或整个目录。
			</p><p>
				<span class="strong"><strong><span class="application">GSettings</span></strong></span>是应用程序设置的高级API，用作dconf的前端。
			</p><p>
				<span class="strong"><strong><span class="application">gsettings</span></strong></span>是一个命令行工具，用于查看和更改用户设置。
			</p></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="managing-system-settings_configuring-gnome-at-low-level"></a>管理用户和系统GNOME设置</h1></div></div></div><p>
				<span class="strong"><strong><span class="application">dconf</span></strong></span>允许系统管理员和用户对GNOME配置进行多级控制：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">管理员可以定义适用于所有用户的默认设置。
					</li><li class="listitem">用户可以使用自己的设置覆盖默认值。
					</li><li class="listitem">管理员还可以锁定设置以防止用户覆盖它们。
					</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="displaying-gsettings-values_configuring-gnome-at-low-level"></a>显示桌面应用程序的GSettings值</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="using_dconf_editor_and_gsettings_utility"></a>使用dconf-editor和gsettings实用程序</h2></div></div></div><p>可以使用以下工具之一查看和编辑<span class="strong"><strong><span class="application">GSettings</span></strong></span>值：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">dconf-editor GUI工具</li><li class="listitem">gsettings命令行实用程序</li></ul></div><div class="note" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">注意</h3><p>默认情况下，系统上未安装<span class="strong"><strong><span class="application">dconf编辑器</span></strong></span> 。要安装它，请以<code class="literal">root</code>用户身份运行以下命令：</p><pre class="literallayout">~]# yum install dconf-editor</pre></div><p><span class="strong"><strong><span class="application">dconf-editor</span></strong></span>和<span class="strong"><strong><span class="application">gsettings实用程序</span></strong></span>有以下共同点：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">允许浏览和更改系统和应用程序首选项的选项</li><li class="listitem">允许更改首选项</li><li class="listitem">可以由普通用户运行，因为这两个工具都旨在浏览和修改当前用户的GSettings数据库</li></ul></div><p><span class="strong"><strong><span class="application">dconf编辑器</span></strong></span>提供用于浏览设置及其编辑的GUI。它在树视图中显示设置的层次结构，还显示有关每个设置的其他信息，包括描述，类型和默认值。
				</p><p><span class="strong"><strong><span class="application">gsettings</span></strong></span>实用程序可用于显示和设置dconf值。 <span class="strong"><strong><span class="application">gsettings</span></strong></span>实用程序支持命令和设置的Bash完成。此工具还允许您在shell脚本中自动配置。 ⁠
				</p><div class="figure"><a id="figu-dcong-showing-gsettings-keys"></a><p class="title"><strong>图3.1。 dconf-editor显示org.gnome.destop.background GSettings键</strong></p><div class="figure-contents"><div class="mediaobject"><img src="images/dconf-editor-screenshot-new.png" alt="dconf编辑器截图新"></div></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="additional_information"></a>附加信息</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">有关<span class="strong"><strong><span class="application">dconf-editor</span></strong></span>工具的更多信息，请参阅<code class="literal">dconf-editor(1)</code>手册页和<a class="link" href="https://wiki.gnome.org/Projects/dconf">dconf-editor项目文档</a> 。
						</li><li class="listitem">有关<span class="strong"><strong><span class="application">gsettings</span></strong></span>实用程序的更多信息，请参见<code class="literal">gsettings(1)</code>手册页。
						</li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="using-dconf-profiles_configuring-gnome-at-low-level"></a>使用dconf配置文件</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="dconf-profiles-intro_configuring-gnome-at-low-level"></a> dconf配置文件简介</h2></div></div></div><p>dconf配置文件是dconf系统收集的系统硬件和软件配置数据库的列表。
				</p><p>dconf配置文件允许您比较相同的系统以解决硬件或软件问题。
				</p><p>dconf系统将其配置文件存储在文本文件中，文本文件可以位于<code class="literal">/etc/dconf/profile/</code>目录或其他位置。<code class="literal">$DCONF_PROFILE</code>环境变量可以指定<code class="literal">/etc/dconf/profile/</code>文件的相对路径，或绝对路径，例如在用户的主目录中。
				</p><p>请注意，在dconf配置文件中设置的密钥对会覆盖默认设置。
				</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="selecting_a_dconf_profile"></a>选择dconf配置文件</h2></div></div></div><p>在启动时， <span class="strong"><strong><span class="application">dconf会</span></strong></span>查询<code class="literal">$DCONF_PROFILE</code>环境以查找要打开的dconf配置文件的名称。结果取决于变量是否设置：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">如果设置， <span class="strong"><strong><span class="application">dconf将</span></strong></span>尝试打开变量中指定的配置文件，并在此步骤失败时中止。
						</li><li class="listitem">如果未设置， <span class="strong"><strong><span class="application">dconf将</span></strong></span>尝试打开名为<code class="literal">user</code>的配置文件，并在此步骤失败时使用内部硬连线配置。
						</li></ul></div><p>dconf配置文件中的每一行都指定一个dconf数据库。
				</p><p>第一行表示用于写入更改的数据库。其余行显示只读数据库。
				</p><p>以下是存储在<code class="literal">/etc/dconf/profile/user</code>的示例配置<code class="literal">/etc/dconf/profile/user</code> ：</p><pre class="literallayout">user-db:user
system-db:local
system-db:site</pre><p>在此示例中，dconf配置文件指定了三个数据库。 <code class="literal">user</code>是用户数据库的名称，可以在<code class="literal">~/.config/dconf</code> ， <code class="literal">local</code>和<code class="literal">site</code>是系统数据库，位于<code class="literal">/etc/dconf/db/</code> 。
				</p><div class="note" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">注意</h3><p>要将新的dconf用户配置文件应用于用户的会话，您需要注销并登录，因为会话的dconf配置文件是在登录时确定的。
					</p></div><div class="warning" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">警告</h3><p>作为用户或应用程序开发人员，请勿直接操作dconf。要操作dconf，请始终使用<span class="strong"><strong><span class="application">dconf-editor</span></strong></span>或<span class="strong"><strong><span class="application">gsettings实用程序</span></strong></span> 。直接使用dconf的唯一例外是在设置系统范围的默认配置时，因为上述工具不允许操作此类配置。
					</p></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="configuring-custom-default-values_configuring-gnome-at-low-level"></a>配置自定义默认值</h1></div></div></div><p>可以通过为dconf配置文件中的密钥提供默认值来设置计算机范围的默认设置。用户可以覆盖这些默认值。
			</p><p>为密钥设置默认值有两个先决条件：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">用户档案存在</li><li class="listitem">密钥的值已添加到dconf数据库中</li></ul></div><p>例如，要设置默认背景：</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p class="simpara">在<code class="literal">/etc/dconf/profile/user</code>创建用户配置<code class="literal">/etc/dconf/profile/user</code> ：</p><pre class="literallayout">user-db:user
system-db:local</pre><p class="simpara">其中<code class="literal">local</code>是dconf数据库的名称。
					</p></li><li class="listitem"><p class="simpara">在<code class="literal">/etc/dconf/db/local.d/01-background</code>为本地数据库创建密钥<code class="literal">/etc/dconf/db/local.d/01-background</code> ，其中包含以下默认设置：</p><pre class="literallayout">~]# dconf path

[org/gnome/desktop/background]

# GSettings key names and their corresponding values
picture-uri='file:///usr/local/share/backgrounds/wallpaper.jpg'
picture-options='scaled'
primary-color='000000'
secondary-color='FFFFFF'</pre><p class="simpara">在密钥文件的默认设置中，使用以下GSettings键：</p></li></ol></div><div class="table"><a id="idm139832603719952"></a><p class="title"><strong>表3.1。 org.gnome.desktop.background schemas GSettings Keys</strong></p><div class="table-contents"><table border="1" width="80%" summary="org.gnome.desktop.background schemas GSettings Keys"><colgroup><col class="col_1"><col class="col_2"><col class="col_3"></colgroup><thead><tr><th valign="top" style="text-align:left"><span class="strong"><strong>密钥名称</strong></span></th><th valign="top" style="text-align:left"><span class="strong"><strong>可能的值</strong></span></th><th valign="top" style="text-align:left"><span class="strong"><strong>描述</strong></span></th></tr></thead><tbody><tr><td valign="top" style="text-align:left"> <p>图片选项</p>
							 </td><td valign="top" style="text-align:left"> <p>“无”，“壁纸”，“居中”，“缩放”，“拉伸”，“缩放”，“跨越”</p>
							 </td><td valign="top" style="text-align:left"> <p>确定如何呈现wallpaper_filename设置的图像。
							</p>
							 </td></tr><tr><td valign="top" style="text-align:left"> <p>图片-URI</p>
							 </td><td valign="top" style="text-align:left"> <p>文件名与路径</p>
							 </td><td valign="top" style="text-align:left"> <p>用于背景图像的URI。请注意，后端仅支持本地<code class="literal">file://</code> URI。</p>
							 </td></tr><tr><td valign="top" style="text-align:left"> <p>原色</p>
							 </td><td valign="top" style="text-align:left"> <p>默认值：000000</p>
							 </td><td valign="top" style="text-align:left"> <p>绘制渐变时的左或顶颜色，或纯色。
							</p>
							 </td></tr><tr><td valign="top" style="text-align:left"> <p>二次色</p>
							 </td><td valign="top" style="text-align:left"> <p>默认值：FFFFFF</p>
							 </td><td valign="top" style="text-align:left"> <p>绘制渐变时的右或底颜色，不用于纯色。
							</p>
							 </td></tr></tbody></table></div></div><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p class="simpara">根据您的偏好编辑密钥文件。
					</p><p class="simpara">有关更多信息，请参阅<a class="xref" href="configuring-gnome-at-low-level_starting-using-gnome.html#displaying-gsettings-values_configuring-gnome-at-low-level" title="显示桌面应用程序的GSettings值">“显示桌面应用程序的GSettings值”一节</a> 。
					</p></li><li class="listitem"><p class="simpara">更新系统数据库：</p><pre class="literallayout">~]# dconf update</pre></li></ol></div><p>创建或更改用户配置文件时，用户需要注销并再次登录才能应用更改。
			</p><p>如果要避免创建用户配置文件，可以使用<span class="strong"><strong><span class="application">dconf命令行实用程序</span></strong></span>从dconf数据库读取单个值或整个目录。有关更多信息，请参见<code class="literal">dconf(1)</code>手册页。
			</p><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="locking-down-specific-settings_configuring-gnome-at-low-level"></a>锁定特定设置</h2></div></div></div><p>通过在dconf中使用锁定模式，您可以阻止用户更改特定设置。
				</p><p>要锁定GSettings键：</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem">在密钥文件目录中创建一个locks子目录，例如<code class="literal">/etc/dconf/db/local.d/locks/</code> 。
						</li><li class="listitem">使用要锁定到此目录的键添加任意数量的文件。
						</li></ol></div><p>如果不使用锁定强制执行系统设置，则用户生成的任何设置都优先于系统设置。因此，用户可以使用自己的设备覆盖系统设置。
				</p><p>例如，要锁定默认壁纸的设置：</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem">设置默认壁纸。
						</li><li class="listitem">创建一个新的<code class="literal">/etc/dconf/db/local.d/locks/</code>目录。
						</li><li class="listitem"><p class="simpara">在<code class="literal">/etc/dconf/db/local.d/locks/00-default-wallpaper</code>创建一个新文件， <code class="literal">/etc/dconf/db/local.d/locks/00-default-wallpaper</code>包含以下内容，每行列出一个密钥：</p><pre class="literallayout"># Prevent users from changing values for the following keys:
/org/gnome/desktop/background/picture-uri
/org/gnome/desktop/background/picture-options
/org/gnome/desktop/background/primary-color
/org/gnome/desktop/background/secondary-color</pre></li><li class="listitem"><p class="simpara">更新系统数据库：</p><pre class="literallayout">~]# dconf update</pre></li></ol></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="storing-user-settings-over-nfs_configuring-gnome-at-low-level"></a>通过NFS存储用户设置</h1></div></div></div><p>要使<span class="strong"><strong><span class="application">dconf</span></strong></span>在使用网络文件系统（NFS）主目录时正常工作，必须使用<span class="strong"><strong>dconf密钥文件后端</strong></span> 。
			</p><p>请注意，如果安装了<code class="literal">glib2-fam</code>软件包， <span class="strong"><strong>dconf密钥文件后端</strong></span>只能正常工作。如果没有此软件包，则无法正确显示在远程计算机上进行的配置更改通知。
			</p><p>使用Red Hat Enterprise Linux 8，可以在BaseOs存储库中使用<code class="literal">glib2-fam</code> 。
			</p><p>要设置<span class="strong"><strong>dconf密钥文件的后端</strong></span> ：</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem"><p class="simpara">确保系统上安装了<code class="literal">glib2-fam</code>软件包。
					</p><p class="simpara">要验证是否在系统上安装了软件包：</p><pre class="literallayout">~]#  yum list installed</pre><p class="simpara">如果<code class="literal">glib2-fam</code>不在已安装软件包的列表中，请运行以下命令安装：</p><pre class="literallayout">~]# yum install glib2-fam</pre></li><li class="listitem">在每个客户端上创建或编辑<code class="literal">/etc/dconf/profile/user</code>文件。
					</li><li class="listitem"><p class="simpara">在<code class="literal">/etc/dconf/profile/user file</code>的最开头，添加以下行：</p><pre class="literallayout">service-db:keyfile/user</pre></li></ol></div><p><span class="strong"><strong>dconf密钥文件后端</strong></span>将在用户下次登录时生效。它轮询密钥文件以确定是否已进行更新，因此可能无法立即更新设置。
			</p></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="setting-gsettings-keys_configuring-gnome-at-low-level"></a>设置GSettings键属性</h1></div></div></div><p>本节介绍如何为单个登录用户设置GSettings键属性。
			</p><p>每个GSettings键在dconf数据库中只能有一个值。在dconf数据库的不同位置将相同的密钥设置为不同的值会覆盖先前的值。
			</p><p>某些键的值是数组类型。对于数组类型，您可以将键的值指定为由逗号分隔的多个元素的列表。
			</p><p>要设置数组类型的GSettings键，请遵循以下语法：</p><pre class="literallayout">key=['option1', 'option2']</pre><p>以下示例显示了<code class="literal">org.gnome.desktop.input-sources.xkb-options GSettings</code>键的设置，其值为数组类型：⁠</p><div class="title"><strong>org.gnome.desktop.input-sources.xkb-options GSettings Key的示例设置</strong></div><p>
					
</p><pre class="screen">[org/gnome/desktop/input-sources]
# Enable Ctrl-Alt-Backspace for all users
# Set the Right Alt key as the Compose key and enable it
xkb-options=['terminate:ctrl_alt_bksp', 'compose:ralt']</pre><p>

				</p></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="using-gsettings-command_configuring-gnome-at-low-level"></a>在命令行上使用GSettings键</h1></div></div></div><p>本节重点介绍如何使用<code class="literal">gsettings</code>命令配置，操作和管理GSettings键。显示了可以使用<code class="literal">gsettings</code>命令解决的最常见用例。
			</p><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="setting_key_value"></a>设置键值</h2></div></div></div><p>设置密钥的值：</p><pre class="literallayout">gsettings set SCHEMA [:PATH] KEY</pre><p>请注意，该值被指定为序列化的GVariant。
				</p><div class="example"><a id="idm139832503325456"></a><p class="title"><strong>例3.1。将所选应用程序添加到收藏的应用程序键</strong></p><div class="example-contents"><p>要在您喜欢的应用程序中添加所选应用程</p><pre class="literallayout">$ gsettings set org.gnome.shell favorite-apps "['firefox.desktop', 'evolution.desktop', 'rhythmbox.desktop', 'shotwell.desktop', 'org.gnome.Nautilus.desktop', 'org.gnome.Software.desktop', 'yelp.desktop', 'org.gnome.Terminal.desktop', 'org.gnome.clocks.desktop']"</pre><p>如果操作成功，则不显示返回代码。因此，所有列出的应用程序都会添加到收藏的应用程序中。此更改立即生效。
					</p></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="monitoring_key_changes"></a>监控密钥更改</h2></div></div></div><p>监视更改的键和打印更改的值：</p><pre class="literallayout">gsettings monitor SCHEMA [:PATH] [KEY]</pre><p>请注意，如果未指定KEY参数，则会监视模式中的所有键。监控继续，直到该过程终止。
				</p><div class="example"><a id="idm139832618257728"></a><p class="title"><strong>例3.2。监视收藏应用程序密钥的更改</strong></p><div class="example-contents"><p>要监视<code class="literal">favorite applications</code>密钥的更改，请打开两个终端并运行：</p><p>在第一个终端：</p><pre class="literallayout">$ gsettings monitor org.gnome.shell favorite-apps</pre><p>在第二个终端：</p><pre class="literallayout">$ gsettings set org.gnome.shell favorite-apps "['firefox.desktop', 'evolution.desktop', 'rhythmbox.desktop', 'shotwell.desktop', 'org.gnome.Nautilus.desktop', 'org.gnome.Software.desktop', 'yelp.desktop', 'org.gnome.Terminal.desktop']"</pre><p>因此，在第一个终端中显示是否以及如何更改<code class="literal">favorite applications</code>的通知：</p><pre class="literallayout">favorite-apps: ['firefox.desktop', 'evolution.desktop', 'rhythmbox.desktop', 'shotwell.desktop', 'org.gnome.Nautilus.desktop', 'org.gnome.Software.desktop', 'yelp.desktop', 'org.gnome.Terminal.desktop']</pre></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="checking_whether_key_is_writable"></a>检查密钥是否可写</h2></div></div></div><p>检查密钥是否可写：</p><pre class="literallayout">gsettings writable SCHEMA [:PATH] KEY</pre><div class="example"><a id="idm139832599763424"></a><p class="title"><strong>例3.3。检查收藏的应用程序密钥是否可写</strong></p><div class="example-contents"><p>要检查<code class="literal">favorite applications</code>密钥是否可写：</p><pre class="literallayout">$ gsettings writable org.gnome.shell favorite-apps</pre><p>结果，返回代码显示为<code class="literal">True</code> 。
					</p></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="checking_key_valid_values"></a>检查密钥有效值</h2></div></div></div><p>要检查密钥的有效值范围：</p><pre class="literallayout">gsettings range SCHEMA [:PATH] KEY</pre><div class="example"><a id="idm139832614273184"></a><p class="title"><strong>例3.4。检查remember-mount-password密钥的有效值范围</strong></p><div class="example-contents"><p>要检查<code class="literal">remember-mount-password key</code>有效值：</p><pre class="literallayout">$ gsettings range org.gnome.shell remember-mount-password</pre><p>结果，返回代码显示键值的<code class="literal">type b</code>在这种特定情况下是<code class="literal">type b</code> 。有关更多信息，请参阅<a class="link" href="https://developer.gnome.org/glib/stable/gvariant-format-strings.html">GNOME开发人员</a> 。
					</p></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="checking_description_of_valid_key_values"></a>检查有效键值的描述</h2></div></div></div><p>要检查密钥的有效值的描述：</p><pre class="literallayout">gsettings describe SCHEMA [:PATH] KEY</pre><div class="example"><a id="idm139832612340160"></a><p class="title"><strong>例3.5。检查picture-uri键的有效值的描述</strong></p><div class="example-contents"><p>要检查<code class="literal">picture-uri</code>密钥的有效值的描述：</p><pre class="literallayout">$ gsettings describe org.gnome.desktop.screensaver picture-uri</pre><p>结果，显示以下输出：</p><pre class="literallayout">URI to use for the background image. Note that the backend only supports local <code class="literal">file://</code> URIs.</pre></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="querying_key_value"></a>查询键值</h2></div></div></div><p>获取密钥的值：</p><pre class="literallayout">gsettings get SCHEMA [:PATH] KEY VALUE</pre><p>请注意，该值显示为序列化的GVariant。
				</p><div class="example"><a id="idm139832602201248"></a><p class="title"><strong>例3.6。查询remember-mount-password密钥的值</strong></p><div class="example-contents"><p>要获取<code class="literal">remember-mount-password</code>密钥的值：</p><pre class="literallayout">$ gsettings get org.gnome.shell remember-mount-password</pre><p>结果，返回代码显示为<code class="literal">false</code> 。
					</p></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="resetting_key_value"></a>重置键值</h2></div></div></div><p>要重置密钥的值：</p><pre class="literallayout">gsettings reset SCHEMA [:PATH] KEY</pre><p>如果重置成功，则不显示返回码。默认值位于存储的dconf和gsettings-desktop-schemas文件中。
				</p><div class="example"><a id="idm139832559901328"></a><p class="title"><strong>例3.7。将锁定延迟键重置为其默认值</strong></p><div class="example-contents"><p><code class="literal">lock-delay</code>键的默认值为0，它存储在<code class="literal">/usr/share/glib-2.0/schemas/org.gnome.desktop.screensaver.gschema.xml</code>文件中。
					</p><p>用户可以根据需要设置<code class="literal">lock-delay</code>的值。
					</p><p>例如，要将屏幕保护程序的<code class="literal">lock-delay</code>键设置为200：</p><pre class="literallayout">$ gsettings set org.gnome.desktop.screensaver lock-delay 200</pre><p>要将屏幕保护程序的<code class="literal">lock-delay</code>键重置为其默认值：</p><pre class="literallayout">$ gsettings reset org.gnome.desktop.screensaver lock-delay</pre><p>结果， <code class="literal">lock-delay</code>值的值被设置为0。
					</p></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="resetting_schema"></a>重置架构</h2></div></div></div><p>要重置架构：</p><pre class="literallayout">gsettings reset-recursively SCHEMA [:PATH]</pre><div class="example"><a id="idm139832603036928"></a><p class="title"><strong>例3.8。将org.gnome.desktop.screensaver架构重置为其默认值</strong></p><div class="example-contents"><p>要将<code class="literal">org.gnome.desktop.screensaver</code>架构重置为其默认值：</p><pre class="literallayout">$ gsettings reset-recursively org.gnome.desktop.screensaver</pre><p>因此， <code class="literal">lock-delay</code>值将重置为0，并且用户更改的<code class="literal">org.gnome.desktop.screensaver</code>架构中的其他键也将重置为其默认值。
					</p></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="listing_installed_non_relocatable_schemas"></a>列出已安装的非可重定位模式</h2></div></div></div><p>列出不可重定位的已安装模式：</p><pre class="literallayout">gsettings list-schemas [--print-paths]</pre><p>如果指定了<code class="literal">[--print-paths]</code>参数，则也会打印每个模式映射的路径。
				</p><div class="example"><a id="idm139832621343104"></a><p class="title"><strong>例3.9。列出已安装的非可重定位模式</strong></p><div class="example-contents"><p>列出系统上安装的所有不可重定位的模式：</p><pre class="literallayout">$ gsettings list-schemas</pre><p>结果，返回完整的模式列表。以下列表被截断。
					</p><pre class="literallayout">org.gnome.rhythmbox.library
org.gnome.shell.overrides
org.gnome.system.proxy.https
org.gnome.clocks
org.gnome.eog.fullscreen
org.gnome.login-screen
org.gnome.eog.view</pre></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="listing_schema_keys"></a>列出架构键</h2></div></div></div><p>列出所选模式中的键：</p><pre class="literallayout">gsettings list-keys SCHEMA [:PATH]</pre><div class="example"><a id="idm139832598490784"></a><p class="title"><strong>例3.10。列出org.gnome.shell架构中的键</strong></p><div class="example-contents"><p>要列出<code class="literal">org.gnome.shell</code>架构中的键：</p><pre class="literallayout">$ gsettings list-keys org.gnome.shell</pre><p>结果，返回键列表。以下列表被截断。
					</p><pre class="literallayout">enabled-extensions
command-history
remember-mount-password
always-show-log-out
had-bluetooth-devices-setup
looking-glass-history
disable-user-extensions
app-picker-view
disable-extension-version-validation
development-tools
favorite-apps</pre></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="listing_schema_children"></a>列出架构子项</h2></div></div></div><p>列出所选模式的子项：</p><pre class="literallayout">gsettings list-children SCHEMA [:PATH]</pre><p>请注意，如果没有子项，则列表为空。
				</p><div class="example"><a id="idm139832601538944"></a><p class="title"><strong>例3.11。列出org.gnome.shell模式的子项</strong></p><div class="example-contents"><p>列出<code class="literal">org.gnome.shell</code>模式的子项：</p><pre class="literallayout">$ gsettings list-children org.gnome.shell</pre><p>结果，返回以下输出：</p><pre class="literallayout">keyboard org.gnome.shell.keyboard
keybindings org.gnome.shell.keybindings</pre></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="listing_schema_s_keys_and_values"></a>列出架构的键和值</h2></div></div></div><p>以递归方式列出所选模式的键和值：</p><pre class="literallayout">gsettings list-recursively [SCHEMA [:PATH]]</pre><p>请注意，如果未指定要列出其键的模式，则会列出所有模式中的所有键。
				</p><div class="example"><a id="idm139832605812880"></a><p class="title"><strong>例3.12。递归列出键和值</strong></p><div class="example-contents"><p>以递归方式列出所有模式中的键和值：</p><pre class="literallayout">$ gsettings list-recursively</pre><p>因此，列出了系统上所有模式中的所有键和值，如下所示。请注意，以下列表将被截断。
					</p><pre class="literallayout">org.gnome.nautilus.desktop network-icon-visible false
org.gnome.nautilus.desktop font ''
org.gnome.nautilus.desktop network-icon-name 'Network Servers'
org.gnome.nautilus.desktop home-icon-name 'Home'
org.gnome.nautilus.desktop volumes-visible true
org.gnome.Vinagre always-enable-listening false
org.gnome.Vinagre always-show-tabs false
org.gnome.Vinagre show-accels false
org.gnome.Vinagre history-size 15
org.gnome.Vinagre shared-flag true</pre></div></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="gnome-acknowledgement_configuring-gnome-at-low-level"></a>致谢</h1></div></div></div><p>本文的某些部分首先出现在<a class="link" href="https://help.gnome.org/admin/system-admin-guide/stable/">GNOME桌面系统管理指南中</a> 。版权所有©2014 GNOME项目，Michael Hill，Jim Campbell，Jeremy Bicha，Ekaterina Gerasimova，minnie_eg，Aruna Sankaranarayanan，Sindhu S，Shobha Tyagi，Shaun McCance，David King等。根据<a class="link" href="https://creativecommons.org/licenses/by-sa/3.0/">知识共享署名 - 相同方式共享3.0 Unported许可</a> 。
			</p><p>这篇Red Hat Enterprise Linux 8文档的编辑感谢GNOME社区成员对GNOME桌面系统管理指南的宝贵贡献。
			</p></div></div></body></html>