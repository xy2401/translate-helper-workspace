<html  xmlns="http://www.w3.org/1999/xhtml"><head><title>Chapter 9. 显示图形</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"><meta name="generator" content="DocBook XSL-NS Stylesheets V1.78.1"></head><body ><div class="chapter"><div class="titlepage"><div><div><h1 class="title">Chapter 9. 显示图形</h1></div></div></div><p>在Red Hat Enterprise Linux 8中，您可以选择两种协议来构建图形用户界面：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
					<span class="strong"><strong>X11</strong></span>
				</li><li class="listitem">
					<span class="strong"><strong>韦兰</strong></span>
				</li></ul></div><p><span class="strong"><strong>X11</strong></span>协议使用<span class="strong"><strong>X.Org</strong></span>作为显示服务器。基于此协议显示图形的方式与Red Hat Enterprise Linux 7中的方式相同，这是唯一的选择。
		</p><p>Red Hat Enterprise Linux 8上的<span class="strong"><strong>Wayland</strong></span>协议使用GNOME Shell作为其合成器和显示服务器， <span class="strong"><strong>在Wayland上</strong></span>进一步称为<span class="strong"><strong>GNOME Shell</strong></span> 。与<span class="strong"><strong>X11</strong></span>相比，基于<span class="strong"><strong>Wayland</strong></span>协议显示图形有一些差异和局限性。有关更多信息，请参阅<a class="link" href="displaying-graphics_starting-using-gnome.html#wayland-differences-xorg_displaying-graphics" title="Key differences between the Wayland and X11 protocol">Wayland和X11协议</a>与<a class="link" href="displaying-graphics_starting-using-gnome.html#wayland-limitations_displaying-graphics" title="目前Wayland的局限性">Current Wayland限制</a> <a class="link" href="displaying-graphics_starting-using-gnome.html#wayland-differences-xorg_displaying-graphics" title="Wayland和X11协议之间的主要区别">之间的主要差异</a> 。
		</p><p>新安装的Red Hat Enterprise Linux 8自动选择<span class="strong"><strong>Wayland上的GNOME Shell</strong></span> 。但是，您可以切换到<span class="strong"><strong>X.Org</strong></span> ，或者选择所需的GNOME环境和显示服务器组合，如<a class="xref" href="starting-using-gnome_managing-rhel-systems-from-your-desktop.html#selecting-gnome-environment_starting-using-gnome" title="选择GNOME环境并显示协议">“选择GNOME环境和显示协议”一节中所述</a> 。
		</p><p>请注意，还有一些环境，其中<span class="strong"><strong>X.Org</strong></span>比<span class="strong"><strong>Wayland</strong></span>上的<span class="strong"><strong>GNOME Shell更受欢迎</strong></span> ，例如：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">在VM环境中使用的Cirrus图形</li><li class="listitem">Matrox图形</li><li class="listitem">Aspeed图形</li><li class="listitem">VM环境中使用的QXL图形</li><li class="listitem">
					与专有驱动程序一起使用时的<a class="link" href="displaying-graphics_starting-using-gnome.html#wayland-nvidia-drivers" title="Nvidia司机">Nvidia图形</a></li></ul></div><div class="important" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">重要</h3><p>Nvidia图形默认使用<code class="literal">Nouveau</code> ，这是一个开源驱动程序。<span class="strong"><strong>Wayland</strong></span>支持<code class="literal">Nouveau</code> ，因此您可以<span class="strong"><strong>在Wayland</strong></span>上的<span class="strong"><strong>GNOME Shell上</strong></span>使用Nvidia图形和<code class="literal">Nouveau</code> ，没有任何限制。但是， <span class="strong"><strong>在Wayland</strong></span>上的<span class="strong"><strong>GNOME Shell上</strong></span>不支持使用带有专有Nvidia二进制驱动程序的Nvidia图形。在这种情况下，您需要切换到<span class="strong"><strong>X.Org</strong></span> ，如<a class="xref" href="starting-using-gnome_managing-rhel-systems-from-your-desktop.html#selecting-gnome-environment_starting-using-gnome" title="选择GNOME环境并显示协议">“选择GNOME环境和显示协议”一节中所述</a> 。
			</p></div><div class="note" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">注意</h3><p>您可以在<code class="literal">/usr/lib/udev/rules.d/61-gdm.rules</code>文件中找到Wayland不可用的当前环境列表。
			</p></div><p>有关<span class="strong"><strong>Wayland</strong></span>项目的其他信息，请参阅<a class="link" href="http://wayland.freedesktop.org">Wayland文档</a> 。
		</p><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="wayland-differences-xorg_displaying-graphics"></a> Wayland和X11协议之间的主要区别</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="x11_applications"></a> X11应用程序</h2></div></div></div><p>客户端应用程序需要移植到<span class="strong"><strong>Wayland</strong></span>协议或使用具有<span class="strong"><strong>Wayland</strong></span>后端的图形工具包（例如GTK）才能与基于<span class="strong"><strong>Wayland</strong></span>的合成器和显示服务器本地工作。
				</p><p>无法移植到<span class="strong"><strong>Wayland的</strong></span>旧版<span class="strong"><strong>X11</strong></span>应用程序会自动将<span class="strong"><strong>Xwayland</strong></span>用作<span class="strong"><strong>X11</strong></span>旧版客户端和<span class="strong"><strong>Wayland</strong></span>合成器之间的代理。<span class="strong"><strong>Xwayland</strong></span>既可以作为<span class="strong"><strong>X11</strong></span>服务器，也可以作为<span class="strong"><strong>Wayland</strong></span>客户端。<span class="strong"><strong>Xwayland</strong></span>的作用是将<span class="strong"><strong>X11</strong></span>协议转换为<span class="strong"><strong>Wayland</strong></span>协议，反之亦然，以便<span class="strong"><strong>X11</strong></span>遗留应用程序可以与基于<span class="strong"><strong>Wayland</strong></span>的显示服务器一起使用。
				</p><p>在<span class="strong"><strong>Wayland</strong></span>上的<span class="strong"><strong>GNOME Shell上</strong></span> ， <span class="strong"><strong>Xwayland</strong></span>在启动时自动启动，这确保大多数<span class="strong"><strong>X11</strong></span>遗留应用<span class="strong"><strong>程序在Wayland上</strong></span>使用<span class="strong"><strong>GNOME Shell</strong></span>时按预期工作。但是， <span class="strong"><strong>X11</strong></span>和<span class="strong"><strong>Wayland</strong></span>协议是不同的，因此一些依赖于<span class="strong"><strong>X11</strong></span>特定功能的客户端在<span class="strong"><strong>Xwayland</strong></span>下的行为可能会有所不同。对于此类特定客户端，您可以切换到<span class="strong"><strong>X.Org</strong></span>显示服务器，如<a class="xref" href="starting-using-gnome_managing-rhel-systems-from-your-desktop.html#selecting-gnome-environment_starting-using-gnome" title="选择GNOME环境并显示协议">“选择GNOME环境和显示协议”一节中所述</a> 。
				</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="libinput"></a> libinput</h2></div></div></div><p>Red Hat Enterprise Linux 8使用新的统一输入堆栈<code class="literal">libinput</code> ，它管理所有常见的设备类型，例如鼠标，触摸板，触摸屏，平板电脑，轨迹球和指点杆。这个统一的堆栈由<span class="strong"><strong>X.Org</strong></span>和<span class="strong"><strong>Wayland</strong></span>合成器<span class="strong"><strong>上</strong></span>的<span class="strong"><strong>GNOME Shell使用</strong></span> 。
				</p><p>
					<span class="strong"><strong>Wayland上的GNOME Shell</strong></span>直接为所有设备使用<code class="literal">libinput</code> ，并且没有可切换的驱动程序支持。在<code class="literal">X.Org</code> ， <code class="literal">libinput</code>实现为<code class="literal">X.Org libinput</code>驱动程序，驱动程序支持概述如下。
				</p><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="mice_touchscreens_trackballs_pointing_sticks"></a>小鼠，触摸屏，轨迹球，指点杆</h3></div></div></div><p>Red Hat Enterprise Linux 8为这些设备使用<code class="literal">X.Org libinput</code>驱动程序。在Red Hat Enterprise Linux 7中使用的<code class="literal">X.Org evdev</code>驱动程序可在需要时作为后备使用。
					</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="touchpads"></a>触摸板</h3></div></div></div><p>Red Hat Enterprise Linux 8使用<code class="literal">X.Org libinput</code>驱动程序用于触摸板。用于Red Hat Enterprise Linux 7中触摸板的<code class="literal">X.Org synaptics</code>驱动程序已不再可用。
					</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="graphics_tablets"></a>图形平板电脑</h3></div></div></div><p>Red Hat Enterprise Linux 8继续使用<code class="literal">X.Org wacom</code>驱动程序，该驱动程序用于Red Hat Enterprise Linux 7中的平板电脑设备。但是， <code class="literal">X.Org</code> libinput驱动程序在需要时可用。
					</p></div><div class="section"><div class="titlepage"><div><div><h3 class="title"><a id="other_input_devices"></a>其他输入设备</h3></div></div></div><p>Red Hat Enterprise Linux 7将<code class="literal">X.Org evdev</code>驱动程序用于其他未包含在上述类别中的输入设备。Red Hat Enterprise Linux 8默认使用<code class="literal">X.Org libinput</code>驱动程序，但如果设备与<code class="literal">X.Org evdev</code>不兼容，则可以回退到<code class="literal">libinput</code>驱动程序。
					</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="gestures"></a>手势</h2></div></div></div><p>
					<span class="strong"><strong>Wayland上的GNOME Shell</strong></span>支持新的触摸板和触摸屏手势。这些手势包括：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">通过四个手指向上或向下拖动来切换工作区。
						</li><li class="listitem">将三根手指放在一起打开<code class="literal">Activities Overview</code> 。
						</li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="wayland-limitations_displaying-graphics"></a>目前Wayland的局限性</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="wayland-nvidia-drivers"></a> Nvidia司机</h2></div></div></div><p><span class="strong"><strong>Wayland</strong></span>上的<span class="strong"><strong>GNOME Shell</strong></span>不支持专有的Nvidia二进制驱动程序。为避免在使用Nvidia GPU时出现任何复杂情况，GNOME Shell会自动回退到<span class="strong"><strong>X.Org</strong></span> ，这意味着登录屏幕不会提供任何基于<span class="strong"><strong>Wayland</strong></span>协议的选项。
				</p><div class="note" style="margin-left:0.5in;margin-right:0.5in"><h3 class="title">注意</h3><p><code class="literal">Nouveau</code>驱动程序仍然受支持，是Nvidia图形的默认驱动程序。
					</p></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="wayland-remote-desktop"></a>远程桌面</h2></div></div></div><p>使用<span class="strong"><strong>Wayland上的GNOME Shell</strong></span> ， <code class="literal">gnome-remote-desktop</code>软件包提供了VNC支持。通过<code class="literal">gnome-remote-desktop</code>使用VNC进行远程访问当前需要已登录的会话，并且只能访问主监视器。使用PipeWire媒体服务器可以<span class="strong"><strong>在Wayland上</strong></span>与<span class="strong"><strong>GNOME Shell</strong></span>共享屏幕。有关PipeWire介质服务器的更多详细信息，请参阅<a class="link" href="https://pipewire.org">PipeWire项目</a> 。
				</p><p>要获得更高级的VNC使用，您需要<a class="link" href="starting-using-gnome_managing-rhel-systems-from-your-desktop.html#selecting-gnome-environment_starting-using-gnome" title="Selecting GNOME environment and display protocol">切换到</a>可以使用传统VNC工具的<a class="link" href="starting-using-gnome_managing-rhel-systems-from-your-desktop.html#selecting-gnome-environment_starting-using-gnome" title="选择GNOME环境并显示协议"><span class="strong"><strong>X.org</strong></span></a> 。
				</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="x-display-manager"></a> X显示管理器</h2></div></div></div><p><span class="strong"><strong>Wayland</strong></span>上的<span class="strong"><strong>GNOME Shell</strong></span>不支持X显示管理器控制协议（XDMCP）。
				</p><p>因此，无法使用X显示管理器从相同或另一台计算机上启动<span class="strong"><strong>X.Org</strong></span>显示服务器上的会话。
				</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="wayland-additional-limitations"></a>其他限制</h2></div></div></div><p>应注意以下与<span class="strong"><strong>Wayland</strong></span>协议相关的其他限制：</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
							<span class="strong"><strong>X.Org</strong></span>屏幕操作实用程序不可用。
						</li><li class="listitem">不支持xrandr实用程序，因为<span class="strong"><strong>Wayland以不同方式</strong></span>处理布局，旋转和分辨率。
						</li><li class="listitem">无法使用ALT + F2 / r方法重新启动GNOME Shell。
						</li><li class="listitem">由于稳定性问题，建议在虚拟环境中使用<span class="strong"><strong>X11</strong></span>而不是<span class="strong"><strong>Wayland</strong></span> 。
						</li><li class="listitem">
							<span class="strong"><strong>Wayland</strong></span>不支持<code class="literal">libinput</code>驱动程序无法处理的自定义或小众设备。
						</li></ul></div></div></div></div></body></html>