<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Appendix A. Differences in development tools in RHEL 8</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"/><meta name="generator" content="DocBook XSL-NS Stylesheets V1.78.1"/></head><body><div class="appendix"><div class="titlepage"><div><div><h1 class="title"><a id="differences-in-development-tools-in-rhel-8_developing-applications"/>Appendix A. Differences in development tools in RHEL 8</h1></div></div></div><p>
			The following sections list important differences between Red Hat Enterprise Linux 8 and 7.
		</p><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="changes-in-toolchain-since-rhel-7_differences-in-development-tools-in-rhel-8"/>Changes in toolchain since RHEL 7</h1></div></div></div><p>
				The following sections list changes in toolchain since the release of the described components in Red Hat Enterprise Linux 7. See also <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/html-single/8.0_release_notes/">Release notes for Red Hat Enterprise Linux 8.0</a>.
			</p><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="changes-in-gcc-in-rhel-8_changes-in-toolchain-since-rhel-7"/>Changes in GCC in RHEL 8</h2></div></div></div><p>
					In Red Hat Enterprise Linux 8, the GCC toolchain is based on the GCC 8.2 release series. Notable changes since Red Hat Enterprise Linux 7 include:
				</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
							Numerous general optimizations have been added, such as alias analysis, vectorizer improvements, identical code folding, inter-procedural analysis, store merging optimization pass, and others.
						</li><li class="listitem">
							The Address Sanitizer has been improved.
						</li><li class="listitem">
							The Leak Sanitizer for detection of memory leaks has been added.
						</li><li class="listitem">
							The Undefined Behavior Sanitizer for detection of undefined behavior has been added.
						</li><li class="listitem">
							Debug information can now be produced in the DWARF5 format. This capability is experimental.
						</li><li class="listitem">
							The source code coverage analysis tool GCOV has been extended with various improvements.
						</li><li class="listitem">
							Support for the OpenMP 4.5 specification has been added. Additionally, the offloading features of the OpenMP 4.0 specification are now supported by the C, C++, and Fortran compilers.
						</li><li class="listitem">
							New warnings and improved diagnostics have been added for static detection of certain likely programming errors.
						</li><li class="listitem">
							Source locations are now tracked as ranges rather than points, which allows much richer diagnostics. The compiler now offers “fix-it” hints, suggesting possible code modifications. A spell checker has been added to offer alternative names and ease detecting typos.
						</li></ul></div><div class="title"><strong>Security</strong></div><p>
						GCC has been extended to provide tools to ensure additional hardening of the generated code. Improvements related to security include:
					</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
							The <code class="literal">__builtin_add_overflow</code>, <code class="literal">__builtin_sub_overflow</code>, and <code class="literal">__builtin_mul_overflow</code> built-in functions for arithmetics with overflow checking have been added.
						</li><li class="listitem">
							The <code class="literal">-fstack-clash-protection</code> option has been added to generate additional code guarding against stack clash.
						</li><li class="listitem">
							The <code class="literal">-fcf-protection</code> option was introduced to check target addresses of control-flow instructions for increased program security.
						</li><li class="listitem">
							The new <code class="literal">-Wstringop-truncation</code> warning option lists calls to bounded string manipulation functions such as <code class="literal">strncat</code>, <code class="literal">strncpy</code>, or <code class="literal">stpncpy</code> that might truncate the copied string or leave the destination unchanged.
						</li><li class="listitem">
							The <code class="literal">-Warray-bounds</code> warning option has been improved to detect out-of-bounds array indices and pointer offsets better.
						</li><li class="listitem">
							The <code class="literal">-Wclass-memaccess</code> warning option has been added to warn about potentially unsafe manipulation of objects of non-trivial class types by raw memory access functions such as <code class="literal">memcpy</code> or <code class="literal">realloc</code>.
						</li></ul></div><div class="title"><strong>Architecture and processor support</strong></div><p>
						Improvements to architecture and processor support include:
					</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
							Multiple new architecture-specific options for the Intel AVX-512 architecture, a number of its microarchitectures, and Intel Software Guard Extensions (SGX) have been added.
						</li><li class="listitem">
							Code generation can now target the 64-bit ARM architecture LSE extensions, ARMv8.2-A 16-bit Floating-Point Extensions (FPE), and ARMv8.2-A, ARMv8.3-A, and ARMv8.4-A architecture versions.
						</li><li class="listitem">
							Handling of the <code class="literal">-march=native</code> option on the ARM and 64-bit ARM architectures has been fixed.
						</li><li class="listitem">
							Support for the z13 and z14 processors of the IBM Z architecture has been added.
						</li></ul></div><div class="title"><strong>Languages and standards</strong></div><p>
						Notable changes related to languages and standards include:
					</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
							The default standard used when compiling code in the C language has changed to C17 with GNU extensions.
						</li><li class="listitem">
							The default standard used when compiling code in the C++ language has changed to C++14 with GNU extensions.
						</li><li class="listitem">
							The C++ runtime library now supports the C++11 and C++14 standards.
						</li><li class="listitem">
							The C++ compiler now implements the C++14 standard with many new features such as variable templates, aggregates with non-static data member initializers, the extended <code class="literal">constexpr</code> specifier, sized deallocation functions, generic lambdas, variable-length arrays, digit separators, and others.
						</li><li class="listitem">
							Support for the C language standard C11 has been improved: ISO C11 atomics, generic selections, and thread-local storage are now available.
						</li><li class="listitem">
							The new <code class="literal">__auto_type</code> GNU C extension provides a subset of the functionality of C++11 <code class="literal">auto</code> keyword in the C language.
						</li><li class="listitem">
							The <code class="literal">_FloatN</code> and <code class="literal">_FloatNx</code> type names specified by the ISO/IEC TS 18661-3:2015 standard are now recognized by the C front end.
						</li><li class="listitem">
							The default standard used when compiling code in the C language has changed to C17 with GNU extensions. This has the same effect as using the <code class="literal">--std=gnu17</code> option. Previously, the default was C89 with GNU extensions.
						</li><li class="listitem">
							GCC can now experimentally compile code using the C++17 language standard, and certain features from the C++20 standard.
						</li><li class="listitem">
							Passing an empty class as an argument now takes up no space on the Intel 64 and AMD64 architectures, as required by the platform ABI. Passing or returning a class with only deleted copy and move constructors now uses the same calling convention as a class with a non-trivial copy or move constructor.
						</li><li class="listitem">
							The value returned by the C++11 <code class="literal">alignof</code> operator has been corrected to match the C <code class="literal">_Alignof</code> operator and return minimum alignment. To find the preferred alignment, use the GNU extension <code class="literal">__alignof__</code>.
						</li><li class="listitem">
							The main version of the <code class="literal">libgfortran</code> library for Fortran language code has been changed to 5.
						</li><li class="listitem">
							Support for the Ada (GNAT), GCC Go, and Objective C/C++ languages has been removed. Use the Go Toolset for Go code development.
						</li></ul></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist"><li class="listitem">
							See also the <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/8/">Red Hat Enterprise Linux 8 Release Notes</a>.
						</li><li class="listitem">
							<a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_developer_tools/2018.4/html/using_go_toolset/index">Using Go Toolset</a>
						</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="security-enhancements-in-gcc-in-rhel-8_changes-in-toolchain-since-rhel-7"/>Security enhancements in GCC in RHEL 8</h2></div></div></div><p>
					This section decribes in detail the changes in GCC related to security and added since the release of Red Hat Enterprise Linux 7.0.
				</p><div class="title"><strong>New warnings</strong></div><p>
						These warning options have been added:
					</p><div class="informaltable"><table border="1"><colgroup><col class="col_1"/><col class="col_2"/></colgroup><thead><tr><th style="text-align: left" valign="top">Option</th><th style="text-align: left" valign="top">Displays warnings for</th></tr></thead><tbody><tr><td style="text-align: left" valign="top"> <p>
									<code class="literal">-Wstringop-truncation</code>
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									Calls to bounded string manipulation functions such as <code class="literal">strncat</code>, <code class="literal">strncpy</code>, and <code class="literal">stpncpy</code> that might either truncate the copied string or leave the destination unchanged.
								</p>
								 </td></tr><tr><td style="text-align: left" valign="top"> <p>
									<code class="literal">-Wclass-memaccess</code>
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									Objects of non-trivial class types manipulated in potentially unsafe ways by raw memory functions such as <code class="literal">memcpy</code>, or <code class="literal">realloc</code>.
								</p>
								 <p>
									The warning helps detect calls that bypass user-defined constructors or copy-assignment operators, corrupt virtual table pointers, data members of const-qualified types or references, or member pointers. The warning also detects calls that would bypass access controls to data members.
								</p>
								 </td></tr><tr><td style="text-align: left" valign="top"> <p>
									<code class="literal">-Wmisleading-indentation</code>
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									Places where the indentation of the code gives a misleading idea of the block structure of the code to a human reader.
								</p>
								 </td></tr><tr><td style="text-align: left" valign="top"> <p>
									<code class="literal">-Walloc-size-larger-than=<span class="emphasis"><em>size</em></span></code>
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									Calls to memory allocation functions where the amount of memory to allocate exceeds <span class="emphasis"><em>size</em></span>. Works also with functions where the allocation is specified by multiplying two parameters, and with any functions decorated with attribute <code class="literal">alloc_size</code>.
								</p>
								 </td></tr><tr><td style="text-align: left" valign="top"> <p>
									<code class="literal">-Walloc-zero</code>
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									Calls to memory allocation functions that attempt to allocate zero amount of memory. Works also with functions where the allocation is specified by multiplying two parameters, and with any functions decorated with attribute <code class="literal">alloc_size</code>.
								</p>
								 </td></tr><tr><td style="text-align: left" valign="top"> <p>
									<code class="literal">-Walloca</code>
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									All calls to the <code class="literal">alloca</code> function.
								</p>
								 </td></tr><tr><td style="text-align: left" valign="top"> <p>
									<code class="literal">-Walloca-larger-than=<span class="emphasis"><em>size</em></span></code>
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									Calls to the <code class="literal">alloca</code> function where the requested memory is more than <span class="emphasis"><em>size</em></span>.
								</p>
								 </td></tr><tr><td style="text-align: left" valign="top"> <p>
									<code class="literal">-Wvla-larger-than=<span class="emphasis"><em>size</em></span></code>
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									Definitions of Variable Length Arrays (VLA) that can either exceed the specified size or whose bound is not known to be sufficiently constrained.
								</p>
								 </td></tr><tr><td style="text-align: left" valign="top"> <p>
									<code class="literal">-Wformat-overflow=<span class="emphasis"><em>level</em></span></code>
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									Both certain and likely buffer overflow in calls to the <code class="literal">sprintf</code> family of formatted output functions. For more details and explanation of the <span class="emphasis"><em>level</em></span> value, see the <span class="emphasis"><em>gcc(1)</em></span> manual page.
								</p>
								 </td></tr><tr><td style="text-align: left" valign="top"> <p>
									<code class="literal">-Wformat-truncation=<span class="emphasis"><em>level</em></span></code>
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									Both certain and likely output truncation in calls to the <code class="literal">snprintf</code> family of formatted output functions. For more details and explanation of the <span class="emphasis"><em>level</em></span> value, see the <span class="emphasis"><em>gcc(1)</em></span> manual page.
								</p>
								 </td></tr><tr><td style="text-align: left" valign="top"> <p>
									<code class="literal">-Wstringop-overflow=<span class="emphasis"><em>type</em></span></code>
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									Buffer overflow in calls to string handling functions such as <code class="literal">memcpy</code> and <code class="literal">strcpy</code>. For more details and explanation of the <span class="emphasis"><em>level</em></span> value, see the <span class="emphasis"><em>gcc(1)</em></span> manual page.
								</p>
								 </td></tr></tbody></table></div><div class="title"><strong>Warning improvements</strong></div><p>
						These GCC warnings have been improved:
					</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
							The <code class="literal">-Warray-bounds</code> option has been improved to detect more instances of out-of-bounds array indices and pointer offsets. For example, negative or excessive indices into flexible array members and string literals are detected.
						</li><li class="listitem">
							The <code class="literal">-Wrestrict</code> option introduced in GCC 7 has been enhanced to detect many more instances of overlapping accesses to objects via restrict-qualified arguments to standard memory and string manipulation functions such as <code class="literal">memcpy</code> and <code class="literal">strcpy</code>.
						</li><li class="listitem">
							The <code class="literal">-Wnonnull</code> option has been enhanced to detect a broader set of cases of passing null pointers to functions that expect a non-null argument (decorated with attribute <code class="literal">nonnull</code>).
						</li></ul></div><div class="title"><strong>New UndefinedBehaviorSanitizer</strong></div><p>
						A new run-time sanitizer for detecting undefined behavior called UndefinedBehaviorSanitizer has been added. The following options are noteworthy:
					</p><div class="informaltable"><table border="1"><colgroup><col class="col_1"/><col class="col_2"/></colgroup><thead><tr><th style="text-align: left" valign="top">Option</th><th style="text-align: left" valign="top">Check</th></tr></thead><tbody><tr><td style="text-align: left" valign="top"> <p>
									<code class="literal">-fsanitize=float-divide-by-zero</code>
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									Detect floating-point division by zero.
								</p>
								 </td></tr><tr><td style="text-align: left" valign="top"> <p>
									<code class="literal">-fsanitize=float-cast-overflow</code>
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									Check that the result of floating-point type to integer conversions do not overflow.
								</p>
								 </td></tr><tr><td style="text-align: left" valign="top"> <p>
									<code class="literal">-fsanitize=bounds</code>
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									Enable instrumentation of array bounds and detect out-of-bounds accesses.
								</p>
								 </td></tr><tr><td style="text-align: left" valign="top"> <p>
									<code class="literal">-fsanitize=alignment</code>
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									Enable alignment checking and detect various misaligned objects.
								</p>
								 </td></tr><tr><td style="text-align: left" valign="top"> <p>
									<code class="literal">-fsanitize=object-size</code>
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									Enable object size checking and detect various out-of-bounds accesses.
								</p>
								 </td></tr><tr><td style="text-align: left" valign="top"> <p>
									<code class="literal">-fsanitize=vptr</code>
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									Enable checking of C++ member function calls, member accesses and some conversions between pointers to base and derived classes. Additonally, detect when referenced objects do not have correct dynamic type.
								</p>
								 </td></tr><tr><td style="text-align: left" valign="top"> <p>
									<code class="literal">-fsanitize=bounds-strict</code>
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									Enable strict checking of array bounds. This enables <code class="literal">-fsanitize=bounds</code> as well as instrumentation of flexible array member-like arrays.
								</p>
								 </td></tr><tr><td style="text-align: left" valign="top"> <p>
									<code class="literal">-fsanitize=signed-integer-overflow</code>
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									Diagnose arithmetic overflows even on arithmetic operations with generic vectors.
								</p>
								 </td></tr><tr><td style="text-align: left" valign="top"> <p>
									<code class="literal">-fsanitize=builtin</code>
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									Diagnose at run time invalid arguments to <code class="literal">__builtin_clz</code> or <code class="literal">__builtin_ctz</code> prefixed builtins. Includes checks from <code class="literal">-fsanitize=undefined</code>.
								</p>
								 </td></tr><tr><td style="text-align: left" valign="top"> <p>
									<code class="literal">-fsanitize=pointer-overflow</code>
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									Perform cheap run time tests for pointer wrapping. Includes checks from <code class="literal">-fsanitize=undefined</code>.
								</p>
								 </td></tr></tbody></table></div><div class="title"><strong>New options for AddressSanitizer</strong></div><p>
						These options have been added to AddressSanitizer:
					</p><div class="informaltable"><table border="1"><colgroup><col class="col_1"/><col class="col_2"/></colgroup><thead><tr><th style="text-align: left" valign="top">Option</th><th style="text-align: left" valign="top">Check</th></tr></thead><tbody><tr><td style="text-align: left" valign="top"> <p>
									<code class="literal">-fsanitize=pointer-compare</code>
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									Warn about comparison of pointers that point to a different memory object.
								</p>
								 </td></tr><tr><td style="text-align: left" valign="top"> <p>
									<code class="literal">-fsanitize=pointer-subtract</code>
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									Warn about subtraction of pointers that point to a different memory object.
								</p>
								 </td></tr><tr><td style="text-align: left" valign="top"> <p>
									<code class="literal">-fsanitize-address-use-after-scope</code>
								</p>
								 </td><td style="text-align: left" valign="top"> <p>
									Sanitize variables whose address is taken and used after a scope where the variable is defined.
								</p>
								 </td></tr></tbody></table></div><div class="itemizedlist"><p class="title"><strong>Other sanitizers and instrumentation</strong></p><ul class="itemizedlist"><li class="listitem">
							The option <code class="literal">-fstack-clash-protection</code> has been added to insert probes when stack space is allocated statically or dynamically to reliably detect stack overflows and thus mitigate the attack vector that relies on jumping over a stack guard page provided by the operating system.
						</li><li class="listitem">
							A new option <code class="literal">-fcf-protection=[full|branch|return|none]</code> has been added to perform code instrumentation and increase program security by checking that target addresses of control-flow transfer instructions (such as indirect function call, function return, indirect jump) are valid.
						</li><li class="listitem">
							A new bounds violation detector called Pointer Bounds Checker can be enabled with the <code class="literal">-fcheck-pointer-bounds</code> option. Memory accesses are instrumented with run-time checks of used pointers against their bounds to detect pointer bounds violations (overflows). This functionality is available on targets of the 64-bit Intel and AMD architectures with a new ISA extension Intel MPX support.
						</li></ul></div><div class="itemizedlist"><p class="title"><strong>Additional resources</strong></p><ul class="itemizedlist"><li class="listitem"><p class="simpara">
							For more details and explanation of the values supplied to some of the options above, see the <span class="emphasis"><em>gcc(1)</em></span> manual page:
						</p><pre class="screen">$ man gcc</pre></li></ul></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="compiler-toolsets_differences-in-development-tools-in-rhel-8"/>Compiler toolsets</h1></div></div></div><p>
				RHEL 8.0 provides the following compiler toolsets as Application Streams:
			</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
						Clang and LLVM Toolset 7.0.1, which provides the LLVM compiler infrastructure framework, the Clang compiler for the C and C++ languages, the LLDB debugger, and related tools for code analysis. See the <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_developer_tools/2019.1/html/using_clang_and_llvm_toolset/index">Using Clang and LLVM Toolset</a> document.
					</li><li class="listitem">
						Rust Toolset 1.31, which provides the Rust programming language compiler <code class="literal">rustc</code>, the <code class="literal">cargo</code> build tool and dependency manager, the <code class="literal">cargo-vendor</code> plugin, and required libraries. See the <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_developer_tools/2019.1/html/using_rust_toolset/index">Using Rust Toolset</a> document.
					</li><li class="listitem">
						Go Toolset 1.11.5, which provides the Go programming language tools and libraries. Go is alternatively known as <code class="literal">golang</code>. See the <a class="link" href="https://access.redhat.com/documentation/en-us/red_hat_developer_tools/2019.1/html/using_go_toolset/index">Using Go Toolset</a> document.
					</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="compatibility-breaking-changes-in-gdb_differences-in-development-tools-in-rhel-8"/>Compatibility-breaking changes in GDB</h1></div></div></div><p>
				The version of GDB provided in Red Hat Enterprise Linux 8 contains a number of changes that break compatibility, especially for cases where the GDB output is read directly from the terminal. The following sections provide more details about these changes.
			</p><p>
				Parsing output of GDB is not recommended. Prefer scripts using the Python GDB API or the GDB Machine Interface (MI).
			</p><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="gdbserver_now_starts_inferiors_with_shell"/>GDBserver now starts inferiors with shell</h2></div></div></div><p>
					To enable expansion and variable substitution in inferior command line arguments, GDBserver now starts the inferior in a shell, same as GDB.
				</p><p>
					To disable using the shell:
				</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
							When using the <code class="literal">target extended-remote</code> GDB command, disable shell with the <code class="literal">set startup-with-shell off</code> command.
						</li><li class="listitem">
							When using the <code class="literal">target remote</code> GDB command, disable shell with the <code class="literal">--no-startup-with-shell</code> option of GDBserver.
						</li></ul></div><div class="example"><a id="idm140318682259216"/><p class="title"><strong>Example A.1. Example of shell expansion in remote GDB inferiors</strong></p><div class="example-contents"><p>
						This example shows how running the <code class="literal">/bin/echo /*</code> command through GDBserver differs on Red Hat Enterprise Linux versions 7 and 8:
					</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">
								On RHEL 7:
							</p><pre class="screen">$ gdbserver --multi :1234
$ gdb -batch -ex 'target extended-remote :1234' -ex 'set remote exec-file /bin/echo' -ex 'file /bin/echo' -ex 'run /*'
/*</pre></li><li class="listitem"><p class="simpara">
								On RHEL 8:
							</p><pre class="screen">$ gdbserver --multi :1234
$ gdb -batch -ex 'target extended-remote :1234' -ex 'set remote exec-file /bin/echo' -ex 'file /bin/echo' -ex 'run /*'
/bin /boot (...) /tmp /usr /var</pre></li></ul></div></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="gcj_support_removed"/>gcj support removed</h2></div></div></div><p>
					Support for debugging Java programs compiled with the <code class="literal">gcj</code> has been removed.
				</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="new_syntax_for_symbol_dumping_maintenance_commands"/>New syntax for symbol dumping maintenance commands</h2></div></div></div><p>
					The symbol dumping maintenance commands syntax now includes options before file names. As a result, commands that worked with GDB in RHEL 7 do not work in RHEL 8.
				</p><p>
					As an example, the following command no longer stores symbols in a file, but produces an error message:
				</p><pre class="screen">(gdb) maintenance print symbols /tmp/out main.c</pre><p>
					The new syntax for the symbol dumping maintenance commands is:
				</p><pre class="screen">maint print symbols [-pc <span class="emphasis"><em>address</em></span>] [--] [<span class="emphasis"><em>filename</em></span>]
maint print symbols [-objfile <span class="emphasis"><em>objfile</em></span>] [-source <span class="emphasis"><em>source</em></span>] [--] [<span class="emphasis"><em>filename</em></span>]
maint print psymbols [-objfile <span class="emphasis"><em>objfile</em></span>] [-pc <span class="emphasis"><em>address</em></span>] [--] [<span class="emphasis"><em>filename</em></span>]
maint print psymbols [-objfile <span class="emphasis"><em>objfile</em></span>] [-source <span class="emphasis"><em>source</em></span>] [--] [<span class="emphasis"><em>filename</em></span>]
maint print msymbols [-objfile <span class="emphasis"><em>objfile</em></span>] [--] [<span class="emphasis"><em>filename</em></span>]</pre></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="thread_numbers_are_no_loger_global"/>Thread numbers are no loger global</h2></div></div></div><p>
					Previously, GDB used only global thread numbering. The numbering has been extended to be displayed per inferior in the form <code class="literal">inferior_num.thread_num</code>, such as <code class="literal">2.1</code>. As consequence, thread numbers in the <code class="literal">$_thread</code> convenience variable and in the <code class="literal">InferiorThread.num</code> Python attribute are no longer unique between inferiors.
				</p><p>
					GDB now stores a second thread ID per thread, called the global thread ID, which is the new equivalent of thread numbers in previous releases. To access the global thread number, use the <code class="literal">$_gthread</code> convenience variable and <code class="literal">InferiorThread.global_num</code> Python attribute.
				</p><p>
					For backwards compatibility, the Machine Interface (MI) thread IDs always contains the global IDs.
				</p><div class="example"><a id="idm140318688095312"/><p class="title"><strong>Example A.2. Example of GDB thread number changes</strong></p><div class="example-contents"><p>
						On Red Hat Enterprise Linux 7:
					</p><pre class="screen"># debuginfo-install coreutils
$ gdb -batch -ex 'file echo' -ex start -ex 'add-inferior' -ex 'inferior 2' -ex 'file echo' -ex start -ex 'info threads' -ex 'pring $_thread' -ex 'inferior 1' -ex 'pring $_thread'
(...)
  Id   Target Id         Frame
* 2    process 203923 "echo" main (argc=1, argv=0x7fffffffdb88) at src/echo.c:109
  1    process 203914 "echo" main (argc=1, argv=0x7fffffffdb88) at src/echo.c:109
$1 = 2
(...)
$2 = 1</pre><p>
						On Red Hat Enterprise Linux 8:
					</p><pre class="screen"># dnf debuginfo-install coreutils
$ gdb -batch -ex 'file echo' -ex start -ex 'add-inferior' -ex 'inferior 2' -ex 'file echo' -ex start -ex 'info threads' -ex 'pring $_thread' -ex 'inferior 1' -ex 'pring $_thread'
(...)
  Id   Target Id         Frame
  1.1  process 4106488 "echo" main (argc=1, argv=0x7fffffffce58) at ../src/echo.c:109
* 2.1  process 4106494 "echo" main (argc=1, argv=0x7fffffffce58) at ../src/echo.c:109
$1 = 1
(...)
$2 = 1</pre></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="memory_for_value_contents_can_be_limited"/>Memory for value contents can be limited</h2></div></div></div><p>
					Previously, GDB did not limit the amount of memory allocated for value contents. As a consequence, debugging incorrect programs could cause GDB to allocate too much memory. The <code class="literal">max-value-size</code> setting has been added to enable limiting the amount of allocated memory. The default value of this limit is 64 KiB. As a result, GDB in Red Hat Enterprise Linux 8 will not display too large values, but report that the value is too large instead.
				</p><p>
					As an example, printing a value defined as <code class="literal">char s[128*1024];</code> produces different results:
				</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
							On Red Hat Enterprise Linux 7, <code class="literal">$1 = 'A' &lt;repeats 131072 times&gt;</code>
						</li><li class="listitem">
							On Red Hat Enterprise Linux 8, <code class="literal">value requires 131072 bytes, which is more than max-value-size</code>
						</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sun_version_of_stabs_format_no_longer_supported"/>Sun version of stabs format no longer supported</h2></div></div></div><p>
					Support for the Sun version of the <code class="literal">stabs</code> debug file format has been removed. The <code class="literal">stabs</code> format produced by GCC in RHEL with the <code class="literal">gcc -gstabs</code> option is still supported by GDB.
				</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sysroot_handling_changes"/>Sysroot handling changes</h2></div></div></div><p>
					The <code class="literal">set sysroot <span class="emphasis"><em>path</em></span></code> command specifies system root when searching for files needed for debugging. Directory names supplied to this command may now be prefixed with the string <code class="literal">target:</code> to make GDB read the shared libraries from the target system (both local and remote). The formerly available <code class="literal">remote:</code> prefix is now treated as <code class="literal">target:</code>. Additionally, the default system root value has changed from empty string to <code class="literal">target:</code> for backward compatibility.
				</p><p>
					The specified system root is prepended to the file name of the main executable, when GDB starts processes remotely, or when it attaches to already running processes (both local and remote). This means that for remote processes, the default value <code class="literal">target:</code> makes GDB always try to load the debugging information from the remote system. To prevent this, run the <code class="literal">set sysroot</code> command before the <code class="literal">target remote</code> command so that local symbol files are found before the remote ones.
				</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="histsize_no_longer_controls_gdb_command_history_size"/>HISTSIZE no longer controls GDB command history size</h2></div></div></div><p>
					Previously, GDB used the <code class="literal">HISTSIZE</code> environment variable to determine how long command history should be kept. GDB has been changed to use the <code class="literal">GDBHISTSIZE</code> environment variable instead. This variable is specific only to GDB. The possible values and their effects are:
				</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
							a positive number - use command history of this size,
						</li><li class="listitem">
							<code class="literal">-1</code> or an empty string - keep history of all commands,
						</li><li class="listitem">
							non-numeric values - ignored.
						</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="completion_limiting_added"/>Completion limiting added</h2></div></div></div><p>
					The maximum number of candidates considered during completion can now be limited using the <code class="literal">set max-completions</code> command. To show the current limit, run the <code class="literal">show max-completions</code> command. The default value is 200. This limit prevents GDB from generating excessively large completion lists and becoming unresponsive.
				</p><p>
					As an example, the output after the input <code class="literal">p &lt;tab&gt;&lt;tab&gt;</code> is:
				</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
							on RHEL 7: <code class="literal">Display all 29863 possibilities? (y or n)</code>
						</li><li class="listitem">
							on RHEL 8: <code class="literal">Display all 200 possibilities? (y or n)</code>
						</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="hp_ux_xdb_compatibility_mode_removed"/>HP-UX XDB compatibility mode removed</h2></div></div></div><p>
					The <code class="literal">-xdb</code> option for the HP-UX XDB compatibility mode has been removed from GDB.
				</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="handling_signals_for_threads"/>Handling signals for threads</h2></div></div></div><p>
					Previously, GDB could deliver a signal to the current thread instead of the thread for which the signal was actually sent. This bug has been fixed, and GDB now always passes the signal to the correct thread when resuming execution.
				</p><p>
					Additionally, the <code class="literal">signal</code> command now always correctly delivers the requested signal to the current thread. If the program is stopped for a signal and the user switched threads, GDB asks for confirmation.
				</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="breakpoint_modes_always_inserted_off_and_auto_merged"/>Breakpoint modes always-inserted off and auto merged</h2></div></div></div><p>
					The <code class="literal">breakpoint always-inserted</code> setting has been changed. The <code class="literal">auto</code> value and corresponding behavior has been removed. The default value is now <code class="literal">off</code>. Additionally, the <code class="literal">off</code> value now causes GDB to not remove breakpoints from the target until all threads stop.
				</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="remotebaud_commands_no_longer_supported"/>remotebaud commands no longer supported</h2></div></div></div><p>
					The <code class="literal">set remotebaud</code> and <code class="literal">show remotebaud</code> commands are no longer supported. Use the <code class="literal">set serial baud</code> and <code class="literal">show serial baud</code> commands instead.
				</p></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="compatibility-breaking-changes-in-compilers-and-development-tools_differences-in-development-tools-in-rhel-8"/>Compatibility-breaking changes in compilers and development tools</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="cpp-abi_compatibility-breaking-changes-in-compilers-and-development-tools"/>C++ ABI change in <code class="literal">std::string</code> and <code class="literal">std::list</code></h2></div></div></div><p>
					The Application Binary Interface (ABI) of the <code class="literal">std::string</code> and <code class="literal">std::list</code> classes from the <code class="literal">libstdc++</code> library changed between RHEL 7 (GCC 4.8) and RHEL 8 (GCC 8) to conform to the C++11 standard. The <code class="literal">libstdc++</code> library supports both the old and new ABI, but some other C++ system libraries do not. As a consequence, applications that dynamically link against these libraries will need to be rebuilt. This affects all C++ standard modes, including C++98. It also affects applications built with Red Hat Developer Toolset compilers for RHEL 7, which kept the old ABI to maintain compatibility with the system libraries.
				</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="librtkaio-removed_compatibility-breaking-changes-in-compilers-and-development-tools"/><span class="strong"><strong>librtkaio</strong></span> removed</h2></div></div></div><p>
					With this update, the <span class="strong"><strong>librtkaio</strong></span> library has been removed. This library provided high performance real time asynchronous I/O access for some files, which was based on Linux kernel Asynchronous I/O support (KAIO).
				</p><p>
					As a result of the removal:
				</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
							Applications using the <code class="literal">LD_PRELOAD</code> method to load <span class="strong"><strong>librtkaio</strong></span> display a warning about a missing library, load the <span class="strong"><strong>librt</strong></span> library instead and run correctly.
						</li><li class="listitem">
							Applications using the <code class="literal">LD_LIBRARY_PATH</code> method to load <span class="strong"><strong>librtkaio</strong></span> load the <span class="strong"><strong>librt</strong></span> library instead and run correctly, without any warning.
						</li><li class="listitem">
							Applications using the <code class="literal">dlopen()</code> system call to access <span class="strong"><strong>librtkaio</strong></span> directly load the <span class="strong"><strong>librt</strong></span> library instead.
						</li></ul></div><p>
					Users of <span class="strong"><strong>librtkaio</strong></span> have the following options:
				</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
							Use the fallback mechanism described above, without any changes to their applications.
						</li><li class="listitem">
							Change code of their applications to use the <span class="strong"><strong>librt</strong></span> library, which offers a compatible POSIX-compliant API.
						</li><li class="listitem">
							Change code of their applications to use the <span class="strong"><strong>libaio</strong></span> library, which offers a compatible API.
						</li></ul></div><p>
					Both <span class="strong"><strong>librt</strong></span> and <span class="strong"><strong>libaio</strong></span> can provide comparable features and performance under specific conditions.
				</p><p>
					Note that the <span class="strong"><strong>libaio</strong></span> package has Red Hat compatibility level of 2, while <span class="strong"><strong>librtk</strong></span> and the removed <span class="strong"><strong>librtkaio</strong></span> level 1.
				</p><p>
					For more details, see <a class="link" href="https://fedoraproject.org/wiki/Changes/GLIBC223_librtkaio_removal">https://fedoraproject.org/wiki/Changes/GLIBC223_librtkaio_removal</a>
				</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="glibc-sun-rpc-nis_compatibility-breaking-changes-in-compilers-and-development-tools"/>Sun RPC and NIS interfaces removed from <code class="literal">glibc</code></h2></div></div></div><p>
					The <code class="literal">glibc</code> library no longer provides Sun RPC and NIS interfaces for new applications. These interfaces are now available only for running legacy applications. Developers must change their applications to use the <code class="literal">libtirpc</code> library instead of Sun RPC and <code class="literal">libnsl2</code> instead of NIS. Applications can benefit from IPv6 support in the replacement libraries.
				</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="valgrind-library-for-MPI-debugging-support-removed_compatibility-breaking-changes-in-compilers-and-development-tools"/>Valgrind library for MPI debugging support removed</h2></div></div></div><p>
					The <code class="literal">libmpiwrap.so</code> wrapper library for <span class="strong"><strong>Valgrind</strong></span> provided by the <code class="literal">valgrind-openmpi</code> package has been removed. This library enabled <span class="strong"><strong>Valgrind</strong></span> to debug programs using the Message Passing Interface (MPI). This library was specific to the Open MPI implementation version in previous versions of Red Hat Enterprise Linux.
				</p><p>
					Users of <code class="literal">libmpiwrap.so</code> are encouraged to build their own version from upstream sources specific to their MPI implementation and version. Supply these custom-built libraries to <span class="strong"><strong>Valgrind</strong></span> using the <code class="literal">LD_PRELOAD</code> technique.
				</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="valgrind-devel_compatibility-breaking-changes-in-compilers-and-development-tools"/>Development headers and static libraries removed from <code class="literal">valgrind-devel</code></h2></div></div></div><p>
					Previously, the <code class="literal">valgrind-devel</code> sub-package used to include development files for developing custom valgrind tools. This update removes these files because they do not have a guaranteed API, have to be linked statically, and are unsupported. The <code class="literal">valgrind-devel</code> package still does contain the development files for valgrind-aware programs and header files such as <code class="literal">valgrind.h</code>, <code class="literal">callgrind.h</code>, <code class="literal">drd.h</code>, <code class="literal">helgrind.h</code>, and <code class="literal">memcheck.h</code>, which are stable and well supported.
				</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="xen-lib_compatibility-breaking-changes-in-compilers-and-development-tools"/>The <code class="literal">nosegneg</code> libraries for 32-bit Xen have been removed</h2></div></div></div><p>
					Previously, the <code class="literal">glibc</code> i686 packages contained an alternative <code class="literal">glibc</code> build, which avoided the use of the thread descriptor segment register with negative offsets (<code class="literal">nosegneg</code>). This alternative build was only used in the 32-bit version of the Xen Project hypervisor without hardware virtualization support, as an optimization to reduce the cost of full paravirtualization. These alternative builds are no longer used and they have been removed.
				</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="gcc-ada-go-objc_compatibility-breaking-changes-in-compilers-and-development-tools"/>GCC no longer builds Ada, Go, and Objective C/C++ code</h2></div></div></div><p>
					Capability for building code in the Ada (GNAT), GCC Go, and Objective C/C++ languages has been removed from the GCC compiler.
				</p><p>
					To build Go code, use the Go Toolset instead.
				</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="make-operator_compatibility-breaking-changes-in-compilers-and-development-tools"/><code class="literal">make</code> new operator <code class="literal">!=</code> causes a different interpretation of certain existing makefile syntax</h2></div></div></div><p>
					The <code class="literal">!=</code> shell assignment operator has been added to GNU <code class="literal">make</code> as an alternative to the <code class="literal">$(shell …​)</code> function to increase compatibility with BSD makefiles. As a consequence, variables with name ending in exclamation mark and immediately followed by assignment such as <code class="literal">variable!=value</code> are now interpreted as the shell assignment. To restore the previous behavior, add a space after the exclamation mark, such as <code class="literal">variable! =value</code>.
				</p><p>
					For more details and differences between the operator and the function, see the GNU <code class="literal">make</code> manual.
				</p></div></div></div></body></html>