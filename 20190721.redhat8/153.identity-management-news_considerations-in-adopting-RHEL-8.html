<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Chapter 17. Identity Management</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"/><meta name="generator" content="DocBook XSL-NS Stylesheets V1.78.1"/></head><body><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="identity-management-news_considerations-in-adopting-RHEL-8"/>Chapter 17. Identity Management</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="idm-module_considerations-in-adopting-RHEL-8"/>Identity Management packages are installed as a module</h1></div></div></div><p>
				In RHEL 8, the packages necessary for installing an Identity Management (IdM) server and client are distributed as a module. The <code class="literal">client</code> stream is the default stream of the <code class="literal">idm</code> module, and you can download the packages necessary for installing the client without enabling the stream.
			</p><p>
				The IdM server module stream is called the <code class="literal">DL1</code> stream. The stream contains multiple profiles corresponding to different types of IdM servers: server, dns, adtrust, client, and default. To download the packages in a specific profile of the <code class="literal">DL1</code> stream:
			</p><div class="orderedlist"><ol class="orderedlist"><li class="listitem">
						Enable the stream.
					</li><li class="listitem">
						Switch to the RPMs delivered through the stream.
					</li><li class="listitem">
						Run the <code class="literal">yum module install idm:DL1/profile_name</code> command.
					</li></ol></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="idoverrides-to-allow-ad-user-to-administer-idm_considerations-in-adopting-RHEL-8"/>Active Directory users can now administer Identity Management</h1></div></div></div><p>
				In Red Hat Enterprise Linux (RHEL) 7, external group membership allows AD users and groups to access IdM resources in a POSIX environment with the help of the System Security Services Daemon (SSSD).
			</p><p>
				The IdM LDAP server has its own mechanisms to grant access control. RHEL 8 introduces an update that allows adding an ID user override for an AD user as a member of an IdM group. An ID override is a record describing what a specific Active Directory user or group properties should look like within a specific ID view, in this case the Default Trust View. As a consequence of the update, the IdM LDAP server is able to apply access control rules for the IdM group to the AD user.
			</p><p>
				AD users are now able to use the self service features of IdM UI, for example to upload their SSH keys, or change their personal data. An AD administrator is able to fully administer IdM without having two different accounts and passwords.
			</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
					Currently, selected features in IdM may still be unavailable to AD users. For example, setting passwords for IdM users as an AD user from the IdM <code class="literal">admins</code> group might fail.
				</p></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="session-recording_considerations-in-adopting-RHEL-8"/>Session recording solution for RHEL 8 added</h1></div></div></div><p>
				A session recording solution has been added to Red Hat Enterprise Linux 8 (RHEL 8). A new <code class="literal">tlog</code> package and its associated web console session player enable to record and playback the user terminal sessions. The recording can be configured per user or user group via the System Security Services Daemon (SSSD) service. All terminal input and output is captured and stored in a text-based format in a system journal. The input is inactive by default for security reasons not to intercept raw passwords and other sensitive information.
			</p><p>
				The solution can be used for auditing of user sessions on security-sensitive systems. In the event of a security breach, the recorded sessions can be reviewed as a part of a forensic analysis. The system administrators are now able to configure the session recording locally and view the result from the RHEL 8 web console interface or from the Command-Line Interface using the <code class="literal">tlog-play</code> utility.
			</p></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="idm-removed-functionality_considerations-in-adopting-RHEL-8"/>Removed Identity Management functionality</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="nss_db_considerations-in-adopting-RHEL-8"/>NSS databases not supported in OpenLDAP</h2></div></div></div><p>
					The OpenLDAP suite in previous versions of Red Hat Enterprise Linux (RHEL) used the Mozilla Network Security Services (NSS) for cryptographic purposes. With RHEL 8, OpenSSL, which is supported by the OpenLDAP community, replaces NSS. OpenSSL does not support NSS databases for storing certificates and keys. However, it still supports privacy enhanced mail (PEM) files that serve the same purpose.
				</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="python-kerberos_considerations-in-adopting-RHEL-8"/>Selected Python Kerberos packages have been replaced</h2></div></div></div><p>
					In Red Hat Enterprise Linux (RHEL) 8, the <code class="literal">python-gssapi</code> package, <code class="literal">python-requests-gssapi</code> module, and <code class="literal">urllib-gssapi</code> library have replaced Python Kerberos packages such as <code class="literal">python-krbV</code>, <code class="literal">python-kerberos</code>, <code class="literal">python-requests-kerberos</code>, and <code class="literal">python-urllib2_kerberos</code>. Notable benefits include:
				</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
							<code class="literal">python-gssapi</code> is easier to use than <code class="literal">python-kerberos</code> and <code class="literal">python-krbV</code>
						</li><li class="listitem">
							<code class="literal">python-gssapi</code> supports both <code class="literal">python 2</code> and <code class="literal">python 3</code> whereas <code class="literal">python-krbV</code> does not
						</li><li class="listitem">
							the GSSAPI-based packages allow the use of other Generic Security Services API (GSSAPI) mechanisms in addition to Kerberos, such as the NT LAN Manager <code class="literal">NTLM</code> for backward compatibility reasons
						</li></ul></div><p>
					This update improves the maintainability and debuggability of GSSAPI in RHEL 8.
				</p></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="idm-sssd_considerations-in-adopting-RHEL-8"/>SSSD</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="authselect_considerations-in-adopting-RHEL-8"/><code class="literal">authselect</code> replaces <code class="literal">authconfig</code></h2></div></div></div><p>
					In RHEL 8, the <code class="literal">authselect</code> utility replaces the <code class="literal">authconfig</code> utility. <code class="literal">authselect</code> comes with a safer approach to PAM stack management that makes the PAM configuration changes simpler for system administrators. <code class="literal">authselect</code> can be used to configure authentication methods such as passwords, certificates, smart cards and fingerprint. <code class="literal">authselect</code> does not configure services required to join remote domains. This task is performed by specialized tools, such as <code class="literal">realmd</code> or <code class="literal">ipa-client-install</code>.
				</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="kcm-replace-keyring-default-cache_considerations-in-adopting-RHEL-8"/>KCM replaces KEYRING as the default credential cache storage</h2></div></div></div><p>
					In RHEL 8, the default credential cache storage is the Kerberos Credential Manager (KCM) which is backed by the <code class="literal">sssd-kcm</code> deamon. KCM overcomes the limitations of the previously used KEYRING, such as its being difficult to use in containerized environments because it is not namespaced, and to view and manage quotas.
				</p><p>
					With this update, RHEL 8 contains a credential cache that is better suited for containerized environments and that provides a basis for building more features in future releases.
				</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sssctl-print-hbac-rules-report_considerations-in-adopting-RHEL-8"/><code class="literal">sssctl</code> prints an HBAC rules report for an IdM domain</h2></div></div></div><p>
					With this update, the <code class="literal">sssctl</code> utility of the System Security Services Daemon (SSSD) can print an access control report for an Identity Management (IdM) domain. This feature meets the need of certain environments to see, for regulatory reasons, a list of users and groups that can access a specific client machine. Running <code class="literal">sssctl access-report</code> <code class="literal">domain_name</code> on an IdM client prints the parsed subset of host-based access control (HBAC) rules in the IdM domain that apply to the client machine.
				</p><p>
					Note that no other providers than IdM support this feature.
				</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="local-users-cached-by-sssd-nsssss_considerations-in-adopting-RHEL-8"/>Local users are cached by SSSD and served through the <code class="literal">nss_sss</code> module</h2></div></div></div><p>
					In RHEL 8, the System Security Services Daemon (SSSD) serves users and groups from the <code class="literal">/etc/passwd</code> and <code class="literal">/etc/groups</code> files by default. The <code class="literal">sss</code> nsswitch module precedes files in the <code class="literal">/etc/nsswitch.conf</code> file.
				</p><p>
					The advantage of serving local users through SSSD is that the <code class="literal">nss_sss</code> module has a fast <code class="literal">memory-mapped cache</code> that speeds up Name Service Switch (NSS) lookups compared to accessing the disk and opening the files on each NSS request. Previously, the Name service cache daemon (<code class="literal">nscd</code>) helped accelerate the process of accessing the disk. However, using <code class="literal">nscd</code> in parallel with SSSD is cumbersome, as both SSSD and <code class="literal">nscd</code> use their own independent caching. Consequently, using <code class="literal">nscd</code> in setups where SSSD is also serving users from a remote domain, for example LDAP or Active Directory, can cause unpredictable behavior.
				</p><p>
					With this update, the resolution of local users and groups is faster in RHEL 8. Note that the <code class="literal">root</code> user is never handled by SSSD, therefore <code class="literal">root</code> resolution cannot be impacted by a potential bug in SSSD. Note also that if SSSD is not running, the <code class="literal">nss_sss</code> module handles the situation gracefully by falling back to <code class="literal">nss_files</code> to avoid problems. You do not have to configure SSSD in any way, the files domain is added automatically.
				</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sssd-allow-multiple-smart-card-auth-devs_considerations-in-adopting-RHEL-8"/>SSSD now allows you to select one of the multiple smart card authentication devices</h2></div></div></div><p>
					By default, the System Security Services Daemon (SSSD) tries to detect a device for Smartcard authentication automatically. If there are multiple devices connected, SSSD selects the first one it detects. Consequently, you cannot select a particular device, which sometimes leads to failures.
				</p><p>
					With this update, you can configure a new <code class="literal">p11_uri</code> option for the <code class="literal">[pam]</code> section of the <code class="literal">sssd.conf</code> configuration file. This option enables you to define which device is used for Smartcard authentication.
				</p><p>
					For example, to select a reader with the slot id <code class="literal">2</code> detected by the OpenSC PKCS#11 module, add:
				</p><pre class="screen">p11_uri = library-description=OpenSC%20smartcard%20framework;slot-id=2</pre><p>
					to the <code class="literal">[pam]</code> section of <code class="literal">sssd.conf</code>.
				</p><p>
					For details, see the <code class="literal">man sssd.conf</code> page.
				</p></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="sssd-removed-functionality_considerations-in-adopting-RHEL-8"/>Removed SSSD functionality</h1></div></div></div><div class="section"><div class="titlepage"><div><div><h2 class="title"><a id="sssd-secrets_considerations-in-adopting-RHEL-8"/><code class="literal">sssd-secrets</code> has been removed</h2></div></div></div><p>
					The <code class="literal">sssd-secrets</code> component of the System Security Services Daemon (SSSD) has been removed in Red Hat Enterprise Linux 8. This is because Custodia, a secrets service provider, is no longer actively developed. Use other Identity Management tools to store secrets, for example the Identity Management Vault.
				</p></div></div></div></body></html>