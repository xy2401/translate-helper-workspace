<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Chapter 11. Feature support and limitations in RHEL 8 virtualization</title><link rel="stylesheet" type="text/css" href="Common_Content/css/epub.css"/><meta name="generator" content="DocBook XSL-NS Stylesheets V1.78.1"/></head><body><div class="chapter"><div class="titlepage"><div><div><h1 class="title"><a id="feature-support-and-limitations-in-rhel8-virtualization_configuring-and-managing-virtualization"/>Chapter 11. Feature support and limitations in RHEL 8 virtualization</h1></div></div></div><p>
			This document provides information on feature support and restrictions in Red Hat Enterprise Linux 8 (RHEL 8) virtualization.
		</p><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="how-rhel8-virtualization-support-works_feature-support-and-limitations-in-rhel8-virtualization"/>How RHEL 8 virtualization support works</h1></div></div></div><p>
				A set of support limitations applies to virtualization in Red Hat Enterprise Linux 8 (RHEL 8). This means that when you use certain features or exceed a certain amount of allocated resources when using virtual machines in RHEL 8, Red Hat will not support these guests unless you have a specific subscription plan.
			</p><p>
				Features listed in <a class="xref" href="feature-support-and-limitations-in-rhel8-virtualization_configuring-and-managing-virtualization.html#recommended-features-in-rhel8-virtualization_feature-support-and-limitations-in-rhel8-virtualization" title="Recommended features in RHEL 8 virtualization">the section called “Recommended features in RHEL 8 virtualization”</a> have been tested and certified by Red Hat to work with the KVM hypervisor on a RHEL 8 system. Therefore, they are fully supported and recommended for use in virtualization in RHEL 8.
			</p><p>
				Features listed in <a class="xref" href="feature-support-and-limitations-in-rhel8-virtualization_configuring-and-managing-virtualization.html#unsupported-features-in-rhel8-virtualization_feature-support-and-limitations-in-rhel8-virtualization" title="Unsupported features in RHEL 8 virtualization">the section called “Unsupported features in RHEL 8 virtualization”</a> may work, but are not supported and not intended for use in RHEL 8. Therefore, Red Hat strongly recommends not using these features in RHEL 8 with KVM.
			</p><p>
				<a class="xref" href="feature-support-and-limitations-in-rhel8-virtualization_configuring-and-managing-virtualization.html#resource-allocation-limits-in-rhel8-virtualization_feature-support-and-limitations-in-rhel8-virtualization" title="Resource allocation limits in RHEL 8 virtualization">the section called “Resource allocation limits in RHEL 8 virtualization”</a> lists the maximum amount of specific resources supported on a KVM guest in RHEL 8. Guests that exceed these limits are not supported by Red Hat.
			</p><p>
				In addition, unless stated otherwise, all features and solutions used by the documentation for RHEL 8 virtualization are supported. However, some of these have not been completely tested and therefore may not be fully optimized.
			</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
					Many of these limitations do not apply to other virtualization solutions provided by Red Hat, such as Red Hat Virtualization (RHV) or Red Hat OpenStack Platform (RHOSP).
				</p></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="recommended-features-in-rhel8-virtualization_feature-support-and-limitations-in-rhel8-virtualization"/>Recommended features in RHEL 8 virtualization</h1></div></div></div><p>
				The following features are recommended for use with the KVM hypervisor included with Red Hat Enterprise Linux 8 (RHEL 8):
			</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">
						<span class="strong"><strong>Host system architectures</strong></span>
					</p><p class="simpara">
						Red Hat Enterprise Linux with KVM is supported only on the following host architectures:
					</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
								AMD64 and Intel 64
							</li><li class="listitem">
								IBM Z - IBM z13 systems and later
							</li><li class="listitem">
								IBM POWER8
							</li><li class="listitem"><p class="simpara">
								IBM POWER9
							</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
									RHEL 8 documentation primarily describes AMD64 and Intel 64 features and usage. For information about the specific of using RHEL 8 virtualization on different architectures, see:
								</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
											<a class="xref" href="getting-started-with-virtualization-in-rhel-8-on-ibm-power_configuring-and-managing-virtualization.html" title="Chapter 3. Getting started with virtualization in RHEL 8 on IBM POWER">Chapter 3, <em>Getting started with virtualization in RHEL 8 on IBM POWER</em></a>
										</li><li class="listitem">
											<a class="xref" href="getting-started-with-virtualization-in-rhel-8-on-ibm-z_configuring-and-managing-virtualization.html" title="Chapter 4. Getting started with virtualization in RHEL 8 on IBM Z">Chapter 4, <em>Getting started with virtualization in RHEL 8 on IBM Z</em></a>.
										</li></ul></div></div></li></ul></div></li><li class="listitem"><p class="simpara">
						<span class="strong"><strong>Guest operating systems</strong></span>
					</p><p class="simpara">
						Red Hat supports KVM virtual machines that use the following operating systems:
					</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
								Red Hat Enterprise Linux 6 and later
							</li><li class="listitem">
								Microsoft Windows 10 and later
							</li><li class="listitem">
								Microsoft Windows Server 2016 and later
							</li></ul></div></li><li class="listitem"><p class="simpara">
						<span class="strong"><strong>Q35 guests</strong></span>
					</p><p class="simpara">
						The recommended machine type for KVM guest virtual machines is QEMU Q35, which emulates the ICH9 chipset.
					</p></li></ul></div><h3><a id="additional_resources_36"/>Additional resources</h3><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
						For information about unsupported guest OS types and features in RHEL 8 virtualization, see <a class="xref" href="feature-support-and-limitations-in-rhel8-virtualization_configuring-and-managing-virtualization.html#unsupported-features-in-rhel8-virtualization_feature-support-and-limitations-in-rhel8-virtualization" title="Unsupported features in RHEL 8 virtualization">the section called “Unsupported features in RHEL 8 virtualization”</a>.
					</li><li class="listitem">
						For information about the maximum supported amounts of resources that can be allocated to a virtual machine, see <a class="xref" href="feature-support-and-limitations-in-rhel8-virtualization_configuring-and-managing-virtualization.html#resource-allocation-limits-in-rhel8-virtualization_feature-support-and-limitations-in-rhel8-virtualization" title="Resource allocation limits in RHEL 8 virtualization">the section called “Resource allocation limits in RHEL 8 virtualization”</a>.
					</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="unsupported-features-in-rhel8-virtualization_feature-support-and-limitations-in-rhel8-virtualization"/>Unsupported features in RHEL 8 virtualization</h1></div></div></div><p>
				The following features are not supported by the KVM hypervisor included with Red Hat Enterprise Linux 8 (RHEL 8):
			</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
					Many of these limitations do not apply to other virtualization solutions provided by Red Hat, such as Red Hat Virtualization (RHV) or Red Hat OpenStack Platform (RHOSP).
				</p></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">
						<span class="strong"><strong>Guest operating systems</strong></span>
					</p><p class="simpara">
						KVM virtual machines using the following guest operating systems on a RHEL 8 host are not supported:
					</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
								Microsoft Windows 8.1 and earlier
							</li><li class="listitem">
								Microsoft Windows Server 2012 and earlier
							</li><li class="listitem">
								macOS
							</li><li class="listitem">
								Solaris for x86 systems
							</li><li class="listitem">
								Any OS released prior to 2009
							</li></ul></div></li><li class="listitem"><p class="simpara">
						<span class="strong"><strong>vCPU hot unplug</strong></span>
					</p><p class="simpara">
						Removing a virtual CPU (vCPU) from a running KVM virtual machine, also referred to as a vCPU hot unplug, is unsupported in RHEL 8 and using it may lead to VM crashes. Therefore, Red Hat strongly advises against its use.
					</p></li><li class="listitem"><p class="simpara">
						<span class="strong"><strong>Memory hot unplug</strong></span>
					</p><p class="simpara">
						Decreasing the memory limit allocated to running a KVM virtual machine, also referred to as a memory hot unplug, is unsupported in RHEL 8 and using it may lead to VM crashes. Therefore, Red Hat strongly advises against its use.
					</p></li><li class="listitem"><p class="simpara">
						<span class="strong"><strong>SR-IOV networking</strong></span>
					</p><p class="simpara">
						Single-root I/O virtualization (SR-IOV) networking is not supported in RHEL 8.
					</p></li><li class="listitem"><p class="simpara">
						<span class="strong"><strong>I/O throttling</strong></span>
					</p><p class="simpara">
						Configuring maximum input and output levels for operations on virtual disk, also known as I/O throttling, is not supported in RHEL 8.
					</p></li><li class="listitem"><p class="simpara">
						<span class="strong"><strong>Storage live migration</strong></span>
					</p><p class="simpara">
						Migrating a disk image of a running virtual machine between hosts is not supported in RHEL 8.
					</p></li><li class="listitem"><p class="simpara">
						<span class="strong"><strong>Live snapshots</strong></span>
					</p><p class="simpara">
						Creating or loading a snapshot of a running virtual machine, also referred to as a live snapshot, is not supported in RHEL 8.
					</p></li><li class="listitem"><p class="simpara">
						<span class="strong"><strong>Vhost-user</strong></span>
					</p><p class="simpara">
						RHEL 8 does not support the implementation of a user-space vHost interface.
					</p></li><li class="listitem"><p class="simpara">
						<span class="strong"><strong>S3 and S4 system power states</strong></span>
					</p><p class="simpara">
						Suspending a virtual machine to the <span class="strong"><strong>Suspend to RAM</strong></span> (S3) or <span class="strong"><strong>Suspend to disk</strong></span> (S4) system power states is not supported. Note that these features are disabled by default, and enabling them will make your virtual machine not supportable by Red Hat.
					</p></li><li class="listitem"><p class="simpara">
						<span class="strong"><strong>S3-PR on a multipathed vDisk</strong></span>
					</p><p class="simpara">
						SCSI3 persistent reservation (S3-PR) on a multipathed vDisk is not suppported in RHEL 8. As a consequence, Windows Cluster is not supported in RHEL 8. In case you need Windows Cluster support, use Red Hat Virtualization (RHV) instead.
					</p></li><li class="listitem"><p class="simpara">
						<span class="strong"><strong>virtio-crypto</strong></span>
					</p><p class="simpara">
						The drivers for the <span class="emphasis"><em>virtio-crypto</em></span> device are available in the RHEL 8 kernel, and the device can thus be enabled on a KVM hypervisor under certain circumstances. However, using the <span class="emphasis"><em>virtio-crypto</em></span> device in RHEL 8 is not supported and highly discouraged.
					</p></li></ul></div><h3><a id="additional_resources_37"/>Additional resources</h3><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem">
						For information about supported guest OS types and recommended features in RHEL 8 virtualization, see <a class="xref" href="feature-support-and-limitations-in-rhel8-virtualization_configuring-and-managing-virtualization.html#recommended-features-in-rhel8-virtualization_feature-support-and-limitations-in-rhel8-virtualization" title="Recommended features in RHEL 8 virtualization">the section called “Recommended features in RHEL 8 virtualization”</a>.
					</li><li class="listitem">
						For information about the maximum supported amounts of resources that can be allocated to a virtual machine, see <a class="xref" href="feature-support-and-limitations-in-rhel8-virtualization_configuring-and-managing-virtualization.html#resource-allocation-limits-in-rhel8-virtualization_feature-support-and-limitations-in-rhel8-virtualization" title="Resource allocation limits in RHEL 8 virtualization">the section called “Resource allocation limits in RHEL 8 virtualization”</a>.
					</li></ul></div></div><div class="section"><div class="titlepage"><div><div><h1 class="title"><a id="resource-allocation-limits-in-rhel8-virtualization_feature-support-and-limitations-in-rhel8-virtualization"/>Resource allocation limits in RHEL 8 virtualization</h1></div></div></div><p>
				The following limits apply to virtualized resources that can be allocated to a single virtual machine on a Red Hat Enterprise Linux 8 (RHEL 8) host.
			</p><div class="note" style="margin-left: 0.5in; margin-right: 0.5in;"><h3 class="title">Note</h3><p>
					Many of these limitations do not apply to other virtualization solutions provided by Red Hat, such as Red Hat Virtualization (RHV) or Red Hat OpenStack Platform (RHOSP).
				</p></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p class="simpara">
						<span class="strong"><strong>Maximum virtual machines per host</strong></span>
					</p><p class="simpara">
						A single RHEL 8 host supports up to <span class="strong"><strong>4</strong></span> guests running at the same time.
					</p></li><li class="listitem"><p class="simpara">
						<span class="strong"><strong>Maximum vCPUs per guest</strong></span>
					</p><p class="simpara">
						RHEL 8 supports up to <span class="strong"><strong>384</strong></span> vCPUs allocated to a single KVM guest.
					</p></li><li class="listitem"><p class="simpara">
						<span class="strong"><strong>PCI devices per guest</strong></span>
					</p><p class="simpara">
						RHEL 8 supports <span class="strong"><strong>32</strong></span> PCI device slots per virtual machine bus, and <span class="strong"><strong>8</strong></span> PCI functions per device slot. This gives a theoretical maximum of 256 PCI functions per bus when multi-function capabilities are enabled in the virtual machine, and no PCI bridges are used.
					</p><p class="simpara">
						Each PCI bridge adds a new bus, potentially enabling another 256 device addresses. However, some buses do not make all 256 device addresses available for the user; for example, the root bus has several built-in devices occupying slots.
					</p></li><li class="listitem"><p class="simpara">
						<span class="strong"><strong>Virtualized IDE devices</strong></span>
					</p><p class="simpara">
						KVM is limited to a maximum of <span class="strong"><strong>4</strong></span> virtualized IDE devices per virtual machine.
					</p></li></ul></div></div></div></body></html>