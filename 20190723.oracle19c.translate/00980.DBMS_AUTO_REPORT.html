<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="The DBMS_AUTO_REPORT package provides an interface to view SQL Monitoring and Real-time Automatic Database Diagnostic Monitor (ADDM) data that has been captured into Automatic Workload Repository (AWR). It also provides subprograms to control the behavior of how these data are captured to AWR.">
      <meta name="description" content="The DBMS_AUTO_REPORT package provides an interface to view SQL Monitoring and Real-time Automatic Database Diagnostic Monitor (ADDM) data that has been captured into Automatic Workload Repository (AWR). It also provides subprograms to control the behavior of how these data are captured to AWR.">
      <title>DBMS_AUTO_REPORT</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="PL/SQL Packages and Types Reference">
      <meta property="og:description" content="The DBMS_AUTO_REPORT package provides an interface to view SQL Monitoring and Real-time Automatic Database Diagnostic Monitor (ADDM) data that has been captured into Automatic Workload Repository (AWR). It also provides subprograms to control the behavior of how these data are captured to AWR.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="PL/SQL Packages and Types Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-25T11:24:34-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96430-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="DBMS_AUTO_INDEX.html" title="Previous" type="text/html">
      <link rel="next" href="DBMS_AUTO_TASK_ADMIN.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference">
    <meta name="dcterms.isVersionOf" content="ARPLS">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBMS_AUTO_INDEX.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="DBMS_AUTO_TASK_ADMIN.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL/SQL Packages and Types Reference</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> DBMS_AUTO_REPORT </li>
            </ol>
            <a id="GUID-79A5CEF7-BA12-4472-832E-4B8AEE9D6046" name="GUID-79A5CEF7-BA12-4472-832E-4B8AEE9D6046"></a><a id="ARPLS74518"></a><a id="ARPLS74518"></a>
            
            <h2 id="ARPLS-GUID-79A5CEF7-BA12-4472-832E-4B8AEE9D6046" class="sect2"><span class="enumeration_chapter">30 </span> DBMS_AUTO_REPORT 
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The <code class="codeph">DBMS_AUTO_REPORT</code> package provides an interface to view SQL Monitoring and Real-time Automatic Database Diagnostic Monitor (ADDM) data that has been captured into Automatic Workload Repository (AWR). It also provides subprograms to control the behavior of how these data are captured to AWR.
               </p>
               <div class="infoboxnotealso" id="GUID-79A5CEF7-BA12-4472-832E-4B8AEE9D6046__GUID-F70EFA52-3764-4623-B98F-AFF4A1B25656">
                  <p class="notep1">See Also:</p>
                  <p><a href="../tgsql/monitoring-database-operations.html#TGSQL94607" target="_blank"><span class="italic">Oracle Database SQL Tuning Guide</span></a> for more information about reporting database operations
                  </p>
               </div>
               <p>This chapter contains the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="DBMS_AUTO_REPORT.html#GUID-52848CE0-EEEF-40A3-803B-C7385AB52675" title="This package provides an interface to view SQL Monitoring and Real-time ADDM data that has been captured into AWR. It also provides subprograms to control the behavior of how these data are captured to AWR.Captured data are stored in AWR and exposed via 2 views: DBA_HIST_REPORTS and DBA_HIST_REPORTS_DETAILS.">Overview</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_AUTO_REPORT.html#GUID-0A797C8B-2BC7-49F4-B158-A33F3DB83C3B" title="This package is available to PUBLIC and performs its own security checking.">Security Model</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_AUTO_REPORT.html#GUID-58EF9244-9A45-47D0-B8FB-9B6A2DA05294" title="This table describes the parameters of the DBMS_AUTO_REPORT package subprograms.">Summary of DBMS_AUTO_REPORT Subprograms</a></p>
                  </li>
               </ul>
            </div><a id="ARPLS74520"></a><a id="ARPLS74520"></a><div class="props_rev_3"><a id="GUID-52848CE0-EEEF-40A3-803B-C7385AB52675" name="GUID-52848CE0-EEEF-40A3-803B-C7385AB52675"></a><h3 id="ARPLS-GUID-52848CE0-EEEF-40A3-803B-C7385AB52675" class="sect3"><span class="enumeration_section">30.1 </span>DBMS_AUTO_REPORT Overview
               </h3>
               <div>
                  <p>This package provides an interface to view SQL Monitoring and Real-time ADDM data that has been captured into AWR. It also provides subprograms to control the behavior of how these data are captured to AWR.Captured data are stored in AWR and exposed via 2 views: <code class="codeph">DBA_HIST_REPORTS</code> and <code class="codeph">DBA_HIST_REPORTS_DETAILS</code>.
                  </p>
               </div>
            </div><a id="ARPLS74521"></a><a id="ARPLS74521"></a><div class="props_rev_3"><a id="GUID-0A797C8B-2BC7-49F4-B158-A33F3DB83C3B" name="GUID-0A797C8B-2BC7-49F4-B158-A33F3DB83C3B"></a><h3 id="ARPLS-GUID-0A797C8B-2BC7-49F4-B158-A33F3DB83C3B" class="sect3"><span class="enumeration_section">30.2 </span>DBMS_AUTO_REPORT Security Model
               </h3>
               <div>
                  <p>This package is available to <code class="codeph">PUBLIC</code> and performs its own security checking.
                  </p>
               </div>
            </div><a id="ARPLS74522"></a><a id="ARPLS74523"></a><a id="ARPLS74523"></a><a id="ARPLS74522"></a><div class="props_rev_3"><a id="GUID-58EF9244-9A45-47D0-B8FB-9B6A2DA05294" name="GUID-58EF9244-9A45-47D0-B8FB-9B6A2DA05294"></a><h3 id="ARPLS-GUID-58EF9244-9A45-47D0-B8FB-9B6A2DA05294" class="sect3"><span class="enumeration_section">30.3 </span>Summary of DBMS_AUTO_REPORT Subprograms
               </h3>
               <div>
                  <p>This table describes the parameters of the <code class="codeph">DBMS_AUTO_REPORT</code> package subprograms.
                  </p>
                  <div class="tblformal" id="GUID-58EF9244-9A45-47D0-B8FB-9B6A2DA05294__GUID-618165C8-FBA1-4093-9DBE-561CAFBE4539">
                     <p class="titleintable">Table 30-1 DBMS_AUTO_REPORT Package Subprograms</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_AUTO_REPORT Package Subprograms" summary="This table describes the parameters of the DBMS_AUTO_REPORT package subprograms." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="30%" id="d155712e416">Subprogram</th>
                              <th align="left" valign="bottom" width="70%" id="d155712e419">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d155712e424" headers="d155712e416 ">
                                 <p><a href="DBMS_AUTO_REPORT.html#GUID-1DFE684F-AAB4-4988-80A8-FD38366193E6" title="This procedure ends the complete capture of SQL monitor data that was started with the START_REPORT_CAPTURE procedure.">FINISH_REPORT_CAPTURE Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d155712e424 d155712e419 ">
                                 <p>Ends the complete capture of SQL monitor data that was started with the <a href="DBMS_AUTO_REPORT.html#GUID-8CB362BB-D486-4854-B4D6-2983834C1E01" title="This procedure captures SQL monitor data of any newly monitored SQLs every minute since the last run of the capture cycle, and stores it in AWR.">START_REPORT_CAPTURE Procedure</a>.
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d155712e446" headers="d155712e416 ">
                                 <p><a href="DBMS_AUTO_REPORT.html#GUID-FBA3052E-9686-4D26-9892-215FC226A03C" title="This procedure obtains the stored report for a given report ID in the specified format such as XML or HTML.">REPORT_REPOSITORY_DETAIL Function</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d155712e446 d155712e419 ">
                                 <p>Obtains the stored report for a given report ID</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d155712e458" headers="d155712e416 ">
                                 <p><a href="DBMS_AUTO_REPORT.html#GUID-1B36F486-6A50-486C-A08E-80F3BE2B6689" title="This procedure obtains the stored XML report for a given report ID.">REPORT_REPOSITORY_DETAIL_XML Function</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d155712e458 d155712e419 ">
                                 <p>Obtains the stored XML report for a given report ID</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d155712e470" headers="d155712e416 ">
                                 <p><a href="DBMS_AUTO_REPORT.html#GUID-31B11C96-B995-494D-9621-AE179BFDE532" title="This procedure obtains an XML report of the list of SQL Monitor and Real-time ADDM data captured in AWR.">REPORT_REPOSITORY_LIST_XML Function</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d155712e470 d155712e419 ">
                                 <p>Obtains an XML report of the list of SQL Monitor and Real-time ADDM data captured in AWR</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d155712e482" headers="d155712e416 ">
                                 <p><a href="DBMS_AUTO_REPORT.html#GUID-8CB362BB-D486-4854-B4D6-2983834C1E01" title="This procedure captures SQL monitor data of any newly monitored SQLs every minute since the last run of the capture cycle, and stores it in AWR.">START_REPORT_CAPTURE Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d155712e482 d155712e419 ">
                                 <p>Captures SQL monitor data of any newly monitored SQLs every minute since the last run of the capture cycle, and stores it in AWR.</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="ARPLS74524"></a><a id="ARPLS74524"></a><div class="props_rev_3"><a id="GUID-1DFE684F-AAB4-4988-80A8-FD38366193E6" name="GUID-1DFE684F-AAB4-4988-80A8-FD38366193E6"></a><h4 id="ARPLS-GUID-1DFE684F-AAB4-4988-80A8-FD38366193E6" class="sect4"><span class="enumeration_section">30.3.1 </span>FINISH_REPORT_CAPTURE Procedure
                  </h4>
                  <div>
                     <p>This procedure ends the complete capture of SQL monitor data that was started with the <code class="codeph">START_REPORT_CAPTURE</code> procedure.
                     </p>
                     <div class="section">
                        <p>After calling this subprogram, capture of data continues every minute except that it is not captured for all active SQLs but only for those deemed important, namely the top 5 SQLs (by elapsed time, or elapsed time*DOP in case of PQ) whose monitoring has completed.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1DFE684F-AAB4-4988-80A8-FD38366193E6__GUID-9E7790CD-A6A6-4F20-B9CC-E4E3B8883A65">Syntax </p><pre class="oac_no_warn" dir="ltr">DBMS_AUTO_REPORT.FINISH_REPORT_CAPTURE;</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="DBMS_AUTO_REPORT.html#GUID-8CB362BB-D486-4854-B4D6-2983834C1E01" title="This procedure captures SQL monitor data of any newly monitored SQLs every minute since the last run of the capture cycle, and stores it in AWR.">START_REPORT_CAPTURE Procedure</a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ARPLS74525"></a><a id="ARPLS74526"></a><a id="ARPLS74526"></a><a id="ARPLS74525"></a><div class="props_rev_3"><a id="GUID-FBA3052E-9686-4D26-9892-215FC226A03C" name="GUID-FBA3052E-9686-4D26-9892-215FC226A03C"></a><h4 id="ARPLS-GUID-FBA3052E-9686-4D26-9892-215FC226A03C" class="sect4"><span class="enumeration_section">30.3.2 </span>REPORT_REPOSITORY_DETAIL Function
                  </h4>
                  <div>
                     <p>This procedure obtains the stored report for a given report ID in the specified format such as XML or HTML.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-FBA3052E-9686-4D26-9892-215FC226A03C__GUID-50DAF963-FAEF-42CA-9940-2BE7307AC597">Syntax </p><pre class="oac_no_warn" dir="ltr">DBMS_AUTO_REPORT.REPORT_REPOSITORY_DETAIL (
   rid              IN NUMBER    DEFAULT NULL,
   type             IN VARCHAR2  DEFAULT 'XML',
   base_path        IN VARCHAR2  DEFAULT NULL)
 RETURNS CLOB</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FBA3052E-9686-4D26-9892-215FC226A03C__GUID-853A8C20-A8CE-4C0D-9FE3-C2B50F1312F0">Parameters</p>
                        <div class="tblformal" id="GUID-FBA3052E-9686-4D26-9892-215FC226A03C__GUID-4C5E8373-2839-47A8-8B79-F5CE9292B431">
                           <p class="titleintable">Table 30-2 REPORT_REPOSITORY_DETAIL Function Parameters</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="REPORT_REPOSITORY_DETAIL Function Parameters" summary="This table describes the parameters of the DBMS_AUTO_REPORT.REPORT_REPOSITORY_DETAIL subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="30%" id="d155712e713">Parameter</th>
                                    <th align="left" valign="bottom" width="70%" id="d155712e716">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d155712e721" headers="d155712e713 ">
                                       <p><code class="codeph">rid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d155712e721 d155712e716 ">
                                       <p>ID of the stored report which returned by the function</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d155712e729" headers="d155712e713 ">
                                       <p><code class="codeph">type</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d155712e729 d155712e716 ">
                                       <p>Desired format of the report. Values can be <code class="codeph">'XML'</code>, <code class="codeph">'TEXT'</code>, '<code class="codeph">HTML'</code>, <code class="codeph">'EM'</code> or<code class="codeph"> 'ACTIVE'</code>. The last two options generate a report in the same format called active HTML. Default value is <code class="codeph">'XML'</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d155712e756" headers="d155712e713 ">
                                       <p><code class="codeph">base_path</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d155712e756 d155712e716 ">
                                       <p>Unused/Non-operative</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FBA3052E-9686-4D26-9892-215FC226A03C__GUID-F28A8367-C9CA-4A6F-B646-AEDEB087FC0E">Return Values</p>
                        <p>The persisted report for the given record ID</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74527"></a><a id="ARPLS74528"></a><a id="ARPLS74528"></a><a id="ARPLS74527"></a><div class="props_rev_3"><a id="GUID-1B36F486-6A50-486C-A08E-80F3BE2B6689" name="GUID-1B36F486-6A50-486C-A08E-80F3BE2B6689"></a><h4 id="ARPLS-GUID-1B36F486-6A50-486C-A08E-80F3BE2B6689" class="sect4"><span class="enumeration_section">30.3.3 </span>REPORT_REPOSITORY_DETAIL_XML Function
                  </h4>
                  <div>
                     <p>This procedure obtains the stored XML report for a given report ID.</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-1B36F486-6A50-486C-A08E-80F3BE2B6689__GUID-3250ED4E-D474-49B2-9D71-109C8AEC440A">Syntax </p><pre class="oac_no_warn" dir="ltr">DBMS_AUTO_REPORT.REPORT_REPOSITORY_DETAIL_XML (
   rid              IN NUMBER    DEFAULT NULL,
   base_path        IN VARCHAR2  DEFAULT NULL)
 RETURNS XMLTYPE</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1B36F486-6A50-486C-A08E-80F3BE2B6689__GUID-ABBD63FA-3208-4A61-8690-FDAAAAC8052B">Parameters</p>
                        <div class="tblformal" id="GUID-1B36F486-6A50-486C-A08E-80F3BE2B6689__GUID-869C63D7-A826-46CA-BA6B-30F7079A8D6D">
                           <p class="titleintable">Table 30-3 <span class="italic"><span class="bold">REPORT_REPOSITORY_DETAIL_XML Function Parameters</span></span></p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="REPORT_REPOSITORY_DETAIL_XML Function Parameters" summary="This table describes the parameters of the DBMS_AUTO_REPORT.REPORT_REPOSITORY_DETAIL_XML subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="30%" id="d155712e880">Parameter</th>
                                    <th align="left" valign="bottom" width="70%" id="d155712e883">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d155712e888" headers="d155712e880 ">
                                       <p><code class="codeph">rid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d155712e888 d155712e883 ">
                                       <p>ID of the stored report which returned by the function</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d155712e896" headers="d155712e880 ">
                                       <p><code class="codeph">base_path</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d155712e896 d155712e883 ">
                                       <p>Unused/Non-operative</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1B36F486-6A50-486C-A08E-80F3BE2B6689__GUID-964F5529-497F-49A0-9D2A-6C9AA8CF2D47">Return Values</p>
                        <p>The persisted XML report for the given record ID</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74529"></a><a id="ARPLS74530"></a><a id="ARPLS74530"></a><a id="ARPLS74529"></a><div class="props_rev_3"><a id="GUID-31B11C96-B995-494D-9621-AE179BFDE532" name="GUID-31B11C96-B995-494D-9621-AE179BFDE532"></a><h4 id="ARPLS-GUID-31B11C96-B995-494D-9621-AE179BFDE532" class="sect4"><span class="enumeration_section">30.3.4 </span>REPORT_REPOSITORY_LIST_XML Function
                  </h4>
                  <div>
                     <p>This procedure obtains an XML report of the list of SQL Monitor and Real-time ADDM data captured in AWR.</p>
                     <div class="section">
                        <p>The input parameters can be used to select and restrict which captured data will be included in the list report. All parameters are optional.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-31B11C96-B995-494D-9621-AE179BFDE532__GUID-1C942E48-AFE3-46D7-8A0D-9FF403B05253">Syntax </p><pre class="oac_no_warn" dir="ltr">DBMS_AUTO_REPORT.REPORT_REPOSITORY_LIST_XML (
    active_since              IN DATE     DEFAULT NULL,
    active_upto               IN DATE     DEFAULT NULL,
    snapshot_id               IN NUMBER   DEFAULT NULL,
    dbid                      IN NUMBER   DEFAULT NULL,
    inst_id                   IN NUMBER   DEFAULT NULL,
    con_dbid                  IN NUMBER   DEFAULT NULL,
    session_id                IN NUMBER   DEFAULT NULL,
    session_serial            IN NUMBER   DEFAULT NULL,
    component_name            IN VARCHAR2 DEFAULT NULL,
    key1                      IN VARCHAR2 DEFAULT NULL,
    key2                      IN VARCHAR2 DEFAULT NULL,
    key3                      IN VARCHAR2 DEFAULT NULL,
    report_level              IN VARCHAR2 DEFAULT 'TYPICAL',
    base_path                 IN VARCHAR2 DEFAULT NULL)
RETURNS XMLTYPE</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-31B11C96-B995-494D-9621-AE179BFDE532__GUID-CEE05CB7-C80A-4058-8756-ED67C998C006">Parameters</p>
                        <div class="tblformal" id="GUID-31B11C96-B995-494D-9621-AE179BFDE532__GUID-A418F707-C09C-4726-8C96-356417797FB5">
                           <p class="titleintable">Table 30-4 <span class="italic"><span class="bold">REPORT_REPOSITORY_LIST_XML Function Parameters</span></span></p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="REPORT_REPOSITORY_LIST_XML Function Parameters" summary="This table describes the parameters of the DBMS_AUTO_REPORT.REPORT_REPOSITORY_LIST_XML subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="30%" id="d155712e1023">Parameter</th>
                                    <th align="left" valign="bottom" width="70%" id="d155712e1026">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d155712e1031" headers="d155712e1023 ">
                                       <p><code class="codeph">active_since</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d155712e1031 d155712e1026 ">
                                       <p>Start of a time range used to select data. When a time range is specified, only those data are included in the list that were active during the time range. When no value is specified the time range is chosen as the last 24 hours ending at the current system time.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d155712e1039" headers="d155712e1023 ">
                                       <p><code class="codeph">active_upto</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d155712e1039 d155712e1026 ">
                                       <p>Same as <code class="codeph">active_since</code> except that it is the end of the time range
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d155712e1050" headers="d155712e1023 ">
                                       <p><code class="codeph">snapshot_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d155712e1050 d155712e1026 ">
                                       <p>If a value is specified, only those data captured during the specified snapshot ID are included in the list report. If no value is specified, no filtering is performed on snapshot ID.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d155712e1058" headers="d155712e1023 ">
                                       <p><code class="codeph">dbid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d155712e1058 d155712e1026 ">
                                       <p>If a value is specified, only those data captured for the specified database ID are included in the list report. If no value is specified, no filtering is performed on database ID</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d155712e1066" headers="d155712e1023 ">
                                       <p><code class="codeph">inst_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d155712e1066 d155712e1026 ">
                                       <p>If a value is specified, only those data captured on the specified instance number are included in the list report. If no value is specified, no filtering is performed on the instance ID.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d155712e1074" headers="d155712e1023 ">
                                       <p><code class="codeph">con_dbid</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d155712e1074 d155712e1026 ">
                                       <p>If a value is specified, only those data captured on the specified container DBID are included in the list report. If no value is specified, no filtering is performed on the container DBID.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d155712e1082" headers="d155712e1023 ">
                                       <p><code class="codeph">session_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d155712e1082 d155712e1026 ">
                                       <p>If a value is specified, only those data captured for the specified session ID are included in the list report. If no value is specified, no filtering is performed on session ID.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d155712e1090" headers="d155712e1023 ">
                                       <p><code class="codeph">session_serial</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d155712e1090 d155712e1026 ">
                                       <p>If a value is specified, only those data captured for the specified session are included in the list report. If no value is specified, no filtering is performed on session serial number. This parameter should be used in conjunction with the <code class="codeph">session_id</code> parameter.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d155712e1101" headers="d155712e1023 ">
                                       <p><code class="codeph">component_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d155712e1101 d155712e1026 ">
                                       <p>Can be <code class="codeph">'sqlmonitor'</code> for SQL Monitor data or <code class="codeph">'rtaddm'</code> for Real-time ADDM data. If a value is specified then data pertaining only to the specified component will be included in the list report. If no value is specified, no filtering is performed.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d155712e1115" headers="d155712e1023 ">
                                       <p><code class="codeph">key1</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d155712e1115 d155712e1026 ">
                                       <p>Key value relevant to a component. For SQL Monitor, <code class="codeph">key1</code> is the SQL ID of the captured SQL statement. If a value is specified, only those data having specified value for <code class="codeph">key1</code> are included, else no filtering is performed on <code class="codeph">key1</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d155712e1132" headers="d155712e1023 ">
                                       <p><code class="codeph">key2</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d155712e1132 d155712e1026 ">
                                       <p>Key value relevant to a component. For SQL Monitor, <code class="codeph">key2</code> is the SQL execution ID of the captured SQL statement. If a value is specified, only those data having specified value for <code class="codeph">key2</code> are included, else no filtering is performed on <code class="codeph">key2</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d155712e1150" headers="d155712e1023 ">
                                       <p><code class="codeph">key3</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d155712e1150 d155712e1026 ">
                                       <p>Key value relevant to a component. For SQL Monitor, <code class="codeph">key3</code> is the SQL execution start time of the captured SQL statement. If a value is specified, then only those data having specified value for <code class="codeph">key3</code> are included, else no filtering is performed on <code class="codeph">key3</code>.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d155712e1167" headers="d155712e1023 ">
                                       <p><code class="codeph">report_level</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d155712e1167 d155712e1026 ">
                                       <p>Currently only <code class="codeph">'TYPICAL'</code> is used
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d155712e1178" headers="d155712e1023 ">
                                       <p><code class="codeph">base_path</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d155712e1178 d155712e1026 ">
                                       <p>Unused/Non-operative</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS74531"></a><a id="ARPLS74531"></a><div class="props_rev_3"><a id="GUID-8CB362BB-D486-4854-B4D6-2983834C1E01" name="GUID-8CB362BB-D486-4854-B4D6-2983834C1E01"></a><h4 id="ARPLS-GUID-8CB362BB-D486-4854-B4D6-2983834C1E01" class="sect4"><span class="enumeration_section">30.3.5 </span>START_REPORT_CAPTURE Procedure
                  </h4>
                  <div>
                     <p>This procedure captures SQL monitor data of any newly monitored SQLs every minute since the last run of the capture cycle, and stores it in AWR. </p>
                     <div class="section">
                        <p>Every capture cycle attempts to capture data for SQLs that are not currently executing or queued. This is a complete capture since data of all newly monitored SQLs is captured. It continues to run every minute until it is explicitly ended with the <a href="DBMS_AUTO_REPORT.html#GUID-1DFE684F-AAB4-4988-80A8-FD38366193E6" title="This procedure ends the complete capture of SQL monitor data that was started with the START_REPORT_CAPTURE procedure.">FINISH_REPORT_CAPTURE Procedure</a>. In the case of a RAC system, the capture will start on each node of the cluster.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8CB362BB-D486-4854-B4D6-2983834C1E01__GUID-DB97A9F4-E2C7-4150-ABB6-2EC2855A1FE5">Syntax </p><pre class="oac_no_warn" dir="ltr">DBMS_AUTO_REPORT.START_REPORT_CAPTURE;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>