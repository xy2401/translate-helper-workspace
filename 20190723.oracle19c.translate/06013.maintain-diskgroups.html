<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>维护磁盘组</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Administrator&#39;s Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Administrator&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="automatic-storage-management-administrators-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-23T18:56:15-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2007, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96198-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="asm-access-control-diskgroups.html" title="Previous" type="text/html"></link>
      <link rel="next" href="asm-filegroups.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Automatic Storage Management Administrator&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="OSTMG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="asm-access-control-diskgroups.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="asm-filegroups.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">管理员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-instance-diskgroup.html" property="item" typeof="WebPage"><span property="name">Oracle ASM实例和磁盘组</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="admin-asm-diskgroups.html" property="item" typeof="WebPage"><span property="name">管理Oracle ASM磁盘组</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">维护磁盘组</li>
            </ol>
            <a id="GUID-CCB2AE8D-2F2A-49DD-8F1D-6BF2F2DAFECB" name="GUID-CCB2AE8D-2F2A-49DD-8F1D-6BF2F2DAFECB"></a><a id="OSTMG95734"></a>
            
            <h2 id="OSTMG-GUID-CCB2AE8D-2F2A-49DD-8F1D-6BF2F2DAFECB" class="sect2">维护磁盘组</h2>
         </header>
         <div class="ind">
            <div>
               <p>本节讨论在磁盘组上执行的维护操作。</p>
               <p>本节包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="maintain-diskgroups.html#GUID-4782D609-766B-4686-B5E4-90A8EFC10DEA">安装和卸载磁盘组</a></p>
                  </li>
                  <li>
                     <p><a href="maintain-diskgroups.html#GUID-9F59BF16-9875-4888-8F34-71CB34510CD6" title="Oracle ASM使用ALTER DISKGROUP提供MOUNT FORCE选项，以使Oracle ASM磁盘组能够以正常或高冗余模式安装，即使某些Oracle ASM磁盘在安装时可能对磁盘组不可用。">使用FORCE选项安装磁盘组</a></p>
                  </li>
                  <li>
                     <p><a href="maintain-diskgroups.html#GUID-1F6DEC72-1206-4518-A787-D34D5ED847C2">检查磁盘组元数据的内部一致性</a></p>
                  </li>
                  <li>
                     <p><a href="maintain-diskgroups.html#GUID-EC6BCD13-2A39-4365-92CE-B26D48C62D38" title="DROP DISKGROUP语句使您可以删除Oracle ASM磁盘组以及可选的所有文件。">删除磁盘组</a></p>
                  </li>
                  <li>
                     <p><a href="maintain-diskgroups.html#GUID-45A0F079-2D23-47D3-A366-569076D2F845">重命名磁盘组</a></p>
                  </li>
               </ul>
            </div><a id="OSTMG94155"></a><div class="props_rev_3"><a id="GUID-4782D609-766B-4686-B5E4-90A8EFC10DEA" name="GUID-4782D609-766B-4686-B5E4-90A8EFC10DEA"></a><h3 id="OSTMG-GUID-4782D609-766B-4686-B5E4-90A8EFC10DEA" class="sect3">安装和卸载磁盘组</h3>
               <div>
                  <p><a id="d39098e327" class="indexterm-anchor"></a><a id="d39098e331" class="indexterm-anchor"></a> <code class="codeph">ASM_DISKGROUPS</code>初始化参数中指定的磁盘组将在Oracle ASM实例启动时自动装入。此过程使磁盘组可用于与Oracle ASM在同一节点上运行的所有数据库实例。在Oracle ASM实例关闭时卸载磁盘组。Oracle ASM还会在您最初创建磁盘组时自动装入磁盘组，如果删除磁盘组，则会卸载磁盘组。
                  </p>
                  <p>安装磁盘组时，会选择磁盘组编号。此数字可能会在磁盘组安装中发生更改。磁盘组编号不会记录在任何持久性结构中，但可以在<code class="codeph">V$ASM</code>视图的<code class="codeph">GROUP_NUMBER</code>列中查看当前值。
                  </p>
                  <p>如果要手动装入或卸载磁盘组，请使用<code class="codeph">ALTER DISKGROUP...MOUNT</code>或<code class="codeph">ALTER DISKGROUP...DISMOUNT</code>语句。您可以按名称装入或卸载磁盘组，也可以指定<code class="codeph">ALL</code> 。您还可以指定可选的<code class="codeph">FORCE</code>选项。有关使用<code class="codeph">FORCE</code>选项的信息，请参阅使用<code class="codeph">FORCE</code>选项<a href="maintain-diskgroups.html#GUID-9F59BF16-9875-4888-8F34-71CB34510CD6" title="Oracle ASM使用ALTER DISKGROUP提供MOUNT FORCE选项，以使Oracle ASM磁盘组能够以正常或高冗余模式安装，即使某些Oracle ASM磁盘在安装时可能对磁盘组不可用。">安装磁盘组</a> 。
                  </p>
                  <p>如果尝试卸载包含打开文件的磁盘组，则该语句将失败，除非您还指定了<code class="codeph">FORCE</code>子句。
                  </p>
                  <p>在<code class="codeph">RESTRICTED</code>模式下的集群Oracle ASM环境中，磁盘组以单实例独占模式挂载。该群集中没有其他Oracle ASM实例可以装入该磁盘组。在此模式下，任何Oracle ASM客户端都无法使用磁盘组。使用此模式执行快速重新平衡。
                  </p>
                  <p>以下SQL语句将卸载当前装入Oracle ASM实例的所有磁盘组：</p><pre class="oac_no_warn" dir="ltr">更改DISKGROUP所有丢失;</pre><p>以下SQL语句安装磁盘组<code class="codeph">data1</code> ：</p><pre class="oac_no_warn" dir="ltr">ALTER DISKGROUP data1 MOUNT;</pre></div>
            </div><a id="OSTMG94156"></a><div class="props_rev_3"><a id="GUID-9F59BF16-9875-4888-8F34-71CB34510CD6" name="GUID-9F59BF16-9875-4888-8F34-71CB34510CD6"></a><h3 id="OSTMG-GUID-9F59BF16-9875-4888-8F34-71CB34510CD6" class="sect3">使用FORCE选项安装磁盘组</h3>
               <div>
                  <p>Oracle ASM使用<code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code>提供<code class="codeph">MOUNT</code> <code class="codeph">FORCE</code>选项，以使Oracle ASM磁盘组能够以正常或高冗余模式安装，即使某些Oracle ASM磁盘在安装时可能对磁盘组不可用。
                  </p>
                  <p>没有<code class="codeph">FORCE</code>选项的默认行为是无法装入磁盘已损坏或丢失的磁盘组。
                  </p>
                  <p><code class="codeph">MOUNT</code> <code class="codeph">FORCE</code>选项在磁盘暂时不可用的情况下很有用，并且您希望在纠正导致中断的情况时装载冗余减少的磁盘组。
                  </p>
                  <p>要使用<code class="codeph">MOUNT</code> <code class="codeph">FORCE</code>选项成功安装，Oracle ASM必须能够找到磁盘组中所有文件的至少一个扩展区副本。在这种情况下，Oracle ASM可以成功安装磁盘组，但可能会减少冗余。
                  </p>
                  <p>Oracle ASM无法访问的磁盘处于脱机模式。然后，Oracle ASM开始计算这些磁盘处于脱机模式的时间。如果磁盘脱机时间段超过<code class="codeph">DISK_REPAIR_TIME</code>磁盘组属性设置的计时器阈值，则会从磁盘组中永久删除这些磁盘。使用<code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code> <code class="codeph">OFFLINE</code>语句将磁盘置于脱机状态后，可以更改脱机计时器。
                  </p>
                  <div class="infoboxnote" id="GUID-9F59BF16-9875-4888-8F34-71CB34510CD6__GUID-C4B1E9DA-19F4-4C6A-AE8D-B5A63D776802">
                     <p class="notep1">注意：</p>
                     <p>Oracle ASM实例根据指定的兼容性以不同方式安装不完整的磁盘组。</p>
                  </div>
                  <p>在集群Oracle ASM环境中，如果Oracle ASM实例不是装入磁盘组的第一个实例，则使用<code class="codeph">MOUNT</code> <code class="codeph">FORCE</code>语句将失败。这是因为磁盘已被另一个实例访问，并且磁盘无法在本地访问。
                  </p>
                  <p>如果所有磁盘都可用，则使用<code class="codeph">FORCE</code>选项会导致<code class="codeph">MOUNT</code>命令失败。这会阻止不必要和不正确地使用该功能。
                  </p>
                  <p>以下示例显示如何使用<code class="codeph">FORCE</code>选项强制装入<code class="codeph">data1</code>磁盘组：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER DISKGROUP data1 MOUNT FORCE;</pre><div class="infoboxnotealso" id="GUID-9F59BF16-9875-4888-8F34-71CB34510CD6__GUID-B246F132-CA70-444A-9BBD-5650BD0C692A">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p> 有关设置<code class="codeph">DISK_REPAIR_TIME</code>磁盘组属性的详细信息，请<code class="codeph">DISK_REPAIR_TIME</code> <a href="mirroring-diskgroup-redundancy.html#GUID-56B52297-F4E2-4D36-A573-3200A0C78D31">Oracle ASM快速镜像重新同步</a></p>
                        </li>
                        <li>
                           <p><a href="diskgroup-compatibility.html#GUID-9E283CAC-8359-4B4D-A9DE-3A9C52BCDD47" title="该主题描述了由磁盘组兼容性属性设置的有效组合启用的Oracle ASM功能。">功能由磁盘组兼容性属性设置</a>启用磁盘组兼容性属性启用的信息功能</p>
                        </li>
                        <li>
                           <p>有关<code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code>语句和<code class="codeph">FORCE</code>选项的其他信息，请<a href="../sqlrf/ALTER-DISKGROUP.html#SQLRF01113" target="_blank"><span><cite>参见Oracle数据库SQL语言参考</cite></span></a></p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="OSTMG94157"></a><div class="props_rev_3"><a id="GUID-1F6DEC72-1206-4518-A787-D34D5ED847C2" name="GUID-1F6DEC72-1206-4518-A787-D34D5ED847C2"></a><h3 id="OSTMG-GUID-1F6DEC72-1206-4518-A787-D34D5ED847C2" class="sect3">检查磁盘组元数据的内部一致性</h3>
               <div>
                  <p><a id="d39098e802" class="indexterm-anchor"></a>您可以使用带有<code class="codeph">CHECK</code>关键字的<code class="codeph">ALTER</code> <code class="codeph">DISKGROUP</code>语句<code class="codeph">CHECK</code>磁盘组元数据的内部一致性。您可以使用此语句检查磁盘组中的特定文件，特定磁盘或磁盘组中的所有磁盘，或磁盘组中的特定故障组。必须安装磁盘组才能执行这些检查。
                  </p>
                  <p>默认情况下， <code class="codeph">CHECK</code> <code class="codeph">DISK</code> <code class="codeph">GROUP</code>子句验证所有元数据目录。Oracle ASM显示摘要错误，并在警报日志中写入有关错误的详细信息。<code class="codeph">CHECK</code>关键字执行以下操作：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>验证磁盘的一致性</p>
                     </li>
                     <li>
                        <p>交叉检查所有文件范围映射和分配表以确保一致性</p>
                     </li>
                     <li>
                        <p>检查别名元数据目录和文件目录是否正确链接</p>
                     </li>
                     <li>
                        <p>验证别名目录树是否正确链接</p>
                     </li>
                     <li>
                        <p>检查Oracle ASM元数据目录是否没有无法访问的已分配块</p>
                     </li>
                  </ul>
                  <p><code class="codeph">REPAIR</code> <code class="codeph">|</code> <code class="codeph">NOREPAIR</code>子句指定Oracle ASM是否应尝试修复在检查期间发现的错误。默认值为<code class="codeph">NOREPAIR</code> 。使用<code class="codeph">NOREPAIR</code>子句接收有关不一致的警报，并禁止Oracle ASM自动解决错误。以下示例语句检查<code class="codeph">data1</code>磁盘组中所有磁盘的元数据的一致性：</p><pre class="oac_no_warn" dir="ltr">ALTER DISKGROUP data1检查全部;</pre><div class="infoboxnotealso" id="GUID-1F6DEC72-1206-4518-A787-D34D5ED847C2__GUID-7DBFB9A5-6CA8-4378-9421-C351B2FFA35E">
                     <p class="notep1">也可以看看：</p>
                     <p>有关<code class="codeph">CHECK</code>子句语法的其他信息，请<a href="../sqlrf/ALTER-DISKGROUP.html#SQLRF01113" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                  </div>
               </div>
            </div><a id="OSTMG94158"></a><div class="props_rev_3"><a id="GUID-EC6BCD13-2A39-4365-92CE-B26D48C62D38" name="GUID-EC6BCD13-2A39-4365-92CE-B26D48C62D38"></a><h3 id="OSTMG-GUID-EC6BCD13-2A39-4365-92CE-B26D48C62D38" class="sect3">删除磁盘组</h3>
               <div>
                  <p><code class="codeph">DROP</code> <code class="codeph">DISKGROUP</code>语句使您可以删除Oracle ASM磁盘组以及可选的所有文件。
                  </p>
                  <p>如果还要删除磁盘组中包含的所有文件，则可以指定<code class="codeph">INCLUDING</code> <code class="codeph">CONTENTS</code>子句。默认值为<code class="codeph">EXCLUDING</code> <code class="codeph">CONTENTS</code> ，它提供语法一致性，并防止您丢弃磁盘组（如果有任何内容）</p>
                  <p>必须启动Oracle ASM实例，并且必须装入磁盘组<code class="codeph">DROP DISKGROUP</code>打开任何磁盘组文件，才能使<code class="codeph">DROP DISKGROUP</code>语句成功。在删除磁盘组之前，该语句不会返回。
                  </p>
                  <p>删除磁盘组时，如果正在使用服务器参数文件，Oracle ASM将卸载磁盘组并从<code class="codeph">ASM_DISKGROUPS</code>初始化参数中删除磁盘组名称。如果正在使用文本初始化参数文件，并且<code class="codeph">ASM_DISKGROUPS</code>初始化参数中提到了磁盘组，则必须在下次关闭并重新启动Oracle ASM实例之前从<code class="codeph">ASM_DISKGROUPS</code>初始化参数中删除磁盘组名称。
                  </p>
                  <p>以下语句删除<code class="codeph">data1</code> ：</p><pre class="oac_no_warn" dir="ltr">DROP DISKGROUP data1;</pre><p>确保<code class="codeph">data1</code>中包含的所有文件都未打开后，Oracle ASM会重写磁盘组中每个磁盘的标头以删除Oracle ASM格式信息。该语句未指定<code class="codeph">INCLUDING CONTENTS</code> ，因此如果磁盘组包含任何文件，则删除操作将失败。
                  </p>
                  <p>如果在磁盘组中包含的卷上装入Oracle自动存储管理群集文件系统（Oracle ACFS）文件系统，则必须卸除文件系统。如果文件系统已注册，则必须取消注册。必须使用<code class="codeph">INCLUDING</code> <code class="codeph">CONTENTS</code>子句删除此磁盘组。文件系统中的所有数据都将被销毁。要查看与磁盘组关联的卷和装载路径，可以查询<code class="codeph">V$ASM_VOLUME</code>视图。
                  </p>
                  <p>如果无法装入磁盘组但必须删除它，则可以使用<code class="codeph">DROP</code> <code class="codeph">DISKGROUP</code>语句的<code class="codeph">FORCE</code>选项。使用此命令可以删除属于任何Oracle ASM实例无法装入的磁盘组的磁盘上的标头，如以下示例所示：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; DROP DISKGROUP data1 FORCE;</pre><p>执行此操作的磁盘组不应安装在群集中的任何位置。使用<code class="codeph">FORCE</code>选项时，Oracle ASM实例不会尝试验证同一存储子系统中的另一个Oracle ASM实例是否正在使用磁盘组。
                  </p>
                  <div class="infoboxnote" id="GUID-EC6BCD13-2A39-4365-92CE-B26D48C62D38__GUID-5BEE74E1-13F0-4D7D-B5F6-0618695F2B2A">
                     <p class="notep1">注意：</p>
                     <p>请务必谨慎使用<code class="codeph">FORCE</code>选项。
                     </p>
                  </div>
                  <p>您还可以使用ASMCA从磁盘组中删除磁盘。</p>
                  <div class="infoboxnotealso" id="GUID-EC6BCD13-2A39-4365-92CE-B26D48C62D38__GUID-E56EFEBB-ECB5-499A-86BA-23B1AAB638AB">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="views-acfs-advm-info.html#GUID-080A6ACC-59EB-4384-BB2A-50FFF809CA10__CHDGDJGA">示例12-9</a>显示了<code class="codeph">V$ASM_VOLUME</code>视图上的查询示例</p>
                        </li>
                        <li>
                           <p>有关取消注册和卸载Oracle ACFS文件系统的信息，请取消<a href="steps-manage-acfs.html#GUID-824B567D-A538-4EF2-8A2D-96D83A1E6284" title="本主题讨论取消注册或卸载文件系统以及禁用卷的操作。">注册，卸载和禁用卷和</a> Oracle ACFS文件系统</p>
                        </li>
                        <li>
                           <p> <a href="manage-asm-asmca.html#GUID-F78B035C-168D-4CBB-B321-21BB57FED363" title="Oracle ASM Configuration Assistant使您可以使用“配置ASM磁盘组”选项卡配置或创建Oracle ASM磁盘组。">使用ASMCA管理磁盘组以</a>获取有关ASMCA的信息</p>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="OSTMG94160"></a><a id="OSTMG94159"></a><div class="props_rev_3"><a id="GUID-45A0F079-2D23-47D3-A366-569076D2F845" name="GUID-45A0F079-2D23-47D3-A366-569076D2F845"></a><h3 id="OSTMG-GUID-45A0F079-2D23-47D3-A366-569076D2F845" class="sect3">重命名磁盘组</h3>
               <div>
                  <p><a id="d39098e1293" class="indexterm-anchor"></a><a id="d39098e1297" class="indexterm-anchor"></a><a id="d39098e1299" class="indexterm-anchor"></a><a id="d39098e1303" class="indexterm-anchor"></a>使用<code class="codeph">renamedg</code>工具可以更改克隆磁盘组的名称。在磁盘组上运行<code class="codeph">renamedg</code>之前，必须在群集中的所有节点上<code class="codeph">renamedg</code>磁盘组。
                  </p>
                  <p><code class="codeph">renamedg</code>使用两步过程重命名磁盘组：</p>
                  <ol>
                     <li>
                        <p>第一阶段</p>
                        <p>此阶段生成要在第二阶段使用的配置文件。</p>
                     </li>
                     <li>
                        <p>第二阶段</p>
                        <p>此阶段使用配置文件来执行磁盘组的重命名。</p>
                     </li>
                  </ol>
                  <p>语法是：</p><pre class="oac_no_warn" dir="ltr">renamedg {-help | help = true} renamedg [phase = {one | two | both}] dgname = <span class="italic">diskgroup</span> newdgname = <span class="italic">newdiskgroup</span> [config = <span class="italic">configfile</span> ] [asm_diskstring = <span class="italic">discoverystring</span> ， <span class="italic">discoverystring</span> ...][clean = {true | false}] [check = {true | false}] [confirm = {true | false}] [verbose = {true | false}] [keep_voting_files = {true | false}]</pre><ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">phase=</code> { <code class="codeph">one</code> | <code class="codeph">two</code> | <code class="codeph">both</code> }</p>
                        <p>指定要运行的阶段。允许的值为<code class="codeph">one</code> ， <code class="codeph">two</code>或<code class="codeph">both</code> 。这个参数是可选的。默认是<code class="codeph">both</code> 。
                        </p>
                        <p>通常，您将运行两个阶段。如果在第二阶段期间发生问题时，则可以重新运行阶段<code class="codeph">two</code>使用所生成的配置文件。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">dgname=</code> <span class="italic"><code class="codeph">diskgroup</code></span></p>
                        <p>指定要重命名的磁盘组的名称。</p>
                     </li>
                     <li>
                        <p><code class="codeph">newdgname=</code> <span class="italic"><code class="codeph">newdiskgroup</code></span></p>
                        <p>指定磁盘组的新名称。</p>
                     </li>
                     <li>
                        <p><code class="codeph">config=</code> <span class="italic"><code class="codeph">configfile</code></span></p>
                        <p>指定在第一阶段期间生成的配置文件的路径，或指定在第二阶段期间要使用的配置文件的路径。</p>
                        <p>这个参数是可选的。默认配置文件名为<code class="codeph">renamedg_config</code> ，位于运行命令的目录中。某些平台可能需要单引号。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">asm_diskstring=</code> <span class="italic"><code class="codeph">discoverystring</code></span> <code class="codeph">,</code> <span class="italic"><code class="codeph">discoverystring</code></span> ...
                        </p>
                        <p>指定Oracle ASM发现字符串。如果Oracle ASM磁盘不在平台的默认位置，则必须指定<code class="codeph">asm_diskstring</code>值。在某些平台上可能需要单引号，通常在指定通配符时。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">clean=</code> { <code class="codeph">true</code> | <code class="codeph">false</code></p>
                        <p>指定是否清除否则将被忽略的错误。默认值为<code class="codeph">true</code> 。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">check=</code> { <code class="codeph">true</code> | <code class="codeph">false</code></p>
                        <p>指定在第二阶段中使用的布尔值。如果为<code class="codeph">true</code> ，则该工具将打印要对磁盘进行的更改列表。没有发出任何写入。它是一个可选参数，默认为<code class="codeph">false</code> 。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">confirm=</code> { <code class="codeph">true</code> | <code class="codeph">false</code></p>
                        <p>指定在第二阶段中使用的布尔值。如果为<code class="codeph">false</code> ，则工具将打印要进行的更改，并在实际进行更改之前寻求确认。它是一个可选值，默认为<code class="codeph">false</code> 。如果check设置为<code class="codeph">true</code> ，则此参数的值是多余的。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">verbose=</code> { <code class="codeph">true</code> | <code class="codeph">false</code></p>
                        <p>指定verbose <code class="codeph">verbose=true</code>时的详细执行。默认值为<code class="codeph">false</code> 。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">keep_voting_files=</code> { <code class="codeph">true</code> | <code class="codeph">false</code></p>
                        <p>指定是否将投票文件保留在重命名的磁盘组中。默认值为<code class="codeph">false</code> ，删除重命名的磁盘组中的投票文件。
                        </p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-45A0F079-2D23-47D3-A366-569076D2F845__GUID-106C97C8-8C56-4DC2-BF06-6E5C6D2A01B4">
                     <p class="notep1">注意：</p>
                     <p><code class="codeph">renamedg</code>不会更新<a id="d39098e1530" class="indexterm-anchor"></a><a id="d39098e1534" class="indexterm-anchor"></a>资源， <code class="codeph">renamedg</code>也不更新数据库中的任何文件引用。由于这种行为的，原始磁盘组资源不会自动的阶段完成后删除<code class="codeph">two</code> 。可以使用Oracle Clusterware Control（CRSCTL） <code class="codeph">crsctl</code> <code class="codeph">stat</code> <code class="codeph">res</code> <code class="codeph">-t</code>命令检查旧磁盘组资源的状态，然后使用服务器控制实用程序（SRVCTL） <code class="codeph">srvctl</code> <code class="codeph">remove</code> <code class="codeph">diskgroup</code>命令手动删除旧磁盘组资源的状态。
                     </p>
                  </div>
                  <p><a href="maintain-diskgroups.html#GUID-45A0F079-2D23-47D3-A366-569076D2F845__CHDJICDB">例4-12</a>显示了使用<code class="codeph">renamedg</code>几个例子。第一个示例使用磁盘字符串将<code class="codeph">fra1</code>磁盘组重命名为<code class="codeph">fra2</code>以查找磁盘，并启用<code class="codeph">verbose</code>选项。第二个示例仅第一阶段完成期间创建配置文件<code class="codeph">one</code>所述的<code class="codeph">renamedg</code>操作。第三示例运行阶段<code class="codeph">two</code>所述的<code class="codeph">renamedg</code>使用从相位生成的配置文件操作<code class="codeph">one</code>的执行<code class="codeph">renamedg</code> 。
                  </p>
                  <p>重命名磁盘组后，可以重命名磁盘组中的磁盘以匹配新磁盘组名称。例如：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; ALTER DISKGROUP fra2 RENAME DISKS ALL;</pre><p>有关重命名磁盘的信息，请参阅<a href="alter-diskgroups.html#GUID-A2E82BE6-BE5E-42F8-8723-03DF5CD55D90">重命名磁盘组中的磁盘</a> 。
                  </p>
                  <div class="example" id="GUID-45A0F079-2D23-47D3-A366-569076D2F845__CHDJICDB">
                     <p class="titleinexample">例4-12使用renamedg</p><pre class="oac_no_warn" dir="ltr">$ renamedg dgname = fra1 newdgname = fra2 asm_diskstring ='/ devices / disk *'verbose = true $ renamedg phase = one dgname = fra1 newdgname = fra2 asm_diskstring ='/ devices / disk *'config = / tmp / fra2.conf verbose = true $ renamedg phase = two dgname = fra1 newdgname = fra2 config = / tmp / fra2.conf verbose = true</pre></div>
                  <!-- class="example" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>