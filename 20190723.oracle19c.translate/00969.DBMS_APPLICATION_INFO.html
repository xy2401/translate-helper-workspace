<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Application developers can use the DBMS_APPLICATION_INFO package with Oracle Trace and the SQL trace facility to record names of executing modules or transactions in the database for later use when tracking the performance of various modules and debugging."></meta>
      <meta name="description" content="Application developers can use the DBMS_APPLICATION_INFO package with Oracle Trace and the SQL trace facility to record names of executing modules or transactions in the database for later use when tracking the performance of various modules and debugging."></meta>
      <title>DBMS_APPLICATION_INFO</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="PL/SQL Packages and Types Reference"></meta>
      <meta property="og:description" content="Application developers can use the DBMS_APPLICATION_INFO package with Oracle Trace and the SQL trace facility to record names of executing modules or transactions in the database for later use when tracking the performance of various modules and debugging."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="PL/SQL Packages and Types Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-25T11:24:34-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96430-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="DBMS_APP_CONT.html" title="Previous" type="text/html"></link>
      <link rel="next" href="DBMS_APPLY_ADM.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference"></meta>
    <meta name="dcterms.isVersionOf" content="ARPLS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBMS_APP_CONT.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="DBMS_APPLY_ADM.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL / SQL包和类型参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">DBMS_APPLICATION_INFO</li>
            </ol>
            <a id="GUID-14484F86-44F2-4B34-B34E-0C873D323EAD" name="GUID-14484F86-44F2-4B34-B34E-0C873D323EAD"></a><a id="ARPLS003"></a><a id="ARPLS003"></a>
            
            <h2 id="ARPLS-GUID-14484F86-44F2-4B34-B34E-0C873D323EAD" class="sect2"><span class="enumeration_chapter">19</span> DBMS_APPLICATION_INFO</h2>
         </header>
         <div class="ind">
            <div>
               <p>应用程序开发人员可以将<code class="codeph">DBMS_APPLICATION_INFO</code>程序包与Oracle Trace和SQL跟踪工具一起使用，以记录数据库中正在执行的模块或事务的名称，以便以后在跟踪各种模块的性能和调试时使用。
               </p>
               <p>本章包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="DBMS_APPLICATION_INFO.html#GUID-64A4766A-8037-4AF8-BD28-ACBF4A532BE6" title="注册应用程序允许系统管理员和性能调整专家按模块跟踪性能。系统管理员还可以使用此信息来跟踪模块的资源使用情况。当应用程序向数据库注册时，其名称和操作将记录在V $ SESSION和V $ SQLAREA视图中。">概观</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_APPLICATION_INFO.html#GUID-F74AA120-C281-434C-BA6D-F83A7298520F" title="无需其他特权。DBMSAPIN.SQL脚本已作为标准数据库创建的一部分运行。">安全模型</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_APPLICATION_INFO.html#GUID-016B08AF-00D2-48DE-A180-472F55855A24" title="每次用户进入该模块时，您的应用程序都应自动设置模块名称和操作名称。模块名称可以是Oracle Forms应用程序中表单的名称，也可以是Oracle预编译器应用程序中代码段的名称。操作名称通常应该是模块中当前事务的名称或描述。">操作说明</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_APPLICATION_INFO.html#GUID-6F1765B9-B716-4A44-AFB7-7C2608E080A4" title="此表列出并描述了DBMS_APPLICATION_INFO包子程序。">DBMS_APPLICATION_INFO子程序摘要</a></p>
                  </li>
               </ul>
            </div><a id="ARPLS65226"></a><a id="ARPLS65226"></a><div class="props_rev_3"><a id="GUID-64A4766A-8037-4AF8-BD28-ACBF4A532BE6" name="GUID-64A4766A-8037-4AF8-BD28-ACBF4A532BE6"></a><h3 id="ARPLS-GUID-64A4766A-8037-4AF8-BD28-ACBF4A532BE6" class="sect3"><span class="enumeration_section">19.1</span> DBMS_APPLICATION_INFO概述</h3>
               <div>
                  <p>注册应用程序允许系统管理员和性能调整专家按模块跟踪性能。系统管理员还可以使用此信息来跟踪模块的资源使用情况。当应用程序向数据库注册时，其名称和操作将记录在<code class="codeph">V$SESSION</code>和<code class="codeph">V$SQLAREA</code>视图中。
                  </p>
               </div>
            </div><a id="ARPLS65227"></a><a id="ARPLS65227"></a><div class="props_rev_3"><a id="GUID-F74AA120-C281-434C-BA6D-F83A7298520F" name="GUID-F74AA120-C281-434C-BA6D-F83A7298520F"></a><h3 id="ARPLS-GUID-F74AA120-C281-434C-BA6D-F83A7298520F" class="sect3"><span class="enumeration_section">19.2</span> DBMS_APPLICATION_INFO安全模型</h3>
               <div>
                  <p>无需其他特权。<code class="codeph">DBMSAPIN.SQL</code>脚本已作为标准数据库创建的一部分运行。
                  </p>
                  <div class="section">
                     <div class="infoboxnote" id="GUID-F74AA120-C281-434C-BA6D-F83A7298520F__GUID-38775072-2215-4894-BA30-8A6621979BED">
                        <p class="notep1">注意：</p>
                        <p><code class="codeph">DBMS_APPLICATION_INFO</code>的公共同义词在创建之前不会被删除，因此您可以将公共同义词重定向到指向您自己的包。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS65228"></a><a id="ARPLS65228"></a><div class="props_rev_3"><a id="GUID-016B08AF-00D2-48DE-A180-472F55855A24" name="GUID-016B08AF-00D2-48DE-A180-472F55855A24"></a><h3 id="ARPLS-GUID-016B08AF-00D2-48DE-A180-472F55855A24" class="sect3"><span class="enumeration_section">19.3</span> DBMS_APPLICATION_INFO操作说明</h3>
               <div>
                  <p>每次用户进入该模块时，您的应用程序都应自动设置模块名称和操作名称。模块名称可以是Oracle Forms应用程序中表单的名称，也可以是Oracle预编译器应用程序中代码段的名称。操作名称通常应该是模块中当前事务的名称或描述。</p>
                  <div class="section">
                     <p>如果要基于模块收集自己的统计信息，可以通过在另一个模式中编写此软件包的版本来实现此软件包的包装，该模式首先收集统计信息，然后调用软件包的<code class="codeph">SYS</code>版本。然后可以将<code class="codeph">DBMS_APPLICATION_INFO</code>的公共同义词更改为指向DBA的软件包版本。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS65229"></a><a id="ARPLS65230"></a><a id="ARPLS65230"></a><a id="ARPLS65229"></a><div class="props_rev_3"><a id="GUID-6F1765B9-B716-4A44-AFB7-7C2608E080A4" name="GUID-6F1765B9-B716-4A44-AFB7-7C2608E080A4"></a><h3 id="ARPLS-GUID-6F1765B9-B716-4A44-AFB7-7C2608E080A4" class="sect3"><span class="enumeration_section">19.4</span> DBMS_APPLICATION_INFO子程序摘要</h3>
               <div>
                  <p>此表列出并描述了<code class="codeph">DBMS_APPLICATION_INFO</code>包子程序。
                  </p>
                  <div class="tblformal" id="GUID-6F1765B9-B716-4A44-AFB7-7C2608E080A4__GUID-ECF3E354-554A-4ECD-B292-2E72287E3A0F">
                     <p class="titleintable">表19-1 DBMS_APPLICATION_INFO包子程序</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_APPLICATION_INFO包子程序" width="100%" border="1" summary="This table lists and describes DBMS_APPLICATION_INFO Package Subprograms." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d88856e519">子程序</th>
                              <th align="left" valign="bottom" width="69%" id="d88856e522">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d88856e527" headers="d88856e519 ">
                                 <p><a href="DBMS_APPLICATION_INFO.html#GUID-8C08D61B-0DBB-4FAF-B21F-3AA31B07673B" title="此过程读取当前会话的client_info字段的值。">READ_CLIENT_INFO过程</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d88856e527 d88856e522 ">
                                 <p>读取当前会话的<code class="codeph">client_info</code>字段的值</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d88856e545" headers="d88856e519 ">
                                 <p><a href="DBMS_APPLICATION_INFO.html#GUID-BCF392B0-508E-4F99-9E22-BD88B7BC1525" title="此过程读取当前会话的模块和操作字段的值。">READ_MODULE过程</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d88856e545 d88856e522 ">
                                 <p>读取当前会话的模块和操作字段的值</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d88856e557" headers="d88856e519 ">
                                 <p><a href="DBMS_APPLICATION_INFO.html#GUID-90DA860F-BFBE-4539-BA00-2279B02B8F26" title="此过程设置当前模块中当前操作的名称。">SET_ACTION过程</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d88856e557 d88856e522 ">
                                 <p>设置当前模块中当前操作的名称</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d88856e569" headers="d88856e519 ">
                                 <p><a href="DBMS_APPLICATION_INFO.html#GUID-68A3DF04-BE91-46CC-8D2B-97BA0E89956F" title="此过程提供有关客户端应用程序的其他信息。">SET_CLIENT_INFO过程</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d88856e569 d88856e522 ">
                                 <p>设置会话的<code class="codeph">client_info</code>字段</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d88856e584" headers="d88856e519 ">
                                 <p><a href="DBMS_APPLICATION_INFO.html#GUID-B2E2BD20-D91D-40DB-A3F6-37A853384F30" title="此过程设置当前应用程序或模块的名称。">SET_MODULE过程</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d88856e584 d88856e522 ">
                                 <p>设置当前正在运行到新模块的模块的名称</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d88856e596" headers="d88856e519 ">
                                 <p><a href="DBMS_APPLICATION_INFO.html#GUID-A5E0BCFA-229C-4EA7-BDE7-E926A4ED530C" title="此过程在V $ SESSION_LONGOPS视图中设置一行。这是一个用于指示长时间运行操作的持续进度的视图。某些Oracle功能（例如并行执行和服务器管理恢复）使用此视图中的行来指示（例如）数据库备份的状态。">SET_SESSION_LONGOPS过程</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d88856e596 d88856e522 ">
                                 <p>在<code class="codeph">V$SESSION_LONGOPS</code>表中设置一行</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="ARPLS65231"></a><a id="ARPLS65232"></a><a id="ARPLS65232"></a><a id="ARPLS65231"></a><div class="props_rev_3"><a id="GUID-8C08D61B-0DBB-4FAF-B21F-3AA31B07673B" name="GUID-8C08D61B-0DBB-4FAF-B21F-3AA31B07673B"></a><h4 id="ARPLS-GUID-8C08D61B-0DBB-4FAF-B21F-3AA31B07673B" class="sect4"><span class="enumeration_section">19.4.1</span> READ_CLIENT_INFO过程</h4>
                  <div>
                     <p>此过程读取当前会话的<code class="codeph">client_info</code>字段的值。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-8C08D61B-0DBB-4FAF-B21F-3AA31B07673B__GUID-EC68456D-7DF5-4FF2-8F8A-E80E38ED4856">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_APPLICATION_INFO.READ_CLIENT_INFO（client_info OUT VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8C08D61B-0DBB-4FAF-B21F-3AA31B07673B__GUID-F2E22339-908B-4BCF-B95D-3D011C5C644A">参数</p>
                        <div class="tblformal" id="GUID-8C08D61B-0DBB-4FAF-B21F-3AA31B07673B__GUID-F73FB3D6-6CCA-47D8-A5AD-71CFA6923C13">
                           <p class="titleintable">表19-2 <span class="italic"><span class="bold">READ_CLIENT_INFO过程参数</span></span></p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="READ_CLIENT_INFO过程参数" width="100%" border="1" summary="RAD_CLIENT_INFO parameters" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d88856e728">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d88856e731">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d88856e736" headers="d88856e728 ">
                                       <p><code class="codeph">CLIENT_INFO</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d88856e736 d88856e731 ">
                                       <p>提供给<code class="codeph">SET_CLIENT_INFO</code>过程的最后一个客户端信息值。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS65233"></a><a id="ARPLS65234"></a><a id="ARPLS65234"></a><a id="ARPLS65233"></a><div class="props_rev_3"><a id="GUID-BCF392B0-508E-4F99-9E22-BD88B7BC1525" name="GUID-BCF392B0-508E-4F99-9E22-BD88B7BC1525"></a><h4 id="ARPLS-GUID-BCF392B0-508E-4F99-9E22-BD88B7BC1525" class="sect4"><span class="enumeration_section">19.4.2</span> READ_MODULE过程</h4>
                  <div>
                     <p>此过程读取当前会话的模块和操作字段的值。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-BCF392B0-508E-4F99-9E22-BD88B7BC1525__GUID-D2B522C8-97F4-4128-B21D-581279A75319">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_APPLICATION_INFO.READ_MODULE（module_name OUT VARCHAR2，action_name OUT VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BCF392B0-508E-4F99-9E22-BD88B7BC1525__GUID-9BE04B30-3716-429B-AB36-6F29843CD4C0">参数</p>
                        <div class="tblformal" id="GUID-BCF392B0-508E-4F99-9E22-BD88B7BC1525__GUID-B0A26647-EDA7-4358-AAB0-F6FDC222359D">
                           <p class="titleintable">表19-3 READ_MODULE过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="READ_MODULE过程参数" width="100%" border="1" summary="READ_MODULE procedure parameters" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d88856e857">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d88856e860">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d88856e865" headers="d88856e857 ">
                                       <p><code class="codeph">MODULE_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d88856e865 d88856e860 ">
                                       <p>通过调用<code class="codeph">SET_MODULE</code>将模块名称设置为的最后一个值。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d88856e876" headers="d88856e857 ">
                                       <p><code class="codeph">ACTION_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d88856e876 d88856e860 ">
                                       <p>通过调用<code class="codeph">SET_ACTION</code>或<code class="codeph">SET_MODULE</code>设置操作名称的最后一个值。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BCF392B0-508E-4F99-9E22-BD88B7BC1525__GUID-22E57B6D-6FEB-4399-8884-7E1E9FD3BC36">使用说明</p>
                        <p>可以通过查询<code class="codeph">V$SQLAREA</code>或调用<code class="codeph">READ_MODULE</code>过程来检索已注册应用程序的模块和操作名称。可以通过查询<code class="codeph">V$SESSION</code>视图或调用<a href="DBMS_APPLICATION_INFO.html#GUID-8C08D61B-0DBB-4FAF-B21F-3AA31B07673B" title="此过程读取当前会话的client_info字段的值。">READ_CLIENT_INFO过程</a>来检索客户端信息。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BCF392B0-508E-4F99-9E22-BD88B7BC1525__GUID-9DDB0918-E0B3-4399-ABB5-233D8BCB0917">例子</p>
                        <p>以下示例查询说明了使用<code class="codeph">V$SQLAREA</code>的<code class="codeph">MODULE</code>和<code class="codeph">ACTION</code>列。</p><pre class="oac_no_warn" dir="ltr">SELECT sql_text，disk_reads，module，action FROM v $ sqlarea WHERE module ='add_employee'; SQL_TEXT DISK_READS MODULE ACTION ------------------- ---------- ----------------- -  ---------------- INSERT INTO emp 1 add_employee insert into emp（ename，empno，sal，mgr，job，hiredate，comm，deptno）VALUES（name，next.emp_seq，经理，职称，SYSDATE，委员会，部门）选择1排。</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS65235"></a><a id="ARPLS65236"></a><a id="ARPLS65236"></a><a id="ARPLS65235"></a><div class="props_rev_3"><a id="GUID-90DA860F-BFBE-4539-BA00-2279B02B8F26" name="GUID-90DA860F-BFBE-4539-BA00-2279B02B8F26"></a><h4 id="ARPLS-GUID-90DA860F-BFBE-4539-BA00-2279B02B8F26" class="sect4"><span class="enumeration_section">19.4.3</span> SET_ACTION过程</h4>
                  <div>
                     <p>此过程设置当前模块中当前操作的名称。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-90DA860F-BFBE-4539-BA00-2279B02B8F26__GUID-5B9129DD-9D60-445B-A693-6E73DC23F5FE">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_APPLICATION_INFO.SET_ACTION（action_name IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-90DA860F-BFBE-4539-BA00-2279B02B8F26__GUID-5F3F4C2A-C53B-47BA-BD36-698C3116A269">参数</p>
                        <div class="tblformal" id="GUID-90DA860F-BFBE-4539-BA00-2279B02B8F26__GUID-4F10B853-589D-4BE0-92F0-F1E07B5B8BF2">
                           <p class="titleintable">表19-4 SET_ACTION过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SET_ACTION过程参数" width="100%" border="1" summary="SET_ACTION procedure parameters" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d88856e1039">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d88856e1042">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d88856e1047" headers="d88856e1039 ">
                                       <p><code class="codeph">ACTION_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d88856e1047 d88856e1042 ">
                                       <p>当前模块中当前操作的名称。当前操作终止时，如果有下一个操作的名称，则调用此过程，如果没有，则调用<code class="codeph">NULL</code> 。超过32个字节的名称将被截断。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-90DA860F-BFBE-4539-BA00-2279B02B8F26__GUID-B502FA03-62F7-4AA9-8C47-6A662196EBB6">使用说明</p>
                        <p>操作名称应该是有关当前正在执行的操作的描述性文本。您应该在每个事务开始之前设置操作名称。</p>
                        <p>在事务完成后将事务名称设置为<code class="codeph">NULL</code> ，以便正确记录后续事务。如果未将事务名称设置为<code class="codeph">NULL</code> ，则可以使用先前事务的名称记录后续事务。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-90DA860F-BFBE-4539-BA00-2279B02B8F26__GUID-834C1AEF-F496-4BAB-840B-DFD42A0C0B9D">例</p>
                        <p>以下是使用注册过程的事务示例：</p><pre class="oac_no_warn" dir="ltr">创建或替换程序bal_tran（amt IN NUMBER（7,2））AS BEGIN  - 余额转移交易DBMS_APPLICATION_INFO.SET_ACTION（action_name =&gt;'从chk转移到sav'）; UPDATE chk SET bal = bal +：amt WHERE acct＃=：acct; UPDATE sav SET bal = bal  - ：amt WHERE acct＃=：acct;承诺; DBMS_APPLICATION_INFO.SET_ACTION（NULL）;结束;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS65237"></a><a id="ARPLS65238"></a><a id="ARPLS65238"></a><a id="ARPLS65237"></a><div class="props_rev_3"><a id="GUID-68A3DF04-BE91-46CC-8D2B-97BA0E89956F" name="GUID-68A3DF04-BE91-46CC-8D2B-97BA0E89956F"></a><h4 id="ARPLS-GUID-68A3DF04-BE91-46CC-8D2B-97BA0E89956F" class="sect4"><span class="enumeration_section">19.4.4</span> SET_CLIENT_INFO过程</h4>
                  <div>
                     <p>此过程提供有关客户端应用程序的其他信息。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-68A3DF04-BE91-46CC-8D2B-97BA0E89956F__GUID-CAAAAFA3-9D33-4E3E-9B63-8B94EC13B2AD">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_APPLICATION_INFO.SET_CLIENT_INFO（client_info IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-68A3DF04-BE91-46CC-8D2B-97BA0E89956F__GUID-D7AE2621-9489-43F1-AB1B-BE195DC32EDF">参数</p>
                        <div class="tblformal" id="GUID-68A3DF04-BE91-46CC-8D2B-97BA0E89956F__GUID-F5D15140-439E-4F94-A790-6CA5AA26F03B">
                           <p class="titleintable">表19-5 SET_CLIENT_INFO过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SET_CLIENT_INFO过程参数" width="100%" border="1" summary="SET_CLIENT_INFO procedure parameters" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d88856e1187">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d88856e1190">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d88856e1195" headers="d88856e1187 ">
                                       <p><code class="codeph">CLIENT_INFO</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d88856e1195 d88856e1190 ">
                                       <p>提供有关客户端应用程序的任何其他信息此信息存储在<code class="codeph">V$SESSION</code>视图中。超过64字节的信息被截断。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="infoboxnote" id="GUID-68A3DF04-BE91-46CC-8D2B-97BA0E89956F__GUID-6AD3865A-08D4-48AA-A951-08C1B298D692">
                           <p class="notep1">注意：</p>
                           <p><code class="codeph">CLIENT_INFO</code>是任何用户<code class="codeph">CLIENT_INFO</code>读写的。要存储安全的应用程序属性，可以使用应用程序上下文功能。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS65239"></a><a id="ARPLS65240"></a><a id="ARPLS65240"></a><a id="ARPLS65239"></a><div class="props_rev_3"><a id="GUID-B2E2BD20-D91D-40DB-A3F6-37A853384F30" name="GUID-B2E2BD20-D91D-40DB-A3F6-37A853384F30"></a><h4 id="ARPLS-GUID-B2E2BD20-D91D-40DB-A3F6-37A853384F30" class="sect4"><span class="enumeration_section">19.4.5</span> SET_MODULE过程</h4>
                  <div>
                     <p>此过程设置当前应用程序或模块的名称。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-B2E2BD20-D91D-40DB-A3F6-37A853384F30__GUID-D5BEB745-A534-489B-901E-B18A23C67B81">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_APPLICATION_INFO.SET_MODULE（module_name IN VARCHAR2，action_name IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B2E2BD20-D91D-40DB-A3F6-37A853384F30__GUID-97EEAA8D-B843-4F47-B836-C3F9948A7DF3">参数</p>
                        <div class="tblformal" id="GUID-B2E2BD20-D91D-40DB-A3F6-37A853384F30__GUID-D71000CD-C577-493D-81A6-EBD851C35E52">
                           <p class="titleintable">表19-6 SET_MODULE过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SET_MODULE过程参数" width="100%" border="1" summary="SET_MODULE procedure parameters" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d88856e1321">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d88856e1324">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d88856e1329" headers="d88856e1321 ">
                                       <p><code class="codeph">MODULE_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d88856e1329 d88856e1324 ">
                                       <p>当前正在运行的模块的名称。当前模块终止时，如果有新模块的名称，则调用此过程，如果没有，则调用<code class="codeph">NULL</code> 。超过48个字节的名称将被截断。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d88856e1340" headers="d88856e1321 ">
                                       <p><code class="codeph">ACTION_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d88856e1340 d88856e1324 ">
                                       <p>当前模块中当前操作的名称。如果您不想指定操作，则此值应为<code class="codeph">NULL</code> 。超过32个字节的名称将被截断。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B2E2BD20-D91D-40DB-A3F6-37A853384F30__GUID-A0D0B4BA-54EE-414E-8B4A-7F078A098B6F">使用说明</p>
                        <p></p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B2E2BD20-D91D-40DB-A3F6-37A853384F30__GUID-21C030C5-AFB6-49F7-B96F-8CCA06CE8D2F">例</p><pre class="oac_no_warn" dir="ltr">创建或替换PROCEDURE add_employee（名称VARCHAR2，工资NUMBER，经理NUMBER，标题VARCHAR2，佣金编号，部门编号）AS BEGIN DBMS_APPLICATION_INFO.SET_MODULE（module_name =&gt;'add_employee'，action_name =&gt;'insert into emp'）; INSERT INTO emp（ename，empno，sal，mgr，job，hiredate，comm，deptno）VALUES（name，emp_seq.nextval，salary，manager，title，SYSDATE，commission，department）; DBMS_APPLICATION_INFO.SET_MODULE（NULL，NULL）;结束;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS65241"></a><a id="ARPLS65242"></a><a id="ARPLS65242"></a><a id="ARPLS65241"></a><div class="props_rev_3"><a id="GUID-A5E0BCFA-229C-4EA7-BDE7-E926A4ED530C" name="GUID-A5E0BCFA-229C-4EA7-BDE7-E926A4ED530C"></a><h4 id="ARPLS-GUID-A5E0BCFA-229C-4EA7-BDE7-E926A4ED530C" class="sect4"><span class="enumeration_section">19.4.6</span> SET_SESSION_LONGOPS过程</h4>
                  <div>
                     <p>此过程在<code class="codeph">V$SESSION_LONGOPS</code>视图中设置一行。这是一个用于指示长时间运行操作的持续进度的视图。某些Oracle功能（例如并行执行和服务器管理恢复）使用此视图中的行来指示（例如）数据库备份的状态。
                     </p>
                     <div class="section">
                        <p>应用程序可以使用<code class="codeph">SET_SESSION_LONGOPS</code>过程来通告有关应用程序特定长时间运行任务的进度的信息，以便可以通过<code class="codeph">V$SESSION_LONGOPS</code>视图监视进度。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A5E0BCFA-229C-4EA7-BDE7-E926A4ED530C__GUID-B6D7B2C5-04DC-4C98-B2DF-BD7C6E3C4F2D">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_APPLICATION_INFO.SET_SESSION_LONGOPS（rindex IN OUT BINARY_INTEGER，slno IN OUT BINARY_INTEGER，op_name IN VARCHAR2 DEFAULT NULL，target IN BINARY_INTEGER DEFAULT 0，context IN BINARY_INTEGER DEFAULT 0，sofar IN NUMBER DEFAULT 0，totalwork IN NUMBER DEFAULT 0，target_desc IN VARCHAR2 DEFAULT'unknown target'，units IN VARCHAR2 DEFAULT NULL）set_session_longops_nohint constant BINARY_INTEGER：= -1;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A5E0BCFA-229C-4EA7-BDE7-E926A4ED530C__GUID-27E23AEE-E2DC-4AF5-A1E4-0C894EB0AE9D">参数</p>
                        <div class="tblformal" id="GUID-A5E0BCFA-229C-4EA7-BDE7-E926A4ED530C__GUID-C4D179BC-12A6-4238-889A-43E14B44B5B3">
                           <p class="titleintable">表19-7 SET_SESSION_LONGOPS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SET_SESSION_LONGOPS过程参数" width="100%" border="1" summary="SET_SESSION_LONGOPS procedure parameters" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d88856e1481">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d88856e1484">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d88856e1489" headers="d88856e1481 ">
                                       <p><code class="codeph">RINDEX</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d88856e1489 d88856e1484 ">
                                       <p>表示要更新的<code class="codeph">v$session_longops</code>行的标记。将其设置为<code class="codeph">set_session_longops_nohint</code>以开始新行。使用先前调用中返回的值来重用行。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d88856e1503" headers="d88856e1481 ">
                                       <p><code class="codeph">slno</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d88856e1503 d88856e1484 ">
                                       <p>在调用<code class="codeph">set_session_longops</code>保存信息：它供内部使用，不应由调用者修改。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d88856e1514" headers="d88856e1481 ">
                                       <p><code class="codeph">op_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d88856e1514 d88856e1484 ">
                                       <p>指定长时间运行的任务的名称。它显示为<code class="codeph">v$session_longops</code>的<code class="codeph">OPNAME</code>列。最大长度为64个字节。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d88856e1528" headers="d88856e1481 ">
                                       <p><code class="codeph">目标</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d88856e1528 d88856e1484 ">
                                       <p>指定在长时间运行的操作期间正在处理的对象。例如，它可以是正在排序的表ID。它显示为<code class="codeph">v$session_longops</code>的<code class="codeph">TARGET</code>列。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d88856e1542" headers="d88856e1481 ">
                                       <p><code class="codeph">上下文</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d88856e1542 d88856e1484 ">
                                       <p>客户想要存储的任何数字。它出现在<code class="codeph">v$session_longops</code>的<code class="codeph">CONTEXT</code>列中。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d88856e1556" headers="d88856e1481 ">
                                       <p><code class="codeph">至今</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d88856e1556 d88856e1484 ">
                                       <p>客户想要存储的任何数字。它出现在<code class="codeph">v$session_longops</code>的<code class="codeph">SOFAR</code>列中。这通常是到目前为止已完成的工作量。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d88856e1570" headers="d88856e1481 ">
                                       <p><code class="codeph">TOTALWORK</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d88856e1570 d88856e1484 ">
                                       <p>客户想要存储的任何数字。它出现在<code class="codeph">v$session_longops</code>的<code class="codeph">TOTALWORK</code>列中。这通常是对在这个长时间运行的操作中需要完成的工作总量的估计。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d88856e1584" headers="d88856e1481 ">
                                       <p><code class="codeph">target_desc</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d88856e1584 d88856e1484 ">
                                       <p>指定在此长操作中要操作的对象的描述。这为<code class="codeph">target</code>参数提供了标题。该值显示在<code class="codeph">v$session_longops</code>的<code class="codeph">TARGET_DESC</code>字段中。最大长度为32个字节。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d88856e1601" headers="d88856e1481 ">
                                       <p><code class="codeph">单位</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d88856e1601 d88856e1484 ">
                                       <p>指定表示<code class="codeph">sofar</code>和<code class="codeph">totalwork</code>的单位。它显示为<code class="codeph">v$session_longops</code>的<code class="codeph">UNITS</code>字段。最大长度为32个字节。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A5E0BCFA-229C-4EA7-BDE7-E926A4ED530C__GUID-09A21BBC-5768-4D90-BB6D-1DD58CA3E2E9">例</p>
                        <p>此示例在循环中对10个对象执行任务。当示例完成每个对象时，Oracle会更新程序进度的<code class="codeph">V$SESSION_LONGOPS</code> 。
                        </p><pre class="oac_no_warn" dir="ltr">DECLARE rindex BINARY_INTEGER; slno BINARY_INTEGER;工作总数;数字; obj BINARY_INTEGER; BEGIN rindex：= dbms_application_info.set_session_longops_nohint; sofar：= 0;总工作：= 10;当sofar &lt;10 LOOP  - 基于sofar更新obj  - 在对象目标sofar上执行任务：= sofar + 1; dbms_application_info.set_session_longops（rindex，slno，“Operation X”，obj，0，sofar，totalwork，“table”，“tables”）;结束循环;结束;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>