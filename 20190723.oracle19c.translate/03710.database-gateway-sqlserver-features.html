<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>SQL Server网关功能和限制</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="User&#39;s Guide "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="User&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-gateway-sql-server-users-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-16T16:34:56-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2002, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="F18235-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="database-gateway-sqlserver-introduction.html" title="Previous" type="text/html"></link>
      <link rel="next" href="database-gateway-sqlserver-case-studies.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Gateway for SQL Server User&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="GMSWN"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="database-gateway-sqlserver-introduction.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="database-gateway-sqlserver-case-studies.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">用户指导</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">SQL Server网关功能和限制</li>
            </ol>
            <a id="GUID-7715EE2E-35B9-4B04-90F3-28A85476E638" name="GUID-7715EE2E-35B9-4B04-90F3-28A85476E638"></a><a id="GMSWN200"></a>
            
            <h2 id="GMSWN-GUID-7715EE2E-35B9-4B04-90F3-28A85476E638" class="sect2"><span class="enumeration_chapter">2</span> SQL Server网关功能和限制</h2>
         </header>
         <div class="ind">
            <div>
               <p>安装和配置网关后，您可以使用网关访问SQL Server数据，将SQL Server命令从应用程序传递到SQL Server数据库，执行分布式查询和复制数据。</p>
               <p>话题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="database-gateway-sqlserver-features.html#GUID-513FBA3C-3458-4129-93E4-38DB2DF97F7A" title="远程插入行源功能允许远程插入，要求本地Oracle数据通过Oracle数据库和Oracle数据库网关工作。此功能要求Oracle数据库和Oracle Database Gateway为12.2或更高版本。">远程插入Rowsource</a></p>
                  </li>
                  <li>
                     <p><a href="database-gateway-sqlserver-features.html#GUID-E55550F8-3B89-46FA-9730-B0396DCA6956">使用传递功能</a></p>
                  </li>
                  <li>
                     <p><a href="database-gateway-sqlserver-features.html#GUID-D394102E-9035-48DD-A9C8-8DD7834D86BF">执行存储过程和函数</a></p>
                  </li>
                  <li>
                     <p><a href="database-gateway-sqlserver-features.html#GUID-969B7793-3140-487D-87A9-1336A4E20258">CHAR语义学</a></p>
                  </li>
                  <li>
                     <p><a href="database-gateway-sqlserver-features.html#GUID-7D22F29E-9416-415D-90C3-1F5787879FAD">多字节字符集比率抑制</a></p>
                  </li>
                  <li>
                     <p><a href="database-gateway-sqlserver-features.html#GUID-96FDFC55-2416-42C6-8851-86FD5C820FC5">IPv6支持</a></p>
                  </li>
                  <li>
                     <p><a href="database-gateway-sqlserver-features.html#GUID-BA9B52F3-D059-489D-A768-27578D7565AE">远程用户定义的功能支持</a></p>
                  </li>
                  <li>
                     <p><a href="database-gateway-sqlserver-features.html#GUID-1A1F4369-423E-4602-A61C-D0C393A5DBDA">SQL Server的数据库兼容性问题</a></p>
                  </li>
                  <li>
                     <p><a href="database-gateway-sqlserver-features.html#GUID-DC125F0F-0957-4A58-805A-9848DC66F627">已知的限制</a></p>
                  </li>
                  <li>
                     <p><a href="database-gateway-sqlserver-features.html#GUID-D6FB014B-53E0-41A4-B163-0FBB469151DB">已知问题</a></p>
                  </li>
               </ul>
            </div>
            <div class="sect2"><a id="GUID-513FBA3C-3458-4129-93E4-38DB2DF97F7A" name="GUID-513FBA3C-3458-4129-93E4-38DB2DF97F7A"></a><h3 id="GMSWN-GUID-513FBA3C-3458-4129-93E4-38DB2DF97F7A" class="sect3">远程插入Rowsource</h3>
               <div>
                  <p>远程插入行源功能允许远程插入，要求本地Oracle数据通过Oracle数据库和Oracle数据库网关工作。此功能要求Oracle数据库和Oracle Database Gateway为12.2或更高版本。</p>
                  <p>通过Oracle数据库设计，必须在数据库链接站点执行某些分布式语句。但在某些情况下，执行这些查询所需的数据必须从原始Oracle数据库中获取。在同构连接下，远程Oracle数据库将回调源Oracle数据库以获取此类数据。但是在异构连接中，这是不可行的，因为这意味着外部数据存储必须查询只能由发出查询的Oracle实例提供的回调函数或数据。通常，这些类型的语句不能通过Oracle数据库网关支持。</p>
                  <p>以下类别的SQL语句会导致回调：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>任何带有子选择的DML，它指的是Oracle数据库中的一个表。</p>
                     </li>
                     <li>
                        <p>任何<code class="codeph">DELETE</code> ， <code class="codeph">INSERT</code> ， <code class="codeph">UPDATE</code>或“ <code class="codeph">SELECT...FOR UPDATE..."</code>包含需要在原始Oracle数据库中执行的SQL函数或语句的SQL语句。
                        </p>
                        <p>这些SQL函数包括<code class="codeph">USER</code> ， <code class="codeph">USERENV</code>和<code class="codeph">SYSDATE</code> ;并涉及从原始Oracle数据库中选择数据。
                        </p>
                     </li>
                     <li>
                        <p>任何涉及Oracle数据库中的表以及远程表中的<code class="codeph">LONG</code>或<code class="codeph">LOB</code>列的SQL语句。
                        </p>
                     </li>
                  </ul>
                  <p>可以通过远程插入行源功能工作的远程<code class="codeph">INSERT</code>语句的示例如下：</p><pre class="oac_no_warn" dir="ltr">INSERT INTO <span class="italic">gateway_table</span> @gateway_link select * from <span class="italic">local_table</span> ;</pre></div>
            </div><a id="GMSWN704"></a><div class="props_rev_3"><a id="GUID-E55550F8-3B89-46FA-9730-B0396DCA6956" name="GUID-E55550F8-3B89-46FA-9730-B0396DCA6956"></a><h3 id="GMSWN-GUID-E55550F8-3B89-46FA-9730-B0396DCA6956" class="sect3">使用传递功能</h3>
               <div>
                  <div class="section">
                     <p>网关可以使用<code class="codeph">DBMS_HS_PASSTHROUGH</code>包将SQL Server命令或语句从应用程序传递到SQL Server数据库。
                     </p>
                     <p>使用PL / SQL块中的<code class="codeph">DBMS_HS_PASSTHROUGH</code>包指定要传递给SQL Server数据库的语句，如下所示：</p><pre class="oac_no_warn" dir="ltr">DECLARE num_rows INTEGER; BEGIN num_rows：= DBMS_HS_PASSTHROUGH.EXECUTE_IMMEDIATE@MSQL（' <span class="italic">command</span> '）;结束; /</pre><p>其中<span class="italic">command</span>不能是以下之一：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">BEGIN</code> <code class="codeph">TRANSACTION</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">承诺</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ROLLBACK</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">保存</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">关掉</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">发布</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">SAVEPOINT</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">CONNECT</code></p>
                        </li>
                        <li>
                           <p>SQL Server工具命令</p>
                        </li>
                     </ul>
                     <p><code class="codeph">DBMS_HS_PASSTHROUGH</code>包支持传递绑定值和执行SELECT语句。
                     </p>
                     <div class="infoboxnote" id="GUID-E55550F8-3B89-46FA-9730-B0396DCA6956__GUID-F5B9556E-5470-4A9D-80C5-0678524AF65A">
                        <p class="notep1">注意：</p>
                        <p>TRUNCATE不能用于传递语句。</p>
                     </div>
                     <p></p>
                     <div class="infoboxnotealso" id="GUID-E55550F8-3B89-46FA-9730-B0396DCA6956__GUID-3789DB51-18EC-4B0A-B4C2-4CEE24F8E59C">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../arpls/DBMS_HS_PASSTHROUGH.html#ARPLS017" target="_blank"><span class="italic">Oracle数据库PL / SQL包和类型参考</span></a>和<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/gmswn&amp;id=HETER003" target="_blank">第3章，Oracle数据库网关的功能，</a> <span class="italic">Oracle数据库异构连接用户指南</span> ，以获取有关<code class="codeph">DBMS_HS_PASSTHROUGH</code>包的更多信息。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="GMSWN705"></a><div class="props_rev_3"><a id="GUID-D394102E-9035-48DD-A9C8-8DD7834D86BF" name="GUID-D394102E-9035-48DD-A9C8-8DD7834D86BF"></a><h3 id="GMSWN-GUID-D394102E-9035-48DD-A9C8-8DD7834D86BF" class="sect3">执行存储过程和函数</h3>
               <div>
                  <div class="section">
                     <p>使用过程功能，网关可以执行SQL Server数据库中定义的存储过程。没有必要重新链接网关或定义到网关的过程，但过程的访问权限必须允许用户访问网关登录为。</p>
                     <p>标准PL / SQL语句用于执行存储过程。</p>
                     <p>网关支持三种互斥模式的存储过程：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p>普通模式：只能访问<code class="codeph">IN</code> / <code class="codeph">OUT</code>参数</p>
                        </li>
                        <li>
                           <p>返回值模式：具有所有存储过程的返回值</p>
                        </li>
                        <li>
                           <p>结果集模式：输出值可用作最后结果集</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="GMSWN835"></a><div class="props_rev_3"><a id="GUID-969B7793-3140-487D-87A9-1336A4E20258" name="GUID-969B7793-3140-487D-87A9-1336A4E20258"></a><h3 id="GMSWN-GUID-969B7793-3140-487D-87A9-1336A4E20258" class="sect3">CHAR语义学</h3>
               <div>
                  <p>此功能允许网关可选地在<code class="codeph">CHAR</code>语义模式下运行。此功能不是始终将SQL Server <code class="codeph">CHAR</code>列描述为<code class="codeph">CHAR(n BYTE)</code> ，而是将它们描述为<code class="codeph">CHAR(n CHAR)</code>和<code class="codeph">VARCHAR(n CHAR)</code> 。该概念类似于Oracle数据库<code class="codeph">CHAR</code> Semantics。您需要指定<code class="codeph">HS_NLS_LENGTH_SEMANTICS=CHAR</code>网关参数以激活此选项。有关更多详细信息，请参阅<a href="database-gateway-sqlserver-initialization-parameters.html#GUID-5ECAD5A1-02FF-40F3-AD39-AB2DFB9C9FCB">初始化参数</a> 。
                  </p>
               </div>
            </div><a id="GMSWN836"></a><div class="props_rev_3"><a id="GUID-7D22F29E-9416-415D-90C3-1F5787879FAD" name="GUID-7D22F29E-9416-415D-90C3-1F5787879FAD"></a><h3 id="GMSWN-GUID-7D22F29E-9416-415D-90C3-1F5787879FAD" class="sect3">多字节字符集比率抑制</h3>
               <div>
                  <p>此功能可选地抑制从SQL Server数据库到涉及多字节字符集的Oracle数据库的比率扩展。默认情况下，Oracle网关采用最差的比率来防止数据被截断或缓冲区大小不足。但是，如果您具有SQL Server数据库的特定知识并且不希望进行扩展，则可以指定<code class="codeph">HS_KEEP_REMOTE_COLUMN_SIZE</code>参数以禁止扩展。有关更多详细信息，请参阅<a href="database-gateway-sqlserver-initialization-parameters.html#GUID-5ECAD5A1-02FF-40F3-AD39-AB2DFB9C9FCB">初始化参数</a> 。
                  </p>
               </div>
            </div><a id="GMSWN837"></a><div class="props_rev_3"><a id="GUID-96FDFC55-2416-42C6-8851-86FD5C820FC5" name="GUID-96FDFC55-2416-42C6-8851-86FD5C820FC5"></a><h3 id="GMSWN-GUID-96FDFC55-2416-42C6-8851-86FD5C820FC5" class="sect3">IPv6支持</h3>
               <div>
                  <p>除了Oracle数据库和网关之间的完全IPv6支持外，此网关和SQL Server数据库之间也支持IPv6。有关更多详细信息，请参阅<a href="database-gateway-sqlserver-initialization-parameters.html#GUID-5ECAD5A1-02FF-40F3-AD39-AB2DFB9C9FCB">初始化参数中</a>的<code class="codeph">HS_FDS_CONNECT_INFO</code>参数。
                  </p>
               </div>
            </div><a id="GMSWN880"></a><div class="props_rev_3"><a id="GUID-CF96FE3D-C124-4F36-8198-047285443019" name="GUID-CF96FE3D-C124-4F36-8198-047285443019"></a><h3 id="GMSWN-GUID-CF96FE3D-C124-4F36-8198-047285443019" class="sect3">网关会话IDLE超时</h3>
               <div>
                  <p>您可以选择使用网关参数<code class="codeph">HS_IDLE_TIMEOUT</code>自动终止长空闲网关会话。具体来说，当网关会话空闲超过指定的时间限制时，网关会话将终止，并回滚任何挂起的更新。有关更多详细信息，请参阅<a href="database-gateway-sqlserver-initialization-parameters.html#GUID-5ECAD5A1-02FF-40F3-AD39-AB2DFB9C9FCB">初始化参数中</a>的<code class="codeph">HS_IDLE_TIMEOUT</code>参数。
                  </p>
               </div>
            </div><a id="GMSWN706"></a><div class="props_rev_3"><a id="GUID-BA9B52F3-D059-489D-A768-27578D7565AE" name="GUID-BA9B52F3-D059-489D-A768-27578D7565AE"></a><h3 id="GMSWN-GUID-BA9B52F3-D059-489D-A768-27578D7565AE" class="sect3">远程用户定义的功能支持</h3>
               <div>
                  <p>远程非Oracle数据库中的用户定义函数可用于SQL语句。</p>
                  <div class="infoboxnotealso" id="GUID-BA9B52F3-D059-489D-A768-27578D7565AE__GUID-B8727611-B712-400D-8C6E-6C04F644F011">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/gmswn&amp;id=HETER4108" target="_blank"><span class="italic">Oracle数据库异构连接用户指南</span></a> ，了解有关在非Oracle数据库上执行用户定义函数的更多信息。
                     </p>
                  </div>
               </div><a id="GMSWN707"></a><div class="props_rev_3"><a id="GUID-79C600CE-197A-4F50-A57F-C4F7268BFF52" name="GUID-79C600CE-197A-4F50-A57F-C4F7268BFF52"></a><h4 id="GMSWN-GUID-79C600CE-197A-4F50-A57F-C4F7268BFF52" class="sect4">返回值和存储过程</h4>
                  <div>
                     <div class="section">
                        <p>默认情况下，所有存储过程和函数都不会向用户返回返回值。要启用返回值，请将<code class="codeph">HS_FDS_PROC_IS_FUNC</code>参数值设置为<code class="codeph">TRUE</code> 。</p>
                        <div class="infoboxnotealso" id="GUID-79C600CE-197A-4F50-A57F-C4F7268BFF52__GUID-5F7997D9-1EE3-4565-8C11-E04FEC0C148A">
                           <p class="notep1">也可以看看：</p>
                           <p> <a href="database-gateway-sqlserver-initialization-parameters.html#GUID-5ECAD5A1-02FF-40F3-AD39-AB2DFB9C9FCB">初始化</a>有关编辑初始化参数文件和<code class="codeph">HS_FDS_PROC_IS_FUNC</code>参数的<code class="codeph">HS_FDS_PROC_IS_FUNC</code>参数。
                           </p>
                        </div>
                        <div class="infoboxnote" id="GUID-79C600CE-197A-4F50-A57F-C4F7268BFF52__GUID-FC186C09-950C-4FBA-BF7B-F08067210445">
                           <p class="notep1">注意：</p>
                           <p>如果将<code class="codeph">HS_FDS_PROC_IS_FUNC</code>网关初始化参数设置为<code class="codeph">TRUE</code> ，则必须更改所有现有存储过程的过程execute语句的语法。
                           </p>
                        </div>
                        <p>在以下示例中，将员工姓名<code class="codeph">JOHN SMYTHE</code>传递给SQL Server存储过程<code class="codeph">REVISE_SALARY</code> 。存储过程从SQL Server数据库中检索工资值，以计算<code class="codeph">JOHN SMYTHE</code>的新年薪。 <code class="codeph">RESULT</code>返回的修订工资用于更新Oracle数据库表中的<code class="codeph">EMP</code> ：</p><pre class="oac_no_warn" dir="ltr">DECLARE INPUT VARCHAR2（15）;结果编号（8,2）; BEGIN INPUT：='JOHN SMYTHE';结果：= REVISE_SALARY @ MSQL（INPUT）; UPDATE EMP SET SAL =结果ENAME =：INPUT;结束; /</pre><p>过程功能自动将非Oracle数据类型转换为PL / SQL数据类型和从PL / SQL数据类型转换。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="GMSWN708"></a><div class="props_rev_3"><a id="GUID-FDCA4E1B-2B72-4B4B-9C4F-7A4D4304C20C" name="GUID-FDCA4E1B-2B72-4B4B-9C4F-7A4D4304C20C"></a><h4 id="GMSWN-GUID-FDCA4E1B-2B72-4B4B-9C4F-7A4D4304C20C" class="sect4">结果集和存储过程</h4>
                  <div>
                     <div class="section">
                        <p>Oracle Database Gateway for SQL Server为返回结果集的存储过程提供支持。</p>
                        <p>默认情况下，所有存储过程和函数都不会将结果集返回给用户。要启用结果集，请将<code class="codeph">HS_FDS_RESULTSET_SUPPORT</code>参数值设置为<code class="codeph">TRUE</code> 。</p>
                        <div class="infoboxnotealso" id="GUID-FDCA4E1B-2B72-4B4B-9C4F-7A4D4304C20C__GUID-87D87482-694C-4EC3-936A-B1F6BAC25A46">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="database-gateway-sqlserver-initialization-parameters.html#GUID-5ECAD5A1-02FF-40F3-AD39-AB2DFB9C9FCB">初始化</a>有关编辑初始化参数文件和<code class="codeph">HS_FDS_RESULTSET_SUPPORT</code>参数的<code class="codeph">HS_FDS_RESULTSET_SUPPORT</code>参数。有关Oracle对非Oracle数据库中的结果集的支持的详细信息，请参阅“ <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/gmswn&amp;id=HETER4061" target="_blank"><span class="italic">Oracle数据库异构连接用户指南”</span></a> 。
                           </p>
                        </div>
                        <div class="infoboxnote" id="GUID-FDCA4E1B-2B72-4B4B-9C4F-7A4D4304C20C__GUID-172EC095-C267-4D49-AC15-8068D91555AC">
                           <p class="notep1">注意：</p>
                           <p>如果将<code class="codeph">HS_FDS_RESULTSET_SUPPORT</code>网关初始化参数设置为<code class="codeph">TRUE</code> ，则必须更改所有现有存储过程的过程execute语句的语法，否则将发生错误。
                           </p>
                        </div>
                        <p>通过Oracle Database Gateway for SQL Server访问带有结果集的存储过程时，您将处于异构服务的顺序模式。</p>
                        <p>SQL Server的Oracle数据库网关在过程描述期间将以下信息返回到异构服务：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>远程存储过程的所有输入参数</p>
                           </li>
                           <li>
                              <p>没有输出参数</p>
                           </li>
                           <li>
                              <p>类型引用游标的一个out参数（对应于存储过程返回的第一个结果集）</p>
                           </li>
                        </ul>
                        <p>客户端程序必须使用虚拟包函数<code class="codeph">DBMS_HS_RESULT_SET.GET_NEXT_RESULT_SET</code>来获取后续结果集的引用游标。返回的最后一个结果集是过程中的out参数。
                        </p>
                        <p>访问结果集的限制如下：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>必须按照将它们放置在线路上的顺序检索远程存储过程返回的结果集</p>
                           </li>
                           <li>
                              <p>在执行存储过程时，先前执行的存储过程返回的所有结果集将被关闭（无论数据是否已被完全检索）</p>
                           </li>
                        </ul>
                        <p>在以下示例中，执行SQL Server存储过程以从SQL Server获取<code class="codeph">emp</code>和<code class="codeph">dept</code>表的内容：</p><pre class="oac_no_warn" dir="ltr">创建过程REFCURPROC（@ arg1 varchar（255），@ arg2 varchar（255）输出）作为select @ arg2 = @ arg1 select * from EMP select * from DEPT go</pre><p>此存储过程将输入参数arg1分配给输出参数arg2，在ref cursor rc1中打开查询<code class="codeph">SELECT * FROM EMP</code> ，并在ref cursor rc2中打开查询<code class="codeph">SELECT * FROM DEPT</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div><a id="GMSWN709"></a><div class="props_rev_3"><a id="GUID-3CA73599-EC8A-4D73-8D50-4BFE6E34E980" name="GUID-3CA73599-EC8A-4D73-8D50-4BFE6E34E980"></a><h5 id="GMSWN-GUID-3CA73599-EC8A-4D73-8D50-4BFE6E34E980" class="sect5">OCI程序从顺序模式的结果集中获取</h5>
                     <div>
                        <div class="section">
                           <p>以下示例显示了在顺序模式下从结果集中提取OCI程序：</p><pre class="oac_no_warn" dir="ltr">OCIEnv * ENVH; OCISvcCtx * SVCH; OCIStmt * STMH; OCIError * ERRH; OCIBind * BNDH [3]; OraText arg1 [20]; OraText arg2 [255]; OCIResult * rset; OCIStmt * rstmt; ub2 rcode [3]; ub2 rlens [3]; sb2 inds [3]; OraText * stmt =（OraText *）“begin refcurproc @ MSQL（：1，：2，：3）; end;”; OraText * n_rs_stm =（OraText *）“begin：ret：= DBMS_HS_RESULT_SET.GET_NEXT_RESULT_SET@MSQL; end;”; / *准备过程调用语句* / / *处理初始化代码跳过* / OCIStmtPrepare（STMH，ERRH，stmt，strlen（stmt），OCI_NTV_SYNTAX，OCI_DEFAULT）; / *绑定过程参数* / inds [0] = 0; strcpy（（char *）arg1，“Hello World”）; rlens [0] = strlen（arg1）; OCIBindByPos（STMH，＆BNDH [0]，ERRH，1，（dvoid *）arg1,20，SQLT_CHR，（dvoid *）＆（inds [0]），＆（rlens [0]），＆（rcode [0]） ，0，（ub4 *）0，OCI_DEFAULT）; inds [1] = -1; OCIBindByPos（STMH，＆BNDH [1]，ERRH，1，（dvoid *）arg2,20，SQLT_CHR，（dvoid *）＆（inds [1]），＆（rlens [1]），＆（rcode [1]） ，0，（ub4 *）0，OCI_DEFAULT）; inds [2] = 0; rlens [2] = 0; OCIDescriptorAlloc（ENVH，（dvoid **）＆rset，OCI_DTYPE_RSET，0，（dvoid **）0）; OCIBindByPos（STMH，＆BNDH [2]，ERRH，2，（dvoid *）rset，0，SQLT_RSET，（dvoid *）＆（inds [2]），＆（rlens [2]），＆（rcode [2]） ，0，（ub4 *）0，OCI_DEFAULT）; / *执行过程* / OCIStmtExecute（SVCH，STMH，ERRH，1,0，（CONST OCISnapshot *）0，（OCISnapshot *）0，OCI_DEFAULT）; / *将结果集转换为语句句柄* / OCIResultSetToStmt（rset，ERRH）; rstmt =（OCIStmt *）rset; / *在此之后，用户可以从rstmt * / / * get get_next_result_set调用来获取next_result set * / / *准备获取下一个结果集过程调用* / OCIStmtPrepare（STMH，ERRH，n_rs_stm，strlen（n_rs_stm），OCI_NTV_SYNTAX ，OCI_DEFAULT）; / *绑定返回值* / OCIBindByPos（STMH，＆BNDH [1]，ERRH，1，（dvoid *）rset，0，SQLT_RSET，（dvoid *）＆（inds [1]），＆（rlens [1]）， ＆（rcode [1]），0，（ub4 *）0，OCI_DEFAULT）; / *执行语句获取下一个结果集* / OCIStmtExecute（SVCH，STMH，ERRH，1,0，（CONST OCISnapshot *）0，（OCISnapshot *）0，OCI_DEFAULT）; / *将下一个结果集转换为语句句柄* / OCIResultSetToStmt（rset，ERRH）; rstmt =（OCIStmt *）rset; / *现在rstmt将指向远程存储过程返回的第二个结果集* / / *重复执行get_next_result_set以获取输出参数* /</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="GMSWN710"></a><div class="props_rev_3"><a id="GUID-C9B017A5-6ECB-4595-9937-E919E78F25B1" name="GUID-C9B017A5-6ECB-4595-9937-E919E78F25B1"></a><h5 id="GMSWN-GUID-C9B017A5-6ECB-4595-9937-E919E78F25B1" class="sect5">从顺序模式的结果集中获取PL / SQL程序</h5>
                     <div>
                        <div class="section">
                           <p>假设表<code class="codeph">loc_emp</code>是一个与SQL Server <code class="codeph">emp</code>表完全相同的本地表。同样的假设适用于<code class="codeph">loc_dept</code> 。表<code class="codeph">outargs</code>具有与SQL Server存储过程的<code class="codeph">out</code>参数对应的列。
                           </p><pre class="oac_no_warn" dir="ltr">create table outargs（outarg varchar2（255），retval number）;</pre><pre class="oac_no_warn" dir="ltr">创建或替换包rcpackage是类型RCTYPE是ref游标;结束rcpackage; /</pre><pre class="oac_no_warn" dir="ltr">声明rc1 rcpackage.rctype; rec1 loc_emp％rowtype; rc2 rcpackage.rctype; rec2 loc_dept％rowtype; rc3 rcpackage.rctype; rec3 outargs％rowtype; out_arg varchar2（255）; begin  - 执行过程out_arg：= null; refcurproc @ MSQL（'Hello World'，out_arg，rc1）; - 从远程emp表中获取20行，并将它们插入到loc_emp中，以便在1 ... 20循环中将rc1提取到rec1;插入loc_emp（rec1.empno，rec1.ename，rec1.job，rec1.mgr，rec1.hiredate，rec1.sal，rec1.comm，rec1.deptno）;结束循环; - 关闭参考光标关闭rc1; - 获取存储过程返回的下一个结果集rc2：= dbms_hs_result_set.get_next_result_set@MSQL; - 从远程dept表中获取5行，并将它们插入到loc_dept中，用于i中的1 ... 5循环获取rc2到rec2;插入loc_dept值（rec2.deptno，rec2.dname，rec2.loc）;结束循环; - 关闭引用光标关闭rc2; - 从远程存储过程获取输出参数 - 由于我们处于顺序模式，它们将以结果集的形式返回rc3：= dbms_hs_result_set.get_next_result_set@MSQL; - 获取它们并将它们插入到outargs表中，将rc3读入rec3;插入outargs（rec3.outarg，rec3.retval）; - 关闭参考光标关闭rc3;结束; /</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
            </div><a id="GMSWN711"></a><div class="props_rev_3"><a id="GUID-1A1F4369-423E-4602-A61C-D0C393A5DBDA" name="GUID-1A1F4369-423E-4602-A61C-D0C393A5DBDA"></a><h3 id="GMSWN-GUID-1A1F4369-423E-4602-A61C-D0C393A5DBDA" class="sect3">SQL Server的数据库兼容性问题</h3>
               <div>
                  <p>SQL Server和Oracle数据库在某些方面的功能不同，导致兼容性问题。兼容性问题在以下链接中描述：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-B1CFF847-A43D-4717-AE2F-44B859004B67">隐式交易（链式模式）</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-AFDB949D-EDBC-4867-A9FE-66F98263B94D">列定义</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-84D3DED8-58E0-4B99-9DBC-2DDB04AD1A0C">命名规则</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-BABDFD79-86BE-49D4-8646-8373CA0B7823">数据类型</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-59442525-61D4-4512-8F7B-6735BDC4FFAA">查询</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-58871E1E-2EBC-4745-8AD1-72C3DB5389DF">锁定</a></p>
                     </li>
                  </ul>
               </div><a id="GMSWN712"></a><div class="props_rev_3"><a id="GUID-B1CFF847-A43D-4717-AE2F-44B859004B67" name="GUID-B1CFF847-A43D-4717-AE2F-44B859004B67"></a><h4 id="GMSWN-GUID-B1CFF847-A43D-4717-AE2F-44B859004B67" class="sect4">隐式交易（链式模式）</h4>
                  <div>
                     <p><a id="d2170e952" class="indexterm-anchor"></a><a id="d2170e954" class="indexterm-anchor"></a>网关支持ANSI标准隐式事务。必须为此模式编写SQL Server存储过程。运行隐式事务允许网关将Oracle两阶段提交保护扩展到更新Oracle和SQL Server数据库的事务。
                     </p>
                  </div>
               </div><a id="GMSWN713"></a><div class="props_rev_3"><a id="GUID-AFDB949D-EDBC-4867-A9FE-66F98263B94D" name="GUID-AFDB949D-EDBC-4867-A9FE-66F98263B94D"></a><h4 id="GMSWN-GUID-AFDB949D-EDBC-4867-A9FE-66F98263B94D" class="sect4">列定义</h4>
                  <div>
                     <p><a id="d2170e990" class="indexterm-anchor"></a>默认情况下，SQL Server表列不能包含空值，除非在列定义中指定了<code class="codeph">NULL</code> 。除非您设置SQL Server选项以覆盖此默认值，否则SQL Server会假定所有列都不能包含空值。
                     </p>
                     <p>对于Oracle表，除非在列定义中指定<code class="codeph">NOT NULL</code>否则列中允许使用空值。
                     </p>
                  </div>
               </div><a id="GMSWN714"></a><div class="props_rev_3"><a id="GUID-84D3DED8-58E0-4B99-9DBC-2DDB04AD1A0C" name="GUID-84D3DED8-58E0-4B99-9DBC-2DDB04AD1A0C"></a><h4 id="GMSWN-GUID-84D3DED8-58E0-4B99-9DBC-2DDB04AD1A0C" class="sect4">命名规则</h4>
                  <div>
                     <p>命名规则问题包括以下内容：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="database-gateway-sqlserver-features.html#GUID-FA650ED6-82F9-4B75-AEF3-13064CFFCEBD">命名对象的规则</a></p>
                        </li>
                        <li>
                           <p><a href="database-gateway-sqlserver-features.html#GUID-CCAB7265-35ED-42FD-84B8-D1BA0C30B1C4">区分大小写</a></p>
                        </li>
                     </ul>
                  </div><a id="GMSWN715"></a><div class="props_rev_3"><a id="GUID-FA650ED6-82F9-4B75-AEF3-13064CFFCEBD" name="GUID-FA650ED6-82F9-4B75-AEF3-13064CFFCEBD"></a><h5 id="GMSWN-GUID-FA650ED6-82F9-4B75-AEF3-13064CFFCEBD" class="sect5">命名对象的规则</h5>
                     <div>
                        <p>Oracle和SQL Server使用不同的数据库对象命名规则。例如，每个对象名称允许的最大字符数可以不同。此外，使用单引号和双引号，区分大小写以及使用字母数字字符都可以不同。</p>
                        <div class="infoboxnotealso" id="GUID-FA650ED6-82F9-4B75-AEF3-13064CFFCEBD__GUID-8505615D-DC86-45CC-912B-A9EF8A49A0C6">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../refrn/index.html" target="_blank"><span class="italic">Oracle数据库参考</span></a>和SQL Server文档。
                           </p>
                        </div>
                     </div>
                  </div><a id="GMSWN716"></a><div class="props_rev_3"><a id="GUID-CCAB7265-35ED-42FD-84B8-D1BA0C30B1C4" name="GUID-CCAB7265-35ED-42FD-84B8-D1BA0C30B1C4"></a><h5 id="GMSWN-GUID-CCAB7265-35ED-42FD-84B8-D1BA0C30B1C4" class="sect5">区分大小写</h5>
                     <div>
                        <p>除非您使用双引号字符包围标识符，否则Oracle数据库默认为大写。例如，要引用名为<code class="codeph">emp</code>的SQL Server表，请输入带双引号字符的名称，如下所示：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM“emp”@MSQL;</pre><p>但是，要从Oracle应用程序引用Scott拥有的名为<code class="codeph">emp</code>的SQL Server表，请输入以下内容：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM“Scott”。“emp”@MSQL;</pre><p>如果名为<code class="codeph">emp</code>的SQL Server表由<code class="codeph">SCOTT</code>拥有（表所有者名称为大写字母），则可以输入不带双引号字符的所有者名称，如下所示：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM SCOTT。“emp”@MSQL;</pre><p>要么</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT * FROM scott。“emp”@MSQL;</pre><p>Oracle建议您使用双引号字符包围所有SQL Server对象名称，并使用SQL Server数据字典中显示的对象名称的确切字母大小写。参照中列出的支持的Oracle数据字典的表或视图时，则不需要此约定<a href="database-gateway-sqlserver-data-dictionary.html#GUID-3F877790-E47E-4191-A3AC-25E0B7C56F6F">数据字典</a> 。
                        </p>
                        <p>如果无法根据这些约定更改现有应用程序，请在Oracle中创建视图以将SQL Server名称与正确的字母大小写相关联。例如，要仅使用大写名称从现有Oracle应用程序引用SQL Server表<code class="codeph">emp</code> ，请定义以下视图：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE VIEW EMP（EMPNO，ENAME，SAL，HIREDATE）AS SELECT“empno”，“ename”，“sal”，“hiredate”FROM“emp”@MSQL;</pre><p>使用此视图，应用程序可以发出如下语句：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT EMPNO，ENAME FROM EMP;</pre><p>使用视图是一种解决方案，它复制源自SQL Server数据字典的数据字典信息。只要在SQL Server数据库中更改了相应表的数据定义，就必须准备好更新Oracle视图定义。</p>
                     </div>
                  </div>
               </div><a id="GMSWN717"></a><div class="props_rev_3"><a id="GUID-BABDFD79-86BE-49D4-8646-8373CA0B7823" name="GUID-BABDFD79-86BE-49D4-8646-8373CA0B7823"></a><h4 id="GMSWN-GUID-BABDFD79-86BE-49D4-8646-8373CA0B7823" class="sect4">数据类型</h4>
                  <div>
                     <p>数据类型问题包括以下内容：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="database-gateway-sqlserver-features.html#GUID-141413D3-F780-451B-9A9C-30630BBE8E8B">二进制文字表示法</a></p>
                        </li>
                        <li>
                           <p><a href="database-gateway-sqlserver-features.html#GUID-C2716325-B085-4E04-8764-6D7A14E11E46">使用LONG Columns绑定变量</a></p>
                        </li>
                        <li>
                           <p><a href="database-gateway-sqlserver-features.html#GUID-0C663CAA-671C-42C8-9DEA-7CB770D4314F">数据类型转换</a></p>
                        </li>
                     </ul>
                  </div><a id="GMSWN718"></a><div class="props_rev_3"><a id="GUID-141413D3-F780-451B-9A9C-30630BBE8E8B" name="GUID-141413D3-F780-451B-9A9C-30630BBE8E8B"></a><h5 id="GMSWN-GUID-141413D3-F780-451B-9A9C-30630BBE8E8B" class="sect5">二进制文字表示法</h5>
                     <div>
                        <p>Oracle SQL使用由单引号括起的十六进制数字来表示要比较或插入到定义为数据类型<code class="codeph">RAW</code>列中的文字值。</p>
                        <p><a id="d2170e1254" class="indexterm-anchor"></a>此表示法不会转换为与SQL Server <code class="codeph">VARBINARY</code>和<code class="codeph">BINARY</code>数据类型兼容的语法（ <code class="codeph">0x</code>后跟十六进制数字，由单引号括起）。
                        </p>
                        <p>例如，不支持以下语句：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; INSERT INTO BINARY_TAB @ MSQL VALUES（'0xff'）</pre><p>其中<code class="codeph">BINARY_TAB</code>包含数据类型为<code class="codeph">VARBINARY</code>或<code class="codeph">BINARY</code>的列。插入或更新<code class="codeph">VARBINARY</code>和<code class="codeph">BINARY</code>数据类型时使用绑定变量。
                        </p>
                     </div>
                  </div><a id="GMSWN719"></a><div class="props_rev_3"><a id="GUID-C2716325-B085-4E04-8764-6D7A14E11E46" name="GUID-C2716325-B085-4E04-8764-6D7A14E11E46"></a><h5 id="GMSWN-GUID-C2716325-B085-4E04-8764-6D7A14E11E46" class="sect5">使用LONG Columns绑定变量</h5>
                     <div>
                        <p>网关不支持使用绑定变量来更新数据类型为<code class="codeph">LONG</code>列。</p>
                     </div>
                  </div><a id="GMSWN720"></a><div class="props_rev_3"><a id="GUID-0C663CAA-671C-42C8-9DEA-7CB770D4314F" name="GUID-0C663CAA-671C-42C8-9DEA-7CB770D4314F"></a><h5 id="GMSWN-GUID-0C663CAA-671C-42C8-9DEA-7CB770D4314F" class="sect5">数据类型转换</h5>
                     <div>
                        <p>SQL Server不支持隐式日期转换。此类转换必须明确。</p>
                        <p>例如，网关为以下<code class="codeph">SELECT</code>语句发出错误：</p><pre class="oac_no_warn" dir="ltr">从TEST @ MSQL WHATE DATE_COL =“1-JAN-2004”中选择DATE_COL;</pre><p>要避免隐式转换出现问题，请添加显式转换，如下所示：</p><pre class="oac_no_warn" dir="ltr">SELECT TATE_COL FROM TEST @ MSQL WHERE DATE_COL = TO_DATE（“1-JAN-2004”）</pre><div class="infoboxnotealso" id="GUID-0C663CAA-671C-42C8-9DEA-7CB770D4314F__GUID-2BD9C836-E8B8-4519-8DF5-D6AFD1580C0E">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="database-gateway-sqlserver-data-type-conversion.html#GUID-33CEB476-48D0-4441-B4D1-5CA07A077BC4">数据类型转换</a>有关数据类型限制的更多信息。
                           </p>
                        </div>
                     </div>
                  </div>
               </div><a id="GMSWN721"></a><div class="props_rev_3"><a id="GUID-59442525-61D4-4512-8F7B-6735BDC4FFAA" name="GUID-59442525-61D4-4512-8F7B-6735BDC4FFAA"></a><h4 id="GMSWN-GUID-59442525-61D4-4512-8F7B-6735BDC4FFAA" class="sect4">查询</h4>
                  <div>
                     <p>查询问题包括以下内容：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="database-gateway-sqlserver-features.html#GUID-4AD07233-9E64-4939-9B1B-255CACC5A094">行选择</a></p>
                        </li>
                        <li>
                           <p><a href="database-gateway-sqlserver-features.html#GUID-8B388C74-AFB7-4516-A96D-C2B824B99399">空字符串</a></p>
                        </li>
                        <li>
                           <p><a href="database-gateway-sqlserver-features.html#GUID-9E0DD3E2-B861-4753-A424-5194A9369556">空绑定变量</a></p>
                        </li>
                     </ul>
                  </div><a id="GMSWN722"></a><div class="props_rev_3"><a id="GUID-4AD07233-9E64-4939-9B1B-255CACC5A094" name="GUID-4AD07233-9E64-4939-9B1B-255CACC5A094"></a><h5 id="GMSWN-GUID-4AD07233-9E64-4939-9B1B-255CACC5A094" class="sect5">行选择</h5>
                     <div>
                        <p>SQL Server在返回任何行之前评估所有选定行的查询条件。如果一个或多个行的评估过程中存在错误，则即使其余行满足条件，也不会返回任何行。</p>
                        <p>Oracle逐行评估查询条件，并在评估成功时返回一行。返回行直到一行未通过评估。</p>
                     </div>
                  </div><a id="GMSWN723"></a><div class="props_rev_3"><a id="GUID-8B388C74-AFB7-4516-A96D-C2B824B99399" name="GUID-8B388C74-AFB7-4516-A96D-C2B824B99399"></a><h5 id="GMSWN-GUID-8B388C74-AFB7-4516-A96D-C2B824B99399" class="sect5">空字符串</h5>
                     <div>
                        <p>Oracle将SQL语句中的空字符串作为空值处理。SQL Server将空字符串作为空字符串处理。</p>
                        <p>比较空字符串时，网关将文字空字符串传递给SQL Server数据库，而不进行任何转换。如果您希望空字符串表示空值，则SQL Server不会以这种方式处理该语句;它使用空字符串。</p>
                        <p>您可以通过在SQL语句中使用<code class="codeph">NULL</code>或<code class="codeph">IS NULL</code>而不是空字符串语法来避免此问题，如下例所示：</p><pre class="oac_no_warn" dir="ltr">SELECT * from“emp”@MSQL where“ename”IS NULL;</pre><p>要选择空字符串：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>对于<code class="codeph">VARCHAR</code>列，网关将空字符串作为<code class="codeph">NULL</code>值返回到Oracle数据库。
                              </p>
                           </li>
                           <li>
                              <p>对于<code class="codeph">CHAR</code>列，网关返回列的完整大小，每个字符为空格（''）。
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div><a id="GMSWN724"></a><div class="props_rev_3"><a id="GUID-9E0DD3E2-B861-4753-A424-5194A9369556" name="GUID-9E0DD3E2-B861-4753-A424-5194A9369556"></a><h5 id="GMSWN-GUID-9E0DD3E2-B861-4753-A424-5194A9369556" class="sect5">空绑定变量</h5>
                     <div>
                        <p>对于<code class="codeph">VARCHAR</code>绑定变量，网关将空绑定变量作为<code class="codeph">NULL</code>值传递给SQL Server数据库。
                        </p>
                     </div>
                  </div>
               </div><a id="GMSWN725"></a><div class="props_rev_3"><a id="GUID-58871E1E-2EBC-4745-8AD1-72C3DB5389DF" name="GUID-58871E1E-2EBC-4745-8AD1-72C3DB5389DF"></a><h4 id="GMSWN-GUID-58871E1E-2EBC-4745-8AD1-72C3DB5389DF" class="sect4">锁定</h4>
                  <div>
                     <p>SQL Server数据库的锁定模型与Oracle模型有很大不同。网关依赖于基础SQL Server行为，因此以下可能的方案可能会影响通过网关访问SQL Server的Oracle应用程序：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>读访问可能会阻止写访问</p>
                        </li>
                        <li>
                           <p>写访问可能会阻止读访问</p>
                        </li>
                        <li>
                           <p>语句级读取一致性无法保证</p>
                           <div class="infoboxnotealso" id="GUID-58871E1E-2EBC-4745-8AD1-72C3DB5389DF__GUID-50B73490-A95B-4CDA-B69B-F739B5898D5F">
                              <p class="notep1">也可以看看：</p>
                              <p>有关SQL Server锁定模型的信息的SQL Server文档。</p>
                           </div>
                        </li>
                     </ul>
                  </div>
               </div>
            </div><a id="GMSWN726"></a><div class="props_rev_3"><a id="GUID-DC125F0F-0957-4A58-805A-9848DC66F627" name="GUID-DC125F0F-0957-4A58-805A-9848DC66F627"></a><h3 id="GMSWN-GUID-DC125F0F-0957-4A58-805A-9848DC66F627" class="sect3">已知的限制</h3>
               <div>
                  <p>如果遇到本节或<span class="q">“ <a href="database-gateway-sqlserver-features.html#GUID-D6FB014B-53E0-41A4-B163-0FBB469151DB">已知问题</a> ”中</span>未列出的不兼容问题，请与Oracle支持服务联系。以下部分描述了已知的限制，并包括在可能的情况下处理它们的建议：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-CB03B78E-6CC0-4BB2-9EBC-C88CBB808923">多个公开声明</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-A01E8CE3-386A-4C28-944C-3FBA558DB115">交易诚信</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-8DDCE4CF-D969-470B-A0EF-C28EEF4887A5">交易能力</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-B0A518E4-C1F6-457A-817B-51A9C6E8E1CD">PL / SQL游标循环中的COMMIT或ROLLBACK关闭打开游标</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-1EA2AC1A-35D8-449C-8C75-5514496CF7FF">存储过程</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-29BDC7B2-A9DC-4413-A7C5-6B4F747C7B8D">传递功能</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-0F8C99B5-99AF-4D92-AF45-38E7DC3FE250">DDL声明</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-96885C5A-9710-4EB5-8E58-5B3823F692D3">SQL语法</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-E6C63A61-FBFC-4B6A-9B0C-B819B4E7CCD3">功能</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-3AA39252-2AA8-43C1-A846-3E56026ECB13">带有小写表名的SQL * Plus COPY命令</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-263C4864-9E01-4994-A55C-7CFACDF874F8">数据库链接</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-DC125F0F-0957-4A58-805A-9848DC66F627__GUID-AC0ED9B8-DEEA-47BB-A01A-3F281E79991A">
                     <p class="notep1">注意：</p>
                     <p>如果您对这些限制有任何疑问或疑虑，请联系Oracle支持服务。</p>
                  </div>
               </div><a id="GMSWN727"></a><div class="props_rev_3"><a id="GUID-CB03B78E-6CC0-4BB2-9EBC-C88CBB808923" name="GUID-CB03B78E-6CC0-4BB2-9EBC-C88CBB808923"></a><h4 id="GMSWN-GUID-CB03B78E-6CC0-4BB2-9EBC-C88CBB808923" class="sect4">多个公开声明</h4>
                  <div>
                     <p>访问SQL Server的限制是每个连接允许一个打开的语句或游标。如果需要在同一事务中打开第二个语句或游标来访问SQL Server，则需要新连接。</p>
                     <p>由于此限制，同一事务中的多个打开语句或游标可以相互锁定，因为它们使用与SQL Server的不同连接。</p>
                     <p>要避免此限制，请发出提交或修改逻辑，或两者兼而有之。</p>
                  </div>
               </div><a id="GMSWN728"></a><div class="props_rev_3"><a id="GUID-A01E8CE3-386A-4C28-944C-3FBA558DB115" name="GUID-A01E8CE3-386A-4C28-944C-3FBA558DB115"></a><h4 id="GMSWN-GUID-A01E8CE3-386A-4C28-944C-3FBA558DB115" class="sect4">交易诚信</h4>
                  <div>
                     <p>在以下情况下，网关无法保证事务完整性：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>当网关处理的语句导致目标数据库中的隐式提交时</p>
                        </li>
                        <li>
                           <p>目标数据库配置为在自动提交模式下工作时</p>
                           <div class="infoboxnote" id="GUID-A01E8CE3-386A-4C28-944C-3FBA558DB115__GUID-59173894-9F7A-466B-9E79-C874717A768E">
                              <p class="notep1">注意：</p>
                              <p>Oracle强烈建议如下：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>如果您知道执行特定语句会导致目标数据库中的隐式提交，请确保在其自己的事务中执行此语句。</p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                     </ul>
                     <p>在与SQL Server数据库建立连接时，网关将“自动提交模式”设置为“关”。</p>
                  </div>
               </div><a id="GMSWN729"></a><div class="props_rev_3"><a id="GUID-8DDCE4CF-D969-470B-A0EF-C28EEF4887A5" name="GUID-8DDCE4CF-D969-470B-A0EF-C28EEF4887A5"></a><h4 id="GMSWN-GUID-8DDCE4CF-D969-470B-A0EF-C28EEF4887A5" class="sect4">交易能力</h4>
                  <div>
                     <p><a id="d2170e1835" class="indexterm-anchor"></a>网关不支持保存点。如果涉及网关的分布式更新事务正在进行，并且用户尝试创建保存点，则会发生以下错误：</p><pre class="oac_no_warn" dir="ltr"><a id="d2170e1839" class="indexterm-anchor"></a> ORA-02070：数据库<span class="italic">dblink</span>在此上下文中不支持savepoint <a id="d2170e1845" class="indexterm-anchor"></a>
</pre><p><a id="d2170e1851" class="indexterm-anchor"></a>默认情况下，网关配置为<code class="codeph">COMMIT_CONFIRM</code> 。</p>
                  </div>
               </div><a id="GMSWN730"></a><div class="props_rev_3"><a id="GUID-B0A518E4-C1F6-457A-817B-51A9C6E8E1CD" name="GUID-B0A518E4-C1F6-457A-817B-51A9C6E8E1CD"></a><h4 id="GMSWN-GUID-B0A518E4-C1F6-457A-817B-51A9C6E8E1CD" class="sect4">PL / SQL游标循环中的COMMIT或ROLLBACK关闭打开游标</h4>
                  <div>
                     <p>在PL / SQL游标循环中发出的任何<code class="codeph">COMMIT</code>或<code class="codeph">ROLLBACK</code>关闭所有打开的游标，这可能导致以下错误：</p><pre class="oac_no_warn" dir="ltr">ORA-1002：取消顺序</pre><p>要防止此错误，请在游标循环外移动<code class="codeph">COMMIT</code>或<code class="codeph">ROLLBACK</code>语句。
                     </p>
                  </div>
               </div><a id="GMSWN731"></a><div class="props_rev_3"><a id="GUID-1EA2AC1A-35D8-449C-8C75-5514496CF7FF" name="GUID-1EA2AC1A-35D8-449C-8C75-5514496CF7FF"></a><h4 id="GMSWN-GUID-1EA2AC1A-35D8-449C-8C75-5514496CF7FF" class="sect4">存储过程</h4>
                  <div>
                     <p>Oracle事务管理器或Oracle <code class="codeph">COMMIT</code>或<code class="codeph">ROLLBACK</code>命令无法控制通过嵌入提交或回滚的存储过程发出的更改</p>
                     <p>通过Oracle Database Gateway for SQL Server访问带有结果集的存储过程时，必须使用异构服务的顺序模式。</p>
                     <p>通过Oracle Database Gateway for SQL Server访问具有多个结果集的存储过程时，必须先读取所有结果集，然后再继续。</p>
                     <p>必须将存储过程的输出参数初始化为空字符串。</p>
                  </div>
               </div><a id="GMSWN732"></a><div class="props_rev_3"><a id="GUID-29BDC7B2-A9DC-4413-A7C5-6B4F747C7B8D" name="GUID-29BDC7B2-A9DC-4413-A7C5-6B4F747C7B8D"></a><h4 id="GMSWN-GUID-29BDC7B2-A9DC-4413-A7C5-6B4F747C7B8D" class="sect4">传递功能</h4>
                  <div>
                     <p><a id="d2170e1999" class="indexterm-anchor"></a>如果通过网关传递的SQL语句导致SQL Server数据库中的隐式提交，则Oracle事务管理器不知道提交，并且Oracle <code class="codeph">ROLLBACK</code>命令不能用于回滚事务。
                     </p>
                  </div>
               </div><a id="GMSWN838"></a><a id="GMSWN733"></a><div class="props_rev_3"><a id="GUID-0F8C99B5-99AF-4D92-AF45-38E7DC3FE250" name="GUID-0F8C99B5-99AF-4D92-AF45-38E7DC3FE250"></a><h4 id="GMSWN-GUID-0F8C99B5-99AF-4D92-AF45-38E7DC3FE250" class="sect4">DDL声明</h4>
                  <div>
                     <div class="section">
                        <p>SQL Server要求在自己的事务中执行一些DDL语句，并且在给定的事务中只能执行一个DDL语句。</p>
                        <p>如果在SQL Server存储过程中使用这些DDL语句，并使用过程功能通过网关执行存储过程，或者，如果使用传递功能通过网关执行DDL语句，则可能会导致错误情况。这是因为网关的过程特性和传递特性不能保证DDL语句在它们自己的单独事务中执行。</p>
                        <p><a id="d2170e2042" class="indexterm-anchor"></a>如果您尝试使用网关传递功能传递它们，或者如果您执行包含它们的SQL Server存储过程，则以下SQL Server DDL语句可能会导致错误情况：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">ALTER DATABASE</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">创建数据库</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">创建指数</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">创建程序</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">创建表</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">创建视图</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">DISK INIT</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">DROP &lt;</code> <span class="italic"><code class="codeph">object</code></span> <code class="codeph">&gt;</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">转移交易</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">GRANT</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">加载数据库</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">负荷交易</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">RECONFIGURE</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">撤消</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">选择INTO</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">TRUNCATE TABLE</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">更新统计</code></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-0F8C99B5-99AF-4D92-AF45-38E7DC3FE250__GUID-565F2F3B-4062-4BC3-B94B-F6206A6E5E8C">
                           <p class="notep1">也可以看看：</p>
                           <p>有关DDL语句的详细信息，请参阅SQL Server文档。</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="GMSWN734"></a><div class="props_rev_3"><a id="GUID-96885C5A-9710-4EB5-8E58-5B3823F692D3" name="GUID-96885C5A-9710-4EB5-8E58-5B3823F692D3"></a><h4 id="GMSWN-GUID-96885C5A-9710-4EB5-8E58-5B3823F692D3" class="sect4">SQL语法</h4>
                  <div>
                     <p>本节列出了对以下SQL语法的限制：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="database-gateway-sqlserver-features.html#GUID-F6BB2D1C-43C5-45D6-9DF7-7EDFB5D4110F">条款的当前条款</a></p>
                        </li>
                        <li>
                           <p><a href="database-gateway-sqlserver-features.html#GUID-9507E1B9-F5C7-46E8-B6F7-ADFAEF97169D">通过条款连接</a></p>
                        </li>
                        <li>
                           <p><a href="database-gateway-sqlserver-features.html#GUID-27AC7EAF-EA59-415F-A017-C75A42B21731">子查询中的函数</a></p>
                        </li>
                        <li>
                           <p><a href="database-gateway-sqlserver-features.html#GUID-F6EBB574-0983-4A5A-9C5F-576E8C4C70BA">子查询中的参数</a></p>
                        </li>
                        <li>
                           <p><a href="database-gateway-sqlserver-features.html#GUID-DC68B356-6407-4435-9181-E17B28ED4914">UPDATE语句中的数据字典表和视图</a></p>
                        </li>
                        <li>
                           <p><a href="database-gateway-sqlserver-features.html#GUID-587A5ECF-58F2-4DCE-9DDD-093F9BE61745">ROWID</a></p>
                        </li>
                        <li>
                           <p><a href="database-gateway-sqlserver-features.html#GUID-35FE17FE-DF60-417A-ABEC-F424CCE9EE42">至今</a></p>
                        </li>
                        <li>
                           <p><a href="database-gateway-sqlserver-features.html#GUID-32B73FD6-D082-4A81-9164-53D7307CFC39">解释计划声明</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-96885C5A-9710-4EB5-8E58-5B3823F692D3__GUID-52660DEA-2A76-4844-AF39-57325343AC75">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="database-gateway-sqlserver-supported-sql-syntax-functions.html#GUID-D66F13BA-ADEC-4596-BED5-2F68539E93EB">支持的SQL语法和函数</a> ，以获取有关SQL语法限制的更多信息。
                        </p>
                     </div>
                  </div><a id="GMSWN735"></a><div class="props_rev_3"><a id="GUID-F6BB2D1C-43C5-45D6-9DF7-7EDFB5D4110F" name="GUID-F6BB2D1C-43C5-45D6-9DF7-7EDFB5D4110F"></a><h5 id="GMSWN-GUID-F6BB2D1C-43C5-45D6-9DF7-7EDFB5D4110F" class="sect5">条款的当前条款</h5>
                     <div>
                        <p>网关不支持带有<code class="codeph">WHERE CURRENT OF</code>子句的<code class="codeph">UPDATE</code>和<code class="codeph">DELETE</code>语句，因为它们依赖于Oracle <a id="d2170e2249" class="indexterm-anchor"></a> <code class="codeph">ROWID</code>实现。要通过网关更新或删除特定行，必须使用条件样式<code class="codeph">WHERE</code>子句。
                        </p>
                     </div>
                  </div><a id="GMSWN736"></a><div class="props_rev_3"><a id="GUID-9507E1B9-F5C7-46E8-B6F7-ADFAEF97169D" name="GUID-9507E1B9-F5C7-46E8-B6F7-ADFAEF97169D"></a><h5 id="GMSWN-GUID-9507E1B9-F5C7-46E8-B6F7-ADFAEF97169D" class="sect5">通过条款连接</h5>
                     <div>
                        <p>网关不支持<code class="codeph">SELECT</code>语句中的<code class="codeph">CONNECT BY</code>子句。
                        </p>
                     </div>
                  </div><a id="GMSWN737"></a><div class="props_rev_3"><a id="GUID-27AC7EAF-EA59-415F-A017-C75A42B21731" name="GUID-27AC7EAF-EA59-415F-A017-C75A42B21731"></a><h5 id="GMSWN-GUID-27AC7EAF-EA59-415F-A017-C75A42B21731" class="sect5">子查询中的函数</h5>
                     <div>
                        <p>当<code class="codeph">INSERT</code> ， <code class="codeph">UPDATE</code>或<code class="codeph">DELETE</code> SQL语句中的子查询的一部分时，不支持绑定变量和表达式作为字符串函数或数学函数中的操作数。
                        </p>
                     </div>
                  </div><a id="GMSWN738"></a><div class="props_rev_3"><a id="GUID-F6EBB574-0983-4A5A-9C5F-576E8C4C70BA" name="GUID-F6EBB574-0983-4A5A-9C5F-576E8C4C70BA"></a><h5 id="GMSWN-GUID-F6EBB574-0983-4A5A-9C5F-576E8C4C70BA" class="sect5">子查询中的参数</h5>
                     <div>
                        <p>由于SQL Server的限制，您不能在子查询中使用参数。</p>
                     </div>
                  </div><a id="GMSWN739"></a><div class="props_rev_3"><a id="GUID-DC68B356-6407-4435-9181-E17B28ED4914" name="GUID-DC68B356-6407-4435-9181-E17B28ED4914"></a><h5 id="GMSWN-GUID-DC68B356-6407-4435-9181-E17B28ED4914" class="sect5">UPDATE语句中的数据字典表和视图</h5>
                     <div>
                        <p>不支持<code class="codeph">UPDATE</code>语句的<code class="codeph">SET</code>子句中的数据字典表和视图。
                        </p>
                     </div>
                  </div><a id="GMSWN740"></a><div class="props_rev_3"><a id="GUID-587A5ECF-58F2-4DCE-9DDD-093F9BE61745" name="GUID-587A5ECF-58F2-4DCE-9DDD-093F9BE61745"></a><h5 id="GMSWN-GUID-587A5ECF-58F2-4DCE-9DDD-093F9BE61745" class="sect5">ROWID</h5>
                     <div>
                        <p>不支持Oracle <code class="codeph">ROWID</code>实现。
                        </p>
                     </div>
                  </div><a id="GMSWN741"></a><div class="props_rev_3"><a id="GUID-35FE17FE-DF60-417A-ABEC-F424CCE9EE42" name="GUID-35FE17FE-DF60-417A-ABEC-F424CCE9EE42"></a><h5 id="GMSWN-GUID-35FE17FE-DF60-417A-ABEC-F424CCE9EE42" class="sect5">至今</h5>
                     <div>
                        <p><code class="codeph">TO_DATE</code>是保留字，不能用作数据库标识符名称。
                        </p>
                     </div>
                  </div><a id="GMSWN742"></a><div class="props_rev_3"><a id="GUID-32B73FD6-D082-4A81-9164-53D7307CFC39" name="GUID-32B73FD6-D082-4A81-9164-53D7307CFC39"></a><h5 id="GMSWN-GUID-32B73FD6-D082-4A81-9164-53D7307CFC39" class="sect5">解释计划声明</h5>
                     <div>
                        <p>不支持<code class="codeph">EXPLAIN PLAN</code>语句。
                        </p>
                     </div>
                  </div>
               </div><a id="GMSWN744"></a><div class="props_rev_3"><a id="GUID-E6C63A61-FBFC-4B6A-9B0C-B819B4E7CCD3" name="GUID-E6C63A61-FBFC-4B6A-9B0C-B819B4E7CCD3"></a><h4 id="GMSWN-GUID-E6C63A61-FBFC-4B6A-9B0C-B819B4E7CCD3" class="sect4">功能</h4>
                  <div>
                     <p>以下限制适用于使用功能：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>不支持的函数不能在引用<code class="codeph">LONG</code>列的语句中使用。
                           </p>
                        </li>
                        <li>
                           <p>当负数用作<code class="codeph">SUBSTR</code>函数中的第二个参数时，将返回不正确的结果。这是由于Oracle <code class="codeph">SUBSTR</code>功能与SQL Server中的等效功能不兼容。
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="GMSWN745"></a><div class="props_rev_3"><a id="GUID-3AA39252-2AA8-43C1-A846-3E56026ECB13" name="GUID-3AA39252-2AA8-43C1-A846-3E56026ECB13"></a><h4 id="GMSWN-GUID-3AA39252-2AA8-43C1-A846-3E56026ECB13" class="sect4">带有小写表名的SQL * Plus COPY命令</h4>
                  <div>
                     <p>您需要用小引号包装小写表名。</p>
                     <p>例如：</p><pre class="oac_no_warn" dir="ltr">复制自tkhouser / tkhouser @ inst1使用select * from“tkhodept”@ holink2插入loc_tkhodept;</pre></div>
               </div><a id="GMSWN746"></a><div class="props_rev_3"><a id="GUID-263C4864-9E01-4994-A55C-7CFACDF874F8" name="GUID-263C4864-9E01-4994-A55C-7CFACDF874F8"></a><h4 id="GMSWN-GUID-263C4864-9E01-4994-A55C-7CFACDF874F8" class="sect4">数据库链接</h4>
                  <div>
                     <p>网关不是多线程的，不支持共享数据库链接。每个网关会话都会生成一个单独的网关进程，并且无法共享连接。</p>
                  </div>
               </div>
            </div><a id="GMSWN747"></a><div class="props_rev_3"><a id="GUID-D6FB014B-53E0-41A4-B163-0FBB469151DB" name="GUID-D6FB014B-53E0-41A4-B163-0FBB469151DB"></a><h3 id="GMSWN-GUID-D6FB014B-53E0-41A4-B163-0FBB469151DB" class="sect3">已知问题</h3>
               <div>
                  <p>本节介绍已知问题，并包括在可能的情况下进行纠正的建议。如果您对问题有任何疑问或疑虑，请联系Oracle支持服务。可在线获取当前的问题列表。有关访问列表的信息，请与当地的Oracle办事处联系。</p>
                  <p>本节描述了以下已知问题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-1FB8BB9A-E0E8-4920-8D3C-E11B07001958">加密格式登录</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-4F243177-A053-4A00-9C6B-A9C65756871D">日期算术</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-522784C7-87F8-43B7-9C9C-B624BAEBB269">SQL Server IMAGE_ TEXT和NTEXT数据类型</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-C95B5741-B40A-4D49-A45E-188F018FFCCD">字符串函数</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-20474B79-62AD-4322-8FDB-74C47ECBA682">架构名称和PL / SQL</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-4527FCE1-B460-4156-8416-4167CD8AE014">数据字典视图和PL / SQL</a></p>
                     </li>
                     <li>
                        <p><a href="database-gateway-sqlserver-features.html#GUID-8FA7D620-EB99-44A8-A64E-0A458716C003">存储过程</a></p>
                     </li>
                  </ul>
               </div><a id="GMSWN748"></a><div class="props_rev_3"><a id="GUID-1FB8BB9A-E0E8-4920-8D3C-E11B07001958" name="GUID-1FB8BB9A-E0E8-4920-8D3C-E11B07001958"></a><h4 id="GMSWN-GUID-1FB8BB9A-E0E8-4920-8D3C-E11B07001958" class="sect4">加密格式登录</h4>
                  <div>
                     <p>Oracle9 <span class="italic">i</span>数据库（9.2版及更早版本）支持Oracle初始化参数<code class="codeph">DBLINK_ENCRYPT_LOGIN</code> 。当此参数设置为<code class="codeph">TRUE</code> ，不会通过网络发送登录用户ID的密码。
                     </p>
                     <p>如果在Oracle9 <span class="italic">i</span>数据库使用的初始化参数文件中将此参数设置为<code class="codeph">TRUE</code> ，则必须将设置更改为<code class="codeph">FALSE</code> （默认设置），以允许Oracle9 <span class="italic">i</span>与网关通信。
                     </p>
                     <p>在当前版本中， <code class="codeph">DBLINK_ENCRYPT_LOGIN</code>初始化参数已过时，因此您无需进行检查。
                     </p>
                  </div>
               </div><a id="GMSWN749"></a><div class="props_rev_3"><a id="GUID-4F243177-A053-4A00-9C6B-A9C65756871D" name="GUID-4F243177-A053-4A00-9C6B-A9C65756871D"></a><h4 id="GMSWN-GUID-4F243177-A053-4A00-9C6B-A9C65756871D" class="sect4">日期算术</h4>
                  <div>
                     <p>以下SQL表达式无法与网关正常运行：</p><pre class="oac_no_warn" dir="ltr"><span class="italic">日期</span> + <span class="italic">数字</span> <span class="italic">编号</span> + <span class="italic">日期</span>日期- <span class="italic">数</span> DATE1 - <span class="italic">DATE2</span>
</pre><p>具有前面表达式的语句将发送到SQL Server数据库，而不进行任何转换。由于SQL Server不支持这些日期算术函数，因此语句会返回错误。</p>
                  </div>
               </div><a id="GMSWN750"></a><div class="props_rev_3"><a id="GUID-522784C7-87F8-43B7-9C9C-B624BAEBB269" name="GUID-522784C7-87F8-43B7-9C9C-B624BAEBB269"></a><h4 id="GMSWN-GUID-522784C7-87F8-43B7-9C9C-B624BAEBB269" class="sect4">SQL Server IMAGE，TEXT和NTEXT数据类型</h4>
                  <div>
                     <p>使用<code class="codeph">IMAGE</code> ， <code class="codeph">TEXT</code>和<code class="codeph">NTEXT</code>数据类型时，以下限制适用：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>不支持的SQL函数不能在访问定义为SQL Server数据类型<code class="codeph">IMAGE</code> ， <code class="codeph">TEXT</code>或<code class="codeph">NTEXT</code>的列的SQL语句中使用。</p>
                        </li>
                        <li>
                           <p>当数据长度超过80个字符时，不能使用SQL * Plus从定义为SQL Server数据类型<code class="codeph">IMAGE</code> ， <code class="codeph">TEXT</code>或<code class="codeph">NTEXT</code>的列中选择数据。Oracle建议使用Pro * C或Oracle Call Interface访问SQL Server数据库中的此类数据。
                           </p>
                        </li>
                        <li>
                           <p>无法通过传递查询读取<code class="codeph">IMAGE</code> ， <code class="codeph">TEXT</code>和<code class="codeph">NTEXT</code>数据。
                           </p>
                        </li>
                        <li>
                           <p>如果SQL语句正在访问包含<code class="codeph">IMAGE</code> ， <code class="codeph">TEXT</code>或<code class="codeph">NTEXT</code>列的表，则该语句将作为两个单独的语句发送到SQL Server。一个语句用于访问<code class="codeph">IMAGE</code> ， <code class="codeph">TEXT</code>或<code class="codeph">NTEXT</code>列，另一个语句用于原始语句中的其他列。
                           </p>
                        </li>
                     </ul>
                     <p>网关不支持<code class="codeph">DBMS_SQL</code>包的PL / SQL函数<code class="codeph">COLUMN_VALUE_LONG</code> 。
                     </p>
                     <div class="infoboxnotealso" id="GUID-522784C7-87F8-43B7-9C9C-B624BAEBB269__GUID-A7B96452-7AFA-4044-BC86-2B22DAA60804">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="database-gateway-sqlserver-supported-sql-syntax-functions.html#GUID-D66F13BA-ADEC-4596-BED5-2F68539E93EB">支持的SQL语法和函数</a> ，以获取有关SQL语法限制的更多信息。
                        </p>
                     </div>
                  </div>
               </div><a id="GMSWN751"></a><div class="props_rev_3"><a id="GUID-C95B5741-B40A-4D49-A45E-188F018FFCCD" name="GUID-C95B5741-B40A-4D49-A45E-188F018FFCCD"></a><h4 id="GMSWN-GUID-C95B5741-B40A-4D49-A45E-188F018FFCCD" class="sect4">字符串函数</h4>
                  <div>
                     <p>如果使用“ <code class="codeph">||</code> ”或连接数字文字<a id="d2170e2987" class="indexterm-anchor"></a> <code class="codeph">CONCAT</code>运算符在使用网关查询SQL Server数据库时，结果是算术加法。例如，以下语句的结果为18：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT 9 || 9 FROM DUAL @ MSQL;</pre><p>使用Oracle查询Oracle数据库时，结果为99。</p>
                  </div>
               </div><a id="GMSWN752"></a><div class="props_rev_3"><a id="GUID-20474B79-62AD-4322-8FDB-74C47ECBA682" name="GUID-20474B79-62AD-4322-8FDB-74C47ECBA682"></a><h4 id="GMSWN-GUID-20474B79-62AD-4322-8FDB-74C47ECBA682" class="sect4">架构名称和PL / SQL</h4>
                  <div>
                     <p>如果不在PL / SQL块的SQL语句中为SQL Server数据库对象添加其模式名称，则会出现以下错误消息：</p><pre class="oac_no_warn" dir="ltr">必须声明ORA-6550 PLS-201标识符<span class="italic">table_name</span> 。
</pre><p>更改SQL语句以包括对象的模式名称。</p>
                  </div>
               </div><a id="GMSWN753"></a><div class="props_rev_3"><a id="GUID-4527FCE1-B460-4156-8416-4167CD8AE014" name="GUID-4527FCE1-B460-4156-8416-4167CD8AE014"></a><h4 id="GMSWN-GUID-4527FCE1-B460-4156-8416-4167CD8AE014" class="sect4">数据字典视图和PL / SQL</h4>
                  <div>
                     <p>您不能在PL / SQL块内的SQL语句中引用数据字典视图。</p>
                  </div>
               </div><a id="GMSWN754"></a><div class="props_rev_3"><a id="GUID-8FA7D620-EB99-44A8-A64E-0A458716C003" name="GUID-8FA7D620-EB99-44A8-A64E-0A458716C003"></a><h4 id="GMSWN-GUID-8FA7D620-EB99-44A8-A64E-0A458716C003" class="sect4">存储过程</h4>
                  <div>
                     <p>返回结果集的存储过程的返回值不正确。</p>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>