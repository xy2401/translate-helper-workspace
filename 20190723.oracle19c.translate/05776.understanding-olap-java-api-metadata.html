<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>了解OLAP Java API元数据</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Java API Developer&#39;s Guide "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Java API Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="olap-java-api-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-10T13:53:39-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2000, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96402-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="introduction-olap-java-api.html" title="Previous" type="text/html"></link>
      <link rel="next" href="discovering-metadata.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="OLAP Java API Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="OLAAP"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="introduction-olap-java-api.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="discovering-metadata.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Java API开发人员指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">了解OLAP Java API元数据</li>
            </ol>
            <a id="GUID-8E4F4EC0-8EF8-4D2A-BBAE-6010021A6D1A" name="GUID-8E4F4EC0-8EF8-4D2A-BBAE-6010021A6D1A"></a><a id="OLAAP124"></a>
            
            <h2 id="OLAAP-GUID-8E4F4EC0-8EF8-4D2A-BBAE-6010021A6D1A" class="sect2"><span class="enumeration_chapter">2</span>了解OLAP Java API元数据</h2>
         </header>
         <div class="ind">
            <div>
               <p>本章介绍Oracle OLAP Java API中表示OLAP维度和关系元数据对象的类。它还描述了提供对元数据对象和数据源的访问的类，或者包含有关元数据对象的信息的类。本章包括以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="understanding-olap-java-api-metadata.html#GUID-10AF5AF8-9905-4507-8D8D-6D43531641CE">OLAP Java API元数据类概述</a></p>
                  </li>
                  <li>
                     <p><a href="understanding-olap-java-api-metadata.html#GUID-3958E634-45A2-4776-B68B-C58A059625E4" title="使用MdmDescription对象，您可以将描述性信息与MdmObject对象相关联。">识别，描述和分类元数据对象</a></p>
                  </li>
                  <li>
                     <p><a href="understanding-olap-java-api-metadata.html#GUID-DFA2B273-8FE8-4321-9AAD-6D600CBDA607" title="数据库用户拥有的关系模式由MdmDatabaseSchema对象表示。">提供元数据对象</a></p>
                  </li>
                  <li>
                     <p><a href="understanding-olap-java-api-metadata.html#GUID-0D80BC10-B573-4B81-9CBE-33D31E9AA00F">提供对数据源的访问</a></p>
                  </li>
               </ul>
               <p>有关获取现有元数据对象的更多信息，请参阅<a href="discovering-metadata.html#GUID-0F34DAE9-AD90-4107-A14D-4DA29A13A369">发现元数据</a> 。有关创建元数据对象的更多信息，请参阅<a href="creating-metadata-and-analytic-workspaces.html#GUID-67674127-304F-4F8A-BCA1-410C8CB4797E">创建元数据和分析工作区</a> 。
               </p>
            </div><a id="OLAAP126"></a><a id="OLAAP127"></a><a id="OLAAP128"></a><a id="OLAAP125"></a><div class="props_rev_3"><a id="GUID-10AF5AF8-9905-4507-8D8D-6D43531641CE" name="GUID-10AF5AF8-9905-4507-8D8D-6D43531641CE"></a><h3 id="OLAAP-GUID-10AF5AF8-9905-4507-8D8D-6D43531641CE" class="sect3"><span class="enumeration_section">2.1</span> OLAP Java API元数据类概述</h3>
               <div>
                  <p><a href="introduction-olap-java-api.html#GUID-DD8064E5-A1F2-41AE-8322-29B84D2DCF24">OLAP简介Java API</a>描述了OLAP维度数据模型，并简要介绍了实现该模型的一些OLAP Java API类。这些类位于<code class="codeph">oracle.olapi.metadata</code>包中。使用这些类，您可以执行以下任务。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>获取对可用元数据对象的访问权限</p>
                     </li>
                     <li>
                        <p>创建新的元数据对象</p>
                     </li>
                     <li>
                        <p>在分析工作区中或作为关系对象部署元数据对象</p>
                     </li>
                     <li>
                        <p>将元数据对象映射到数据源</p>
                     </li>
                     <li>
                        <p>将元数据对象导出到XML或从XML导入它们</p>
                     </li>
                     <li>
                        <p>创建<code class="codeph">Source</code>对象以查询数据</p>
                     </li>
                  </ul>
                  <p><a href="understanding-olap-java-api-metadata.html#GUID-10AF5AF8-9905-4507-8D8D-6D43531641CE__CIAFCFGJ">图2-1</a>显示了<code class="codeph">oracle.olapi.metadata</code>包。
                  </p>
                  <div class="figure" id="GUID-10AF5AF8-9905-4507-8D8D-6D43531641CE__CIAFCFGJ">
                     <p class="titleinfigure">图2-1 oracle.olapi.metadata包</p><img width="476" src="img/mtdtpkgs.gif" alt="下面描述图2-1" title="下面描述图2-1" longdesc="img_text/mtdtpkgs.html"><br><a href="img_text/mtdtpkgs.html">“图2-1 oracle.olapi.metadata包”的描述</a></div>
                  <!-- class="figure" -->
                  <p><a id="d3607e160" class="indexterm-anchor"></a><a id="d3607e164" class="indexterm-anchor"></a>包裹如下：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><code class="codeph">oracle.olapi.metadata</code> ，具有接口和抽象类，用于指定元数据对象和元数据提供程序的最基本特征。
                        </p>
                     </li>
                     <li>
                        <p><a id="d3607e177" class="indexterm-anchor"></a><a id="d3607e181" class="indexterm-anchor"></a> <code class="codeph">oracle.olapi.metadata.mdm</code> ，它具有实现MDM（多维模型）元数据模型的类。此包具有表示元数据对象的类，提供对这些对象的访问的类以及包含有关对象的描述性信息的类。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">oracle.olapi.metadata.deployment</code> ，其类具有将元数据对象的组织指定为分析工作空间对象或关系对象的类。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">oracle.olapi.metadata.mapping</code> ，它具有将元数据对象映射到关系数据源的类。
                        </p>
                     </li>
                  </ul>
                  <p><a id="d3607e199" class="indexterm-anchor"></a><a id="d3607e203" class="indexterm-anchor"></a> <code class="codeph">oracle.olapi.metadata.mdm</code>包中的某些类直接对应于OLAP维度元数据对象。<a href="understanding-olap-java-api-metadata.html#GUID-10AF5AF8-9905-4507-8D8D-6D43531641CE__CIAIBAEB" title="OLAP维度元数据对象和相应的MDM元数据对象。">表2-1列出</a>了其中一些对应关系。
                  </p>
                  <div class="tblformal" id="GUID-10AF5AF8-9905-4507-8D8D-6D43531641CE__CIAIBAEB">
                     <p class="titleintable">表2-1对应的维度和MDM对象</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="相应的维度和MDM对象" width="100%" border="1" summary="OLAP dimensional metadata objects and corresponding MDM metadata objects." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="43%" id="d3607e226">维度元数据对象</th>
                              <th align="left" valign="bottom" width="57%" id="d3607e229">MDM元数据对象</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="43%" id="d3607e234" headers="d3607e226 ">
                                 <p>立方体</p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d3607e234 d3607e229 ">
                                 <p><code class="codeph">MdmCube</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="43%" id="d3607e242" headers="d3607e226 ">
                                 <p>测量</p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d3607e242 d3607e229 ">
                                 <p><code class="codeph">MdmBaseMeasure</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="43%" id="d3607e250" headers="d3607e226 ">
                                 <p>计算的度量</p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d3607e250 d3607e229 ">
                                 <p><code class="codeph">MdmDerivedMeasure</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="43%" id="d3607e258" headers="d3607e226 ">
                                 <p>测量文件夹</p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d3607e258 d3607e229 ">
                                 <p><code class="codeph">MdmOrganizationalSchema</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="43%" id="d3607e266" headers="d3607e226 ">
                                 <p>尺寸</p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d3607e266 d3607e229 ">
                                 <p><code class="codeph">MdmTimeDimension</code>和<code class="codeph">MdmStandardDimension</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="43%" id="d3607e277" headers="d3607e226 ">
                                 <p>等级制度</p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d3607e277 d3607e229 ">
                                 <p><code class="codeph">MdmLevelHierarchy</code>和<code class="codeph">MdmValueHierarchy</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="43%" id="d3607e288" headers="d3607e226 ">
                                 <p>水平</p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d3607e288 d3607e229 ">
                                 <p><code class="codeph">MdmDimensionLevel</code>和<code class="codeph">MdmHierarchyLevel</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="43%" id="d3607e299" headers="d3607e226 ">
                                 <p>属性</p>
                              </td>
                              <td align="left" valign="top" width="57%" headers="d3607e299 d3607e229 ">
                                 <p><code class="codeph">MdmBaseAttribute</code>和<code class="codeph">MdmDerivedAttribute</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p><a id="d3607e310" class="indexterm-anchor"></a><a id="d3607e314" class="indexterm-anchor"></a>包中的其他类对应于关系对象。<a href="understanding-olap-java-api-metadata.html#GUID-10AF5AF8-9905-4507-8D8D-6D43531641CE__CIAEJDCH" title="关系对象和相应的MDM元数据对象。">表2-2</a>显示了这些对应关系。
                  </p>
                  <div class="tblformal" id="GUID-10AF5AF8-9905-4507-8D8D-6D43531641CE__CIAEJDCH">
                     <p class="titleintable">表2-2对应的关系和MDM对象</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="相应的关系和MDM对象" width="100%" border="1" summary="Relational objects and corresponding MDM metadata objects." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d3607e334">关系对象</th>
                              <th align="left" valign="bottom" width="69%" id="d3607e337">MDM元数据对象</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d3607e342" headers="d3607e334 ">
                                 <p>架构</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d3607e342 d3607e337 ">
                                 <p><code class="codeph">MdmDatabaseSchema</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d3607e350" headers="d3607e334 ">
                                 <p>表</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d3607e350 d3607e337 ">
                                 <p><code class="codeph">MdmTable</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d3607e358" headers="d3607e334 ">
                                 <p>表栏</p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d3607e358 d3607e337 ">
                                 <p><code class="codeph">MdmColumn</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="OLAAP129"></a><div class="props_rev_3"><a id="GUID-3958E634-45A2-4776-B68B-C58A059625E4" name="GUID-3958E634-45A2-4776-B68B-C58A059625E4"></a><h3 id="OLAAP-GUID-3958E634-45A2-4776-B68B-C58A059625E4" class="sect3"><span class="enumeration_section">2.2</span>识别，描述和分类元数据对象</h3>
               <div>
                  <p>大多数OLAP Java API元数据对象具有唯一标识符（ID），名称以及所有者或包含对象。您还可以将描述和分类与大多数元数据对象相关联。</p>
                  <p><a id="d3607e402" class="indexterm-anchor"></a>大多数元数据类都扩展了抽象的<code class="codeph">oracle.olapi.metadata.BaseMetadataObject</code>类。<code class="codeph">BaseMetadataObject</code>可以具有名称和ID。您可以按名称获取大多数元数据对象。该ID由Oracle OLAP内部使用，但应用程序也可以使用该ID来获取某些元数据对象。
                  </p>
                  <p><a id="d3607e412" class="indexterm-anchor"></a><a id="d3607e414" class="indexterm-anchor"></a><a id="d3607e416" class="indexterm-anchor"></a><a id="d3607e420" class="indexterm-anchor"></a> <code class="codeph">BaseMetadataObject</code>还有一个所有者，由<code class="codeph">getOwner</code>方法返回。对于大多数元数据对象，所有者是<code class="codeph">MdmDatabaseSchema</code> 。对于<code class="codeph">MdmRootSchema</code>和<code class="codeph">MdmMeasureDimension</code>对象，所有者是根模式。对于<code class="codeph">MdmViewColumn</code> ，这是不的子类<code class="codeph">BaseMetadataObject</code> ，所述<code class="codeph">getOwner</code>方法返回的拥有实施<code class="codeph">MdmViewColumnOwner</code>接口，诸如<code class="codeph">MdmPrimaryDimension</code> ，一个<code class="codeph">MdmBaseAttribute</code>或<code class="codeph">MdmMeasure</code> 。<code class="codeph">MdmViewColumn</code>表示OLAP视图中的列。有关OLAP视图的信息，请参阅<span class="q">“ <a href="understanding-olap-java-api-metadata.html#GUID-934F9C46-F3FD-4ABC-901D-065B888569FE">使用OLAP视图</a> ”</span> 。
                  </p>
                  <p><a id="d3607e470" class="indexterm-anchor"></a><a id="d3607e474" class="indexterm-anchor"></a>某些<code class="codeph">BaseMetadataObject</code>对象包含在创建它们的元数据对象中。例如， <code class="codeph">MdmBaseMeasure</code>包含在创建它的<code class="codeph">MdmCube</code>中。您可以通过调用<code class="codeph">getContainedByObject</code>方法获取元数据对象的容器。
                  </p>
                  <p><code class="codeph">MdmObject</code>类是<code class="codeph">BaseMetadataObject</code>的抽象子类，它添加了与描述对象和分类的关联。通常，描述性对象包含与元数据对象本身关联的名称或描述性文本。应用程序通常在用户界面中使用描述性对象进行显示。分类是应用程序分配给元数据对象的字符串值。您的应用程序会根据您的需要处理分类。
                  </p>
               </div><a id="OLAAP130"></a><div class="props_rev_3"><a id="GUID-0C6FF076-7632-425F-98ED-0CA554060470" name="GUID-0C6FF076-7632-425F-98ED-0CA554060470"></a><h4 id="OLAAP-GUID-0C6FF076-7632-425F-98ED-0CA554060470" class="sect4"><span class="enumeration_section">2.2.1</span>识别对象</h4>
                  <div>
                     <p>您可以按名称和ID标识<code class="codeph">BaseMetadataObject</code>对象。命名空间标识遗留元数据对象的类型和格式。
                     </p>
                  </div><a id="OLAAP131"></a><div class="props_rev_3"><a id="GUID-9300E5F7-A8ED-4AE2-8BBC-4C0743C71362" name="GUID-9300E5F7-A8ED-4AE2-8BBC-4C0743C71362"></a><h5 id="OLAAP-GUID-9300E5F7-A8ED-4AE2-8BBC-4C0743C71362" class="sect5"><span class="enumeration_section">2.2.1.1</span>获取和设置名称</h5>
                     <div>
                        <p><a id="d3607e571" class="indexterm-anchor"></a><a id="d3607e575" class="indexterm-anchor"></a><a id="d3607e579" class="indexterm-anchor"></a><a id="d3607e581" class="indexterm-anchor"></a>大多数元数据对象都有一个名称，您可以通过调用该<code class="codeph">getName</code>方法获得该名称。对于某些对象，可以在创建对象时指定名称。例如， <code class="codeph">oracle.olapi.metadata.deployment.AW</code>对象表示分析工作区。当你创建一个<code class="codeph">AW</code>通过调用<code class="codeph">findOrCreateAW</code>的方法<code class="codeph">MdmDatabaseSchema</code> ，您使用<code class="codeph">publicName</code>方法的参数为指定一个名称<code class="codeph">AW</code>对象，该方法返回。
                        </p>
                        <p><a id="d3607e609" class="indexterm-anchor"></a><a id="d3607e613" class="indexterm-anchor"></a><a id="d3607e615" class="indexterm-anchor"></a>对于某些对象，可以使用<code class="codeph">setName</code>方法更改现有对象的名称。例如，您可以通过调用维对象的<code class="codeph">setName</code>方法来更改<code class="codeph">MdmStandardDimension</code>的名称。在提交会话的根<code class="codeph">Transaction</code>之前，新名称不会生效。在调用<code class="codeph">setName</code> ，但在提交根<code class="codeph">Transaction</code> ， <code class="codeph">getNewName</code>方法返回新名称，而<code class="codeph">getName</code>方法返回现有名称。有关按名称获取对象的详细信息，请参阅<span class="q">“ <a href="using-transaction-provider.html#GUID-97F18515-5688-4559-A476-0E87C2A787F1">关于在事务中创建元数据对象或查询</a> ”</span></p>
                        <p>您可以从<code class="codeph">MdmDatabaseSchema</code>按名称获取一些对象。有关按名称获取对象的更多信息，请参阅<span class="q">“ <a href="understanding-olap-java-api-metadata.html#GUID-2A2A238D-BAE6-4E7C-9415-13ED8932C5D4" title="数据库用户拥有的关系模式由MdmDatabaseSchema对象表示。">表示模式</a> ”</span> 。
                        </p>
                        <p>要用于在用户界面中显示名称或描述，或者出于任何目的，可以使用<code class="codeph">MdmDescription</code>类将任意数量的名称和描述与<code class="codeph">MdmObject</code>相关联。有关使用该类的信息，请参阅<span class="q">“ <a href="understanding-olap-java-api-metadata.html#GUID-14EAA340-EEB4-477A-AF53-0BD07F5C7ECC" title="使用MdmDescription对象，您可以将描述性信息与MdmObject对象相关联。">使用说明</a> ”</span> 。
                        </p>
                     </div>
                  </div><a id="OLAAP132"></a><div class="props_rev_3"><a id="GUID-C7F7E2C9-8AC8-459E-AE8A-7A1F9FEAA3C4" name="GUID-C7F7E2C9-8AC8-459E-AE8A-7A1F9FEAA3C4"></a><h5 id="OLAAP-GUID-C7F7E2C9-8AC8-459E-AE8A-7A1F9FEAA3C4" class="sect5"><span class="enumeration_section">2.2.1.2</span>描述唯一标识符</h5>
                     <div>
                        <p><a id="d3607e720" class="indexterm-anchor"></a><a id="d3607e724" class="indexterm-anchor"></a><a id="d3607e728" class="indexterm-anchor"></a><a id="d3607e732" class="indexterm-anchor"></a>大多数元数据对象具有唯一标识符（ID）。标识符具有以下形式之一。
                        </p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">对象名</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">ownerName.objectName</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">ownerName.containerName.objectName</code></p>
                           </li>
                        </ul>
                        <p><a id="d3607e751" class="indexterm-anchor"></a>例如，对于表示用户<code class="codeph">GLOBAL</code>的模式的<code class="codeph">MdmDatabaseSchema</code> ， <code class="codeph">getID</code>方法返回的标识符为<code class="codeph">GLOBAL</code> 。对于名为PRODUCT_AWJ的<code class="codeph">MdmPrimaryDimension</code> ， <code class="codeph">getID</code>方法返回<code class="codeph">GLOBAL.PRODUCT_AWJ</code> ，对于名为PRODUCT_PRIMARY的该维度的<code class="codeph">MdmLevelHierarchy</code> ，该方法返回<code class="codeph">GLOBAL.PRODUCT_AWJ.PRODUCT_PRIMARY</code> 。</p>
                        <p>元数据对象的ID是持久的。但是，如果元数据对象的名称或所有者发生更改，则ID也会更改。有关按ID获取对象的详细信息，请参阅<span class="q">“ <a href="understanding-olap-java-api-metadata.html#GUID-D5502091-A7BB-41D7-8805-A2BF5A05905F">按ID获取元数据对象</a> ”</span> 。
                        </p>
                        <p>对于传统的10g元数据对象，标识符的第一部分是命名空间。命名空间后面是命名空间分隔符，它是两个句点。一个10g维度的标识符示例是<code class="codeph">AWXML_DIMENSION..GLOBAL.PRODUCT_AW</code> 。</p>
                     </div>
                  </div><a id="OLAAP133"></a><div class="props_rev_3"><a id="GUID-73B39E66-D3D5-48CE-96C5-4EDC77DD2230" name="GUID-73B39E66-D3D5-48CE-96C5-4EDC77DD2230"></a><h5 id="OLAAP-GUID-73B39E66-D3D5-48CE-96C5-4EDC77DD2230" class="sect5"><span class="enumeration_section">2.2.1.3</span>支持传统元数据对象</h5>
                     <div>
                        <p><a id="d3607e832" class="indexterm-anchor"></a><a id="d3607e836" class="indexterm-anchor"></a>在Oracle数据库，版本11 <span class="italic">g</span> ，Oracle数据库，版本11 <span class="italic">g</span> Oracle OLAP支持传统的10 <span class="italic">g</span> OLAP Java API应用程序。命名空间标识10 <span class="italic">g</span>元数据对象，并使它们与11 <span class="italic">g</span>对象存在于同一会话中。
                        </p>
                     </div><a id="OLAAP134"></a><div class="props_rev_3"><a id="GUID-65AC20D7-B954-428D-8E39-1FA37DB24BB6" name="GUID-65AC20D7-B954-428D-8E39-1FA37DB24BB6"></a><h6 id="OLAAP-GUID-65AC20D7-B954-428D-8E39-1FA37DB24BB6" class="sect6"><span class="enumeration_section">2.2.1.3.1</span>支持遗留应用程序</h6>
                        <div>
                           <p><a id="d3607e892" class="indexterm-anchor"></a>支持使用以10 <span class="italic">g</span>创建的OLAP元数据对象的旧应用程序<code class="codeph">oracle.olapi.data.source.DataProvider</code>类具有元数据读取器模式。默认情况下，元数据读取器可识别Oracle OLAP 10 <span class="italic">g</span>和11 <span class="italic">g</span>元数据对象。您可以使用<code class="codeph">java.util.的属性指定元数据读取器模式<code class="codeph">java.util.Properties</code>对象或具有正确XML格式的字符串。有关模式以及如何指定模式的信息，请参阅<a href="../olapi/index.html" target="_blank"><span class="italic">Oracle OLAP Java API参考</span></a>文档中的<code class="codeph">DataProvider</code>类的构造函数方法。
                           </p>
                        </div>
                     </div><a id="OLAAP135"></a><div class="props_rev_3"><a id="GUID-DF510AC2-0020-4467-A9F4-8209DA5FCE25" name="GUID-DF510AC2-0020-4467-A9F4-8209DA5FCE25"></a><h6 id="OLAAP-GUID-DF510AC2-0020-4467-A9F4-8209DA5FCE25" class="sect6"><span class="enumeration_section">2.2.1.3.2</span>描述命名空间</h6>
                        <div>
                           <p></p>
                           <p><a id="d3607e955" class="indexterm-anchor"></a><a id="d3607e959" class="indexterm-anchor"></a><a id="d3607e963" class="indexterm-anchor"></a>在Oracle数据库版本10 <span class="italic">g中</span> ，Oracle OLAP多维数据集，维度或度量文件夹可以与关系表或视图具有相同的名称。在版本<span class="italic">11g中</span> ，顶级OLAP元数据对象存储在Oracle数据库数据字典中，因此它们不能与另一个关系对象具有相同的名称。命名空间指定允许遗留OLAP的Java <span class="italic">API10克</span>元数据对象，以在相同的会话<span class="italic">11克</span>元数据对象存在。此类遗留元数据对象是使用<code class="codeph">oracle.olapi.类创建的<code class="codeph">oracle.olapi.Oracle OLAP Analytic Workspace Java API的AWXML</code>包或使用CWM PL / SQL包。对于同一会话中存在的10 <span class="italic">g</span>和11 <span class="italic">g</span>对象， <code class="codeph">DataProvider</code>的元数据读取器模式必须设置为<code class="codeph">ALL</code> 。 <code class="codeph">ALL</code>模式是默认的元数据读取器模式。有关元数据读取器模式设置的更多信息，请参阅<a href="../olapi/index.html" target="_blank"><span class="italic">Oracle OLAP Java API Reference中</span></a>的<code class="codeph">DataProvider</code>类文档。
                           </p>
                           <p>10 <span class="italic">g</span> cube，dimension和measure文件夹的元数据对象由<code class="codeph">MdmCube</code> ， <code class="codeph">MdmPrimaryDimension</code>和<code class="codeph">MdmSchema</code>类以11 <span class="italic">g</span>表示。其中一个类的实例可以具有与之关联的命名空间，该命名空间由<code class="codeph">getNamespace</code>方法返回。对于11 <span class="italic">g</span>对象，名称空间为null。
                           </p>
                           <p>10 <span class="italic">g</span>对象的11 <span class="italic">g</span> XML定义具有<code class="codeph">Namespace</code>属性。有关导出和导入元数据对象的XML定义的信息，请参阅<span class="q">“ <a href="understanding-olap-java-api-metadata.html#GUID-929005B2-E4BB-471F-B64C-CD9E13FDCBC8">将元数据导出和导入为XML模板</a> ”</span> 。
                           </p>
                           <p>遗留元数据对象的名称空间标识元数据格式和对象类型。它以<code class="codeph">AWXML_</code>或<code class="codeph">CWM_</code> ，然后具有对象类型，例如<code class="codeph">CUBE</code>或<code class="codeph">DIMENSION</code> 。例如，通过使用在Oracle数据库10 <span class="italic">克</span>的Oracle OLAP分析工作区的Java API创建的尺寸，第2版（10.2），将具有的命名空间<code class="codeph">AWXML_DIMENSION</code> 11 <span class="italic">克</span>
                           </p>
                           <p><a id="d3607e1071" class="indexterm-anchor"></a>有效的名称空间由<code class="codeph">MdmMetadataProvider</code>类的静态常量字段表示。该类的<code class="codeph">getValidNamespaces</code>方法返回有效命名空间的列表，包括默认命名空间。您无法创建新的命名空间。
                           </p>
                           <p><a id="d3607e1081" class="indexterm-anchor"></a>您可以使用常量字段从<code class="codeph">MdmDatabaseSchema</code>获取遗留元数据对象。例如，以下代码获取PRODUCT_AW维度。在代码中， <code class="codeph">mdmDBSchema</code>是GLOBAL用户的<code class="codeph">MdmDatabaseSchema</code> 。
                           </p><pre class="oac_no_warn" dir="ltr">MdmStandardDimension mdmProdAWDim = mdmDBSchema.findOrCreateStandardDimension（“PRODUCT_AW”，MdmMetadataProvider。AWXML_DIMENSION_NAMESPACE）;</pre><p><a id="d3607e1096" class="indexterm-anchor"></a>在<code class="codeph">ALL</code>元数据读取器模式下，您将获得现有的10 <span class="italic">g</span>元数据对象，但无法创建新的元数据对象。如果遗留元数据对象不存在，则该方法返回具有指定名称的<span class="italic">11g</span>对象。
                           </p>
                        </div>
                     </div>
                  </div>
               </div><a id="OLAAP138"></a><a id="OLAAP139"></a><a id="OLAAP137"></a><a id="OLAAP136"></a><div class="props_rev_3"><a id="GUID-14EAA340-EEB4-477A-AF53-0BD07F5C7ECC" name="GUID-14EAA340-EEB4-477A-AF53-0BD07F5C7ECC"></a><h4 id="OLAAP-GUID-14EAA340-EEB4-477A-AF53-0BD07F5C7ECC" class="sect4"><span class="enumeration_section">2.2.2</span>使用描述</h4>
                  <div>
                     <p>使用<code class="codeph">MdmDescription</code>对象，您可以将描述性信息与<code class="codeph">MdmObject</code>对象相关联。
                     </p>
                     <p>一个<code class="codeph">MdmDescriptionType</code>对象表示的描述的类型<code class="codeph">MdmDescription</code> 。您可以使用<code class="codeph">MdmDescription</code>对象在用户界面中显示元数据对象的名称，描述或其他信息。<code class="codeph">MdmDescription</code>对象完全由应用程序创建，分配和处理。
                     </p>
                     <div class="infoboxnote" id="GUID-14EAA340-EEB4-477A-AF53-0BD07F5C7ECC__GUID-A921441F-2D21-4077-9759-8EC47FC0308F">
                        <p class="notep1">注意：</p>
                        <p>通过<code class="codeph">MdmDescription</code>与<code class="codeph">MdmObject</code>关联的描述性名称不是<code class="codeph">MdmObject.getName</code>方法返回的对象名称。Oracle OLAP使用对象名称在内部标识对象。描述性名称仅由应用程序使用。
                        </p>
                     </div>
                     <p>OLAP Java API定义了一些类型的描述。<code class="codeph">MdmDescriptionType</code>类具有提供以下描述类型的静态方法：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>名称</p>
                        </li>
                        <li>
                           <p>简称</p>
                        </li>
                        <li>
                           <p>长名</p>
                        </li>
                        <li>
                           <p>多个名字</p>
                        </li>
                        <li>
                           <p>简短的复数名称</p>
                        </li>
                        <li>
                           <p>长复数名</p>
                        </li>
                        <li>
                           <p>描述</p>
                        </li>
                        <li>
                           <p>简短的介绍</p>
                        </li>
                        <li>
                           <p>详细描述</p>
                        </li>
                     </ul>
                     <p>您可以通过调用<code class="codeph">MdmDescriptionType</code>方法获得这些已定义的描述类型<code class="codeph">MdmDescriptionType</code> 。例如，以下代码获取长名称和长描述的描述类型对象。
                     </p><pre class="oac_no_warn" dir="ltr">MdmDescriptionType mdmLongNameDescrType = MdmDescriptionType.getLongNameDescriptionType（）; MdmDescriptionType mdmLongDescrDescrType = MdmDescriptionType.getLongDescriptionDescriptionType（）;</pre><p>您可以使用<code class="codeph">MdmDescriptionType</code>的构造方法创建新类型的描述。您可以使用<code class="codeph">getDescriptiveType</code>方法获取<code class="codeph">MdmDescriptionType</code>对象的类型。下面的第一个图显示了<code class="codeph">MdmDescriptionType</code>的方法。
                     </p>
                     <p>某些已定义的描述类型具有关联的默认描述类型。您可以使用<code class="codeph">MdmDescriptionType(java.lang.更改默认描述类型或为新的或现有的<code class="codeph">MdmDescriptionType</code>指定默认描述类型<code class="codeph">MdmDescriptionType(java.lang.String type, MdmDescriptionType defaultType)</code>构造函数方法。您可以使用<code class="codeph">getDescriptiveTypeDefault</code>方法获取<code class="codeph">MdmDescriptionType</code>对象的默认类型。
                     </p>
                     <div class="example" id="GUID-14EAA340-EEB4-477A-AF53-0BD07F5C7ECC__CIAEGDEA">
                        <p class="titleinexample">示例2-1将描述与MdmObject关联</p>
                        <p>到关联<code class="codeph">MdmDescription</code>与对象<code class="codeph">MdmObject</code> ，使用<code class="codeph">findOrCreateDescription</code>或<code class="codeph">setDescription</code>所述的方法<code class="codeph">MdmObject</code> 。<code class="codeph">findOrCreateDescription</code>方法返回<code class="codeph">MdmDescription</code>对象。要指定描述的值，请使用<code class="codeph">MdmDescription</code>的<code class="codeph">setValue</code>方法。
                        </p>
                        <p>此示例显示了将<code class="codeph">MdmDescription</code>与<code class="codeph">MdmObject</code>相关联的两种方法。在该示例中， <code class="codeph">mdmProdDim</code>是<code class="codeph">MdmStandardDimension</code>对象。
                        </p><pre class="oac_no_warn" dir="ltr">MdmDescription mdmShortNameDescr = mdmProdDim.findOrCreateDescription（MdmDescriptionType.getShortNameDescriptionType（），“AMERICAN”）; mdmShortNameDescr.setValue（ “产品”）; mdmProdDim.setDescription（MdmDescriptionType.getLongNameDescriptionType（），“Product Dimension”）;</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <p>此图显示了使用<code class="codeph">MdmDescription</code>和<code class="codeph">MdmDescriptionType</code>对象的<code class="codeph">MdmObject</code>方法。它还显示了<code class="codeph">MdmDescription</code>和<code class="codeph">MdmDescriptionType</code>类及其方法，以及类之间的关联。<code class="codeph">MdmObject</code>可以具有从零到多个<code class="codeph">MdmDescription</code>对象。<code class="codeph">MdmDescription</code>与一个<code class="codeph">MdmObject</code>和一个<code class="codeph">MdmDescriptionType</code>相关联。<code class="codeph">MdmDescriptionType</code>可以与一个或多个<code class="codeph">MdmDescription</code>对象相关联。
                        </p>
                        <div class="figure" id="GUID-14EAA340-EEB4-477A-AF53-0BD07F5C7ECC__CIADHBCG">
                           <p class="titleinfigure">图2-2 MdmObject和MdmDescription关联</p><img src="img/mdmdsctp.gif" width="579" alt="下面是图2-2的描述" title="下面是图2-2的描述" longdesc="img_text/mdmdsctp.html"><br><a href="img_text/mdmdsctp.html">“图2-2 MdmObject和MdmDescription关联”的说明</a></div>
                        <!-- class="figure" -->
                        <p>11 <span class="italic">g</span>之前的OLAP Java API版本没有<code class="codeph">MdmDescription</code>和<code class="codeph">MdmDescriptionType</code>类。在这些版本中， <code class="codeph">MdmObject</code>类只有以下获取和设置描述的方法。
                        </p>
                        <div class="figure" id="GUID-14EAA340-EEB4-477A-AF53-0BD07F5C7ECC__GUID-99170152-A24E-4B4C-83AE-CD19E522518A">
                           <p class="titleinfigure">图2-3 11g之前获取和设置描述的方法</p><img src="img/mdmobjds.gif" width="245" alt="下面是图2-3的描述" title="下面是图2-3的描述" longdesc="img_text/mdmobjds.html"><br><a href="img_text/mdmobjds.html">“图2-3在11g之前获取和设置描述的方法”的描述</a></div>
                        <!-- class="figure" -->
                        <p>为了向后兼容，OLAP Java API仍支持这些方法，但使用<code class="codeph">MdmDescription</code>和<code class="codeph">MdmDescriptionType</code>对象在内部实现它们。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="OLAAP140"></a><div class="props_rev_3"><a id="GUID-60F9D7C3-23BE-4BB6-AAF3-3A1D56D774B3" name="GUID-60F9D7C3-23BE-4BB6-AAF3-3A1D56D774B3"></a><h4 id="OLAAP-GUID-60F9D7C3-23BE-4BB6-AAF3-3A1D56D774B3" class="sect4"><span class="enumeration_section">2.2.3</span>使用分类</h4>
                  <div>
                     <p><a id="d3607e1457" class="indexterm-anchor"></a><a id="d3607e1459" class="indexterm-anchor"></a><a id="d3607e1463" class="indexterm-anchor"></a>分类是<code class="codeph">MdmObject</code>的属性。您可以为对象分配分类，然后根据需要使用分类。例如，您可以添加值为“HIDDEN”的分类，以指示应用程序不应在用户界面中显示该对象。您可以使用对象的<code class="codeph">addObjectClassification</code>方法为<code class="codeph">MdmObject</code>分配分类。您可以使用<code class="codeph">getObjectClassifications</code>方法获取分类，并使用<code class="codeph">removeObjectClassification</code>方法删除它。
                     </p>
                  </div>
               </div>
            </div><a id="OLAAP141"></a><div class="props_rev_3"><a id="GUID-DFA2B273-8FE8-4321-9AAD-6D600CBDA607" name="GUID-DFA2B273-8FE8-4321-9AAD-6D600CBDA607"></a><h3 id="OLAAP-GUID-DFA2B273-8FE8-4321-9AAD-6D600CBDA607" class="sect3"><span class="enumeration_section">2.3</span>提供元数据对象</h3>
               <div>
                  <p>最初由<code class="codeph">MdmMetadataProvider</code>和<code class="codeph">MdmSchema</code>对象提供对Oracle OLAP Java API元数据对象的访问。<code class="codeph">MdmMetadataProvider</code>还能够导入或导出元数据对象的XML表示。以下主题描述了<code class="codeph">MdmMetadataProvider</code>类及其用法。
                  </p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="understanding-olap-java-api-metadata.html#GUID-118CC4C2-2279-42C4-8032-64E49C916C68">描述元数据提供者</a></p>
                     </li>
                     <li>
                        <p><a href="understanding-olap-java-api-metadata.html#GUID-2A2A238D-BAE6-4E7C-9415-13ED8932C5D4" title="数据库用户拥有的关系模式由MdmDatabaseSchema对象表示。">代表架构</a></p>
                     </li>
                  </ul>
               </div><a id="OLAAP142"></a><div class="props_rev_3"><a id="GUID-118CC4C2-2279-42C4-8032-64E49C916C68" name="GUID-118CC4C2-2279-42C4-8032-64E49C916C68"></a><h4 id="OLAAP-GUID-118CC4C2-2279-42C4-8032-64E49C916C68" class="sect4"><span class="enumeration_section">2.3.1</span>描述元数据提供者</h4>
                  <div>
                     <p><a id="d3607e1583" class="indexterm-anchor"></a>在获取或创建OLAP Java API元数据对象之前，必须先创建<code class="codeph">MdmMetadataProvider</code> 。有关创建<code class="codeph">MdmMetadataProvider</code> ，请参阅<span class="q">“ <a href="discovering-metadata.html#GUID-97258A59-DFD0-4148-910B-F755E1863CEC">创建MdmMetadataProvider</a> ”</span> 。
                     </p>
                     <p><a id="d3607e1600" class="indexterm-anchor"></a><a id="d3607e1602" class="indexterm-anchor"></a><a id="d3607e1604" class="indexterm-anchor"></a>随着<code class="codeph">getRootSchema</code>的方法<code class="codeph">MdmMetadataProvider</code> ，你可以得到根<code class="codeph">MdmSchema</code>对象，这是一个实例<code class="codeph">MdmRootSchema</code>类。根模式是<code class="codeph">MdmDatabaseSchema</code>对象的容器。
                     </p>
                     <p><a id="d3607e1624" class="indexterm-anchor"></a><a id="d3607e1628" class="indexterm-anchor"></a><a id="d3607e1632" class="indexterm-anchor"></a><a id="d3607e1636" class="indexterm-anchor"></a><a id="d3607e1638" class="indexterm-anchor"></a> <code class="codeph">MdmDatabaseSchema</code>对象是顶级元数据对象（如<code class="codeph">AW</code> ， <code class="codeph">MdmCube</code>和<code class="codeph">MdmPrimaryDimension</code>对象）的<code class="codeph">MdmPrimaryDimension</code> 。顶级对象是第一类数据对象，并在Oracle数据库数据字典中表示。因为它们位于数据字典中，所以这些OLAP数据对象可用于SQL查询。通过使用创建顶级的元数据对象<code class="codeph">findOrCreate</code>的方法<code class="codeph">MdmDatabaseSchema</code> 。
                     </p>
                     <p>顶级对象是对象的容器，例如<code class="codeph">MdmMeasure</code> ， <code class="codeph">MdmHierarchy</code>和<code class="codeph">MdmAttribute</code>对象。您可以使用顶级对象的方法创建包含的对象。
                     </p>
                     <p>有关<code class="codeph">MdmSchema</code>对象的更多信息，请参阅<span class="q">“ <a href="understanding-olap-java-api-metadata.html#GUID-2A2A238D-BAE6-4E7C-9415-13ED8932C5D4" title="数据库用户拥有的关系模式由MdmDatabaseSchema对象表示。">表示模式</a> ”</span> 。有关顶级元数据对象的信息，请参阅<span class="q">“ <a href="understanding-olap-java-api-metadata.html#GUID-0D80BC10-B573-4B81-9CBE-33D31E9AA00F">提供对数据源的访问</a> ”</span> 。
                     </p>
                     <p>您还可以通过调用<code class="codeph">MdmMetadataProvider</code>的<code class="codeph">getMetadataObject</code>或<code class="codeph">getMetadataObjects</code>方法并提供元数据对象的ID来获取现有元数据对象。
                     </p>
                     <p>以下主题描述了获取元数据对象：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="understanding-olap-java-api-metadata.html#GUID-D5502091-A7BB-41D7-8805-A2BF5A05905F">按ID获取元数据对象</a></p>
                        </li>
                        <li>
                           <p><a href="understanding-olap-java-api-metadata.html#GUID-929005B2-E4BB-471F-B64C-CD9E13FDCBC8">将元数据导出和导入为XML模板</a></p>
                        </li>
                     </ul>
                  </div><a id="OLAAP143"></a><div class="props_rev_3"><a id="GUID-D5502091-A7BB-41D7-8805-A2BF5A05905F" name="GUID-D5502091-A7BB-41D7-8805-A2BF5A05905F"></a><h5 id="OLAAP-GUID-D5502091-A7BB-41D7-8805-A2BF5A05905F" class="sect5"><span class="enumeration_section">2.3.1.1</span>按ID获取元数据对象</h5>
                     <div>
                        <p><a id="d3607e1752" class="indexterm-anchor"></a><a id="d3607e1756" class="indexterm-anchor"></a><a id="d3607e1760" class="indexterm-anchor"></a><a id="d3607e1762" class="indexterm-anchor"></a>通常，您可以通过在拥有对象上调用<code class="codeph">findOrCreate</code>方法来获取或创建元数据对象。例如，您可以获取或创建一个<code class="codeph">MdmCube</code>通过调用<code class="codeph">findOrCreateCube</code>的方法<code class="codeph">MdmDatabaseSchema</code>对象。但是，您也可以通过指定对象的ID从<code class="codeph">MdmMetadataProvider</code>获取现有元数据对象。<code class="codeph">MdmMetadataProvider.getMetadataObject</code>方法获取一个<code class="codeph">String</code> ，该<code class="codeph">String</code>是对象的ID并返回该对象。<code class="codeph">getMetadataObjects</code>方法获取ID <code class="codeph">List</code>并返回对象<code class="codeph">List</code> 。
                        </p>
                        <p>您可以从一个会话存储元数据对象的ID，然后在另一个会话中通过该ID获取该对象。当然，通过存储的ID获取对象会假定对象仍然存在，并且对象的ID未更改。对于某些元数据对象，您可以更改名称或所有者。如果对象的名称或所有者发生更改，则对象的ID会更改。</p>
                     </div>
                  </div><a id="OLAAP144"></a><div class="props_rev_3"><a id="GUID-929005B2-E4BB-471F-B64C-CD9E13FDCBC8" name="GUID-929005B2-E4BB-471F-B64C-CD9E13FDCBC8"></a><h5 id="OLAAP-GUID-929005B2-E4BB-471F-B64C-CD9E13FDCBC8" class="sect5"><span class="enumeration_section">2.3.1.2</span>将元数据导出和导入为XML模板</h5>
                     <div>
                        <p><code class="codeph">MdmMetadataProvider</code>类有许多方法可以将元数据对象导入和导出这些对象的XML定义。XML定义是Oracle OLAP可以从中创建定义的元数据对象的模板。
                        </p>
                        <p>您可以使用XML模板在Oracle数据库实例之间传输元数据对象。您可以在Analytic Workspace Manager和OLAP Java API应用程序之间交换XML模板;也就是说，在Analytic Workspace Manager中，您可以导入使用<code class="codeph">MdmMetadataProvider</code>导出XML方法创建的模板，并且可以使用<code class="codeph">importXML</code>方法导入由Analytic Workspace Manager创建的XML模板。
                        </p>
                        <p><a id="d3607e1847" class="indexterm-anchor"></a>导出XML时，可以重命名对象或为XML属性的值指定绑定变量。您还可以提供<code class="codeph">XMLWriterCallback</code>接口的实现来管理导出过程的某些方面。导入XML时，可以指定<code class="codeph">MdmDatabaseSchema</code>以拥有导入的对象，绑定值以替换导出的XML中的绑定变量，以及<code class="codeph">XMLParserCallback</code>接口的实现来管理导入过程的某些方面。
                        </p>
                        <p>以下主题描述了通过XML模板导出和导入元数据对象。</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="understanding-olap-java-api-metadata.html#GUID-702E3989-71A9-43AB-AA6D-CFCD25FC949E">导出XML模板</a></p>
                           </li>
                           <li>
                              <p><a href="understanding-olap-java-api-metadata.html#GUID-226F606E-9407-408B-BCE9-F6310F228E02">导入XML模板</a></p>
                           </li>
                           <li>
                              <p><a href="understanding-olap-java-api-metadata.html#GUID-862D809C-4FE9-4B5F-8148-BC30309478ED">在XML模板中描述绑定变量</a></p>
                           </li>
                        </ul>
                     </div><a id="OLAAP145"></a><div class="props_rev_3"><a id="GUID-702E3989-71A9-43AB-AA6D-CFCD25FC949E" name="GUID-702E3989-71A9-43AB-AA6D-CFCD25FC949E"></a><h6 id="OLAAP-GUID-702E3989-71A9-43AB-AA6D-CFCD25FC949E" class="sect6"><span class="enumeration_section">2.3.1.2.1</span>导出XML模板</h6>
                        <div>
                           <p><a id="d3607e1912" class="indexterm-anchor"></a><a id="d3607e1916" class="indexterm-anchor"></a><a id="d3607e1920" class="indexterm-anchor"></a>为了将元数据对象导出到XML模板， <code class="codeph">MdmMetadataProvider</code>具有许多<code class="codeph">exportFullXML</code>和<code class="codeph">exportIncrementalXML</code>方法的签名。这些方法将模板导出到<code class="codeph">java.lang.String</code>或<code class="codeph">java.io.Writer</code> 。
                           </p>
                           <p>您可以使用这些方法产生XML模板通过导入元数据对象<code class="codeph">importXML</code>的方法<code class="codeph">MdmMetadataProvider</code> 。您还可以使用XML模板在Analytic Workspace Manager中导入元数据对象。
                           </p>
                           <p><a id="d3607e1948" class="indexterm-anchor"></a><a id="d3607e1952" class="indexterm-anchor"></a> <code class="codeph">exportFullXML</code>方法导出指定对象或自指定的<code class="codeph">oracle.olapi.transaction.以来创建或修改的对象的完整XML定义<code class="codeph">oracle.olapi.transaction.Transaction</code> 。有关使用<code class="codeph">exportFullXML</code>方法的<a href="creating-metadata-and-analytic-workspaces.html#GUID-767D2EF6-AAC5-47DA-91A8-9D48AD90A279__BABGCBEB">示例</a> ，请参见<a href="creating-metadata-and-analytic-workspaces.html#GUID-767D2EF6-AAC5-47DA-91A8-9D48AD90A279__BABGCBEB">示例4-10</a> 。
                           </p>
                           <p><code class="codeph">exportIncrementalXML</code>方法仅导出自指定的<code class="codeph">Transaction</code>以来为元数据对象更改的XML属性。如果指定了对象<code class="codeph">List</code> ，则导出的模板将包含已为列表中的对象更改的XML属性。导出的增量XML包括已更改对象的所有权和包含层次结构中对象的类型和名称。
                           </p>
                           <p><code class="codeph">exportFullXML</code>和<code class="codeph">exportIncrementalXML</code>方法采用以下参数的各种组合。
                           </p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>要导出的对象<code class="codeph">List</code>或<code class="codeph">Transaction</code> 。
                                 </p>
                              </li>
                              <li>
                                 <p>Oracle OLAP导出XML的<code class="codeph">Writer</code> 。如果未指定<code class="codeph">Writer</code> ，则该方法返回<code class="codeph">java.lang.包含XML的String</code> 。</p>
                              </li>
                              <li>
                                 <p>一个<code class="codeph">java.util.具有元数据对象引用的Map</code>作为键，并且具有作为键的对象的<code class="codeph">String</code>值，其包含引用对象的新名称。使用此<code class="codeph">Map</code> ，您可以重命名导出的对象。如果不想重命名任何对象，可以为参数指定<code class="codeph">null</code> 。
                                 </p>
                                 <p>如果为此<code class="codeph">renameMap</code>参数指定<code class="codeph">Map</code> ，则Oracle OLAP XML生成器将在导出期间重命名引用的对象。您可以通过这种方式复制现有对象的定义，方法是在导出XML模板期间重命名对象，然后导入模板。
                                 </p>
                              </li>
                              <li>
                                 <p>一个<code class="codeph">boolean</code> ，指定是否在导出的XML中包含拥有对象的名称。</p>
                              </li>
                              <li>
                                 <p>一个可选的<code class="codeph">Map</code> ，它将元数据对象引用为键，并且作为键的对象具有与SQL绑定变量类似的<code class="codeph">String</code>值。有关此参数中绑定变量的详细信息，请参阅<span class="q">“ <a href="understanding-olap-java-api-metadata.html#GUID-862D809C-4FE9-4B5F-8148-BC30309478ED">在XML模板中描述绑定变量</a> ”</span> 。
                                 </p>
                              </li>
                              <li>
                                 <p><a id="d3607e2054" class="indexterm-anchor"></a><a id="d3607e2056" class="indexterm-anchor"></a> <code class="codeph">oracle.olapi.metadata.的可选实现<code class="codeph">oracle.olapi.metadata.XMLWriterCallback</code>接口。使用<code class="codeph">XMLWriterCallback</code> ，您可以指定是否从导出的XML中排除属性或所有者名称。</p>
                              </li>
                           </ul>
                           <p>共享祖先的所有元数据对象在导出的XML中组合在一起。对于不是顶级对象且其顶级容器不在要导出的对象的<code class="codeph">List</code>中的任何对象，导出的模板包含对象的增量定义和下面的完整定义。这支持在多维数据集中导出对象（例如计算度量），而无需导出整个多维数据集模板。
                           </p>
                           <p>如果<code class="codeph">MdmDatabaseSchema</code>位于要导出的对象<code class="codeph">List</code>中，则导出的模板将包括数据库模式中的所有对象。如果是<code class="codeph">oracle.olapi.metadata.deployment.AW</code>对象位于<code class="codeph">List</code> ，然后导出的模板包含<code class="codeph">AW</code>包含的所有对象。如果<code class="codeph">MdmRootSchema</code>在列表中，则忽略它。
                           </p>
                        </div>
                     </div><a id="OLAAP146"></a><div class="props_rev_3"><a id="GUID-226F606E-9407-408B-BCE9-F6310F228E02" name="GUID-226F606E-9407-408B-BCE9-F6310F228E02"></a><h6 id="OLAAP-GUID-226F606E-9407-408B-BCE9-F6310F228E02" class="sect6"><span class="enumeration_section">2.3.1.2.2</span>导入XML模板</h6>
                        <div>
                           <p><a id="d3607e2128" class="indexterm-anchor"></a><a id="d3607e2132" class="indexterm-anchor"></a><a id="d3607e2136" class="indexterm-anchor"></a><a id="d3607e2138" class="indexterm-anchor"></a>为了将元数据对象导入为XML模板， <code class="codeph">MdmMetadataProvider</code>具有<code class="codeph">importXML</code>方法的几个签名。
                           </p>
                           <p><code class="codeph">importXML</code>方法导入对象的XML定义，并创建新对象或修改现有对象。<code class="codeph">importXML</code>方法采用以下参数的各种组合。
                           </p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>一个<code class="codeph">java.io.用于输入XML的Reader</code>或包含要导入的XML的<code class="codeph">String</code> 。
                                 </p>
                              </li>
                              <li>
                                 <p>用于包含新的或已修改的元数据对象的<code class="codeph">MdmDatabaseSchema</code> 。
                                 </p>
                              </li>
                              <li>
                                 <p>一个<code class="codeph">boolean</code> <code class="codeph">modifyIfExists</code> ，指示您是否希望导入的XML定义中的差异能够修改同名的现有对象。
                                 </p>
                              </li>
                              <li>
                                 <p>一个可选的<code class="codeph">Map</code> ， <code class="codeph">bindValues</code> ，它包含绑定变量作为键，并且作为键的对象， <code class="codeph">String</code>值用于替换绑定变量。有关此参数中绑定值的更多信息，请参阅<span class="q">“ <a href="understanding-olap-java-api-metadata.html#GUID-862D809C-4FE9-4B5F-8148-BC30309478ED">在XML模板中描述绑定变量</a> ”</span> 。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">oracle.olapi.metadata.的可选实现<code class="codeph">oracle.olapi.metadata.XMLParserCallback</code>接口。
                                 </p>
                              </li>
                           </ul>
                           <p>如果<code class="codeph">modifyIfExists</code>参数的值为<code class="codeph">true</code>并且导入的XML包含已存在的对象的完整定义且对象定义与XML不同，则该方法将对象定义的新元素或已更改元素与现有元素合并对象的定义。如果<code class="codeph">modifyIfExists</code>值为<code class="codeph">false</code>并且XML包含已存在的对象的完整定义，则<code class="codeph">importXML</code>方法将引发异常。
                           </p>
                           <p>使用<code class="codeph">bindValues</code>参数，您可以指定具有键/对对的<code class="codeph">Map</code> ，Oracle OLAP在导入XML模板时使用这些键来替换绑定变量。<code class="codeph">Map</code>中的键是要替换的绑定变量，与键配对的对象是用于替换绑定变量的值。导入模板时，如果指定包含绑定变量作为键的<code class="codeph">Map</code> ，则Oracle OLAP会使用为<code class="codeph">bindValues</code> <code class="codeph">Map</code>的绑定变量指定的值替换导入的XML中的绑定变量。
                           </p>
                           <p>您可以将<code class="codeph">XMLParserCallback</code>接口的实现作为<code class="codeph">parserCallback</code>参数传递给<code class="codeph">importXML</code>方法。使用<code class="codeph">XMLParserCallback</code> ，您可以指定Oracle OLAP如何处理导入XML时可能发生的错误。 <code class="codeph">XML11_2_ParserCallback</code>接口添加了重命名导入对象和抑制导入对象属性的方法。
                           </p>
                        </div>
                     </div><a id="OLAAP147"></a><div class="props_rev_3"><a id="GUID-862D809C-4FE9-4B5F-8148-BC30309478ED" name="GUID-862D809C-4FE9-4B5F-8148-BC30309478ED"></a><h6 id="OLAAP-GUID-862D809C-4FE9-4B5F-8148-BC30309478ED" class="sect6"><span class="enumeration_section">2.3.1.2.3</span>在XML模板中描述绑定变量</h6>
                        <div>
                           <p></p>
                           <p><a id="d3607e2297" class="indexterm-anchor"></a><a id="d3607e2301" class="indexterm-anchor"></a><a id="d3607e2305" class="indexterm-anchor"></a> <code class="codeph">exportFullXML</code>和<code class="codeph">exportIncrementalXML</code>方法具有可选的<code class="codeph">bindVariables</code>参数。此参数是一个<code class="codeph">Map</code> ，它将元数据对象作为键，将<code class="codeph">String</code>值作为键的对象。<code class="codeph">String</code>值的功能类似于SQL绑定变量。在导出XML期间，Oracle OLAP XML生成器使用绑定变量替换引用对象的名称。
                           </p>
                           <p>如果将<code class="codeph">bindVariables</code>参数的<code class="codeph">Map</code>提供给<code class="codeph">exportFullXML</code>或<code class="codeph">exportIncrementalXML</code>方法，则该方法生成的XML <code class="codeph">exportIncrementalXML</code>以下声明开始。
                           </p><pre class="oac_no_warn" dir="ltr">&lt;！DOCTYPE元数据[&lt;！ENTITY％BIND_VALUES PUBLIC“OLAP BIND VALUES”“OLAP METADATA”&gt;％BIND_VALUES; ]&gt;</pre><p><code class="codeph">bindVariables</code>映射中指定的值以<code class="codeph">"&amp;BV;"</code>格式显示在导出的XML中，其中<code class="codeph">BV</code>是绑定变量。
                           </p>
                           <p><code class="codeph">importXML</code>方法的<code class="codeph">bindValues</code>参数指定Oracle OLAP在导入XML模板时用于替换绑定变量的值。当您导入模板时，如果指定一个<code class="codeph">Map</code> ，其中包含绑定变量作为键，则Oracle OLAP替换导入的XML与绑定变量<code class="codeph">String</code>指定为在绑定变量键的对象<code class="codeph">Map</code> 。
                           </p>
                           <p>如果为<code class="codeph">bindValues</code>参数提供了<code class="codeph">Map</code> ，那么您提供给方法的<code class="codeph">inXML</code>字符串必须包含<code class="codeph">!DOCTYPE Metadata</code>声明和要导入的XML中的绑定变量必须位于<code class="codeph">"&amp;BV;"</code>格式。
                           </p>
                        </div>
                     </div>
                  </div>
               </div><a id="OLAAP148"></a><div class="props_rev_3"><a id="GUID-2A2A238D-BAE6-4E7C-9415-13ED8932C5D4" name="GUID-2A2A238D-BAE6-4E7C-9415-13ED8932C5D4"></a><h4 id="OLAAP-GUID-2A2A238D-BAE6-4E7C-9415-13ED8932C5D4" class="sect4"><span class="enumeration_section">2.3.2</span>表示模式</h4>
                  <div>
                     <p><a id="d3607e2425" class="indexterm-anchor"></a>模式由<code class="codeph">MdmSchema</code>类及其子类表示。<code class="codeph">MdmSchema</code>是<code class="codeph">MdmCube</code> ， <code class="codeph">MdmDimension</code>和其他<code class="codeph">MdmObject</code>对象（包括其他<code class="codeph">MdmSchema</code>对象）的所有者或容器。在<span class="italic">10g</span>及更早版本的OLAP Java API中， <code class="codeph">MdmSchema</code>类具有多个角色。API有一个根<code class="codeph">MdmSchema</code> ，每个度量文件夹的<code class="codeph">MdmSchema</code> ，以及应用程序可以创建的自定义<code class="codeph">MdmSchema</code>对象。
                     </p>
                     <p><span class="italic">11g</span> OLAP Java API引入了<code class="codeph">MdmSchema</code>子类来分离和定义不同的角色。在11 <span class="italic">g中</span> ， <code class="codeph">MdmSchema</code>仍然是与早期版本兼容并用于10 <span class="italic">g</span>元数据读取器模式的具体类。
                     </p>
                     <p><a id="d3607e2482" class="indexterm-anchor"></a>在11 <span class="italic">g中</span> ， <code class="codeph">MdmSchema</code>是<code class="codeph">MdmSchema</code>的以下子类之一的<code class="codeph">MdmSchema</code> ：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">MdmRootSchema</code> ，它是<code class="codeph">MdmDatabaseSchema</code>对象的容器，由系统提供。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">MdmDatabaseSchema</code> ，表示数据库用户的关系模式，并创建和拥有<code class="codeph">MdmCube</code> ， <code class="codeph">MdmDimension</code>和其他<code class="codeph">MdmObject</code>对象。<code class="codeph">MdmDatabaseSchema</code>对象由系统提供。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">MdmOrganizationalSchema</code> ，可用于组织度量和其他<code class="codeph">MdmOrganizationalSchema</code>对象。
                           </p>
                        </li>
                     </ul>
                     <p>以下主题描述了<code class="codeph">MdmSchema</code>的子类。
                     </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="understanding-olap-java-api-metadata.html#GUID-CC9833DA-C462-44D5-A510-5CCF05A07682">表示根模式</a></p>
                        </li>
                        <li>
                           <p><a href="understanding-olap-java-api-metadata.html#GUID-1220CC64-0925-42A9-8631-5EE10801180C" title="数据库用户拥有的关系模式由MdmDatabaseSchema对象表示。">表示数据库模式</a></p>
                        </li>
                        <li>
                           <p><a href="understanding-olap-java-api-metadata.html#GUID-0BA527F1-7DB7-4195-8851-10563CA47056">代表组织架构</a></p>
                        </li>
                     </ul>
                  </div><a id="OLAAP150"></a><a id="OLAAP149"></a><div class="props_rev_3"><a id="GUID-CC9833DA-C462-44D5-A510-5CCF05A07682" name="GUID-CC9833DA-C462-44D5-A510-5CCF05A07682"></a><h5 id="OLAAP-GUID-CC9833DA-C462-44D5-A510-5CCF05A07682" class="sect5"><span class="enumeration_section">2.3.2.1</span>表示根模式</h5>
                     <div>
                        <p><a id="d3607e2594" class="indexterm-anchor"></a><a id="d3607e2598" class="indexterm-anchor"></a>根模式是数据库模式对象的容器。此顶级架构由<code class="codeph">MdmRootSchema</code>类表示。您可以使用<code class="codeph">MdmRootSchema</code>的<code class="codeph">getRootSchema</code>方法获取<code class="codeph">MdmMetadataProvider</code> 。从<code class="codeph">MdmRootSchema</code>您可以获取所有<code class="codeph">MdmDatabaseSchema</code>对象，也可以按名称获取单个<code class="codeph">MdmDatabaseSchema</code> 。
                        </p>
                        <p>该<code class="codeph">MdmRootSchema</code>类也包含了所有的<code class="codeph">MdmCube</code> ， <code class="codeph">MdmMeasure</code>和<code class="codeph">MdmPrimaryDimension</code>由程序提供的对象<code class="codeph">MdmMetadataProvider</code> ，并有得到这些对象的方法。但是，这些方法返回的对象<code class="codeph">List</code>仅包含用户有权查看的多维数据集，度量或维度。
                        </p>
                        <p><a id="d3607e2645" class="indexterm-anchor"></a><a id="d3607e2649" class="indexterm-anchor"></a> <a href="understanding-olap-java-api-metadata.html#GUID-CC9833DA-C462-44D5-A510-5CCF05A07682__CIAEBHHF">图2-4</a>显示了<code class="codeph">MdmMetadataProvider</code>与<code class="codeph">MdmSchema</code>子类之间的关联。
                        </p>
                        <div class="figure" id="GUID-CC9833DA-C462-44D5-A510-5CCF05A07682__CIAEBHHF">
                           <p class="titleinfigure">图2-4 MdmMetadataProvider与MdmSchema子类之间的关联</p><img width="543" src="img/mdmschas.gif" alt="下面是图2-4的描述" title="下面是图2-4的描述" longdesc="img_text/mdmschas.html"><br><a href="img_text/mdmschas.html">“图2-4 MdmMetadataProvider与MdmSchema子类之间的关联”的描述</a></div>
                        <!-- class="figure" -->
                     </div>
                  </div><a id="OLAAP151"></a><div class="props_rev_3"><a id="GUID-1220CC64-0925-42A9-8631-5EE10801180C" name="GUID-1220CC64-0925-42A9-8631-5EE10801180C"></a><h5 id="OLAAP-GUID-1220CC64-0925-42A9-8631-5EE10801180C" class="sect5"><span class="enumeration_section">2.3.2.2</span>表示数据库模式</h5>
                     <div>
                        <p>数据库用户拥有的关系模式由<code class="codeph">MdmDatabaseSchema</code>对象表示。
                        </p>
                        <p><code class="codeph">MdmRootSchema</code>为每个数据库用户都有一个<code class="codeph">MdmDatabaseSchema</code>对象。<code class="codeph">MdmDatabaseSchema</code>与数据库用户具有相同的名称。例如，用户GLOBAL的<code class="codeph">MdmDatabaseSchema</code>的名称是<code class="codeph">GLOBAL</code> 。</p>
                        <p>你可以得到一个或所有的<code class="codeph">MdmDatabaseSchema</code>与方法的对象<code class="codeph">MdmRootSchema</code> 。但是，对<code class="codeph">MdmDatabaseSchema</code>所拥有的对象的访问权限由授予会话用户的安全权限决定。
                        </p>
                        <p><code class="codeph">MdmDatabaseSchema</code>是顶级OLAP元数据对象及其创建的对象的所有者。您可以使用<code class="codeph">MdmDatabaseSchema</code>来获取现有元数据对象或创建<code class="codeph">MdmDatabaseSchema</code>数据对象。顶级对象如下：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">AW</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">MdmCube</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">MdmNamedBuildProcess</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">MdmOrganizationalSchema</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">MdmPrimaryDimension</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">MdmTable</code></p>
                           </li>
                        </ul>
                        <p>除了<code class="codeph">MdmTable</code> ，您可以使用<code class="codeph">findOrCreateAW</code>和<code class="codeph">findOrCreateStandardDimension</code>等<code class="codeph">findOrCreate</code>方法创建新的顶级对象或获取现有顶级对象。<a href="discovering-metadata.html#GUID-0F34DAE9-AD90-4107-A14D-4DA29A13A369">发现元数据中</a>描述了创建对象。
                        </p>
                        <p>提交已创建顶级OLAP元数据对象的<code class="codeph">Transaction</code>时，这些对象将存在于Oracle数据字典中。它们可供普通SQL查询使用，也可供使用Oracle OLAP Java API的应用程序使用。</p>
                        <p>由于元数据对象存在于Oracle数据字典中，因此Oracle数据库DBA可以限制对某些类型的元数据对象的访问。在客户端应用程序中，您可以通过使用JDBC API通过用户会话的JDBC连接发送标准SQL <code class="codeph">GRANT</code>和<code class="codeph">REVOKE</code>命令来设置此类限制。
                        </p>
                        <p>您可以使用<code class="codeph">getTopLevelObject</code>方法获取<code class="codeph">MdmTable</code>或其他顶级对象。您可以使用<code class="codeph">getAWs</code> ， <code class="codeph">getDimensions</code>或<code class="codeph">getOrganizationalSchemas</code>等方法获取特定类型顶级对象的所有实例，也可以使用<code class="codeph">getSchemaObjects</code>获取<code class="codeph">MdmDatabaseSchema</code>拥有的所有对象。您可以使用<code class="codeph">addAW</code>和<code class="codeph">removeSchemaObject</code>等方法添加或删除顶级对象。
                        </p>
                     </div>
                  </div><a id="OLAAP152"></a><div class="props_rev_3"><a id="GUID-0BA527F1-7DB7-4195-8851-10563CA47056" name="GUID-0BA527F1-7DB7-4195-8851-10563CA47056"></a><h5 id="OLAAP-GUID-0BA527F1-7DB7-4195-8851-10563CA47056" class="sect5"><span class="enumeration_section">2.3.2.3</span>代表组织架构</h5>
                     <div>
                        <p><a id="d3607e2917" class="indexterm-anchor"></a><a id="d3607e2921" class="indexterm-anchor"></a> OLAP度量文件夹组织度量，多维数据集和维度。度量文件夹由<code class="codeph">MdmOrganizationalSchema</code>类表示。度量文件夹提供了区分具有相似名称的度量的方法。例如，用户可以访问具有名为SALES或COSTS的度量的多个模式。您可以将具有相同名称的度量分隔到不同的<code class="codeph">MdmOrganizationalSchema</code>对象中。<code class="codeph">MdmOrganizationalSchema</code>具有添加或删除多维数据集，维度和度量的方法。您可以嵌套组织模式，因此该类还具有添加和删除其他<code class="codeph">MdmOrganizationalSchema</code>对象的方法。
                        </p>
                     </div>
                  </div>
               </div>
            </div><a id="OLAAP154"></a><a id="OLAAP153"></a><div class="props_rev_3"><a id="GUID-0D80BC10-B573-4B81-9CBE-33D31E9AA00F" name="GUID-0D80BC10-B573-4B81-9CBE-33D31E9AA00F"></a><h3 id="OLAAP-GUID-0D80BC10-B573-4B81-9CBE-33D31E9AA00F" class="sect3"><span class="enumeration_section">2.4</span>提供对数据源的访问</h3>
               <div>
                  <p><a id="d3607e2975" class="indexterm-anchor"></a><a id="d3607e2979" class="indexterm-anchor"></a> <code class="codeph">mdm</code>包中的一些类，表示包含或提供对数据存储中数据的访问的对象。其中一些类表示OLAP维度数据模型对象，其中包括多维数据集，度量，维度，级别，层次结构和属性。其他<code class="codeph">mdm</code>类表示视图或表中的关系对象，例如表或列。
                  </p>
                  <p><a id="d3607e2991" class="indexterm-anchor"></a> <a href="understanding-olap-java-api-metadata.html#GUID-0D80BC10-B573-4B81-9CBE-33D31E9AA00F__CIAHFADJ">图2-5</a>显示了实现维度数据模型对象的类之间的关联。<code class="codeph">MdmCube</code>可以包含从零到多个<code class="codeph">MdmMeasure</code>对象。<code class="codeph">MdmMeasure</code>包含在一个<code class="codeph">MdmCube</code>对象中。<code class="codeph">MdmCube</code>可以具有从零到多个<code class="codeph">MdmPrimaryDimension</code>对象，这些对象通过<code class="codeph">MdmDimensionality</code>对象与其关联。<code class="codeph">MdmPrimaryDimension</code>可以包含从零到多个<code class="codeph">MdmDimensionLevel</code>对象， <code class="codeph">MdmHierarchy</code>对象和<code class="codeph">MdmAttribute</code>对象。
                  </p>
                  <div class="figure" id="GUID-0D80BC10-B573-4B81-9CBE-33D31E9AA00F__CIAHFADJ">
                     <p class="titleinfigure">图2-5维度数据模型类的关联</p><img src="img/dimmodel.gif" width="447" alt="下面是图2-5的描述" title="下面是图2-5的描述" longdesc="img_text/dimmodel.html"><br><a href="img_text/dimmodel.html">“图2-5维数据模型类的关联”的描述</a></div>
                  <!-- class="figure" -->
                  <p><a id="d3607e3038" class="indexterm-anchor"></a>表示这些维或关系数据对象的类是<code class="codeph">MdmSource</code>类的子类。<code class="codeph">MdmSource</code>子类有一个<code class="codeph">getSource</code>方法，它返回一个<code class="codeph">Source</code>对象。您使用<code class="codeph">Source</code>对象来定义数据查询。然后使用<code class="codeph">Cursor</code>对象检索数据。有关使用<code class="codeph">Source</code>和<code class="codeph">Cursor</code>对象的更多信息，请参阅<a href="understanding-source-objects.html#GUID-871159BB-8ED1-454B-B9FA-62F36683F4B2">了解源对象</a>和<a href="understanding-cursor-classes-and-concepts.html#GUID-317FD4C8-9000-4A25-99FC-4D84D1894E0B">了解游标类和概念</a> 。
                  </p>
                  <p>您还可以使用SQL查询Oracle OLAP为多维数据集，维度和层次结构自动生成的视图。有关查询这些视图的信息，请参阅<span class="q">“ <a href="understanding-olap-java-api-metadata.html#GUID-9977B67E-01B1-40E5-A030-A84BD05CC405">获取维度和层次结构视图和查看列名称</a> ”</span> 。
                  </p>
                  <p>以下主题描述了提供对数据源的访问的类。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="understanding-olap-java-api-metadata.html#GUID-B0E6BDDF-03DC-48C0-BDE1-23C7CEA14C7D">代表立方体和措施</a></p>
                     </li>
                     <li>
                        <p><a href="understanding-olap-java-api-metadata.html#GUID-1E8F4982-8C19-4E7E-BDA2-EEFFBB65DB3D">表示维度，级别和层次结构</a></p>
                     </li>
                     <li>
                        <p><a href="understanding-olap-java-api-metadata.html#GUID-F22AEA05-496A-4E4A-BE2B-983E41A24A87">表示维度属性</a></p>
                     </li>
                     <li>
                        <p><a href="understanding-olap-java-api-metadata.html#GUID-934F9C46-F3FD-4ABC-901D-065B888569FE">使用OLAP视图</a></p>
                     </li>
                  </ul>
               </div><a id="OLAAP155"></a><div class="props_rev_3"><a id="GUID-B0E6BDDF-03DC-48C0-BDE1-23C7CEA14C7D" name="GUID-B0E6BDDF-03DC-48C0-BDE1-23C7CEA14C7D"></a><h4 id="OLAAP-GUID-B0E6BDDF-03DC-48C0-BDE1-23C7CEA14C7D" class="sect4"><span class="enumeration_section">2.4.1</span>表示多维数据集和度量</h4>
                  <div>
                     <p>多维数据集是维度模型的物理实现。他们组织具有相同维度的度量。立方体和度量是尺寸对象;与多维数据集关联的维度标识并对度量数据进行分类。以下主题描述了多维数据集和度量。</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="understanding-olap-java-api-metadata.html#GUID-8D170D6F-A00C-419A-A30B-AFA2028F035E">代表立方体</a></p>
                        </li>
                        <li>
                           <p><a href="understanding-olap-java-api-metadata.html#GUID-7FFFF94F-4718-4810-9E4D-26361A07AD4B">代表措施</a></p>
                        </li>
                     </ul>
                  </div><a id="OLAAP157"></a><a id="OLAAP156"></a><div class="props_rev_3"><a id="GUID-8D170D6F-A00C-419A-A30B-AFA2028F035E" name="GUID-8D170D6F-A00C-419A-A30B-AFA2028F035E"></a><h5 id="OLAAP-GUID-8D170D6F-A00C-419A-A30B-AFA2028F035E" class="sect5"><span class="enumeration_section">2.4.1.1</span>表示立方体</h5>
                     <div>
                        <p><a id="d3607e3188" class="indexterm-anchor"></a><a id="d3607e3192" class="indexterm-anchor"></a><a id="d3607e3196" class="indexterm-anchor"></a><a id="d3607e3198" class="indexterm-anchor"></a> OLAP多维数据集由<code class="codeph">MdmCube</code>类表示。<code class="codeph">MdmCube</code>是<code class="codeph">MdmMeasure</code>对象的容器，其由同一组<code class="codeph">MdmPrimaryDimension</code>对象<code class="codeph">MdmPrimaryDimension</code>尺寸。应用程序创建<code class="codeph">MdmBaseMeasure</code>或<code class="codeph">MdmDerivedMeasure</code>与对象<code class="codeph">findOrCreateBaseMeasure</code>和<code class="codeph">findOrCreateDerivedMeasure</code>的方法<code class="codeph">MdmCube</code> 。它通过使用<code class="codeph">addDimension</code>方法将度量的每个维度与多维数据集相关联。
                        </p>
                        <p><a id="d3607e3234" class="indexterm-anchor"></a><a id="d3607e3238" class="indexterm-anchor"></a><a id="d3607e3242" class="indexterm-anchor"></a> <code class="codeph">MdmCube</code>通常对应于单个事实表或视图。要将表或视图与多维数据集相关联，请使用<code class="codeph">Query</code>和<code class="codeph">CubeMap</code>对象。你得到的<code class="codeph">Query</code>表或视图，然后在关联<code class="codeph">Query</code>与<code class="codeph">CubeMap</code>使用<code class="codeph">setQuery</code>的方法<code class="codeph">CubeMap</code> 。
                        </p>
                        <p><a id="d3607e3273" class="indexterm-anchor"></a><a id="d3607e3277" class="indexterm-anchor"></a><a id="d3607e3281" class="indexterm-anchor"></a> <code class="codeph">CubeMap</code>包含<code class="codeph">MeasureMap</code>和<code class="codeph">CubeDimensionalityMap</code>对象，这些对象将多维数据集的度量和维度映射到数据源。使用<code class="codeph">MeasureMap</code> ，您可以指定<code class="codeph">MdmBaseMeasure</code>和<code class="codeph">Expression</code> ，以标识包含度量基础数据的事实表或视图中的列。
                        </p>
                        <p><a id="d3607e3306" class="indexterm-anchor"></a>要映射多维数据集的维度，您将获得多维数据集的<code class="codeph">MdmDimensionality</code>对象。您为每个<code class="codeph">MdmDimensionality</code>创建一个<code class="codeph">CubeDimensionalityMap</code> 。然后，为<code class="codeph">CubeDimensionalityMap</code>指定一个<code class="codeph">Expression</code>用于标识事实表或视图中维度的外键列。如果要为叶级维度成员的列指定维度列，则必须使用<code class="codeph">CubeDimensionalityMap</code>的<code class="codeph">setJoinCondition</code>方法指定连接<code class="codeph">Condition</code> 。
                        </p>
                        <p><a id="d3607e3335" class="indexterm-anchor"></a><a id="d3607e3339" class="indexterm-anchor"></a> <code class="codeph">MdmCube</code>具有关联的<code class="codeph">CubeOrganization</code> 。<code class="codeph">CubeOrganization</code>将多维数据集部署在分析工作区中或作为关系数据库对象。要部署一个多维数据集的分析工作区，你叫<code class="codeph">findOrCreateAWCubeOrganization</code>的方法<code class="codeph">MdmCube</code> 。您可以使用该<code class="codeph">AWCubeOrganization</code>返回的<code class="codeph">AWCubeOrganization</code>来指定多维数据集的特征，例如Oracle OLAP如何构建多维数据集，多维数据集如何存储度量数据，以及数据库是否为多维数据集创建物化视图。有关<code class="codeph">AWCubeOrganization</code>类的信息，请参阅<span><cite>Oracle OLAP Java API Reference</cite></span> 。
                        </p>
                        <p><a id="d3607e3369" class="indexterm-anchor"></a><a id="d3607e3373" class="indexterm-anchor"></a><a id="d3607e3377" class="indexterm-anchor"></a><a id="d3607e3379" class="indexterm-anchor"></a><a id="d3607e3381" class="indexterm-anchor"></a><a id="d3607e3385" class="indexterm-anchor"></a>如果<code class="codeph">AWCubeOrganization</code>具有的物化视图选项<code class="codeph">REWRITE_MV_OPTION</code> ，那么Oracle OLAP创建可通过数据库查询重写系统中使用的立方体物化视图。如果物化视图选项为<code class="codeph">REWRITE_WITH_ATTRIBUTES_MV_OPTION</code> ，则Oracle OLAP在重写物化视图中包含<code class="codeph">isPopulateLineage</code>方法返回<code class="codeph">true</code>的维度属性。您可以设置与物化视图选项<code class="codeph">setMVOption</code>的方法<code class="codeph">AWCubeOrganization</code> 。
                        </p>
                        <p><a id="d3607e3411" class="indexterm-anchor"></a><a id="d3607e3415" class="indexterm-anchor"></a><a id="d3607e3419" class="indexterm-anchor"></a>一个<code class="codeph">MdmCube</code>也有<code class="codeph">ConsistentSolveSpecification</code>对象，其中包含一个或多个<code class="codeph">ConsistentSolveCommand</code>指定的Oracle OLAP如何计算（或<span class="italic">解决了</span> ）立方体的措施值的对象。例如，作为<code class="codeph">ConsistentSolveCommand</code> ，您可以指定表示<code class="codeph">SUM</code>或<code class="codeph">MAX</code>函数的<code class="codeph">AggregationCommand</code> 。使用多维数据集的<code class="codeph">setConsistentSolveSpecification</code>方法指定<code class="codeph">ConsistentSolveSpecification</code> 。
                        </p>
                        <p><a id="d3607e3454" class="indexterm-anchor"></a><a id="d3607e3456" class="indexterm-anchor"></a>当度量值与规范匹配时，多维数据集是<span class="italic">一致</span>的，例如，当父项的值等于其子项值的<code class="codeph">SUM</code>时。当<code class="codeph">BuildProcess</code>执行<code class="codeph">ConsistentSolveCommand</code>时，多维数据集变得一致。
                        </p>
                        <p>有关创建<code class="codeph">MdmCube</code>和<code class="codeph">MdmMeasure</code>对象并映射它们以及本主题中描述的其他操作的<a href="creating-metadata-and-analytic-workspaces.html#GUID-62FDFA22-A3BA-47B9-84BE-383A2351ADBE__BABHHCBI">示例</a> ，请参见<a href="creating-metadata-and-analytic-workspaces.html#GUID-62FDFA22-A3BA-47B9-84BE-383A2351ADBE__BABHHCBI">示例4-7</a>和<a href="creating-metadata-and-analytic-workspaces.html#GUID-C04F33E1-5FB8-41A1-90CC-C27D026D00A0__BABICJFH">示例4-8</a> 。
                        </p>
                        <p><a id="d3607e3486" class="indexterm-anchor"></a> <a href="understanding-olap-java-api-metadata.html#GUID-8D170D6F-A00C-419A-A30B-AFA2028F035E__BABIDFDC">图2-6</a>显示了<code class="codeph">MdmCube</code>与本主题中提到的一些类之间的关联。该图显示了在分析工作区中部署的<code class="codeph">MdmCube</code> 。
                        </p>
                        <div class="figure" id="GUID-8D170D6F-A00C-419A-A30B-AFA2028F035E__BABIDFDC">
                           <p class="titleinfigure">图2-6 MdmCube和相关对象</p><img src="img/cubeasso.gif" width="540" alt="下面是图2-6的描述" title="下面是图2-6的描述" longdesc="img_text/cubeasso.html"><br><a href="img_text/cubeasso.html">“图2-6 MdmCube和相关对象”的描述</a></div>
                        <!-- class="figure" -->
                     </div>
                  </div><a id="OLAAP158"></a><div class="props_rev_3"><a id="GUID-7FFFF94F-4718-4810-9E4D-26361A07AD4B" name="GUID-7FFFF94F-4718-4810-9E4D-26361A07AD4B"></a><h5 id="OLAAP-GUID-7FFFF94F-4718-4810-9E4D-26361A07AD4B" class="sect5"><span class="enumeration_section">2.4.1.2</span>代表措施</h5>
                     <div>
                        <p><a id="d3607e3538" class="indexterm-anchor"></a><a id="d3607e3542" class="indexterm-anchor"></a> <code class="codeph">MdmMeasure</code>是一个抽象类，表示由一个或多个<code class="codeph">MdmPrimaryDimension</code>对象组织的一组数据。数据的结构类似于多维数组的结构。与提供用于标识数组中特定单元格的索引的数组的<code class="codeph">MdmPrimaryDimension</code> ，组织<code class="codeph">MdmMeasure</code>的<code class="codeph">MdmPrimaryDimension</code>对象提供用于标识<code class="codeph">MdmMeasure</code>的特定值的<code class="codeph">MdmMeasure</code> 。
                        </p>
                        <p>例如，假设您有一个<code class="codeph">MdmMeasure</code> ，其中包含的数据记录了在一段时间内通过销售渠道销售给客户的产品数量。该度量的数据按产品，时间，客户和渠道的维度进行组织（通道代表销售渠道，例如目录或互联网）。您可以将数据视为占用四维数组，其中包含提供组织结构的产品，时间，客户和渠道维度。这四个维度的值是用于识别阵列中的每个特定单元的索引。每个单元格包含销售单位数量的单个数据值。您必须为每个维指定一个值，以便标识数组中的值。
                        </p>
                        <p><code class="codeph">MdmMeasure</code>的值通常是数字，但度量可以包含其他数据类型的值。<code class="codeph">MdmMeasure</code>的具体子类是<code class="codeph">MdmBaseMeasure</code>和<code class="codeph">MdmDerivedMeasure</code> 。
                        </p>
                        <p><a id="d3607e3583" class="indexterm-anchor"></a><a id="d3607e3587" class="indexterm-anchor"></a>分析工作区中的<code class="codeph">MdmBaseMeasure</code>具有关联的物理存储结构。典型地， <code class="codeph">MdmCube</code>获取的基本数据用于<code class="codeph">MdmBaseMeasure</code>从一个事实表中的列。然后，Oracle OLAP计算度量的聚合值，并将这些值存储在多维数据集的OLAP视图中。
                        </p>
                        <p><a id="d3607e3602" class="indexterm-anchor"></a>创建<code class="codeph">MdmBaseMeasure</code> ，可以使用<code class="codeph">setSQLDataType</code>方法指定度量的SQL数据类型。如果未指定，则<code class="codeph">MdmBaseMeasure</code>具有您映射到的源数据的数据类型。
                        </p>
                        <p><a id="d3607e3617" class="indexterm-anchor"></a><a id="d3607e3619" class="indexterm-anchor"></a>通过使用<code class="codeph">setAllowAutoDataTypeChange</code>方法指定<code class="codeph">true</code> ，可以允许Oracle OLAP自动设置度量的SQL数据类型。如果度量的数据类型发生更改，这可能很有用。如果允许自动更改SQL数据类型，则无论是否使用<code class="codeph">setSQLDataType</code>方法指定了SQL数据类型，Oracle OLAP都会确定相应的SQL数据类型。
                        </p>
                        <p><a id="d3607e3634" class="indexterm-anchor"></a> <code class="codeph">MdmDerivedMeasure</code>没有关联的物理存储。Oracle OLAP根据需要动态计算<code class="codeph">MdmDerivedMeasure</code>的值。
                        </p>
                        <p><a id="d3607e3646" class="indexterm-anchor"></a>一个的值<code class="codeph">MdmMeasure</code>由结构决定<code class="codeph">MdmPrimaryDimension</code>所述的对象<code class="codeph">MdmMeasure</code> 。也就是说， <code class="codeph">MdmMeasure</code>每个值都由元组标识，元组是来自<code class="codeph">MdmPrimaryDimension</code>对象的成员的唯一组合。
                        </p>
                        <p><a id="d3607e3667" class="indexterm-anchor"></a>所述<code class="codeph">MdmPrimaryDimension</code>一个的对象<code class="codeph">MdmMeasure</code>是<code class="codeph">MdmStandardDimension</code>或<code class="codeph">MdmTimeDimension</code>对象。它们通常至少具有一个层次结构。那些<code class="codeph">MdmPrimaryDimension</code>对象包括其组件<code class="codeph">MdmHierarchy</code>对象的所有成员。由于这种结构， <code class="codeph">MdmMeasure</code>的值是以下一个或多个：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>来自<code class="codeph">MdmMeasure</code>所基于的事实表列，视图或计算的值。这些值由维度层次结构的叶级别的成员组合来标识。
                              </p>
                           </li>
                           <li>
                              <p>Oracle OLAP提供的聚合值。这些度量值由层次结构的聚合级别中的至少一个成员标识。</p>
                           </li>
                           <li>
                              <p>由<code class="codeph">Expression</code> for <code class="codeph">MdmDerivedMeasure</code>或自定义维度成员指定的值。
                              </p>
                           </li>
                        </ul>
                        <p>例如，假设一个<code class="codeph">MdmBaseMeasure</code> ，其尺寸为<code class="codeph">MdmTimeDimension</code>和<code class="codeph">MdmStandardDimension</code>产品。度量和维度的元数据对象是<code class="codeph">mdmUnitCost</code> ， <code class="codeph">mdmTimeDim</code>和<code class="codeph">mdmProdDim</code> 。每个<code class="codeph">mdmTimeDim</code>和<code class="codeph">mdmProdDim</code>对象都具有它所代表的维度的所有叶子成员和聚合成员。叶子成员是没有孩子的成员。聚合成员有一个或多个孩子。
                        </p>
                        <p>两个成员的唯一组合（一个来自<code class="codeph">mdmTimeDim</code> ，一个来自<code class="codeph">mdmProdDim</code> ）标识每个<code class="codeph">mdmUnitCost</code>值，每个可能的维度成员组合用于指定整个<code class="codeph">mdmUnitCost</code>值集合。
                        </p>
                        <p>某些<code class="codeph">mdmUnitCost</code>值由叶成员的组合标识（例如，特定产品项和特定月份）。其他<code class="codeph">mdmUnitCost</code>值由聚合成员（例如，特定产品系列和特定季度）的组合标识。还有其他<code class="codeph">mdmUnitCost</code>值由叶子和聚合成员的混合物识别。
                        </p>
                        <p>仅由叶成员标识的<code class="codeph">mdmUnitCost</code>的值直接来自数据库事实表（或事实表计算）中的列。它们代表最低级别的数据。但是，由Oracle OLAP计算由至少一个聚合成员标识的值。这些更高级别的值表示聚合或汇总的数据。因此，由<code class="codeph">MdmBaseMeasure</code>表示的数据是来自数据存储的事实表数据和Oracle OLAP可用于分析操作的聚合数据的混合。
                        </p>
                     </div>
                  </div>
               </div><a id="OLAAP159"></a><div class="props_rev_3"><a id="GUID-1E8F4982-8C19-4E7E-BDA2-EEFFBB65DB3D" name="GUID-1E8F4982-8C19-4E7E-BDA2-EEFFBB65DB3D"></a><h4 id="OLAAP-GUID-1E8F4982-8C19-4E7E-BDA2-EEFFBB65DB3D" class="sect4"><span class="enumeration_section">2.4.2</span>表示维度，级别和层次结构</h4>
                  <div>
                     <p><a id="d3607e3809" class="indexterm-anchor"></a><a id="d3607e3813" class="indexterm-anchor"></a><a id="d3607e3817" class="indexterm-anchor"></a><a id="d3607e3821" class="indexterm-anchor"></a><a id="d3607e3825" class="indexterm-anchor"></a>维度表示可以组织一组数据的成员列表的一般概念。例如，如果您有一组数字是月份时间段内产品项目的价格，则单位价格数据由<code class="codeph">MdmMeasure</code>表示，该<code class="codeph">MdmMeasure</code>的尺寸为时间和产品值的维度。时间维度包括月份值，产品维度包括项目值。月份和项目值充当用于识别单位价格数据集合中的每个特定值的索引。
                     </p>
                     <p>维度可以包含级别和层次结构。级别可以将维度成员分组为父级和子级关系，其中较低级别的成员是较高级别的父级的子级。层次结构定义了级别之间的关系。尺寸通常具有相关属性。</p>
                     <p>维度，级别和层次结构对象的基类是抽象类<code class="codeph">MdmDimension</code> ，它扩展了<code class="codeph">MdmSource</code> 。<code class="codeph">MdmDimension</code>具有用于获取和移除与对象相关联的属性的方法。它还具有获取和设置对象成员的基数和自定义顺序的方法。<code class="codeph">MdmDimension</code>的直接子类是抽象的<code class="codeph">MdmPrimaryDimension</code>和<code class="codeph">MdmSubDimension</code>类。
                     </p>
                     <p><code class="codeph">MdmPrimaryDimension</code>和<code class="codeph">MdmHierarchyLevel</code>对象可以具有关联的<code class="codeph">MdmAttribute</code>对象。有关属性的信息，请参阅<span class="q">“ <a href="understanding-olap-java-api-metadata.html#GUID-F22AEA05-496A-4E4A-BE2B-983E41A24A87">表示维度属性</a> ”</span> 。
                     </p>
                     <p>以下主题描述了维度，级别和层次结构。</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="understanding-olap-java-api-metadata.html#GUID-0D444FEF-7B1F-4E9E-9B59-A3396102669A">代表尺寸</a></p>
                        </li>
                        <li>
                           <p><a href="understanding-olap-java-api-metadata.html#GUID-DB3BCADE-CB3C-4565-9111-F4D20769B7EA">代表维度级别</a></p>
                        </li>
                        <li>
                           <p><a href="understanding-olap-java-api-metadata.html#GUID-F92813DA-2AD2-488B-8537-443EB7F70F87">表示层次结构</a></p>
                        </li>
                        <li>
                           <p><a href="understanding-olap-java-api-metadata.html#GUID-81E39328-0DB8-4778-8E95-BF567C7FAA35">表示层次结构级别</a></p>
                        </li>
                     </ul>
                  </div><a id="OLAAP160"></a><div class="props_rev_3"><a id="GUID-0D444FEF-7B1F-4E9E-9B59-A3396102669A" name="GUID-0D444FEF-7B1F-4E9E-9B59-A3396102669A"></a><h5 id="OLAAP-GUID-0D444FEF-7B1F-4E9E-9B59-A3396102669A" class="sect5"><span class="enumeration_section">2.4.2.1</span>代表尺寸</h5>
                     <div>
                        <p><a id="d3607e3929" class="indexterm-anchor"></a><a id="d3607e3933" class="indexterm-anchor"></a>维度由<code class="codeph">MdmPrimaryDimension</code>类的实例表示，该类是<code class="codeph">MdmDimension</code>的抽象子类。<code class="codeph">MdmPrimaryDimension</code>类的具体子类表示不同类型的数据。<code class="codeph">MdmPrimaryDimension</code>的具体子类如下：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a id="d3607e3953" class="indexterm-anchor"></a> <code class="codeph">MdmMeasureDimension</code> ，它将数据存储中的所有<code class="codeph">MdmMeasure</code>对象都作为维成员的值。数据存储只有一个<code class="codeph">MdmMeasureDimension</code> 。您可以获取<code class="codeph">MdmMeasureDimension</code>通过调用<code class="codeph">getMeasureDimension</code>的方法<code class="codeph">MdmRootSchema</code> 。您可以通过调用<code class="codeph">getMeasures</code>方法来获取数据存储的<code class="codeph">MdmMeasureDimension</code> 。
                              </p>
                           </li>
                           <li>
                              <p><a id="d3607e3984" class="indexterm-anchor"></a> <code class="codeph">MdmStandardDimension</code> ，没有特殊的特征，通常代表产品，客户，分销渠道等的维度。
                              </p>
                           </li>
                           <li>
                              <p><a id="d3607e3993" class="indexterm-anchor"></a><a id="d3607e3997" class="indexterm-anchor"></a><a id="d3607e4001" class="indexterm-anchor"></a> <code class="codeph">MdmTimeDimension</code> ，其时间段为成员的值。每个时间段都有结束日期和时间跨度。<code class="codeph">MdmTimeDimension</code>具有获取记录该信息的属性的方法。
                              </p>
                           </li>
                        </ul>
                        <p><a id="d3607e4012" class="indexterm-anchor"></a> <code class="codeph">MdmPrimaryDimension</code>实现以下接口。
                        </p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a id="d3607e4023" class="indexterm-anchor"></a> <code class="codeph">Buildable</code>构建，它是可以在构造<code class="codeph">BuildItem</code>指定的对象的标记接口。
                              </p>
                           </li>
                           <li>
                              <p><a id="d3607e4033" class="indexterm-anchor"></a> <code class="codeph">MdmMemberListMapOwner</code> ，定义用于查找或创建或获取<code class="codeph">MemberListMap</code>对象的方法。
                              </p>
                           </li>
                           <li>
                              <p><a id="d3607e4045" class="indexterm-anchor"></a> <code class="codeph">MdmViewColumnOwner</code> ，它是可以具有关联的<code class="codeph">MdmViewColumn</code>对象的标记接口。
                              </p>
                           </li>
                           <li>
                              <p><a id="d3607e4057" class="indexterm-anchor"></a> <code class="codeph">MetadataObject</code> ，定义获取唯一标识符的方法。
                              </p>
                           </li>
                           <li>
                              <p><a id="d3607e4066" class="indexterm-anchor"></a> <code class="codeph">MdmQuery</code> ，它定义了获取与实现类关联的<code class="codeph">Query</code>对象以及获取有关<code class="codeph">Query</code>信息的方法。
                              </p>
                           </li>
                        </ul>
                        <p><code class="codeph">MdmPrimaryDimension</code>可以具有组件<code class="codeph">MdmDimensionLevel</code>对象， <code class="codeph">MdmDimensionLevel</code>对象将维度成员组织为级别。它还可以具有<code class="codeph">MdmHierarchy</code>对象，这些对象将级别组织到层次结构中。<code class="codeph">MdmPrimaryDimension</code>具有组件<code class="codeph">MdmHierarchy</code>对象的所有成员，而每个<code class="codeph">MdmHierarchy</code>对象仅具有该层次结构中的成员。
                        </p>
                        <p>你可以得到所有的<code class="codeph">MdmPrimaryDimension</code>由一个包含的对象<code class="codeph">MdmDatabaseSchema</code>或<code class="codeph">MdmOrganizationalSchema</code>通过调用<code class="codeph">getDimensions</code>对象的方法。<code class="codeph">MdmDatabaseSchema</code>具有通过名称查找<code class="codeph">MdmTimeDimension</code>或<code class="codeph">MdmStandardDimension</code>或创建对象（如果该对象尚不存在）的方法。
                        </p>
                        <p><code class="codeph">MdmStandardDimension</code>和<code class="codeph">MdmTimeDimension</code>对象包含<code class="codeph">MdmAttribute</code>对象。某些属性由Oracle OLAP派生，例如父属性，以及您映射到关系表中的数据或由<code class="codeph">Expression</code>指定的数据的其他属性。有关属性的信息，请参阅<span class="q">“ <a href="understanding-olap-java-api-metadata.html#GUID-F22AEA05-496A-4E4A-BE2B-983E41A24A87">表示维度属性</a> ”</span> 。
                        </p>
                        <p><a id="d3607e4143" class="indexterm-anchor"></a> <code class="codeph">MdmPrimaryDimension</code>可以将维度成员组织到一个或多个级别中。每个级别由<code class="codeph">MdmDimensionLevel</code>对象表示。<code class="codeph">MdmStandardDimension</code>或<code class="codeph">MdmTimeDimension</code>可以包含<code class="codeph">MdmHierarchy</code>对象， <code class="codeph">MdmHierarchy</code>对象将级别组织成层次关系。在<code class="codeph">MdmLevelHierarchy</code> ，维度级别由<code class="codeph">MdmHierarchyLevel</code>对象表示。具体<code class="codeph">MdmDimensionLevel</code>和<code class="codeph">MdmHierarchyLevel</code>类和抽象<code class="codeph">MdmHierarchy</code>类，是抽象的直接子类<code class="codeph">MdmSubDimension</code>类。
                        </p>
                     </div>
                  </div><a id="OLAAP161"></a><div class="props_rev_3"><a id="GUID-DB3BCADE-CB3C-4565-9111-F4D20769B7EA" name="GUID-DB3BCADE-CB3C-4565-9111-F4D20769B7EA"></a><h5 id="OLAAP-GUID-DB3BCADE-CB3C-4565-9111-F4D20769B7EA" class="sect5"><span class="enumeration_section">2.4.2.2</span>表示维度级别</h5>
                     <div>
                        <p><a id="d3607e4215" class="indexterm-anchor"></a><a id="d3607e4219" class="indexterm-anchor"></a><a id="d3607e4223" class="indexterm-anchor"></a><a id="d3607e4227" class="indexterm-anchor"></a><a id="d3607e4229" class="indexterm-anchor"></a> <code class="codeph">MdmDimensionLevel</code>表示处于同一级别的一组维度成员。维度成员最多可以是一个维度级别。您可以使用<code class="codeph">MdmDimensionLevel</code>的<code class="codeph">findOrCreateDimensionLevel</code>获取或创建<code class="codeph">MdmPrimaryDimension</code> 。你可以映射一个<code class="codeph">MdmDimensionLevel</code>通过使用到数据源<code class="codeph">MemberListMap</code> 。
                        </p>
                        <p><code class="codeph">MdmPrimaryDimension</code>有一个方法，用于获取它包含的所有<code class="codeph">MdmDimensionLevel</code>对象的列表。它还有一个按名称查找<code class="codeph">MdmDimensionLevel</code>或创建对象（如果它尚不存在）的方法。
                        </p>
                     </div>
                  </div><a id="OLAAP162"></a><div class="props_rev_3"><a id="GUID-F92813DA-2AD2-488B-8537-443EB7F70F87" name="GUID-F92813DA-2AD2-488B-8537-443EB7F70F87"></a><h5 id="OLAAP-GUID-F92813DA-2AD2-488B-8537-443EB7F70F87" class="sect5"><span class="enumeration_section">2.4.2.3</span>表示层次结构</h5>
                     <div>
                        <p><a id="d3607e4300" class="indexterm-anchor"></a> <code class="codeph">MdmHierarchy</code>是一个抽象类<code class="codeph">MdmSubDimension</code> 。<code class="codeph">MdmHierarchy</code>的具体子类是<code class="codeph">MdmLevelHierarchy</code>和<code class="codeph">MdmValueHierarchy</code> 。
                        </p>
                        <p><a id="d3607e4318" class="indexterm-anchor"></a> <code class="codeph">MdmHierarchy</code>将维度的成员组织为分层结构。<code class="codeph">MdmLevelHierarchy</code>的父子层次关系基于维度的级别。在<code class="codeph">MdmValueHierarchy</code> ，层次关系基于维度成员值而不是级别。<code class="codeph">MdmPrimaryDimension</code>可以具有多种层次结构中的一种或两种。
                        </p>
                        <p><a id="d3607e4336" class="indexterm-anchor"></a><a id="d3607e4338" class="indexterm-anchor"></a><a id="d3607e4340" class="indexterm-anchor"></a><a id="d3607e4344" class="indexterm-anchor"></a><a id="d3607e4348" class="indexterm-anchor"></a>层次结构成员的父<code class="codeph">MdmAttribute</code>记录在父级<code class="codeph">MdmAttribute</code> ，您可以通过调用<code class="codeph">MdmHierarchy</code>的<code class="codeph">getParentAttribute</code>方法获取该<code class="codeph">MdmHierarchy</code> 。层次结构成员的祖先记录在祖先<code class="codeph">MdmAttribute</code> ，您可以通过调用<code class="codeph">getAncestorsAttribute</code>方法获得该<code class="codeph">getAncestorsAttribute</code> 。
                        </p>
                        <p><code class="codeph">MdmPrimaryDimension</code>有一个获取它包含的所有<code class="codeph">MdmHierarchy</code>对象列表的方法。它还具有通过名称查找<code class="codeph">MdmLevelHierarchy</code>或<code class="codeph">MdmValueHierarchy</code>或创建对象（如果它尚不存在）的方法。
                        </p>
                        <p>以下主题描述了表示基于级别和基于值的层次结构的对象。</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="understanding-olap-java-api-metadata.html#GUID-F61B3BFA-A946-41F4-AF25-4512389E89B8">表示基于级别的层次结构</a></p>
                           </li>
                           <li>
                              <p><a href="understanding-olap-java-api-metadata.html#GUID-ECC1741B-05DF-4970-80D3-BDBC1A585D58">表示基于值的层次结构</a></p>
                           </li>
                        </ul>
                     </div><a id="OLAAP164"></a><a id="OLAAP163"></a><div class="props_rev_3"><a id="GUID-F61B3BFA-A946-41F4-AF25-4512389E89B8" name="GUID-F61B3BFA-A946-41F4-AF25-4512389E89B8"></a><h6 id="OLAAP-GUID-F61B3BFA-A946-41F4-AF25-4512389E89B8" class="sect6"><span class="enumeration_section">2.4.2.3.1</span>表示基于级别的层次结构</h6>
                        <div>
                           <p><a id="d3607e4433" class="indexterm-anchor"></a><a id="d3607e4437" class="indexterm-anchor"></a><a id="d3607e4439" class="indexterm-anchor"></a><a id="d3607e4441" class="indexterm-anchor"></a> <code class="codeph">MdmLevelHierarchy</code>是的子类<code class="codeph">MdmHierarchy</code> 。<code class="codeph">MdmLevelHierarchy</code>具有树状结构，具有顶部或最高级别，以及叶子或最低级别。每个成员可以在层次结构中具有零个或一个父级。不允许循环，例如，如果成员A是成员B的父成员，成员B是成员C的父成员，成员C是成员A的父成员。</p>
                           <p>不属于任何其他成员的孩子的成员是<span class="italic">最高</span>成员。会员有孩子<span class="italic">聚集</span>或层级的<span class="italic">集合体部件</span> 。没有子<span class="italic">节点的成员</span>是层次结构的<span class="italic">叶子</span>或<span class="italic">叶子成员</span> 。
                           </p>
                           <p>每个成员都在一个级别。级别从顶级到叶级订购。顺序由您创建<code class="codeph">MdmDimensionLevel</code>对象的<code class="codeph">MdmPrimaryDimension</code> 。您创建的第一个<code class="codeph">MdmDimensionLevel</code>是顶级，您创建的最后一个是叶级。例如，对于TIME_AWJ维度的CALENDAR_YEAR层次结构， <code class="codeph">CreateAndBuildAW.java</code>和<code class="codeph">SpecifyAWValues</code>示例程序按以下顺序创建四个<code class="codeph">MdmDimensionLevel</code>对象：TOTAL_TIME，YEAR，QUARTER和MONTH。顶级是TOTAL_TIME，叶级是MONTH。</p>
                           <p><a id="d3607e4493" class="indexterm-anchor"></a><a id="d3607e4495" class="indexterm-anchor"></a>如果层次结构的成员具有父级，则该父级必须处于更高级别。Oracle OLAP期望层次结构中的所有叶成员都处于叶级别。您可以指定Oracle OLAP允许层次结构<span class="italic">不规则</span> 。在不规则的层次结构中，一个或多个叶子成员不在叶级别中。您可以通过调用<code class="codeph">setIsRagged(true)</code>方法来指定允许层次结构<code class="codeph">MdmLevelHierarchy</code> 。
                           </p>
                           <p><a id="d3607e4510" class="indexterm-anchor"></a><a id="d3607e4512" class="indexterm-anchor"></a> Oracle OLAP还期望如果成员处于低于顶级的级别，则该成员具有父级，并且父级位于该成员级别之上的级别中。如果成员不在顶级并且该成员要么没有父级，要么父级不在下一个更高级别，则层次结构是<code class="codeph">skip-level</code>级别。您可以指定通过调用允许跳过层次结构<code class="codeph">setIsSkipLevel(true)</code>的方法<code class="codeph">MdmLevelHierarchy</code> 。
                           </p>
                           <p><a href="understanding-olap-java-api-metadata.html#GUID-F61B3BFA-A946-41F4-AF25-4512389E89B8__BABBDICA">图2-7</a>说明了常规层次结构中的成员关系，不规则层次结构和两种类型的跳过级层次结构。
                           </p>
                           <div class="figure" id="GUID-F61B3BFA-A946-41F4-AF25-4512389E89B8__BABBDICA">
                              <p class="titleinfigure">图2-7常规，Ragged和Skip级别层次结构</p><img width="495" src="img/ragskip.gif" alt="下面是图2-7的描述" title="下面是图2-7的描述" longdesc="img_text/ragskip.html"><br><a href="img_text/ragskip.html">“图2-7常规，Ragged和Skip级别层次结构”的说明</a></div>
                           <!-- class="figure" -->
                           <p><code class="codeph">MdmLevelHierarchy</code>的不同级别由<code class="codeph">MdmHierarchyLevel</code>对象表示。有关创建基于级别的层次结构的示例，请参阅<span class="q">“ <a href="creating-metadata-and-analytic-workspaces.html#GUID-EFF7B8CF-44A2-464D-905B-4AD086345A81">创建和映射MdmLevelHierarchy</a> ”</span> 。
                           </p>
                           <p><code class="codeph">MdmLevelHierarchy</code>具有层次结构的所有成员，并且每个组件<code class="codeph">MdmHierarchyLevel</code>对象仅具有它所代表的级别的成员。<code class="codeph">MdmLevelHierarchy</code>还可以表示成员的非<code class="codeph">MdmLevelHierarchy</code>列表，在这种情况下， <code class="codeph">MdmLevelHierarchy</code>具有一个<code class="codeph">MdmHierarchyLevel</code> ，并且两个对象具有相同的成员。通过调用<code class="codeph">getHierarchyLevels</code>方法获得<code class="codeph">MdmLevelHierarchy</code>的级别。
                           </p>
                           <p><code class="codeph">MdmLevelHierarchy</code>有一个方法，用于获取它包含的所有<code class="codeph">MdmHierarchyLevel</code>对象的列表。它还有一个按名称查找<code class="codeph">MdmHierarchyLevel</code>或创建对象（如果它尚不存在）的方法。
                           </p>
                           <p><code class="codeph">MdmPrimaryDimension</code>可以包含多个<code class="codeph">MdmLevelHierarchy</code> 。例如， <code class="codeph">MdmTimeDimension</code>维度可能有两个<code class="codeph">MdmLevelHierarchy</code>对象，一个按日历年度时间段组织，另一个按财务年度时间段组织。一个层次结构的<code class="codeph">MdmDimensionLevel</code>对象将日历年度时间段的<code class="codeph">MdmHierarchyLevel</code>对象与层次结构相关联。另一个层次结构的<code class="codeph">MdmDimensionLevel</code>对象将会计年度时间段的<code class="codeph">MdmHierarchyLevel</code>对象与该层次结构相关联。一般情况下，基于级别的层次结构共享的最低水平，因此<code class="codeph">MdmHierarchyLevel</code>每个层次的最低水平相关联同<code class="codeph">MdmDimensionLevel</code>每个层次。例如，日历年度层次结构和会计年度层次结构共享相同的月份时间段的<code class="codeph">MdmHierarchyLevel</code> 。
                           </p>
                        </div>
                     </div><a id="OLAAP165"></a><div class="props_rev_3"><a id="GUID-ECC1741B-05DF-4970-80D3-BDBC1A585D58" name="GUID-ECC1741B-05DF-4970-80D3-BDBC1A585D58"></a><h6 id="OLAAP-GUID-ECC1741B-05DF-4970-80D3-BDBC1A585D58" class="sect6"><span class="enumeration_section">2.4.2.3.2</span>表示基于值的层次结构</h6>
                        <div>
                           <p><a id="d3607e4653" class="indexterm-anchor"></a><a id="d3607e4657" class="indexterm-anchor"></a>基于值的层次结构是在定义层次关系时层次没有意义的层次结构。这种类型的层次结构由<code class="codeph">MdmValueHierarchy</code>类表示，该类是<code class="codeph">MdmHierarchy</code>的子类。价值层次结构的一个示例是公司的员工报告结构，可以用父子关系表示但没有级别。有关创建基于值的层次结构的示例，请参阅<span class="q">“ <a href="creating-metadata-and-analytic-workspaces.html#GUID-9F97D203-9DDC-4726-83E7-F22F41C00538">创建和映射MdmValueHierarchy</a> ”</span> 。
                           </p>
                           <p>值层次结构的OLAP视图具有一个包含所有员工的列，包括那些管理员。它有另一列包含父成员。另一列标识层次结构中成员的深度，其中没有经理的成员位于深度0（零），向该经理报告的员工位于1级，依此类推。</p>
                        </div>
                     </div>
                  </div><a id="OLAAP166"></a><div class="props_rev_3"><a id="GUID-81E39328-0DB8-4778-8E95-BF567C7FAA35" name="GUID-81E39328-0DB8-4778-8E95-BF567C7FAA35"></a><h5 id="OLAAP-GUID-81E39328-0DB8-4778-8E95-BF567C7FAA35" class="sect5"><span class="enumeration_section">2.4.2.4</span>表示层次结构级别</h5>
                     <div>
                        <p><a id="d3607e4708" class="indexterm-anchor"></a> <code class="codeph">MdmHierarchyLevel</code>是的子类<code class="codeph">MdmSubDimension</code> 。一个<code class="codeph">MdmHierarchyLevel</code>相关联的<code class="codeph">MdmDimensionLevel</code>与<code class="codeph">MdmLevelHierarchy</code> 。
                        </p>
                        <p>在层次结构中级别的顺序由您创建的顺序指定<code class="codeph">MdmHierarchyLevel</code>为对象<code class="codeph">MdmLevelHierarchy</code> 。您创建的第一个<code class="codeph">MdmHierarchyLevel</code>是最高级别，您创建的最后一个级别是最低级别。有关创建层次结构的示例，请参阅<span class="q">“ <a href="creating-metadata-and-analytic-workspaces.html#GUID-EFF7B8CF-44A2-464D-905B-4AD086345A81">创建和映射MdmLevelHierarchy</a> ”</span> 。
                        </p>
                     </div>
                  </div>
               </div><a id="OLAAP168"></a><a id="OLAAP167"></a><div class="props_rev_3"><a id="GUID-F22AEA05-496A-4E4A-BE2B-983E41A24A87" name="GUID-F22AEA05-496A-4E4A-BE2B-983E41A24A87"></a><h4 id="OLAAP-GUID-F22AEA05-496A-4E4A-BE2B-983E41A24A87" class="sect4"><span class="enumeration_section">2.4.3</span>表示维度属性</h4>
                  <div>
                     <p><a id="d3607e4781" class="indexterm-anchor"></a><a id="d3607e4785" class="indexterm-anchor"></a><a id="d3607e4789" class="indexterm-anchor"></a> OLAP维度属性由<code class="codeph">MdmAttribute</code>对象表示。<code class="codeph">MdmAttribute</code>具有与<code class="codeph">MdmPrimaryDimension</code>成员相关的值。所述<code class="codeph">MdmAttribute</code>类是的一个子类<code class="codeph">MdmDimensionedObject</code>因为，像一个<code class="codeph">MdmMeasure</code> ，一个的值<code class="codeph">MdmAttribute</code>相对于尺寸的成员具有的含义。
                     </p>
                     <p><a id="d3607e4817" class="indexterm-anchor"></a><a id="d3607e4821" class="indexterm-anchor"></a>关系可以是一对一，多对一或一对多。例如，PRODUCT_AWJ维度具有简短描述属性，包属性和祖先属性。短描述属性具有每个维度成员的单独值。package属性有一组值，每个值都适用于多个维度成员。ancestors属性具有多个适用于单个维度成员的值。如果<code class="codeph">MdmAttribute</code>不适的成员<code class="codeph">MdmDimension</code> ，那么<code class="codeph">MdmAttribute</code>该成员值为<code class="codeph">null</code> 。
                     </p>
                     <p><a href="understanding-olap-java-api-metadata.html#GUID-F22AEA05-496A-4E4A-BE2B-983E41A24A87__BABFEAGF" title="产品维度成员的成员以及相关的简短描述和包属性值。">表2-3</a>显示了PRODUCT_AWJ维度的前几个成员及其相关的简短描述和包属性值。只有维度的ITEM级别的某些成员具有包属性。对于其他项目以及更高级别，package属性值为<code class="codeph">null</code> ，在表中显示为<code class="codeph">NA</code> 。
                     </p>
                     <div class="tblformal" id="GUID-F22AEA05-496A-4E4A-BE2B-983E41A24A87__BABFEAGF">
                        <p class="titleintable">表2-3维成员和相关属性值</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="维度成员和相关属性值" width="100%" border="1" summary="Members of the Product dimenson members and related short description and package attribute values." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="33%" id="d3607e4861">维度成员</th>
                                 <th align="left" valign="bottom" width="38%" id="d3607e4864">相关简短说明</th>
                                 <th align="left" valign="bottom" width="29%" id="d3607e4867">相关包</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d3607e4872" headers="d3607e4861 ">
                                    <p><code class="codeph">TOTAL_PRODUCT :: TOTAL</code></p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d3607e4872 d3607e4864 ">
                                    <p><code class="codeph">总产品</code></p>
                                 </td>
                                 <td align="left" valign="top" width="29%" headers="d3607e4872 d3607e4867 ">
                                    <p><code class="codeph">NA</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d3607e4885" headers="d3607e4861 ">
                                    <p><code class="codeph">CLASS :: HRD</code></p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d3607e4885 d3607e4864 ">
                                    <p><code class="codeph">硬件</code></p>
                                 </td>
                                 <td align="left" valign="top" width="29%" headers="d3607e4885 d3607e4867 ">
                                    <p><code class="codeph">NA</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d3607e4898" headers="d3607e4861 ">
                                    <p><code class="codeph">FAMILY :: DISK</code></p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d3607e4898 d3607e4864 ">
                                    <p><code class="codeph">CD / DVD</code></p>
                                 </td>
                                 <td align="left" valign="top" width="29%" headers="d3607e4898 d3607e4867 ">
                                    <p><code class="codeph">NA</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d3607e4911" headers="d3607e4861 ">
                                    <p><code class="codeph">ITEM :: EXT CD ROM</code></p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d3607e4911 d3607e4864 ">
                                    <p><code class="codeph">外部48X CD-ROM</code></p>
                                 </td>
                                 <td align="left" valign="top" width="29%" headers="d3607e4911 d3607e4867 ">
                                    <p><code class="codeph">NA</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d3607e4924" headers="d3607e4861 ">
                                    <p><code class="codeph">ITEM :: EXT DVD</code></p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d3607e4924 d3607e4864 ">
                                    <p><code class="codeph">外部 -  DVD-RW  -  8X</code></p>
                                 </td>
                                 <td align="left" valign="top" width="29%" headers="d3607e4924 d3607e4867 ">
                                    <p><code class="codeph">行政人员</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d3607e4937" headers="d3607e4861 ">
                                    <p><code class="codeph">ITEM :: INT 8X DVD</code></p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d3607e4937 d3607e4864 ">
                                    <p><code class="codeph">内部 -  DVD-RW  -  8X</code></p>
                                 </td>
                                 <td align="left" valign="top" width="29%" headers="d3607e4937 d3607e4867 ">
                                    <p><code class="codeph">NA</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d3607e4950" headers="d3607e4861 ">
                                    <p><code class="codeph">ITEM :: INT CD ROM</code></p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d3607e4950 d3607e4864 ">
                                    <p><code class="codeph">内部48X CD-ROM</code></p>
                                 </td>
                                 <td align="left" valign="top" width="29%" headers="d3607e4950 d3607e4867 ">
                                    <p><code class="codeph">笔记本电脑价值包</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d3607e4963" headers="d3607e4861 ">
                                    <p><code class="codeph">ITEM :: INT CD USB</code></p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d3607e4963 d3607e4864 ">
                                    <p><code class="codeph">内置48X CD-ROM USB</code></p>
                                 </td>
                                 <td align="left" valign="top" width="29%" headers="d3607e4963 d3607e4867 ">
                                    <p><code class="codeph">NA</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d3607e4976" headers="d3607e4861 ">
                                    <p><code class="codeph">ITEM :: INT RW DVD</code></p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d3607e4976 d3607e4864 ">
                                    <p><code class="codeph">内部 -  DVD-RW  -  6X</code></p>
                                 </td>
                                 <td align="left" valign="top" width="29%" headers="d3607e4976 d3607e4867 ">
                                    <p><code class="codeph">多媒体</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d3607e4989" headers="d3607e4861 ">
                                    <p>...</p>
                                 </td>
                                 <td align="left" valign="top" width="38%" headers="d3607e4989 d3607e4864 ">
                                    <p>...</p>
                                 </td>
                                 <td align="left" valign="top" width="29%" headers="d3607e4989 d3607e4867 ">
                                    <p>...</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>要从中获取值<code class="codeph">MdmAttribute</code> ，你必须加入<code class="codeph">Source</code>的<code class="codeph">MdmAttribute</code>和一个<code class="codeph">Source</code> ，指定的一个或多个成员<code class="codeph">MdmDimension</code> 。有关连接<code class="codeph">Source</code>对象的说明，请参阅<a href="understanding-source-objects.html#GUID-871159BB-8ED1-454B-B9FA-62F36683F4B2">了解源对象</a> 。有关连接<code class="codeph">MdmAttribute</code>和<code class="codeph">MdmDimension</code>的<code class="codeph">Source</code>对象的<code class="codeph">MdmDimension</code> ，请参阅<a href="creating-metadata-and-analytic-workspaces.html#GUID-9F97D203-9DDC-4726-83E7-F22F41C00538__BABDCIBA">示例4-5</a>以及<a href="understanding-source-objects.html#GUID-871159BB-8ED1-454B-B9FA-62F36683F4B2">了解源对象</a>和<a href="making-queries-using-source-methods.html#GUID-B5D5AF5D-330E-46D3-8BD7-E84B1373E6A7">使用源方法进行查询的</a> <a href="understanding-source-objects.html#GUID-F4052FE8-9065-4EBF-87F4-6A087FFF4A1D__BABJHBEG">示例</a> ，例如<a href="understanding-source-objects.html#GUID-F4052FE8-9065-4EBF-87F4-6A087FFF4A1D__BABJHBEG">示例5-7</a>和<a href="making-queries-using-source-methods.html#GUID-53956A82-8350-44A3-A01C-B0D69B83EFFD__CBBGEGFA">示例6-10</a> 。
                     </p>
                     <p>以下主题描述了表示维度属性的类。</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="understanding-olap-java-api-metadata.html#GUID-B8DD2493-A9A0-45C8-BD7A-DBA6EC494968">描述MdmAttribute类</a></p>
                        </li>
                        <li>
                           <p><a href="understanding-olap-java-api-metadata.html#GUID-85F8AC72-4E78-4357-9F23-1D1F38E55273">描述MdmBaseAttribute类</a></p>
                        </li>
                        <li>
                           <p><a href="understanding-olap-java-api-metadata.html#GUID-1250FA77-6397-4EF3-84C6-22B935CF9757">描述MdmDerivedAttribute类</a></p>
                        </li>
                     </ul>
                  </div><a id="OLAAP169"></a><div class="props_rev_3"><a id="GUID-B8DD2493-A9A0-45C8-BD7A-DBA6EC494968" name="GUID-B8DD2493-A9A0-45C8-BD7A-DBA6EC494968"></a><h5 id="OLAAP-GUID-B8DD2493-A9A0-45C8-BD7A-DBA6EC494968" class="sect5"><span class="enumeration_section">2.4.3.1</span>描述MdmAttribute类</h5>
                     <div>
                        <p><a id="d3607e5100" class="indexterm-anchor"></a>抽象<code class="codeph">MdmAttribute</code>类有一个子类，它是抽象类<code class="codeph">MdmSingleValuedAttribute</code> 。该类有两个具体的子类： <code class="codeph">MdmBaseAttribute</code>和<code class="codeph">MdmDerivedAttribute</code> 。
                        </p>
                     </div><a id="OLAAP170"></a><div class="props_rev_3"><a id="GUID-ABF34774-AE70-4BE1-9140-D5F7625C1E42" name="GUID-ABF34774-AE70-4BE1-9140-D5F7625C1E42"></a><h6 id="OLAAP-GUID-ABF34774-AE70-4BE1-9140-D5F7625C1E42" class="sect6"><span class="enumeration_section">2.4.3.1.1</span>描述属性的类型</h6>
                        <div>
                           <p><a id="d3607e5152" class="indexterm-anchor"></a><a id="d3607e5156" class="indexterm-anchor"></a><a id="d3607e5160" class="indexterm-anchor"></a><a id="d3607e5162" class="indexterm-anchor"></a> <code class="codeph">MdmAttribute</code>包含在创建它的<code class="codeph">MdmPrimaryDimension</code>中。某些属性（如parent属性和level属性）由Oracle OLAP从维度结构派生。其他是<code class="codeph">MdmPrimaryDimension</code>具有访问器方法的常见属性，例如长和短描述属性，或者<code class="codeph">MdmTimeDimension</code>需要的结束日期和时间范围属性。您创建这些属性之一后，它通过一个方法的尺寸，如关联<code class="codeph">setShortValueDescriptionAttribute</code>的方法<code class="codeph">MdmPrimaryDimension</code>或<code class="codeph">setTimeSpanAttribute</code>的方法<code class="codeph">MdmTimeDimension</code> 。您还可以为自己的目的创建属性，例如GLOBAL_AWJ示例分析工作区中的PACKAGE属性。
                           </p>
                        </div>
                     </div><a id="OLAAP171"></a><div class="props_rev_3"><a id="GUID-0B157B8B-1E98-4F85-AC56-C81CA19665FD" name="GUID-0B157B8B-1E98-4F85-AC56-C81CA19665FD"></a><h6 id="OLAAP-GUID-0B157B8B-1E98-4F85-AC56-C81CA19665FD" class="sect6"><span class="enumeration_section">2.4.3.1.2</span>将属性与MdmSubDimension关联</h6>
                        <div>
                           <p>创建属性后，将其与<code class="codeph">MdmSubDimension</code>关联。你可以只用一个单一的其关联<code class="codeph">MdmSubDimension</code>使用<code class="codeph">addAttribute</code>的方法<code class="codeph">MdmSubDimension</code> 。你也可以将其与所有的关联<code class="codeph">MdmDimensionLevel</code>的对象<code class="codeph">MdmPrimaryDimension</code>使用<code class="codeph">setIsVisibleForAll</code>的方法<code class="codeph">MdmAttribute</code> 。如果指定<code class="codeph">true</code>与<code class="codeph">setIsVisibleForAll</code>方法，则属性适用于所有的<code class="codeph">MdmDimensionLevel</code>目前由所包含的对象<code class="codeph">MdmPrimaryDimension</code>和任何<code class="codeph">MdmDimensionLevel</code>您后来创建或添加到维对象。
                           </p>
                        </div>
                     </div><a id="OLAAP172"></a><div class="props_rev_3"><a id="GUID-D1166101-381D-47B5-AE87-CA28E1DDB027" name="GUID-D1166101-381D-47B5-AE87-CA28E1DDB027"></a><h6 id="OLAAP-GUID-D1166101-381D-47B5-AE87-CA28E1DDB027" class="sect6"><span class="enumeration_section">2.4.3.1.3</span>获取MdmAttribute对象</h6>
                        <div>
                           <p><code class="codeph">MdmPrimaryDimension</code>的<code class="codeph">getAttributes</code>方法返回由客户端应用程序创建的所有<code class="codeph">MdmAttribute</code>对象。<code class="codeph">MdmSubDimension</code>的<code class="codeph">getAttributes</code>方法仅返回应用程序使用<code class="codeph">addAttribute</code>方法添加到其中的那些属性。<code class="codeph">MdmPrimaryDimension</code>其他方法返回Oracle OLAP生成的特定属性，例如<code class="codeph">getHierarchyAttribute</code> ， <code class="codeph">getLevelDepthAttribute</code>或<code class="codeph">getParentAttribute</code>方法。
                           </p>
                        </div>
                     </div><a id="OLAAP173"></a><div class="props_rev_3"><a id="GUID-ACA0DA76-693C-4A95-BDFC-6866FDB7862A" name="GUID-ACA0DA76-693C-4A95-BDFC-6866FDB7862A"></a><h6 id="OLAAP-GUID-ACA0DA76-693C-4A95-BDFC-6866FDB7862A" class="sect6"><span class="enumeration_section">2.4.3.1.4</span>指定目标维度</h6>
                        <div>
                           <p><a id="d3607e5370" class="indexterm-anchor"></a><a id="d3607e5374" class="indexterm-anchor"></a>属性的目标维度类似于在表中的列之间定义外键约束。属性的所有值也必须是目标维度的键。
                           </p>
                           <p>您可以使用<code class="codeph">MdmAttribute</code>的<code class="codeph">setTargetDimension</code>方法为属性指定目标维度。作为目标维度的<code class="codeph">Query</code>的关系表必须具有一个列，该列包含要映射该属性的维度表的列中的所有值。
                           </p>
                        </div>
                     </div>
                  </div><a id="OLAAP174"></a><div class="props_rev_3"><a id="GUID-85F8AC72-4E78-4357-9F23-1D1F38E55273" name="GUID-85F8AC72-4E78-4357-9F23-1D1F38E55273"></a><h5 id="OLAAP-GUID-85F8AC72-4E78-4357-9F23-1D1F38E55273" class="sect5"><span class="enumeration_section">2.4.3.2</span>描述MdmBaseAttribute类</h5>
                     <div>
                        <p><a id="d3607e5425" class="indexterm-anchor"></a> <code class="codeph">MdmBaseAttribute</code>具有存储在OLAP视图中的值，用于包含它的维度以及它应用的层次结构。有关OLAP视图的信息，请参阅<span class="q">“ <a href="understanding-olap-java-api-metadata.html#GUID-934F9C46-F3FD-4ABC-901D-065B888569FE">使用OLAP视图</a> ”</span> 。
                        </p>
                        <p><a id="d3607e5439" class="indexterm-anchor"></a><a id="d3607e5443" class="indexterm-anchor"></a><a id="d3607e5445" class="indexterm-anchor"></a><a id="d3607e5447" class="indexterm-anchor"></a>使用<code class="codeph">MdmBaseAttribute</code>的<code class="codeph">findOrCreateBaseAttribute</code>方法创建<code class="codeph">MdmPrimaryDimension</code> 。您将<code class="codeph">MdmBaseAttribute</code>映射到关系表或视图中的列。在构建创建该属性的<code class="codeph">MdmPrimaryDimension</code> ，Oracle OLAP会将<code class="codeph">MdmBaseAttribute</code>的值存储在OLAP视图中。您可以使用<code class="codeph">getETAttributeColumn</code>方法在OLAP视图中获取<code class="codeph">MdmBaseAttribute</code>的列。该方法返回一个<code class="codeph">MdmViewColumn</code>对象。
                        </p>
                        <p><code class="codeph">MdmBaseAttribute</code>对象的示例是在<a href="creating-metadata-and-analytic-workspaces.html#GUID-9F97D203-9DDC-4726-83E7-F22F41C00538__BABDCIBA">示例4-5中</a>创建和映射的名称属性以及在<a href="creating-metadata-and-analytic-workspaces.html#GUID-EA1BAC07-B64E-45CB-B0E9-74A2E2EE9FD3__BABEHBJF">示例4-6中</a>创建的长描述属性。该长描述属性的映射在<a href="creating-metadata-and-analytic-workspaces.html#GUID-36EF8BE6-12A1-4ED8-B664-57C8C2DB08F0__BABDJEDC">例4-3中</a> 。
                        </p>
                        <p><a id="d3607e5492" class="indexterm-anchor"></a>对于经常OLAP查询，使用<code class="codeph">Source</code>对象，你只需要映射一个<code class="codeph">MdmBaseAttribute</code>到<code class="codeph">MdmDimensionLevel</code>通过使用对象<code class="codeph">MemberListMap</code>对象。对于针对OLAP视图的SQL查询，应使用<code class="codeph">HierarchyLevelMap</code>对象将属性映射到<code class="codeph">MdmHierarchyLevel</code>对象。
                        </p>
                     </div><a id="OLAAP175"></a><div class="props_rev_3"><a id="GUID-3E79824F-2782-4631-BAB0-B6B90C516A7E" name="GUID-3E79824F-2782-4631-BAB0-B6B90C516A7E"></a><h6 id="OLAAP-GUID-3E79824F-2782-4631-BAB0-B6B90C516A7E" class="sect6"><span class="enumeration_section">2.4.3.2.1</span>指定数据类型</h6>
                        <div>
                           <p><a id="d3607e5551" class="indexterm-anchor"></a>创建<code class="codeph">MdmBaseAttribute</code> ，可以使用<code class="codeph">setSQLDataType</code>方法指定SQL数据类型。如果未指定它，则<code class="codeph">MdmBaseAttribute</code>具有您映射到的源数据的数据类型。例如，短描述属性的SQL数据类型是<code class="codeph">VARCHAR2</code> ，结束日期属性的数据类型是<code class="codeph">DATE</code> 。</p>
                           <p><a id="d3607e5572" class="indexterm-anchor"></a><a id="d3607e5574" class="indexterm-anchor"></a>通过使用<code class="codeph">setAllowAutoDataTypeChange</code>方法指定<code class="codeph">true</code> ，可以允许Oracle OLAP自动设置SQL数据类型。如果允许自动更改SQL数据类型，则Oracle OLAP会忽略<code class="codeph">setSQLDataType</code>方法指定的SQL数据类型。如果将相同属性映射到具有不同数据类型的级别，或者级别的数据类型发生更改，则此选项非常有用。
                           </p>
                        </div>
                     </div><a id="OLAAP176"></a><div class="props_rev_3"><a id="GUID-2EC887A7-D86E-434C-836D-D93A11971191" name="GUID-2EC887A7-D86E-434C-836D-D93A11971191"></a><h6 id="OLAAP-GUID-2EC887A7-D86E-434C-836D-D93A11971191" class="sect6"><span class="enumeration_section">2.4.3.2.2</span>分组属性</h6>
                        <div>
                           <p><a id="d3607e5623" class="indexterm-anchor"></a><a id="d3607e5627" class="indexterm-anchor"></a><a id="d3607e5629" class="indexterm-anchor"></a>使用<code class="codeph">MdmBaseAttribute</code>的<code class="codeph">setAttributeGroupName</code>方法，可以指定属性组的名称。您可以为其他属性指定相同的组名。例如，您可以为每个维度级别创建长描述属性，并为每个属性指定组名称LONG_DESCRIPTION。您可以使用组名来标识类似的属性。您可以使用<code class="codeph">getAttributeGroupName</code>方法获取组名。
                           </p>
                        </div>
                     </div><a id="OLAAP177"></a><div class="props_rev_3"><a id="GUID-4428DF40-D675-4587-B234-1B3F031702B7" name="GUID-4428DF40-D675-4587-B234-1B3F031702B7"></a><h6 id="OLAAP-GUID-4428DF40-D675-4587-B234-1B3F031702B7" class="sect6"><span class="enumeration_section">2.4.3.2.3</span>创建索引</h6>
                        <div>
                           <p><a id="d3607e5677" class="indexterm-anchor"></a><a id="d3607e5681" class="indexterm-anchor"></a><a id="d3607e5685" class="indexterm-anchor"></a>您可以通过为属性创建索引来提高基于属性的查询的性能。创建索引会增加维护时间并增加分析工作区的大小，这可能会增加极大维度的构建时间。您通过指定属性创建索引<code class="codeph">true</code>与<code class="codeph">setCreateAttributeIndex</code>的方法<code class="codeph">AWAttributeOrganization</code>为<code class="codeph">MdmBaseAttribute</code> 。
                           </p>
                        </div>
                     </div><a id="OLAAP178"></a><div class="props_rev_3"><a id="GUID-4D685675-AB3B-4313-BA14-DF7C8CB03EEC" name="GUID-4D685675-AB3B-4313-BA14-DF7C8CB03EEC"></a><h6 id="OLAAP-GUID-4D685675-AB3B-4313-BA14-DF7C8CB03EEC" class="sect6"><span class="enumeration_section">2.4.3.2.4</span>指定属性的语言</h6>
                        <div>
                           <p><a id="d3607e5735" class="indexterm-anchor"></a><a id="d3607e5739" class="indexterm-anchor"></a><a id="d3607e5743" class="indexterm-anchor"></a><a id="d3607e5745" class="indexterm-anchor"></a>为<code class="codeph">MdmBaseAttribute</code>创建<code class="codeph">AttributeMap</code> ，可以为该属性指定语言。例如，要将French指定为名为<code class="codeph">CHANNEL</code>的<code class="codeph">MdmDimensionLevel</code>的长描述属性的语言，您可以通过调用<code class="codeph">MemberListMap.findOrCreateAttributeMap</code>方法并将长描述<code class="codeph">MdmBaseAttribute</code>和<code class="codeph">FRENCH</code>作为指定语言的<code class="codeph">String</code>传递来创建<code class="codeph">AttributeMap</code> 。然后，您将指定<code class="codeph">GLOBAL.CHANNEL_DIM.CHANNEL_DSC_FRENCH</code>作为<code class="codeph">AttributeMap</code>的<code class="codeph">Expression</code> 。通过使用<code class="codeph">AttributeMap</code>的<code class="codeph">setLanguage</code>方法，可以在创建<code class="codeph">AttributeMap</code>后为其指定语言。
                           </p>
                        </div>
                     </div><a id="OLAAP179"></a><div class="props_rev_3"><a id="GUID-37CF08DD-8885-4568-B785-8A09C343F898" name="GUID-37CF08DD-8885-4568-B785-8A09C343F898"></a><h6 id="OLAAP-GUID-37CF08DD-8885-4568-B785-8A09C343F898" class="sect6"><span class="enumeration_section">2.4.3.2.5</span>指定多语言属性</h6>
                        <div>
                           <p><a id="d3607e5830" class="indexterm-anchor"></a><a id="d3607e5832" class="indexterm-anchor"></a><a id="d3607e5836" class="indexterm-anchor"></a> <code class="codeph">MdmBaseAttribute.setMultiLingual</code>方法允许您将多个语言列映射到同一属性。为此，请使用属性的<code class="codeph">setMultiLingual</code>方法指定true。然后，为每种语言创建单独的<code class="codeph">AttributeMap</code> ，但使用相同的<code class="codeph">MdmBaseAttribute</code> 。
                           </p>
                           <p>数据库使用的语言确定维度的OLAP视图中显示哪种语言。在会话中一次只使用一种语言，但如果使用的语言发生更改，则OLAP视图中属性列中的语言也会更改。有关为数据库会话指定语言的详细信息，请参阅<a href="../nlspg/setting-up-globalization-support-environment.html#NLSPG-GUID-D5C74C82-8622-46F4-8760-0F8ABA28A816" target="_blank">“</a> <span><cite>Oracle数据库全球化支持指南”中的“</cite></span> <a href="../nlspg/setting-up-globalization-support-environment.html#NLSPG-GUID-D5C74C82-8622-46F4-8760-0F8ABA28A816" target="_blank">设置全球化支持环境</a> <span><cite>”</cite></span> 。
                           </p>
                           <p>对于物化视图，您应该为每种语言创建一个单独的属性，以便有一个英语的长描述属性，一个用于法语，依此类推。这种行为在SQL中更为典型，它不期望使用多值列。</p>
                        </div>
                     </div><a id="OLAAP181"></a><a id="OLAAP182"></a><a id="OLAAP180"></a><div class="props_rev_3"><a id="GUID-632EF0BB-F472-4743-9D17-D136D69EE811" name="GUID-632EF0BB-F472-4743-9D17-D136D69EE811"></a><h6 id="OLAAP-GUID-632EF0BB-F472-4743-9D17-D136D69EE811" class="sect6"><span class="enumeration_section">2.4.3.2.6</span>使用分层属性值<span class="enumeration_section">填充</span> OLAP视图</h6>
                        <div>
                           <p><a id="d3607e5902" class="indexterm-anchor"></a><a id="d3607e5906" class="indexterm-anchor"></a><a id="d3607e5910" class="indexterm-anchor"></a><a id="d3607e5914" class="indexterm-anchor"></a><a id="d3607e5918" class="indexterm-anchor"></a>对于SQL查询，您应该通过使用<code class="codeph">MdmBaseAttribute.setPopulateLineage</code>方法指定<code class="codeph">true</code>来填充视图中属性的沿袭。填充沿袭意味着在OLAP视图中属性的列中，Oracle OLAP使用在较高级别映射的属性值填充维度层次结构中较低级别的行。如果要为分析工作区多维数据集创建实体化视图，则为元素的谱系填充也很有用。
                           </p>
                           <p>如果指定<code class="codeph">setPopulateLineage(false)</code>该设置的默认值），则属性值仅出现在属性映射到的级别的层次结构成员的行中。对于其他级别的层次结构成员，属性值为<code class="codeph">null</code> 。如果指定<code class="codeph">setPopulateLineage(true)</code> ，则属性值将显示在映射级别成员的行中，以及作为映射级别后代的所有级别的层次结构成员中。
                           </p>
                           <p>在OLAP视图中填充层次结构沿袭使得视图的内容更像星型模式中的关系表的内容。例如，您可以在维度上为维度的每个<code class="codeph">MdmDimensionLevel</code>创建单独的长描述属性。您可以通过调用每个属性的<code class="codeph">setPopulateLineage(true)</code>方法来指定填充这些属性的沿袭。然后，通过使用<code class="codeph">addAttribute</code>方法将属性添加到<code class="codeph">MdmHierarchyLevel</code> ，可以使该属性对层次结构级别可见。
                           </p>
                           <p>然后，维度层次结构的OLAP视图将具有每个长描述属性的列。这些列将包含映射层次结构级别成员的长描述属性值，以及作为映射级别后代的所有级别的层次结构成员。</p>
                           <p>例如， <code class="codeph">CreateAndBuildAW</code>示例类有一行代码，用于指定为每个单独的<code class="codeph">MdmHierarchyLevel</code>添加的<code class="codeph">MdmBaseAttribute</code>对象填充其沿袭。以下行显示在类的<code class="codeph">createLineageAttributes</code>方法中。
                           </p><pre class="oac_no_warn" dir="ltr"><code class="codeph">mdmAttr.setPopulateLineage（真）;</code>
</pre><p><a href="understanding-olap-java-api-metadata.html#GUID-632EF0BB-F472-4743-9D17-D136D69EE811__BABCCFHJ">示例2-2</a>显示了当该行代码被注释掉时以下SQL查询的结果。<a href="understanding-olap-java-api-metadata.html#GUID-632EF0BB-F472-4743-9D17-D136D69EE811__BABIDGEH">示例2-3</a>显示了该行中包含该行时SQL查询的结果。这两个示例都显示了PRODUCT_PRIMARY层次结构的OLAP视图的选定列中的值。视图名称为PRODUCT_AWJ_PRODUCT_PRIMA_VIEW。这些示例仅显示SQL查询返回的一些行。
                           </p><pre class="oac_no_warn" dir="ltr">SELECT TOTAL_PRODUCT_SHORT_DESC || '*'|| CLASS_SHORT_DESC || '*'|| FAMILY_SHORT_DESC || '*'|| ITEM_SHORT_DESC FROM PRODUCT_AWJ_PRODUCT_PRIMA_VIEW ORDER BY TOTAL_PRODUCT首先为空，CLASS首先为空，FAMILY首先为空，ITEM首先为空;</pre><div class="example" id="GUID-632EF0BB-F472-4743-9D17-D136D69EE811__BABCCFHJ">
                              <p class="titleinexample">示例2-2 OLAP视图列中的值setPopulateLineage之后（false）</p>
                              <p>在此示例中，OLAP视图的属性行仅具有维度成员所属的层次结构级别的属性值。</p><pre class="oac_no_warn" dir="ltr">TOTAL_PRODUCT_SHORT_DESC ||'*'|| CLASS_SHORT_DESC ||'*'|| FAMILY_SHORT_DESC ||'*'|| IT ------------------------- -------------------------------------------------- -----总产品*** *硬件** ** CD / DVD * ***外置48X CD-ROM ***外置 -  DVD-RW  -  8X ***内置 -  DVD-RW  -  8X .. 。**台式电脑* *** Sentinel金融***哨兵多媒体***哨兵标准**便携式电脑* ***特使大使***特使行政***特使标准......
</pre></div>
                           <!-- class="example" -->
                           <div class="example" id="GUID-632EF0BB-F472-4743-9D17-D136D69EE811__BABIDGEH">
                              <p class="titleinexample">示例2-3 OLAP视图列中的值setPopulateLineage（true）之后</p>
                              <p>在此示例中，OLAP视图的属性行使用维度成员的祖先的属性值进行填充。例如，第一行仅包含值Total Product，因为TOTAL_PRODUCT是层次结构中的最高级别。包含值<code class="codeph">Envoy Standard</code>的行还具有TOTAL_PRODUCT，CLASS和FAMILY级别的值。
                              </p><pre class="oac_no_warn" dir="ltr">TOTAL_PRODUCT_SHORT_DESC ||'*'|| CLASS_SHORT_DESC ||'*'|| FAMILY_SHORT_DESC ||'*'|| IT ------------------------- -------------------------------------------------- -----总产品***总产品*硬件**总产品*硬件* CD / DVD *总产品*硬件* CD / DVD *外部48X CD-ROM总产品*硬件* CD / DVD *外部 - DVD-RW  -  8X总产品*硬件* CD / DVD *内部 -  DVD-RW  -  8X ......总产品*硬件*台式电脑*总产品*硬件*台式电脑* Sentinel财务总产品*硬件*台式电脑* Sentinel多媒体总产品*硬件*台式电脑* Sentinel标准总产品*硬件*便携式电脑*总产品*硬件*便携式电脑*特使大使总产品*硬件*便携式电脑*特使执行总产品*硬件*便携式电脑*特使标准......</pre></div>
                           <!-- class="example" -->
                        </div>
                     </div><a id="OLAAP183"></a><div class="props_rev_3"><a id="GUID-B454C93D-A683-4EF3-876D-4799EA3CC707" name="GUID-B454C93D-A683-4EF3-876D-4799EA3CC707"></a><h6 id="OLAAP-GUID-B454C93D-A683-4EF3-876D-4799EA3CC707" class="sect6"><span class="enumeration_section">2.4.3.2.7</span>为物化视图准备属性</h6>
                        <div>
                           <p><a id="d3607e6031" class="indexterm-anchor"></a><a id="d3607e6035" class="indexterm-anchor"></a><a id="d3607e6037" class="indexterm-anchor"></a><a id="d3607e6039" class="indexterm-anchor"></a><a id="d3607e6043" class="indexterm-anchor"></a>要生成OLAP元数据对象物化视图，每个<code class="codeph">MdmDimensionLevel</code>您必须创建一个<code class="codeph">MdmBaseAttribute</code> ，它映射为一个唯一的密钥<code class="codeph">MdmDimensionLevel</code> ，并把它添加到<code class="codeph">MdmDimensionLevel</code> 。<code class="codeph">MdmDimensionLevel</code>具有添加，获取和删除唯一键属性的方法。<code class="codeph">EnableMVs.java</code>示例程序创建唯一键属性并将它们添加到维度的<code class="codeph">MdmDimensionLevel</code>对象。
                           </p>
                           <p><a id="d3607e6071" class="indexterm-anchor"></a><a id="d3607e6075" class="indexterm-anchor"></a><a id="d3607e6079" class="indexterm-anchor"></a><a id="d3607e6081" class="indexterm-anchor"></a>当Oracle OLAP为多维数据集创建实例化视图时，它会为多维数据集的维度属性创建列。对于列的名称，它使用维度的OLAP视图中的属性列的名称。为确保列名称唯一，Oracle OLAP会为名称添加默认前缀。您可以使用<code class="codeph">MdmDimensionality</code>对象的<code class="codeph">setETAttrPrefix</code>方法为多维数据集的维度指定前缀。
                           </p>
                        </div>
                     </div>
                  </div><a id="OLAAP184"></a><div class="props_rev_3"><a id="GUID-1250FA77-6397-4EF3-84C6-22B935CF9757" name="GUID-1250FA77-6397-4EF3-84C6-22B935CF9757"></a><h5 id="OLAAP-GUID-1250FA77-6397-4EF3-84C6-22B935CF9757" class="sect5"><span class="enumeration_section">2.4.3.3</span>描述MdmDerivedAttribute类</h5>
                     <div>
                        <p><a id="d3607e6128" class="indexterm-anchor"></a> <code class="codeph">MdmDerivedAttribute</code>具有Oracle OLAP在您需要时即时计算的值。甲骨文OLAP生成几个<code class="codeph">MdmDerivedAttribute</code>对象，如由返回的属性<code class="codeph">getParentAttribute</code>和<code class="codeph">getAncestorsAttribute</code>的方法<code class="codeph">MdmPrimaryDimension</code> 。
                        </p>
                     </div>
                  </div>
               </div><a id="OLAAP185"></a><div class="props_rev_3"><a id="GUID-934F9C46-F3FD-4ABC-901D-065B888569FE" name="GUID-934F9C46-F3FD-4ABC-901D-065B888569FE"></a><h4 id="OLAAP-GUID-934F9C46-F3FD-4ABC-901D-065B888569FE" class="sect4"><span class="enumeration_section">2.4.4</span>使用OLAP视图</h4>
                  <div>
                     <p><a id="d3607e6183" class="indexterm-anchor"></a><a id="d3607e6187" class="indexterm-anchor"></a>对于分析工作区中的<code class="codeph">MdmCube</code> ， <code class="codeph">MdmPrimaryDimension</code>和<code class="codeph">MdmHierarchy</code>每个实例，Oracle OLAP会自动创建关联的关系视图。Oracle OLAP在内部使用这些视图来提供对分析工作区生成的聚合和计算数据的访问。OLAP Java API查询透明地使用视图。在OLAP Java API中，这些视图称为ET（嵌入式总计）视图。<a id="d3607e6201" class="indexterm-anchor"></a><a id="d3607e6205" class="indexterm-anchor"></a><a id="d3607e6210" class="indexterm-anchor"></a><a id="d3607e6214" class="indexterm-anchor"></a> SQL应用程序可以使用它们直接查询这些视图，就像使用星型或雪花模式的事实表和维度表一样。
                     </p>
                     <p>客户端OLAP Java API应用程序可以获取OLAP视图的名称并获取视图中列的名称。应用程序可以向应用程序的最终用户显示名称，然后最终用户可以使用SQL <code class="codeph">SELECT</code>语句中的名称来查询OLAP对象。
                     </p>
                     <p>以下主题描述了获取和使用这些视图。</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="understanding-olap-java-api-metadata.html#GUID-391A6155-242F-4564-885E-FFB42E79F13C">获取多维数据集视图和查看列名称</a></p>
                        </li>
                        <li>
                           <p><a href="understanding-olap-java-api-metadata.html#GUID-9977B67E-01B1-40E5-A030-A84BD05CC405">获取维度和层次结构查看和查看列名称</a></p>
                        </li>
                        <li>
                           <p><a href="understanding-olap-java-api-metadata.html#GUID-A9664946-6C4E-4097-902E-6885D8DF5107">使用OLAP查看列</a></p>
                        </li>
                        <li>
                           <p><a href="understanding-olap-java-api-metadata.html#GUID-92AA6A3A-7E0E-4E4F-B815-BBAA5A04CEF0">使用源对象</a></p>
                        </li>
                     </ul>
                  </div><a id="OLAAP186"></a><div class="props_rev_3"><a id="GUID-391A6155-242F-4564-885E-FFB42E79F13C" name="GUID-391A6155-242F-4564-885E-FFB42E79F13C"></a><h5 id="OLAAP-GUID-391A6155-242F-4564-885E-FFB42E79F13C" class="sect5"><span class="enumeration_section">2.4.4.1</span>获取多维数据集视图和查看列名称</h5>
                     <div>
                        <div class="section">
                           <p><a id="d3607e6283" class="indexterm-anchor"></a>要获取多维数据集视图的名称，请调用<code class="codeph">MdmCube.getViewName()</code>方法。例如，以下代码获取名为UNITS_CUBE_AWJ的<code class="codeph">MdmCube</code>视图的名称。在代码中， <code class="codeph">mdmDBSchema</code>对象是GLOBAL用户的<code class="codeph">MdmDatabaseSchema</code> 。
                           </p><pre class="oac_no_warn" dir="ltr">MdmCube mdmUnitsCube =（MdmCube）mdmDBSchema.getTopLevelObject（“UNITS_CUBE_AWJ”）; String cubeViewName = mdmUnitsCube.getViewName（）; println（“+ mdmUnitsCube.getName（）+”多维数据集的视图名称是“+ cubeViewName +”。“）;</pre><p>代码的输出如下。</p><pre class="oac_no_warn" dir="ltr">UNITS_CUBE_AWJ多维数据集的视图名称是UNITS_CUBE_AWJ_VIEW。</pre><p>您可以使用<code class="codeph">MdmCube.setViewName</code>方法更改OLAP视图的名称。要使名称更改为永久性，您必须提交<code class="codeph">Transaction</code> 。
                           </p>
                           <p><code class="codeph">MdmCube</code>的OLAP视图具有用于多维数据集的每个度量的列，包括每个派生度量。在<a href="../olaug/enhancing-your-database-analytic-content.html#OLAUG9187" target="_blank"><span class="italic">Oracle OLAP用户指南中</span></a> ，派生度量称为计算度量。多维数据集视图还为多维数据集的每个维度都有一列。例如，对于名为UNITS_CUBE_AWJ的<code class="codeph">MdmCube</code> ，视图名为UNITS_CUBE_AWJ_VIEW。以下代码获取视图列的名称。
                           </p><pre class="oac_no_warn" dir="ltr"><a id="d3607e6328" class="indexterm-anchor"></a> MdmCube mdmUnitsCube = mdmDBSchema.findOrCreateCube（“UNITS_CUBE_AWJ”）; List &lt;MdmQueryColumn&gt; mdmQCols = mdmUnitsCube.getQueryColumns（）; for（MdmQueryColumn mdmQCol：mdmQCols）{MdmViewColumn mdmViewCol =（MdmViewColumn）mdmQCol;的println（mdmViewCol.getViewColumnName（））; }</pre><p>代码显示以下输出。</p><pre class="oac_no_warn" dir="ltr">TIME_AWJ PRODUCT_AWJ CUSTOMER_AWJ CHANNEL_AWJ单位销售成本</pre><p><code class="codeph">UNITS</code> ， <code class="codeph">SALES</code>和<code class="codeph">COST</code>列用于多维数据集的度量，其他四列用于多维数据集的维度。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="OLAAP187"></a><div class="props_rev_3"><a id="GUID-9977B67E-01B1-40E5-A030-A84BD05CC405" name="GUID-9977B67E-01B1-40E5-A030-A84BD05CC405"></a><h5 id="OLAAP-GUID-9977B67E-01B1-40E5-A030-A84BD05CC405" class="sect5"><span class="enumeration_section">2.4.4.2</span>获取维度和层次结构查看和查看列名称</h5>
                     <div>
                        <div class="section">
                           <p><a id="d3607e6384" class="indexterm-anchor"></a>要获取维度或层次结构的OLAP视图的名称，请调用<code class="codeph">MdmPrimaryDimension</code>或<code class="codeph">MdmHierarchy</code>的<code class="codeph">getETViewName()</code>方法。您可以通过调用元数据对象的相应方法来获取视图中列的名称。例如，以下代码获取CHANNEL_AWJ维度的键列名称和CHANNEL_PRIMARY层次结构的父列名称。
                           </p><pre class="oac_no_warn" dir="ltr">的println（mdmChanDim.getETKeyColumn（）getViewColumnName（））; MdmViewColumn mdmParentCol =（MdmViewColumn）mdmChanHier.getETParentColumn（）;的println（mdmParentCol.getViewColumnName（））;</pre><p>代码显示以下输出。</p><pre class="oac_no_warn" dir="ltr">DIM_KEY父母</pre><p>您可以使用<code class="codeph">MdmPrimaryDimension</code>或<code class="codeph">MdmHierarchy</code>的<code class="codeph">setETViewName</code>方法更改OLAP视图的名称。
                           </p>
                           <p><code class="codeph">MdmPrimaryDimension</code>的OLAP视图具有维度键列，每个维度级别的列以及与维度关联的每个属性的列。例如，对于名为CHANNEL_AWJ的<code class="codeph">MdmStandardDimension</code> ，视图名为CHANNEL_AWJ_VIEW。 SQL命令<code class="codeph">DESCRIBE CHANNEL_AWJ_VIEW</code>显示以下列的名称。
                           </p><pre class="oac_no_warn" dir="ltr">DIM_KEY LEVEL_NAME MEMBER_TYPE DIM_ORDER LONG_DESCRIPTION SHORT_DESCRIPTION TOTAL_CHANNEL_LONG_DESC TOTAL_CHANNEL_SHORT_DESC CHANNEL_LONG_DESC CHANNEL_SHORT_DESC</pre><p><code class="codeph">MdmHierarchy</code>的OLAP视图具有维度键列和层次结构成员父级列。如果它是<code class="codeph">MdmLevelHierarchy</code> ，那么它还有一个每个层次结构级别的列和一个级别深度的列。如果层次结构具有一个或多个添加的属性，则视图的每个属性都有一列。例如，对于名为CHANNEL_PRIMARY的<code class="codeph">MdmLevelHierarchy</code> ，视图名为CHANNEL_AWJ_CHANNEL_PRIMA_VIEW。 SQL命令<code class="codeph">DESCRIBE CHANNEL_AWJ_CHANNEL_PRIMA_VIEW</code>显示以下列的名称。
                           </p><pre class="oac_no_warn" dir="ltr">DIM_KEY LEVEL_NAME MEMBER_TYPE DIM_ORDER HIER_ORDER LONG_DESCRIPTION SHORT_DESCRIPTION TOTAL_CHANNEL_LONG_DESC TOTAL_CHANNEL_SHORT_DESC CHANNEL_LONG_DESC CHANNEL_SHORT_DESC PARENT DEPTH TOTAL_CHANNEL CHANNEL</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="OLAAP189"></a><a id="OLAAP188"></a><div class="props_rev_3"><a id="GUID-A9664946-6C4E-4097-902E-6885D8DF5107" name="GUID-A9664946-6C4E-4097-902E-6885D8DF5107"></a><h5 id="OLAAP-GUID-A9664946-6C4E-4097-902E-6885D8DF5107" class="sect5"><span class="enumeration_section">2.4.4.3</span>使用OLAP视图列</h5>
                     <div>
                        <div class="section">
                           <p>有关如何使用OLAP视图创建SQL查询的几个示例，请参阅“ <a href="../olaug/querying-dimensional-objects.html#OLAUG9170" target="_blank"><span class="italic">Oracle OLAP用户指南”</span></a> 。使用<code class="codeph">Source</code>对象的OLAP Java API查询会自动使用这些视图。
                           </p>
                           <p>您还可以向OLAP Java API应用程序的用户提供对OLAP视图的直接访问。您可以允许用户指定使用视图的SQL <code class="codeph">SELECT</code>语句，然后将该SQL查询发送到数据库。
                           </p>
                           <p><a href="understanding-olap-java-api-metadata.html#GUID-A9664946-6C4E-4097-902E-6885D8DF5107__BABGGGHA">示例2-4</a>再现了<a href="../olaug/querying-dimensional-objects.html#OLAUG9171" target="_blank"><span class="italic">Oracle OLAP用户指南的</span></a>示例4-2，不同之处在于它使用分析工作区的多维数据集和维度。该示例从UNITS_CUBE_AWJ_VIEW中选择SALES度量，并将多维数据集视图中的键连接到层次结构视图以选择数据。
                           </p>
                           <p>在该示例中， <code class="codeph">mdmDBSchema</code>是GLOBAL用户的<code class="codeph">MdmDatabaseSchema</code> 。该示例是<code class="codeph">BasicCubeViewQuery.java</code>示例程序的摘录。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-A9664946-6C4E-4097-902E-6885D8DF5107__BABGGGHA">
                           <p class="titleinexample">示例2-4基本多维数据集视图查询</p><pre class="oac_no_warn" dir="ltr">//在方法中......//获取立方体MdmCube mdmUnitsCube = MdmCube）mdmDBSchema.getTopLevelObject（“UNITS_CUBE_AWJ”）; //获取多维数据集的OLAP视图。String cubeViewName = mdmUnitsCube.getViewName（）; //显示多维数据集的OLAP视图的名称。println（“+ mdmUnitsCube.getName（）+”多维数据集的OLAP视图的名称是：\ n“+ cubeViewName）; //获取维度的维度和层次结构。MdmPrimaryDimension mdmTimeDim =（MdmPrimaryDimension）mdmDBSchema.getTopLevelObject（“TIME_AWJ”）; <a id="d3607e6521" class="indexterm-anchor"></a> MdmLevelHierarchy mdmCalHier = mdmTimeDim.findOrCreateLevelHierarchy（“CALENDAR_YEAR”）; //显示层次结构的OLAP视图名称的名称，//显示层次结构级别的名称。displayViewAndLevelNames（mdmCalHier）; MdmPrimaryDimension mdmProdDim =（MdmPrimaryDimension）mdmDBSchema.getTopLevelObject（“PRODUCT_AWJ”）; MdmLevelHierarchy mdmProdHier = mdmProdDim.findOrCreateLevelHierarchy（“PRODUCT_PRIMARY”）; displayViewAndLevelNames（mdmProdHier）; MdmPrimaryDimension mdmCustDim =（MdmPrimaryDimension）mdmDBSchema.getTopLevelObject（“CUSTOMER_AWJ”）; MdmLevelHierarchy mdmShipHier = mdmCustDim.findOrCreateLevelHierarchy（“SHIPMENTS”）; displayViewAndLevelNames（mdmShipHier）; MdmPrimaryDimension mdmChanDim =（MdmPrimaryDimension）mdmDBSchema.getTopLevelObject（“CHANNEL_AWJ”）; MdmLevelHierarchy mdmChanHier = mdmChanDim.findOrCreateLevelHierarchy（“CHANNEL_PRIMARY”）; displayViewAndLevelNames（mdmChanHier）; //使用视图名称和//级别创建SQL SELECT语句。// UNITS_CUBE_AWJ_VIEW有一个名为SALES的列用于销售度量。// TIME_AWJ_CALENDAR_YEAR_VIEW有一个名为LONG_DESCRIPTION //的列，用于long description属性。//层次结构视图具有与级别具有相同名称的列。String sql =“SELECT t.long_description time，\ n”+“ROUND（f.sales）sales \ n”+“FROM TIME_AWJ_CALENDAR_YEAR_VIEW t，\ n”+“PRODUCT_AWJ_PRODUCT_PRIMA_VIEW p，\ n”+“CUSTOMER_AWJ_SHIPMENTS_VIEW cu，\ n” +“CHANNEL_AWJ_CHANNEL_PRIMA_VIEW ch，\ n”+“UNITS_CUBE_AWJ_VIEW f \ n”+“WHERE t.level_name ='YEAR'\ n”+“AND p.level_name ='TOTAL_PRODUCT'\ n”+“AND cu.level_name ='TOTAL_CUSTOMER '\ n“+”AND ch.level_name ='TOTAL_CHANNEL'\ n“+”AND t.dim_key = f.time_awj \ n“+”AND p.dim_key = f.product_awj \ n“+”AND cu.dim_key = f.customer_awj \ n“+”AND ch.dim_key = f.channel_awj \ n“+”ORDER BY t.end_date“; //显示SQL SELECT语句。println（“\ n SQL SELECT语句是：\ n”+ sql）; //显示SQL查询的结果。String title =“\ n SQL查询的结果是：\ n”; executeSQL（sql，title）; // ...} //方法结束。private void displayViewAndLevelNames（MdmLevelHierarchy mdmLevelHier）{//获取层次结构的OLAP视图名称。String levelHierViewName = mdmLevelHier.getETViewName（）; //显示层次结构的OLAP视图的名称。println（“\ n”+ mdmLevelHier.getName（）+“层次结构的OLAP视图是：\ n”+ levelHierViewName）; //显示层次结构级别的名称。displayLevelNames（mdmLevelHier）; private void displayLevelNames（MdmLevelHierarchy mdmLevelHier）{List &lt;MdmHierarchyLevel&gt; mdmHierLevelList = mdmLevelHier.getHierarchyLevels（）; println（“+ mdmLevelHier.getName（）+”层次结构的级别名称为：“）; for（MdmHierarchyLevel mdmHierLevel：mdmHierLevelList）{println（“”+ mdmHierLevel.getName（））; //} executeSQL方法位于BaseExample11g类中。protected void executeSQL（String sql，String heading）{try {Statement statement = dp.getConnection（）。createStatement（）;的println（航向）; ResultSet rs = statement.executeQuery（sql）; SQLResultSetPrinter.printResultSet（getCursorPrintWriter（），rs）; rs.close（）;将statement.close（）; } catch（SQLException e）{println（“无法执行SQL语句。”+ e）; }}</pre><p>该示例的输出如下。</p><pre class="oac_no_warn" dir="ltr">UNITS_CUBE_AWJ多维数据集的OLAP视图的名称为：UNITS_CUBE_AWJ_VIEW CALENDAR_YEAR层次结构的OLAP视图为：TIME_AWJ_CALENDAR_YEAR_VIEW CALENDAR_YEAR层次结构的级别名称为：TOTAL_TIME YEAR QUARTER MONTH PRODUCT_PRIMARY层次结构的OLAP视图为：PRODUCT_AWJ_PRODUCT_PRIMA_VIEW名称PRODUCT_PRIMARY层次结构的级别为：TOTAL_PRODUCT CLASS FAMILY ITEM SHIPMENTS层次结构的OLAP视图为：CUSTOMER_AWJ_SHIPMENTS_VIEW SHIPMENTS层次结构的级别名称为：TOTAL_CUSTOMER REGION WAREHOUSE SHIP_TO CHANNEL_PRIMARY层次结构的OLAP视图为：CHANNEL_AWJ_CHANNEL_PRIMA_VIEW名称CHANNEL_PRIMARY层次结构的级别为：TOTAL_CHANNEL CHANNEL SQL SELECT语句为：SELECT t.long_description time，ROUND（f.sales）sales FROM TIME_AWJ_CALENDAR_YEAR_VIEW t，PRODUCT_AWJ_PRODUCT_PRIMA_VIEW p，CUSTOMER_AWJ_SHIPMENTS_VIEW cu，CHANNEL_AWJ_CHANNEL_PRIMA_VIEW ch，UNITS_CUBE_AWJ_VIEW f WHERE t.level_name ='YEAR'和p.level_name ='TOTAL_PRODUCT'AND cu.level_name ='TOTAL_CUSTOMER'AND ch.level_name ='TOTAL_CHANNEL'AND t.dim_key = f.time_awj AND p.dim_key = f.product_awj AND cu .dim_key = f.customer_awj AND ch.dim_key = f.channel_awj ORDER BY t.end_date SQL查询的结果是：TIME SALES ---------- ----------- ----------- 1998 100870877 1999 134109248 2000 124173522 2001 116931722 2002 92515295 2003 130276514 2004 144290686 2005 136986572 2006 140138317 2007 &lt;null&gt;</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="OLAAP191"></a><a id="OLAAP190"></a><div class="props_rev_3"><a id="GUID-92AA6A3A-7E0E-4E4F-B815-BBAA5A04CEF0" name="GUID-92AA6A3A-7E0E-4E4F-B815-BBAA5A04CEF0"></a><h5 id="OLAAP-GUID-92AA6A3A-7E0E-4E4F-B815-BBAA5A04CEF0" class="sect5"><span class="enumeration_section">2.4.4.4</span>使用源对象</h5>
                     <div>
                        <div class="section">
                           <p><a href="understanding-olap-java-api-metadata.html#GUID-A9664946-6C4E-4097-902E-6885D8DF5107__BABGGGHA">示例2-4</a>演示了如何使用OLAP视图创建SQL语句。您可以使用OLAP Java API <code class="codeph">Source</code>对象生成相同的结果，如<a href="understanding-olap-java-api-metadata.html#GUID-92AA6A3A-7E0E-4E4F-B815-BBAA5A04CEF0__BABFECGF">示例2-5</a>所示。<a href="understanding-olap-java-api-metadata.html#GUID-92AA6A3A-7E0E-4E4F-B815-BBAA5A04CEF0__BABFECGF">例2-5中</a>的代码使用<a href="understanding-olap-java-api-metadata.html#GUID-A9664946-6C4E-4097-902E-6885D8DF5107__BABGGGHA">示例2-4中</a>的<code class="codeph">MdmLevelHierarchy</code>对象。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-92AA6A3A-7E0E-4E4F-B815-BBAA5A04CEF0__BABFECGF">
                           <p class="titleinexample">示例2-5使用源对象的基本多维数据集查询</p><pre class="oac_no_warn" dir="ltr">//获取SALES度量及其来源。
<a id="d3607e6587" class="indexterm-anchor"></a> MdmBaseMeasure mdmSales = mdmUnitsCube.findOrCreateBaseMeasure（“SALES”）; NumberSource sales =（NumberSource）mdmSales.getSource（）; //获取PRODUCT_PRIMARY，CHANNEL_PRIMARY //和SHIPMENTS层次结构的Source对象。StringSource prodHier =（StringSource）mdmProdHier.getSource（）; StringSource shipHier =（StringSource）mdmShipHier.getSource（）; StringSource chanHier =（StringSource）mdmChanHier.getSource（）; //获取YEAR层次结构级别。List &lt;MdmHierarchyLevel&gt; hierLevels = mdmCalHier.getLevels（）; MdmHierarchyLevel mdmYearHierLevel = null; for（MdmHierarchyLevel mdmHierLevel：hierLevels）{mdmYearHierLevel = mdmHierLevel; if（mdmYearHierLevel.getName（）。equals（“YEAR”））{break;获取CALENDAR_YEAR层次结构的YEAR级别的Source。来源yearLevel = mdmYearHierLevel.getSource（）; //为层次结构选择单个值，时间层次结构除外。来源prodSel = prodHier.selectValue（“PRODUCT_PRIMARY :: TOTAL_PRODUCT :: TOTAL”）;来源custSel = shipHier.selectValue（“SHIPMENTS :: TOTAL_CUSTOMER :: TOTAL”）; Source chanSel = chanHier.selectValue（“CHANNEL_PRIMARY :: TOTAL_CHANNEL :: TOTAL”）; //获取TIME_AWJ维度的长描述属性。MdmBaseAttribute mdmTimeLDAttr =（MdmBaseAttribute）mdmTimeDim.getValueDescriptionAttribute（）;源timeLDAttr = mdmTimeLDAttr.getSource（）;来源yearsWithLDValue = timeLDAttr.join（yearLevel）;源结果= sales.joinHidden（prodSel）.joinHidden（custSel）.joinHidden（chanSel）.join（yearsWithLDValue）;的getContext（）提交（）; 。的getContext（）displayResult（结果）;</pre><p><code class="codeph">result</code> <code class="codeph">Source</code>的<code class="codeph">Cursor</code>值如下。未显示格式化值的代码。有关<a href="understanding-olap-java-api-metadata.html#GUID-A9664946-6C4E-4097-902E-6885D8DF5107__BABGGGHA">示例2-4</a>和<a href="understanding-olap-java-api-metadata.html#GUID-92AA6A3A-7E0E-4E4F-B815-BBAA5A04CEF0__BABFECGF">示例2-5</a>的完整代码，请参阅<code class="codeph">BasicCubeViewQuery.java</code>示例程序。
                           </p><pre class="oac_no_warn" dir="ltr">年销售额---- ------------ 1998 100870876.58 1999 134109248.15 2000 124173521.55 2001 116931722.03 2002 92515295.02 2003 130276513.86 2004 144290685.55 2005 136986571.96 2006 140138317.39 2007 NA</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>