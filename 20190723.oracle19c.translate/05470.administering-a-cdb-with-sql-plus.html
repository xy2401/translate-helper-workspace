<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Administering a multitenant container database (CDB) includes tasks such as accessing a container, modifying a CDB, executing DDL statements, and running Oracle-supplied SQL scripts."></meta>
      <meta name="description" content="Administering a multitenant container database (CDB) includes tasks such as accessing a container, modifying a CDB, executing DDL statements, and running Oracle-supplied SQL scripts."></meta>
      <title>管理CDB</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Administrator’s Guide "></meta>
      <meta property="og:description" content="Administering a multitenant container database (CDB) includes tasks such as accessing a container, modifying a CDB, executing DDL statements, and running Oracle-supplied SQL scripts."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Administrator’s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="multitenant-administrators-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-20T09:59:22-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2017, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96136-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="managing-a-multitenant-environment.html" title="Previous" type="text/html"></link>
      <link rel="next" href="administering-cdb-fleet.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Multitenant Administrator&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="MULTI"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="managing-a-multitenant-environment.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="administering-cdb-fleet.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">管理员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="managing-a-multitenant-environment.html" property="item" typeof="WebPage"><span property="name">管理多租户环境</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">管理CDB</li>
            </ol>
            <a id="GUID-2E5025EE-BED3-45A4-9EAA-B05C8DA66F97" name="GUID-2E5025EE-BED3-45A4-9EAA-B05C8DA66F97"></a><a id="ADMIN13606"></a>
            
            <h2 id="MULTI-GUID-2E5025EE-BED3-45A4-9EAA-B05C8DA66F97" class="sect2"><span class="enumeration_chapter">13</span>管理CDB</h2>
         </header>
         <div class="ind">
            <div>
               <p>管理多租户容器数据库（CDB）包括访问容器，修改CDB，执行DDL语句以及运行Oracle提供的SQL脚本等任务。</p>
               <div class="infoboxnote" id="GUID-2E5025EE-BED3-45A4-9EAA-B05C8DA66F97__GUID-B0571E05-702F-4A61-83C9-969F2A0BBD22">
                  <p class="notep1">注意：</p>您可以使用SQL * Plus或Oracle SQL Developer完成本章中的任务。
               </div>
               <p>本章包含以下主题：</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-0F711EA4-08A8-463F-B4C6-1CE3A24274C8">关于CDB管理</a><br>管理CDB与管理非CDB类似，但存在一些差异。
                  </li>
                  <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-B17ECC65-3498-43B4-BEFD-9AA93A5BE99A">访问CDB中的容器</a><br>您可以使用SQL * Plus <code class="codeph">CONNECT</code>命令连接到容器。或者，您可以使用<code class="codeph">ALTER SESSION SET CONTAINER</code> SQL语句切换到容器。
                  </li>
                  <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-30AE2105-A486-40D0-99DB-D07C83F11293">在系统级别修改CDB</a><br>您可以在CDB级别设置初始化参数。在某些情况下，您可以在PDB级别覆盖这些参数。
                  </li>
                  <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-80265A74-2826-429E-90E6-5EB68EC7D10B">连接到CDB根时修改容器</a><br>您可以使用<code class="codeph">ALTER DATABASE</code>语句修改整个CDB或根。
                  </li>
                  <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-BB89431A-D14E-42EF-9B08-AFCC107C6683">在多个容器中执行SQL</a><br>要在一个或多个容器执行SQL，使用<code class="codeph">CONTAINERS</code>子句DML或<code class="codeph">CONTAINER</code>的DDL条款。</li>
                  <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-B2AC2F0B-F55E-40CD-AF37-A09E31BAA732">关闭CDB实例</a><br>您可以按照关闭非CDB实例的方式关闭CDB实例。
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-2E5025EE-BED3-45A4-9EAA-B05C8DA66F97__GUID-9639B964-CFC6-4A2E-BAD5-6F10EF751DDE">
                  <p class="notep1">也可以看看：</p>
                  <p><span class="q">“ <a href="overview-of-managing-a-multitenant-environment.html#GUID-C1EEE559-3E2B-42A4-B0A0-94C82769ECCB" title="您可以使用各种工具来配置和管理多租户环境。">用于多租户环境的工具</a> ”</span></p>
               </div>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="managing-a-multitenant-environment.html#GUID-93F1E584-D309-4301-82E0-AD0E60D4977C" title="您可以使用SQL * Plus或企业管理器云控制（云控制）管理多租户环境。">管理多租户环境</a></p>
                  </div>
               </div>
            </div>
            <a id="ADMIN13848"></a><div class="props_rev_3"><a id="GUID-0F711EA4-08A8-463F-B4C6-1CE3A24274C8" name="GUID-0F711EA4-08A8-463F-B4C6-1CE3A24274C8"></a><h3 id="MULTI-GUID-0F711EA4-08A8-463F-B4C6-1CE3A24274C8" class="sect3"><span class="enumeration_section">13.1</span>关于CDB管理</h3>
               <div>
                  <p>管理CDB与管理非CDB类似，但存在一些差异。</p>
                  <p>出现大多数差异是因为某些管理任务适用于整个CDB，而其他管理任务适用于特定容器。</p>
                  <p>本节包含以下主题：</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5">关于当前的容器</a><br>CDB中每个容器中的数据字典是独立的，当前容器是其数据字典用于名称解析和权限授权的容器。
                     </li>
                     <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-3E8857D2-9D0D-4584-BC81-341B3C1C6FBC">关于CDB中的管理任务</a><br>普通用户为CDB执行管理任务。</li>
                     <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-DF42C0D3-8968-4810-9327-9D176337D356">关于在CDB中使用可管理性功能</a><br>对于CDB中每个Oracle数据库的可管理性功能，了解数据位置和数据可见性非常重要。
                     </li>
                     <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-B34BC55B-C734-4799-A54A-0BB04073D9D0">关于管理CDB中的表空间</a><br>表空间是消耗存储空间的数据库对象（如表和索引）的逻辑存储容器。
                     </li>
                     <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-9EB3F783-1780-4F7C-88B2-2C714CA05146">关于在CDB中管理数据库对象</a><br>在CDB中，不同的容器可以包含不同的数据库对象。
                     </li>
                     <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-2DFE906B-00D0-41B4-BDA6-D8FFF1B5BC04">关于闪回PDB</a><br>您可以使用<code class="codeph">FLASHBACK PLUGGABLE DATABASE</code>语句将PDB返回到过去时间或系统更改号（SCN）。
                     </li>
                     <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-3B2EF996-3BE8-413D-968C-14339FACFC12">关于限制PDB用户以增强安全性</a><br>有几种方法可以限制PDB用户以增强安全性。
                     </li>
                     <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-2FB4477F-8D93-4210-8E17-0FDCAFE9DE33">Oracle Multitenant与Oracle RAC概述</a><br>甲骨文多租户是与Oracle数据库<span class="italic">12c</span>中的一个选项，它简化了整合，配置，升级和更多。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="administering-a-cdb-with-sql-plus.html#GUID-2E5025EE-BED3-45A4-9EAA-B05C8DA66F97" title="管理多租户容器数据库（CDB）包括访问容器，修改CDB，执行DDL语句以及运行Oracle提供的SQL脚本等任务。">管理CDB</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN14214"></a><div class="props_rev_3"><a id="GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5" name="GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5"></a><h4 id="MULTI-GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5" class="sect4"><span class="enumeration_section">13.1.1</span>关于当前容器</h4>
                  <div>
                     <p>CDB中每个容器中的数据字典是独立的，当前容器是其数据字典用于名称解析和权限授权的容器。</p>
                     <p>当前容器可以是CDB根，应用程序根，PDB或应用程序PDB。每个会话在任何时间点都只有一个当前容器。但是，会话可以从一个容器切换到另一个容器。</p>
                     <p>每个容器在CDB中都有唯一的ID和名称。您可以使用<code class="codeph">CON_ID</code>和<code class="codeph">CON_NAME</code>参数的<code class="codeph">USERENV</code>命名空间来确定当前的容器ID和姓名与<code class="codeph">SYS_CONTEXT</code>功能。例如，以下查询返回当前容器名称：</p><pre class="pre codeblock"><code>SELECT SYS_CONTEXT（'USERENV'，'CON_NAME'）FROM DUAL;</code></pre><p>您可以通过各种方式访问容器。例如，您可以使用SQL * Plus <code class="codeph">CONNECT</code>命令，并且可以使用<code class="codeph">ALTER SESSION SET CONTAINER</code>语句来切换当前会话的容器。
                     </p>
                     <p>以下规则适用于CDB中的当前容器：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>当前容器只能为普通用户提供<code class="codeph">CDB$ROOT</code> （CDB root）。
                           </p>
                        </li>
                        <li>
                           <p>当前容器可以是普通用户和本地用户的特定PDB。</p>
                        </li>
                        <li>
                           <p>当前容器可以是仅适用于普通用户或应用程序根目录中创建的应用程序通用用户的应用程序根。</p>
                        </li>
                        <li>
                           <p>当前容器可以是普通用户，应用程序公共用户和本地用户的特定应用程序PDB。</p>
                        </li>
                        <li>
                           <p>当SQL语句包含<code class="codeph">CONTAINER = ALL</code>时，当前容器必须是CDB根或应用程序根。</p>
                           <p>您可以在多个SQL语句中包含<code class="codeph">CONTAINER</code>子句，例如<code class="codeph">CREATE USER</code> ， <code class="codeph">ALTER USER</code> ， <code class="codeph">CREATE ROLE</code> ， <code class="codeph">GRANT</code> ， <code class="codeph">REVOKE</code>和<code class="codeph">ALTER SYSTEM</code>语句。请注意以下有关<code class="codeph">CONTAINER = ALL</code>规则：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>当SQL语句包含<code class="codeph">CONTAINER = ALL</code>且当前容器是CDB根时，SQL语句会影响CDB中的所有容器，包括所有PDB，应用程序根和应用程序PDB。
                                 </p>
                              </li>
                              <li>
                                 <p>当SQL语句包含<code class="codeph">CONTAINER = ALL</code>且当前容器是应用程序根时，SQL语句会影响应用程序容器中的所有容器，包括应用程序根目录和属于应用程序根目录的所有应用程序PDB。SQL语句不会影响CDB根或任何不属于当前应用程序根目录的PDB或应用程序PDB。
                                 </p>
                              </li>
                              <li>
                                 <p>只有具有通常授予的<code class="codeph">SET CONTAINER</code>权限的公共用户或应用程序通用用户才能运行包含<code class="codeph">CONTAINER = ALL</code>的SQL语句。</p>
                              </li>
                           </ul>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5__GUID-E4BED5D3-830A-410E-B12D-D09BFABE46A5">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" title="您可以使用SQL * Plus访问CDB中的根或PDB。">关于CDB中的容器访问</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-136666E0-2BF9-4538-8D60-11505898E5E2" title="在CDB中的容器中执行PL / SQL代码时，如果要在不同的容器中执行一个或多个SQL语句，请使用DBMS_SQL包来切换容器。">使用DBMS_SQL包在容器中执行代码</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-626B9812-6938-4268-806A-DAF6D5B4F2E6" title="您可以在CDB中确定当前的容器ID或容器名称。">确定当前容器ID或名称</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="overview-of-the-multitenant-architecture.html#GUID-6A7183B5-E0AA-47E1-992C-838FDF21C3D9" title="在CDB中，每个对象的命名空间都限定在其容器中。">CDB中的命名空间</a> ”</span></p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/SYS_CONTEXT.html#SQLRF06117" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a></p>
                           </li>
                           <li>
                              <p><a href="../dbseg/managing-security-for-oracle-database-users.html#DBSEG754" target="_blank"><span><cite>Oracle数据库安全指南</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="administering-a-cdb-with-sql-plus.html#GUID-0F711EA4-08A8-463F-B4C6-1CE3A24274C8" title="管理CDB与管理非CDB类似，但存在一些差异。">关于CDB管理</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13548"></a><a id="ADMIN13884"></a><div class="props_rev_3"><a id="GUID-3E8857D2-9D0D-4584-BC81-341B3C1C6FBC" name="GUID-3E8857D2-9D0D-4584-BC81-341B3C1C6FBC"></a><h4 id="MULTI-GUID-3E8857D2-9D0D-4584-BC81-341B3C1C6FBC" class="sect4"><span class="enumeration_section">13.1.2</span>关于CDB中的管理任务</h4>
                  <div>
                     <p>普通用户为CDB执行管理任务。</p>
                     <p></p>
                     <p>普通用户具有单一身份，可以登录CDB根，任何具有权限的应用程序根，PDB或应用程序PDB。某些任务（例如启动CDB实例）只能由普通用户执行。</p>
                     <p>CDB和非CDB的其他管理任务相同。下表描述了其中一些任务，并提供了相关文档的指示。</p>
                     <div class="tblformalwide" id="GUID-3E8857D2-9D0D-4584-BC81-341B3C1C6FBC__BABDHIBE">
                        <p class="titleintable">表13-1 CDB和非CDB共有的管理任务</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="CDB和非CDB共同的管理任务" width="100%" border="1" summary="This table describes each common task and provides cross references to more information about each common task." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="30%" id="d54878e678">任务</th>
                                 <th align="left" valign="bottom" width="35%" id="d54878e681">描述</th>
                                 <th align="left" valign="bottom" width="36%" id="d54878e684">附加信息</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d54878e689" headers="d54878e678 ">
                                    <p>启动CDB实例</p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d54878e689 d54878e681 ">
                                    <p>要启动CDB实例，当前用户必须是当前容器为CDB根目录的普通用户。</p>
                                    <p>打开CDB时，将打开CDB根目录，但会挂载其他容器。使用<code class="codeph">ALTER PLUGGABLE DATABASE</code>语句修改一个或多个容器的打开模式。
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="36%" headers="d54878e689 d54878e684 ">
                                    <p>有关启动数据库的信息，请参见<a href="../admin/starting-up-and-shutting-down.html#ADMIN-GUID-203404B5-5157-4F29-A241-B8ABC4753819" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a></p>
                                    <p><span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-322C5C03-4C48-40CD-8230-0BA5F16BF96B" title="您可以使用ALTER PLUGGABLE DATABASE SQL语句或SQL * Plus STARTUP命令修改PDB的打开模式。">修改一个或多个PDB的开放模式</a> ”</span></p>
                                    <p><span class="q">“ <a href="administering-pdbs-with-sql-plus.html#GUID-E73BCAED-FF57-474A-A8C5-207D3F465413" title="要修改单个PDB的属性，请使用ALTER PLUGGABLE DATABASE语句。">使用ALTER PLUGGABLE DATABASE语句修改PDB</a> ”</span></p>
                                    <p><span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5" title="CDB中每个容器中的数据字典是独立的，当前容器是其数据字典用于名称解析和权限授权的容器。">关于当前的容器</a> ”</span></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d54878e739" headers="d54878e678 ">
                                    <p>管理流程</p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d54878e739 d54878e681 ">
                                    <p>CDB具有CDB根和所有容器共享的一组后台进程。</p>
                                 </td>
                                 <td align="left" valign="top" width="36%" headers="d54878e739 d54878e684 ">
                                    <p><a href="../admin/managing-processes.html#ADMIN-GUID-9B3A136E-D275-417B-B6F4-59A45D42655F" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a> ，了解有关管理进程的信息</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d54878e754" headers="d54878e678 ">
                                    <p>管理记忆</p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d54878e754 d54878e681 ">
                                    <p>CDB具有单个系统全局区域（SGA）和单个聚合程序全局区域（PGA）。CDB所需的内存是将成为CDB一部分的所有容器的内存要求之和。</p>
                                 </td>
                                 <td align="left" valign="top" width="36%" headers="d54878e754 d54878e684 ">
                                    <p><a href="../admin/managing-memory.html#ADMIN-GUID-BEABE53D-8058-4834-B99B-5C80A8AD5B06" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a> ，了解有关管理内存的信息</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d54878e770" headers="d54878e678 ">
                                    <p>管理安全</p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d54878e770 d54878e681 ">
                                    <p>您可以在CDB中创建和删除普通用户，应用程序公共用户和本地用户。您还可以向这些用户授予权限并撤消权限。您还可以管理普通用户和应用程序普通用户的<code class="codeph">CONTAINER_DATA</code>属性。
                                    </p>
                                    <p>此外，将以下角色授予适当的用户：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>将<code class="codeph">CDB_DBA</code>角色授予CDB管理员。
                                          </p>
                                       </li>
                                       <li>
                                          <p>将<code class="codeph">PDB_DBA</code>角色授予应用程序容器管理员和PDB管理员。
                                          </p>
                                       </li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="36%" headers="d54878e770 d54878e684 ">
                                    <p><a href="../dbseg/managing-security-for-oracle-database-users.html#DBSEG573" target="_blank"><span><cite>Oracle数据库安全指南</cite></span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d54878e802" headers="d54878e678 ">
                                    <p>监控错误和警报</p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d54878e802 d54878e681 ">
                                    <p>CDB有一个整个CDB的警报日志。适当时，应用程序容器，PDB或应用程序PDB的名称包含在跟踪文件的记录中。</p>
                                 </td>
                                 <td align="left" valign="top" width="36%" headers="d54878e802 d54878e684 ">
                                    <p>有关监视错误和警报的信息，请参见<a href="../admin/monitoring-the-database.html#ADMIN-GUID-E5F89E8E-7FBC-47DD-BA5D-96AFD9CE4BC7" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d54878e817" headers="d54878e678 ">
                                    <p>管理诊断数据</p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d54878e817 d54878e681 ">
                                    <p>在CDB中，您可以使用Oracle数据库故障诊断基础结构和自动诊断信息库（ADR）。</p>
                                 </td>
                                 <td align="left" valign="top" width="36%" headers="d54878e817 d54878e684 ">
                                    <p><a href="../admin/diagnosing-and-resolving-problems.html#ADMIN-GUID-8DEB1BE0-8FB9-4FB2-A19A-17CF6F5791C3" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a> ，了解有关管理诊断数据的信息</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d54878e833" headers="d54878e678 ">
                                    <p>管理控制文件</p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d54878e833 d54878e681 ">
                                    <p>CDB有一个控制文件。</p>
                                 </td>
                                 <td align="left" valign="top" width="36%" headers="d54878e833 d54878e684 ">
                                    <p><a href="../admin/managing-control-files.html#ADMIN-GUID-5F6F9382-6921-4992-9789-E63B18E99C5F" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a> ，了解有关管理控制文件的信息</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d54878e848" headers="d54878e678 ">
                                    <p>管理联机重做日志和归档重做日志文件</p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d54878e848 d54878e681 ">
                                    <p>CDB具有一个联机重做日志和一组归档重做日志文件。</p>
                                 </td>
                                 <td align="left" valign="top" width="36%" headers="d54878e848 d54878e684 ">
                                    <p>有关管理重做日志的信息，请参见<a href="../admin/managing-the-redo-log.html#ADMIN-GUID-BC1F1762-0BB1-4218-B7AF-6160C395AAE4" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a></p>
                                    <p>有关管理归档重做日志文件的信息，请参见<a href="../admin/managing-archived-redo-log-files.html#ADMIN-GUID-5EE4AC49-E1B2-41A2-BEE7-AA951EAAB2F3" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d54878e871" headers="d54878e678 ">
                                    <p>管理表空间</p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d54878e871 d54878e681 ">
                                    <p>您可以为CDB根和单个容器创建，修改和删除表空间和临时表空间。您还可以为CDB根指定默认表空间，默认表空间类型和默认临时表空间。CDB根有自己的一组Oracle提供的表空间，例如<code class="codeph">SYSTEM</code>表空间，而其他容器有自己的一组Oracle提供的表空间。
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="36%" headers="d54878e871 d54878e684 ">
                                    <p>有关管理表空间的信息，请参见<a href="../admin/managing-tablespaces.html#ADMIN-GUID-1C162C60-6698-44F2-B2A9-F3E2D2958D88" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a></p>
                                    <p><span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-EABCEE30-0C2C-493C-83E0-F5D72D8F8E14" title="ALTER DATABASE语句修改CDB。连接到CDB根目录时，ALTER PLUGGABLE DATABASE语句可以修改一个或多个PDB的打开模式。">关于连接到CDB Root时的容器修改</a> ”</span></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d54878e902" headers="d54878e678 ">
                                    <p>管理数据文件和临时文件</p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d54878e902 d54878e681 ">
                                    <p>CDB根有自己的数据文件，其他容器有自己的数据文件。在CDB中，您可以管理数据文件和临时文件，其方式与为非CDB管理数据文件和临时文件的方式基本相同。但是，以下例外情况适用于CDB：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>您可以使用<code class="codeph">CREATE PLUGGABLE DATABASE</code>或<code class="codeph">ALTER PLUGGABLE DATABASE</code>语句中的<code class="codeph">STORAGE</code>子句限制容器的数据文件使用的<code class="codeph">STORAGE</code> 。
                                          </p>
                                       </li>
                                       <li>
                                          <p>CDB根目录和各个容器都有一个默认的临时表空间。</p>
                                       </li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="36%" headers="d54878e902 d54878e684 ">
                                    <p>有关管理数据文件和临时文件的信息，请参见<a href="../admin/managing-data-files-and-temp-files.html#ADMIN-GUID-501A8889-3C18-4F99-B0B7-9095E981B970" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a></p>
                                    <p><span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-EABCEE30-0C2C-493C-83E0-F5D72D8F8E14" title="ALTER DATABASE语句修改CDB。连接到CDB根目录时，ALTER PLUGGABLE DATABASE语句可以修改一个或多个PDB的打开模式。">关于连接到CDB Root时的容器修改</a> ”</span></p>
                                    <p><span class="q">“ <a href="overview-of-pdb-creation.html#GUID-55EFBF80-25CF-4C80-8E96-C6BB4134A637" title="CREATE PLUGGABLE DATABASE语句的可选STORAGE子句指定PDB的存储限制。">存储限制</a> ”</span></p>
                                    <p><span class="q">“ <a href="administering-pdbs-with-sql-plus.html#GUID-0200CF6A-8822-4347-9410-4435FDB47745" title="您可以使用ALTER PLUGGABLE DATABASE语句修改PDB。">在数据库级修改PDB</a> ”</span></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d54878e969" headers="d54878e678 ">
                                    <p>管理撤消</p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d54878e969 d54878e681 ">
                                    <p>CDB可以在本地撤消模式或共享撤消模式下运行。本地撤消模式意味着CDB中的每个容器都使用本地撤消。共享撤消模式意味着单实例CDB有一个活动的撤消表空间，或者对于Oracle RAC CDB，每个实例都有一个活动的撤消表空间。</p>
                                    <p>在CDB中， <code class="codeph">UNDO_MANAGEMENT</code>初始化参数必须设置为<code class="codeph">AUTO</code> ，并且需要使用撤消表空间来管理撤消数据。
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="36%" headers="d54878e969 d54878e684 ">
                                    <p><span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-24EA5811-94F0-4EEC-864F-23AEF48F2D51" title="启用本地撤消后，每个容器都有自己的撤消表空间，用于打开它的每个实例。禁用本地撤消后，整个CDB都有一个撤消表空间。">使用ALTER DATABASE在CDB中设置撤消模式</a> ”</span></p>
                                    <p><a href="../admin/managing-undo.html#ADMIN-GUID-2C865CF9-A8B5-4BF1-A451-E8C08D3611F0" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a> ，了解有关管理撤消的信息</p>
                                    <p><span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5" title="CDB中每个容器中的数据字典是独立的，当前容器是其数据字典用于名称解析和权限授权的容器。">关于当前的容器</a> ”</span></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d54878e1009" headers="d54878e678 ">
                                    <p>在容器之间移动数据</p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d54878e1009 d54878e681 ">
                                    <p>您可以使用与在非CDB之间移动数据相同的方法在容器之间移动数据。例如，您可以传输数据或使用数据泵导出/导入来移动数据。</p>
                                 </td>
                                 <td align="left" valign="top" width="36%" headers="d54878e1009 d54878e684 ">
                                    <p><a href="../admin/transporting-data.html#ADMIN-GUID-1901E9C3-8FCE-4D4E-AB65-34D703474E52" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a> ，了解有关传输数据的信息</p>
                                    <p><a href="../sutil/oracle-data-pump-overview.html#SUTIL100" target="_blank"><span><cite>Oracle数据库实用程序</cite></span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d54878e1031" headers="d54878e678 ">
                                    <p>使用Oracle托管文件</p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d54878e1031 d54878e681 ">
                                    <p>使用Oracle Managed文件可以简化CDB和非CDB的管理。</p>
                                 </td>
                                 <td align="left" valign="top" width="36%" headers="d54878e1031 d54878e684 ">
                                    <p>有关使用Oracle Managed Files的信息，请参见“ <a href="../admin/using-oracle-managed-files.html#ADMIN-GUID-4A3C4616-0D81-4BBA-8EAD-FCAA8AD5C15A" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a> ”</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d54878e1047" headers="d54878e678 ">
                                    <p>使用透明数据加密</p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d54878e1047 d54878e681 ">
                                    <p>透明数据加密是一种功能，可以在将各个表列存储到数据文件中之前对其进行加密，或者对整个表空间进行加密。在CDB中，每个容器都有自己的透明数据加密主密钥，并且在适用的情况下， <code class="codeph">ADMINISTER KEY MANAGEMENT</code> SQL语句可以在CDB级别和单个容器中启用密钥管理。
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="36%" headers="d54878e1047 d54878e684 ">
                                    <p><a href="../asoag/introduction-to-transparent-data-encryption.html#ASOAG-GUID-0E59AD1E-514A-4F93-9A1F-E5683A535A89" target="_blank"><span><cite>Oracle数据库高级安全性指南</cite></span></a></p>
                                    <p><span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5" title="CDB中每个容器中的数据字典是独立的，当前容器是其数据字典用于名称解析和权限授权的容器。">关于当前的容器</a> ”</span></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d54878e1071" headers="d54878e678 ">
                                    <p>使用备用数据库</p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d54878e1071 d54878e681 ">
                                    <p>Oracle Data Guard可以配置CDB的物理备用数据库或逻辑备用数据库。 Data Guard在整个CDB上运行，而不是在CDB中的单个容器上运行。</p>
                                 </td>
                                 <td align="left" valign="top" width="36%" headers="d54878e1071 d54878e684 ">
                                    <p><a href="../sbydb/introduction-to-oracle-data-guard-concepts.html#GUID-5E73667D-4A56-445E-911F-1E99092DD8D7" target="_blank"><span><cite>Oracle Data Guard概念和管理</cite></span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d54878e1085" headers="d54878e678 ">
                                    <p>使用Oracle Database Vault</p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d54878e1085 d54878e681 ">
                                    <p>Oracle Database Vault常见域可以作用于常见对象的应用程序根目录。Database Vault公共命令规则可以作用于CDB或应用程序根目录。本地域和命令规则可以本地作用于单个PDB或应用程序PDB。当Oracle Database Vault安全对象位于CDB根目录或应用程序根目录中时，安全对象的强制仅适用于启用了Oracle Database Vault的容器。</p>
                                 </td>
                                 <td align="left" valign="top" width="36%" headers="d54878e1085 d54878e684 ">
                                    <p><a href="../dvadm/introduction-to-oracle-database-vault.html#DVADM71131" target="_blank"><span><cite>Oracle Database Vault管理员指南</cite></span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d54878e1099" headers="d54878e678 ">
                                    <p>删除数据库</p>
                                 </td>
                                 <td align="left" valign="top" width="35%" headers="d54878e1099 d54878e681 ">
                                    <p>删除CDB时，CDB中的所有容器都会随其数据一起被删除。这些容器包括CDB根和PDB种子以及所有应用程序容器，应用程序种子，PDB和应用程序PDB。</p>
                                    <p>您还可以使用<code class="codeph">DROP PLUGGABLE DATABASE</code>语句删除单个应用程序容器，应用程序种子，PDB和应用程序PDB。
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="36%" headers="d54878e1099 d54878e684 ">
                                    <p>有关删除数据库的信息，请参见<a href="../admin/creating-and-configuring-an-oracle-database.html#ADMIN-GUID-92F8F1B3-9E04-46D2-A4E4-3CC788459A38" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a></p>
                                    <p><span class="q">“ <a href="removing-a-pdb.html#GUID-6EEAC62B-E7DD-47BA-A62B-1F34B3D9D02E" title="如果要将PDB移动到新CDB或不再需要它时，请删除PDB。">放弃PDB</a> ”</span></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-3E8857D2-9D0D-4584-BC81-341B3C1C6FBC__GUID-4F6475EA-9A54-4BBF-9AA2-BE6EE8F97848">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="overview-of-the-multitenant-architecture.html#GUID-7F629DD8-D4DE-4FD7-9C35-38AC016DDCDC" title="本章介绍了多租户架构中最重要的组件。">多租户架构概述</a> ”</span> ，了解有关CDB架构的更多信息</p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="administering-a-cdb-with-sql-plus.html#GUID-0F711EA4-08A8-463F-B4C6-1CE3A24274C8" title="管理CDB与管理非CDB类似，但存在一些差异。">关于CDB管理</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13886"></a><a id="ADMIN13885"></a><div class="props_rev_3"><a id="GUID-DF42C0D3-8968-4810-9327-9D176337D356" name="GUID-DF42C0D3-8968-4810-9327-9D176337D356"></a><h4 id="MULTI-GUID-DF42C0D3-8968-4810-9327-9D176337D356" class="sect4"><span class="enumeration_section">13.1.3</span>关于在CDB中使用可管理性功能</h4>
                  <div>
                     <p>对于CDB中每个Oracle数据库的可管理性功能，了解数据位置和数据可见性非常重要。</p>
                     <p>当要素数据驻留在CDB根目录中时，在拔出PDB时不包括数据。但是，当数据驻留在PDB中时，数据在PDB拔出时和插入时都保持不变。</p>
                     <p>通常，在CDB中，当公共用户的当前容器是CDB根时，普通用户可以查看CDB根和多个PDB的数据。普通用户可以通过查询容器数据对象来查看此数据。可见的特定数据因可管理性功能而异。当前容器是PDB的用户只能查看该PDB的数据。</p>
                     <p>下表描述了可管理性功能在CDB中的工作方式。</p>
                     <div class="tblformalwide" id="GUID-DF42C0D3-8968-4810-9327-9D176337D356__BAJEGGGI">
                        <p class="titleintable">表13-2 CDB中的可管理性功能</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="CDB中的可管理性功能" width="100%" border="1" summary="This table lists the manageability features and includes the data location, data visibility, privileges required, and additional information references for each feature." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="25%" id="d54878e1234">可管理性功能</th>
                                 <th align="left" valign="bottom" width="25%" id="d54878e1237">数据位置</th>
                                 <th align="left" valign="bottom" width="25%" id="d54878e1240">数据可见性</th>
                                 <th align="left" valign="bottom" width="25%" id="d54878e1243">附加信息</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d54878e1248" headers="d54878e1234 ">
                                    <p>活动会话历史记录（ASH）</p>
                                    <p>ASH收集有关活动数据库会话的信息。您可以使用此信息来分析和识别性能问题。</p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d54878e1248 d54878e1237 ">
                                    <p>大多数ASH数据存储在内存中。一小部分ASH数据样本存储在CDB根目录中。</p>
                                    <p>如果PDB未插入，则不包括与PDB相关的ASH数据。</p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d54878e1248 d54878e1240 ">
                                    <p>当前容器是CDB根的普通用户可以查看CDB根和PDB的ASH数据。</p>
                                    <p>当前容器是PDB的用户只能查看PDB的ASH数据。</p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d54878e1248 d54878e1243 ">
                                    <p><a href="../tdppt/resolving-transient-performance-problems.html#TDPPT065" target="_blank"><span><cite>Oracle数据库2天+性能调优指南</cite></span></a></p>
                                    <p><a href="../tgdba/analyzing-sampled-data.html#TGDBA277" target="_blank"><span><cite>Oracle数据库性能调整指南</cite></span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d54878e1277" headers="d54878e1234 ">
                                    <p>警报</p>
                                    <p>警报是可能出现问题的通知。</p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d54878e1277 d54878e1237 ">
                                    <p>与PDB相关的阈值设置存储在PDB中。</p>
                                    <p>违反阈值时发布的警报将排入CDB根目录中的警报队列。</p>
                                    <p>如果已拔下PDB，则包括与PDB相关的阈值设置。如果未插入PDB，则不包括与PDB相关的警报。</p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d54878e1277 d54878e1240 ">
                                    <p>当前容器是CDB根的普通用户可以查看CDB根和PDB的警报。</p>
                                    <p>当前容器是PDB的用户只能查看警报阈值和PDB警报。</p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d54878e1277 d54878e1243 ">
                                    <p>有关监视错误和警报的信息，请参见<a href="../admin/monitoring-the-database.html#ADMIN-GUID-E5F89E8E-7FBC-47DD-BA5D-96AFD9CE4BC7" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d54878e1303" headers="d54878e1234 ">
                                    <p>自动数据库维护任务</p>
                                    <p>自动数据库维护任务是定期自动启动以对数据库执行维护操作的任务。自动化任务包括自动优化器统计信息收集，自动分段顾问任务和自动SQL调整顾问任务。</p>
                                    <p><code class="codeph">ENABLE_AUTOMATIC_MAINTENANCE_PDB</code>初始化参数可以为CDB中的所有PDB或CDB中的单个PDB启用或禁用自动维护任务的运行。</p>
                                    <p><code class="codeph">AUTOTASK_MAX_ACTIVE_PDBS</code>初始化参数限制了可以同时安排自动维护任务的PDB数量（在维护窗口期间）。
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d54878e1303 d54878e1237 ">
                                    <p>用户可以安排维护窗口并仅启用或禁用当前容器的维护任务。如果当前容器是CDB根，则更改仅适用于CDB根。如果当前容器是PDB，则更改仅适用于PDB。</p>
                                    <p>与PDB相关的数据存储在PDB中，用于自动优化器统计信息收集和自动段优化。如果PDB已拔下，则包含此数据。</p>
                                    <p>自动SQL Tuning Advisor仅在CDB根目录中运行。有关Automatic SQL Tuning Advisor收集的数据的信息，请参阅此表中的SQL Tuning Advisor行。</p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d54878e1303 d54878e1240 ">
                                    <p>有关以下可管理性功能的数据可见性信息，请参阅此表中的相应行：自动优化器统计信息收集，优化程序统计信息顾问，自动分段顾问和自动SQL调优顾问。</p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d54878e1303 d54878e1243 ">
                                    <p>有关管理自动数据库维护任务的信息，请参见<a href="../admin/managing-automated-database-maintenance-tasks.html#ADMIN-GUID-7F7C805E-BA64-43A5-9A09-FC259FFA9AA8" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a></p>
                                    <p>有关<code class="codeph">ENABLE_AUTOMATIC_MAINTENANCE_PDB</code>初始化参数的信息，请<a href="../refrn/ENABLE_AUTOMATIC_MAINTENANCE_PDB.html#REFRN-GUID-3ACE01FA-8342-4F35-94BB-955412B9C76A" target="_blank"><span><cite>参见Oracle数据库参考</cite></span></a></p>
                                    <p>有关<code class="codeph">AUTOTASK_MAX_ACTIVE_PDBS</code>初始化参数的信息，请<code class="codeph">AUTOTASK_MAX_ACTIVE_PDBS</code> <a href="../refrn/AUTOTASK_MAX_ACTIVE_PDBS.html#REFRN-GUID-5DC631A2-4CDD-4C1F-B337-184BFD4C29B8" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d54878e1357" headers="d54878e1234 ">
                                    <p>自动数据库诊断监视器（ADDM）</p>
                                    <p>ADDM可以诊断CDB或PDB的性能，并确定如何解决已识别的问题。</p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d54878e1357 d54878e1237 ">
                                    <p>ADDM执行发生在PDB或CDB根目录中。ADDM使用以下来源之一分析数据：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p>通过PDB内部的AWR快照存储在PDB内的AWR数据</p>
                                       </li>
                                       <li>
                                          <p>来自非CDB，CDB根或PDB的AWR数据，导入到PDB的AWR存储中</p>
                                       </li>
                                       <li>
                                          <p>AWR数据通过在root中获取的AWR快照存储在根容器中</p>
                                       </li>
                                    </ul>
                                    <p>在分析开始之前，ADDM确定AWR数据的来源（PDB或CDB根）并应用适用于每种数据类型的规则。</p>
                                    <p><span class="bold">注意：</span>仅当为PDB启用自动快照时，才会启用PDB的自动ADDM。</p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d54878e1357 d54878e1240 ">
                                    <p>当前容器是CDB根的普通用户可以查看整个CDB的结果。 ADDM结果可包括有关多个PDB的信息。如果PDB未插入，则不包括与PDB相关的ADDM结果。当前容器是PDB时，无法查看ADDM结果。</p>
                                    <p>当前容器是PDB的用户只能查看当前PDB的ADDM结果数据。结果排除了适用于整个CDB的结果，例如，与缓冲区高速缓存大小相关的I / O问题。</p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d54878e1357 d54878e1243 ">
                                    <p><a href="../admqs/monitoring-and-tuning-the-database.html#ADMQS102" target="_blank"><span><cite>Oracle数据库2天DBA</cite></span></a></p>
                                    <p><a href="../tgdba/automatic-performance-diagnostics.html#TGDBA026" target="_blank"><span><cite>Oracle数据库性能调整指南</cite></span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d54878e1400" headers="d54878e1234 ">
                                    <p>自动优化器统计信息收集</p>
                                    <p>自动优化程序统计信息收集为数据库中没有统计信息或仅有过时统计信息的所有模式对象收集优化程序统计信息。SQL查询优化器使用此任务收集的统计信息来提高SQL执行的性能。</p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d54878e1400 d54878e1237 ">
                                    <p>当自动优化程序统计信息收集任务收集PDB的数据时，它会将此数据存储在PDB中。如果PDB已拔下，则包含此数据。</p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d54878e1400 d54878e1240 ">
                                    <p>当前容器是CDB根的普通用户可以查看PDB的优化程序统计数据。</p>
                                    <p>当前容器是PDB的用户只能查看PDB的优化程序统计数据。</p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d54878e1400 d54878e1243 ">
                                    <p><span class="q">“ <a href="using-oracle-resource-manager-for-pdbs-with-sql-plus.html#GUID-2708E76D-E18B-4586-920A-BD4B904AE14D" title="使用PL / SQL包过程来管理Oracle Resource Manager（资源管理器），以便将资源分配给多租户容器数据库（CDB）中的可插拔数据库（PDB）。">将Oracle Resource Manager用于PDB</a> ”</span></p>
                                    <p><a href="../tgsql/gathering-optimizer-statistics.html#TGSQL389" target="_blank"><span><cite>Oracle数据库SQL调优指南</cite></span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d54878e1428" headers="d54878e1234 ">
                                    <p>自动细分顾问</p>
                                    <p>自动分段顾问识别具有可用于回收的空间的分段，并就如何对这些分段进行碎片整理提出建议。</p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d54878e1428 d54878e1237 ">
                                    <p>当Automatic Segment Advisor收集PDB的数据时，它会将此数据存储在PDB中。如果PDB已拔下，则包含此数据。</p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d54878e1428 d54878e1240 ">
                                    <p>当前容器是CDB根的公共用户可以查看PDB的自动段Advisor数据。</p>
                                    <p>当前容器是PDB的用户只能查看PDB的自动段顾问数据。</p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d54878e1428 d54878e1243 ">
                                    <p>有关回收未使用空间的信息，请参见<a href="../admin/managing-space-for-schema-objects.html#ADMIN-GUID-1F297567-4BEC-438E-9E13-683D2BB47F44" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a></p>
                                    <p><span class="q">“ <a href="using-oracle-resource-manager-for-pdbs-with-sql-plus.html#GUID-2708E76D-E18B-4586-920A-BD4B904AE14D" title="使用PL / SQL包过程来管理Oracle Resource Manager（资源管理器），以便将资源分配给多租户容器数据库（CDB）中的可插拔数据库（PDB）。">将Oracle Resource Manager用于PDB</a> ”</span></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d54878e1457" headers="d54878e1234 ">
                                    <p>自动工作负载存储库（AWR）</p>
                                    <p>AWR收集，处理和维护性能统计信息，以便进行问题检测和自我调整。该数据存储在数据库中。收集的数据可以显示在报告和视图中。</p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d54878e1457 d54878e1237 ">
                                    <p>AWR报告可以在CDB根目录或任何PDB中生成。 CDB根中生成的AWR报告属于整个CDB，而当PDB是当前容器时生成的AWR报告仅属于该PDB。</p>
                                    <p>在CDB根中生成的AWR数据存储在CDB根中。PDB中生成的AWR数据存储在PDB中。</p>
                                    <p>拔出PDB时，不包括存储在CDB根目录中的AWR数据。</p>
                                    <p>当PDB被拔出时，包括存储在PDB中的AWR数据。</p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d54878e1457 d54878e1240 ">
                                    <p>当前容器是CDB根的普通用户可以查看CDB根和PDB的AWR数据。</p>
                                    <p>当前容器是PDB的用户只能查看PDB的AWR数据。</p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d54878e1457 d54878e1243 ">
                                    <p><a href="../tgdba/gathering-database-statistics.html#TGDBA169" target="_blank"><span><cite>Oracle数据库性能调整指南</cite></span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d54878e1484" headers="d54878e1234 ">
                                    <p>数据库重播</p>
                                    <p>数据库重放是Oracle Real Application Testing的一项功能。数据库重放捕获CDB或PDB的工作负载，并在测试数据库上完全重放。</p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d54878e1484 d54878e1237 ">
                                    <p>捕获文件始终存储在操作系统文件中，无论捕获和重放是在CDB级别还是PDB级别。</p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d54878e1484 d54878e1240 ">
                                    <p>对于CDB级工作负载，当前容器为CDB根的公共用户可以查看数据库捕获和重放信息。对于PDB级工作负载，具有<code class="codeph">SELECT_CATALOG_ROLE</code>权限的本地或公共PDB管理员可以在<code class="codeph">DBA_WORKLOAD_CAPTURES</code>和<code class="codeph">DBA_WORKLOAD_REPLAYS</code>查看此信息。</p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d54878e1484 d54878e1243 ">
                                    <p><a href="../ratug/using-consolidated-database-replay.html#RATUG4080" target="_blank"><span><cite>Oracle数据库测试指南</cite></span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d54878e1512" headers="d54878e1234 ">
                                    <p>优化器统计顾问</p>
                                    <p>Optimizer Statistics Advisor分析如何收集统计信息，并建议可以对微调统计信息收集进行更改。</p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d54878e1512 d54878e1237 ">
                                    <p>与PDB相关的数据存储在PDB for Optimizer Statistics Advisor中。如果PDB已拔下，则包含此数据。</p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d54878e1512 d54878e1240 ">
                                    <p>当前容器为CDB根的普通用户可以查看PDB的Optimizer Statistics Advisor数据。</p>
                                    <p>当前容器是PDB的用户只能查看PDB的Optimizer Statistics Advisor数据。</p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d54878e1512 d54878e1243 ">
                                    <p><a href="../tgsql/optimizer-statistics-advisor.html#TGSQL-GUID-054F4B76-DD57-46EE-98EA-0FF04F49D1B3" target="_blank"><span><cite>Oracle数据库SQL调优指南</cite></span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d54878e1533" headers="d54878e1234 ">
                                    <p>SQL管理库（SMB）</p>
                                    <p>SMB在数据字典中存储语句日志，计划历史记录，SQL计划基准和SQL配置文件。</p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d54878e1533 d54878e1237 ">
                                    <p>与PDB相关的SMB数据存储在PDB中。如果PDB未插入，则包括与PDB相关的SMB数据。</p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d54878e1533 d54878e1240 ">
                                    <p>当前容器为CDB根的普通用户可以查看PDB的SMB数据。</p>
                                    <p>当前容器是PDB的用户只能查看PDB的SMB数据。</p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d54878e1533 d54878e1243 ">
                                    <p><a href="../tgsql/overview-of-sql-plan-management.html#TGSQL631" target="_blank"><span><cite>Oracle数据库SQL调优指南</cite></span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d54878e1554" headers="d54878e1234 ">
                                    <p>SQL性能分析器（SPA）</p>
                                    <p>SPA可以分析SQL调优和其他系统更改对SQL性能的影响。SPA通常与数据库重放一起使用。</p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d54878e1554 d54878e1237 ">
                                    <p>当前容器是CDB根的普通用户可以为任何PDB运行SPA。在这种情况下，SPA结果数据存储在CDB根目录中，如果PDB未插入则不包括在内。</p>
                                    <p>当前容器是PDB的用户可以在PDB上运行SPA。在这种情况下，SPA结果数据存储在PDB中，并且如果PDB被拔出则包括在内。</p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d54878e1554 d54878e1240 ">
                                    <p>当前容器是CDB根的普通用户可以查看PDB的SPA结果数据。</p>
                                    <p>当前容器是PDB的用户只能查看PDB的SPA结果数据。</p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d54878e1554 d54878e1243 ">
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=RATUG239" target="_blank"><span><cite>Oracle数据库测试指南</cite></span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d54878e1578" headers="d54878e1234 ">
                                    <p>SQL调优集（STS）</p>
                                    <p>STS是一个数据库对象，包括一个或多个SQL语句及其执行统计信息和执行上下文，并且可以包括用户优先级排名。</p>
                                    <p>您可以使用STS调整一组SQL语句或使用SPA测试其性能。</p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d54878e1578 d54878e1237 ">
                                    <p>STS可以存储在CDB根目录或任何PDB中。如果它存储在CDB根目录中，则可以将任何PDB中的SQL语句加载到其中。</p>
                                    <p>当拔出PDB时，即使STS包含来自PDB的SQL语句，也不包括存储在CDB根中的STS。</p>
                                    <p>当PDB被拔出时，包括存储在PDB中的STS。</p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d54878e1578 d54878e1240 ">
                                    <p>当前容器是CDB根的普通用户只能查看存储在CDB根目录中的STS数据。</p>
                                    <p>当前容器是PDB的用户只能查看PDB的STS数据。</p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d54878e1578 d54878e1243 ">
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=TGSQL516" target="_blank"><span><cite>Oracle数据库SQL调优指南</cite></span></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d54878e1605" headers="d54878e1234 ">
                                    <p>SQL Tuning Advisor</p>
                                    <p>SQL Tuning Advisor优化已标识为高负载SQL语句的SQL语句。</p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d54878e1605 d54878e1237 ">
                                    <p>自动SQL Tuning Advisor数据存储在CDB根目录中。它可能有关于在顾问程序分析的PDB中执行的SQL语句的结果，但如果PDB被拔掉，则不包括这些结果。</p>
                                    <p>当前容器为CDB根目录的普通用户可以手动为任何PDB的SQL语句运行SQL Tuning Advisor。调整语句后，将在运行该语句的任何容器中进行调整。</p>
                                    <p>当前容器是PDB的用户也可以手动为PDB中的SQL语句运行SQL Tuning Advisor。从PDB手动运行SQL Tuning Advisor时，结果将存储在运行它的PDB中。在这种情况下，仅针对当前PDB调整语句，并且如果PDB被拔出，则包括与PDB相关的结果。</p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d54878e1605 d54878e1240 ">
                                    <p>当自动运行SQL Tuning Advisor时，结果仅对当前容器为CDB根目录的普通用户可见。当前容器是PDB时，无法查看这些结果。</p>
                                    <p>当SQL Tuning Advisor由当前容器为PDB的用户手动运行时，结果仅对当前容器为该PDB的用户可见。</p>
                                 </td>
                                 <td align="left" valign="top" width="25%" headers="d54878e1605 d54878e1243 ">
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=TDPPT160" target="_blank"><span><cite>Oracle数据库2天+性能调优指南</cite></span></a></p>
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=TGSQL540" target="_blank"><span><cite>Oracle数据库SQL调优指南</cite></span></a></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>要从PDB运行SPA或SQL Tuning Advisor for SQL语句，普通用户必须具有以下权限：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>PDB中的通用<code class="codeph">SET CONTAINER</code>权限或本地<code class="codeph">SET CONTAINER</code>权限</p>
                        </li>
                        <li>
                           <p>在PDB中执行SQL语句所需的权限</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-DF42C0D3-8968-4810-9327-9D176337D356__GUID-839D42E0-2259-4CA9-9A3B-7C3811FF96A0">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5" title="CDB中每个容器中的数据字典是独立的，当前容器是其数据字典用于名称解析和权限授权的容器。">关于当前的容器</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-EA8E7462-1083-4C16-B958-E3F7D4BBDFB9" title="在CDB中，数据字典表和视图定义的元数据仅存储在根中。">关于视图中的CDB和容器信息</a> ”</span> ，以获取容器数据对象的概述</p>
                           </li>
                           <li>
                              <p>有关容器数据对象的详细信息，请<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=DBSEG803" target="_blank"><span><cite>参见“Oracle数据库安</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="administering-a-cdb-with-sql-plus.html#GUID-0F711EA4-08A8-463F-B4C6-1CE3A24274C8" title="管理CDB与管理非CDB类似，但存在一些差异。">关于CDB管理</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13664"></a><div class="props_rev_3"><a id="GUID-B34BC55B-C734-4799-A54A-0BB04073D9D0" name="GUID-B34BC55B-C734-4799-A54A-0BB04073D9D0"></a><h4 id="MULTI-GUID-B34BC55B-C734-4799-A54A-0BB04073D9D0" class="sect4"><span class="enumeration_section">13.1.4</span>关于管理CDB中的表空间</h4>
                  <div>
                     <p>表空间是消耗存储空间的数据库对象（如表和索引）的逻辑存储容器。</p>
                     <p>在物理级别，表空间将数据存储在一个或多个数据文件或临时文件中。您可以使用<code class="codeph">ALTER DATABASE</code>语句来管理CDB中的表空间。</p>
                     <p>以下是CDB中表空间的注意事项：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>永久表空间可以与一个容器关联。</p>
                        </li>
                        <li>
                           <p>在容器中创建表空间时，表空间与该容器相关联。</p>
                        </li>
                        <li>
                           <p>当为CDB禁用本地撤消时，CDB只有一个活动的撤消表空间，或者每个Oracle RAC CDB实例都有一个活动的撤消表空间。为CDB启用本地撤消后，CDB中的每个容器都有自己的撤消表空间。</p>
                        </li>
                        <li>
                           <p>对于PDB处于打开状态的Oracle Real Application Clusters（Oracle RAC）群集中的每个节点，都需要本地撤消表空间。</p>
                        </li>
                        <li>
                           <p>CDB中的每个容器都有一个默认临时表空间，包括CDB根，每个PDB，每个应用程序根和每个应用程序PDB。</p>
                        </li>
                     </ul>
                     <p>本节包含以下主题：</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-1EF2DE68-5D70-48B2-A4BE-752D068D4299">关于在CDB中管理永久表空间</a><br>永久表空间只能与一个容器相关联。因此，永久表空间可以与根或一个PDB相关联。</li>
                        <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-CE80DD44-C691-42E4-A44A-663839439E36">关于管理CDB中的临时表空间</a><br>CDB中的每个容器都有自己的默认临时表空间（或表空间组）。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="administering-a-cdb-with-sql-plus.html#GUID-0F711EA4-08A8-463F-B4C6-1CE3A24274C8" title="管理CDB与管理非CDB类似，但存在一些差异。">关于CDB管理</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN13666"></a><div class="props_rev_3"><a id="GUID-1EF2DE68-5D70-48B2-A4BE-752D068D4299" name="GUID-1EF2DE68-5D70-48B2-A4BE-752D068D4299"></a><h5 id="MULTI-GUID-1EF2DE68-5D70-48B2-A4BE-752D068D4299" class="sect5"><span class="enumeration_section">13.1.4.1</span>关于管理CDB中的永久表空间</h5>
                     <div>
                        <p>永久表空间只能与一个容器相关联。因此，永久表空间可以与根或一个PDB相关联。</p>
                        <p>CDB中的每个容器都必须具有自己的默认永久表空间，并且不能在容器之间共享默认的永久表空间。连接到未明确分配表空间的容器的用户使用容器的默认永久表空间。</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="administering-a-cdb-with-sql-plus.html#GUID-B34BC55B-C734-4799-A54A-0BB04073D9D0" title="表空间是消耗存储空间的数据库对象（如表和索引）的逻辑存储容器。">关于管理CDB中的表空间</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN14151"></a><a id="ADMIN13674"></a><div class="props_rev_3"><a id="GUID-CE80DD44-C691-42E4-A44A-663839439E36" name="GUID-CE80DD44-C691-42E4-A44A-663839439E36"></a><h5 id="MULTI-GUID-CE80DD44-C691-42E4-A44A-663839439E36" class="sect5"><span class="enumeration_section">13.1.4.2</span>关于管理CDB中的临时表空间</h5>
                     <div>
                        <p>CDB中的每个容器都有自己的默认临时表空间（或表空间组）。</p>
                        <p>您还可以为各个容器创建其他临时表空间，并且可以将容器中的特定用户分配给这些临时表空间。拔下PDB时，其临时表空间也会被拔掉。</p>
                        <p>如果未在容器中显式分配用户临时表空间，则用户的临时表空间是容器的默认临时表空间。</p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-CE80DD44-C691-42E4-A44A-663839439E36__GUID-DADF7386-B6E8-40A5-BCA7-61462EC13886">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关管理表空间的信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=ADMIN-GUID-1C162C60-6698-44F2-B2A9-F3E2D2958D88" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="removing-a-pdb.html#GUID-893E1D67-BD95-4757-B862-03AD13AFF722" title="就像您可以将PDB插入CDB一样，您可以从CDB上拔下PDB。">从CDB上拔掉PDB</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-B8BA1E28-5B7D-4174-9870-82C0122B80FA" title="您可以使用ALTER DATABASE语句修改整个CDB，包括根和所有PDB。大多数ALTER DATABASE语句修改整个CDB。">使用ALTER DATABASE修改整个CDB</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-E5218804-4478-4384-B03F-5A2BDECAEA6E" title="要仅修改CDB的根，请使用ALTER DATABASE语句。">使用ALTER DATABASE修改CDB根目录</a> ”</span></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="administering-a-cdb-with-sql-plus.html#GUID-B34BC55B-C734-4799-A54A-0BB04073D9D0" title="表空间是消耗存储空间的数据库对象（如表和索引）的逻辑存储容器。">关于管理CDB中的表空间</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN13696"></a><div class="props_rev_3"><a id="GUID-9EB3F783-1780-4F7C-88B2-2C714CA05146" name="GUID-9EB3F783-1780-4F7C-88B2-2C714CA05146"></a><h4 id="MULTI-GUID-9EB3F783-1780-4F7C-88B2-2C714CA05146" class="sect4"><span class="enumeration_section">13.1.5</span>关于管理CDB中的数据库对象</h4>
                  <div>
                     <p>在CDB中，不同的容器可以包含不同的数据库对象。</p>
                     <p>Oracle数据库存储数据库对象，例如表，索引和目录。模式拥有的数据库对象称为模式对象，而不属于模式的数据库对象称为非模式对象。根和PDB包含模式，模式包含模式对象。根和PDB还可以包含非签名对象，例如用户，角色，表空间，目录和版本。</p>
                     <p>在CDB中，根包含Oracle提供的模式和数据库对象。Oracle提供的公共用户（如<code class="codeph">SYS</code>和<code class="codeph">SYSTEM</code> ）拥有这些模式和公共数据库对象。它们还可以在根目录和PDB中拥有本地对象。</p>
                     <p>您可以在根目录中创建公共用户来管理CDB中的容器。用户创建的普通用户可以在根目录中创建数据库对象。Oracle建议在根目录中，用户创建的公共用户拥有的模式仅包含数据库触发器及其定义中使用的对象。用户创建的公共用户也可以拥有PDB中的任何类型的本地对象。</p>
                     <p>您可以在PDB中创建本地用户。 PDB中的本地用户可以在PDB中创建模式对象和非模式对象。您无法在根目录中创建本地用户。</p>
                     <p>CDB中的名称解析类似于非CDB中的名称解析，除了在用户当前容器的字典的上下文中解析名称。</p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-9EB3F783-1780-4F7C-88B2-2C714CA05146__GUID-1ED40347-F90C-4D96-84C9-73F41B5B806C">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5" title="CDB中每个容器中的数据字典是独立的，当前容器是其数据字典用于名称解析和权限授权的容器。">关于当前的容器</a> ”</span></p>
                           </li>
                           <li>
                              <p><span class="q">“ <a href="overview-of-the-multitenant-architecture.html#GUID-3BB161DA-9CC0-4D61-A2C1-5D3662E0DECF" title="如果用户帐户拥有定义数据库的对象，则此用户帐户很常见。非Oracle提供的用户帐户是本地帐户或常用帐户。">CDB中的普通用户和本地用户概述</a> ”</span></p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=ADMIN-GUID-5BEEEA18-8606-48CA-B51A-34FD301BF93B" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a> ，了解有关管理模式对象的信息</p>
                           </li>
                           <li>
                              <p>有关架构对象和非对象对象的信息，请<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=SQLRF20003" target="_blank"><span class="italic">参见Oracle数据库SQL语言参考</span></a></p>
                           </li>
                           <li>
                              <p>有关创建公共用户和本地用户的信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=DBSEG573" target="_blank"><span class="italic">“Oracle数据库安</span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="administering-a-cdb-with-sql-plus.html#GUID-0F711EA4-08A8-463F-B4C6-1CE3A24274C8" title="管理CDB与管理非CDB类似，但存在一些差异。">关于CDB管理</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-2DFE906B-00D0-41B4-BDA6-D8FFF1B5BC04" name="GUID-2DFE906B-00D0-41B4-BDA6-D8FFF1B5BC04"></a><h4 id="MULTI-GUID-2DFE906B-00D0-41B4-BDA6-D8FFF1B5BC04" class="sect4"><span class="enumeration_section">13.1.6</span>关于闪回PDB</h4>
                  <div>
                     <p>您可以使用<code class="codeph">FLASHBACK PLUGGABLE DATABASE</code>语句将PDB返回到过去时间或系统更改号（SCN）。
                     </p>
                     <p>您可以为PDB创建还原点，并将PDB闪回到还原点，而不会影响CDB或其他PDB。</p>
                     <div class="infoboxnote" id="GUID-2DFE906B-00D0-41B4-BDA6-D8FFF1B5BC04__GUID-8F1FE2D1-FB71-48C0-B1FA-AA9F253F2427">
                        <p class="notep1">注意：</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=BRADV-GUID-A2146E48-16FC-40CC-B25D-902DEB93CB75" target="_blank"><span><cite>Oracle数据库备份和恢复用户指南</cite></span></a></p>
                     </div>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="administering-a-cdb-with-sql-plus.html#GUID-0F711EA4-08A8-463F-B4C6-1CE3A24274C8" title="管理CDB与管理非CDB类似，但存在一些差异。">关于CDB管理</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-3B2EF996-3BE8-413D-968C-14339FACFC12" name="GUID-3B2EF996-3BE8-413D-968C-14339FACFC12"></a><h4 id="MULTI-GUID-3B2EF996-3BE8-413D-968C-14339FACFC12" class="sect4"><span class="enumeration_section">13.1.7</span>关于限制PDB用户以增强安全性</h4>
                  <div>
                     <p>有几种方法可以限制PDB用户以增强安全性。</p>
                     <p>PDB锁定配置文件限制PDB中用户可用的功能和选项。 <code class="codeph">PDB_OS_CREDENTIAL</code>初始化参数可以为PDB指定唯一的操作系统用户以限制操作系统访问。此外，在PDB创建期间指定<code class="codeph">PATH_PREFIX</code>和<code class="codeph">CREATE_FILE_DEST</code>子句时，它们会限制文件系统访问。
                     </p>
                     <p>本节包含以下主题：</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-518BE1ED-D64E-4826-A2EE-A1B536F02E42">PDB锁定配置文件</a><br>在PDB之间共享身份时，可能存在提升的权限。您可以使用锁定配置文件来防止此特权提升。
                        </li>
                        <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-183BF331-34AE-47EA-BDAA-58FECF39D16A">PDB_OS_CREDENTIAL初始化参数</a><br>当数据库使用<code class="codeph">extproc</code>代理访问外部过程时， <code class="codeph">PDB_OS_CREDENTIAL</code>初始化参数确定从PDB与操作系统交互时使用的操作系统用户的身份。</li>
                        <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-375E10F7-BCC4-4365-B1BD-DB87EF3ECCC3">PATH_PREFIX和CREATE_FILE_DEST PDB创建子句</a><br><code class="codeph">CREATE PLUGGABLE DATABASE</code>的<code class="codeph">PATH_PREFIX</code>子句确保与PDB关联的所有目录对象路径都限制在指定目录或其子目录中。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="administering-a-cdb-with-sql-plus.html#GUID-0F711EA4-08A8-463F-B4C6-1CE3A24274C8" title="管理CDB与管理非CDB类似，但存在一些差异。">关于CDB管理</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-518BE1ED-D64E-4826-A2EE-A1B536F02E42" name="GUID-518BE1ED-D64E-4826-A2EE-A1B536F02E42"></a><h5 id="MULTI-GUID-518BE1ED-D64E-4826-A2EE-A1B536F02E42" class="sect5"><span class="enumeration_section">13.1.7.1</span> PDB锁定配置文件</h5>
                     <div>
                        <p>在PDB之间共享身份时，可能存在提升的权限。您可以使用锁定配置文件来防止此特权提升。</p>
                        <p>在以下情况下可以共享身份：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>在操作系统级别，当数据库与操作系统资源（如文件或进程）交互时</p>
                           </li>
                           <li>
                              <p>在网络级别，当数据库与其他系统通信时</p>
                           </li>
                           <li>
                              <p>在数据库内部，PDB使用数据库链接等功能访问或创建公共对象或跨容器边界进行通信</p>
                           </li>
                        </ul>
                        <p>为了提高安全性，CDB管理员可以使用PDB锁定配置文件来限制特定PDB中的用户。PDB锁定配置文件可以禁止用户运行指定的SQL语句（如<code class="codeph">ALTER SYSTEM</code>语句），或禁用对可以访问网络的程序包（如<code class="codeph">UTL_SMTP</code>访问。 PDB锁定配置文件还可以限制对公共用户，公共对象，Oracle XML DB等管理工具，游标共享等管理功能以及Oracle数据库高级队列等数据库选项的访问。PDB锁定配置文件可以禁止具有<code class="codeph">XDB_PROTOCOLS</code>功能的PDB使用XDB协议（FTP，HTTP，HTTPS）。
                        </p>
                        <p>登录到CDB根目录或应用程序根目录后，通过发出<code class="codeph">CREATE LOCKDOWN PROFILE</code>语句来创建锁定概要文件，该语句支持以下可选子句：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">FROM <span class="codeinlineitalic">static_base_profile</span></code>使用现有概要文件中的值创建新的锁定概要文件。对现有配置文件的任何后续更改都不会影响新配置文件。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">INCLUDING <span class="codeinlineitalic">dynamic_base_profile</span></code>通过使用现有概要文件中的值创建新的锁定概要文件，但新的锁定概要文件继承了包含基本概要文件的<code class="codeph">DISABLE STATEMENT</code>规则以及对基本概要文件的任何后续更改。
                              </p>
                           </li>
                        </ul>
                        <p>发出语句的用户必须在当前容器中具有<code class="codeph">CREATE LOCKDOWN PROFILE</code>系统特权。您可以使用<code class="codeph">ALTER LOCKDOWN PROFILE</code>语句添加和删除限制。用户必须在CDB根目录或应用程序根目录中发出<code class="codeph">ALTER</code>语句，并且必须在当前容器中具有<code class="codeph">ALTER LOCKDOWN PROFILE</code>系统特权。
                        </p>
                        <p>使用<code class="codeph">PDB_LOCKDOWN</code>初始化参数指定锁定配置文件。此参数确定PDB锁定配置文件是否适用于给定的PDB。您可以在以下级别设置此参数：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>PDB</p>
                              <p>该配置文件仅适用于设置它的PDB。</p>
                           </li>
                           <li>
                              <p>应用容器</p>
                              <p>该配置文件适用于应用程序容器中的所有应用程序PDB。的值只能由谁拥有应用共同的应用程序共同用户修改<code class="codeph">SYSDBA</code>或共同<code class="codeph">ALTER SYSTEM</code>特权或谁具有共用的CDB公共用户<code class="codeph">SYSDBA</code>或共同<code class="codeph">ALTER SYSTEM</code>特权。
                              </p>
                           </li>
                           <li>
                              <p>CDB</p>
                              <p>该配置文件适用于所有PDB。具有通用<code class="codeph">SYSDBA</code>或通用<code class="codeph">ALTER SYSTEM</code>权限的普通用户可以覆盖特定PDB的CDB范围设置。</p>
                           </li>
                        </ul>
                        <p>如果PDB中的<code class="codeph">PDB_LOCKDOWN</code>参数设置为与此PDB（CDB或应用程序容器）的容器不同的锁定配置文件的名称，则一组规则控制限制之间的交互。
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-518BE1ED-D64E-4826-A2EE-A1B536F02E42__GUID-0F3C9CC6-19CE-4076-97B7-6E64F0F43CC5">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关锁定配置文件的完整信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=DBSEG-GUID-AB5E62DB-7E2A-4B5A-BA96-A2BD2DF15275" target="_blank"><span><cite>“Oracle数据库安</cite></span></a></p>
                              </li>
                              <li>
                                 <p>有关<code class="codeph">CREATE LOCKDOWN PROFILE</code>语句的更多信息，请<a href="../sqlrf/CREATE-LOCKDOWN-PROFILE.html#GUID-1CDEC3A3-F3F1-4279-9370-36AACF416E0A" target="_blank"><span><cite>参见Oracle数据库SQL语言参考</cite></span></a></p>
                              </li>
                              <li>
                                 <p>有关<code class="codeph">PDB_LOCKDOWN</code>初始化参数的详细信息，请<code class="codeph">PDB_LOCKDOWN</code> <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=REFRN-GUID-27072E94-1E1D-4BB0-AEAE-D7AFDC02E0A1" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="administering-a-cdb-with-sql-plus.html#GUID-3B2EF996-3BE8-413D-968C-14339FACFC12" title="有几种方法可以限制PDB用户以增强安全性。">关于限制PDB用户以增强安全性</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-183BF331-34AE-47EA-BDAA-58FECF39D16A" name="GUID-183BF331-34AE-47EA-BDAA-58FECF39D16A"></a><h5 id="MULTI-GUID-183BF331-34AE-47EA-BDAA-58FECF39D16A" class="sect5"><span class="enumeration_section">13.1.7.2</span> PDB_OS_CREDENTIAL初始化参数</h5>
                     <div>
                        <p>当数据库使用<code class="codeph">extproc</code>代理访问外部过程时， <code class="codeph">PDB_OS_CREDENTIAL</code>初始化参数确定从PDB与操作系统交互时使用的操作系统用户的身份。</p>
                        <p>使用由名称指定为<code class="codeph">PDB_OS_CREDENTIAL</code>初始化参数的值的凭证描述的OS用户可以确保操作系统交互作为功能较弱的用户执行。以这种方式，该特征保护属于一个PDB的数据不被连接到另一个PDB的用户访问。凭证是使用<code class="codeph">DBMS_CREDENTIAL</code>包中的<code class="codeph">CREATE_CREDENTIAL</code>过程创建的对象。
                        </p>
                        <p>Oracle OS用户通常是具有高权限的用户。建议不要使用此帐户进行操作系统交互。此外，使用相同的OS用户进行来自不同PDB的操作系统交互可能会损害属于给定PDB的数据。</p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-183BF331-34AE-47EA-BDAA-58FECF39D16A__GUID-783A8C2D-BE6A-461C-8B11-7D776CC9CC04">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关管理外部过程的过程的信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=ADMIN-GUID-C34E01D5-97AC-4FC3-974D-268C0A2F4EC7" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a></p>
                              </li>
                              <li>
                                 <p>有关<code class="codeph">PDB_OS_CREDENTIAL</code>初始化参数的详细信息，请<code class="codeph">PDB_OS_CREDENTIAL</code> <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=REFRN-GUID-E563FDDA-6840-42CC-944D-5B0FD60C9003" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=ARPLS-GUID-D5791B72-E0F6-4C41-AD3E-DDEDFFCA7D0C" target="_blank"><span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="administering-a-cdb-with-sql-plus.html#GUID-3B2EF996-3BE8-413D-968C-14339FACFC12" title="有几种方法可以限制PDB用户以增强安全性。">关于限制PDB用户以增强安全性</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-375E10F7-BCC4-4365-B1BD-DB87EF3ECCC3" name="GUID-375E10F7-BCC4-4365-B1BD-DB87EF3ECCC3"></a><h5 id="MULTI-GUID-375E10F7-BCC4-4365-B1BD-DB87EF3ECCC3" class="sect5"><span class="enumeration_section">13.1.7.3</span> PATH_PREFIX和CREATE_FILE_DEST PDB创建子句</h5>
                     <div>
                        <p><code class="codeph">CREATE PLUGGABLE DATABASE</code>的<code class="codeph">PATH_PREFIX</code>子句确保与PDB关联的所有目录对象路径都限制在指定目录或其子目录中。
                        </p>
                        <p><code class="codeph">PATH_PREFIX</code>还确保与PDB关联的以下文件仅限于指定目录：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>PDB的Oracle XML存储库</p>
                           </li>
                           <li>
                              <p>使用<code class="codeph">CREATE PFILE</code>语句创建的文件</p>
                           </li>
                           <li>
                              <p>Oracle钱包的导出目录</p>
                           </li>
                           <li>
                              <p>使用<code class="codeph">CREATE LIBRARY</code>语句创建的库对象</p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-375E10F7-BCC4-4365-B1BD-DB87EF3ECCC3__GUID-8BA4E223-18C7-4117-89E0-1C9FCC889A82">
                           <p class="notep1">注意：</p>
                           <p>库必须使用目录对象。如果PDB使用预定义的<code class="codeph">PATH_PREFIX</code> ，则尝试使用不使用目录对象的库对象会导致<code class="codeph">ORA-65394</code>错误。库对象不会失效，但要使其可用，必须使用目录对象重新创建它。
                           </p>
                        </div>
                        <p><code class="codeph">CREATE PLUGGABLE DATABASE</code>语句的<code class="codeph">CREATE_FILE_DEST</code>子句确保属于PDB的所有数据库文件都限制在指定的目录及其子目录中。该子句为PDB启用Oracle Managed Files，并为PDB文件指定默认文件系统目录或Oracle ASM磁盘组。
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-375E10F7-BCC4-4365-B1BD-DB87EF3ECCC3__GUID-28A31893-525A-4D00-A32A-47A44E96849A">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="overview-of-pdb-creation.html#GUID-7AC4C851-4E5E-4622-9B29-31D5A1C98426" title="CREATE PLUGGABLE DATABASE语句的PATH_PREFIX子句确保与PDB关联的所有目录对象路径都限制在指定目录或其子目录中。">对PDB文件位置的限制</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="overview-of-pdb-creation.html#GUID-0F4FA719-3C06-4980-A270-0D776CC4D46B" title="CREATE PLUGGABLE DATABASE语句的CREATE_FILE_DEST子句为PDB启用Oracle Managed Files，并为PDB文件指定缺省文件系统目录或Oracle ASM磁盘组。">CREATE_FILE_DEST条款</a> ”</span></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="administering-a-cdb-with-sql-plus.html#GUID-3B2EF996-3BE8-413D-968C-14339FACFC12" title="有几种方法可以限制PDB用户以增强安全性。">关于限制PDB用户以增强安全性</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="sect3"><a id="GUID-2FB4477F-8D93-4210-8E17-0FDCAFE9DE33" name="GUID-2FB4477F-8D93-4210-8E17-0FDCAFE9DE33"></a><h4 id="MULTI-GUID-2FB4477F-8D93-4210-8E17-0FDCAFE9DE33" class="sect4"><span class="enumeration_section">13.1.8</span> Oracle Multitenant与Oracle RAC概述</h4>
                  <div>
                     <p>甲骨文多租户是与Oracle数据库<span class="italic">12c</span>中的一个选项，它简化了整合，配置，升级和更多。
                     </p>
                     <p>它基于允许多租户容器数据库（CDB）容纳多个可插拔数据库（PDB）的体系结构。您可以将现有数据库用作PDB，而无需更改应用程序层。在此体系结构中，Oracle RAC提供在一个系统上整合各种业务关键型应用程序时所需的本地高可用性。</p>
                     <p>将PDB与Oracle RAC一起使用时，多租户CDB基于Oracle RAC。您可以在每个Oracle RAC CDB实例或实例子集上使每个PDB可用。在任何一种情况下，使用动态数据库服务来管理对PDB的访问和管理，动态数据库服务也将被应用程序用于连接到相应的PDB，就像在使用Oracle Net Services进行连接的单个实例Oracle数据库中一样。</p>
                     <p>您可以隔离PDB以防止在特定PDB上或特定PDB内执行某些操作，这些操作可能会干扰共享同一Oracle RAC数据库或数据库实例的其他PDB。PDB隔离允许使用Oracle Multitenant进行更高程度的整合。</p>
                     <p>如果将Oracle RAC数据库创建为CDB并将一个或多个PDB插入CDB，则默认情况下，不会在Oracle RAC CDB的任何实例上自动启动PDB。使用分配给PDB的第一个动态数据库服务（与数据库名称同名的默认数据库服务除外），PDB将在运行该服务的实例上可用。</p>
                     <p>无论PDB是否在Oracle RAC CDB的多个实例上可用，CDB通常由PDB上运行的服务进行管理。您可以通过在该实例上手动启动PDB，在Oracle RAC CDB的每个实例上手动启用PDB访问。</p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=RACAD-GUID-5A1B02A2-A327-42DD-A1AD-20610B2A9D92" target="_blank"><span><cite>“Oracle Real Application Clusters管理和部署指南”</cite></span></a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="administering-a-cdb-with-sql-plus.html#GUID-0F711EA4-08A8-463F-B4C6-1CE3A24274C8" title="管理CDB与管理非CDB类似，但存在一些差异。">关于CDB管理</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-B17ECC65-3498-43B4-BEFD-9AA93A5BE99A" name="GUID-B17ECC65-3498-43B4-BEFD-9AA93A5BE99A"></a><h3 id="MULTI-GUID-B17ECC65-3498-43B4-BEFD-9AA93A5BE99A" class="sect3"><span class="enumeration_section">13.2</span>访问CDB中的容器</h3>
               <div>
                  <p>您可以使用SQL * Plus <code class="codeph">CONNECT</code>命令连接到容器。或者，您可以使用<code class="codeph">ALTER SESSION SET CONTAINER</code> SQL语句切换到容器。
                  </p>
                  <p>本节包含以下主题：</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3">关于CDB中的容器访问</a><br>您可以使用SQL * Plus访问CDB中的根或PDB。</li>
                     <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-90C01374-20C9-41A2-AC6D-808F78AA51D3">访问CDB中的容器</a><br>通过发出<code class="codeph">CONNECT</code>或<code class="codeph">ALTER SESSION</code>命令，使用SQL * Plus访问CDB中的容器。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="administering-a-cdb-with-sql-plus.html#GUID-2E5025EE-BED3-45A4-9EAA-B05C8DA66F97" title="管理多租户容器数据库（CDB）包括访问容器，修改CDB，执行DDL语句以及运行Oracle提供的SQL脚本等任务。">管理CDB</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN13607"></a><div class="props_rev_3"><a id="GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" name="GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3"></a><h4 id="MULTI-GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" class="sect4"><span class="enumeration_section">13.2.1</span>关于CDB中的容器访问</h4>
                  <div>
                     <p>您可以使用SQL * Plus访问CDB中的根或PDB。</p>
                     <div class="infoboxnote" id="GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3__GUID-92C408A4-DE63-4615-9F50-68EA08679F4A">
                        <p class="notep1">注意：</p>
                        <p>本节假定您了解如何连接到SQL * Plus中的非CDB。</p>
                     </div>
                     <p>本节包含以下主题：</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-66FC8E5D-F576-4CF6-80EF-615232B78BDA">国家开发银行的服务</a><br>客户端通过数据库服务访问根或PDB。
                        </li>
                        <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-5DC45F70-1F90-41FB-8DFF-23F6AD6BC6BA">CDB中的会话限制</a><br><code class="codeph">SESSIONS</code>初始化参数的设置限制了CDB中可用的会话总数，包括连接到PDB的会话。
                        </li>
                        <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-4BF8A362-AD9B-4780-944E-CFB9B7D84B50">多租户环境中的用户名</a><br>在每个PDB中，用户名相对于该PDB中的其他用户名和角色必须是唯一的。</li>
                        <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-8400831A-81DF-4194-8F11-58D71D2FBD5D">多租户选项如何影响管理用户的密码文件</a><br>在多租户环境中，本地和公共管理用户的密码信息存储在不同的位置。
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3__GUID-B7CB7399-B880-482B-B1B6-0954D569864A">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关向数据库提交命令和SQL的信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=ADMIN-GUID-58A40F41-B611-4C0F-A6E3-D45A81515BF2" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a></p>
                           </li>
                           <li>
                              <p>有关配置Oracle Net Services的信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=NETAG001" target="_blank"><span><cite>“Oracle数据库网络服务管理员指南”</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="administering-a-cdb-with-sql-plus.html#GUID-B17ECC65-3498-43B4-BEFD-9AA93A5BE99A" title="您可以使用SQL * Plus CONNECT命令连接到容器。或者，您可以使用ALTER SESSION SET CONTAINER SQL语句切换到容器。">访问CDB中的容器</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-66FC8E5D-F576-4CF6-80EF-615232B78BDA" name="GUID-66FC8E5D-F576-4CF6-80EF-615232B78BDA"></a><h5 id="MULTI-GUID-66FC8E5D-F576-4CF6-80EF-615232B78BDA" class="sect5"><span class="enumeration_section">13.2.1.1国家</span>开发银行的服务</h5>
                     <div>
                        <p>客户端通过数据库服务访问根或PDB。</p>
                        <p>数据库服务具有可选的<code class="codeph">PDB</code>属性。创建PDB时，会自动创建PDB的新默认服务。该服务与PDB同名。使用服务名称，您可以使用easy连接语法或<code class="codeph">tnsnames.ora</code>文件中的网络服务名称访问PDB。必须正确配置Oracle Net Services才能使客户端访问此服务。
                        </p>
                        <p>当用户使用具有非null <code class="codeph">PDB</code>属性的服务进行连接时，将在指定的PDB的上下文中解析用户名。当用户在未指定服务或使用具有空<code class="codeph">PDB</code>属性的服务名称的情况下进行连接时，将在根的上下文中解析用户名。您可以通过查询<code class="codeph">CDB_SERVICES</code>数据字典视图或在SRVCTL实用程序中运行<code class="codeph">config service</code>命令来查看服务的<code class="codeph">PDB</code>属性。
                        </p>
                        <div class="infoboxnote" id="GUID-66FC8E5D-F576-4CF6-80EF-615232B78BDA__GUID-5883BC1F-0342-4DA7-9C46-EDBCB2721DEA">
                           <p class="notep1">注意：</p>
                           <p>当同一计算机系统上的两个或多个CDB使用相同的侦听器且两个或更多PDB在这些CDB中具有相同的服务名称时，指定此服务名称的连接将随机连接到具有服务名称的PDB之一。要避免错误连接，请确保PDB的所有服务名称在计算机系统上都是唯一的，或者为计算机系统上的每个CDB配置单独的侦听器。</p>
                        </div>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-66FC8E5D-F576-4CF6-80EF-615232B78BDA__GUID-E2676FE7-94F2-4565-B5F3-B0B8E12C5DB1">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="overview-of-the-multitenant-architecture.html#GUID-5660AC5E-BFD4-41BE-8404-C31870FE4D48" title="客户端必须使用服务连接到PDB或应用程序根。">CDB中的服务概述</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="administering-pdbs-with-sql-plus.html#GUID-6FDBCEFC-29DF-4CBB-A000-B105A7328955" title="您可以为PDB创建，修改或删除服务。">管理PDB服务</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-1DED3127-84E4-4967-BEB3-D0ADEC622643__CHDDHBAF">例19-9</a> ”</span></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="administering-a-cdb-with-sql-plus.html#GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" title="您可以使用SQL * Plus访问CDB中的根或PDB。">关于CDB中的Container访问</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-5DC45F70-1F90-41FB-8DFF-23F6AD6BC6BA" name="GUID-5DC45F70-1F90-41FB-8DFF-23F6AD6BC6BA"></a><h5 id="MULTI-GUID-5DC45F70-1F90-41FB-8DFF-23F6AD6BC6BA" class="sect5"><span class="enumeration_section">13.2.1.2</span> CDB中的会话限制</h5>
                     <div>
                        <p><code class="codeph">SESSIONS</code>初始化参数的设置限制了CDB中可用的会话总数，包括连接到PDB的会话。
                        </p>
                        <p>如果达到CDB的限制，则用户无法连接到PDB。要确保一个PDB不使用太多会话，您可以通过在PDB中设置<code class="codeph">SESSIONS</code>初始化参数来限制PDB可用的会话数。</p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-5DC45F70-1F90-41FB-8DFF-23F6AD6BC6BA__GUID-5F997696-F8C5-458E-A822-783612B4211C">
                           <p class="notep1">也可以看看：</p>
                           <p><span class="q">“ <a href="viewing-information-about-cdbs-and-pdbs-with-sql-plus.html#GUID-6BF52FD2-AD0D-469F-AD2B-E5254FB9AD72" title="在CDB中，一些初始化参数适用于根和所有PDB。当这样的初始化参数改变时，它会影响整个CDB。您可以将其他初始化参数设置为每个容器中的不同值。">在PDB中列出可修改的初始化参数</a> ”</span></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="administering-a-cdb-with-sql-plus.html#GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" title="您可以使用SQL * Plus访问CDB中的根或PDB。">关于CDB中的Container访问</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-4BF8A362-AD9B-4780-944E-CFB9B7D84B50" name="GUID-4BF8A362-AD9B-4780-944E-CFB9B7D84B50"></a><h5 id="MULTI-GUID-4BF8A362-AD9B-4780-944E-CFB9B7D84B50" class="sect5"><span class="enumeration_section">13.2.1.3</span>多租户环境中的用户名</h5>
                     <div>
                        <p>在每个PDB中，用户名相对于该PDB中的其他用户名和角色必须是唯一的。</p>
                        <p>请注意以下限制：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>对于常见用户名，用户创建的公共用户的名称必须以通用用户前缀开头。默认情况下，对于CDB普通用户，此前缀为<code class="codeph">C##</code> 。对于应用程序普通用户，此前缀为空字符串。这意味着可以分配给应用程序通用用户的名称没有限制，除了它不能以为CDB普通用户保留的前缀开头。例如，您可以命名CDB公共用户<code class="codeph">c##hr_admin</code>和应用程序公共用户<code class="codeph">hr_admin</code> 。
                              </p>
                              <p><code class="codeph">CDB$ROOT</code>的<code class="codeph">COMMON_USER_PREFIX</code>参数定义了公共用户前缀。您可以更改此设置，但只能非常小心地进行更改。
                              </p>
                           </li>
                           <li>
                              <p>对于本地用户名，名称不能以<code class="codeph">C##</code> （或<code class="codeph">c##</code> ）开头</p>
                           </li>
                           <li>
                              <p>用户和角色不能具有相同的名称。</p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=DBSEG-GUID-F78AE647-184C-4790-9E95-493787CACDE1" target="_blank"><span><cite>Oracle数据库安全指南</cite></span></a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="administering-a-cdb-with-sql-plus.html#GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" title="您可以使用SQL * Plus访问CDB中的根或PDB。">关于CDB中的Container访问</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-8400831A-81DF-4194-8F11-58D71D2FBD5D" name="GUID-8400831A-81DF-4194-8F11-58D71D2FBD5D"></a><h5 id="MULTI-GUID-8400831A-81DF-4194-8F11-58D71D2FBD5D" class="sect5"><span class="enumeration_section">13.2.1.4</span>多租户选项如何影响管理用户的密码文件</h5>
                     <div>
                        <p>在多租户环境中，本地和公共管理用户的密码信息存储在不同的位置。</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="bold">对于CDB管理用户：</span> CDB根目录中授予管理权限的CDB通用管理用户的密码信息（密码的哈希值）存储在密码文件中。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">对于CDB根目录外授予管理权限的CDB中的所有用户：</span>要查看有关这些用户的密码哈希信息的信息，请查询<code class="codeph">$PWFILE_USERS</code>动态视图。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=DBSEG-GUID-00BED08C-E064-4824-9697-C7219CB8D3AB" target="_blank"><span><cite>Oracle数据库安全指南</cite></span></a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="administering-a-cdb-with-sql-plus.html#GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" title="您可以使用SQL * Plus访问CDB中的根或PDB。">关于CDB中的Container访问</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="sect3"><a id="GUID-90C01374-20C9-41A2-AC6D-808F78AA51D3" name="GUID-90C01374-20C9-41A2-AC6D-808F78AA51D3"></a><h4 id="MULTI-GUID-90C01374-20C9-41A2-AC6D-808F78AA51D3" class="sect4"><span class="enumeration_section">13.2.2</span>访问CDB中的容器</h4>
                  <div>
                     <p>通过发出<code class="codeph">CONNECT</code>或<code class="codeph">ALTER SESSION</code>命令，使用SQL * Plus访问CDB中的容器。
                     </p>
                     <p>本节包含以下主题：</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-ACC9EEE3-2F98-4AAF-8F59-60E3334C7C92">使用SQL * Plus CONNECT命令连接到容器</a><br>您可以使用SQL * Plus <code class="codeph">CONNECT</code>命令连接到根或PDB。</li>
                        <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-A67C5365-99A1-4BE1-87CB-CA9A4DEBBF70">使用ALTER SESSION语句切换到容器</a><br>当您以普通用户身份连接到容器时，可以使用<code class="codeph">ALTER SESSION</code>语句切换到其他容器和应用程序服务。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="administering-a-cdb-with-sql-plus.html#GUID-B17ECC65-3498-43B4-BEFD-9AA93A5BE99A" title="您可以使用SQL * Plus CONNECT命令连接到容器。或者，您可以使用ALTER SESSION SET CONTAINER SQL语句切换到容器。">访问CDB中的容器</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN13608"></a><div class="props_rev_3"><a id="GUID-ACC9EEE3-2F98-4AAF-8F59-60E3334C7C92" name="GUID-ACC9EEE3-2F98-4AAF-8F59-60E3334C7C92"></a><h5 id="MULTI-GUID-ACC9EEE3-2F98-4AAF-8F59-60E3334C7C92" class="sect5"><span class="enumeration_section">13.2.2.1</span>使用SQL * Plus CONNECT命令连接到容器</h5>
                     <div>
                        <p>您可以使用SQL * Plus <code class="codeph">CONNECT</code>命令连接到根或PDB。</p>
                        <p>本节包含以下主题：</p>
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-BFC692E7-132E-4AC5-8527-CA766AA36826">使用SQL * Plus CONNECT命令连接到根</a><br>您可以使用与连接到非CDB相同的方式连接到根目录。</li>
                           <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-DC60DC84-D5CF-418B-AB1C-DCB34AF85461">使用SQL * Plus CONNECT命令连接到PDB</a><br>要使用SQL * Plus <code class="codeph">CONNECT</code>命令连接到PDB，可以使用简易连接或网络服务名称。
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="administering-a-cdb-with-sql-plus.html#GUID-90C01374-20C9-41A2-AC6D-808F78AA51D3" title="通过发出CONNECT或ALTER SESSION命令，使用SQL * Plus访问CDB中的容器。">访问CDB中的Container</a></p>
                           </div>
                        </div>
                     </div>
                     <a id="ADMIN14114"></a><a id="ADMIN14115"></a><a id="ADMIN14116"></a><a id="ADMIN13609"></a><div class="props_rev_3"><a id="GUID-BFC692E7-132E-4AC5-8527-CA766AA36826" name="GUID-BFC692E7-132E-4AC5-8527-CA766AA36826"></a><h6 id="MULTI-GUID-BFC692E7-132E-4AC5-8527-CA766AA36826" class="sect6"><span class="enumeration_section">13.2.2.1.1</span>使用SQL * Plus CONNECT命令连接到根目录</h6>
                        <div>
                           <p>您可以使用与连接到非CDB相同的方式连接到根目录。</p>
                           <div class="section">
                              <p>具体来说，您可以使用以下技术通过SQL * Plus <code class="codeph">CONNECT</code>命令连接到root：</p>
                           </div>
                           <!-- class="section" -->
                           <div class="section">
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>本地连接</p>
                                 </li>
                                 <li>
                                    <p>与操作系统身份验证的本地连接</p>
                                 </li>
                                 <li>
                                    <p>数据库连接使用简单连接</p>
                                 </li>
                                 <li>
                                    <p>使用网络服务名称的数据库连接</p>
                                 </li>
                                 <li>
                                    <p>远程数据库连接使用外部认证</p>
                                 </li>
                              </ul>
                              <p>连接到root用户的用户必须满足以下先决条件：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>用户必须是普通用户。</p>
                                 </li>
                                 <li>
                                    <p>必须在root用户中授予用户<code class="codeph">CREATE</code> <code class="codeph">SESSION</code>权限。
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <!-- class="section" -->
                           <div class="section">
                              <p class="subhead3" id="GUID-BFC692E7-132E-4AC5-8527-CA766AA36826__GUID-5BFD0121-F763-4485-A0C7-BB4CBF7143CF">要使用SQL * Plus CONNECT命令连接到根目录：</p>
                              <ol>
                                 <li>
                                    <p>配置您的环境，以便您可以打开SQL * Plus。</p>
                                 </li>
                                 <li>
                                    <p>使用<code class="codeph">/NOLOG</code>参数启动SQL * Plus：</p><pre class="pre codeblock"><code>sqlplus / nolog</code></pre></li>
                                 <li>
                                    <p>发出SQL * Plus <code class="codeph">CONNECT</code>命令以连接到根，如以下示例所示。
                                    </p>
                                 </li>
                              </ol>
                           </div>
                           <!-- class="section" -->
                           <div class="example" id="GUID-BFC692E7-132E-4AC5-8527-CA766AA36826__GUID-701020AA-54A5-459C-903D-528D7D5D68C4">
                              <p class="titleinexample">示例13-1使用本地连接连接到根</p>
                              <p>此示例以用户<code class="codeph">SYSTEM</code>连接到本地CDB中的根。 SQL * Plus会提示输入<code class="codeph">SYSTEM</code>用户密码。
                              </p><pre class="pre codeblock"><code>连接系统</code></pre></div>
                           <!-- class="example" -->
                           <div class="example" id="GUID-BFC692E7-132E-4AC5-8527-CA766AA36826__GUID-669FA57B-428D-45E1-BF2F-97CF024C39FB">
                              <p class="titleinexample">示例13-2使用操作系统身份验证连接到根目录</p>
                              <p>此示例使用具有操作系统身份验证的<code class="codeph">SYSDBA</code>管理权限在本地连接到根。
                              </p><pre class="pre codeblock"><code>connect / as sysdba</code></pre></div>
                           <!-- class="example" -->
                           <div class="example" id="GUID-BFC692E7-132E-4AC5-8527-CA766AA36826__GUID-EEAC4A3F-D1BD-4527-B9DD-21F1080EA8DD">
                              <p class="titleinexample">示例13-3使用网络服务名称连接到根目录</p>
                              <p>假设客户端配置为具有CDB中根的网络服务名称。例如，网络服务名称可以是<code class="codeph">tnsnames.ora</code>文件中条目的一部分。
                              </p>
                              <p>此示例以普通用户<code class="codeph">c##dba</code>连接到由网络服务名称<code class="codeph">mycdb</code>指定的数据库服务。SQL * Plus会提示输入<code class="codeph">c##dba</code>用户密码。
                              </p><pre class="pre codeblock"><code>连接c ## dba @ mycdb</code></pre></div>
                           <!-- class="example" -->
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-BFC692E7-132E-4AC5-8527-CA766AA36826__GUID-05B5AEEF-EEF0-4C59-99E8-F7E91451DE39">
                              <p class="notep1">也可以看看：</p>
                              <p>有关向数据库提交命令和SQL的信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=ADMIN-GUID-58A40F41-B611-4C0F-A6E3-D45A81515BF2" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a></p>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="administering-a-cdb-with-sql-plus.html#GUID-ACC9EEE3-2F98-4AAF-8F59-60E3334C7C92" title="您可以使用SQL * Plus CONNECT命令连接到根或PDB。">使用SQL * Plus CONNECT命令连接到容器</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="ADMIN13970"></a><a id="ADMIN13611"></a><div class="props_rev_3"><a id="GUID-DC60DC84-D5CF-418B-AB1C-DCB34AF85461" name="GUID-DC60DC84-D5CF-418B-AB1C-DCB34AF85461"></a><h6 id="MULTI-GUID-DC60DC84-D5CF-418B-AB1C-DCB34AF85461" class="sect6"><span class="enumeration_section">13.2.2.1.2</span>使用SQL * Plus CONNECT命令连接到PDB</h6>
                        <div>
                           <p>要使用SQL * Plus <code class="codeph">CONNECT</code>命令连接到PDB，可以使用简易连接或网络服务名称。
                           </p>
                           <div class="section">
                              <p>要连接到PDB，用户必须是以下之一：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>具有<code class="codeph">CREATE</code> <code class="codeph">SESSION</code>特权的普通用户，在PDB中通常授予或在本地授予</p>
                                 </li>
                                 <li>
                                    <p>在PDB中使用<code class="codeph">CREATE</code> <code class="codeph">SESSION</code>权限定义的本地用户</p>
                                 </li>
                              </ul>
                              <p>只有具有<code class="codeph">SYSDBA</code> ， <code class="codeph">SYSOPER</code> ， <code class="codeph">SYSBACKUP</code>或<code class="codeph">SYSDG</code>权限的用户才能连接到处于挂载模式的PDB。要更改PDB的打开模式，请参阅<span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-322C5C03-4C48-40CD-8230-0BA5F16BF96B" title="您可以使用ALTER PLUGGABLE DATABASE SQL语句或SQL * Plus STARTUP命令修改PDB的打开模式。">修改一个或多个PDB的打开模式</a> ”</span> 。
                              </p>
                           </div>
                           <!-- class="section" -->
                           <div class="section">
                              <p class="subhead3" id="GUID-DC60DC84-D5CF-418B-AB1C-DCB34AF85461__GUID-6632179F-1885-40D5-8728-FCF64E181249">要使用SQL * Plus CONNECT命令连接到PDB：</p>
                              <ol>
                                 <li>
                                    <p>配置您的环境，以便您可以打开SQL * Plus。</p>
                                 </li>
                                 <li>
                                    <p>使用<code class="codeph">/NOLOG</code>参数启动SQL * Plus：</p><pre class="pre codeblock"><code>sqlplus / nolog</code></pre></li>
                                 <li>
                                    <p>使用简易连接或网络服务名称发出SQL * Plus <code class="codeph">CONNECT</code>命令以连接到PDB。</p>
                                 </li>
                              </ol>
                           </div>
                           <!-- class="section" -->
                           <div class="example" id="GUID-DC60DC84-D5CF-418B-AB1C-DCB34AF85461__GUID-09A47F04-779A-423B-AE4C-EAEF8E8684AD">
                              <p class="titleinexample">示例13-4连接到PDB</p>
                              <p>假设客户端配置为具有与每个PDB名称匹配的每个PDB的网络服务名称。例如，网络服务名称可以是<code class="codeph">tnsnames.ora</code>文件中条目的一部分。
                              </p>
                              <p>以下命令连接到<code class="codeph">salespdb</code> PDB中的<code class="codeph">sh</code>本地用户：</p><pre class="pre codeblock"><code>CONNECT sh @ salespdb</code></pre><p>以下命令连接到<code class="codeph">salespdb</code> PDB中的<code class="codeph">SYSTEM</code>公共用户：</p><pre class="pre codeblock"><code>CONNECT system @ salespdb</code></pre></div>
                           <!-- class="example" -->
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-DC60DC84-D5CF-418B-AB1C-DCB34AF85461__GUID-AEFABF32-2D81-4DCD-87B6-C8901A3E0AEB">
                              <p class="notep1">也可以看看：</p>有关提交SQL * Plus <code class="codeph">CONNECT</code>命令的信息，请参见“ <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=ADMIN-GUID-991445B9-EA9E-481E-A33D-E737F2DD9CFB" target="_blank"><span><cite>Oracle数据库管理员指南”</cite></span></a></div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="administering-a-cdb-with-sql-plus.html#GUID-ACC9EEE3-2F98-4AAF-8F59-60E3334C7C92" title="您可以使用SQL * Plus CONNECT命令连接到根或PDB。">使用SQL * Plus CONNECT命令连接到容器</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div><a id="ADMIN13618"></a><a id="ADMIN13619"></a><a id="ADMIN13620"></a><a id="ADMIN13616"></a><div class="props_rev_3"><a id="GUID-A67C5365-99A1-4BE1-87CB-CA9A4DEBBF70" name="GUID-A67C5365-99A1-4BE1-87CB-CA9A4DEBBF70"></a><h5 id="MULTI-GUID-A67C5365-99A1-4BE1-87CB-CA9A4DEBBF70" class="sect5"><span class="enumeration_section">13.2.2.2</span>使用ALTER SESSION语句切换到容器</h5>
                     <div>
                        <p>当您以普通用户身份连接到容器时，可以使用<code class="codeph">ALTER SESSION</code>语句切换到其他容器和应用程序服务。
                        </p>
                        <div class="section">
                           <p>您可以使用以下语句切换到其他容器和应用程序服务：</p><pre class="pre codeblock"><code>ALTER SESSION SET CONTAINER = <span class="italic">container_name</span> [SERVICE = <span class="italic">service_name</span> ]</code></pre><p>对于<span class="italic">container_name</span> ，请指定以下之一：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">CDB$ROOT</code>切换到CDB根目录</p>
                              </li>
                              <li>
                                 <p><code class="codeph">PDB$SEED</code>切换到PDB种子</p>
                              </li>
                              <li>
                                 <p>用于切换到PDB的PDB名称</p>
                                 <p>当前容器是根时，您可以通过查询<code class="codeph">DBA_PDBS</code>视图来查看CDB中PDB的名称。
                                 </p>
                              </li>
                           </ul>
                           <p>对于<span class="italic">service_name</span> ，请指定在PDB中运行的服务。您可以通过以CDB根目录作为当前容器发出以下查询来列出在CDB容器中运行的服务（不包括CDB根目录）：</p><pre class="pre codeblock"><code>COL NAME FORMAT A30 COL CON_NAME FORMAT A20 SELECT NAME，CON_NAME，CON_ID from V $ ACTIVE_SERVICES WHERE UPPER（NAME）！= CON_NAME AND CON_ID！= 1 ORDER BY CON_ID;</code></pre><p>默认情况下，当您切换到容器时，会话将使用容器的默认服务。但是，默认PDB服务不支持所有服务属性和功能，如服务指标，快速应用程序通知（FAN），负载平衡，资源管理器，事务防护，应用程序连续性等。最佳做法是通过指定<code class="codeph">SERVICE = <span class="codeinlineitalic">service_name</span></code>为容器使用非默认服务，其中<span class="italic">service_name</span>是服务的名称。
                           </p>
                           <p>使用此新功能，连接池可以在从池中借用连接时切换服务，并在需要时切换连接。从<span>Oracle Database 12c</span>第2版（12.2.0.1）开始，连接池支持多个具有通用连接池（UCP）的数据库服务。它也可以单独使用。
                           </p>
                           <p>切换到服务时，应用程序可以整合到CDB，同时保持数据库服务的识别，优先级，测量和高可用性。切换到非默认服务具有以下优势：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>它保留了服务属性和功能。</p>
                              </li>
                              <li>
                                 <p>它消除了太多连接池，为这些租户提供了太多连接。</p>
                              </li>
                              <li>
                                 <p>它允许应用程序使用更多数据库服务进行工作负载控制，而不会消耗太多连接池。客户可以使用服务识别工作负载并确定其优先级，而无需过多调整数据库连接的大小。</p>
                              </li>
                           </ul>
                           <p>以下是使用<code class="codeph">ALTER SESSION SET CONTAINER</code>语句的注意事项：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>语句成功完成后，会话的当前架构将设置为指定容器中的公共用户所拥有的架构。</p>
                              </li>
                              <li>
                                 <p>语句成功完成后，安全上下文将重置为指定容器中公共用户拥有的模式的安全上下文。</p>
                              </li>
                              <li>
                                 <p>语句成功完成后，不会触发指定容器的登录触发器。</p>
                                 <p>如果需要触发器，则可以在PDB中定义<code class="codeph">SET CONTAINER</code>触发器之前或之后，以在执行<code class="codeph">ALTER SESSION SET CONTAINER</code>语句之前或之后触发。
                                 </p>
                              </li>
                              <li>
                                 <p>在语句成功完成并且<code class="codeph">SERVICE</code>子句为PDB指定非默认服务之后，会话正在使用具有属性集的新服务，包括新服务的度量，FAN，TAF，应用程序连续性，事务处理保护， <code class="codeph">drain_timeout</code>和<code class="codeph">stop_option</code> 。
                                 </p>
                              </li>
                              <li>
                                 <p>包状态不在容器之间共享。</p>
                              </li>
                              <li>
                                 <p>关闭PDB时，切换到PDB的会话和直接连接到PDB的会话的处理方式相同。</p>
                              </li>
                              <li>
                                 <p>事务不能跨越多个容器。如果启动事务并使用<code class="codeph">ALTER</code> <code class="codeph">SESSION</code> <code class="codeph">SET</code> <code class="codeph">CONTAINER</code>切换到其他容器，则在切换回启动事务的容器之前，不能发出DML，DDL， <code class="codeph">COMMIT</code>或<code class="codeph">ROLLBACK</code>语句。
                                 </p>
                              </li>
                              <li>
                                 <p>如果打开游标并使用<code class="codeph">ALTER SESSION SET CONTAINER</code>切换到不同的容器，则在切换回打开游标的容器之前，无法从该游标获取数据。
                                 </p>
                              </li>
                              <li>
                                 <p>您可以将<code class="codeph">ALTER SESSION SET CONTAINER</code>语句与<code class="codeph">SERVICE</code>子句一起用于连接池以及高级CDB管理。
                                 </p>
                                 <p>例如，您可以将此语句用于多租户应用程序的PDB连接池。多租户应用程序在服务器上使用单个软件实例来为多个客户（租户）提供服务。在非CDB中，通常通过添加额外的列来支持多租户，该列用于向应用程序使用的每个表标识租户，并且租户检出来自连接池的连接。在具有PDB的CDB中，每个租户可以拥有自己的PDB，并且可以在连接池配置中使用<code class="codeph">ALTER SESSION SET CONTAINER</code>语句。
                                 </p>
                              </li>
                              <li>
                                 <p>使用为应用程序提供服务的连接池时，应用程序可能正在使用具有不同服务的数据源。使用带有<code class="codeph">SERVICE</code>子句的<code class="codeph">ALTER SESSION SET CONTAINER</code>语句，连接池可以为许多应用程序使用相同的连接，从而共享服务。
                                 </p>
                              </li>
                           </ul>
                           <p>要使用<code class="codeph">ALTER SESSION SET CONTAINER</code>语句，必须满足以下先决条件：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>当前用户必须是普通用户。必须使用SQL * Plus <code class="codeph">CONNECT</code>命令进行初始连接。
                                 </p>
                              </li>
                              <li>
                                 <p>当更改会话以作为未随Oracle数据库提供的公共用户切换到PDB时，必须通常授予当前用户<code class="codeph">SET</code> <code class="codeph">CONTAINER</code>权限，或者必须在PDB中本地授予此权限。</p>
                              </li>
                           </ul>
                           <div class="infoboxnote" id="GUID-A67C5365-99A1-4BE1-87CB-CA9A4DEBBF70__GUID-1E09DCE5-80CD-46D0-B59E-6BE2C00889FE">
                              <p class="notep1">注意：</p>
                              <p>使用<code class="codeph">ALTER SESSION SET CONTAINER</code>语句切换到当前容器时，不会强制执行这些先决条件，并且如果不满足这些先决条件，则不会返回错误消息。
                              </p>
                           </div>
                           <p>在使用<code class="codeph">SERVICE</code>子句发出<code class="codeph">ALTER SESSION SET CONTAINER</code>语句之前，必须满足以下先决条件：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>切换到的服务必须处于活动状态。您无法切换到未运行的服务。</p>
                              </li>
                              <li>
                                 <p>在服务之间切换时，正在切换的服务的服务属性和正在切换的服务必须匹配。例如，从和切换的服务必须全部具有TAF，或者必须全部使用应用程序连续性，或者必须都设置了<code class="codeph">drain_timeout</code> 。
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-A67C5365-99A1-4BE1-87CB-CA9A4DEBBF70__GUID-37745A2B-5949-47DC-A4FD-D716C7F40947">要使用ALTER SESSION语句切换到容器：</p>
                           <ol>
                              <li>
                                 <p>在SQL * Plus中，以具有所需权限的普通用户身份连接到容器。</p>
                              </li>
                              <li>
                                 <p>检查要切换到的容器的当前打开模式。</p>
                                 <p>要检查根或PDB的当前打开模式，请在当前容器为根时查询<code class="codeph">V$CONTAINERS</code>视图中的<code class="codeph">OPEN_MODE</code>列。
                                 </p>
                                 <p>如果应更改根的打开模式，请按照<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=ADMIN-GUID-2042AAE4-DAE5-4CD4-89E9-B9DE3A8A2AA1" target="_blank"><span><cite>Oracle数据库管理员指南中</cite></span></a>有关更改数据库可用性的说明更改打开模式。
                                 </p>
                                 <p>如果应更改PDB的打开模式，请按照<span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-322C5C03-4C48-40CD-8230-0BA5F16BF96B" title="您可以使用ALTER PLUGGABLE DATABASE SQL语句或SQL * Plus STARTUP命令修改PDB的打开模式。">修改一个或多个PDB</a></span>的打开模式<span class="q">”</span>中的说明更改打开模式。
                                 </p>
                                 <p>根的开放模式对PDB的开放模式施加了限制。例如，在打开任何PDB之前必须打开根。因此，在更改PDB的打开模式之前，可能需要更改根的打开模式。</p>
                              </li>
                              <li>
                                 <p>如果要切换到特定服务，请确保该服务正在运行。</p>
                                 <p>要检查服务的活动状态，请在当前容器是CDB根目录时查询<code class="codeph">V$ACTIVE_SERVICES</code>视图。
                                 </p>
                                 <p>如果服务未运行，请使用SRVCTL实用程序或<code class="codeph">DBMS_SERVICE</code>包来启动该服务。
                                 </p>
                              </li>
                              <li>
                                 <p>运行<code class="codeph">ALTER SESSION SET CONTAINER</code>语句并指定要切换到的容器。
                                 </p>
                                 <p>包含<code class="codeph">SERVICE</code>子句以切换到特定的应用程序服务。
                                 </p>
                              </li>
                           </ol>
                           <p>以下示例使用<code class="codeph">ALTER</code> <code class="codeph">SESSION</code>切换到各种容器。</p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-A67C5365-99A1-4BE1-87CB-CA9A4DEBBF70__GUID-34B90B3F-23F3-4ECD-9464-C1161E262E6F">
                           <p class="titleinexample">示例13-5切换到PDB salespdb并使用salesrep服务</p><pre class="pre codeblock"><code>ALTER SESSION SET CONTAINER = salespdb SERVICE = salesrep;</code></pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-A67C5365-99A1-4BE1-87CB-CA9A4DEBBF70__BAJFADCJ">
                           <p class="titleinexample">示例13-6切换到PDB salespdb并使用默认服务</p><pre class="pre codeblock"><code>ALTER SESSION SET CONTAINER = salespdb;</code></pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-A67C5365-99A1-4BE1-87CB-CA9A4DEBBF70__BAJFGFEH">
                           <p class="titleinexample">例13-7切换到CDB Root</p><pre class="pre codeblock"><code>ALTER SESSION SET CONTAINER = CDB $ ROOT;</code></pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-A67C5365-99A1-4BE1-87CB-CA9A4DEBBF70__BAJIFJJH">
                           <p class="titleinexample">例13-8切换到PDB种子</p><pre class="pre codeblock"><code>ALTER SESSION SET CONTAINER = PDB $ SEED;</code></pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-A67C5365-99A1-4BE1-87CB-CA9A4DEBBF70__GUID-06CD11F6-B81D-4A71-AD2D-72A2819A1203">
                           <p class="titleinexample">示例13-9使用CDB根中的虚拟服务切换服务</p>
                           <p>要设计切换容器和服务的连接池，一种方法是在CDB根目录中创建虚拟服务，并在此虚拟服务上设置所有必需的服务属性（例如， <code class="codeph">drain_timeout</code> ，TAF或Application Continuity）。服务属性必须与CDB根和PDB匹配。要使用此方法，请完成以下步骤：</p>
                           <ol>
                              <li>
                                 <p>首次创建连接池时以及创建新连接时连接到虚拟服务。</p>
                              </li>
                              <li>
                                 <p>当服务添加到每个PDB时，在这些真实服务上设置相同的属性。</p>
                              </li>
                              <li>
                                 <p>当应用程序需要连接时，请完成以下操作之一：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>创建与虚拟服务的新连接，并切换到PDB和服务。</p>
                                    </li>
                                    <li>
                                       <p>在池中借用空闲连接并切换到PDB和服务。</p>
                                       <p>切换到PDB时，无需返回CDB根目录。</p>
                                    </li>
                                 </ul>
                              </li>
                           </ol>
                           <p>切换到PDB时，无需返回CDB根目录。</p> 
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-A67C5365-99A1-4BE1-87CB-CA9A4DEBBF70__GUID-611879C6-A334-4152-BA8D-B72EB6B8DF3A">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关数据库驻留连接池的信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=ADMIN-GUID-BB76E57C-3F16-4C85-AEF6-BA14FC1B4777" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a></p>
                              </li>
                              <li>
                                 <p>有关通用连接池的详细信息，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=JJUCP-GUID-82ACD002-4C5F-4BF7-99FF-46A2A97DD35D" target="_blank"><span><cite>“Oracle通用连接池开发人员指南”</cite></span></a></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="administering-a-cdb-with-sql-plus.html#GUID-90C01374-20C9-41A2-AC6D-808F78AA51D3" title="通过发出CONNECT或ALTER SESSION命令，使用SQL * Plus访问CDB中的容器。">访问CDB中的Container</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-30AE2105-A486-40D0-99DB-D07C83F11293" name="GUID-30AE2105-A486-40D0-99DB-D07C83F11293"></a><h3 id="MULTI-GUID-30AE2105-A486-40D0-99DB-D07C83F11293" class="sect3"><span class="enumeration_section">13.3</span>在系统级修改CDB</h3>
               <div>
                  <p>您可以在CDB级别设置初始化参数。在某些情况下，您可以在PDB级别覆盖这些参数。</p>
                  <p>本节包含以下主题：</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-1F0CDDB5-0093-4350-8816-4873EF79DEE0">关于CDB的系统级修改</a><br><code class="codeph">ALTER SYSTEM SET</code>语句在一个或多个容器中动态设置初始化参数。
                     </li>
                     <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-E47348D6-5350-4890-ACD6-7BA1C1DD4E95">使用ALTER SYSTEM修改CDB</a><br>要在系统级别修改CDB，请使用<code class="codeph">ALTER SYSTEM</code>语句。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="administering-a-cdb-with-sql-plus.html#GUID-2E5025EE-BED3-45A4-9EAA-B05C8DA66F97" title="管理多租户容器数据库（CDB）包括访问容器，修改CDB，执行DDL语句以及运行Oracle提供的SQL脚本等任务。">管理CDB</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-1F0CDDB5-0093-4350-8816-4873EF79DEE0" name="GUID-1F0CDDB5-0093-4350-8816-4873EF79DEE0"></a><h4 id="MULTI-GUID-1F0CDDB5-0093-4350-8816-4873EF79DEE0" class="sect4"><span class="enumeration_section">13.3.1</span>关于CDB的系统级修改</h4>
                  <div>
                     <p><code class="codeph">ALTER SYSTEM SET</code>语句在一个或多个容器中动态设置初始化参数。
                     </p>
                     <p>CDB使用继承模型用于初始化参数，其中PDB从根继承初始化参数值。在这种情况下，继承意味着根中特定参数的值适用于特定PDB。</p>
                     <p>PDB可以覆盖某些参数的根设置。在这种情况下，PDB具有每个初始化参数的继承属性，该属性为true或false。当PDB继承参数的根值时，对于参数的继承属性为true;否则，该财产是假的。</p>
                     <p>某些参数的继承属性必须为true。对于其他参数，当前容器是PDB时，可以通过运行<code class="codeph">ALTER SYSTEM SET</code>语句来更改继承属性。如果初始化参数的<code class="codeph">V$SYSTEM_PARAMETER.ISPDB_MODIFIABLE</code>为<code class="codeph">TRUE</code> ，则参数的继承属性可以为false。
                     </p>
                     <p>当前容器是根时， <code class="codeph">ALTER SYSTEM SET</code>语句的<code class="codeph">CONTAINER</code>子句控制哪些PDB继承正在设置的参数值。<code class="codeph">CONTAINER</code>子句具有以下语法：</p><pre class="pre codeblock"><code>CONTAINER = {CURRENT |所有}</code></pre><p>可以进行以下设置：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">当前</code></p>
                           <p>参数设置仅适用于当前容器。这是<code class="codeph">CONTAINER</code>的默认设置。当前容器是根时，参数设置将应用于根和参数的继承属性为true的任何PDB。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">所有</code></p>
                           <p>参数设置适用于CDB中的所有容器，包括根和所有PDB。指定<code class="codeph">ALL</code>会将所有PDB中的参数的inheritance属性设置为true。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-1F0CDDB5-0093-4350-8816-4873EF79DEE0__GUID-D38E0024-C25F-4156-8BE1-4AE08EFABD87">
                        <p class="notep1">也可以看看：</p>
                        <p><span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5" title="CDB中每个容器中的数据字典是独立的，当前容器是其数据字典用于名称解析和权限授权的容器。">关于当前容器</a> ”</span>有关<code class="codeph">CONTAINER</code>子句及其适用规则的更多信息</p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="administering-a-cdb-with-sql-plus.html#GUID-30AE2105-A486-40D0-99DB-D07C83F11293" title="您可以在CDB级别设置初始化参数。在某些情况下，您可以在PDB级别覆盖这些参数。">在系统级别修改CDB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13657"></a><a id="ADMIN14171"></a><a id="ADMIN13650"></a><div class="props_rev_3"><a id="GUID-E47348D6-5350-4890-ACD6-7BA1C1DD4E95" name="GUID-E47348D6-5350-4890-ACD6-7BA1C1DD4E95"></a><h4 id="MULTI-GUID-E47348D6-5350-4890-ACD6-7BA1C1DD4E95" class="sect4"><span class="enumeration_section">13.3.2</span>使用ALTER SYSTEM修改CDB</h4>
                  <div>
                     <p>要在系统级别修改CDB，请使用<code class="codeph">ALTER SYSTEM</code>语句。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-E47348D6-5350-4890-ACD6-7BA1C1DD4E95__GUID-507826D7-5C65-4DEA-9298-293CB0AC7FE6">先决条件</p>
                        <p>当前用户必须具有通常授予的<code class="codeph">ALTER SYSTEM</code>权限。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E47348D6-5350-4890-ACD6-7BA1C1DD4E95__GUID-CCB0F094-8E26-4CC8-B161-4E51368722E6">要在CDB的根目录中使用ALTER SYSTEM SET：</p>
                        <ol>
                           <li>
                              <p>在SQL * Plus中，确保当前容器是根。</p>
                           </li>
                           <li>
                              <p>运行<code class="codeph">ALTER SYSTEM SET</code>语句。
                              </p>
                           </li>
                        </ol>
                        <div class="infoboxnote" id="GUID-E47348D6-5350-4890-ACD6-7BA1C1DD4E95__GUID-D42E04D8-A26E-4D89-8AC1-2145CF02FCB0">
                           <p class="notep1">注意：</p>
                           <p>要将PDB中参数的继承属性从false更改为true，请运行<code class="codeph">ALTER SYSTEM RESET</code>语句以在当前容器为PDB时重置参数。以下示例语句重置<code class="codeph">OPEN_CURSORS</code>参数：</p><pre class="pre codeblock"><code>ALTER SYSTEM RESET OPEN_CURSORS SCOPE = SPFILE;</code></pre></div>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-E47348D6-5350-4890-ACD6-7BA1C1DD4E95__GUID-CF4C624E-74B2-4764-B8A1-B1CBF3FDFA3D">
                        <p class="titleinexample">示例13-10设置所有容器的初始化参数</p>
                        <p>此<code class="codeph">ALTER SYSTEM SET</code>语句将所有容器的<code class="codeph">OPEN_CURSORS</code>初始化参数设置为<code class="codeph">200</code> ，并在每个PDB中将继承属性设置为<code class="codeph">TRUE</code> 。</p><pre class="pre codeblock"><code>ALTER SYSTEM SET OPEN_CURSORS = 200 CONTAINER = ALL;</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-E47348D6-5350-4890-ACD6-7BA1C1DD4E95__GUID-4CB00A76-FB4E-43BA-BF17-98CE4E35DA45">
                        <p class="titleinexample">示例13-11设置Root的初始化参数</p>
                        <p>此<code class="codeph">ALTER SYSTEM SET</code>语句将<code class="codeph">OPEN_CURSORS</code>初始化参数设置为<code class="codeph">200</code>对于参数，继承属性为true的PDB。
                        </p><pre class="pre codeblock"><code>ALTER SYSTEM SET OPEN_CURSORS = 200 CONTAINER = CURRENT;</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-E47348D6-5350-4890-ACD6-7BA1C1DD4E95__GUID-11F815E1-2CD9-4A9A-A4DE-A128DBC06130">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="administering-pdbs-with-sql-plus.html#GUID-3AAA613B-C52C-4080-B0C3-7212859E3A2F" title="您可以使用ALTER SYSTEM语句来修改PDB。">在系统级修改PDB</a> ”</span></p>
                           </li>
                           <li>
                              <p>有关<code class="codeph">ALTER SYSTEM SET</code>语句的更多信息，请<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=SQLRF53143" target="_blank"><span><cite>参见Oracle数据库SQL语言参考</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="administering-a-cdb-with-sql-plus.html#GUID-30AE2105-A486-40D0-99DB-D07C83F11293" title="您可以在CDB级别设置初始化参数。在某些情况下，您可以在PDB级别覆盖这些参数。">在系统级别修改CDB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-80265A74-2826-429E-90E6-5EB68EC7D10B" name="GUID-80265A74-2826-429E-90E6-5EB68EC7D10B"></a><h3 id="MULTI-GUID-80265A74-2826-429E-90E6-5EB68EC7D10B" class="sect3"><span class="enumeration_section">13.4</span>连接到CDB Root时修改容器</h3>
               <div>
                  <p>您可以使用<code class="codeph">ALTER DATABASE</code>语句修改整个CDB或根。
                  </p>
                  <p>本节包含以下主题：</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-EABCEE30-0C2C-493C-83E0-F5D72D8F8E14">关于连接到CDB Root时的容器修改</a><br><code class="codeph">ALTER DATABASE</code>语句修改CDB。连接到CDB根目录时， <code class="codeph">ALTER PLUGGABLE DATABASE</code>语句可以修改一个或多个PDB的打开模式。
                     </li>
                     <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-B8BA1E28-5B7D-4174-9870-82C0122B80FA">使用ALTER DATABASE修改整个CDB</a><br>您可以使用<code class="codeph">ALTER DATABASE</code>语句修改整个CDB，包括根和所有PDB。大多数<code class="codeph">ALTER DATABASE</code>语句修改整个CDB。</li>
                     <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-24EA5811-94F0-4EEC-864F-23AEF48F2D51">使用ALTER DATABASE在CDB中设置撤消模式</a><br>启用本地撤消后，每个容器都有自己的撤消表空间，用于打开它的每个实例。禁用本地撤消后，整个CDB都有一个撤消表空间。</li>
                     <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-E5218804-4478-4384-B03F-5A2BDECAEA6E">使用ALTER DATABASE修改CDB根目录</a><br>要仅修改CDB的根，请使用<code class="codeph">ALTER DATABASE</code>语句。
                     </li>
                     <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-322C5C03-4C48-40CD-8230-0BA5F16BF96B">修改一个或多个PDB的开放模式</a><br>您可以使用<code class="codeph">ALTER PLUGGABLE DATABASE</code> SQL语句或SQL * Plus <code class="codeph">STARTUP</code>命令修改PDB的打开模式。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="administering-a-cdb-with-sql-plus.html#GUID-2E5025EE-BED3-45A4-9EAA-B05C8DA66F97" title="管理多租户容器数据库（CDB）包括访问容器，修改CDB，执行DDL语句以及运行Oracle提供的SQL脚本等任务。">管理CDB</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN14089"></a><a id="ADMIN13626"></a><div class="props_rev_3"><a id="GUID-EABCEE30-0C2C-493C-83E0-F5D72D8F8E14" name="GUID-EABCEE30-0C2C-493C-83E0-F5D72D8F8E14"></a><h4 id="MULTI-GUID-EABCEE30-0C2C-493C-83E0-F5D72D8F8E14" class="sect4"><span class="enumeration_section">13.4.1</span>关于连接到CDB Root时的容器修改</h4>
                  <div>
                     <p><code class="codeph">ALTER DATABASE</code>语句修改CDB。连接到CDB根目录时， <code class="codeph">ALTER PLUGGABLE DATABASE</code>语句可以修改一个或多个PDB的打开模式。
                     </p>
                     <p><code class="codeph">ALTER DATABASE</code>和<code class="codeph">ALTER PLUGGABLE DATABASE</code>的行为取决于您在使用语句时连接到哪个容器：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>作为普通用户连接到CDB根目录</p>
                           <p>在这种情况下， <code class="codeph">ALTER DATABASE</code>语句的工作方式与非CDB中的相同。当带有<code class="codeph">RENAME GLOBAL_NAME</code>子句的<code class="codeph">ALTER DATABASE</code>语句修改CDB的域时，它会影响每个PDB的域，其域默认为CDB的域。带有<span class="italic">pdb_change_state</span>子句的<code class="codeph">ALTER PLUGGABLE DATABASE</code>语句修改了一个或多个PDB的打开模式。
                           </p>
                        </li>
                        <li>
                           <p>连接到PDB</p>
                           <p>在这种情况下， <code class="codeph">ALTER DATABASE</code>和<code class="codeph">ALTER PLUGGABLE DATABASE</code>语句仅修改当前的PDB。
                           </p>
                        </li>
                     </ul>
                     <p>下表列出了<code class="codeph">ALTER DATABASE</code>和<code class="codeph">ALTER PLUGGABLE DATABASE</code>语句中的子句修改了哪些容器。
                     </p>
                     <div class="tblformalwide" id="GUID-EABCEE30-0C2C-493C-83E0-F5D72D8F8E14__BAJECDFH">
                        <p class="titleintable">表13-3修改CDB中容器的语句</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="修改CDB中容器的语句" width="100%" border="1" summary="This table describes ALTER DATABASE statements that modify an entire consolidated database, ALTER DATABASE statements that modify the root database or a pluggable database, and ALTER PLUGGABLE DATABASE statements." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="34%" id="d54878e5656">修改整个CDB</th>
                                 <th align="left" valign="bottom" width="33%" id="d54878e5659">仅修改根</th>
                                 <th align="left" valign="bottom" width="33%" id="d54878e5662">修改一个或多个PDB</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d54878e5667" headers="d54878e5656 ">
                                    <p>当以当前容器为根的公共用户连接时，带有以下子句的<code class="codeph">ALTER DATABASE</code>语句将修改整个CDB：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=SQLRF52389" target="_blank"><span class="italic">startup_clauses</span></a></p>
                                       </li>
                                       <li>
                                          <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=SQLRF52390" target="_blank"><span class="italic">recovery_clauses</span></a></p>
                                       </li>
                                       <li>
                                          <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=SQLRF52402" target="_blank"><span class="italic">logfile_clauses</span></a></p>
                                       </li>
                                       <li>
                                          <p><a href="../sqlrf/ALTER-DATABASE.html#SQLRF52410" target="_blank"><span class="italic">controlfile_clauses</span></a></p>
                                       </li>
                                       <li>
                                          <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=SQLRF52412" target="_blank"><span class="italic">standby_database_clauses</span></a></p>
                                       </li>
                                       <li>
                                          <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=SQLRF52423" target="_blank"><span class="italic">instance_clauses</span></a></p>
                                       </li>
                                       <li>
                                          <p><a href="../sqlrf/ALTER-DATABASE.html#SQLRF52424" target="_blank"><span class="italic">security_clause</span></a></p>
                                       </li>
                                       <li>
                                          <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=SQLRF52547" target="_blank"><code class="codeph">RENAME GLOBAL_NAME</code></a>条款</p>
                                       </li>
                                       <li>
                                          <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=SQLRF52549" target="_blank"><code class="codeph">ENABLE BLOCK CHANGE TRACKING</code></a>子句</p>
                                       </li>
                                       <li>
                                          <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=SQLRF52550" target="_blank"><code class="codeph">DISABLE BLOCK CHANGE TRACKING</code></a>条款</p>
                                       </li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d54878e5667 d54878e5659 ">
                                    <p>当以当前容器为根的公共用户连接时，带有以下子句的<code class="codeph">ALTER DATABASE</code>语句仅修改根：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=SQLRF52396" target="_blank"><span class="italic">database_file_clauses</span></a></p>
                                       </li>
                                       <li>
                                          <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=SQLRF52540" target="_blank"><code class="codeph">DEFAULT EDITION</code></a>条款</p>
                                       </li>
                                       <li>
                                          <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=SQLRF52543" target="_blank"><code class="codeph">DEFAULT TABLESPACE</code></a>子句</p>
                                       </li>
                                       <li>
                                          <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=SQLRF52544" target="_blank"><code class="codeph">DEFAULT TEMPORARY TABLESPACE</code></a>子句</p>
                                       </li>
                                    </ul>
                                    <p>带有以下子句的<code class="codeph">ALTER DATABASE</code>语句修改根并为PDB设置默认值：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=SQLRF52421" target="_blank"><span class="italic">flashback_mode_clause</span></a></p>
                                       </li>
                                       <li>
                                          <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=SQLRF52542" target="_blank"><code class="codeph">SET DEFAULT {BIGFILE|SMALLFILE} TABLESPACE</code></a>子句</p>
                                       </li>
                                       <li>
                                          <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=SQLRF52421" target="_blank"><span class="italic">set_time_zone_clause</span></a></p>
                                       </li>
                                    </ul>
                                    <p>您可以使用这些子句为特定PDB设置非默认值。</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d54878e5667 d54878e5662 ">
                                    <p>当以当前容器为根的公共用户连接时，具有以下子句的<code class="codeph">ALTER PLUGGABLE DATABASE</code>语句可以修改一个或多个PDB的打开模式：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=SQLRF55686" target="_blank"><span class="italic">pdb_change_state</span></a></p>
                                       </li>
                                    </ul>
                                    <p>当前容器是PDB时，带有此子句的<code class="codeph">ALTER PLUGGABLE DATABASE</code>语句可以修改当前PDB的打开模式。</p>
                                    <p>当以当前容器为根的公共用户连接时，具有以下子句的<code class="codeph">ALTER PLUGGABLE DATABASE</code>语句可以在CDB重新启动时保留或放弃PDB的打开模式：</p>
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=SQLRF55686" target="_blank"><span class="italic">pdb_save_or_discard_state</span></a></p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-EABCEE30-0C2C-493C-83E0-F5D72D8F8E14__GUID-5AB716AC-DA19-4068-9F00-EB5F8D5ABFD4">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5" title="CDB中每个容器中的数据字典是独立的，当前容器是其数据字典用于名称解析和权限授权的容器。">关于当前的容器</a> ”</span></p>
                           </li>
                           <li><span class="q">“ <a href="administering-pdbs-with-sql-plus.html#GUID-0200CF6A-8822-4347-9410-4435FDB47745" title="您可以使用ALTER PLUGGABLE DATABASE语句修改PDB。">在数据库级修改PDB</a> ”</span></li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=SQLRF00802" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="administering-a-cdb-with-sql-plus.html#GUID-80265A74-2826-429E-90E6-5EB68EC7D10B" title="您可以使用ALTER DATABASE语句修改整个CDB或根。">连接到CDB根时修改容器</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13635"></a><a id="ADMIN13636"></a><a id="ADMIN13633"></a><div class="props_rev_3"><a id="GUID-B8BA1E28-5B7D-4174-9870-82C0122B80FA" name="GUID-B8BA1E28-5B7D-4174-9870-82C0122B80FA"></a><h4 id="MULTI-GUID-B8BA1E28-5B7D-4174-9870-82C0122B80FA" class="sect4"><span class="enumeration_section">13.4.2</span>使用ALTER DATABASE修改整个CDB</h4>
                  <div>
                     <p>您可以使用<code class="codeph">ALTER DATABASE</code>语句修改整个CDB，包括根和所有PDB。大多数<code class="codeph">ALTER DATABASE</code>语句修改整个CDB。</p>
                     <div class="section">
                        <p>有关修改整个CDB而不是根PDB或单个PDB的语句列表，请参阅<span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-EABCEE30-0C2C-493C-83E0-F5D72D8F8E14" title="ALTER DATABASE语句修改CDB。连接到CDB根目录时，ALTER PLUGGABLE DATABASE语句可以修改一个或多个PDB的打开模式。">关于连接到CDB Root时的容器修改</a></span> ”的“修改整个CDB”列。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B8BA1E28-5B7D-4174-9870-82C0122B80FA__GUID-E2AF7B5B-2E1E-41B5-A324-B759CDE2D6D1">先决条件</p>
                        <p>要修改整个CDB，必须满足以下先决条件：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>当前用户必须是具有<code class="codeph">ALTER DATABASE</code>权限的普通用户。
                              </p>
                           </li>
                           <li>
                              <p>要将<code class="codeph">ALTER DATABASE</code>语句与<span class="italic">recovery_clause</span>一起使用，当前用户必须具有通常授予的<code class="codeph">SYSDBA</code>管理权限。在这种情况下，您必须在连接时使用<code class="codeph">AS SYSDBA</code>行使此权限。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B8BA1E28-5B7D-4174-9870-82C0122B80FA__GUID-D8303207-36D8-475B-A7B6-EAADA8FF7100">要修改整个CDB：</p>
                        <ol>
                           <li>
                              <p>在SQL * Plus中，确保当前容器是根。</p>
                           </li>
                           <li>
                              <p>使用带有修改整个CDB的子句的<code class="codeph">ALTER DATABASE</code>语句。</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-B8BA1E28-5B7D-4174-9870-82C0122B80FA__GUID-673DB064-22B9-4E48-8836-44F89C8FF0A7">
                        <p class="titleinexample">示例13-12备份CDB的控制文件</p>
                        <p>以下<code class="codeph">ALTER DATABASE</code>语句使用<span class="italic">recovery_clause</span>备份控制文件。
                        </p><pre class="pre codeblock"><code>ALTER DATABASE BACKUP CONTROLFILE TO'+ DATA / dbs / backup / control.bkp';</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-B8BA1E28-5B7D-4174-9870-82C0122B80FA__GUID-B2222769-BB3E-4878-B820-B9FD31816946">
                        <p class="titleinexample">示例13-13将重做日志文件添加到CDB</p>
                        <p>以下<code class="codeph">ALTER DATABASE</code>语句使用<span class="italic">logfile_clause</span>添加重做日志文件。
                        </p><pre class="pre codeblock"><code>ALTER DATABASE cdb ADD LOGFILE GROUP 4（'/ u01/logs/orcl/redo04a.log','/u02/logs/orcl/redo04b.log'）SIZE 100M BLOCKSIZE 512 REUSE;</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-B8BA1E28-5B7D-4174-9870-82C0122B80FA__GUID-E809CAC4-9A17-4854-8EC8-AF987E5BE914">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=SQLRF00802" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="administering-a-cdb-with-sql-plus.html#GUID-80265A74-2826-429E-90E6-5EB68EC7D10B" title="您可以使用ALTER DATABASE语句修改整个CDB或根。">连接到CDB根时修改容器</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-24EA5811-94F0-4EEC-864F-23AEF48F2D51" name="GUID-24EA5811-94F0-4EEC-864F-23AEF48F2D51"></a><h4 id="MULTI-GUID-24EA5811-94F0-4EEC-864F-23AEF48F2D51" class="sect4"><span class="enumeration_section">13.4.3</span>使用ALTER DATABASE在CDB中设置撤消模式</h4>
                  <div>
                     <p>启用本地撤消后，每个容器都有自己的撤消表空间，用于打开它的每个实例。禁用本地撤消后，整个CDB都有一个撤消表空间。</p>
                     <p>本节包含以下主题：</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-8F8B2FF8-7FA7-40CD-8AA5-ACABCD3964D8">关于CDB撤消模式</a><br>您可以将CDB配置为在每个容器中使用本地撤消，或者对整个CDB使用共享撤消。</li>
                        <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-1AAB032F-D13A-4E06-A062-59E0487C2FC5">配置CDB以使用本地撤消模式</a><br>您可以通过发出<code class="codeph">ALTER DATABASE LOCAL UNDO ON</code>语句并重新启动数据库将CDB更改为本地撤消模式。
                        </li>
                        <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-D54AAD88-03DA-4E22-991F-8C15306823A5">配置CDB以使用共享撤消模式</a><br>要将CDB更改为使用共享撤消模式，请使用<code class="codeph">ALTER DATABASE LOCAL UNDO OFF</code>语句。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="administering-a-cdb-with-sql-plus.html#GUID-80265A74-2826-429E-90E6-5EB68EC7D10B" title="您可以使用ALTER DATABASE语句修改整个CDB或根。">连接到CDB根时修改容器</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-8F8B2FF8-7FA7-40CD-8AA5-ACABCD3964D8" name="GUID-8F8B2FF8-7FA7-40CD-8AA5-ACABCD3964D8"></a><h5 id="MULTI-GUID-8F8B2FF8-7FA7-40CD-8AA5-ACABCD3964D8" class="sect5"><span class="enumeration_section">13.4.3.1</span>关于CDB撤销模式</h5>
                     <div>
                        <p>您可以将CDB配置为在每个容器中使用本地撤消，或者对整个CDB使用共享撤消。</p>
                        <p>CDB可以在本地或共享撤消模式下运行。撤消模式适用于整个CDB。因此，每个容器都使用共享撤消或本地撤消。</p>
                        <p>在<code class="codeph">CREATE DATABASE</code>语句的<code class="codeph">ENABLE PLUGGABLE DATABASE</code>子句中，在<code class="codeph">CREATE DATABASE</code> CDB期间指定CDB的撤消模式。您可以通过发出<code class="codeph">ALTER DATABASE</code>语句并重新启动CDB来更改CDB的撤消模式。</p>
                        <div class="p">要确定当前的CDB撤消模式，请在CDB根目录中运行以下查询：<pre class="pre codeblock"><code>SELECT PROPERTY_NAME，PROPERTY_VALUE FROM DATABASE_PROPERTIES，其中PROPERTY_NAME ='LOCAL_UNDO_ENABLED';</code></pre></div>
                        <p>如果查询为<code class="codeph">PROPERTY_VALUE</code>返回<code class="codeph">TRUE</code> ，则CDB处于本地撤消模式。否则，CDB处于共享撤消模式。
                        </p>
                        <p>本节包含以下主题：</p>
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-4CDFA6C8-B29B-45B4-BD8C-583457CAFDEC">关于本地撤消模式</a><br>本地撤消模式意味着每个容器都有自己的撤销表空间，用于打开它的每个实例。
                           </li>
                           <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-25DF0937-55A3-47DA-A2F7-DB450BB0E1CA">关于共享撤消模式</a><br>共享撤消模式意味着单实例CDB只存在一个活动的撤消表空间。对于Oracle RAC CDB，每个实例都有一个活动的撤消表空间。
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="administering-a-cdb-with-sql-plus.html#GUID-24EA5811-94F0-4EEC-864F-23AEF48F2D51" title="启用本地撤消后，每个容器都有自己的撤消表空间，用于打开它的每个实例。禁用本地撤消后，整个CDB都有一个撤消表空间。">使用ALTER DATABASE在CDB中设置撤消模式</a></p>
                           </div>
                        </div>
                     </div>
                     
                     <div class="sect5"><a id="GUID-4CDFA6C8-B29B-45B4-BD8C-583457CAFDEC" name="GUID-4CDFA6C8-B29B-45B4-BD8C-583457CAFDEC"></a><h6 id="MULTI-GUID-4CDFA6C8-B29B-45B4-BD8C-583457CAFDEC" class="sect6"><span class="enumeration_section">13.4.3.1.1</span>关于本地撤销模式</h6>
                        <div>
                           <p>本地撤消模式意味着每个容器都有自己的撤销表空间，用于打开它的每个实例。</p>
                           <p>在此模式下，Oracle数据库会自动为CDB中的每个容器创建一个撤消表空间。对于Oracle RAC CDB，在本地撤消模式下，每个PDB的每个实例都有一个活动的撤消表空间。</p>
                           <p>本地撤消模式为每个容器提供了更高的隔离，并提高了某些操作的效率，例如拔出容器或在容器上执行时间点恢复。此外，还需要本地撤消模式来支持某些操作，例如重新定位PDB或克隆处于开放读/写模式的PDB。</p>
                           <p>当CDB处于本地撤消模式时，以下情况适用：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>对当前容器具有适当权限的任何用户都可以为容器创建撤消表空间。</p>
                              </li>
                              <li>
                                 <p>撤消表空间在静态数据字典视图和CDB中每个容器中的动态性能（V $）视图中都可见。</p>
                              </li>
                           </ul>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-4CDFA6C8-B29B-45B4-BD8C-583457CAFDEC__GUID-92986DA2-6B23-46D5-922C-F69F220B466C">
                              <p class="notep1">也可以看看：</p>
                              <p>有关所需权限的信息，请<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=SQLRF01403" target="_blank"><span><cite>参见Oracle数据库SQL语言参考</cite></span></a></p>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="administering-a-cdb-with-sql-plus.html#GUID-8F8B2FF8-7FA7-40CD-8AA5-ACABCD3964D8" title="您可以将CDB配置为在每个容器中使用本地撤消，或者对整个CDB使用共享撤消。">关于CDB撤消模式</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                     <div class="sect5"><a id="GUID-25DF0937-55A3-47DA-A2F7-DB450BB0E1CA" name="GUID-25DF0937-55A3-47DA-A2F7-DB450BB0E1CA"></a><h6 id="MULTI-GUID-25DF0937-55A3-47DA-A2F7-DB450BB0E1CA" class="sect6"><span class="enumeration_section">13.4.3.1.2</span>关于共享撤消模式</h6>
                        <div>
                           <p>共享撤消模式意味着单实例CDB只存在一个活动的撤消表空间。对于Oracle RAC CDB，每个实例都有一个活动的撤消表空间。</p>
                           <p>当CDB处于共享撤消模式时，以下情况适用：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>只有具有适当权限且当前容器为CDB根的普通用户才能创建撤消表空间。</p>
                              </li>
                              <li>
                                 <p>当前容器不是CDB根时，尝试创建撤消表空间失败并返回错误。</p>
                              </li>
                              <li>
                                 <p>当前容器是CDB根时，撤消表空间在静态数据字典视图和动态性能（V $）视图中可见。当前容器是PDB，应用程序根目录或应用程序PDB时，撤消表空间仅在动态性能视图中可见。</p>
                              </li>
                           </ul>
                           <div class="infoboxnote" id="GUID-25DF0937-55A3-47DA-A2F7-DB450BB0E1CA__GUID-E49F0A14-B321-448E-87B7-5AE7C628D2DE">
                              <p class="notep1">注意：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>当您更改CDB的撤消模式时，新的撤消模式将在更改后第一次打开容器时应用于单个容器。</p>
                                 </li>
                                 <li>
                                    <p>当您更改CDB的撤消模式时，CDB中的容器无法闪回到更改之前的时间或SCN。</p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="administering-a-cdb-with-sql-plus.html#GUID-8F8B2FF8-7FA7-40CD-8AA5-ACABCD3964D8" title="您可以将CDB配置为在每个容器中使用本地撤消，或者对整个CDB使用共享撤消。">关于CDB撤消模式</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-1AAB032F-D13A-4E06-A062-59E0487C2FC5" name="GUID-1AAB032F-D13A-4E06-A062-59E0487C2FC5"></a><h5 id="MULTI-GUID-1AAB032F-D13A-4E06-A062-59E0487C2FC5" class="sect5"><span class="enumeration_section">13.4.3.2</span>配置CDB使用本地撤销模式</h5>
                     <div>
                        <p>您可以通过发出<code class="codeph">ALTER DATABASE LOCAL UNDO ON</code>语句并重新启动数据库将CDB更改为本地撤消模式。
                        </p>
                        <div class="section">
                           <p>当CDB处于本地撤消模式时，每个容器都有自己的撤销表空间，用于打开它的每个实例。Oracle数据库会自动在CDB中没有容器的任何容器中创建撤消表空间。如果没有撤消表空间的PDB被克隆，重定位或插入配置为使用本地撤消模式的CDB，则Oracle数据库会在第一次打开时自动为PDB创建撤消表空间。</p>
                           <p>当CDB从共享撤消模式更改为本地撤消模式时，Oracle数据库会自动创建所需的撤消表空间。</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>如果CDB实例已打开，则将其关闭。</span></li>
                           <li class="stepexpand"><span>在<code class="codeph">OPEN UPGRADE</code>模式下启动CDB实例。例如：</span><div><code class="codeph">启动升级</code></div>
                           </li>
                           <li class="stepexpand"><span>在SQL * Plus中，确保当前容器是CDB根目录。例如，输入以下内容：</span><div><pre class="pre codeblock"><code>SHOW CON_NAME CON_NAME ------------------------------ CDB $ ROOT</code></pre></div>
                           </li>
                           <li class="stepexpand"><span>查询CDB的当前撤消模式：</span><div><code class="codeph">SELECT PROPERTY_NAME，PROPERTY_VALUE FROM DATABASE_PROPERTIES，其中PROPERTY_NAME ='LOCAL_UNDO_ENABLED';</code></div>
                           </li>
                           <li class="stepexpand"><span>要启用本地撤消，请发出以下SQL语句：</span><div><code class="codeph">ALTER DATABASE LOCAL UNDO ON;</code></div>
                           </li>
                           <li class="stepexpand"><span>关闭并重新启动CDB实例。</span></li>
                           <li class="stepexpand"><strong>可选：</strong> <span>在PDB种子中手动创建撤消表空间。</span><div>虽然Oracle数据库在本地撤消模式下自动在PDB种子中创建撤消表空间，但您可能希望通过手动创建撤消表空间来控制撤消表空间的大小和配置。要确保从PDB种子创建的PDB使用手动创建的撤消表空间而不是自动创建的撤消表空间，必须将<code class="codeph">UNDO_TABLESPACE</code>初始化参数设置为手动创建的撤消表空间，或删除自动创建的撤消表空间。
                              </div>
                              <ol type="a">
                                 <li class="substepexpand"><span>在SQL * Plus中，确保当前容器是根。</span></li>
                                 <li class="substepexpand"><span>将PDB种子置于开放读/写模式：</span><div><code class="codeph">ALTER PLOGGABLE DATABASE PDB $ SEED OPEN READ WRITE FORCE;</code></div>
                                 </li>
                                 <li class="substepexpand"><span>将容器切换到PDB种子：</span><div><code class="codeph">ALTER SESSION SET CONTAINER = PDB $ SEED;</code></div>
                                 </li>
                                 <li class="substepexpand"><span>在PDB种子中创建撤消表空间。例如：</span><div><pre class="pre codeblock"><code>创建UNDO TABLESPACE seedundots1 DATAFILE'grandundotbs_1a.dbf'SIZE 10M AUTOEXTEND on RETENTION GUARANTEE;</code></pre></div>
                                 </li>
                                 <li class="substepexpand"><span>将容器切换到根：</span><div><code class="codeph">ALTER SESSION SET CONTAINER = CDB $ ROOT;</code></div>
                                 </li>
                                 <li class="substepexpand"><span>将PDB种子置于打开的只读模式：</span><div><code class="codeph">ALTER PLOGGABLE DATABASE PDB $ SEED OPEN READ ONLY FORCE;</code></div>
                                 </li>
                              </ol>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="administering-a-cdb-with-sql-plus.html#GUID-24EA5811-94F0-4EEC-864F-23AEF48F2D51" title="启用本地撤消后，每个容器都有自己的撤消表空间，用于打开它的每个实例。禁用本地撤消后，整个CDB都有一个撤消表空间。">使用ALTER DATABASE在CDB中设置撤消模式</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-D54AAD88-03DA-4E22-991F-8C15306823A5" name="GUID-D54AAD88-03DA-4E22-991F-8C15306823A5"></a><h5 id="MULTI-GUID-D54AAD88-03DA-4E22-991F-8C15306823A5" class="sect5"><span class="enumeration_section">13.4.3.3</span>配置CDB使用共享撤销模式</h5>
                     <div>
                        <p>要将CDB更改为使用共享撤消模式，请使用<code class="codeph">ALTER DATABASE LOCAL UNDO OFF</code>语句。
                        </p>
                        <ol>
                           <li class="stepexpand"><span>如果CDB实例已打开，则将其关闭。</span></li>
                           <li class="stepexpand"><span>在<code class="codeph">OPEN UPGRADE</code>模式下启动CDB实例。例如：</span><div><code class="codeph">启动升级</code></div>
                           </li>
                           <li class="stepexpand"><span>在SQL * Plus中，确保当前容器是CDB根目录。例如，输入以下内容：</span><div><pre class="pre codeblock"><code>SHOW CON_NAME CON_NAME ------------------------------ CDB $ ROOT</code></pre></div>
                           </li>
                           <li class="stepexpand"><span>（可选）查询CDB的当前撤消模式：</span><div><code class="codeph">SELECT PROPERTY_NAME，PROPERTY_VALUE FROM DATABASE_PROPERTIES，其中PROPERTY_NAME ='LOCAL_UNDO_ENABLED';</code></div>
                           </li>
                           <li class="stepexpand"><span>要关闭本地撤消，请发出以下SQL语句：</span><div><code class="codeph">ALTER DATABASE LOCAL UNDO OFF;</code></div>
                           </li>
                           <li class="stepexpand"><span>关闭并重新启动CDB实例。</span></li>
                        </ol>
                        <div class="section">在共享撤消模式下，CDB忽略在本地撤消模式下创建的任何本地撤消表空间。Oracle建议您删除未使用的本地撤消表空间。</div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="administering-a-cdb-with-sql-plus.html#GUID-24EA5811-94F0-4EEC-864F-23AEF48F2D51" title="启用本地撤消后，每个容器都有自己的撤消表空间，用于打开它的每个实例。禁用本地撤消后，整个CDB都有一个撤消表空间。">使用ALTER DATABASE在CDB中设置撤消模式</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN13669"></a><a id="ADMIN13639"></a><a id="ADMIN13691"></a><a id="ADMIN13677"></a><a id="ADMIN13637"></a><div class="props_rev_3"><a id="GUID-E5218804-4478-4384-B03F-5A2BDECAEA6E" name="GUID-E5218804-4478-4384-B03F-5A2BDECAEA6E"></a><h4 id="MULTI-GUID-E5218804-4478-4384-B03F-5A2BDECAEA6E" class="sect4"><span class="enumeration_section">13.4.4</span>使用ALTER DATABASE修改CDB根目录</h4>
                  <div>
                     <p>要仅修改CDB的根，请使用<code class="codeph">ALTER DATABASE</code>语句。
                     </p>
                     <div class="section">
                        <p>当前容器是根时，一些<code class="codeph">ALTER DATABASE</code>语句修改根而不直接修改任何PDB。有关这些语句的列表，请参阅<a href="administering-a-cdb-with-sql-plus.html#GUID-EABCEE30-0C2C-493C-83E0-F5D72D8F8E14__BAJECDFH" title="此表描述了修改整个统一数据库的ALTER DATABASE语句，修改根数据库或可插拔数据库的ALTER DATABASE语句以及ALTER PLUGGABLE DATABASE语句。">表13-3中</a>的“仅修改根”列。
                        </p>
                        <p>某些语句设置CDB中PDB的默认值。您可以使用<code class="codeph">ALTER PLUGGABLE DATABASE</code>语句覆盖PDB的这些默认值。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E5218804-4478-4384-B03F-5A2BDECAEA6E__GUID-3545DFA4-38CB-45CE-BCAE-961EF6C82FF0">先决条件</p>
                        <p>要修改根，当前用户必须在根目录中具有<code class="codeph">ALTER DATABASE</code>权限。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E5218804-4478-4384-B03F-5A2BDECAEA6E__GUID-4B3D03D8-A299-49F3-B7AB-93A800DEC3EE">要修改根目录：</p>
                        <ol>
                           <li>
                              <p>在SQL * Plus中，确保当前容器是根。</p>
                           </li>
                           <li>
                              <p>使用修改根的子句运行<code class="codeph">ALTER DATABASE</code>语句。
                              </p>
                           </li>
                        </ol>
                        <p>以下示例修改根。</p>
                        <p>当前容器是未明确分配表空间的根的用户使用根的默认永久表空间。<code class="codeph">ALTER DATABASE</code>语句中指定的表空间必须存在于根目录中。
                        </p>
                        <p>执行此语句后，根目录中随后创建的表空间的默认类型为bigfile。此设置也是PDB的默认设置。</p>
                        <p><code class="codeph">ALTER DATABASE</code>语句中指定的表空间或表空间组必须存在于根目录中。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-E5218804-4478-4384-B03F-5A2BDECAEA6E__BAJDCIFH">
                        <p class="titleinexample">示例13-14更改根的默认永久表空间</p>
                        <p>此<code class="codeph">ALTER DATABASE</code>语句使用<code class="codeph">DEFAULT TABLESPACE</code>子句将root的默认永久表空间设置为<code class="codeph">root_tbs</code> 。
                        </p><pre class="pre codeblock"><code>ALTER DATABASE DEFAULT TABLESPACE root_tbs;</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-E5218804-4478-4384-B03F-5A2BDECAEA6E__BAJBIDBI">
                        <p class="titleinexample">示例13-15为根提供数据文件联机</p>
                        <p>此<code class="codeph">ALTER DATABASE</code>语句使用<span class="italic">database_file_clause</span>将/u02/oracle/cdb_01.dbf数据文件联机。
                        </p><pre class="pre codeblock"><code>ALTER DATABASE DATAFILE'/u02/oracle/cdb_01.dbf'ONLINE;</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-E5218804-4478-4384-B03F-5A2BDECAEA6E__BAJBCFHC">
                        <p class="titleinexample">示例13-16更改根的默认表空间类型</p>
                        <p>此<code class="codeph">ALTER DATABASE</code>语句使用<code class="codeph">SET DEFAULT TABLESPACE</code>子句将默认表空间类型更改为root的bigfile。
                        </p><pre class="pre codeblock"><code>ALTER DATABASE SET DEFAULT BIGFILE TABLESPACE;</code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-E5218804-4478-4384-B03F-5A2BDECAEA6E__BAJCBFIG">
                        <p class="titleinexample">示例13-17更改根的默认临时表空间</p>
                        <p>此<code class="codeph">ALTER DATABASE</code>语句使用<code class="codeph">DEFAULT TEMPORARY TABLESPACE</code>子句将root的默认临时表空间设置为<code class="codeph">root_temp</code> 。
                        </p><pre class="pre codeblock"><code>ALTER DATABASE DEFAULT TEMPORARY TABLESPACE root_temp;</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-E5218804-4478-4384-B03F-5A2BDECAEA6E__GUID-180511F9-9C80-4E37-AC3D-81EAB8D28963">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="administering-pdbs-with-sql-plus.html#GUID-0200CF6A-8822-4347-9410-4435FDB47745" title="您可以使用ALTER PLUGGABLE DATABASE语句修改PDB。">在数据库级修改PDB</a> ”</span></p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=SQLRF00802" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="administering-a-cdb-with-sql-plus.html#GUID-80265A74-2826-429E-90E6-5EB68EC7D10B" title="您可以使用ALTER DATABASE语句修改整个CDB或根。">连接到CDB根时修改容器</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13645"></a><div class="props_rev_3"><a id="GUID-322C5C03-4C48-40CD-8230-0BA5F16BF96B" name="GUID-322C5C03-4C48-40CD-8230-0BA5F16BF96B"></a><h4 id="MULTI-GUID-322C5C03-4C48-40CD-8230-0BA5F16BF96B" class="sect4"><span class="enumeration_section">13.4.5</span>修改一个或多个PDB的开放模式</h4>
                  <div>
                     <p>您可以使用<code class="codeph">ALTER PLUGGABLE DATABASE</code> SQL语句或SQL * Plus <code class="codeph">STARTUP</code>命令修改PDB的打开模式。
                     </p>
                     <p>本节包含以下主题：</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-817703E2-B3E8-486F-8E3D-CFBB38911813">关于PDB的开放模式</a><br>PDB可以处于各种模式。
                        </li>
                        <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-A94D87DC-6954-454C-9230-D6E43845EC3C">使用ALTER PLUGGABLE DATABASE修改PDB的开放模式</a><br>您可以使用带有<span class="italic">pdb_change_state</span>子句的<code class="codeph">ALTER PLUGGABLE DATABASE</code>语句修改PDB的打开模式。
                        </li>
                        <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-48D692AD-C69B-4FC4-B090-EBDEFF40A6DE">使用SQL * Plus STARTUP命令修改PDB的开放模式</a><br>您可以使用<code class="codeph">STARTUP PLUGGABLE DATABASE</code>命令打开单个PDB。</li>
                        <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-7CE00CF0-9D11-44BF-AF8A-F881D129A3F9">当CDB重新启动时保留或放弃PDB的开放模式</a><br>通过使用带有<span class="italic">pdb_save_or_discard_state</span>子句的<code class="codeph">ALTER PLUGGABLE DATABASE</code> SQL语句，可以在CDB重新启动时保留一个或多个PDB的打开模式。
                        </li>
                        <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-57166C75-59D4-4037-81CD-8CAD753DA64D">在Oracle RAC中启动和停止PDB</a><br>管理可插拔数据库（PDB）涉及管理非CDB所需的一小部分任务。</li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="administering-a-cdb-with-sql-plus.html#GUID-80265A74-2826-429E-90E6-5EB68EC7D10B" title="您可以使用ALTER DATABASE语句修改整个CDB或根。">连接到CDB根时修改容器</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN14152"></a><a id="ADMIN14090"></a><div class="props_rev_3"><a id="GUID-817703E2-B3E8-486F-8E3D-CFBB38911813" name="GUID-817703E2-B3E8-486F-8E3D-CFBB38911813"></a><h5 id="MULTI-GUID-817703E2-B3E8-486F-8E3D-CFBB38911813" class="sect5"><span class="enumeration_section">13.4.5.1</span>关于PDB的开放模式</h5>
                     <div>
                        <p>PDB可以处于各种模式。</p>
                        <p>下表描述了可能的PDB模式。</p>
                        <div class="tblformal" id="GUID-817703E2-B3E8-486F-8E3D-CFBB38911813__BAJEDIHF">
                           <p class="titleintable">表13-4 PDB模式</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="PDB模式" width="100%" border="1" summary="This table describes PDB modes." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d54878e7289">模式</th>
                                    <th align="left" valign="bottom" width="75%" id="d54878e7292">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d54878e7297" headers="d54878e7289 ">
                                       <p><code class="codeph">打开读写</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d54878e7297 d54878e7292 ">
                                       <p>处于开放读/写模式的PDB允许查询和用户事务继续，并允许用户生成重做日志。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d54878e7305" headers="d54878e7289 ">
                                       <p><code class="codeph">打开阅读</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d54878e7305 d54878e7292 ">
                                       <p>处于开放只读模式的PDB允许查询但不允许用户更改。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d54878e7313" headers="d54878e7289 ">
                                       <p><code class="codeph">开放移民</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d54878e7313 d54878e7292 ">
                                       <p>当PDB处于打开迁移模式时，您可以在PDB上运行数据库升级脚本。</p>
                                       <p>运行<code class="codeph">ALTER DATABASE OPEN UPGRADE</code>后，PDB处于此模式。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d54878e7326" headers="d54878e7289 ">
                                       <p><code class="codeph">MOUNTED</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d54878e7326 d54878e7292 ">
                                       <p>当PDB处于安装模式时，它在安装模式下的行为类似于非CDB。它不允许更改任何对象，只有数据库管理员才能访问它。它无法读取或写入数据文件。从内存缓存中删除有关PDB的信息。PDB的冷备份是可能的。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>可以将开放式读/写，只读和迁移模式限制为PDB中具有<code class="codeph">RESTRICTED SESSION</code>特权的用户。</p>
                        <p>当PDB处于装入或只读模式时，数据库管理员可以在CDB中创建，修改或删除普通用户和角色。当CDB的打开模式更改为以读/写模式打开时，CDB将这些更改应用于PDB。在应用更改之前，PDB中的常见用户和角色的描述可能与CDB其余部分中的描述不同。</p>
                        <p>打开PDB时，Oracle数据库会检查PDB与CDB的兼容性。每个兼容性违规都是警告或错误。如果兼容性违规是警告，则警告将记录在警报日志中，但PDB会正常打开而不显示警告消息。如果兼容性违规是错误，则在打开PDB时会显示一条消息，指出PDB已更改时出现错误，并且错误会记录在警报日志中。您必须更正导致每个错误的条件。当出现错误时，PDB会打开，但对PDB的访问仅限于具有<code class="codeph">RESTRICTED SESSION</code>权限的用户，以便可以解决兼容性违规问题。您可以通过查询<code class="codeph">PDB_PLUG_IN_VIOLATIONS</code>视图来查看违规的描述。
                        </p>
                        <p>本节包含以下主题：</p>
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-1F9914F2-E1D6-4C6F-B74B-30B4CEEC2EB8">关于使用ALTER PLUGGABLE DATABASE修改PDB的开放模式</a><br>当前容器是根时，带有<span class="italic">pdb_change_state</span>子句的<code class="codeph">ALTER PLUGGABLE DATABASE</code>语句会修改指定PDB的打开模式。
                           </li>
                           <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-7C86BECF-8F49-4C40-A3AE-61D5E2A7A292">关于使用SQL * Plus STARTUP命令修改PDB的开放模式</a><br>当前容器是根时， <code class="codeph">STARTUP PLUGGABLE DATABASE</code>命令可以打开单个PDB。</li>
                        </ul>
                        <div class="infoboxnotealso" id="GUID-817703E2-B3E8-486F-8E3D-CFBB38911813__GUID-EF0583C3-F5A8-45E2-9CB0-743203669DA3">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-322C5C03-4C48-40CD-8230-0BA5F16BF96B" title="您可以使用ALTER PLUGGABLE DATABASE SQL语句或SQL * Plus STARTUP命令修改PDB的打开模式。">修改一个或多个PDB</a></span>的开放模式<span class="q">”，</span>以获取有关在当前容器为根时修改一个或多个PDB的打开模式的信息</p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="administering-pdbs-with-sql-plus.html#GUID-E73BCAED-FF57-474A-A8C5-207D3F465413" title="要修改单个PDB的属性，请使用ALTER PLUGGABLE DATABASE语句。">使用ALTER PLUGGABLE DATABASE语句修改PDB</a> ”，</span>以获取有关在当前容器是PDB时修改PDB的打开模式的信息</p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-B2AC2F0B-F55E-40CD-AF37-A09E31BAA732" title="您可以按照关闭非CDB实例的方式关闭CDB实例。">关闭CDB实例</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="administering-pdbs-with-sql-plus.html#GUID-0200CF6A-8822-4347-9410-4435FDB47745" title="您可以使用ALTER PLUGGABLE DATABASE语句修改PDB。">修改数据库级别的PDB</a> ”</span>以获取有关修改PDB的其他属性的信息</p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="administering-a-cdb-with-sql-plus.html#GUID-322C5C03-4C48-40CD-8230-0BA5F16BF96B" title="您可以使用ALTER PLUGGABLE DATABASE SQL语句或SQL * Plus STARTUP命令修改PDB的打开模式。">修改一个或多个PDB的打开模式</a></p>
                           </div>
                        </div>
                     </div>
                     
                     <div class="sect5"><a id="GUID-1F9914F2-E1D6-4C6F-B74B-30B4CEEC2EB8" name="GUID-1F9914F2-E1D6-4C6F-B74B-30B4CEEC2EB8"></a><h6 id="MULTI-GUID-1F9914F2-E1D6-4C6F-B74B-30B4CEEC2EB8" class="sect6"><span class="enumeration_section">13.4.5.1.1</span>关于使用ALTER PLUGGABLE DATABASE修改PDB的开放模式</h6>
                        <div>
                           <p>当前容器是根时，带有<span class="italic">pdb_change_state</span>子句的<code class="codeph">ALTER PLUGGABLE DATABASE</code>语句会修改指定PDB的打开模式。
                           </p>
                           <div class="section">
                              <p>下表描述了修改PDB模式的<code class="codeph">ALTER</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code>语句的子句。</p>
                              <div class="tblformal" id="GUID-1F9914F2-E1D6-4C6F-B74B-30B4CEEC2EB8__BAJEICEG">
                                 <p class="titleintable">表13-5修改PDB模式的ALTER PLUGGABLE DATABASE子句</p>
                                 <table cellpadding="4" cellspacing="0" class="Formal" title="修改PDB模式的ALTER PLUGGABLE DATABASE子句" width="100%" border="1" summary="This table describes the clauses of the ALTER PLUGGABLE DATABASE statement that modify the mode of a PDB." frame="hsides" rules="rows">
                                    <thead>
                                       <tr align="left" valign="top">
                                          <th align="left" valign="bottom" width="30%" id="d54878e7556">条款</th>
                                          <th align="left" valign="bottom" width="70%" id="d54878e7559">描述</th>
                                       </tr>
                                    </thead>
                                    <tbody>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="30%" id="d54878e7564" headers="d54878e7556 ">
                                             <p><code class="codeph">OPEN READ WRITE [RESTRICTED] [FORCE]</code></p>
                                          </td>
                                          <td align="left" valign="top" width="70%" headers="d54878e7564 d54878e7559 ">
                                             <p>以读/写模式打开PDB。</p>
                                             <p>指定<code class="codeph">RESTRICTED</code> ，只有PDB中具有<code class="codeph">RESTRICTED SESSION</code>权限的用户才能访问PDB。连接到PDB且没有<code class="codeph">RESTRICTED SESSION</code>特权的所有会话都将终止，并且它们的事务将被回滚。
                                             </p>
                                             <p>指定<code class="codeph">FORCE</code> ，该语句将打开当前关闭的PDB，并更改处于打开只读模式的PDB的打开模式。
                                             </p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="30%" id="d54878e7588" headers="d54878e7556 ">
                                             <p><code class="codeph">仅限打开[限制] [强制]</code></p>
                                          </td>
                                          <td align="left" valign="top" width="70%" headers="d54878e7588 d54878e7559 ">
                                             <p>以只读模式打开PDB。</p>
                                             <p>指定<code class="codeph">RESTRICTED</code> ，只有PDB中具有<code class="codeph">RESTRICTED SESSION</code>权限的用户才能访问PDB。连接到PDB且没有<code class="codeph">RESTRICTED SESSION</code>特权的所有会话都将终止。
                                             </p>
                                             <p>指定<code class="codeph">FORCE</code> ，该语句将打开当前关闭的PDB，并更改处于打开读/写模式的PDB的打开模式。
                                             </p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="30%" id="d54878e7612" headers="d54878e7556 ">
                                             <p> <code class="codeph">开放升级[限制]</code> 
                                             </p>
                                          </td>
                                          <td align="left" valign="top" width="70%" headers="d54878e7612 d54878e7559 ">
                                             <p>以迁移模式打开PDB。</p>
                                             <p>指定<code class="codeph">RESTRICTED</code> ，只有PDB中具有<code class="codeph">RESTRICTED SESSION</code>权限的用户才能访问PDB。</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="30%" id="d54878e7630" headers="d54878e7556 ">
                                             <p><code class="codeph">关闭[IMMEDIATE | ABORT]</code></p>
                                          </td>
                                          <td align="left" valign="top" width="70%" headers="d54878e7630 d54878e7559 ">
                                             <p>将PDB置于安装模式。</p>
                                             <p><code class="codeph">CLOSE</code>语句是SQL * Plus <code class="codeph">SHUTDOWN</code>命令的PDB等效项。如果未指定<code class="codeph">IMMEDIATE</code>或<code class="codeph">ABORT</code> ，则PDB将以正常模式关闭。
                                             </p>
                                             <p>指定<code class="codeph">IMMEDIATE</code> ，此语句是具有立即模式的SQL * Plus <code class="codeph">SHUTDOWN</code>命令的PDB等效项。
                                             </p>
                                             <p>指定<code class="codeph">ABORT</code> ，强制关闭PDB。对于单实例CDB，指定<code class="codeph">SHUTDOWN ABORT</code>时需要PDB介质恢复。对于Oracle Real Application Clusters（Oracle RAC）CDB，如果<code class="codeph">SHUTDOWN ABORT</code>命令关闭最后一个打开的实例，则需要PDB介质恢复。
                                             </p>
                                          </td>
                                       </tr>
                                    </tbody>
                                 </table>
                              </div>
                              <!-- class="inftblhruleinformal" -->
                              <p>发出<code class="codeph">ALTER PLUGGABLE DATABASE OPEN</code>语句时，除非打开的PDB属于用作物理备用数据库的CDB，否则<code class="codeph">READ WRITE</code>是默认值，在这种情况下， <code class="codeph">READ ONLY</code>是默认值。
                              </p>
                              <p>您可以通过以下方式指定要修改的PDB：</p>
                           </div>
                           <!-- class="section" -->
                           <div class="section">
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>列出一个或多个PDB。</p>
                                 </li>
                                 <li>
                                    <p>指定<code class="codeph">ALL</code>以修改所有PDB。
                                    </p>
                                 </li>
                                 <li>
                                    <p>指定<code class="codeph">ALL EXCEPT</code>以修改所有PDB，但列出的PDB除外。
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <!-- class="section" -->
                           <div class="section">
                              <p class="subhead3" id="GUID-1F9914F2-E1D6-4C6F-B74B-30B4CEEC2EB8__GUID-ADB6800D-0C45-4FE4-91CC-251ECE91E146"><span class="italic">服务</span>条款</p>
                              <p>您可以使用<span class="italic">services</span>子句指定在以下列方式打开单个PDB时启动的服务：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>按以下格式列出<span class="italic">services</span>子句中的一个或多个服务：</p><pre class="pre codeblock"><code>SERVICES =（' <span class="italic">service_name</span> '[，' <span class="italic">service_name</span> '] ...）</code></pre></li>
                                 <li>
                                    <p>在<span class="italic">services</span>子句中指定<code class="codeph">ALL</code>以启动所有PDB的服务，如以下示例所示：</p><pre class="pre codeblock"><code>服务=全部</code></pre></li>
                                 <li>
                                    <p>在<span class="italic">services</span>子句中指定<code class="codeph">ALL EXCEPT</code>以下列形式启动除列出的服务之外的所有PDB服务：</p><pre class="pre codeblock"><code>SERVICES = ALL EXCEPT（' <span class="italic">service_name</span> '[，' <span class="italic">service_name</span> '] ...）</code></pre></li>
                                 <li>
                                    <p>在<span class="italic">services</span>子句中指定<code class="codeph">NONE</code>以仅启动PDB的默认服务，而不启动其他PDB的服务，如以下示例所示：</p><pre class="pre codeblock"><code>服务=无</code></pre><p><code class="codeph">NONE</code>是<span class="italic">services</span>子句的默认设置。无论<span class="italic">services</span>子句的设置如何，始终都会启动PDB的默认服务。
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <!-- class="section" -->
                           <div class="section">
                              <p class="subhead3" id="GUID-1F9914F2-E1D6-4C6F-B74B-30B4CEEC2EB8__GUID-3B07F8FA-1595-4315-999C-A63F4B34BA7D"><span class="italic">实例</span>条款</p>
                              <p>对于Oracle Real Application Clusters（Oracle RAC）CDB，您可以使用<span class="italic">instances</span>子句以下列方式指定修改PDB的实例：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>按以下格式列出<span class="italic">instances</span>子句中的一个或多个实例：</p><pre class="pre codeblock"><code>INSTANCES =（' <span class="italic">instance_name</span> '[，' <span class="italic">instance_name</span> '] ...）</code></pre></li>
                                 <li>
                                    <p>在<span class="italic">instances</span>子句中指定<code class="codeph">ALL</code>以修改所有正在运行的实例中的PDB，如以下示例所示：</p><pre class="pre codeblock"><code>INSTANCES = ALL</code></pre></li>
                                 <li>
                                    <p>在<span class="italic">instances</span>子句中指定<code class="codeph">ALL EXCEPT</code>以修改所有实例中的PDB（列出的实例除外），格式如下：</p><pre class="pre codeblock"><code>INSTANCES = ALL EXCEPT（' <span class="italic">instance_name</span> '[，' <span class="italic">instance_name</span> '] ...）</code></pre></li>
                              </ul>
                              <p>此外，在Oracle RAC CDB中关闭PDB时，可以使用<span class="italic">relocate</span>子句，其中包括以下选项：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>指定<code class="codeph">NORELOCATE</code> （默认值）以关闭当前实例中的PDB。
                                    </p>
                                 </li>
                                 <li>
                                    <p>指定<code class="codeph">RELOCATE</code> <code class="codeph">TO</code>并指定实例名称以在指定实例中重新打开PDB。
                                    </p>
                                 </li>
                                 <li>
                                    <p>指定<code class="codeph">RELOCATE</code>以在Oracle数据库选择的其他实例上重新打开PDB。
                                    </p>
                                 </li>
                              </ul>
                              <div class="infoboxnote" id="GUID-1F9914F2-E1D6-4C6F-B74B-30B4CEEC2EB8__GUID-51E68797-BED6-4F6D-A32E-46647EAB1E9A">
                                 <p class="notep1">注意：</p>如果在同一<code class="codeph">ALTER PLUGGABLE DATABASE</code>语句中指定了<span class="italic">services</span>子句和<span class="italic">instances</span>子句，则会在指定的实例上启动指定的服务。
                              </div>
                           </div>
                           <!-- class="section" -->
                           <div class="section">
                              <p class="subhead3" id="GUID-1F9914F2-E1D6-4C6F-B74B-30B4CEEC2EB8__GUID-14962731-730E-44CE-A085-25F3DE420094"><span class="italic">重新安置</span>条款</p>
                              <p>在Oracle RAC CDB中关闭PDB时，可以使用<span class="italic">relocate</span>子句，其中包括以下选项：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>指定<code class="codeph">NORELOCATE</code> （默认值）以关闭当前实例中的PDB。
                                    </p>
                                 </li>
                                 <li>
                                    <p>指定<code class="codeph">RELOCATE</code> <code class="codeph">TO</code>并指定实例名称以在指定实例中重新打开PDB。
                                    </p>
                                 </li>
                                 <li>
                                    <p>指定<code class="codeph">RELOCATE</code>以在Oracle数据库选择的其他实例上重新打开PDB。
                                    </p>
                                 </li>
                              </ul>
                              <p>要使用<code class="codeph">ALTER</code> <code class="codeph">PLUGGABLE</code> <code class="codeph">DATABASE</code>语句修改PDB的打开模式，必须满足以下先决条件：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>当前用户必须具有<code class="codeph">SYSDBA</code> ， <code class="codeph">SYSOPER</code> ， <code class="codeph">SYSBACKUP</code>或<code class="codeph">SYSDG</code>管理权限，并且必须在PDB中共同授予或本地授予该权限。用户必须在连接时分别使用<code class="codeph">AS SYSDBA</code> ， <code class="codeph">AS SYSOPER</code> ， <code class="codeph">AS SYSBACKUP</code>或<code class="codeph">AS SYSDG</code>来执行权限。
                                    </p>
                                 </li>
                                 <li>
                                    <p>启用<code class="codeph">RESTRICTED SESSION</code> ，必须在打开PDB时指定<code class="codeph">RESTRICTED</code> 。
                                    </p>
                                 </li>
                                 <li>
                                    <p>在Oracle RAC CDB中，如果PDB在一个或多个Oracle RAC实例中打开，则可以在其他实例中打开它，但必须以与其已打开的实例相同的模式打开它。PDB可以在某些情况下关闭，在其他情况下打开。</p>
                                 </li>
                              </ul>
                           </div>
                           <!-- class="section" -->
                           <div class="section">
                              <p class="subhead3" id="GUID-1F9914F2-E1D6-4C6F-B74B-30B4CEEC2EB8__GUID-89247D7E-3682-4F7D-8B1D-937773FFF3D1">ALTER PLUGGABLE DATABASE语句的要求摘要</p>
                              <p>要使用<code class="codeph">ALTER PLUGGABLE DATABASE</code>语句修改PDB的打开模式，必须满足以下先决条件：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>当前用户必须具有<code class="codeph">SYSDBA</code> ， <code class="codeph">SYSOPER</code> ， <code class="codeph">SYSBACKUP</code>或<code class="codeph">SYSDG</code>管理权限，并且必须在PDB中共同授予或本地授予该权限。用户必须在连接时分别使用<code class="codeph">AS SYSDBA</code> ， <code class="codeph">AS SYSOPER</code> ， <code class="codeph">AS SYSBACKUP</code>或<code class="codeph">AS SYSDG</code>来执行权限。
                                    </p>
                                 </li>
                                 <li>
                                    <p>启用<code class="codeph">RESTRICTED SESSION</code> ，必须在打开PDB时指定<code class="codeph">RESTRICTED</code> 。
                                    </p>
                                 </li>
                                 <li>
                                    <p>在Oracle RAC CDB中，如果PDB在一个或多个Oracle RAC实例中打开，则可以在其他实例中打开它，但必须以与其已打开的实例相同的模式打开它。PDB可以在某些情况下关闭，在其他情况下打开。</p>
                                 </li>
                              </ul>
                              <p>要使用<code class="codeph">ALTER PLUGGABLE DATABASE</code>语句将PDB置于目标模式，您必须满足下表中描述的要求。
                              </p>
                              <div class="tblformalwide" id="GUID-1F9914F2-E1D6-4C6F-B74B-30B4CEEC2EB8__BAJFBFDH">
                                 <p class="titleintable">表13-6使用ALTER PLUGGABLE DATABASE修改PDB的开放模式</p>
                                 <table cellpadding="4" cellspacing="0" class="FormalWide" title="使用ALTER PLUGGABLE DATABASE修改PDB的开放模式" width="100%" border="1" summary="This table describes the requirements for placing PDBs in a particular mode with the ALTER PLUGGABLE DATABASE statement." frame="hsides" rules="rows">
                                    <thead>
                                       <tr align="left" valign="top">
                                          <th align="left" valign="bottom" width="13%" id="d54878e8019">PDB的目标模式</th>
                                          <th align="left" valign="bottom" width="13%" id="d54878e8022">包含所有关键字</th>
                                          <th align="left" valign="bottom" width="14%" id="d54878e8027">包括FORCE关键字</th>
                                          <th align="left" valign="bottom" width="31%" id="d54878e8032">Root的必需模式</th>
                                          <th align="left" valign="bottom" width="29%" id="d54878e8035">每个PDB被修改的必需模式</th>
                                       </tr>
                                    </thead>
                                    <tbody>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="13%" id="d54878e8040" headers="d54878e8019 ">
                                             <p>读/写</p>
                                          </td>
                                          <td align="left" valign="top" width="13%" headers="d54878e8040 d54878e8022 ">
                                             <p>是</p>
                                          </td>
                                          <td align="left" valign="top" width="14%" headers="d54878e8040 d54878e8027 ">
                                             <p>是</p>
                                          </td>
                                          <td align="left" valign="top" width="31%" headers="d54878e8040 d54878e8032 ">
                                             <p>读/写</p>
                                          </td>
                                          <td align="left" valign="top" width="29%" headers="d54878e8040 d54878e8035 ">
                                             <p>已安装，只读或读/写</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="13%" id="d54878e8056" headers="d54878e8019 ">
                                             <p>读/写</p>
                                          </td>
                                          <td align="left" valign="top" width="13%" headers="d54878e8056 d54878e8022 ">
                                             <p>是</p>
                                          </td>
                                          <td align="left" valign="top" width="14%" headers="d54878e8056 d54878e8027 ">
                                             <p>没有</p>
                                          </td>
                                          <td align="left" valign="top" width="31%" headers="d54878e8056 d54878e8032 ">
                                             <p>读/写</p>
                                          </td>
                                          <td align="left" valign="top" width="29%" headers="d54878e8056 d54878e8035 ">
                                             <p>已安装或已读/写</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="13%" id="d54878e8072" headers="d54878e8019 ">
                                             <p>读/写</p>
                                          </td>
                                          <td align="left" valign="top" width="13%" headers="d54878e8072 d54878e8022 ">
                                             <p>没有</p>
                                          </td>
                                          <td align="left" valign="top" width="14%" headers="d54878e8072 d54878e8027 ">
                                             <p>是</p>
                                          </td>
                                          <td align="left" valign="top" width="31%" headers="d54878e8072 d54878e8032 ">
                                             <p>读/写</p>
                                          </td>
                                          <td align="left" valign="top" width="29%" headers="d54878e8072 d54878e8035 ">
                                             <p>已安装，只读或读/写</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="13%" id="d54878e8088" headers="d54878e8019 ">
                                             <p>读/写</p>
                                          </td>
                                          <td align="left" valign="top" width="13%" headers="d54878e8088 d54878e8022 ">
                                             <p>没有</p>
                                          </td>
                                          <td align="left" valign="top" width="14%" headers="d54878e8088 d54878e8027 ">
                                             <p>没有</p>
                                          </td>
                                          <td align="left" valign="top" width="31%" headers="d54878e8088 d54878e8032 ">
                                             <p>读/写</p>
                                          </td>
                                          <td align="left" valign="top" width="29%" headers="d54878e8088 d54878e8035 ">
                                             <p>安装</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="13%" id="d54878e8104" headers="d54878e8019 ">
                                             <p>只读</p>
                                          </td>
                                          <td align="left" valign="top" width="13%" headers="d54878e8104 d54878e8022 ">
                                             <p>是</p>
                                          </td>
                                          <td align="left" valign="top" width="14%" headers="d54878e8104 d54878e8027 ">
                                             <p>是</p>
                                          </td>
                                          <td align="left" valign="top" width="31%" headers="d54878e8104 d54878e8032 ">
                                             <p>只读或读/写</p>
                                          </td>
                                          <td align="left" valign="top" width="29%" headers="d54878e8104 d54878e8035 ">
                                             <p>已安装，只读或读/写</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="13%" id="d54878e8120" headers="d54878e8019 ">
                                             <p>只读</p>
                                          </td>
                                          <td align="left" valign="top" width="13%" headers="d54878e8120 d54878e8022 ">
                                             <p>是</p>
                                          </td>
                                          <td align="left" valign="top" width="14%" headers="d54878e8120 d54878e8027 ">
                                             <p>没有</p>
                                          </td>
                                          <td align="left" valign="top" width="31%" headers="d54878e8120 d54878e8032 ">
                                             <p>只读或读/写</p>
                                          </td>
                                          <td align="left" valign="top" width="29%" headers="d54878e8120 d54878e8035 ">
                                             <p>已安装或只读</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="13%" id="d54878e8136" headers="d54878e8019 ">
                                             <p>只读</p>
                                          </td>
                                          <td align="left" valign="top" width="13%" headers="d54878e8136 d54878e8022 ">
                                             <p>没有</p>
                                          </td>
                                          <td align="left" valign="top" width="14%" headers="d54878e8136 d54878e8027 ">
                                             <p>是</p>
                                          </td>
                                          <td align="left" valign="top" width="31%" headers="d54878e8136 d54878e8032 ">
                                             <p>只读或读/写</p>
                                          </td>
                                          <td align="left" valign="top" width="29%" headers="d54878e8136 d54878e8035 ">
                                             <p>已安装，只读或读/写</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="13%" id="d54878e8152" headers="d54878e8019 ">
                                             <p>只读</p>
                                          </td>
                                          <td align="left" valign="top" width="13%" headers="d54878e8152 d54878e8022 ">
                                             <p>没有</p>
                                          </td>
                                          <td align="left" valign="top" width="14%" headers="d54878e8152 d54878e8027 ">
                                             <p>没有</p>
                                          </td>
                                          <td align="left" valign="top" width="31%" headers="d54878e8152 d54878e8032 ">
                                             <p>只读或读/写</p>
                                          </td>
                                          <td align="left" valign="top" width="29%" headers="d54878e8152 d54878e8035 ">
                                             <p>安装</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="13%" id="d54878e8168" headers="d54878e8019 ">
                                             <p>迁移</p>
                                          </td>
                                          <td align="left" valign="top" width="13%" headers="d54878e8168 d54878e8022 ">
                                             <p>是</p>
                                          </td>
                                          <td align="left" valign="top" width="14%" headers="d54878e8168 d54878e8027 ">
                                             <p>不适用</p>
                                          </td>
                                          <td align="left" valign="top" width="31%" headers="d54878e8168 d54878e8032 ">
                                             <p>只读或读/写</p>
                                          </td>
                                          <td align="left" valign="top" width="29%" headers="d54878e8168 d54878e8035 ">
                                             <p>安装</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="13%" id="d54878e8184" headers="d54878e8019 ">
                                             <p>迁移</p>
                                          </td>
                                          <td align="left" valign="top" width="13%" headers="d54878e8184 d54878e8022 ">
                                             <p>没有</p>
                                          </td>
                                          <td align="left" valign="top" width="14%" headers="d54878e8184 d54878e8027 ">
                                             <p>不适用</p>
                                          </td>
                                          <td align="left" valign="top" width="31%" headers="d54878e8184 d54878e8032 ">
                                             <p>只读或读/写</p>
                                          </td>
                                          <td align="left" valign="top" width="29%" headers="d54878e8184 d54878e8035 ">
                                             <p>安装</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="13%" id="d54878e8200" headers="d54878e8019 ">
                                             <p>安装</p>
                                          </td>
                                          <td align="left" valign="top" width="13%" headers="d54878e8200 d54878e8022 ">
                                             <p>是</p>
                                          </td>
                                          <td align="left" valign="top" width="14%" headers="d54878e8200 d54878e8027 ">
                                             <p>不适用</p>
                                          </td>
                                          <td align="left" valign="top" width="31%" headers="d54878e8200 d54878e8032 ">
                                             <p>只读或读/写</p>
                                          </td>
                                          <td align="left" valign="top" width="29%" headers="d54878e8200 d54878e8035 ">
                                             <p>已安装，只读，迁移或读/写</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="13%" id="d54878e8217" headers="d54878e8019 ">
                                             <p>安装</p>
                                          </td>
                                          <td align="left" valign="top" width="13%" headers="d54878e8217 d54878e8022 ">
                                             <p>没有</p>
                                          </td>
                                          <td align="left" valign="top" width="14%" headers="d54878e8217 d54878e8027 ">
                                             <p>不适用</p>
                                          </td>
                                          <td align="left" valign="top" width="31%" headers="d54878e8217 d54878e8032 ">
                                             <p>只读或读/写</p>
                                          </td>
                                          <td align="left" valign="top" width="29%" headers="d54878e8217 d54878e8035 ">
                                             <p>只读，迁移或读/写</p>
                                          </td>
                                       </tr>
                                    </tbody>
                                 </table>
                              </div>
                              <!-- class="inftblhruleinformal" -->
                              <div class="infoboxnote" id="GUID-1F9914F2-E1D6-4C6F-B74B-30B4CEEC2EB8__GUID-16EF842F-DD50-47D9-86D2-0A1BFF4D8783">
                                 <p class="notep1">注意：</p>
                                 <p>当前容器是PDB时，您还可以修改PDB的打开模式。</p>
                              </div>
                           </div>
                           <!-- class="section" -->
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-1F9914F2-E1D6-4C6F-B74B-30B4CEEC2EB8__GUID-60F9811D-3DEF-4DFA-83CF-9C2E2DE6D436">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><span class="q">“ <a href="administering-pdbs-with-sql-plus.html#GUID-E73BCAED-FF57-474A-A8C5-207D3F465413" title="要修改单个PDB的属性，请使用ALTER PLUGGABLE DATABASE语句。">使用ALTER PLUGGABLE DATABASE语句修改PDB</a> ”</span></p>
                                 </li>
                                 <li>
                                    <p><span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-A94D87DC-6954-454C-9230-D6E43845EC3C" title="您可以使用带有pdb_change_state子句的ALTER PLUGGABLE DATABASE语句修改PDB的打开模式。">使用ALTER PLUGGABLE DATABASE修改PDB的开放模式</a> ”</span></p>
                                 </li>
                                 <li>
                                    <p>有关关闭数据库的详细信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=ADMIN-GUID-7E89742D-C723-424D-9899-77FECDF76481" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a></p>
                                 </li>
                              </ul>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="administering-a-cdb-with-sql-plus.html#GUID-817703E2-B3E8-486F-8E3D-CFBB38911813" title="PDB可以处于各种模式。">关于PDB的开放模式</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                     <div class="sect5"><a id="GUID-7C86BECF-8F49-4C40-A3AE-61D5E2A7A292" name="GUID-7C86BECF-8F49-4C40-A3AE-61D5E2A7A292"></a><h6 id="MULTI-GUID-7C86BECF-8F49-4C40-A3AE-61D5E2A7A292" class="sect6"><span class="enumeration_section">13.4.5.1.2</span>关于使用SQL * Plus STARTUP命令修改PDB的开放模式</h6>
                        <div>
                           <p>当前容器是根时， <code class="codeph">STARTUP PLUGGABLE DATABASE</code>命令可以打开单个PDB。</p>
                           <p>使用<code class="codeph">STARTUP PLUGGABLE DATABASE</code>命令的以下选项打开PDB：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">力</code></p>
                                 <p>在以读/写模式重新打开PDB之前关闭它。指定此选项时，不允许其他选项。</p>
                              </li>
                              <li>
                                 <p><code class="codeph">限制</code></p>
                                 <p>仅允许PDB中具有<code class="codeph">RESTRICTED SESSION</code>系统特权的用户访问PDB。</p>
                                 <p>如果既未指定<code class="codeph">OPEN READ WRITE</code>也未指定<code class="codeph">OPEN READ ONLY</code> ，则当PDB所属的CDB是物理备用数据库时，PDB以只读模式打开。否则，PDB以读/写模式打开。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">OPEN</code> <span class="italic">open_pdb_options</span></p>
                                 <p>以读/写模式或只读模式打开PDB。您可以指定<code class="codeph">OPEN READ WRITE</code>或<code class="codeph">OPEN READ ONLY</code> 。如果在没有任何其他选项的情况下指定<code class="codeph">OPEN</code> ，则<code class="codeph">READ WRITE</code>是默认值。
                                 </p>
                              </li>
                           </ul>
                           <p>必须满足以下先决条件：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>当前用户必须具有<code class="codeph">SYSDBA</code> ， <code class="codeph">SYSOPER</code> ， <code class="codeph">SYSBACKUP</code>或<code class="codeph">SYSDG</code>管理权限，并且必须在PDB中共同授予或本地授予该权限。用户必须在连接时分别使用<code class="codeph">AS SYSDBA</code> ， <code class="codeph">AS SYSOPER</code> ， <code class="codeph">AS SYSBACKUP</code>或<code class="codeph">AS SYSDG</code>来执行权限。
                                 </p>
                              </li>
                              <li>
                                 <p>启用<code class="codeph">RESTRICTED SESSION</code> ，必须在打开PDB时指定<code class="codeph">RESTRICT</code> 。
                                 </p>
                              </li>
                           </ul>
                           <p>此外，要使用<code class="codeph">STARTUP PLUGGABLE DATABASE</code>命令将PDB置于目标模式，您必须满足下表中描述的要求。
                           </p>
                           <div class="tblformalwide" id="GUID-7C86BECF-8F49-4C40-A3AE-61D5E2A7A292__BAJHAJCH">
                              <p class="titleintable">表13-7使用STARTUP PLUGGABLE DATABASE修改PDB的开放模式</p>
                              <table cellpadding="4" cellspacing="0" class="FormalWide" title="使用STARTUP PLUGGABLE DATABASE修改PDB的开放模式" width="100%" border="1" summary="This table describes the requirements for placing PDBs in a particular mode with the STARTUP command." frame="hsides" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="25%" id="d54878e8463">PDB的目标模式</th>
                                       <th align="left" valign="bottom" width="25%" id="d54878e8466">包括FORCE选项</th>
                                       <th align="left" valign="bottom" width="25%" id="d54878e8469">Root的必需模式</th>
                                       <th align="left" valign="bottom" width="25%" id="d54878e8472">PDB被修改的必要模式</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="25%" id="d54878e8477" headers="d54878e8463 ">
                                          <p>读/写</p>
                                       </td>
                                       <td align="left" valign="top" width="25%" headers="d54878e8477 d54878e8466 ">
                                          <p>是</p>
                                       </td>
                                       <td align="left" valign="top" width="25%" headers="d54878e8477 d54878e8469 ">
                                          <p>读/写</p>
                                       </td>
                                       <td align="left" valign="top" width="25%" headers="d54878e8477 d54878e8472 ">
                                          <p>已安装，只读或读/写</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="25%" id="d54878e8490" headers="d54878e8463 ">
                                          <p>读/写</p>
                                       </td>
                                       <td align="left" valign="top" width="25%" headers="d54878e8490 d54878e8466 ">
                                          <p>没有</p>
                                       </td>
                                       <td align="left" valign="top" width="25%" headers="d54878e8490 d54878e8469 ">
                                          <p>读/写</p>
                                       </td>
                                       <td align="left" valign="top" width="25%" headers="d54878e8490 d54878e8472 ">
                                          <p>安装</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="25%" id="d54878e8503" headers="d54878e8463 ">
                                          <p>只读</p>
                                       </td>
                                       <td align="left" valign="top" width="25%" headers="d54878e8503 d54878e8466 ">
                                          <p>没有</p>
                                       </td>
                                       <td align="left" valign="top" width="25%" headers="d54878e8503 d54878e8469 ">
                                          <p>只读或读/写</p>
                                       </td>
                                       <td align="left" valign="top" width="25%" headers="d54878e8503 d54878e8472 ">
                                          <p>安装</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <div class="infoboxnote" id="GUID-7C86BECF-8F49-4C40-A3AE-61D5E2A7A292__GUID-77E3B8BE-8162-46FF-AF0B-3D0C44B67DF9">
                              <p class="notep1">注意：</p>
                              <p>当前容器是PDB时，您还可以使用<code class="codeph">STARTUP</code>命令修改PDB的打开模式。</p>
                           </div>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-7C86BECF-8F49-4C40-A3AE-61D5E2A7A292__GUID-4A472690-4DC9-4E14-B871-6FABA945DDFC">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><span class="q">“ <a href="administering-pdbs-with-sql-plus.html#GUID-CD8BE686-3C89-445F-8347-263758AE448E" title="当前容器是PDB时，SQL * Plus STARTUP命令打开PDB。">使用STARTUP命令启动PDB</a> ”</span></p>
                                 </li>
                                 <li>
                                    <p><span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-48D692AD-C69B-4FC4-B090-EBDEFF40A6DE" title="您可以使用STARTUP PLUGGABLE DATABASE命令打开单个PDB。">使用SQL * Plus STARTUP命令修改PDB的开放模式</a> ”</span></p>
                                 </li>
                              </ul>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="administering-a-cdb-with-sql-plus.html#GUID-817703E2-B3E8-486F-8E3D-CFBB38911813" title="PDB可以处于各种模式。">关于PDB的开放模式</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div><a id="ADMIN14153"></a><a id="ADMIN14154"></a><a id="ADMIN13647"></a><a id="ADMIN13648"></a><a id="ADMIN13649"></a><a id="ADMIN13632"></a><div class="props_rev_3"><a id="GUID-A94D87DC-6954-454C-9230-D6E43845EC3C" name="GUID-A94D87DC-6954-454C-9230-D6E43845EC3C"></a><h5 id="MULTI-GUID-A94D87DC-6954-454C-9230-D6E43845EC3C" class="sect5"><span class="enumeration_section">13.4.5.2</span>使用ALTER PLUGGABLE DATABASE修改PDB的开放模式</h5>
                     <div>
                        <p>您可以使用带有<span class="italic">pdb_change_state</span>子句的<code class="codeph">ALTER PLUGGABLE DATABASE</code>语句修改PDB的打开模式。
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-A94D87DC-6954-454C-9230-D6E43845EC3C__GUID-21792534-BDAD-471C-B7FC-87DDCDA0F302">要修改打开模式：</p>
                           <ol>
                              <li>
                                 <p>在SQL * Plus中，确保当前容器是根。</p>
                                 <p>请参阅<span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" title="您可以使用SQL * Plus访问CDB中的根或PDB。">关于CDB中的容器访问</a> ”</span> 。
                                 </p>
                              </li>
                              <li>
                                 <p>使用<span class="italic">pdb_change_state</span>子句运行<code class="codeph">ALTER PLUGGABLE DATABASE</code>语句。
                                 </p>
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-A94D87DC-6954-454C-9230-D6E43845EC3C__BAJEHAJF">
                           <p class="titleinexample">例13-18更改列出的PDB的开放模式</p>
                           <p>此语句将<code class="codeph">salespdb</code>和<code class="codeph">hrpdb</code>的打开模式更改为以读/写模式打开。
                           </p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE salespdb，hrpdb OPEN READ WRITE;</code></pre><p>此语句将PDB <code class="codeph">salespdb</code>的打开模式更改为以只读模式打开。<code class="codeph">RESTRICTED</code>指定只有PDB中具有<code class="codeph">RESTRICTED</code> <code class="codeph">SESSION</code>特权的用户才能访问PDB。</p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE salespdb OPEN READ ONLY RESTRICTED;</code></pre><p>此语句将PDB <code class="codeph">salespdb</code>的打开模式更改为在迁移模式下打开：</p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE salespdb OPEN UPGRADE;</code></pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-A94D87DC-6954-454C-9230-D6E43845EC3C__BAJDFGEE">
                           <p class="titleinexample">例13-19更改所有PDB的开放模式</p>
                           <p>运行以下查询以显示与CDB关联的每个PDB的打开模式：</p><pre class="pre codeblock"><code>SELECT NAME，OPEN_MODE FROM V $ PDBS WHERE CON_ID&gt; 2;名称OPEN_MODE ------------------------------ ---------- HRPDB READ WRITE SALESPDB安装DWPDB安装</code></pre><p>请注意， <code class="codeph">hrpdb</code>已处于读/写模式。要将<code class="codeph">salespdb</code>和<code class="codeph">dwpdb</code>的打开模式更改为以读/写模式打开，请使用以下语句：</p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE ALL OPEN READ WRITE;</code></pre><p><code class="codeph">hrpdb</code> PDB未被修改，因为它已处于打开的读/写模式。该语句不会返回错误，因为两个PDB处于挂载模式且一个PDB（ <code class="codeph">hrpdb</code> ）处于指定模式（读/写）。同样，如果所有PDB都处于挂载模式，则该语句不会返回错误。
                           </p>
                           <p>但是，如果任何PDB处于只读模式，则该语句将返回错误。要避免错误并在读/写模式下打开CDB中的所有PDB，请指定<code class="codeph">FORCE</code>关键字：</p><pre class="pre codeblock"><code>ALTER PLOGGABLE DATABASE ALL OPEN READ WRITE FORCE;</code></pre><p>包含<code class="codeph">FORCE</code>关键字后，所有PDB都以读/写模式打开，包括处于只读模式的PDB。
                           </p>
                        </div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-A94D87DC-6954-454C-9230-D6E43845EC3C__BAJGDHGJ">
                           <p class="titleinexample">示例13-20更改列出的所有PDB的打开模式</p>
                           <p>此语句将除<code class="codeph">salespdb</code>和<code class="codeph">hrpdb</code>之外的所有PDB的模式更改为<code class="codeph">salespdb</code>装入模式。
                           </p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE ALL EXCEPT salespdb，hrpdb CLOSE IMMEDIATE;</code></pre><div class="infoboxnote" id="GUID-A94D87DC-6954-454C-9230-D6E43845EC3C__GUID-730C781D-019A-47AE-8421-878E22E8392F">
                              <p class="notep1">注意：</p>
                              <p>修改PDB的打开模式的<code class="codeph">ALTER PLUGGABLE DATABASE</code>语句是特定于实例的。因此，如果在连接到Oracle RAC实例时发出此语句，则它仅影响该实例中PDB的打开模式。
                              </p>
                           </div>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-A94D87DC-6954-454C-9230-D6E43845EC3C__GUID-9BFCD114-2323-421D-9ED6-7F72BFB3E44F">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-1F9914F2-E1D6-4C6F-B74B-30B4CEEC2EB8" title="当前容器是根时，带有pdb_change_state子句的ALTER PLUGGABLE DATABASE语句会修改指定PDB的打开模式。">关于使用ALTER PLUGGABLE DATABASE修改PDB的开放模式</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="administering-pdbs-with-sql-plus.html#GUID-0200CF6A-8822-4347-9410-4435FDB47745" title="您可以使用ALTER PLUGGABLE DATABASE语句修改PDB。">修改数据库级别的PDB</a> ”</span>以获取有关修改PDB的其他属性的信息</p>
                              </li>
                              <li>
                                 <p>有关数据库模式及其用途的信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=ADMIN-GUID-2042AAE4-DAE5-4CD4-89E9-B9DE3A8A2AA1" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a></p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=SQLRF55667" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a></p>
                              </li>
                              <li>
                                 <p>有关关闭模式的更多信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=CNCPT89041" target="_blank"><span><cite>Oracle数据库概</cite></span></a></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="administering-a-cdb-with-sql-plus.html#GUID-322C5C03-4C48-40CD-8230-0BA5F16BF96B" title="您可以使用ALTER PLUGGABLE DATABASE SQL语句或SQL * Plus STARTUP命令修改PDB的打开模式。">修改一个或多个PDB的打开模式</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN14155"></a><a id="ADMIN14092"></a><a id="ADMIN14093"></a><a id="ADMIN14170"></a><a id="ADMIN14094"></a><a id="ADMIN14095"></a><a id="ADMIN14091"></a><div class="props_rev_3"><a id="GUID-48D692AD-C69B-4FC4-B090-EBDEFF40A6DE" name="GUID-48D692AD-C69B-4FC4-B090-EBDEFF40A6DE"></a><h5 id="MULTI-GUID-48D692AD-C69B-4FC4-B090-EBDEFF40A6DE" class="sect5"><span class="enumeration_section">13.4.5.3</span>使用SQL * Plus STARTUP命令修改PDB的开放模式</h5>
                     <div>
                        <p>您可以使用<code class="codeph">STARTUP PLUGGABLE DATABASE</code>命令打开单个PDB。</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-48D692AD-C69B-4FC4-B090-EBDEFF40A6DE__GUID-CC006381-48A8-4712-B394-6BABFB3CE8F1">要使用STARTUP PLUGGABLE DATABASE命令修改PDB：</p>
                           <ol>
                              <li>
                                 <p>在SQL * Plus中，确保当前容器是根。</p>
                                 <p>请参阅<span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" title="您可以使用SQL * Plus访问CDB中的根或PDB。">关于CDB中的容器访问</a> ”</span> 。
                                 </p>
                              </li>
                              <li>
                                 <p>运行<code class="codeph">STARTUP PLUGGABLE DATABASE</code>命令。
                                 </p>
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <div class="infoboxnote" id="GUID-48D692AD-C69B-4FC4-B090-EBDEFF40A6DE__GUID-C619D626-46D6-430C-BFF2-E92930DC8D54">
                              <p class="notep1">注意：</p>
                              <p>当前容器是根时，SQL * Plus <code class="codeph">SHUTDOWN</code>命令始终关闭CDB实例。它不能用于关闭单个PDB。
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-48D692AD-C69B-4FC4-B090-EBDEFF40A6DE__GUID-25019E38-E562-4F3F-A574-A576A4C89179">
                           <p class="titleinexample">例13-21使用STARTUP命令在读/写模式下打开PDB</p><pre class="pre codeblock"><code>STARTUP PLUGGABLE DATABASE hrpdb OPEN</code></pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-48D692AD-C69B-4FC4-B090-EBDEFF40A6DE__GUID-3492BF89-574C-4F5F-9589-4BB07D02E80A">
                           <p class="titleinexample">例13-22使用STARTUP命令在读/写受限模式下打开PDB</p><pre class="pre codeblock"><code>STARTUP PLUGGABLE DATABASE hrpdb RESTRICT</code></pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-48D692AD-C69B-4FC4-B090-EBDEFF40A6DE__GUID-CE9724D6-ADB3-4ED3-849C-7304E0358A47">
                           <p class="titleinexample">示例13-23使用STARTUP命令以只读限制模式打开PDB</p><pre class="pre codeblock"><code>STARTUP PLUGGABLE DATABASE hrpdb OPEN READ ONLY RESTRICT</code></pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-48D692AD-C69B-4FC4-B090-EBDEFF40A6DE__GUID-3E94D985-66E2-4571-8F8D-BBAF79565DB9">
                           <p class="titleinexample">示例13-24使用STARTUP命令以只读模式打开PDB</p><pre class="pre codeblock"><code>STARTUP PLUGGABLE DATABASE hrpdb OPEN READ ONLY</code></pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-48D692AD-C69B-4FC4-B090-EBDEFF40A6DE__GUID-0C3F6FEE-E7E2-4C0A-9F70-BE8B1BAE565B">
                           <p class="titleinexample">例13-25使用STARTUP命令和FORCE选项在读/写模式下打开PDB</p>
                           <p>此示例假定<code class="codeph">hrpdb</code> PDB当前处于打开状态。<code class="codeph">FORCE</code>选项关闭PDB，然后以读/写模式打开它。
                           </p><pre class="pre codeblock"><code>STARTUP PLUGGABLE DATABASE hrpdb FORCE</code></pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-48D692AD-C69B-4FC4-B090-EBDEFF40A6DE__GUID-3A6F9D84-8DCD-432C-8853-217356350160">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-7C86BECF-8F49-4C40-A3AE-61D5E2A7A292" title="当前容器是根时，STARTUP PLUGGABLE DATABASE命令可以打开单个PDB。">关于使用SQL * Plus STARTUP命令修改PDB的开放模式</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="administering-pdbs-with-sql-plus.html#GUID-94AD2899-CDC1-446E-9C8B-46497BEA4A18" title="当前容器是PDB时，可以使用SQL * Plus STARTUP命令打开PDB，使用SQL * Plus SHUTDOWN命令关闭PDB。">启动和关闭PDB</a> ”</span>以获取有关在当前容器是PDB时使用<code class="codeph">STARTUP</code>或<code class="codeph">SHUTDOWN</code>命令的信息</p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=ADMIN-GUID-203404B5-5157-4F29-A241-B8ABC4753819" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a></p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=SQPUG128" target="_blank"><span><cite>SQL * Plus用户指南和参考</cite></span></a></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="administering-a-cdb-with-sql-plus.html#GUID-322C5C03-4C48-40CD-8230-0BA5F16BF96B" title="您可以使用ALTER PLUGGABLE DATABASE SQL语句或SQL * Plus STARTUP命令修改PDB的打开模式。">修改一个或多个PDB的打开模式</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN14252"></a><a id="ADMIN14253"></a><a id="ADMIN14254"></a><a id="ADMIN14255"></a><a id="ADMIN14256"></a><a id="ADMIN14251"></a><div class="props_rev_3"><a id="GUID-7CE00CF0-9D11-44BF-AF8A-F881D129A3F9" name="GUID-7CE00CF0-9D11-44BF-AF8A-F881D129A3F9"></a><h5 id="MULTI-GUID-7CE00CF0-9D11-44BF-AF8A-F881D129A3F9" class="sect5"><span class="enumeration_section">13.4.5.4</span>当CDB重新启动时保留或放弃PDB的开放模式</h5>
                     <div>
                        <p>通过使用带有<span class="italic">pdb_save_or_discard_state</span>子句的<code class="codeph">ALTER PLUGGABLE DATABASE</code> SQL语句，可以在CDB重新启动时保留一个或多个PDB的打开模式。
                        </p>
                        <div class="section">
                           <p>您可以通过以下方式执行此操作：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>指定<code class="codeph">SAVE STATE</code>以在重新启动CDB时保留PDB的模式。
                                 </p>
                                 <p>例如，如果在重新启动CDB之前PDB处于开放读/写模式，则在重新启动CDB之后PDB处于开放读/写模式;如果在重新启动CDB之前PDB处于挂载模式，则在重新启动CDB后PDB处于挂载模式。</p>
                              </li>
                              <li>
                                 <p>指定<code class="codeph">DISCARD STATE</code>以在重新启动CDB时忽略PDB的打开模式。
                                 </p>
                                 <p>为PDB指定<code class="codeph">DISCARD STATE</code> ，PDB始终在重新启动CDB后安装。
                                 </p>
                              </li>
                           </ul>
                           <p>您可以通过以下方式指定要修改的PDB：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>列出一个或多个PDB。</p>
                              </li>
                              <li>
                                 <p>指定<code class="codeph">ALL</code>以修改所有PDB。
                                 </p>
                              </li>
                              <li>
                                 <p>指定<code class="codeph">ALL EXCEPT</code>以修改所有PDB，但列出的PDB除外。
                                 </p>
                              </li>
                           </ul>
                           <p>对于Oracle RAC CDB，你可以使用<span class="italic">实例</span>子句<span class="italic">pdb_save_or_discard_state</span>子句中指定其上PDB的开放模式，通过以下方式保留了实例：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>按以下格式列出<span class="italic">instances</span>子句中的一个或多个实例：</p><pre class="pre codeblock"><code>INSTANCES =（' <span class="italic">instance_name</span> '[，' <span class="italic">instance_name</span> '] ...）</code></pre></li>
                              <li>
                                 <p>在<span class="italic">instances</span>子句中指定<code class="codeph">ALL</code>以修改所有正在运行的实例中的PDB，如以下示例所示：</p><pre class="pre codeblock"><code>INSTANCES = ALL</code></pre></li>
                              <li>
                                 <p>在<span class="italic">instances</span>子句中指定<code class="codeph">ALL EXCEPT</code>以修改所有实例中的PDB（列出的实例除外），格式如下：</p><pre class="pre codeblock"><code>INSTANCES = ALL EXCEPT（' <span class="italic">instance_name</span> '[，' <span class="italic">instance_name</span> '] ...）</code></pre></li>
                           </ul>
                           <p>对于Oracle RAC CDB中的PDB， <code class="codeph">SAVE STATE</code>和<code class="codeph">DISCARD STATE</code>仅影响当前实例的模式。即使在<span class="italic">instances</span>子句中指定了多个实例，它们也不会影响其他实例的模式。
                           </p>
                           <p>要使用<span class="italic">pdb_save_or_discard_state</span>子句发出<code class="codeph">ALTER PLUGGABLE DATABASE</code> SQL语句，当前用户必须在根目录中具有<code class="codeph">ALTER DATABASE</code>权限。
                           </p>
                           <p>您可以通过查询<code class="codeph">DBA_PDB_SAVED_STATES</code>视图来检查CDB中PDB的已保存状态。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-7CE00CF0-9D11-44BF-AF8A-F881D129A3F9__GUID-11657F57-14BF-43B4-8E1E-A393906F8E00">在CDB重新启动时保留或丢弃PDB的打开模式：</p>
                           <ol>
                              <li>
                                 <p>在SQL * Plus中，确保当前容器是根。</p>
                                 <p>请参阅<span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" title="您可以使用SQL * Plus访问CDB中的根或PDB。">关于CDB中的容器访问</a> ”</span> 。
                                 </p>
                              </li>
                              <li>
                                 <p>使用<span class="italic">pdb_save_or_discard_state</span>子句运行<code class="codeph">ALTER PLUGGABLE DATABASE</code>语句。
                                 </p>
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>以下示例在CDB重新启动时保留或放弃一个或多个PDB的打开模式。</p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-7CE00CF0-9D11-44BF-AF8A-F881D129A3F9__BAJIEBBB">
                           <p class="titleinexample">例13-26当CDB重新启动时保留PDB的开放模式</p>
                           <p>当CDB重新启动时，此语句将保留<code class="codeph">salespdb</code>的打开模式。
                           </p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE salespdb SAVE STATE;</code></pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-7CE00CF0-9D11-44BF-AF8A-F881D129A3F9__BAJICJGB">
                           <p class="titleinexample">例13-27当CDB重新启动时丢弃PDB的开放模式</p>
                           <p>当CDB重新启动时，此语句将丢弃<code class="codeph">salespdb</code>的打开模式。
                           </p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE salespdb DISCARD STATE;</code></pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-7CE00CF0-9D11-44BF-AF8A-F881D129A3F9__BAJFGGFD">
                           <p class="titleinexample">例13-28当CDB重新启动时保留所有PDB的开放模式</p>
                           <p>当CDB重新启动时，此语句保留所有PDB的打开模式。</p><pre class="pre codeblock"><code>ALTER PLOGGABLE DATABASE ALL SAVE STATE;</code></pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-7CE00CF0-9D11-44BF-AF8A-F881D129A3F9__BAJEBACE">
                           <p class="titleinexample">例13-29当CDB重新启动时保留列出的PDB的开放模式</p>
                           <p>当CDB重新启动时，此语句将保留<code class="codeph">salespdb</code>和<code class="codeph">hrpdb</code>的打开模式。
                           </p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE salespdb，hrpdb SAVE STATE;</code></pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-7CE00CF0-9D11-44BF-AF8A-F881D129A3F9__BAJCFBJC">
                           <p class="titleinexample">例13-30在CDB重新启动时保留所有PDB的开放模式，但列出的除外</p>
                           <p>此语句保留除<code class="codeph">salespdb</code>和<code class="codeph">hrpdb</code>之外的所有PDB的打开模式。
                           </p><pre class="pre codeblock"><code>ALTER PLUGGABLE DATABASE ALL除了salespdb，hrpdb SAVE STATE;</code></pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="administering-a-cdb-with-sql-plus.html#GUID-322C5C03-4C48-40CD-8230-0BA5F16BF96B" title="您可以使用ALTER PLUGGABLE DATABASE SQL语句或SQL * Plus STARTUP命令修改PDB的打开模式。">修改一个或多个PDB的打开模式</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-57166C75-59D4-4037-81CD-8CAD753DA64D" name="GUID-57166C75-59D4-4037-81CD-8CAD753DA64D"></a><h5 id="MULTI-GUID-57166C75-59D4-4037-81CD-8CAD753DA64D" class="sect5"><span class="enumeration_section">13.4.5.5</span>在Oracle RAC中启动和停止PDB</h5>
                     <div>
                        <p>管理可插拔数据库（PDB）涉及管理非CDB所需的一小部分任务。</p>
                        <p>管理基于Oracle RAC的多租户容器数据库（CDB）与管理非CDB类似。不同之处在于，某些管理任务适用于整个CDB，一些适用于CDB根，一些适用于特定PDB。在这个任务子集中，大多数对于PDB和非CDB是相同的。但是，存在一些差异，例如修改PDB的打开模式时。此外，PDB管理员仅限于管理单个PDB，并且不受CDB中其他PDB的影响。</p>
                        <p>您可以通过管理服务来管理Oracle RAC CDB中的PDB。无论PDB是策略管理还是管理员管理，都是如此。为每个PDB分配一个动态数据库服务，以协调PDB在集群容器数据库中的实例之间的启动，停止和放置。</p>
                        <p>例如，如果您在名为<code class="codeph">prod</code>的服务器池中有一个名为<code class="codeph">raccont</code>的CDB， <code class="codeph">raccont</code>包含名为<code class="codeph">spark</code>的策略管理PDB，则使用以下命令将名为<code class="codeph">plug</code>的服务分配给此数据库：</p><pre class="pre codeblock"><code>srvctl添加服务-db raccont -pdb spark -service plug -serverpool prod</code></pre><p>服务器<code class="codeph">plug</code>在服务器池中的所有节点上统一管理。如果要将此服务作为单个服务在同一服务器池中运行，请将<code class="codeph">-cardinality singleton</code>参数与前面的命令一起使用。
                        </p>
                        <p>要打开PDB <code class="codeph">spark</code> ，必须按如下方式启动服务<code class="codeph">plug</code> ：</p><pre class="pre codeblock"><code>srvctl启动服务-db raccont -service插件</code></pre><p>要停止服务<code class="codeph">plug</code> ：</p><pre class="pre codeblock"><code>srvctl停止服务-db raccont -service插件</code></pre><p>在您使用SQL命令<code class="codeph">ALTER PLUGGABLE DATABASE <span class="variable" translate="no">PDB_NAME</span> CLOSE IMMEDIATE</code>关闭PDB之前，PDB <code class="codeph">spark</code>保持打开状态。您可以使用<code class="codeph">srvctl status service</code>命令检查数据库的<code class="codeph">srvctl status service</code> 。
                        </p>
                        <p>由于PDB是使用动态数据库服务进行管理的，因此适用典型的基于Oracle RAC的管理实践。因此，如果在托管此服务的服务器上关闭Oracle Clusterware时服务<code class="codeph">plug</code>处于联机状态，则在此服务器上重新启动Oracle Clusterware后，该服务将恢复到其原始状态。因此，与任何其他Oracle RAC数据库一样，启动PDB是自动的。
                        </p>
                        <div class="infoboxnote" id="GUID-57166C75-59D4-4037-81CD-8CAD753DA64D__GUID-0FF0BD2E-ACF4-4E6C-8D1A-8926046D8C48">
                           <p class="notep1">注意：</p>
                           <p>与SQL * Plus不同，SRVCTL在整个群集数据库上运行。因此，当定义服务同时在多个服务器上运行并且群集的当前状态允许此放置时，使用服务启动PDB同时适用于群集CDB的多个实例。</p>
                        </div>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=RACAD-GUID-57166C75-59D4-4037-81CD-8CAD753DA64D" target="_blank"><span><cite>“Oracle Real Application Clusters管理和部署指南”</cite></span></a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="administering-a-cdb-with-sql-plus.html#GUID-322C5C03-4C48-40CD-8230-0BA5F16BF96B" title="您可以使用ALTER PLUGGABLE DATABASE SQL语句或SQL * Plus STARTUP命令修改PDB的打开模式。">修改一个或多个PDB的打开模式</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-BB89431A-D14E-42EF-9B08-AFCC107C6683" name="GUID-BB89431A-D14E-42EF-9B08-AFCC107C6683"></a><h3 id="MULTI-GUID-BB89431A-D14E-42EF-9B08-AFCC107C6683" class="sect3"><span class="enumeration_section">13.5</span>在多个容器中执行SQL</h3>
               <div>
                  <p>要在一个或多个容器执行SQL，使用<code class="codeph">CONTAINERS</code>子句DML或<code class="codeph">CONTAINER</code>的DDL条款。</p>
                  <p>本节包含以下主题：</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-4A33D041-B307-4960-BC1D-8BC4AA20DE9F">在CDB中发布容器上的DML语句</a><br>在CDB根中发布的DML（数据操作语言）语句可以修改CDB中的一个或多个容器。此外，您可以为DML语句指定一个或多个默认容器目标。
                     </li>
                     <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-6B579864-6273-408A-A7C5-859B42098FFA">在CDB中执行DDL语句</a><br>在CDB中，您可以在当前容器或所有容器中执行数据定义语言（DDL）语句。
                     </li>
                     <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-E307DC5F-52A9-4B1B-8999-3E60867009D4">在CDB中运行Oracle提供的SQL脚本</a><br>您可以使用<code class="codeph">catcon.pl</code>脚本在CDB中运行Oracle提供的SQL或SQL脚本。您可以针对任何指定的容器运行脚本。
                     </li>
                     <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-136666E0-2BF9-4538-8D60-11505898E5E2">使用DBMS_SQL包在容器中执行代码</a><br>当您在CDB中的容器中执行PL / SQL代码，并且要在不同容器中执行一个或多个SQL语句时，请使用<code class="codeph">DBMS_SQL</code>包来切换容器。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="administering-a-cdb-with-sql-plus.html#GUID-2E5025EE-BED3-45A4-9EAA-B05C8DA66F97" title="管理多租户容器数据库（CDB）包括访问容器，修改CDB，执行DDL语句以及运行Oracle提供的SQL脚本等任务。">管理CDB</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-4A33D041-B307-4960-BC1D-8BC4AA20DE9F" name="GUID-4A33D041-B307-4960-BC1D-8BC4AA20DE9F"></a><h4 id="MULTI-GUID-4A33D041-B307-4960-BC1D-8BC4AA20DE9F" class="sect4"><span class="enumeration_section">13.5.1</span>发布CDB中容器的DML语句</h4>
                  <div>
                     <p>在CDB根中发布的DML（数据操作语言）语句可以修改CDB中的一个或多个容器。此外，您可以为DML语句指定一个或多个默认容器目标。</p>
                     <p>本节包含以下主题：</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-1242BAAD-FDF7-4B05-8D5A-6ECF71FA7D0F">关于在CDB中发布容器上的DML语句</a><br>DML语句可以影响CDB中多个容器中的数据库对象。</li>
                        <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-D336011C-83B2-4101-B5AB-C4D890147BF4">在CDB中指定DML语句的默认容器</a><br>要为CDB中的DML语句指定默认容器，请使用<code class="codeph">CONTAINERS DEFAULT TARGET</code>子句发出<code class="codeph">ALTER DATABASE</code>语句。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="administering-a-cdb-with-sql-plus.html#GUID-BB89431A-D14E-42EF-9B08-AFCC107C6683" title="要在一个或多个容器中执行SQL，请对DML使用CONTAINERS子句，对DDL使用CONTAINER子句。">在多个容器中执行SQL</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-1242BAAD-FDF7-4B05-8D5A-6ECF71FA7D0F" name="GUID-1242BAAD-FDF7-4B05-8D5A-6ECF71FA7D0F"></a><h5 id="MULTI-GUID-1242BAAD-FDF7-4B05-8D5A-6ECF71FA7D0F" class="sect5"><span class="enumeration_section">13.5.1.1</span>关于在CDB中发布容器的DML语句</h5>
                     <div>
                        <p>DML语句可以影响CDB中多个容器中的数据库对象。</p>
                        <p>在CDB根或应用程序根目录中，包含<code class="codeph">CONTAINERS</code>子句的单个DML语句可以修改该CDB或应用程序容器中的一个或多个容器中的表或视图。要使用<code class="codeph">CONTAINERS</code>子句，指定表或视图被修改中<code class="codeph">CONTAINERS</code>子句和影响了容器中<code class="codeph">WHERE</code>子句。通过在<code class="codeph">VALUES</code>子句中指定<code class="codeph">CON_ID</code>的值，可以在<code class="codeph">INSERT VALUES</code>语句中指定目标容器。此外，可以通过在<code class="codeph">WHERE</code>子句中指定<code class="codeph">CON_ID</code>谓词在<code class="codeph">UPDATE</code>或<code class="codeph">DELETE</code>语句中指定目标容器。
                        </p>
                        <div class="p">例如，以下DML语句更新<code class="codeph">CON_ID</code>为<code class="codeph">7</code>或<code class="codeph">8</code>的容器中的<code class="codeph">sales.customers</code>表：<pre class="pre codeblock"><code>更新容器（sales.customers）ctab SET ctab.city_name ='MIAMI'WHERE ctab。CON_ID IN（7,8）AND CUSTOMER_ID = 3425;</code></pre></div>
                        <p>为<code class="codeph">WHERE</code>子句中的<code class="codeph">CON_ID</code>指定的值必须是属于CDB的容器，包括PDB，应用程序根和应用程序PDB。
                        </p>
                        <p>您还可以为DML操作指定默认目标容器。如果DML语句未在<code class="codeph">WHERE</code>子句中指定<code class="codeph">CON_ID</code>值，则DML操作的目标容器是在CDB根目录中的数据库属性<code class="codeph">CONTAINERS_DEFAULT_TARGET</code>中指定的<code class="codeph">CONTAINERS_DEFAULT_TARGET</code> 。在CDB根目录中发出时，以下DML语句会修改CDB的默认目标容器：</p><pre class="pre codeblock"><code>UPDATE CONTAINERS（sales.customers）ctab SET ctab.city_name ='MIAMI'WHERE CUSTOMER_ID = 3425;</code></pre><p>通过在<code class="codeph">VALUES</code>子句中指定<code class="codeph">CON_ID</code>的值，可以在<code class="codeph">INSERT VALUES</code>语句中指定目标容器。此外，可以通过在<code class="codeph">WHERE</code>子句中指定<code class="codeph">CON_ID</code>谓词在<code class="codeph">UPDATE</code>或<code class="codeph">DELETE</code>语句中指定目标容器。
                        </p>
                        <div class="p">默认情况下，CDB中的默认目标容器包括其所有PDB，应用程序根，应用程序种子和应用程序PDB，但不包括其CDB根或PDB种子。您可以通过运行以下查询来确定CDB的默认目标容器：<pre class="pre codeblock"><code>SELECT PROPERTY_VALUE FROM DATABASE_PROPERTIES PROPERERE_NAME ='CONTAINERS_DEFAULT_TARGET';</code></pre></div>
                        <p>以下限制适用于<code class="codeph">CONTAINERS</code>子句：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">INSERT</code>的<code class="codeph">SELECT</code>语句，其中的目标<code class="codeph">INSERT</code>是<code class="codeph">CONTAINERS()</code>不支持。
                              </p>
                           </li>
                           <li>
                              <p>不支持<code class="codeph">INSERT</code>目标在<code class="codeph">CONTAINERS()</code>的多表<code class="codeph">INSERT</code>语句。
                              </p>
                           </li>
                           <li>
                              <p>使用<code class="codeph">CONTAINERS</code>子句的DML语句要求使用TCP（而不是IPC）配置数据库侦听器，并分别使用<code class="codeph">PORT</code>和<code class="codeph">HOST</code>子句为每个目标PDB指定<code class="codeph">PORT</code>和<code class="codeph">HOST</code>值。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="administering-a-cdb-with-sql-plus.html#GUID-4A33D041-B307-4960-BC1D-8BC4AA20DE9F" title="在CDB根中发布的DML（数据操作语言）语句可以修改CDB中的一个或多个容器。此外，您可以为DML语句指定一个或多个默认容器目标。">在CDB中的容器上发出DML语句</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-D336011C-83B2-4101-B5AB-C4D890147BF4" name="GUID-D336011C-83B2-4101-B5AB-C4D890147BF4"></a><h5 id="MULTI-GUID-D336011C-83B2-4101-B5AB-C4D890147BF4" class="sect5"><span class="enumeration_section">13.5.1.2</span>为CDB中的DML语句指定默认容器</h5>
                     <div>
                        <p>要为CDB中的DML语句指定默认容器，请使用<code class="codeph">CONTAINERS DEFAULT TARGET</code>子句发出<code class="codeph">ALTER DATABASE</code>语句。
                        </p>
                        <div class="section">
                           <p>如果在CDB根中发出DML语句而未在<code class="codeph">WHERE</code>子句中指定容器，则DML语句会影响CDB的默认容器。默认容器可以是CDB中的任何容器，包括CDB根，PDB，应用程序根或应用程序PDB。只允许一个默认容器。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>在SQL * Plus中，确保当前容器是CDB根目录。</span><div>当前用户必须具有通常授予的<code class="codeph">ALTER DATABASE</code>权限。
                              </div>
                           </li>
                           <li class="stepexpand"><span>使用<code class="codeph">CONTAINERS DEFAULT TARGET</code>子句运行<code class="codeph">ALTER DATABASE</code>语句。</span></li>
                        </ol>
                        <div class="example" id="GUID-D336011C-83B2-4101-B5AB-C4D890147BF4__GUID-FA6E81E6-7C37-444F-A3DD-DDCBA5AF9171">
                           <p class="titleinexample">示例13-31为CDB中的DML语句指定默认容器</p>
                           <p>此示例指定<code class="codeph">PDB1</code>是CDB中DML语句的默认容器。</p><pre class="pre codeblock"><code>ALTER DATABASE CONTAINERS DEFAULT TARGET =（PDB1）;</code></pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-D336011C-83B2-4101-B5AB-C4D890147BF4__GUID-C0C89595-4130-4D22-A427-6167D76AAE42">
                           <p class="titleinexample">示例13-32清除默认容器</p>
                           <p>此示例清除默认容器设置。如果未设置，则默认容器为CDB根。</p><pre class="pre codeblock"><code>ALTER DATABASE CONTAINERS DEFAULT TARGET = NONE;</code></pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="administering-a-cdb-with-sql-plus.html#GUID-4A33D041-B307-4960-BC1D-8BC4AA20DE9F" title="在CDB根中发布的DML（数据操作语言）语句可以修改CDB中的一个或多个容器。此外，您可以为DML语句指定一个或多个默认容器目标。">在CDB中的容器上发出DML语句</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN13707"></a><div class="props_rev_3"><a id="GUID-6B579864-6273-408A-A7C5-859B42098FFA" name="GUID-6B579864-6273-408A-A7C5-859B42098FFA"></a><h4 id="MULTI-GUID-6B579864-6273-408A-A7C5-859B42098FFA" class="sect4"><span class="enumeration_section">13.5.2</span>在CDB中执行DDL语句</h4>
                  <div>
                     <p>在CDB中，您可以在当前容器或所有容器中执行数据定义语言（DDL）语句。</p>
                     <p>本节包含以下主题：</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-D4F19C66-FB1F-48ED-9CA7-A117BB734F9E">关于在CDB中执行DDL语句</a><br>在CDB中，某些DDL语句只能应用于所有容器或当前容器。
                        </li>
                        <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-8FAF656D-B5E0-4499-8F86-481690E85FC8">在当前容器中执行DDL语句</a><br>在DDL语句的<code class="codeph">CONTAINER</code>子句中指定<code class="codeph">CURRENT</code>以在当前容器中执行语句。
                        </li>
                        <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-DEE93E37-7268-40A9-A986-987AE6D270B4">在CDB中的所有容器中执行DDL语句</a><br>在DDL语句的<code class="codeph">CONTAINER</code>子句中指定<code class="codeph">ALL</code>以在CDB中的所有容器中执行该语句。</li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="administering-a-cdb-with-sql-plus.html#GUID-BB89431A-D14E-42EF-9B08-AFCC107C6683" title="要在一个或多个容器中执行SQL，请对DML使用CONTAINERS子句，对DDL使用CONTAINER子句。">在多个容器中执行SQL</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN13709"></a><a id="ADMIN13708"></a><div class="props_rev_3"><a id="GUID-D4F19C66-FB1F-48ED-9CA7-A117BB734F9E" name="GUID-D4F19C66-FB1F-48ED-9CA7-A117BB734F9E"></a><h5 id="MULTI-GUID-D4F19C66-FB1F-48ED-9CA7-A117BB734F9E" class="sect5"><span class="enumeration_section">13.5.2.1</span>关于在CDB中执行DDL语句</h5>
                     <div>
                        <p>在CDB中，某些DDL语句只能应用于所有容器或当前容器。</p>
                        <p>要指定受影响的<code class="codeph">CONTAINER</code> ，请使用<code class="codeph">CONTAINER</code>子句：</p><pre class="pre codeblock"><code>CONTAINER = {CURRENT |所有}</code></pre><p>可以进行以下设置：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">CURRENT</code>表示该语句仅适用于当前容器。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">ALL</code>表示该语句适用于CDB中的所有容器，包括根和所有PDB。
                              </p>
                           </li>
                        </ul>
                        <p>以下限制适用于DDL语句中的<code class="codeph">CONTAINER</code>子句：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5" title="CDB中每个容器中的数据字典是独立的，当前容器是其数据字典用于名称解析和权限授权的容器。">关于当前容器</a> ”中</span>描述的限制。
                              </p>
                           </li>
                           <li>
                              <p>您只能将<code class="codeph">CONTAINER</code>子句与<a href="administering-a-cdb-with-sql-plus.html#GUID-D4F19C66-FB1F-48ED-9CA7-A117BB734F9E__CFHHJACD" title="此表描述了当CONTAINER设置为CURRENT并且CONTAINER设置为ALL时每个DDL语句的行为。">表13-8中</a>列出的DDL语句一起使用。
                              </p>
                           </li>
                        </ul>
                        <div class="tblformalwide" id="GUID-D4F19C66-FB1F-48ED-9CA7-A117BB734F9E__CFHHJACD">
                           <p class="titleintable">表13-8国家开发银行的DDL声明和CONTAINER条款</p>
                           <table cellpadding="4" cellspacing="0" class="FormalWide" title="DDL声明和CDB中的CONTAINER条款" width="100%" border="1" summary="This table describes the behavior of each DDL statement when CONTAINER is set to CURRENT and when CONTAINER is set to ALL." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="33%" id="d54878e10426">DDL声明</th>
                                    <th align="left" valign="bottom" width="33%" id="d54878e10429">CONTAINER = CURRENT</th>
                                    <th align="left" valign="bottom" width="33%" id="d54878e10432">CONTAINER = ALL</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d54878e10437" headers="d54878e10426 ">
                                       <p><code class="codeph">创建用户</code></p>
                                    </td>
                                    <td align="left" valign="top" width="33%" headers="d54878e10437 d54878e10429 ">
                                       <p>在当前PDB中创建本地用户。</p>
                                    </td>
                                    <td align="left" valign="top" width="33%" headers="d54878e10437 d54878e10432 ">
                                       <p>创建一个普通用户。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d54878e10448" headers="d54878e10426 ">
                                       <p><code class="codeph">更改用户</code></p>
                                    </td>
                                    <td align="left" valign="top" width="33%" headers="d54878e10448 d54878e10429 ">
                                       <p>更改当前PDB中的本地用户。</p>
                                    </td>
                                    <td align="left" valign="top" width="33%" headers="d54878e10448 d54878e10432 ">
                                       <p>改变普通用户。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d54878e10459" headers="d54878e10426 ">
                                       <p><code class="codeph">创造角色</code></p>
                                    </td>
                                    <td align="left" valign="top" width="33%" headers="d54878e10459 d54878e10429 ">
                                       <p>在当前PDB中创建本地角色。</p>
                                    </td>
                                    <td align="left" valign="top" width="33%" headers="d54878e10459 d54878e10432 ">
                                       <p>创造共同的角色。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d54878e10470" headers="d54878e10426 ">
                                       <p><code class="codeph">GRANT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="33%" headers="d54878e10470 d54878e10429 ">
                                       <p>将本地容器中的权限授予本地用户，公共用户或本地角色。</p>
                                       <p><code class="codeph">SET CONTAINER</code>权限可以授予当前PDB中用户创建的公共用户。</p>
                                    </td>
                                    <td align="left" valign="top" width="33%" headers="d54878e10470 d54878e10432 ">
                                       <p>将公共对象的系统特权或对象特权授予普通用户或公共角色。指定的权限将授予整个CDB中的用户或角色。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="33%" id="d54878e10486" headers="d54878e10426 ">
                                       <p><code class="codeph">撤消</code></p>
                                    </td>
                                    <td align="left" valign="top" width="33%" headers="d54878e10486 d54878e10429 ">
                                       <p>从本地用户，普通用户或本地角色撤消本地容器中的权限。</p>
                                       <p>此语句只能撤消从<code class="codeph">CONTAINER</code>子句中指定的<code class="codeph">CURRENT</code>授予的权限，该权限来自本地容器中的指定用户或角色。该语句不影响在<code class="codeph">CONTAINER</code>子句中指定的<code class="codeph">ALL</code>授予的权限。
                                       </p>
                                       <p>可以从当前PDB中的用户创建的公共用户撤消<code class="codeph">SET CONTAINER</code>权限。</p>
                                    </td>
                                    <td align="left" valign="top" width="33%" headers="d54878e10486 d54878e10432 ">
                                       <p>从公共用户或公共角色撤消对公共对象的系统特权或对象特权。从整个CDB中的用户或角色撤消指定的权限。</p>
                                       <p>此语句只能撤消从指定的公共用户或公共角色在<code class="codeph">CONTAINER</code>子句中指定的<code class="codeph">ALL</code>授予的权限。该语句不影响使用<code class="codeph">CONTAINER</code>子句中指定的<code class="codeph">CURRENT</code>授予的权限。但是，本地授予的任何依赖于通常被授予的权限的权限也将被撤销。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>所有其他DDL语句仅适用于当前容器。</p>
                        <p>除了用户，角色和配置文件名称的常规规则之外，在CDB中创建用户，角色或配置文件时，以下规则和最佳实践也适用：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>通用用户，角色和配置文件名称的最佳做法是以前缀开头，以避免在常见用户，角色和配置文件与本地用户，角色和配置文件之间发生命名冲突。您可以使用CDB根目录中的<code class="codeph">COMMON_USER_PREFIX</code>初始化参数指定此前缀。默认情况下，前缀为CDB根目录中的<code class="codeph">C##</code>或<code class="codeph">c##</code> 。
                              </p>
                           </li>
                           <li>
                              <p>在应用程序容器中，最佳做法是，应用程序通用用户，角色和配置文件名称以前缀开头，以避免应用程序公共用户，角色和配置文件与本地用户，角色和配置文件之间的命名冲突。您可以使用应用程序根目录中的<code class="codeph">COMMON_USER_PREFIX</code>初始化参数指定此前缀。默认情况下，应用程序根目录中的前缀为<code class="codeph">NULL</code> 。
                              </p>
                           </li>
                           <li>
                              <p>在应用程序根目录中设置<code class="codeph">COMMON_USER_PREFIX</code>初始化参数时，该设置将应用于应用程序容器中的应用程序公共用户，角色和概要文件名称。CDB根目录和应用程序根目录中的前缀可以不同，前缀在不同的应用程序容器中可以不同。
                              </p>
                           </li>
                           <li>
                              <p>通用用户，角色和配置文件名称只能由ASCII字符组成。此限制不适用于应用程序通用用户，角色和配置文件名称。</p>
                           </li>
                           <li>
                              <p>本地用户，角色和概要文件名称不能以使用<code class="codeph">COMMON_USER_PREFIX</code>初始化参数为公共用户指定的前缀<code class="codeph">COMMON_USER_PREFIX</code> 。
                              </p>
                           </li>
                           <li>
                              <p>本地用户，角色和配置文件名称不能以<code class="codeph">C##</code>或<code class="codeph">c##</code>开头。
                              </p>
                           </li>
                           <li>
                              <p>无论CDB根目录中<code class="codeph">COMMON_USER_PREFIX</code>的值如何，应用程序通用用户，角色和配置文件名称都不能以<code class="codeph">C##</code>或<code class="codeph">c##</code>开头。
                              </p>
                           </li>
                           <li>
                              <p>应用程序通用用户，角色和配置文件名称不能以使用<code class="codeph">COMMON_USER_PREFIX</code>初始化参数为公共用户指定的前缀<code class="codeph">COMMON_USER_PREFIX</code> 。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-D4F19C66-FB1F-48ED-9CA7-A117BB734F9E__GUID-B56B4A2A-2FCC-4089-B2CA-630AE383914F">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-E47348D6-5350-4890-ACD6-7BA1C1DD4E95" title="要在系统级别修改CDB，请使用ALTER SYSTEM语句。">使用ALTER SYSTEM修改CDB</a> ”</span>以获取有关在CDB中使用<code class="codeph">ALTER SYSTEM</code>语句的信息</p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=SQLRF30041" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a></p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=CNCPT1732" target="_blank"><span><cite>Oracle数据库概念</cite></span></a></p>
                              </li>
                              <li>
                                 <p>有关管理CDB中用户的详细信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=DBSEG589" target="_blank"><span><cite>“Oracle数据库安全指南”</cite></span></a></p>
                              </li>
                              <li>
                                 <p>有关<code class="codeph">COMMON_USER_PREFIX</code>初始化参数的更多信息，请<code class="codeph">COMMON_USER_PREFIX</code> <a href="../refrn/COMMON_USER_PREFIX.html#REFRN10354" target="_blank"><span><cite>Oracle数据库参考</cite></span></a></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="administering-a-cdb-with-sql-plus.html#GUID-6B579864-6273-408A-A7C5-859B42098FFA" title="在CDB中，您可以在当前容器或所有容器中执行数据定义语言（DDL）语句。">在CDB中执行DDL语句</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN13712"></a><a id="ADMIN13710"></a><div class="props_rev_3"><a id="GUID-8FAF656D-B5E0-4499-8F86-481690E85FC8" name="GUID-8FAF656D-B5E0-4499-8F86-481690E85FC8"></a><h5 id="MULTI-GUID-8FAF656D-B5E0-4499-8F86-481690E85FC8" class="sect5"><span class="enumeration_section">13.5.2.2</span>在当前容器中执行DDL语句</h5>
                     <div>
                        <p>在DDL语句的<code class="codeph">CONTAINER</code>子句中指定<code class="codeph">CURRENT</code>以在当前容器中执行语句。
                        </p>
                        <div class="section">
                           <p><a href="administering-a-cdb-with-sql-plus.html#GUID-D4F19C66-FB1F-48ED-9CA7-A117BB734F9E__CFHHJACD" title="此表描述了当CONTAINER设置为CURRENT并且CONTAINER设置为ALL时每个DDL语句的行为。">表13-8</a>中列出了支持的DDL语句。
                           </p>
                           <p>必须为当前用户授予在当前容器中执行DDL语句所需的权限。例如，要创建用户，必须在当前容器中为当前用户授予<code class="codeph">CREATE USER</code>系统特权。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>要在当前容器中执行DDL语句：</p>
                           <ol>
                              <li>
                                 <p>在SQL * Plus中，访问容器。</p>
                                 <p>请参阅<span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" title="您可以使用SQL * Plus访问CDB中的根或PDB。">使用SQL * Plus访问CDB中的容器</a> ”</span> 。
                                 </p>
                              </li>
                              <li>
                                 <p>执行带有<code class="codeph">CONTAINER</code>设置为<code class="codeph">CURRENT</code>的DDL语句。</p>
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>本地用户的用户名不能以<code class="codeph">COMMON_USER_PREFIX</code>初始化参数指定的前缀<code class="codeph">COMMON_USER_PREFIX</code> 。默认情况下，在CDB根目录中，前缀为<code class="codeph">C##</code>或<code class="codeph">c##</code> 。应用程序根可以为应用程序容器指定自己的前缀。此外，普通用户的名称必须仅包含ASCII字符。指定的表空间必须存在于PDB中。</p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-8FAF656D-B5E0-4499-8F86-481690E85FC8__GUID-61EE32C7-9742-4C65-B934-B0A0332B669F">
                           <p class="titleinexample">示例13-33在PDB中创建本地用户</p>
                           <p>此示例在当前PDB中创建本地用户<code class="codeph">testpdb</code> 。</p><pre class="pre codeblock"><code>CREATE USER testpdb IDENTIFIED BY <span class="italic">password</span> DEFAULT TABLESPACE pdb1_tbs QUOTA UNLIMITED on pdb1_tbs CONTAINER = CURRENT;</code></pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="administering-a-cdb-with-sql-plus.html#GUID-6B579864-6273-408A-A7C5-859B42098FFA" title="在CDB中，您可以在当前容器或所有容器中执行数据定义语言（DDL）语句。">在CDB中执行DDL语句</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN13715"></a><a id="ADMIN13713"></a><div class="props_rev_3"><a id="GUID-DEE93E37-7268-40A9-A986-987AE6D270B4" name="GUID-DEE93E37-7268-40A9-A986-987AE6D270B4"></a><h5 id="MULTI-GUID-DEE93E37-7268-40A9-A986-987AE6D270B4" class="sect5"><span class="enumeration_section">13.5.2.3</span>在CDB中的所有容器中执行DDL语句</h5>
                     <div>
                        <p>在DDL语句的<code class="codeph">CONTAINER</code>子句中指定<code class="codeph">ALL</code>以在CDB中的所有容器中执行该语句。</p>
                        <div class="section">
                           <p><a href="administering-a-cdb-with-sql-plus.html#GUID-D4F19C66-FB1F-48ED-9CA7-A117BB734F9E__CFHHJACD" title="此表描述了当CONTAINER设置为CURRENT并且CONTAINER设置为ALL时每个DDL语句的行为。">表13-8</a>中列出了支持的DDL语句。
                           </p>
                           <p>必须满足以下先决条件：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>当前用户必须是普通用户。</p>
                              </li>
                              <li>
                                 <p>必须为当前用户授予通常执行DDL语句所需的权限。例如，要创建用户，必须通常为当前用户授予<code class="codeph">CREATE USER</code>系统特权。
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>要在CDB中的所有容器中执行DDL语句：</p>
                           <ol>
                              <li>
                                 <p>在SQL * Plus中，确保当前容器是根。</p>
                                 <p>请参阅<span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-D75CAF12-1073-40DB-B096-51B63E4C01E3" title="您可以使用SQL * Plus访问CDB中的根或PDB。">关于CDB中的容器访问</a> ”</span> 。
                                 </p>
                              </li>
                              <li>
                                 <p>执行带有<code class="codeph">CONTAINER</code>设置为<code class="codeph">ALL</code>的DDL语句。</p>
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>通用用户的用户名必须以<code class="codeph">COMMON_USER_PREFIX</code>初始化参数指定的前缀<code class="codeph">COMMON_USER_PREFIX</code> 。默认情况下，在CDB根目录中，前缀为<code class="codeph">C##</code>或<code class="codeph">c##</code> 。应用程序根可以为应用程序容器指定自己的前缀。此外，普通用户的名称必须仅包含ASCII字符。指定的表空间必须存在于根和所有PDB中。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-DEE93E37-7268-40A9-A986-987AE6D270B4__GUID-3AB1F449-E197-4814-BBBD-12006D19A873">
                           <p class="titleinexample">示例13-34在CDB中创建公共用户</p>
                           <p>此示例创建公共用户<code class="codeph">c##testcdb</code> 。
                           </p><pre class="pre codeblock"><code>CREATE USER c ## testcdb IDENTIFIED BY <span class="italic">password</span> DEFAULT TABLESPACE cdb_tbs QUOTA UNLIMITED ON cdb_tbs CONTAINER = ALL;</code></pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="administering-a-cdb-with-sql-plus.html#GUID-6B579864-6273-408A-A7C5-859B42098FFA" title="在CDB中，您可以在当前容器或所有容器中执行数据定义语言（DDL）语句。">在CDB中执行DDL语句</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN14072"></a><div class="props_rev_3"><a id="GUID-E307DC5F-52A9-4B1B-8999-3E60867009D4" name="GUID-E307DC5F-52A9-4B1B-8999-3E60867009D4"></a><h4 id="MULTI-GUID-E307DC5F-52A9-4B1B-8999-3E60867009D4" class="sect4"><span class="enumeration_section">13.5.3</span>在CDB中运行Oracle提供的SQL脚本</h4>
                  <div>
                     <p>您可以使用<code class="codeph">catcon.pl</code>脚本在CDB中运行Oracle提供的SQL或SQL脚本。您可以针对任何指定的容器运行脚本。
                     </p>
                     <p>本节包含以下主题：</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-86F231EC-0230-4426-A934-6697E0222195">关于在CDB中运行Oracle提供的SQL脚本</a><br>在CDB中， <code class="codeph">catcon.pl</code>脚本是运行SQL脚本和SQL语句的最佳方式。
                        </li>
                        <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-98F9A223-DE19-498B-8082-3A814F147D1F">catcon.pl的语法和参数</a><br><code class="codeph">catcon.pl</code>脚本是必须在操作系统提示符下运行的Perl脚本。
                        </li>
                        <li class="ulchildlink"><a href="administering-a-cdb-with-sql-plus.html#GUID-4A64CE26-DD34-4543-B08E-6B4C61A24BAB">运行catcon.pl脚本</a><br>示例说明了运行<code class="codeph">catcon.pl</code>脚本。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="administering-a-cdb-with-sql-plus.html#GUID-BB89431A-D14E-42EF-9B08-AFCC107C6683" title="要在一个或多个容器中执行SQL，请对DML使用CONTAINERS子句，对DDL使用CONTAINER子句。">在多个容器中执行SQL</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN14073"></a><div class="props_rev_3"><a id="GUID-86F231EC-0230-4426-A934-6697E0222195" name="GUID-86F231EC-0230-4426-A934-6697E0222195"></a><h5 id="MULTI-GUID-86F231EC-0230-4426-A934-6697E0222195" class="sect5"><span class="enumeration_section">13.5.3.1</span>关于在CDB中运行Oracle提供的SQL脚本</h5>
                     <div>
                        <p>在CDB中， <code class="codeph">catcon.pl</code>脚本是运行SQL脚本和SQL语句的最佳方式。
                        </p>
                        <p>Oracle数据库安装包括几个SQL脚本。这些脚本执行诸如创建数据字典视图和安装选项之类的操作。</p>
                        <p><code class="codeph">catcon.pl</code>脚本可以以正确的顺序在根目录和指定的PDB中运行脚本，并生成日志文件，您可以查看这些文件以确认SQL脚本或SQL语句未产生意外错误。它还会启动多个进程，并在完成运行先前分配给它们的脚本时为它们分配新脚本。
                        </p>
                        <div class="infoboxnote" id="GUID-86F231EC-0230-4426-A934-6697E0222195__GUID-AB47C8F9-BFDD-4732-9919-CCFD08919330">
                           <p class="notep1">注意：</p>
                           <p></p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>除非在运行<code class="codeph">catcon.pl</code>时排除PDB种子，否则SQL脚本或SQL语句将在PDB种子上运行。
                                 </p>
                              </li>
                              <li>
                                 <p>您可以使用<code class="codeph">catcon.pl</code>脚本在CDB和非CDB上运行脚本。
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="administering-a-cdb-with-sql-plus.html#GUID-E307DC5F-52A9-4B1B-8999-3E60867009D4" title="您可以使用catcon.pl脚本在CDB中运行Oracle提供的SQL或SQL脚本。您可以针对任何指定的容器运行脚本。">在CDB中运行Oracle提供的SQL脚本</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN14075"></a><a id="ADMIN14074"></a><div class="props_rev_3"><a id="GUID-98F9A223-DE19-498B-8082-3A814F147D1F" name="GUID-98F9A223-DE19-498B-8082-3A814F147D1F"></a><h5 id="MULTI-GUID-98F9A223-DE19-498B-8082-3A814F147D1F" class="sect5"><span class="enumeration_section">13.5.3.2 catcon.pl的</span>语法和参数</h5>
                     <div>
                        <p><code class="codeph">catcon.pl</code>脚本是必须在操作系统提示符下运行的Perl脚本。
                        </p>
                        <div class="section">
                           <p><code class="codeph">catcon.pl</code>脚本具有以下语法和参数：</p><pre class="pre codeblock"><code>$ ORACLE_HOME / perl / bin / perl $ ORACLE_HOME / rdbms / admin / catcon.pl [--usr <span class="italic">username</span> [/ <span class="italic">password</span> ]] [--int_usr <span class="italic">username</span> [/ <span class="italic">password</span> ]] [--script_dir <span class="italic">directory</span> ] [--log_dir <span class="italic">directory</span> ] [{--incl_con | --excl_con} <span class="italic">container</span> ] [--echo] [--spool] [--error_logging {ON | errorlogging-table-other-than-SPERRORLOG}] [--app_con <span class="italic">application_root</span> ] [--no_set_errlog_ident] [--diag] [-ignore_unavailable_pdbs] [--verbose] [--force_pdb_mode <span class="italic">pdb_mode</span> ] [--recover] --log_file_base <span class="italic">log_file_name_base</span> -  { <span class="italic">SQL_script</span> [ <span class="italic">arguments</span> ] | <span class="italic">--x'SQL_statement</span> '}</code></pre><p>确保<code class="codeph">--x <span class="codeinlineitalic">SQL_statement</span></code>前面有<code class="codeph">--</code>如果它跟在任何单字母参数之后。如果<code class="codeph">--x <span class="codeinlineitalic">SQL_statement</span></code>前面有脚本名称或另一个<code class="codeph">--x <span class="codeinlineitalic">SQL_statement</span></code> ，那么不要在它前面加上<code class="codeph">--</code> 。另请注意，SQL语句必须位于单引号内。
                           </p>
                           <p>可以使用<code class="codeph">--p</code>引入SQL脚本的命令行参数。可以使用<code class="codeph">--P</code>引入SQL脚本的交互（或秘密）参数。</p>
                           <p>要查看<code class="codeph">catcon.pl</code>脚本的帮助， <code class="codeph">catcon.pl</code>目录更改为<code class="codeph">$ORACLE_HOME/perl/bin/</code> ，然后运行以下命令：</p><pre class="pre codeblock"><code>perl $ ORACLE_HOME / rdbms / admin / catcon.pl --help</code></pre><p><a href="administering-a-cdb-with-sql-plus.html#GUID-98F9A223-DE19-498B-8082-3A814F147D1F__BAJJBBGB" title="此表列出了每个catcon.pl参数，并提供了每个参数的说明。">表13-9</a>描述了<code class="codeph">catcon.pl</code>参数。参数是可选的，除非表明它是必需的。
                           </p>
                           <p>下表中的短参数名称用于向后兼容。某些参数没有短名称。</p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformal" id="GUID-98F9A223-DE19-498B-8082-3A814F147D1F__BAJJBBGB">
                           <p class="titleintable">表13-9 catcon.pl参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="catcon.pl参数" width="100%" border="1" summary="This table lists each catcon.pl parameter and provides a description for each parameter." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d54878e11402">参数</th>
                                    <th align="left" valign="bottom" width="75%" id="d54878e11405">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d54878e11410" headers="d54878e11402 ">
                                       <p><code class="codeph">--usr</code></p>
                                       <p>简称： <code class="codeph">-u</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d54878e11410 d54878e11405 ">
                                       <p>指定用于连接根和指定PDB的用户名和密码。指定具有运行SQL脚本或SQL语句所需权限的公共用户。默认为“ <code class="codeph">/ AS SYSDBA</code> ”。如果没有提供密码，则<code class="codeph">catcon.pl</code>会提示输入密码。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d54878e11428" headers="d54878e11402 ">
                                       <p><code class="codeph">--int_usr</code></p>
                                       <p>简称： <code class="codeph">-U</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d54878e11428 d54878e11405 ">
                                       <p>指定用于连接根和指定PDB的用户名和密码。指定具有执行内部任务所需权限的公共用户，例如查询CDB元数据。默认值为<code class="codeph">/ AS SYSDBA</code> 。如果没有提供密码，则<code class="codeph">catcon.pl</code>会提示输入密码。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d54878e11446" headers="d54878e11402 ">
                                       <p><code class="codeph">--script_dir</code></p>
                                       <p>简称： <code class="codeph">-d</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d54878e11446 d54878e11405 ">
                                       <p>包含SQL脚本的目录。默认值是当前目录。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d54878e11458" headers="d54878e11402 ">
                                       <p><code class="codeph">--log_dir</code></p>
                                       <p>简称： <code class="codeph">-l</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d54878e11458 d54878e11405 ">
                                       <p><code class="codeph">catcon.pl</code>写入日志文件的目录。默认值是当前目录。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d54878e11473" headers="d54878e11402 ">
                                       <p><code class="codeph">{--incl_con | --excl_con}</code></p>
                                       <p>短名称： <code class="codeph">{-c|-C}</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d54878e11473 d54878e11405 ">
                                       <p>运行SQL脚本或未运行SQL脚本的容器。</p>
                                       <p><code class="codeph">--incl_con</code>参数列出运行SQL脚本的容器。
                                       </p>
                                       <p><code class="codeph">--excl_con</code>参数列出未运行SQL脚本的容器。
                                       </p>
                                       <p>在用单引号括起来的以空格分隔的PDB名称列表中指定容器。</p>
                                       <p><code class="codeph">--incl_con</code>和<code class="codeph">--excl_con</code>参数是互斥的。
                                       </p>
                                       <p>使用此参数时，无法使用<code class="codeph">--app_con</code>参数。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d54878e11510" headers="d54878e11402 ">
                                       <p><code class="codeph">- 回声</code></p>
                                       <p>简称： <code class="codeph">-e</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d54878e11510 d54878e11405 ">
                                       <p>运行脚本时设置echo <code class="codeph">ON</code> 。默认为echo <code class="codeph">OFF</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d54878e11528" headers="d54878e11402 ">
                                       <p><code class="codeph">--spool</code></p>
                                       <p>简称： <code class="codeph">-s</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d54878e11528 d54878e11405 ">
                                       <p>将每个脚本的输出括起来，并使用以下名称：</p><pre class="pre codeblock"><code><span class="italic">log-file-name-base_script-name-without-extension_</span> [ <span class="italic">container-name-if-any</span> ]。 <span class="italic">默认扩展</span></code></pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d54878e11549" headers="d54878e11402 ">
                                       <p><code class="codeph">--error_logging</code></p>
                                       <p>简称： <code class="codeph">-E</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d54878e11549 d54878e11405 ">
                                       <p>设置为<code class="codeph">ON</code> ，使用默认错误记录表。<code class="codeph">ON</code>是默认设置。设置为<code class="codeph">ON</code> ，错误将写入运行SQL脚本的每个容器中当前模式中的表<code class="codeph">SPERRORLOG</code> 。如果容器中不存在此表，则会自动创建该表。
                                       </p>
                                       <p>指定<code class="codeph">SPERRORLOG</code>以外的表时， <code class="codeph">SPERRORLOG</code>错误写入指定的表。该表必须存在于运行SQL脚本的每个容器中，并且当前用户必须具有在每个容器中对表执行DML操作所必需的权限。
                                       </p>
                                       <p>有关错误日志记录表的详细信息，请参见“ <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=SQPUG160" target="_blank"><span><cite>SQL * Plus用户指南和参考</cite></span></a> ”。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d54878e11586" headers="d54878e11402 ">
                                       <p><code class="codeph">--app_con</code></p>
                                       <p>简称： <code class="codeph">-F</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d54878e11586 d54878e11405 ">
                                       <p>指定应用程序根目录。脚本在应用程序根目录和插入应用程序根目录的应用程序PDB中运行。</p>
                                       <p>使用此参数时，不能使用<code class="codeph">--incl_con</code>和<code class="codeph">--excl_con</code>参数。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d54878e11606" headers="d54878e11402 ">
                                       <p><code class="codeph">--no_set_errlog_ident</code></p>
                                       <p>简称： <code class="codeph">-I</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d54878e11606 d54878e11405 ">
                                       <p>不要发出<code class="codeph">SET ERRORLOGGING</code>标识符。此选项适用于已设置<code class="codeph">SET ERRORLOGGING</code>标识符且不应覆盖的情况。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d54878e11624" headers="d54878e11402 ">
                                       <p><code class="codeph">--diag</code></p>
                                       <p>简称： <code class="codeph">-g</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d54878e11624 d54878e11405 ">
                                       <p>打开调试信息的生成。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d54878e11637" headers="d54878e11402 ">
                                       <p><code class="codeph">--verbose</code></p>
                                       <p>简称： <code class="codeph">-v</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d54878e11637 d54878e11405 ">
                                       <p>打开详细输出。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d54878e11649" headers="d54878e11402 ">
                                       <p><code class="codeph">--ignore_unavailable_pdbs</code></p>
                                       <p>简称： <code class="codeph">-f</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d54878e11649 d54878e11405 ">
                                       <p>忽略已关闭的PDB，或者，如果使用<code class="codeph">--incl_con</code>或<code class="codeph">--excl_con</code>选项，则不存在并仅处理显式或隐式指定的打开的PDB。
                                       </p>
                                       <p>如果未指定此选项且某些指定的PDB不存在或未打开，则会返回错误并且不会处理任何容器。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d54878e11669" headers="d54878e11402 ">
                                       <p><code class="codeph">--force_pdb_mode</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d54878e11669 d54878e11405 ">
                                       <p>运行脚本的所有PDB所需的打开模式。指定以下值之一：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">UNCHANGED</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">读写</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">只读</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">升级</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">DOWNGRADE</code></p>
                                          </li>
                                       </ul>
                                       <p>如果指定了<code class="codeph">UNCHANGED</code>以外的值，则运行该脚本的所有PDB都将更改为指定的打开模式。如果PDB以不同模式打开，则PDB将关闭并以指定模式重新打开。运行所有脚本后，每个PDB都将恢复到其原始打开模式。
                                       </p>
                                       <p>如果指定了<code class="codeph">UNCHANGED</code> （默认值），则不会更改PDB的打开模式。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d54878e11708" headers="d54878e11402 ">
                                       <p><code class="codeph">- 恢复</code></p>
                                       <p>简称： <code class="codeph">-R</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d54878e11708 d54878e11405 ">
                                       <p>如果生成的SQL * Plus进程意外终止，则会导致<code class="codeph">catcon.pl</code>尝试恢复。如果未指定此参数，则<code class="codeph">catcon.pl</code>不会尝试恢复该进程并关闭。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d54878e11726" headers="d54878e11402 ">
                                       <p><code class="codeph">--log_file_base</code></p>
                                       <p>简称： <code class="codeph">-b</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d54878e11726 d54878e11405 ">
                                       <p>（必需）日志文件名的基本名称。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="administering-a-cdb-with-sql-plus.html#GUID-E307DC5F-52A9-4B1B-8999-3E60867009D4" title="您可以使用catcon.pl脚本在CDB中运行Oracle提供的SQL或SQL脚本。您可以针对任何指定的容器运行脚本。">在CDB中运行Oracle提供的SQL脚本</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN14077"></a><a id="ADMIN14078"></a><a id="ADMIN14079"></a><a id="ADMIN14080"></a><a id="ADMIN14187"></a><a id="ADMIN14292"></a><a id="ADMIN14076"></a><div class="props_rev_3"><a id="GUID-4A64CE26-DD34-4543-B08E-6B4C61A24BAB" name="GUID-4A64CE26-DD34-4543-B08E-6B4C61A24BAB"></a><h5 id="MULTI-GUID-4A64CE26-DD34-4543-B08E-6B4C61A24BAB" class="sect5"><span class="enumeration_section">13.5.3.3</span>运行catcon.pl脚本</h5>
                     <div>
                        <p>示例说明了运行<code class="codeph">catcon.pl</code>脚本。
                        </p>
                        <div class="section">
                           <p>如果<code class="codeph">catcon.pl</code>运行的SQL脚本或SQL语句执行数据操作语言（DML）或数据定义语言（DDL）操作， <code class="codeph">catcon.pl</code>修改的容器必须处于读/写模式。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-4A64CE26-DD34-4543-B08E-6B4C61A24BAB__GUID-2C6DDCDB-C35D-42E1-98DC-D0A96CA14353">要运行catcon.pl脚本：</p>
                           <ol>
                              <li>
                                 <p>打开命令行提示符。</p>
                              </li>
                              <li>
                                 <p>运行<code class="codeph">catcon.pl</code>脚本并指定一个或多个SQL脚本或SQL语句：</p><pre class="pre codeblock"><code>cd $ ORACLE_HOME / perl / bin / perl $ ORACLE_HOME / rdbms / admin / catcon.pl <span class="italic">参数</span> <span class="italic">SQL_script</span> perl $ ORACLE_HOME / rdbms / admin / catcon.pl <span class="italic">参数</span> -  --x <span class="italic">SQL_statement</span>
</code></pre></li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-4A64CE26-DD34-4543-B08E-6B4C61A24BAB__BAJGFCJF">
                           <p class="titleinexample">示例13-35在CDB中的所有容器中运行catblock.sql脚本</p>
                           <p>以下示例在<code class="codeph">catblock.sql</code>的所有容器中运行<code class="codeph">catblock.sql</code>脚本。</p><pre class="pre codeblock"><code>$ ORACLE_HOME / perl / bin / perl $ ORACLE_HOME / rdbms / admin / catcon.pl --usr SYS --script_dir $ ORACLE_HOME / rdbms / admin --log_file_base catblock_output catblock.sql</code></pre><p>指定了以下参数：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">--usr</code>参数指定<code class="codeph">SYS</code>用户在每个容器中运行脚本。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">--script_dir</code>参数指定SQL脚本位于<code class="codeph">$ORACLE_HOME/rdbms/admin</code>目录中。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">--log_file_base</code>参数指定日志文件名的基本名称是<code class="codeph">catblock_output</code> 。
                                 </p>
                              </li>
                           </ul>
                           <p>默认参数值用于所有其他参数。既未指定<code class="codeph">--incl_con</code>也未指定<code class="codeph">--excl_con</code>参数。因此，catcon.pl默认在所有容器中运行脚本。
                           </p>
                        </div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-4A64CE26-DD34-4543-B08E-6B4C61A24BAB__BAJBDEAD">
                           <p class="titleinexample">示例13-36在特定PDB中运行catblock.sql脚本</p>
                           <p>以下示例在<code class="codeph">catblock.sql</code>中的<code class="codeph">hrpdb</code>和<code class="codeph">salespdb</code> PDB中运行<code class="codeph">catblock.sql</code>脚本。</p><pre class="pre codeblock"><code>$ ORACLE_HOME / perl / bin / perl $ ORACLE_HOME / rdbms / admin / catcon.pl --usr SYS --int_usr SYS --script_dir $ ORACLE_HOME / rdbms / admin --log_dir'/ disk1 / script_output' -  incl_con'HRPDB SALESPDB '--log_file_base catblock_output catblock.sql</code></pre><p>指定了以下参数：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">--usr</code>参数指定<code class="codeph">SYS</code>用户在每个容器中运行脚本。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">--int_usr</code>参数指定<code class="codeph">SYS</code>用户执行内部任务。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">--script_dir</code>参数指定SQL脚本位于<code class="codeph">$ORACLE_HOME/rdbms/admin</code>目录中。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">--log_dir</code>参数指定输出文件放在<code class="codeph">/disk1/script_output</code>目录中。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">--incl_con</code>参数指定SQL脚本在<code class="codeph">hrpdb</code>和<code class="codeph">salespdb</code> PDB中运行。该脚本不在CDB中的任何其他容器中运行。</p>
                              </li>
                              <li>
                                 <p><code class="codeph">--log_file_base</code>参数指定日志文件名的基本名称是<code class="codeph">catblock_output</code> 。
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-4A64CE26-DD34-4543-B08E-6B4C61A24BAB__BAJEHDJD">
                           <p class="titleinexample">示例13-37在特定PDB之外的所有容器中运行catblock.sql脚本</p>
                           <p>以下示例在<code class="codeph">catblock.sql</code>中的所有容器中运行<code class="codeph">catblock.sql</code>脚本，但<code class="codeph">hrpdb</code>和<code class="codeph">salespdb</code> PDB除外。
                           </p><pre class="pre codeblock"><code>$ ORACLE_HOME / perl / bin / perl $ ORACLE_HOME / rdbms / admin / catcon.pl --usr SYS --script_dir $ ORACLE_HOME / rdbms / admin --log_dir'/ disk1 / script_output'-excl_con'HRPDB SALESPDB'--log_file_base catblock_output catblock.sql</code></pre><p>指定了以下参数：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">--usr</code>参数指定<code class="codeph">SYS</code>用户在每个容器中运行脚本。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">--script_dir</code>参数指定SQL脚本位于<code class="codeph">$ORACLE_HOME/rdbms/admin</code>目录中。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">--log_dir</code>参数指定输出文件放在<code class="codeph">/disk1/script_output</code>目录中。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">--excl_con</code>参数指定SQL脚本在CDB中的所有容器中运行，但<code class="codeph">hrpdb</code>和<code class="codeph">salespdb</code> PDB除外。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">--log_file_base</code>参数指定日志文件名的基本名称是<code class="codeph">catblock_output</code> 。
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-4A64CE26-DD34-4543-B08E-6B4C61A24BAB__BAJIFBEH">
                           <p class="titleinexample">示例13-38使用命令行参数运行SQL脚本</p>
                           <p>以下示例在<code class="codeph">custom_script.sql</code>的所有容器中运行<code class="codeph">custom_script.sql</code>脚本。</p><pre class="pre codeblock"><code>cd $ ORACLE_HOME / perl / bin / perl $ ORACLE_HOME / rdbms / admin / catcon.pl --usr SYS --script_dir / u01 / scripts --log_file_base custom_script_output custom_script.sql'-phr'' - 用户hr的输入密码：”</code></pre><p>指定了以下参数：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">--usr</code>参数指定<code class="codeph">SYS</code>用户在每个容器中运行脚本。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">--script_dir</code>参数指定SQL脚本位于/ u01 / scripts目录中。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">--log_file_base</code>参数指定日志文件名的基本名称为<code class="codeph">custom_script_output</code> 。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">--p</code>参数指定命令行参数的<code class="codeph">hr</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">--P</code>参数指定提示输入用户<code class="codeph">hr</code>密码的交互式参数。
                                 </p>
                              </li>
                           </ul>
                           <p>默认参数值用于所有其他参数。既未指定<code class="codeph">-incl_con</code>也未指定<code class="codeph">-excl_con</code>参数。因此，catcon.pl默认在所有容器中运行脚本。
                           </p>
                        </div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-4A64CE26-DD34-4543-B08E-6B4C61A24BAB__BAJHBJAE">
                           <p class="titleinexample">示例13-39在CDB中的所有容器中运行SQL语句</p>
                           <p>以下示例在CDB的所有容器中运行SQL语句。</p><pre class="pre codeblock"><code>cd $ ORACLE_HOME / perl / bin / perl $ ORACLE_HOME / rdbms / admin / catcon.pl --usr SYS --echo --log_file_base select_output  -  --x“SELECT * FROM DUAL”</code></pre><p>指定了以下参数：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">--usr</code>参数指定<code class="codeph">SYS</code>用户在每个容器中运行脚本。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">--echo</code>参数显示SQL语句的输出。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">--log_file_base</code>参数指定日志文件名的基本名称是<code class="codeph">select_output</code> 。
                                 </p>
                              </li>
                              <li>
                                 <p>SQL语句<code class="codeph">SELECT * FROM DUAL</code>在引号内，前面<code class="codeph">--x</code> 。因为<code class="codeph">--x</code>前面有一个参数（ <code class="codeph">--log_file_base</code> ），所以它必须以<code class="codeph">--</code> <code class="codeph">--log_file_base</code> 。
                                 </p>
                              </li>
                           </ul>
                           <p>默认参数值用于所有其他参数。既未指定<code class="codeph">-incl_con</code>也未指定<code class="codeph">-excl_con</code>参数。因此，默认情况下，catcon.pl在所有容器中运行SQL语句。
                           </p>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-4A64CE26-DD34-4543-B08E-6B4C61A24BAB__GUID-4FB6294C-7A3A-4683-9578-12DB6F6C6258">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-322C5C03-4C48-40CD-8230-0BA5F16BF96B" title="您可以使用ALTER PLUGGABLE DATABASE SQL语句或SQL * Plus STARTUP命令修改PDB的打开模式。">修改一个或多个PDB的开放模式</a> ”</span></p>
                              </li>
                              <li>
                                 <p>有关<code class="codeph">catblock.sql</code>脚本的信息，请<code class="codeph">catblock.sql</code> <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=ADMIN-GUID-D6146406-ADA2-443A-A843-137FA427ABED" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a></p>
                              </li>
                              <li>
                                 <p>有关SQL脚本的详细信息，请<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=REFRN005" target="_blank"><span><cite>参见Oracle数据库SQL语言参考</cite></span></a></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="administering-a-cdb-with-sql-plus.html#GUID-E307DC5F-52A9-4B1B-8999-3E60867009D4" title="您可以使用catcon.pl脚本在CDB中运行Oracle提供的SQL或SQL脚本。您可以针对任何指定的容器运行脚本。">在CDB中运行Oracle提供的SQL脚本</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN14211"></a><a id="ADMIN14185"></a><div class="props_rev_3"><a id="GUID-136666E0-2BF9-4538-8D60-11505898E5E2" name="GUID-136666E0-2BF9-4538-8D60-11505898E5E2"></a><h4 id="MULTI-GUID-136666E0-2BF9-4538-8D60-11505898E5E2" class="sect4"><span class="enumeration_section">13.5.4</span>使用DBMS_SQL包在容器中执行代码</h4>
                  <div>
                     <p>当您在CDB中的容器中执行PL / SQL代码，并且要在不同容器中执行一个或多个SQL语句时，请使用<code class="codeph">DBMS_SQL</code>包来切换容器。
                     </p>
                     <div class="section">
                        <p>例如，当您需要在多个容器中执行相同的操作时，可以使用<code class="codeph">DBMS_SQL</code>包来切换容器。
                        </p>
                        <p>以下是使用<code class="codeph">DBMS_SQL</code>切换容器的注意事项：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>事务不能跨越多个容器。</p>
                              <p>如果必须在目标容器中执行的操作集需要事务，则考虑使用自治事务并执行提交或回滚作为最后一个操作。</p>
                           </li>
                           <li>
                              <p>不允许使用<code class="codeph">SET</code> <code class="codeph">ROLE</code>语句。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-136666E0-2BF9-4538-8D60-11505898E5E2__GUID-7DCFA972-1EAE-4968-9F39-945D3A0DA899">
                        <p class="titleinexample">示例13-40在多个容器中执行相同的操作</p>
                        <p>此示例包括一个PL / SQL块，它在两个PDB（ <code class="codeph">pdb1</code>和<code class="codeph">pdb2</code> ）中的<code class="codeph">hr</code>模式中创建<code class="codeph">identact</code>表。该示例还在两个PDB中的<code class="codeph">identact</code>表中插入一行。
                        </p><pre class="pre codeblock"><code>DECLARE c1 INTEGER; rowcount INTEGER; taskList VARCHAR2（32767）：='DECLARE PRAGMA AUTOUSOUS TRANSACTION; BEGIN  - 创建hr.identact表。EXECUTE IMMEDIATE''CREATE TABLE hr.identact（actionno NUMBER（4）NOT NULL，action VARCHAR2（10））'';执行立即''插入标识值（1，'ACTION1'）''; - 如果任务包含DML，则需要提交。承诺;其他时间例外 - 如果有错误，请丢弃表格。BEGIN EXECUTE IMMEDIATE''DROP TABLE identact'';除非其他人之外的例外情况;结束;结束;'; TYPE containerListType IS TABLE OF VARCHAR2（128）INDEX BY PLS_INTEGER; containerList containerListType; BEGIN containerList（1）：='PDB1'; containerList（2）：='PDB2'; c1：= DBMS_SQL.OPEN_CURSOR; FOR conIndex IN containerList.first..containerList.last LOOP DBMS_OUTPUT.PUT_LINE（'在容器中创建：'|| containerList（conIndex））; DBMS_SQL.PARSE（c =&gt; c1，statement =&gt; taskList，language_flag =&gt; DBMS_SQL.NATIVE，edition =&gt; NULL，apply_crossedition_trigger =&gt; NULL，fire_apply_trigger =&gt; NULL，schema =&gt;'HR'，container =&gt; containerList（conIndex） ）; rowcount：= DBMS_SQL.EXECUTE（c =&gt; c1）;结束循环; DBMS_SQL.CLOSE_CURSOR（C =&gt; C 1）;结束; /</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-136666E0-2BF9-4538-8D60-11505898E5E2__GUID-34423C3F-B32B-4172-8DED-B4AAC8705C82">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>有关<code class="codeph">DBMS_SQL</code>包的更多信息，请<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=ARPLS058" target="_blank"><span><cite>参见Oracle Database PL / SQL包和类型参考</cite></span></a></p>
                           </li>
                           <li>
                              <p>有关自治事务的更多信息，请<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=LNPLS00609" target="_blank"><span><cite>参见Oracle Database PL / SQL语言参考</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="administering-a-cdb-with-sql-plus.html#GUID-BB89431A-D14E-42EF-9B08-AFCC107C6683" title="要在一个或多个容器中执行SQL，请对DML使用CONTAINERS子句，对DDL使用CONTAINER子句。">在多个容器中执行SQL</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN13661"></a><div class="props_rev_3"><a id="GUID-B2AC2F0B-F55E-40CD-AF37-A09E31BAA732" name="GUID-B2AC2F0B-F55E-40CD-AF37-A09E31BAA732"></a><h3 id="MULTI-GUID-B2AC2F0B-F55E-40CD-AF37-A09E31BAA732" class="sect3"><span class="enumeration_section">13.6</span>关闭CDB实例</h3>
               <div>
                  <p>您可以按照关闭非CDB实例的方式关闭CDB实例。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-B2AC2F0B-F55E-40CD-AF37-A09E31BAA732__GUID-E4BD83B2-B9DC-4CE1-AB15-65DBF13B84B7">先决条件</p>
                     <p>必须满足以下先决条件：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>必须安装或打开CDB实例。</p>
                        </li>
                        <li>
                           <p>当前用户必须是具有<code class="codeph">SYSDBA</code> ， <code class="codeph">SYSOPER</code> ， <code class="codeph">SYSBACKUP</code>或<code class="codeph">SYSDG</code>管理权限的普通用户。要关闭CDB，必须在连接时分别使用<code class="codeph">AS</code> <code class="codeph">SYSDBA</code> ， <code class="codeph">AS</code> <code class="codeph">SYSOPER</code> ， <code class="codeph">AS</code> <code class="codeph">SYSBACKUP</code>或<code class="codeph">AS</code> <code class="codeph">SYSDG</code>来执行此权限。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-B2AC2F0B-F55E-40CD-AF37-A09E31BAA732__GUID-346FDA34-68C3-4EC2-9FC8-1D1C14493139">要关闭CDB：</p>
                     <ol>
                        <li>
                           <p>在SQL * Plus中，确保当前容器是根。</p>
                           <p>请参阅<span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-ACC9EEE3-2F98-4AAF-8F59-60E3334C7C92" title="您可以使用SQL * Plus CONNECT命令连接到根或PDB。">使用SQL * Plus CONNECT命令连接到容器</a> ”</span> 。
                           </p>
                        </li>
                        <li>
                           <p>关闭CDB实例。</p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section"></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-B2AC2F0B-F55E-40CD-AF37-A09E31BAA732__GUID-57BC4005-3AF4-4C90-9C92-52CEB20E2F1E">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-322C5C03-4C48-40CD-8230-0BA5F16BF96B" title="您可以使用ALTER PLUGGABLE DATABASE SQL语句或SQL * Plus STARTUP命令修改PDB的打开模式。">修改一个或多个PDB的开放模式</a> ”</span></p>
                        </li>
                        <li>
                           <p><span class="q">“ <a href="administering-a-cdb-with-sql-plus.html#GUID-E1BBCE0F-76CA-49F3-9A6B-AC6B13AB9AC5" title="CDB中每个容器中的数据字典是独立的，当前容器是其数据字典用于名称解析和权限授权的容器。">关于当前的容器</a> ”</span></p>
                        </li>
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/multi&amp;id=ADMIN-GUID-3661B282-5C34-4E32-BC6A-906A72712866" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a> ，了解如何关闭实例</p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="administering-a-cdb-with-sql-plus.html#GUID-2E5025EE-BED3-45A4-9EAA-B05C8DA66F97" title="管理多租户容器数据库（CDB）包括访问容器，修改CDB，执行DDL语句以及运行Oracle提供的SQL脚本等任务。">管理CDB</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>