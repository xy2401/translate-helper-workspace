<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>监控实时数据库性能</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Database 2 Day + Performance Tuning Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Database 2 Day + Performance Tuning Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-2-day-performance-tuning-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-12T02:50:24-08:00"></meta>
      <meta name="dcterms.title" content="Database 2 Day + Performance Tuning Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="2007, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96346-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="automatic-database-performance-monitoring.html" title="Previous" type="text/html"></link>
      <link rel="next" href="monitoring-real-time-database-operations.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="TDPPT"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="automatic-database-performance-monitoring.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="monitoring-real-time-database-operations.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">数据库2天+性能调整指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part-II-proactive-database-tuning.html" property="item" typeof="WebPage"><span property="name">主动数据库调整</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">监控实时数据库性能</li>
            </ol>
            <a id="GUID-EB19F9B4-A912-4354-8D8D-F89EEFD56704" name="GUID-EB19F9B4-A912-4354-8D8D-F89EEFD56704"></a><a id="TDPPT033"></a>
            
            <h2 id="TDPPT-GUID-EB19F9B4-A912-4354-8D8D-F89EEFD56704" class="sect2"><span class="enumeration_chapter">4</span>监控实时数据库性能</h2>
         </header>
         <div class="ind">
            <div>
               <p><a id="d7824e79" class="indexterm-anchor"></a><a id="d7824e83" class="indexterm-anchor"></a><a id="d7824e87" class="indexterm-anchor"></a><a id="d7824e91" class="indexterm-anchor"></a>自动数据库诊断监视器（ADDM）自动识别数据库的性能问题，如<a href="automatic-database-performance-monitoring.html#GUID-5D73B7DC-BC9A-4029-A741-2BF9EBB45AE9" title="从Oracle Database 12c开始，默认情况下在多租户容器数据库（CDB）的根容器中启用ADDM。从Oracle Database 19c开始，您还可以在可插拔数据库（PDB）中使用ADDM。">自动数据库性能监视中所述</a> 。有关性能的信息显示在Oracle Enterprise Manager云控制（云控制）的“性能”页面上。
               </p>
               <p>通过从“性能”页面向下钻取到其他页面，您可以实时识别数据库性能问题。如果发现问题，则可以手动运行ADDM以立即对其进行分析，而无需等到下一次ADDM分析。要了解如何<span class="q"><a href="manual-database-performance-monitoring.html#GUID-1B3374FB-A4D0-477D-902B-F4FF4E7F93CE">手动运行ADDM</a></span> ，请参阅<span class="q">“ <a href="manual-database-performance-monitoring.html#GUID-1B3374FB-A4D0-477D-902B-F4FF4E7F93CE">手动运行ADDM以分析当前数据库性能</a> ”</span> 。
               </p>
               <p>本章介绍如何监视数据库活动的某些方面。它包含以下部分：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="monitoring-real-time-database-performance.html#GUID-EE9118C7-708A-488F-A332-4ECFA6638A07">监控用户活动</a></p>
                  </li>
                  <li>
                     <p><a href="monitoring-real-time-database-performance.html#GUID-F405EE4E-F0A9-42AB-AC3C-4FA6F29DE6AC">监控实例活动</a></p>
                  </li>
                  <li>
                     <p><a href="monitoring-real-time-database-performance.html#GUID-3D9C9784-ECCA-434C-B247-3EBED3E88A97">监控主机活动</a></p>
                  </li>
                  <li>
                     <p><a href="monitoring-real-time-database-performance.html#GUID-84551E4C-9D0E-4580-8B89-FAE9DD6A44D1">确定数据库活动中峰值的原因</a></p>
                  </li>
                  <li>
                     <p><a href="monitoring-real-time-database-performance.html#GUID-81073595-A0B0-474C-937B-376B58D7C414">自定义“数据库性能”页面</a></p>
                  </li>
               </ul>
            </div><a id="TDPPT513"></a><a id="TDPPT514"></a><a id="TDPPT034"></a><div class="props_rev_3"><a id="GUID-EE9118C7-708A-488F-A332-4ECFA6638A07" name="GUID-EE9118C7-708A-488F-A332-4ECFA6638A07"></a><h3 id="TDPPT-GUID-EE9118C7-708A-488F-A332-4ECFA6638A07" class="sect3"><span class="enumeration_section">4.1</span>监控用户活动</h3>
               <div>
                  <div class="section">
                     <p><a id="d7824e223" class="indexterm-anchor"></a><a id="d7824e227" class="indexterm-anchor"></a><a id="d7824e231" class="indexterm-anchor"></a><a id="d7824e235" class="indexterm-anchor"></a>如<a href="oracle-database-performance-method.html#GUID-6203E485-FA06-4EE3-9003-4449FBDE214B">Oracle数据库性能方法中所述</a> ，数据库时间（DB时间）是总数据库实例工作负载的指示器。一段时间内的<span class="bold">平均活动会话</span>数等于该时段内所有用户会话的总数据库时间除以该时段的经过时间（挂钟时间）。
                     </p>
                     <p>“性能”页面上的“平均活动会话数”图表显示了该时间段内CPU使用率和等待类的平均活动会话数。通过遵循<a href="oracle-database-performance-method.html#GUID-6203E485-FA06-4EE3-9003-4449FBDE214B">Oracle数据库</a>性能方法中介绍的<a href="oracle-database-performance-method.html#GUID-6203E485-FA06-4EE3-9003-4449FBDE214B">性能方法</a> ，您可以从图表中向下钻取以确定与实例相关的性能问题的原因并解决它们。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-EE9118C7-708A-488F-A332-4ECFA6638A07__GUID-6F44D101-F0D1-4E12-B567-B8C3588D7778">监控用户活动：</p>
                     <ol>
                        <li>
                           <p>访问数据库主页。</p>
                           <p>有关详细信息，请参阅<span class="q">“ <a href="introduction.html#GUID-653C25F9-71B4-4E26-8902-12BC20B20270">访问数据库主页</a> ”</span> 。
                           </p>
                        </li>
                        <li>
                           <p>从“ <span class="bold">性能”</span>菜单中，选择“ <span class="bold">性能主页”</span> 。
                           </p>
                           <p>如果出现“数据库登录”页面，则以具有管理员权限的用户身份登录。将出现“性能”页面。</p>
                        </li>
                        <li>
                           <p>在“平均活动会话堆积面积”图表中找到任何尖峰或其他感兴趣的区域。</p>
                           <p><a href="monitoring-real-time-database-performance.html#GUID-EE9118C7-708A-488F-A332-4ECFA6638A07__BJFHDAIG">图4-1</a>显示了“性能”页面上“平均活动会话”图表的示例。
                           </p>
                           <div class="figure" id="GUID-EE9118C7-708A-488F-A332-4ECFA6638A07__BJFHDAIG">
                              <p class="titleinfigure">图4-1平均活动会话图表</p><img src="img/average_active_sess.gif" alt="下面是图4-1的描述" title="下面是图4-1的描述" longdesc="img_text/average_active_sess.html"><br><a href="img_text/average_active_sess.html">“图4-1平均活动会话图表”的说明</a></div>
                           <!-- class="figure" -->
                           <p><a id="d7824e290" class="indexterm-anchor"></a>堆积面积图上的每个颜色填充区域显示指定时间内指定事件的平均活动会话。在图表中，每个事件的平均活动会话数量都堆叠在其下方。事件按图例中显示的顺序显示在图表上，其中CPU在y轴上从零开始，其他事件按升序堆叠，从CPU等待到其他。等待类通过等待磁盘I / O等资源来显示消耗了多少数据库活动。</p>
                           <p>例如，在<a href="monitoring-real-time-database-performance.html#GUID-EE9118C7-708A-488F-A332-4ECFA6638A07__BJFHDAIG">图4-1</a>中大约下午1点26分，五个事件在采样时间间隔内消耗数据库时间：CPU，CPU等待，调度程序，并发和其他。总平均活跃会话总数为2.1。CPU的平均活动会话值约为1.52，对于CPU Wait约为0.38，对于Scheduler约为.03，对于Concurrency约为.16，对于Other，它约为.01。
                           </p>
                           <p>y轴上2处的CPU Cores行表示主机系统上的CPU数。当CPU值达到CPU Cores行时，数据库实例占用系统上100％的CPU时间。</p>
                           <p>在<a href="monitoring-real-time-database-performance.html#GUID-EE9118C7-708A-488F-A332-4ECFA6638A07__BJFHDAIG">图4-1中</a> ，图表显示大多数活动发生在1:20至1:28和约1:53至2:20。1:20和1:28之间的大多数活动是CPU使用率，大约1:59之后的大部分活动都是如此。等待课程活动在1:56和2:12之间飙升了几次，并且从大约1:52到大约2:08消耗了大量的数据库时间。
                           </p>
                        </li>
                        <li>
                           <p>要标识每个等待类，请将光标移动到与该类对应的“平均活动会话”图表中的区域上。</p>
                           <p>相应的等待类在图表图例中突出显示。</p>
                        </li>
                        <li>
                           <p>单击图表上最大的颜色区域或图例中的相应等待类，以深入查看具有最平均活动会话的等待类。</p>
                           <p>如果单击<span class="bold">CPU</span>或<span class="bold">CPU Wait</span> ，则会显示Active Sessions Working：CPU + CPU Wait页面。如果单击其他等待类（例如<span class="bold">用户I / O）</span> ，则会显示该等待类的“活动会话等待”页面。<a href="monitoring-real-time-database-performance.html#GUID-EE9118C7-708A-488F-A332-4ECFA6638A07__CBBEFIFH">图4-2</a>显示了“活动会话工作：CPU + CPU等待”页面。
                           </p>
                           <div class="figure" id="GUID-EE9118C7-708A-488F-A332-4ECFA6638A07__CBBEFIFH">
                              <p class="titleinfigure">图4-2活动会话工作页面</p><img src="img/act_sess_wrk.gif" alt="下面是图4-2的描述" title="下面是图4-2的描述" longdesc="img_text/act_sess_wrk.html"><br><a href="img_text/act_sess_wrk.html">“图4-2活动会话工作页面”的说明</a></div>
                           <!-- class="figure" -->
                           <p>“活动会话工作”页面显示1小时的时间表。每个等待类的详细信息以5分钟为间隔显示在“选定的5分钟间隔的详细信息”下。</p>
                           <p>您可以通过以下部分之一查看不同维度的等待类的详细信息：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="monitoring-real-time-database-performance.html#GUID-8C13045B-74F0-470E-997B-E14BF638D543">监控Top SQL</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="monitoring-real-time-database-performance.html#GUID-F89D9B48-A4CA-4AC6-80FB-81EF8BB78DFC">监控热门会议</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="monitoring-real-time-database-performance.html#GUID-AA0DE09F-0871-4585-B3A1-8654F94A752E">监控顶级服务</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="monitoring-real-time-database-performance.html#GUID-8EBB7BAE-9F77-45DB-8461-D68CE5B7CAFC">监控顶级模块</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="monitoring-real-time-database-performance.html#GUID-7E673E50-373A-4AD5-856F-9049BDEFFA37">监控热门行动</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="monitoring-real-time-database-performance.html#GUID-7939C906-3ED3-4EDD-B80B-AEDBEF0F0083">监控顶级客户</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="monitoring-real-time-database-performance.html#GUID-B3248F50-0997-4D36-9EDC-0BB6047EAA60">监控Top PL / SQL</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="monitoring-real-time-database-performance.html#GUID-320DA3EA-B580-418C-A4DC-B7E06A9FD7AF">监控热门文件</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="monitoring-real-time-database-performance.html#GUID-0228DCAF-1CE7-4948-A17F-042AFD5F2B81">监控顶级对象</a> ”</span></p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>要更改选定的时间间隔，请将图表上的阴影区域拖动到不同的间隔。</p>
                           <p>“选定的5分钟间隔详细信息”部分中包含的信息将自动更新，以显示所选的时间段。</p>
                           <p>在<a href="monitoring-real-time-database-performance.html#GUID-EE9118C7-708A-488F-A332-4ECFA6638A07__CBBEFIFH">图4-2</a>所示的示例中，为CPU和CPU等待类选择了从9:59到10:04的5分钟间隔。
                           </p>
                        </li>
                        <li>
                           <p>如果发现性能问题，则可以尝试实时解决。在“性能”页面上，执行以下操作之一：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>在“平均活动会话数”图表下方，单击与此时间段运行ADDM时出现性能问题的时间对应的快照。</p>
                                 <p>有关ADDM分析的信息，请参阅<span class="q">“ <a href="automatic-database-performance-monitoring.html#GUID-65D484C5-C39C-44DE-B2AA-B0BE39A9682F">查看自动数据库诊断监视器分析</a> ”</span> 。
                                 </p>
                              </li>
                              <li>
                                 <p>单击<span class="bold">“立即运行ADDM”</span>以手动创建快照。
                                 </p>
                                 <p>有关手动创建快照的信息，请参阅<span class="q">“ <a href="automatic-database-performance-monitoring.html#GUID-A92E1AE8-3CCC-4F37-88B3-FB6F6C45C510">创建快照</a> ”</span> 。有关<span class="q"><a href="manual-database-performance-monitoring.html#GUID-1B3374FB-A4D0-477D-902B-F4FF4E7F93CE">手动运行ADDM的</a></span>信息，请参阅<span class="q">“ <a href="manual-database-performance-monitoring.html#GUID-1B3374FB-A4D0-477D-902B-F4FF4E7F93CE">手动运行ADDM以分析当前数据库性能</a> ”</span> 。
                                 </p>
                              </li>
                              <li>
                                 <p>单击<span class="bold">“运行ASH报告”</span>以创建活动会话历史记录（ASH）报告，以分析瞬态，短期性能问题。
                                 </p>
                                 <p>有关ASH报告的信息，请参阅<span class="q">“ <a href="resolving-transient-performance-problems.html#GUID-7316A970-330C-4F1B-9F9A-7623EFE5B38C">活动会话历史报告</a> ”</span> 。
                                 </p>
                              </li>
                           </ul>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
               </div><a id="TDPPT035"></a><div class="props_rev_3"><a id="GUID-8C13045B-74F0-470E-997B-E14BF638D543" name="GUID-8C13045B-74F0-470E-997B-E14BF638D543"></a><h4 id="TDPPT-GUID-8C13045B-74F0-470E-997B-E14BF638D543" class="sect4"><span class="enumeration_section">4.1.1</span>监控Top SQL</h4>
                  <div>
                     <div class="section">
                        <p><a id="d7824e526" class="indexterm-anchor"></a><a id="d7824e530" class="indexterm-anchor"></a>在Active Sessions Working页面上，Top Working SQL表显示了主动运行消耗CPU资源的SQL语句的数据库活动。Activity（％）列显示每个SQL语句使用的此活动的百分比。如果一个或多个SQL语句占用了大部分活动，那么您应该对它们进行调查。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8C13045B-74F0-470E-997B-E14BF638D543__GUID-6F0D47E4-81EC-4BD3-86EB-12EC75CD7C8E">要监视最常用的SQL语句：</p>
                        <ol>
                           <li>
                              <p>访问“性能”页面，如<span class="q">“ <a href="monitoring-real-time-database-performance.html#GUID-EE9118C7-708A-488F-A332-4ECFA6638A07">监控用户活动</a> ”中所述</span> 。
                              </p>
                           </li>
                           <li>
                              <p>在“平均活动会话数”图表中，单击图表上的CPU或CPU等待区域或图例中的相应等待类。</p>
                              <p>将显示“活动会话工作”页面。</p>
                           </li>
                           <li>
                              <p>在Top Working SQL表中，单击最活跃的SQL语句的<span class="bold">SQL ID</span>链接。例如，在<a href="monitoring-real-time-database-performance.html#GUID-EE9118C7-708A-488F-A332-4ECFA6638A07__CBBEFIFH">图4-2中</a> ，最活跃的SQL语句的SQL ID是<code class="codeph">ddthrb7j9a63f</code> 。
                              </p>
                              <p>将出现“SQL详细信息”页面</p>
                              <p>对于占用大部分等待时间的SQL语句，请使用SQL Tuning Advisor或创建SQL调优集来调整有问题的SQL语句。</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-8C13045B-74F0-470E-997B-E14BF638D543__GUID-B09734BD-BE78-4500-A074-258F1A801E50">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="identifying-high-load-sql-statements.html#GUID-FDC4381B-0703-4FBF-93FC-36B9425A85C0">查看SQL语句的详细信息</a> ”</span></p>
                              </li>
                              <li>
                                 <p><span class="q">“ <a href="tuning-sql-statements.html#GUID-0BF54979-57AF-4289-9504-41884A1BD78E">使用SQL Tuning Advisor调整SQL语句</a> ”</span></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="TDPPT036"></a><div class="props_rev_3"><a id="GUID-F89D9B48-A4CA-4AC6-80FB-81EF8BB78DFC" name="GUID-F89D9B48-A4CA-4AC6-80FB-81EF8BB78DFC"></a><h4 id="TDPPT-GUID-F89D9B48-A4CA-4AC6-80FB-81EF8BB78DFC" class="sect4"><span class="enumeration_section">4.1.2</span>监控热门会话</h4>
                  <div>
                     <div class="section">
                        <p><a id="d7824e664" class="indexterm-anchor"></a><a id="d7824e668" class="indexterm-anchor"></a><a id="d7824e672" class="indexterm-anchor"></a><a id="d7824e674" class="indexterm-anchor"></a> <span class="bold">会话</span>是数据库实例内存中的逻辑实体，表示当前用户登录数据库的状态。会话从用户登录到数据库到用户断开连接为止。例如，当用户启动SQL * Plus时，用户必须提供有效的数据库用户名和密码才能建立会话。如果单个会话占用了大部分数据库活动，那么您应该对其进行调查。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F89D9B48-A4CA-4AC6-80FB-81EF8BB78DFC__GUID-07BFC4CA-EEB7-4D0F-9B22-E7A6B2CD3602">监控顶级工作会话：</p>
                        <ol>
                           <li>
                              <p>访问“性能”页面，如<span class="q">“ <a href="monitoring-real-time-database-performance.html#GUID-EE9118C7-708A-488F-A332-4ECFA6638A07">监控用户活动</a> ”中所述</span> 。
                              </p>
                           </li>
                           <li>
                              <p>在“平均活动会话数”图表中，单击图表上的CPU或CPU等待区域或图例中的相应等待类。</p>
                              <p>将显示“活动会话工作：CPU + CPU等待”页面， <a href="monitoring-real-time-database-performance.html#GUID-EE9118C7-708A-488F-A332-4ECFA6638A07__CBBEFIFH">如图4-2</a>所示。
                              </p>
                           </li>
                           <li>
                              <p>在“选定的5分钟间隔的详细信息”下的“顶部工作会话”部分中，从“视图”列表中选择“ <span class="bold">热门会话”</span> 。
                              </p>
                              <p>将显示“最常工作会话”表。该表显示在所选时间段内等待相应等待类的顶级会话。</p>
                           </li>
                           <li>
                              <p>在Top Working Sessions表中，单击消耗最多数据库活动的会话的<span class="bold">会话ID</span>链接。
                              </p>
                              <p>将显示“会话详细信息”页</p>
                              <p>此页面包含会话活动，会话统计信息，打开游标，阻塞会话，等待事件历史记录以及所选会话的并行SQL等信息。</p>
                              <p>如果会话占用过多的数据库活动，请考虑单击“ <span class="bold">杀死会话”</span> ，然后调整SQL语句。
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-F89D9B48-A4CA-4AC6-80FB-81EF8BB78DFC__GUID-884B611A-0B94-48B7-A19E-89D4EEC00286">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="q">“ <a href="tuning-sql-statements.html#GUID-6B386EC1-A58F-4CFC-AEFB-9F787A112396">调整SQL语句</a> ”</span></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="TDPPT371"></a><a id="TDPPT037"></a><div class="props_rev_3"><a id="GUID-AA0DE09F-0871-4585-B3A1-8654F94A752E" name="GUID-AA0DE09F-0871-4585-B3A1-8654F94A752E"></a><h4 id="TDPPT-GUID-AA0DE09F-0871-4585-B3A1-8654F94A752E" class="sect4"><span class="enumeration_section">4.1.3</span>监控热门服务</h4>
                  <div>
                     <div class="section">
                        <p><a id="d7824e818" class="indexterm-anchor"></a><a id="d7824e822" class="indexterm-anchor"></a><a id="d7824e826" class="indexterm-anchor"></a><a id="d7824e828" class="indexterm-anchor"></a> <span class="bold">服务</span>是一组具有共同属性，服务级别阈值和优先级的应用程序。例如， <code class="codeph">SYS$USERS</code>服务是在未明确标识服务名称的情况下建立用户会话时使用的默认服务名称。<code class="codeph">SYS$BACKGROUND</code>服务包含所有数据库后台进程。如果服务正在使用大部分等待时间，那么您应该对其进行调查。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-AA0DE09F-0871-4585-B3A1-8654F94A752E__GUID-A7EF4683-856B-461D-87D5-F2E26D7B4320">监控服务：</p>
                        <ol>
                           <li>
                              <p>访问“性能”页面，如<span class="q">“ <a href="monitoring-real-time-database-performance.html#GUID-EE9118C7-708A-488F-A332-4ECFA6638A07">监控用户活动</a> ”中所述</span> 。
                              </p>
                           </li>
                           <li>
                              <p>在“平均活动会话数”图表中，单击图表上的彩色区域或图例中的相应等待类。</p>
                              <p>将显示“活动会话工作”页面。</p>
                           </li>
                           <li>
                              <p>在“选定的5分钟间隔的详细信息”下，从“视图”列表中选择“ <span class="bold">顶级服务</span> ”。
                              </p>
                              <p>将显示“顶级服务”表。</p>
                              <div class="figure" id="GUID-AA0DE09F-0871-4585-B3A1-8654F94A752E__CACBJEJJ">
                                 <p class="titleinfigure">图4-3监控热门服务</p><img src="img/top_serv.gif" alt="下面是图4-3的描述" title="下面是图4-3的描述" longdesc="img_text/top_serv.html"><br><a href="img_text/top_serv.html">“图4-3监控顶级服务”的说明</a></div>
                              <!-- class="figure" -->
                              <p>Top Services表显示在所选时间段内等待相应等待事件的顶级服务。例如，在<a href="monitoring-real-time-database-performance.html#GUID-AA0DE09F-0871-4585-B3A1-8654F94A752E__CACBJEJJ">图4-3中</a> ， <code class="codeph">SYS$USERS</code>服务占用了86.47％的数据库活动。
                              </p>
                           </li>
                           <li>
                              <p>单击最活跃服务的“ <span class="bold">服务”</span>链接。
                              </p>
                              <p>将显示“服务”页面。</p>
                              <p>此页面包含有关所选服务的模块，活动和统计信息的信息。</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="TDPPT373"></a><a id="TDPPT038"></a><div class="props_rev_3"><a id="GUID-8EBB7BAE-9F77-45DB-8461-D68CE5B7CAFC" name="GUID-8EBB7BAE-9F77-45DB-8461-D68CE5B7CAFC"></a><h4 id="TDPPT-GUID-8EBB7BAE-9F77-45DB-8461-D68CE5B7CAFC" class="sect4"><span class="enumeration_section">4.1.4</span>监控顶层模块</h4>
                  <div>
                     <div class="section">
                        <p><a id="d7824e973" class="indexterm-anchor"></a><a id="d7824e977" class="indexterm-anchor"></a><a id="d7824e979" class="indexterm-anchor"></a>模块表示将服务名称设置为工作负载定义的一部分的应用程序。例如， <code class="codeph">DBMS_SCHEDULER</code>模块可以分配在<code class="codeph">SYS$BACKGROUND</code>服务中运行的作业。如果单个模块正在使用大部分等待时间，则应对其进行调查。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8EBB7BAE-9F77-45DB-8461-D68CE5B7CAFC__GUID-C46B3F59-C76D-4953-AEBD-5CA58D15B4ED">监控模块：</p>
                        <ol>
                           <li>
                              <p>访问“性能”页面，如<span class="q">“ <a href="monitoring-real-time-database-performance.html#GUID-EE9118C7-708A-488F-A332-4ECFA6638A07">监控用户活动</a> ”中所述</span> 。
                              </p>
                           </li>
                           <li>
                              <p>在“平均活动会话数”图表中，单击图表上的彩色区域或图例中的相应等待类。</p>
                              <p>将显示“活动会话工作”页面。</p>
                           </li>
                           <li>
                              <p>在“选定的5分钟间隔的详细信息”下，从“视图”列表中选择“ <span class="bold">顶层模块</span> ”。
                              </p>
                              <p>出现顶层模块表。</p>
                              <div class="figure" id="GUID-8EBB7BAE-9F77-45DB-8461-D68CE5B7CAFC__CACFIGFJ">
                                 <p class="titleinfigure">图4-4监控顶层模块</p><img src="img/top_mod.gif" alt="下面是图4-4的描述" title="下面是图4-4的描述" longdesc="img_text/top_mod.html"><br><a href="img_text/top_mod.html">“图4-4监控顶部模块”的说明</a></div>
                              <!-- class="figure" -->
                              <p>“顶层模块”表显示在所选时间段内等待相应等待事件的顶层模块。例如，在<a href="monitoring-real-time-database-performance.html#GUID-8EBB7BAE-9F77-45DB-8461-D68CE5B7CAFC__CACFIGFJ">图4-4中</a> ，SQL * Plus模块消耗了超过84％的数据库活动，应该进行调查。<a href="monitoring-real-time-database-performance.html#GUID-EE9118C7-708A-488F-A332-4ECFA6638A07__CBBEFIFH">如图4-2</a>所示，用户<code class="codeph">HR</code>的SQL * Plus会话消耗了大量的数据库活动。
                              </p>
                           </li>
                           <li>
                              <p>单击显示最高活动百分比的模块的“ <span class="bold">模块”</span>链接。
                              </p>
                              <p>出现“模块”页面。</p>
                              <p>此页面包含有关所选模块的操作，活动和统计信息的信息。</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="TDPPT375"></a><a id="TDPPT039"></a><div class="props_rev_3"><a id="GUID-7E673E50-373A-4AD5-856F-9049BDEFFA37" name="GUID-7E673E50-373A-4AD5-856F-9049BDEFFA37"></a><h4 id="TDPPT-GUID-7E673E50-373A-4AD5-856F-9049BDEFFA37" class="sect4"><span class="enumeration_section">4.1.5</span>监控主要行动</h4>
                  <div>
                     <div class="section">
                        <p><a id="d7824e1123" class="indexterm-anchor"></a><a id="d7824e1127" class="indexterm-anchor"></a><a id="d7824e1129" class="indexterm-anchor"></a>操作表示模块执行的作业。例如， <code class="codeph">DBMS_SCHEDULER</code>模块可以运行<code class="codeph">GATHER_STATS_JOB</code>操作来收集有关所有数据库对象的统计信息。如果单个操作正在使用大部分等待时间，那么您应该对其进行调查。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7E673E50-373A-4AD5-856F-9049BDEFFA37__GUID-10B5C1E9-B956-4A8A-ADFE-64D67BDB7312">要监控某个操作：</p>
                        <ol>
                           <li>
                              <p>访问“性能”页面，如<span class="q">“ <a href="monitoring-real-time-database-performance.html#GUID-EE9118C7-708A-488F-A332-4ECFA6638A07">监控用户活动</a> ”中所述</span> 。
                              </p>
                           </li>
                           <li>
                              <p>在“平均活动会话数”图表中，单击图表上的彩色区域或图例中的相应等待类。</p>
                              <p>将显示“活动会话工作”页面。</p>
                           </li>
                           <li>
                              <p>在“选定的5分钟间隔的详细信息”下，从“视图”列表中选择“ <span class="bold">顶部操作</span> ”。
                              </p>
                              <p>将显示“最佳操作”表。</p>
                              <div class="figure" id="GUID-7E673E50-373A-4AD5-856F-9049BDEFFA37__CACBGFJH">
                                 <p class="titleinfigure">图4-5监控热门操作</p><img src="img/top_act.gif" alt="下面是图4-5的描述" title="下面是图4-5的描述" longdesc="img_text/top_act.html"><br><a href="img_text/top_act.html">“图4-5监控热门操作”的说明</a></div>
                              <!-- class="figure" -->
                              <p>Top Actions表显示在所选时间段内等待相应等待事件的最高操作。例如，在<a href="monitoring-real-time-database-performance.html#GUID-7E673E50-373A-4AD5-856F-9049BDEFFA37__CACBGFJH">图4-5中</a> ，与SQL * Plus模块关联的<code class="codeph">SALES_INFO</code>操作消耗了40.3％的数据库活动，而<code class="codeph">EMP_DML</code>消耗了39.55％， <code class="codeph">EMP_Query</code>消耗了4.48％。此信息与<a href="monitoring-real-time-database-performance.html#GUID-EE9118C7-708A-488F-A332-4ECFA6638A07__CBBEFIFH">图4-2</a>一致， <a href="monitoring-real-time-database-performance.html#GUID-EE9118C7-708A-488F-A332-4ECFA6638A07__CBBEFIFH">图4-2</a>显示用户<code class="codeph">HR</code>的数据库会话消耗了超过82％的数据库活动。
                              </p>
                           </li>
                           <li>
                              <p>单击最活跃操作的<span class="bold">“操作”</span>链接。
                              </p>
                              <p>将显示“操作”页面。</p>
                              <p>此页面包含所选操作的统计信息。</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="TDPPT377"></a><a id="TDPPT303"></a><div class="props_rev_3"><a id="GUID-7939C906-3ED3-4EDD-B80B-AEDBEF0F0083" name="GUID-7939C906-3ED3-4EDD-B80B-AEDBEF0F0083"></a><h4 id="TDPPT-GUID-7939C906-3ED3-4EDD-B80B-AEDBEF0F0083" class="sect4"><span class="enumeration_section">4.1.6</span>监控主要客户端</h4>
                  <div>
                     <div class="section">
                        <p><a id="d7824e1284" class="indexterm-anchor"></a><a id="d7824e1288" class="indexterm-anchor"></a><a id="d7824e1290" class="indexterm-anchor"></a>客户端可以是Web浏览器或任何启动数据库执行操作请求的客户端进程。如果单个客户端正在使用大部分等待时间，那么您应该对其进行调查。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7939C906-3ED3-4EDD-B80B-AEDBEF0F0083__GUID-21AD4520-A773-4117-89B6-A23B84DE8EDB">监控客户：</p>
                        <ol>
                           <li>
                              <p>访问“性能”页面，如<span class="q">“ <a href="monitoring-real-time-database-performance.html#GUID-EE9118C7-708A-488F-A332-4ECFA6638A07">监控用户活动</a> ”中所述</span> 。
                              </p>
                           </li>
                           <li>
                              <p>在“平均活动会话数”图表中，单击图表上的彩色区域或图例中的相应等待类。</p>
                              <p>将显示“活动会话工作”页面。</p>
                           </li>
                           <li>
                              <p>在“选定的5分钟间隔的详细信息”下，从“视图”列表中选择“ <span class="bold">顶级客户</span> ”。
                              </p>
                              <p>将显示“顶级客户端”表。</p>
                              <div class="figure" id="GUID-7939C906-3ED3-4EDD-B80B-AEDBEF0F0083__CBBHJEFG">
                                 <p class="titleinfigure">图4-6监控主要客户端</p><img src="img/top_client.gif" alt="下面是图4-6的描述" title="下面是图4-6的描述" longdesc="img_text/top_client.html"><br><a href="img_text/top_client.html">“图4-6监控主要客户端”的描述</a></div>
                              <!-- class="figure" -->
                              <p>“顶级客户端”表显示在所选时间段内等待相应等待事件的顶级客户端。例如，在<a href="monitoring-real-time-database-performance.html#GUID-7939C906-3ED3-4EDD-B80B-AEDBEF0F0083__CBBHJEFG">图4-6中</a> ，client1和client2正在消耗大部分数据库活动。
                              </p>
                           </li>
                           <li>
                              <p>单击最活跃客户端的<span class="bold">客户端ID</span>链接。
                              </p>
                              <p>将显示“客户端”页面。</p>
                              <p>此页面包含所选客户端进程的统计信息。</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="TDPPT379"></a><a id="TDPPT304"></a><div class="props_rev_3"><a id="GUID-B3248F50-0997-4D36-9EDC-0BB6047EAA60" name="GUID-B3248F50-0997-4D36-9EDC-0BB6047EAA60"></a><h4 id="TDPPT-GUID-B3248F50-0997-4D36-9EDC-0BB6047EAA60" class="sect4"><span class="enumeration_section">4.1.7</span>监控Top PL / SQL</h4>
                  <div>
                     <div class="section">
                        <p><a id="d7824e1423" class="indexterm-anchor"></a><a id="d7824e1427" class="indexterm-anchor"></a>如果单个PL / SQL子程序正在使用大部分等待时间，那么您应该对其进行调查。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B3248F50-0997-4D36-9EDC-0BB6047EAA60__GUID-0AB402EA-F7B1-4F16-9DA9-887338B2C239">要监视PL / SQL子程序：</p>
                        <ol>
                           <li>
                              <p>访问“性能”页面，如<span class="q">“ <a href="monitoring-real-time-database-performance.html#GUID-EE9118C7-708A-488F-A332-4ECFA6638A07">监控用户活动</a> ”中所述</span> 。
                              </p>
                           </li>
                           <li>
                              <p>在“平均活动会话数”图表中，单击图表上的彩色区域或图例中的相应等待类。</p>
                              <p>将显示“活动会话工作”页面。</p>
                           </li>
                           <li>
                              <p>在“选定的5分钟间隔的详细信息”下，从“视图”列表中选择“ <span class="bold">顶部PL / SQL</span> ”。
                              </p>
                              <p>出现Top PL / SQL表。</p>
                              <div class="figure" id="GUID-B3248F50-0997-4D36-9EDC-0BB6047EAA60__CBBFEACJ">
                                 <p class="titleinfigure">图4-7监控Top PL / SQL</p><img src="img/top_plsql.gif" alt="下面是图4-7的描述" title="下面是图4-7的描述" longdesc="img_text/top_plsql.html"><br><a href="img_text/top_plsql.html">“图4-7监控Top PL / SQL”的描述</a></div>
                              <!-- class="figure" -->
                              <p>Top PL / SQL表显示在所选时间段内等待相应等待事件的顶部PL / SQL子程序。例如，在<a href="monitoring-real-time-database-performance.html#GUID-B3248F50-0997-4D36-9EDC-0BB6047EAA60__CBBFEACJ">图4-7中</a> ， <code class="codeph">SYS.DBMS_AQ.LISTEN#2</code>子程序占用了100％的数据库活动。
                              </p>
                           </li>
                           <li>
                              <p>单击最活跃子程序的<span class="bold">PL / SQL子程序</span>链接。
                              </p>
                              <p>将出现PL / SQL子程序页面。</p>
                              <p>此页面包含所选子程序的统计信息。</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="TDPPT381"></a><a id="TDPPT321"></a><div class="props_rev_3"><a id="GUID-320DA3EA-B580-418C-A4DC-B7E06A9FD7AF" name="GUID-320DA3EA-B580-418C-A4DC-B7E06A9FD7AF"></a><h4 id="TDPPT-GUID-320DA3EA-B580-418C-A4DC-B7E06A9FD7AF" class="sect4"><span class="enumeration_section">4.1.8</span>监控热门文件</h4>
                  <div>
                     <div class="section">
                        <p><a id="d7824e1561" class="indexterm-anchor"></a><a id="d7824e1565" class="indexterm-anchor"></a>有关特定文件的平均等待时间的数据可从Active Sessions Waiting：User I / O页面获得。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-320DA3EA-B580-418C-A4DC-B7E06A9FD7AF__GUID-5F94C450-F39D-42EB-9AC6-C439838B9135">要监控文件：</p>
                        <ol>
                           <li>
                              <p>访问“性能”页面，如<span class="q">“ <a href="monitoring-real-time-database-performance.html#GUID-EE9118C7-708A-488F-A332-4ECFA6638A07">监控用户活动</a> ”中所述</span> 。
                              </p>
                           </li>
                           <li>
                              <p>在“平均活动会话”图表中，单击图表上的“用户I / O”区域或图例中的相应等待类。</p>
                              <p>活动会话等待：显示用户I / O页面。</p>
                           </li>
                           <li>
                              <p>在“选定的5分钟间隔的详细信息”下，从“视图”列表中选择“ <span class="bold">顶级文件</span> ”。
                              </p>
                              <p>将显示“顶级文件”表。</p>
                              <div class="figure" id="GUID-320DA3EA-B580-418C-A4DC-B7E06A9FD7AF__CBBEDDAB">
                                 <p class="titleinfigure">图4-8监控热门文件</p><img src="img/top_files.gif" alt="下面是图4-8的描述" title="下面是图4-8的描述" longdesc="img_text/top_files.html"><br><a href="img_text/top_files.html">“图4-8监控顶部文件”的说明</a></div>
                              <!-- class="figure" -->
                              <p>“Top Files”表显示所选时间段内特定文件的平均等待时间。例如，在<a href="monitoring-real-time-database-performance.html#GUID-320DA3EA-B580-418C-A4DC-B7E06A9FD7AF__CBBEDDAB">图4-8中，</a> 75％的等待时间与<code class="codeph">SYSTEM</code>和<code class="codeph">SYSAUX</code>表空间中的文件的I / O相关联。
                              </p>
                           </li>
                           <li>
                              <p>单击具有最高平均等待时间的文件的<span class="bold">表空间</span>链接。
                              </p>
                              <p>将出现“查看表空间”页面。</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="TDPPT383"></a><a id="TDPPT322"></a><div class="props_rev_3"><a id="GUID-0228DCAF-1CE7-4948-A17F-042AFD5F2B81" name="GUID-0228DCAF-1CE7-4948-A17F-042AFD5F2B81"></a><h4 id="TDPPT-GUID-0228DCAF-1CE7-4948-A17F-042AFD5F2B81" class="sect4"><span class="enumeration_section">4.1.9</span>监控顶部对象</h4>
                  <div>
                     <div class="section">
                        <p><a id="d7824e1701" class="indexterm-anchor"></a><a id="d7824e1705" class="indexterm-anchor"></a>等待资源的顶级数据库对象的数据可从Active Sessions Waiting：User I / O页面获得。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0228DCAF-1CE7-4948-A17F-042AFD5F2B81__GUID-0AB0D18E-BD3F-4188-AB51-1EB3E68CE00C">监视对象：</p>
                        <ol>
                           <li>
                              <p>访问“性能”页面，如<span class="q">“ <a href="monitoring-real-time-database-performance.html#GUID-EE9118C7-708A-488F-A332-4ECFA6638A07">监控用户活动</a> ”中所述</span> 。
                              </p>
                           </li>
                           <li>
                              <p>在“平均活动会话”图表中，单击图表上的“用户I / O”区域或图例中的相应等待类。</p>
                              <p>活动会话等待：显示用户I / O页面。</p>
                           </li>
                           <li>
                              <p>在“选定的5分钟间隔的详细信息”下，从“视图”列表中选择“ <span class="bold">顶部对象</span> ”。
                              </p>
                              <p>出现Top Objects表。</p>
                              <div class="figure" id="GUID-0228DCAF-1CE7-4948-A17F-042AFD5F2B81__CBBDHFCC">
                                 <p class="titleinfigure">图4-9监控顶部对象</p><img src="img/top_obj.gif" alt="下面是图4-9的描述" title="下面是图4-9的描述" longdesc="img_text/top_obj.html"><br><a href="img_text/top_obj.html">“图4-9监控顶部对象”的说明</a></div>
                              <!-- class="figure" -->
                              <p>“顶级对象”表显示在所选时间段内等待相应等待事件的顶级数据库对象。</p>
                              <p>例如， <a href="monitoring-real-time-database-performance.html#GUID-0228DCAF-1CE7-4948-A17F-042AFD5F2B81__CBBDHFCC">图4-9</a>显示超过84％的等待是针对名称不可用的对象。根据<a href="monitoring-real-time-database-performance.html#GUID-EE9118C7-708A-488F-A332-4ECFA6638A07__CBBEFIFH">图4-2中</a>的信息，您可以得出结论，性能问题是由查询和修改DML语句引起的。
                              </p>
                           </li>
                           <li>
                              <p>单击具有最高平均等待时间的对象的“ <span class="bold">对象名称”</span>链接。
                              </p>
                              <p>将显示该对象的“查看”页面。</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="TDPPT040"></a><div class="props_rev_3"><a id="GUID-F405EE4E-F0A9-42AB-AC3C-4FA6F29DE6AC" name="GUID-F405EE4E-F0A9-42AB-AC3C-4FA6F29DE6AC"></a><h3 id="TDPPT-GUID-F405EE4E-F0A9-42AB-AC3C-4FA6F29DE6AC" class="sect3"><span class="enumeration_section">4.2</span>监控实例活动</h3>
               <div>
                  <p><a id="d7824e1835" class="indexterm-anchor"></a> “性能”页面上的“平均活动会话”图表下方是可用于监视数据库实例活动的其他图表。如<span class="q">“ <a href="monitoring-real-time-database-performance.html#GUID-81073595-A0B0-474C-937B-376B58D7C414">自定义数据库性能”页面中所述</a></span> ，您还可以自定义“性能”页面，以便默认显示最有用的实例活动图表。
                  </p>
                  <p>您可以使用实例活动图表执行以下任务：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="monitoring-real-time-database-performance.html#GUID-FB8EDFF1-2BBC-4A61-B16F-09641BA062D0">监控吞吐量</a></p>
                     </li>
                     <li>
                        <p><a href="monitoring-real-time-database-performance.html#GUID-A76E027F-8EE0-4B10-8EE9-6C3E8D3ED222">监控I / O.</a></p>
                     </li>
                     <li>
                        <p><a href="monitoring-real-time-database-performance.html#GUID-B1CA766B-7C02-4289-9300-56A5E4931DC6">监视并行执行</a></p>
                     </li>
                     <li>
                        <p><a href="monitoring-real-time-database-performance.html#GUID-12C3FF5D-2D8D-49F6-8188-D0BAC5924C5B">监控服务</a></p>
                     </li>
                  </ul>
               </div><a id="TDPPT385"></a><a id="TDPPT325"></a><div class="props_rev_3"><a id="GUID-FB8EDFF1-2BBC-4A61-B16F-09641BA062D0" name="GUID-FB8EDFF1-2BBC-4A61-B16F-09641BA062D0"></a><h4 id="TDPPT-GUID-FB8EDFF1-2BBC-4A61-B16F-09641BA062D0" class="sect4"><span class="enumeration_section">4.2.1</span>监控吞吐量</h4>
                  <div>
                     <div class="section">
                        <p><a id="d7824e1950" class="indexterm-anchor"></a><a id="d7824e1954" class="indexterm-anchor"></a>数据库<span class="bold">吞吐量</span>衡量数据库在单位时间内执行的工作量。吞吐量图表显示平均活动会话图表中显示的任何争用。
                        </p>
                        <p>将吞吐量图表上的峰值与“平均活动会话数”图表上的峰值进行比较。如果“平均活动会话”图表显示大量会话等待，表示内部争用，但吞吐量很高，则情况可能是可接受的。如果内部争用率低但吞吐量很高，数据库可能也会有效地运行。但是，如果内部争用很高但吞吐量很低，那么请考虑调整数据库。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FB8EDFF1-2BBC-4A61-B16F-09641BA062D0__GUID-58051672-21AC-4B11-BF11-898E7B02945C">监控吞吐量：</p>
                        <ol>
                           <li>
                              <p>访问数据库主页。</p>
                              <p>有关详细信息，请参阅<span class="q">“ <a href="introduction.html#GUID-653C25F9-71B4-4E26-8902-12BC20B20270">访问数据库主页</a> ”</span> 。
                              </p>
                           </li>
                           <li>
                              <p>从“ <span class="bold">性能”</span>菜单中，选择“ <span class="bold">性能主页”</span> 。
                              </p>
                              <p>如果出现“数据库登录”页面，则以具有管理员权限的用户身份登录。将出现“性能”页面。</p>
                           </li>
                           <li>
                              <p>单击“ <span class="bold">吞吐量”</span>选项卡。
                              </p>
                           </li>
                           <li>
                              <p>选择以下实例吞吐率选项之一。</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><span class="bold">每秒</span></p>
                                    <p>出现两个图表。一个显示每秒的登录和事务数，另一个显示每秒的物理读取和重做大小。</p>
                                    <p><a href="monitoring-real-time-database-performance.html#GUID-FB8EDFF1-2BBC-4A61-B16F-09641BA062D0__CBBECFIJ">图4-10</a>显示了吞吐量图表，其中选择了实例吞吐率每秒。图中间的条形表示一部分图表（从大约1:37到1:52）已被删除以用于空间考虑。在<a href="monitoring-real-time-database-performance.html#GUID-FB8EDFF1-2BBC-4A61-B16F-09641BA062D0__CBBECFIJ">图4-10中</a> ，大多数交易发生在1:15到1:27 pm和2:08到2:12 pm</p>
                                 </li>
                                 <li>
                                    <p><span class="bold">每笔交易</span></p>
                                    <p>出现一个图表，显示每个事务的物理读取次数和重做大小。</p>
                                 </li>
                              </ul>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="figure" id="GUID-FB8EDFF1-2BBC-4A61-B16F-09641BA062D0__CBBECFIJ">
                           <p class="titleinfigure">图4-10监控吞吐量</p><img src="img/through_per_sec.gif" alt="下面是图4-10的描述" title="下面是图4-10的描述" longdesc="img_text/through_per_sec.html"><br><a href="img_text/through_per_sec.html">“图4-10监控吞吐量”的说明</a></div>
                        <!-- class="figure" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="TDPPT387"></a><a id="TDPPT326"></a><div class="props_rev_3"><a id="GUID-A76E027F-8EE0-4B10-8EE9-6C3E8D3ED222" name="GUID-A76E027F-8EE0-4B10-8EE9-6C3E8D3ED222"></a><h4 id="TDPPT-GUID-A76E027F-8EE0-4B10-8EE9-6C3E8D3ED222" class="sect4"><span class="enumeration_section">4.2.2</span>监控I / O.</h4>
                  <div>
                     <div class="section">
                        <p><a id="d7824e2104" class="indexterm-anchor"></a><a id="d7824e2108" class="indexterm-anchor"></a> I / O图表显示从所有数据库客户端收集的I / O统计信息。数据库进程的I / O等待时间表示如果挂起的I / O已完成，进程可以执行有用工作的时间。Oracle数据库以统一的方式捕获所有重要I / O组件的I / O等待时间，以便任何Oracle进程的每个I / O等待都可以从I / O统计信息中获得。
                        </p>
                        <div class="figure" id="GUID-A76E027F-8EE0-4B10-8EE9-6C3E8D3ED222__CBBBDBEH">
                           <p class="titleinfigure">图4-11监控I / O.</p><img src="img/io_function.gif" alt="下面是图4-11的描述" title="下面是图4-11的描述" longdesc="img_text/io_function.html"><br><a href="img_text/io_function.html">“图4-11监控I / O”的说明</a></div>
                        <!-- class="figure" -->
                        <p>同步单块读取的延迟图表显示了块读取的总感知<span class="bold">I / O延迟</span> ，这是I / O请求提交和传输的第一个字节到达之间的时间差。如果延迟小于10毫秒，大多数系统都能令人满意地运行。这种类型的I / O请求是I / O性能的最佳指标，原因如下：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>由于存储中的写缓存，写操作可能表现出良好的性能。</p>
                           </li>
                           <li>
                              <p>由于多块I / O请求具有不同的大小，因此它们可能需要不同的时间。</p>
                           </li>
                           <li>
                              <p>异步I / O请求的延迟不代表完整的I / O等待时间。</p>
                           </li>
                        </ul>
                        <p>显示的其他图表取决于您对<span class="bold">I / O细分的选择</span> ，如以下部分所述：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="monitoring-real-time-database-performance.html#GUID-C1D2E7E9-6425-4A0D-9B37-22D5C774FA54">按功能监视I / O.</a></p>
                           </li>
                           <li>
                              <p><a href="monitoring-real-time-database-performance.html#GUID-F6F57E16-4CF5-409F-B29A-9C2D7D6E7D96">按类型监视I / O.</a></p>
                           </li>
                           <li>
                              <p><a href="monitoring-real-time-database-performance.html#GUID-C4326F7D-2B63-4830-B78C-A19D54881EA8">消费者组监控I / O.</a></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div><a id="TDPPT329"></a><div class="props_rev_3"><a id="GUID-C1D2E7E9-6425-4A0D-9B37-22D5C774FA54" name="GUID-C1D2E7E9-6425-4A0D-9B37-22D5C774FA54"></a><h5 id="TDPPT-GUID-C1D2E7E9-6425-4A0D-9B37-22D5C774FA54" class="sect5"><span class="enumeration_section">4.2.2.1</span>按功能监视I / O.</h5>
                     <div>
                        <div class="section">
                           <p>I / O功能图表按应用程序或作业确定I / O使用级别。组件级统计信息提供了I / O带宽使用情况的详细视图，您可以将其用于调度作业和I / O配置。组件级统计信息分为以下几类：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>背景类型</p>
                                 <p>此类别包括ARCH，LGWR和DBWR。</p>
                              </li>
                              <li>
                                 <p>活动</p>
                                 <p>此类别包括XDB，高级队列（AQ），数据泵，恢复和RMAN。</p>
                              </li>
                              <li>
                                 <p>I / O类型</p>
                                 <p>该类别包括以下内容：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>直接写</p>
                                       <p>此写操作由前台进程完成，而不是来自缓冲区高速缓存。</p>
                                    </li>
                                    <li>
                                       <p>直接阅读</p>
                                       <p>此读取是来自数据文件的物理I / O，该文件绕过缓冲区高速缓存并将数据块直接读入进程专用内存。</p>
                                    </li>
                                    <li>
                                       <p>缓冲区高速缓存读取</p>
                                    </li>
                                 </ul>
                              </li>
                              <li>
                                 <p>其他</p>
                                 <p>此类别包括I / O，例如控制文件I / O.</p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-C1D2E7E9-6425-4A0D-9B37-22D5C774FA54__GUID-E149BBB6-E9E5-4611-AB3F-F2BBD5F8ECDA">按功能监视I / O：</p>
                           <ol>
                              <li>
                                 <p>访问“性能”页面，如<span class="q">“ <a href="monitoring-real-time-database-performance.html#GUID-EE9118C7-708A-488F-A332-4ECFA6638A07">监控用户活动</a> ”中所述</span> 。
                                 </p>
                              </li>
                              <li>
                                 <p>在实例活动图表中，单击<span class="bold">I / O.</span></p>
                                 <p>将显示同步单块读取的延迟，每秒I / O兆字节数和每秒I / O请求数。</p>
                              </li>
                              <li>
                                 <p>对于<span class="bold">I / O故障</span> ，请选择<span class="bold">I / O功能</span> 。
                                 </p>
                                 <p>通过I / O功能和I / O功能图表显示每秒I / O兆字节数。</p>
                                 <p><a href="monitoring-real-time-database-performance.html#GUID-A76E027F-8EE0-4B10-8EE9-6C3E8D3ED222__CBBBDBEH">图4-11</a>中的示例显示日志写入程序正在执行大量I / O.日志写入器活动达到峰值，大约每秒600个I / O请求。
                                 </p>
                              </li>
                              <li>
                                 <p>单击图表上最大的彩色区域或图例中的相应功能可深入查看具有最高I / O速率的功能。</p>
                                 <p>将显示“I / O功能”页面的“I / O吞吐量”，其中包含有关所选类别的详细信息。</p>
                                 <p>您可以查看实时或历史数据，以获取有关I / O兆字节或I / O请求的详细信息。</p>
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <div class="infoboxnotealso" id="GUID-C1D2E7E9-6425-4A0D-9B37-22D5C774FA54__GUID-67A2538C-40A9-4E8C-96F4-60113E962CF6">
                              <p class="notep1">也可以看看：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><a href="../cncpt/process-architecture.html#CNCPT1249" target="_blank"><span class="italic">Oracle Database Concepts</span></a> ，了解ARCH，LGWR和DBWR等数据库后台进程</p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="TDPPT330"></a><div class="props_rev_3"><a id="GUID-F6F57E16-4CF5-409F-B29A-9C2D7D6E7D96" name="GUID-F6F57E16-4CF5-409F-B29A-9C2D7D6E7D96"></a><h5 id="TDPPT-GUID-F6F57E16-4CF5-409F-B29A-9C2D7D6E7D96" class="sect5"><span class="enumeration_section">4.2.2.2</span>按类型监控I / O.</h5>
                     <div>
                        <div class="section">
                           <p>I / O类型图表使您可以通过读写操作的类型来监视I / O.小I / O是小于128 KB的请求，通常是单个数据库块I / O操作。大I / O是大于或等于128 KB的请求。大型I / O由数据库操作生成，例如表/索引扫描，直接数据加载，备份，还原和归档。</p>
                           <div class="figure" id="GUID-F6F57E16-4CF5-409F-B29A-9C2D7D6E7D96__GUID-B8FCE9D0-0592-441C-9D72-592299893728"><img src="img/perf_io_type.gif" alt="perf_io_type.gif的描述如下" title="perf_io_type.gif的描述如下" longdesc="img_text/perf_io_type.html"><br><a href="img_text/perf_io_type.html">perf_io_type.gif插图的描述</a></div>
                           <!-- class="figure" -->
                           <p>优化短事务时间（例如在OLTP环境中）时，监视小I / O的延迟。高延迟通常表明存储系统是瓶颈。</p>
                           <p>优化大型查询（例如在数据仓库中）时，性能取决于存储系统可以实现的最大吞吐量，而不是I / O请求的延迟。在这种情况下，监视每秒I / O兆字节而不是同步单块I / O延迟。</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-F6F57E16-4CF5-409F-B29A-9C2D7D6E7D96__GUID-F5EA4BBF-468E-46C5-A838-0BD70B69B680">按类型监视I / O：</p>
                           <ol>
                              <li>
                                 <p>访问“性能”页面，如<span class="q">“ <a href="monitoring-real-time-database-performance.html#GUID-EE9118C7-708A-488F-A332-4ECFA6638A07">监控用户活动</a> ”中所述</span> 。
                                 </p>
                              </li>
                              <li>
                                 <p>在实例活动图表中，单击<span class="bold">I / O.</span></p>
                                 <p>将显示每秒I / O兆字节数和每秒I / O请求数。</p>
                              </li>
                              <li>
                                 <p>对于<span class="bold">I / O故障</span> ，请选择<span class="bold">I / O类型</span> 。
                                 </p>
                                 <p>I / O类型图表显示每秒I / O兆字节数和I / O类型图表每秒I / O请求数。</p>
                                 <p>在上面的示例图表中，每秒的小写入次数增加到600以上。这些写操作对应于<a href="monitoring-real-time-database-performance.html#GUID-A76E027F-8EE0-4B10-8EE9-6C3E8D3ED222__CBBBDBEH">图4-11中</a>所示的日志编写器I / O请求。
                                 </p>
                              </li>
                              <li>
                                 <p>单击图表上最大的彩色区域或图例中的相应功能可深入查看具有最高I / O速率的功能。</p>
                                 <p>将显示“I / O详细信息”页面。</p>
                                 <p>您可以查看实时或历史数据，以获取有关I / O兆字节或I / O请求的详细信息。</p>
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div><a id="TDPPT331"></a><div class="props_rev_3"><a id="GUID-C4326F7D-2B63-4830-B78C-A19D54881EA8" name="GUID-C4326F7D-2B63-4830-B78C-A19D54881EA8"></a><h5 id="TDPPT-GUID-C4326F7D-2B63-4830-B78C-A19D54881EA8" class="sect5"><span class="enumeration_section">4.2.2.3</span>按消费者组监控I / O.</h5>
                     <div>
                        <div class="section">
                           <p>启用Oracle数据库资源管理器后，数据库将收集属于当前启用的资源计划的所有使用者组的I / O统计信息。消费者组图表使您可以按消费者组监控I / O.</p>
                           <p>资源计划指定如何在各种用户（资源消费者组）之间分配资源。资源使用者组使您可以按资源要求组织用户会话。请注意， <code class="codeph">_ORACLE_BACKGROUND_GROUP_</code>使用者组包含后台进程发出的I / O请求。
                           </p>
                           <div class="figure" id="GUID-C4326F7D-2B63-4830-B78C-A19D54881EA8__GUID-625FB29E-219D-4911-82F2-8C0729B8B5CD"><img src="img/perf_io_consum.gif" alt="perf_io_consum.gif的描述如下" title="perf_io_consum.gif的描述如下" longdesc="img_text/perf_io_consum.html"><br><a href="img_text/perf_io_consum.html">perf_io_consum.gif插图的描述</a></div>
                           <!-- class="figure" -->
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-C4326F7D-2B63-4830-B78C-A19D54881EA8__GUID-2619B467-4B4F-41D4-87A0-27D5F0AC4E16">要监视消费者组的I / O请求：</p>
                           <ol>
                              <li>
                                 <p>访问“性能”页面，如<span class="q">“ <a href="monitoring-real-time-database-performance.html#GUID-EE9118C7-708A-488F-A332-4ECFA6638A07">监控用户活动</a> ”中所述</span> 。
                                 </p>
                              </li>
                              <li>
                                 <p>在实例活动图表中，单击<span class="bold">I / O.</span></p>
                                 <p>将显示每秒I / O兆字节数和每秒I / O请求数。</p>
                              </li>
                              <li>
                                 <p>对于<span class="bold">I / O细分</span> ，请选择<span class="bold">消费者组</span> 。
                                 </p>
                                 <p>消费者组每秒I / O兆字节数和消费者组图表每秒I / O请求数。</p>
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="TDPPT391"></a><a id="TDPPT327"></a><div class="props_rev_3"><a id="GUID-B1CA766B-7C02-4289-9300-56A5E4931DC6" name="GUID-B1CA766B-7C02-4289-9300-56A5E4931DC6"></a><h4 id="TDPPT-GUID-B1CA766B-7C02-4289-9300-56A5E4931DC6" class="sect4"><span class="enumeration_section">4.2.3</span>监视并行执行</h4>
                  <div>
                     <div class="section">
                        <p><a id="d7824e2664" class="indexterm-anchor"></a><a id="d7824e2668" class="indexterm-anchor"></a>并行执行图表显示与并行查询相关的系统指标。<span class="bold">度量标准</span>是每单位的统计计数。单位可以是时间度量，例如秒，或每个事务或会话。
                        </p>
                        <p>并行查询将跨多个进程执行SQL语句的工作分开。图表显示正在等待特定等待事件的并行查询，这些等待事件占采样会话活动的最高百分比。</p>
                        <div class="figure" id="GUID-B1CA766B-7C02-4289-9300-56A5E4931DC6__CBBEDCFA">
                           <p class="titleinfigure">图4-12监控并行执行</p><img width="503" src="img/pe.gif" alt="下面是图4-12的描述" title="下面是图4-12的描述" longdesc="img_text/pe.html"><br><a href="img_text/pe.html">“图4-12监控并行执行”的描述</a></div>
                        <!-- class="figure" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B1CA766B-7C02-4289-9300-56A5E4931DC6__GUID-3E35ED58-DB64-4DE0-88E5-14026C48A99B">监视并行执行：</p>
                        <ol>
                           <li>
                              <p>访问“性能”页面，如<span class="q">“ <a href="monitoring-real-time-database-performance.html#GUID-EE9118C7-708A-488F-A332-4ECFA6638A07">监控用户活动</a> ”中所述</span> 。
                              </p>
                           </li>
                           <li>
                              <p>在实例活动图表中，单击“ <span class="bold">并行执行”</span> 。
                              </p>
                              <p>出现并行执行图表。</p>
                              <p>显示了两对图表。第一对显示y轴上的会话数，而第二对显示y轴上的每秒速率。</p>
                              <p>在<a href="monitoring-real-time-database-performance.html#GUID-B1CA766B-7C02-4289-9300-56A5E4931DC6__CBBEDCFA">图4-12</a>所示的示例中，查询并行化从下午12:30到下午4点处于活动状态</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="TDPPT393"></a><a id="TDPPT328"></a><div class="props_rev_3"><a id="GUID-12C3FF5D-2D8D-49F6-8188-D0BAC5924C5B" name="GUID-12C3FF5D-2D8D-49F6-8188-D0BAC5924C5B"></a><h4 id="TDPPT-GUID-12C3FF5D-2D8D-49F6-8188-D0BAC5924C5B" class="sect4"><span class="enumeration_section">4.2.4</span>监控服务</h4>
                  <div>
                     <div class="section">
                        <p><a id="d7824e2791" class="indexterm-anchor"></a><a id="d7824e2795" class="indexterm-anchor"></a><a id="d7824e2799" class="indexterm-anchor"></a>服务代表具有共同属性，服务级别阈值和优先级的应用程序组。例如， <code class="codeph">SYS$USERS</code>服务是在未明确标识服务名称的情况下建立用户会话时使用的默认服务名称。
                        </p>
                        <div class="figure" id="GUID-12C3FF5D-2D8D-49F6-8188-D0BAC5924C5B__CBBBCGBB">
                           <p class="titleinfigure">图4-13监控服务</p><img src="img/services.gif" alt="下面是图4-13的描述" title="下面是图4-13的描述" longdesc="img_text/services.html"><br><a href="img_text/services.html">“图4-13监控服务”的说明</a></div>
                        <!-- class="figure" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-12C3FF5D-2D8D-49F6-8188-D0BAC5924C5B__GUID-082D58D4-A36A-44DE-B1BA-368CC67F46C7">监控服务：</p>
                        <ol>
                           <li>
                              <p>访问“性能”页面，如<span class="q">“ <a href="monitoring-real-time-database-performance.html#GUID-EE9118C7-708A-488F-A332-4ECFA6638A07">监控用户活动</a> ”中所述</span> 。
                              </p>
                           </li>
                           <li>
                              <p>在实例活动图表中，单击“ <span class="bold">服务”</span> 。
                              </p>
                              <p>出现“服务”图表。“服务”图表显示在显示的时间段内等待相应等待事件的服务。仅显示活动服务。</p>
                              <p>在<a href="monitoring-real-time-database-performance.html#GUID-12C3FF5D-2D8D-49F6-8188-D0BAC5924C5B__CBBBCGBB">图4-13中</a> ， <code class="codeph">SYS$USERS</code>服务具有最多的活动会话。
                              </p>
                           </li>
                           <li>
                              <p>单击图表上最大的彩色区域或图例中的相应服务，以深入查看具有最多活动会话数的服务。</p>
                              <p>将显示“服务”页面，其中显示“活动”子页面。</p>
                              <p>您可以查看显示与服务关联的所有等待类的会话负载的实时数据。</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="TDPPT395"></a><a id="TDPPT041"></a><div class="props_rev_3"><a id="GUID-3D9C9784-ECCA-434C-B247-3EBED3E88A97" name="GUID-3D9C9784-ECCA-434C-B247-3EBED3E88A97"></a><h3 id="TDPPT-GUID-3D9C9784-ECCA-434C-B247-3EBED3E88A97" class="sect3"><span class="enumeration_section">4.3</span>监控主机活动</h3>
               <div>
                  <div class="section">
                     <p><a id="d7824e2931" class="indexterm-anchor"></a> “性能”页面上的“主机”图表显示有关托管数据库的系统的利用率信息。
                     </p>
                     <div class="figure" id="GUID-3D9C9784-ECCA-434C-B247-3EBED3E88A97__GUID-0C841DCF-5CF8-46B2-97D4-8B885142320F">
                        <p class="titleinfigure">图4-14监控主机活动</p><img src="img/host.gif" alt="下面是图4-14的描述" title="下面是图4-14的描述" longdesc="img_text/host.html"><br><a href="img_text/host.html">“图4-14监控主机活动”的说明</a></div>
                     <!-- class="figure" -->
                     <p>要确定主机系统是否有足够的可用资源来运行数据库，请对系统应使用的CPU，内存和磁盘资源量建立适当的期望。然后，您可以验证数据库是否消耗了太多这些资源。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-3D9C9784-ECCA-434C-B247-3EBED3E88A97__GUID-61E76BFA-E62F-4FA5-96E3-DA8979ACE49D">要查看有关CPU，内存和磁盘利用率的详细信息：</p>
                     <ol>
                        <li>
                           <p>从“ <span class="bold">目标”</span>菜单中，选择“ <span class="bold">主机”</span> 。
                           </p>
                           <p>将显示“主机”页面。</p>
                        </li>
                        <li>
                           <p>在主机列表中，单击数据库所在主机的名称。</p>
                           <p>将显示<span class="italic">hostname</span>页面，其中<span class="italic">hostname</span>是<span class="italic">主机</span>的名称。
                           </p>
                        </li>
                        <li>
                           <p>确定是否有足够的资源可用以及您的系统是否使用了太多资源。</p>
                           <p>例如，确定数据库在以下方案中使用的CPU，内存和磁盘资源量：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>系统空闲时，或存在少量数据库和非数据库活动时</p>
                              </li>
                              <li>
                                 <p>平均工作量</p>
                              </li>
                              <li>
                                 <p>在高峰工作量</p>
                              </li>
                           </ul>
                           <p>在评估系统的资源利用率时，工作负载是一个重要因素。在高峰工作负载时间内，可以接受90％的资源利用率，例如具有10％空闲和等待时间的CPU。但是，如果您的系统在正常工作负载下显示高利用率，则没有额外工作负载的空间。</p>
                           <p>执行以下任务以监视数据库的主机活动：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="monitoring-real-time-database-performance.html#GUID-BAE8D943-D587-4FDB-BCA8-059C5504B002">监视CPU利用率</a></p>
                              </li>
                              <li>
                                 <p><a href="monitoring-real-time-database-performance.html#GUID-3BFE3927-611B-4DCE-81B4-D59A1418F68A">监视内存利用率</a></p>
                              </li>
                              <li>
                                 <p><a href="monitoring-real-time-database-performance.html#GUID-4206DC68-97C4-4ADE-AA05-90F1486488BF">监视磁盘I / O利用率</a></p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>为性能指标设置适当的阈值，以便系统可以在超过这些阈值时自动生成警报。</p>
                           <p>有关设置度量标准阈值的信息，请参阅<span class="q">“ <a href="monitoring-performance-alerts.html#GUID-E4359985-FDE3-4083-AC4F-09E711B0E4B9">为性能警报</a></span>设置度量标准阈<span class="q"><a href="monitoring-performance-alerts.html#GUID-E4359985-FDE3-4083-AC4F-09E711B0E4B9">值</a> ”</span> 。
                           </p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
               </div><a id="TDPPT042"></a><div class="props_rev_3"><a id="GUID-BAE8D943-D587-4FDB-BCA8-059C5504B002" name="GUID-BAE8D943-D587-4FDB-BCA8-059C5504B002"></a><h4 id="TDPPT-GUID-BAE8D943-D587-4FDB-BCA8-059C5504B002" class="sect4"><span class="enumeration_section">4.3.1</span>监控CPU利用率</h4>
                  <div>
                     <div class="section">
                        <p><a id="d7824e3094" class="indexterm-anchor"></a><a id="d7824e3098" class="indexterm-anchor"></a>要解决CPU问题，请首先针对系统应使用的CPU资源量建立适当的期望。然后，您可以确定是否有足够的CPU资源可用，并识别系统消耗过多资源的时间。本节介绍如何监视CPU利用率。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BAE8D943-D587-4FDB-BCA8-059C5504B002__GUID-22B2A3F9-FFCA-4E9F-805A-AC353D121934">监视CPU利用率：</p>
                        <ol>
                           <li>
                              <p>按照<span class="q">“ <a href="monitoring-real-time-database-performance.html#GUID-3D9C9784-ECCA-434C-B247-3EBED3E88A97">监控主机活动</a> ”中的</span>说明访问<span class="italic">主机名</span>页面。
                              </p>
                           </li>
                           <li>
                              <p>从<span class="bold">Host</span>菜单中，选择<span class="bold">Monitoring</span> ，然后选择<span class="bold">CPU Details</span> 。
                              </p>
                              <p>出现“CPU详细信息”页面。</p>
                              <p>此页面包含有关CPU利用率，I / O等待时间和过去一小时收集的负载的统计信息。根据CPU利用率列出前10个进程。</p>
                           </li>
                           <li>
                              <p>使用CPU利用率图表验证当前CPU利用率。</p>
                              <p>CPU利用率图表显示过去一小时半的CPU利用率。当前值显示在图表下方。在标准工作负载时间内，该值不应超过临界阈值。</p>
                           </li>
                           <li>
                              <p>单击<span class="bold">CPU利用率</span> 。
                              </p>
                              <p>将显示“CPU利用率”页面。</p>
                              <p>此页面包含CPU利用率统计信息以及过去24小时内生成的相关警报。</p>
                              <p>在下面的示例中，CPU利用率在下午12:28突然从大约8％飙升到89.49％，高于警告阈值80％。</p>
                              <div class="figure" id="GUID-BAE8D943-D587-4FDB-BCA8-059C5504B002__GUID-CB00867E-7B0E-4205-8352-5E7BF09095E7"><img src="img/cpu_util.gif" alt="下面是cpu_util.gif的描述" title="下面是cpu_util.gif的描述" longdesc="img_text/cpu_util.html"><br><a href="img_text/cpu_util.html">插图说明cpu_util.gif</a></div>
                              <!-- class="figure" -->
                              <p>如果您发现在正常工作负载小时内持续出现此值的意外峰值，则应调查CPU性能问题。</p>
                           </li>
                           <li>
                              <p>返回“CPU详细信息”页面。从<span class="bold">Host</span>菜单中，选择<span class="bold">Monitoring</span> ，然后选择<span class="bold">CPU Details</span> 。
                              </p>
                           </li>
                           <li>
                              <p>使用CPU I / O等待图表验证当前CPU I / O等待时间。</p>
                              <p>CPU I / O等待图表显示过去一个半小时的CPU I / O等待时间。当前值显示在图表下方。在正常工作负载时间内，CPU I / O等待的值不应超过警告阈值。</p>
                              <p><a id="d7824e3174" class="indexterm-anchor"></a> CPU I / O wait表示在一个间隔期间等待I / O的平均作业数。
                              </p>
                           </li>
                           <li>
                              <p>单击<span class="bold">CPU I / O Wait</span> 。
                              </p>
                              <p>出现I / O Wait页面中的CPU。</p>
                              <p>此页面包含过去24小时内生成的CPU I / O等待统计信息和相关警报。</p>
                              <p>如果您发现通过标准工作负载小时数持续增加此值，则可能存在CPU性能问题。</p>
                           </li>
                           <li>
                              <p>返回“CPU详细信息”页面。从<span class="bold">Host</span>菜单中，选择<span class="bold">Monitoring</span> ，然后选择<span class="bold">CPU Details</span> 。
                              </p>
                           </li>
                           <li>
                              <p>使用CPU负载图表验证当前CPU负载。</p>
                              <p>CPU负载图表显示过去一小时半的CPU负载。当前值显示在图表下方。在标准工作负载小时期间，CPU负载的值不应超过警告阈值。</p>
                              <p><a id="d7824e3209" class="indexterm-anchor"></a> CPU负载表示前一分钟等待为CPU资源调度的平均进程数，或者CPU争用时间的水平。
                              </p>
                           </li>
                           <li>
                              <p>单击<span class="bold">CPU负载</span> 。
                              </p>
                              <p>将显示“运行队列长度”（平均5分钟）页面。</p>
                              <p>此页面包含过去24小时内生成的CPU负载统计信息和相关警报。</p>
                              <p>如果您发现在正常工作负载小时内持续出现此值的意外峰值，则可能存在CPU性能问题。</p>
                           </li>
                           <li>
                              <p>返回“CPU详细信息”页面。从<span class="bold">Host</span>菜单中，选择<span class="bold">Monitoring</span> ，然后选择<span class="bold">CPU Details</span> 。
                              </p>
                           </li>
                           <li>
                              <p>查看前10个进程（按CPU排序）表。</p>
                              <p>如果进程占用过多的CPU利用率百分比，则调查该进程。</p>
                              <p>在以下示例中，两个数据库进程占用了87.6％的CPU利用率。因此，数据库可能是潜在的CPU性能问题的根源，应该进行调查。</p>
                              <div class="figure" id="GUID-BAE8D943-D587-4FDB-BCA8-059C5504B002__GUID-7E467FCC-CBB7-4301-9410-E260AF58CFAC"><img src="img/top_10_proc.gif" alt="top_10_proc.gif的描述如下" title="top_10_proc.gif的描述如下" longdesc="img_text/top_10_proc.html"><br><a href="img_text/top_10_proc.html">插图描述top_10_proc.gif</a></div>
                              <!-- class="figure" -->
                           </li>
                           <li>
                              <p><a id="d7824e3251" class="indexterm-anchor"></a><a id="d7824e3255" class="indexterm-anchor"></a>如果发现CPU性能问题，则可以通过执行以下操作尝试解决此问题：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>使用Oracle <a id="d7824e3264" class="indexterm-anchor"></a>数据库资源管理器通过优先考虑CPU资源分配来减少峰值负载使用模式的影响</p>
                                 </li>
                                 <li>
                                    <p>避免运行太多使用大量CPU的进程</p>
                                 </li>
                                 <li>
                                    <p>增加硬件容量，包括更改系统架构</p>
                                 </li>
                              </ul>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-BAE8D943-D587-4FDB-BCA8-059C5504B002__GUID-41EE6020-23EB-41FA-9BF3-8608C1D0AB06">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关解决CPU问题的信息，请<a href="../tgdba/managing-operating-system-resources.html#TGDBA95150" target="_blank"><span class="italic">参见“Oracle数据库性能调整指南”</span></a></p>
                              </li>
                              <li>
                                 <p><a href="../admin/managing-resources-with-oracle-database-resource-manager.html#ADMIN027" target="_blank"><span class="italic">Oracle数据库管理员指南</span></a> <span class="italic"> </span>有关Oracle数据库资源管理器的信息</p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="TDPPT515"></a><a id="TDPPT043"></a><div class="props_rev_3"><a id="GUID-3BFE3927-611B-4DCE-81B4-D59A1418F68A" name="GUID-3BFE3927-611B-4DCE-81B4-D59A1418F68A"></a><h4 id="TDPPT-GUID-3BFE3927-611B-4DCE-81B4-D59A1418F68A" class="sect4"><span class="enumeration_section">4.3.2</span>监控内存利用率</h4>
                  <div>
                     <div class="section">
                        <p>操作系统性能问题通常涉及进程管理，内存管理和调度。本节介绍如何监视内存利用率并确定分页和交换等问题。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3BFE3927-611B-4DCE-81B4-D59A1418F68A__GUID-1987B02F-DB67-4C4F-81C1-1AAE2F010DA1">监视内存利用率：</p>
                        <ol>
                           <li>
                              <p>按照<span class="q">“ <a href="monitoring-real-time-database-performance.html#GUID-3D9C9784-ECCA-434C-B247-3EBED3E88A97">监控主机活动</a> ”中的</span>说明访问<span class="italic">主机名</span>页面。
                              </p>
                           </li>
                           <li>
                              <p>从<span class="bold">主机</span>菜单中，选择<span class="bold">监控</span> ，然后选择<span class="bold">内存详细信息</span> 。
                              </p>
                              <p>出现“内存详细信息”页</p>
                              <p>此页面包含有关过去一小时内收集的内存利用率，页面扫描率和交换利用率的统计信息。前10个进程也按内存利用率排列。<a href="monitoring-real-time-database-performance.html#GUID-3BFE3927-611B-4DCE-81B4-D59A1418F68A__CBBFDGAG">图4-15</a>显示了“内存详细信息”页面的一部分。未显示前10个进程（按内存排序）部分。
                              </p>
                              <div class="figure" id="GUID-3BFE3927-611B-4DCE-81B4-D59A1418F68A__CBBFDGAG">
                                 <p class="titleinfigure">图4-15内存详细信息页面</p><img src="img/mem_details.gif" alt="下面是图4-15的描述" title="下面是图4-15的描述" longdesc="img_text/mem_details.html"><br><a href="img_text/mem_details.html">“图4-15内存详细信息页面”的说明</a></div>
                              <!-- class="figure" -->
                           </li>
                           <li>
                              <p>使用“内存页面扫描速率”图表验证当前内存页扫描速率。</p>
                              <p>内存页面扫描速率的当前值显示在图表下方。在UNIX和Linux上，此值表示每秒扫描的页数。在Microsoft Windows上，此值表示从磁盘读取或写入页面以解决硬页面错误的速率。该值是可能导致系统范围延迟的故障类型的主要指标。</p>
                           </li>
                           <li>
                              <p>单击“ <span class="bold">内存扫描速率”（每秒页数）</span> 。
                              </p>
                              <p>将出现“内存页面扫描速率”页面。</p>
                              <p>此页面包含过去24小时内存页面扫描率统计信息和相关警报。</p>
                              <p>如果您发现通过标准工作负载小时数持续增加此值，则可能存在内存性能问题。</p>
                           </li>
                           <li>
                              <p>返回“内存详细信息”页面。从<span class="bold">主机</span>菜单中，选择<span class="bold">监控</span> ，然后选择<span class="bold">内存详细信息</span> 。
                              </p>
                           </li>
                           <li>
                              <p>使用“内存利用率”图表，验证当前内存利用率。</p>
                              <p>内存利用率图表显示正在使用的内存量。内存利用率的当前值显示在图表下方。在标准工作负载时间内，该值不应超过警告阈值（以黄色显示）。</p>
                           </li>
                           <li>
                              <p>单击<span class="bold">内存利用率（％）</span> 。
                              </p>
                              <p>出现“内存使用率”页面</p>
                              <p>此页面包含过去24小时内生成的内存利用率统计信息和相关警报。</p>
                              <div class="figure" id="GUID-3BFE3927-611B-4DCE-81B4-D59A1418F68A__GUID-7F0C9D1E-3C19-42B3-8020-0A804F9288E2"><img src="img/mem_util.gif" alt="mem_util.gif的描述如下" title="mem_util.gif的描述如下" longdesc="img_text/mem_util.html"><br><a href="img_text/mem_util.html">插图描述mem_util.gif</a></div>
                              <!-- class="figure" -->
                              <p>在此示例中，内存利用率已超过80％，因此警报将显示在“度量标准警报历史记录”表中。</p>
                              <p>如果您发现在正常工作负载小时内持续出现此值的意外峰值，则可能存在内存性能问题。</p>
                           </li>
                           <li>
                              <p>返回“内存详细信息”页面。从<span class="bold">Host</span>菜单中，选择<span class="bold">Monitoring</span> ，然后选择<span class="bold">Memory Details</span> 。
                              </p>
                           </li>
                           <li>
                              <p>使用交换利用率图表，验证当前交换利用率。</p>
                              <p>交换利用率<a id="d7824e3495" class="indexterm-anchor"></a>图表显示了正在使用的交换空间量。交换利用率的当前值显示在图表下方。在正常工作负载时间内，该值不应超过警告阈值。
                              </p>
                           </li>
                           <li>
                              <p>单击“ <span class="bold">交换利用率（％）”</span> 。
                              </p>
                              <p>将显示“交换利用率”页面。</p>
                              <p>此页面包含交换利用率统计信息以及过去24小时内生成的相关警报。</p>
                              <p>如果您发现在正常工作负载小时内持续出现此值的意外峰值，则可能存在内存性能问题。</p>
                           </li>
                           <li>
                              <p>返回“内存详细信息”页面。从<span class="bold">Host</span>菜单中，选择<span class="bold">Monitoring</span> ，然后选择<span class="bold">Memory Details</span> 。
                              </p>
                           </li>
                           <li>
                              <p>查看前10个流程（按内存排序）表中的顶级流程。</p>
                              <p>如果进程占用太多内存，则应调查此过程。</p>
                           </li>
                           <li>
                              <p>如果是内存性能问题<a id="d7824e3533" class="indexterm-anchor"></a><a id="d7824e3537" class="indexterm-anchor"></a>如果已识别，则可以通过执行以下操作尝试解决问题：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>使用自动内存管理在系统全局区域（SGA）和聚合程序全局区域（PGA聚合）之间自动管理和分配内存。</p>
                                 </li>
                                 <li>
                                    <p>使用Memory Advisor设置SGA和PGA内存目标值。</p>
                                 </li>
                                 <li>
                                    <p>使用自动PGA管理来管理SQL内存执行。</p>
                                 </li>
                                 <li>
                                    <p>避免运行过多消耗大量内存的进程。</p>
                                 </li>
                                 <li>
                                    <p>减少分页或交换。</p>
                                 </li>
                                 <li>
                                    <p>使用游标共享减少打开游标的数量和硬解析。</p>
                                 </li>
                              </ul>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-3BFE3927-611B-4DCE-81B4-D59A1418F68A__GUID-0938CBD3-F7BE-4E0A-A89B-43D80097A24D">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="../admin/managing-memory.html#ADMIN11011" target="_blank"><span class="italic">“Oracle数据库管理员指南”</span></a> ，了解有关使用自动内存管理的信息</p>
                              </li>
                              <li>
                                 <p>有关解决内存问题的信息，请<a href="../tgdba/database-memory-allocation.html#TGDBA291" target="_blank"><span class="italic">参见“Oracle数据库性能调整指南”</span></a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="TDPPT516"></a><a id="TDPPT044"></a><div class="props_rev_3"><a id="GUID-4206DC68-97C4-4ADE-AA05-90F1486488BF" name="GUID-4206DC68-97C4-4ADE-AA05-90F1486488BF"></a><h4 id="TDPPT-GUID-4206DC68-97C4-4ADE-AA05-90F1486488BF" class="sect4"><span class="enumeration_section">4.3.3</span>监控磁盘I / O利用率</h4>
                  <div>
                     <div class="section">
                        <p><a id="d7824e3663" class="indexterm-anchor"></a><a id="d7824e3667" class="indexterm-anchor"></a>由于数据库驻留在一组磁盘上，因此I / O子系统的性能对数据库性能非常重要。重要的磁盘统计信息包括每秒磁盘I / O和服务时间长度。这些统计信息显示磁盘是否运行最佳或存储系统是否过度工作。本节介绍如何监控磁盘I / O利用率。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4206DC68-97C4-4ADE-AA05-90F1486488BF__GUID-2067915E-9A2A-4E1A-9375-5329655BA738">监控磁盘I / O利用率：</p>
                        <ol>
                           <li>
                              <p>从“ <span class="bold">目标”</span>菜单中，选择“ <span class="bold">主机”</span> 。
                              </p>
                              <p>将显示“主机”页面。</p>
                           </li>
                           <li>
                              <p>在主机列表中，单击数据库所在主机的名称。</p>
                              <p>将显示<span class="italic">hostname</span>页面，其中<span class="italic">hostname</span>是<span class="italic">主机</span>的名称。
                              </p>
                           </li>
                           <li>
                              <p>从<span class="bold">Host</span>菜单中，选择<span class="bold">Monitoring</span> ，然后选择<span class="bold">Disk Details</span> 。
                              </p>
                              <p>出现“磁盘详细信息”页</p>
                              <p>此页面包含磁盘I / O利用率和服务时间统计信息，以及按其使用时间百分比排序的顶级磁盘设备。</p>
                              <div class="figure" id="GUID-4206DC68-97C4-4ADE-AA05-90F1486488BF__CBBFFHJB">
                                 <p class="titleinfigure">图4-16磁盘详细信息</p><img src="img/disk_details.gif" alt="下面是图4-16的描述" title="下面是图4-16的描述" longdesc="img_text/disk_details.html"><br><a href="img_text/disk_details.html">“图4-16磁盘详细信息”的说明</a></div>
                              <!-- class="figure" -->
                           </li>
                           <li>
                              <p>使用“在所有磁盘上进行磁盘I / O总量”图表验证当前磁盘I / O利用率。</p>
                              <p>“在所有磁盘上进行的磁盘I / O总量”图表显示每秒执行的磁盘I / O数量。每秒总磁盘I / O的当前值显示在图表下方。在<a href="monitoring-real-time-database-performance.html#GUID-4206DC68-97C4-4ADE-AA05-90F1486488BF__CBBFFHJB">图4-16中，</a>该值为153.07。
                              </p>
                           </li>
                           <li>
                              <p>单击<span class="bold">所有磁盘上的总磁盘I / O（每秒）</span> 。
                              </p>
                              <p>将显示“在所有磁盘（每秒）上创建的磁盘I / O总量”页面。</p>
                              <p>此页面包含过去24小时内生成的磁盘利用率统计信息和相关警报。</p>
                              <p>如果您发现此值在标准工作负载小时内出现意外峰值，则可能存在磁盘I / O性能问题，应进行调查。</p>
                           </li>
                           <li>
                              <p>使用所有磁盘中的最大平均磁盘I / O服务时间（毫秒）图表验证当前的I / O服务时间。</p>
                              <p>所有磁盘中的最大平均磁盘I / O服务时间（毫秒）图表显示磁盘I / O的最长服务时间（以毫秒为单位）。最长I / O服务时间的当前值显示在图表下方。在<a href="monitoring-real-time-database-performance.html#GUID-4206DC68-97C4-4ADE-AA05-90F1486488BF__CBBFFHJB">图4-16中，</a>该值为1.79。
                              </p>
                           </li>
                           <li>
                              <p>从<span class="bold">Host</span>菜单中，选择<span class="bold">Monitoring</span> ，然后选择<span class="bold">Disk Details</span> 。
                              </p>
                              <p>出现“磁盘详细信息”页</p>
                           </li>
                           <li>
                              <p>单击<span class="bold">所有磁盘中的最大平均磁盘I / O（毫秒）服务时间</span> 。
                              </p>
                              <p>将显示“所有磁盘中的最大平均磁盘I / O服务时间（毫秒）”页面。</p>
                              <p>此页面包含I / O服务时间统计信息以及过去24小时内生成的相关警报。</p>
                              <p>如果您发现在正常工作负载小时内持续出现此值的意外峰值，则可能存在磁盘I / O性能问题，应进行调查。</p>
                           </li>
                           <li>
                              <p>从<span class="bold">Host</span>菜单中，选择<span class="bold">Monitoring</span> ，然后选择<span class="bold">Disk Details</span> 。
                              </p>
                              <p>出现“磁盘详细信息”页</p>
                           </li>
                           <li>
                              <p>在“磁盘详细信息”页面上，验证顶部磁盘设备（按％忙排序）表中的磁盘设备。</p>
                              <p>如果特定磁盘占用的时间很长，则应调查此磁盘。</p>
                              <p>在<a href="monitoring-real-time-database-performance.html#GUID-4206DC68-97C4-4ADE-AA05-90F1486488BF__CBBFFHJB">图4-16中</a> ，托管Oracle数据库（xvda和xvda1）的驱动器仅占12.14和10.93％的时间，因此不存在磁盘性能问题。
                              </p>
                           </li>
                           <li>
                              <p>如果磁盘I / O性能有问题<a id="d7824e3797" class="indexterm-anchor"></a><a id="d7824e3801" class="indexterm-anchor"></a>如果已识别，您可以通过执行以下操作尝试解决问题：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>使用Oracle自动存储管理（Oracle ASM）管理数据库存储。</p>
                                 </li>
                                 <li>
                                    <p>在每个磁盘上划分所有内容以分发I / O.</p>
                                 </li>
                                 <li>
                                    <p>将归档重做日志和联机重做日志等文件移动到单独的磁盘。</p>
                                 </li>
                                 <li>
                                    <p>将所需数据存储在内存中以减少物理I / O的数量。</p>
                                 </li>
                              </ul>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-4206DC68-97C4-4ADE-AA05-90F1486488BF__GUID-2E9DD30B-D056-4EF6-98BD-297E25D8D9AC">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关解决磁盘I / O问题的信息，请<a href="../tgdba/IO-configuration-and-design.html#TGDBA015" target="_blank"><span class="italic">参见“Oracle数据库性能调整指南”</span></a></p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="TDPPT550"></a><a id="TDPPT551"></a><a id="TDPPT552"></a><a id="TDPPT517"></a><div class="props_rev_3"><a id="GUID-84551E4C-9D0E-4580-8B89-FAE9DD6A44D1" name="GUID-84551E4C-9D0E-4580-8B89-FAE9DD6A44D1"></a><h3 id="TDPPT-GUID-84551E4C-9D0E-4580-8B89-FAE9DD6A44D1" class="sect3"><span class="enumeration_section">4.4</span>确定数据库活动中的峰值原因</h3>
               <div>
                  <div class="section">
                     <p><a id="d7824e3915" class="indexterm-anchor"></a><a id="d7824e3919" class="indexterm-anchor"></a><a id="d7824e3921" class="indexterm-anchor"></a>如果您在“性能”页面中看到数据库活动激增，则可以访问ASH Analytics页面以找出哪些会话消耗的数据库时间最长。此页面提供堆叠区域图表，以帮助您从各种维度可视化活动会话活动，例如等待类，模块，操作，SQL ID，实例，用户会话，消费者组等。您可以深入查看维度的特定成员（垂直缩放），以及放大和缩小任何时间段（水平缩放）。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-84551E4C-9D0E-4580-8B89-FAE9DD6A44D1__GUID-D5D6DE7B-8703-4277-9546-9BC8F719120D">要在ASH Analytics页面上查看活动会话活动：</p>
                     <ol>
                        <li>
                           <p>访问数据库主页。</p>
                           <p>有关详细信息，请参阅<span class="q">“ <a href="introduction.html#GUID-653C25F9-71B4-4E26-8902-12BC20B20270">访问数据库主页</a> ”</span> 。
                           </p>
                        </li>
                        <li>
                           <p>从<span class="bold">Performance</span>菜单中，选择<span class="bold">Performance Hub</span> ，然后选择<span class="bold">ASH Analytics</span> 。
                           </p>
                           <p>如果出现“数据库登录”页面，则以具有管理员权限的用户身份登录。将显示ASH Analytics页面。</p>
                           <p><a href="monitoring-real-time-database-performance.html#GUID-84551E4C-9D0E-4580-8B89-FAE9DD6A44D1__CBBJIGEF">图4-17</a>显示了ASH Analytics页面的示例。
                           </p>
                           <div class="figure" id="GUID-84551E4C-9D0E-4580-8B89-FAE9DD6A44D1__CBBJIGEF">
                              <p class="titleinfigure">图4-17 ASH Analytics页面</p><img src="img/ash_analytics_page.gif" alt="下面是图4-17的描述" title="下面是图4-17的描述" longdesc="img_text/ash_analytics_page.html"><br><a href="img_text/ash_analytics_page.html">“图4-17 ASH Analytics页面”的说明</a></div>
                           <!-- class="figure" -->
                        </li>
                        <li>
                           <p>要在选定时间段内查看热门活动的高级视角，请将顶部图表中的整个着色滑块区域拖动到所需的时间段。</p>
                           <div class="infobox-tip" id="GUID-84551E4C-9D0E-4580-8B89-FAE9DD6A44D1__GUID-84804399-538E-4337-9ECB-4EE6BFA90167">
                              <p class="notep1">小费：</p>
                              <p>您可以通过选择滑块任一边缘的控件并向左或向右拖动来更改阴影滑块区域中选定的时间。</p>
                              <p>您可以在默认设置中选择一小时的时间段，也可以使用图表上方的选择器按钮显示一天，一周或一个月的时间段。您还可以使用“日历”和“自定义”按钮显示除预设选项之外的时间段。</p>
                           </div>
                        </li>
                        <li>
                           <p>要查看所选时间段的更详细视角，请使用页面上的活动图表。默认情况下，图表显示等待类的工作负载活动细分。</p>
                        </li>
                        <li>
                           <p>通过查看对系统产生负面影响的顶级活动会话的详细统计信息来调查影响。</p>
                           <p><span class="bold">要查看会话的详细统计信息：</span></p>
                           <ol type="a">
                              <li>
                                 <p>选择图表中最大的峰值或图表旁边图例中的相应等待类。观众现在过滤掉图表中的所有内容，除了感兴趣的等待类。</p>
                                 <p>例如，如果图表显示并发等待类具有最大峰值，请选择并发图例的图表区域。查看器刷新图表，现在只显示Concurrency值，并在Filters栏中显示Wait Class：Concurrency图标。</p>
                                 <div class="infobox-tip" id="GUID-84551E4C-9D0E-4580-8B89-FAE9DD6A44D1__GUID-7303E533-DABD-4056-BDCA-4C9AB55BADA4">
                                    <p class="notep1">小费：</p>
                                    <p>您可以创建无限数量的过滤器。</p>
                                 </div>
                              </li>
                              <li>
                                 <p>在“活动”部分中，从维度列表中选择“ <span class="bold">顶部维度</span> ”。图表会根据您的选择进行刷新，显示您选择的特定类别的值。
                                 </p>
                                 <p>例如，如果您如上所述为并发创建过滤器，然后从列表中选择“顶层维度”，然后选择“用户会话”，则该图表仅显示“并发”的用户会话。</p>
                                 <p><a href="monitoring-real-time-database-performance.html#GUID-84551E4C-9D0E-4580-8B89-FAE9DD6A44D1__CBBJABAI">图4-18</a>显示了选择了Top Dimensions的活动列表。
                                 </p>
                                 <div class="figure" id="GUID-84551E4C-9D0E-4580-8B89-FAE9DD6A44D1__CBBJABAI">
                                    <p class="titleinfigure">图4-18活动列表</p><img src="img/ash_analytics_list.gif" alt="下面是图4-18的描述" title="下面是图4-18的描述" longdesc="img_text/ash_analytics_list.html"><br><a href="img_text/ash_analytics_list.html">“图4-18活动列表”的描述</a></div>
                                 <!-- class="figure" -->
                              </li>
                           </ol>
                        </li>
                        <li>
                           <p>（可选）使用“加载映射”获取系统活动的图形视图。</p>
                           <p>当您不想看到活动在选定时间段内如何随时间变化时，加载地图对于查看单维或多维布局中的活动非常有用。</p>
                           <p><a href="monitoring-real-time-database-performance.html#GUID-84551E4C-9D0E-4580-8B89-FAE9DD6A44D1__CBBEIFBI">图4-19</a>显示了等待类和等待事件的活动的加载映射。
                           </p>
                           <div class="figure" id="GUID-84551E4C-9D0E-4580-8B89-FAE9DD6A44D1__CBBEIFBI">
                              <p class="titleinfigure">图4-19 ASH Analytics页面上的加载图</p><img src="img/ash_analytics_loadmap.gif" alt="下面是图4-19的描述" title="下面是图4-19的描述" longdesc="img_text/ash_analytics_loadmap.html"><br><a href="img_text/ash_analytics_loadmap.html">“图4-19在ASH Analytics页面上加载地图”的说明</a></div>
                           <!-- class="figure" -->
                        </li>
                        <li>
                           <p>（可选）单击“ <span class="bold">保存”</span>将当前页面视图<span class="bold">另存</span>为HTML文件以供脱机引用。单击“保存”时，将显示“另存为”对话框，您可以指定要保存报告的位置。此操作将创建企业管理器活动报告，其中包含当前作为分析的一部分收集的所有数据。例如，您可以稍后使用它进行更彻底的事后分析。您可以在没有云控制或数据库连接的情况下查看报告。
                           </p>
                           <p>您还可以单击“ <span class="bold">邮件”</span>并指定电子邮件地址以将页面作为附件发送。
                           </p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="TDPPT313"></a><div class="props_rev_3"><a id="GUID-81073595-A0B0-474C-937B-376B58D7C414" name="GUID-81073595-A0B0-474C-937B-376B58D7C414"></a><h3 id="TDPPT-GUID-81073595-A0B0-474C-937B-376B58D7C414" class="sect3"><span class="enumeration_section">4.5</span>自定义“数据库性能”页面</h3>
               <div>
                  <div class="section">
                     <p><a id="d7824e4110" class="indexterm-anchor"></a><a id="d7824e4114" class="indexterm-anchor"></a>您可以自定义“性能”页面，以便它专门满足您的要求。如<span class="q">“ <a href="monitoring-real-time-database-performance.html#GUID-F405EE4E-F0A9-42AB-AC3C-4FA6F29DE6AC">监视实例活动</a> ”中所述</span> ，您可以在“性能”页面中指定要默认显示的图表，以及希望它们的显示方式。您还可以决定是否在吞吐量和服务图表中包含基准值。
                     </p>
                     <p>Cloud Control为存储库中的每个用户存储持久性自定义信息。当您访问“性能”页面时，Cloud Control会检索自定义数据，并在浏览器会话的剩余时间内对其进行缓存，直到您更改设置为止。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-81073595-A0B0-474C-937B-376B58D7C414__GUID-E80BCD58-ABEE-41E8-8026-CA593EDB5E50">要自定义“性能”页面：</p>
                     <ol>
                        <li>
                           <p>访问数据库主页。</p>
                           <p>有关详细信息，请参阅<span class="q">“ <a href="introduction.html#GUID-653C25F9-71B4-4E26-8902-12BC20B20270">访问数据库主页</a> ”</span> 。
                           </p>
                        </li>
                        <li>
                           <p>从“ <span class="bold">性能”</span>菜单中，选择“ <span class="bold">性能主页”</span> 。
                           </p>
                           <p>如果出现“数据库登录”页面，则以具有管理员权限的用户身份登录。将出现“性能”页面。</p>
                        </li>
                        <li>
                           <p>单击<span class="bold">设置</span> 。
                           </p>
                           <p>将出现“性能页面设置”页面。</p>
                           <div class="figure" id="GUID-81073595-A0B0-474C-937B-376B58D7C414__GUID-F3728405-208B-4D2C-AA45-C3C93A12829B"><img src="img/perf_page_sett.gif" alt="perf_page_sett.gif的描述如下" title="perf_page_sett.gif的描述如下" longdesc="img_text/perf_page_sett.html"><br><a href="img_text/perf_page_sett.html">perf_page_sett.gif插图的描述</a></div>
                           <!-- class="figure" -->
                        </li>
                        <li>
                           <p>在“详细图表设置”部分中，选择显示实例活动图表的默认值。完成以下步骤：</p>
                           <ol type="a">
                              <li>
                                 <p>在“ <span class="bold">默认视图”中</span> ，选择默认情况下在“平均活动会话”部分中显示的实例活动图表。
                                 </p>
                                 <p>有关吞吐量，I / O，并行执行和服务图表的说明，请参阅<span class="q">“ <a href="monitoring-real-time-database-performance.html#GUID-F405EE4E-F0A9-42AB-AC3C-4FA6F29DE6AC">监控实例活动</a> ”</span> 。
                                 </p>
                              </li>
                              <li>
                                 <p>在“ <span class="bold">吞吐量图表设置”中</span> ，选择“ <span class="bold">每秒”</span>或“ <span class="bold">每个事务”</span>作为要在吞吐量图表中显示的默认实例吞吐率。
                                 </p>
                                 <p>请参阅<span class="q">“ <a href="monitoring-real-time-database-performance.html#GUID-FB8EDFF1-2BBC-4A61-B16F-09641BA062D0">监视吞吐量</a> ”</span>以了解如何使用吞吐量图表。
                                 </p>
                              </li>
                              <li>
                                 <p>在<span class="bold">I / O图表设置中</span> ，选择要在I / O图表中显示的默认I / O选项。
                                 </p>
                                 <p>请参阅<span class="q">“ <a href="monitoring-real-time-database-performance.html#GUID-A76E027F-8EE0-4B10-8EE9-6C3E8D3ED222">监视I / O</a> ”</span>以了解如何使用I / O图表。
                                 </p>
                              </li>
                           </ol>
                        </li>
                        <li>
                           <p>在“基线显示”部分中，选择AWR基线在性能图表中的显示方式。执行以下操作之一：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>选择<span class="bold">不显示基线值</span>以防止出现基线。
                                 </p>
                              </li>
                              <li>
                                 <p>选择<span class="bold">使用系统移动窗口基线显示第99百分位线，</span>以指定要为吞吐量和服务图表显示的百分位数。
                                 </p>
                              </li>
                              <li>
                                 <p>选择<span class="bold">使用带有计算统计数据的静态基线显示第99个百分位线</span> ，然后从“基线名称”列表中选择基线名称。
                                 </p>
                                 <p>您只能选择已经过计划统计计算的基准，如<span class="q">“ <a href="resolving-performance-degradation-over-time.html#GUID-63B691E7-9A7D-443D-98C3-4C287B3CBE5C">计算基准的阈值统计</a> ”中所述</span> 。
                                 </p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p>单击<span class="bold">确定</span> 。</p>
                           <p>将出现“性能”页面。</p>
                           <p>现在根据您的自定义设置显示图表。</p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>