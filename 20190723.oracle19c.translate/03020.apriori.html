<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Learn how to calculate Association Rules using Apriori algorithm."></meta>
      <meta name="description" content="Learn how to calculate Association Rules using Apriori algorithm."></meta>
      <title>先验</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="API Guide"></meta>
      <meta property="og:description" content="Learn how to calculate Association Rules using Apriori algorithm."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="API Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="data-mining-api-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-12T22:34:55-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2005, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E97869-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="algorithms.html" title="Previous" type="text/html"></link>
      <link rel="next" href="cur-matrix-decomposition.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Data Mining API Guide"></meta>
    <meta name="dcterms.isVersionOf" content="DMAPI"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="algorithms.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="cur-matrix-decomposition.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">API指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="algorithms.html" property="item" typeof="WebPage"><span property="name">算法</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">先验</li>
            </ol>
            <a id="GUID-B7D12599-FB4C-45E3-BCE4-E54A3C6F0E64" name="GUID-B7D12599-FB4C-45E3-BCE4-E54A3C6F0E64"></a>
            
            <h2 id="DMAPI-GUID-B7D12599-FB4C-45E3-BCE4-E54A3C6F0E64" class="sect2"><span class="enumeration_chapter">10</span> Apriori</h2>
         </header>
         <div class="ind">
            <div>
               <p>了解如何使用Apriori算法计算关联规则。</p>
               <p><a id="d14133e8" class="indexterm-anchor"></a><a id="d14133e10" class="indexterm-anchor"></a><a id="d14133e14" class="indexterm-anchor"></a></p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="apriori.html#GUID-9357EC61-F2F4-436B-B205-C775DC5EC72D" title="了解Apriori。">关于Apriori</a></p>
                  </li>
                  <li>
                     <p><a href="apriori.html#GUID-B1A63951-407B-4363-8986-46B38F080EC2">关联规则和频繁项目集</a></p>
                  </li>
                  <li>
                     <p><a href="apriori.html#GUID-F4608620-7379-485F-AC7E-EF1AE42B2B15" title="了解交易数据的存储格式。通过稀疏性了解缺失的项目。根据Riondato和Upfal的工作，关联规则（AR）可以使用具有性能保证的良好样本量。仅在用户打开采样（ODMS_SAMPLING设置为ODMS_SAMPLING_ENABLE）且未指定样本大小（未指定ODMS_SAMPLE_SIZE）时计算样本大小。">Apriori的数据准备</a></p>
                  </li>
                  <li>
                     <p><a href="apriori.html#GUID-306942EA-B80E-44C4-B060-AD9C2B024984" title="了解项目集。了解常用项目集和支持。从频繁项目集计算规则的示例。聚合是指与用户选择关联规则模型进行聚合的每个项目关联的数量。以下示例显示了Aggregates的概念。解释包括规则和排除关联中使用的规则。聚合函数需要更多的内存使用和更长的执行时间。">计算关联规则</a></p>
                  </li>
                  <li>
                     <p><a href="apriori.html#GUID-376A915C-D473-46C5-B360-5DD9E4814645" title="最小支持Count定义每个规则必须满足的事务中的最小阈值。规则的置信度表示先行和后续出现在同一交易中的概率。规则的反向置信度定义为规则发生的事务数除以结果发生的事务数。">评估关联规则</a></p>
                  </li>
               </ul>
            </div>
            <div>
               <div class="relinfo">
                  <p><strong>相关话题</strong></p>
                  <ul>
                     <li><a href="association.html#GUID-491998B3-B92B-4F84-8A79-94780B8AFD0C" title="了解如何通过关联发现关联规则 - 一种无监督的挖掘功能。">协会</a></li>
                  </ul>
               </div>
            </div><a id="DMCON061"></a><a id="DMCON283"></a><div class="props_rev_3"><a id="GUID-9357EC61-F2F4-436B-B205-C775DC5EC72D" name="GUID-9357EC61-F2F4-436B-B205-C775DC5EC72D"></a><h3 id="DMAPI-GUID-9357EC61-F2F4-436B-B205-C775DC5EC72D" class="sect3"><span class="enumeration_section">10.1</span>关于Apriori</h3>
               <div>
                  <p>了解Apriori。</p>
                  <p>一个<a id="d14133e91" class="indexterm-anchor"></a>关联挖掘问题可以分解为以下子问题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>查找以指定的最小频率发生的一组事务中的所有项目组合。这些组合被称为<a id="d14133e100" class="indexterm-anchor"></a> <strong class="term">频繁项目集</strong> 。
                        </p>
                     </li>
                     <li>
                        <p>计算<a id="d14133e108" class="indexterm-anchor"></a>表示频繁项目集中可能的项目共现的规则。
                        </p>
                     </li>
                  </ul>
                  <p>Apriori计算项目出现在频繁项目集中的概率，假设存在另一个或多个项目。</p>
                  <p>不建议使用关联规则挖掘来查找涉及具有大量项目的问题域中的罕见事件的关联。Apriori发现频率高于最小支持阈值的模式。因此，要查找涉及罕见事件的关联，算法必须以非常低的最小支持值运行。但是，这样做可能会爆炸枚举项目集的数量，尤其是在具有大量项目的情况下。这显着增加了执行时间。当数据具有大量属性时，分类或异常检测更适合发现罕见事件。</p>
                  <p>Apriori的构建过程支持<a id="d14133e119" class="indexterm-anchor"></a>并行执行。
                  </p>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="apriori.html#GUID-BC6755A4-DFDF-4616-848C-60C529E94EA5" title="从频繁项目集计算规则的示例。">示例：从频繁项集计算规则</a></li>
                        <li><a href="../vldbg/using-parallel.html#VLDBG010" target="_blank"><span><cite>Oracle数据库VLDB和分区指南</cite></span></a></li>
                     </ul>
                  </div>
               </div>
            </div><a id="DMCON284"></a><div class="props_rev_3"><a id="GUID-B1A63951-407B-4363-8986-46B38F080EC2" name="GUID-B1A63951-407B-4363-8986-46B38F080EC2"></a><h3 id="DMAPI-GUID-B1A63951-407B-4363-8986-46B38F080EC2" class="sect3"><span class="enumeration_section">10.2</span>关联规则和频繁项集</h3>
               <div>
                  <p>Apriori算法计算表示频繁项集中的项之间的概率关系的规则。例如，从包含A，B和C的频繁项集导出的规则可能表明如果A和B包含在事务中，则可能还包括C。</p>
                  <p>关联规则指出项目或项目组意味着存在具有某种可能性的另一项目。与预测目标的决策树规则不同，关联规则仅表示相关性。</p>
               </div><a id="DMCON285"></a><div class="props_rev_3"><a id="GUID-46324016-DB1B-4831-B3F2-4CDA4822AE1E" name="GUID-46324016-DB1B-4831-B3F2-4CDA4822AE1E"></a><h4 id="DMAPI-GUID-46324016-DB1B-4831-B3F2-4CDA4822AE1E" class="sect4"><span class="enumeration_section">10.2.1</span>先行和后续</h4>
                  <div>
                     <p>关联规则的IF组件称为<strong class="term">前提</strong> 。THEN组件被称为<strong class="term">结果</strong> 。前因和后果是不相交的;他们没有共同的项目。
                     </p>
                     <p>Oracle Data Mining支持关联规则，其中包含先行条件中的一个或多个项目以及后续条目中的单个项目。</p>
                  </div>
               </div><a id="DMCON286"></a><div class="props_rev_3"><a id="GUID-0DD7FCEB-1C90-43F4-8F42-963BA707A6D3" name="GUID-0DD7FCEB-1C90-43F4-8F42-963BA707A6D3"></a><h4 id="DMAPI-GUID-0DD7FCEB-1C90-43F4-8F42-963BA707A6D3" class="sect4"><span class="enumeration_section">10.2.2</span>信心</h4>
                  <div>
                     <p>规则有关联<a id="d14133e207" class="indexterm-anchor"></a>置信度，即在先行词发生的情况下发生后果的条件概率。您可以指定规则的最小置信度。
                     </p>
                  </div>
               </div>
            </div><a id="DMCON295"></a><div class="props_rev_3"><a id="GUID-F4608620-7379-485F-AC7E-EF1AE42B2B15" name="GUID-F4608620-7379-485F-AC7E-EF1AE42B2B15"></a><h3 id="DMAPI-GUID-F4608620-7379-485F-AC7E-EF1AE42B2B15" class="sect3"><span class="enumeration_section">10.3</span> Apriori的数据准备</h3>
               <div>
                  <p><a id="d14133e231" class="indexterm-anchor"></a>关联模型<a id="d14133e236" class="indexterm-anchor"></a>旨在使用<a id="d14133e239" class="indexterm-anchor"></a>交易数据。在事务数据中，案例标识符与每个案例的值之间存在一对多关系。每个案例ID /值对在单独的记录（行）中指定。
                  </p>
               </div><a id="DMCON549"></a><div class="props_rev_3"><a id="GUID-C35F8DE2-B3DD-4F1A-9C62-C6D41BDB91FC" name="GUID-C35F8DE2-B3DD-4F1A-9C62-C6D41BDB91FC"></a><h4 id="DMAPI-GUID-C35F8DE2-B3DD-4F1A-9C62-C6D41BDB91FC" class="sect4"><span class="enumeration_section">10.3.1本</span>机事务数据和星型模式</h4>
                  <div>
                     <p>了解交易数据的存储格式。</p>
                     <p>事务数据可以以本机事务格式存储，具有非唯一的案例ID列和值列，或者它可以存储在某些其他配置中，例如星型模式。如果数据未以本机事务格式存储，则必须将其转换为<a id="d14133e268" class="indexterm-anchor"></a>嵌套列，用于Apriori算法处理。
                     </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="association.html#GUID-B7D14354-A1EF-4E56-974C-18255226C0BD" title="了解交易数据，也称为市场篮子数据。">交易数据</a></li>
                           <li><a href="../dmprg/using-nested-dita.html#DMPRG-GUID-4BBB376F-7CED-4E23-826B-922D00CBFA44" target="_blank"><span><cite>Oracle Data Mining用户指南</cite></span></a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="DMCON550"></a><div class="props_rev_3"><a id="GUID-159F8D42-1CB1-46CF-B2AF-A2C7485D6660" name="GUID-159F8D42-1CB1-46CF-B2AF-A2C7485D6660"></a><h4 id="DMAPI-GUID-159F8D42-1CB1-46CF-B2AF-A2C7485D6660" class="sect4"><span class="enumeration_section">10.3.2</span>项目和集合</h4>
                  <div>
                     <p>在交易数据中，项目集合与每个案例相关联。该集合理论上包括该集合的所有可能成员。例如，理论上可以在单个市场篮子交易中购买所有产品。但是，实际上，在给定的交易中只存在所有可能项目的一小部分;市场购物篮中的商品仅代表商店中可供销售商品的一小部分。</p>
                  </div>
               </div><a id="DMCON551"></a><div class="props_rev_3"><a id="GUID-97571C6E-F447-4C43-B22D-AB02D5DB423D" name="GUID-97571C6E-F447-4C43-B22D-AB02D5DB423D"></a><h4 id="DMAPI-GUID-97571C6E-F447-4C43-B22D-AB02D5DB423D" class="sect4"><span class="enumeration_section">10.3.3</span>稀疏数据</h4>
                  <div>
                     <p>通过稀疏性了解缺失的项目。</p>
                     <p>集合中缺少的项目表示<strong class="term">稀疏性</strong> 。丢失的项目可能存在空值，或者可能只是丢失。
                     </p>
                     <p>假定事务数据中的空值表示已知但在事务中不存在的值。例如，可以在单个交易中购买数百个可能项目中的三个项目。未购买的商品已知但在交易中不存在。</p>
                     <p>Oracle Data Mining假设事务数据稀疏。Apriori算法针对处理稀疏数据进行了优化。</p>
                     <div class="infoboxnote" id="GUID-97571C6E-F447-4C43-B22D-AB02D5DB423D__GUID-4903C543-3A98-40A7-B0E1-C0C9E828D30D">
                        <p class="notep1">注意：</p>
                        <p>Apriori不受自动数据准备的影响。</p>
                     </div>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="../dmprg/handling-missing-values.html#DMPRG-GUID-C989D94A-0B6A-4A2B-91D8-C8B2E460709B" target="_blank"><span><cite>Oracle Data Mining用户指南</cite></span></a></li>
                        </ul>
                     </div>
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-3D4A2CB0-931B-405A-905C-86214ECCAC01" name="GUID-3D4A2CB0-931B-405A-905C-86214ECCAC01"></a><h4 id="DMAPI-GUID-3D4A2CB0-931B-405A-905C-86214ECCAC01" class="sect4"><span class="enumeration_section">10.3.4</span>改进抽样</h4>
                  <div>
                     <p>根据Riondato和Upfal的工作，关联规则（AR）可以使用具有性能保证的良好样本量。</p>
                     <p><a id="d14133e365" class="indexterm-anchor"></a><a id="d14133e369" class="indexterm-anchor"></a> AR算法通过以下输入计算样本大小：</p>
                     <div class="p">
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="italic">d</span>数据集的索引</p>
                           </li>
                           <li>
                              <p>绝对误差<span class="italic">ε</span></p>
                           </li>
                           <li>
                              <p>置信水平<span class="italic">γ</span></p>
                           </li>
                        </ul>
                     </div>
                     <p><span class="italic"><strong class="term">d</strong></span> <strong class="term">-index</strong>被定义为最大整数<span class="italic">d</span> ，使得数据集至少包含<span class="italic">d个</span>最小长度为<span class="italic">d的</span>事务。它是Vapnik-Chervonenkis（VC）维度的上限。AR算法通过扫描数据集中所有事务的长度来计算数据集的<span class="italic">d-</span> index。
                     </p>
                     <p>用户指定绝对误差<span class="italic">ε</span>和置信水平<span class="italic">γ</span>参数。大的<span class="italic">d-</span>指数，小的AR支撑，小的<span class="italic">ε</span>或大的<span class="italic">γ</span>可能导致大的样本量。样本大小理论上保证近似AR（来自采样）的支持和置信度的绝对误差小于<span class="italic">ε</span> ，而精确AR与概率（或置信水平）至少为<span class="italic">γ</span> 。在本文档中，此样本大小称为AR特定样本大小。
                     </p>
                  </div>
                  <div class="props_rev_3"><a id="GUID-F6F3C5A0-7791-4175-810B-75309CE2B5D5" name="GUID-F6F3C5A0-7791-4175-810B-75309CE2B5D5"></a><h5 id="DMAPI-GUID-F6F3C5A0-7791-4175-810B-75309CE2B5D5" class="sect5"><span class="enumeration_section">10.3.4.1</span>抽样实施</h5>
                     <div>
                        <p>当用户接通采样（样本大小仅计算<code class="codeph">ODMS_SAMPLING</code>设定为<code class="codeph">ODMS_SAMPLING_ENABLE</code> ）和不指定样本大小（ <code class="codeph">ODMS_SAMPLE_SIZE</code>是未指定）。
                        </p>
                        <p><a id="d14133e461" class="indexterm-anchor"></a><a id="d14133e465" class="indexterm-anchor"></a></p>
                        <div class="section">
                           <p class="subhead3" id="GUID-F6F3C5A0-7791-4175-810B-75309CE2B5D5__GUID-B9AF4A42-DE87-434B-A738-BCB63D35F8A5">使用说明</p>
                           <div class="p">
                              <ol>
                                 <li>
                                    <p>如果未指定<code class="codeph">ODMS_SAMPLING</code>或将其设置为<code class="codeph">ODMS_SAMPLING_DISABLE</code> ，则不对AR执行采样并获得准确的AR。
                                    </p>
                                 </li>
                                 <li>
                                    <p>如果将<code class="codeph">ODMS_SAMPLING</code>设置为<code class="codeph">ODMS_SAMPLING_ENABLE</code>并且如果将<code class="codeph">ODMS_SAMPLE_SIZE</code>指定为正整数，则使用用户指定的样本大小（ <code class="codeph">ODMS_SAMPLE_SIZE</code> ）。在AR算法之前的一般数据准备阶段中执行采样。不计算AR特定的样本大小。获得近似AR。
                                    </p>
                                 </li>
                                 <li>
                                    <div class="p">如果<code class="codeph">ODMS_SAMPLING</code>设置为<code class="codeph">ODMS_SAMPLING_ENABLE</code> <code class="codeph">ODMS_SAMPLE_SIZE</code>指定<code class="codeph">ODMS_SAMPLE_SIZE</code> ，则计算AR指定的样本大小，然后在AR算法中执行采样。获得近似AR。
                                       <div class="infoboxnote" id="GUID-F6F3C5A0-7791-4175-810B-75309CE2B5D5__GUID-51C74E1B-16C5-40C5-BCBE-E08167125007">
                                          <p class="notep1">注意：</p>
                                          <p>如果计算出的AR特定样本大小大于或等于数据集中的总事务大小，则不执行采样并获得准确的AR。</p>
                                       </div>
                                    </div>
                                 </li>
                              </ol>
                           </div>
                           <p>如果用户对AR的样本大小选择不太了解，建议不要指定<code class="codeph">ODMS_SAMPLE_SIZE</code> ，仅指定采样参数的正确值，并让AR算法计算合适的AR特定样本大小。
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="../arpls/DBMS_DATA_MINING.html#ARPLS-GUID-CE514371-EC80-41EA-AB07-7F6501687D12" target="_blank"><span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a></li>
                           </ul>
                        </div>
                     </div>
                  </div>
               </div>
            </div><a id="DMCON552"></a><div class="props_rev_3"><a id="GUID-306942EA-B80E-44C4-B060-AD9C2B024984" name="GUID-306942EA-B80E-44C4-B060-AD9C2B024984"></a><h3 id="DMAPI-GUID-306942EA-B80E-44C4-B060-AD9C2B024984" class="sect3"><span class="enumeration_section">10.4</span>计算关联规则</h3>
               <div>
                  <p>关联分析的第一步是<strong class="term">项目集</strong>的枚举。项目集是事务中两个或多个项目的任意组合。
                  </p>
               </div><a id="DMCON256"></a><a id="DMCON553"></a><a id="DMCON255"></a><div class="props_rev_3"><a id="GUID-E174E4F9-C4E5-4ABC-B096-ADEF805570DF" name="GUID-E174E4F9-C4E5-4ABC-B096-ADEF805570DF"></a><h4 id="DMAPI-GUID-E174E4F9-C4E5-4ABC-B096-ADEF805570DF" class="sect4"><span class="enumeration_section">10.4.1</span>项目集</h4>
                  <div>
                     <p>了解项目集。</p>
                     <p>项目集中的最大项目数是用户指定的。如果最大值为2，则计算所有项目对。如果最大值大于2，则计算所有项目对，所有项目三元组以及直到指定最大值的所有项目组合。</p>
                     <p>下表显示了从以下示例中显示的事务派生的项集，假设项集中的最大项目数设置为3。</p>
                     <div class="tblformal" id="GUID-E174E4F9-C4E5-4ABC-B096-ADEF805570DF__BABFFIEG">
                        <p class="titleintable">表10-1项目集</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="项目集" width="100%" border="1" summary="Pairs of items (itemsets) in transactions shown in the sample transaction data in this chapter." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="19%" id="d14133e586">交易</th>
                                 <th align="left" valign="bottom" width="81%" id="d14133e589">项目集</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d14133e594" headers="d14133e586 ">
                                    <p>11</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d14133e594 d14133e589 ">
                                    <p>（B，D）（B，E）（D，E）（B，D，E）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d14133e601" headers="d14133e586 ">
                                    <p>12</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d14133e601 d14133e589 ">
                                    <p>（A，B）（A，C）（A，E）（B，C）（B，E）（C，E）（A，B，C）（A，B，E）（A，C，E） ）（B，C，E）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d14133e608" headers="d14133e586 ">
                                    <p>13</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d14133e608 d14133e589 ">
                                    <p>（B，C）（B，D）（B，E）（C，D）（C，E）（D，E）（B，C，D）（B，C，E）（B，D，E ）（C，D，E）</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="example" id="GUID-E174E4F9-C4E5-4ABC-B096-ADEF805570DF__BGBFDAFB">
                        <p class="titleinexample">例10-1交易数据样本</p><pre class="oac_no_warn" dir="ltr">TRANS_ID ITEM_ID --------- ------------------- 11 B 11 D 11 E 12 A 12 B 12 C 12 E 13 B 13 C 13 D 13 E.</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="DMCON258"></a><a id="DMCON257"></a><div class="props_rev_3"><a id="GUID-FDAA1BBA-078A-411F-8003-DA7A4BC2F49F" name="GUID-FDAA1BBA-078A-411F-8003-DA7A4BC2F49F"></a><h4 id="DMAPI-GUID-FDAA1BBA-078A-411F-8003-DA7A4BC2F49F" class="sect4"><span class="enumeration_section">10.4.2</span>频繁项目集</h4>
                  <div>
                     <p>了解常用项目集和支持。</p>
                     <p>关联规则是根据项目集计算的。如果从所有可能的项集生成规则，则可能存在非常多的规则，并且规则可能不是非常有意义。此外，该模型可能需要很长时间才能构建。通常，希望仅从在数据中充分表示的项集生成规则。<strong class="term">频繁项目集</strong>是指以用户指定的最小频率发生的<strong class="term">项目集</strong> 。
                     </p>
                     <p>最小频繁项集<strong class="term">支持</strong>是用户指定的百分比，用于限制用于关联规则的项集数。如果要将项目集用作规则的基础，则项目集必须至少出现在所有事务的此百分比中。
                     </p>
                     <p>下表显示了<a href="apriori.html#GUID-E174E4F9-C4E5-4ABC-B096-ADEF805570DF__BABFFIEG" title="本章中示例事务数据中显示的事务中的项目对（项集）。">表10-1</a>中的项集，这些项集是频率为&gt; 66％的项目集。
                     </p>
                     <div class="tblformal" id="GUID-FDAA1BBA-078A-411F-8003-DA7A4BC2F49F__BABIBFFH">
                        <p class="titleintable">表10-2频繁项目集</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="频繁的项目集" width="100%" border="1" summary="Frequent itemsets derived from sample transactions shown in figure 8-1. Only the frequent itemsets with support &gt; 5% are shown. There are seven frequent itemsets with support &gt; 5%." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="41%" id="d14133e676">频繁的项目集</th>
                                 <th align="left" valign="bottom" width="32%" id="d14133e679">交易</th>
                                 <th align="left" valign="bottom" width="27%" id="d14133e682">支持</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d14133e687" headers="d14133e676 ">
                                    <p>（公元前）</p>
                                 </td>
                                 <td align="left" valign="top" width="32%" headers="d14133e687 d14133e679 ">
                                    <p>2的3</p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d14133e687 d14133e682 ">
                                    <p>67％</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d14133e697" headers="d14133e676 ">
                                    <p>（B，d）</p>
                                 </td>
                                 <td align="left" valign="top" width="32%" headers="d14133e697 d14133e679 ">
                                    <p>2的3</p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d14133e697 d14133e682 ">
                                    <p>67％</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d14133e707" headers="d14133e676 ">
                                    <p>（是）</p>
                                 </td>
                                 <td align="left" valign="top" width="32%" headers="d14133e707 d14133e679 ">
                                    <p>3的3</p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d14133e707 d14133e682 ">
                                    <p>100％</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d14133e717" headers="d14133e676 ">
                                    <p>（C，E）</p>
                                 </td>
                                 <td align="left" valign="top" width="32%" headers="d14133e717 d14133e679 ">
                                    <p>2的3</p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d14133e717 d14133e682 ">
                                    <p>67％</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d14133e727" headers="d14133e676 ">
                                    <p>（d，E）</p>
                                 </td>
                                 <td align="left" valign="top" width="32%" headers="d14133e727 d14133e679 ">
                                    <p>2的3</p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d14133e727 d14133e682 ">
                                    <p>67％</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d14133e737" headers="d14133e676 ">
                                    <p>（B，C，E）</p>
                                 </td>
                                 <td align="left" valign="top" width="32%" headers="d14133e737 d14133e679 ">
                                    <p>2的3</p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d14133e737 d14133e682 ">
                                    <p>67％</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="41%" id="d14133e747" headers="d14133e676 ">
                                    <p>（B，d，E）</p>
                                 </td>
                                 <td align="left" valign="top" width="32%" headers="d14133e747 d14133e679 ">
                                    <p>2的3</p>
                                 </td>
                                 <td align="left" valign="top" width="27%" headers="d14133e747 d14133e682 ">
                                    <p>67％</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="apriori.html#GUID-B7D12599-FB4C-45E3-BCE4-E54A3C6F0E64" title="了解如何使用Apriori算法计算关联规则。">先验</a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="DMCON288"></a><a id="DMCON289"></a><a id="DMCON290"></a><a id="DMCON287"></a><div class="props_rev_3"><a id="GUID-BC6755A4-DFDF-4616-848C-60C529E94EA5" name="GUID-BC6755A4-DFDF-4616-848C-60C529E94EA5"></a><h4 id="DMAPI-GUID-BC6755A4-DFDF-4616-848C-60C529E94EA5" class="sect4"><span class="enumeration_section">10.4.3</span>示例：从频繁项集计算规则</h4>
                  <div>
                     <p>从频繁项目集计算规则的示例。</p>
                     <p>下表显示了在<span class="q">“关联”</span>中计算的项集和频繁项集。频繁项目集是最小支持率为67％的项目集; 3个交易中至少有2个必须包含项目集。
                     </p>
                     <div class="tblformal" id="GUID-BC6755A4-DFDF-4616-848C-60C529E94EA5__BGBHGCEF">
                        <p class="titleintable">表10-3项目集</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="项目集" width="100%" border="1" summary="Pairs of items (itemsets) in transactions shown in the sample transaction data in this chapter." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="19%" id="d14133e803">交易</th>
                                 <th align="left" valign="bottom" width="81%" id="d14133e806">项目集</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d14133e811" headers="d14133e803 ">
                                    <p>11</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d14133e811 d14133e806 ">
                                    <p>（B，D）（B，E）（D，E）（B，D，E）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d14133e818" headers="d14133e803 ">
                                    <p>12</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d14133e818 d14133e806 ">
                                    <p>（A，B）（A，C）（A，E）（B，C）（B，E）（C，E）（A，B，C）（A，B，E）（A，C，E） ）（B，C，E）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="19%" id="d14133e825" headers="d14133e803 ">
                                    <p>13</p>
                                 </td>
                                 <td align="left" valign="top" width="81%" headers="d14133e825 d14133e806 ">
                                    <p>（B，C）（B，D）（B，E）（C，D）（C，E）（D，E）（B，C，D）（B，C，E）（B，D，E ）（C，D，E）</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="tblformal" id="GUID-BC6755A4-DFDF-4616-848C-60C529E94EA5__BGBCGCBA">
                        <p class="titleintable">表10-4最低支持频率项目集67％</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="最低支持的频繁项目集67％" width="100%" border="1" summary="Sample set of frequent itemsets as shown in the chapter on Association" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="34%" id="d14133e842">套装</th>
                                 <th align="left" valign="bottom" width="33%" id="d14133e845">交易</th>
                                 <th align="left" valign="bottom" width="33%" id="d14133e848">支持</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d14133e853" headers="d14133e842 ">
                                    <p>（公元前）</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d14133e853 d14133e845 ">
                                    <p>12和13</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d14133e853 d14133e848 ">
                                    <p>67％</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d14133e863" headers="d14133e842 ">
                                    <p>（B，d）</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d14133e863 d14133e845 ">
                                    <p>11和13</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d14133e863 d14133e848 ">
                                    <p>67％</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d14133e873" headers="d14133e842 ">
                                    <p>（是）</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d14133e873 d14133e845 ">
                                    <p>11,12和13</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d14133e873 d14133e848 ">
                                    <p>100％</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d14133e883" headers="d14133e842 ">
                                    <p>（C，E）</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d14133e883 d14133e845 ">
                                    <p>12和13</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d14133e883 d14133e848 ">
                                    <p>67％</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d14133e893" headers="d14133e842 ">
                                    <p>（d，E）</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d14133e893 d14133e845 ">
                                    <p>11和13</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d14133e893 d14133e848 ">
                                    <p>67％</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d14133e903" headers="d14133e842 ">
                                    <p>（B，C，E）</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d14133e903 d14133e845 ">
                                    <p>12和13</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d14133e903 d14133e848 ">
                                    <p>67％</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="34%" id="d14133e913" headers="d14133e842 ">
                                    <p>（B，d，E）</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d14133e913 d14133e845 ">
                                    <p>11和13</p>
                                 </td>
                                 <td align="left" valign="top" width="33%" headers="d14133e913 d14133e848 ">
                                    <p>67％</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>规则表达条件概率。对规则的置信度是通过将项目一起出现的概率除以先行词发生概率来计算的。</p>
                     <p>例如，如果存在B（前因），那么C（结果）也存在的可能性是多少？“IF B，THEN C”规则的信心是什么？</p>
                     <p>如<a href="apriori.html#GUID-BC6755A4-DFDF-4616-848C-60C529E94EA5__BGBHGCEF" title="本章中示例事务数据中显示的事务中的项目对（项集）。">表10-3</a>所示：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>全部3笔交易包括B（3/3或100％）</p>
                        </li>
                        <li>
                           <p>只有2笔交易包括B和C（2/3或67％）</p>
                        </li>
                        <li>
                           <p>因此，规则“IF B，THEN C”的置信度为67/100或67％。</p>
                        </li>
                     </ul>
                     <p>下表列出了可从<a href="apriori.html#GUID-BC6755A4-DFDF-4616-848C-60C529E94EA5__BGBCGCBA" title="频率项目集的样本集，如关联章节中所示">表10-4中</a>的频繁项集导出的规则。
                     </p>
                     <div class="tblformal" id="GUID-BC6755A4-DFDF-4616-848C-60C529E94EA5__BABBECFA">
                        <p class="titleintable">表10-5频繁项目集和规则</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="频繁的项目集和规则" width="100%" border="1" summary="This table lists the frequent itemsets with support &gt; 5% and the rules that are derived from each. The confidence is displayed for each rule." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="22%" id="d14133e962">频繁的项目集</th>
                                 <th align="left" valign="bottom" width="23%" id="d14133e965">规则</th>
                                 <th align="left" valign="bottom" width="41%" id="d14133e968">概率（先行和后续）/概率（先行）</th>
                                 <th align="left" valign="bottom" width="15%" id="d14133e971">置信度</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d14133e976" headers="d14133e962 ">
                                    <p>（公元前）</p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d14133e976 d14133e965 ">
                                    <ul class="simple" style="list-style-type:none;padding-left:0">
                                       <li>（如果B则C）</li>
                                       <li>（如果是C则B）</li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="41%" headers="d14133e976 d14133e968 ">
                                    <ul class="simple" style="list-style-type:none;padding-left:0">
                                       <li>67/100</li>
                                       <li>67分之67</li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d14133e976 d14133e971 ">
                                    <ul class="simple" style="list-style-type:none;padding-left:0">
                                       <li>67％</li>
                                       <li>100％</li>
                                    </ul>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d14133e998" headers="d14133e962 ">
                                    <p>（B，d）</p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d14133e998 d14133e965 ">
                                    <ul class="simple" style="list-style-type:none;padding-left:0">
                                       <li>（如果B则D）</li>
                                       <li>（如果D然后B）</li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="41%" headers="d14133e998 d14133e968 ">
                                    <ul class="simple" style="list-style-type:none;padding-left:0">
                                       <li>67/100</li>
                                       <li>67分之67</li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d14133e998 d14133e971 ">
                                    <ul class="simple" style="list-style-type:none;padding-left:0">
                                       <li>67％</li>
                                       <li>100％</li>
                                    </ul>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d14133e1020" headers="d14133e962 ">
                                    <p>（是）</p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d14133e1020 d14133e965 ">
                                    <ul class="simple" style="list-style-type:none;padding-left:0">
                                       <li>（如果B然后是E）</li>
                                       <li>（如果E然后B）</li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="41%" headers="d14133e1020 d14133e968 ">
                                    <ul class="simple" style="list-style-type:none;padding-left:0">
                                       <li>100/100</li>
                                       <li>100/100</li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d14133e1020 d14133e971 ">
                                    <ul class="simple" style="list-style-type:none;padding-left:0">
                                       <li>100％</li>
                                       <li>100％</li>
                                    </ul>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d14133e1042" headers="d14133e962 ">
                                    <p>（C，E）</p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d14133e1042 d14133e965 ">
                                    <ul class="simple" style="list-style-type:none;padding-left:0">
                                       <li>（如果是C则E）</li>
                                       <li>（如果E则C）</li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="41%" headers="d14133e1042 d14133e968 ">
                                    <ul class="simple" style="list-style-type:none;padding-left:0">
                                       <li>67分之67</li>
                                       <li>67/100</li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d14133e1042 d14133e971 ">
                                    <ul class="simple" style="list-style-type:none;padding-left:0">
                                       <li>100％</li>
                                       <li>67％</li>
                                    </ul>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d14133e1064" headers="d14133e962 ">
                                    <p>（d，E）</p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d14133e1064 d14133e965 ">
                                    <ul class="simple" style="list-style-type:none;padding-left:0">
                                       <li>（如果D则E）</li>
                                       <li>我（f E然后D）</li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="41%" headers="d14133e1064 d14133e968 ">
                                    <ul class="simple" style="list-style-type:none;padding-left:0">
                                       <li>67分之67</li>
                                       <li>67/100</li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d14133e1064 d14133e971 ">
                                    <ul class="simple" style="list-style-type:none;padding-left:0">
                                       <li>100％</li>
                                       <li>67％</li>
                                    </ul>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d14133e1086" headers="d14133e962 ">
                                    <p>（B，C，E）</p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d14133e1086 d14133e965 ">
                                    <ul class="simple" style="list-style-type:none;padding-left:0">
                                       <li>（如果B和C则E）</li>
                                       <li>（如果B和E则为C）</li>
                                       <li>（如果C和E则B）</li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="41%" headers="d14133e1086 d14133e968 ">
                                    <ul class="simple" style="list-style-type:none;padding-left:0">
                                       <li>67分之67</li>
                                       <li>67/100</li>
                                       <li>67分之67</li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d14133e1086 d14133e971 ">
                                    <ul class="simple" style="list-style-type:none;padding-left:0">
                                       <li>100％</li>
                                       <li>67％</li>
                                       <li>100％</li>
                                    </ul>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d14133e1114" headers="d14133e962 ">
                                    <p>（B，d，E）</p>
                                 </td>
                                 <td align="left" valign="top" width="23%" headers="d14133e1114 d14133e965 ">
                                    <ul class="simple" style="list-style-type:none;padding-left:0">
                                       <li>（如果B和D则E）</li>
                                       <li>（如果B和E则D）</li>
                                       <li>（如果D和E然后B）</li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="41%" headers="d14133e1114 d14133e968 ">
                                    <ul class="simple" style="list-style-type:none;padding-left:0">
                                       <li>67分之67</li>
                                       <li>67/100</li>
                                       <li>67分之67</li>
                                    </ul>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d14133e1114 d14133e971 ">
                                    <ul class="simple" style="list-style-type:none;padding-left:0">
                                       <li>100％</li>
                                       <li>67％</li>
                                       <li>100％</li>
                                    </ul>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>如果最小置信度为70％，则为这些频繁项目集生成十个规则。如果最小置信度为60％，则生成16个规则。</p>
                     <div class="infobox-tip" id="GUID-BC6755A4-DFDF-4616-848C-60C529E94EA5__GUID-F72469C3-06A1-47B9-9D1F-E420F9B5C213">
                        <p class="notep1">小费：</p>
                        <p>如果要减少模型的构建时间并生成较少的规则，请增加最小置信度。</p>
                     </div>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="association.html#GUID-491998B3-B92B-4F84-8A79-94780B8AFD0C" title="了解如何通过关联发现关联规则 - 一种无监督的挖掘功能。">协会</a></li>
                        </ul>
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-AC930293-E48C-4C4D-A468-1811DCFCC265" name="GUID-AC930293-E48C-4C4D-A468-1811DCFCC265"></a><h4 id="DMAPI-GUID-AC930293-E48C-4C4D-A468-1811DCFCC265" class="sect4"><span class="enumeration_section">10.4.4</span>聚合</h4>
                  <div>
                     <p>聚合是指与用户选择关联规则模型进行聚合的每个项目关联的数量。</p>
                     <p>可以有多个聚合。例如，用户可以指定模型以汇总利润和数量。</p>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-A907D44F-B4BA-45A8-B77B-050D67A099D8" name="GUID-A907D44F-B4BA-45A8-B77B-050D67A099D8"></a><h4 id="DMAPI-GUID-A907D44F-B4BA-45A8-B77B-050D67A099D8" class="sect4"><span class="enumeration_section">10.4.5</span>示例：计算聚合</h4>
                  <div>
                     <p>以下示例显示了Aggregates的概念。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-A907D44F-B4BA-45A8-B77B-050D67A099D8__GUID-648AFC6D-24FB-4A3D-9530-9D237788BFD6">计算杂货店数据的聚合</p>
                        <p>假设杂货店有以下数据：</p>
                        <div class="tblformal" id="GUID-A907D44F-B4BA-45A8-B77B-050D67A099D8__GUID-8DFDC42D-281B-47C2-B33C-F9C063864715">
                           <p class="titleintable">表10-6杂货店数据</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="杂货店数据" border="1" summary="The table has the grocery store data with customer purchases and profit associated with each item." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d14133e1226">顾客</th>
                                    <th align="left" valign="bottom" id="d14133e1228">项目A.</th>
                                    <th align="left" valign="bottom" id="d14133e1230">项目B.</th>
                                    <th align="left" valign="bottom" id="d14133e1232">项目C.</th>
                                    <th align="left" valign="bottom" id="d14133e1234">项目D.</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d14133e1238" headers="d14133e1226 ">客户1</td>
                                    <td align="left" valign="top" headers="d14133e1238 d14133e1228 ">购买（利润$ 5.00）</td>
                                    <td align="left" valign="top" headers="d14133e1238 d14133e1230 ">买入（利润3.20美元）</td>
                                    <td align="left" valign="top" headers="d14133e1238 d14133e1232 ">购买（利润12.00美元）</td>
                                    <td align="left" valign="top" headers="d14133e1238 d14133e1234 ">NA</td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d14133e1249" headers="d14133e1226 ">客户2</td>
                                    <td align="left" valign="top" headers="d14133e1249 d14133e1228 ">购买（利润4.00美元）</td>
                                    <td align="left" valign="top" headers="d14133e1249 d14133e1230 ">NA</td>
                                    <td align="left" valign="top" headers="d14133e1249 d14133e1232 ">买入（利润4.20美元）</td>
                                    <td align="left" valign="top" headers="d14133e1249 d14133e1234 ">NA</td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d14133e1260" headers="d14133e1226 ">客户3</td>
                                    <td align="left" valign="top" headers="d14133e1260 d14133e1228 ">买入（利润3.00美元）</td>
                                    <td align="left" valign="top" headers="d14133e1260 d14133e1230 ">购买（利润$ 10.00）</td>
                                    <td align="left" valign="top" headers="d14133e1260 d14133e1232 ">购买（利润$ 14.00）</td>
                                    <td align="left" valign="top" headers="d14133e1260 d14133e1234 ">购买（利润$ 8.00）</td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d14133e1271" headers="d14133e1226 ">客户4</td>
                                    <td align="left" valign="top" headers="d14133e1271 d14133e1228 ">购买（利润$ 2.00）</td>
                                    <td align="left" valign="top" headers="d14133e1271 d14133e1230 ">NA</td>
                                    <td align="left" valign="top" headers="d14133e1271 d14133e1232 ">NA</td>
                                    <td align="left" valign="top" headers="d14133e1271 d14133e1234 ">购买（利润$ 1.00）</td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>每个客户的篮子都可以被视为交易。商店经理不仅对某些关联规则的存在感兴趣，而且如果存在这样的规则则对聚合利润感兴趣。</p>
                        <p>在该示例中，对于客户1和客户3，关联规则之一可以是（A，B）=&gt; C.与此规则一起，商店经理可能想知道以下内容：</p>
                        <div class="p">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>项目A的总利润出现在此规则中</p>
                              </li>
                              <li>
                                 <p>项目B的总利润出现在此规则中</p>
                              </li>
                              <li>
                                 <p>结果C出现在此规则中的总利润</p>
                              </li>
                              <li>
                                 <p>规则中出现的所有项目的总利润</p>
                              </li>
                           </ul>
                        </div>
                        <p>对于此规则，项目A的利润为$ 5.00 + $ 3.00 = $ 8.00，对于项目B，利润为$ 3.20 + $ 10.00 = $ 13.20，对于后续C，利润为$ 12.00 + $ 14.00 = $ 26.00，对于先行项目集（A，B）是8.00美元+ 13.20美元= 21.20美元。整个规则，利润为21.20美元+ 26.00美元= 47.40美元。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="../arpls/DBMS_DATA_MINING.html#ARPLS-GUID-4669DF41-ED9B-4A61-A9A2-3B553FF23998" target="_blank"><span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a></li>
                        </ul>
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-5840C2D4-5B76-4E06-9B5F-3EE12F135D8D" name="GUID-5840C2D4-5B76-4E06-9B5F-3EE12F135D8D"></a><h4 id="DMAPI-GUID-5840C2D4-5B76-4E06-9B5F-3EE12F135D8D" class="sect4"><span class="enumeration_section">10.4.6</span>包括和排除规则</h4>
                  <div>
                     <p>解释包括规则和排除关联中使用的规则。</p>
                     <p>包括规则使用户能够提供项目列表，使得列表中的至少一个项目必须出现在返回的规则中。排除规则使用户能够提供项目列表，使得列表中的任何项目都不会出现在返回的规则中。</p>
                     <div class="infoboxnote" id="GUID-5840C2D4-5B76-4E06-9B5F-3EE12F135D8D__GUID-926B4C0C-26E8-4886-96EC-C1B8174C6842">
                        <p class="notep1">注意：</p>由于每个关联规则包括先行词和后续词，因此可以为先行词指定一组包含或排除规则，而可以为后续词指定另一组包含或排除规则。还可以为关联规则定义包括或排除规则。
                     </div>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="../dmprg/model-detail-views.html#DMPRG-GUID-3B46FDE8-DA4F-4E5C-80E1-F984942E496D" target="_blank"><span><cite>Oracle Data Mining用户指南</cite></span></a></li>
                           <li><a href="../arpls/DBMS_DATA_MINING.html#ARPLS-GUID-4669DF41-ED9B-4A61-A9A2-3B553FF23998" target="_blank"><span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a></li>
                        </ul>
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-4FB6709D-A7E1-418F-A661-2845E8B6651F" name="GUID-4FB6709D-A7E1-418F-A661-2845E8B6651F"></a><h4 id="DMAPI-GUID-4FB6709D-A7E1-418F-A661-2845E8B6651F" class="sect4"><span class="enumeration_section">10.4.7</span>对聚合的性能影响</h4>
                  <div>
                     <p>聚合函数需要更多的内存使用和更长的执行时间。</p>
                     <p>对于每个项目，用户可以提供多个列进行聚合。它需要更多内存来缓冲额外数据，并需要更多时间来计算聚合值。</p>
                  </div>
               </div>
            </div><a id="DMCON291"></a><div class="props_rev_3"><a id="GUID-376A915C-D473-46C5-B360-5DD9E4814645" name="GUID-376A915C-D473-46C5-B360-5DD9E4814645"></a><h3 id="DMAPI-GUID-376A915C-D473-46C5-B360-5DD9E4814645" class="sect3"><span class="enumeration_section">10.5</span>评估关联规则</h3>
               <div>
                  <p>最小支持和置信度用于影响关联模型的构建。支持和信心也是评估模型生成的规则质量的主要指标。此外，Oracle Data Mining还支持提升关联规则。这些统计测量可用于对规则进行排序，从而对预测的有用性进行排序。</p>
               </div><a id="DMCON292"></a><div class="props_rev_3"><a id="GUID-B63B808D-BCB2-4C95-9B6A-6FDD30F8B948" name="GUID-B63B808D-BCB2-4C95-9B6A-6FDD30F8B948"></a><h4 id="DMAPI-GUID-B63B808D-BCB2-4C95-9B6A-6FDD30F8B948" class="sect4"><span class="enumeration_section">10.5.1</span>支持</h4>
                  <div>
                     <p>一个人的支持<a id="d14133e1421" class="indexterm-anchor"></a> rule表示规则中的项目一起出现的频率。例如，谷物和牛奶可能在40％的交易中一起出现。如果是这样，以下规则各自支持40％：</p><pre class="oac_no_warn" dir="ltr">谷物意味着牛奶意味着谷物</pre><p>支持是包含前提中的所有项目以及总交易数量的交易比率。</p>
                     <p>支持可用概率表示法表示如下：</p><pre class="oac_no_warn" dir="ltr">支持（A暗示B）= P（A，B）</pre></div>
               </div>
               <div class="sect3"><a id="GUID-23073363-FF41-47AC-A61F-7B2B415E95C3" name="GUID-23073363-FF41-47AC-A61F-7B2B415E95C3"></a><h4 id="DMAPI-GUID-23073363-FF41-47AC-A61F-7B2B415E95C3" class="sect4"><span class="enumeration_section">10.5.2</span>最低支持计数</h4>
                  <div>
                     <p>最小支持Count定义每个规则必须满足的事务中的最小阈值。</p>
                     <p>当事务数未知时，支持百分比阈值参数可能很难设置。因此，支持也可以表示为事务计数，两个阈值中的较大者用于过滤不频繁的项集。默认值为<code class="codeph">1</code>表示未应用此标准。
                     </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="association.html#GUID-F80B15E1-BE38-4E37-9D98-2307E44C5435">关联规则</a></li>
                           <li><a href="../dmprg/model-detail-views.html#DMPRG-GUID-3B46FDE8-DA4F-4E5C-80E1-F984942E496D" target="_blank"><span><cite>Oracle Data Mining用户指南</cite></span></a></li>
                           <li><a href="apriori.html#GUID-FDAA1BBA-078A-411F-8003-DA7A4BC2F49F" title="了解常用项目集和支持。">频繁的项目集</a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="DMCON293"></a><div class="props_rev_3"><a id="GUID-E7FE6EA9-5C7E-4D4E-8017-D494BB54490A" name="GUID-E7FE6EA9-5C7E-4D4E-8017-D494BB54490A"></a><h4 id="DMAPI-GUID-E7FE6EA9-5C7E-4D4E-8017-D494BB54490A" class="sect4"><span class="enumeration_section">10.5.3</span>信心</h4>
                  <div>
                     <p>规则的置信度表示先行和后续出现在同一交易中的概率。</p>
                     <p><a id="d14133e1504" class="indexterm-anchor"></a>信心是给定前因后的条件概率。例如，谷物出现在50个交易中; 50个中的40个也可能包括牛奶。规则信心是：</p><pre class="oac_no_warn" dir="ltr">谷物意味着牛奶有80％的信心</pre><p>置信度是规则支持与包含前提的交易数量的比率。</p>
                     <p>置信度可用概率表示法表示如下。</p><pre class="oac_no_warn" dir="ltr">置信度（A暗示B）= P（B / A），等于P（A，B）/ P（A）</pre></div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="apriori.html#GUID-0DD7FCEB-1C90-43F4-8F42-963BA707A6D3">置信度</a></li>
                           <li><a href="apriori.html#GUID-FDAA1BBA-078A-411F-8003-DA7A4BC2F49F" title="了解常用项目集和支持。">频繁的项目集</a></li>
                        </ul>
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-B7F0AF82-95BE-4641-98A9-866445CBB3AC" name="GUID-B7F0AF82-95BE-4641-98A9-866445CBB3AC"></a><h4 id="DMAPI-GUID-B7F0AF82-95BE-4641-98A9-866445CBB3AC" class="sect4"><span class="enumeration_section">10.5.4</span>反向置信度</h4>
                  <div>
                     <p>规则的反向置信度定义为规则发生的事务数除以结果发生的事务数。</p>
                     <p>反向置信度消除了由于结果频繁而发生的规则。默认值为<code class="codeph">0</code> 。
                     </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="apriori.html#GUID-0DD7FCEB-1C90-43F4-8F42-963BA707A6D3">置信度</a></li>
                           <li><a href="apriori.html#GUID-BC6755A4-DFDF-4616-848C-60C529E94EA5" title="从频繁项目集计算规则的示例。">示例：从频繁项集计算规则</a></li>
                           <li><a href="../dmprg/model-detail-views.html#DMPRG-GUID-3B46FDE8-DA4F-4E5C-80E1-F984942E496D" target="_blank"><span><cite>Oracle Data Mining用户指南</cite></span></a></li>
                           <li><a href="../arpls/DBMS_DATA_MINING.html#ARPLS-GUID-4669DF41-ED9B-4A61-A9A2-3B553FF23998" target="_blank"><span><cite>Oracle数据库PL / SQL包和类型参考</cite></span></a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="DMCON294"></a><div class="props_rev_3"><a id="GUID-5099F398-2764-4323-8828-725FE9E63B26" name="GUID-5099F398-2764-4323-8828-725FE9E63B26"></a><h4 id="DMAPI-GUID-5099F398-2764-4323-8828-725FE9E63B26" class="sect4"><span class="enumeration_section">10.5.5</span>升降机</h4>
                  <div>
                     <p>都<a id="d14133e1603" class="indexterm-anchor"></a>必须使用支持和信心来确定规则是否有效。但是，有时候这两种措施都可能很高，但仍然会产生一种无用的规则。例如：</p><pre class="oac_no_warn" dir="ltr">购买橙汁的便利店顾客也会以75％的信心购买牛奶。牛奶和橙汁的组合支持率为30％。
</pre><p>这听起来像是一个很好的规则，在大多数情况下，它会是。它具有很高的信心和高度的支持。但是，如果便利店顾客一般在90％的时间购买牛奶怎么办？在这种情况下，橙汁顾客实际上比一般顾客<span class="italic">更</span>不可能购买牛奶。
                     </p>
                     <p>需要采取第三项措施来评估规则的质量。提升表示规则的强度，相对于先前和随后的共同发生，给予他们个人的支持。它提供了有关改进的信息，以及由此产生的后果概率的增加。提升定义如下。</p><pre class="oac_no_warn" dir="ltr">（规则支持）/（支持（先行）*支持（后续））</pre><p>这也可以定义为项目组合的置信度除以结果的支持。因此，在我们的牛奶示例中，假设40％的客户购买橙汁，其改进将是：</p><pre class="oac_no_warn" dir="ltr">30％/（40％* 90％）</pre><p>这是0.83  - 小于1的改进。</p>
                     <p>任何改善小于1的规则并不表示真正的交叉销售机会，无论其支持和信心有多高，因为它实际上提供的预测购买能力低于随机机会。</p>
                     <div class="infobox-tip" id="GUID-5099F398-2764-4323-8828-725FE9E63B26__GUID-87999053-3382-4CD3-AE34-965E2E416BA7">
                        <p class="notep1">小费：</p>
                        <p>如果要减少模型的构建时间并生成更简单的规则，请减小最大规则长度。</p>
                     </div>
                     <div class="infobox-tip" id="GUID-5099F398-2764-4323-8828-725FE9E63B26__GUID-1ADC29E6-622A-4684-AB2B-387137EDFB6D">
                        <p class="notep1">小费：</p>
                        <p>如果要减少模型的构建时间并生成较少的规则，请增加最小支持。</p>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>