<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="DBMS_ALERT supports asynchronous notification of database events (alerts). By appropriate use of this package and database triggers, an application can notify itself whenever values of interest in the database are changed."></meta>
      <meta name="description" content="DBMS_ALERT supports asynchronous notification of database events (alerts). By appropriate use of this package and database triggers, an application can notify itself whenever values of interest in the database are changed."></meta>
      <title>DBMS_ALERT</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="PL/SQL Packages and Types Reference"></meta>
      <meta property="og:description" content="DBMS_ALERT supports asynchronous notification of database events (alerts). By appropriate use of this package and database triggers, an application can notify itself whenever values of interest in the database are changed."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="PL/SQL Packages and Types Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-25T11:24:34-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96430-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="DBMS_ADVISOR.html" title="Previous" type="text/html"></link>
      <link rel="next" href="DBMS_APP_CONT.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference"></meta>
    <meta name="dcterms.isVersionOf" content="ARPLS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBMS_ADVISOR.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="DBMS_APP_CONT.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL / SQL包和类型参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">DBMS_ALERT</li>
            </ol>
            <a id="GUID-30038E9F-A074-4778-891F-335827E6071A" name="GUID-30038E9F-A074-4778-891F-335827E6071A"></a><a id="ARPLS351"></a><a id="ARPLS351"></a>
            
            <h2 id="ARPLS-GUID-30038E9F-A074-4778-891F-335827E6071A" class="sect2"><span class="enumeration_chapter">17</span> DBMS_ALERT</h2>
         </header>
         <div class="ind">
            <div>
               <p><code class="codeph">DBMS_ALERT</code>支持数据库事件（警报）的异步通知。通过适当使用此包和数据库触发器，应用程序可以在数据库中感兴趣的值发生更改时通知自身。
               </p>
               <p>本章包含以下主题：<a id="d85291e88" class="indexterm-anchor"></a></p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="DBMS_ALERT.html#GUID-2535FFD2-BAAB-4F26-8603-8DC44AEF2818" title="此方案描述了DBMS_ALERT包的可能用法。">概观</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_ALERT.html#GUID-01EFFB6D-70FE-42E5-B1A5-46A2BB84043B" title="可以通过将此程序包上的EXECUTE授予选定的用户或角色来控制此程序包的安全性。您可能希望在此之上编写一个封面包，用于限制所使用的警报名称。然后可以授予此封装包的EXECUTE特权，而不是此封装。">安全模型</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_ALERT.html#GUID-4DA1E8D1-111E-4C98-8885-A900A12DDC2D" title="DBMS_ALERT包使用tis主题中列出和描述的常量。">常量</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_ALERT.html#GUID-D9A6AF32-F7BC-49A6-B27A-C8D4DDBF155D" title="由于数据库警报器会发出提交，因此它们不能与Oracle Forms一起使用。有关在Oracle Forms处于活动状态时调用存储过程的限制的更多信息，请参阅Oracle Forms文档。">限制</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_ALERT.html#GUID-9CB20704-9938-4D47-8F5C-429DEF61999C" title="DBMS_ALERT在错误条件下引发应用程序错误-20000。">例外</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_ALERT.html#GUID-F22D8D96-13F7-47DE-8097-CF5DD029E6F4" title="本主题列出了与常规和特定应用程序相关的注释。此外，还提供了DBMS_ALERT错误消息列表。">操作说明</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_ALERT.html#GUID-0C850301-A51D-4899-863D-7C422C9A494A" title="在此示例中，假设您要按部门绘制所有员工的平均工资。每当EMP发生变化时，您的应用程序都需要知道。">例子</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_ALERT.html#GUID-6F182D34-301C-40EB-A77F-3AE007D39B60" title="该表列出了DBMS_ALERT子程序并简要描述了它们。">DBMS_ALERT子程序摘要</a></p>
                  </li>
               </ul>
            </div>
            <div class="props_rev_3"><a id="GUID-2535FFD2-BAAB-4F26-8603-8DC44AEF2818" name="GUID-2535FFD2-BAAB-4F26-8603-8DC44AEF2818"></a><h3 id="ARPLS-GUID-2535FFD2-BAAB-4F26-8603-8DC44AEF2818" class="sect3"><span class="enumeration_section">17.1</span> DBMS_ALERT概述</h3>
               <div>
                  <p>此方案描述了DBMS_ALERT包的可能用法。</p>
                  <div class="section">
                     <p>假设图形工具正在显示数据库表中某些数据的图形。在读取和绘制数据之后，图形工具可以等待覆盖刚刚读取的数据的数据库警报（ <code class="codeph">WAITONE</code> ）。当任何其他用户更改数据时，该工具会自动唤醒。所需要的只是在数据库表上放置一个触发器，每当触发器触发时它就会执行一个信号（ <code class="codeph">SIGNAL</code> ）。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-01EFFB6D-70FE-42E5-B1A5-46A2BB84043B" name="GUID-01EFFB6D-70FE-42E5-B1A5-46A2BB84043B"></a><h3 id="ARPLS-GUID-01EFFB6D-70FE-42E5-B1A5-46A2BB84043B" class="sect3"><span class="enumeration_section">17.2</span> DBMS_ALERT安全模型</h3>
               <div>
                  <p>可以通过将此程序包上的<code class="codeph">EXECUTE</code>授予选定的用户或角色来控制此程序包的安全性。您可能希望在此之上编写一个封面包，用于限制所使用的警报名称。然后可以授予此封装包的<code class="codeph">EXECUTE</code>特权，而不是此封装。
                  </p>
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-4DA1E8D1-111E-4C98-8885-A900A12DDC2D" name="GUID-4DA1E8D1-111E-4C98-8885-A900A12DDC2D"></a><h3 id="ARPLS-GUID-4DA1E8D1-111E-4C98-8885-A900A12DDC2D" class="sect3"><span class="enumeration_section">17.3</span> DBMS_ALERT常量</h3>
               <div>
                  <p><code class="codeph">DBMS_ALERT</code>包使用tis主题中列出和描述的常量。
                  </p>
                  <div class="tblformal" id="GUID-4DA1E8D1-111E-4C98-8885-A900A12DDC2D__BEHGJCBF">
                     <p class="titleintable">表17-1 DBMS_ALERT常量</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_ALERT常量" width="100%" border="1" summary="This table describes constants used by DBMS_ALERT subprograms." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="18%" id="d85291e452">名称</th>
                              <th align="left" valign="bottom" width="18%" id="d85291e455">类型</th>
                              <th align="left" valign="bottom" width="18%" id="d85291e458">值</th>
                              <th align="left" valign="bottom" width="46%" id="d85291e461">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="18%" id="d85291e466" headers="d85291e452 ">
                                 <p><code class="codeph">MAXWAIT</code></p>
                              </td>
                              <td align="left" valign="top" width="18%" headers="d85291e466 d85291e455 ">
                                 <p><code class="codeph">整数</code></p>
                              </td>
                              <td align="left" valign="top" width="18%" headers="d85291e466 d85291e458 ">
                                 <p><code class="codeph">86400000</code></p>
                              </td>
                              <td align="left" valign="top" width="46%" headers="d85291e466 d85291e461 ">
                                 <p>等待警报的最长时间（1000天，基本上是永久的）。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-D9A6AF32-F7BC-49A6-B27A-C8D4DDBF155D" name="GUID-D9A6AF32-F7BC-49A6-B27A-C8D4DDBF155D"></a><h3 id="ARPLS-GUID-D9A6AF32-F7BC-49A6-B27A-C8D4DDBF155D" class="sect3"><span class="enumeration_section">17.4</span> DBMS_ALERT限制</h3>
               <div>
                  <p>由于数据库警报器会发出提交，因此它们不能与Oracle Forms一起使用。有关在Oracle Forms处于活动状态时调用存储过程的限制的更多信息，请参阅Oracle Forms文档。</p>
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-9CB20704-9938-4D47-8F5C-429DEF61999C" name="GUID-9CB20704-9938-4D47-8F5C-429DEF61999C"></a><h3 id="ARPLS-GUID-9CB20704-9938-4D47-8F5C-429DEF61999C" class="sect3"><span class="enumeration_section">17.5</span> DBMS_ALERT异常</h3>
               <div>
                  <p><code class="codeph">DBMS_ALERT</code>在错误条件下引发应用程序错误-20000。
                  </p>
                  <div class="section">
                     <p><a href="DBMS_ALERT.html#GUID-F22D8D96-13F7-47DE-8097-CF5DD029E6F4__CIHCCIJE" title="此表描述了DBMS_ALERT错误消息。">表17-2</a>显示了可以引发它们的消息和过程。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-F22D8D96-13F7-47DE-8097-CF5DD029E6F4" name="GUID-F22D8D96-13F7-47DE-8097-CF5DD029E6F4"></a><h3 id="ARPLS-GUID-F22D8D96-13F7-47DE-8097-CF5DD029E6F4" class="sect3"><span class="enumeration_section">17.6</span> DBMS_ALERT操作说明</h3>
               <div>
                  <p>本主题列出了与常规和特定应用程序相关的注释。此外，还提供了DBMS_ALERT错误消息列表。</p>
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p>警报是基于事务的。这意味着在发出警报提交的事务之前，不会警告等待会话。给定警报可以有任意数量的并发信号，并且在给定警报上可以有任意数量的并发服务员。</p>
                        </li>
                        <li>
                           <p>等待的应用程序在数据库中被阻止，无法执行任何其他工作。</p>
                        </li>
                        <li>
                           <p>应用程序可以注册多个事件，然后可以使用<code class="codeph">WAITANY</code>过程等待其中任何事件发生。
                           </p>
                        </li>
                        <li>
                           <p>应用程序还可以为<code class="codeph">WAITONE</code>或<code class="codeph">WAITANY</code>过程提供可选的<code class="codeph">timeout</code>参数。如果没有待处理警报，则<code class="codeph">timeout</code> 0立即返回。
                           </p>
                        </li>
                        <li>
                           <p>信令会话可以可选地传递由等待会话接收的消息。</p>
                        </li>
                        <li>
                           <p>警报可以比相应的应用程序等待调用更频繁地发出信号。在这种情况下，旧的警报将被丢弃。应用程序始终获取最新警报（基于事务提交时间）。</p>
                        </li>
                        <li>
                           <p>如果应用程序不需要基于事务的警报，则<code class="codeph">DBMS_PIPE</code>包可能提供有用的替代方法。
                           </p>
                           <div class="infoboxnotealso" id="GUID-F22D8D96-13F7-47DE-8097-CF5DD029E6F4__GUID-B67F4227-86D3-4189-A4E4-638ED4499ED8">
                              <p class="notep1">也可以看看：</p>
                              <p><a href="DBMS_PIPE.html#GUID-84B9B55F-9D82-45D0-B9CA-9A6AEEF9C8F8" title="DBMS_PIPE包允许同一实例中的两个或多个会话进行通信。Oracle管道在概念上与UNIX中使用的管道类似，但Oracle管道未使用操作系统管道机制实现。">DBMS_PIPE</a></p>
                           </div>
                        </li>
                        <li>
                           <p>如果在调用<code class="codeph">SIGNAL</code>之后回滚事务，则不会发出警报。
                           </p>
                        </li>
                        <li>
                           <p>可以接收警报，读取数据，并发现没有数据发生变化。这是因为在<span class="italic">先前</span>警报之后但在为<span class="italic">先前</span>警报读取数据之前数据已更改。
                           </p>
                        </li>
                        <li>
                           <p>通常，Oracle是事件驱动的;这意味着没有轮询循环。有两种情况可能发生轮询循环：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>共享模式。如果数据库以共享模式运行，则需要轮询循环来检查来自其他实例的警报。轮询循环默认为一秒，可以通过<code class="codeph">SET_DEFAULTS</code>过程设置。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">WAITANY</code>程序。如果使用<code class="codeph">WAITANY</code>过程，并且信令会话发出信号但在信号的一秒内未提交，则需要轮询循环，以便此未提交的警报不会伪装其他警报。轮询循环以一秒的间隔开始，并以指数方式退回到30秒的间隔。
                                 </p>
                              </li>
                           </ul>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-F22D8D96-13F7-47DE-8097-CF5DD029E6F4__CIHCCIJE">
                     <p class="titleintable">表17-2 DBMS_ALERT错误消息</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_ALERT错误消息" width="100%" border="1" summary="This table describes DBMS_ALERT Error Messages." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="71%" id="d85291e835">错误信息</th>
                              <th align="left" valign="bottom" width="29%" id="d85291e838">程序</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="71%" id="d85291e843" headers="d85291e835 ">
                                 <p><code class="codeph">ORU-10001锁定请求错误，状态：N</code></p>
                              </td>
                              <td align="left" valign="top" width="29%" headers="d85291e843 d85291e838 ">
                                 <p><code class="codeph">信号</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="71%" id="d85291e852" headers="d85291e835 ">
                                 <p><code class="codeph">ORU-10015错误：N等待管道状态</code></p>
                              </td>
                              <td align="left" valign="top" width="29%" headers="d85291e852 d85291e838 ">
                                 <p><code class="codeph">了WaitAny</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="71%" id="d85291e861" headers="d85291e835 ">
                                 <p><code class="codeph">ORU-10016错误：N发送管道'X'</code></p>
                              </td>
                              <td align="left" valign="top" width="29%" headers="d85291e861 d85291e838 ">
                                 <p><code class="codeph">信号</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="71%" id="d85291e870" headers="d85291e835 ">
                                 <p><code class="codeph">ORU-10017错误：N接收管道'X'</code></p>
                              </td>
                              <td align="left" valign="top" width="29%" headers="d85291e870 d85291e838 ">
                                 <p><code class="codeph">信号</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="71%" id="d85291e879" headers="d85291e835 ">
                                 <p><code class="codeph">ORU-10019错误：锁定请求时为N.</code></p>
                              </td>
                              <td align="left" valign="top" width="29%" headers="d85291e879 d85291e838 ">
                                 <p><code class="codeph">等待</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="71%" id="d85291e888" headers="d85291e835 ">
                                 <p><code class="codeph">ORU-10020错误：锁定请求时为N.</code></p>
                              </td>
                              <td align="left" valign="top" width="29%" headers="d85291e888 d85291e838 ">
                                 <p><code class="codeph">了WaitAny</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="71%" id="d85291e897" headers="d85291e835 ">
                                 <p><code class="codeph">ORU-10021锁定请求错误;状态：N</code></p>
                              </td>
                              <td align="left" valign="top" width="29%" headers="d85291e897 d85291e838 ">
                                 <p><code class="codeph">寄存器</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="71%" id="d85291e906" headers="d85291e835 ">
                                 <p><code class="codeph">ORU-10022锁定请求错误，状态：N</code></p>
                              </td>
                              <td align="left" valign="top" width="29%" headers="d85291e906 d85291e838 ">
                                 <p><code class="codeph">信号</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="71%" id="d85291e915" headers="d85291e835 ">
                                 <p><code class="codeph">ORU-10023锁定请求错误;状态N.</code></p>
                              </td>
                              <td align="left" valign="top" width="29%" headers="d85291e915 d85291e838 ">
                                 <p><code class="codeph">的WaitOne</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="71%" id="d85291e924" headers="d85291e835 ">
                                 <p><code class="codeph">ORU-10024没有注册警报</code></p>
                              </td>
                              <td align="left" valign="top" width="29%" headers="d85291e924 d85291e838 ">
                                 <p><code class="codeph">了WaitAny</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="71%" id="d85291e933" headers="d85291e835 ">
                                 <p><code class="codeph">ORU-10025锁定请求错误;状态N.</code></p>
                              </td>
                              <td align="left" valign="top" width="29%" headers="d85291e933 d85291e838 ">
                                 <p><code class="codeph">寄存器</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="71%" id="d85291e943" headers="d85291e835 ">
                                 <p><code class="codeph">ORU-10037试图等待来自同一会话的未提交信号</code></p>
                              </td>
                              <td align="left" valign="top" width="29%" headers="d85291e943 d85291e838 ">
                                 <p><code class="codeph">的WaitOne</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-0C850301-A51D-4899-863D-7C422C9A494A" name="GUID-0C850301-A51D-4899-863D-7C422C9A494A"></a><h3 id="ARPLS-GUID-0C850301-A51D-4899-863D-7C422C9A494A" class="sect3"><span class="enumeration_section">17.7</span> DBMS_ALERT示例</h3>
               <div>
                  <p>在此示例中，假设您要按部门绘制所有员工的平均工资。每当<code class="codeph">EMP</code>发生变化时，您的应用程序都需要知道。
                  </p>
                  <div class="section">
                     <p>您的应用程序看起来与此代码类似：</p><pre class="oac_no_warn" dir="ltr">DBMS_ALERT.REGISTER（ 'emp_table_alert'）; &lt;&lt; readagain &gt;&gt;：/ * ...读取emp表并将其图形化为* / DBMS_ALERT.WAITONE（'emp_table_alert'，：message，：status）;如果status = 0则转到&lt;&lt; readagain &gt;&gt;; else / * ...错误条件* /</pre><p><code class="codeph">EMP</code>表将具有类似于此的触发器：</p><pre class="oac_no_warn" dir="ltr">在INS BEGIN DBMS_ALERT.SIGNAL（'emp_table_alert'，'message_text'）上插入或更新或删除后创建TRIGGER emptrig;结束;</pre><p>当应用程序不再对警报感兴趣时，它会发出以下请求：</p><pre class="oac_no_warn" dir="ltr">DBMS_ALERT.REMOVE（ 'emp_table_alert'）;</pre><p>这减少了警报信号器所需的工作量。如果会话在存在已注册的警报时退出（或死亡），则此程序包的未来用户最终会清除警报。</p>
                     <p>该示例保证应用程序始终可以看到最新数据，尽管它可能看不到每个中间值。</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS65181"></a><a id="ARPLS65182"></a><a id="ARPLS65182"></a><a id="ARPLS65181"></a><div class="props_rev_3"><a id="GUID-6F182D34-301C-40EB-A77F-3AE007D39B60" name="GUID-6F182D34-301C-40EB-A77F-3AE007D39B60"></a><h3 id="ARPLS-GUID-6F182D34-301C-40EB-A77F-3AE007D39B60" class="sect3"><span class="enumeration_section">17.8</span> DBMS_ALERT子程序摘要</h3>
               <div>
                  <p>该表列出了<code class="codeph">DBMS_ALERT</code>子程序并简要描述了它们。
                  </p>
                  <div class="tblformal" id="GUID-6F182D34-301C-40EB-A77F-3AE007D39B60__GUID-832F2B2C-21DD-430C-B6F0-2573CD90AD64">
                     <p class="titleintable">表17-3 DBMS_ALERT包子程序</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_ALERT包子程序" width="100%" border="1" summary="This table lists the DBMS_ALERT subprograms in alphabetical order and briefly describes them." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d85291e1159">子程序</th>
                              <th align="left" valign="bottom" width="69%" id="d85291e1162">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d85291e1167" headers="d85291e1159 ">
                                 <p><a href="DBMS_ALERT.html#GUID-952C81A8-1E28-4AC5-9278-8F5E8B5E2E21" title="此过程允许会话注册警报。">注册程序</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d85291e1167 d85291e1162 ">
                                 <p>接收来自警报的消息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d85291e1179" headers="d85291e1159 ">
                                 <p><a href="DBMS_ALERT.html#GUID-7D012EA7-DF25-44CE-9E12-7BA963EC25E9" title="此过程使不再对警报感兴趣的会话从其注册列表中删除该警报。删除警报可减少警报信号员完成的工作量。">删除程序</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d85291e1179 d85291e1162 ">
                                 <p>禁用来自警报的通知</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d85291e1191" headers="d85291e1159 ">
                                 <p><a href="DBMS_ALERT.html#GUID-9E3B0F26-3F9A-4BFE-A0F2-87A0D607C2E7" title="此过程从注册列表中删除此会话的所有警报。当会话不再对任何警报感兴趣时，您应该这样做。">REMOVEALL程序</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d85291e1191 d85291e1162 ">
                                 <p>从注册列表中删除此会话的所有警报</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d85291e1203" headers="d85291e1159 ">
                                 <p><a href="DBMS_ALERT.html#GUID-EAE6226A-2022-4068-8C9D-499D851054D2" title="如果需要轮询循环，请使用SET_DEFAULTS过程设置轮询间隔。">SET_DEFAULTS过程</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d85291e1203 d85291e1162 ">
                                 <p>设置轮询间隔</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d85291e1218" headers="d85291e1159 ">
                                 <p><a href="DBMS_ALERT.html#GUID-2BDC0E3A-8EF4-4967-8E02-FA97ECCC4AFD" title="此过程表示警报。SIGNAL调用的效果仅在其提交的事务提交时发生。如果事务回滚，则SIGNAL无效。">信号程序</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d85291e1218 d85291e1162 ">
                                 <p>发出警报（向已注册的会话发送消息）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d85291e1236" headers="d85291e1159 ">
                                 <p><a href="DBMS_ALERT.html#GUID-28306974-59AD-48F5-BE39-1F51FF576E00" title="调用此过程以等待当前会话注册的任何警报发生警报。">WAITANY程序</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d85291e1236 d85291e1162 ">
                                 <p>等待<code class="codeph">timeout</code>秒数以从为会话注册的警报接收警报消息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d85291e1251" headers="d85291e1159 ">
                                 <p><a href="DBMS_ALERT.html#GUID-7134EC9C-3075-418A-8108-3E66C1A22892" title="此过程等待发生特定警报。">WAITONE程序</a></p>
                              </td>
                              <td align="left" valign="top" width="69%" headers="d85291e1251 d85291e1162 ">
                                 <p>等待<code class="codeph">timeout</code>秒数以从命名警报接收消息</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="ARPLS73125"></a><a id="ARPLS73126"></a><a id="ARPLS73126"></a><a id="ARPLS73125"></a><div class="props_rev_3"><a id="GUID-952C81A8-1E28-4AC5-9278-8F5E8B5E2E21" name="GUID-952C81A8-1E28-4AC5-9278-8F5E8B5E2E21"></a><h4 id="ARPLS-GUID-952C81A8-1E28-4AC5-9278-8F5E8B5E2E21" class="sect4"><span class="enumeration_section">17.8.1寄存</span>程序</h4>
                  <div>
                     <p>此过程允许会话注册警报。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-952C81A8-1E28-4AC5-9278-8F5E8B5E2E21__GUID-C4144C23-0768-42D3-ACA7-00FC44D487B8">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_ALERT.REGISTER（名称IN VARCHAR2，清理IN BOOLEAN DEFAULT TRUE）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-952C81A8-1E28-4AC5-9278-8F5E8B5E2E21__GUID-BB073BAC-9ECE-4EEC-95B6-51D249882EE5">参数</p>
                        <div class="tblformal" id="GUID-952C81A8-1E28-4AC5-9278-8F5E8B5E2E21__GUID-3E4C9F31-94F9-4B92-B714-71B22180ECA9">
                           <p class="titleintable">表17-4寄存器过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="注册过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_ALERT.REGISTER." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d85291e1375">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d85291e1378">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d85291e1383" headers="d85291e1375 ">
                                       <p><code class="codeph">名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d85291e1383 d85291e1378 ">
                                       <p>此会话感兴趣的警报的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d85291e1391" headers="d85291e1375 ">
                                       <p><code class="codeph">清理</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d85291e1391 d85291e1378 ">
                                       <p>指定是否执行<code class="codeph">DBMS_ALERT</code>包使用的任何现存孤立管道的清理。只有在每次打包实例化时第一次调用<code class="codeph">REGISTER</code>才会执行此清理。参数的默认值为<code class="codeph">TRUE</code> 。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="infoboxnotewarn" id="GUID-952C81A8-1E28-4AC5-9278-8F5E8B5E2E21__GUID-FB19F99C-8D7F-4F1A-8851-3DD629096191">
                           <p class="notep1">警告：</p>
                           <p>以“ORA $”开头的警报名称保留用于Oracle提供的产品。名称必须为30个字节或更少。该名称不区分大小写。</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-952C81A8-1E28-4AC5-9278-8F5E8B5E2E21__GUID-9A35ADC3-5584-4DAD-BFE3-0F54F811826A">使用说明</p>
                        <p>会话可以注册无限数量的警报。当会话不再有任何兴趣时，应通过调用<code class="codeph">REMOVE</code>取消注册警报。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS65185"></a><a id="ARPLS65186"></a><a id="ARPLS65186"></a><a id="ARPLS65185"></a><div class="props_rev_3"><a id="GUID-7D012EA7-DF25-44CE-9E12-7BA963EC25E9" name="GUID-7D012EA7-DF25-44CE-9E12-7BA963EC25E9"></a><h4 id="ARPLS-GUID-7D012EA7-DF25-44CE-9E12-7BA963EC25E9" class="sect4"><span class="enumeration_section">17.8.2</span>删除程序</h4>
                  <div>
                     <p>此过程使不再对警报感兴趣的会话从其注册列表中删除该警报。删除警报可减少警报信号员完成的工作量。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-7D012EA7-DF25-44CE-9E12-7BA963EC25E9__GUID-9C4903C3-9BD1-4F86-8C24-25E8F775F86C">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_ALERT.REMOVE（名称IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7D012EA7-DF25-44CE-9E12-7BA963EC25E9__GUID-9C847B2B-EA64-4643-820B-5A48419CE3C6">参数</p>
                        <div class="tblformal" id="GUID-7D012EA7-DF25-44CE-9E12-7BA963EC25E9__GUID-2714E52C-A3CA-427A-BD54-9CBCCCAD763F">
                           <p class="titleintable">表17-5 REMOVE过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="删除程序参数" width="100%" border="1" summary="This table describes the parameters of DBMS_ALERT.REMOVE." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d85291e1531">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d85291e1534">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d85291e1539" headers="d85291e1531 ">
                                       <p><code class="codeph">名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d85291e1539 d85291e1534 ">
                                       <p>要从注册列表中删除的警报的名称（不区分大小写）。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7D012EA7-DF25-44CE-9E12-7BA963EC25E9__GUID-15544056-11C9-4728-936A-2B0DD7AAEC49">使用说明</p>
                        <p>删除警报非常重要，因为它可以减少警报信号员完成的工作量。如果会话在没有删除警报的情况下死亡，则最终（但不是立即）清除该警报。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS65187"></a><a id="ARPLS65187"></a><div class="props_rev_3"><a id="GUID-9E3B0F26-3F9A-4BFE-A0F2-87A0D607C2E7" name="GUID-9E3B0F26-3F9A-4BFE-A0F2-87A0D607C2E7"></a><h4 id="ARPLS-GUID-9E3B0F26-3F9A-4BFE-A0F2-87A0D607C2E7" class="sect4"><span class="enumeration_section">17.8.3</span> REMOVEALL程序</h4>
                  <div>
                     <p>此过程从注册列表中删除此会话的所有警报。当会话不再对任何警报感兴趣时，您应该这样做。</p>
                     <div class="section">
                        <p>在会话期间首次引用此程序包时会自动调用此过程。因此，来自先前会话的可能已异常终止的警报可能会影响此会话。</p>
                        <p>此过程始终执行提交。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9E3B0F26-3F9A-4BFE-A0F2-87A0D607C2E7__GUID-46639A42-4841-4D48-9F61-8254BDE303B7">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_ALERT.REMOVEALL;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS65188"></a><a id="ARPLS65189"></a><a id="ARPLS65189"></a><a id="ARPLS65188"></a><div class="props_rev_3"><a id="GUID-EAE6226A-2022-4068-8C9D-499D851054D2" name="GUID-EAE6226A-2022-4068-8C9D-499D851054D2"></a><h4 id="ARPLS-GUID-EAE6226A-2022-4068-8C9D-499D851054D2" class="sect4"><span class="enumeration_section">17.8.4</span> SET_DEFAULTS过程</h4>
                  <div>
                     <p>如果需要轮询循环，请使用<code class="codeph">SET_DEFAULTS</code>过程设置轮询间隔。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-EAE6226A-2022-4068-8C9D-499D851054D2__GUID-D4FDC334-4CCC-4C4F-822F-8C117D142377">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_ALERT.SET_DEFAULTS（敏感度IN NUMBER）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EAE6226A-2022-4068-8C9D-499D851054D2__GUID-355DB93F-9CE8-4A95-8CA7-ED656BA2056F">参数</p>
                        <div class="tblformal" id="GUID-EAE6226A-2022-4068-8C9D-499D851054D2__GUID-D6E22962-35C4-49AF-999C-B38503D78A77">
                           <p class="titleintable">表17-6 SET_DEFAULTS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SET_DEFAULTS过程参数" width="100%" border="1" summary="DBMS_ALERT.SET_DEFAULTS" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d85291e1764">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d85291e1767">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d85291e1772" headers="d85291e1764 ">
                                       <p><code class="codeph">灵敏度</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d85291e1772 d85291e1767 ">
                                       <p>轮询间隔，以秒为单位，在民意调查之间休眠。默认间隔为五秒。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS65190"></a><a id="ARPLS65191"></a><a id="ARPLS65191"></a><a id="ARPLS65190"></a><div class="props_rev_3"><a id="GUID-2BDC0E3A-8EF4-4967-8E02-FA97ECCC4AFD" name="GUID-2BDC0E3A-8EF4-4967-8E02-FA97ECCC4AFD"></a><h4 id="ARPLS-GUID-2BDC0E3A-8EF4-4967-8E02-FA97ECCC4AFD" class="sect4"><span class="enumeration_section">17.8.5</span>信号程序</h4>
                  <div>
                     <p>此过程表示警报。<code class="codeph">SIGNAL</code>调用的效果仅在其提交的事务提交时发生。如果事务回滚，则<code class="codeph">SIGNAL</code>无效。
                     </p>
                     <div class="section">
                        <p>所有已注册对此警报感兴趣的会话都会收到通知。如果感兴趣的会话当前正在等待，他们会被唤醒。如果感兴趣的会话当前没有等待，则下次他们进行等待呼叫时会通知他们。</p>
                        <p>多个会话可以在同一警报上同时执行信号。每个会话在发出警报信号时都会阻止所有其他并发会话，直到它提交为止。这具有序列化事务的效果。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2BDC0E3A-8EF4-4967-8E02-FA97ECCC4AFD__GUID-8A34BE17-5C7D-41D4-8B6C-2FB199A527E4">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_ALERT.SIGNAL（名称IN VARCHAR2，消息IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2BDC0E3A-8EF4-4967-8E02-FA97ECCC4AFD__GUID-946605A0-93BE-43E1-A71C-6FDEFBD3D57D">参数</p>
                        <div class="tblformal" id="GUID-2BDC0E3A-8EF4-4967-8E02-FA97ECCC4AFD__GUID-E54FAEF5-BE18-456A-9B4C-9A065A90AF11">
                           <p class="titleintable">表17-7 SIGNAL过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SIGNAL过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_ALERT.SIGNAL." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="26%" id="d85291e1901">参数</th>
                                    <th align="left" valign="bottom" width="74%" id="d85291e1904">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d85291e1909" headers="d85291e1901 ">
                                       <p><code class="codeph">名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d85291e1909 d85291e1904 ">
                                       <p>要发出警报的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d85291e1917" headers="d85291e1901 ">
                                       <p><code class="codeph">信息</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d85291e1917 d85291e1904 ">
                                       <p>与此警报关联的消息，1800字节或更少。</p>
                                       <p>此消息将传递给等待会话。通过使用消息中的信息，等待会话可能能够避免在警报发生后读取数据库。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS65192"></a><a id="ARPLS65193"></a><a id="ARPLS65193"></a><a id="ARPLS65192"></a><div class="props_rev_3"><a id="GUID-28306974-59AD-48F5-BE39-1F51FF576E00" name="GUID-28306974-59AD-48F5-BE39-1F51FF576E00"></a><h4 id="ARPLS-GUID-28306974-59AD-48F5-BE39-1F51FF576E00" class="sect4"><span class="enumeration_section">17.8.6</span> WAITANY程序</h4>
                  <div>
                     <p>调用此过程以等待当前会话注册的任何警报发生警报。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-28306974-59AD-48F5-BE39-1F51FF576E00__GUID-3F2BCF33-1E9E-4219-9B21-9984562CF2B6">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_ALERT.WAITANY（名称OUT VARCHAR2，消息OUT VARCHAR2，状态OUT INTEGER，超时IN NUMBER DEFAULT MAXWAIT）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-28306974-59AD-48F5-BE39-1F51FF576E00__GUID-C097BF53-5517-464F-8761-F4FD588F1D99">参数</p>
                        <div class="tblformal" id="GUID-28306974-59AD-48F5-BE39-1F51FF576E00__GUID-C0B084CD-C56F-4EB7-8466-AD32588895EE">
                           <p class="titleintable">表17-8 WAITANY过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="WAITANY程序参数" width="100%" border="1" summary="This table describes the parameters of DBMS_ALERT.WAITANY." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d85291e2036">参数</th>
                                    <th align="left" valign="bottom" width="75%" id="d85291e2039">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d85291e2044" headers="d85291e2036 ">
                                       <p><code class="codeph">名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d85291e2044 d85291e2039 ">
                                       <p>返回发生的警报的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d85291e2052" headers="d85291e2036 ">
                                       <p><code class="codeph">信息</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d85291e2052 d85291e2039 ">
                                       <p>返回与警报关联的消息。</p>
                                       <p>这是<code class="codeph">SIGNAL</code>调用提供的消息。如果在<code class="codeph">WAITANY</code>之前发生此警报的多个信号，则该消息对应于最近的<code class="codeph">SIGNAL</code>呼叫。来自先前<code class="codeph">SIGNAL</code>调用的消息将被丢弃。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d85291e2074" headers="d85291e2036 ">
                                       <p><code class="codeph">状态</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d85291e2074 d85291e2039 ">
                                       <p>返回值：</p>
                                       <p>0  - 发生警报</p>
                                       <p>1  - 发生超时</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d85291e2086" headers="d85291e2036 ">
                                       <p><code class="codeph">超时</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d85291e2086 d85291e2039 ">
                                       <p>等待警报的最长时间。</p>
                                       <p>如果在<code class="codeph">timeout</code>秒之前没有发出警报，则返回状态1。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-28306974-59AD-48F5-BE39-1F51FF576E00__GUID-FC85F0F2-87D8-4C83-AE72-A570CEBBA509">使用说明</p>
                        <p>在执行此过程之前发出隐式<code class="codeph">COMMIT</code> 。等待警报的同一会话也可以首先发出警报信号。在这种情况下，记得在信号之后和等待之前提交;否则， <code class="codeph">DBMS_LOCK</code> 。 <code class="codeph">REQUEST</code> （由<code class="codeph">DBMS_ALERT</code> ）返回状态4。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-28306974-59AD-48F5-BE39-1F51FF576E00__GUID-F0D261EC-EC95-435E-B048-76E4A136865C">例外</p><pre class="oac_no_warn" dir="ltr">-20000，ORU-10024：没有注册警报。</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS65194"></a><a id="ARPLS65195"></a><a id="ARPLS65195"></a><a id="ARPLS65194"></a><div class="props_rev_3"><a id="GUID-7134EC9C-3075-418A-8108-3E66C1A22892" name="GUID-7134EC9C-3075-418A-8108-3E66C1A22892"></a><h4 id="ARPLS-GUID-7134EC9C-3075-418A-8108-3E66C1A22892" class="sect4"><span class="enumeration_section">17.8.7</span> WAITONE程序</h4>
                  <div>
                     <p>此过程等待发生特定警报。</p>
                     <div class="section">
                        <p>在执行此过程之前发出隐式<code class="codeph">COMMIT</code> 。第一个发出警报信号的会话也可以在后续事务中等待警报。在这种情况下，记得在信号之后和等待之前提交;否则， <code class="codeph">DBMS_LOCK</code> 。 <code class="codeph">REQUEST</code> （由<code class="codeph">DBMS_ALERT</code> ）返回状态4。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7134EC9C-3075-418A-8108-3E66C1A22892__GUID-43B0F33B-4968-4745-A9B4-8B2E5FFE60B1">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_ALERT.WAITONE（名称IN VARCHAR2，消息OUT VARCHAR2，状态OUT INTEGER，超时IN NUMBER DEFAULT MAXWAIT）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7134EC9C-3075-418A-8108-3E66C1A22892__GUID-995C6FC6-6AC3-4C5D-A0C9-1C41184609BC">参数</p>
                        <div class="tblformal" id="GUID-7134EC9C-3075-418A-8108-3E66C1A22892__GUID-7C683F0E-8500-464B-BE7E-84CBC6832CB6">
                           <p class="titleintable">表17-9 WAITONE过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="WAITONE程序参数" width="100%" border="1" summary="This table describes the parameters of DBMS_ALERT.WAITONE." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="21%" id="d85291e2245">参数</th>
                                    <th align="left" valign="bottom" width="79%" id="d85291e2248">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="21%" id="d85291e2253" headers="d85291e2245 ">
                                       <p><code class="codeph">名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="79%" headers="d85291e2253 d85291e2248 ">
                                       <p>要等待的警报的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="21%" id="d85291e2261" headers="d85291e2245 ">
                                       <p><code class="codeph">信息</code></p>
                                    </td>
                                    <td align="left" valign="top" width="79%" headers="d85291e2261 d85291e2248 ">
                                       <p>返回与警报关联的消息。</p>
                                       <p>这是<code class="codeph">SIGNAL</code>调用提供的消息。如果在<code class="codeph">WAITONE</code>之前发生此警报上的多个信号，则该消息对应于最近的<code class="codeph">SIGNAL</code>呼叫。来自先前<code class="codeph">SIGNAL</code>调用的消息将被丢弃。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="21%" id="d85291e2283" headers="d85291e2245 ">
                                       <p><code class="codeph">状态</code></p>
                                    </td>
                                    <td align="left" valign="top" width="79%" headers="d85291e2283 d85291e2248 ">
                                       <p>返回值：</p>
                                       <p>0  - 发生警报</p>
                                       <p>1  - 发生超时</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="21%" id="d85291e2295" headers="d85291e2245 ">
                                       <p><code class="codeph">超时</code></p>
                                    </td>
                                    <td align="left" valign="top" width="79%" headers="d85291e2295 d85291e2248 ">
                                       <p>等待警报的最长时间。</p>
                                       <p>如果在<code class="codeph">timeout</code>秒之前未发生命名警报，则返回状态1。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p></p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>