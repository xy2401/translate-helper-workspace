<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="A security policy for application developers should encompass areas such as password management and securing external procedures and application privileges."></meta>
      <meta name="description" content="A security policy for application developers should encompass areas such as password management and securing external procedures and application privileges."></meta>
      <title>管理应用程序开发人员的安全性</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Security Guide "></meta>
      <meta property="og:description" content="A security policy for application developers should encompass areas such as password management and securing external procedures and application privileges."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Security Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-security-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-28T14:57:12-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96299-04"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="part_2.html" title="Previous" type="text/html"></link>
      <link rel="next" href="part_3.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Security Guide"></meta>
    <meta name="dcterms.isVersionOf" content="DBSEG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="part_2.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="part_3.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">安全指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part_2.html" property="item" typeof="WebPage"><span property="name">应用开发安全</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">管理应用程序开发人员的安全性</li>
            </ol>
            <a id="GUID-245AF418-2349-4657-9010-8C8D7849FD05" name="GUID-245AF418-2349-4657-9010-8C8D7849FD05"></a><a id="DBSEG005"></a>
            
            <h2 id="DBSEG-GUID-245AF418-2349-4657-9010-8C8D7849FD05" class="sect2"><span class="enumeration_chapter">10</span>管理应用程序开发人员的安全性</h2>
         </header>
         <div class="ind"><script type="text/javascript">window.name='managing-security-for-application-developers'</script><script type="text/javascript">
    function footdisplay(footnum,footnote) {
    var msg = window.open('about:blank', 'NewWindow' + footnum,
        'directories=no,height=100,location=no,menubar=no,resizable=yes,' +
        'scrollbars=yes,status=no,toolbar=no,width=598');
    msg.document.open('text/html');
    msg.document.write('<!DOCTYPE html ');
    msg.document.write('PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" ');
    msg.document.write('"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">'); 
    msg.document.write('<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en-us" lang="en-us" dir="ltr"><head><title>');
   
    msg.document.write('Footnote&nbsp; ' + footnum);
    msg.document.write('<\/title><meta http-equiv="Content-Type" ');
    msg.document.write('content="text/html; charset=utf-8" />');
    msg.document.write('<meta http-equiv="Content-Script-Type" ');
    msg.document.write('content="text/javascript" />');
    msg.document.write('<style type="text/css"> <![CDATA[ ');
    msg.document.write('h1 {text-align: center; font-size: 14pt;}');
    msg.document.write('fieldset {border: none;}');
    msg.document.write('form {text-align: center;}');
    msg.document.write(' ]]u003e </style>');
    msg.document.write('<\/head><body><div id="footnote"><h1>Footnote&nbsp; ' + footnum + '<\/h1><p>');
    msg.document.write(footnote);
    msg.document.write('<\/p><form action="" method="post"><fieldset>');
    msg.document.write('<input type="button" value="OK" ');
    msg.document.write('onclick="window.close();" />');
    msg.document.write('<\/fieldset><\/form><\/div><\/body><\/html>');
    msg.document.close();
    setTimeout(function() {
        var height = msg.document.getElementById('footnote').offsetHeight;
        msg.resizeTo(598, height + 100);
    }
    , 100);
    msg.focus();
}
            </script><noscript>
               <p>此页面上的脚本内容仅用于导航目的，不会以任何方式更改内容。</p>
            </noscript>
            <div>
               <p>应用程序开发人员的安全策略应包括密码管理和保护外部过程和应用程序权限等方面。</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="managing-security-for-application-developers.html#GUID-1072A829-D2B4-4DFF-A69C-181ADDA7CA3A">关于应用安全策略</a><br>应用程序安全策略是应用程序安全要求和规则的列表，用于管理用户对数据库对象的访问。
                  </li>
                  <li class="ulchildlink"><a href="managing-security-for-application-developers.html#GUID-7C44B47F-DEA1-4529-A5C3-E992D2EDE5CF">使用基于应用程序的安全性的注意事项</a><br>应用程序安全性实现应考虑应用程序和数据库用户以及是否在应用程序或数据库中强制实施安全性。
                  </li>
                  <li class="ulchildlink"><a href="managing-security-for-application-developers.html#GUID-DE90CA6F-F37B-4337-B331-4FA0F7C7599A">在应用程序设计中保护密码</a><br>Oracle提供了安全调用密码服务的策略，例如来自脚本，以及将这些策略应用于其他敏感数据。
                  </li>
                  <li class="ulchildlink"><a href="managing-security-for-application-developers.html#GUID-EE267659-48F3-4AFA-BB06-D8C620F80696">保护外部程序</a><br>外部过程与数据库分开存储在<code class="codeph">.dll</code>或<code class="codeph">.so</code>文件中，并且可以通过凭证身份验证。
                  </li>
                  <li class="ulchildlink"><a href="managing-security-for-application-developers.html#GUID-8F585EBE-611D-4717-AD9F-CAC10A19B7E1">使用LOB定位器签名保护LOB</a><br>您可以通过重新生成LOB定位器签名来保护大对象（LOB）。
                  </li>
                  <li class="ulchildlink"><a href="managing-security-for-application-developers.html#GUID-4C03768A-FA3D-4D41-84CF-FEA40D0D9AA9">管理应用程序权限</a><br>大多数数据库应用程序涉及不同架构对象的不同权
                  </li>
                  <li class="ulchildlink"><a href="managing-security-for-application-developers.html#GUID-2D2FD12B-5953-4056-8488-2C70832559D9">使用角色管理应用程序权限的优点</a><br>在角色中分组应用程序权限有助于权限管理。
                  </li>
                  <li class="ulchildlink"><a href="managing-security-for-application-developers.html#GUID-AF4D0F7A-D74E-444E-8D00-66B9FEFE8CD2">创建安全应用程序角色以控制对应用程序的访问</a><br>安全应用程序角色仅通过其关联的PL / SQL包或过程启用。
                  </li>
                  <li class="ulchildlink"><a href="managing-security-for-application-developers.html#GUID-1FE77DE6-8950-493C-B10F-13E1A1A33155">权限与用户数据库角色的关联</a><br>确保用户仅具有与当前数据库角色关联的权限。
                  </li>
                  <li class="ulchildlink"><a href="managing-security-for-application-developers.html#GUID-7B5B46D4-7547-421C-930E-A0C375B60F6D">使用模式保护数据库对象</a><br>模式是可以包含数据库对象的安全域。授予用户和角色的权限控制对这些数据库对象的访问。
                  </li>
                  <li class="ulchildlink"><a href="managing-security-for-application-developers.html#GUID-B6289F9C-B043-410B-A586-50A996F055B4">应用程序中的对象权限</a><br>设计应用程序时，请考虑用户类型和所需的级别访问权限。
                  </li>
                  <li class="ulchildlink"><a href="managing-security-for-application-developers.html#GUID-98EEE057-D2F9-4D97-A5B9-0295F5423E03">增强数据库通信安全性的参数</a><br>参数可用于管理安全性，例如处理来自协议错误的错误数据包或配置最大数量的身份验证错误。
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="part_2.html" title="第二部分介绍了如何管理应用程序开发安全性">应用程序开发安全性</a></p>
                  </div>
               </div>
            </div>
            <a id="DBSEG131"></a><div class="props_rev_3"><a id="GUID-1072A829-D2B4-4DFF-A69C-181ADDA7CA3A" name="GUID-1072A829-D2B4-4DFF-A69C-181ADDA7CA3A"></a><h3 id="DBSEG-GUID-1072A829-D2B4-4DFF-A69C-181ADDA7CA3A" class="sect3">关于应用安全策略</h3>
               <div>
                  <p>应用程序安全策略是应用程序安全要求和规则的列表，用于管理用户对数据库对象的访问。</p>
                  <p>创建应用程序安全策略是创建安全数据库应用程序的第一步。您应该为每个数据库应用程序起草安全策略。例如，每个数据库应用程序都应具有一个或多个数据库角色，这些角色在执行应用程序时提供不同级别的安然后，您可以将数据库角色授予其他角色或直接授予特定用户。</p>
                  <p>可能允许不受限制的SQL语句处理的应用程序（通过SQL * Plus或SQL Developer等工具）也需要安全策略来防止恶意访问机密或重要的模式对象。特别是，您必须确保应用程序以安全的方式处理密码。</p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-security-for-application-developers.html#GUID-245AF418-2349-4657-9010-8C8D7849FD05" title="应用程序开发人员的安全策略应包括密码管理和保护外部过程和应用程序权限等方面。">管理应用程序开发人员的安全性</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DBSEG132"></a><div class="props_rev_3"><a id="GUID-7C44B47F-DEA1-4529-A5C3-E992D2EDE5CF" name="GUID-7C44B47F-DEA1-4529-A5C3-E992D2EDE5CF"></a><h3 id="DBSEG-GUID-7C44B47F-DEA1-4529-A5C3-E992D2EDE5CF" class="sect3">使用基于应用程序的安全性的注意事项</h3>
               <div>
                  <p>应用程序安全性实现应考虑应用程序和数据库用户以及是否在应用程序或数据库中强制实施安全性。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-security-for-application-developers.html#GUID-C68AFEFC-3BD2-4792-B189-878B02BC8DA4">应用程序用户是数据库用户吗？</a><br>在可能的情况下，构建应用程序用户是数据库用户的应用程序，以便您可以使用数据库的内在安全机制。
                     </li>
                     <li class="ulchildlink"><a href="managing-security-for-application-developers.html#GUID-DDCEDE77-4E89-4059-A3BA-6F0E309B1910">应用程序或数据库中的安全性是否更好？</a><br>Oracle建议应用程序尽可能使用数据库的安全强制机制。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-security-for-application-developers.html#GUID-245AF418-2349-4657-9010-8C8D7849FD05" title="应用程序开发人员的安全策略应包括密码管理和保护外部过程和应用程序权限等方面。">管理应用程序开发人员的安全性</a></p>
                     </div>
                  </div>
               </div>
               <a id="DBSEG134"></a><a id="DBSEG133"></a><div class="props_rev_3"><a id="GUID-C68AFEFC-3BD2-4792-B189-878B02BC8DA4" name="GUID-C68AFEFC-3BD2-4792-B189-878B02BC8DA4"></a><h4 id="DBSEG-GUID-C68AFEFC-3BD2-4792-B189-878B02BC8DA4" class="sect4">应用程序用户是数据库用户吗？</h4>
                  <div>
                     <p>在可能的情况下，构建应用程序用户是数据库用户的应用程序，以便您可以使用数据库的内在安全机制。</p>
                     <p>对于许多商业打包应用程序，应用程序用户不是数据库用户对于这些应用程序，多个用户向应用程序验证自身，然后应用程序作为单个高权限用户连接到数据库。这称为<span class="italic">One Big Application User</span>模型。
                     </p>
                     <p>以这种方式构建的应用程序通常不能使用数据库的许多内在安全功能，因为数据库不知道用户的身份。但是，您可以使用客户端标识符执行某些类型的跟踪。例如，Oracle调用接口方法<code class="codeph">OCIAttrSet</code>的<code class="codeph">OCI_ATTR_CLIENT_IDENTIFIER</code>属性可用于启用审计和监视客户端连接。客户端标识符可用于收集单个Web用户的审计跟踪数据，应用限制Web用户访问数据的规则，以及监视和跟踪每个Web用户用户的应用程序。
                     </p>
                     <p><a href="managing-security-for-application-developers.html#GUID-C68AFEFC-3BD2-4792-B189-878B02BC8DA4__CJADGHFB" title="功能受限于使用" one="" big="" application="" use="" ="">表10-1</a>描述了One Big Application User模型如何影响各种Oracle数据库安全功能：</p>
                     <div class="tblformal" id="GUID-C68AFEFC-3BD2-4792-B189-878B02BC8DA4__CJADGHFB">
                        <p class="titleintable">表10-1受一个大应用程序用户模型影响的功能</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="受一大应用用户模型影响的功能" width="100%" border="1" summary="Features Limited by Using " one="" big="" application="" use="" ="" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="37%" id="d78229e643">Oracle数据库功能</th>
                                 <th align="left" valign="bottom" width="63%" id="d78229e646">一大应用用户模型的局限性</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d78229e651" headers="d78229e643 ">
                                    <p>审计</p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d78229e651 d78229e646 ">
                                    <p>安全的基本原则是通过审计进行问责。如果一个大应用程序用户执行数据库中的所有操作，则数据库审计不能让个人用户对其操作负责。应用程序必须实现自己的审计机制来捕获单个用户操作。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d78229e658" headers="d78229e643 ">
                                    <p>Oracle强认证</p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d78229e658 d78229e646 ">
                                    <p>如果对数据库进行身份验证的客户端是应用程序而不是单个用户，则无法使用强身份验证形式（例如，通过SSL，令牌等进行客户端身份验证）。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d78229e665" headers="d78229e643 ">
                                    <p>角色</p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d78229e665 d78229e646 ">
                                    <p>角色分配给数据库用户。企业角色分配给企业用户，虽然这些用户不是在数据库中创建的，但却为数据库所知。如果应用程序用户不是数据库用户，则角色的有用性会降低。然后，应用程序必须创建自己的机制，以区分各种应用程序用户访问应用程序中的数据所需的权限。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d78229e672" headers="d78229e643 ">
                                    <p>企业用户管理</p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d78229e672 d78229e646 ">
                                    <p>企业用户管理功能使Oracle数据库可以通过在基于LDAP的目录（如Oracle Internet Directory）中安全地存储和管理用户信息和授权来使用Oracle身份管理基础结构。虽然不需要在数据库中创建企业用户，但确实需要知道数据库。One Big Application User模型无法利用Oracle身份管理。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-security-for-application-developers.html#GUID-7C44B47F-DEA1-4529-A5C3-E992D2EDE5CF" title="应用程序安全性实现应考虑应用程序和数据库用户以及是否在应用程序或数据库中强制实施安全性。">使用基于应用程序的安全性的注意事项</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG135"></a><div class="props_rev_3"><a id="GUID-DDCEDE77-4E89-4059-A3BA-6F0E309B1910" name="GUID-DDCEDE77-4E89-4059-A3BA-6F0E309B1910"></a><h4 id="DBSEG-GUID-DDCEDE77-4E89-4059-A3BA-6F0E309B1910" class="sect4">应用程序或数据库中的安全性是否更好？</h4>
                  <div>
                     <p>Oracle建议应用程序尽可能使用数据库的安全强制机制。</p>
                     <p>用户也是数据库用户的应用程序可以在应用程序中构建安全性，也可以依赖内在的数据库安全机制，例如细粒度特权，虚拟专用数据库（具有应用程序上下文的细粒度访问控制），角色，存储过程和审计（包括细粒度审计）。</p>
                     <p>当在数据库本身而不是在应用程序中强制执行安全性时，不能绕过它。基于应用程序的安全性的主要缺点是，如果用户绕过应用程序访问数据，则会绕过安全性。例如，具有SQL * Plus访问权限的用户可以执行查询而无需通过人力资源应用程序。因此，用户绕过应用程序中的所有安全措施。</p>
                     <p>使用One Big Application User模型的应用程序必须在应用程序中构建安全性强制，而不是使用数据库安全性机制。因为识别用户是应用程序而不是数据库;应用程序本身必须为每个用户强制执行安全措施。</p>
                     <p>这种方法意味着访问数据的每个应用程序都必须重新实现安全性。安全性变得昂贵，因为组织必须在多个应用程序中实现相同的安全策略，并且每个新应用程序都需要昂贵的重新实现。</p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="configuring-privilege-and-role-authorization.html#GUID-71168BFD-3E87-4F68-AA51-13ED3A292688" title="如果恶意用户可以访问此类工具，则临时工具可能会出现问题。">使用Ad Hoc工具的潜在安全问题</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-security-for-application-developers.html#GUID-7C44B47F-DEA1-4529-A5C3-E992D2EDE5CF" title="应用程序安全性实现应考虑应用程序和数据库用户以及是否在应用程序或数据库中强制实施安全性。">使用基于应用程序的安全性的注意事项</a></p>
                        </div>
                     </div>
                  </div>
               </div>
            </div><a id="DBSEG50053"></a><div class="props_rev_3"><a id="GUID-DE90CA6F-F37B-4337-B331-4FA0F7C7599A" name="GUID-DE90CA6F-F37B-4337-B331-4FA0F7C7599A"></a><h3 id="DBSEG-GUID-DE90CA6F-F37B-4337-B331-4FA0F7C7599A" class="sect3">在应用程序设计中保护密码</h3>
               <div>
                  <p>Oracle提供了安全调用密码服务的策略，例如来自脚本，以及将这些策略应用于其他敏感数据。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-security-for-application-developers.html#GUID-CB9B67C2-C70E-4B51-9456-20E17CD337F7">在应用程序中保护密码的一般准则</a><br>在应用程序中保护密码的准则涵盖了特定于平台的安全威胁等领域。
                     </li>
                     <li class="ulchildlink"><a href="managing-security-for-application-developers.html#GUID-CF37E37E-111A-43DE-84F8-C4A35B1F1C24">使用外部密码存储来保护密码</a><br>您可以使用客户端Oracle钱包存储用于连接到数据库的密码凭据。
                     </li>
                     <li class="ulchildlink"><a href="managing-security-for-application-developers.html#GUID-15F1BBB1-F807-41D4-AA23-7F05AE3CDE4E">使用ORAPWD实用程序保护密码</a><br><code class="codeph">SYSDBA</code>或<code class="codeph">SYSOPER</code>用户可以使用密码文件通过网络连接到应用程序。
                     </li>
                     <li class="ulchildlink"><a href="managing-security-for-application-developers.html#GUID-5B905E9F-AE4E-49A2-BF57-549EA6BB324C">示例：用于读取密码的Java代码</a><br>您可以创建可用于读取密码的Java包。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-security-for-application-developers.html#GUID-245AF418-2349-4657-9010-8C8D7849FD05" title="应用程序开发人员的安全策略应包括密码管理和保护外部过程和应用程序权限等方面。">管理应用程序开发人员的安全性</a></p>
                     </div>
                  </div>
               </div>
               <a id="DBSEG136"></a><div class="props_rev_3"><a id="GUID-CB9B67C2-C70E-4B51-9456-20E17CD337F7" name="GUID-CB9B67C2-C70E-4B51-9456-20E17CD337F7"></a><h4 id="DBSEG-GUID-CB9B67C2-C70E-4B51-9456-20E17CD337F7" class="sect4">在应用程序中保护密码的一般准则</h4>
                  <div>
                     <p>在应用程序中保护密码的准则涵盖了特定于平台的安全威胁等领域。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-security-for-application-developers.html#GUID-D6594978-F380-45D2-831E-365ECAE817F3">特定于平台的安全威胁</a><br>您应该了解潜在的安全威胁，这可能并不明显。
                        </li>
                        <li class="ulchildlink"><a href="managing-security-for-application-developers.html#GUID-648FC0DB-CA41-46C2-ACA6-207ADDA38D72">设计应用程序以处理密码输入的指南</a><br>Oracle提供了设计处理密码输入的应用程序的指南。
                        </li>
                        <li class="ulchildlink"><a href="managing-security-for-application-developers.html#GUID-E5A783A1-20A0-4359-B5BB-E262D96CAC37">配置密码格式和行为的准则</a><br>Oracle数据库提供了配置密码格式和行为的指南。
                        </li>
                        <li class="ulchildlink"><a href="managing-security-for-application-developers.html#GUID-D74E4185-1F3F-41B7-8590-0C44507ACEF3">SQL脚本中处理密码的准则</a><br>Oracle提供了在SQL脚本中处理密码的指南。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-security-for-application-developers.html#GUID-DE90CA6F-F37B-4337-B331-4FA0F7C7599A" title="Oracle提供了安全调用密码服务的策略，例如来自脚本，以及将这些策略应用于其他敏感数据。">在应用程序设计中保护密码</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="DBSEG137"></a><div class="props_rev_3"><a id="GUID-D6594978-F380-45D2-831E-365ECAE817F3" name="GUID-D6594978-F380-45D2-831E-365ECAE817F3"></a><h5 id="DBSEG-GUID-D6594978-F380-45D2-831E-365ECAE817F3" class="sect5">特定于平台的安全威胁</h5>
                     <div>
                        <p>您应该了解潜在的安全威胁，这可能并不明显。</p>
                        <p>这些安全威胁如下：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="bold">在UNIX和Linux平台上，命令参数可供同一主机上的所有操作系统用户查看。</span> 因此，在命令行上输入的密码可能会向其他用户公开。但是，不要认为非UNIX和Linux平台可以免受此威胁。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">在某些UNIX平台上，例如HP Tru64和IBM AIX，所有操作系统用户都可以查看所有进程的环境变量。</span> 但是，不要认为非UNIX和Linux平台可以免受此威胁。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">在Microsoft Windows上，命令撤回功能（向上箭头）会记住跨命令调用的用户输入。</span> 例如，如果在SQL * Plus中使用<code class="codeph">CONNECT SYSTEM/</code> <span class="italic"><code class="codeph">password</code></span>表示法，退出，然后按向上箭头重复<code class="codeph">CONNECT</code>命令，命令撤回功能将显示连接字符串并显示密码。此外，不要认为非Microsoft Windows平台可以免受此威胁。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-security-for-application-developers.html#GUID-CB9B67C2-C70E-4B51-9456-20E17CD337F7" title="在应用程序中保护密码的准则涵盖了特定于平台的安全威胁等领域。">保护应用程序中密码的一般准则</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG138"></a><div class="props_rev_3"><a id="GUID-648FC0DB-CA41-46C2-ACA6-207ADDA38D72" name="GUID-648FC0DB-CA41-46C2-ACA6-207ADDA38D72"></a><h5 id="DBSEG-GUID-648FC0DB-CA41-46C2-ACA6-207ADDA38D72" class="sect5">设计应用程序以处理密码输入的指南</h5>
                     <div>
                        <p>Oracle提供了设计处理密码输入的应用程序的指南。</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="bold">设计应用程序以交互方式提示输入密码。</span> 对于命令行实用程序，请勿强制用户在命令提示符下公开密码。
                              </p>
                              <p>检查API以获取用于设计应用程序的编程语言，以获得处理用户密码的最佳方法。有关处理此功能的Java代码<a href="managing-security-for-application-developers.html#GUID-5B905E9F-AE4E-49A2-BF57-549EA6BB324C" title="You can create Java packages that can be used to read passwords.">示例</a> ，请参阅<a href="managing-security-for-application-developers.html#GUID-5B905E9F-AE4E-49A2-BF57-549EA6BB324C" title="您可以创建可用于读取密码的Java包。">示例：用于读取密码的Java代码</a> 。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">保护您的数据库免受代码注入攻击。</span> 代码注入攻击最常发生在将SQL发送到数据库的客户端应用程序工具中（例如，SQL * Plus或任何Oracle调用接口（OCI）或JDBC应用程序）。这包括使用这些工具构建的数据库驱动程序。SQL注入攻击导致SQL语句的行为方式不是PL / SQL应用程序所预期的。注入攻击发生在语句发送到数据库之前。例如，入侵者可以通过将<code class="codeph">WHERE</code>子句设置为<code class="codeph">TRUE</code>来绕过密码身份验证。</p>
                              <p>要解决SQL注入攻击的问题，请使用绑定变量参数或创建验证检查。如果您不能使用绑定变量，那么请考虑使用<code class="codeph">DBMS_ASSERT</code> PL / SQL包来验证输入值的属性。<a href="../arpls/DBMS_ASSERT.html#ARPLS231" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考</cite></span></a>详细描述了<code class="codeph">DBMS_ASSERT</code>包。您还应该审查对<code class="codeph">PUBLIC</code>等角色的任何授权。</p>
                              <p>请注意，客户端应用程序用户可能并不总是将SQL注入与PL / SQL关联，因为注释可能在语句发送到数据库之前发生。</p>
                              <p>有关阻止SQL注入的详细信息，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbseg&amp;id=LNPLS01109" target="_blank"><span><cite>Oracle Database PL / SQL语言参考</cite></span></a> 。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">如果可能，请设计应用程序以推迟身份验证。</span> 例如：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>使用证书进行登录。</p>
                                 </li>
                                 <li>
                                    <p>使用操作系统提供的工具对用户进行身份验证。例如，Microsoft Windows上的应用程序可以使用域身份验证。</p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p><span class="bold">屏蔽或加密密码。</span> 如果必须存储密码，则屏蔽或加密密码。例如，您可以屏蔽日志文件中的密码并加密恢复文件中的密码。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">验证每个连接。</span> 例如，如果模式A存在于数据库1中，则不要假设数据库2中的模式A是同一用户。类似地，本地操作系统用户<code class="codeph">psmith</code>不一定是与远程用户<code class="codeph">psmith</code>相同的人。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">不要将明文密码存储在文件或存储库中。</span> 在文件中存储密码会增加入侵者访问它们的风险。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">使用单个主密码。</span> 例如：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>您可以授予单个数据库用户代理身份验证以充当其他数据库用户。在这种情况下，只需要一个数据库密码。有关详细信息，请参阅<a href="configuring-authentication.html#GUID-06D3D47D-C491-483B-9372-1F17D7A4FF0A" title="CREATE USER语句使您可以创建多种类型的用户帐户，所有这些帐户都可以用作代理帐户。">代理用户帐户和要通过它们连接的用户授权</a> 。
                                    </p>
                                 </li>
                                 <li>
                                    <p>您可以创建密码钱包，可以通过主密码打开。钱包然后包含其他密码。有关Wallet Manager的详细信息，请参见“ <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbseg&amp;id=DBIMI160" target="_blank"><span><cite>Oracle数据库企业用户安全性管理员指南”</cite></span></a> 。
                                    </p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-security-for-application-developers.html#GUID-CB9B67C2-C70E-4B51-9456-20E17CD337F7" title="在应用程序中保护密码的准则涵盖了特定于平台的安全威胁等领域。">保护应用程序中密码的一般准则</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG139"></a><div class="props_rev_3"><a id="GUID-E5A783A1-20A0-4359-B5BB-E262D96CAC37" name="GUID-E5A783A1-20A0-4359-B5BB-E262D96CAC37"></a><h5 id="DBSEG-GUID-E5A783A1-20A0-4359-B5BB-E262D96CAC37" class="sect5">配置密码格式和行为的准则</h5>
                     <div>
                        <p>Oracle数据库提供了配置密码格式和行为的指南。</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="bold">限制密码的生命周期。</span> 您可以设置密码生存期，之后密码过期，必须在用户登录帐户之前进行更改。有关可用于控制密码生命周期的参数，请参阅<a href="configuring-authentication.html#GUID-B0D624CE-F316-46F9-892F-141DFBB8E08E" title="您可以指定密码生存期，之后密码将过期。">关于控制密码时效和过期</a> 。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">限制用户重用旧密码的能力。</span> 有关详细信息，请参阅<a href="configuring-authentication.html#GUID-F311F283-B00B-4FA1-B1DE-402A4A1B6D85" title="您可以确保用户不会重复使用以前的密码一段时间或更改密码。">控制用户重用以前密码的能力</a> 。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">强制用户创建强大，安全的密码。</span> 有关创建强密码的建议，请参阅<a href="keeping-your-oracle-database-secure.html#GUID-451679EB-8676-47E6-82A6-DF025FD65156" title="Oracle提供了保护密码的准则。">密码保护准则</a> 。<a href="configuring-authentication.html#GUID-A39E191B-4A06-442D-94C7-5882B73DDCFA" title="复杂性验证检查每个密码是否足够复杂，以防止试图猜测用户密码的入侵者。">关于密码复杂性验证</a>说明了如何自定义密码要求。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">在密码中启用区分大小写。</span> 有关更多信息，请参阅<a href="configuring-authentication.html#GUID-36BC62D5-277A-4B38-AB6C-2F20A843651F" title="您可以管理来自先前版本的用户帐户的密码的密码区分大小写。">管理密码区分大小写</a> 。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="configuring-authentication.html#GUID-AA1AA635-1CD5-422E-B8CA-681ED7C253CA" title="Oracle提供了一组密码的最低要求。">密码的最低要求</a></li>
                              <li><a href="configuring-authentication.html#GUID-A39E191B-4A06-442D-94C7-5882B73DDCFA" title="复杂性验证检查每个密码是否足够复杂，以防止试图猜测用户密码的入侵者。">关于密码复杂性验证</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-security-for-application-developers.html#GUID-CB9B67C2-C70E-4B51-9456-20E17CD337F7" title="在应用程序中保护密码的准则涵盖了特定于平台的安全威胁等领域。">保护应用程序中密码的一般准则</a></p>
                           </div>
                        </div>
                     </div>
                  </div><a id="DBSEG140"></a><div class="props_rev_3"><a id="GUID-D74E4185-1F3F-41B7-8590-0C44507ACEF3" name="GUID-D74E4185-1F3F-41B7-8590-0C44507ACEF3"></a><h5 id="DBSEG-GUID-D74E4185-1F3F-41B7-8590-0C44507ACEF3" class="sect5">SQL脚本中处理密码的准则</h5>
                     <div>
                        <p>Oracle提供了在SQL脚本中处理密码的指南。</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="bold">不要在程序或脚本中使用命令行上的密码调用SQL * Plus。</span> 如果需要密码但省略，则SQL * Plus会提示用户输入密码，然后自动禁用回显功能，以便不显示密码。
                              </p>
                              <p>以下示例是安全的，因为密码不会在命令行上公开。Oracle数据库还会通过网络自动加密这些密码。</p><pre class="oac_no_warn" dir="ltr">$ sqlplus system输入密码： <span class="italic">password</span> SQL&gt; CONNECT SYSTEM输入密码： <span class="italic">password</span>
</pre><p>以下示例将密码公开给其他操作系统用户：</p><pre class="oac_no_warn" dir="ltr">sqlplus系统/ <span class="italic">密码</span>
</pre><p>下一个示例带来两个安全风险。首先，它将密码暴露给可能正在监视你的肩膀的其他用户。其次，在某些平台上，例如Microsoft Windows，它使密码容易受到命令行召回攻击。</p><pre class="oac_no_warn" dir="ltr">$ sqlplus / nolog SQL&gt; CONNECT SYSTEM / <span class="italic">password</span>
</pre></li>
                           <li>
                              <p><span class="bold">对于需要密码或密钥的SQL脚本（例如，创建帐户或以帐户登录），请勿使用位置参数，例如替换变量＆1，＆2等。</span> 而是设计脚本以提示用户输入值。您还应该禁用回显功能，该功能显示脚本的输出或使用假脱机模式。要禁用回声功能，请使用以下设置：</p><pre class="oac_no_warn" dir="ltr">SET ECHO OFF</pre><p>一个好的做法是确保脚本使值的目的明确。例如，应该清楚该值是否将建立新值，例如帐户或证书，或者值是否将进行身份验证，例如登录到现有帐户。</p>
                              <p>以下示例是安全的，因为它可以防止用户以带来安全风险的方式调用脚本：它不会回显密码;它不会在假脱机文件中记录密码。</p><pre class="oac_no_warn" dir="ltr">SET VERIFY OFF ACCEPT用户CHAR PROMPT'输入用户连接到：'ACCEPT password CHAR PROMPT'输入该用户的密码：'HIDE CONNECT＆user /＆password</pre><p>在这个例子中：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">SET VERIFY OFF</code>可防止显示密码。（ <code class="codeph">SET VERIFY</code>列出了替换前后脚本的每一行。）将<code class="codeph">SET VERIFY OFF</code>命令与<code class="codeph">HIDE</code>命令组合是隐藏密码和其他敏感输入数据的有用技术。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">ACCEPT password CHAR PROMPT</code>包含<code class="codeph">ACCEPT password</code>提示的<code class="codeph">HIDE</code>选项，可防止输入密码被回显。
                                    </p>
                                 </li>
                              </ul>
                              <p>下一个使用位置参数的示例会带来安全风险，因为用户可以通过在命令行上传递密码来调用脚本。如果用户没有输入密码而是提示，则危险在于，无论用户类型是什么，如果启用了假脱机，都会回显到屏幕和假脱机文件。</p><pre class="oac_no_warn" dir="ltr">CONNECT＆1 /＆2</pre></li>
                           <li>
                              <p><span class="bold">控制批处理脚本的日志时间。</span> 对于需要密码的批处理脚本，请配置该帐户，以便脚本只能在其运行期间登录。例如，假设您有一个批处理脚本，每晚从晚上8点开始运行一小时。设置帐户，以便脚本只能在此期间登录。如果入侵者设法获得访问权限，那么他或她就没有机会利用任何被入侵的帐户。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">使用提示输入密码的DML或DDL SQL语句时要小心。</span> 在这种情况下，敏感信息通过网络以明文形式传递。您可以使用Oracle强身份验证来解决此问题。
                              </p>
                              <p>以下更改密码的示例是安全的，因为密码未公开：</p><pre class="oac_no_warn" dir="ltr">密码psmith更改psmith的密码新密码： <span class="italic">password</span>重新输入新密码： <span class="italic">password</span>
</pre><p>此示例存在安全风险，因为密码在命令行和网络上都公开：</p><pre class="oac_no_warn" dir="ltr">ALTER USER psmith IDENTIFIED BY <span class="italic">密码</span> </pre></li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-security-for-application-developers.html#GUID-CB9B67C2-C70E-4B51-9456-20E17CD337F7" title="在应用程序中保护密码的准则涵盖了特定于平台的安全威胁等领域。">保护应用程序中密码的一般准则</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="DBSEG141"></a><div class="props_rev_3"><a id="GUID-CF37E37E-111A-43DE-84F8-C4A35B1F1C24" name="GUID-CF37E37E-111A-43DE-84F8-C4A35B1F1C24"></a><h4 id="DBSEG-GUID-CF37E37E-111A-43DE-84F8-C4A35B1F1C24" class="sect4">使用外部密码存储来保护密码</h4>
                  <div>
                     <p>您可以使用客户端Oracle钱包存储用于连接到数据库的密码凭据。</p>
                     <p>Oracle钱包是一个安全的软件容器，用于存储用户登录所需的身份验证和签名凭据。</p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-CF37E37E-111A-43DE-84F8-C4A35B1F1C24__GUID-BDE1A9B5-7774-4EAF-8DFF-7834BCDB4903">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="configuring-authentication.html#GUID-803496D2-19C7-4F02-94EC-C13EDD8FB17B" title="The secure external password store is a client-side wallet that is used to store password credentials.">有关安全外部密码存储的</a>详细信息<a href="configuring-authentication.html#GUID-803496D2-19C7-4F02-94EC-C13EDD8FB17B" title="安全外部密码存储是客户端钱包，用于存储密码凭据。">，请管理密码凭据</a>的安全外部密码存储</p>
                           </li>
                           <li>
                              <p><a href="../dbimi/introducing-enterprise-user-security.html#DBIMI152" target="_blank"><span class="italic">“Oracle数据库企业用户安全管理员指南”</span></a> ，了解有关使用Oracle Wallet Manager配置Oracle钱包的信息</p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-security-for-application-developers.html#GUID-DE90CA6F-F37B-4337-B331-4FA0F7C7599A" title="Oracle提供了安全调用密码服务的策略，例如来自脚本，以及将这些策略应用于其他敏感数据。">在应用程序设计中保护密码</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG142"></a><div class="props_rev_3"><a id="GUID-15F1BBB1-F807-41D4-AA23-7F05AE3CDE4E" name="GUID-15F1BBB1-F807-41D4-AA23-7F05AE3CDE4E"></a><h4 id="DBSEG-GUID-15F1BBB1-F807-41D4-AA23-7F05AE3CDE4E" class="sect4">使用ORAPWD实用程序保护密码</h4>
                  <div>
                     <p><code class="codeph">SYSDBA</code>或<code class="codeph">SYSOPER</code>用户可以使用密码文件通过网络连接到应用程序。
                     </p>
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>要创建密码文件，请使用<code class="codeph">ORAPWD</code>实用程序。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-15F1BBB1-F807-41D4-AA23-7F05AE3CDE4E__GUID-806D7E72-DF05-4A4A-9A07-1E0E012ABF11">
                        <p class="notep1">也可以看看：</p>
                        <p>有关创建和维护密码文件的详细信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbseg&amp;id=ADMIN10241" target="_blank"><span><cite>“Oracle数据库管理员指南”</cite></span></a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-security-for-application-developers.html#GUID-DE90CA6F-F37B-4337-B331-4FA0F7C7599A" title="Oracle提供了安全调用密码服务的策略，例如来自脚本，以及将这些策略应用于其他敏感数据。">在应用程序设计中保护密码</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG144"></a><a id="DBSEG143"></a><div class="props_rev_3"><a id="GUID-5B905E9F-AE4E-49A2-BF57-549EA6BB324C" name="GUID-5B905E9F-AE4E-49A2-BF57-549EA6BB324C"></a><h4 id="DBSEG-GUID-5B905E9F-AE4E-49A2-BF57-549EA6BB324C" class="sect4">示例：用于读取密码的Java代码</h4>
                  <div>
                     <p>您可以创建可用于读取密码的Java包。</p>
                     <p><a href="managing-security-for-application-developers.html#GUID-5B905E9F-AE4E-49A2-BF57-549EA6BB324C__CJAGIFIG">例10-1</a>演示了如何创建可用于读取密码的Java包。
                     </p>
                     <div class="example" id="GUID-5B905E9F-AE4E-49A2-BF57-549EA6BB324C__CJAGIFIG">
                        <p class="titleinexample">例10-1用于读取密码的Java代码</p><pre class="oac_no_warn" dir="ltr">//将以下行更改为此软件包的版本名称passwords.sysman.emSDK.util.signing; import java.io.IOException异常; import java.io.PrintStream的; import java.io.PushbackInputStream; import java.util。阵列; / ** *此类中的静态readPassword方法在控制台输出上发出密码提示*，并返回用户在控制台输入上输入的char数组密码*。* / public final class ReadPassword {// ---------------------------------- / ** * for test driver for readPassword方法。* @param args命令行args * / public static void main（String [] args）{char [] pass = ReadPassword.readPassword（“Enter password：”）; System.out.println（“刚输入的密码是\”“+ new String（pass）+”\“”）; System.out.println（“密码长度为”+ pass.length）;在控制台输出上发出密码提示，并返回*用户在控制台输入上输入的char数组密码。*密码不会显示在控制台上（字符不会回显）。*一旦不需要返回的char数组，*出于安全原因应删除它（Arrays.fill（charArr，''））; *密码不应存储为java字符串。* *请注意，Java 6有一个带有readPassword方法的Console类，*但在Java 5或Java 1.4中没有等效的。*此处的readPassword方法基于Sun在http://java.sun.com/developer/technicalArticles/Security/pwordmask上的建议。 * * @param提示密码提示发出* @return包含密码的新char数组* @throws RuntimeException如果发生某些错误* / public static final char [] readPassword（String prompt）throws RuntimeException {try {StreamMasker masker = new StreamMasker （System.out，提示）; Thread threadMasking = new Thread（masker）; int firstByte = -1; PushbackInputStream inStream = null; try {threadMasking.start（）; inStream = new PushbackInputStream（System.in）; firstByte = inStream.read（）; } finally {masker.stopMasking（）;尝试{threadMasking.join（）; } catch（InterruptedException e）{throw new RuntimeException（“读取密码时发生中断”）; } if（firstByte == -1）{throw new RuntimeException（“控制台输入意外结束”）; } if（System.out.checkError（））{throw new RuntimeException（“Console password prompt output error”）; } inStream.unread（firstByte）; return readLineSecure（inStream）; } catch（IOException e）{throw new RuntimeException（“读取密码时发生I / O错误”）; } ////------------------------------ / ** *从输入流中读取一行到安全方式的char数组*适合读取密码。* char数组永远不会包含'\ n'或'\ r'。* * @param inStream推回输入流* @return行作为字符数组，不包括行尾字符; *从不为null，但可能是零长度数组* @throws RuntimeException如果发生某些错误* / private static final char [] readLineSecure（PushbackInputStream inStream）抛出RuntimeException {if（inStream == null）{throw new RuntimeException（“readLineSecure inStream is空值”）; } try {char [] buffer = null; try {buffer = new char [128]; int offset = 0; // EOL是'\ n'（unix），'\ r \ n'（windows），'\ r'（mac）loop：while（true）{int c = inStream.read（）; switch（c）{case -1：case'\ n'：break loop; case'\ r'：int c2 = inStream.read（）;如果（（c2！='\ n'）&amp;&amp;（c2！= -1））inStream.unread（c2）;打破循环; default：buffer = checkBuffer（buffer，offset）; buffer [offset ++] =（char）c;打破; char [] result = new char [offset]; System.arraycopy（buffer，0，result，0，offset）;返回结果; } finally {if（缓冲！= null）Arrays.fill（buffer，''）; catch（IOException e）{throw new RuntimeException（“读取密码时发生I / O错误”）; }} // ---------------------------------- / ** *这是readLineSecure的辅助方法。* * @param缓冲当前字符缓冲区* @param偏移缓冲区中的当前位置* @return当前缓冲区（如果尚未满）; *否则返回一个较大的缓冲区，用当前缓冲区的副本*初始化，然后擦除当前缓冲区* @throws RuntimeException如果发生某些错误* / private static final char [] checkBuffer（char [] buffer，int offset）throws RuntimeException { if（buffer == null）抛出new RuntimeException（“checkBuffer buffer is null”）; if（offset &lt;0）抛出新的RuntimeException（“checkBuffer offset is negative”）; if（offset &lt;buffer.length）返回缓冲区; else {try {char [] bufferNew = new char [offset + 128]; System.arraycopy（buffer，0，bufferNew，0，buffer.length）; return bufferNew; } finally {Arrays.fill（buffer，''）; } //} ---------------------------------- / ** *此私有类打印一行提示*并删除回复字符回显到控制台。* / private static final class StreamMasker extends Thread {private static final String BLANKS = StreamMasker.repeatChars（''，10）; private String m_promptOverwrite; private String m_setCursorToStart; private PrintStream m_out; private volatile boolean m_doMasking; // ---------------------------------- / ** *构造函数。* @throws RuntimeException如果发生某些错误* / public StreamMasker（PrintStream outPrint，String prompt）抛出RuntimeException {if（outPrint == null）抛出新的RuntimeException（“StreamMasker outPrint为null”）; if（prompt == null）抛出新的RuntimeException（“StreamMasker提示符为null”）; if（prompt.indexOf（'\ r'））！= -1）抛出新的RuntimeException（“StreamMasker提示符包含CR”）; if（prompt.indexOf（'\ n'））！= -1）抛出新的RuntimeException（“StreamMasker提示符包含一个NL”）; m_out = outPrint; m_setCursorToStart = StreamMasker.repeatChars（'\ 010'，prompt.length（）+ BLANKS.length（））; m_promptOverwrite = m_setCursorToStart + prompt + BLANKS + m_setCursorToStart + prompt; } // ---------------------------------- / ** *开始屏蔽，直到被要求停止。* @throws RuntimeException如果发生某些错误* / public void run（）throws RuntimeException {int priorityOriginal = Thread.currentThread（）。getPriority（）; Thread.currentThread（）。setPriority（线程。MAX_PRIORITY）;试试{m_doMasking = true; while（m_doMasking）{m_out.print（m_promptOverwrite）; if（m_out.checkError（））抛出新的RuntimeException（“控制台输出错误写入提示”）;尝试{Thread.currentThread（）。sleep（1）; } catch（InterruptedException ie）{Thread.currentThread（）。interrupt（）;返回; m_out.print（m_setCursorToStart）; } finally {Thread.currentThread（）。setPriority（priorityOriginal）; }} // ---------------------------------- / ** *指示线程停止屏蔽。* / public void stopMasking（）{m_doMasking = false; } // ---------------------------------- / ** *返回重复的char字符串。* * @param c重复char * @param length重复char的次数* @throws RuntimeException如果发生某些错误* / private static String repeatChars（char c，int length）throws RuntimeException {if（length &lt;0 ）抛出新的RuntimeException（“repeatChars length is negative”）; StringBuffer sb = new StringBuffer（length）; for（int i = 0; i &lt;length; i ++）sb.append（c）; return sb.toString（）; }}}</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-security-for-application-developers.html#GUID-DE90CA6F-F37B-4337-B331-4FA0F7C7599A" title="Oracle提供了安全调用密码服务的策略，例如来自脚本，以及将这些策略应用于其他敏感数据。">在应用程序设计中保护密码</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="DBSEG656"></a><div class="props_rev_3"><a id="GUID-EE267659-48F3-4AFA-BB06-D8C620F80696" name="GUID-EE267659-48F3-4AFA-BB06-D8C620F80696"></a><h3 id="DBSEG-GUID-EE267659-48F3-4AFA-BB06-D8C620F80696" class="sect3">保护外部程序</h3>
               <div>
                  <p>外部过程与数据库分开存储在<code class="codeph">.dll</code>或<code class="codeph">.so</code>文件中，并且可以通过凭证身份验证。
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-security-for-application-developers.html#GUID-21BD6FC0-1D78-4986-9E2D-5B01F1A3B749">关于保护外部程序</a><br>出于安全原因，Oracle外部过程在与数据库物理分离的进程中运行。
                     </li>
                     <li class="ulchildlink"><a href="managing-security-for-application-developers.html#GUID-652EA198-77D4-4071-84AD-E73FBF3CB4D9">配置凭据验证的extproc的一般过程</a><br>为了更好的安全性，您可以配置<code class="codeph">extproc</code>进程以通过凭证进行身份验证。
                     </li>
                     <li class="ulchildlink"><a href="managing-security-for-application-developers.html#GUID-B281685F-2E5F-47F9-A385-A9BACD5030B7">extproc进程身份验证和模拟预期行为</a><br><span class="apiname" translate="no">extproc</span>进程具有一组用于身份验证和模拟的行为。
                     </li>
                     <li class="ulchildlink"><a href="managing-security-for-application-developers.html#GUID-22CE5260-59B3-41DB-BD65-9E36D7514FFE">配置外部过程的身份验证</a><br>要为<code class="codeph">extproc</code>进程配置凭据，可以使用<code class="codeph">DBMS_CREDENTIAL</code> PL / SQL包。
                     </li>
                     <li class="ulchildlink"><a href="managing-security-for-application-developers.html#GUID-6E8B4C38-FEB0-45F5-9D3E-BA1CD6537596">遗留应用程序的外部程序</a><br>为了最大限度地提高安全性，请将<code class="codeph">ENFORCE_CREDENTIAL</code>环境变量设置为<code class="codeph">TRUE</code> 。</li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-security-for-application-developers.html#GUID-245AF418-2349-4657-9010-8C8D7849FD05" title="应用程序开发人员的安全策略应包括密码管理和保护外部过程和应用程序权限等方面。">管理应用程序开发人员的安全性</a></p>
                     </div>
                  </div>
               </div>
               <a id="DBSEG755"></a><div class="props_rev_3"><a id="GUID-21BD6FC0-1D78-4986-9E2D-5B01F1A3B749" name="GUID-21BD6FC0-1D78-4986-9E2D-5B01F1A3B749"></a><h4 id="DBSEG-GUID-21BD6FC0-1D78-4986-9E2D-5B01F1A3B749" class="sect4">关于保护外部程序</h4>
                  <div>
                     <p>出于安全原因，Oracle外部过程在与数据库物理分离的进程中运行。</p>
                     <p>在大多数情况下，您将此进程配置为以Oracle软件帐户以外的用户身份执行。当您的应用程序调用此外部过程时 - 例如必须访问<code class="codeph">.dll</code>或<code class="codeph">.so</code>文件库时 -  Oracle Database会创建一个名为<code class="codeph">extproc</code>的操作系统进程。默认情况下， <code class="codeph">extproc</code>进程直接通过您的服务器进程进行通信。换句话说，如果您不使用凭证，则Oracle数据库会在默认的Oracle数据库服务器配置中为您创建<code class="codeph">extproc</code>进程，并以<code class="codeph">oracle</code>软件帐户的身份运行<code class="codeph">extproc</code> 。或者，它可以通过Oracle数据库侦听器进行通信。
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-21BD6FC0-1D78-4986-9E2D-5B01F1A3B749__GUID-BD8B347C-7E76-4936-A05B-639207E0C803">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="keeping-your-oracle-database-secure.html#GUID-C1D3B5AE-173C-4B3D-89ED-B3E27AF3698F" title="ENFORCE_CREDENTIAL环境变量控制extproc进程如何验证用户凭据和标注函数。">保护外部程序的准则</a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-security-for-application-developers.html#GUID-EE267659-48F3-4AFA-BB06-D8C620F80696" title="外部过程与数据库分开存储在.dll或.so文件中，并且可以通过凭证身份验证。">保护外部过程</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-652EA198-77D4-4071-84AD-E73FBF3CB4D9" name="GUID-652EA198-77D4-4071-84AD-E73FBF3CB4D9"></a><h4 id="DBSEG-GUID-652EA198-77D4-4071-84AD-E73FBF3CB4D9" class="sect4">配置凭据验证的extproc的一般过程</h4>
                  <div>
                     <p>为了更好的安全性，您可以配置<code class="codeph">extproc</code>进程以通过凭证进行身份验证。
                     </p>
                     <p>一般过程如下：</p>
                     <ol>
                        <li>
                           <p>您创建凭证。</p>
                           <p>凭证位于加密容器中。公共和私人同义词都可以引用此凭据。<a href="managing-security-for-application-developers.html#GUID-22CE5260-59B3-41DB-BD65-9E36D7514FFE" title="要为extproc进程配置凭据，可以使用DBMS_CREDENTIAL PL / SQL包。">配置外部过程的身份验证</a>描述了如何创建此凭据并配置数据库以使用它。
                           </p>
                        </li>
                        <li>
                           <p>您与数据库建立初始连接，该数据库在专用服务器或共享服务器进程中运行。</p>
                        </li>
                        <li>
                           <p>您的应用程序调用外部过程。</p>
                           <p>如果这是第一次调用，则Oracle数据库会创建一个<code class="codeph">extproc</code>进程。请注意，如果要对<code class="codeph">extproc</code>使用凭据，则无法使用Oracle侦听器生成<code class="codeph">extproc</code>进程。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">extproc</code>进程模拟（即，它代表您提供的凭据运行），加载必需的<code class="codeph">.dll</code> ， <code class="codeph">.so</code> ， <code class="codeph">.sl</code>或<code class="codeph">.a</code>文件，然后在SQL和C之间发送数据。</p>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-security-for-application-developers.html#GUID-EE267659-48F3-4AFA-BB06-D8C620F80696" title="外部过程与数据库分开存储在.dll或.so文件中，并且可以通过凭证身份验证。">保护外部过程</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG756"></a><div class="props_rev_3"><a id="GUID-B281685F-2E5F-47F9-A385-A9BACD5030B7" name="GUID-B281685F-2E5F-47F9-A385-A9BACD5030B7"></a><h4 id="DBSEG-GUID-B281685F-2E5F-47F9-A385-A9BACD5030B7" class="sect4">extproc进程身份验证和模拟预期行为</h4>
                  <div>
                     <p><span class="apiname" translate="no">extproc</span>进程具有一组用于身份验证和模拟的行为。
                     </p>
                     <p><a href="managing-security-for-application-developers.html#GUID-B281685F-2E5F-47F9-A385-A9BACD5030B7__CIHIFBGH" title="Extproc行为">表10-2</a>描述了基于可能的身份验证和模拟方案的<code class="codeph">extproc</code>进程的预期行为。
                     </p>
                     <div class="tblformalwide" id="GUID-B281685F-2E5F-47F9-A385-A9BACD5030B7__CIHIFBGH">
                        <p class="titleintable">表10-2 extproc进程身份验证和模拟设置的预期行为</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="extproc进程身份验证和模拟设置的预期行为" width="100%" border="1" summary="Extproc Behaviors" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="22%" id="d78229e2944">ENFORCE_CREDENTIAL环境变量设置</th>
                                 <th align="left" valign="bottom" width="12%" id="d78229e2947">带Credential的PL / SQL库？</th>
                                 <th align="left" valign="bottom" width="36%" id="d78229e2950">GLOBAL_EXTPROC_CREDENTIAL凭证存在（1）</th>
                                 <th align="left" valign="bottom" width="30%" id="d78229e2970">预期的行为</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d78229e2975" headers="d78229e2944 ">
                                    <p><code class="codeph">假</code></p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d78229e2975 d78229e2947 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="36%" headers="d78229e2975 d78229e2950 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d78229e2975 d78229e2970 ">
                                    <p>使用预发布12c身份验证，该身份验证通过Oracle侦听器或Oracle服务器进程的所有者的操作系统特权进行身份验证。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d78229e2989" headers="d78229e2944 ">
                                    <p><code class="codeph">假</code></p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d78229e2989 d78229e2947 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="36%" headers="d78229e2989 d78229e2950 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d78229e2989 d78229e2970 ">
                                    <p>使用Oracle实例提供的<code class="codeph">GLOBAL_EXTPROC_CREDENTIAL</code> （ <a id="fn_2" name="fn_2" href="#fn_2" if="" only="" the="" global_extproc_credential="" credential="" is="" in="" use,="" then="" execute="" privilege="" on="" this="" global="" automatically="" granted="" to="" all="" users="" implicitly=")" ="" onclick="footdisplay(2, "><sup>脚2</sup></a> ）进行身份验证和模拟</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d78229e3016" headers="d78229e2944 ">
                                    <p><code class="codeph">假</code></p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d78229e3016 d78229e2947 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="36%" headers="d78229e3016 d78229e2950 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d78229e3016 d78229e2970 ">
                                    <p>使用PL / SQL库中定义的凭据进行身份验证和模拟</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d78229e3030" headers="d78229e2944 ">
                                    <p><code class="codeph">假</code></p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d78229e3030 d78229e2947 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="36%" headers="d78229e3030 d78229e2950 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d78229e3030 d78229e2970 ">
                                    <p>认证和冒充（ <a id="fn_3" name="fn_3" href="#fn_3" if="" both="" the="" pl="" /sql="" library="" and="" global_extproc_credential="" settings="" have="" credentials="" defined,="" then="" credential="" of="" takes="" precedence=")" ="" onclick="footdisplay(3, "><sup>脚3</sup></a> ）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d78229e3051" headers="d78229e2944 ">
                                    <p><code class="codeph">真正</code></p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d78229e3051 d78229e2947 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="36%" headers="d78229e3051 d78229e2950 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d78229e3051 d78229e2970 ">
                                    <p>返回错误<code class="codeph">ORA-28575: unable to open RPC connection to external procedure agent</code> <a id="d78229e3067" class="indexterm-anchor"></a><a id="d78229e3069" class="indexterm-anchor"></a></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d78229e3074" headers="d78229e2944 ">
                                    <p><code class="codeph">真正</code></p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d78229e3074 d78229e2947 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="36%" headers="d78229e3074 d78229e2950 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d78229e3074 d78229e2970 ">
                                    <p>使用Oracle系统提供的<code class="codeph">GLOBAL_EXTPROC_CREDENTIAL</code>身份验证和模拟（脚注1）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d78229e3091" headers="d78229e2944 ">
                                    <p><code class="codeph">真正</code></p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d78229e3091 d78229e2947 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="36%" headers="d78229e3091 d78229e2950 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d78229e3091 d78229e2970 ">
                                    <p>使用PL / SQL库中定义的凭据进行身份验证和模拟</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="22%" id="d78229e3105" headers="d78229e2944 ">
                                    <p><code class="codeph">真正</code></p>
                                 </td>
                                 <td align="left" valign="top" width="12%" headers="d78229e3105 d78229e2947 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="36%" headers="d78229e3105 d78229e2950 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="30%" headers="d78229e3105 d78229e2970 ">
                                    <p>认证和冒充（脚注2）</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p class="tablefootnote"><sup class="tablefootnote">脚注1</sup>如果未明确指定凭据且ENFORCE_CREDENTIAL环境变量设置为TRUE，则GLOBAL_EXTPROC_CREDENTIAL是默认凭据的保留凭据名称。因此，如果ENFORCE_CREDENTIAL设置为TRUE，Oracle强烈建议您使用该名称创建凭证。</p>
                     <p class="tablefootnote"><sup class="tablefootnote">脚注2</sup></p><p>如果仅使用<code class="codeph">GLOBAL_EXTPROC_CREDENTIAL</code>凭证，则会自动将此全局凭证的<code class="codeph">EXECUTE</code>特权隐式授予所有用户。
                        </p>
                     <p></p>
                     <p class="tablefootnote"><sup class="tablefootnote">脚注3</sup></p><p>如果PL / SQL库和<code class="codeph">GLOBAL_EXTPROC_CREDENTIAL</code>设置都定义了凭据，则PL / SQL库的凭证优先。
                        </p>
                     <p></p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-security-for-application-developers.html#GUID-EE267659-48F3-4AFA-BB06-D8C620F80696" title="外部过程与数据库分开存储在.dll或.so文件中，并且可以通过凭证身份验证。">保护外部过程</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG757"></a><div class="props_rev_3"><a id="GUID-22CE5260-59B3-41DB-BD65-9E36D7514FFE" name="GUID-22CE5260-59B3-41DB-BD65-9E36D7514FFE"></a><h4 id="DBSEG-GUID-22CE5260-59B3-41DB-BD65-9E36D7514FFE" class="sect4">配置外部过程的身份验证</h4>
                  <div>
                     <p>要为<code class="codeph">extproc</code>进程配置凭据，可以使用<code class="codeph">DBMS_CREDENTIAL</code> PL / SQL包。
                     </p>
                     <ol>
                        <li class="stepexpand"><span>以已被授予<code class="codeph">CREATE CREDENTIAL</code>或<code class="codeph">CREATE ANY CREDENTIAL</code>权限的用户身份登录SQL * Plus。</span><div><pre class="oac_no_warn" dir="ltr">sqlplus psmith输入密码： <span class="italic">密码</span>已连接。
</pre><p>在多租户环境中，您必须连接到相应的可插拔数据库（PDB）。例如：</p><pre class="oac_no_warn" dir="ltr">sqlplus psmith @hpdb输入密码： <span class="italic">密码</span>已连接。
</pre><p>此外，请确保您还具有<code class="codeph">CREATE LIBRARY</code>或<code class="codeph">CREATE ANY LIBRARY</code>权限，以及包含外部调用的库的<code class="codeph">EXECUTE</code>对象特权。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>使用<code class="codeph">DBMS_CREDENTIAL</code> PL / SQL包创建新凭证。</span><div>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_CREDENTIAL.CREATE_CREDENTIAL（credential_name =&gt;'smith_credential'，user_name =&gt;'tjones'，password =&gt;' <span class="italic">password</span> '）END; /</pre><p>在这个例子中：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">credential_name</code> ：输入<code class="codeph">credential_name</code>的名称。（可选）在其<code class="codeph">psmith.smith_credential</code>模式的名称（例如， <code class="codeph">psmith.smith_credential</code> ）。如果<code class="codeph">ENFORCE_CREDENTIAL</code>环境变量设置为<code class="codeph">TRUE</code> ，则应创建凭证<code class="codeph">GLOBAL_EXTPROC_CREDENTIAL</code>凭证。</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">user_name</code> ：输入用于以用户身份运行的有效操作系统用户名。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">password</code> ：输入<code class="codeph">user_name</code>用户的密码。
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li class="stepexpand"><span>将凭证与PL / SQL库相关联。</span><div>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">创建或替换库ps_lib AS'smith_lib.so'IN DLL_LOC CREDENTIAL smith_credential;</pre><p>在此示例中， <code class="codeph">DLL_LOC</code>是指向<code class="codeph">$ORACLE_HOME/bin</code>目录的目录对象。Oracle建议不要使用DLL的绝对路径。</p>
                              <p>当通过<code class="codeph">extproc</code>进程通过外部过程调用加载PL / SQL库时， <code class="codeph">extproc</code>现在可以代表定义的<code class="codeph">smith_credential</code>凭证进行身份验证和模拟。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>通过创建PL / SQL过程或函数来注册外部过程，该过程或函数告诉PL / SQL如何调用外部过程以及传递给它的参数。</span><div>
                              <p>例如，要创建一个注册用C编写的外部过程的函数，只需使用<code class="codeph">CREATE FUNCTION</code>语句的<code class="codeph">AS LANGUAGE C</code> ， <code class="codeph">LIBRARY</code>和<code class="codeph">NAME</code>子句，如下所示：</p><pre class="oac_no_warn" dir="ltr">创建或替换函数getInt（x VARCHAR2，y BINARY_INTEGER）将BINARY_INTEGER作为语言C库返回ps_lib名称“get_int_vals”PARAMETERS（x STRING，y int）;</pre></div>
                        </li>
                     </ol>
                     <div class="section"></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-22CE5260-59B3-41DB-BD65-9E36D7514FFE__GUID-D008E079-A7C7-48E6-9DF2-0DD202061B77">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="keeping-your-oracle-database-secure.html#GUID-C1D3B5AE-173C-4B3D-89ED-B3E27AF3698F" title="ENFORCE_CREDENTIAL环境变量控制extproc进程如何验证用户凭据和标注函数。">保护外部程序的准则</a></p>
                           </li>
                           <li>
                              <p>有关<code class="codeph">DBMS_CREDENTIAL</code>包的信息，请<code class="codeph">DBMS_CREDENTIAL</code> <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbseg&amp;id=ARPLS73499" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考</cite></span></a></p>
                           </li>
                           <li>
                              <p>有关<code class="codeph">extproc</code>代理的信息，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbseg&amp;id=LNOCI00099" target="_blank"><span><cite>“Oracle调用接口程序员指南”</cite></span></a></p>
                           </li>
                           <li>
                              <p>有关<code class="codeph">extproc.ora</code>文件的详细信息，请<code class="codeph">extproc.ora</code> <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbseg&amp;id=NETAG0132" target="_blank"><span><cite>“Oracle数据库网络服务管理员指南”</cite></span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-security-for-application-developers.html#GUID-EE267659-48F3-4AFA-BB06-D8C620F80696" title="外部过程与数据库分开存储在.dll或.so文件中，并且可以通过凭证身份验证。">保护外部过程</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG758"></a><div class="props_rev_3"><a id="GUID-6E8B4C38-FEB0-45F5-9D3E-BA1CD6537596" name="GUID-6E8B4C38-FEB0-45F5-9D3E-BA1CD6537596"></a><h4 id="DBSEG-GUID-6E8B4C38-FEB0-45F5-9D3E-BA1CD6537596" class="sect4">遗留应用程序的外部程序</h4>
                  <div>
                     <p>为了最大限度地提高安全性，请将<code class="codeph">ENFORCE_CREDENTIAL</code>环境变量设置为<code class="codeph">TRUE</code> 。</p>
                     <p>但是，如果必须适应向后兼容性，则将<code class="codeph">ENFORCE_CREDENTIAL</code>设置为<code class="codeph">FALSE</code> 。当发生以下任一情况时， <code class="codeph">FALSE</code>使<code class="codeph">extproc</code>进程能够代表提供的凭据进行身份验证，模拟和执行用户定义的标注功能：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>凭证是使用PL / SQL库定义的。</p>
                        </li>
                        <li>
                           <p><code class="codeph">GLOBAL_EXTPROC_CREDENTIAL</code>凭证，但存在<code class="codeph">GLOBAL_EXTPROC_CREDENTIAL</code>凭证。
                           </p>
                        </li>
                     </ul>
                     <p>如果这些凭据定义都不存在，则将<code class="codeph">ENFORCE_CREDENTIAL</code>参数设置为<code class="codeph">FALSE</code> <code class="codeph">ENFORCE_CREDENTIAL</code> <code class="codeph">extproc</code>进程设置<code class="codeph">ENFORCE_CREDENTIAL</code> Oracle侦听器或Oracle服务器进程的所有者的操作系统特权进行身份验证。
                     </p>
                     <p>对于在<code class="codeph">extproc</code>进程之上运行的遗留应用程序，理想情况下，您应该更改遗留应用程序代码以将所有别名库与凭据相关联。如果您无法执行此操作，则Oracle数据库使用<code class="codeph">GLOBAL_EXTPROC_CREDENTIAL</code>凭据来确定如何处理身份验证。如果<code class="codeph">GLOBAL_EXTPROC_CREDENTIAL</code>凭证，则<code class="codeph">extproc</code>进程将通过Oracle侦听器或Oracle服务器进程的所有者的操作系统特权进行身份验证。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-security-for-application-developers.html#GUID-EE267659-48F3-4AFA-BB06-D8C620F80696" title="外部过程与数据库分开存储在.dll或.so文件中，并且可以通过凭证身份验证。">保护外部过程</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-8F585EBE-611D-4717-AD9F-CAC10A19B7E1" name="GUID-8F585EBE-611D-4717-AD9F-CAC10A19B7E1"></a><h3 id="DBSEG-GUID-8F585EBE-611D-4717-AD9F-CAC10A19B7E1" class="sect3">使用LOB定位器签名保护LOB</h3>
               <div>
                  <p>您可以通过重新生成LOB定位器签名来保护大对象（LOB）。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-security-for-application-developers.html#GUID-D4FA0565-3CFF-4E94-B173-676971323904">关于使用LOB定位器签名保护LOB</a><br>可以为LOB定位器分配一个签名，该签名是指向大对象（LOB）值的实际位置的指针，该签名可用于保护LOB。</li>
                     <li class="ulchildlink"><a href="managing-security-for-application-developers.html#GUID-5DC42FA1-09BE-4E2E-B631-BD7335C8A09E">管理LOB定位器签名密钥的加密</a><br>您可以使用<code class="codeph">ALTER DATABASE DICTIONARY</code> SQL语句来加密LOB定位器签名密钥。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-security-for-application-developers.html#GUID-245AF418-2349-4657-9010-8C8D7849FD05" title="应用程序开发人员的安全策略应包括密码管理和保护外部过程和应用程序权限等方面。">管理应用程序开发人员的安全性</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-D4FA0565-3CFF-4E94-B173-676971323904" name="GUID-D4FA0565-3CFF-4E94-B173-676971323904"></a><h4 id="DBSEG-GUID-D4FA0565-3CFF-4E94-B173-676971323904" class="sect4">关于使用LOB定位器签名保护LOB</h4>
                  <div>
                     <p>可以为LOB定位器分配一个签名，该签名是指向大对象（LOB）值的实际位置的指针，该签名可用于保护LOB。</p>
                     <p>创建LOB时，Oracle数据库会自动为LOB定位器分配签名。Oracle数据库在从客户端收到定位器时验证签名匹配，以确保定位器未被篡改。基于签名的安全性可用于持久性和临时LOB定位器。它还用于来自索引组织表（IOT）定位器的分布式CLOB，BLOB和NBLOB。</p>
                     <p>在Oracle Real Applications Clusters（Oracle RAC）环境中，所有实例将共享相同的签名密钥，该密钥将保留在数据库中。在多租户环境中，每个可插拔数据库（PDB）都有自己的签名密钥。如果LOB定位器已被篡改，则签名验证拒绝LOB并引发<code class="codeph">ORA-64219: invalid LOB locator encountered</code>错误。
                     </p>
                     <p>您可以加密，重新生成和删除用于为从独立数据库或PDB发送到客户端的LOB定位符生成LOB签名的LOB签名密钥。如果您计划加密签名密钥，则密钥所在的数据库（或PDB）必须具有打开的TDE密钥库。</p>
                     <p>要启用LOB签名功能，必须将<code class="codeph">LOB_SIGNATURE_ENABLE</code>初始化参数设置为<code class="codeph">TRUE</code> 。默认情况下，Oracle Database 19c版的<code class="codeph">LOB_SIGNATURE_ENABLE</code>设置为<code class="codeph">FALSE</code> 。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-security-for-application-developers.html#GUID-8F585EBE-611D-4717-AD9F-CAC10A19B7E1" title="您可以通过重新生成LOB定位器签名来保护大对象（LOB）。">使用LOB定位器签名保护LOB</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-5DC42FA1-09BE-4E2E-B631-BD7335C8A09E" name="GUID-5DC42FA1-09BE-4E2E-B631-BD7335C8A09E"></a><h4 id="DBSEG-GUID-5DC42FA1-09BE-4E2E-B631-BD7335C8A09E" class="sect4">管理LOB定位器签名密钥的加密</h4>
                  <div>
                     <p>您可以使用<code class="codeph">ALTER DATABASE DICTIONARY</code> SQL语句来加密LOB定位器签名密钥。
                     </p>
                     <ol>
                        <li class="stepexpand"><span>以具有<code class="codeph">ALTER DATABASE DICTIONARY</code>权限的用户身份登录数据库。</span></li>
                        <li class="stepexpand"><span>如有必要，请通过将<code class="codeph">LOB_SIGNATURE_ENABLE</code>初始化参数设置为<code class="codeph">TRUE</code>来启用LOB签名密钥功能。</span><div>
                              <pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SET LOB_SIGNATURE_ENABLE = TRUE;</pre>
                              </div>
                           <div>或者，您可以在数据库重新启动之前在<code class="codeph">init.ora</code>初始化文件中设置<code class="codeph">LOB_SIGNATURE_ENABLE</code>参数。这为所有PDB启用了LOB签名密钥功能。
                           </div>
                        </li>
                        <li class="stepexpand"><span>如果您计划加密签名密钥，请确保数据库或PDB具有打开的TDE密钥库。</span><div>您必须具有<code class="codeph">SYSKM</code>管理权限才能创建TDE密钥库。
                           </div>
                           <div>例如，要创建并打开软件TDE密钥库：<pre class="oac_no_warn" dir="ltr">ADMINISTER密钥管理CREATE密钥库'的/ etc / ORACLE /钱包/ ORCL' IDENTIFIED BY <span class="italic">密码</span> ; ADMINISTER KEY MANAGEMENT SET KEYSTORE OPEN由<span class="italic">密码</span>识别;</pre></div>
                        </li>
                        <li class="stepexpand"><span>执行<code class="codeph">ALTER DATABASE DICTIONARY</code>语句以设置LOB签名密钥配置。</span><ul>
                              <li>要加密LOB定位器签名密钥而不是对其进行模糊处理，请执行以下语句：<pre class="oac_no_warn" dir="ltr">ALTER DATABASE DATTIONARY ENCRYPT CREDENTIALS;</pre></li>
                              <li>要为将发送到客户端的LOB定位器重新生成LOB定位器签名密钥，请使用以下语句。如果数据库处于受限模式，则Oracle数据库将重新生成新的LOB签名密钥以加密重新生成的签名密钥。如果数据库处于非限制模式，则不会重新生成新的签名密钥，而是Oracle数据库使用新的加密密钥来加密现有的LOB签名密钥。Oracle建议数据库管理员或PDB管理员定期以受限模式运行此语句，最好是在数据库停机期间。
                        <pre class="oac_no_warn" dir="ltr">ALTER DATABASE DICTIONARY REKEY CREDENTIALS;</pre></li>
                              <li>要删除加密的LOB定位器签名密钥，然后以模糊形式而不是加密形式重新生成新的LOB签名密钥，请执行以下语句：<pre class="oac_no_warn" dir="ltr">ALTER DATABASE DICTIONARY DELETE BREDENTIALS;</pre></li>
                           </ul>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbseg&amp;id=ASOAG-GUID-C5D20EAE-3369-411F-9A7E-13AB14139F1D" target="_blank">配置透明数据加密</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-security-for-application-developers.html#GUID-8F585EBE-611D-4717-AD9F-CAC10A19B7E1" title="您可以通过重新生成LOB定位器签名来保护大对象（LOB）。">使用LOB定位器签名保护LOB</a></p>
                        </div>
                     </div>
                  </div>
               </div>
            </div><a id="DBSEG145"></a><div class="props_rev_3"><a id="GUID-4C03768A-FA3D-4D41-84CF-FEA40D0D9AA9" name="GUID-4C03768A-FA3D-4D41-84CF-FEA40D0D9AA9"></a><h3 id="DBSEG-GUID-4C03768A-FA3D-4D41-84CF-FEA40D0D9AA9" class="sect3">管理应用程序权限</h3>
               <div>
                  <p>大多数数据库应用程序涉及不同架构对象的不同权</p>
                  <div class="section">
                     <p>跟踪每个应用程序所需的权限可能很复杂。此外，授权用户运行应用程序可能涉及许多<code class="codeph">GRANT</code>操作。
                     </p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>要简化应用程序权限管理，请为每个应用程序创建一个角色，并为该角色授予用户必须运行该应用程序的所有权限。</p>
                           <p>实际上，应用程序可以具有多个角色，每个角色都授予特定的权限子集，这些权限允许在运行应用程序时具有更高或更低的功能。</p>
                        </li>
                     </ul>
                     <p>例如，假设每个行政助理都使用Vacation应用程序来记录部门成员的休假。为了更好地管理此应用程序，您应该：</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li><span>创建<code class="codeph">VACATION</code>角色。</span></li>
                     <li><span>将Vacation应用程序所需的所有权限授予<code class="codeph">VACATION</code>角色。</span></li>
                     <li><span>将<code class="codeph">VACATION</code>角色授予所有行政助理。更好的是，创建一个角色，定义行政助理拥有的权限，然后将<code class="codeph">VACATION</code>角色授予该角色。</span></li>
                  </ol>
                  <div class="section"></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-4C03768A-FA3D-4D41-84CF-FEA40D0D9AA9__GUID-6A0AC1E8-2D10-499A-A16F-8B5E30B6761B">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="configuring-privilege-and-role-authorization.html#GUID-89CE989D-C97F-4CFD-941F-18203090A1AC" title="权限和角色授权控制用户必须执行日常任务的权限。">配置权限和角色授权</a> ，以全面讨论创建，启用和禁用角色，以及授予和撤消权限</p>
                        </li>
                        <li>
                           <p><a href="configuring-privilege-and-role-authorization.html#GUID-157F644B-124B-4ACC-98D8-43C911370B50" title="您可以使用特殊查询来查找有关各种类型的权限和角色授予的信息。">用户权限和角色数据字典视图</a> ，以获取有关<code class="codeph">ROLE_TAB_PRIVS</code> ， <code class="codeph">ROLE_SYS_PRIVS</code>和<code class="codeph">DBA_ROLE_PRIVS</code>数据字典视图的安全性使用的更多信息</p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-security-for-application-developers.html#GUID-245AF418-2349-4657-9010-8C8D7849FD05" title="应用程序开发人员的安全策略应包括密码管理和保护外部过程和应用程序权限等方面。">管理应用程序开发人员的安全性</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="props_rev_3"><a id="GUID-2D2FD12B-5953-4056-8488-2C70832559D9" name="GUID-2D2FD12B-5953-4056-8488-2C70832559D9"></a><h3 id="DBSEG-GUID-2D2FD12B-5953-4056-8488-2C70832559D9" class="sect3">使用角色管理应用程序权限的优点</h3>
               <div>
                  <p>在角色中分组应用程序权限有助于权限管理。</p>
                  <p>请考虑以下管理选项：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>您可以向运行该应用程序的用户授予该角色，而不是许多个人权限。然后，当员工更换工作时，您只需要授予或撤销一个角色，而不是许多权限。</p>
                     </li>
                     <li>
                        <p>您可以通过仅修改授予该角色的权限而不是应用程序的所有用户所拥有的权限来更改与应用程序关联的权限。</p>
                     </li>
                     <li>
                        <p>您可以通过查询<code class="codeph">ROLE_TAB_PRIVS</code>和<code class="codeph">ROLE_SYS_PRIVS</code>数据字典视图来确定运行特定应用程序所需的权限。
                        </p>
                     </li>
                     <li>
                        <p>您可以通过查询<code class="codeph">DBA_ROLE_PRIVS</code>数据字典视图来确定哪些用户对哪些应用程序具有特权。
                        </p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-security-for-application-developers.html#GUID-245AF418-2349-4657-9010-8C8D7849FD05" title="应用程序开发人员的安全策略应包括密码管理和保护外部过程和应用程序权限等方面。">管理应用程序开发人员的安全性</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="DBSEG30399"></a><div class="props_rev_3"><a id="GUID-AF4D0F7A-D74E-444E-8D00-66B9FEFE8CD2" name="GUID-AF4D0F7A-D74E-444E-8D00-66B9FEFE8CD2"></a><h3 id="DBSEG-GUID-AF4D0F7A-D74E-444E-8D00-66B9FEFE8CD2" class="sect3">创建安全应用程序角色以控制对应用程序的访问</h3>
               <div>
                  <p>安全应用程序角色仅通过其关联的PL / SQL包或过程启用。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-security-for-application-developers.html#GUID-283FDA5C-F8C9-440F-A3AB-73B87AC3A680">第1步：创建安全应用程序角色</a><br>带有<code class="codeph">IDENTIFIED USING</code>子句的<code class="codeph">CREATE</code> <code class="codeph">ROLE</code>语句创建一个安全的应用程序角色。
                     </li>
                     <li class="ulchildlink"><a href="managing-security-for-application-developers.html#GUID-7D39957F-31DC-4C7D-9BFB-93FB2C631E25">步骤2：创建PL / SQL包以定义应用程序的访问策略</a><br>您可以创建一个PL / SQL包来定义应用程序的访问策略。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-security-for-application-developers.html#GUID-245AF418-2349-4657-9010-8C8D7849FD05" title="应用程序开发人员的安全策略应包括密码管理和保护外部过程和应用程序权限等方面。">管理应用程序开发人员的安全性</a></p>
                     </div>
                  </div>
               </div>
               <a id="DBSEG146"></a><div class="props_rev_3"><a id="GUID-283FDA5C-F8C9-440F-A3AB-73B87AC3A680" name="GUID-283FDA5C-F8C9-440F-A3AB-73B87AC3A680"></a><h4 id="DBSEG-GUID-283FDA5C-F8C9-440F-A3AB-73B87AC3A680" class="sect4">第1步：创建安全应用程序角色</h4>
                  <div>
                     <p>带有<code class="codeph">IDENTIFIED USING</code>子句的<code class="codeph">CREATE</code> <code class="codeph">ROLE</code>语句创建一个安全的应用程序角色。
                     </p>
                     <div class="section">
                        <p>您必须具有<code class="codeph">CREATE ROLE</code>系统特权才能执行此语句。
                        </p>
                        <p>例如，要创建与<code class="codeph">sec_mgr.hr_admin</code>包关联的名为<code class="codeph">hr_admin</code>的安全应用程序角色：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>创建安全应用程序角色，如下所示：</span><div><pre class="oac_no_warn" dir="ltr">创建角色hr_admin使用sec_mgr.hr_admin_role_check标识;</pre><p>该声明表明以下内容：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>要创建的角色<code class="codeph">hr_admin</code>是一个安全的应用程序角色。
                                    </p>
                                 </li>
                                 <li>
                                    <p>该角色只能由PL / SQL过程<code class="codeph">sec_mgr</code>定义的模块启用。 <code class="codeph">hr_admin_role_check</code> 。在这个阶段，这个程序不需要存在; <a href="managing-security-for-application-developers.html#GUID-7D39957F-31DC-4C7D-9BFB-93FB2C631E25" title="您可以创建一个PL / SQL包来定义应用程序的访问策略。">步骤2：创建PL / SQL包以定义应用程序的访问策略</a>说明如何创建包或过程。
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </li>
                        <li class="stepexpand"><span>为安全应用程序角色授予通常与此角色关联的权限。</span><div>
                              <p>例如，要在<code class="codeph">HR.EMPLOYEES</code>表上授予<code class="codeph">hr_admin</code>角色<code class="codeph">SELECT</code> ， <code class="codeph">INSERT</code> ， <code class="codeph">UPDATE</code>和<code class="codeph">DELETE</code>权限，请输入以下语句：</p><pre class="oac_no_warn" dir="ltr">GRANT SELECT，INSERT，UPDATE，DELETE ON HR.EMPLOYEES to hr_admin;</pre><p>不要将角色直接授予用户。假设用户通过了安全策略，PL / SQL过程或程序包会为您执行此操作。</p>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-security-for-application-developers.html#GUID-AF4D0F7A-D74E-444E-8D00-66B9FEFE8CD2" title="安全应用程序角色仅通过其关联的PL / SQL包或过程启用。">创建安全应用程序角色以控制对应用程序的访问</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG147"></a><div class="props_rev_3"><a id="GUID-7D39957F-31DC-4C7D-9BFB-93FB2C631E25" name="GUID-7D39957F-31DC-4C7D-9BFB-93FB2C631E25"></a><h4 id="DBSEG-GUID-7D39957F-31DC-4C7D-9BFB-93FB2C631E25" class="sect4">步骤2：创建PL / SQL包以定义应用程序的访问策略</h4>
                  <div>
                     <p>您可以创建一个PL / SQL包来定义应用程序的访问策略。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-security-for-application-developers.html#GUID-C9506707-F602-47D7-8B2E-C837CEFD63B6">关于创建PL / SQL包以定义应用程序的访问策略</a><br>要启用或禁用安全应用程序角色，必须在PL / SQL包中创建角色的安全策略。
                        </li>
                        <li class="ulchildlink"><a href="managing-security-for-application-developers.html#GUID-AA09D0FE-7B88-43E8-B76D-7A6C50AA99E8">创建PL / SQL包或过程以定义应用程序的访问策略</a><br>您创建的PL / SQL包或过程必须使用调用者的权限来定义访问策略。
                        </li>
                        <li class="ulchildlink"><a href="managing-security-for-application-developers.html#GUID-B143E13B-BC5C-47D9-800B-924AD76D360D">测试安全应用程序角色</a><br>作为已被授予安全应用程序角色的用户，请尝试执行需要角色授予的权限的操作。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-security-for-application-developers.html#GUID-AF4D0F7A-D74E-444E-8D00-66B9FEFE8CD2" title="安全应用程序角色仅通过其关联的PL / SQL包或过程启用。">创建安全应用程序角色以控制对应用程序的访问</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="DBSEG597"></a><div class="props_rev_3"><a id="GUID-C9506707-F602-47D7-8B2E-C837CEFD63B6" name="GUID-C9506707-F602-47D7-8B2E-C837CEFD63B6"></a><h5 id="DBSEG-GUID-C9506707-F602-47D7-8B2E-C837CEFD63B6" class="sect5">关于创建PL / SQL包以定义应用程序的访问策略</h5>
                     <div>
                        <p>要启用或禁用安全应用程序角色，必须在PL / SQL包中创建角色的安全策略。</p>
                        <p>您还可以创建一个单独的过程来执行此操作，但是一个包允许您将一组过程组合在一起。这使您可以对一组策略进行分组，这些策略一起使用可提供可靠的安全策略来保护您的应用程序。对于未通过安全策略的用户（或潜在的入侵者），您可以向程序包添加审核检查以记录失败。通常，您在安全管理员的架构中创建此包。</p>
                        <p>包裹或程序必须完成以下任务：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><span class="bold">它必须使用调用者的权限来启用该角色。</span>要使用调用者权限创建包，必须将<code class="codeph">AUTHID</code>属性设置为<code class="codeph">CURRENT_USER</code> 。您无法使用定义者的权限创建包。
                              </p>
                              <p>有关调用者权限和定义者权限的更多信息，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbseg&amp;id=LNPLS00809" target="_blank"><span><cite>Oracle数据库PL / SQL语言参考</cite></span></a> 。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">它必须包含一个或多个安全检查以验证用户。</span> 验证用户的一种方法是使用<code class="codeph">SYS_CONTEXT</code> SQL函数。有关<code class="codeph">SYS_CONTEXT</code>更多信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbseg&amp;id=SQLRF06117" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a> 。要查找用户的会话信息，可以将<code class="codeph">SYS_CONTEXT</code>与应用程序上下文一起使用。有关详细<a href="using-application-contexts-to-retrieve-user-information.html#GUID-51C9D5FA-6787-4F05-82EF-A5968BEDC5A0" title="An application context stores user identification that can enable or prevent a user from accessing data in the database.">信息</a> ，请参阅<a href="using-application-contexts-to-retrieve-user-information.html#GUID-51C9D5FA-6787-4F05-82EF-A5968BEDC5A0" title="应用程序上下文存储可以启用或阻止用户访问数据库中的数据的用户标识。">使用应用程序上下文来检索用户信息</a> 。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">当用户通过安全检查时，它必须发出SET ROLE SQL语句或DBMS_SESSION.SET_ROLE过程。</span> 因为您使用调用者的权限创建包，所以必须通过发出<code class="codeph">SET ROLE</code> SQL语句或<code class="codeph">DBMS_SESSION.SET_ROLE</code>过程来设置角色。（但是，对于此类角色启用，您不能使用<code class="codeph">SET ROLE ALL</code>语句。）PL / SQL嵌入式SQL语法不支持<code class="codeph">SET ROLE</code>语句，但您可以使用动态SQL调用<code class="codeph">SET ROLE</code> （例如，使用<code class="codeph">EXECUTE IMMEDIATE</code> ）。
                              </p>
                              <p>有关<code class="codeph">EXECUTE IMMEDIATE</code>更多信息，请参阅<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbseg&amp;id=LNPLS01115" target="_blank"><span><cite>Oracle Database PL / SQL语言参考</cite></span></a> 。
                              </p>
                           </li>
                        </ul>
                        <p>由于必须创建此程序包或过程的方式，因此无法使用登录触发器来启用或禁用安全应用程序角色。而是在用户登录之前直接从应用程序调用包，然后用户必须使用安全应用程序角色授予的权限。</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-security-for-application-developers.html#GUID-7D39957F-31DC-4C7D-9BFB-93FB2C631E25" title="您可以创建一个PL / SQL包来定义应用程序的访问策略。">步骤2：创建PL / SQL包以定义应用程序的访问策略</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG702"></a><div class="props_rev_3"><a id="GUID-AA09D0FE-7B88-43E8-B76D-7A6C50AA99E8" name="GUID-AA09D0FE-7B88-43E8-B76D-7A6C50AA99E8"></a><h5 id="DBSEG-GUID-AA09D0FE-7B88-43E8-B76D-7A6C50AA99E8" class="sect5">创建PL / SQL包或过程以定义应用程序的访问策略</h5>
                     <div>
                        <p>您创建的PL / SQL包或过程必须使用调用者的权限来定义访问策略。</p>
                        <div class="section">
                           <p>例如，假设您要将使用<code class="codeph">hr_admin</code>角色的任何人限制为现场员工（即使用某些终端），并且在上午8点到下午5点之间。作为系统或安全管理员，您可以创建一个程序，定义应用程序的访问策略。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>创建过程如下：</span><div><pre class="pre codeblock"><code>创建或替换过程hr_admin_role_check AUTHID CURRENT_USER as BEGIN IF（SYS_CONTEXT（'userenv'，'ip_address'）BETWEEN'192.0.2.10'和'192.0.2.20'AND_CHAR（SYSDATE，'HH24'）在8和17之间）执行即将执行'SET ROLE hr_admin';万一;结束; /</code></pre><p>在这个例子中：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p><code class="codeph">AUTHID CURRENT_USER</code>将AUTHID属性设置为CURRENT_USER，以便可以使用调用者的权限。
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">IF (SYS_CONTEXT ('userenv','ip_address')</code>通过使用SYS_CONTEXT SQL函数来检索用户会话信息来验证用户。
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">BETWEEN ......TO_CHAR</code>创建一个允许或拒绝访问的测试。该测试限制对现场用户（即使用某些终端）的访问，并在上午8:00到下午5:00之间工作。如果用户通过此检查，则授予<code class="codeph">hr_admin</code>角色。
                                       </p>
                                    </li>
                                    <li>
                                       <p><code class="codeph">然后...EXECUTE</code>补助的角色，用户通过发出<code class="codeph">SET ROLE</code>使用语句<code class="codeph">EXECUTE IMMEDIATE</code>命令，假设用户通过测试。</p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                           <li class="stepexpand"><span>将<code class="codeph">hr_admin_role_check</code>过程的<code class="codeph">EXECUTE</code>权限授予分配给它的任何用户。</span><div>
                                 <p>例如：</p><pre class="oac_no_warn" dir="ltr">GRANT EXECUTE ON hr_admin_role_check to psmith;</pre></div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-security-for-application-developers.html#GUID-7D39957F-31DC-4C7D-9BFB-93FB2C631E25" title="您可以创建一个PL / SQL包来定义应用程序的访问策略。">步骤2：创建PL / SQL包以定义应用程序的访问策略</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="DBSEG767"></a><div class="props_rev_3"><a id="GUID-B143E13B-BC5C-47D9-800B-924AD76D360D" name="GUID-B143E13B-BC5C-47D9-800B-924AD76D360D"></a><h5 id="DBSEG-GUID-B143E13B-BC5C-47D9-800B-924AD76D360D" class="sect5">测试安全应用程序角色</h5>
                     <div>
                        <p>作为已被授予安全应用程序角色的用户，请尝试执行需要角色授予的权限的操作。</p>
                        <div class="section">
                           <p>以具有安全应用程序角色的用户身份登录时，将启用该角色。</p>
                           <ol>
                              <li>
                                 <p>以用户身份登录数据库会话。</p>
                                 <p>例如：</p><pre class="oac_no_warn" dir="ltr">CONNECT PSMITH @ hrpdb输入密码： <span class="italic">密码</span>
</pre></li>
                              <li>
                                 <p>执行需要安全应用程序角色授予的权限的操作。</p>
                                 <p>例如，如果角色为名为<code class="codeph">sec_admin.hr_admin_role_check</code>的过程授予<code class="codeph">EXECUTE</code>特权：</p><pre class="oac_no_warn" dir="ltr">执行sec_admin.hr_admin_role_check;</pre></li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="managing-security-for-application-developers.html#GUID-7D39957F-31DC-4C7D-9BFB-93FB2C631E25" title="您可以创建一个PL / SQL包来定义应用程序的访问策略。">步骤2：创建PL / SQL包以定义应用程序的访问策略</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div><a id="DBSEG148"></a><div class="props_rev_3"><a id="GUID-1FE77DE6-8950-493C-B10F-13E1A1A33155" name="GUID-1FE77DE6-8950-493C-B10F-13E1A1A33155"></a><h3 id="DBSEG-GUID-1FE77DE6-8950-493C-B10F-13E1A1A33155" class="sect3">权限与用户数据库角色的关联</h3>
               <div>
                  <p>确保用户仅具有与当前数据库角色关联的权限。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-security-for-application-developers.html#GUID-7DE124D3-67E6-4A69-B4C6-CF058E2623C4">为什么用户应该只拥有当前数据库角色的权限</a><br>单个用户可以使用许多应用程序和相关角色。
                     </li>
                     <li class="ulchildlink"><a href="managing-security-for-application-developers.html#GUID-D9D4B3DB-DD1E-4BCE-BC9B-86968AD1CEC6">使用SET ROLE语句自动启用或禁用角色</a><br>您可以在每个应用程序的开头使用<code class="codeph">SET</code> <code class="codeph">ROLE</code>语句来自动启用其关联角色并禁用所有其他语句。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-security-for-application-developers.html#GUID-245AF418-2349-4657-9010-8C8D7849FD05" title="应用程序开发人员的安全策略应包括密码管理和保护外部过程和应用程序权限等方面。">管理应用程序开发人员的安全性</a></p>
                     </div>
                  </div>
               </div>
               <a id="DBSEG149"></a><div class="props_rev_3"><a id="GUID-7DE124D3-67E6-4A69-B4C6-CF058E2623C4" name="GUID-7DE124D3-67E6-4A69-B4C6-CF058E2623C4"></a><h4 id="DBSEG-GUID-7DE124D3-67E6-4A69-B4C6-CF058E2623C4" class="sect4">为什么用户应该只拥有当前数据库角色的权限</h4>
                  <div>
                     <p>单个用户可以使用许多应用程序和相关角色。</p>
                     <p>但是，您应确保用户仅具有与当前数据库角色关联的权限。</p>
                     <p>请考虑以下情形：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">ORDER</code>角色（对于名为Order的应用程序）包含<code class="codeph">INVENTORY</code>表的<code class="codeph">UPDATE</code>特权。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">INVENTORY</code>角色（对于名为Inventory的应用程序）包含<code class="codeph">INVENTORY</code>表的<code class="codeph">SELECT</code>权限。
                           </p>
                        </li>
                        <li>
                           <p>几个订单输入职员被授予<code class="codeph">ORDER</code>和<code class="codeph">INVENTORY</code>角色。
                           </p>
                        </li>
                     </ul>
                     <p>在此方案中，授予两个角色的订单输入职员可以在运行<code class="codeph">INVENTORY</code>应用程序时使用<code class="codeph">ORDER</code>角色的权限来更新<code class="codeph">INVENTORY</code>表。问题是更新<code class="codeph">INVENTORY</code>表不是<code class="codeph">INVENTORY</code>应用程序的授权操作。这是<code class="codeph">ORDER</code>应用程序的授权操作。要避免此问题，请使用<code class="codeph">SET</code> <code class="codeph">ROLE</code>语句，如以下部分所述。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-security-for-application-developers.html#GUID-1FE77DE6-8950-493C-B10F-13E1A1A33155" title="确保用户仅具有与当前数据库角色关联的权限。">权限与用户数据库角色的关联</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG150"></a><div class="props_rev_3"><a id="GUID-D9D4B3DB-DD1E-4BCE-BC9B-86968AD1CEC6" name="GUID-D9D4B3DB-DD1E-4BCE-BC9B-86968AD1CEC6"></a><h4 id="DBSEG-GUID-D9D4B3DB-DD1E-4BCE-BC9B-86968AD1CEC6" class="sect4">使用SET ROLE语句自动启用或禁用角色</h4>
                  <div>
                     <p>您可以在每个应用程序的开头使用<code class="codeph">SET</code> <code class="codeph">ROLE</code>语句来自动启用其关联角色并禁用所有其他语句。
                     </p>
                     <p>这样，每个应用程序仅在需要时动态地为用户启用特定权限。<code class="codeph">SET</code> <code class="codeph">ROLE</code>语句简化了权限管理。您可以控制用户可以访问的信息以及何时可以访问它们。<code class="codeph">SET</code> <code class="codeph">ROLE</code>语句还使用户在明确定义的权限域中运行。如果用户仅从角色获得权限，则用户无法组合这些权限以执行未经授权的操作。
                     </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="configuring-privilege-and-role-authorization.html#GUID-DAE35DE7-E9AE-4FB5-BD0B-BC0B206F8782" title="权限授予和SET ROLE语句会影响授权和撤销的时间和方式。">如何授予和撤消使用SET ROLE和默认角色设置</a></li>
                           <li><a href="configuring-privilege-and-role-authorization.html#GUID-1193F744-B6D7-40DF-AF11-00DBF50E72B7" title="根据授予或撤销的权限，授予或撤消在不同时间生效。">当授予和撤销生效</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-security-for-application-developers.html#GUID-1FE77DE6-8950-493C-B10F-13E1A1A33155" title="确保用户仅具有与当前数据库角色关联的权限。">权限与用户数据库角色的关联</a></p>
                        </div>
                     </div>
                  </div>
               </div>
            </div><a id="DBSEG151"></a><div class="props_rev_3"><a id="GUID-7B5B46D4-7547-421C-930E-A0C375B60F6D" name="GUID-7B5B46D4-7547-421C-930E-A0C375B60F6D"></a><h3 id="DBSEG-GUID-7B5B46D4-7547-421C-930E-A0C375B60F6D" class="sect3">使用模式保护数据库对象</h3>
               <div>
                  <p>模式是可以包含数据库对象的安全域。授予用户和角色的权限控制对这些数据库对象的访问。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-security-for-application-developers.html#GUID-C3B77A98-D37A-4375-AD73-A3D34A7DB47E">以唯一模式保护数据库对象</a><br>将大多数模式视为用户名：允许用户连接到数据库并访问数据库对象的帐户。
                     </li>
                     <li class="ulchildlink"><a href="managing-security-for-application-developers.html#GUID-FE6286D8-6449-4591-984D-494C9EBD3562">保护共享模式中的数据库对象</a><br>对于许多应用程序，用户只需要访问应用程序模式;他们在数据库中不需要自己的帐户或模式。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-security-for-application-developers.html#GUID-245AF418-2349-4657-9010-8C8D7849FD05" title="应用程序开发人员的安全策略应包括密码管理和保护外部过程和应用程序权限等方面。">管理应用程序开发人员的安全性</a></p>
                     </div>
                  </div>
               </div>
               <a id="DBSEG152"></a><div class="props_rev_3"><a id="GUID-C3B77A98-D37A-4375-AD73-A3D34A7DB47E" name="GUID-C3B77A98-D37A-4375-AD73-A3D34A7DB47E"></a><h4 id="DBSEG-GUID-C3B77A98-D37A-4375-AD73-A3D34A7DB47E" class="sect4">以唯一模式保护数据库对象</h4>
                  <div>
                     <p>将大多数模式视为用户名：允许用户连接到数据库并访问数据库对象的帐户。</p>
                     <div class="section">
                        <p>但是， <span class="italic">唯一模式</span>不允许与数据库的连接，但用于包含一组相关的对象。此类模式是作为典型用户创建的，但未授予<code class="codeph">CREATE</code> <code class="codeph">SESSION</code>系统特权（显式或通过角色）。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>要保护对象，如果要使用<code class="codeph">CREATE</code> <code class="codeph">SCHEMA</code>语句在单个事务中创建多个表和视图，请临时将<code class="codeph">CREATE</code> <code class="codeph">SESSION</code>和<code class="codeph">RESOURCE</code>权限授予唯一模式。
                              </p>
                           </li>
                        </ul>
                        <p>例如，给定的模式可能拥有特定应用程序的模式对象。如果应用程序用户具有执行此操作的权限，则可以使用典型的数据库用户名连接到数据库，并使用应用程序和相应的对象。但是，没有用户可以使用为应用程序设置的架构连接到数据库。此配置可防止通过架构访问关联对象，并为架构对象提供另一层保护。在这种情况下，应用程序可以发出<code class="codeph">ALTER SESSION SET CURRENT_SCHEMA</code>语句以将用户连接到正确的应用程序模式。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-security-for-application-developers.html#GUID-7B5B46D4-7547-421C-930E-A0C375B60F6D" title="模式是可以包含数据库对象的安全域。授予用户和角色的权限控制对这些数据库对象的访问。">使用架构保护数据库对象</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG153"></a><div class="props_rev_3"><a id="GUID-FE6286D8-6449-4591-984D-494C9EBD3562" name="GUID-FE6286D8-6449-4591-984D-494C9EBD3562"></a><h4 id="DBSEG-GUID-FE6286D8-6449-4591-984D-494C9EBD3562" class="sect4">保护共享模式中的数据库对象</h4>
                  <div>
                     <p>对于许多应用程序，用户只需要访问应用程序模式;他们在数据库中不需要自己的帐户或模式。</p>
                     <p>例如，用户John，Firuzeh和Jane都是Payroll应用程序的用户，他们需要访问<code class="codeph">finance</code>数据库中的<code class="codeph">payroll</code>模式。他们都不需要在数据库中创建自己的对象。他们只需要访问<code class="codeph">payroll</code>对象。为解决此问题，Oracle数据库提供了企业用户，这些用户是与架构无关的用户。
                     </p>
                     <p>企业用户（在目录服务中管理的用户）不需要创建为数据库用户，因为他们使用共享数据库架构。要降低管理成本，可以在目录中创建一次企业用户，并将用户指向许多其他企业用户也可以访问的共享模式。</p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-FE6286D8-6449-4591-984D-494C9EBD3562__GUID-6B8F7339-3FB1-44F0-A453-29DA9F9E54BB">
                        <p class="notep1">也可以看看：</p>
                        <p>有关管理企业用户的详细信息，请参见<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/dbseg&amp;id=DBIMI152" target="_blank"><span><cite>“Oracle数据库企业用户安全性管理员指南</cite></span></a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-security-for-application-developers.html#GUID-7B5B46D4-7547-421C-930E-A0C375B60F6D" title="模式是可以包含数据库对象的安全域。授予用户和角色的权限控制对这些数据库对象的访问。">使用架构保护数据库对象</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="DBSEG154"></a><div class="props_rev_3"><a id="GUID-B6289F9C-B043-410B-A586-50A996F055B4" name="GUID-B6289F9C-B043-410B-A586-50A996F055B4"></a><h3 id="DBSEG-GUID-B6289F9C-B043-410B-A586-50A996F055B4" class="sect3">应用程序中的对象权限</h3>
               <div>
                  <p>设计应用程序时，请考虑用户类型和所需的级别访问权限。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-security-for-application-developers.html#GUID-65467219-D4AE-427D-A807-D8CC68B4FF08">哪些应用程序开发人员必须了解对象权限</a><br>对象特权使最终用户能够对表，视图，序列，过程，函数或包等对象执行操作。
                     </li>
                     <li class="ulchildlink"><a href="managing-security-for-application-developers.html#GUID-0424B3DB-93CE-470E-9FBD-6A652DF0F9CB">对象权限允许的SQL语句</a><br>在实施和测试应用程序时，您应该创建每个必要的角色。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-security-for-application-developers.html#GUID-245AF418-2349-4657-9010-8C8D7849FD05" title="应用程序开发人员的安全策略应包括密码管理和保护外部过程和应用程序权限等方面。">管理应用程序开发人员的安全性</a></p>
                     </div>
                  </div>
               </div>
               <a id="DBSEG156"></a><a id="DBSEG155"></a><div class="props_rev_3"><a id="GUID-65467219-D4AE-427D-A807-D8CC68B4FF08" name="GUID-65467219-D4AE-427D-A807-D8CC68B4FF08"></a><h4 id="DBSEG-GUID-65467219-D4AE-427D-A807-D8CC68B4FF08" class="sect4">哪些应用程序开发人员必须了解对象权限</h4>
                  <div>
                     <p>对象特权使最终用户能够对表，视图，序列，过程，函数或包等对象执行操作。</p>
                     <p><a href="managing-security-for-application-developers.html#GUID-65467219-D4AE-427D-A807-D8CC68B4FF08__G1009122" title="此表列出了对象权限（ALTER，DELETE，EXECUTE，INDEX，INSERT，REFERENCES，SELECT和UPDATE）如何应用于表，视图，序列和过程。">表10-3</a>总结了每种对象可用的对象权限。
                     </p>
                     <div class="tblformal" id="GUID-65467219-D4AE-427D-A807-D8CC68B4FF08__G1009122">
                        <p class="titleintable">表10-3权限与架构对象的关系</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="权限与模式对象的关系" width="100%" border="1" summary="This table lists how object privileges (ALTER, DELETE, EXECUTE, INDEX, INSERT, REFERENCES, SELECT, and UPDATE) apply to tables, views, sequences, and procedures." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="24%" id="d78229e6709">对象权限</th>
                                 <th align="left" valign="bottom" width="15%" id="d78229e6712">适用于表？</th>
                                 <th align="left" valign="bottom" width="14%" id="d78229e6715">适用于View？</th>
                                 <th align="left" valign="bottom" width="21%" id="d78229e6718">适用于序列？</th>
                                 <th align="left" valign="bottom" width="26%" id="d78229e6721">适用于程序？（4）</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d78229e6729" headers="d78229e6709 ">
                                    <p><code class="codeph">改变</code></p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d78229e6729 d78229e6712 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d78229e6729 d78229e6715 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d78229e6729 d78229e6718 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="26%" headers="d78229e6729 d78229e6721 ">
                                    <p>没有</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d78229e6746" headers="d78229e6709 ">
                                    <p><code class="codeph">删除</code></p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d78229e6746 d78229e6712 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d78229e6746 d78229e6715 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d78229e6746 d78229e6718 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="26%" headers="d78229e6746 d78229e6721 ">
                                    <p>没有</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d78229e6763" headers="d78229e6709 ">
                                    <p><code class="codeph">执行</code></p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d78229e6763 d78229e6712 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d78229e6763 d78229e6715 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d78229e6763 d78229e6718 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="26%" headers="d78229e6763 d78229e6721 ">
                                    <p>是</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d78229e6780" headers="d78229e6709 ">
                                    <p><code class="codeph">指数</code></p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d78229e6780 d78229e6712 ">
                                    <p id="GUID-65467219-D4AE-427D-A807-D8CC68B4FF08__G1010358">是<a id="fn_5" name="fn_5" href="#fn_5" privilege="" that="" cannot="" be="" granted="" to="" a="" rol=")" ="" onclick="footdisplay(5, "><sup>脚5</sup></a></p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d78229e6780 d78229e6715 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d78229e6780 d78229e6718 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="26%" headers="d78229e6780 d78229e6721 ">
                                    <p>没有</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d78229e6800" headers="d78229e6709 ">
                                    <p><code class="codeph">插入</code></p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d78229e6800 d78229e6712 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d78229e6800 d78229e6715 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d78229e6800 d78229e6718 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="26%" headers="d78229e6800 d78229e6721 ">
                                    <p>没有</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d78229e6817" headers="d78229e6709 ">
                                    <p><code class="codeph">参考</code></p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d78229e6817 d78229e6712 ">
                                    <p>是<a href="managing-security-for-application-developers.html#GUID-65467219-D4AE-427D-A807-D8CC68B4FF08__G1010358">是（5）</a></p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d78229e6817 d78229e6715 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d78229e6817 d78229e6718 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="26%" headers="d78229e6817 d78229e6721 ">
                                    <p>没有</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d78229e6836" headers="d78229e6709 ">
                                    <p><code class="codeph">选择</code></p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d78229e6836 d78229e6712 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d78229e6836 d78229e6715 ">
                                    <p>是<a id="fn_6" name="fn_6" href="#fn_6" can="" also="" be="" granted="" for="" snapshot=")" ="" onclick="footdisplay(6, "><sup>脚6</sup></a></p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d78229e6836 d78229e6718 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="26%" headers="d78229e6836 d78229e6721 ">
                                    <p>没有</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="24%" id="d78229e6856" headers="d78229e6709 ">
                                    <p><code class="codeph">UPDATE</code></p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d78229e6856 d78229e6712 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d78229e6856 d78229e6715 ">
                                    <p>是</p>
                                 </td>
                                 <td align="left" valign="top" width="21%" headers="d78229e6856 d78229e6718 ">
                                    <p>没有</p>
                                 </td>
                                 <td align="left" valign="top" width="26%" headers="d78229e6856 d78229e6721 ">
                                    <p>没有</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p class="tablefootnote"><sup class="tablefootnote">脚注4</sup>独立存储过程，函数和公共包构造</p>
                     <p class="tablefootnote"><sup class="tablefootnote">脚注5</sup></p><p>无法授予角色的权限</p>
                     <p></p>
                     <p class="tablefootnote"><sup class="tablefootnote">脚注6</sup></p><p>也可以为快照授予权限</p>
                     <p></p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="configuring-audit-policies.html#GUID-12B6375C-25F7-46A9-BA03-4714BFAC6056" title="您可以使用CREATE AUDIT POLICY语句来审核对象操作。">审核对象操作</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-security-for-application-developers.html#GUID-B6289F9C-B043-410B-A586-50A996F055B4" title="设计应用程序时，请考虑用户类型和所需的级别访问权限。">应用程序中的对象权限</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="DBSEG158"></a><a id="DBSEG157"></a><div class="props_rev_3"><a id="GUID-0424B3DB-93CE-470E-9FBD-6A652DF0F9CB" name="GUID-0424B3DB-93CE-470E-9FBD-6A652DF0F9CB"></a><h4 id="DBSEG-GUID-0424B3DB-93CE-470E-9FBD-6A652DF0F9CB" class="sect4">对象权限允许的SQL语句</h4>
                  <div>
                     <p>在实施和测试应用程序时，您应该创建每个必要的角色。</p>
                     <p>测试每个角色的使用方案，以确保应用程序的用户具有对数据库的适当访问权限。完成测试后，与应用程序的管理员协调，以确保为每个用户分配适当的角色。</p>
                     <p><a href="managing-security-for-application-developers.html#GUID-0424B3DB-93CE-470E-9FBD-6A652DF0F9CB__G1009180" title="此表列出了以下数据库对象特权允许的SQL语句：ALTER，DELETE，EXECUTE，INDEX，INSERT，REFERENCES和SELECT。">表10-4</a>列出了<a href="managing-security-for-application-developers.html#GUID-65467219-D4AE-427D-A807-D8CC68B4FF08__G1009122" title="此表列出了对象权限（ALTER，DELETE，EXECUTE，INDEX，INSERT，REFERENCES，SELECT和UPDATE）如何应用于表，视图，序列和过程。">表10-3中</a>显示的对象权限所允许的SQL语句。
                     </p>
                     <div class="tblformal" id="GUID-0424B3DB-93CE-470E-9FBD-6A652DF0F9CB__G1009180">
                        <p class="titleintable">表10-4数据库对象权限允许的SQL语句</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="数据库对象权限允许的SQL语句" width="100%" border="1" summary="This table lists the SQL statements that are permitted by the following database object privileges: ALTER, DELETE, EXECUTE, INDEX, INSERT, REFERENCES, and SELECT." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d78229e7044">对象权限</th>
                                 <th align="left" valign="bottom" width="69%" id="d78229e7047">允许的SQL语句</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d78229e7052" headers="d78229e7044 ">
                                    <p><code class="codeph">改变</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d78229e7052 d78229e7047 ">
                                    <p><code class="codeph">ALTER</code>对象（表或序列）</p>
                                    <p><code class="codeph">ON</code>对象上<code class="codeph">CREATE</code> <code class="codeph">TRIGGER</code> （仅限表格）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d78229e7072" headers="d78229e7044 ">
                                    <p><code class="codeph">删除</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d78229e7072 d78229e7047 ">
                                    <p><code class="codeph">DELETE</code> <code class="codeph">FROM</code>对象（表，视图或同义词）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d78229e7085" headers="d78229e7044 ">
                                    <p><code class="codeph">执行</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d78229e7085 d78229e7047 ">
                                    <p><code class="codeph">EXECUTE</code>对象（过程或函数）</p>
                                    <p>对公共包变量的引用</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d78229e7097" headers="d78229e7044 ">
                                    <p><code class="codeph">指数</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d78229e7097 d78229e7047 ">
                                    <p><code class="codeph">CREATE</code> <code class="codeph">INDEX</code> <code class="codeph">ON</code>对象（表，视图或同义词）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d78229e7113" headers="d78229e7044 ">
                                    <p><code class="codeph">插入</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d78229e7113 d78229e7047 ">
                                    <p><code class="codeph">INSERT</code> <code class="codeph">INTO</code>对象（表，视图或同义词）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d78229e7126" headers="d78229e7044 ">
                                    <p><code class="codeph">参考</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d78229e7126 d78229e7047 ">
                                    <p>在对象上定义<code class="codeph">FOREIGN</code> <code class="codeph">KEY</code>完整性约束的<code class="codeph">CREATE</code>或<code class="codeph">ALTER</code> <code class="codeph">TABLE</code>语句（仅限表）</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d78229e7148" headers="d78229e7044 ">
                                    <p><code class="codeph">选择</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d78229e7148 d78229e7047 ">
                                    <p><code class="codeph">SELECT</code> ......<code class="codeph">FROM</code>对象（表，视图，同义词或快照）</p>
                                    <p>使用序列的SQL语句</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="configuring-privilege-and-role-authorization.html#GUID-1D92E7C3-FA55-401F-98FA-86357D98C031" title="授权仅允许某些用户访问，处理或更改数据;它还会对用户访问或操作造成限制。">关于特权和角色</a></li>
                           <li><a href="configuring-audit-policies.html#GUID-12B6375C-25F7-46A9-BA03-4714BFAC6056" title="您可以使用CREATE AUDIT POLICY语句来审核对象操作。">审核对象操作</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-security-for-application-developers.html#GUID-B6289F9C-B043-410B-A586-50A996F055B4" title="设计应用程序时，请考虑用户类型和所需的级别访问权限。">应用程序中的对象权限</a></p>
                        </div>
                     </div>
                  </div>
               </div>
            </div><a id="DBSEG0058"></a><div class="props_rev_3"><a id="GUID-98EEE057-D2F9-4D97-A5B9-0295F5423E03" name="GUID-98EEE057-D2F9-4D97-A5B9-0295F5423E03"></a><h3 id="DBSEG-GUID-98EEE057-D2F9-4D97-A5B9-0295F5423E03" class="sect3">增强数据库通信安全性的参数</h3>
               <div>
                  <p>参数可用于管理安全性，例如处理来自协议错误的错误数据包或配置最大数量的身份验证错误。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-security-for-application-developers.html#GUID-682F7371-8760-438A-A3F6-BA1A1640E514">协议错误在数据库上收到的错误数据包</a><br><code class="codeph">SEC_PROTOCOL_ERROR_TRACE_ACTION</code>初始化参数控制在生成协议错误时如何管理跟踪文件。
                     </li>
                     <li class="ulchildlink"><a href="managing-security-for-application-developers.html#GUID-FB898BD6-9F21-4BD7-8EA7-9EABBEB5146F">接收到错误的数据包后控制服务器执行</a><br><code class="codeph">SEC_PROTOCOL_ERROR_FURTHER_ACTION</code>初始化参数控制服务器收到错误数据包后的服务器执行。
                     </li>
                     <li class="ulchildlink"><a href="managing-security-for-application-developers.html#GUID-994A09FB-7D7A-44BC-9757-EAA6232CC3BA">配置最大认证尝试次数</a><br><code class="codeph">SEC_MAX_FAILED_LOGIN_ATTEMPTS</code>初始化参数设置数据库丢弃失败连接之前的身份验证尝试次数。
                     </li>
                     <li class="ulchildlink"><a href="managing-security-for-application-developers.html#GUID-414D9E66-F458-4C81-AC8D-CCA251396970">配置数据库版本横幅的显示</a><br><code class="codeph">SEC_RETURN_SERVER_RELEASE_BANNER</code>初始化参数可用于防止在身份验证期间显示详细的产品信息。
                     </li>
                     <li class="ulchildlink"><a href="managing-security-for-application-developers.html#GUID-DF21EC92-B86A-4431-852B-CF37F75AF26F">为未经授权的访问和审核用户操作配置横幅</a><br><code class="codeph">SEC_USER_UNAUTHORIZED_ACCESS_BANNER</code>和<code class="codeph">SEC_USER_AUDIT_ACTION_BANNER</code>初始化参数控制用于未授权访问和审核用户的横幅显示。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="managing-security-for-application-developers.html#GUID-245AF418-2349-4657-9010-8C8D7849FD05" title="应用程序开发人员的安全策略应包括密码管理和保护外部过程和应用程序权限等方面。">管理应用程序开发人员的安全性</a></p>
                     </div>
                  </div>
               </div>
               <a id="DBSEG159"></a><div class="props_rev_3"><a id="GUID-682F7371-8760-438A-A3F6-BA1A1640E514" name="GUID-682F7371-8760-438A-A3F6-BA1A1640E514"></a><h4 id="DBSEG-GUID-682F7371-8760-438A-A3F6-BA1A1640E514" class="sect4">协议错误在数据库上收到的错误数据包</h4>
                  <div>
                     <p><code class="codeph">SEC_PROTOCOL_ERROR_TRACE_ACTION</code>初始化参数控制在生成协议错误时如何管理跟踪文件。
                     </p>
                     <p>当服务器收到错误数据包，无序数据包或私有数据包时，网络通信实用程序（如Oracle调用接口（OCI）或双任务通用（TTC））可生成包含堆栈跟踪和堆转储的大型磁盘文件或未使用的远程过程调用。</p>
                     <p>通常，此磁盘文件可能会变得非常大。入侵者可能通过反复向服务器发送错误数据包来瘫痪系统，这可能导致磁盘泛滥和拒绝服务（DOS）攻击。未经身份验证的客户端也可以安装此类攻击。</p>
                     <p>您可以通过将<code class="codeph">SEC_PROTOCOL_ERROR_TRACE_ACTION</code>初始化参数设置为以下值之一来防止这些攻击：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">None</code> ：配置服务器忽略坏数据包，不生成任何跟踪文件或日志消息。如果服务器可用性比知道正在接收坏数据包更重要，请使用此设置。
                           </p>
                           <p>例如：</p><pre class="oac_no_warn" dir="ltr">SEC_PROTOCOL_ERROR_TRACE_ACTION =无</pre></li>
                        <li>
                           <p><code class="codeph">Trace</code> （默认设置）：创建跟踪文件，但它对于调试目的很有用，例如，当网络客户端由于错误而发送错误数据包时。
                           </p>
                           <p>例如：</p><pre class="oac_no_warn" dir="ltr">SEC_PROTOCOL_ERROR_TRACE_ACTION =跟踪</pre></li>
                        <li>
                           <p><code class="codeph">Log</code> ：将简短的单行消息写入服务器跟踪文件。此选择可在某种程度的审核与系统可用性之间取得平衡。
                           </p>
                           <p>例如：</p><pre class="oac_no_warn" dir="ltr">SEC_PROTOCOL_ERROR_TRACE_ACTION =日志</pre></li>
                        <li>
                           <p><code class="codeph">Alert</code> ：向数据库管理员或监视控制台发送警报消息。
                           </p>
                           <p>例如：</p><pre class="oac_no_warn" dir="ltr">SEC_PROTOCOL_ERROR_TRACE_ACTION =提醒</pre></li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-security-for-application-developers.html#GUID-98EEE057-D2F9-4D97-A5B9-0295F5423E03" title="参数可用于管理安全性，例如处理来自协议错误的错误数据包或配置最大数量的身份验证错误。">增强数据库通信安全性的参数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG160"></a><div class="props_rev_3"><a id="GUID-FB898BD6-9F21-4BD7-8EA7-9EABBEB5146F" name="GUID-FB898BD6-9F21-4BD7-8EA7-9EABBEB5146F"></a><h4 id="DBSEG-GUID-FB898BD6-9F21-4BD7-8EA7-9EABBEB5146F" class="sect4">接收到错误的数据包后控制服务器执行</h4>
                  <div>
                     <p><code class="codeph">SEC_PROTOCOL_ERROR_FURTHER_ACTION</code>初始化参数控制服务器收到错误数据包后的服务器执行。
                     </p>
                     <div class="section">Oracle数据库检测到客户端或服务器协议错误后，必须继续执行。但是，这可能会使服务器受到更多错误的数据包，这可能导致磁盘泛滥或拒绝服务攻击。</div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>要在从潜在恶意客户端接收错误数据包时控制服务器进程的进一步执行，请将<code class="codeph">SEC_PROTOCOL_ERROR_FURTHER_ACTION</code>初始化参数设置为以下值之一：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">Continue</code> ：继续执行服务器。但是，请注意服务器可能会受到进一步的攻击。
                                    </p>
                                    <p>例如：</p><pre class="oac_no_warn" dir="ltr">SEC_PROTOCOL_ERROR_FURTHER_ACTION =继续</pre></li>
                                 <li>
                                    <p><code class="codeph">(Delay,</code> <span class="italic"><code class="codeph">m</code></span> <code class="codeph">)</code> ：在服务器接受来自同一客户端连接的下一个请求之前<span class="italic"><code class="codeph">m</code></span>秒延迟客户端。此设置可防止恶意客户端过度使用服务器资源，而合法客户端会遇到性能下降但可以继续运行。输入此设置时，请将其括在括号中。
                                    </p>
                                    <p>例如：</p><pre class="oac_no_warn" dir="ltr">SEC_PROTOCOL_ERROR_FURTHER_ACTION =（延迟，3）</pre><p>如果使用<code class="codeph">ALTER SYSTEM</code>或<code class="codeph">ALTER SESSION</code> SQL语句设置<code class="codeph">SEC_PROTOCOL_ERROR_FURTHER_ACTION</code> ，则必须将<code class="codeph">Delay</code>设置括在单引号或双引号中。
                                    </p><pre class="oac_no_warn" dir="ltr">ALTER SYSTEM SEC_PROTOCOL_ERROR_FURTHER_ACTION ='（延迟，3）';</pre></li>
                                 <li>
                                    <p><code class="codeph">(Drop,</code> <span class="italic"><code class="codeph">n</code></span> <code class="codeph">)</code> ：在<span class="italic"><code class="codeph">n</code></span>坏包之后强制终止客户端连接。此设置使服务器能够以牺牲客户端为代价来保护自己，例如，丢失事务。但是，客户端仍然可以重新连接，并再次尝试相同的操作。将此设置括在括号中。<code class="codeph">SEC_PROTOCOL_ERROR_FURTHER_ACTION</code>的默认值为<code class="codeph">(Drop,3)</code> 。
                                    </p>
                                    <p>例如：</p><pre class="oac_no_warn" dir="ltr">SEC_PROTOCOL_ERROR_FURTHER_ACTION =（掉落，10）</pre><p>与<code class="codeph">Delay</code>设置类似，如果使用<code class="codeph">ALTER SYSTEM</code>或<code class="codeph">ALTER SESSION</code>更改此设置，则必须将<code class="codeph">Drop</code>设置括在单引号或双引号中。
                                    </p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-security-for-application-developers.html#GUID-98EEE057-D2F9-4D97-A5B9-0295F5423E03" title="参数可用于管理安全性，例如处理来自协议错误的错误数据包或配置最大数量的身份验证错误。">增强数据库通信安全性的参数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG161"></a><div class="props_rev_3"><a id="GUID-994A09FB-7D7A-44BC-9757-EAA6232CC3BA" name="GUID-994A09FB-7D7A-44BC-9757-EAA6232CC3BA"></a><h4 id="DBSEG-GUID-994A09FB-7D7A-44BC-9757-EAA6232CC3BA" class="sect4">配置最大认证尝试次数</h4>
                  <div>
                     <p><code class="codeph">SEC_MAX_FAILED_LOGIN_ATTEMPTS</code>初始化参数设置数据库丢弃失败连接之前的身份验证尝试次数。
                     </p>
                     <p>作为连接创建的一部分，侦听器启动服务器进程并将其附加到客户端。使用此物理连接，客户端可以验证连接。服务器进程启动后，客户端将使用此服务器进程进行身份验证。入侵者可以启动服务器进程，然后使用不同的用户名和密码发出无限数量的经过身份验证的请求，以尝试访问数据库。</p>
                     <p>您可以通过设置<code class="codeph">SEC_MAX_FAILED_LOGIN_ATTEMPTS</code>初始化参数来限制连接上的身份验证尝试次数来限制应用程序连接的登录尝试失败次数。在指定数量的身份验证尝试失败后，数据库进程将断开连接，并终止服务器进程。默认情况下， <code class="codeph">SEC_MAX_FAILED_LOGIN_ATTEMPTS</code>设置为<code class="codeph">3</code> 。
                     </p>
                     <p>请记住， <code class="codeph">SEC_MAX_FAILED_LOGIN_ATTEMPTS</code>初始化参数旨在防止潜在的入侵者攻击您的应用程序，以及忘记密码的有效用户。<code class="codeph">sqlnet.ora</code> <code class="codeph">INBOUND_CONNECT_TIMEOUT</code>参数和<code class="codeph">FAILED_LOGIN_ATTEMPTS</code>配置文件参数也限制了失败的登录，但区别在于这两个参数仅适用于有效的用户帐户。
                     </p>
                     <p>例如，要将最大尝试次数限制为5，请在<code class="codeph">init</code> <span class="italic"><code class="codeph">sid</code></span> <code class="codeph">.ora</code>初始化参数文件中如下设置<code class="codeph">SEC_MAX_FAILED_LOGIN_ATTEMPTS</code> ：</p><pre class="oac_no_warn" dir="ltr">SEC_MAX_FAILED_LOGIN_ATTEMPTS = 5</pre></div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-security-for-application-developers.html#GUID-98EEE057-D2F9-4D97-A5B9-0295F5423E03" title="参数可用于管理安全性，例如处理来自协议错误的错误数据包或配置最大数量的身份验证错误。">增强数据库通信安全性的参数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG162"></a><div class="props_rev_3"><a id="GUID-414D9E66-F458-4C81-AC8D-CCA251396970" name="GUID-414D9E66-F458-4C81-AC8D-CCA251396970"></a><h4 id="DBSEG-GUID-414D9E66-F458-4C81-AC8D-CCA251396970" class="sect4">配置数据库版本横幅的显示</h4>
                  <div>
                     <p><code class="codeph">SEC_RETURN_SERVER_RELEASE_BANNER</code>初始化参数可用于防止在身份验证期间显示详细的产品信息。
                     </p>
                     <div class="section">
                        <p>在验证客户端连接（包括Oracle Call Interface客户端）之前，不应访问详细的产品版本信息。入侵者可以使用数据库版本来查找有关数据库软件中可能存在的安全漏洞的信息。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>要将数据库版本<code class="codeph">SEC_RETURN_SERVER_RELEASE_BANNER</code>的显示限制为未经身份验证的客户端，请将<code class="codeph">init</code> <span class="italic"><code class="codeph">sid</code></span> <code class="codeph">.ora</code>初始化参数文件中的<code class="codeph">SEC_RETURN_SERVER_RELEASE_BANNER</code>初始化参数设置为<code class="codeph">TRUE</code>或<code class="codeph">FALSE</code> 。</p>
                              <p>默认情况下， <code class="codeph">SEC_RETURN_SERVER_RELEASE_BANNER</code>设置为<code class="codeph">FALSE</code> 。</p>
                           </li>
                        </ul>
                        <p>例如，如果将其设置为<code class="codeph">TRUE</code> ，则Oracle数据库将显示完整正确的数据库版本。例如，对于版本19.1.0.0：</p><pre class="oac_no_warn" dir="ltr">Oracle Database 19c企业版19.1.0.0版 - 生产</pre><p>如果版本号使用点释放表示法（例如，Oracle Database Release 19.1.0.1），则横幅显示如下：</p><pre class="oac_no_warn" dir="ltr">Oracle Database 19c企业版版本19.1.0.1  - 生产</pre><p>但是，如果在同一版本中将其设置为<code class="codeph">NO</code> ，则Oracle数据库会限制横幅显示以版本19.1开头的以下固定文本，而不是19.1.0.1是19.1.0.0.0：</p><pre class="oac_no_warn" dir="ltr">Oracle Database 19c版本19.1.0.0.0  - 生产</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-security-for-application-developers.html#GUID-98EEE057-D2F9-4D97-A5B9-0295F5423E03" title="参数可用于管理安全性，例如处理来自协议错误的错误数据包或配置最大数量的身份验证错误。">增强数据库通信安全性的参数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="DBSEG163"></a><div class="props_rev_3"><a id="GUID-DF21EC92-B86A-4431-852B-CF37F75AF26F" name="GUID-DF21EC92-B86A-4431-852B-CF37F75AF26F"></a><h4 id="DBSEG-GUID-DF21EC92-B86A-4431-852B-CF37F75AF26F" class="sect4">为未经授权的访问和审核用户操作配置横幅</h4>
                  <div>
                     <p><code class="codeph">SEC_USER_UNAUTHORIZED_ACCESS_BANNER</code>和<code class="codeph">SEC_USER_AUDIT_ACTION_BANNER</code>初始化参数控制用于未授权访问和审核用户的横幅显示。
                     </p>
                     <div class="section">
                        <p>您应该创建和配置横幅以警告用户未经授权的访问以及可能的用户操作审核。客户端应用程序登录数据库时可以使用这些通知。</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>要配置要显示的这些横幅，请在数据库服务器端设置以下<code class="codeph">sqlnet.ora</code>参数，使其指向包含横幅信息的文本文件：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">SEC_USER_UNAUTHORIZED_ACCESS_BANNER</code> 。例如：</p><pre class="oac_no_warn" dir="ltr">SEC_USER_UNAUTHORIZED_ACCESS_BANNER = /opt/Oracle/12c/dbs/unauthaccess.txt</pre></li>
                                 <li>
                                    <p><code class="codeph">SEC_USER_AUDIT_ACTION_BANNER</code> 。例如：</p><pre class="oac_no_warn" dir="ltr">SEC_USER_AUDIT_ACTION_BANNER = /opt/Oracle/12c/dbs/auditactions.txt</pre></li>
                              </ul>
                           </li>
                        </ul>
                        <p>默认情况下，不设置这些参数。此外，请注意，横幅文本使用的字符数有512字节的限制。</p>
                        <p>设置这些参数后，Oracle Call Interface应用程序必须使用适当的OCI API来检索这些横幅并将其呈现给最终用户。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="managing-security-for-application-developers.html#GUID-98EEE057-D2F9-4D97-A5B9-0295F5423E03" title="参数可用于管理安全性，例如处理来自协议错误的错误数据包或配置最大数量的身份验证错误。">增强数据库通信安全性的参数</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
         </div>
      </article>
   </body>
</html>