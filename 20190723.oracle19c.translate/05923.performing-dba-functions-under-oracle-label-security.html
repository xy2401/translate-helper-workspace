<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Oracle Label Security supports the standard Oracle Database utilities, but certain restrictions apply, which may require extra steps to get the expected results."></meta>
      <meta name="description" content="Oracle Label Security supports the standard Oracle Database utilities, but certain restrictions apply, which may require extra steps to get the expected results."></meta>
      <title>在Oracle Label Security下执行DBA功能</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Administrator&#39;s Guide"></meta>
      <meta property="og:description" content="Oracle Label Security supports the standard Oracle Database utilities, but certain restrictions apply, which may require extra steps to get the expected results."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Administrator&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="label-security-administrators-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-11T09:39:52-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2006, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96303-05"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="using-oracle-label-security-with-a-distributed-database.html" title="Previous" type="text/html"></link>
      <link rel="next" href="releasability-using-inverse-groups.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Label Security Administrator&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="OLSAG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="using-oracle-label-security-with-a-distributed-database.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="releasability-using-inverse-groups.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">管理员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="part3.html" property="item" typeof="WebPage"><span property="name">管理Oracle Label Security应用程序</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">在Oracle Label Security下执行DBA功能</li>
            </ol>
            <a id="GUID-C56D67AE-BE02-47C4-915F-8D56E0CE972D" name="GUID-C56D67AE-BE02-47C4-915F-8D56E0CE972D"></a><a id="OLSAG3416"></a>
            
            <h2 id="OLSAG-GUID-C56D67AE-BE02-47C4-915F-8D56E0CE972D" class="sect2"><span class="enumeration_chapter">15</span>在Oracle Label Security下执行DBA功能</h2>
         </header>
         <div class="ind">
            <div>
               <p>Oracle Label Security支持标准的Oracle数据库实用程序，但适用某些限制，这可能需要额外的步骤才能获得预期的结果。</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="performing-dba-functions-under-oracle-label-security.html#GUID-A55AFF2A-8023-4BA3-89ED-936F4683E526">Oracle Data Pump导出与Oracle Label Security一起使用</a><br>Oracle Data Pump支持从一个数据库到另一个数据库的高速数据和元数据移动。
                  </li>
                  <li class="ulchildlink"><a href="performing-dba-functions-under-oracle-label-security.html#GUID-DD40309D-876E-4CA6-B500-CCB6F6120BBC">数据泵导入与Oracle Label Security一起使用</a><br>Oracle Data Pump支持从一个数据库到另一个数据库的高速数据和元数据移动。
                  </li>
                  <li class="ulchildlink"><a href="performing-dba-functions-under-oracle-label-security.html#GUID-15D0874D-25CF-473C-99A2-E81B8AA2B027">SQL * Loader与Oracle Label Security一起使用</a><br>SQL * Loader将数据从外部文件移动到Oracle数据库中的表中。
                  </li>
                  <li class="ulchildlink"><a href="performing-dba-functions-under-oracle-label-security.html#GUID-455A7577-4A87-4BC9-84B4-B4B2CE134A84">Oracle Label Security的性能提示</a><br>您可以使用Oracle Label Security实现最佳性能。
                  </li>
                  <li class="ulchildlink"><a href="performing-dba-functions-under-oracle-label-security.html#GUID-0670C065-7168-4A89-88A0-73B6ACD12469">安装后创建其他数据库</a><br>安装Oracle Label Security后，可以创建和配置其他数据库。
                  </li>
                  <li class="ulchildlink"><a href="performing-dba-functions-under-oracle-label-security.html#GUID-29CC4255-87FA-49A7-9B2C-B0C53E13A36C">Oracle Label Security升级和降级</a><br>您应该了解如何管理Oracle Label Security升级和降级。
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="part3.html" title="第IV部分介绍了如何管理Oracle Label Security应用程序。">管理Oracle Label Security应用程序</a></p>
                  </div>
               </div>
            </div>
            <a id="OLSAG3417"></a><div class="props_rev_3"><a id="GUID-A55AFF2A-8023-4BA3-89ED-936F4683E526" name="GUID-A55AFF2A-8023-4BA3-89ED-936F4683E526"></a><h3 id="OLSAG-GUID-A55AFF2A-8023-4BA3-89ED-936F4683E526" class="sect3">Oracle Data Pump导出与Oracle Label Security一起使用</h3>
               <div>
                  <p>Oracle Data Pump支持从一个数据库到另一个数据库的高速数据和元数据移动。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="performing-dba-functions-under-oracle-label-security.html#GUID-DDCBC9AF-0590-410A-8DD2-313BFF461FCF">完整数据库导出</a><br>与Oracle数据库<span class="italic">12c的</span>开始，在Oracle标签安全性元数据<code class="codeph">LBACSYS</code>模式可以做一个完整的数据库导出和导入操作时，被包括在内。
                     </li>
                     <li class="ulchildlink"><a href="performing-dba-functions-under-oracle-label-security.html#GUID-C34DA23C-39FD-4132-ABE2-228F929477D2">架构和表级导出</a><br>Data Pump导出实用程序在Oracle Label Security下以标准方式运行。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="performing-dba-functions-under-oracle-label-security.html#GUID-C56D67AE-BE02-47C4-915F-8D56E0CE972D" title="Oracle Label Security支持标准的Oracle数据库实用程序，但适用某些限制，这可能需要额外的步骤才能获得预期的结果。">在Oracle Label Security下执行DBA功能</a></p>
                     </div>
                  </div>
               </div>
               <a id="OLSAG3673"></a><div class="props_rev_3"><a id="GUID-DDCBC9AF-0590-410A-8DD2-313BFF461FCF" name="GUID-DDCBC9AF-0590-410A-8DD2-313BFF461FCF"></a><h4 id="OLSAG-GUID-DDCBC9AF-0590-410A-8DD2-313BFF461FCF" class="sect4">完整数据库导出</h4>
                  <div>
                     <p>与Oracle数据库<span class="italic">12c的</span>开始，在Oracle标签安全性元数据<code class="codeph">LBACSYS</code>模式可以做一个完整的数据库导出和导入操作时，被包括在内。
                     </p>
                     <p>源数据库可以是Oracle Database <span class="italic">11g第</span> 2版（11.2.0.3）或更高版本，但目标数据库必须是Oracle Database 12 <span class="italic">c</span>或更高版本。
                     </p>
                     <p>在目标数据库上启动Data Pump导入之前，必须启用Oracle Label Security。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-dba-functions-under-oracle-label-security.html#GUID-A55AFF2A-8023-4BA3-89ED-936F4683E526" title="Oracle Data Pump支持从一个数据库到另一个数据库的高速数据和元数据移动。">Oracle Data Pump导出与Oracle Label Security一起使用</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="OLSAG3674"></a><div class="props_rev_3"><a id="GUID-C34DA23C-39FD-4132-ABE2-228F929477D2" name="GUID-C34DA23C-39FD-4132-ABE2-228F929477D2"></a><h4 id="OLSAG-GUID-C34DA23C-39FD-4132-ABE2-228F929477D2" class="sect4">架构和表级导出</h4>
                  <div>
                     <p>Data Pump导出实用程序在Oracle Label Security下以标准方式运行。</p>
                     <p>但是，执行Oracle Label Security策略会产生一些差异。</p>
                     <div class="infoboxnote" id="GUID-C34DA23C-39FD-4132-ABE2-228F929477D2__GUID-4C5D94C0-EFA1-4CF7-9EF5-4D34559D886F">
                        <p class="notep1">注意：</p>
                        <p>您必须具有<code class="codeph">EXEMPT ACCESS POLICY</code>权限才能导出表中的所有行，否则不会导出任何行。
                        </p>
                     </div>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>对于受Oracle Label Security策略保护的任何表，仅导出具有授权进行读访问的标签的行。导出文件中不包含未经授权的行。因此，要导出受保护表中的所有数据，您必须具有可为您提供完全访问权限的权限（例如<code class="codeph">FULL</code>或<code class="codeph">READ</code> ）。
                           </p>
                        </li>
                        <li>
                           <p>重新应用策略的SQL语句与导出的表和模式一起导出。这些语句在导入期间执行，以使用与原始数据库中相同的强制选项重新应用策略。</p>
                        </li>
                        <li>
                           <p>不会导出<code class="codeph">HIDE</code>属性。导出受保护的表时，还会导出这些表中的标签列（作为数值）。但是，如果隐藏了标签列，则会将其导出为普通的未隐藏列。
                           </p>
                        </li>
                        <li>
                           <p>用户必须具有<code class="codeph">EXEMPT ACCESS POLICY</code>才能导出表中的所有行，否则不会导出任何行。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-dba-functions-under-oracle-label-security.html#GUID-A55AFF2A-8023-4BA3-89ED-936F4683E526" title="Oracle Data Pump支持从一个数据库到另一个数据库的高速数据和元数据移动。">Oracle Data Pump导出与Oracle Label Security一起使用</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="OLSAG3419"></a><div class="props_rev_3"><a id="GUID-DD40309D-876E-4CA6-B500-CCB6F6120BBC" name="GUID-DD40309D-876E-4CA6-B500-CCB6F6120BBC"></a><h3 id="OLSAG-GUID-DD40309D-876E-4CA6-B500-CCB6F6120BBC" class="sect3">数据泵导入与Oracle Label Security一起使用</h3>
               <div>
                  <p>Oracle Data Pump支持从一个数据库到另一个数据库的高速数据和元数据移动。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="performing-dba-functions-under-oracle-label-security.html#GUID-08481322-AAFA-41BD-BE6B-AD142F65D6BA">LBACSYS模式元数据的完整数据库导入</a><br>执行完整数据库导出和导入操作时，可以包含<code class="codeph">LBACSYS</code>模式中的Oracle Label Security元数据。
                     </li>
                     <li class="ulchildlink"><a href="performing-dba-functions-under-oracle-label-security.html#GUID-647B919D-C858-49E8-A58F-3D9C7EE67A33">架构和表级导入</a><br>您可以使用Oracle Label Security下的Oracle Data Pump Import实用程序功能。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="performing-dba-functions-under-oracle-label-security.html#GUID-C56D67AE-BE02-47C4-915F-8D56E0CE972D" title="Oracle Label Security支持标准的Oracle数据库实用程序，但适用某些限制，这可能需要额外的步骤才能获得预期的结果。">在Oracle Label Security下执行DBA功能</a></p>
                     </div>
                  </div>
               </div>
               <a id="OLSAG3675"></a><div class="props_rev_3"><a id="GUID-08481322-AAFA-41BD-BE6B-AD142F65D6BA" name="GUID-08481322-AAFA-41BD-BE6B-AD142F65D6BA"></a><h4 id="OLSAG-GUID-08481322-AAFA-41BD-BE6B-AD142F65D6BA" class="sect4">LBACSYS模式元数据的完整数据库导入</h4>
                  <div>
                     <p>执行完整数据库导出和导入操作时，可以包含<code class="codeph">LBACSYS</code>模式中的Oracle Label Security元数据。
                     </p>
                     <p>源数据库可以是Oracle Database <span class="italic">11g第</span> 2版（11.2.0.3）或更高版本，但目标数据库必须是Oracle Database 12 <span class="italic">c第</span> 1版（12.1）或更高版本。
                     </p>
                     <p>Oracle Data Pump导入实用程序<code class="codeph">impdp</code>自动导入Label Security元数据，包括策略，标签，用户授权，架构和表策略强制实施。在开始导入操作之前，必须为目标数据库注册并启用Oracle Label Security。
                     </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="getting-started-with-oracle-label-security.html#GUID-4B228EB5-A092-4D0F-9EFB-C2109D3BD85D" title="您可以查询DBA_OLS_STATUS和CDB_OLS_STATUS数据字典视图，以查找是否已注册并启用了Oracle Label Security。">检查Oracle Label Security是否已注册并已启用</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-dba-functions-under-oracle-label-security.html#GUID-DD40309D-876E-4CA6-B500-CCB6F6120BBC" title="Oracle Data Pump支持从一个数据库到另一个数据库的高速数据和元数据移动。">数据泵导入与Oracle Label Security一起使用</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="OLSAG3676"></a><div class="props_rev_3"><a id="GUID-647B919D-C858-49E8-A58F-3D9C7EE67A33" name="GUID-647B919D-C858-49E8-A58F-3D9C7EE67A33"></a><h4 id="OLSAG-GUID-647B919D-C858-49E8-A58F-3D9C7EE67A33" class="sect4">架构和表级导入</h4>
                  <div>
                     <p>您可以使用Oracle Label Security下的Oracle Data Pump Import实用程序功能。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="performing-dba-functions-under-oracle-label-security.html#GUID-4F9E1500-D6A7-438A-89CE-57195296CE25">Oracle Label Security下的导入要求</a><br>您可以在Oracle Label Security下使用<code class="codeph">impdp</code> 。
                        </li>
                        <li class="ulchildlink"><a href="performing-dba-functions-under-oracle-label-security.html#GUID-61D9E1E0-DAC2-49BA-A1F4-4D19561DCACC">导入数据标签的定义</a><br>导入时的标签定义必须包括导出文件中使用的所有策略标签。
                        </li>
                        <li class="ulchildlink"><a href="performing-dba-functions-under-oracle-label-security.html#GUID-47BFBCCC-388F-4C75-AD80-B365BC6660E2">在不安装Oracle Label Security的情况下导入标记数据</a><br>当策略标签列的数据类型为<code class="codeph">NUMBER</code> ，可以将它们导入到未安装Oracle Label Security的数据库中。
                        </li>
                        <li class="ulchildlink"><a href="performing-dba-functions-under-oracle-label-security.html#GUID-41FADFE2-B854-447B-A79D-086FA56B2431">进口未标记数据</a><br>您可以将未标记的数据导入受Oracle Label Security策略保护的现有表中。
                        </li>
                        <li class="ulchildlink"><a href="performing-dba-functions-under-oracle-label-security.html#GUID-A1E370F3-98C1-4EC9-A07E-6F6DABED45BA">导入具有隐藏列的表</a><br>隐藏列将导出为普通列，但隐藏的列将丢失。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-dba-functions-under-oracle-label-security.html#GUID-DD40309D-876E-4CA6-B500-CCB6F6120BBC" title="Oracle Data Pump支持从一个数据库到另一个数据库的高速数据和元数据移动。">数据泵导入与Oracle Label Security一起使用</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="OLSAG3420"></a><div class="props_rev_3"><a id="GUID-4F9E1500-D6A7-438A-89CE-57195296CE25" name="GUID-4F9E1500-D6A7-438A-89CE-57195296CE25"></a><h5 id="OLSAG-GUID-4F9E1500-D6A7-438A-89CE-57195296CE25" class="sect5">Oracle Label Security下的导入要求</h5>
                     <div>
                        <p>您可以在Oracle Label Security下使用<code class="codeph">impdp</code> 。
                        </p>
                        <p>要在Oracle Label Security下使用<code class="codeph">impdp</code> ，您必须准备导入数据库并确保导入用户具有适当的授权。
                        </p>
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="performing-dba-functions-under-oracle-label-security.html#GUID-A5A22681-91FC-4EDA-906F-C121009FE446">准备导入数据库</a><br>在将Import实用程序与Oracle Label Security一起使用之前，必须准备导入数据库。
                           </li>
                           <li class="ulchildlink"><a href="performing-dba-functions-under-oracle-label-security.html#GUID-4C7B1F32-8CB2-4B0B-9BBB-4B4F3019FE50">验证导入用户授权</a><br>您必须被授权对导出文件中插入数据和标签所需的标签运行导入操作。
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="performing-dba-functions-under-oracle-label-security.html#GUID-647B919D-C858-49E8-A58F-3D9C7EE67A33" title="您可以使用Oracle Label Security下的Oracle Data Pump Import实用程序功能。">架构和表级别导入</a></p>
                           </div>
                        </div>
                     </div>
                     <a id="OLSAG3421"></a><div class="props_rev_3"><a id="GUID-A5A22681-91FC-4EDA-906F-C121009FE446" name="GUID-A5A22681-91FC-4EDA-906F-C121009FE446"></a><h6 id="OLSAG-GUID-A5A22681-91FC-4EDA-906F-C121009FE446" class="sect6">准备导入数据库</h6>
                        <div>
                           <p>在将Import实用程序与Oracle Label Security一起使用之前，必须准备导入数据库。</p>
                           <ol>
                              <li class="stepexpand"><span>确保已启用Oracle Label Security。请参阅<a href="getting-started-with-oracle-label-security.html#GUID-4B228EB5-A092-4D0F-9EFB-C2109D3BD85D" title="您可以查询DBA_OLS_STATUS和CDB_OLS_STATUS数据字典视图，以查找是否已注册并启用了Oracle Label Security。">检查是否已注册并启用Oracle Label Security</a> 。</span></li>
                              <li class="stepexpand"><span>创建任何保护要导入的数据的Oracle Label Security策略。</span><div>
                                    <p>确保策略使用与导出数据库中相同的列名。</p>
                                 </div>
                              </li>
                              <li class="stepexpand"><span>在导入数据库中定义要导入的表中使用的所有标签组件和单个标签。</span><div>
                                    <p>确保为每个数据库中的策略标签分配相同的标记值。（请注意，如果要导入到导出的数据库中，则很可能已经定义了组件。）</p>
                                 </div>
                              </li>
                           </ol>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="performing-dba-functions-under-oracle-label-security.html#GUID-4F9E1500-D6A7-438A-89CE-57195296CE25" title="您可以在Oracle Label Security下使用impdp。">Oracle Label Security下的导入要求</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="OLSAG3422"></a><div class="props_rev_3"><a id="GUID-4C7B1F32-8CB2-4B0B-9BBB-4B4F3019FE50" name="GUID-4C7B1F32-8CB2-4B0B-9BBB-4B4F3019FE50"></a><h6 id="OLSAG-GUID-4C7B1F32-8CB2-4B0B-9BBB-4B4F3019FE50" class="sect6">验证导入用户授权</h6>
                        <div>
                           <p>您必须被授权对导出文件中插入数据和标签所需的标签运行导入操作。</p>
                           <p>如果您不符合以下要求，将在导入时引发错误。</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>要导入带有Label Security策略的表或模式，您必须具有<code class="codeph">SA_POLICY_ADMIN</code>包的执行权限。
                                 </p>
                                 <p>要确保可以导入所有行，必须为包含导入数据的所有策略设置<span class="italic"><code class="codeph">policy</code></span> <code class="codeph">_DBA</code>角色。导入每个模式或表后，导出数据库中的所有策略都将重新应用于导入的对象。
                                 </p>
                              </li>
                              <li>
                                 <p>您还必须能够编写已导出的所有行，如下所示：</p>
                                 <p><span class="bold">要求2：</span> 
                                 </p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>您可以授予<code class="codeph">FULL</code>权限或授予足够的权限来写入导入文件中包含的所有标签。
                                       </p>
                                    </li>
                                    <li>
                                       <p>用户定义的标签功能可以应用于表格。</p>
                                    </li>
                                 </ul>
                              </li>
                           </ul>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>父主题：</strong> <a href="performing-dba-functions-under-oracle-label-security.html#GUID-4F9E1500-D6A7-438A-89CE-57195296CE25" title="您可以在Oracle Label Security下使用impdp。">Oracle Label Security下的导入要求</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div><a id="OLSAG3423"></a><div class="props_rev_3"><a id="GUID-61D9E1E0-DAC2-49BA-A1F4-4D19561DCACC" name="GUID-61D9E1E0-DAC2-49BA-A1F4-4D19561DCACC"></a><h5 id="OLSAG-GUID-61D9E1E0-DAC2-49BA-A1F4-4D19561DCACC" class="sect5">导入数据标签的定义</h5>
                     <div>
                        <p>导入时的标签定义必须包括导出文件中使用的所有策略标签。</p>
                        <p><code class="codeph">DBA_SA_LABELS</code>数据字典视图列出了数据标签。您可以使用视图<code class="codeph">DBA_SA_LEVELS</code> ， <code class="codeph">DBA_SA_COMPARTMENTS</code> ， <code class="codeph">DBA_SA_GROUPS</code>以及导出数据库来设计SQL脚本，以便为导入数据库中的每个策略重新创建标签组件和标签。以下示例显示如何生成重新创建<code class="codeph">HR</code>策略的各个标签的PL / SQL块：</p><pre class="oac_no_warn" dir="ltr">在BEGIN上设置serveroutput dbms_output.put_line（'BEGIN'）; FOR l IN（SELECT label_tag，label FROM dba_sa_labels WHERE policy_name ='HR'ORDER BY label_tag）LOOP dbms_output.put_line（'SA_LABEL_ADMIN.CREATE_LABEL（''HR''，'|| l.label_tag ||'，'''| | l.label ||'''）;'）;结束循环; dbms_output.put_line（'END;'）; dbms_output.put_line（'/'）;结束; /</pre><p>如果导入数据库中不存在具有与导出数据库中相同的数值和相同字符串表示的单个标签，则导入的表中的标签值将毫无意义。表中的数字标签值可以指代不同的字符串表示，或者它可以是导入数据库中根本没有定义的标签值。</p>
                        <p>如果用户尝试访问包含无效数字标签的行，则操作将失败。</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="performing-dba-functions-under-oracle-label-security.html#GUID-647B919D-C858-49E8-A58F-3D9C7EE67A33" title="您可以使用Oracle Label Security下的Oracle Data Pump Import实用程序功能。">架构和表级别导入</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="OLSAG3424"></a><div class="props_rev_3"><a id="GUID-47BFBCCC-388F-4C75-AD80-B365BC6660E2" name="GUID-47BFBCCC-388F-4C75-AD80-B365BC6660E2"></a><h5 id="OLSAG-GUID-47BFBCCC-388F-4C75-AD80-B365BC6660E2" class="sect5">在不安装Oracle Label Security的情况下导入标记数据</h5>
                     <div>
                        <p>当策略标签列的数据类型为<code class="codeph">NUMBER</code> ，可以将它们导入到未安装Oracle Label Security的数据库中。
                        </p>
                        <p>在这种情况下，策略标签列中的值将作为数字导入。如果没有相应的Oracle Label Security标签定义，则这些数字将不会引用任何特定标签。</p>
                        <p>请注意，如果未安装Oracle Label Security，则在导入期间将引发错误，因为将策略重新应用于导入的表和模式的SQL语句将失败。</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="performing-dba-functions-under-oracle-label-security.html#GUID-647B919D-C858-49E8-A58F-3D9C7EE67A33" title="您可以使用Oracle Label Security下的Oracle Data Pump Import实用程序功能。">架构和表级别导入</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="OLSAG3425"></a><div class="props_rev_3"><a id="GUID-41FADFE2-B854-447B-A79D-086FA56B2431" name="GUID-41FADFE2-B854-447B-A79D-086FA56B2431"></a><h5 id="OLSAG-GUID-41FADFE2-B854-447B-A79D-086FA56B2431" class="sect5">进口未标记数据</h5>
                     <div>
                        <p>您可以将未标记的数据导入受Oracle Label Security策略保护的现有表中。</p>
                        <p>必须为要导入的每个表指定<code class="codeph">LABEL_DEFAULT</code>选项或标签函数，以便在将行插入表中时自动初始化行的标签。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="performing-dba-functions-under-oracle-label-security.html#GUID-647B919D-C858-49E8-A58F-3D9C7EE67A33" title="您可以使用Oracle Label Security下的Oracle Data Pump Import实用程序功能。">架构和表级别导入</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="OLSAG3426"></a><div class="props_rev_3"><a id="GUID-A1E370F3-98C1-4EC9-A07E-6F6DABED45BA" name="GUID-A1E370F3-98C1-4EC9-A07E-6F6DABED45BA"></a><h5 id="OLSAG-GUID-A1E370F3-98C1-4EC9-A07E-6F6DABED45BA" class="sect5">导入具有隐藏列的表</h5>
                     <div>
                        <p>隐藏列将导出为普通列，但隐藏的列将丢失。</p>
                        <div class="section">
                           <p>如果要保留标签列的隐藏属性，则必须首先在导入数据库中创建表。</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li><span>在执行导入之前，请创建表并使用<code class="codeph">HIDE</code>选项应用策略。这会将策略标签列作为隐藏列添加到表中。</span></li>
                           <li><span>从表中删除策略，以便在导入操作期间可以将导出文件中指定的强制选项重新应用于表。</span></li>
                           <li><span>使用<code class="codeph">IGNORE=Y</code>执行导入。将<code class="codeph">IGNORE</code>参数设置为<code class="codeph">Y</code>在导入期间忽略错误。</span></li>
                           <li><span>使用<code class="codeph">HIDE</code>选项手动将策略应用于表。</span></li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="performing-dba-functions-under-oracle-label-security.html#GUID-647B919D-C858-49E8-A58F-3D9C7EE67A33" title="您可以使用Oracle Label Security下的Oracle Data Pump Import实用程序功能。">架构和表级别导入</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div><a id="OLSAG3427"></a><div class="props_rev_3"><a id="GUID-15D0874D-25CF-473C-99A2-E81B8AA2B027" name="GUID-15D0874D-25CF-473C-99A2-E81B8AA2B027"></a><h3 id="OLSAG-GUID-15D0874D-25CF-473C-99A2-E81B8AA2B027" class="sect3">SQL * Loader与Oracle Label Security一起使用</h3>
               <div>
                  <p>SQL * Loader将数据从外部文件移动到Oracle数据库中的表中。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="performing-dba-functions-under-oracle-label-security.html#GUID-562C8E09-CD6C-4BFC-A1EF-71A0EFF19316">在Oracle Label Security下使用SQL * Loader的要求</a><br>您可以将SQL * Loader与常规路径一起使用，以将数据加载到受Oracle Label Security保护的数据库中。
                     </li>
                     <li class="ulchildlink"><a href="performing-dba-functions-under-oracle-label-security.html#GUID-970FF282-CE32-457E-8BD4-58C6B168D034">SQL Label Loader的Oracle Label Security输入</a><br>如果隐藏表的策略列，则必须使用<code class="codeph">HIDDEN</code>关键字将此信息传递给SQL * Loader。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="performing-dba-functions-under-oracle-label-security.html#GUID-C56D67AE-BE02-47C4-915F-8D56E0CE972D" title="Oracle Label Security支持标准的Oracle数据库实用程序，但适用某些限制，这可能需要额外的步骤才能获得预期的结果。">在Oracle Label Security下执行DBA功能</a></p>
                     </div>
                  </div>
               </div>
               <a id="OLSAG3428"></a><div class="props_rev_3"><a id="GUID-562C8E09-CD6C-4BFC-A1EF-71A0EFF19316" name="GUID-562C8E09-CD6C-4BFC-A1EF-71A0EFF19316"></a><h4 id="OLSAG-GUID-562C8E09-CD6C-4BFC-A1EF-71A0EFF19316" class="sect4">在Oracle Label Security下使用SQL * Loader的要求</h4>
                  <div>
                     <p>您可以将SQL * Loader与常规路径一起使用，以将数据加载到受Oracle Label Security保护的数据库中。</p>
                     <p>由于SQL * Loader执行<code class="codeph">INSERT</code>操作，因此在Oracle Label Security策略保护的表上使用SQL * Loader时，所有标准要求都适用。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-dba-functions-under-oracle-label-security.html#GUID-15D0874D-25CF-473C-99A2-E81B8AA2B027" title="SQL * Loader将数据从外部文件移动到Oracle数据库中的表中。">SQL * Loader与Oracle Label Security一起使用</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="OLSAG3430"></a><a id="OLSAG3429"></a><div class="props_rev_3"><a id="GUID-970FF282-CE32-457E-8BD4-58C6B168D034" name="GUID-970FF282-CE32-457E-8BD4-58C6B168D034"></a><h4 id="OLSAG-GUID-970FF282-CE32-457E-8BD4-58C6B168D034" class="sect4">SQL Label Loader的Oracle Label Security输入</h4>
                  <div>
                     <p>如果隐藏表的策略列，则必须使用<code class="codeph">HIDDEN</code>关键字将此信息传递给SQL * Loader。
                     </p>
                     <p>要在输入文件中指定行标签，必须在控制文件的<code class="codeph">INTO</code> <code class="codeph">TABLE</code>子句中包含策略标签列。
                     </p>
                     <p>要加载策略标签以及每行的数据，可以在SQL * Loader控制文件中指定<code class="codeph">CHAR_TO_LABEL</code>函数或<code class="codeph">TO_DATA_LABEL</code>函数。
                     </p>
                     <div class="infoboxnote" id="GUID-970FF282-CE32-457E-8BD4-58C6B168D034__GUID-E6B7A1DA-DFDF-4D61-A599-BEEF510795E5">
                        <p class="notep1">注意：</p>
                        <p>安装Oracle Label Security以使用Oracle Internet Directory时，不允许生成动态标签，因为使用<code class="codeph">olsadmintool</code>命令在Oracle Internet Directory中集中管理标签。
                        </p>
                        <p>当Oracle Label Security启用目录时，函数<code class="codeph">TO_DATA_LABEL</code>不可用，并在使用时生成错误消息。
                        </p>
                     </div>
                     <p><a href="performing-dba-functions-under-oracle-label-security.html#GUID-970FF282-CE32-457E-8BD4-58C6B168D034__CJAEIDCD" title="此表显示了提交给SQL * Loader的数据形式的几个变量选项，并解释了每个变量的结果。">表15-1</a>显示了使用SQL * Loader加载Oracle Label Security数据时可以使用的变体。
                     </p>
                     <div class="tblformalwide" id="GUID-970FF282-CE32-457E-8BD4-58C6B168D034__CJAEIDCD">
                        <p class="titleintable">表15-1 Oracle Label Security输入到SQL * Loader的输入选择</p>
                        <table cellpadding="4" cellspacing="0" class="FormalWide" title="SQL Label Loader的Oracle Label Security输入选择输入" width="100%" border="1" summary="This table shows several variable choices for the form of data submitted to SQL*Loader and explains the results for each." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="45%" id="d49279e1559">数据形式</th>
                                 <th align="left" valign="bottom" width="55%" id="d49279e1562">结果说明</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d49279e1567" headers="d49279e1559 ">
                                    <p><code class="codeph">col1隐藏整数外部</code></p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d49279e1567 d49279e1562 ">
                                    <p>隐藏列直接从数据文件加载数据的标记值</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d49279e1575" headers="d49279e1559 ">
                                    <p><code class="codeph">col2 hidden char（5）“func（：col2）”</code></p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d49279e1575 d49279e1562 ">
                                    <p>隐藏列加载了来自数据<code class="codeph">file.func()</code>的数据的字符值，用于在字符标签及其标记值之间进行转换。注意： <code class="codeph">func()</code>可能是<code class="codeph">char_to_label()</code> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d49279e1592" headers="d49279e1559 ">
                                    <p><code class="codeph">col3 hidden“func（：col3）”</code></p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d49279e1592 d49279e1562 ">
                                    <p>与<code class="codeph">col2</code>相同，字段类型默认为<span class="bold">char</span></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="45%" id="d49279e1605" headers="d49279e1559 ">
                                    <p><code class="codeph">col4隐藏表达式“func（：col4）”</code></p>
                                 </td>
                                 <td align="left" valign="top" width="55%" headers="d49279e1605 d49279e1562 ">
                                    <p>将调用未映射到输入<code class="codeph">data.func()</code>隐藏列以提供标签值。这可以是用户功能。
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>例如，以下是将数据加载到<code class="codeph">DEPT</code>表的控制文件中的有效<code class="codeph">INTO</code> <code class="codeph">TABLE</code>子句：</p><pre class="oac_no_warn" dir="ltr">INTO TABLE dept（hr_label HIDDEN POSITION（1:22）CHAR“CHAR_TO_LABEL（'HR'，：hr_label）”，deptno POSITION（23:26）INTEGER EXTERNAL，dname POSITION（27:40）CHAR，loc POSITION（41,54） ）CHAR）</pre><p>以下可能是此控制文件指定的数据文件中的条目：</p><pre class="oac_no_warn" dir="ltr">HS：FN 231会计红木海岸</pre></div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="command-line-tools-for-label-security-using-oracle-internet-directory.html#GUID-CEBDC422-8872-46C1-8A3B-F1161539DD22" title="Oracle Label Security提供了使用Oracle Internet Directory的命令行工具。">使用Oracle Internet Directory进行标签安全的命令行工具</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-dba-functions-under-oracle-label-security.html#GUID-15D0874D-25CF-473C-99A2-E81B8AA2B027" title="SQL * Loader将数据从外部文件移动到Oracle数据库中的表中。">SQL * Loader与Oracle Label Security一起使用</a></p>
                        </div>
                     </div>
                  </div>
               </div>
            </div><a id="OLSAG3431"></a><div class="props_rev_3"><a id="GUID-455A7577-4A87-4BC9-84B4-B4B2CE134A84" name="GUID-455A7577-4A87-4BC9-84B4-B4B2CE134A84"></a><h3 id="OLSAG-GUID-455A7577-4A87-4BC9-84B4-B4B2CE134A84" class="sect3">Oracle Label Security的性能提示</h3>
               <div>
                  <p>您可以使用Oracle Label Security实现最佳性能。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="performing-dba-functions-under-oracle-label-security.html#GUID-30EC3194-89E7-4141-ADC5-50D4AED7E3BC">使用ANALYZE提高Oracle Label Security性能</a><br>您可以在<code class="codeph">LBACSYS</code>模式中的Oracle Label Security数据字典表上运行<code class="codeph">ANALYZE</code>语句。
                     </li>
                     <li class="ulchildlink"><a href="performing-dba-functions-under-oracle-label-security.html#GUID-D674659F-D2A3-4714-9B86-03F3EF1C1E49">在策略标签列上创建索引</a><br>在策略标签列上创建适当类型的索引可提高受保护表上用户引发的查询的性能。
                     </li>
                     <li class="ulchildlink"><a href="performing-dba-functions-under-oracle-label-security.html#GUID-5AF3CEC2-A8BD-48C9-908C-64015C1C58AB">标签标签策略计划以提高性能</a><br>为获得最佳性能，您可以规划将值分配给标签标签的策略。
                     </li>
                     <li class="ulchildlink"><a href="performing-dba-functions-under-oracle-label-security.html#GUID-EA5143CF-C4A3-48E8-B7E8-6B379C7756ED">基于数字标签的分区数据</a><br>使用带有应用于标签的数字标签标签的数字排序策略可以作为Oracle数据库数据分区的基础。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="performing-dba-functions-under-oracle-label-security.html#GUID-C56D67AE-BE02-47C4-915F-8D56E0CE972D" title="Oracle Label Security支持标准的Oracle数据库实用程序，但适用某些限制，这可能需要额外的步骤才能获得预期的结果。">在Oracle Label Security下执行DBA功能</a></p>
                     </div>
                  </div>
               </div>
               <a id="OLSAG3432"></a><div class="props_rev_3"><a id="GUID-30EC3194-89E7-4141-ADC5-50D4AED7E3BC" name="GUID-30EC3194-89E7-4141-ADC5-50D4AED7E3BC"></a><h4 id="OLSAG-GUID-30EC3194-89E7-4141-ADC5-50D4AED7E3BC" class="sect4">使用ANALYZE提高Oracle Label Security性能</h4>
                  <div>
                     <p>您可以在<code class="codeph">LBACSYS</code>模式中的Oracle Label Security数据字典表上运行<code class="codeph">ANALYZE</code>语句。
                     </p>
                     <p>这使基于成本的优化器能够改进查询的执行计划，从而提高Oracle Label Security性能。</p>
                     <p>在应用程序表上运行<code class="codeph">ANALYZE</code>可提高应用程序的SQL性能。
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-30EC3194-89E7-4141-ADC5-50D4AED7E3BC__GUID-F0D86F94-6BB6-4140-923C-59BD1EB9FA7E">
                        <p class="notep1">也可以看看：</p>用于<code class="codeph">ANALYZE</code>语法的<a href="../sqlrf/ANALYZE.html#SQLRF01105" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a></div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-dba-functions-under-oracle-label-security.html#GUID-455A7577-4A87-4BC9-84B4-B4B2CE134A84" title="您可以使用Oracle Label Security实现最佳性能。">Oracle Label Security的性能提示</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="OLSAG3433"></a><div class="props_rev_3"><a id="GUID-D674659F-D2A3-4714-9B86-03F3EF1C1E49" name="GUID-D674659F-D2A3-4714-9B86-03F3EF1C1E49"></a><h4 id="OLSAG-GUID-D674659F-D2A3-4714-9B86-03F3EF1C1E49" class="sect4">在策略标签列上创建索引</h4>
                  <div>
                     <p>在策略标签列上创建适当类型的索引可提高受保护表上用户引发的查询的性能。</p>
                     <p>如果已在特定架构中的数据库表上应用Oracle Label Security策略，则应将不同标签的数量与数据量进行比较。根据此信息，您可以决定在策略标签列上创建哪种类型的索引。</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果策略标签列中数据的基数（即，与行数相比的标签数）很低，则考虑创建位图索引。</p>
                        </li>
                        <li>
                           <p>如果策略标签列中的数据基数很高，则考虑创建B树索引。</p>
                        </li>
                     </ul>
                     <p>请考虑以下情况，其中<code class="codeph">EMP</code>表受Oracle Label Security策略保护，并且设置了<code class="codeph">READ_CONTROL</code>强制选项， <code class="codeph">HR_LABEL</code>是策略标签列的名称。用户引发以下查询：</p><pre class="oac_no_warn" dir="ltr">SELECT COUNT（*）FROM SCOTT.EMP;</pre><p>在这种情况下，Oracle Label Security会根据label列添加谓词。例如：</p><pre class="oac_no_warn" dir="ltr">SELECT COUNT（*）FROM SCOTT.EMP WHERE hr_label = 100;</pre><p>通过这种方式，Oracle Label Security使用安全标签根据用户的授权限制处理的行。要提高此查询的性能，可以在<code class="codeph">HR_LABEL</code>列上创建索引。
                     </p>
                     <p>考虑更复杂的查询（再次，将<code class="codeph">READ_CONTROL</code>应用于EMP表）：</p><pre class="oac_no_warn" dir="ltr">SELECT COUNT（*）FROM SCOTT.EMP WHERE deptno = 10</pre><p>同样，Oracle Label Security根据label列添加谓词：</p><pre class="oac_no_warn" dir="ltr">SELECT COUNT（*）FROM SCOTT.EMP WHERE deptno = 10 AND hr_label = 100;</pre><p>在这种情况下，您可能希望基于<code class="codeph">DEPTNO</code>和<code class="codeph">HR_LABEL</code>列创建复合索引，以提高应用程序性能。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-dba-functions-under-oracle-label-security.html#GUID-455A7577-4A87-4BC9-84B4-B4B2CE134A84" title="您可以使用Oracle Label Security实现最佳性能。">Oracle Label Security的性能提示</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="OLSAG3435"></a><a id="OLSAG3436"></a><a id="OLSAG3434"></a><div class="props_rev_3"><a id="GUID-5AF3CEC2-A8BD-48C9-908C-64015C1C58AB" name="GUID-5AF3CEC2-A8BD-48C9-908C-64015C1C58AB"></a><h4 id="OLSAG-GUID-5AF3CEC2-A8BD-48C9-908C-64015C1C58AB" class="sect4">标签标签策略计划以提高性能</h4>
                  <div>
                     <p>为获得最佳性能，您可以规划将值分配给标签标签的策略。</p>
                     <p>通常，最好为具有较高灵敏度级别的标签指定较高的数值。</p>
                     <p>这是因为，通常，更多用户可以在相对较低的级别查看数据，而较高级别的用户可以看到更多级别的数据。</p>
                     <p>此外，通过设置<code class="codeph">READ_CONTROL</code> ，Oracle Label Security会生成一个谓词，该谓词使用<code class="codeph">BETWEEN</code>子句来限制查询要处理的行。如以下示例所示，如果较高灵敏度的标签没有比较低灵敏度标签更高的标签标签，则查询可能会检查更大的行集。这会影响性能。
                     </p>
                     <p><a href="performing-dba-functions-under-oracle-label-security.html#GUID-5AF3CEC2-A8BD-48C9-908C-64015C1C58AB__CJAEBGIE" title="此表显示了标签标签的正确值的示例，在随后的文本讨论中进行了解释。">表15-2</a>显示了一组标签标签，分配如下：</p>
                     <div class="tblformal" id="GUID-5AF3CEC2-A8BD-48C9-908C-64015C1C58AB__CJAEBGIE">
                        <p class="titleintable">表15-2标签标签性能示例：正确的值</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="标签标签性能示例：正确的值" width="100%" border="1" summary="This table shows an example of correct values for label tags, explained in the subsequent discussion in text." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d49279e2068">标签</th>
                                 <th align="left" valign="bottom" width="69%" id="d49279e2071">标签标签</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d49279e2076" headers="d49279e2068 ">
                                    <p><code class="codeph">TS:A</code> ， <code class="codeph">B</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d49279e2076 d49279e2071 ">
                                    <p><code class="codeph">100</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d49279e2088" headers="d49279e2068 ">
                                    <p><code class="codeph">S：一</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d49279e2088 d49279e2071 ">
                                    <p><code class="codeph">50</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d49279e2097" headers="d49279e2068 ">
                                    <p><code class="codeph">小号</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d49279e2097 d49279e2071 ">
                                    <p><code class="codeph">20</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d49279e2106" headers="d49279e2068 ">
                                    <p><code class="codeph">U：一</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d49279e2106 d49279e2071 ">
                                    <p><code class="codeph">10</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>这里，最大授权为S：A的用户可以潜在地访问标签<code class="codeph">S:A</code> ， <code class="codeph">S</code>和<code class="codeph">U:A</code> 。考虑当此用户引发以下查询时会发生什么：</p><pre class="oac_no_warn" dir="ltr">SELECT COUNT（*）FROM SCOTT.EMP</pre><p>Oracle Label Security添加了一个包含<code class="codeph">BETWEEN</code>子句（基于最大和最小授权）的谓词，以限制此用户可以看到的行集：</p><pre class="oac_no_warn" dir="ltr">SELECT COUNT（*）FROM SCOTT.EMP WHERE hr_label BETWEEN 10和50;</pre><p>性能得到改善，因为查询仅根据用户的授权检查数据的子集。它不会无效地处理用户无权访问的行。</p>
                     <p><a href="performing-dba-functions-under-oracle-label-security.html#GUID-5AF3CEC2-A8BD-48C9-908C-64015C1C58AB__CJACCBAD" title="此表显示标签标签的值不正确，如后续文本中所述。">表15-3</a>显示了如果按如下方式分配标记值，如何执行不必要的工作：</p>
                     <div class="tblformal" id="GUID-5AF3CEC2-A8BD-48C9-908C-64015C1C58AB__CJACCBAD">
                        <p class="titleintable">表15-3标签标记性能示例：不正确的值</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="标签标记性能示例：不正确的值" width="100%" border="1" summary="This table shows incorrect values for label tags, as explained in the subsequent text." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="31%" id="d49279e2153">标签</th>
                                 <th align="left" valign="bottom" width="69%" id="d49279e2156">标签标签</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d49279e2161" headers="d49279e2153 ">
                                    <p><code class="codeph">TS:A</code> ， <code class="codeph">B</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d49279e2161 d49279e2156 ">
                                    <p><code class="codeph">50</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d49279e2173" headers="d49279e2153 ">
                                    <p><code class="codeph">S：一</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d49279e2173 d49279e2156 ">
                                    <p><code class="codeph">100</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d49279e2182" headers="d49279e2153 ">
                                    <p><code class="codeph">小号</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d49279e2182 d49279e2156 ">
                                    <p><code class="codeph">20</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="31%" id="d49279e2191" headers="d49279e2153 ">
                                    <p><code class="codeph">U：一</code></p>
                                 </td>
                                 <td align="left" valign="top" width="69%" headers="d49279e2191 d49279e2156 ">
                                    <p><code class="codeph">10</code></p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>在这种情况下，具有<code class="codeph">S:A</code>授权的用户只能看到100到10之间的一些标签。虽然用户看不到<code class="codeph">TS:A</code> ， <code class="codeph">B</code>标签（即标签标签为50的行）。尽管用户最终将无法访问这些行，但查询仍会接收并处理这些行。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-dba-functions-under-oracle-label-security.html#GUID-455A7577-4A87-4BC9-84B4-B4B2CE134A84" title="您可以使用Oracle Label Security实现最佳性能。">Oracle Label Security的性能提示</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="OLSAG3437"></a><div class="props_rev_3"><a id="GUID-EA5143CF-C4A3-48E8-B7E8-6B379C7756ED" name="GUID-EA5143CF-C4A3-48E8-B7E8-6B379C7756ED"></a><h4 id="OLSAG-GUID-EA5143CF-C4A3-48E8-B7E8-6B379C7756ED" class="sect4">基于数字标签的分区数据</h4>
                  <div>
                     <p>使用带有应用于标签的数字标签标签的数字排序策略可以作为Oracle数据库数据分区的基础。</p>
                     <p>根据应用程序，基于标签值的分区数据可能有用，也可能没用。例如，考虑许多公司订阅的商业托管CRM应用程序。在同一个<code class="codeph">EMP</code>表中，可能存在订阅服务器1和订阅服务器2的行（和标签）。也就是说，两家公司的信息可以存储在同一个表中，只要它的标签不同即可。在这种情况下，订阅者1的员工将永远不需要访问订阅者2的数据，因此基于标签进行分区可能是有意义的。您可以将订阅服务器1的行放在一个分区中，将Subscriber2的行放在不同的分区中。引发查询时，它将仅访问一个或另一个分区，具体取决于标签。性能得到改善，因为查询不会检查不相关的分区。
                     </p>
                     <p>以下示例显示已完成此操作。它将2000系列中的标签放在一个分区上，将3000系列中的标签放在另一个分区上，将4000系列中的标签放在第三个分区上。</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE EMPLOYEE（EMPNO NUMBER（10）CONSTRAINT PK_EMPLOYEE PRIMARY KEY，ENAME VARCHAR2（10），JOB VARCHAR2（9），MGR NUMBER（4），HIREDATE DATE，SAL NUMBER（7,2），COMM COMMBER（7,2） ，DEPTNO NUMBER（4），HR_LABEL NUMBER（10））TABLESPACE PERF_DATA存储（初始2M NEXT 1M MINEXTENTS 1 MAXEXTENTS无限制）按范围划分（hr_label）（分区sx1值小于（2000）NOLOGGING，分区sx2值小于（3000） ），分区sx3值小于（4000））;</pre></div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-dba-functions-under-oracle-label-security.html#GUID-455A7577-4A87-4BC9-84B4-B4B2CE134A84" title="您可以使用Oracle Label Security实现最佳性能。">Oracle Label Security的性能提示</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="OLSAG3438"></a><div class="props_rev_3"><a id="GUID-0670C065-7168-4A89-88A0-73B6ACD12469" name="GUID-0670C065-7168-4A89-88A0-73B6ACD12469"></a><h3 id="OLSAG-GUID-0670C065-7168-4A89-88A0-73B6ACD12469" class="sect3">安装后创建其他数据库</h3>
               <div>
                  <p>安装Oracle Label Security后，可以创建和配置其他数据库。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="performing-dba-functions-under-oracle-label-security.html#GUID-3FA2BF1D-AD12-41E4-87A9-4615CC7AF9FC">关于安装后创建其他数据库</a><br>安装Oracle数据库企业版和Oracle Label Security时，会创建初始Oracle数据库。
                     </li>
                     <li class="ulchildlink"><a href="performing-dba-functions-under-oracle-label-security.html#GUID-3053C786-0957-4653-A875-EA3F4364F8DF">当标签安全架构在种子中时创建其他数据库</a><br>如果安装了数据库，并且标签安全模式位于种子数据库中，则可以配置Oracle Label Security。
                     </li>
                     <li class="ulchildlink"><a href="performing-dba-functions-under-oracle-label-security.html#GUID-972685EF-1868-470E-9A68-45E69CC35054">使用自定义安装选项创建其他数据库</a><br>您可以在自定义数据库安装后配置Oracle Label Security。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="performing-dba-functions-under-oracle-label-security.html#GUID-C56D67AE-BE02-47C4-915F-8D56E0CE972D" title="Oracle Label Security支持标准的Oracle数据库实用程序，但适用某些限制，这可能需要额外的步骤才能获得预期的结果。">在Oracle Label Security下执行DBA功能</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="props_rev_3"><a id="GUID-3FA2BF1D-AD12-41E4-87A9-4615CC7AF9FC" name="GUID-3FA2BF1D-AD12-41E4-87A9-4615CC7AF9FC"></a><h4 id="OLSAG-GUID-3FA2BF1D-AD12-41E4-87A9-4615CC7AF9FC" class="sect4">关于安装后创建其他数据库</h4>
                  <div>
                     <p>安装Oracle数据库企业版和Oracle Label Security时，会创建初始Oracle数据库。</p>
                     <p>如果要创建其他数据库，则应使用Database Configuration Assistant执行此操作。或者，您可以按照<a href="../admin/creating-and-configuring-an-oracle-database.html#ADMIN002" target="_blank"><span><cite>Oracle数据库管理员指南中</cite></span></a>列出的步骤创建其他数据库。
                     </p>
                     <p>每次创建新数据库时，都必须将Oracle Label Security数据字典表，视图和包安装到其中，然后创建<code class="codeph">LBACSYS</code>帐户。
                     </p>
                     <p>对于第一个数据库，无论您是否选择自定义安装，都会在安装Oracle Label Security时自动完成此操作。如果您不选择自定义安装，那么您将在种子中安装带有标签安全模式的数据库。</p>
                     <p>要创建其他数据库，可以使用不同的进程来配置标签安全性，具体取决于第一个数据库是使用自定义安装还是使用种子中的标签安全性架构安装的。</p>
                     <p>如果您最初选择自定义安装但未安装标签安全性，则可以使用本节中介绍的任一过程安装和配置标签安全性。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-dba-functions-under-oracle-label-security.html#GUID-0670C065-7168-4A89-88A0-73B6ACD12469" title="安装Oracle Label Security后，可以创建和配置其他数据库。">安装后创建其他数据库</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-3053C786-0957-4653-A875-EA3F4364F8DF" name="GUID-3053C786-0957-4653-A875-EA3F4364F8DF"></a><h4 id="OLSAG-GUID-3053C786-0957-4653-A875-EA3F4364F8DF" class="sect4">当标签安全架构在种子中时创建其他数据库</h4>
                  <div>
                     <p>如果安装了数据库，并且标签安全模式位于种子数据库中，则可以配置Oracle Label Security。</p>
                     <ol>
                        <li><span>在DBCA中选择Oracle Label Security选项。</span></li>
                        <li><span>选中该复选框以配置Oracle Label Security。</span></li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-dba-functions-under-oracle-label-security.html#GUID-0670C065-7168-4A89-88A0-73B6ACD12469" title="安装Oracle Label Security后，可以创建和配置其他数据库。">安装后创建其他数据库</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-972685EF-1868-470E-9A68-45E69CC35054" name="GUID-972685EF-1868-470E-9A68-45E69CC35054"></a><h4 id="OLSAG-GUID-972685EF-1868-470E-9A68-45E69CC35054" class="sect4">使用自定义安装选项创建其他数据库</h4>
                  <div>
                     <p>您可以在自定义数据库安装后配置Oracle Label Security。</p>
                     <ol>
                        <li class="stepexpand"><span>使用<code class="codeph">AS SYSDBA</code>语法以<code class="codeph">SYS</code>用户身份连接到Oracle数据库实例。</span></li>
                        <li class="stepexpand"><span>运行脚本<code class="codeph">$ORACLE_HOME/rdbms/admin/catols.sql</code> 。</span><div>
                              <p>此脚本安装基于标签的框架，数据字典，数据类型和包。运行脚本后， <code class="codeph">LBACSYS</code>帐户存在，密码为<code class="codeph">LBACSYS</code> 。此帐户下存在所有Oracle Label Security软件包。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>更改<code class="codeph">LBACSYS</code>用户的默认密码。</span></li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-dba-functions-under-oracle-label-security.html#GUID-0670C065-7168-4A89-88A0-73B6ACD12469" title="安装Oracle Label Security后，可以创建和配置其他数据库。">安装后创建其他数据库</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="OLSAG3686"></a><div class="props_rev_3"><a id="GUID-29CC4255-87FA-49A7-9B2C-B0C53E13A36C" name="GUID-29CC4255-87FA-49A7-9B2C-B0C53E13A36C"></a><h3 id="OLSAG-GUID-29CC4255-87FA-49A7-9B2C-B0C53E13A36C" class="sect3">Oracle Label Security升级和降级</h3>
               <div>
                  <p>您应该了解如何管理Oracle Label Security升级和降级。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="performing-dba-functions-under-oracle-label-security.html#GUID-F0BFFD66-F41B-4A1F-8582-1B96448619E4">关于Oracle Label Security升级和降级</a><br>Oracle提供执行升级和降级操作的预处理脚本。
                     </li>
                     <li class="ulchildlink"><a href="performing-dba-functions-under-oracle-label-security.html#GUID-8B36BAE8-B159-418B-8E83-4FF27B60F50C">Oracle Label Security升级</a><br>Oracle提供了一个预处理脚本，您必须在执行升级之前运行该脚本。
                     </li>
                     <li class="ulchildlink"><a href="performing-dba-functions-under-oracle-label-security.html#GUID-721C4F6D-B45D-4E45-A256-767A973888AE">Oracle Label Security降级</a><br>Oracle提供了一个预处理脚本，您必须在降级之前运行该脚本。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="performing-dba-functions-under-oracle-label-security.html#GUID-C56D67AE-BE02-47C4-915F-8D56E0CE972D" title="Oracle Label Security支持标准的Oracle数据库实用程序，但适用某些限制，这可能需要额外的步骤才能获得预期的结果。">在Oracle Label Security下执行DBA功能</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="props_rev_3"><a id="GUID-F0BFFD66-F41B-4A1F-8582-1B96448619E4" name="GUID-F0BFFD66-F41B-4A1F-8582-1B96448619E4"></a><h4 id="OLSAG-GUID-F0BFFD66-F41B-4A1F-8582-1B96448619E4" class="sect4">关于Oracle Label Security升级和降级</h4>
                  <div>
                     <p>Oracle提供执行升级和降级操作的预处理脚本。</p>
                     <p>作为安全措施，在运行升级或降级预处理脚本之前，Oracle建议您备份审核记录。为此，您可以按照“ <a href="../dbseg/administering-the-audit-trail.html#DBSEG732" target="_blank"><span><cite>Oracle数据库安全指南”中的说明</cite></span></a>归档审计跟踪。
                     </p>
                     <p>在运行之前，预处理脚本会检查审计表空间中是否有足够的空间来复制所有审计记录，如果没有则将退出而不进行处理。</p>
                     <p>在OLS预处理脚本运行时，您可以继续在数据库上运行应用程序。</p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-F0BFFD66-F41B-4A1F-8582-1B96448619E4__GUID-AA107D26-8596-4429-BF00-CBF100375D65">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../upgrd/requirements-upgrading-databases-that-use-oracle-label-security-and-oracle-database-vault.html#UPGRD60015" target="_blank"><span><cite>“Oracle数据库升级指南”，</cite></span></a>了解有关升级使用Oracle Label Security和Oracle Database Vault的数据库的要求</p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-dba-functions-under-oracle-label-security.html#GUID-29CC4255-87FA-49A7-9B2C-B0C53E13A36C" title="您应该了解如何管理Oracle Label Security升级和降级。">Oracle Label Security升级和降级</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="OLSAG3687"></a><div class="props_rev_3"><a id="GUID-8B36BAE8-B159-418B-8E83-4FF27B60F50C" name="GUID-8B36BAE8-B159-418B-8E83-4FF27B60F50C"></a><h4 id="OLSAG-GUID-8B36BAE8-B159-418B-8E83-4FF27B60F50C" class="sect4">Oracle Label Security升级</h4>
                  <div>
                     <p>Oracle提供了一个预处理脚本，您必须在执行升级之前运行该脚本。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="performing-dba-functions-under-oracle-label-security.html#GUID-BF9E5733-1DE2-4F43-9D57-8382A84935D6">关于Oracle Label Security升级</a><br>您必须升级Oracle Label Security以用于Oracle Database 12c之前的第1版（12.1）数据库。
                        </li>
                        <li class="ulchildlink"><a href="performing-dba-functions-under-oracle-label-security.html#GUID-5B4EAB09-99C9-4644-8BB5-B8C739C219CC">升级前运行Oracle Label Security预处理脚本</a><br>您可以在升级之前运行Oracle Label Security预处理脚本。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-dba-functions-under-oracle-label-security.html#GUID-29CC4255-87FA-49A7-9B2C-B0C53E13A36C" title="您应该了解如何管理Oracle Label Security升级和降级。">Oracle Label Security升级和降级</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="props_rev_3"><a id="GUID-BF9E5733-1DE2-4F43-9D57-8382A84935D6" name="GUID-BF9E5733-1DE2-4F43-9D57-8382A84935D6"></a><h5 id="OLSAG-GUID-BF9E5733-1DE2-4F43-9D57-8382A84935D6" class="sect5">关于Oracle Label Security升级</h5>
                     <div>
                        <p>您必须升级Oracle Label Security以用于Oracle Database 12c之前的第1版（12.1）数据库。</p>
                        <div class="infoboxnote" id="GUID-BF9E5733-1DE2-4F43-9D57-8382A84935D6__GUID-B7AD7E2D-F8A8-492B-89B8-648663337CBB">
                           <p class="notep1">注意：</p>
                           <p>升级前运行<code class="codeph">olspreupgrade.sql</code>脚本对于升级早于使用Oracle Label Security或Database Vault的Oracle Database 12c发行版（12.1）的数据库是必需的。
                           </p>
                           <p>升级到Oracle Database 12c或更高版本后，在修补或升级数据库时无需运行Oracle Label Security预处理脚本。</p>
                        </div>
                        <p>在执行OLS升级过程之前，必须运行Oracle Label Security预处理升级脚本<code class="codeph">olspreupgrade.sql</code>来处理<code class="codeph">AUD$</code>表内容。OLS升级将<code class="codeph">AUD$</code>表从<code class="codeph">SYSTEM</code>模式移动到<code class="codeph">SYS</code>模式。<code class="codeph">olspreupgrade.sql</code>脚本是此移动所需的预处理脚本。它在<code class="codeph">SYS</code>模式中创建一个临时表<code class="codeph">PREUPG_AUD$</code> ，并将<code class="codeph">SYSTEM.AUD$</code>记录移动到<code class="codeph">SYS.PREUPG_AUD$</code> 。无法再通过<code class="codeph">DBA_AUDIT_TRAIL</code>视图查看已移动的记录，但可以通过直接访问<code class="codeph">SYS.PREUPG_AUD$</code>表来查看，直到升级完成。升级完成后，将永久删除<code class="codeph">SYS.PREUPG_AUD$</code>表，并可通过<code class="codeph">DBA_AUDIT_TRAIL</code>视图查看所有审核记录。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="performing-dba-functions-under-oracle-label-security.html#GUID-8B36BAE8-B159-418B-8E83-4FF27B60F50C" title="Oracle提供了一个预处理脚本，您必须在执行升级之前运行该脚本。">Oracle Label Security升级</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-5B4EAB09-99C9-4644-8BB5-B8C739C219CC" name="GUID-5B4EAB09-99C9-4644-8BB5-B8C739C219CC"></a><h5 id="OLSAG-GUID-5B4EAB09-99C9-4644-8BB5-B8C739C219CC" class="sect5">升级前运行Oracle Label Security预处理脚本</h5>
                     <div>
                        <p>您可以在升级之前运行Oracle Label Security预处理脚本。</p>
                        <ol>
                           <li class="stepexpand"><span>将<span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">/rdbms/admin/olspreupgrade.sql</code>脚本从新安装的Oracle主<code class="codeph">/rdbms/admin/olspreupgrade.sql</code>复制到要升级的数据库的Oracle主目录。</span></li>
                           <li class="stepexpand"><span>连接到要升级的数据库。在系统提示符下，输入：</span><div><pre class="oac_no_warn" dir="ltr">CONN SYS AS SYSDBA输入密码<span class="italic">密码</span>
</pre></div>
                           </li>
                           <li class="stepexpand"><span>运行Oracle Label Security预处理脚本：</span><div><pre class="oac_no_warn" dir="ltr">@ $ ORACLE_HOME / RDBMS /管理/ olspreupgrade.sql</pre></div>
                           </li>
                        </ol>
                        <div class="section">
                           <div class="infoboxnote" id="GUID-5B4EAB09-99C9-4644-8BB5-B8C739C219CC__GUID-13D2CC0F-FD80-4DCE-ABD1-5192A1DC9890">
                              <p class="notep1">注意：</p>
                              <p>如果Oracle Label Security预处理脚本报告错误，则Oracle Label Security组件的升级状态将标记为<code class="codeph">INVALID</code> 。如果发生这种情况，您必须更正错误，然后重新运行升级过程。有关重新运行Oracle数据库升级过程的详细信息，请参阅“ <a href="../upgrd/rerunning-upgrades-oracle-database.html#UPGRD12412" target="_blank"><span><cite>Oracle数据库升级指南”</cite></span></a> 。
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="performing-dba-functions-under-oracle-label-security.html#GUID-8B36BAE8-B159-418B-8E83-4FF27B60F50C" title="Oracle提供了一个预处理脚本，您必须在执行升级之前运行该脚本。">Oracle Label Security升级</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="OLSAG3688"></a><div class="props_rev_3"><a id="GUID-721C4F6D-B45D-4E45-A256-767A973888AE" name="GUID-721C4F6D-B45D-4E45-A256-767A973888AE"></a><h4 id="OLSAG-GUID-721C4F6D-B45D-4E45-A256-767A973888AE" class="sect4">Oracle Label Security降级</h4>
                  <div>
                     <p>Oracle提供了一个预处理脚本，您必须在降级之前运行该脚本。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="performing-dba-functions-under-oracle-label-security.html#GUID-36A612EC-E711-408E-AFBB-06BA812E301B">关于Oracle Label Security降级</a><br>您可以从使用Oracle Label Security或Oracle Database Vault的Oracle Database 12 <span class="italic">c第</span> 1版（12.1）或更高版本的数据库中降级。
                        </li>
                        <li class="ulchildlink"><a href="performing-dba-functions-under-oracle-label-security.html#GUID-932AB688-83A8-44BA-8D8B-9000EFDFA3C6">在降级之前运行Oracle Label Security预处理脚本</a><br>在运行Oracle Label Security预处理脚本进行降级之前，必须以<code class="codeph">SYS</code>和<code class="codeph">SYSDBA</code>管理权限连接。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="performing-dba-functions-under-oracle-label-security.html#GUID-29CC4255-87FA-49A7-9B2C-B0C53E13A36C" title="您应该了解如何管理Oracle Label Security升级和降级。">Oracle Label Security升级和降级</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="props_rev_3"><a id="GUID-36A612EC-E711-408E-AFBB-06BA812E301B" name="GUID-36A612EC-E711-408E-AFBB-06BA812E301B"></a><h5 id="OLSAG-GUID-36A612EC-E711-408E-AFBB-06BA812E301B" class="sect5">关于Oracle Label Security降级</h5>
                     <div>
                        <p>您可以从使用Oracle Label Security或Oracle Database Vault的Oracle Database 12 <span class="italic">c第</span> 1版（12.1）或更高版本的数据库中降级。
                        </p>
                        <p>为此，您必须运行OLS预处理脚本<code class="codeph">olspredowngrade.sql</code>来处理<code class="codeph">AUD$</code>表内容。OLS降级脚本将<code class="codeph">AUD$</code>表从<code class="codeph">SYS</code>架构移动到<code class="codeph">SYSTEM</code>架构。<code class="codeph">olspredowngrade.sql</code>脚本是为此移动做准备所需的处理脚本。它在<code class="codeph">SYSTEM</code>模式中创建一个临时表<code class="codeph">PREDWG_AUD$</code> ，并将<code class="codeph">SYS.AUD$</code>记录移动到<code class="codeph">SYSTEM.PREDWG_AUD$</code> 。无法再通过<code class="codeph">DBA_AUDIT_TRAIL</code>视图查看已移动的记录，但您可以通过直接访问<code class="codeph">SYSTEM.PREDWG_AUD$</code>表来查看它们，直到降级完成。降级完成后， <code class="codeph">SYSTEM.PREDWG_AUD$</code>表将被永久删除。此时，所有审核记录都可在<code class="codeph">DBA_AUDIT_TRAIL</code>数据字典视图中查看。
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="performing-dba-functions-under-oracle-label-security.html#GUID-721C4F6D-B45D-4E45-A256-767A973888AE" title="Oracle提供了一个预处理脚本，您必须在降级之前运行该脚本。">Oracle Label Security降级</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="props_rev_3"><a id="GUID-932AB688-83A8-44BA-8D8B-9000EFDFA3C6" name="GUID-932AB688-83A8-44BA-8D8B-9000EFDFA3C6"></a><h5 id="OLSAG-GUID-932AB688-83A8-44BA-8D8B-9000EFDFA3C6" class="sect5">在降级之前运行Oracle Label Security预处理脚本</h5>
                     <div>
                        <p>在运行Oracle Label Security预处理脚本进行降级之前，必须以<code class="codeph">SYS</code>和<code class="codeph">SYSDBA</code>管理权限连接。
                        </p>
                        <ol>
                           <li class="stepexpand"><span>连接到要降级的数据库。在系统提示符下，输入：</span><div><pre class="oac_no_warn" dir="ltr">CONN SYS AS SYSDBA输入密码<span class="italic">密码</span>
</pre></div>
                           </li>
                           <li class="stepexpand"><span>运行OLS预处理降级脚本：</span><div><pre class="oac_no_warn" dir="ltr">@ $ ORACLE_HOME / RDBMS /管理/ olspredowngrade.sql</pre></div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="performing-dba-functions-under-oracle-label-security.html#GUID-721C4F6D-B45D-4E45-A256-767A973888AE" title="Oracle提供了一个预处理脚本，您必须在降级之前运行该脚本。">Oracle Label Security降级</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>