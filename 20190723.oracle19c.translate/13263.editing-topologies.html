<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Node and edge data in a topology can be edited. The operations include adding, moving, and removing nodes and edges, and updating the coordinates of an edge."></meta>
      <meta name="description" content="Node and edge data in a topology can be edited. The operations include adding, moving, and removing nodes and edges, and updating the coordinates of an edge."></meta>
      <title>编辑拓扑</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Topology Data Model and Network Data Model Graph Developer&#39;s Guide"></meta>
      <meta property="og:description" content="Node and edge data in a topology can be edited. The operations include adding, moving, and removing nodes and edges, and updating the coordinates of an edge."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Topology Data Model and Network Data Model Graph Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="spatial-and-graph-topology-data-model-and-network-data-model-graph-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-10T12:24:53-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2003, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E94802-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="topology-data-model-overview.html" title="Previous" type="text/html"></link>
      <link rel="next" href="SDO_TOPO-reference.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Spatial and Graph Topology Data Model and Network Data Model Graph Developer&#39;s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="TOPOL"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="topology-data-model-overview.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="SDO_TOPO-reference.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">拓扑数据模型和网络数据模型图开发人员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="topology-data-model.html" property="item" typeof="WebPage"><span property="name">拓扑数据模型</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">编辑拓扑</li>
            </ol>
            <a id="GUID-A457C07B-627F-45D7-BFED-336C8ED9D2DA" name="GUID-A457C07B-627F-45D7-BFED-336C8ED9D2DA"></a><a id="TOPOL150"></a>
            
            <h2 id="TOPOL-GUID-A457C07B-627F-45D7-BFED-336C8ED9D2DA" class="sect2"><span class="enumeration_chapter">2</span>编辑拓扑</h2>
         </header>
         <div class="ind">
            <div>
               <p>可以编辑拓扑中的节点和边缘数据。这些操作包括添加，移动和删除节点和边，以及更新边的坐标。</p>
               <p>本章介绍了编辑拓扑数据的两种方法，并解释了为什么在大多数情况下，一种方法（创建和使用特殊缓存）更好。它还描述了一些主要类型的编辑操作的行为和含义。</p>
               <p>本章中的解释主要涉及MDSYS.SDO_TOPO_MAP包中提供的PL / SQL应用程序编程接口（API），该程序包记录在<a href="SDO_TOPO_MAP-reference.html#GUID-7DDDFF77-C1B6-43A3-8F7A-684F03B4F0F0" title="MDSYS.SDO_TOPO_MAP包中包含子程序（函数和过程），这些子程序构成了空间和图形拓扑数据模型功能的PL / SQL应用程序编程接口（API）的一部分。">SDO_TOPO_MAP包子程序中</a> 。但是，您也可以使用客户端Java API执行拓扑编辑操作，该API在<a href="topology-data-model-overview.html#GUID-961510D5-308C-4AFC-BED3-27E533F3522A">拓扑数据模型Java接口中</a>引入，并在Javadoc生成的文档中进行了解释。
               </p>
               <p>要编辑拓扑数据，请始终使用PL / SQL或Java API。不要尝试通过直接修改节点，边或面信息表来执行编辑操作。</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="editing-topologies.html#GUID-3855F8F8-35C3-43F7-97AE-612C98A4F3CF">编辑拓扑数据的方法</a><br>无论何时需要编辑拓扑，都可以使用PL / SQL或Java API。在这两种情况下，Oracle Spatial and Graph都使用内存中的拓扑缓存，特别是TopoMap对象。
                  </li>
                  <li class="ulchildlink"><a href="editing-topologies.html#GUID-FC9B2AC9-2B65-4327-91F6-893A4EAC2A40">在节点上执行操作</a><br>本主题包含描述添加，移动和删除节点的效果的部分，以及解释如何使用PL / SQL API执行这些操作的部分。</li>
                  <li class="ulchildlink"><a href="editing-topologies.html#GUID-48615C1B-6AAA-4088-B575-B9183737931C">在边缘上执行操作</a><br>本主题描述添加，移动，删除和更新边的效果，并说明如何使用PL / SQL API执行这些操作。</li>
               </ul>
               <div class="infoboxnotealso" id="GUID-A457C07B-627F-45D7-BFED-336C8ED9D2DA__GUID-C12E4D8E-997B-4CD2-B58D-1D07018310E2">
                  <p class="notep1">也可以看看：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="topology-data-model-overview.html#GUID-C9C61D47-EE18-42E8-BC46-984CC8322566">跨模式拓扑编辑</a></p>
                     </li>
                  </ul>
               </div>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="topology-data-model.html#GUID-568DB747-C605-43E8-A8B4-8FA268B9D687" title="本部分介绍Oracle Spatial and Graph的拓扑数据模型功能。">拓扑数据模型</a></p>
                  </div>
               </div>
            </div>
            <a id="TOPOL792"></a><div class="props_rev_3"><a id="GUID-3855F8F8-35C3-43F7-97AE-612C98A4F3CF" name="GUID-3855F8F8-35C3-43F7-97AE-612C98A4F3CF"></a><h3 id="TOPOL-GUID-3855F8F8-35C3-43F7-97AE-612C98A4F3CF" class="sect3"><span class="enumeration_section">2.1</span>编辑拓扑数据的方法</h3>
               <div>
                  <div><span>无论何时需要编辑拓扑，都可以使用PL / SQL或Java API。在这两种情况下，Oracle Spatial and Graph都使用内存中的拓扑缓存，特别是TopoMap对象。</span> （ <a href="editing-topologies.html#GUID-0323CEFB-CF1B-4435-AA16-6BBF93D1CB87">TopoMap Objects中</a>描述了<a href="editing-topologies.html#GUID-0323CEFB-CF1B-4435-AA16-6BBF93D1CB87">此对象</a> 。）
                  </div>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>如果使用PL / SQL API，则可以显式创建和使用缓存，也可以允许Spatial和Graph自动创建和使用缓存。</p>
                     </li>
                     <li>
                        <p>如果使用Java API，则必须显式创建并使用缓存。</p>
                     </li>
                  </ul>
                  <p>允许Spatial和Graph自动创建和管理缓存更简单，因为它比创建和使用缓存涉及更少的步骤。但是，由于允许Spatial和Graph创建和管理缓存涉及更多的数据库活动和磁盘访问，因此当您需要编辑多个拓扑元素时效率较低。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="editing-topologies.html#GUID-0323CEFB-CF1B-4435-AA16-6BBF93D1CB87">TopoMap对象</a><br></li>
                     <li class="ulchildlink"><a href="editing-topologies.html#GUID-E483DC2C-7692-4BBC-86EF-369D2A0EB85B">使用拓扑参数指定编辑方法</a><br></li>
                     <li class="ulchildlink"><a href="editing-topologies.html#GUID-7EF84B42-0144-47C6-A42D-DE8713EB92CB">使用GET_xxx拓扑函数</a><br></li>
                     <li class="ulchildlink"><a href="editing-topologies.html#GUID-787B4DAE-DE0B-4D0B-9DA2-4690EDCB97AB">显式使用缓存编辑的过程（PL / SQL API）</a><br></li>
                     <li class="ulchildlink"><a href="editing-topologies.html#GUID-E6572550-0C53-422B-BE94-51E8F07AC138">使用Java API进行编辑的过程</a><br></li>
                     <li class="ulchildlink"><a href="editing-topologies.html#GUID-C909018F-4031-48DF-8EAB-81F4152B90CD">拓扑编辑的错误处理</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="editing-topologies.html#GUID-A457C07B-627F-45D7-BFED-336C8ED9D2DA" title="可以编辑拓扑中的节点和边缘数据。这些操作包括添加，移动和删除节点和边，以及更新边的坐标。">编辑拓扑</a></p>
                     </div>
                  </div>
               </div>
               <a id="TOPOL793"></a><div class="props_rev_3"><a id="GUID-0323CEFB-CF1B-4435-AA16-6BBF93D1CB87" name="GUID-0323CEFB-CF1B-4435-AA16-6BBF93D1CB87"></a><h4 id="TOPOL-GUID-0323CEFB-CF1B-4435-AA16-6BBF93D1CB87" class="sect4"><span class="enumeration_section">2.1.1</span> TopoMap对象</h4>
                  <div>
                     <p><span class="bold">TopoMap对象</span>与与拓扑关联的内存高速缓存关联。如果显式创建并使用缓存来编辑拓扑，则必须创建要与拓扑关联的TopoMap对象，将全部或部分拓扑加载到缓存中，编辑对象，定期更新拓扑以将更改写入数据库，提交缓存中所做的更改，并清除缓存。
                     </p>
                     <p>尽管此方法涉及的步骤多于允许Spatial和Graph自动创建和使用缓存，但对于大多数拓扑编辑会话而言，它通常会影响数百或数千个拓扑元素，因此速度更快，效率更高。这是大多数解释和插图中显示的方法。</p>
                     <p><a id="d13818e223" class="indexterm-anchor"></a><a id="d13818e227" class="indexterm-anchor"></a><a id="d13818e231" class="indexterm-anchor"></a><a id="d13818e233" class="indexterm-anchor"></a> TopoMap对象可以是可更新的或只读的，具体取决于调用<a href="SDO_TOPO_MAP-reference.html#GUID-B178D720-02C0-4A24-921D-E8FACB84C2F2">SDO_TOPO_MAP.LOAD_TOPO_MAP</a>函数或过程时<code class="codeph">allow_updates</code>参数的值：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>使用只读TopoMap对象，加载拓扑元素（基元）但不锁定。</p>
                        </li>
                        <li>
                           <p>使用可更新的TopoMap对象，可以加载和锁定拓扑元素（基元）。如果为可更新的TopoMap对象指定了矩形窗口，则只能编辑指定窗口内的拓扑元素。（TopoMap对象还可能包含您无法直接编辑的锁定拓扑元素，但Oracle Spatial和Graph可以根据需要间接修改。）</p>
                           <p>有关使用可更新的TopoMap对象时发生的情况的更多信息，请参阅<a href="SDO_TOPO_MAP-reference.html#GUID-B178D720-02C0-4A24-921D-E8FACB84C2F2">SDO_TOPO_MAP.LOAD_TOPO_MAP</a>函数或过程的使用说明。
                           </p>
                        </li>
                     </ul>
                     <p>以下过程将可更新的TopoMap对象设置为只读：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="SDO_TOPO_MAP-reference.html#GUID-AE05A693-8EEB-4EEC-905C-AF96943B0B10">SDO_TOPO_MAP.COMMIT_TOPO_MAP</a></p>
                        </li>
                        <li>
                           <p><a href="SDO_TOPO_MAP-reference.html#GUID-5C4DC6C5-4F4C-48CD-BC1A-96A039B5B38C">SDO_TOPO_MAP.ROLLBACK_TOPO_MAP</a></p>
                        </li>
                        <li>
                           <p><a href="SDO_TOPO_MAP-reference.html#GUID-224A6A71-AB01-4D9B-939C-7366AACD3376">SDO_TOPO_MAP.CLEAR_TOPO_MAP</a></p>
                        </li>
                     </ul>
                     <p>在任何给定时间的用户会话中，只能有一个可更新的TopoMap对象。但是，多个不同的用户会话可以使用基于相同拓扑的可更新TopoMap对象，只要它们的编辑窗口不包含任何其他可更新TopoMap对象中的任何拓扑元素。用户会话内和跨用户会话可以有多个只读TopoMap对象。</p>
                     <p>只要编辑窗口（在调用<a href="SDO_TOPO_MAP-reference.html#GUID-B178D720-02C0-4A24-921D-E8FACB84C2F2">SDO_TOPO_MAP.LOAD_TOPO_MAP</a>函数或过程中指定）不重叠，两个或多个用户就可以同时编辑拓扑。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="editing-topologies.html#GUID-3855F8F8-35C3-43F7-97AE-612C98A4F3CF" title="无论何时需要编辑拓扑，都可以使用PL / SQL或Java API。在这两种情况下，Oracle Spatial and Graph都使用内存中的拓扑缓存，特别是TopoMap对象。">编辑拓扑数据的方法</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TOPOL794"></a><div class="props_rev_3"><a id="GUID-E483DC2C-7692-4BBC-86EF-369D2A0EB85B" name="GUID-E483DC2C-7692-4BBC-86EF-369D2A0EB85B"></a><h4 id="TOPOL-GUID-E483DC2C-7692-4BBC-86EF-369D2A0EB85B" class="sect4"><span class="enumeration_section">2.1.2</span>使用拓扑参数指定编辑方法</h4>
                  <div>
                     <p>对于许多编辑拓扑的SDO_TOPO_MAP包函数和过程，例如<a href="SDO_TOPO_MAP-reference.html#GUID-04E9B2DD-AB7E-4343-907B-C7315F20BEF2">SDO_TOPO_MAP.ADD_NODE</a>或<a href="SDO_TOPO_MAP-reference.html#GUID-3EF0E053-EEE0-45EE-B4FD-E782115942BC">SDO_TOPO_MAP.MOVE_EDGE</a> ，通过为第一个参数指定拓扑名称或空值来指示您用于编辑的方法，该参数名为<code class="codeph">topology</code> ：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果指定拓扑名称，则Spatial和Graph将检查用户会话中是否已存在可更新的TopoMap对象;如果不存在，Spatial和Graph将创建一个内部TopoMap对象，使用该缓存执行编辑操作，提交更改（如果发生异常，则在流程开始时将更改回滚到保存点），并删除TopoMap对象。（如果已存在可更新的TopoMap对象，则会引发异常。）例如，以下语句从<code class="codeph">MY_TOPO</code>拓扑中删除节点ID值为99的节点：</p><pre class="oac_no_warn" dir="ltr">CALL SDO_TOPO_MAP.REMOVE_NODE（'MY_TOPO'，99）;</pre></li>
                        <li>
                           <p>如果指定空值，则Spatial和Graph将检查用户会话中是否已存在可更新的TopoMap对象;如果确实存在，Spatial和Graph将在TopoMap对象的缓存中执行操作。（如果不存在可更新的TopoMap对象，则会引发异常。）例如，以下语句从当前可更新的TopoMap对象中删除节点ID值为99的节点：</p><pre class="oac_no_warn" dir="ltr">CALL SDO_TOPO_MAP.REMOVE_NODE（null，99）;</pre></li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="editing-topologies.html#GUID-3855F8F8-35C3-43F7-97AE-612C98A4F3CF" title="无论何时需要编辑拓扑，都可以使用PL / SQL或Java API。在这两种情况下，Oracle Spatial and Graph都使用内存中的拓扑缓存，特别是TopoMap对象。">编辑拓扑数据的方法</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TOPOL795"></a><div class="props_rev_3"><a id="GUID-7EF84B42-0144-47C6-A42D-DE8713EB92CB" name="GUID-7EF84B42-0144-47C6-A42D-DE8713EB92CB"></a><h4 id="TOPOL-GUID-7EF84B42-0144-47C6-A42D-DE8713EB92CB" class="sect4"><span class="enumeration_section">2.1.3</span>使用GET_xxx拓扑函数</h4>
                  <div>
                     <p>一些获取有关拓扑信息的SDO_TOPO_MAP包函数将<code class="codeph">topology</code>和<code class="codeph">topo_map</code>作为前两个参数。此类函数的示例是<a href="SDO_TOPO_MAP-reference.html#GUID-8579639E-B35B-4186-9AB5-A9C8CAE8D943">SDO_TOPO_MAP.GET_EDGE_COORDS</a>和<a href="SDO_TOPO_MAP-reference.html#GUID-FF02C5F8-CF94-4E91-AEE8-6E6067F07124">SDO_TOPO_MAP.GET_NODE_STAR</a> 。要使用这些函数，请为一个参数指定有效值，为另一个参数指定空值，如下所示：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>如果指定有效的<code class="codeph">topology</code>参数值，则Spatial和Graph将检索指定拓扑的信息。它创建一个内部TopoMap对象，使用该缓存执行操作，并删除TopoMap对象。例如，以下语句返回<code class="codeph">CITY_DATA</code>拓扑中ID值为1的边的边坐标：</p><pre class="oac_no_warn" dir="ltr">SELECT SDO_TOPO_MAP.GET_EDGE_COORDS（'CITY_DATA'，null，1）FROM DUAL;</pre></li>
                        <li>
                           <p>如果指定空<code class="codeph">topology</code>参数值和有效的<code class="codeph">topo_map</code>参数值，则Spatial和Graph将使用指定的TopoMap对象（可以更新或只读）来检索指定拓扑的信息。例如，以下语句从<code class="codeph">CITY_DATA_TOPOMAP</code> TopoMap对象返回ID值为1的边的边坐标：</p><pre class="oac_no_warn" dir="ltr">SELECT SDO_TOPO_MAP.GET_EDGE_COORDS（null，'CITY_DATA_TOPOMAP'，1）FROM DUAL;</pre></li>
                        <li>
                           <p>如果为<code class="codeph">topology</code>和<code class="codeph">topo_map</code>参数指定null或invalid值，则会引发异常。
                           </p>
                        </li>
                     </ul>
                     <p>获取有关拓扑编辑操作的信息的某些SDO_TOPO_MAP包函数没有参数。此类函数的示例是<a href="SDO_TOPO_MAP-reference.html#GUID-83435605-07A4-4BAD-A77B-B7BB1F2A54B9">SDO_TOPO_MAP.GET_FACE_ADDITIONS</a>和<a href="SDO_TOPO_MAP-reference.html#GUID-0FEF9A33-788D-4BE1-B93D-489B873EF5B5">SDO_TOPO_MAP.GET_NODE_CHANGES</a> 。这些函数使用当前可更新的TopoMap对象。如果不存在可更新的TopoMap对象，则会引发异常。例如，以下语句返回SDO_NUMBER_ARRAY对象（在<a href="topology-data-model-overview.html#GUID-CC31A2D6-2225-492F-B930-B8C438E28E3B">SDO_EDGE_ARRAY和SDO_NUMBER_ARRAY类型中</a>描述），其中包含已添加到当前可更新TopoMap对象的节点的节点ID值：</p><pre class="oac_no_warn" dir="ltr">从DUAL中选择SDO_TOPO_MAP.GET_NODE_ADDITIONS;</pre></div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="editing-topologies.html#GUID-3855F8F8-35C3-43F7-97AE-612C98A4F3CF" title="无论何时需要编辑拓扑，都可以使用PL / SQL或Java API。在这两种情况下，Oracle Spatial and Graph都使用内存中的拓扑缓存，特别是TopoMap对象。">编辑拓扑数据的方法</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TOPOL797"></a><a id="TOPOL796"></a><div class="props_rev_3"><a id="GUID-787B4DAE-DE0B-4D0B-9DA2-4690EDCB97AB" name="GUID-787B4DAE-DE0B-4D0B-9DA2-4690EDCB97AB"></a><h4 id="TOPOL-GUID-787B4DAE-DE0B-4D0B-9DA2-4690EDCB97AB" class="sect4"><span class="enumeration_section">2.1.4</span>显式使用缓存编辑的过程（PL / SQL API）</h4>
                  <div>
                     <p><a href="editing-topologies.html#GUID-787B4DAE-DE0B-4D0B-9DA2-4690EDCB97AB__CEGBBECG">图2-1</a>显示了使用PL / SQL API编辑拓扑元素并显式使用TopoMap对象及其关联缓存的推荐过程。
                     </p>
                     <div class="figure" id="GUID-787B4DAE-DE0B-4D0B-9DA2-4690EDCB97AB__CEGBBECG">
                        <p class="titleinfigure">图2-1使用TopoMap对象缓存（PL / SQL API）编辑拓扑</p><img width="568" src="img/topo_editing_plsql.gif" alt="下面描述图2-1" title="下面描述图2-1" longdesc="img_text/topo_editing_plsql.html"><br><a href="img_text/topo_editing_plsql.html">“图2-1使用TopoMap对象缓存（PL / SQL API）编辑拓扑”的描述</a></div>
                     <!-- class="figure" -->
                     <p><a href="editing-topologies.html#GUID-787B4DAE-DE0B-4D0B-9DA2-4690EDCB97AB__CEGBBECG">如图2-1</a>所示，基本顺序如下：</p>
                     <ol>
                        <li>
                           <p>使用<a href="SDO_TOPO_MAP-reference.html#GUID-846D5683-FCFD-4BBB-8969-47B41ADAEE0D">SDO_TOPO_MAP.CREATE_TOPO_MAP</a>过程创建TopoMap对象。
                           </p>
                           <p>这将创建一个内存高速缓存，用于编辑与指定拓扑关联的对象。</p>
                        </li>
                        <li>
                           <p>使用<a href="SDO_TOPO_MAP-reference.html#GUID-B178D720-02C0-4A24-921D-E8FACB84C2F2">SDO_TOPO_MAP.LOAD_TOPO_MAP</a>函数或过程将整个拓扑或矩形窗口从拓扑加载到TopoMap对象缓存中以进行更新。
                           </p>
                           <p>您可以指定在正在加载的边和面上构建内存中的R树索引。这些索引使用一些内存资源，需要一些时间来创建和定期重建;但是，如果在会话中编辑大量拓扑元素，它们可以显着提高性能。（它们还可以提高使用只读TopoMap对象的查询的性能。）</p>
                        </li>
                        <li>
                           <p>执行许多拓扑编辑操作（例如，添加1000个节点）。</p>
                           <p>定期通过调用<a href="SDO_TOPO_MAP-reference.html#GUID-0B1B7F60-E0C0-4D5F-9EF5-96EF14E4E4B1">SDO_TOPO_MAP.VALIDATE_TOPO_MAP</a>函数来验证缓存。
                           </p>
                           <p>您可以使用<a href="SDO_TOPO_MAP-reference.html#GUID-92DF4764-8E33-4854-B869-B6C67D163FE1">SDO_TOPO_MAP.CREATE_EDGE_INDEX</a>和<a href="SDO_TOPO_MAP-reference.html#GUID-CDE0AF3B-444A-4C93-B4F9-B77E0D04FCB5">SDO_TOPO_MAP.CREATE_FACE_INDEX</a>过程在TopoMap对象的边和面上重建现有的内存中R树索引，或者如果不存在则创建新索引。为了获得最佳索引性能，在编辑大量拓扑元素时，应定期重建这些索引。
                           </p>
                           <p>如果要放弃在缓存中进行的编辑，请调用<a href="SDO_TOPO_MAP-reference.html#GUID-224A6A71-AB01-4D9B-939C-7366AACD3376">SDO_TOPO_MAP.CLEAR_TOPO_MAP</a>过程。如果有任何未提交的更新，此过程将失败;否则，它清除缓存中的数据并将缓存设置为只读。
                           </p>
                        </li>
                        <li>
                           <p>通过调用<a href="SDO_TOPO_MAP-reference.html#GUID-620FE4C3-0AC3-48C0-BCF4-B3E8AAA1DC6E">SDO_TOPO_MAP.UPDATE_TOPO_MAP</a>过程来更新拓扑。
                           </p>
                        </li>
                        <li>
                           <p>根据需要，重复步骤3和4（编辑对象，验证缓存，重建R树索引以及更新拓扑），直到完成拓扑编辑操作。</p>
                        </li>
                        <li>
                           <p>通过调用<a href="SDO_TOPO_MAP-reference.html#GUID-AE05A693-8EEB-4EEC-905C-AF96943B0B10">SDO_TOPO_MAP.COMMIT_TOPO_MAP</a>过程来提交拓扑更改。（ <a href="SDO_TOPO_MAP-reference.html#GUID-620FE4C3-0AC3-48C0-BCF4-B3E8AAA1DC6E">SDO_TOPO_MAP.COMMIT_TOPO_MAP</a>过程在提交更改之前自动执行<a href="SDO_TOPO_MAP-reference.html#GUID-AE05A693-8EEB-4EEC-905C-AF96943B0B10">SDO_TOPO_MAP.UPDATE_TOPO_MAP</a>过程的操作。）在提交操作之后，缓存变为只读（即，它不再可更新）。但是，如果要使用相同的TopoMap对象执行进一步的编辑操作，可以再次加载并使用它（即，重复步骤2到5，必要时首先清除缓存）。
                           </p>
                           <p>要执行进一步的编辑操作，请通过调用<a href="SDO_TOPO_MAP-reference.html#GUID-224A6A71-AB01-4D9B-939C-7366AACD3376">SDO_TOPO_MAP.CLEAR_TOPO_MAP</a>过程清除TopoMap对象缓存，然后转到步骤2。
                           </p>
                           <p>如果要放弃所有未提交的拓扑更改，可以随时调用<a href="SDO_TOPO_MAP-reference.html#GUID-5C4DC6C5-4F4C-48CD-BC1A-96A039B5B38C">SDO_TOPO_MAP.ROLLBACK_TOPO_MAP</a>过程。在回滚操作之后，清除缓存。
                           </p>
                        </li>
                        <li>
                           <p>通过调用<a href="SDO_TOPO_MAP-reference.html#GUID-48216A60-21E7-4DFB-8AE9-D1C8D50EE6DA">SDO_TOPO_MAP.DROP_TOPO_MAP</a>过程删除TopoMap对象。
                           </p>
                           <p>此过程将删除TopoMap对象并释放它已使用的所有资源。（如果您忘记删除TopoMap对象，则会在用户会话结束时自动删除它。）此过程还会回滚缓存中尚未提交的任何拓扑更改。</p>
                           <p>如果应用程序异常终止，则将丢弃对数据库的所有未提交的更改。</p>
                        </li>
                     </ol>
                     <p>如果计划执行大量拓扑编辑操作，则可以在多个编辑会话之间划分操作，每个编辑会话执行前面列表中的步骤1到7。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="editing-topologies.html#GUID-3855F8F8-35C3-43F7-97AE-612C98A4F3CF" title="无论何时需要编辑拓扑，都可以使用PL / SQL或Java API。在这两种情况下，Oracle Spatial and Graph都使用内存中的拓扑缓存，特别是TopoMap对象。">编辑拓扑数据的方法</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TOPOL799"></a><a id="TOPOL798"></a><div class="props_rev_3"><a id="GUID-E6572550-0C53-422B-BE94-51E8F07AC138" name="GUID-E6572550-0C53-422B-BE94-51E8F07AC138"></a><h4 id="TOPOL-GUID-E6572550-0C53-422B-BE94-51E8F07AC138" class="sect4"><span class="enumeration_section">2.1.5</span>使用Java API进行编辑的过程</h4>
                  <div>
                     <p><a href="editing-topologies.html#GUID-E6572550-0C53-422B-BE94-51E8F07AC138__CEGHDDBF">图2-2</a>显示了使用客户端Java API编辑拓扑元素的推荐过程，该API在<a href="topology-data-model-overview.html#GUID-961510D5-308C-4AFC-BED3-27E533F3522A">拓扑数据模型Java接口中</a>引入，并在Javadoc生成的文档中进行了解释。Java API要求您创建和管理TopoMap对象及其关联的缓存。
                     </p>
                     <div class="figure" id="GUID-E6572550-0C53-422B-BE94-51E8F07AC138__CEGHDDBF">
                        <p class="titleinfigure">图2-2使用TopoMap对象缓存（Java API）编辑拓扑</p><img width="533" src="img/topo_editing_java.gif" alt="下面是图2-2的描述" title="下面是图2-2的描述" longdesc="img_text/topo_editing_java.html"><br><a href="img_text/topo_editing_java.html">“图2-2使用TopoMap对象缓存（Java API）编辑拓扑”的说明</a></div>
                     <!-- class="figure" -->
                     <p><a href="editing-topologies.html#GUID-E6572550-0C53-422B-BE94-51E8F07AC138__CEGHDDBF">如图2-2</a>所示，基本顺序如下：</p>
                     <ol>
                        <li>
                           <p>使用<code class="codeph">TopoMap</code>类的构造函数创建TopoMap对象，指定拓扑和数据库连接。
                           </p>
                           <p>这将创建一个内存高速缓存，用于编辑与指定拓扑关联的对象。</p>
                        </li>
                        <li>
                           <p>使用<code class="codeph">TopoMap</code>类的<code class="codeph">loadTopology</code>或<code class="codeph">loadWindow</code>方法将整个拓扑或矩形窗口从拓扑加载到TopoMap对象缓存中以进行更新。
                           </p>
                           <p>您可以指定在受影响的边缘和边缘面上构建内存中的R树索引。这些索引使用一些内存资源，需要一些时间来创建和定期重建;但是，如果在数据库连接期间编辑大量拓扑元素，它们可以显着提高性能。</p>
                        </li>
                        <li>
                           <p>执行许多拓扑编辑操作（例如，添加1000个节点），并通过调用<code class="codeph">TopoMap</code>类的<code class="codeph">updateTopology</code>方法更新拓扑。
                           </p>
                           <p>定期通过调用<code class="codeph">TopoMap</code>类的<code class="codeph">validateCache</code>方法验证缓存。
                           </p>
                           <p>如果在加载TopoMap对象时创建了内存中的R树索引（在步骤2中），则可以定期（例如，在每次添加100个节点之后）通过调用<code class="codeph">createEdgeIndex</code>和<code class="codeph">createFaceIndex</code>方法重建索引。 <code class="codeph">TopoMap</code>类。为了获得最佳索引性能，在编辑大量拓扑元素时，应定期重建这些索引。
                           </p>
                           <p>如果您不想更新拓扑但希望放弃自上次更新以来在缓存中进行的编辑，请调用<code class="codeph">TopoMap</code>类的<code class="codeph">clearCache</code>方法。如果有任何未提交的更新， <code class="codeph">clearCache</code>方法将失败;否则，它清除缓存中的数据并将缓存设置为只读。
                           </p>
                        </li>
                        <li>
                           <p>通过调用<code class="codeph">TopoMap</code>类的<code class="codeph">updateTopology</code>方法更新拓扑。
                           </p>
                        </li>
                        <li>
                           <p>根据需要，重复步骤3和4（编辑对象，验证缓存，重建R树索引以及更新拓扑），直到完成拓扑编辑操作。</p>
                        </li>
                        <li>
                           <p>通过调用<code class="codeph">TopoMap</code>类的<code class="codeph">commitDB</code>方法来提交拓扑更改。（ <code class="codeph">commitDB</code>方法在提交更改之前会自动调用<code class="codeph">updateTopology</code>方法。）在提交操作之后，缓存变为只读（即，它不再可更新）。但是，如果要使用相同的TopoMap对象执行进一步的编辑操作，可以再次加载并使用它（即，重复步骤2到5，必要时首先清除缓存）。
                           </p>
                           <p>要执行进一步的编辑操作，请通过调用<code class="codeph">TopoMap</code>类的<code class="codeph">clearCache</code>方法清除TopoMap对象缓存，然后转到步骤2。
                           </p>
                           <p>如果要放弃所有未提交的拓扑更改，可以随时调用<code class="codeph">TopoMap</code>类的<code class="codeph">rollbackDB</code>方法。在回滚操作之后，清除缓存。
                           </p>
                        </li>
                        <li>
                           <p>通过将TopoMap对象设置为null来删除TopoMap对象，这使该对象可用于垃圾回收并释放它已使用的任何资源。（如果您忘记删除TopoMap对象，它将在应用程序结束时自动进行垃圾回收。）</p>
                           <p>如果应用程序异常终止，则将丢弃对数据库的所有未提交的更改。</p>
                        </li>
                     </ol>
                     <p>如果计划执行大量拓扑编辑操作，则可以在多个编辑会话之间划分操作，每个编辑会话执行前面列表中的步骤1到7。</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="editing-topologies.html#GUID-3855F8F8-35C3-43F7-97AE-612C98A4F3CF" title="无论何时需要编辑拓扑，都可以使用PL / SQL或Java API。在这两种情况下，Oracle Spatial and Graph都使用内存中的拓扑缓存，特别是TopoMap对象。">编辑拓扑数据的方法</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TOPOL800"></a><div class="props_rev_3"><a id="GUID-C909018F-4031-48DF-8EAB-81F4152B90CD" name="GUID-C909018F-4031-48DF-8EAB-81F4152B90CD"></a><h4 id="TOPOL-GUID-C909018F-4031-48DF-8EAB-81F4152B90CD" class="sect4"><span class="enumeration_section">2.1.6</span>拓扑编辑的错误处理</h4>
                  <div>
                     <p>本节讨论以下条件。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="editing-topologies.html#GUID-A9CD95C6-F639-40E8-9B0E-DE1BEBE357BB">输入参数错误</a><br></li>
                        <li class="ulchildlink"><a href="editing-topologies.html#GUID-DBEA9CB9-EDCC-4416-B0A6-9B2A83CE2EA5">所有例外情况</a><br></li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="editing-topologies.html#GUID-3855F8F8-35C3-43F7-97AE-612C98A4F3CF" title="无论何时需要编辑拓扑，都可以使用PL / SQL或Java API。在这两种情况下，Oracle Spatial and Graph都使用内存中的拓扑缓存，特别是TopoMap对象。">编辑拓扑数据的方法</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="TOPOL801"></a><div class="props_rev_3"><a id="GUID-A9CD95C6-F639-40E8-9B0E-DE1BEBE357BB" name="GUID-A9CD95C6-F639-40E8-9B0E-DE1BEBE357BB"></a><h5 id="TOPOL-GUID-A9CD95C6-F639-40E8-9B0E-DE1BEBE357BB" class="sect5"><span class="enumeration_section">2.1.6.1</span>输入参数错误</h5>
                     <div>
                        <p>当调用<code class="codeph">TopoMap</code> Java类中的SDO_TOPO_MAP PL / SQL子程序或公共方法时，它会验证输入参数的值，并使用或创建TopoMap对象来执行编辑或只读操作。每当出现输入错误时，都会出现<code class="codeph">oracle.spatial.topo.抛出了TopoDataException</code>异常。当底层TopoMap对象执行操作时，可能会发生其他错误。
                        </p>
                        <p>如果从SQL或PL / SQL调用该方法，则调用方将收到以下错误消息：</p><pre class="oac_no_warn" dir="ltr">ORA-29532：Java调用因未捕获的Java异常而终止：&lt;特定错误消息文本&gt;</pre><p>以下PL / SQL示例显示了如何处理<code class="codeph">TopoDataException</code>异常：</p><pre class="oac_no_warn" dir="ltr">DECLARE topo_data_error EXCEPTION; PRAGMA EXCEPTION_INIT（topo_data_error，-29532）; BEGIN sdo_topo_map.create_topo_map（null，null，100,100,100）; topo_data_error那么EXMSPTION DBMS_OUTPUT.PUT_LINE（SQLERRM）;结束;/</pre><p>上面的示例生成以下输出：</p><pre class="oac_no_warn" dir="ltr">ORA-29532：Java调用因未捕获的Java异常终止：oracle.spatial.topo。TopoDataException：TopoMap名称无效</pre></div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="editing-topologies.html#GUID-C909018F-4031-48DF-8EAB-81F4152B90CD">拓扑编辑的错误处理</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="TOPOL802"></a><div class="props_rev_3"><a id="GUID-DBEA9CB9-EDCC-4416-B0A6-9B2A83CE2EA5" name="GUID-DBEA9CB9-EDCC-4416-B0A6-9B2A83CE2EA5"></a><h5 id="TOPOL-GUID-DBEA9CB9-EDCC-4416-B0A6-9B2A83CE2EA5" class="sect5"><span class="enumeration_section">2.1.6.2</span>所有例外情况</h5>
                     <div>
                        <p>在对<code class="codeph">TopoMap</code> Java类中的任何以下SDO_TOPO_MAP PL / SQL子程序或其相关方法的调用中发生任何异常时，将自动执行以下操作： <a href="SDO_TOPO_MAP-reference.html#GUID-D3945002-582C-484A-8D86-F20CF35C4555">SDO_TOPO_MAP.ADD_EDGE</a> （ <code class="codeph">addEdge</code> ）， <a href="SDO_TOPO_MAP-reference.html#GUID-7752EB56-41C8-4180-8C85-920B8E1A831A">SDO_TOPO_MAP.ADD_ISOLATED_NODE</a> （ <code class="codeph">addIsolatedNode</code> ）， <a href="SDO_TOPO_MAP-reference.html#GUID-D25D7695-9ABE-4087-93B7-A11E4A760027">SDO_TOPO_MAP.ADD_LOOP</a> （ <code class="codeph">addLoop</code> ）， <a href="SDO_TOPO_MAP-reference.html#GUID-04E9B2DD-AB7E-4343-907B-C7315F20BEF2">SDO_TOPO_MAP.ADD_NODE</a> （ <code class="codeph">addNode</code> ）， <a href="SDO_TOPO_MAP-reference.html#GUID-F469AC4E-0985-483F-A9FB-A3C2D22DD488">SDO_TOPO_MAP.ADD_POINT_GEOMETRY</a> （ <code class="codeph">addPointGeometry</code> ）， <a href="SDO_TOPO_MAP-reference.html#GUID-3D557747-2249-4BAF-B3C8-3D4A6CA80876">SDO_TOPO_MAP.ADD_POLYGON_GEOMETRY</a> （ <code class="codeph">addPolygonGeometry</code> ）， <a href="SDO_TOPO_MAP-reference.html#GUID-785884A2-4894-469B-B272-10E480F9EFC9">SDO_TOPO_MAP.CHANGE_EDGE_COORDS</a> （ <code class="codeph">changeEdgeCoords</code> ）， <a href="SDO_TOPO_MAP-reference.html#GUID-7D9214F5-D127-4A34-B34C-A1F4D807564E">SDO_TOPO_MAP.MOVE_ISOLATED_NODE</a> （ <code class="codeph">moveIsolatedNode</code> ）， <a href="SDO_TOPO_MAP-reference.html#GUID-5A836D8B-A319-46F2-B644-E845D6B804B9">SDO_TOPO_MAP.MOVE_NODE</a> （ <code class="codeph">moveNode</code> ）， <a href="SDO_TOPO_MAP-reference.html#GUID-3EF0E053-EEE0-45EE-B4FD-E782115942BC">SDO_TOPO_MAP.MOVE_EDGE</a> （ <code class="codeph">moveEdge</code> ）， <a href="SDO_TOPO_MAP-reference.html#GUID-B3C764F7-A021-4FBC-9ACB-ABB748DB1971">SDO_TOPO_MAP.REMOVE_EDGE</a> （ <code class="codeph">removeEdge</code> ）， <a href="SDO_TOPO_MAP-reference.html#GUID-087936D6-3E29-4598-9B86-A340C112F81C">SDO_TOPO_MAP.REMOVE_NODE</a> （ <code class="codeph">removeNode</code> ）和<a href="SDO_TOPO_MAP-reference.html#GUID-620FE4C3-0AC3-48C0-BCF4-B3E8AAA1DC6E">SDO_TOPO_MAP.UPDATE_TOPO_MAP</a> （ <code class="codeph">updateTopology</code> ）。
                        </p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>该事务被回滚。</p>
                           </li>
                           <li>
                              <p>TopoMap对象缓存已清除。</p>
                           </li>
                           <li>
                              <p>TopoMap对象是只读的。</p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="editing-topologies.html#GUID-C909018F-4031-48DF-8EAB-81F4152B90CD">拓扑编辑的错误处理</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div><a id="TOPOL803"></a><div class="props_rev_3"><a id="GUID-FC9B2AC9-2B65-4327-91F6-893A4EAC2A40" name="GUID-FC9B2AC9-2B65-4327-91F6-893A4EAC2A40"></a><h3 id="TOPOL-GUID-FC9B2AC9-2B65-4327-91F6-893A4EAC2A40" class="sect3"><span class="enumeration_section">2.2</span>在节点上执行操作</h3>
               <div>
                  <p>本主题包含描述添加，移动和删除节点的效果的部分，以及解释如何使用PL / SQL API执行这些操作的部分。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="editing-topologies.html#GUID-BFB9FFEE-D6AD-4DD0-9703-257BC3778C61">添加节点</a><br></li>
                     <li class="ulchildlink"><a href="editing-topologies.html#GUID-E280BEF9-D608-420A-93A6-DAE60A49CB8B">移动节点</a><br></li>
                     <li class="ulchildlink"><a href="editing-topologies.html#GUID-56FF6B73-2042-44C4-9E4C-46AF6DE2B867">删除节点</a><br></li>
                     <li class="ulchildlink"><a href="editing-topologies.html#GUID-723A45B4-D759-4807-8A30-081552D0C8DF">删除过时的节点</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="editing-topologies.html#GUID-A457C07B-627F-45D7-BFED-336C8ED9D2DA" title="可以编辑拓扑中的节点和边缘数据。这些操作包括添加，移动和删除节点和边，以及更新边的坐标。">编辑拓扑</a></p>
                     </div>
                  </div>
               </div>
               <a id="TOPOL805"></a><a id="TOPOL806"></a><a id="TOPOL804"></a><div class="props_rev_3"><a id="GUID-BFB9FFEE-D6AD-4DD0-9703-257BC3778C61" name="GUID-BFB9FFEE-D6AD-4DD0-9703-257BC3778C61"></a><h4 id="TOPOL-GUID-BFB9FFEE-D6AD-4DD0-9703-257BC3778C61" class="sect4"><span class="enumeration_section">2.2.1</span>添加节点</h4>
                  <div>
                     <p>添加非隔离节点会将节点添加到当前位于边缘的点处的边缘。此操作还会分割边缘，从而将原始边缘分成两条边。Spatial和Graph会自动调整原始边的定义并创建新边（为其指定一个在拓扑中的边之间唯一的ID值）。</p>
                     <p>要添加非隔离节点，请使用<a href="SDO_TOPO_MAP-reference.html#GUID-04E9B2DD-AB7E-4343-907B-C7315F20BEF2">SDO_TOPO_MAP.ADD_NODE</a>函数。要添加隔离节点，请使用<a href="SDO_TOPO_MAP-reference.html#GUID-7752EB56-41C8-4180-8C85-920B8E1A831A">SDO_TOPO_MAP.ADD_ISOLATED_NODE</a>函数。
                     </p>
                     <p><a href="editing-topologies.html#GUID-BFB9FFEE-D6AD-4DD0-9703-257BC3778C61__CEGCJDJE">图2-3</a>显示了在边缘E1上添加节点（N3）。
                     </p>
                     <div class="figure" id="GUID-BFB9FFEE-D6AD-4DD0-9703-257BC3778C61__CEGCJDJE">
                        <p class="titleinfigure">图2-3添加非隔离节点</p><img width="437" src="img/add_node.gif" alt="下面是图2-3的描述" title="下面是图2-3的描述" longdesc="img_text/add_node.html"><br><a href="img_text/add_node.html">“图2-3添加非隔离节点”的描述</a></div>
                     <!-- class="figure" -->
                     <p>由于操作如图<a href="editing-topologies.html#GUID-BFB9FFEE-D6AD-4DD0-9703-257BC3778C61__CEGCJDJE">2-3</a>所示：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>边缘E1被重新定义在原始边缘的起始点和添加节点（N3）的点之间。</p>
                        </li>
                        <li>
                           <p>边缘E2已创建。它的起始点是节点N3处的点，其终点是原始边缘的终点。</p>
                        </li>
                        <li>
                           <p>如果在原始边缘上定义了任何线性要素，则会自动将它们重新定义为在两个结果边缘上，分割边缘，并将记录添加到拓扑的历史信息表（在<a href="topology-data-model-overview.html#GUID-68020A3E-978F-4EB7-AAA8-8DABA17533BF">历史信息表中</a>进行说明）。例如，如果在<a href="editing-topologies.html#GUID-BFB9FFEE-D6AD-4DD0-9703-257BC3778C61__CEGCJDJE">图2-3中</a>的原始边缘E1上定义了名为Main Street的街道，则在添加节点N3之后，将在E1和E2的两个边缘上定义主街道。
                           </p>
                        </li>
                     </ul>
                     <p><a href="editing-topologies.html#GUID-BFB9FFEE-D6AD-4DD0-9703-257BC3778C61__CEGHJIEE">图2-4</a>显示了添加节点的更复杂示例，其中结果取决于添加的节点是否是原始边缘的新形状点（即，对于<code class="codeph">is_new_shape_point</code>参数的<a href="SDO_TOPO_MAP-reference.html#GUID-04E9B2DD-AB7E-4343-907B-C7315F20BEF2">值</a>功能）。
                     </p>
                     <div class="figure" id="GUID-BFB9FFEE-D6AD-4DD0-9703-257BC3778C61__CEGHJIEE">
                        <p class="titleinfigure">图2-4 is_new_shape_point值对添加节点的影响</p><img width="439" src="img/add_node_2.gif" alt="下面是图2-4的描述" title="下面是图2-4的描述" longdesc="img_text/add_node_2.html"><br><a href="img_text/add_node_2.html">“图2-4 is_new_shape_point值对添加节点的影响”的描述</a></div>
                     <!-- class="figure" -->
                     <p>在<a href="editing-topologies.html#GUID-BFB9FFEE-D6AD-4DD0-9703-257BC3778C61__CEGHJIEE">图2-4中</a> ：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>在图的顶部，原始边缘（E1）从节点N1开始，在节点N2处结束，并且具有两个中间形状点。</p>
                        </li>
                        <li>
                           <p>在图的中间部分，添加了一个新节点（N3），它不是原始边的形状点，而是一个新的形状点（即， <code class="codeph">is_new_shape_point=&gt;'TRUE'</code> ）。新节点添加在使用<code class="codeph">point</code>参数指定的位置，并在<code class="codeph">coord_index</code>参数中指定的顶点之后添加（在这种情况下， <code class="codeph">coord_index=&gt;1</code>以指示在第一个顶点之后）。新节点成为边缘E1的终端节点和新边缘E2的起始节点，新节点E2终止于节点N2。
                           </p>
                        </li>
                        <li>
                           <p>在图的底部，添加了新节点（N3），其是原始边缘的形状点，因此不是新的形状点（即， <code class="codeph">is_new_shape_point=&gt;'FALSE'</code> ）。因为它不是新的形状点，所以在使用<code class="codeph">coord_index</code>参数指定的顶点处添加节点（在这种情况下， <code class="codeph">coord_index=&gt;2</code> ）。如图的中间部分，新节点成为边缘E1的结束节点和新边缘E2的起始节点，其终止于节点N2。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="editing-topologies.html#GUID-FC9B2AC9-2B65-4327-91F6-893A4EAC2A40" title="本主题包含描述添加，移动和删除节点的效果的部分，以及解释如何使用PL / SQL API执行这些操作的部分。">在节点上执行操作</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TOPOL808"></a><a id="TOPOL809"></a><a id="TOPOL810"></a><a id="TOPOL807"></a><div class="props_rev_3"><a id="GUID-E280BEF9-D608-420A-93A6-DAE60A49CB8B" name="GUID-E280BEF9-D608-420A-93A6-DAE60A49CB8B"></a><h4 id="TOPOL-GUID-E280BEF9-D608-420A-93A6-DAE60A49CB8B" class="sect4"><span class="enumeration_section">2.2.2</span>移动节点</h4>
                  <div>
                     <p>将非隔离节点移动到新位置会导致连接到节点的所有边的末端随节点移动。您必须为受节点移动影响的所有边指定顶点;附加到节点的每个点（开始或结束）必须与节点的新位置具有相同的坐标，并且每个受影响边缘的其他端点（不是移动的节点）必须保持不变。</p>
                     <p>要移动非隔离节点，请使用<a href="SDO_TOPO_MAP-reference.html#GUID-5A836D8B-A319-46F2-B644-E845D6B804B9">SDO_TOPO_MAP.MOVE_NODE</a>过程。要移动隔离节点，请使用<a href="SDO_TOPO_MAP-reference.html#GUID-7D9214F5-D127-4A34-B34C-A1F4D807564E">SDO_TOPO_MAP.MOVE_ISOLATED_NODE</a>过程。
                     </p>
                     <p><a href="editing-topologies.html#GUID-E280BEF9-D608-420A-93A6-DAE60A49CB8B__CEGHFDHJ">图2-5</a>显示了移动节点N1之前的原始拓扑。
                     </p>
                     <div class="figure" id="GUID-E280BEF9-D608-420A-93A6-DAE60A49CB8B__CEGHFDHJ">
                        <p class="titleinfigure">图2-5移动非隔离节点前的拓扑图</p><img width="208" src="img/move_node_1.gif" alt="下面是图2-5的描述" title="下面是图2-5的描述" longdesc="img_text/move_node_1.html"><br><a href="img_text/move_node_1.html">“图2-5移动非隔离节点之前的拓扑”的描述</a></div>
                     <!-- class="figure" -->
                     <p><a href="editing-topologies.html#GUID-E280BEF9-D608-420A-93A6-DAE60A49CB8B__CEGCJDDC">图2-6</a>显示了移动节点N1后原始拓扑的两种情况。在一种情况下，不会发生重塑;也就是说，受运动影响的所有边都被指定为直线。在另一种情况下，重塑发生;也就是说，一个或多个受影响的边被指定为具有多个顶点的线段。
                     </p>
                     <div class="figure" id="GUID-E280BEF9-D608-420A-93A6-DAE60A49CB8B__CEGCJDDC">
                        <p class="titleinfigure">图2-6移动非隔离节点后的拓扑</p><img width="409" src="img/move_node_2b.gif" alt="下面是图2-6的描述" title="下面是图2-6的描述" longdesc="img_text/move_node_2b.html"><br><a href="img_text/move_node_2b.html">“图2-6移动非隔离节点后的拓扑”的描述</a></div>
                     <!-- class="figure" -->
                     <p>在<a href="editing-topologies.html#GUID-E280BEF9-D608-420A-93A6-DAE60A49CB8B__CEGCJDDC">图2-6</a>所示的两种情况下：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>拓扑不会改变。也就是说，节点，边和面的数量不会改变，并且节点，边和面之间的关系（例如邻接和连接）不会改变。</p>
                        </li>
                        <li>
                           <p>节点，边和面上定义的所有要素都保留其定义。</p>
                        </li>
                     </ul>
                     <p>由于在非隔离节点上的移动操作，任何孤立的节点和边缘可能保留在同一面中或移动到不同的面。<a href="SDO_TOPO_MAP-reference.html#GUID-5A836D8B-A319-46F2-B644-E845D6B804B9">SDO_TOPO_MAP.MOVE_NODE</a>过程有两个输出参数， <code class="codeph">moved_iso_nodes</code>和<code class="codeph">moved_iso_edges</code> ，它们存储由于操作而移动到不同面的任何隔离节点和边的ID号。
                     </p>
                     <p>如果由于移动而导致以下任何一种情况发生，则无法移动节点：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>连接到节点的任何边都将与任何其他边相交。例如，假设<a href="editing-topologies.html#GUID-E280BEF9-D608-420A-93A6-DAE60A49CB8B__CEGCJDDC">图2-6</a>中<a href="editing-topologies.html#GUID-E280BEF9-D608-420A-93A6-DAE60A49CB8B__CEGCJDDC">所示</a>的原始拓扑包括在节点N1的正上方和右侧通过的另一个边缘E20。如果节点N1的移动将导致边缘E3，E4，E6，E8或E9与边缘E20相交，则不执行移动操作。
                           </p>
                        </li>
                        <li>
                           <p>节点将移动到当前未绑定节点的面。例如，如果节点N1的移动将其置于<a href="editing-topologies.html#GUID-E280BEF9-D608-420A-93A6-DAE60A49CB8B__CEGCJDDC">图2-6</a>所示的原始拓扑之外，则不执行移动操作。
                           </p>
                        </li>
                        <li>
                           <p>节点将移动到隔离面的相对侧。这是不允许的，因为移动会通过更改以下一项或多项来更改拓扑：面部周围边缘的关系或顺序，以及每条边缘的左右面。<a href="editing-topologies.html#GUID-E280BEF9-D608-420A-93A6-DAE60A49CB8B__CEGDACBI">图2-7</a>显示了不允许的节点移动（从隔离面F1的一侧向另一侧翻转节点N1）。
                           </p>
                           <div class="figure" id="GUID-E280BEF9-D608-420A-93A6-DAE60A49CB8B__CEGDACBI">
                              <p class="titleinfigure">图2-7不允许节点移动</p><img width="413" src="img/flip_node.gif" alt="下面是图2-7的描述" title="下面是图2-7的描述" longdesc="img_text/flip_node.html"><br><a href="img_text/flip_node.html">“图2-7不允许节点移动”的描述</a></div>
                           <!-- class="figure" -->
                        </li>
                     </ul>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="editing-topologies.html#GUID-BBAC43C9-01E2-4484-B453-4C013FC9DCF4">允许和不允许的节点移动的其他示例</a><br></li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="editing-topologies.html#GUID-FC9B2AC9-2B65-4327-91F6-893A4EAC2A40" title="本主题包含描述添加，移动和删除节点的效果的部分，以及解释如何使用PL / SQL API执行这些操作的部分。">在节点上执行操作</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="TOPOL812"></a><a id="TOPOL811"></a><div class="props_rev_3"><a id="GUID-BBAC43C9-01E2-4484-B453-4C013FC9DCF4" name="GUID-BBAC43C9-01E2-4484-B453-4C013FC9DCF4"></a><h5 id="TOPOL-GUID-BBAC43C9-01E2-4484-B453-4C013FC9DCF4" class="sect5"><span class="enumeration_section">2.2.2.1</span>允许和不允许的节点移动的其他示例</h5>
                     <div>
                        <p>本节提供允许或不允许的节点移动操作的其他示例。全部参考<a href="editing-topologies.html#GUID-BBAC43C9-01E2-4484-B453-4C013FC9DCF4__CEGBEJIF">图2-8</a>中<a href="editing-topologies.html#GUID-BBAC43C9-01E2-4484-B453-4C013FC9DCF4__CEGBEJIF">所示</a>的拓扑。
                        </p>
                        <div class="figure" id="GUID-BBAC43C9-01E2-4484-B453-4C013FC9DCF4__CEGBEJIF">
                           <p class="titleinfigure">图2-8节点移动示例拓扑</p><img width="259" src="img/node_moves_several.gif" alt="下面是图2-8的描述" title="下面是图2-8的描述" longdesc="img_text/node_moves_several.html"><br><a href="img_text/node_moves_several.html">“图2-8节点移动示例拓扑”的说明</a></div>
                        <!-- class="figure" -->
                        <p>在<a href="editing-topologies.html#GUID-BBAC43C9-01E2-4484-B453-4C013FC9DCF4__CEGBEJIF">图2-8</a>所示的拓扑中：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>将尝试将节点N1移动到点P1，P2，P3和P4。（这些点是位置，但不是现有节点。）</p>
                           </li>
                           <li>
                              <p>在移动操作之前或之后，边缘没有形状点。</p>
                           </li>
                           <li>
                              <p>为边缘E1，E2，E3和E4指定新顶点，但边缘的起点和终点的ID值保持不变。</p>
                           </li>
                        </ul>
                        <p>使用<a href="editing-topologies.html#GUID-BBAC43C9-01E2-4484-B453-4C013FC9DCF4__CEGBEJIF">图2-8</a>中<a href="editing-topologies.html#GUID-BBAC43C9-01E2-4484-B453-4C013FC9DCF4__CEGBEJIF">所示</a>的拓扑尝试以下节点移动操作时，会出现以下结果：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>将节点N1移动到点P1：不允许，因为四个附加边中的一个或多个将与边E5相交。（如果允许移动，边缘E3肯定会与边缘E5相交。）</p>
                           </li>
                           <li>
                              <p>将节点N1移动到点P2：允许。</p>
                           </li>
                           <li>
                              <p>将节点N1移动到点P3：允许。然而，该操作使得隔离节点N2从面F2变为面F1，这可能导致应用程序想要回退或不允许节点N1的移动。类似地，如果节点的移动会导致任何孤立的边或面从一个面改变到另一个面，则应用程序可能希望回滚或禁止节点移动操作。</p>
                           </li>
                           <li>
                              <p>将节点N1移动到点P4：不允许，因为必须将节点移动到界定节点原始（当前）位置的面中的点。</p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="editing-topologies.html#GUID-E280BEF9-D608-420A-93A6-DAE60A49CB8B">移动节点</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="TOPOL814"></a><a id="TOPOL813"></a><div class="props_rev_3"><a id="GUID-56FF6B73-2042-44C4-9E4C-46AF6DE2B867" name="GUID-56FF6B73-2042-44C4-9E4C-46AF6DE2B867"></a><h4 id="TOPOL-GUID-56FF6B73-2042-44C4-9E4C-46AF6DE2B867" class="sect4"><span class="enumeration_section">2.2.3</span>删除节点</h4>
                  <div>
                     <p>您可以删除单个节点（隔离或非隔离），如本节中所述，您可以删除拓扑中的所有过时节点，如<a href="editing-topologies.html#GUID-723A45B4-D759-4807-8A30-081552D0C8DF">删除过时节点中所述</a> 。
                     </p>
                     <p>删除非隔离节点会删除节点，并将附加到节点的边合并为单个边。（空间和图形应用复杂的规则，未记录，以确定结果边缘的ID值和方向。）</p>
                     <p>要删除非隔离或隔离的节点，请使用<a href="SDO_TOPO_MAP-reference.html#GUID-087936D6-3E29-4598-9B86-A340C112F81C">SDO_TOPO_MAP.REMOVE_NODE</a>过程。
                     </p>
                     <p><a href="editing-topologies.html#GUID-56FF6B73-2042-44C4-9E4C-46AF6DE2B867__CEGCDECG">图2-9</a>显示了连接到边缘E1和E2的节点（N1）的移除。
                     </p>
                     <div class="figure" id="GUID-56FF6B73-2042-44C4-9E4C-46AF6DE2B867__CEGCDECG">
                        <p class="titleinfigure">图2-9拆除非隔离节点</p><img width="437" src="img/delete_node.gif" alt="下面是图2-9的描述" title="下面是图2-9的描述" longdesc="img_text/delete_node.html"><br><a href="img_text/delete_node.html">“图2-9删除非隔离节点”的描述</a></div>
                     <!-- class="figure" -->
                     <p>由于<a href="editing-topologies.html#GUID-56FF6B73-2042-44C4-9E4C-46AF6DE2B867__CEGCDECG">图2-9</a>所示的操作：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>边缘E1被重新定义为由表示原始边缘E1和E2的线段组成。</p>
                        </li>
                        <li>
                           <p>边缘E2被删除。</p>
                        </li>
                        <li>
                           <p>如果在两个原始边缘上定义了任何线性要素，则会自动将它们重新定义为在结果边缘上，并将记录添加到拓扑的历史信息表（在<a href="topology-data-model-overview.html#GUID-68020A3E-978F-4EB7-AAA8-8DABA17533BF">历史信息表中说明</a> ）中。例如，如果在<a href="editing-topologies.html#GUID-56FF6B73-2042-44C4-9E4C-46AF6DE2B867__CEGCDECG">图2-9中</a>的原始边缘E1和E2上定义了名为Main Street的街道，则在移除节点N1之后，将在边缘E1上定义主街道。
                           </p>
                        </li>
                     </ul>
                     <p>如果满足以下一个或多个条件，则无法删除节点：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>在节点上定义点要素。例如，如果在<a href="editing-topologies.html#GUID-56FF6B73-2042-44C4-9E4C-46AF6DE2B867__CEGCDECG">图2-9</a>中的节点N1上定义了名为Metropolitan Art Museum的点要素，则无法删除节点N1。在这种情况下，在删除节点之前，必须删除节点上任何点要素的定义。
                           </p>
                        </li>
                        <li>
                           <p>在两个边缘上也没有定义在原始边缘上定义的线性特征。例如，如果在<a href="editing-topologies.html#GUID-56FF6B73-2042-44C4-9E4C-46AF6DE2B867__CEGCDECG">图2-9中</a>在边缘E1上定义了名为Main Street的线性特征而没有定义边缘E2，则无法移除节点N1。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="editing-topologies.html#GUID-FC9B2AC9-2B65-4327-91F6-893A4EAC2A40" title="本主题包含描述添加，移动和删除节点的效果的部分，以及解释如何使用PL / SQL API执行这些操作的部分。">在节点上执行操作</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TOPOL816"></a><a id="TOPOL815"></a><div class="props_rev_3"><a id="GUID-723A45B4-D759-4807-8A30-081552D0C8DF" name="GUID-723A45B4-D759-4807-8A30-081552D0C8DF"></a><h4 id="TOPOL-GUID-723A45B4-D759-4807-8A30-081552D0C8DF" class="sect4"><span class="enumeration_section">2.2.4</span>删除过时的节点</h4>
                  <div>
                     <p><span class="bold">过时节点</span>是仅连接到两个不同边的节点，未分配给任何点要素，并且不用作不同线性要素之间的分界。当重复使用<a href="SDO_TOPO_MAP-reference.html#GUID-3D557747-2249-4BAF-B3C8-3D4A6CA80876">SDO_TOPO_MAP.ADD_POLYGON_GEOMETRY</a>函数构建拓扑时，或者在编辑操作期间删除了边缘时，会产生过时的节点，从而留下一些不必要的节点。因此，建议您在这种情况下使用<a href="SDO_TOPO_MAP-reference.html#GUID-6C17F5AA-0233-475B-BB32-0094E9C7C182">SDO_TOPO_MAP.REMOVE_OBSOLETE_NODES</a>过程删除过时的节点。
                     </p>
                     <p>Spatial和Graph会自动更新&lt;topology-name&gt; _NODE $和&lt;topology-name&gt; _EDGE $表中的相应条目，并在必要时更新&lt;topology-name&gt; _FACE $表中的相应条目。</p>
                     <p><a href="editing-topologies.html#GUID-723A45B4-D759-4807-8A30-081552D0C8DF__CEGCIIAA">图2-10</a>显示了在简单拓扑中删除过时节点。在此拓扑中，节点N1上定义了名为Art Museum的点要素，节点N3在其上定义了名为Town Hall的点要素。边缘E1，E2和E3具有在其上定义的名为Main Street的线性特征，边缘E4具有在其上定义的名为First Avenue的线性特征。
                     </p>
                     <div class="figure" id="GUID-723A45B4-D759-4807-8A30-081552D0C8DF__CEGCIIAA">
                        <p class="titleinfigure">图2-10删除过时的节点</p><img width="440" src="img/delete_obsolete_nodes.gif" alt="下面是图2-10的描述" title="下面是图2-10的描述" longdesc="img_text/delete_obsolete_nodes.html"><br><a href="img_text/delete_obsolete_nodes.html">“图2-10删除过时节点”的说明</a></div>
                     <!-- class="figure" -->
                     <p>在<a href="editing-topologies.html#GUID-723A45B4-D759-4807-8A30-081552D0C8DF__CEGCIIAA">图2-10中</a> ，唯一删除的节点是N2，因为只有该节点满足过时节点的所有条件。至于其他节点：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>N1仅连接到一个边缘（E1），并且在其上定义了点特征（美术馆）。</p>
                        </li>
                        <li>
                           <p>N3上有一个点特征（市政厅）。</p>
                        </li>
                        <li>
                           <p>N4是两个不同线性特征（主街和第一大道）之间的界限。</p>
                        </li>
                        <li>
                           <p>N5仅连接到一条边（E4）。</p>
                        </li>
                        <li>
                           <p>节点N6是隔离节点（未连接到任何边缘）。</p>
                        </li>
                     </ul>
                     <p>同样，作为<a href="editing-topologies.html#GUID-723A45B4-D759-4807-8A30-081552D0C8DF__CEGCIIAA">图2-10</a>中<a href="editing-topologies.html#GUID-723A45B4-D759-4807-8A30-081552D0C8DF__CEGCIIAA">所示</a>的操作的结果，由于节点N2的移除，边缘E2被移除。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="editing-topologies.html#GUID-FC9B2AC9-2B65-4327-91F6-893A4EAC2A40" title="本主题包含描述添加，移动和删除节点的效果的部分，以及解释如何使用PL / SQL API执行这些操作的部分。">在节点上执行操作</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="TOPOL817"></a><div class="props_rev_3"><a id="GUID-48615C1B-6AAA-4088-B575-B9183737931C" name="GUID-48615C1B-6AAA-4088-B575-B9183737931C"></a><h3 id="TOPOL-GUID-48615C1B-6AAA-4088-B575-B9183737931C" class="sect3"><span class="enumeration_section">2.3</span>对边缘执行操作</h3>
               <div>
                  <p>本主题描述添加，移动，删除和更新边的效果，并说明如何使用PL / SQL API执行这些操作。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="editing-topologies.html#GUID-C9D44B8A-6D3E-4179-822D-5BB8EB82A364">添加边缘</a><br></li>
                     <li class="ulchildlink"><a href="editing-topologies.html#GUID-FDF038F6-1A6B-4224-BB2A-37A643C21447">移动边缘</a><br></li>
                     <li class="ulchildlink"><a href="editing-topologies.html#GUID-4DC460E7-BF63-4170-BE98-BEC80C7995F6">删除边缘</a><br></li>
                     <li class="ulchildlink"><a href="editing-topologies.html#GUID-CB25F5C8-6F22-44FB-8107-367BFA327C4D">更新边缘</a><br></li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="editing-topologies.html#GUID-A457C07B-627F-45D7-BFED-336C8ED9D2DA" title="可以编辑拓扑中的节点和边缘数据。这些操作包括添加，移动和删除节点和边，以及更新边的坐标。">编辑拓扑</a></p>
                     </div>
                  </div>
               </div>
               <a id="TOPOL819"></a><a id="TOPOL818"></a><div class="props_rev_3"><a id="GUID-C9D44B8A-6D3E-4179-822D-5BB8EB82A364" name="GUID-C9D44B8A-6D3E-4179-822D-5BB8EB82A364"></a><h4 id="TOPOL-GUID-C9D44B8A-6D3E-4179-822D-5BB8EB82A364" class="sect4"><span class="enumeration_section">2.3.1</span>添加边缘</h4>
                  <div>
                     <p>添加非隔离边缘会将边缘添加到面部。它还会分割脸部，使原始脸部分为两个脸部。Spatial和Graph会自动调整原始面的定义并创建一个新面（为其指定一个在拓扑中的面之间唯一的ID值）。</p>
                     <p>要添加边缘，请使用<a href="SDO_TOPO_MAP-reference.html#GUID-D3945002-582C-484A-8D86-F20CF35C4555">SDO_TOPO_MAP.ADD_EDGE</a>过程。您必须将现有节点指定为添加边的起始节点和结束节点。
                     </p>
                     <p><a href="editing-topologies.html#GUID-C9D44B8A-6D3E-4179-822D-5BB8EB82A364__CEGFGGBC">图2-11</a>显示了在面F3上节点N3和N5之间添加边（E7）。
                     </p>
                     <div class="figure" id="GUID-C9D44B8A-6D3E-4179-822D-5BB8EB82A364__CEGFGGBC">
                        <p class="titleinfigure">图2-11添加非隔离边缘</p><img width="468" src="img/add_edge.gif" alt="下面是图2-11的描述" title="下面是图2-11的描述" longdesc="img_text/add_edge.html"><br><a href="img_text/add_edge.html">“图2-11添加非隔离边”的说明</a></div>
                     <!-- class="figure" -->
                     <p>作为<a href="editing-topologies.html#GUID-C9D44B8A-6D3E-4179-822D-5BB8EB82A364__CEGFGGBC">图2-11</a>所示操作的结果，面F3被重新定义为两个面F1和F3。（空间和图形应用复杂的规则，未记录，以确定结果面的ID值。）
                     </p>
                     <p>在原始面上定义的任何面要素都会自动重新定义为在两个结果面上。例如，如果在<a href="editing-topologies.html#GUID-C9D44B8A-6D3E-4179-822D-5BB8EB82A364__CEGFGGBC">图2-11中</a>的原始面F3上定义了一个名为Walden State Park的公园，那么在添加边缘E7之后，将在面部F1和F3上定义Walden州立公园。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="editing-topologies.html#GUID-48615C1B-6AAA-4088-B575-B9183737931C" title="本主题描述添加，移动，删除和更新边的效果，并说明如何使用PL / SQL API执行这些操作。">对边执行操作</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TOPOL821"></a><a id="TOPOL820"></a><div class="props_rev_3"><a id="GUID-FDF038F6-1A6B-4224-BB2A-37A643C21447" name="GUID-FDF038F6-1A6B-4224-BB2A-37A643C21447"></a><h4 id="TOPOL-GUID-FDF038F6-1A6B-4224-BB2A-37A643C21447" class="sect4"><span class="enumeration_section">2.3.2</span>移动边缘</h4>
                  <div>
                     <p>移动非隔离边缘将边缘的起点或终点保持在相同位置，并将这两个点中的另一个移动到另一个现有节点位置。您必须指定源节点（移动要移动的节点之前的位置），目标节点（移动移动节点后的位置）以及移动边缘的顶点。</p>
                     <p>要移动边缘，请使用<a href="SDO_TOPO_MAP-reference.html#GUID-3EF0E053-EEE0-45EE-B4FD-E782115942BC">SDO_TOPO_MAP.MOVE_EDGE</a>过程。
                     </p>
                     <p><a href="editing-topologies.html#GUID-FDF038F6-1A6B-4224-BB2A-37A643C21447__CEGEGBHJ">图2-12</a>显示了最初在节点N3和N5之间的边缘E7在节点N2和N5之间的移动。
                     </p>
                     <div class="figure" id="GUID-FDF038F6-1A6B-4224-BB2A-37A643C21447__CEGEGBHJ">
                        <p class="titleinfigure">图2-12移动非隔离边缘</p><img width="468" src="img/move_edge.gif" alt="下面是图2-12的描述" title="下面是图2-12的描述" longdesc="img_text/move_edge.html"><br><a href="img_text/move_edge.html">“图2-12移动非隔离边缘”的描述</a></div>
                     <!-- class="figure" -->
                     <p>作为<a href="editing-topologies.html#GUID-FDF038F6-1A6B-4224-BB2A-37A643C21447__CEGEGBHJ">图2-12</a>所示操作的结果，面F1和F3会自动重新定义以反映其边的坐标，包括边E7的新坐标。
                     </p>
                     <p>由于在非隔离边缘上的移动操作，任何孤立的节点和边缘可能保留在同一面中或移动到不同的面。<a href="SDO_TOPO_MAP-reference.html#GUID-3EF0E053-EEE0-45EE-B4FD-E782115942BC">SDO_TOPO_MAP.MOVE_EDGE</a>过程有两个输出参数， <code class="codeph">moved_iso_nodes</code>和<code class="codeph">moved_iso_edges</code> ，它们存储由于操作而移动到不同面的任何隔离节点和边的ID号。
                     </p>
                     <p>如果由于移动而发生以下任何一种情况，则无法移动边缘：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>移动的边缘将与任何其他边缘相交。例如，假设移动前的拓扑（ <a href="editing-topologies.html#GUID-FDF038F6-1A6B-4224-BB2A-37A643C21447__CEGEGBHJ">如图2-12</a>所示）包含了节点N3和N4之间的另一条边（E10）。在这种情况下，边缘E7的移动将使其与边缘E10相交，因此不执行移动操作。
                           </p>
                        </li>
                        <li>
                           <p>节点将移动到当前未绑定边缘的面。例如，如果边缘E7的移动将其终止点放置在<a href="editing-topologies.html#GUID-FDF038F6-1A6B-4224-BB2A-37A643C21447__CEGEGBHJ">图2-12</a> （F1和F3）中<a href="editing-topologies.html#GUID-FDF038F6-1A6B-4224-BB2A-37A643C21447__CEGEGBHJ">所示</a>的面之外的节点处，则不执行移动操作。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="editing-topologies.html#GUID-48615C1B-6AAA-4088-B575-B9183737931C" title="本主题描述添加，移动，删除和更新边的效果，并说明如何使用PL / SQL API执行这些操作。">对边执行操作</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TOPOL823"></a><a id="TOPOL822"></a><div class="props_rev_3"><a id="GUID-4DC460E7-BF63-4170-BE98-BEC80C7995F6" name="GUID-4DC460E7-BF63-4170-BE98-BEC80C7995F6"></a><h4 id="TOPOL-GUID-4DC460E7-BF63-4170-BE98-BEC80C7995F6" class="sect4"><span class="enumeration_section">2.3.3</span>删除边缘</h4>
                  <div>
                     <p>移除非隔离边将删除边并合并边界的边。（Spatial和Graph应用未记录的复杂规则来确定结果面的ID值。）</p>
                     <p>要删除边缘，请使用<a href="SDO_TOPO_MAP-reference.html#GUID-B3C764F7-A021-4FBC-9ACB-ABB748DB1971">SDO_TOPO_MAP.REMOVE_EDGE</a>过程。
                     </p>
                     <p><a href="editing-topologies.html#GUID-4DC460E7-BF63-4170-BE98-BEC80C7995F6__CEGCFABJ">图2-13</a>显示了由面F1和F3限定的边缘（E7）的移除。
                     </p>
                     <div class="figure" id="GUID-4DC460E7-BF63-4170-BE98-BEC80C7995F6__CEGCFABJ">
                        <p class="titleinfigure">图2-13删除非隔离边缘</p><img width="468" src="img/delete_edge.gif" alt="下面是图2-13的描述" title="下面是图2-13的描述" longdesc="img_text/delete_edge.html"><br><a href="img_text/delete_edge.html">“图2-13删除非隔离边”的说明</a></div>
                     <!-- class="figure" -->
                     <p>由于操作如图<a href="editing-topologies.html#GUID-4DC460E7-BF63-4170-BE98-BEC80C7995F6__CEGCFABJ">2-13</a>所示：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>面F1被重新定义为由原始面F1和F3的面积组成。</p>
                        </li>
                        <li>
                           <p>面部F3被删除。</p>
                        </li>
                        <li>
                           <p>删除的边缘（节点N3和N5）的开始和结束节点不会被删除。</p>
                        </li>
                     </ul>
                     <p><a id="d13818e1887" class="indexterm-anchor"></a>在两个原始面上定义的任何面要素都会自动重新定义为在结果面上。例如，如果在<a href="editing-topologies.html#GUID-4DC460E7-BF63-4170-BE98-BEC80C7995F6__CEGCFABJ">图2-13中</a>的原始面F1和F3上定义了名为Adams Park的公园，则在移除边E7后，将在面F1上定义Adams Park。
                     </p>
                     <p>如果满足以下一个或多个条件，则无法删除非隔离边：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>边缘上定义了线性特征。例如，如果在<a href="editing-topologies.html#GUID-4DC460E7-BF63-4170-BE98-BEC80C7995F6__CEGCFABJ">图2-13</a>中的边缘E7上定义了名为Main Street的线性特征，则无法移除边E7。在这种情况下，在删除边缘之前，必须删除边缘上任何线性要素的定义。
                           </p>
                        </li>
                        <li>
                           <p>在两个面上也未定义在任一原始面上定义的面要素。例如，如果在<a href="editing-topologies.html#GUID-4DC460E7-BF63-4170-BE98-BEC80C7995F6__CEGCFABJ">图2-13中</a>在面F1上定义了名为Adams Park的线性特征而不是面F3，则无法移除边E7。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="editing-topologies.html#GUID-48615C1B-6AAA-4088-B575-B9183737931C" title="本主题描述添加，移动，删除和更新边的效果，并说明如何使用PL / SQL API执行这些操作。">对边执行操作</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="TOPOL824"></a><div class="props_rev_3"><a id="GUID-CB25F5C8-6F22-44FB-8107-367BFA327C4D" name="GUID-CB25F5C8-6F22-44FB-8107-367BFA327C4D"></a><h4 id="TOPOL-GUID-CB25F5C8-6F22-44FB-8107-367BFA327C4D" class="sect4"><span class="enumeration_section">2.3.4</span>更新边缘</h4>
                  <div>
                     <p>更新隔离边意味着更改边的一个或多个坐标，但不更改起点和终点。</p>
                     <p>要更新边缘，请使用<a href="SDO_TOPO_MAP-reference.html#GUID-785884A2-4894-469B-B272-10E480F9EFC9">SDO_TOPO_MAP.CHANGE_EDGE_COORDS</a>过程。
                     </p>
                     <p>由于非隔离边缘上的更新操作，任何孤立的节点和边缘可能保留在同一面中或移动到不同的面。<a href="SDO_TOPO_MAP-reference.html#GUID-785884A2-4894-469B-B272-10E480F9EFC9">SDO_TOPO_MAP.CHANGE_EDGE_COORDS</a>过程有两个输出参数， <code class="codeph">moved_iso_nodes</code>和<code class="codeph">moved_iso_edges</code> ，它们存储由于操作而移动到不同面的任何隔离节点和边的ID号。
                     </p>
                     <p>如果作为操作的结果，它将与任何其他边相交，则不能更新边。有关更新边缘的详细信息，请参阅<a href="SDO_TOPO_MAP-reference.html#GUID-785884A2-4894-469B-B272-10E480F9EFC9">SDO_TOPO_MAP.CHANGE_EDGE_COORDS</a>过程的使用说明。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="editing-topologies.html#GUID-48615C1B-6AAA-4088-B575-B9183737931C" title="本主题描述添加，移动，删除和更新边的效果，并说明如何使用PL / SQL API执行这些操作。">对边执行操作</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
         </div>
      </article>
   </body>
</html>