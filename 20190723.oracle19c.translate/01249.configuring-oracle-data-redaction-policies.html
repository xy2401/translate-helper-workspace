<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="An Oracle Data Redaction policy defines how to redact data in a column based on the table column type and the type of redaction you want to use."></meta>
      <meta name="description" content="An Oracle Data Redaction policy defines how to redact data in a column based on the table column type and the type of redaction you want to use."></meta>
      <title>配置Oracle数据编校策略</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Advanced Security Guide "></meta>
      <meta property="og:description" content="An Oracle Data Redaction policy defines how to redact data in a column based on the table column type and the type of redaction you want to use."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Advanced Security Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="advanced-security-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-13T09:26:12-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96301-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="oracle-data-redaction-features-and-capabilities.html" title="Previous" type="text/html"></link>
      <link rel="next" href="using-oracle-data-redaction-in-oracle-enterprise-manager.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Advanced Security Guide"></meta>
    <meta name="dcterms.isVersionOf" content="ASOAG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="oracle-data-redaction-features-and-capabilities.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="using-oracle-data-redaction-in-oracle-enterprise-manager.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">高级安全指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="asopart2.html" property="item" typeof="WebPage"><span property="name">使用Oracle Data Redaction</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">配置Oracle数据编校策略</li>
            </ol>
            <a id="GUID-78C0ECD1-388C-4E12-87C3-32FBC05F294D" name="GUID-78C0ECD1-388C-4E12-87C3-32FBC05F294D"></a><a id="ASOAG10490"></a>
            
            <h2 id="ASOAG-GUID-78C0ECD1-388C-4E12-87C3-32FBC05F294D" class="sect2"><span class="enumeration_chapter">13</span>配置Oracle数据编校策略</h2>
         </header>
         <div class="ind">
            <div>
               <p>Oracle Data Redaction策略定义了如何根据表列类型和要使用的编辑类型来编辑列中的数据。</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-78CBB015-A3C3-42B9-8EFA-315C4789C749">关于Oracle数据编辑策略</a><br>Oracle Data Redaction策略定义了表或视图必须进行编校的条件。
                  </li>
                  <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-29569FAA-E317-4266-A960-7DB92895663F">谁可以创建Oracle数据编辑策略？</a><br>由于数据编辑涉及高度敏感数据的保护，因此只有受信任的用户才能创建Oracle数据编辑策略。
                  </li>
                  <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-D41C508C-0DCC-4A6F-89C0-C85584BF4020">规划Oracle数据编辑策略</a><br>在创建Oracle Data Redaction策略之前，您应该规划最适合您站点需求的数据编校策略。
                  </li>
                  <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-D32FC6CA-A3B5-47EE-B288-52F1124F9FBD">DBMS_REDACT.ADD_POLICY过程的一般语法</a><br>若要创建数据编辑策略，必须使用<code class="codeph">DBMS_REDACT.ADD_POLICY</code>过程。
                  </li>
                  <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-CF59A02C-1DE8-439B-BC1C-7235915C6D23">使用表达式定义数据编校策略的条件</a><br><code class="codeph">DBMS_REDACT.ADD_POLICY</code>过程中的<code class="codeph">expression</code>参数设置策略应用的条件。
                  </li>
                  <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-A251209F-8BC3-4504-8DED-F6B72162A03B">创建和管理多个命名策略表达式</a><br>可以在多个编校策略中使用命名的集中管理的Oracle Data Redaction策略表达式，并将其应用于多个表或视图。
                  </li>
                  <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-E3725E9D-2798-48D5-B87B-BE8A02E73941">创建完全编校策略并更改完全编校值</a><br>您可以创建完整的编校策略来编辑数据列中的所有内容，也可以选择更改默认的完整编校值。
                  </li>
                  <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-6007FB12-BE1E-4C00-8714-E3CC8D25F0F5">创建DBMS_REDACT.NULLIFY编校策略</a><br>您可以创建Oracle Data Redaction策略，该策略为表或视图列的显示值返回空值。
                  </li>
                  <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-42B218FF-9082-4149-9D76-961B6D6417BB">创建部分编校策略</a><br>在部分数据编辑中，您可以编辑部分数据，以及不同类型的数据类型。
                  </li>
                  <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-1C20F828-2922-4846-8536-CC667B65FD01">创建基于正则表达式的编校策略</a><br>基于正则表达式的编校策略使您可以基于搜索和替换模型编辑数据。
                  </li>
                  <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-E697C12B-1121-4C3D-B895-1587AF4CA218">创建随机编校策略</a><br>随机编校策略将编辑后的数据显示为随机生成的值，例如<code class="codeph">Ukjsl32[[]]]s</code> 。
                  </li>
                  <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-1EC4068F-7404-437F-BFFE-87917F2619DB">创建不使用编校的策略</a><br>您可以创建根本不使用编校的策略，以便在开发环境中测试策略时使用。
                  </li>
                  <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-ADFB7DCD-8543-400D-95A3-AA0976E75084">从Oracle数据编辑策略中豁免用户</a><br>您可以免除用户将Oracle Data Redaction策略应用于他们访问的数据。
                  </li>
                  <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-205D50FF-2210-4957-B06B-EF82D734C26A">更改Oracle数据编辑策略</a><br><code class="codeph">DBMS_REDACT.ALTER_POLICY</code>过程使您可以修改Oracle Data Redaction策略。
                  </li>
                  <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-1E236704-872D-4FCB-A46E-C5014B53E9DE">编辑多列</a><br>您可以在数据编辑策略中编辑多个列。
                  </li>
                  <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-6DBB6BA3-28C8-499F-A603-4DFAC18E6B41">禁用和启用Oracle数据编辑策略</a><br>您可以根据需要禁用然后重新启用Oracle Data Redactions策略。
                  </li>
                  <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-F87B88B2-651E-4AF4-8E01-7B8A629A3D8F">删除Oracle数据编辑策略</a><br><code class="codeph">DBMS_REDACT.DROP_POLICY</code>过程删除Oracle Data Redaction策略。
                  </li>
                  <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-DE28EFBA-73F2-416E-BBE6-F22AF080DC74">教程：SQL表达式使用编辑值构建报表</a><br>SQL表达式可用于基于在其上定义了Oracle数据编辑策略的列来构建报表。
                  </li>
                  <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-16B2C464-83C6-4341-BE13-12F68695B65C">Oracle数据编辑策略数据字典视图</a><br>Oracle数据库提供数据字典视图，列出有关数据编辑策略的信息。
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="asopart2.html" title="第II部分介绍了如何使用Oracle Data Redaction。">使用Oracle Data Redaction</a></p>
                  </div>
               </div>
            </div>
            <a id="ASOAG420"></a><a id="ASOAG607"></a><div class="props_rev_3"><a id="GUID-78CBB015-A3C3-42B9-8EFA-315C4789C749" name="GUID-78CBB015-A3C3-42B9-8EFA-315C4789C749"></a><h3 id="ASOAG-GUID-78CBB015-A3C3-42B9-8EFA-315C4789C749" class="sect3">关于Oracle数据编辑策略</h3>
               <div>
                  <p>Oracle Data Redaction策略定义了表或视图必须进行编校的条件。</p>
                  <p>数据编辑策略具有以下特征：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>数据编辑策略定义以下内容：要执行的编校类型，编校应如何发生以及编校何时进行。Oracle数据库在执行时执行编校，就在数据返回到应用程序之前。</p>
                     </li>
                     <li>
                        <p>数据编辑策略可以完全编辑值，部分编辑值或随机编辑值。此外，您可以定义数据编辑策略，以便根本不编辑任何数据，以便在测试环境中测试策略时。</p>
                     </li>
                     <li>
                        <p>可以使用策略表达式定义数据编辑策略，该策略表达式允许根据策略表达式是返回<code class="codeph">TRUE</code>还是<code class="codeph">FALSE</code>向不同的应用程序用户显示编辑数据或<a href="glossary.html#GUID-82E2FC6D-718F-4367-9D7E-DC130F360FC3"><span class="xrefglossterm">实际数据</span></a> 。当评估策略表达式的布尔结果为<code class="codeph">TRUE</code>时，会发生编校。出于安全原因，可以在策略表达式中使用的函数和运算符仅限于<code class="codeph">SYS_CONTEXT</code>和其他一些函数和运算符。不允许用户创建的功能。策略表达式可以使用带有<code class="codeph">SYS_CONTEXT</code>函数的<code class="codeph">SYS_SESSION_ROLES</code>命名空间来检查已启用的角色。
                        </p>
                     </li>
                     <li>
                        <p>可以创建不同的数据编辑策略表达式，然后单独应用于同一表或视图中的不同列。</p>
                     </li>
                  </ul>
                  <p><a href="configuring-oracle-data-redaction-policies.html#GUID-78CBB015-A3C3-42B9-8EFA-315C4789C749__CACJHJFJ" title="DBMS_REDACT PL / SQL包过程">表13-1</a>列出了<code class="codeph">DBMS_REDACT</code>包中的过程。
                  </p>
                  <div class="tblformal" id="GUID-78CBB015-A3C3-42B9-8EFA-315C4789C749__CACJHJFJ">
                     <p class="titleintable">表13-1 DBMS_REDACT过程</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_REDACT程序" width="100%" border="1" summary="DBMS_REDACT PL/SQL Package Procedures" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="41%" id="d57023e364">程序</th>
                              <th align="left" valign="bottom" width="59%" id="d57023e367">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d57023e372" headers="d57023e364 ">
                                 <p><code class="codeph">DBMS_REDACT.ADD_POLICY</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d57023e372 d57023e367 ">
                                 <p>将数据编辑策略添加到表或视图</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d57023e380" headers="d57023e364 ">
                                 <p><code class="codeph">DBMS_REDACT.ALTER_POLICY</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d57023e380 d57023e367 ">
                                 <p>修改数据编辑策略</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d57023e389" headers="d57023e364 ">
                                 <p><code class="codeph">DBMS_REDACT.APPLY_POLICY_EXPR_TO_COL</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d57023e389 d57023e367 ">
                                 <p>将数据编辑策略表达式应用于表或视图列</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d57023e398" headers="d57023e364 ">
                                 <p><code class="codeph">DBMS_REDACT.CREATE_POLICY_EXPRESSION</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d57023e398 d57023e367 ">
                                 <p>创建数据编辑策略表达式</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d57023e406" headers="d57023e364 ">
                                 <p><code class="codeph">DBMS_REDACT.DISABLE_POLICY</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d57023e406 d57023e367 ">
                                 <p>禁用数据编辑策略</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d57023e414" headers="d57023e364 ">
                                 <p><code class="codeph">DBMS_REDACT.DROP_POLICY</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d57023e414 d57023e367 ">
                                 <p>删除数据编辑策略</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d57023e422" headers="d57023e364 ">
                                 <p><code class="codeph">DBMS_REDACT.DROP_POLICY_EXPRESSION</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d57023e422 d57023e367 ">
                                 <p>删除数据编辑策略表达式</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d57023e430" headers="d57023e364 ">
                                 <p><code class="codeph">DBMS_REDACT.ENABLE_POLICY</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d57023e430 d57023e367 ">
                                 <p>启用数据编辑策略</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d57023e438" headers="d57023e364 ">
                                 <p><code class="codeph">DBMS_REDACT.UPDATE_FULL_REDACTION_VALUES</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d57023e438 d57023e367 ">
                                 <p>全局更新给定数据类型的完整编辑值。必须重新启动数据库实例才能使用更新的值。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d57023e446" headers="d57023e364 ">
                                 <p><code class="codeph">DBMS_REDACT.UPDATE_POLICY_EXPRESSION</code></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d57023e446 d57023e367 ">
                                 <p>更新数据编辑策略表达式</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-78CBB015-A3C3-42B9-8EFA-315C4789C749__GUID-8ABF7596-FE7D-4633-BEC1-7B95A1E4BE35">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>有关<code class="codeph">DBMS_REDACT</code> PL / SQL包的详细信息，请参阅<a href="../arpls/DBMS_REDACT.html#ARPLS73800" target="_blank"><span><cite>Oracle Database PL / SQL包和类型参考</cite></span></a></p>
                        </li>
                        <li>
                           <p><a href="using-oracle-data-redaction-in-oracle-enterprise-manager.html#GUID-8267183A-1778-428E-9B6E-AB06D8CC7EAB" title="Oracle Enterprise Manager云控制（云控制）可以管理Oracle Data Redaction策略和格式。">在Oracle Enterprise Manager中管理Oracle数据编校策略，</a>以获取有关使用Oracle Enterprise Manager Cloud Control创建和管理Oracle Data Redaction策略和格式的信息</p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-78C0ECD1-388C-4E12-87C3-32FBC05F294D" title="Oracle Data Redaction策略定义了如何根据表列类型和要使用的编辑类型来编辑列中的数据。">配置Oracle数据编校策略</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ASOAG490"></a><div class="props_rev_3"><a id="GUID-29569FAA-E317-4266-A960-7DB92895663F" name="GUID-29569FAA-E317-4266-A960-7DB92895663F"></a><h3 id="ASOAG-GUID-29569FAA-E317-4266-A960-7DB92895663F" class="sect3">谁可以创建Oracle数据编辑策略？</h3>
               <div>
                  <p>由于数据编辑涉及高度敏感数据的保护，因此只有受信任的用户才能创建Oracle数据编辑策略。</p>
                  <p></p>
                  <p>要创建编校策略，您必须具有<code class="codeph">DBMS_REDACT</code> PL / SQL包的<code class="codeph">EXECUTE</code>特权。要查找已授予用户的权限，可以查询<code class="codeph">DBA_SYS_PRIVS</code>数据字典视图。
                  </p>
                  <p>您无需任何权限即可访问受策略保护的基础表或视图。</p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-78C0ECD1-388C-4E12-87C3-32FBC05F294D" title="Oracle Data Redaction策略定义了如何根据表列类型和要使用的编辑类型来编辑列中的数据。">配置Oracle数据编校策略</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ASOAG421"></a><div class="props_rev_3"><a id="GUID-D41C508C-0DCC-4A6F-89C0-C85584BF4020" name="GUID-D41C508C-0DCC-4A6F-89C0-C85584BF4020"></a><h3 id="ASOAG-GUID-D41C508C-0DCC-4A6F-89C0-C85584BF4020" class="sect3">规划Oracle数据编辑策略</h3>
               <div>
                  <p>在创建Oracle Data Redaction策略之前，您应该规划最适合您站点需求的数据编校策略。</p>
                  <div class="section">
                     <ol>
                        <li>
                           <p>确保您已获得<code class="codeph">DBMS_REDACT</code> PL / SQL包的<code class="codeph">EXECUTE</code>特权。
                           </p>
                        </li>
                        <li>
                           <p>确定要编辑的表或视图列的数据类型。</p>
                        </li>
                        <li>
                           <p>确定要添加数据编辑策略的基础对象是否具有依赖对象。如果它确实具有依赖对象，则在将数据编辑策略添加到基础对象时这些对象将变为无效，并且这些对象在使用时将自动重新编译。</p>
                           <p>或者，您可以使用<code class="codeph">ALTER ...主动自行重新编译它们<code class="codeph">ALTER ...COMPILE</code>声明。请注意，使相关对象无效（通过在其基础对象上添加数据编辑策略）并导致需要重新编译它们会降低整个系统的性能。Oracle建议您仅在非高峰时段或计划停机期间向具有依赖对象的对象添加数据编辑策略。
                           </p>
                        </li>
                        <li>
                           <p>确保此列未在Oracle虚拟专用数据库（VPD）行筛选条件中使用。也就是说，它不能是VPD策略函数生成的VPD谓词的一部分。</p>
                        </li>
                        <li>
                           <p>确定要执行的编校类型：完整，随机，部分，正则表达式或无。</p>
                        </li>
                        <li>
                           <p>确定将数据编辑策略应用于哪些用户。</p>
                        </li>
                        <li>
                           <p>根据此信息，使用<code class="codeph">DBMS_REDACT.ADD_POLICY</code>过程创建数据编辑策略。
                           </p>
                        </li>
                        <li>
                           <p>配置策略以使其他列被编辑。</p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>创建数据编辑策略后，它将自动启用并准备编辑数据。</p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="configuring-oracle-data-redaction-policies.html#GUID-1E236704-872D-4FCB-A46E-C5014B53E9DE" title="您可以在数据编辑策略中编辑多个列。">编辑多列</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-78C0ECD1-388C-4E12-87C3-32FBC05F294D" title="Oracle Data Redaction策略定义了如何根据表列类型和要使用的编辑类型来编辑列中的数据。">配置Oracle数据编校策略</a></p>
                     </div>
                  </div>
               </div>
            </div><a id="ASOAG352"></a><div class="props_rev_3"><a id="GUID-D32FC6CA-A3B5-47EE-B288-52F1124F9FBD" name="GUID-D32FC6CA-A3B5-47EE-B288-52F1124F9FBD"></a><h3 id="ASOAG-GUID-D32FC6CA-A3B5-47EE-B288-52F1124F9FBD" class="sect3">DBMS_REDACT.ADD_POLICY过程的一般语法</h3>
               <div>
                  <p>若要创建数据编辑策略，必须使用<code class="codeph">DBMS_REDACT.ADD_POLICY</code>过程。
                  </p>
                  <div class="section">
                     <p><code class="codeph">DBMS_REDACT.ADD_POLICY</code>过程的完整语法如下：</p><pre class="oac_no_warn" dir="ltr">DBMS_REDACT.ADD_POLICY（object_schema IN VARCHAR2：= NULL，object_name IN VARCHAR2：= NULL，policy_name IN VARCHAR2，policy_description IN VARCHAR2：= NULL，column_name IN VARCHAR2：= NULL，column_description IN VARCHAR2：= NULL，function_type IN BINARY_INTEGER：= DBMS_REDACT。 FULL，function_parameters IN VARCHAR2：= NULL，表达式IN VARCHAR2，启用IN BOOLEAN：= TRUE，regexp_pattern IN VARCHAR2：= NULL，regexp_replace_string IN VARCHAR2：= NULL，regexp_position IN BINARY_INTEGER：= 1，regexp_occurrence IN BINARY_INTEGER：= 0，regexp_match_parameter IN VARCHAR2：= NULL）;</pre><p>在本规范中：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">object_schema</code> ：指定将应用数据编辑策略的对象的架构。如果省略此设置（或输入<code class="codeph">NULL</code> ），则Oracle数据库将使用当前用户的名称。请注意，此处“当前用户”的含义可能会更改，具体取决于您调用<code class="codeph">DBMS_REDACT.ADD_POLICY</code>过程的位置。
                           </p>
                           <p>例如，假设用户<code class="codeph">mpike</code>授予用户<code class="codeph">fbrown</code>对<code class="codeph">mpike</code>模式中名为<code class="codeph">mpike.protect_data</code>的定义者权限PL / SQL包的<code class="codeph">EXECUTE</code>特权。从这个包内， <code class="codeph">mpike</code>已编码的调用的过程<code class="codeph">protect_cust_data</code> ，它调用<code class="codeph">DBMS_REDACT.ADD_POLICY</code>过程。用户<code class="codeph">mpike</code>已将<code class="codeph">object_schema</code>参数设置为<code class="codeph">NULL</code> 。</p>
                           <p>当<code class="codeph">fbrown</code>调用<code class="codeph">mpike.protect_data</code>包中的<code class="codeph">protect_cust_data</code>过程时，Oracle数据库会尝试围绕<code class="codeph">mpike</code>模式中的对象<code class="codeph">cust_data</code>定义Data Redaction策略，而不是属于<code class="codeph">fbrown</code>的模式中的<code class="codeph">cust_data</code>对象。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">object_name</code> ：指定应用数据编辑策略的表或视图的名称。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">policy_name</code> ：指定要创建的策略的名称。确保此名称在数据库实例中是唯一的。您可以通过查询<code class="codeph">REDACTION_POLICIES</code>数据字典视图的<code class="codeph">POLICY_NAME</code>列找到现有数据编辑策略的列表。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">policy_description</code> ：指定策略用途的简要说明。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">column_name</code> ：指定要编辑其数据的列。请注意以下事项：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><span class="bold">您可以将数据编辑策略应用于多个列。</span> 如果要将数据编辑策略应用于多个列，则在使用<code class="codeph">DBMS_REDACT.ADD_POLICY</code>创建策略后，根据需要多次运行<code class="codeph">DBMS_REDACT.ALTER_POLICY</code>过程，以将每个剩余的必需列添加到策略中。请参阅<a href="configuring-oracle-data-redaction-policies.html#GUID-205D50FF-2210-4957-B06B-EF82D734C26A" title="DBMS_REDACT.ALTER_POLICY过程使您可以修改Oracle Data Redaction策略。">更改Oracle数据编辑策略</a> 。
                                 </p>
                              </li>
                              <li>
                                 <p><span class="bold">只能在表或视图上定义一个策略。</span> 但是，您可以在表上创建新视图，并通过在此新视图上定义第二个编校策略，您可以选择在针对此新视图发出查询时以不同方式编辑列。在决定如何编辑给定列时，Oracle数据库使用视图链中最早视图的策略。
                                 </p>
                              </li>
                              <li>
                                 <p><span class="bold">如果未指定列（例如，通过输入NULL），则策略不会编辑任何列。</span> 这使您可以创建策略以使它们就位，然后，您可以在准备好后添加列规范。
                                 </p>
                              </li>
                              <li>
                                 <p><span class="bold">不要使用当前在Oracle虚拟专用数据库（VPD）行过滤条件中使用的列。</span> 换句话说，该列不应该是VPD策略函数生成的VPD谓词的一部分。（有关将数据编辑与VPD一起使用的更多信息，请参阅<a href="oracle-data-redaction-use-with-oracle-database-features.html#GUID-005796B2-304C-47AD-9655-DE200F3CEC99" title="Oracle Data Redaction不会影响Oracle虚拟专用数据库策略，因为包含VPD谓词的VPD内联视图会对实际值起作用。">Oracle数据编辑和Oracle虚拟专用数据库</a> 。）
                                 </p>
                              </li>
                              <li>
                                 <p><span class="bold">您无法在虚拟列上定义数据编辑策略。</span> 此外，您无法在任何虚拟列的SQL表达式中涉及的列上定义数据编辑策略。
                                 </p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p><code class="codeph">column_description</code> ：指定要编辑的列的简要说明。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">function_type</code> ：指定设置编校类型的函数。有关更多信息，请参阅以下部分：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="configuring-oracle-data-redaction-policies.html#GUID-E0CF7672-7FAC-4134-8A5E-AF0C65FD2A21" title="DBMS_REDACT.ADD_POLICY过程使您可以创建完整的编校策略。">创建完全编校策略的语法</a></p>
                              </li>
                              <li>
                                 <p><a href="configuring-oracle-data-redaction-policies.html#GUID-1CEB4B41-7942-4D1A-A21E-CEB70445C2C5" title="DBMS_REDACT.ADD_POLICY语句使您可以创建用于编辑返回到应用程序的数据的特定部分的策略。">创建部分编校策略的语法</a></p>
                              </li>
                              <li>
                                 <p><a href="configuring-oracle-data-redaction-policies.html#GUID-071193E2-21C5-4C73-A7BA-6DA4104FD66A" title="DBMS_REDACT.ADD_POLICY过程的regexp_ *参数可以创建基于正则表达式的编校策略。">用于创建基于正则表达式的编校策略的语法</a></p>
                              </li>
                              <li>
                                 <p><a href="configuring-oracle-data-redaction-policies.html#GUID-24C5D8B5-C6BC-40FB-9C68-126835AB03EA" title="随机编校策略根据列数据类型将编辑后的数据作为随机生成的值呈现给查询应用程序用户。">创建随机编校策略的语法</a></p>
                              </li>
                              <li>
                                 <p><a href="configuring-oracle-data-redaction-policies.html#GUID-6A3E8299-77E0-49C3-9C38-631517DC3CDA" title="None redaction type选项可用于测试编校策略的内部操作。">创建没有编校的策略的语法</a></p>
                              </li>
                           </ul>
                           <p>如果省略<code class="codeph">function_type</code>参数，则默认的redaction <code class="codeph">function_type</code>设置为<code class="codeph">DBMS_REDACT.FULL</code> 。</p>
                        </li>
                        <li>
                           <p><code class="codeph">function_parameters</code> ：指定列编校应如何显示以进行部分编校。请参阅<a href="configuring-oracle-data-redaction-policies.html#GUID-1CEB4B41-7942-4D1A-A21E-CEB70445C2C5" title="DBMS_REDACT.ADD_POLICY语句使您可以创建用于编辑返回到应用程序的数据的特定部分的策略。">创建部分编校策略的语法</a> 。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">expression</code> ：指定布尔SQL表达式以确定策略的应用方式。仅当此策略表达式的计算结果为<code class="codeph">TRUE</code>才会进行编<code class="codeph">TRUE</code> 。请参阅<a href="configuring-oracle-data-redaction-policies.html#GUID-CF59A02C-1DE8-439B-BC1C-7235915C6D23" title="DBMS_REDACT.ADD_POLICY过程中的表达式参数设置策略应用的条件。">使用表达式定义数据编校策略的条件</a> 。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">enable</code> ：设置为<code class="codeph">TRUE</code> ，在创建时启用策略。设置为<code class="codeph">FALSE</code> ，它会将策略创建为禁用的策略。默认值为<code class="codeph">TRUE</code> 。创建策略后，您可以禁用或启用它。请参阅以下部分：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="configuring-oracle-data-redaction-policies.html#GUID-A499FA8B-00E1-4023-9505-4414C7CF56C1" title="DBMS_REDACT.DISABLE_POLICY过程禁用Oracle Data Redaction策略。">禁用Oracle数据编辑策略</a></p>
                              </li>
                              <li>
                                 <p><a href="configuring-oracle-data-redaction-policies.html#GUID-48037790-6EA7-4688-990F-C5348B11235A" title="DBMS_REDACT.ENABLE_POLICY过程启用Oracle Data Redaction策略。">启用Oracle数据编辑策略</a></p>
                              </li>
                           </ul>
                        </li>
                        <li>
                           <p><code class="codeph">regexp_pattern</code> ， <code class="codeph">regexp_replace_string</code> ， <code class="codeph">regexp_position</code> ， <code class="codeph">regexp_position</code> ， <code class="codeph">regexp_occurrence</code> ， <code class="codeph">regexp_match_parameter</code> ：允许您使用正则表达式来完全或部分地编辑数据。如果<code class="codeph">regexp_pattern</code>与<a href="glossary.html#GUID-82E2FC6D-718F-4367-9D7E-DC130F360FC3"><span class="xrefglossterm">实际数据</span></a>中的任何内容都不匹配，则会发生完全编校，因此在指定<code class="codeph">regexp_pattern</code>时要小心。确保列中的所有值都符合您正在使用的正则表达式的语义。有关更多信息，请参阅<a href="configuring-oracle-data-redaction-policies.html#GUID-071193E2-21C5-4C73-A7BA-6DA4104FD66A" title="DBMS_REDACT.ADD_POLICY过程的regexp_ *参数可以创建基于正则表达式的编校策略。">创建基于正则表达式的编校策略的语法</a> 。
                           </p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-78C0ECD1-388C-4E12-87C3-32FBC05F294D" title="Oracle Data Redaction策略定义了如何根据表列类型和要使用的编辑类型来编辑列中的数据。">配置Oracle数据编校策略</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ASOAG10582"></a><div class="props_rev_3"><a id="GUID-CF59A02C-1DE8-439B-BC1C-7235915C6D23" name="GUID-CF59A02C-1DE8-439B-BC1C-7235915C6D23"></a><h3 id="ASOAG-GUID-CF59A02C-1DE8-439B-BC1C-7235915C6D23" class="sect3">使用表达式定义数据编校策略的条件</h3>
               <div>
                  <p><code class="codeph">DBMS_REDACT.ADD_POLICY</code>过程中的<code class="codeph">expression</code>参数设置策略应用的条件。
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-D122477F-6D46-4CE0-A8D4-CCE52898762F">关于在数据编校策略中使用表达式</a><br><code class="codeph">DBMS_REDACT.ADD_POLICY</code>和<code class="codeph">DBMS_REDACT.ALTER_POLICY</code> <code class="codeph">expression</code>参数定义一个布尔表达式，该表达式必须求值为<code class="codeph">TRUE</code>才能启用编校。
                     </li>
                     <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-827E7AB8-4405-47E0-9A66-F249FA03EE44">支持的数据编辑表达式函数</a><br>您可以创建使用函数返回特定类型数据的表达式，例如<code class="codeph">SYS_CONTEXT</code>名称空间。
                     </li>
                     <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-CA7521D1-DC1A-4CDA-9B36-0CA28CA2E74B">应用基于用户环境的编校策略</a><br>您可以根据用户的环境应用数据编辑策略，例如会话用户名或客户端标识符。
                     </li>
                     <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-24F50577-3B10-45F4-9889-1B8215E41441">应用基于数据库角色的编校策略</a><br>您可以基于数据库角色应用数据编辑策略，例如<code class="codeph">DBA</code>角色。
                     </li>
                     <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-9B192DA8-12C9-4961-A23E-3A9E8F475187">应用基于Oracle Label Security标签优势的编校策略</a><br>您可以根据Oracle Label Security标签的主导地位设置应用数据编辑策略的条件。
                     </li>
                     <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-BB39A63A-D11E-493E-A09C-7D7447BF0297">应用基于Application Express会话状态的编校策略</a><br>您可以基于Oracle Application Express（APEX）会话状态应用数据编辑策略。
                     </li>
                     <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-46619EF1-2709-4E51-BFA4-E0C90E966D2C">将编校策略应用于所有用户</a><br>无论上下文如何，您都可以将策略应用于任何用户，而不进行过滤。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-78C0ECD1-388C-4E12-87C3-32FBC05F294D" title="Oracle Data Redaction策略定义了如何根据表列类型和要使用的编辑类型来编辑列中的数据。">配置Oracle数据编校策略</a></p>
                     </div>
                  </div>
               </div>
               <a id="ASOAG10583"></a><div class="props_rev_3"><a id="GUID-D122477F-6D46-4CE0-A8D4-CCE52898762F" name="GUID-D122477F-6D46-4CE0-A8D4-CCE52898762F"></a><h4 id="ASOAG-GUID-D122477F-6D46-4CE0-A8D4-CCE52898762F" class="sect4">关于在数据编校策略中使用表达式</h4>
                  <div>
                     <p><code class="codeph">DBMS_REDACT.ADD_POLICY</code>和<code class="codeph">DBMS_REDACT.ALTER_POLICY</code> <code class="codeph">expression</code>参数定义一个布尔表达式，该表达式必须求值为<code class="codeph">TRUE</code>才能启用编校。
                     </p>
                     <p><code class="codeph">expression</code>参数中定义的<code class="codeph">expression</code>是Oracle Data Redaction策略的缺省表达式。如果为将由数据编辑策略编辑的列应用命名策略表达式，则命名策略表达式优先于数据编辑策略中定义的表达式。
                     </p>
                     <p>您可以创建使用其他Oracle数据库功能的表达式。例如，您可以创建基于用户环境（使用<code class="codeph">SYS_CONTEXT</code>和<code class="codeph">XS_SYS_CONTEXT</code>函数），字符串函数，Oracle Label Security标签优势函数或Oracle Application Express函数的表达式。
                     </p>
                     <p>编写表达式时请遵循以下准则：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>仅使用以下运算符： <code class="codeph">AND</code> ， <code class="codeph">OR</code> ， <code class="codeph">IN</code> ， <code class="codeph">NOT IN</code> ， <code class="codeph">=</code> , <code class="codeph">!=</code> ， <code class="codeph">&lt;&gt;</code> ， <code class="codeph">&lt;</code> ， <code class="codeph">&gt;</code> ， <code class="codeph">&gt;=</code> ， <code class="codeph">&lt;=</code></p>
                        </li>
                        <li>
                           <p>因为对于编校，表达式必须求值为<code class="codeph">TRUE</code> ，所以在与<code class="codeph">NULL</code>进行比较时要小心。请记住，在SQL中， <code class="codeph">NULL</code>值未定义，因此与<code class="codeph">NULL</code>比较往往返回<code class="codeph">FALSE</code> 。</p>
                        </li>
                        <li>
                           <p>不要在<code class="codeph">expression</code>参数中使用用户创建的函数;这是不允许的。
                           </p>
                        </li>
                        <li>
                           <p>请记住，对于具有<code class="codeph">EXEMPT REDACTION POLICY</code>权限的用户<code class="codeph">SYS</code>和用户，将绕过所有数据编辑策略，因此不会编辑其查询结果。有关免除Data Redaction策略的用户的详细信息，请参阅以下主题：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a href="configuring-oracle-data-redaction-policies.html#GUID-ADFB7DCD-8543-400D-95A3-AA0976E75084" title="您可以免除用户将Oracle Data Redaction策略应用于他们访问的数据。">从Oracle数据编辑策略中豁免用户</a></p>
                              </li>
                              <li>
                                 <p><a href="oracle-data-redaction-use-with-oracle-database-features.html#GUID-83544DD3-2903-4E6F-AD14-671E57CF41A9" title="DATAPUMP_EXP_FULL_DATABASE角色包括强大的EXEMPT REDACTION POLICY系统特权。">Oracle Data Redaction的Oracle数据泵安全模型</a></p>
                              </li>
                           </ul>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-CF59A02C-1DE8-439B-BC1C-7235915C6D23" title="DBMS_REDACT.ADD_POLICY过程中的表达式参数设置策略应用的条件。">使用表达式定义数据编校策略的条件</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-827E7AB8-4405-47E0-9A66-F249FA03EE44" name="GUID-827E7AB8-4405-47E0-9A66-F249FA03EE44"></a><h4 id="ASOAG-GUID-827E7AB8-4405-47E0-9A66-F249FA03EE44" class="sect4">支持的数据编辑表达式函数</h4>
                  <div>
                     <p>您可以创建使用函数返回特定类型数据的表达式，例如<code class="codeph">SYS_CONTEXT</code>名称空间。
                     </p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-9E82C480-45CC-46D4-A6B8-D2BE823B795B">表达式使用命名空间函数</a><br>您可以在Data Redaction表达式中使用<code class="codeph">SYS_CONTEXT</code>和<code class="codeph">XS_SYS_CONTEXT</code>命名空间函数。
                        </li>
                        <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-B4F115D8-1F8E-4142-A4EF-1B71A9F839F3">表达式使用SUBSTR函数</a><br>您可以使用<code class="codeph">SUBSTR</code>函数，该函数返回数据编辑表达式中指定的字符串的部分（例如字符1-3）。第一个参数必须是常量字符串或对<code class="codeph">SYS_CONTEXT</code>函数或<code class="codeph">XS_SYS_CONTEXT</code>函数的调用。
                        </li>
                        <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-43503DA6-98EF-43D2-8CE5-2708F80F6BA4">表达式使用字符串函数的长度</a><br>您可以在数据编辑表达式中使用以下函数，这些函数返回字符串的长度。Oracle数据库还检查每个运算符的参数是常量字符串还是对<code class="codeph">SYS_CONTEXT</code>或<code class="codeph">XS_SYS_CONTEXT</code>函数的调用。
                        </li>
                        <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-C81B17B6-A64B-4A3D-9925-3379E44DCC84">表达式使用Oracle Application Express函数</a><br>您可以在Data Redaction表达式中使用Oracle Application Express功能。
                        </li>
                        <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-5833127F-13BB-457C-A4B0-A9EA923871A9">表达式使用Oracle Label Security函数</a><br>您可以将Oracle Label Security函数与Data Redaction表达式一起使用。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-CF59A02C-1DE8-439B-BC1C-7235915C6D23" title="DBMS_REDACT.ADD_POLICY过程中的表达式参数设置策略应用的条件。">使用表达式定义数据编校策略的条件</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-9E82C480-45CC-46D4-A6B8-D2BE823B795B" name="GUID-9E82C480-45CC-46D4-A6B8-D2BE823B795B"></a><h5 id="ASOAG-GUID-9E82C480-45CC-46D4-A6B8-D2BE823B795B" class="sect5">表达式使用命名空间函数</h5>
                     <div>
                        <p>您可以在Data Redaction表达式中使用<code class="codeph">SYS_CONTEXT</code>和<code class="codeph">XS_SYS_CONTEXT</code>命名空间函数。
                        </p>
                        <div class="tblformal" id="GUID-9E82C480-45CC-46D4-A6B8-D2BE823B795B__EXPRESSIONSUSINGNAMESPACEFUNCTIONS-B1CE701F">
                           <p class="titleintable">表13-2使用命名空间函数的表达式</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="表达式使用命名空间函数" border="1" summary="This table shows expressions using namespace functions. Columns from left to right are Namespace Function and Description." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d57023e1719">命名空间功能</th>
                                    <th align="left" valign="bottom" width="20%" id="d57023e1721">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d57023e1725" headers="d57023e1719 ">
                                       <p><code class="codeph">SYS_CONTEXT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d57023e1725 d57023e1721 ">
                                       <p>返回与命名空间关联的值。以下命名空间函数有效：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">USERENV</code> （默认命名空间），包括<code class="codeph">SESSION_USER</code>和<code class="codeph">CLIENT_IDENTIFIER</code>等值。</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">SYS_SESSION_ROLES</code> ，包含每个角色的属性</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">XS$SESSION</code> ，包含用户会话的属性。
                                             </p>
                                          </li>
                                          <li>
                                             <p>用户定义的名称空间，但在创建策略表达式之前，这些名称空间必须存在于<code class="codeph">DBA_CONTEXT</code>目录视图中。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d57023e1761" headers="d57023e1719 ">
                                       <p><code class="codeph">XS_SYS_CONTEXT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d57023e1761 d57023e1721 ">
                                       <p>与<code class="codeph">SYS_CONTEXT</code>类似，但是为Oracle Real Application Security环境设计。
                                       </p>
                                       <p><code class="codeph">XS_SYS_CONTEXT</code>支持相同的命名空间<code class="codeph">SYS_CONTEXT</code>支持。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="section"></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-9E82C480-45CC-46D4-A6B8-D2BE823B795B__GUID-24FAC2C1-1D67-4028-A2C3-F0EA2BB07BA8">
                           <p class="notep1">也可以看看：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>有关<code class="codeph">SYS_CONTEXT</code>更多信息，请<code class="codeph">SYS_CONTEXT</code> <a href="../sqlrf/SYS_CONTEXT.html#SQLRF06117" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a></p>
                              </li>
                              <li>
                                 <p>有关<code class="codeph">XS_SYS_CONTEXT</code>详细信息，请<code class="codeph">XS_SYS_CONTEXT</code> <a href="../dbfsg/real-application-security-sql-functions.html#DBFSG99279" target="_blank"><span><cite>“Oracle数据库Real Application Security管理员和开发人员指南”</cite></span></a></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-827E7AB8-4405-47E0-9A66-F249FA03EE44" title="您可以创建使用函数返回特定类型数据的表达式，例如SYS_CONTEXT名称空间。">数据编校表达式的支持函数</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-B4F115D8-1F8E-4142-A4EF-1B71A9F839F3" name="GUID-B4F115D8-1F8E-4142-A4EF-1B71A9F839F3"></a><h5 id="ASOAG-GUID-B4F115D8-1F8E-4142-A4EF-1B71A9F839F3" class="sect5">表达式使用SUBSTR函数</h5>
                     <div>
                        <p>您可以使用<code class="codeph">SUBSTR</code>函数，该函数返回数据编辑表达式中指定的字符串的部分（例如字符1-3）。第一个参数必须是常量字符串或对<code class="codeph">SYS_CONTEXT</code>函数或<code class="codeph">XS_SYS_CONTEXT</code>函数的调用。
                        </p>
                        <div class="tblformal" id="GUID-B4F115D8-1F8E-4142-A4EF-1B71A9F839F3__EXPRESSIONSUSINGSUBSTRSTRINGFUNCTIO-B1CF4A71">
                           <p class="titleintable">表13-3使用SUBSTR字符串函数的表达式</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="使用SUBSTR字符串函数的表达式" border="1" summary="This table shows expressions using SUBSTR string functions. Columns from left to right are SUBSTR String Function and Description." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d57023e1903">SUBSTR字符串函数</th>
                                    <th align="left" valign="bottom" width="20%" id="d57023e1905">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d57023e1909" headers="d57023e1903 ">
                                       <p><code class="codeph">SUBSTR</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d57023e1909 d57023e1905 ">
                                       <p>返回输入<code class="codeph">char</code>值的一部分，从<span class="italic"><code class="codeph">character position</code></span>开始， <span class="italic"><code class="codeph">substring_length</code></span>字符long。<code class="codeph">SUBSTR</code>使用输入字符集定义的字符计算长度。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d57023e1931" headers="d57023e1903 ">
                                       <p><code class="codeph">SUBSTRB</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d57023e1931 d57023e1905 ">
                                       <p>以字节为单位返回输入值的指定部分</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d57023e1939" headers="d57023e1903 ">
                                       <p><code class="codeph">SUBSTRC</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d57023e1939 d57023e1905 ">
                                       <p>以Unicode完整字符返回输入值的指定部分</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d57023e1947" headers="d57023e1903 ">
                                       <p><code class="codeph">SUBSTR2</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d57023e1947 d57023e1905 ">
                                       <p>返回UCS2代码点中输入值的指定部分</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d57023e1955" headers="d57023e1903 ">
                                       <p><code class="codeph">SUBSTR4</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d57023e1955 d57023e1905 ">
                                       <p>返回UCS4代码点中输入值的指定部分</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="section"></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-B4F115D8-1F8E-4142-A4EF-1B71A9F839F3__ORACLEDATABASESQLLANGUAGEREFERENCEF-B24D589F">
                           <p class="notep1">也可以看看：</p>有关<code class="codeph">SUBSTR</code>函数的更多信息，请<a href="../sqlrf/SUBSTR.html#SQLRF06114" target="_blank"><span><cite>参见Oracle数据库SQL语言参考</cite></span></a></div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-827E7AB8-4405-47E0-9A66-F249FA03EE44" title="您可以创建使用函数返回特定类型数据的表达式，例如SYS_CONTEXT名称空间。">数据编校表达式的支持函数</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-43503DA6-98EF-43D2-8CE5-2708F80F6BA4" name="GUID-43503DA6-98EF-43D2-8CE5-2708F80F6BA4"></a><h5 id="ASOAG-GUID-43503DA6-98EF-43D2-8CE5-2708F80F6BA4" class="sect5">表达式使用字符串函数的长度</h5>
                     <div>
                        <p>您可以在数据编辑表达式中使用以下函数，这些函数返回字符串的长度。Oracle数据库还检查每个运算符的参数是常量字符串还是对<code class="codeph">SYS_CONTEXT</code>或<code class="codeph">XS_SYS_CONTEXT</code>函数的调用。
                        </p>
                        <div class="tblformal" id="GUID-43503DA6-98EF-43D2-8CE5-2708F80F6BA4__EXPRESSIONSUSINGCHARACTERSTRINGFUNC-B1CFF534">
                           <p class="titleintable">表13-4使用字符串函数的表达式</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="表达式使用字符串函数" border="1" summary="This table shows expressions using character string functions. Columns from left to right are Character String Function and Description." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d57023e2071">字符串函数</th>
                                    <th align="left" valign="bottom" width="20%" id="d57023e2073">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d57023e2077" headers="d57023e2071 ">
                                       <p><code class="codeph">长度</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d57023e2077 d57023e2073 ">
                                       <p>返回输入<code class="codeph">char</code>值的长度。<code class="codeph">LENGTH</code>使用输入字符集定义的字符计算长度。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d57023e2091" headers="d57023e2071 ">
                                       <p><code class="codeph">LENGTHB</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d57023e2091 d57023e2073 ">
                                       <p>以字节为单位返回输入值的长度</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d57023e2099" headers="d57023e2071 ">
                                       <p><code class="codeph">LENGTHC</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d57023e2099 d57023e2073 ">
                                       <p>以Unicode完整字符返回输入值的长度</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d57023e2107" headers="d57023e2071 ">
                                       <p><code class="codeph">LENGTH2</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d57023e2107 d57023e2073 ">
                                       <p>返回UCS2代码点中输入值的长度</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d57023e2115" headers="d57023e2071 ">
                                       <p><code class="codeph">LENGTH4</code></p>
                                    </td>
                                    <td align="left" valign="top" width="20%" headers="d57023e2115 d57023e2073 ">
                                       <p>返回UCS4代码点中输入值的长度</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="section"></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-43503DA6-98EF-43D2-8CE5-2708F80F6BA4__ORACLEDATABASESQLLANGUAGEREFERENCEF-B24D7B31">
                           <p class="notep1">也可以看看：</p>有关<code class="codeph">LENGTH</code>函数的更多信息，请<a href="../sqlrf/LENGTH.html#SQLRF00658" target="_blank"><span><cite>参见Oracle数据库SQL语言参考</cite></span></a></div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-827E7AB8-4405-47E0-9A66-F249FA03EE44" title="您可以创建使用函数返回特定类型数据的表达式，例如SYS_CONTEXT名称空间。">数据编校表达式的支持函数</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-C81B17B6-A64B-4A3D-9925-3379E44DCC84" name="GUID-C81B17B6-A64B-4A3D-9925-3379E44DCC84"></a><h5 id="ASOAG-GUID-C81B17B6-A64B-4A3D-9925-3379E44DCC84" class="sect5">表达式使用Oracle Application Express函数</h5>
                     <div>
                        <p>您可以在Data Redaction表达式中使用Oracle Application Express功能。</p>
                        <div class="tblformal" id="GUID-C81B17B6-A64B-4A3D-9925-3379E44DCC84__ORACLEAPPLICATIONEXPRESSFUNCTIONS-B1D1315D">
                           <p class="titleintable">表13-5 Oracle Application Express函数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Oracle Application Express功能" border="1" summary="This table shows expressions using Oracle Application Expression functions. Columns from left to right are Oracle Application Express Function and Description." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d57023e2225">Oracle Application Express功能</th>
                                    <th align="left" valign="bottom" id="d57023e2227">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d57023e2231" headers="d57023e2225 ">
                                       <p><code class="codeph">V</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d57023e2231 d57023e2227 ">
                                       <p>返回项的会话状态。它是<code class="codeph">APEX_UTIL.GET_SESSION_STATE</code>函数的包装器</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d57023e2242" headers="d57023e2225 ">
                                       <p><code class="codeph">NV</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d57023e2242 d57023e2227 ">
                                       <p>返回数字项的数值。它是<code class="codeph">APEX_UTIL.GET_NUMERIC_SESSION_STATE</code>函数的包装器</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="section"></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-C81B17B6-A64B-4A3D-9925-3379E44DCC84__ORACLEDATABASESQLLANGUAGEREFERENCEF-B24D9CFD">
                           <p class="notep1">也可以看看：</p>有关Oracle Application Express功能的更多信息，请<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/asoag&amp;id=AEAPI101" target="_blank"><span><cite>参见Oracle Application Express API参考</cite></span></a></div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-827E7AB8-4405-47E0-9A66-F249FA03EE44" title="您可以创建使用函数返回特定类型数据的表达式，例如SYS_CONTEXT名称空间。">数据编校表达式的支持函数</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-5833127F-13BB-457C-A4B0-A9EA923871A9" name="GUID-5833127F-13BB-457C-A4B0-A9EA923871A9"></a><h5 id="ASOAG-GUID-5833127F-13BB-457C-A4B0-A9EA923871A9" class="sect5">表达式使用Oracle Label Security函数</h5>
                     <div>
                        <p>您可以将Oracle Label Security函数与Data Redaction表达式一起使用。</p>
                        <div class="section">
                           <p>对于粗体字体的函数，Oracle Data Redaction检查它们的参数是常量还是仅调用<code class="codeph">SA_UTL.NUMERIC_LABEL</code> ， <code class="codeph">CHAR_TO_LABEL</code>和<code class="codeph">SA_SESSION.LABEL</code>函数之一，并且这些函数的参数是常量。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformal" id="GUID-5833127F-13BB-457C-A4B0-A9EA923871A9__ORACLELABELSECURITYFUNCTIONS-B1D1F1C4">
                           <p class="titleintable">表13-6 Oracle Label安全功能</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Oracle Label安全功能" border="1" summary="This table shows expressions using Oracle Label Security functions. Columns from left to right are Oracle Label Security Function and Description." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d57023e2365">Oracle Label安全功能</th>
                                    <th align="left" valign="bottom" id="d57023e2367">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d57023e2371" headers="d57023e2365 ">
                                       <p><code class="codeph">LBACSYS.OLS_LABEL_DOMINATES</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d57023e2371 d57023e2367 ">
                                       <p>检查Oracle Label Security策略的会话标签是否支配或等于另一个OLS标签</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d57023e2379" headers="d57023e2365 ">
                                       <p><code class="codeph"><span class="bold">占主导地位</span></code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" headers="d57023e2379 d57023e2367 ">
                                       <p>检查一个OLS标签是否占第二个OLS标签的主导。</p>
                                       <p>在Oracle Database 12c第1版（12.1）中不推荐使用;请改用<code class="codeph">OLS_DOMINATES</code>或<code class="codeph">OLS_DOM</code>函数。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d57023e2397" headers="d57023e2365 ">
                                       <p><code class="codeph"><span class="bold">OLS_DOMINATES</span></code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d57023e2397 d57023e2367 ">
                                       <p>检查一个OLS标签是否占第二个OLS标签的主导</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d57023e2406" headers="d57023e2365 ">
                                       <p><code class="codeph"><span class="bold">OLS_DOM</span></code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d57023e2406 d57023e2367 ">
                                       <p>检查一个OLS标签是否占第二个OLS标签的主导</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d57023e2415" headers="d57023e2365 ">
                                       <p><code class="codeph"><span class="bold">DOM</span></code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d57023e2415 d57023e2367 ">
                                       <p>检查一个OLS标签是否占第二个OLS标签的主导</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d57023e2424" headers="d57023e2365 ">
                                       <p><code class="codeph"><span class="bold">OLS_STRICTLY_DOMINATES</span></code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d57023e2424 d57023e2367 ">
                                       <p>检查一个OLS标签是否对第二个OLS标签占优势并且不等于它</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d57023e2433" headers="d57023e2365 ">
                                       <p><code class="codeph"><span class="bold">STRICTLY_DOMINATES</span></code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d57023e2433 d57023e2367 ">
                                       <p>检查一个OLS标签是否对第二个OLS标签占优势并且不等于它</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d57023e2442" headers="d57023e2365 ">
                                       <p><code class="codeph"><span class="bold">S_DOM</span></code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d57023e2442 d57023e2367 ">
                                       <p>检查一个OLS标签是否对第二个OLS标签占优势并且不等于它。</p>
                                       <p>在Oracle Database 12 <span class="italic">c第</span> 1版（12.1）中已弃用;请改用<code class="codeph">OLS_DOMINATES</code>或<code class="codeph">OLS_DOM</code>函数。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d57023e2462" headers="d57023e2365 ">
                                       <p><code class="codeph"><span class="bold">SA_UTL.DOMINATES</span></code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d57023e2462 d57023e2367 ">
                                       <p>检查一个OLS标签是否支配第二个OLS标签，或者给定OLS策略的会话标签是否支配OLS标签</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d57023e2471" headers="d57023e2365 ">
                                       <p><code class="codeph">SA_UTL.CHECK_READ</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d57023e2471 d57023e2367 ">
                                       <p>检查用户是否可以读取受策略保护的行</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d57023e2479" headers="d57023e2365 ">
                                       <p><code class="codeph">SA_UTL.NUMERIC_LABEL</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d57023e2479 d57023e2367 ">
                                       <p>返回当前会话OLS标签</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d57023e2488" headers="d57023e2365 ">
                                       <p><code class="codeph">CHAR_TO_LABEL</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d57023e2488 d57023e2367 ">
                                       <p>将字符串转换为OLS标签标记</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d57023e2496" headers="d57023e2365 ">
                                       <p><code class="codeph">SA_SESSION.LABEL</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d57023e2496 d57023e2367 ">
                                       <p>返回与指定的OLS策略关联的标签</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="../olsag/advanced-topics-in-oracle-label-security.html#OLSAG-GUID-CD606D67-78AE-427D-B397-627C68E77B84" target="_blank"><span><cite>Oracle Label Security管理员指南</cite></span></a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-827E7AB8-4405-47E0-9A66-F249FA03EE44" title="您可以创建使用函数返回特定类型数据的表达式，例如SYS_CONTEXT名称空间。">数据编校表达式的支持函数</a></p>
                           </div>
                        </div>
                     </div>
                  </div>
               </div><a id="ASOAG10584"></a><div class="props_rev_3"><a id="GUID-CA7521D1-DC1A-4CDA-9B36-0CA28CA2E74B" name="GUID-CA7521D1-DC1A-4CDA-9B36-0CA28CA2E74B"></a><h4 id="ASOAG-GUID-CA7521D1-DC1A-4CDA-9B36-0CA28CA2E74B" class="sect4">应用基于用户环境的编校策略</h4>
                  <div>
                     <p>您可以根据用户的环境应用数据编辑策略，例如会话用户名或客户端标识符。</p>
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>使用<code class="codeph">USERENV</code>的命名空间<code class="codeph">SYS_CONTEXT</code>函数在<code class="codeph">DBMS_REDACT.ADD_POLICY</code> <code class="codeph">expression</code>参数应用基于用户的环境政策。
                              </p>
                           </li>
                        </ul>
                        <p>例如，要仅将策略应用于会话用户名<code class="codeph">psmith</code> ：</p><pre class="oac_no_warn" dir="ltr">expression =&gt;'SYS_CONTEXT（''USERENV''，''SESSION_USER''）='''PSMITH'''</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-CA7521D1-DC1A-4CDA-9B36-0CA28CA2E74B__GUID-015A56C3-282D-494E-B82F-AD8FEAF8DF6A">
                        <p class="notep1">也可以看看：</p>
                        <p>有关可以与<code class="codeph">SYS_CONTEXT</code>函数一起使用的更多名称空间的信息，请<a href="../sqlrf/SYS_CONTEXT.html#SQLRF06117" target="_blank"><span><cite>参见Oracle数据库SQL语言参考</cite></span></a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-CF59A02C-1DE8-439B-BC1C-7235915C6D23" title="DBMS_REDACT.ADD_POLICY过程中的表达式参数设置策略应用的条件。">使用表达式定义数据编校策略的条件</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ASOAG10586"></a><div class="props_rev_3"><a id="GUID-24F50577-3B10-45F4-9889-1B8215E41441" name="GUID-24F50577-3B10-45F4-9889-1B8215E41441"></a><h4 id="ASOAG-GUID-24F50577-3B10-45F4-9889-1B8215E41441" class="sect4">应用基于数据库角色的编校策略</h4>
                  <div>
                     <p>您可以基于数据库角色应用数据编辑策略，例如<code class="codeph">DBA</code>角色。
                     </p>
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>使用<code class="codeph">SYS_CONTEXT</code>函数中的<code class="codeph">SYS_SESSION_ROLES</code>命名空间根据用户角色应用策略。
                              </p>
                              <p>此命名空间包含每个角色的属性。如果为查询应用程序用户启用了指定的角色，则该属性的值为<code class="codeph">TRUE</code> ;如果未启用角色，则值为<code class="codeph">FALSE</code> 。
                              </p>
                           </li>
                        </ul>
                        <p>例如，假设您只希望允许主管查看<a href="glossary.html#GUID-82E2FC6D-718F-4367-9D7E-DC130F360FC3"><span class="xrefglossterm">实际数据</span></a> 。下面的示例演示了如何使用<code class="codeph">DBMS_REDACT.ADD_POLICY</code> <code class="codeph">expression</code>参数来设置策略来显示实际数据，谁拥有的任何应用程序的用户<code class="codeph">supervisor</code>启用的角色，但编修数据，所有其他应用程序的用户。
                        </p><pre class="oac_no_warn" dir="ltr">expression =&gt;'SYS_CONTEXT（''SYS_SESSION_ROLES''，''SUPERVISOR''）='''FALSE'''</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-CF59A02C-1DE8-439B-BC1C-7235915C6D23" title="DBMS_REDACT.ADD_POLICY过程中的表达式参数设置策略应用的条件。">使用表达式定义数据编校策略的条件</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ASOAG10597"></a><div class="props_rev_3"><a id="GUID-9B192DA8-12C9-4961-A23E-3A9E8F475187" name="GUID-9B192DA8-12C9-4961-A23E-3A9E8F475187"></a><h4 id="ASOAG-GUID-9B192DA8-12C9-4961-A23E-3A9E8F475187" class="sect4">应用基于Oracle Label Security标签优势的编校策略</h4>
                  <div>
                     <p>您可以根据Oracle Label Security标签的主导地位设置应用数据编辑策略的条件。</p>
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>使用公共独立函数<code class="codeph">OLS_LABEL_DOMINATES</code>来检查会话标签的优势。如果指定<code class="codeph">policy_name</code>值的会话标签支配或等于<code class="codeph">label</code>参数指定的标签，则此函数返回<code class="codeph">1</code> （ <code class="codeph">TRUE</code> ）;否则，它返回<code class="codeph">0</code> （ <code class="codeph">FALSE</code> ）。
                              </p>
                           </li>
                        </ul>
                        <p>例如，仅在策略<code class="codeph">hr_ols_pol</code>的会话标签不占主导地位且也不等于标签<code class="codeph">hs</code>情况下应用数据编辑策略：</p><pre class="oac_no_warn" dir="ltr">expression =&gt;'OLS_LABEL_DOMINATES（''hr_ols_pol''，''hs''）= 0'</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-CF59A02C-1DE8-439B-BC1C-7235915C6D23" title="DBMS_REDACT.ADD_POLICY过程中的表达式参数设置策略应用的条件。">使用表达式定义数据编校策略的条件</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ASOAG10591"></a><div class="props_rev_3"><a id="GUID-BB39A63A-D11E-493E-A09C-7D7447BF0297" name="GUID-BB39A63A-D11E-493E-A09C-7D7447BF0297"></a><h4 id="ASOAG-GUID-BB39A63A-D11E-493E-A09C-7D7447BF0297" class="sect4">应用基于Application Express会话状态的编校策略</h4>
                  <div>
                     <p>您可以基于Oracle Application Express（APEX）会话状态应用数据编辑策略。</p>
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>在<code class="codeph">DBMS_REDACT.ADD_POLICY</code> <code class="codeph">expression</code>参数中使用以下<code class="codeph">DBMS_REDACT.ADD_POLICY</code> Application Express API，以在Oracle Application Express会话状态上应用策略：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">V</code> ，它是<code class="codeph">APEX_UTIL.GET_SESSION_STATE</code>函数的同义词</p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">NV</code> ，它是<code class="codeph">APEX_UTIL.GET_NUMERIC_SESSION_STATE</code>函数的同义词</p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                        <p>例如，设置<code class="codeph">DBMS_REDACT.ADD_POLICY</code> <code class="codeph">expression</code>参数，如果你想新版本发生时调用的应用程序项目<code class="codeph">G_JOB</code>的值为<code class="codeph">CLERK</code> ：</p><pre class="oac_no_warn" dir="ltr">表达式=&gt;'V（''APP_USER''）！=''mavis@example.com''或V（''APP_USER''）为空'</pre><p>例如，您可以使用这些函数根据作业或特权角色来编辑数据，该角色存储在APEX应用程序的会话状态中。</p>
                        <p>如果您希望在查询用户<span class="italic">不在</span> APEX应用程序的上下文中时进行编校（当从APEX框架外部发出查询时，例如直接通过SQL * Plus），则使用<code class="codeph">IS NULL</code>子句，如下所示。此策略表达式仅在她的查询来自APEX应用程序时才<code class="codeph">mavis</code>实际数据显示给用户<code class="codeph">mavis</code> 。否则，将编辑查询结果。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-BB39A63A-D11E-493E-A09C-7D7447BF0297__GUID-707E7233-B59A-4473-AFCE-59EEC3119E5C">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/asoag&amp;id=AEAPI101" target="_blank"><span><cite>Oracle Application Express API参考</cite></span></a> 
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-CF59A02C-1DE8-439B-BC1C-7235915C6D23" title="DBMS_REDACT.ADD_POLICY过程中的表达式参数设置策略应用的条件。">使用表达式定义数据编校策略的条件</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ASOAG10588"></a><div class="props_rev_3"><a id="GUID-46619EF1-2709-4E51-BFA4-E0C90E966D2C" name="GUID-46619EF1-2709-4E51-BFA4-E0C90E966D2C"></a><h4 id="ASOAG-GUID-46619EF1-2709-4E51-BFA4-E0C90E966D2C" class="sect4">将编校策略应用于所有用户</h4>
                  <div>
                     <p>无论上下文如何，您都可以将策略应用于任何用户，而不进行过滤。</p>
                     <div class="section">
                        <p>但是，请注意，具有<code class="codeph">EXEMPT REDACTION POLICY</code>权限的用户<code class="codeph">SYS</code>和用户始终除了Oracle Data Redaction策略之外。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>该政策适用于谁不是用户<code class="codeph">SYS</code>或已被授予<code class="codeph">EXEMPT REDACTION POLICY</code>的权限，写<code class="codeph">DBMS_REDACT.ADD_POLICY</code> <code class="codeph">expression</code>参数，以评估<code class="codeph">TRUE</code> 。</p>
                           </li>
                        </ul>
                        <p>例如：</p><pre class="oac_no_warn" dir="ltr">表达式=&gt;'1 = 1'</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-46619EF1-2709-4E51-BFA4-E0C90E966D2C__GUID-6B28343E-243A-4CF1-9494-A4856C97BD97">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="configuring-oracle-data-redaction-policies.html#GUID-ADFB7DCD-8543-400D-95A3-AA0976E75084" title="您可以免除用户将Oracle Data Redaction策略应用于他们访问的数据。">从Oracle数据编辑策略中豁免用户</a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-CF59A02C-1DE8-439B-BC1C-7235915C6D23" title="DBMS_REDACT.ADD_POLICY过程中的表达式参数设置策略应用的条件。">使用表达式定义数据编校策略的条件</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-A251209F-8BC3-4504-8DED-F6B72162A03B" name="GUID-A251209F-8BC3-4504-8DED-F6B72162A03B"></a><h3 id="ASOAG-GUID-A251209F-8BC3-4504-8DED-F6B72162A03B" class="sect3">创建和管理多个命名策略表达式</h3>
               <div>
                  <p>可以在多个编校策略中使用命名的集中管理的Oracle Data Redaction策略表达式，并将其应用于多个表或视图。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-7B0248D0-886E-4926-B997-20D91BED682F">关于用于定义条件的数据编辑策略表达式</a><br>命名的Oracle Data Redaction策略表达式旨在替代现有Data Redaction策略中使用的策略表达式。
                     </li>
                     <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-A8B8159E-A934-457C-ACDC-62D774F27DA2">创建和应用命名数据编辑策略表达式</a><br><code class="codeph">DBMS_REDACT.CREATE_POLICY_EXPRESSION</code>和<code class="codeph">DBMS_REDACT.APPLY_POLICY_EXPR_TO_COL</code>使您可以创建和应用命名的数据编辑策略表达式。
                     </li>
                     <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-C53B6700-2B62-4EB2-BA43-26034997A1A9">更新命名数据编校策略表达式</a><br>您可以使用<code class="codeph">DBMS_REDACT.UPDATE_POLICY_EXPRESSION</code>过程来更新数据编辑策略表达式。更新立即发生，并反映在使用策略表达式的所有列中。
                     </li>
                     <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-0B62D984-B152-4A61-A4BC-803556AB594B">删除命名数据编校表达式策略</a><br>您可以使用<code class="codeph">DBMS_REDACT.DROP_POLICY_EXPRESSION</code>过程删除Data Redaction表达式策略。
                     </li>
                     <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-44DF61E7-1805-437A-A086-4FFB0C3E8BC2">教程：创建和共享命名数据编校策略表达式</a><br>本教程介绍如何创建Oracle Data Redaction策略表达式，将其应用于多个表以及集中管理策略表达式。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-78C0ECD1-388C-4E12-87C3-32FBC05F294D" title="Oracle Data Redaction策略定义了如何根据表列类型和要使用的编辑类型来编辑列中的数据。">配置Oracle数据编校策略</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-7B0248D0-886E-4926-B997-20D91BED682F" name="GUID-7B0248D0-886E-4926-B997-20D91BED682F"></a><h4 id="ASOAG-GUID-7B0248D0-886E-4926-B997-20D91BED682F" class="sect4">关于用于定义条件的数据编辑策略表达式</h4>
                  <div>
                     <p>命名的Oracle Data Redaction策略表达式旨在替代现有Data Redaction策略中使用的策略表达式。</p>
                     <p>命名策略表达式使您可以根据运行时条件编辑数据。此类策略只会影响是否在定义了编校策略的表或视图的列上进行编校。默认情况下，数据编辑策略表达式适用于表或视图的所有列。或者，您可以选择为表或视图的各个列创建和关联策略表达式。这些列级表达式称为命名策略表达式;换句话说，带有名称的策略表达式。命名策略表达式具有以下属性：</p>
                     <p></p>
                     <p>您可以通过以下方式使用数据编辑策略表达式：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>单个Data Redaction策略表达式可以由多个Data Redaction策略共享，方法是将其应用于作为单独的Data Redaction策略一部分的列。</p>
                        </li>
                        <li>
                           <p>每个命名策略表达式都可以与相同或不同表或视图的多个列相关联。</p>
                        </li>
                        <li>
                           <p>每个命名的策略表达式都可以与相同或不同的数据编辑策略中的列相关联。</p>
                        </li>
                        <li>
                           <p>指定的策略表达式将覆盖关联列的默认策略表达式。默认策略表达式仍适用于没有应用命名策略表达式的编校列。</p>
                        </li>
                        <li>
                           <p>对命名策略表达式所做的任何更新都适用于表达式的所有列关联。</p>
                        </li>
                        <li>
                           <p>您不能将多个命名策略表达式关联到同一列。</p>
                        </li>
                        <li>
                           <p>在多租户环境中，您无法将命名策略表达式与不同可插拔数据库（PDB）中的列关联。</p>
                        </li>
                     </ul>
                     <p>应用命名策略表达式的列必须已由数据编辑策略编辑。应用命名策略表达式后，在决定是否编辑列时，其评估结果优先于默认策略表达式的结果。修改命名策略表达式时，更改将应用于使用它的所有表和视图。在多租户环境中，与数据编辑策略一样，命名策略表达式仅在创建它的PDB中有效，并且只能应用于创建它的PDB中的对象列。</p>
                     <p><a href="configuring-oracle-data-redaction-policies.html#GUID-7B0248D0-886E-4926-B997-20D91BED682F__DBMS_REDACTPOLICYEXPRESSIONPROCEDUR-F6EE5588" title="DBMS_REDACT策略表达式过程。列从左到右，过程和描述。">表13-7</a>说明了可用于创建和管理命名策略表达式的<code class="codeph">DBMS_REDACT</code> PL / SQL过程。要查找有关策略表达式的信息，请查询<code class="codeph">REDACTION_EXPRESSIONS</code>数据字典视图。
                     </p>
                     <div class="tblformal" id="GUID-7B0248D0-886E-4926-B997-20D91BED682F__DBMS_REDACTPOLICYEXPRESSIONPROCEDUR-F6EE5588">
                        <p class="titleintable">表13-7 DBMS_REDACT策略表达式过程</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_REDACT策略表达式过程" border="1" summary="DBMS_REDACT policy expression procedures. Columns are, from left to right, Procedure and Description." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" id="d57023e3439">程序</th>
                                 <th align="left" valign="bottom" id="d57023e3441">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d57023e3445" headers="d57023e3439 ">
                                    <p><code class="codeph">DBMS_REDACT.CREATE_POLICY_EXPRESSION</code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d57023e3445 d57023e3441 ">
                                    <p>创建数据编辑策略表达式</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d57023e3453" headers="d57023e3439 ">
                                    <p><code class="codeph">DBMS_REDACT.UPDATE_POLICY_EXPRESSION</code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d57023e3453 d57023e3441 ">
                                    <p>更新数据编辑策略表达式</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d57023e3461" headers="d57023e3439 ">
                                    <p><code class="codeph">DBMS_REDACT.APPLY_POLICY_EXPR_TO_COL</code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" headers="d57023e3461 d57023e3441 ">
                                    <p>将数据编辑策略表达式应用于表或视图列</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" id="d57023e3470" headers="d57023e3439 ">
                                    <p><code class="codeph">DBMS_REDACT.DROP_POLICY_EXPRESSION</code></p>
                                 </td>
                                 <td align="left" valign="top" headers="d57023e3470 d57023e3441 ">
                                    <p>删除数据编辑策略表达式</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="using-oracle-data-redaction-in-oracle-enterprise-manager.html#GUID-B2EFDE3A-B321-445F-9E09-CD480E096903" title="您可以在Enterprise Manager Cloud Control中管理Oracle Data Redaction策略表达式。">使用Enterprise Manager管理命名数据编校策略表达式</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-A251209F-8BC3-4504-8DED-F6B72162A03B" title="可以在多个编校策略中使用命名的集中管理的Oracle Data Redaction策略表达式，并将其应用于多个表或视图。">创建和管理多个命名策略表达式</a></p>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-A8B8159E-A934-457C-ACDC-62D774F27DA2" name="GUID-A8B8159E-A934-457C-ACDC-62D774F27DA2"></a><h4 id="ASOAG-GUID-A8B8159E-A934-457C-ACDC-62D774F27DA2" class="sect4">创建和应用命名数据编辑策略表达式</h4>
                  <div>
                     <p><code class="codeph">DBMS_REDACT.CREATE_POLICY_EXPRESSION</code>和<code class="codeph">DBMS_REDACT.APPLY_POLICY_EXPR_TO_COL</code>使您可以创建和应用命名的数据编辑策略表达式。
                     </p>
                     <ol>
                        <li class="stepexpand"><span>确保<code class="codeph">COMPATIBLE</code>初始化参数设置为<code class="codeph">12.2.0.0</code> 。</span><div>要查找当前设置，请使用<code class="codeph">SHOW PARAMETER</code>命令。
                           </div>
                        </li>
                        <li class="stepexpand"><span>要创建策略表达式，请运行<code class="codeph">DBMS_REDACT.CREATE_POLICY_EXPRESSION</code>过程。</span><div>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_REDACT.CREATE_POLICY_EXPRESSION（policy_expression_name =&gt;'redact_pol'，expression =&gt;'1 = 1'，policy_expression_description =&gt;'确定是否将对该列进行编辑'）;结束; /</pre></div>
                        </li>
                        <li class="stepexpand"><span>运行<code class="codeph">DBMS_REDACT.APPLY_POLICY_EXPR_TO_COL</code>过程以将策略表达式应用于表或视图列。</span><div>
                              <p>例如，假设您已在<code class="codeph">HR.EMPLOYEES</code>表的<code class="codeph">SALARY</code>列上创建了数据编辑策略，如下所示：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_REDACT.ADD_POLICY（object_schema =&gt;'hr'，object_name =&gt;'employees'，policy_name =&gt;'overall_policy'，expression =&gt;'1 = 0'）;结束; / BEGIN DBMS_REDACT.ALTER_POLICY（object_schema =&gt;'hr'，object_name =&gt;'employees'，policy_name =&gt;'overall_policy'，function_type =&gt; DBMS_REDACT.FULL，action =&gt; DBMS_REDACT.ADD_COLUMN，column_name =&gt;'SALARY）;结束; /</pre><p>然后，您可以将策略表达式应用于<code class="codeph">SALARY</code>表，如下所示：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_REDACT.APPLY_POLICY_EXPR_TO_COL（object_schema =&gt;'hr'，object_name =&gt;'employees'，column_name =&gt;'salary'，policy_expression_name =&gt;'redact_pol'）;结束; /</pre><p>在本规范中：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">object_schema</code> ：指定将使用策略表达式的对象的模式。如果省略此设置（或输入<code class="codeph">NULL</code> ），则Oracle数据库将使用当前架构的名称。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">object_name</code> ：指定要用于策略表达式的表或视图的名称。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">column_name</code> ：指定要应用策略表达式的列。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">policy_expression_name</code> ：指定策略表达式的名称。
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <div>创建Oracle Data Redaction策略表达式后，可以将其应用于作为现有Data Redaction策略一部分的表或视图的列。</div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-A251209F-8BC3-4504-8DED-F6B72162A03B" title="可以在多个编校策略中使用命名的集中管理的Oracle Data Redaction策略表达式，并将其应用于多个表或视图。">创建和管理多个命名策略表达式</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-C53B6700-2B62-4EB2-BA43-26034997A1A9" name="GUID-C53B6700-2B62-4EB2-BA43-26034997A1A9"></a><h4 id="ASOAG-GUID-C53B6700-2B62-4EB2-BA43-26034997A1A9" class="sect4">更新命名数据编校策略表达式</h4>
                  <div>
                     <p>您可以使用<code class="codeph">DBMS_REDACT.UPDATE_POLICY_EXPRESSION</code>过程来更新数据编辑策略表达式。更新立即发生，并反映在使用策略表达式的所有列中。
                     </p>
                     <div class="section">您可以查询<code class="codeph">REDACTION_EXPRESSIONS</code>数据字典视图以查找现有的数据编辑策略表达式。
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>确保<code class="codeph">COMPATIBLE</code>初始化参数设置为<code class="codeph">12.2.0.0</code> 。</span><div>要查找当前设置，请使用<code class="codeph">SHOW PARAMETER</code>命令。
                           </div>
                        </li>
                        <li class="stepexpand"><span>运行<code class="codeph">DBMS_REDACT.UPDATE_POLICY_EXPRESSION</code>过程以执行更新。</span><div>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_REDACT.UPDATE_POLICY_EXPRESSION（policy_expression_name =&gt;'redact_pol'，expression =&gt;'1 = 0'）;结束; /</pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-A251209F-8BC3-4504-8DED-F6B72162A03B" title="可以在多个编校策略中使用命名的集中管理的Oracle Data Redaction策略表达式，并将其应用于多个表或视图。">创建和管理多个命名策略表达式</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-0B62D984-B152-4A61-A4BC-803556AB594B" name="GUID-0B62D984-B152-4A61-A4BC-803556AB594B"></a><h4 id="ASOAG-GUID-0B62D984-B152-4A61-A4BC-803556AB594B" class="sect4">删除命名数据编校表达式策略</h4>
                  <div>
                     <p>您可以使用<code class="codeph">DBMS_REDACT.DROP_POLICY_EXPRESSION</code>过程删除Data Redaction表达式策略。
                     </p>
                     <div class="section">您可以查询<code class="codeph">REDACTION_EXPRESSIONS</code>数据字典视图以查找现有的数据编辑策略表达式。
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>确保<code class="codeph">COMPATIBLE</code>初始化参数设置为<code class="codeph">12.2.0.0</code> 。</span><div>要查找当前设置，请使用<code class="codeph">SHOW PARAMETER</code>命令。
                           </div>
                        </li>
                        <li class="stepexpand"><span>删除命名策略表达式与任何表或视图列的关联。</span><div>如果策略表达式与现有表或视图列关联，则不能删除该策略表达式。要删除与命名策略表达式一个列的关联（恢复到redacting基于默认策略表达式的评价结果列），您必须设置<code class="codeph">policy_expression_name</code>的参数<code class="codeph">DBMS_REDACT.APPLY_POLICY_EXPR_TO_COL</code>过程<code class="codeph">NULL</code> 。</div>
                           <div>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_REDACT.APPLY_POLICY_EXPR_TO_COL（object_schema =&gt;'hr'，object_name =&gt;'employees'，column_name =&gt;'salary'，policy_expression_name =&gt; null）;结束; /</pre></div>
                        </li>
                        <li class="stepexpand"><span>运行<code class="codeph">DBMS_REDACT.DROP_POLICY_EXPRESSION</code>以删除策略表达式。</span><div>
                              <p>例如：</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_REDACT.DROP_POLICY_EXPRESSION（policy_expression_name =&gt;'redact_pol'）;结束; /</pre></div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-A251209F-8BC3-4504-8DED-F6B72162A03B" title="可以在多个编校策略中使用命名的集中管理的Oracle Data Redaction策略表达式，并将其应用于多个表或视图。">创建和管理多个命名策略表达式</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-44DF61E7-1805-437A-A086-4FFB0C3E8BC2" name="GUID-44DF61E7-1805-437A-A086-4FFB0C3E8BC2"></a><h4 id="ASOAG-GUID-44DF61E7-1805-437A-A086-4FFB0C3E8BC2" class="sect4">教程：创建和共享命名数据编校策略表达式</h4>
                  <div>
                     <p>本教程介绍如何创建Oracle Data Redaction策略表达式，将其应用于多个表以及集中管理策略表达式。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-0CEBDCCC-D363-4F04-A0A5-D87CAFFC67A2">第1步：为本教程创建用户</a><br>您必须为本教程创建两个用户： <code class="codeph">dr_admin</code> ，谁将创建Oracle Data Redaction策略， <code class="codeph">hr_clerk</code>将测试它们。
                        </li>
                        <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-2981AB1E-8330-4501-BE0B-8317CEDD6505">第2步：创建Oracle数据编辑策略</a><br>用户<code class="codeph">dr_admin</code>已准备好创建Oracle Data Redaction策略以保护<code class="codeph">HR.EMPLOYEES</code>和<code class="codeph">HR.JOBS</code>表。
                        </li>
                        <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-7459BF10-17BA-4621-A7E3-427624F0212A">第3步：测试Oracle数据编辑策略</a><br>用户<code class="codeph">hr_clerk</code>已准备好查询已编辑数据的表。
                        </li>
                        <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-AAFCB0D8-6BC2-4ECA-B2C9-585E3ADF0685">步骤4：创建策略表达并将其应用于编辑的表列</a><br>接下来，用户<code class="codeph">dr_admin</code>已准备好创建数据编辑策略表达式，并将其应用于三个编辑的表列中的两个。
                        </li>
                        <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-B0FBCDA8-38B6-4F54-947E-40435D3B145F">第5步：测试数据编辑策略表达式</a><br>用户<code class="codeph">hr_clerk</code>现在已准备好测试<code class="codeph">hr_redact_pol</code>策略表达式。
                        </li>
                        <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-E1B59E2D-5DF0-4AEF-B53C-30FF393D55EF">第6步：修改数据编辑策略表达式</a><br>用户<code class="codeph">dr_admin</code>决定修改数据编辑策略表达式，以便用户<code class="codeph">HR</code>可以访问编辑的数据，而不是用户<code class="codeph">hr_clerk</code> 。
                        </li>
                        <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-66379C5B-5969-496D-B1A9-A2BE6F116E64">第7步：测试修改后的策略表达式</a><br>用户<code class="codeph">HR</code>和<code class="codeph">hr_clerk</code>已准备好测试已修改的数据编辑策略表达式。
                        </li>
                        <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-A6F7C1E8-ACD2-4A58-921C-BA1ACE0AB0C9">第8步：删除本教程的组件</a><br>如果您不需要本教程的组件，则可以删除它们。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-A251209F-8BC3-4504-8DED-F6B72162A03B" title="可以在多个编校策略中使用命名的集中管理的Oracle Data Redaction策略表达式，并将其应用于多个表或视图。">创建和管理多个命名策略表达式</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-0CEBDCCC-D363-4F04-A0A5-D87CAFFC67A2" name="GUID-0CEBDCCC-D363-4F04-A0A5-D87CAFFC67A2"></a><h5 id="ASOAG-GUID-0CEBDCCC-D363-4F04-A0A5-D87CAFFC67A2" class="sect5">第1步：为本教程创建用户</h5>
                     <div>
                        <p>您必须为本教程创建两个用户： <code class="codeph">dr_admin</code> ，谁将创建Oracle Data Redaction策略， <code class="codeph">hr_clerk</code>将测试它们。
                        </p>
                        <div class="p">在开始本教程之前，请确保<code class="codeph">COMPATIBLE</code>初始化参数设置为<code class="codeph">12.2.0.0</code> 。您可以使用<code class="codeph">SHOW PARAMETER</code>命令检查此设置。
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>使用<code class="codeph">SYSDBA</code>管理权限以<code class="codeph">SYS</code>用户身份登录SQL * Plus。</span><div><pre class="oac_no_warn" dir="ltr">sqlplus sys as sysdba输入密码： <span class="italic">password</span></pre></div>
                           </li>
                           <li class="stepexpand"><span>在多租户环境中，连接到相应的PDB。</span><div>
                                 <p>例如：</p><pre class="oac_no_warn" dir="ltr">CONNECT SYS @ my_pdb AS SYSDBA输入密码： <span class="italic">密码</span></pre></div>
                              <div>
                                 <p>要查找可用的PDB，请运行<code class="codeph">show pdbs</code>命令。要检查当前的PDB，请运行<code class="codeph">SHOW CON_NAME</code>命令。
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>创建<code class="codeph">dr_admin</code>和<code class="codeph">hr_clerk</code>用户帐户。</span><div><pre class="oac_no_warn" dir="ltr">GRANT创建会话给dr_admin IDENTIFIED BY <span class="italic">密码</span> ; GRANT创建会话到hr_clerk IDENTIFIED BY <span class="italic">密码</span> ;</pre></div>
                           </li>
                           <li class="stepexpand"><span>将<code class="codeph">EXECUTE</code>特权授予<code class="codeph">dr_admin</code>用户。</span><div><pre class="oac_no_warn" dir="ltr">在DBMS_REDACT上执行GRANT EXECUTE到dr_admin;</pre></div>
                           </li>
                           <li class="stepexpand"><span>以用户<code class="codeph">HR</code>身份连接。</span><div><pre class="oac_no_warn" dir="ltr">CONNECT HR  - <span class="italic">或者，对于PDB，CONNECT hr @ my_pdb</span>输入密码： <span class="italic">password</span></pre></div>
                           </li>
                           <li class="stepexpand"><span>为<code class="codeph">hr_clerk</code>授予<code class="codeph">EMPLOYEES</code>和<code class="codeph">JOBS</code>表的<code class="codeph">SELECT</code>权限。</span><div><pre class="oac_no_warn" dir="ltr">雇员在hr_clerk上的GRANT SELECT; JOBS上的GRANT SELECT到hr_clerk;</pre></div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-44DF61E7-1805-437A-A086-4FFB0C3E8BC2" title="本教程介绍如何创建Oracle Data Redaction策略表达式，将其应用于多个表以及集中管理策略表达式。">教程：创建和共享命名数据编校策略表达式</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-2981AB1E-8330-4501-BE0B-8317CEDD6505" name="GUID-2981AB1E-8330-4501-BE0B-8317CEDD6505"></a><h5 id="ASOAG-GUID-2981AB1E-8330-4501-BE0B-8317CEDD6505" class="sect5">第2步：创建Oracle数据编辑策略</h5>
                     <div>
                        <p>用户<code class="codeph">dr_admin</code>已准备好创建Oracle Data Redaction策略以保护<code class="codeph">HR.EMPLOYEES</code>和<code class="codeph">HR.JOBS</code>表。
                        </p>
                        <ol>
                           <li class="stepexpand"><span>以用户<code class="codeph">dr_admin</code>连接。</span><div><pre class="oac_no_warn" dir="ltr">CONNECT dr_admin  - <span class="italic">或者，对于PDB，CONNECT dr_admin @ my_pdb</span>输入密码： <span class="italic">password</span></pre></div>
                           </li>
                           <li class="stepexpand"><span>创建<code class="codeph">hr_emp_redact_comp_pol</code>策略，该策略将执行<code class="codeph">HR.EMPLOYEES.SALARY</code>列的完全编辑。</span><div><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_REDACT.ADD_POLICY（object_schema =&gt;'hr'，object_name =&gt;'employees'，column_name =&gt;'salary'，policy_name =&gt;'hr_emp_redact_comp_pol'，function_type =&gt; DBMS_REDACT.FULL，expression =&gt;'1 = 1'）;结束; /</pre></div>
                           </li>
                           <li class="stepexpand"><span>更改<code class="codeph">hr_redact_comp_pol</code>策略以编辑<code class="codeph">HR.EMPLOYEES</code>表的<code class="codeph">COMMISSION_PCT</code>列。</span><div><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_REDACT.ALTER_POLICY（object_schema =&gt;'hr'，object_name =&gt;'employees'，policy_name =&gt;'hr_emp_redact_comp_pol'，action =&gt; DBMS_REDACT.ADD_COLUMN，column_name =&gt;'commission_pct'，function_type =&gt; DBMS_REDACT.FULL，expression =&gt; '1 = 1'）;结束; /</pre></div>
                           </li>
                           <li class="stepexpand"><span>为<code class="codeph">HR.JOBS</code>表的<code class="codeph">max_salary</code>列创建<code class="codeph">hr_jobs_redact_comp_pol</code>策略。</span><div><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_REDACT.ADD_POLICY（object_schema =&gt;'hr'，object_name =&gt;'jobs'，column_name =&gt;'max_salary'，policy_name =&gt;'hr_jobs_redact_comp_pol'，function_type =&gt; DBMS_REDACT.FULL，expression =&gt;'1 = 1'）;结束; /</pre></div>
                           </li>
                        </ol>
                        <div class="section">在此阶段， <code class="codeph">HR.EMPLOYEES.SALARY</code> ， <code class="codeph">HR.EMPLOYEES.COMMISSION_PCT</code>和<code class="codeph">HR.JOBS.MAX_SALARY</code>列中的数据将被编辑。
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-44DF61E7-1805-437A-A086-4FFB0C3E8BC2" title="本教程介绍如何创建Oracle Data Redaction策略表达式，将其应用于多个表以及集中管理策略表达式。">教程：创建和共享命名数据编校策略表达式</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-7459BF10-17BA-4621-A7E3-427624F0212A" name="GUID-7459BF10-17BA-4621-A7E3-427624F0212A"></a><h5 id="ASOAG-GUID-7459BF10-17BA-4621-A7E3-427624F0212A" class="sect5">第3步：测试Oracle数据编辑策略</h5>
                     <div>
                        <p>用户<code class="codeph">hr_clerk</code>已准备好查询已编辑数据的表。
                        </p>
                        <ol>
                           <li class="stepexpand"><span>以用户<code class="codeph">hr_clerk</code>连接。</span><div><pre class="oac_no_warn" dir="ltr">CONNECT hr_clerk  - <span class="italic">或者，对于PDB，CONNECT hr_clerk @ my_pdb</span>输入密码： <span class="italic">password</span></pre></div>
                           </li>
                           <li class="stepexpand"><span>查询<code class="codeph">HR.EMPLOYEES</code>表。</span><div><pre class="oac_no_warn" dir="ltr">SELECT SALARY，COMMISSION_PCT FROM HR.EMPLOYEES WHERE SALARY&gt; 15000;</pre></div>
                              <div>输出应如下：<pre class="oac_no_warn" dir="ltr">SALARY COMMISSION_PCT ---------- -------------- 0 0 0</pre></div>
                           </li>
                           <li class="stepexpand"><span>查询<code class="codeph">HR.JOBS</code>表。</span><div><pre class="oac_no_warn" dir="ltr">SELECT MAX_SALARY FROM HR.JOBS WHERE MAX_SALARY&gt; 15000;</pre></div>
                              <div>输出应如下：<pre class="oac_no_warn" dir="ltr">MAX_SALARY ---------- 0 0 0 0 0</pre></div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-44DF61E7-1805-437A-A086-4FFB0C3E8BC2" title="本教程介绍如何创建Oracle Data Redaction策略表达式，将其应用于多个表以及集中管理策略表达式。">教程：创建和共享命名数据编校策略表达式</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-AAFCB0D8-6BC2-4ECA-B2C9-585E3ADF0685" name="GUID-AAFCB0D8-6BC2-4ECA-B2C9-585E3ADF0685"></a><h5 id="ASOAG-GUID-AAFCB0D8-6BC2-4ECA-B2C9-585E3ADF0685" class="sect5">步骤4：创建策略表达并将其应用于编辑的表列</h5>
                     <div>
                        <p>接下来，用户<code class="codeph">dr_admin</code>已准备好创建数据编辑策略表达式，并将其应用于三个编辑的表列中的两个。
                        </p>
                        <div class="section">此策略表达式将使用户<code class="codeph">hr_clerk</code>能够查看编辑的数据。
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>以用户<code class="codeph">dr_admin.</code>连接<code class="codeph">dr_admin.</code></span><div><pre class="oac_no_warn" dir="ltr">CONNECT dr_admin  - <span class="italic">或者，对于PDB，CONNECT dr_admin @ my_pdb</span>输入密码： <span class="italic">password</span></pre></div>
                           </li>
                           <li class="stepexpand"><span>创建策略表达式。</span><div><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_REDACT.CREATE_POLICY_EXPRESSION（policy_expression_name =&gt;'hr_redact_pol'，expression =&gt;'SYS_CONTEXT（''USERENV''，''SESSION_USER''）！=''HR_CLERK'''）;结束; /</pre></div>
                              <div>
                                 <p>此表达式为<code class="codeph">hr_clerk</code>用户返回<code class="codeph">FALSE</code> ，这使<code class="codeph">hr_clerk</code>用户能够查看受数据编辑策略约束的<code class="codeph">HR.EMPLOYEES</code>和<code class="codeph">HR.JOBS</code>表中的实际数据。
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>将<code class="codeph">hr_redact_pol</code>策略表达式应用于<code class="codeph">HR.EMPLOYEES.SALARY</code>列。</span><div><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_REDACT.APPLY_POLICY_EXPR_TO_COL（object_schema =&gt;'hr'，object_name =&gt;'employees'，column_name =&gt;'salary'，policy_expression_name =&gt;'hr_redact_pol'）;结束; /</pre></div>
                           </li>
                           <li class="stepexpand"><span>将<code class="codeph">hr_redact_pol</code>策略表达式应用于<code class="codeph">HR.JOBS.MAX_SALARY</code>列。</span><div><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_REDACT.APPLY_POLICY_EXPR_TO_COL（object_schema =&gt;'hr'，object_name =&gt;'jobs'，column_name =&gt;'max_salary'，policy_expression_name =&gt;'hr_redact_pol'）;结束; /</pre></div>
                           </li>
                        </ol>
                        <div class="section">用户<code class="codeph">hr_clerk</code>可以查看<code class="codeph">HR.EMPLOYEES.SALARY</code>和<code class="codeph">HR.JOBS.MAX_SALARY</code>的数据，但<code class="codeph">HR.EMPLOYEES.COMMISSION_PCT</code>列中的数据仍将为该用户进行编辑。
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-44DF61E7-1805-437A-A086-4FFB0C3E8BC2" title="本教程介绍如何创建Oracle Data Redaction策略表达式，将其应用于多个表以及集中管理策略表达式。">教程：创建和共享命名数据编校策略表达式</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-B0FBCDA8-38B6-4F54-947E-40435D3B145F" name="GUID-B0FBCDA8-38B6-4F54-947E-40435D3B145F"></a><h5 id="ASOAG-GUID-B0FBCDA8-38B6-4F54-947E-40435D3B145F" class="sect5">第5步：测试数据编辑策略表达式</h5>
                     <div>
                        <p>用户<code class="codeph">hr_clerk</code>现在已准备好测试<code class="codeph">hr_redact_pol</code>策略表达式。
                        </p>
                        <ol>
                           <li class="stepexpand"><span>以用户<code class="codeph">hr_clerk</code>连接。</span><div><pre class="oac_no_warn" dir="ltr">CONNECT hr_clerk  - <span class="italic">或者，对于PDB，CONNECT hr_clerk @ my_pdb</span>输入密码： <span class="italic">password</span></pre></div>
                           </li>
                           <li class="stepexpand"><span>查询<code class="codeph">HR.EMPLOYEES</code>表。</span><div><pre class="oac_no_warn" dir="ltr">SELECT SALARY，COMMISSION_PCT FROM HR.EMPLOYEES WHERE SALARY&gt; 15000;</pre></div>
                              <div>输出应如下：<pre class="oac_no_warn" dir="ltr">SALARY COMMISSION_PCT ---------- -------------- 24000 17000 17000</pre><p>用户<code class="codeph">hr_clerk</code>现在可以查看<code class="codeph">SALARY</code>列数据，但仍然无法访问<code class="codeph">COMMISSION_PCT</code>列数据。
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>查询<code class="codeph">HR.JOBS</code>表。</span><div><pre class="oac_no_warn" dir="ltr">SELECT MAX_SALARY FROM HR.JOBS WHERE MAX_SALARY&gt; 15000;</pre></div>
                              <div>输出应如下：<pre class="oac_no_warn" dir="ltr">MAX_SALARY ---------- 40000 30000 16000 16000 20080</pre><p>用户<code class="codeph">hr_clerk</code>现在可以查看<code class="codeph">MAX_SALARY</code>列数据。
                                 </p>
                              </div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-44DF61E7-1805-437A-A086-4FFB0C3E8BC2" title="本教程介绍如何创建Oracle Data Redaction策略表达式，将其应用于多个表以及集中管理策略表达式。">教程：创建和共享命名数据编校策略表达式</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-E1B59E2D-5DF0-4AEF-B53C-30FF393D55EF" name="GUID-E1B59E2D-5DF0-4AEF-B53C-30FF393D55EF"></a><h5 id="ASOAG-GUID-E1B59E2D-5DF0-4AEF-B53C-30FF393D55EF" class="sect5">第6步：修改数据编辑策略表达式</h5>
                     <div>
                        <p>用户<code class="codeph">dr_admin</code>决定修改数据编辑策略表达式，以便用户<code class="codeph">HR</code>可以访问编辑的数据，而不是用户<code class="codeph">hr_clerk</code> 。
                        </p>
                        <ol>
                           <li class="stepexpand"><span>以用户<code class="codeph">dr_admin</code>连接。</span><div><pre class="oac_no_warn" dir="ltr">CONNECT dr_admin  - <span class="italic">或者，对于PDB，CONNECT dr_admin @ my_pdb</span>输入密码： <span class="italic">password</span></pre></div>
                           </li>
                           <li class="stepexpand"><span>修改<code class="codeph">hr_redact_pol</code>策略，如下所示：</span><div><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_REDACT.UPDATE_POLICY_EXPRESSION（policy_expression_name =&gt;'hr_redact_pol'，expression =&gt;'SYS_CONTEXT（''USERENV''，''SESSION_USER''）！=''HR'''）;结束; /</pre></div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-44DF61E7-1805-437A-A086-4FFB0C3E8BC2" title="本教程介绍如何创建Oracle Data Redaction策略表达式，将其应用于多个表以及集中管理策略表达式。">教程：创建和共享命名数据编校策略表达式</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-66379C5B-5969-496D-B1A9-A2BE6F116E64" name="GUID-66379C5B-5969-496D-B1A9-A2BE6F116E64"></a><h5 id="ASOAG-GUID-66379C5B-5969-496D-B1A9-A2BE6F116E64" class="sect5">第7步：测试修改后的策略表达式</h5>
                     <div>
                        <p>用户<code class="codeph">HR</code>和<code class="codeph">hr_clerk</code>已准备好测试已修改的数据编辑策略表达式。
                        </p>
                        <ol>
                           <li class="stepexpand"><span>以用户<code class="codeph">HR</code>身份连接。</span><div><pre class="oac_no_warn" dir="ltr">CONNECT HR  - <span class="italic">或者，对于PDB，CONNECT HR @ my_pdb</span>输入密码： <span class="italic">password</span></pre></div>
                           </li>
                           <li class="stepexpand"><span>查询<code class="codeph">HR.EMPLOYEES</code>表。</span><div><pre class="oac_no_warn" dir="ltr">SELECT SALARY，COMMISSION_PCT FROM HR.EMPLOYEES WHERE SALARY&gt; 15000;</pre></div>
                              <div>输出应如下：<pre class="oac_no_warn" dir="ltr">SALARY COMMISSION_PCT ---------- -------------- 24000 17000 17000</pre><p>用户<code class="codeph">HR</code>现在可以访问编辑的数据。<code class="codeph">HR</code>在<code class="codeph">HR.JOBS.MAX_SALARY</code>列上的查询将产生类似的结果。
                                 </p><pre class="oac_no_warn" dir="ltr">SELECT MAX_SALARY FROM HR.JOBS WHERE MAX_SALARY&gt; 15000; MAX_SALARY ---------- 40000 30000 16000 16000 20080</pre></div>
                           </li>
                           <li class="stepexpand"><span>以用户<code class="codeph">hr_clerk</code>连接。</span><div><pre class="oac_no_warn" dir="ltr">CONNECT hr_clerk  - <span class="italic">或者，对于PDB，CONNECT hr_clerk @ my_pdb</span>输入密码： <span class="italic">password</span></pre></div>
                           </li>
                           <li class="stepexpand"><span>查询<code class="codeph">HR.EMPLOYEES</code>和<code class="codeph">HR.JOBS</code>表，然后观察结果。</span><div><pre class="oac_no_warn" dir="ltr">SELECT SALARY，COMMISSION_PCT FROM HR.EMPLOYEES WHERE SALARY&gt; 15000; SALARY COMMISSION_PCT ---------- -------------- 0 0 0 SELECT MAX_SALARY FROM HR.JOBS WHERE MAX_SALARY&gt; 15000; MAX_SALARY ---------- 0 0 0 0 0</pre></div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-44DF61E7-1805-437A-A086-4FFB0C3E8BC2" title="本教程介绍如何创建Oracle Data Redaction策略表达式，将其应用于多个表以及集中管理策略表达式。">教程：创建和共享命名数据编校策略表达式</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-A6F7C1E8-ACD2-4A58-921C-BA1ACE0AB0C9" name="GUID-A6F7C1E8-ACD2-4A58-921C-BA1ACE0AB0C9"></a><h5 id="ASOAG-GUID-A6F7C1E8-ACD2-4A58-921C-BA1ACE0AB0C9" class="sect5">第8步：删除本教程的组件</h5>
                     <div>
                        <p>如果您不需要本教程的组件，则可以删除它们。</p>
                        <ol>
                           <li class="stepexpand"><span>以用户<code class="codeph">dr_admin</code>连接。</span><div><pre class="oac_no_warn" dir="ltr">CONNECT dr_admin  - <span class="italic">或者，对于PDB，CONNECT dr_admin @ my_pdb</span>输入密码： <span class="italic">password</span></pre></div>
                           </li>
                           <li class="stepexpand"><span>修改策略表达式，使其不再与表达式关联的表列关联。</span><div>为此，必须将<code class="codeph">policy_expression_name</code>参数设置为<code class="codeph">NULL</code> 。</div>
                              <div><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_REDACT.APPLY_POLICY_EXPR_TO_COL（object_schema =&gt;'hr'，object_name =&gt;'employees'，column_name =&gt;'salary'，policy_expression_name =&gt; null）;结束; / BEGIN DBMS_REDACT.APPLY_POLICY_EXPR_TO_COL（object_schema =&gt;'hr'，object_name =&gt;'jobs'，column_name =&gt;'max_salary'，policy_expression_name =&gt; null）;结束; /</pre></div>
                           </li>
                           <li class="stepexpand"><span>删除策略表达式。</span><div><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_REDACT.DROP_POLICY_EXPRESSION（policy_expression_name =&gt;'hr_redact_pol'）;结束; /</pre></div>
                           </li>
                           <li class="stepexpand"><span>删除<code class="codeph">hr_emp_redact_comp_pol</code>和<code class="codeph">hr_jobs_redact_comp_pol</code>数据编辑策略。</span><div><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_REDACT.DROP_POLICY（object_schema =&gt;'hr'，object_name =&gt;'employees'，policy_name =&gt;'hr_emp_redact_comp_pol'）;结束; / BEGIN DBMS_REDACT.DROP_POLICY（object_schema =&gt;'hr'，object_name =&gt;'jobs'，policy_name =&gt;'hr_jobs_redact_comp_pol'）;结束; /</pre></div>
                           </li>
                           <li class="stepexpand"><span>以<code class="codeph">SYSTEM</code>用户或具有删除用户帐户权限的用户身份进行连接。</span><div>
                                 <p>例如：</p><pre class="oac_no_warn" dir="ltr">连接系统输入密码： <span class="italic">密码</span></pre></div>
                           </li>
                           <li class="stepexpand"><span>删除<code class="codeph">dr_admin</code>和<code class="codeph">hr_clerk</code>用户帐户。</span><div><pre class="oac_no_warn" dir="ltr">DROP USER dr_admin; DROP USER hr_clerk;</pre></div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-44DF61E7-1805-437A-A086-4FFB0C3E8BC2" title="本教程介绍如何创建Oracle Data Redaction策略表达式，将其应用于多个表以及集中管理策略表达式。">教程：创建和共享命名数据编校策略表达式</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div><a id="ASOAG10611"></a><div class="props_rev_3"><a id="GUID-E3725E9D-2798-48D5-B87B-BE8A02E73941" name="GUID-E3725E9D-2798-48D5-B87B-BE8A02E73941"></a><h3 id="ASOAG-GUID-E3725E9D-2798-48D5-B87B-BE8A02E73941" class="sect3">创建完全编校策略并更改完全编校值</h3>
               <div>
                  <p>您可以创建完整的编校策略来编辑数据列中的所有内容，也可以选择更改默认的完整编校值。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-416A1170-D619-4893-AFBE-2CB301EF2AE0">创建完全编校策略</a><br>完整数据编校策略会编辑数据列的所有内容。
                     </li>
                     <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-58FD64FD-71C5-429A-9A4F-14D63AE2E02A">更改默认的完整数据编辑值</a><br><code class="codeph">DBMS_REDACT.UPDATE_FULL_REDACTION_VALUES</code>过程会更改默认的完整数据编校值。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-78C0ECD1-388C-4E12-87C3-32FBC05F294D" title="Oracle Data Redaction策略定义了如何根据表列类型和要使用的编辑类型来编辑列中的数据。">配置Oracle数据编校策略</a></p>
                     </div>
                  </div>
               </div>
               <a id="ASOAG10545"></a><div class="sect3"><a id="GUID-416A1170-D619-4893-AFBE-2CB301EF2AE0" name="GUID-416A1170-D619-4893-AFBE-2CB301EF2AE0"></a><h4 id="ASOAG-GUID-416A1170-D619-4893-AFBE-2CB301EF2AE0" class="sect4">创建完全编校策略</h4>
                  <div>
                     <p>完整数据编校策略会编辑数据列的所有内容。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-1C8580F0-C33E-47D3-9C93-9DCD6AAA6B93">关于创建完整数据编校策略</a><br>要设置编校策略以编辑列中的所有数据，必须将<code class="codeph">function_type</code>参数设置为<code class="codeph">DBMS_REDACT.FULL</code> 。</li>
                        <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-E0CF7672-7FAC-4134-8A5E-AF0C65FD2A21">创建完全编校策略的语法</a><br><code class="codeph">DBMS_REDACT.ADD_POLICY</code>过程使您可以创建完整的编校策略。
                        </li>
                        <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-C2530471-56B4-4FFF-8C80-7C38686182E4">示例：完全编校策略</a><br>您可以使用<code class="codeph">DBMS_REDACT.ADD_POLICY</code> PL / SQL过程来创建完整的编校策略。
                        </li>
                        <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-7BC62ED1-B6EC-4BC5-9A3A-4894787C3043">示例：完全编辑的字符值</a><br>您可以使用<span class="apiname" translate="no">DBMS_REDACT.ADD_POLICY</span> PL / SQL过程来创建完全编辑字符值的策略。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-E3725E9D-2798-48D5-B87B-BE8A02E73941" title="您可以创建完整的编校策略来编辑数据列中的所有内容，也可以选择更改默认的完整编校值。">创建完全编校策略并更改完全编校值</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ASOAG10546"></a><div class="props_rev_3"><a id="GUID-1C8580F0-C33E-47D3-9C93-9DCD6AAA6B93" name="GUID-1C8580F0-C33E-47D3-9C93-9DCD6AAA6B93"></a><h5 id="ASOAG-GUID-1C8580F0-C33E-47D3-9C93-9DCD6AAA6B93" class="sect5">关于创建完整数据编校策略</h5>
                     <div>
                        <p>要设置编校策略以编辑列中的所有数据，必须将<code class="codeph">function_type</code>参数设置为<code class="codeph">DBMS_REDACT.FULL</code> 。</p>
                        <p>默认情况下， <code class="codeph">NUMBER</code>数据类型列替换为零（ <code class="codeph">0</code> ），字符数据类型列替换为单个空格（ <code class="codeph"> </code> ）。您可以使用<code class="codeph">DBMS_REDACT.UPDATE_FULL_REDACTION_VALUES</code>过程修改此缺省值。
                        </p>
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="configuring-oracle-data-redaction-policies.html#GUID-58FD64FD-71C5-429A-9A4F-14D63AE2E02A" title="DBMS_REDACT.UPDATE_FULL_REDACTION_VALUES过程会更改默认的完整数据编校值。">更改默认的完整数据编辑值</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-416A1170-D619-4893-AFBE-2CB301EF2AE0" title="完整数据编校策略会编辑数据列的所有内容。">创建完全编校策略</a></p>
                           </div>
                        </div>
                     </div>
                  </div><a id="ASOAG10547"></a><div class="props_rev_3"><a id="GUID-E0CF7672-7FAC-4134-8A5E-AF0C65FD2A21" name="GUID-E0CF7672-7FAC-4134-8A5E-AF0C65FD2A21"></a><h5 id="ASOAG-GUID-E0CF7672-7FAC-4134-8A5E-AF0C65FD2A21" class="sect5">创建完全编校策略的语法</h5>
                     <div>
                        <p><code class="codeph">DBMS_REDACT.ADD_POLICY</code>过程使您可以创建完整的编校策略。
                        </p>
                        <div class="section">
                           <p>用于创建完整数据编校策略的<code class="codeph">DBMS_REDACT.ADD_POLICY</code>字段如下：</p><pre class="oac_no_warn" dir="ltr">DBMS_REDACT.ADD_POLICY（object_schema IN VARCHAR2：= NULL，object_name IN VARCHAR2，column_name IN VARCHAR2：= NULL，policy_name IN VARCHAR2，function_type IN BINARY_INTEGER：= NULL，expression IN VARCHAR2，enable IN BOOLEAN：= TRUE）;</pre><p>在本规范中：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">object_schema</code> ， <code class="codeph">object_name</code> ， <code class="codeph">column_name</code> ， <code class="codeph">policy_name</code> ， <code class="codeph">expression</code> ， <code class="codeph">enable</code> ：请参见<a href="configuring-oracle-data-redaction-policies.html#GUID-D32FC6CA-A3B5-47EE-B288-52F1124F9FBD" title="若要创建数据编辑策略，必须使用DBMS_REDACT.ADD_POLICY过程。">DBMS_REDACT.ADD_POLICY过程的常规语法</a> 。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">function_type</code> ：指定用于设置编校类型的函数。输入<code class="codeph">DBMS_REDACT.FULL</code> 。</p>
                                 <p>如果省略<code class="codeph">function_type</code>参数，则默认的redaction <code class="codeph">function_type</code>设置为<code class="codeph">DBMS_REDACT.FULL</code> 。</p>
                                 <p>请记住，列的数据类型确定允许使用哪些<code class="codeph">function_type</code>设置。请参阅<a href="oracle-data-redaction-features-and-capabilities.html#GUID-F7E1C148-8C15-4F18-91BA-878A90284D12" title="完整，部分和随机数据编校样式以不同方式影响Oracle内置，ANSI，用户定义和Oracle提供的类型。">基于数据类型的完整，部分和随机编校的比较</a> 。
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-416A1170-D619-4893-AFBE-2CB301EF2AE0" title="完整数据编校策略会编辑数据列的所有内容。">创建完全编校策略</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ASOAG10549"></a><a id="ASOAG10548"></a><div class="props_rev_3"><a id="GUID-C2530471-56B4-4FFF-8C80-7C38686182E4" name="GUID-C2530471-56B4-4FFF-8C80-7C38686182E4"></a><h5 id="ASOAG-GUID-C2530471-56B4-4FFF-8C80-7C38686182E4" class="sect5">示例：完全编校策略</h5>
                     <div>
                        <p>您可以使用<code class="codeph">DBMS_REDACT.ADD_POLICY</code> PL / SQL过程来创建完整的编校策略。
                        </p>
                        <p><a href="configuring-oracle-data-redaction-policies.html#GUID-C2530471-56B4-4FFF-8C80-7C38686182E4__CEGBBIAC">示例13-1</a>显示了如何对<code class="codeph">HR.EMPLOYEES</code>表<code class="codeph">COMMISSION_PCT</code>列中的所有值使用完全编校。表达式参数将策略应用于查询表的任何用户，但已被授予<code class="codeph">EXEMPT REDACTION POLICY</code>系统特权的用户除外。
                        </p>
                        <div class="example" id="GUID-C2530471-56B4-4FFF-8C80-7C38686182E4__CEGBBIAC">
                           <p class="titleinexample">示例13-1完整数据编校策略</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_REDACT.ADD_POLICY（object_schema =&gt;'hr'，object_name =&gt;'employees'，column_name =&gt;'commission_pct'，policy_name =&gt;'redact_com_pct'，function_type =&gt; DBMS_REDACT.FULL，expression =&gt;'1 = 1'）;结束; /</pre><p>查询和编辑结果：</p><pre class="oac_no_warn" dir="ltr">从HR.EMPLOYEES中选择COMMISSION_PCT; COMMISSION_PCT -------------- 0 0 0</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>相关话题</strong></p>
                           <ul>
                              <li><a href="configuring-oracle-data-redaction-policies.html#GUID-ADFB7DCD-8543-400D-95A3-AA0976E75084" title="您可以免除用户将Oracle Data Redaction策略应用于他们访问的数据。">从Oracle数据编辑策略中豁免用户</a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-416A1170-D619-4893-AFBE-2CB301EF2AE0" title="完整数据编校策略会编辑数据列的所有内容。">创建完全编校策略</a></p>
                           </div>
                        </div>
                     </div>
                  </div><a id="ASOAG452"></a><div class="sect4"><a id="GUID-7BC62ED1-B6EC-4BC5-9A3A-4894787C3043" name="GUID-7BC62ED1-B6EC-4BC5-9A3A-4894787C3043"></a><h5 id="ASOAG-GUID-7BC62ED1-B6EC-4BC5-9A3A-4894787C3043" class="sect5">示例：完全编辑的字符值</h5>
                     <div>
                        <p>您可以使用<span class="apiname" translate="no">DBMS_REDACT.ADD_POLICY</span> PL / SQL过程来创建完全编辑字符值的策略。
                        </p>
                        <p><a href="configuring-oracle-data-redaction-policies.html#GUID-7BC62ED1-B6EC-4BC5-9A3A-4894787C3043__CACGBAAG">示例13-2</a>显示了如何完全编辑<code class="codeph">mavis.cust_info</code>表中<code class="codeph">user_id</code>列的用户标识。<code class="codeph">user_id</code>列属于<code class="codeph">VARCHAR2</code>数据类型。输出是一个空字符串。<code class="codeph">expression</code>设置允许具有<code class="codeph">MGR</code>角色的用户查看用户ID。
                        </p>
                        <div class="example" id="GUID-7BC62ED1-B6EC-4BC5-9A3A-4894787C3043__CACGBAAG">
                           <p class="titleinexample">例13-2完全编辑的字符值</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_REDACT.ADD_POLICY（object_schema =&gt;'mavis'，object_name =&gt;'cust_info'，column_name =&gt;'user_id'，policy_name =&gt;'redact_cust_user_ids'，function_type =&gt; DBMS_REDACT.FULL，expression =&gt;'SYS_CONTEXT（'''SYS_SESSION_ROLES' '，''MGR''）='''FALSE'''）;结束; /</pre><p>查询和编辑结果：</p><pre class="oac_no_warn" dir="ltr">SELECT user_id FROM mavis.cust_info; USER_ID ------------ 0 0 0</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-416A1170-D619-4893-AFBE-2CB301EF2AE0" title="完整数据编校策略会编辑数据列的所有内容。">创建完全编校策略</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ASOAG945"></a><div class="props_rev_3"><a id="GUID-58FD64FD-71C5-429A-9A4F-14D63AE2E02A" name="GUID-58FD64FD-71C5-429A-9A4F-14D63AE2E02A"></a><h4 id="ASOAG-GUID-58FD64FD-71C5-429A-9A4F-14D63AE2E02A" class="sect4">更改默认的完整数据编辑值</h4>
                  <div>
                     <p><code class="codeph">DBMS_REDACT.UPDATE_FULL_REDACTION_VALUES</code>过程会更改默认的完整数据编校值。
                     </p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-519A7B53-4908-486B-A0CF-6CD7F960CDD7">关于更改默认的完整数据编辑值</a><br>您可以更改完整数据编辑策略的默认显示值。
                        </li>
                        <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-D5765C57-52BC-45B8-A375-79682CBDE899">DBMS_REDACT.UPDATE_FULL_REDACTION_VALUES过程的语法</a><br><code class="codeph">DBMS_REDACT.UPDATE_FULL_REDACTION_VALUES</code>过程适用于标准支持的Oracle数据库数据类型。
                        </li>
                        <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-6A1B9EA8-AF15-4944-9B58-45F99AF1035D">修改默认的完整数据编辑值</a><br>要修改缺省的完整数据编校值，请使用<code class="codeph">DBMS_REDACT.UPDATE_FULL_REDACTION_VALUES</code>过程。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-E3725E9D-2798-48D5-B87B-BE8A02E73941" title="您可以创建完整的编校策略来编辑数据列中的所有内容，也可以选择更改默认的完整编校值。">创建完全编校策略并更改完全编校值</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ASOAG946"></a><div class="props_rev_3"><a id="GUID-519A7B53-4908-486B-A0CF-6CD7F960CDD7" name="GUID-519A7B53-4908-486B-A0CF-6CD7F960CDD7"></a><h5 id="ASOAG-GUID-519A7B53-4908-486B-A0CF-6CD7F960CDD7" class="sect5">关于更改默认的完整数据编辑值</h5>
                     <div>
                        <p>您可以更改完整数据编辑策略的默认显示值。</p>
                        <p>默认情况下， <code class="codeph">0</code>是Oracle数据库在<code class="codeph">NUMBER</code>数据类型的列上执行完全编校（ <code class="codeph">DBMS_REDACT.FULL</code> ）时的编辑值。如果要将其更改为其他值（例如， <code class="codeph">7</code> ），则可以运行<code class="codeph">DBMS_REDACT.UPDATE_FULL_REDACTION_VALUES</code>过程来修改此值。该修改适用于当前数据库实例中的所有Data Redaction策略。修改值后，必须重新启动数据库才能使其生效。您可以通过查询<code class="codeph">REDACTION_VALUES_FOR_TYPE_FULL</code>数据字典视图来查找当前值。
                        </p>
                        <p>请注意，此更改会影响数据库中使用完整数据编校的所有Data Redaction策略。在更改默认的完整数据编校值之前，请检查此更改对现有完整数据编辑策略的影响。</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-58FD64FD-71C5-429A-9A4F-14D63AE2E02A" title="DBMS_REDACT.UPDATE_FULL_REDACTION_VALUES过程会更改默认的完整数据编校值。">更改默认的完整数据编辑值</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ASOAG947"></a><div class="props_rev_3"><a id="GUID-D5765C57-52BC-45B8-A375-79682CBDE899" name="GUID-D5765C57-52BC-45B8-A375-79682CBDE899"></a><h5 id="ASOAG-GUID-D5765C57-52BC-45B8-A375-79682CBDE899" class="sect5">DBMS_REDACT.UPDATE_FULL_REDACTION_VALUES过程的语法</h5>
                     <div>
                        <p><code class="codeph">DBMS_REDACT.UPDATE_FULL_REDACTION_VALUES</code>过程适用于标准支持的Oracle数据库数据类型。
                        </p>
                        <div class="section">
                           <p>语法如下：</p><pre class="oac_no_warn" dir="ltr">DBMS_REDACT.UPDATE_FULL_REDACTION_VALUES（number_val IN NUMBER NULL，binfloat_val IN BINARY_FLOAT NULL，bindouble_val IN BINARY_DOUBLE NULL，char_val IN CHAR NULL，varchar_val IN VARCHAR2 NULL，nchar_val IN NCHAR NULL，nvarchar_val IN NVARCHAR2 NULL，date_val IN DATE NULL，ts_val IN TIMESTAMP NULL，tswtz_val IN TIMESTAMP WITH TIME ZONE NULL，blob_val IN BLOB NULL，clob_val IN CLOB NULL，nclob_val IN NCLOB NULL）;</pre><p>在本规范中：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">number_val</code>修改<code class="codeph">NUMBER</code>数据类型的列的默认值。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">binfloat_val</code>修改<code class="codeph">BINARY_FLOAT</code>数据类型的列的默认值。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">bindouble_val</code>修改<code class="codeph">BINARY_DOUBLE</code>数据类型的列的默认值。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">char_val</code>修改<code class="codeph">CHAR</code>数据类型的列的默认值。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">varchar_val</code>修改<code class="codeph">VARCHAR2</code>数据类型的列的默认值。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">nchar_val</code>修改<code class="codeph">NCHAR</code>数据类型的列的默认值。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">nvarchar_val</code>修改<code class="codeph">NVARCHAR2</code>数据类型的列的默认值。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">date_val</code>修改<code class="codeph">DATE</code>数据类型的列的默认值。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">ts_val</code>修改<code class="codeph">TIMESTAMP</code>数据类型的列的默认值。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">tswtz_val</code>修改<code class="codeph">TIMESTAMP WITH TIME ZONE</code>数据类型的列的默认值。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">blob_val</code>修改<code class="codeph">BLOB</code>数据类型的列的默认值。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">clob_val</code>修改<code class="codeph">CLOB</code>数据类型的列的默认值。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">nclob</code>修改<code class="codeph">NCLOB</code>数据类型的列的默认值。
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-58FD64FD-71C5-429A-9A4F-14D63AE2E02A" title="DBMS_REDACT.UPDATE_FULL_REDACTION_VALUES过程会更改默认的完整数据编校值。">更改默认的完整数据编辑值</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ASOAG948"></a><div class="props_rev_3"><a id="GUID-6A1B9EA8-AF15-4944-9B58-45F99AF1035D" name="GUID-6A1B9EA8-AF15-4944-9B58-45F99AF1035D"></a><h5 id="ASOAG-GUID-6A1B9EA8-AF15-4944-9B58-45F99AF1035D" class="sect5">修改默认的完整数据编辑值</h5>
                     <div>
                        <p>要修改缺省的完整数据编校值，请使用<code class="codeph">DBMS_REDACT.UPDATE_FULL_REDACTION_VALUES</code>过程。
                        </p>
                        <div class="section">
                           <ol>
                              <li>
                                 <p>以已获得<code class="codeph">DBMS_REDACT</code> PL / SQL包的<code class="codeph">EXECUTE</code>特权并具有管理权限的用户（例如已被授予<code class="codeph">DBA</code>角色的用户）身份登录数据库实例。
                                 </p>
                              </li>
                              <li>
                                 <p>检查要更改的值。</p>
                                 <p>例如，要检查使用<code class="codeph">NUMBER</code>数据类型的列的当前值：</p><pre class="oac_no_warn" dir="ltr">从REDACTION_VALUES_FOR_TYPE_FULL中选择NUMBER_VALUE; NUMBER_VALUE ------------ 0</pre></li>
                              <li>
                                 <p>运行<code class="codeph">DBMS_REDACT.UPDATE_FULL_REDACTION_VALUES</code>过程以修改该值。
                                 </p>
                                 <p>例如：</p><pre class="oac_no_warn" dir="ltr">EXEC DBMS_REDACT.UPDATE_FULL_REDACTION_VALUES（number_val =&gt; 7）;</pre></li>
                              <li>
                                 <p>重新启动数据库实例。</p>
                                 <p>例如：</p><pre class="oac_no_warn" dir="ltr">关机立即启动</pre></li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-58FD64FD-71C5-429A-9A4F-14D63AE2E02A" title="DBMS_REDACT.UPDATE_FULL_REDACTION_VALUES过程会更改默认的完整数据编校值。">更改默认的完整数据编辑值</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-6007FB12-BE1E-4C00-8714-E3CC8D25F0F5" name="GUID-6007FB12-BE1E-4C00-8714-E3CC8D25F0F5"></a><h3 id="ASOAG-GUID-6007FB12-BE1E-4C00-8714-E3CC8D25F0F5" class="sect3">创建DBMS_REDACT.NULLIFY编校策略</h3>
               <div>
                  <p>您可以创建Oracle Data Redaction策略，该策略为表或视图列的显示值返回空值。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-E7395086-A981-4171-B5A6-98D75588F44F">关于创建返回空值的策略</a><br>该<code class="codeph">DBMS_REDACT.NULLIFY</code> <code class="codeph">function_type</code>参数重新编辑的所有数据在一列，并与空值替换它。
                     </li>
                     <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-47CE60AE-53C9-446F-ABEA-3C758CB114F4">创建返回空值的策略的语法</a><br><code class="codeph">DBMS_REDACT.ADD_POLICY</code>过程可以创建执行完全编校的编校策略，并为编校的列显示空值。
                     </li>
                     <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-19BBAAA7-53E7-4FDA-AB86-D818283AB3EE">示例：返回空值的编校策略</a><br><span class="apiname" translate="no">DBMS_REDACT.ADD_POLICY</span>过程将为<code class="codeph">HR.EMPLOYEES</code>表的<code class="codeph">COMMISSION_PCT</code>列返回空值。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-78C0ECD1-388C-4E12-87C3-32FBC05F294D" title="Oracle Data Redaction策略定义了如何根据表列类型和要使用的编辑类型来编辑列中的数据。">配置Oracle数据编校策略</a></p>
                     </div>
                  </div>
               </div>
               
               <div class="sect3"><a id="GUID-E7395086-A981-4171-B5A6-98D75588F44F" name="GUID-E7395086-A981-4171-B5A6-98D75588F44F"></a><h4 id="ASOAG-GUID-E7395086-A981-4171-B5A6-98D75588F44F" class="sect4">关于创建返回空值的策略</h4>
                  <div>
                     <p>该<code class="codeph">DBMS_REDACT.NULLIFY</code> <code class="codeph">function_type</code>参数重新编辑的所有数据在一列，并与空值替换它。
                     </p>
                     <p>您可以在<code class="codeph">DBMS_REDACT.FULL</code>函数类型支持的所有受支持的列类型上使用此函数类型。它还支持<code class="codeph">CLOB</code>和<code class="codeph">NCLOB</code>数据类型。要使用<code class="codeph">DBMS_REDACT.NULLIFY</code>函数，必须首先确保<code class="codeph">COMPATIBLE</code>参数至少设置为<code class="codeph">12.2.0.0.0</code> 。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-6007FB12-BE1E-4C00-8714-E3CC8D25F0F5" title="您可以创建Oracle Data Redaction策略，该策略为表或视图列的显示值返回空值。">创建DBMS_REDACT.NULLIFY编校策略</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-47CE60AE-53C9-446F-ABEA-3C758CB114F4" name="GUID-47CE60AE-53C9-446F-ABEA-3C758CB114F4"></a><h4 id="ASOAG-GUID-47CE60AE-53C9-446F-ABEA-3C758CB114F4" class="sect4">创建返回空值的策略的语法</h4>
                  <div>
                     <p><code class="codeph">DBMS_REDACT.ADD_POLICY</code>过程可以创建执行完全编校的编校策略，并为编校的列显示空值。
                     </p>
                     <div class="section">
                        <p>使用<code class="codeph">DBMS_REDACT.ADD_POLICY</code>返回空值的语法如下：</p><pre class="oac_no_warn" dir="ltr">DBMS_REDACT.ADD_POLICY（object_schema IN VARCHAR2：= NULL，object_name IN VARCHAR2，column_name IN VARCHAR2：= NULL，policy_name IN VARCHAR2，function_type IN BINARY_INTEGER：= NULL，expression IN VARCHAR2，enable IN BOOLEAN：= TRUE）;</pre><p>在本规范中：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">object_schema</code> ， <code class="codeph">object_name</code> ， <code class="codeph">column_name</code> ， <code class="codeph">policy_name</code> ， <code class="codeph">expression</code> ， <code class="codeph">enable</code> ：请参见<a href="configuring-oracle-data-redaction-policies.html#GUID-D32FC6CA-A3B5-47EE-B288-52F1124F9FBD" title="若要创建数据编辑策略，必须使用DBMS_REDACT.ADD_POLICY过程。">DBMS_REDACT.ADD_POLICY过程的常规语法</a> 。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">function_type</code> ：指定用于设置编校类型的函数。输入<code class="codeph">DBMS_REDACT.NULLIFY</code> 。</p>
                              <p>如果省略<code class="codeph">function_type</code>参数，则默认设置为<code class="codeph">DBMS_REDACT.FULL</code> 。</p>
                              <p>请记住，列的数据类型确定允许使用哪些<code class="codeph">function_type</code>设置。请参阅<a href="oracle-data-redaction-features-and-capabilities.html#GUID-F7E1C148-8C15-4F18-91BA-878A90284D12" title="完整，部分和随机数据编校样式以不同方式影响Oracle内置，ANSI，用户定义和Oracle提供的类型。">基于数据类型的完整，部分和随机编校的比较</a> 。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-6007FB12-BE1E-4C00-8714-E3CC8D25F0F5" title="您可以创建Oracle Data Redaction策略，该策略为表或视图列的显示值返回空值。">创建DBMS_REDACT.NULLIFY编校策略</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-19BBAAA7-53E7-4FDA-AB86-D818283AB3EE" name="GUID-19BBAAA7-53E7-4FDA-AB86-D818283AB3EE"></a><h4 id="ASOAG-GUID-19BBAAA7-53E7-4FDA-AB86-D818283AB3EE" class="sect4">示例：返回空值的编校策略</h4>
                  <div>
                     <p><span class="apiname" translate="no">DBMS_REDACT.ADD_POLICY</span>过程将为<code class="codeph">HR.EMPLOYEES</code>表的<code class="codeph">COMMISSION_PCT</code>列返回空值。
                     </p>
                     <p><code class="codeph">expression</code>参数将策略应用于查询表的任何用户，但已被授予<code class="codeph">EXEMPT REDACTION POLICY</code>系统特权的用户除外。
                     </p>
                     <p><a href="configuring-oracle-data-redaction-policies.html#GUID-19BBAAA7-53E7-4FDA-AB86-D818283AB3EE__REDACTIONPOLICYTHATRETURNSNULLVALUE-E3D48FE2">例13-3</a>显示了如何创建Oracle Data Redaction策略。
                     </p>
                     <div class="example" id="GUID-19BBAAA7-53E7-4FDA-AB86-D818283AB3EE__REDACTIONPOLICYTHATRETURNSNULLVALUE-E3D48FE2">
                        <p class="titleinexample">示例13-3返回空值的编校策略</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_REDACT.ADD_POLICY（object_schema =&gt;'hr'，object_name =&gt;'employees'，column_name =&gt;'commission_pct'，policy_name =&gt;'nullify_com_pct'，function_type =&gt; DBMS_REDACT.NULLIFY，expression =&gt;'1 = 1'）;结束; /</pre><p>查询和编辑结果：</p><pre class="oac_no_warn" dir="ltr">从HR.EMPLOYEES中选择COMMISSION_PCT; COMMISSION_PCT --------------</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="configuring-oracle-data-redaction-policies.html#GUID-ADFB7DCD-8543-400D-95A3-AA0976E75084" title="您可以免除用户将Oracle Data Redaction策略应用于他们访问的数据。">从Oracle数据编辑策略中豁免用户</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-6007FB12-BE1E-4C00-8714-E3CC8D25F0F5" title="您可以创建Oracle Data Redaction策略，该策略为表或视图列的显示值返回空值。">创建DBMS_REDACT.NULLIFY编校策略</a></p>
                        </div>
                     </div>
                  </div>
               </div>
            </div><a id="ASOAG10550"></a><div class="props_rev_3"><a id="GUID-42B218FF-9082-4149-9D76-961B6D6417BB" name="GUID-42B218FF-9082-4149-9D76-961B6D6417BB"></a><h3 id="ASOAG-GUID-42B218FF-9082-4149-9D76-961B6D6417BB" class="sect3">创建部分编校策略</h3>
               <div>
                  <p>在部分数据编辑中，您可以编辑部分数据，以及不同类型的数据类型。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-373CB1A2-1A5F-48E7-9E18-7348315161A7">关于创建部分编校策略</a><br>在部分数据编校中，仅编辑一部分数据，例如标识号的前五位数。
                     </li>
                     <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-1CEB4B41-7942-4D1A-A21E-CEB70445C2C5">创建部分编校策略的语法</a><br><code class="codeph">DBMS_REDACT.ADD_POLICY</code>语句使您可以创建用于编辑返回到应用程序的数据的特定部分的策略。
                     </li>
                     <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-67CCF0EC-0FB8-44B8-A753-82C1BE475ED4">使用固定字符格式创建部分编校策略</a><br><code class="codeph">DBMS_REDACT.ADD_POLICY</code> <code class="codeph">function_parameters</code>参数使您可以使用固定字符格式。
                     </li>
                     <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-989ADAF1-5218-4BA1-AEB3-AB223BCCD34A">使用字符数据类型创建部分编校策略</a><br><code class="codeph">DBMS_REDACT.ADD_POLICY</code> <code class="codeph">function_parameters</code>参数使您可以编辑字符数据类型。
                     </li>
                     <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-EA35A7F2-24AE-4DAF-AA06-425DE9BD7055">使用数字数据类型创建部分编校策略</a><br><code class="codeph">DBMS_REDACT.ADD_POLICY</code> <code class="codeph">function_parameters</code>参数可以编辑数字数据类型。
                     </li>
                     <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-B8983609-6649-4703-80AF-A8BF7E73C3C9">使用日期时间数据类型创建部分编校策略</a><br><code class="codeph">DBMS_REDACT.ADD_POLICY</code> <code class="codeph">function_parameters</code>参数可以编辑日期时间数据类型。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-78C0ECD1-388C-4E12-87C3-32FBC05F294D" title="Oracle Data Redaction策略定义了如何根据表列类型和要使用的编辑类型来编辑列中的数据。">配置Oracle数据编校策略</a></p>
                     </div>
                  </div>
               </div>
               <a id="ASOAG10551"></a><div class="props_rev_3"><a id="GUID-373CB1A2-1A5F-48E7-9E18-7348315161A7" name="GUID-373CB1A2-1A5F-48E7-9E18-7348315161A7"></a><h4 id="ASOAG-GUID-373CB1A2-1A5F-48E7-9E18-7348315161A7" class="sect4">关于创建部分编校策略</h4>
                  <div>
                     <p>在部分数据编校中，仅编辑一部分数据，例如标识号的前五位数。</p>
                     <p>例如，您可以使用星号（*）编辑大部分信用卡号，但最后4位数除外。您可以为使用字符，数字或日期时间数据类型的列创建策略。对于编辑字符数据类型的策略，您可以使用固定字符编校格式。如果您在系统上部署了企业管理器for Oracle Database 12.1.0.7插件，则还可以创建和保存自定义编校格式。</p>
                     <div class="infoboxnote" id="GUID-373CB1A2-1A5F-48E7-9E18-7348315161A7__GUID-95E008B0-782C-436C-BF39-9FFB2AB2C9C3">
                        <p class="notep1">注意：</p>
                        <p>在以前的版本中，术语“快捷方式”用于术语格式。</p>
                     </div>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-42B218FF-9082-4149-9D76-961B6D6417BB" title="在部分数据编辑中，您可以编辑部分数据，以及不同类型的数据类型。">创建部分编校策略</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ASOAG10552"></a><div class="props_rev_3"><a id="GUID-1CEB4B41-7942-4D1A-A21E-CEB70445C2C5" name="GUID-1CEB4B41-7942-4D1A-A21E-CEB70445C2C5"></a><h4 id="ASOAG-GUID-1CEB4B41-7942-4D1A-A21E-CEB70445C2C5" class="sect4">创建部分编校策略的语法</h4>
                  <div>
                     <p><code class="codeph">DBMS_REDACT.ADD_POLICY</code>语句使您可以创建用于编辑返回到应用程序的数据的特定部分的策略。
                     </p>
                     <div class="section">
                        <p>用于创建部分编校策略的<code class="codeph">DBMS_REDACT.ADD_POLICY</code>字段如下：</p><pre class="oac_no_warn" dir="ltr">DBMS_REDACT.ADD_POLICY（object_schema IN VARCHAR2：= NULL，object_name IN VARCHAR2，column_name IN VARCHAR2：= NULL，policy_name IN VARCHAR2，function_type IN BINARY_INTEGER：= NULL，function_parameters IN VARCHAR2：= NULL，expression IN VARCHAR2，enable IN BOOLEAN：= TRUE ）;</pre><p>在本规范中：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">object_schema</code> ， <code class="codeph">object_name</code> ， <code class="codeph">column_name</code> ， <code class="codeph">policy_name</code> ， <code class="codeph">expression</code> ， <code class="codeph">enable</code> ：请参见<a href="configuring-oracle-data-redaction-policies.html#GUID-D32FC6CA-A3B5-47EE-B288-52F1124F9FBD" title="若要创建数据编辑策略，必须使用DBMS_REDACT.ADD_POLICY过程。">DBMS_REDACT.ADD_POLICY过程的常规语法</a></p>
                           </li>
                           <li>
                              <p><code class="codeph">function_type</code> ：指定用于设置编校类型的函数。输入<code class="codeph">DBMS_REDACT.PARTIAL</code> 。</p>
                           </li>
                           <li>
                              <p><code class="codeph">function_parameters</code> ：此处设置的参数取决于为<code class="codeph">column_name</code>参数指定的列的数据类型。有关详细信息，请参阅以下部分</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><a href="configuring-oracle-data-redaction-policies.html#GUID-67CCF0EC-0FB8-44B8-A753-82C1BE475ED4" title="DBMS_REDACT.ADD_POLICY function_parameters参数使您可以使用固定字符格式。">使用固定字符格式创建部分编校策略</a></p>
                                 </li>
                                 <li>
                                    <p><a href="configuring-oracle-data-redaction-policies.html#GUID-989ADAF1-5218-4BA1-AEB3-AB223BCCD34A" title="DBMS_REDACT.ADD_POLICY function_parameters参数使您可以编辑字符数据类型。">使用字符数据类型创建部分编校策略</a></p>
                                 </li>
                                 <li>
                                    <p><a href="configuring-oracle-data-redaction-policies.html#GUID-EA35A7F2-24AE-4DAF-AA06-425DE9BD7055" title="DBMS_REDACT.ADD_POLICY function_parameters参数可以编辑数字数据类型。">使用数字数据类型创建部分编校策略</a></p>
                                 </li>
                                 <li>
                                    <p><a href="configuring-oracle-data-redaction-policies.html#GUID-B8983609-6649-4703-80AF-A8BF7E73C3C9" title="DBMS_REDACT.ADD_POLICY function_parameters参数可以编辑日期时间数据类型。">使用日期时间数据类型创建部分编校策略</a></p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-42B218FF-9082-4149-9D76-961B6D6417BB" title="在部分数据编辑中，您可以编辑部分数据，以及不同类型的数据类型。">创建部分编校策略</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ASOAG608"></a><div class="props_rev_3"><a id="GUID-67CCF0EC-0FB8-44B8-A753-82C1BE475ED4" name="GUID-67CCF0EC-0FB8-44B8-A753-82C1BE475ED4"></a><h4 id="ASOAG-GUID-67CCF0EC-0FB8-44B8-A753-82C1BE475ED4" class="sect4">使用固定字符格式创建部分编校策略</h4>
                  <div>
                     <p><code class="codeph">DBMS_REDACT.ADD_POLICY</code> <code class="codeph">function_parameters</code>参数使您可以使用固定字符格式。
                     </p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-F7682CC2-C294-46F3-A3C6-2F9FBB7ACC27">固定字符格式的设置</a><br>Oracle Data Redaction提供特殊的预定义格式来配置使用固定字符的策略。
                        </li>
                        <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-1C868AE1-CCCE-4333-BD91-3E3E617F15BA">示例：使用固定字符格式的部分编校策略</a><br>您可以使用<code class="codeph">DBMS_REDACT.ADD_POLICY</code> PL / SQL过程来创建使用固定字符格式的部分编校策略。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-42B218FF-9082-4149-9D76-961B6D6417BB" title="在部分数据编辑中，您可以编辑部分数据，以及不同类型的数据类型。">创建部分编校策略</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ASOAG892"></a><a id="ASOAG10553"></a><div class="props_rev_3"><a id="GUID-F7682CC2-C294-46F3-A3C6-2F9FBB7ACC27" name="GUID-F7682CC2-C294-46F3-A3C6-2F9FBB7ACC27"></a><h5 id="ASOAG-GUID-F7682CC2-C294-46F3-A3C6-2F9FBB7ACC27" class="sect5">固定字符格式的设置</h5>
                     <div>
                        <p>Oracle Data Redaction提供特殊的预定义格式来配置使用固定字符的策略。</p>
                        <div class="section">
                           <p><a href="configuring-oracle-data-redaction-policies.html#GUID-F7682CC2-C294-46F3-A3C6-2F9FBB7ACC27__CACDEJFH" title="部分固定数据编辑别名">表13-8</a>介绍了<code class="codeph">DBMS_REDACT.ADD_POLICY</code> <code class="codeph">function_parameters</code>参数格式，您可以将这些参数格式用于通常编辑的身份编号（例如社会保险号或加拿大社会保险号），邮政编码和使用<code class="codeph">VARCHAR2</code>或<code class="codeph">NUMBER</code>数据类型的信用卡列。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformal" id="GUID-F7682CC2-C294-46F3-A3C6-2F9FBB7ACC27__CACDEJFH">
                           <p class="titleintable">表13-8部分固定字符编校格式</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="部分固定字符编辑格式" width="100%" border="1" summary="Partial Fixed Data Redaction Aliases" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="48%" id="d57023e7536">格式</th>
                                    <th align="left" valign="bottom" width="52%" id="d57023e7539">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="48%" id="d57023e7544" headers="d57023e7536 ">
                                       <p><code class="codeph">DBMS_REDACT.REDACT_US_SSN_F5</code></p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d57023e7544 d57023e7539 ">
                                       <p>当列是<code class="codeph">VARCHAR2</code>数据类型时，编辑社会安全号码的前5个数字。例如，数字<code class="codeph">987-65-4320</code>变为<code class="codeph">XXX-XX-4320</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="48%" id="d57023e7561" headers="d57023e7536 ">
                                       <p><code class="codeph">DBMS_REDACT.REDACT_US_SSN_L4</code></p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d57023e7561 d57023e7539 ">
                                       <p>当列是<code class="codeph">VARCHAR2</code>数据类型时，编辑社会安全号码的最后4个数字。例如，数字<code class="codeph">987-65-4320</code>变为<code class="codeph">987-65-XXXX</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="48%" id="d57023e7578" headers="d57023e7536 ">
                                       <p><code class="codeph">DBMS_REDACT.REDACT_US_SSN_ENTIRE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d57023e7578 d57023e7539 ">
                                       <p>当列是<code class="codeph">VARCHAR2</code>数据类型时，编辑整个社会保险号。例如，数字<code class="codeph">987-65-4320</code>变为<code class="codeph">XXX-XX-XXXX</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="48%" id="d57023e7595" headers="d57023e7536 ">
                                       <p><code class="codeph">DBMS_REDACT.REDACT_NUM_US_SSN_F5</code></p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d57023e7595 d57023e7539 ">
                                       <p>当列为<code class="codeph">NUMBER</code>数据类型时，编辑前5个社会安全号码。例如，数字<code class="codeph">987654320</code>变为<code class="codeph">XXXXX4320</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="48%" id="d57023e7612" headers="d57023e7536 ">
                                       <p><code class="codeph">DBMS_REDACT.REDACT_NUM_US_SSN_L4</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d57023e7612 d57023e7539 ">
                                       <p>当列为<code class="codeph">NUMBER</code>数据类型时，编辑社会安全号码的最后4个数字。例如，数字<code class="codeph">987654320</code>变为<code class="codeph">98765XXXX</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="48%" id="d57023e7630" headers="d57023e7536 ">
                                       <p><code class="codeph">DBMS_REDACT.REDACT_NUM_US_SSN_ENTIRE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d57023e7630 d57023e7539 ">
                                       <p>当列为<code class="codeph">NUMBER</code>数据类型时，编辑整个社会保险号。例如，数字<code class="codeph">987654320</code>变为<code class="codeph">XXXXXXXXX</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="48%" id="d57023e7647" headers="d57023e7536 ">
                                       <p><code class="codeph">DBMS_REDACT.REDACT_SIN_NUMBER</code></p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d57023e7647 d57023e7539 ">
                                       <p>通过将前6位替换为<code class="codeph">9</code> （数字）来编辑加拿大社会保险号。例如， <code class="codeph">123456789</code>被编辑为<code class="codeph">999999789</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="48%" id="d57023e7664" headers="d57023e7536 ">
                                       <p><code class="codeph">DBMS_REDACT.REDACT_SIN_UNFORMATTED</code></p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d57023e7664 d57023e7539 ">
                                       <p>通过用<code class="codeph">X</code> （字符串）替换前6位数来编辑加拿大社会保险号。例如， <code class="codeph">123456789</code>被编辑为<code class="codeph">XXXXXX789</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="48%" id="d57023e7681" headers="d57023e7536 ">
                                       <p><code class="codeph">DBMS_REDACT.REDACT_SIN_FORMATTED</code></p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d57023e7681 d57023e7539 ">
                                       <p>通过用<code class="codeph">X</code> （字符串）替换前6位数来编辑加拿大社会保险号。例如， <code class="codeph">123-456-789</code>被编辑为<code class="codeph">XXX-XXX-789</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="48%" id="d57023e7698" headers="d57023e7536 ">
                                       <p><code class="codeph">DBMS_REDACT.REDACT_UK_NIN_FORMATTED</code></p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d57023e7698 d57023e7539 ">
                                       <p>通过将前6位数字替换为<code class="codeph">X</code> （字符串）来编辑英国国民保险号码，但保留字母字符。例如， <code class="codeph">ET 27 02 23 D</code>被编辑为<code class="codeph">ET XX XX XX D</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="48%" id="d57023e7715" headers="d57023e7536 ">
                                       <p><code class="codeph">DBMS_REDACT.REDACT_UK_NIN_UNFORMATTED</code></p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d57023e7715 d57023e7539 ">
                                       <p>通过将前6位数字替换为<code class="codeph">X</code> （字符串）并保留字母字符来编辑英国国民保险号码。例如， <code class="codeph">ET270223D</code>被编辑为<code class="codeph">ETXXXXXXD</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="48%" id="d57023e7733" headers="d57023e7536 ">
                                       <p><code class="codeph">DBMS_REDACT.REDACT_CCN_FORMATTED</code></p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d57023e7733 d57023e7539 ">
                                       <p>通过用<code class="codeph">*</code>替换除最后4位数之外的所有内容来编辑信用卡号（美国运通除外）。例如，信用卡号<code class="codeph">5105–1051–0510–5100</code>被编辑为<code class="codeph">****—****—****—5100</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="48%" id="d57023e7750" headers="d57023e7536 ">
                                       <p><code class="codeph">DBMS_REDACT.REDACT_CCN_NUMBER</code></p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d57023e7750 d57023e7539 ">
                                       <p>通过将除最后4位数之外的所有内容替换为<code class="codeph">0</code>编辑信用卡号（美国运通除外）。例如，信用卡号<code class="codeph">5105105105105100</code>被编辑为<code class="codeph">************5100</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="48%" id="d57023e7767" headers="d57023e7536 ">
                                       <p><code class="codeph">DBMS_REDACT.REDACT_CCN16_F12</code></p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d57023e7767 d57023e7539 ">
                                       <p>编辑一个16位数的信用卡号码（美国运通除外），显示最后4位数字。例如， <code class="codeph">5105 1051 0510 5100</code>变为<code class="codeph">****-****-****-5100</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="48%" id="d57023e7781" headers="d57023e7536 ">
                                       <p><code class="codeph">DBMS_REDACT.REDACT_AMEX_CCN_FORMATTED</code></p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d57023e7781 d57023e7539 ">
                                       <p>使用<code class="codeph">*</code>替换最后5位数字来编辑美国运通信用卡号码。例如，信用卡号<code class="codeph">3782 822463 10005</code>被编辑为<code class="codeph">**** ****** 10005</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="48%" id="d57023e7798" headers="d57023e7536 ">
                                       <p><code class="codeph">DBMS_REDACT.REDACT_AMEX_CCN_NUMBER</code></p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d57023e7798 d57023e7539 ">
                                       <p>通过更换数字重新编辑美国运通信用卡号码<code class="codeph">0</code> ，除了最后5位数字。例如，信用卡号<code class="codeph">3782 822463 10005</code>被编辑为<code class="codeph">0000 000000 10005</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="48%" id="d57023e7815" headers="d57023e7536 ">
                                       <p><code class="codeph">DBMS_REDACT.REDACT_ZIP_CODE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d57023e7815 d57023e7539 ">
                                       <p>当列是<code class="codeph">VARCHAR2</code>数据类型时，编辑5位数的邮政编码。例如， <code class="codeph">95476</code>变为<code class="codeph">XXXXX</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="48%" id="d57023e7832" headers="d57023e7536 ">
                                       <p><code class="codeph">DBMS_REDACT.REDACT_NUM_ZIP_CODE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d57023e7832 d57023e7539 ">
                                       <p>当列为<code class="codeph">NUMBER</code>数据类型时，编辑5位邮政编码。例如， <code class="codeph">95476</code>变为<code class="codeph">XXXXX</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="48%" id="d57023e7849" headers="d57023e7536 ">
                                       <p><code class="codeph">DBMS_REDACT.REDACT_DATE_EPOCH</code></p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d57023e7849 d57023e7539 ">
                                       <p>将所有日期编辑为<code class="codeph">01-JAN-70</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="48%" id="d57023e7860" headers="d57023e7536 ">
                                       <p><code class="codeph">DBMS_REDACT.REDACT_NA_PHONE_FORMATTED</code></p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d57023e7860 d57023e7539 ">
                                       <p>通过保留区号来编辑北美电话号码，但用<code class="codeph">X</code>替换其他所有电话号码。例如， <code class="codeph">650-555–0100</code>被编辑为<code class="codeph">650-XXX-XXXX</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="48%" id="d57023e7877" headers="d57023e7536 ">
                                       <p><code class="codeph">DBMS_REDACT.REDACT_NA_PHONE_NUMBER</code></p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d57023e7877 d57023e7539 ">
                                       <p>通过保留区号来编辑北美电话号码，但用<code class="codeph">0</code>替换其他所有电话号码。例如， <code class="codeph">6505550100</code>被编辑为<code class="codeph">650000000</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="48%" id="d57023e7894" headers="d57023e7536 ">
                                       <p><code class="codeph">DBMS_REDACT.REDACT_NA_PHONE_UNFORMATTED</code></p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d57023e7894 d57023e7539 ">
                                       <p>通过保留区号来编辑北美电话号码，但用<code class="codeph">X</code>替换其他所有电话号码。例如， <code class="codeph">6505550100</code>被编辑为<code class="codeph">650XXXXXXX</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="48%" id="d57023e7912" headers="d57023e7536 ">
                                       <p><code class="codeph">DBMS_REDACT.REDACT_DATE_MILLENNIUM</code></p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d57023e7912 d57023e7539 ">
                                       <p>将<code class="codeph">DD-MON-YY</code>格式的日期编辑为<code class="codeph">01-JAN-00</code> （2000年1月1日）。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="section"></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-F7682CC2-C294-46F3-A3C6-2F9FBB7ACC27__GUID-9B24C505-C7C2-4E3E-AE33-2D08F1951379">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="configuring-oracle-data-redaction-policies.html#GUID-D32FC6CA-A3B5-47EE-B288-52F1124F9FBD" title="To create a Data Redaction policy, you must use the DBMS_REDACT.ADD_POLICY procedure.">DBMS_REDACT.ADD_POLICY的常规语法</a>有关其他<code class="codeph">DBMS_REDACT.ADD_POLICY</code>参数的信息的<a href="configuring-oracle-data-redaction-policies.html#GUID-D32FC6CA-A3B5-47EE-B288-52F1124F9FBD" title="若要创建数据编辑策略，必须使用DBMS_REDACT.ADD_POLICY过程。">过程</a></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-67CCF0EC-0FB8-44B8-A753-82C1BE475ED4" title="DBMS_REDACT.ADD_POLICY function_parameters参数使您可以使用固定字符格式。">使用固定字符格式创建部分编校策略</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ASOAG893"></a><a id="ASOAG10554"></a><div class="props_rev_3"><a id="GUID-1C868AE1-CCCE-4333-BD91-3E3E617F15BA" name="GUID-1C868AE1-CCCE-4333-BD91-3E3E617F15BA"></a><h5 id="ASOAG-GUID-1C868AE1-CCCE-4333-BD91-3E3E617F15BA" class="sect5">示例：使用固定字符格式的部分编校策略</h5>
                     <div>
                        <p>您可以使用<code class="codeph">DBMS_REDACT.ADD_POLICY</code> PL / SQL过程来创建使用固定字符格式的部分编校策略。
                        </p>
                        <p><a href="configuring-oracle-data-redaction-policies.html#GUID-1C868AE1-CCCE-4333-BD91-3E3E617F15BA__CACJICBG">示例13-4</a>显示了<code class="codeph">VARCHAR2</code>数据类型列中的社会安全号码如何使用<code class="codeph">REDACT_US_SSN_F5</code>格式进行编辑。
                        </p>
                        <div class="example" id="GUID-1C868AE1-CCCE-4333-BD91-3E3E617F15BA__CACJICBG">
                           <p class="titleinexample">例13-4部分编辑的字符值</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_REDACT.ADD_POLICY（object_schema =&gt;'mavis'，object_name =&gt;'cust_info'，column_name =&gt;'ssn'，policy_name =&gt;'redact_cust_ssns3'，function_type =&gt; DBMS_REDACT.PARTIAL，function_parameters =&gt; DBMS_REDACT.REDACT_US_SSN_F5，expression =&gt; '1 = 1'，policy_description =&gt;'部分编辑SS编号中的前5位数'，column_description =&gt;'ssn包含社会安全号码'）;结束; /</pre><p>查询和编辑结果：</p><pre class="oac_no_warn" dir="ltr">SELECT ssn FROM mavis.cust_info; SSN ------- XXX-XX-4320 XXX-XX-4323 XXX-XX-4325 XXX-XX-4329</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-67CCF0EC-0FB8-44B8-A753-82C1BE475ED4" title="DBMS_REDACT.ADD_POLICY function_parameters参数使您可以使用固定字符格式。">使用固定字符格式创建部分编校策略</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ASOAG816"></a><div class="props_rev_3"><a id="GUID-989ADAF1-5218-4BA1-AEB3-AB223BCCD34A" name="GUID-989ADAF1-5218-4BA1-AEB3-AB223BCCD34A"></a><h4 id="ASOAG-GUID-989ADAF1-5218-4BA1-AEB3-AB223BCCD34A" class="sect4">使用字符数据类型创建部分编校策略</h4>
                  <div>
                     <p><code class="codeph">DBMS_REDACT.ADD_POLICY</code> <code class="codeph">function_parameters</code>参数使您可以编辑字符数据类型。
                     </p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-6A584DC4-57AC-4B12-8321-1E61AC7B5EEE">字符数据类型的设置</a><br>Oracle Data Redaction提供了特殊设置来配置使用字符数据类型的策略。
                        </li>
                        <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-15EE3819-1843-4F64-BB9C-3C29E8871F32">示例：使用字符数据类型的部分编校策略</a><br><code class="codeph">DBMS_REDACT.ADD_POLICY</code> PL / SQL过程可以创建使用字符数据类型的部分编校策略。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-42B218FF-9082-4149-9D76-961B6D6417BB" title="在部分数据编辑中，您可以编辑部分数据，以及不同类型的数据类型。">创建部分编校策略</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ASOAG10555"></a><div class="props_rev_3"><a id="GUID-6A584DC4-57AC-4B12-8321-1E61AC7B5EEE" name="GUID-6A584DC4-57AC-4B12-8321-1E61AC7B5EEE"></a><h5 id="ASOAG-GUID-6A584DC4-57AC-4B12-8321-1E61AC7B5EEE" class="sect5">字符数据类型的设置</h5>
                     <div>
                        <p>Oracle Data Redaction提供了特殊设置来配置使用字符数据类型的策略。</p>
                        <div class="section">
                           <p>设置<code class="codeph">DBMS_REDACT.ADD_POLICY</code> <code class="codeph">function_parameters</code>参数以定义字符数据类型的部分编辑时，请按所示顺序输入以下设置的值。用逗号分隔每个值</p>
                           <div class="infoboxnote" id="GUID-6A584DC4-57AC-4B12-8321-1E61AC7B5EEE__GUID-03C8A054-63FC-4386-9C39-A3953BE0EEED">
                              <p class="notep1">注意：</p>
                              <p>请注意，必须使用固定宽度字符集进行部分编辑。换句话说，每个编辑的字符必须由另一个相等的字节长度替换。如果要使用可变长度字符集（例如，UTF-8），则必须使用基于正则表达式的编校。有关更多信息，请参阅<a href="configuring-oracle-data-redaction-policies.html#GUID-071193E2-21C5-4C73-A7BA-6DA4104FD66A" title="DBMS_REDACT.ADD_POLICY过程的regexp_ *参数可以创建基于正则表达式的编校策略。">创建基于正则表达式的编校策略的语法</a> 。
                              </p>
                           </div>
                           <p>设置如下：</p>
                           <ol>
                              <li>
                                 <p><span class="bold">输入格式：</span>定义数据当前的格式。为每个可能被编辑的字符输入<code class="codeph">V</code> ，例如信用卡号中的所有数字。为要使用格式字符格式化的每个字符输入<code class="codeph">F</code> ，例如信用卡号中的连字符或空格。确保每个字符都有相应的<code class="codeph">V</code>或<code class="codeph">F</code>值。（输入格式值不区分大小写。）
                                 </p>
                              </li>
                              <li>
                                 <p><span class="bold">输出格式：</span>定义如何格式化显示的数据。为每个可能被编辑的字符输入<code class="codeph">V</code>将输入格式中的每个<code class="codeph">F</code>字符替换为要用于显示输出的字符，例如连字符。（输出格式值不区分大小写。）
                                 </p>
                              </li>
                              <li>
                                 <p><span class="bold">掩码字符：</span>指定用于编校的字符。输入要用于编校的单个字符，例如星号（*）。
                                 </p>
                              </li>
                              <li>
                                 <p><span class="bold">起始位置：</span>指定编校的起始<code class="codeph">V</code>位置。
                                 </p>
                              </li>
                              <li>
                                 <p><span class="bold">结束数字位置：</span>指定编校的结束<code class="codeph">V</code>数字位置。决定结束位置值时，请勿包含<code class="codeph">F</code>位置。
                                 </p>
                              </li>
                           </ol>
                           <p>例如，下面的设置重新编辑的前12个<code class="codeph">V</code>信用卡号码的数字<code class="codeph">5105 1051 0510 5100</code> ，和替换<code class="codeph">F</code>位置（其是空格）用连字符对其进行格式化在通常用于信用卡号码的样式，从而导致<code class="codeph">****-****-****-4320</code> 。
                           </p><pre class="oac_no_warn" dir="ltr">function_parameters =&gt;'VVVVFVVVVVVVVVVVVVV，VVVV-VVVV-VVVV-VVVV，*，1,12'，</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-6A584DC4-57AC-4B12-8321-1E61AC7B5EEE__GUID-82D27121-B41B-42F0-A0C2-92F27906F543">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="configuring-oracle-data-redaction-policies.html#GUID-D32FC6CA-A3B5-47EE-B288-52F1124F9FBD" title="To create a Data Redaction policy, you must use the DBMS_REDACT.ADD_POLICY procedure.">DBMS_REDACT.ADD_POLICY的常规语法</a>有关其他<code class="codeph">DBMS_REDACT.ADD_POLICY</code>参数的信息的<a href="configuring-oracle-data-redaction-policies.html#GUID-D32FC6CA-A3B5-47EE-B288-52F1124F9FBD" title="若要创建数据编辑策略，必须使用DBMS_REDACT.ADD_POLICY过程。">过程</a></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-989ADAF1-5218-4BA1-AEB3-AB223BCCD34A" title="DBMS_REDACT.ADD_POLICY function_parameters参数使您可以编辑字符数据类型。">使用字符数据类型创建部分编校策略</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ASOAG599"></a><a id="ASOAG10556"></a><div class="props_rev_3"><a id="GUID-15EE3819-1843-4F64-BB9C-3C29E8871F32" name="GUID-15EE3819-1843-4F64-BB9C-3C29E8871F32"></a><h5 id="ASOAG-GUID-15EE3819-1843-4F64-BB9C-3C29E8871F32" class="sect5">示例：使用字符数据类型的部分编校策略</h5>
                     <div>
                        <p><code class="codeph">DBMS_REDACT.ADD_POLICY</code> PL / SQL过程可以创建使用字符数据类型的部分编校策略。
                        </p>
                        <p><a href="configuring-oracle-data-redaction-policies.html#GUID-15EE3819-1843-4F64-BB9C-3C29E8871F32__CACIIDEC">示例13-5</a>显示了如何编辑<code class="codeph">VARCHAR2</code>数据类型列中的社会保险号，以及如何在社会保险号中保留字符连字符。
                        </p>
                        <div class="example" id="GUID-15EE3819-1843-4F64-BB9C-3C29E8871F32__CACIIDEC">
                           <p class="titleinexample">例13-5部分编辑的字符值</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_REDACT.ADD_POLICY（object_schema =&gt;'mavis'，object_name =&gt;'cust_info'，column_name =&gt;'ssn'，policy_name =&gt;'redact_cust_ssns2'，function_type =&gt; DBMS_REDACT.PARTIAL，function_parameters =&gt;'VVVFVVVVVVV，VVV-VV- VVVV，*，1,5'，表达式=&gt;'1 = 1'，policy_description =&gt;'部分编辑社会安全号码'，column_description =&gt;'ssn包含角色社会安全号码'）;结束; /</pre><p>查询和编辑结果：</p><pre class="oac_no_warn" dir="ltr">SELECT ssn FROM mavis.cust_info; SSN ----------- ***  -  **  -  4320 ***  -  **  -  4323 ***  -  **  -  4325 ***  -  **  -  4329</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-989ADAF1-5218-4BA1-AEB3-AB223BCCD34A" title="DBMS_REDACT.ADD_POLICY function_parameters参数使您可以编辑字符数据类型。">使用字符数据类型创建部分编校策略</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ASOAG817"></a><div class="props_rev_3"><a id="GUID-EA35A7F2-24AE-4DAF-AA06-425DE9BD7055" name="GUID-EA35A7F2-24AE-4DAF-AA06-425DE9BD7055"></a><h4 id="ASOAG-GUID-EA35A7F2-24AE-4DAF-AA06-425DE9BD7055" class="sect4">使用数字数据类型创建部分编校策略</h4>
                  <div>
                     <p><code class="codeph">DBMS_REDACT.ADD_POLICY</code> <code class="codeph">function_parameters</code>参数可以编辑数字数据类型。
                     </p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-5F20EEB4-9DF4-49AB-A4B8-0E7EF6110919">数字数据类型的设置</a><br>为数字数据类型设置值时，必须指定掩码字符，起始数字位置和结束数字位置。
                        </li>
                        <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-D20580B4-4EA8-4222-94EB-52E73200E4A9">示例：使用数字数据类型的部分编校策略</a><br><code class="codeph">DBMS_REDACT.ADD_POLICY</code>过程可以创建使用数字数据类型的部分编校策略。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-42B218FF-9082-4149-9D76-961B6D6417BB" title="在部分数据编辑中，您可以编辑部分数据，以及不同类型的数据类型。">创建部分编校策略</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ASOAG10557"></a><div class="props_rev_3"><a id="GUID-5F20EEB4-9DF4-49AB-A4B8-0E7EF6110919" name="GUID-5F20EEB4-9DF4-49AB-A4B8-0E7EF6110919"></a><h5 id="ASOAG-GUID-5F20EEB4-9DF4-49AB-A4B8-0E7EF6110919" class="sect5">数字数据类型的设置</h5>
                     <div>
                        <p>为数字数据类型设置值时，必须指定掩码字符，起始数字位置和结束数字位置。</p>
                        <p>对于数字数据类型的部分编辑，您可以按所示顺序为<code class="codeph">DBMS_REDACT.ADD_POLICY</code>过程的<code class="codeph">function_parameters</code>参数输入以下设置的值。
                        </p>
                        <ol>
                           <li>
                              <p><span class="bold">掩码字符：</span>指定要显示的字符。输入0到9之间的数字。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">起始位的位置：</span>指定节录的起始位的位置，如<code class="codeph">1</code>为第一位数。
                              </p>
                           </li>
                           <li>
                              <p><span class="bold">结束数字位置：</span>指定编校的结束数字位置。
                              </p>
                           </li>
                        </ol>
                        <p>例如，以下设置会编辑社会安全号码<code class="codeph">987654321</code>的前五位数字，从而产生<code class="codeph">999994321</code> 。
                        </p><pre class="oac_no_warn" dir="ltr">function_parameters =&gt;'9,1,5'，</pre></div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-5F20EEB4-9DF4-49AB-A4B8-0E7EF6110919__GUID-4D3635E2-2983-4890-8537-B59363565187">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="configuring-oracle-data-redaction-policies.html#GUID-D32FC6CA-A3B5-47EE-B288-52F1124F9FBD" title="To create a Data Redaction policy, you must use the DBMS_REDACT.ADD_POLICY procedure.">DBMS_REDACT.ADD_POLICY的常规语法</a>有关其他<code class="codeph">DBMS_REDACT.ADD_POLICY</code>参数的信息的<a href="configuring-oracle-data-redaction-policies.html#GUID-D32FC6CA-A3B5-47EE-B288-52F1124F9FBD" title="若要创建数据编辑策略，必须使用DBMS_REDACT.ADD_POLICY过程。">过程</a></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-EA35A7F2-24AE-4DAF-AA06-425DE9BD7055" title="DBMS_REDACT.ADD_POLICY function_parameters参数可以编辑数字数据类型。">使用数字数据类型创建部分编校策略</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ASOAG494"></a><a id="ASOAG10558"></a><div class="props_rev_3"><a id="GUID-D20580B4-4EA8-4222-94EB-52E73200E4A9" name="GUID-D20580B4-4EA8-4222-94EB-52E73200E4A9"></a><h5 id="ASOAG-GUID-D20580B4-4EA8-4222-94EB-52E73200E4A9" class="sect5">示例：使用数字数据类型的部分编校策略</h5>
                     <div>
                        <p><code class="codeph">DBMS_REDACT.ADD_POLICY</code>过程可以创建使用数字数据类型的部分编校策略。
                        </p>
                        <p><a href="configuring-oracle-data-redaction-policies.html#GUID-D20580B4-4EA8-4222-94EB-52E73200E4A9__CACCHAIF">示例13-6</a>显示了如何在<code class="codeph">mavis.cust_info</code>表中为任何登录的应用程序用户部分编辑一组社会保险号。（因此， <code class="codeph">expression</code>参数的计算结果为<code class="codeph">TRUE</code> 。）
                        </p>
                        <p>当应用程序需要格式化数字而不是字符串时，这种类型的编辑很有用。在此方案中，社会保险号码位于数据类型<code class="codeph">NUMBER</code>的列中。换句话说， <code class="codeph">ssn</code>列仅包含数字，而不包含连字符或空格等其他字符。
                        </p>
                        <div class="example" id="GUID-D20580B4-4EA8-4222-94EB-52E73200E4A9__CACCHAIF">
                           <p class="titleinexample">示例13-6部分编辑的数据编辑数字值</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_REDACT.ADD_POLICY（object_schema =&gt;'mavis'，object_name =&gt;'cust_info'，column_name =&gt;'ssn'，policy_name =&gt;'redact_cust_ssns1'，function_type =&gt; DBMS_REDACT.PARTIAL，function_parameters =&gt;'7,1,5' ，expression =&gt;'1 = 1'，policy_description =&gt;'部分编辑社会安全号码'，column_description =&gt;'ssn包含数字社会安全号码'）;结束; /</pre><p>查询和编辑结果：</p><pre class="oac_no_warn" dir="ltr">SELECT ssn FROM mavis.cust_info; SSN --------- 777774320 777774323 777774325 777774329</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-EA35A7F2-24AE-4DAF-AA06-425DE9BD7055" title="DBMS_REDACT.ADD_POLICY function_parameters参数可以编辑数字数据类型。">使用数字数据类型创建部分编校策略</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ASOAG818"></a><div class="props_rev_3"><a id="GUID-B8983609-6649-4703-80AF-A8BF7E73C3C9" name="GUID-B8983609-6649-4703-80AF-A8BF7E73C3C9"></a><h4 id="ASOAG-GUID-B8983609-6649-4703-80AF-A8BF7E73C3C9" class="sect4">使用日期时间数据类型创建部分编校策略</h4>
                  <div>
                     <p><code class="codeph">DBMS_REDACT.ADD_POLICY</code> <code class="codeph">function_parameters</code>参数可以编辑日期时间数据类型。
                     </p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-3596958D-55D3-4E61-A2AE-D4CD3F6EA79A">日期时间数据类型的设置</a><br>Oracle Data Redaction提供了用于配置日期时间数据类型的特殊设置。
                        </li>
                        <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-BF2A8A7C-FFC0-43F9-BF74-BE53B7264A4E">示例：使用日期时间数据类型的部分编校策略</a><br><code class="codeph">DBMS_REDACT.ADD_POLICY</code>过程可以创建使用日期时间数据类型的部分编校策略。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-42B218FF-9082-4149-9D76-961B6D6417BB" title="在部分数据编辑中，您可以编辑部分数据，以及不同类型的数据类型。">创建部分编校策略</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ASOAG10559"></a><div class="props_rev_3"><a id="GUID-3596958D-55D3-4E61-A2AE-D4CD3F6EA79A" name="GUID-3596958D-55D3-4E61-A2AE-D4CD3F6EA79A"></a><h5 id="ASOAG-GUID-3596958D-55D3-4E61-A2AE-D4CD3F6EA79A" class="sect5">日期时间数据类型的设置</h5>
                     <div>
                        <p>Oracle Data Redaction提供了用于配置日期时间数据类型的特殊设置。</p>
                        <div class="section">
                           <p>对于日期时间数据类型的部分编辑，请输入以下<code class="codeph">DBMS_REDACT.ADD_POLICY</code> <code class="codeph">function_parameters</code>参数设置的值。
                           </p>
                           <p>按显示的顺序输入这些值：</p>
                           <ol>
                              <li>
                                 <p>m：编辑月份。要使用月份名称进行编辑，请将<code class="codeph">1</code> - <code class="codeph">12</code>附加到小写<code class="codeph">m</code> 。例如， <code class="codeph">m5</code>显示为<code class="codeph">MAY</code> 。要省略编校，请输入大写的<code class="codeph">M</code></p>
                              </li>
                              <li>
                                 <p>d：编辑该月的某一天。要在每月的某一天进行编辑，请将<code class="codeph">1</code> - <code class="codeph">31</code>附加到小写<code class="codeph">d</code> 。例如， <code class="codeph">d7</code>显示为<code class="codeph">07</code> 。如果输入的数字高于该月的日期（例如，2月份为<code class="codeph">31</code> ），则会显示该月的最后一天（例如， <code class="codeph">28</code> ）。要省略编校，请输入大写<code class="codeph">D</code></p>
                              </li>
                              <li>
                                 <p>y：编辑年份。要用一年编辑，请将<code class="codeph">1</code> - <code class="codeph">9999</code>附加到小写<code class="codeph">y</code> 。例如， <code class="codeph">y1984</code>显示为<code class="codeph">84</code> 。要省略编校，请输入大写<code class="codeph">Y</code></p>
                              </li>
                              <li>
                                 <p>h：编辑小时。要用一小时编辑，请将<code class="codeph">0</code> - <code class="codeph">23</code>附加到小写<code class="codeph">h</code> 。例如， <code class="codeph">h20</code>显示为<code class="codeph">20</code> 。要省略编校，请输入大写字母<code class="codeph">H</code></p>
                              </li>
                              <li>
                                 <p>m：编辑分钟。要用一分钟编辑，请将<code class="codeph">0</code> - <code class="codeph">59</code>附加到小写<code class="codeph">m</code> 。例如， <code class="codeph">m30</code>显示为<code class="codeph">30</code> 。要省略编校，请输入大写的<code class="codeph">M</code></p>
                              </li>
                              <li>
                                 <p>s：编辑第二个。要用一秒钟编辑，请将<code class="codeph">0</code> - <code class="codeph">59</code>附加到小写<code class="codeph">s</code> 。例如， <code class="codeph">s45</code>显示为<code class="codeph">45</code> 。要省略编校，请输入大写字母<code class="codeph">S</code></p>
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-3596958D-55D3-4E61-A2AE-D4CD3F6EA79A__GUID-F9DE7EB7-862B-48B2-A87E-67C80C557DC1">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="configuring-oracle-data-redaction-policies.html#GUID-D32FC6CA-A3B5-47EE-B288-52F1124F9FBD" title="To create a Data Redaction policy, you must use the DBMS_REDACT.ADD_POLICY procedure.">DBMS_REDACT.ADD_POLICY的常规语法</a>有关其他<code class="codeph">DBMS_REDACT.ADD_POLICY</code>参数的信息的<a href="configuring-oracle-data-redaction-policies.html#GUID-D32FC6CA-A3B5-47EE-B288-52F1124F9FBD" title="若要创建数据编辑策略，必须使用DBMS_REDACT.ADD_POLICY过程。">过程</a></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-B8983609-6649-4703-80AF-A8BF7E73C3C9" title="DBMS_REDACT.ADD_POLICY function_parameters参数可以编辑日期时间数据类型。">使用日期时数据类型创建部分编校策略</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ASOAG10561"></a><a id="ASOAG10560"></a><div class="props_rev_3"><a id="GUID-BF2A8A7C-FFC0-43F9-BF74-BE53B7264A4E" name="GUID-BF2A8A7C-FFC0-43F9-BF74-BE53B7264A4E"></a><h5 id="ASOAG-GUID-BF2A8A7C-FFC0-43F9-BF74-BE53B7264A4E" class="sect5">示例：使用日期时间数据类型的部分编校策略</h5>
                     <div>
                        <p><code class="codeph">DBMS_REDACT.ADD_POLICY</code>过程可以创建使用日期时间数据类型的部分编校策略。
                        </p>
                        <p><a href="configuring-oracle-data-redaction-policies.html#GUID-BF2A8A7C-FFC0-43F9-BF74-BE53B7264A4E__CEGIIHJE">例13-7</a>显示了如何部分编辑日期。这个例子描述了客户的诞生年;将其替换为<code class="codeph">13</code> ，但保留其余值。
                        </p>
                        <div class="example" id="GUID-BF2A8A7C-FFC0-43F9-BF74-BE53B7264A4E__CEGIIHJE">
                           <p class="titleinexample">示例13-7使用日期时间值进行部分编辑的数据编辑</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_REDACT.ADD_POLICY（object_schema =&gt;'mavis'，object_name =&gt;'cust_info'，column_name =&gt;'birth_date'，policy_name =&gt;'redact_cust_bdate'，function_type =&gt; <code class="codeph">mdy2013HMS</code> ，function_parameters =&gt;' <code class="codeph">mdy2013HMS</code> '，expression =&gt; '1 = 1'，policy_description =&gt;'将出生年份替换为2013年'，column_description =&gt;'birth_date包含客户的出生日期'）;结束; /</pre><p>查询和编辑结果：</p><pre class="oac_no_warn" dir="ltr">选择birth_date FROM mavis.cust_info; BIRTH_DATE 07-DEC-13 09.45.40.000000 AM 12-OCT-13 04.23.29.000000 AM</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-B8983609-6649-4703-80AF-A8BF7E73C3C9" title="DBMS_REDACT.ADD_POLICY function_parameters参数可以编辑日期时间数据类型。">使用日期时数据类型创建部分编校策略</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div><a id="ASOAG10562"></a><div class="props_rev_3"><a id="GUID-1C20F828-2922-4846-8536-CC667B65FD01" name="GUID-1C20F828-2922-4846-8536-CC667B65FD01"></a><h3 id="ASOAG-GUID-1C20F828-2922-4846-8536-CC667B65FD01" class="sect3">创建基于正则表达式的编校策略</h3>
               <div>
                  <p>基于正则表达式的编校策略使您可以基于搜索和替换模型编辑数据。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-335FAD3A-B196-4D31-AF88-B857D5F39B8A">关于创建基于正则表达式的编校策略</a><br>基于正则表达式的编辑使您可以搜索要编辑的数据模式。
                     </li>
                     <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-071193E2-21C5-4C73-A7BA-6DA4104FD66A">用于创建基于正则表达式的编校策略的语法</a><br>该<code class="codeph">regexp_*</code>的参数<code class="codeph">DBMS_REDACT.ADD_POLICY</code>程序可以创建一个基于正则表达式，新版本的政策。
                     </li>
                     <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-C5B270A8-B16E-49A1-9650-E928F2BCB3C4">使用格式的基于正则表达式的编校策略</a><br>该<code class="codeph">DBMS_REDACT.ADD_POLICY</code>程序<code class="codeph">regexp_pattern</code>和<code class="codeph">regexp_replace_string</code>参数都支持的格式。
                     </li>
                     <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-F2A484AE-9209-4F71-A2E3-CBCECAD5DD4C">自定义正则表达式编校策略</a><br>您可以在数据编辑策略中自定义正则表达式。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-78C0ECD1-388C-4E12-87C3-32FBC05F294D" title="Oracle Data Redaction策略定义了如何根据表列类型和要使用的编辑类型来编辑列中的数据。">配置Oracle数据编校策略</a></p>
                     </div>
                  </div>
               </div>
               <a id="ASOAG10563"></a><div class="props_rev_3"><a id="GUID-335FAD3A-B196-4D31-AF88-B857D5F39B8A" name="GUID-335FAD3A-B196-4D31-AF88-B857D5F39B8A"></a><h4 id="ASOAG-GUID-335FAD3A-B196-4D31-AF88-B857D5F39B8A" class="sect4">关于创建基于正则表达式的编校策略</h4>
                  <div>
                     <p>基于正则表达式的编辑使您可以搜索要编辑的数据模式。</p>
                     <p>例如，您可以使用正则表达式来编辑可能具有不同字符长度的电子邮件地址。它仅适用于字符数据。您可以使用格式进行搜索和替换操作，也可以创建自定义模式格式。</p>
                     <p>您不能使用正则表达式来编辑列中值的子集。<code class="codeph">REGEXP_PATTERN</code> （正则表达式模式）必须匹配<span class="italic">所有</span>值才能使<code class="codeph">REGEXP_REPLACE_STRING</code>设置生效， <code class="codeph">REGEXP_REPLACE_STRING</code>必须更改该值。
                     </p>
                     <p>对于<code class="codeph">REGEXP_PATTERN</code>无法匹配的行，Data Redaction执行<code class="codeph">DBMS_REDACT.FULL</code>编辑。这减轻了<code class="codeph">REGEXP_PATTERN</code>中出错的风险，导致正则表达式无法匹配列中的所有值，从而显示未能匹配的那些行的实际数据。
                     </p>
                     <p>此外，如果在正则表达式替换操作期间由于<code class="codeph">REGEXP_REPLACE_STRING</code>设置未对值进行更改，则数据编辑执行<code class="codeph">DBMS_REDACT.FULL</code>编辑。
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-1C20F828-2922-4846-8536-CC667B65FD01" title="基于正则表达式的编校策略使您可以基于搜索和替换模型编辑数据。">创建基于正则表达式的编校策略</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ASOAG10564"></a><div class="props_rev_3"><a id="GUID-071193E2-21C5-4C73-A7BA-6DA4104FD66A" name="GUID-071193E2-21C5-4C73-A7BA-6DA4104FD66A"></a><h4 id="ASOAG-GUID-071193E2-21C5-4C73-A7BA-6DA4104FD66A" class="sect4">用于创建基于正则表达式的编校策略的语法</h4>
                  <div>
                     <p>该<code class="codeph">regexp_*</code>的参数<code class="codeph">DBMS_REDACT.ADD_POLICY</code>程序可以创建一个基于正则表达式，新版本的政策。
                     </p>
                     <div class="section">
                        <p>用于创建基于正则表达式的数据编校策略的<code class="codeph">DBMS_REDACT.ADD_POLICY</code>字段如下：</p><pre class="oac_no_warn" dir="ltr">DBMS_REDACT.ADD_POLICY（object_schema IN VARCHAR2：= NULL，object_name IN VARCHAR2，column_name IN VARCHAR2：= NULL，policy_name IN VARCHAR2，function_type IN BINARY_INTEGER：= NULL，表达式IN VARCHAR2，启用IN BOOLEAN：= TRUE，regexp_pattern IN VARCHAR2：= NULL ，regexp_replace_string IN VARCHAR2：= NULL，regexp_position IN BINARY_INTEGER：= 1，regexp_occurrence IN BINARY_INTEGER：= 0，regexp_match_parameter IN VARCHAR2：= NULL）;</pre><p>在本规范中：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">object_schema</code> ， <code class="codeph">object_name</code> ， <code class="codeph">column_name</code> ， <code class="codeph">policy_name</code> ， <code class="codeph">expression</code> ， <code class="codeph">enable</code> ：请参见<a href="configuring-oracle-data-redaction-policies.html#GUID-D32FC6CA-A3B5-47EE-B288-52F1124F9FBD" title="若要创建数据编辑策略，必须使用DBMS_REDACT.ADD_POLICY过程。">DBMS_REDACT.ADD_POLICY过程的常规语法</a> 。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">function_type</code> ：指定编校的类型。对于基于正则表达式的编校，请使用<code class="codeph">DBMS_REDACT.REGEXP</code>或<code class="codeph">DBMS_REDACT.REGEXP_WIDTH</code> 。</p>
                              <p>如果使用<code class="codeph">DBMS_REDACT.REGEXP</code>校类型，则不会发生截断。即使编辑的值大于列宽，并且<span class="italic">未</span>保留列的Oracle调用接口宽度属性（ <code class="codeph">OCI_ATTR_CHAR_SIZE</code> ），这也<span class="italic">适用</span> 。（它变为4000，就像在列上使用<code class="codeph">REGEXP_REPLACE</code> SQL运算符时<code class="codeph">REGEXP_REPLACE</code> 。）
                              </p>
                              <p>使用<code class="codeph">DBMS_REDACT.REGEXP_WIDTH</code>校类型会截断超出列宽度的任何编辑值，并确保列的OCI宽度属性（ <code class="codeph">OCI_ATTR_CHAR_SIZE</code> ）保持不变。
                              </p>
                              <p>请注意以下事项：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>使用<code class="codeph">DBMS_REDACT.REGEXP_WIDTH</code>如果您的应用程序依赖于价值函数类型<code class="codeph">OCI_ATTR_CHAR_SIZE</code>属性。例如，使用Oracle OLE DB提供程序接口构建的应用程序对<code class="codeph">OCI_ATTR_CHAR_SIZE</code>属性的值敏感。如果使用<code class="codeph">DBMS_REDACT.REGEXP</code>作为编校类型，则<code class="codeph">OCI_ATTR_CHAR_SIZE</code>始终为4000。此设置使其不适合作为基于Oracle OLE DB的应用程序使用的表的编校策略类型。有关Oracle Call Interface参数属性的更多信息，请参阅<a href="../lnoci/describing-schema-metadata.html#LNOCI16446" target="_blank"><span><cite>Oracle Call Interface Programmer's Guide</cite></span></a> 。
                                    </p>
                                 </li>
                                 <li>
                                    <p>将<code class="codeph">function_type</code>参数设置为<code class="codeph">DBMS_REDACT.REGEXP</code>或<code class="codeph">DBMS_REDACT.REGEXP_WIDTH</code> ，请省略<code class="codeph">DBMS_REDACT.ADD_POLICY</code>过程中的<code class="codeph">function_parameters</code>参数。
                                    </p>
                                 </li>
                                 <li>
                                    <p>指定正则表达式参数的方式与指定<code class="codeph">REGEXP_REPLACE</code> SQL函数的<code class="codeph">pattern</code> ， <code class="codeph">replace</code> ， <code class="codeph">position</code> ， <code class="codeph">occurrence</code>和<code class="codeph">match_parameter</code>参数的方式<code class="codeph">REGEXP_REPLACE</code> 。有关<code class="codeph">REGEXP_REPLACE</code> SQL函数的信息，请参见<a href="../sqlrf/REGEXP_REPLACE.html#SQLRF06302" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a> 。
                                    </p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p><code class="codeph">regexp_pattern</code> ：描述必须匹配的数据的搜索模式。如果找到匹配项，则Oracle数据库将替换<code class="codeph">regexp_replace_string</code>设置指定的数据。有关更多信息，请参阅以下部分：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><a href="configuring-oracle-data-redaction-policies.html#GUID-C5B270A8-B16E-49A1-9650-E928F2BCB3C4" title="DBMS_REDACT.ADD_POLICY过程regexp_pattern和regexp_replace_string参数都支持格式。">使用格式的基于正则表达式的编校策略</a></p>
                                 </li>
                                 <li>
                                    <p><a href="configuring-oracle-data-redaction-policies.html#GUID-F2A484AE-9209-4F71-A2E3-CBCECAD5DD4C" title="您可以在数据编辑策略中自定义正则表达式。">自定义正则表达式编校策略</a></p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p><code class="codeph">regexp_replace_string</code> ：指定要如何替换要编辑的数据。有关更多信息，请参阅以下部分：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><a href="configuring-oracle-data-redaction-policies.html#GUID-C5B270A8-B16E-49A1-9650-E928F2BCB3C4" title="DBMS_REDACT.ADD_POLICY过程regexp_pattern和regexp_replace_string参数都支持格式。">使用格式的基于正则表达式的编校策略</a></p>
                                 </li>
                                 <li>
                                    <p><a href="configuring-oracle-data-redaction-policies.html#GUID-F2A484AE-9209-4F71-A2E3-CBCECAD5DD4C" title="您可以在数据编辑策略中自定义正则表达式。">自定义正则表达式编校策略</a></p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p><code class="codeph">regexp_position</code> ：指定字符串搜索的起始位置。您输入的值必须是一个正整数，表示Oracle数据库应开始搜索的<code class="codeph">column_name</code>数据的字符。默认值为<code class="codeph">1</code>或<code class="codeph">DBMS_REDACT.RE_BEGINNING</code>格式，表示Oracle数据库以<code class="codeph">column_name</code>数据的第一个字符开始搜索。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">regexp_occurrence</code> ：指定如何执行搜索和替换操作。您输入的值必须是一个非负整数，表示替换操作的发生：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>如果指定<code class="codeph">0</code>或<code class="codeph">DBMS_REDACT.RE_ALL</code>格式，则Oracle数据库将替换匹配的所有匹配项。
                                    </p>
                                 </li>
                                 <li>
                                    <p>如果指定<code class="codeph">DBMS_REDACT.RE_FIRST</code>格式，则Oracle数据库将替换第一次匹配。
                                    </p>
                                 </li>
                                 <li>
                                    <p>如果指定正整数<span class="italic"><code class="codeph">n</code></span> ，则Oracle数据库将替换匹配的第<span class="italic"><code class="codeph">n</code></span>个匹配项。
                                    </p>
                                 </li>
                              </ul>
                              <p>如果出现次数大于1，则数据库将搜索第二次出现，从第一次出现模式后的第一个字符开始，依此类推。</p>
                           </li>
                           <li>
                              <p><code class="codeph">regexp_match_parameter</code> ：指定允许您更改函数的默认匹配行为的文本文字。此参数的行为与<code class="codeph">REGEXP_REPLACE</code> SQL函数的行为相同。有关详细信息，请参见<a href="../sqlrf/REGEXP_REPLACE.html#SQLRF06302" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a> 。
                              </p>
                              <p>要过滤搜索以使其不区分大小写，请指定<code class="codeph">RE_CASE_INSENSITIVE</code>格式。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-1C20F828-2922-4846-8536-CC667B65FD01" title="基于正则表达式的编校策略使您可以基于搜索和替换模型编辑数据。">创建基于正则表达式的编校策略</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ASOAG10565"></a><div class="props_rev_3"><a id="GUID-C5B270A8-B16E-49A1-9650-E928F2BCB3C4" name="GUID-C5B270A8-B16E-49A1-9650-E928F2BCB3C4"></a><h4 id="ASOAG-GUID-C5B270A8-B16E-49A1-9650-E928F2BCB3C4" class="sect4">使用格式的基于正则表达式的编校策略</h4>
                  <div>
                     <p>该<code class="codeph">DBMS_REDACT.ADD_POLICY</code>程序<code class="codeph">regexp_pattern</code>和<code class="codeph">regexp_replace_string</code>参数都支持的格式。
                     </p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-A532021D-B1E0-46EE-B84E-3C9882D19B21">正则表达式格式</a><br>正则表达式格式表示常用表达式，例如替换信用卡号中的数字。
                        </li>
                        <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-4ACBFFF5-175D-4A05-B4B4-A18C12B2E325">示例：使用格式的正则表达式编校策略</a><br><span class="apiname" translate="no">DBMS_REDACT.ADD_POLICY</span>过程可以创建使用格式的正则表达式编校策略。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-1C20F828-2922-4846-8536-CC667B65FD01" title="基于正则表达式的编校策略使您可以基于搜索和替换模型编辑数据。">创建基于正则表达式的编校策略</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ASOAG10567"></a><a id="ASOAG10568"></a><a id="ASOAG10566"></a><div class="props_rev_3"><a id="GUID-A532021D-B1E0-46EE-B84E-3C9882D19B21" name="GUID-A532021D-B1E0-46EE-B84E-3C9882D19B21"></a><h5 id="ASOAG-GUID-A532021D-B1E0-46EE-B84E-3C9882D19B21" class="sect5">正则表达式格式</h5>
                     <div>
                        <p>正则表达式格式表示常用表达式，例如替换信用卡号中的数字。</p>
                        <div class="section">
                           <p><a href="configuring-oracle-data-redaction-policies.html#GUID-A532021D-B1E0-46EE-B84E-3C9882D19B21__CEGIICIG" title="正则表达式regexp_pattern格式。从左到右的列是格式和描述。">表13-9</a>介绍了可与使用格式<code class="codeph">regexp_pattern</code>的参数<code class="codeph">DBMS_REDACT.ADD_POLICY</code>程序。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformal" id="GUID-A532021D-B1E0-46EE-B84E-3C9882D19B21__CEGIICIG">
                           <p class="titleintable">表13-9 regexp_pattern参数的格式</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="regexp_pattern参数的格式" width="100%" border="1" summary="Regular Expression regexp_pattern Formats. Columns from left to right are Format and Description." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="47%" id="d57023e10066">格式</th>
                                    <th align="left" valign="bottom" width="53%" id="d57023e10069">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="47%" id="d57023e10074" headers="d57023e10066 ">
                                       <p><code class="codeph">DBMS_REDACT.RE_PATTERN_ANY_DIGIT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="53%" headers="d57023e10074 d57023e10069 ">
                                       <p>搜索任何数字。使用<code class="codeph">regexp_replace_string</code>参数指定的字符替换标识的模式。所述<code class="codeph">DBMS_REDACT.RE_PATTERN_ANY_DIGIT</code>通常与以下值使用<code class="codeph">regexp_replace_string</code>参数：</p><pre class="oac_no_warn" dir="ltr">regexp_replace_string =&gt; DBMS_REDACT.RE_REDACT_WITH_SINGLE_X，</pre><p>此设置将任何匹配的数字替换为<code class="codeph">X</code>字符。
                                       </p>
                                       <p>以下设置用<code class="codeph">1</code>字符替换任何匹配的数字。
                                       </p><pre class="oac_no_warn" dir="ltr">regexp_replace_string =&gt; DBMS_REDACT.RE_REDACT_WITH_SINGLE_1，</pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="47%" id="d57023e10105" headers="d57023e10066 ">
                                       <p><code class="codeph">DBMS_REDACT.RE_PATTERN_CC_L6_T4</code></p>
                                    </td>
                                    <td align="left" valign="top" width="53%" headers="d57023e10105 d57023e10069 ">
                                       <p>搜索具有6个前导数字和4个尾随数字的任何信用卡（美国运通除外）的中间数字。使用<code class="codeph">regexp_replace_string</code>参数指定的字符替换标识的模式。
                                       </p>
                                       <p>适当<code class="codeph">regexp_replace_string</code>设置与此格式使用的是<code class="codeph">DBMS_REDACT.RE_REDACT_CC_MIDDLE_DIGITS</code> ，其发现的任何信用卡，可能有6领先和4个结尾数字保留为<a href="glossary.html#GUID-82E2FC6D-718F-4367-9D7E-DC130F360FC3"><span class="xrefglossterm">实际数据</span></a> 。然后它编辑中间数字。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="47%" id="d57023e10128" headers="d57023e10066 ">
                                       <p><code class="codeph">DBMS_REDACT.RE_PATTERN_CCN</code></p>
                                    </td>
                                    <td align="left" valign="top" width="53%" headers="d57023e10128 d57023e10069 ">
                                       <p>匹配美国运通信用卡号码以外的信用卡号码。适当<code class="codeph">regexp_replace_string</code>这种格式使用的设置是<code class="codeph">DBMS_REDACT.RE_REDACT_CCN</code> 。最终结果是除了最后4位之外的所有数字的编辑。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="47%" id="d57023e10142" headers="d57023e10066 ">
                                       <p><code class="codeph">DBMS_REDACT.RE_PATTERN_AMEX_CCN</code></p>
                                    </td>
                                    <td align="left" valign="top" width="53%" headers="d57023e10142 d57023e10069 ">
                                       <p>匹配美国运通信用卡号码。适当<code class="codeph">regexp_replace_string</code>这种格式使用的设置是<code class="codeph">DBMS_REDACT.RE_REDACT_AMEX_CCN</code> 。最终结果是除最后5个之外的所有数字的编辑。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="47%" id="d57023e10156" headers="d57023e10066 ">
                                       <p><code class="codeph">DBMS_REDACT.RE_PATTERN_US_PHONE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="53%" headers="d57023e10156 d57023e10069 ">
                                       <p>搜索任何美国电话号码。使用<code class="codeph">regexp_replace_string</code>参数指定的字符替换标识的模式</p>
                                       <p>适当<code class="codeph">regexp_replace_string</code>设置与此格式使用的是<code class="codeph">DBMS_REDACT.RE_REDACT_US_PHONE_L7</code> ，它发现美国的电话号码，然后重新编辑的最后7个位数。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="47%" id="d57023e10175" headers="d57023e10066 ">
                                       <p><code class="codeph">DBMS_REDACT.RE_PATTERN_EMAIL_ADDRESS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="53%" headers="d57023e10175 d57023e10069 ">
                                       <p>搜索任何电子邮件地址。使用<code class="codeph">regexp_replace_string</code>参数指定的字符替换标识的模式</p>
                                       <p>您可以使用此格式的相应<code class="codeph">regexp_replace_string</code>设置如下：</p>
                                       <p><code class="codeph">RE_REDACT_EMAIL_NAME</code> ，可找到任何电子邮件地址并编辑电子邮件用户名</p>
                                       <p><code class="codeph">RE_REDACT_EMAIL_DOMAIN</code> ，查找任何电子邮件地址并编辑电子邮件域</p>
                                       <p><code class="codeph">RE_REDACT_EMAIL_ENTIRE</code> ，查找任何电子邮件地址并编辑整个电子邮件地址</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="47%" id="d57023e10203" headers="d57023e10066 ">
                                       <p><code class="codeph">DBMS_REDACT.RE_PATTERN_IP_ADDRESS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="53%" headers="d57023e10203 d57023e10069 ">
                                       <p>搜索IP地址。使用<code class="codeph">regexp_replace_string</code>参数指定的字符替换标识的模式。
                                       </p>
                                       <p>适当<code class="codeph">regexp_replace_string</code>设置与此格式使用的是<code class="codeph">DBMS_REDACT.RE_REDACT_IP_L3</code> ，它与字符取代了IP地址的点分十进制字符串表示的最后一节<code class="codeph">999</code> ，以表示它是节录。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="section">
                           <p><a href="configuring-oracle-data-redaction-policies.html#GUID-A532021D-B1E0-46EE-B84E-3C9882D19B21__CEGCIBHA" title="regexp_replace_string参数格式。从左到右的列是格式和描述">表13-10</a>介绍了可与使用格式<code class="codeph">regexp_replace_string</code>的参数<code class="codeph">DBMS_REDACT.ADD_POLICY</code>程序。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="tblformal" id="GUID-A532021D-B1E0-46EE-B84E-3C9882D19B21__CEGCIBHA">
                           <p class="titleintable">表13-10 regexp_replace_string参数的格式</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="regexp_replace_string参数的格式" width="100%" border="1" summary="regexp_replace_string parameter formats. Columns from left to right are Format and Description" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="48%" id="d57023e10247">格式</th>
                                    <th align="left" valign="bottom" width="52%" id="d57023e10250">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="48%" id="d57023e10255" headers="d57023e10247 ">
                                       <p><code class="codeph">DBMS_REDACT.RE_REDACT_WITH_SINGLE_X</code></p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d57023e10255 d57023e10250 ">
                                       <p>为每个<a href="glossary.html#GUID-82E2FC6D-718F-4367-9D7E-DC130F360FC3"><span class="xrefglossterm">实际数据</span></a>字符替换单个<code class="codeph">X</code>字符的<a href="glossary.html#GUID-82E2FC6D-718F-4367-9D7E-DC130F360FC3"><span class="xrefglossterm">数据</span></a> 。例如，信用卡号<code class="codeph">5105 1051 0510 5100</code>可以替换为<code class="codeph">XXXX XXXX XXXX XXXX</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="48%" id="d57023e10276" headers="d57023e10247 ">
                                       <p><code class="codeph">DBMS_REDACT.RE_REDACT_WITH_SINGLE_1</code></p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d57023e10276 d57023e10250 ">
                                       <p>为每个实际数据数字替换单个<code class="codeph">1</code>位数据。例如，信用卡号<code class="codeph">5105 1051 0510 5100</code>可以用<code class="codeph">1111 1111 1111 1111</code>代替。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="48%" id="d57023e10293" headers="d57023e10247 ">
                                       <p><code class="codeph">DBMS_REDACT.RE_REDACT_CC_MIDDLE_DIGITS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d57023e10293 d57023e10250 ">
                                       <p>通过使用<code class="codeph">RE_PATTERN_CC_L6_T4</code>格式设置<code class="codeph">regexp_pattern</code>参数来指定信用卡号中的中间数字。编辑用<code class="codeph">X</code>替换每个编辑的字符。例如，信用卡号<code class="codeph">5105 1051 0510 5100</code>可以用<code class="codeph">5105 10XX XXXX 5100</code>代替。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="48%" id="d57023e10316" headers="d57023e10247 ">
                                       <p><code class="codeph">DBMS_REDACT.RE_REDACT_CCN</code></p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d57023e10316 d57023e10250 ">
                                       <p>对美国运通卡号以外的信用卡号码的前12位进行编辑。例如， <code class="codeph">4012888888881881</code>被编辑为<code class="codeph">************1881</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="48%" id="d57023e10330" headers="d57023e10247 ">
                                       <p><code class="codeph">DBMS_REDACT.RE_REDACT_AMEX_CCN</code></p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d57023e10330 d57023e10250 ">
                                       <p>编辑美国运通号码的前10位数字。例如， <code class="codeph">378282246310005</code>被编辑为<code class="codeph">**********10005</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="48%" id="d57023e10344" headers="d57023e10247 ">
                                       <p><code class="codeph">DBMS_REDACT.RE_REDACT_PHONE_L7</code></p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d57023e10344 d57023e10250 ">
                                       <p>通过使用<code class="codeph">RE_PATTERN_US_PHONE</code>格式设置<code class="codeph">regexp_pattern</code>参数来指定，编辑美国电话号码的最后7位数字。编辑用<code class="codeph">X</code>替换每个编辑的字符。此设置仅适用于带连字符的电话号码，而不适用于带空格的电话号码。例如，电话号码<code class="codeph">415-555-0100</code>可以用<code class="codeph">415-XXX-XXXX</code>替换。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="48%" id="d57023e10367" headers="d57023e10247 ">
                                       <p><code class="codeph">DBMS_REDACT.RE_REDACT_EMAIL_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d57023e10367 d57023e10250 ">
                                       <p>通过使用<code class="codeph">RE_PATTERN_EMAIL_ADDRESS</code>格式设置<code class="codeph">regexp_pattern</code>参数来<code class="codeph">RE_PATTERN_EMAIL_ADDRESS</code>指定的电子邮件名称。编辑用四个<code class="codeph">x</code>字符替换电子邮件用户名。例如，电子邮件地址<code class="codeph">psmith@example.com</code>可以替换为<code class="codeph">xxxx@example.com</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="48%" id="d57023e10390" headers="d57023e10247 ">
                                       <p><code class="codeph">DBMS_REDACT.RE_REDACT_EMAIL_DOMAIN</code></p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d57023e10390 d57023e10250 ">
                                       <p>通过使用<code class="codeph">RE_PATTERN_EMAIL_ADDRESS</code>格式设置<code class="codeph">regexp_pattern</code>参数来<code class="codeph">RE_PATTERN_EMAIL_ADDRESS</code>指定的电子邮件域名。编辑用五个<code class="codeph">x</code>字符替换域。例如，电子邮件地址<code class="codeph">psmith@example.com</code>可以替换为<code class="codeph">psmith@xxxxx.com</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="48%" id="d57023e10413" headers="d57023e10247 ">
                                       <p><code class="codeph">DBMS_REDACT.RE_REDACT_IP_L3</code></p>
                                    </td>
                                    <td align="left" valign="top" width="52%" headers="d57023e10413 d57023e10250 ">
                                       <p>通过使用<code class="codeph">RE_PATTERN_IP_ADDRESS</code>格式设置<code class="codeph">regexp_pattern</code>参数来<code class="codeph">RE_PATTERN_IP_ADDRESS</code>指定的IP地址的最后三位数字。例如，IP地址<code class="codeph">192.0.2.254</code>可以替换为<code class="codeph">192.0.2.999</code> ，这是一个无效的IP地址。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="section"></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-A532021D-B1E0-46EE-B84E-3C9882D19B21__GUID-EB6C9633-2A80-4FC3-B4F4-17451EA48EDA">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="configuring-oracle-data-redaction-policies.html#GUID-D32FC6CA-A3B5-47EE-B288-52F1124F9FBD" title="To create a Data Redaction policy, you must use the DBMS_REDACT.ADD_POLICY procedure.">DBMS_REDACT.ADD_POLICY的常规语法</a>有关其他<code class="codeph">DBMS_REDACT.ADD_POLICY</code>参数的信息的<a href="configuring-oracle-data-redaction-policies.html#GUID-D32FC6CA-A3B5-47EE-B288-52F1124F9FBD" title="若要创建数据编辑策略，必须使用DBMS_REDACT.ADD_POLICY过程。">过程</a></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-C5B270A8-B16E-49A1-9650-E928F2BCB3C4" title="DBMS_REDACT.ADD_POLICY过程regexp_pattern和regexp_replace_string参数都支持格式。">使用格式的基于正则表达式的编校策略</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ASOAG894"></a><a id="ASOAG10569"></a><div class="props_rev_3"><a id="GUID-4ACBFFF5-175D-4A05-B4B4-A18C12B2E325" name="GUID-4ACBFFF5-175D-4A05-B4B4-A18C12B2E325"></a><h5 id="ASOAG-GUID-4ACBFFF5-175D-4A05-B4B4-A18C12B2E325" class="sect5">示例：使用格式的正则表达式编校策略</h5>
                     <div>
                        <p><span class="apiname" translate="no">DBMS_REDACT.ADD_POLICY</span>过程可以创建使用格式的正则表达式编校策略。
                        </p>
                        <p><a href="configuring-oracle-data-redaction-policies.html#GUID-4ACBFFF5-175D-4A05-B4B4-A18C12B2E325__CACFBCEF">例13-8</a>显示了如何使用正则表达式格式来编辑信用卡号。
                        </p>
                        <div class="example" id="GUID-4ACBFFF5-175D-4A05-B4B4-A18C12B2E325__CACFBCEF">
                           <p class="titleinexample">示例13-8正则表达式数据编校字符值</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_REDACT.ADD_POLICY（object_schema =&gt;'mavis'，object_name =&gt;'cust_info'，column_name =&gt;'cc_num'，policy_name =&gt;'redact_cust_cc_nums'，function_type =&gt; DBMS_REDACT.REGEXP，function_parameters =&gt; NULL，expression =&gt;'1 = 1' ，regexp_pattern =&gt; DBMS_REDACT.RE_PATTERN_CC_L6_T4，regexp_replace_string =&gt; DBMS_REDACT.RE_REDACT_CC_MIDDLE_DIGITS，regexp_position =&gt; DBMS_REDACT.RE_BEGINNING，regexp_occurrence =&gt; DBMS_REDACT.RE_FIRST，regexp_match_parameter =&gt; DBMS_REDACT.RE_CASE_INSENSITIVE，policy_description =&gt;“正则表达式纂信用卡号码'，column_description =&gt;'cc_num包含客户信用卡号'）;结束; /</pre><p>查询和编辑结果：</p><pre class="oac_no_warn" dir="ltr">SELECT cc_num FROM mavis.cust_info; CC_NUM ------- 401288XXXXXX1881 411111XXXXXX1111 555555XXXXXX1111 511111XXXXXX1118</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-C5B270A8-B16E-49A1-9650-E928F2BCB3C4" title="DBMS_REDACT.ADD_POLICY过程regexp_pattern和regexp_replace_string参数都支持格式。">使用格式的基于正则表达式的编校策略</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ASOAG10570"></a><div class="props_rev_3"><a id="GUID-F2A484AE-9209-4F71-A2E3-CBCECAD5DD4C" name="GUID-F2A484AE-9209-4F71-A2E3-CBCECAD5DD4C"></a><h4 id="ASOAG-GUID-F2A484AE-9209-4F71-A2E3-CBCECAD5DD4C" class="sect4">自定义正则表达式编校策略</h4>
                  <div>
                     <p>您可以在数据编辑策略中自定义正则表达式。</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-B12EB935-7255-4A31-A222-1812EDB91AF6">自定义正则表达式的设置</a><br>Oracle Data Redaction提供了特殊设置来配置使用正则表达式的策略。
                        </li>
                        <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-1AB29DE7-F313-487F-872D-8440FA590616">示例：自定义正则表达式编校策略</a><br><code class="codeph">DBMS_REDACT.ADD_POLICY</code>过程<span class="apiname" translate="no">regexp</span> *参数可以创建自定义正则表达式编校策略。
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-1C20F828-2922-4846-8536-CC667B65FD01" title="基于正则表达式的编校策略使您可以基于搜索和替换模型编辑数据。">创建基于正则表达式的编校策略</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ASOAG10571"></a><div class="props_rev_3"><a id="GUID-B12EB935-7255-4A31-A222-1812EDB91AF6" name="GUID-B12EB935-7255-4A31-A222-1812EDB91AF6"></a><h5 id="ASOAG-GUID-B12EB935-7255-4A31-A222-1812EDB91AF6" class="sect5">自定义正则表达式的设置</h5>
                     <div>
                        <p>Oracle Data Redaction提供了特殊设置来配置使用正则表达式的策略。</p>
                        <div class="section">
                           <p>若要创建自定义正则表达式编校策略，请在<code class="codeph">DBMS_REDACT.ADD_POLICY</code>过程中使用以下参数：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">regexp_pattern</code> ：此模式通常是文本文字，可以是任何数据类型<code class="codeph">CHAR</code> ， <code class="codeph">VARCHAR2</code> ， <code class="codeph">NCHAR</code>或<code class="codeph">NVARCHAR2</code> 。该模式最多可包含512个字节。有关为<code class="codeph">regexp_pattern</code>参数编写正则表达式的更多信息，请参阅<a href="../sqlrf/Oracle-Regular-Expression-Support.html#SQLRF020" target="_blank"><span><cite>Oracle数据库SQL语言参考中</cite></span></a> <code class="codeph">REGEXP_REPLACE</code> SQL函数的<code class="codeph">pattern</code>参数的说明，因为Data Redaction为正则表达式匹配提供的支持类似于<code class="codeph">REGEXP_REPLACE</code> SQL函数。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">regexp_replace_string</code> ：此数据可以是任何数据类型<code class="codeph">CHAR</code> ， <code class="codeph">VARCHAR2</code> ， <code class="codeph">NCHAR</code>或<code class="codeph">NVARCHAR2</code> 。<code class="codeph">regexp_replace_string</code>最多可以包含对表达式为<code class="codeph">\</code> <span class="italic"><code class="codeph">n</code></span>子表达式的500个反向引用，其中<span class="italic"><code class="codeph">n</code></span>是1到9之间的数字。如果要在<code class="codeph">regexp_replace_string</code>设置中包含反斜杠（\），则必须在其前面加上转义字符，也就是反斜杠。例如，要将匹配的模式替换为<code class="codeph">\2</code> （而不是将其替换为匹配模式的第二个匹配的子表达式），请在<code class="codeph">regexp_replace_string</code>设置中输入<code class="codeph">\\2</code> 。有关更多信息，请参见<a href="../sqlrf/Multilingual-Regular-Expression-Syntax.html#SQLRF55541" target="_blank"><span><cite>Oracle数据库SQL语言参考</cite></span></a> 。
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-B12EB935-7255-4A31-A222-1812EDB91AF6__GUID-BE19B7C2-A620-468F-960B-3A5C6CAE6707">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="configuring-oracle-data-redaction-policies.html#GUID-D32FC6CA-A3B5-47EE-B288-52F1124F9FBD" title="To create a Data Redaction policy, you must use the DBMS_REDACT.ADD_POLICY procedure.">DBMS_REDACT.ADD_POLICY的常规语法</a>有关其他<code class="codeph">DBMS_REDACT.ADD_POLICY</code>参数的信息的<a href="configuring-oracle-data-redaction-policies.html#GUID-D32FC6CA-A3B5-47EE-B288-52F1124F9FBD" title="若要创建数据编辑策略，必须使用DBMS_REDACT.ADD_POLICY过程。">过程</a></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-F2A484AE-9209-4F71-A2E3-CBCECAD5DD4C" title="您可以在数据编辑策略中自定义正则表达式。">自定义正则表达式编校策略</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ASOAG819"></a><a id="ASOAG10572"></a><div class="props_rev_3"><a id="GUID-1AB29DE7-F313-487F-872D-8440FA590616" name="GUID-1AB29DE7-F313-487F-872D-8440FA590616"></a><h5 id="ASOAG-GUID-1AB29DE7-F313-487F-872D-8440FA590616" class="sect5">示例：自定义正则表达式编校策略</h5>
                     <div>
                        <p><code class="codeph">DBMS_REDACT.ADD_POLICY</code>过程<span class="apiname" translate="no">regexp</span> *参数可以创建自定义正则表达式编校策略。
                        </p>
                        <p><a href="configuring-oracle-data-redaction-policies.html#GUID-1AB29DE7-F313-487F-872D-8440FA590616__CACJBDAI">例13-9</a>显示了如何使用正则表达式来编辑<code class="codeph">emp_id</code>列数据。在此示例中， <code class="codeph">regexp_pattern</code>和<code class="codeph">regexp_replace_string</code>参数合在一起执行以下操作：首先，查找9位数的模式。作为参考，将它们分成三组，包含前3个，后2个，然后是最后4个数字。然后，将所有9位数字替换为与原始模式中找到的第三组（最后4位数字）连接的<code class="codeph">XXXXX</code> 。
                        </p>
                        <p>查询和编辑结果：</p><pre class="oac_no_warn" dir="ltr">SELECT emp_id FROM mavis.cust_info; EMP_ID ------------ XXXXX1234 XXXXX5678</pre><div class="example" id="GUID-1AB29DE7-F313-487F-872D-8440FA590616__CACJBDAI">
                           <p class="titleinexample">示例13-9使用正则表达式进行部分编辑的数据编辑</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_REDACT.ADD_POLICY（object_schema =&gt;'mavis'，object_name =&gt;'cust_info'，column_name =&gt;'emp_id'，policy_name =&gt;'redact_cust_ids'，function_type =&gt; DBMS_REDACT.REGEXP，expression =&gt;'1 = 1'，regexp_pattern =&gt;'（\ d \ d \ d）（\ d \ d）（\ d \ d \ d \ d）'，regexp_replace_string =&gt;'XXXXX \ 3'，regexp_position =&gt; 1，regexp_occurrence =&gt; 0，regexp_match_parameter = &gt;'i'，policy_description =&gt;'使用正则表达式编辑客户ID'，column_description =&gt;'emp_id包含员工ID号'）;结束; /</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-F2A484AE-9209-4F71-A2E3-CBCECAD5DD4C" title="您可以在数据编辑策略中自定义正则表达式。">自定义正则表达式编校策略</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
            </div><a id="ASOAG10573"></a><div class="props_rev_3"><a id="GUID-E697C12B-1121-4C3D-B895-1587AF4CA218" name="GUID-E697C12B-1121-4C3D-B895-1587AF4CA218"></a><h3 id="ASOAG-GUID-E697C12B-1121-4C3D-B895-1587AF4CA218" class="sect3">创建随机编校策略</h3>
               <div>
                  <p>随机编校策略将编辑后的数据显示为随机生成的值，例如<code class="codeph">Ukjsl32[[]]]s</code> 。
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-24C5D8B5-C6BC-40FB-9C68-126835AB03EA">创建随机编校策略的语法</a><br>随机编校策略根据列数据类型将编辑后的数据作为随机生成的值呈现给查询应用程序用户。
                     </li>
                     <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-0C9A49C4-EAF7-4566-B8C9-4808314050DD">示例：随机编校策略</a><br>您可以使用<span class="apiname" translate="no">DBMS_REDACT.ADD_POLICY</span> PL / SQL过程创建随机编校策略。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-78C0ECD1-388C-4E12-87C3-32FBC05F294D" title="Oracle Data Redaction策略定义了如何根据表列类型和要使用的编辑类型来编辑列中的数据。">配置Oracle数据编校策略</a></p>
                     </div>
                  </div>
               </div>
               <a id="ASOAG10575"></a><div class="props_rev_3"><a id="GUID-24C5D8B5-C6BC-40FB-9C68-126835AB03EA" name="GUID-24C5D8B5-C6BC-40FB-9C68-126835AB03EA"></a><h4 id="ASOAG-GUID-24C5D8B5-C6BC-40FB-9C68-126835AB03EA" class="sect4">创建随机编校策略的语法</h4>
                  <div>
                     <p>随机编校策略根据列数据类型将编辑后的数据作为随机生成的值呈现给查询应用程序用户。</p>
                     <div class="section">
                        <p>请注意，不支持LOB列。</p>
                        <p>用于创建随机编校策略的<code class="codeph">DBMS_REDACT.ADD_POLICY</code>字段如下：</p><pre class="oac_no_warn" dir="ltr">DBMS_REDACT.ADD_POLICY（object_schema IN VARCHAR2：= NULL，object_name IN VARCHAR2，column_name IN VARCHAR2：= NULL，policy_name IN VARCHAR2，function_type IN BINARY_INTEGER：= NULL，expression IN VARCHAR2，enable IN BOOLEAN：= TRUE）;</pre><p>在本规范中：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">object_schema</code> ， <code class="codeph">object_name</code> ， <code class="codeph">column_name</code> ， <code class="codeph">policy_name</code> ， <code class="codeph">expression</code> ， <code class="codeph">enable</code> ：请参见<a href="configuring-oracle-data-redaction-policies.html#GUID-D32FC6CA-A3B5-47EE-B288-52F1124F9FBD" title="若要创建数据编辑策略，必须使用DBMS_REDACT.ADD_POLICY过程。">DBMS_REDACT.ADD_POLICY过程的常规语法</a> 。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">function_type</code> ：指定用于设置编校类型的函数。输入<code class="codeph">DBMS_REDACT.RANDOM</code> 。</p>
                              <p>如果省略<code class="codeph">function_type</code>参数，则默认的redaction <code class="codeph">function_type</code>设置为<code class="codeph">DBMS_REDACT.FULL</code> 。</p>
                              <p>请记住，列的数据类型确定允许使用哪些<code class="codeph">function_type</code>设置。请参阅<a href="oracle-data-redaction-features-and-capabilities.html#GUID-F7E1C148-8C15-4F18-91BA-878A90284D12" title="完整，部分和随机数据编校样式以不同方式影响Oracle内置，ANSI，用户定义和Oracle提供的类型。">基于数据类型的完整，部分和随机编校的比较</a> 。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-E697C12B-1121-4C3D-B895-1587AF4CA218" title="随机编校策略将编辑后的数据显示为随机生成的值，例如Ukjsl32 [[]]]。">创建随机编校策略</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ASOAG720"></a><a id="ASOAG10576"></a><div class="props_rev_3"><a id="GUID-0C9A49C4-EAF7-4566-B8C9-4808314050DD" name="GUID-0C9A49C4-EAF7-4566-B8C9-4808314050DD"></a><h4 id="ASOAG-GUID-0C9A49C4-EAF7-4566-B8C9-4808314050DD" class="sect4">示例：随机编校策略</h4>
                  <div>
                     <p>您可以使用<span class="apiname" translate="no">DBMS_REDACT.ADD_POLICY</span> PL / SQL过程创建随机编校策略。
                     </p>
                     <p><a href="configuring-oracle-data-redaction-policies.html#GUID-0C9A49C4-EAF7-4566-B8C9-4808314050DD__CACCIIJJ">例13-10</a>显示了如何生成随机值。每次运行<code class="codeph">SELECT</code>语句时，输出都会不同。
                     </p>
                     <div class="example" id="GUID-0C9A49C4-EAF7-4566-B8C9-4808314050DD__CACCIIJJ">
                        <p class="titleinexample">示例13-10随机编辑的数据编校值</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_REDACT.ADD_POLICY（object_schema =&gt;'mavis'，object_name =&gt;'cust_info'，column_name =&gt;'login_username'，policy_name =&gt;'redact_cust_rand_username'，function_type =&gt; DBMS_REDACT.RANDOM，expression =&gt;'SYS_CONTEXT（''USERENV' '，''SESSION_USER''）='''APP_USER'''）;结束; /</pre><p>查询和编辑结果：</p><pre class="oac_no_warn" dir="ltr">SELECT login_username FROM mavis.cust_info; LOGIN_USERNAME -------------- N [CG {\ pTVcK</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-E697C12B-1121-4C3D-B895-1587AF4CA218" title="随机编校策略将编辑后的数据显示为随机生成的值，例如Ukjsl32 [[]]]。">创建随机编校策略</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ASOAG10577"></a><div class="props_rev_3"><a id="GUID-1EC4068F-7404-437F-BFFE-87917F2619DB" name="GUID-1EC4068F-7404-437F-BFFE-87917F2619DB"></a><h3 id="ASOAG-GUID-1EC4068F-7404-437F-BFFE-87917F2619DB" class="sect3">创建不使用编校的策略</h3>
               <div>
                  <p>您可以创建根本不使用编校的策略，以便在开发环境中测试策略时使用。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-6A3E8299-77E0-49C3-9C38-631517DC3CDA">创建没有编校的策略的语法</a><br>None redaction type选项可用于测试编校策略的内部操作。
                     </li>
                     <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-A18EAD3C-6C23-4514-9FC0-C4A4A3C47155">示例：不执行编辑</a><br><code class="codeph">DBMS_REDACT.ADD_POLICY</code>过程可以创建不执行编校的策略。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-78C0ECD1-388C-4E12-87C3-32FBC05F294D" title="Oracle Data Redaction策略定义了如何根据表列类型和要使用的编辑类型来编辑列中的数据。">配置Oracle数据编校策略</a></p>
                     </div>
                  </div>
               </div>
               <a id="ASOAG10579"></a><div class="props_rev_3"><a id="GUID-6A3E8299-77E0-49C3-9C38-631517DC3CDA" name="GUID-6A3E8299-77E0-49C3-9C38-631517DC3CDA"></a><h4 id="ASOAG-GUID-6A3E8299-77E0-49C3-9C38-631517DC3CDA" class="sect4">创建没有编校的策略的语法</h4>
                  <div>
                     <p>None redaction type选项可用于测试编校策略的内部操作。</p>
                     <p>无编辑类型对具有在其上定义的策略的表的查询结果没有影响。您可以使用此选项在将编校策略定义应用于生产环境之前对其进行测试。请注意，不支持LOB列。</p>
                     <p>用于创建不具有编校的策略的<code class="codeph">DBMS_REDACT.ADD_POLICY</code>字段如下：</p><pre class="oac_no_warn" dir="ltr">DBMS_REDACT.ADD_POLICY（object_schema IN VARCHAR2：= NULL，object_name IN VARCHAR2，column_name IN VARCHAR2：= NULL，policy_name IN VARCHAR2，function_type IN BINARY_INTEGER：= NULL，expression IN VARCHAR2，enable IN BOOLEAN：= TRUE）;</pre><p>在本规范中：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><code class="codeph">object_schema</code> ， <code class="codeph">object_name</code> ， <code class="codeph">column_name</code> ， <code class="codeph">policy_name</code> ， <code class="codeph">expression</code> ， <code class="codeph">enable</code> ：请参见<a href="configuring-oracle-data-redaction-policies.html#GUID-D32FC6CA-A3B5-47EE-B288-52F1124F9FBD" title="若要创建数据编辑策略，必须使用DBMS_REDACT.ADD_POLICY过程。">DBMS_REDACT.ADD_POLICY过程的常规语法</a> 。
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">function_type</code> ：指定用于设置数据编校类型的函数。输入<code class="codeph">DBMS_REDACT.NONE</code> 。</p>
                           <p>如果省略<code class="codeph">function_type</code>参数，则默认的redaction <code class="codeph">function_type</code>设置为<code class="codeph">DBMS_REDACT.FULL</code> 。</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-1EC4068F-7404-437F-BFFE-87917F2619DB" title="您可以创建根本不使用编校的策略，以便在开发环境中测试策略时使用。">创建不使用编校的策略</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ASOAG927"></a><a id="ASOAG10580"></a><div class="props_rev_3"><a id="GUID-A18EAD3C-6C23-4514-9FC0-C4A4A3C47155" name="GUID-A18EAD3C-6C23-4514-9FC0-C4A4A3C47155"></a><h4 id="ASOAG-GUID-A18EAD3C-6C23-4514-9FC0-C4A4A3C47155" class="sect4">示例：不执行编辑</h4>
                  <div>
                     <p><code class="codeph">DBMS_REDACT.ADD_POLICY</code>过程可以创建不执行编校的策略。
                     </p>
                     <p><a href="configuring-oracle-data-redaction-policies.html#GUID-A18EAD3C-6C23-4514-9FC0-C4A4A3C47155__CACEAABG">示例13-11</a>显示了如何创建不会编辑任何显示值的数据编辑策略。
                     </p>
                     <div class="example" id="GUID-A18EAD3C-6C23-4514-9FC0-C4A4A3C47155__CACEAABG">
                        <p class="titleinexample">示例13-11没有经过编辑的数据编校值</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_REDACT.ADD_POLICY（object_schema =&gt;'mavis'，object_name =&gt;'cust_info'，column_name =&gt;'user_name'，policy_name =&gt;'redact_cust_no_vals'，function_type =&gt; DBMS_REDACT.NONE，expression =&gt;'1 = 1'）;结束; /</pre><p>查询和编辑结果：</p><pre class="oac_no_warn" dir="ltr">SELECT user_name FROM mavis.cust_info; USER_NAME ---------- IDA NEAU</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-1EC4068F-7404-437F-BFFE-87917F2619DB" title="您可以创建根本不使用编校的策略，以便在开发环境中测试策略时使用。">创建不使用编校的策略</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ASOAG722"></a><div class="props_rev_3"><a id="GUID-ADFB7DCD-8543-400D-95A3-AA0976E75084" name="GUID-ADFB7DCD-8543-400D-95A3-AA0976E75084"></a><h3 id="ASOAG-GUID-ADFB7DCD-8543-400D-95A3-AA0976E75084" class="sect3">从Oracle数据编辑策略中豁免用户</h3>
               <div>
                  <p>您可以免除用户将Oracle Data Redaction策略应用于他们访问的数据。</p>
                  <p>为此，您应该授予用户<code class="codeph">EXEMPT REDACTION POLICY</code>系统特权。仅将此权限授予受信任的用户。
                  </p>
                  <p>除了被授予此权限的用户之外，用户<code class="codeph">SYS</code>还免除所有数据编辑策略。默认情况下，创建数据编辑策略的人员不能免除该策略，除非此人是用户<code class="codeph">SYS</code>或具有<code class="codeph">EXEMPT REDACTION POLICY</code>系统特权。
                  </p>
                  <p>请注意以下事项：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>对表具有<code class="codeph">INSERT</code>特权的用户可以将值插入到编辑列中，无论表上是否存在数据编辑策略。数据编辑仅影响用户发出的SQL <code class="codeph">SELECT</code>语句（即查询），并且不会影响用户发出的任何其他SQL，包括<code class="codeph">INSERT</code> ， <code class="codeph">UPDATE</code>或<code class="codeph">DELETE</code>语句。（有关此规则的例外，请参阅下一个项目。）
                        </p>
                     </li>
                     <li>
                        <p>用户无法执行<code class="codeph">CREATE TABLE AS SELECT</code> ，其中所选的任何列（源列）受Data Redaction策略保护（类似地，任何DML操作，其中源是编辑列），除非用户被授予<code class="codeph">EXEMPT REDACTION POLICY</code>系统特权。
                        </p>
                     </li>
                     <li>
                        <p><code class="codeph">EXEMPT REDACTION POLICY</code>系统特权包含在<code class="codeph">DBA</code>角色中，但必须明确授予用户此特权，因为它不包含在用于<code class="codeph">DBA</code>角色授予的<code class="codeph">WITH ADMIN OPTION</code>中。被授予<code class="codeph">DBA</code>角色的用户免于编校策略，因为<code class="codeph">DBA</code>角色包含<code class="codeph">EXP_FULL_DATABASE</code>角色，该角色被授予<code class="codeph">EXEMPT REDACTION POLICY</code>系统特权。
                        </p>
                     </li>
                  </ul>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="security-considerations-for-using-oracle-data-redaction.html#GUID-49898C42-C978-4872-A3B5-EE58AA0698D2" title="您可以限制可以创建，查看和编辑数据编辑策略的用户列表。">对Oracle Data Redaction策略的管理访问限制</a></li>
                        <li><a href="oracle-data-redaction-use-with-oracle-database-features.html#GUID-83544DD3-2903-4E6F-AD14-671E57CF41A9" title="DATAPUMP_EXP_FULL_DATABASE角色包括强大的EXEMPT REDACTION POLICY系统特权。">Oracle Data Redaction的Oracle数据泵安全模型</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-78C0ECD1-388C-4E12-87C3-32FBC05F294D" title="Oracle Data Redaction策略定义了如何根据表列类型和要使用的编辑类型来编辑列中的数据。">配置Oracle数据编校策略</a></p>
                     </div>
                  </div>
               </div>
            </div><a id="ASOAG737"></a><div class="props_rev_3"><a id="GUID-205D50FF-2210-4957-B06B-EF82D734C26A" name="GUID-205D50FF-2210-4957-B06B-EF82D734C26A"></a><h3 id="ASOAG-GUID-205D50FF-2210-4957-B06B-EF82D734C26A" class="sect3">更改Oracle数据编辑策略</h3>
               <div>
                  <p><code class="codeph">DBMS_REDACT.ALTER_POLICY</code>过程使您可以修改Oracle Data Redaction策略。
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-8D84FA87-45A3-454B-B904-53D6D0BC157C">关于更改Oracle数据编校策略</a><br><code class="codeph">DBMS_REDACT.ALTER_POLICY</code>过程会更改数据编辑策略。
                     </li>
                     <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-477A9C2A-D95D-48B6-9C38-88696D484248">DBMS_REDACT.ALTER_POLICY过程的语法</a><br><code class="codeph">DBMS_REDACT.ALTER_POLICY</code>过程语法可用于更改所有类型的数据编辑策略。
                     </li>
                     <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-10699D0C-10CE-441C-99D5-7FC6A13AC11A">DBMS_REDACT.ALTER_POLICY操作所需的参数</a><br><span class="apiname" translate="no">DBMS_REDACT.ALTER_POLICY</span>过程提供的参数可以执行各种操作，例如添加或修改列。
                     </li>
                     <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-914FB63A-CF14-408C-8715-A17CF605A9D6">教程：更改Oracle数据编辑策略</a><br>您可以在表或视图中编辑多个列，每个列都有自己的编校设置。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-78C0ECD1-388C-4E12-87C3-32FBC05F294D" title="Oracle Data Redaction策略定义了如何根据表列类型和要使用的编辑类型来编辑列中的数据。">配置Oracle数据编校策略</a></p>
                     </div>
                  </div>
               </div>
               <a id="ASOAG953"></a><div class="props_rev_3"><a id="GUID-8D84FA87-45A3-454B-B904-53D6D0BC157C" name="GUID-8D84FA87-45A3-454B-B904-53D6D0BC157C"></a><h4 id="ASOAG-GUID-8D84FA87-45A3-454B-B904-53D6D0BC157C" class="sect4">关于更改Oracle数据编校策略</h4>
                  <div>
                     <p><code class="codeph">DBMS_REDACT.ALTER_POLICY</code>过程会更改数据编辑策略。
                     </p>
                     <p>如果策略已启用，则您不需要先禁用它，并且在更改策略后，它将保持启用状态。</p>
                     <p>您可以通过查询发现现有数据编修政策的名称<code class="codeph">POLICY_NAME</code>的列<code class="codeph">REDACTION_POLICIES</code>数据字典视图，以及有关列，函数，并通过查询策略中指定的参数信息<code class="codeph">REDACTION_COLUMNS</code>视图。要查找使用完整数据编校的策略的当前值，可以查询<code class="codeph">REDACTION_VALUES_FOR_TYPE_FULL</code>数据字典视图。
                     </p>
                     <p><code class="codeph">action</code>参数指定要执行的修改类型。运行此过程时，至少必须包含<code class="codeph">object_name</code>和<code class="codeph">policy_name</code>参数。
                     </p>
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="security-considerations-for-using-oracle-data-redaction.html#GUID-18E46EB7-1535-44A0-8F3E-902C67197933" title="当视图的列上存在Oracle数据编辑策略，并且视图变为无效时，数据编辑策略在REDACTION_COLUMNS数据字典视图中仍然可见。">当视图无效时，REDACTION_COLUMNS数据字典查看行为</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-205D50FF-2210-4957-B06B-EF82D734C26A" title="DBMS_REDACT.ALTER_POLICY过程使您可以修改Oracle Data Redaction策略。">更改Oracle数据编辑策略</a></p>
                        </div>
                     </div>
                  </div>
               </div><a id="ASOAG954"></a><div class="props_rev_3"><a id="GUID-477A9C2A-D95D-48B6-9C38-88696D484248" name="GUID-477A9C2A-D95D-48B6-9C38-88696D484248"></a><h4 id="ASOAG-GUID-477A9C2A-D95D-48B6-9C38-88696D484248" class="sect4">DBMS_REDACT.ALTER_POLICY过程的语法</h4>
                  <div>
                     <p><code class="codeph">DBMS_REDACT.ALTER_POLICY</code>过程语法可用于更改所有类型的数据编辑策略。
                     </p>
                     <div class="section">
                        <p><code class="codeph">DBMS_REDACT.ALTER_POLICY</code>过程的语法如下：</p><pre class="oac_no_warn" dir="ltr">DBMS_REDACT.ALTER_POLICY（object_schema IN VARCHAR2：= NULL，object_name IN VARCHAR2：= NULL， <span class="italic"> </span> policy_name IN VARCHAR2，action IN BINARY_INTEGER：= DBMS_REDACT.ADD_COLUMN，column_name IN VARCHAR2：= NULL，function_type IN BINARY_INTEGER：= DBMS_REDACT.FULL，function_parameters IN VARCHAR2：= NULL，expression IN VARCHAR2：= NULL，regexp_pattern IN VARCHAR2：= NULL， regexp_replace_string IN VARCHAR2：= NULL，regexp_position IN BINARY_INTEGER：= NULL，regexp_occurrence IN BINARY_INTEGER：= NULL，regexp_match_parameter IN VARCHAR2：= NULL，policy_description IN VARCHAR2：= NULL，column_description IN VARCHAR2：= NULL）;</pre><p>在本规范中：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">action</code> ：输入以下值之一以定义要使用的操作类型：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">DBMS_REDACT.MODIFY_COLUMN</code>如果您计划更改<code class="codeph">column_name</code>的值。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">DBMS_REDACT.ADD_COLUMN</code>如果您打算添加一个新的列（除了那些已经受到政策保护的列）为密文。此设置是<code class="codeph">action</code>参数的默认设置。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">DBMS_REDACT.DROP_COLUMN</code>如果你想从列删除节录。
                                    </p>
                                 </li>
                                 <li>
                                    <p>如果您计划更改<code class="codeph">expression</code>值，则为<code class="codeph">DBMS_REDACT.MODIFY_EXPRESSION</code> 。每个策略只能有一个策略表达式。换句话说，在修改策略表达式时，您将使用新策略表达式替换现有策略表达式。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">DBMS_REDACT.SET_POLICY_DESCRIPTION</code>如果你想改变政策的说明。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">DBMS_REDACT.SET_COLUMN_DESCRIPTION</code>如果你想改变列的描述。
                                    </p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-477A9C2A-D95D-48B6-9C38-88696D484248__GUID-43982A25-8E13-418A-A6FA-FA5C2A196FC3">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="configuring-oracle-data-redaction-policies.html#GUID-10699D0C-10CE-441C-99D5-7FC6A13AC11A" title="DBMS_REDACT.ALTER_POLICY过程提供的参数可以执行各种操作，例如添加或修改列。">DBMS_REDACT.ALTER_POLICY操作所需的参数</a></p>
                           </li>
                           <li>
                              <p><a href="configuring-oracle-data-redaction-policies.html#GUID-D32FC6CA-A3B5-47EE-B288-52F1124F9FBD" title="To create a Data Redaction policy, you must use the DBMS_REDACT.ADD_POLICY procedure.">DBMS_REDACT.ADD_POLICY的常规语法</a>有关其余参数的信息的<a href="configuring-oracle-data-redaction-policies.html#GUID-D32FC6CA-A3B5-47EE-B288-52F1124F9FBD" title="若要创建数据编辑策略，必须使用DBMS_REDACT.ADD_POLICY过程。">过程</a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-205D50FF-2210-4957-B06B-EF82D734C26A" title="DBMS_REDACT.ALTER_POLICY过程使您可以修改Oracle Data Redaction策略。">更改Oracle数据编辑策略</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ASOAG10497"></a><a id="ASOAG10496"></a><div class="props_rev_3"><a id="GUID-10699D0C-10CE-441C-99D5-7FC6A13AC11A" name="GUID-10699D0C-10CE-441C-99D5-7FC6A13AC11A"></a><h4 id="ASOAG-GUID-10699D0C-10CE-441C-99D5-7FC6A13AC11A" class="sect4">DBMS_REDACT.ALTER_POLICY操作所需的参数</h4>
                  <div>
                     <p><span class="apiname" translate="no">DBMS_REDACT.ALTER_POLICY</span>过程提供的参数可以执行各种操作，例如添加或修改列。
                     </p>
                     <div class="section">
                        <p><a href="configuring-oracle-data-redaction-policies.html#GUID-10699D0C-10CE-441C-99D5-7FC6A13AC11A__CEGEGHHH" title="DBMS_REDACT.ALTER_POLICY变体">表13-11</a>显示了这些参数的组合。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-10699D0C-10CE-441C-99D5-7FC6A13AC11A__CEGEGHHH">
                        <p class="titleintable">表13-11各种DBMS_REDACT.ALTER_POLICY操作所需的参数</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="各种DBMS_REDACT.ALTER_POLICY操作所需的参数" width="100%" border="1" summary="DBMS_REDACT.ALTER_POLICY Variations" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="37%" id="d57023e12334">期望的改变</th>
                                 <th align="left" valign="bottom" width="63%" id="d57023e12337">要设置的参数</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d57023e12342" headers="d57023e12334 ">
                                    <p>添加或修改列</p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d57023e12342 d57023e12337 ">
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p><code class="codeph">action</code> （ <code class="codeph">DBMS_REDACT.MODIFY_COLUMN</code> ）</p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">列名</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">函式</code></p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">function_parameters</code> （如有必要）</p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">regexp</code> *（如有必要）</p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d57023e12374" headers="d57023e12334 ">
                                    <p>更改策略表达式</p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d57023e12374 d57023e12337 ">
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p><code class="codeph">action</code> （ <code class="codeph">DBMS_REDACT.MODIFY_EXPRESSION</code> ）</p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">表达</code></p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d57023e12392" headers="d57023e12334 ">
                                    <p>更改策略的描述</p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d57023e12392 d57023e12337 ">
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p><code class="codeph">action</code> （ <code class="codeph">DBMS_REDACT.SET_POLICY_DESCRIPTION</code> ）</p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">policy_description</code></p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d57023e12410" headers="d57023e12334 ">
                                    <p>更改列的说明</p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d57023e12410 d57023e12337 ">
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p><code class="codeph">action</code> （ <code class="codeph">DBMS_REDACT.SET_COLUMN_DESCRIPTION</code> ）</p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">column_description</code></p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d57023e12428" headers="d57023e12334 ">
                                    <p>删掉一列</p>
                                 </td>
                                 <td align="left" valign="top" width="63%" headers="d57023e12428 d57023e12337 ">
                                    <ul style="list-style-type:disc">
                                       <li>
                                          <p><code class="codeph">action</code> （ <code class="codeph">DBMS_REDACT.DROP_COLUMN</code> ）</p>
                                       </li>
                                       <li>
                                          <p><code class="codeph">列名</code></p>
                                       </li>
                                    </ul>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-205D50FF-2210-4957-B06B-EF82D734C26A" title="DBMS_REDACT.ALTER_POLICY过程使您可以修改Oracle Data Redaction策略。">更改Oracle数据编辑策略</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ASOAG955"></a><div class="props_rev_3"><a id="GUID-914FB63A-CF14-408C-8715-A17CF605A9D6" name="GUID-914FB63A-CF14-408C-8715-A17CF605A9D6"></a><h4 id="ASOAG-GUID-914FB63A-CF14-408C-8715-A17CF605A9D6" class="sect4">教程：更改Oracle数据编辑策略</h4>
                  <div>
                     <p>您可以在表或视图中编辑多个列，每个列都有自己的编校设置。</p>
                     <p>本节中的练习显示了如何修改数据编辑策略以便编辑多个列。它还显示了如何更改策略的<code class="codeph">expression</code>设置。要完成此任务，您必须分阶段运行<code class="codeph">DBMS_REDACT.ALTER_POLICY</code>过程。
                     </p>
                     <ol>
                        <li>
                           <p>以具有创建用户权限并授予其权限的用户身份进行连接。</p>
                           <p>例如：</p><pre class="oac_no_warn" dir="ltr">CONNECT sec_admin输入密码： <span class="italic">密码</span></pre></li>
                        <li>
                           <p>创建以下用户：</p><pre class="oac_no_warn" dir="ltr">GRANT创建会话给dr_admin IDENTIFIED BY <span class="italic">密码</span> ; GRANT创建会话到sales_rep IDENTIFIED BY <span class="italic">密码</span> ; GRANT创建会话到support_rep IDENTIFIED BY <span class="italic">密码</span> ;</pre></li>
                        <li>
                           <p>格兰特<code class="codeph">EXECUTE</code>对<code class="codeph">DBMS_REDACT</code> PL / SQL包到用户<code class="codeph">dr_admin</code> ：</p><pre class="oac_no_warn" dir="ltr">在DBMS_REDACT上执行GRANT EXECUTE到dr_admin;</pre></li>
                        <li>
                           <p>以用户<code class="codeph">OE</code>身份连接。</p><pre class="oac_no_warn" dir="ltr">CONNECT OE输入密码： <span class="italic">密码</span></pre></li>
                        <li>
                           <p>创建并填充包含客户信用卡信息的表。</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE cust_order_info（first_name varchar2（20），last_name varchar2（20），address varchar2（30），city varchar2（30），state varchar2（3），zip varchar2（5），cc_num varchar（19），cc_exp varchar2（7 ））; INSERT INTO cust_order_info VALUES（'Jane'，'Dough'，'39 Mockingbird Lane'，'San Francisco'，'CA'，94114，'5105 1051 0510 5100'，'10 / 2018'）; INSERT INTO cust_order_info VALUES（'Mary'，'Hightower'，'2319 Maple Street'，'Sonoma'，'CA'，95476，'5111 1111 1111 1118'，'03 / 2019'）; INSERT INTO cust_order_info VALUES（'Herbert'，'Donahue'，'292 Winsome Way'，'San Francisco'，'CA'，94117，'5454 5454 5454 5454'，'08 / 2018'）;</pre></li>
                        <li>
                           <div class="p">将<code class="codeph">cust_order_info</code>表的<code class="codeph">SELECT</code>权限授予<code class="codeph">sales_rep</code>和<code class="codeph">support_rep</code>用户。<pre class="oac_no_warn" dir="ltr">GRANT SELECT ON cust_order_info TO sales_rep，support_rep;</pre></div>
                        </li>
                        <li>
                           <p>以用户<code class="codeph">dr_admin</code>连接。
                           </p><pre class="oac_no_warn" dir="ltr">CONNECT dr_admin输入密码： <span class="italic">密码</span></pre></li>
                        <li>
                           <p>创建并启用策略来编辑信用卡号。</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_REDACT.ADD_POLICY（object_schema =&gt;'oe'，object_name =&gt;'cust_order_info'，column_name =&gt;'cc_num'，policy_name =&gt;'redact_cust_cc_info'，function_type =&gt; DBMS_REDACT.REGEXP，function_parameters =&gt; NULL，expression =&gt;'1 = 1'，regexp_pattern =&gt; DBMS_REDACT.RE_PATTERN_CCN，regexp_replace_string =&gt; DBMS_REDACT.RE_REDACT_CCN，regexp_position =&gt; NULL，regexp_occurrence =&gt; NULL，regexp_match_parameter =&gt; NULL，policy_description =&gt;'部分编辑信用卡信息'，column_description =&gt;'cc_num_number列表信用卡号码'）;结束; /</pre></li>
                        <li>
                           <div class="p">修改策略以包括过期日期的编辑。<pre class="oac_no_warn" dir="ltr">BEGIN DBMS_REDACT.ALTER_POLICY（object_schema =&gt;'oe'，object_name =&gt;'cust_order_info'，policy_name =&gt;'redact_cust_cc_info'，action =&gt; DBMS_REDACT.ADD_COLUMN，column_name =&gt;'cc_exp'，function_type =&gt; DBMS_REDACT.RANDOM，expression =&gt; '1-1'）;结束; /</pre></div>
                        </li>
                        <li>
                           <p>再次修改策略，以使用条件，以便<code class="codeph">sales_rep</code>用户查看编辑的值， <code class="codeph">support_rep</code>用户查看<a href="glossary.html#GUID-82E2FC6D-718F-4367-9D7E-DC130F360FC3"><span class="xrefglossterm">实际数据</span></a> 。
                           </p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_REDACT.ALTER_POLICY（object_schema =&gt;'oe'，object_name =&gt;'cust_order_info'，policy_name =&gt;'redact_cust_cc_info'，action =&gt; DBMS_REDACT.MODIFY_EXPRESSION，expression =&gt;'SYS_CONTEXT（''USERENV''，''SESSION_USER'' ）=''SALES_REP'''）;结束; /</pre></li>
                        <li>
                           <p>要测试策略，请让两个用户查询<code class="codeph">cust_order_info</code>表。
                           </p><pre class="oac_no_warn" dir="ltr">CONNECT support_rep输入密码： <span class="italic">password</span> SELECT cc_num，cc_exp FROM OE.cust_order_info; CC_NUM CC_EXP ------------------- ------- 5105 1051 0510 5100 10/2018 5111 1111 1111 1118 03/2019 5454 5454 5454 5454 08/2018</pre><p>用户<code class="codeph">support_rep</code>可以查看实际数据。
                           </p><pre class="oac_no_warn" dir="ltr">CONNECT sales_rep输入密码： <span class="italic">password</span> SELECT cc_num，cc_exp FROM OE.cust_order_info; CC_NUM CC_EXP ---------------- ------- ************ 5100 lST = 033 ********* *** 1119 OZA.w4C ************ 5454 B（9+; O1</pre><p>使用for <code class="codeph">sales_rep</code>对实际数据进行编辑。
                           </p>
                        </li>
                        <li>
                           <p>更改<code class="codeph">cust_order_info</code>以包含条件，以便只有<code class="codeph">support_rep</code>可以查看编辑的数据，但<code class="codeph">sales_rep</code>不能。
                           </p><pre class="oac_no_warn" dir="ltr">CONNECT dr_admin输入密码： <span class="italic">密码</span> BEGIN DBMS_REDACT.ALTER_POLICY（object_schema =&gt;'oe'，object_name =&gt;'cust_order_info'，policy_name =&gt;'redact_cust_cc_info'，action =&gt; DBMS_REDACT.MODIFY_EXPRESSION，expression =&gt;'SYS_CONTEXT（''USERENV''' ，''SESSION_USER''）=''SUPPORT_REP'''）;结束; /</pre></li>
                        <li>
                           <p>让用户再次测试策略。</p><pre class="oac_no_warn" dir="ltr">CONNECT support_rep输入密码： <span class="italic">password</span> SELECT cc_num，cc_exp FROM OE.cust_order_info; CC_NUM CC_EXP ---------------- ------- ************ 5100 1 ^ XMF~` ******* ***** 1119 qz + 9 =＃S ************ 5454 * KCaUkm</pre><p>用户<code class="codeph">support_rep</code>无法再查看实际数据;现在已经编辑了。
                           </p><pre class="oac_no_warn" dir="ltr">CONNECT sales_rep输入密码： <span class="italic">password</span> SELECT cc_num，cc_exp FROM OE.cust_order_info; CC_NUM CC_EXP ------------------- ------- 5105 1051 0510 5100 10/2018 5111 1111 1111 1118 03/2019 5454 5454 5454 5454 08/2018</pre><p>用户<code class="codeph">sales_rep</code>现在可以查看实际数据。
                           </p>
                        </li>
                        <li>
                           <p>如果您不需要本教程的组件，则可以按如下方式删除它们：</p><pre class="oac_no_warn" dir="ltr">CONNECT dr_admin输入密码： <span class="italic">password</span> BEGIN DBMS_REDACT.DROP_POLICY（object_schema =&gt;'oe'，object_name =&gt;'cust_order_info'，policy_name =&gt;'redact_cust_cc_info'）;结束; / CONNECT sec_admin输入密码： <span class="italic">password</span> DROP USER dr_admin; DROP USER sales_rep; DROP USER support_rep; CONNECT OE输入密码： <span class="italic">password</span> DROP TABLE cust_order_info;</pre></li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-205D50FF-2210-4957-B06B-EF82D734C26A" title="DBMS_REDACT.ALTER_POLICY过程使您可以修改Oracle Data Redaction策略。">更改Oracle数据编辑策略</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ASOAG491"></a><div class="props_rev_3"><a id="GUID-1E236704-872D-4FCB-A46E-C5014B53E9DE" name="GUID-1E236704-872D-4FCB-A46E-C5014B53E9DE"></a><h3 id="ASOAG-GUID-1E236704-872D-4FCB-A46E-C5014B53E9DE" class="sect3">编辑多列</h3>
               <div>
                  <p>您可以在数据编辑策略中编辑多个列。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-3A63FA4F-F884-4C75-A091-86896FADFDA2">将列添加到单个表或视图的数据编辑策略</a><br>您可以使用不同的编校类型为一个表或视图编辑不同数据类型的列。
                     </li>
                     <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-C6BA477D-3721-4FC2-83B8-E395078FC0EB">示例：重写多个列</a><br><code class="codeph">DBMS_REDACT.ALTER_POLICY</code>过程可以编辑多个列。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-78C0ECD1-388C-4E12-87C3-32FBC05F294D" title="Oracle Data Redaction策略定义了如何根据表列类型和要使用的编辑类型来编辑列中的数据。">配置Oracle数据编校策略</a></p>
                     </div>
                  </div>
               </div>
               <a id="ASOAG10612"></a><div class="props_rev_3"><a id="GUID-3A63FA4F-F884-4C75-A091-86896FADFDA2" name="GUID-3A63FA4F-F884-4C75-A091-86896FADFDA2"></a><h4 id="ASOAG-GUID-3A63FA4F-F884-4C75-A091-86896FADFDA2" class="sect4">将列添加到单个表或视图的数据编辑策略</h4>
                  <div>
                     <p>您可以使用不同的编校类型为一个表或视图编辑不同数据类型的列。</p>
                     <div class="section">
                        <ol>
                           <li>
                              <p>为要编辑的第一列创建策略。</p>
                           </li>
                           <li>
                              <p>使用<code class="codeph">DBMS_REDACT.ALTER_POLICY</code>过程将下一列添加到策略。
                              </p>
                              <p>根据需要，设置<code class="codeph">action</code> ， <code class="codeph">column_name</code> ， <code class="codeph">function_type</code>和<code class="codeph">function_parameters</code> （或以<code class="codeph">regexp_</code>开头的参数）参数以定义新列的编辑，但不要更改<code class="codeph">object_schema</code> ， <code class="codeph">object_name</code> ， <code class="codeph">policy_name</code>或<code class="codeph">expression</code>参数。每个编辑的列继续具有用于创建它的相同编校参数。
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-1E236704-872D-4FCB-A46E-C5014B53E9DE" title="您可以在数据编辑策略中编辑多个列。">编辑多个列</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ASOAG739"></a><a id="ASOAG10613"></a><div class="props_rev_3"><a id="GUID-C6BA477D-3721-4FC2-83B8-E395078FC0EB" name="GUID-C6BA477D-3721-4FC2-83B8-E395078FC0EB"></a><h4 id="ASOAG-GUID-C6BA477D-3721-4FC2-83B8-E395078FC0EB" class="sect4">示例：重写多个列</h4>
                  <div>
                     <p><code class="codeph">DBMS_REDACT.ALTER_POLICY</code>过程可以编辑多个列。
                     </p>
                     <p><a href="configuring-oracle-data-redaction-policies.html#GUID-C6BA477D-3721-4FC2-83B8-E395078FC0EB__CACCJGAH">示例13-12</a>显示了如何将列添加到现有Data Redaction策略。在此示例中， <code class="codeph">action</code>参数指定必须使用<code class="codeph">DBMS_REDACT.ADD_COLUMN</code>添加新列。新列的名称<code class="codeph">card_num</code>由<code class="codeph">column_name</code>参数设置。
                     </p>
                     <div class="example" id="GUID-C6BA477D-3721-4FC2-83B8-E395078FC0EB__CACCJGAH">
                        <p class="titleinexample">示例13-12将列添加到数据编校策略</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_REDACT.ALTER_POLICY（object_schema =&gt;'mavis'，object_name =&gt;'cust_info'，policy_name =&gt;'redact_cust_user_ids'，action =&gt; DBMS_REDACT.ADD_COLUMN，column_name =&gt;'card_num'，function_type =&gt; DBMS_REDACT.FULL，function_parameters =&gt; ''，expression =&gt;'SYS_CONTEXT（''SYS_SESSION_ROLES''，''ADM''）=''TRUE'''）;结束; /</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-1E236704-872D-4FCB-A46E-C5014B53E9DE" title="您可以在数据编辑策略中编辑多个列。">编辑多个列</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ASOAG10614"></a><div class="props_rev_3"><a id="GUID-6DBB6BA3-28C8-499F-A603-4DFAC18E6B41" name="GUID-6DBB6BA3-28C8-499F-A603-4DFAC18E6B41"></a><h3 id="ASOAG-GUID-6DBB6BA3-28C8-499F-A603-4DFAC18E6B41" class="sect3">禁用和启用Oracle数据编辑策略</h3>
               <div>
                  <p>您可以根据需要禁用然后重新启用Oracle Data Redactions策略。</p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-A499FA8B-00E1-4023-9505-4414C7CF56C1">禁用Oracle数据编辑策略</a><br><code class="codeph">DBMS_REDACT.DISABLE_POLICY</code>过程禁用Oracle Data Redaction策略。
                     </li>
                     <li class="ulchildlink"><a href="configuring-oracle-data-redaction-policies.html#GUID-48037790-6EA7-4688-990F-C5348B11235A">启用Oracle数据编辑策略</a><br><code class="codeph">DBMS_REDACT.ENABLE_POLICY</code>过程启用Oracle Data Redaction策略。
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-78C0ECD1-388C-4E12-87C3-32FBC05F294D" title="Oracle Data Redaction策略定义了如何根据表列类型和要使用的编辑类型来编辑列中的数据。">配置Oracle数据编校策略</a></p>
                     </div>
                  </div>
               </div>
               <a id="ASOAG741"></a><a id="ASOAG740"></a><div class="props_rev_3"><a id="GUID-A499FA8B-00E1-4023-9505-4414C7CF56C1" name="GUID-A499FA8B-00E1-4023-9505-4414C7CF56C1"></a><h4 id="ASOAG-GUID-A499FA8B-00E1-4023-9505-4414C7CF56C1" class="sect4">禁用Oracle数据编辑策略</h4>
                  <div>
                     <p><code class="codeph">DBMS_REDACT.DISABLE_POLICY</code>过程禁用Oracle Data Redaction策略。
                     </p>
                     <div class="section">
                        <p>您可以通过查询<code class="codeph">REDACTION_POLICIES</code>视图的<code class="codeph">POLICY_NAME</code>和<code class="codeph">ENABLE</code>列来查找现有数据编辑策略的名称以及是否启用它们。但是，只要策略仍然存在，即使禁用了原始策略，也无法为该表或视图创建另一个策略。换句话说，如果要在同一表列上创建不同的策略，则必须先删除第一个策略，然后才能创建和使用新策略。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>要禁用数据编校策略，请使用以下语法运行<code class="codeph">DBMS_REDACT.DISABLE_POLICY</code>过程：</p><pre class="oac_no_warn" dir="ltr">DBMS_REDACT.DISABLE_POLICY（ <span class="italic">   </span> object_schema IN VARCHAR2 DEFAULT NULL，object_name IN VARCHAR2， <span class="italic"> </span> policy_name IN VARCHAR2）;</pre><p>在本规范中：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">object_schema</code> ：指定将应用数据编辑策略的对象的架构。如果省略此设置（或输入<code class="codeph">NULL</code> ），则Oracle数据库将使用当前架构的名称。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">object_name</code> ：指定要用于数据编辑策略的表或视图的名称。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">policy_name</code> ：指定要禁用的策略的名称。
                                    </p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                        <p><a href="configuring-oracle-data-redaction-policies.html#GUID-A499FA8B-00E1-4023-9505-4414C7CF56C1__CACIFFHC">例13-13</a>显示了如何禁用数据编辑策略。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-A499FA8B-00E1-4023-9505-4414C7CF56C1__CACIFFHC">
                        <p class="titleinexample">示例13-13禁用数据编校策略</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_REDACT.DISABLE_POLICY（object_schema =&gt;'mavis'，object_name =&gt;'cust_info'，policy_name =&gt;'redact_cust_user_ids'）;结束; /</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-6DBB6BA3-28C8-499F-A603-4DFAC18E6B41" title="您可以根据需要禁用然后重新启用Oracle Data Redactions策略。">禁用和启用Oracle数据编辑策略</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ASOAG743"></a><a id="ASOAG742"></a><div class="props_rev_3"><a id="GUID-48037790-6EA7-4688-990F-C5348B11235A" name="GUID-48037790-6EA7-4688-990F-C5348B11235A"></a><h4 id="ASOAG-GUID-48037790-6EA7-4688-990F-C5348B11235A" class="sect4">启用Oracle数据编辑策略</h4>
                  <div>
                     <p><code class="codeph">DBMS_REDACT.ENABLE_POLICY</code>过程启用Oracle Data Redaction策略。
                     </p>
                     <div class="section">
                        <p>创建新策略后，您不需要立即启用它;创建过程为您处理。要查找现有数据编辑策略的名称以及它们是否已启用，您可以查询<code class="codeph">REDACTION_POLICIES</code>视图的<code class="codeph">POLICY_NAME</code>和<code class="codeph">ENABLE</code>列。运行该过程以启用策略后，启用会立即生效。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>若要启用数据编校策略，请使用以下语法运行<code class="codeph">DBMS_REDACT.ENABLE_POLICY</code>过程。
                              </p><pre class="oac_no_warn" dir="ltr">DBMS_REDACT.ENABLE_POLICY（ <span class="italic">   </span> object_schema IN VARCHAR2 DEFAULT NULL，object_name IN VARCHAR2， <span class="italic"> </span> policy_name IN VARCHAR2）;</pre><p>在本规范中：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p><code class="codeph">object_schema</code> ：指定将应用数据编辑策略的对象的架构。如果省略此设置（或输入<code class="codeph">NULL</code> ），则Oracle数据库将使用当前架构的名称。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">object_name</code> ：指定要用于数据编辑策略的表或视图的名称。
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">policy_name</code> ：指定要启用的策略的名称。
                                    </p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                        <p><a href="configuring-oracle-data-redaction-policies.html#GUID-48037790-6EA7-4688-990F-C5348B11235A__CACIGDDF">例13-14</a>显示了如何启用数据编辑策略。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-48037790-6EA7-4688-990F-C5348B11235A__CACIGDDF">
                        <p class="titleinexample">示例13-14启用数据编校策略</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_REDACT.ENABLE_POLICY（object_schema =&gt;'mavis'，object_name =&gt;'cust_info'，policy_name =&gt;'redact_cust_user_ids'）;结束; /</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-6DBB6BA3-28C8-499F-A603-4DFAC18E6B41" title="您可以根据需要禁用然后重新启用Oracle Data Redactions策略。">禁用和启用Oracle数据编辑策略</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ASOAG745"></a><a id="ASOAG744"></a><div class="props_rev_3"><a id="GUID-F87B88B2-651E-4AF4-8E01-7B8A629A3D8F" name="GUID-F87B88B2-651E-4AF4-8E01-7B8A629A3D8F"></a><h3 id="ASOAG-GUID-F87B88B2-651E-4AF4-8E01-7B8A629A3D8F" class="sect3">删除Oracle数据编辑策略</h3>
               <div>
                  <p><code class="codeph">DBMS_REDACT.DROP_POLICY</code>过程删除Oracle Data Redaction策略。
                  </p>
                  <div class="section">
                     <p>您可以删除Oracle Data Redaction策略，无论它是启用还是禁用。您可以通过查询<code class="codeph">REDACTION_POLICIES</code>视图的<code class="codeph">POLICY_NAME</code>列找到现有数据编辑策略的名称。删除与Oracle Data Redaction策略关联的表或视图时，将自动删除该策略。作为最佳实践，首先删除策略，然后删除表或视图。有关详细信息，请参阅<a href="security-considerations-for-using-oracle-data-redaction.html#GUID-667D33F8-3B01-48A2-A23B-A0AEC9F04820" title="在删除Oracle Data Redaction策略之前，应检查是否已启用回收站。">启用回收站时删除的Oracle数据编校策略</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p>要删除数据编校策略，请运行<code class="codeph">DBMS_REDACT.DROP_POLICY</code>过程。
                           </p>
                           <p>使用以下语法：</p><pre class="oac_no_warn" dir="ltr">DBMS_REDACT.DROP_POLICY（object_schema IN VARCHAR2 DEFAULT NULL，object_name IN VARCHAR2，policy_name IN VARCHAR2）;</pre><p>在本规范中：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><code class="codeph">object_schema</code> ：指定应用数据编辑策略的对象的架构。如果省略此设置（或输入<code class="codeph">NULL</code> ），则Oracle数据库将使用当前架构的名称。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">object_name</code> ：指定要用于数据编辑策略的表或视图的名称。
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">policy_name</code> ：指定要删除的策略的名称。
                                 </p>
                              </li>
                           </ul>
                        </li>
                     </ul>
                     <p>运行<code class="codeph">DBMS_REDACT.DROP_POLICY</code>过程后，drop将立即生效。
                     </p>
                     <p><a href="configuring-oracle-data-redaction-policies.html#GUID-F87B88B2-651E-4AF4-8E01-7B8A629A3D8F__CACFIHFG">例13-15</a>显示了如何删除数据编辑策略。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-F87B88B2-651E-4AF4-8E01-7B8A629A3D8F__CACFIHFG">
                     <p class="titleinexample">示例13-15删除数据编校策略</p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_REDACT.DROP_POLICY（object_schema =&gt;'mavis'，object_name =&gt;'cust_info'，policy_name =&gt;'redact_cust_user_ids'）;结束; /</pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-78C0ECD1-388C-4E12-87C3-32FBC05F294D" title="Oracle Data Redaction策略定义了如何根据表列类型和要使用的编辑类型来编辑列中的数据。">配置Oracle数据编校策略</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ASOAG887"></a><div class="props_rev_3"><a id="GUID-DE28EFBA-73F2-416E-BBE6-F22AF080DC74" name="GUID-DE28EFBA-73F2-416E-BBE6-F22AF080DC74"></a><h3 id="ASOAG-GUID-DE28EFBA-73F2-416E-BBE6-F22AF080DC74" class="sect3">教程：SQL表达式使用编辑值构建报表</h3>
               <div>
                  <p>SQL表达式可用于基于在其上定义了Oracle数据编辑策略的列来构建报表。</p>
                  <div class="section">
                     <p>SQL表达式中使用的值将被编辑。此编校以在计算SQL表达式之前进行编校的方式进行：报表中显示的结果值是已编辑的SQL表达式对编辑值的最终结果，而不是SQL的编辑结果表达作为一个整体。</p>
                     <ol>
                        <li>
                           <p>为<code class="codeph">HR.EMPLOYEES</code>表创建以下数据编辑策略。
                           </p>
                           <p>此策略将取代前4位从值<code class="codeph">SALARY</code>与号码栏<code class="codeph">9</code> ，并从该值的第一个数字<code class="codeph">COMMISSION_PCT</code>柱和<code class="codeph">9</code> 。
                           </p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_REDACT.ADD_POLICY（object_schema =&gt;'HR'，object_name =&gt;'EMPLOYEES'，column_name =&gt;'SALARY'，column_description =&gt;'emp_sal_comm显示员工薪水和佣金'，policy_name =&gt;'redact_emp_sal_comm'，policy_description =&gt;'部分编辑emp_sal_comm列'，function_type =&gt; DBMS_REDACT.PARTIAL，function_parameters =&gt;'9,1,4'，expression =&gt;'1 = 1'）;结束; / BEGIN DBMS_REDACT.ALTER_POLICY（object_schema =&gt;'HR'，object_name =&gt;'EMPLOYEES'，policy_name =&gt;'redact_emp_sal_comm'，action =&gt; DBMS_REDACT.ADD_COLUMN，column_name =&gt;'COMMISSION_PCT'，function_type =&gt; DBMS_REDACT.PARTIAL，function_parameters = &gt;'9,1,1'，表达式=&gt;'1 = 1'）;结束; /</pre></li>
                        <li>
                           <p>登录<code class="codeph">HR</code>模式，然后运行以下报告。
                           </p>
                           <p>此报告将使用SQL表达式<code class="codeph">(SALARY + COMMISSION_PCT)</code>来组合员工的工资和佣金。
                           </p><pre class="oac_no_warn" dir="ltr">SELECT（SALARY + COMMISSION_PCT）total_emp_compensation FROM HR.EMPLOYEES WHERE DEPARTMENT_ID = 80; TOTAL_EMP_COMPENSATION ---------------------- 9999.9 9999.95 99990.95 ...
</pre></li>
                        <li>
                           <p>对报表使用SQL表达式，包括串联。</p>
                           <p>例如：</p><pre class="oac_no_warn" dir="ltr">选择'员工ID'|| EMPLOYEE_ID || '的薪水为'|| SALARY || '和佣金'|| COMMISSION_PCT || '' detailed_emp_compensation FROM HR.EMPLOYEES WHERE DEPARTMENT_ID = 80 ORDER BY EMPLOYEE_ID; DETAILED_EMP_COMPENSATION ------------------------------------------------- ------------员工ID 150的薪水为99990，佣金为.9。员工ID 151的薪水为9999，佣金为.95。员工ID 152的薪水为9999，佣金为.95。...</pre></li>
                        <li>
                           <p>连接创建<code class="codeph">redact_emp_sal_comm</code>数据编辑策略的用户，然后运行以下语句以删除该策略。
                           </p><pre class="oac_no_warn" dir="ltr">BEGIN DBMS_REDACT.DROP_POLICY（object_schema =&gt;'HR'，object_name =&gt;'EMPLOYEES'，policy_name =&gt;'redact_emp_sal_comm'）;结束; /</pre></li>
                     </ol>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-78C0ECD1-388C-4E12-87C3-32FBC05F294D" title="Oracle Data Redaction策略定义了如何根据表列类型和要使用的编辑类型来编辑列中的数据。">配置Oracle数据编校策略</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ASOAG751"></a><a id="ASOAG654"></a><div class="props_rev_3"><a id="GUID-16B2C464-83C6-4341-BE13-12F68695B65C" name="GUID-16B2C464-83C6-4341-BE13-12F68695B65C"></a><h3 id="ASOAG-GUID-16B2C464-83C6-4341-BE13-12F68695B65C" class="sect3">Oracle数据编辑策略数据字典视图</h3>
               <div>
                  <p>Oracle数据库提供数据字典视图，列出有关数据编辑策略的信息。</p>
                  <div class="section">
                     <p>在查询这些视图之前，必须授予<code class="codeph">SELECT_CATALOG_ROLE</code>角色。
                     </p>
                     <p><a href="configuring-oracle-data-redaction-policies.html#GUID-16B2C464-83C6-4341-BE13-12F68695B65C__CACFGDCH" title="数据编辑目录视图">表13-12</a>列出了Data Redaction数据字典视图。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-16B2C464-83C6-4341-BE13-12F68695B65C__CACFGDCH">
                     <p class="titleintable">表13-12数据编辑视图</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="数据编辑视图" width="100%" border="1" summary="Data Redaction Catalog Views" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="38%" id="d57023e13834">视图</th>
                              <th align="left" valign="bottom" width="62%" id="d57023e13837">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d57023e13842" headers="d57023e13834 ">
                                 <p><code class="codeph">REDACTION_COLUMNS</code></p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d57023e13842 d57023e13837 ">
                                 <p>描述数据库中的所有编辑列，提供列所在的表或视图的所有者，对象名称，列名称，编校函数的类型，编校函数的参数（如果有），和编辑政策的描述。如果已创建策略表达式，则显示默认的对象范围策略表达式的SQL表达式。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d57023e13850" headers="d57023e13834 ">
                                 <p><code class="codeph">REDACTION_EXPRESSIONS</code></p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d57023e13850 d57023e13837 ">
                                 <p>显示现有策略表达式及其SQL表达式的名称</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d57023e13858" headers="d57023e13834 ">
                                 <p><code class="codeph">REDACTION_POLICIES</code></p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d57023e13858 d57023e13837 ">
                                 <p>描述数据库中的所有数据编校策略。它包括有关对象所有者，对象名称，策略名称，策略表达式，是否启用策略以及数据编辑策略的描述的信息。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="38%" id="d57023e13866" headers="d57023e13834 ">
                                 <p><code class="codeph">REDACTION_VALUES_FOR_TYPE_FULL</code></p>
                              </td>
                              <td align="left" valign="top" width="62%" headers="d57023e13866 d57023e13837 ">
                                 <p>显示使用完全编校的数据编辑策略的当前编校值</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p></p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="configuring-oracle-data-redaction-policies.html#GUID-78C0ECD1-388C-4E12-87C3-32FBC05F294D" title="Oracle Data Redaction策略定义了如何根据表列类型和要使用的编辑类型来编辑列中的数据。">配置Oracle数据编校策略</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>