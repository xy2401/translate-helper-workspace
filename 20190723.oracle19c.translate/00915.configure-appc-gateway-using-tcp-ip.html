<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>使用TCP / IP通信协议配置网关</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Installation and Configuration Guide "></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Installation and Configuration Guide for Microsoft Windows"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-gateway-appc-installation-and-configuration-guide-microsoft-windows.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-16T19:10:00-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2006, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="F18240-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="configure-appc-gateway-using-sna.html" title="Previous" type="text/html"></link>
      <link rel="next" href="appc-gateway-security-requirements.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Gateway for APPC Installation and Configuration Guide for Microsoft Windows"></meta>
    <meta name="dcterms.isVersionOf" content="APPCW"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="configure-appc-gateway-using-sna.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="appc-gateway-security-requirements.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">安装和配置指南</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">使用TCP / IP通信协议配置网关</li>
            </ol>
            <a id="GUID-2E8F3302-CA66-45F1-A0F0-241FDEC9EBCE" name="GUID-2E8F3302-CA66-45F1-A0F0-241FDEC9EBCE"></a><a id="APPCW215"></a>
            
            <h2 id="APPCW-GUID-2E8F3302-CA66-45F1-A0F0-241FDEC9EBCE" class="sect2"><span class="enumeration_chapter">9</span>使用TCP / IP通信协议配置网关</h2>
         </header>
         <div class="ind">
            <div>
               <p>以下主题概述了在Microsoft Windows平台上使用TCP / IP for IMS Connect为网关配置Oracle数据库的步骤。它们还提供了验证网关和OLTP组件的安装和配置的步骤。</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="configure-appc-gateway-using-tcp-ip.html#GUID-07D12664-17E3-4DC4-B3C8-3BD452A44675">在你开始之前</a></p>
                  </li>
                  <li>
                     <p><a href="configure-appc-gateway-using-tcp-ip.html#GUID-FCAB1574-8D8E-4F0F-93DA-9D79FB9FAB1A">准备配置网关安装/升级</a></p>
                  </li>
                  <li>
                     <p><a href="configure-appc-gateway-using-tcp-ip.html#GUID-C1D6A15C-21DD-480A-A45D-EE4D3554B54C">配置Oracle数据库：首次安装</a></p>
                  </li>
                  <li>
                     <p><a href="configure-appc-gateway-using-tcp-ip.html#GUID-9883203F-7CBC-484D-BCC3-CA836A9946B1">从以前的网关升级或迁移Oracle数据库</a></p>
                  </li>
                  <li>
                     <p><a href="configure-appc-gateway-using-tcp-ip.html#GUID-9F6E76E3-09C2-47EE-B212-A7B8153752C6">允许多个用户的可选配置步骤</a></p>
                  </li>
                  <li>
                     <p><a href="configure-appc-gateway-using-tcp-ip.html#GUID-4401EF36-6A5E-4DF2-8FB8-57D8EEFEDB92">配置网关的TCP / IP</a></p>
                  </li>
                  <li>
                     <p><a href="configure-appc-gateway-using-tcp-ip.html#GUID-A60824B1-6CFC-4CC5-BB8A-C977BFA8A189">配置网关</a></p>
                  </li>
                  <li>
                     <p><a href="configure-appc-gateway-using-tcp-ip.html#GUID-7FBE512D-4608-482A-8F27-EFBFF6BAE583">加载PGA_TCP_IMSC表</a></p>
                  </li>
                  <li>
                     <p><a href="configure-appc-gateway-using-tcp-ip.html#GUID-8D4B842E-0CF0-4072-8FF6-3AC0737A7D00">验证网关安装和OLTP配置</a></p>
                  </li>
                  <li>
                     <p><a href="configure-appc-gateway-using-tcp-ip.html#GUID-7FB56CC9-2004-4716-9DF5-4082EC028816">执行安装后程序</a></p>
                  </li>
               </ul>
               <p><a id="d11914e82" class="indexterm-anchor"></a><a id="d11914e88" class="indexterm-anchor"></a>使用针对IMS Connect的TCP / IP支持为APPC配置Oracle数据库网关涉及使用以下组件：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p>Oracle数据库</p>
                  </li>
                  <li>
                     <p>你的Windows系统</p>
                  </li>
                  <li>
                     <p>你的网络</p>
                  </li>
                  <li>
                     <p>OLTP</p>
                  </li>
               </ul>
            </div><a id="APPCW216"></a><div class="props_rev_3"><a id="GUID-07D12664-17E3-4DC4-B3C8-3BD452A44675" name="GUID-07D12664-17E3-4DC4-B3C8-3BD452A44675"></a><h3 id="APPCW-GUID-07D12664-17E3-4DC4-B3C8-3BD452A44675" class="sect3">在你开始之前</h3>
               <div>
                  <p>以下主题要求您输入系统特有的参数，以便正确配置网关和TCP / IP通信接口。</p>
                  <p>有关列出完成配置过程之前需要了解的安装参数的工作<a href="appc-gateway-configuration-worksheet.html#GUID-96B6C85D-6B37-42C7-ADE0-5752F46AF88A">表</a> ，请参阅<a href="appc-gateway-configuration-worksheet.html#GUID-96B6C85D-6B37-42C7-ADE0-5752F46AF88A">配置工作</a>表。在开始之前，请让网络管理员为您提供这些唯一的参数名称。
                  </p>
               </div>
            </div><a id="APPCW321"></a><a id="APPCW322"></a><a id="APPCW323"></a><a id="APPCW217"></a><div class="props_rev_3"><a id="GUID-FCAB1574-8D8E-4F0F-93DA-9D79FB9FAB1A" name="GUID-FCAB1574-8D8E-4F0F-93DA-9D79FB9FAB1A"></a><h3 id="APPCW-GUID-FCAB1574-8D8E-4F0F-93DA-9D79FB9FAB1A" class="sect3">准备配置网关安装/升级</h3>
               <div>
                  <div class="section">
                     <p>在安装或升级/迁移网关时，有三种方法可以建立网关 -  Oracle数据库关系：</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="configure-appc-gateway-using-tcp-ip.html#GUID-FCAB1574-8D8E-4F0F-93DA-9D79FB9FAB1A__I1011353">当Oracle数据库和网关安装在同一台机器上的同一ORACLE_HOME中时</a> ;</p>
                        </li>
                        <li>
                           <p><a href="configure-appc-gateway-using-tcp-ip.html#GUID-FCAB1574-8D8E-4F0F-93DA-9D79FB9FAB1A__I1011368">当Oracle数据库和网关安装在不同的机器上时</a> ;要么</p>
                        </li>
                        <li>
                           <p><a href="configure-appc-gateway-using-tcp-ip.html#GUID-FCAB1574-8D8E-4F0F-93DA-9D79FB9FAB1A__I1011275">当Oracle数据库和网关位于同一台计算机上但位于不同目录中时</a></p>
                        </li>
                     </ul>
                     <p><a id="d11914e214" class="indexterm-anchor"></a><a id="d11914e218" class="indexterm-anchor"></a><a id="d11914e222" class="indexterm-anchor"></a>根据网关和Oracle数据库的位置，您可能需要将某些网关管理文件传输到安装Oracle数据库的位置。
                     </p>
                     <p>按照适合您下面列出的网关-Oracle数据库位置组合的说明进行操作。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-FCAB1574-8D8E-4F0F-93DA-9D79FB9FAB1A__I1011353">
                     <p class="subhead2" id="GUID-FCAB1574-8D8E-4F0F-93DA-9D79FB9FAB1A__GUID-CB489B5A-2B9A-4376-92D2-A9D9E79F7BCB">当Oracle数据库和网关安装在同一台机器上的同一ORACLE_HOME中时</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>您不需要传输文件。继续<span class="q">“ <a href="configure-appc-gateway-using-tcp-ip.html#GUID-C1D6A15C-21DD-480A-A45D-EE4D3554B54C">配置Oracle数据库：首次安装</a> ”</span> 。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-FCAB1574-8D8E-4F0F-93DA-9D79FB9FAB1A__I1011368">
                     <p class="subhead2" id="GUID-FCAB1574-8D8E-4F0F-93DA-9D79FB9FAB1A__GUID-67C72431-4FE7-4DF9-BC56-487482A6A4BA">当Oracle数据库和网关安装在不同的计算机上时</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <ol>
                        <li>
                           <p>在网关<code class="codeph">%ORACLE_HOME%\dg4appc\admin</code>目录中找到网关管理文件。此目录中所有文件的后缀为<code class="codeph">.sql</code> ， <code class="codeph">.pkh</code> ， <span class="bold"> </span>必须将<code class="codeph">.pkb</code>复制到Oracle数据库的Oracle主目录中具有类似名称的目录中。
                           </p>
                        </li>
                        <li>
                           <p>现在，在网关<code class="codeph">%ORACLE_HOME%\dg4appc\demo</code>目录中找到网关演示文件和子目录。将<code class="codeph">pgavsn.sql</code>和<code class="codeph">pgaecho.sql</code>文件复制到Oracle数据库中名称相似的目录中。
                           </p>
                        </li>
                        <li>
                           <p>将<code class="codeph">pgaims.sql</code>文件从网关Oracle主目录<code class="codeph">%ORACLE_HOME%\dg4appc\demo\IMS</code>目录<code class="codeph">%ORACLE_HOME%\dg4appc\demo\IMS</code>到Oracle数据库的Oracle主目录<code class="codeph">%ORACLE_HOME%\dg4appc\demo\IMS</code>目录。
                           </p>
                        </li>
                        <li>
                           <p>可选步骤：如果要运行<code class="codeph">IVTNV</code>和<code class="codeph">IVTNO</code> ，则需要将<code class="codeph">ivtno.ctl</code> ， <code class="codeph">ivtnod.sql</code> ， <code class="codeph">ivtnv.ctl</code>和<code class="codeph">ivtnvd.sql</code>文件复制到Oracle数据库的Oracle主目录<code class="codeph">%ORACLE_HOME%\dg4appc\demo\IMS</code>目录也是如此。确保生成所需的TIP并将其传输。
                           </p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="section" id="GUID-FCAB1574-8D8E-4F0F-93DA-9D79FB9FAB1A__I1011275">
                     <p class="subhead2" id="GUID-FCAB1574-8D8E-4F0F-93DA-9D79FB9FAB1A__GUID-C2C2EF5C-EEE3-492C-981B-362CFD4AC10D">当Oracle数据库和网关位于同一台计算机上但位于不同目录中时</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p>您必须将网关的Oracle主目录更改为Oracle数据库的Oracle主目录。</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>例如，如果您的网关的Oracle主目录设置如下：</span><div><pre class="oac_no_warn" dir="ltr">C：\&gt; echo％ORACLE_HOME％C：\ oracle \ pga \ 12.2</pre><p>并且您的服务器的Oracle主目录位于' <code class="codeph">\oracle\pga\12.2'</code>目录中，然后您需要执行以下操作：</p><pre class="oac_no_warn" dir="ltr">C：\&gt; SET ORACLE_HOME = C：\ oracle \ pga \ 12.2</pre></div>
                     </li>
                     <li class="stepexpand"><span>现在，使用以下命令创建目录：</span><div><pre class="oac_no_warn" dir="ltr">C：\&gt; cd％ORACLE_HOME％C：\&gt; mkdir dg4appc C：\&gt; mkdir dg4appc \ admin C：\&gt; mkdir dg4appc \ demo C：\&gt; mkdir dg4appc \ demo \ IMS</pre></div>
                     </li>
                     <li class="stepexpand"><span>使用系统上可用的任何文件传输机制将所有<code class="codeph">.sql</code> ， <code class="codeph">.pkh</code>和<code class="codeph">.pkb</code>文件从网关的Oracle主目录<code class="codeph">%ORACLE_HOME%\dg4appc\admin</code>目录<code class="codeph">%ORACLE_HOME%\dg4appc\admin</code>到Oracle数据库的Oracle主目录<code class="codeph">%ORACLE_HOME%\dg4appc\admin</code>目录。</span></li>
                     <li class="stepexpand"><span>您还可以将演示文件从网关目录传输到Oracle数据库目录。将pgavsn.sql和<code class="codeph">pgaecho.sql</code>文件<code class="codeph">and</code>目录以递归方式从网关Oracle主目录的<code class="codeph">%ORACLE_HOME%\dg4appc\demo</code>目录<code class="codeph">%ORACLE_HOME%\dg4appc\demo</code>到Oracle数据库的<code class="codeph">%ORACLE_HOME%\dg4appc\demo</code>目录。</span></li>
                     <li class="stepexpand"><span>你也可以复制<a id="d11914e374" class="indexterm-anchor"></a> <code class="codeph">pgaims.sql</code>文件从网关Oracle主页<code class="codeph">%ORACLE_HOME%\dg4appc\demo\IMS</code>目录到Oracle数据库Oracle主目录<code class="codeph">%ORACLE_HOME%\dg4appc\demo\IMS</code>目录。</span><div>
                           <p>可选步骤：如果要运行<code class="codeph">IVTNV</code>和<code class="codeph">IVTNO</code> ，则需要将<code class="codeph">ivtno.ctl</code> ， <code class="codeph">ivtnod.sql</code> ， <code class="codeph">ivtnv.ctl</code>和<code class="codeph">ivtnvd.sql</code>文件复制到Oracle数据库的Oracle主目录<code class="codeph">%ORACLE_HOME%\dg4appc\demo\IMS</code>目录也是如此。确保生成所需的TIP并将其传输。
                           </p>
                        </div>
                     </li>
                  </ol>
                  <div class="section">
                     <p>继续<span class="q">“ <a href="configure-appc-gateway-using-tcp-ip.html#GUID-C1D6A15C-21DD-480A-A45D-EE4D3554B54C">配置Oracle数据库：首次安装</a> ”</span> 。执行这些步骤后，您可能需要执行“ <a href="configure-appc-gateway-using-tcp-ip.html#GUID-9F6E76E3-09C2-47EE-B212-A7B8153752C6">允许多个用户</a>的<a href="configure-appc-gateway-using-tcp-ip.html#GUID-9F6E76E3-09C2-47EE-B212-A7B8153752C6">可选配置步骤”，“允许多个用户的</a> <a href="configure-appc-gateway-using-tcp-ip.html#GUID-9F6E76E3-09C2-47EE-B212-A7B8153752C6">可选配置步骤”</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="APPCW218"></a><div class="props_rev_3"><a id="GUID-C1D6A15C-21DD-480A-A45D-EE4D3554B54C" name="GUID-C1D6A15C-21DD-480A-A45D-EE4D3554B54C"></a><h3 id="APPCW-GUID-C1D6A15C-21DD-480A-A45D-EE4D3554B54C" class="sect3">配置Oracle数据库：首次安装</h3>
               <div>
                  <div class="section">
                     <p>请按照以下步骤配置<a id="d11914e460" class="indexterm-anchor"></a>安装Oracle Database Gateway for APPC后的Oracle数据库。</p>
                     <ol>
                        <li>
                           <p>确保<a id="d11914e471" class="indexterm-anchor"></a><a id="d11914e473" class="indexterm-anchor"></a><a id="d11914e477" class="indexterm-anchor"></a> <code class="codeph">UTL_RAW</code> PL / SQL包已安装在Oracle数据库中。<a id="d11914e486" class="indexterm-anchor"></a><a id="d11914e492" class="indexterm-anchor"></a>所有PGAU生成的TIP规范都使用<code class="codeph">UTL_RAW</code> ，它提供了操作原始数据的例程。
                           </p>
                           <ol type="a">
                              <li>
                                 <p>使用<a id="d11914e504" class="indexterm-anchor"></a> SQL * Plus以用户<code class="codeph">SYS</code>身份连接到Oracle数据库。</p>
                              </li>
                              <li>
                                 <p>从SQL * Plus，输入以下命令：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; DESCRIBE UTL_RAW</pre><p><code class="codeph">DESCRIBE</code>语句在屏幕上生成输出。如果浏览输出，则应该看到一些函数，包括比较函数。如果没有看到此输出，请执行步骤<a href="configure-appc-gateway-using-tcp-ip.html#GUID-C1D6A15C-21DD-480A-A45D-EE4D3554B54C__I1009553">1.d</a>继续安装<code class="codeph">UTL_RAW</code> 。
                                 </p>
                                 <p>如果<a id="d11914e530" class="indexterm-anchor"></a><a id="d11914e534" class="indexterm-anchor"></a> <code class="codeph">DESCRIBE</code>语句表示成功，然后是Oracle数据库<a id="d11914e539" class="indexterm-anchor"></a> <code class="codeph">UTL_RAW</code>安装<code class="codeph">UTL_RAW</code> ，您可以继续执行步骤<a href="configure-appc-gateway-using-tcp-ip.html#GUID-C1D6A15C-21DD-480A-A45D-EE4D3554B54C__I1009086">2</a> 。
                                 </p>
                              </li>
                              <li>
                                 <p>使用SQL * Plus以<code class="codeph">SYS</code>身份连接到Oracle数据库。</p>
                              </li>
                              <li id="GUID-C1D6A15C-21DD-480A-A45D-EE4D3554B54C__I1009553">
                                 <p>从SQL * Plus，运行<a id="d11914e556" class="indexterm-anchor"></a><a id="d11914e560" class="indexterm-anchor"></a> utlraw.sql和<a id="d11914e565" class="indexterm-anchor"></a><a id="d11914e567" class="indexterm-anchor"></a> Oracle数据库<code class="codeph">%ORACLE_HOME%\rdbms\admin</code>目录中的<code class="codeph">prvtrawb.plb</code>脚本，顺序如下：</p><pre class="oac_no_warn" dir="ltr">C：\&gt; cd％ORACLE_HOME％\ rdbms \ admin SQL&gt; @ utlraw.sql SQL&gt; @ prvtrawb.sql</pre></li>
                           </ol>
                        </li>
                        <li id="GUID-C1D6A15C-21DD-480A-A45D-EE4D3554B54C__I1009086">
                           <p>确保<code class="codeph">DBMS_OUTPUT</code>标准PL / SQL <a id="d11914e585" class="indexterm-anchor"></a><a id="d11914e587" class="indexterm-anchor"></a><a id="d11914e591" class="indexterm-anchor"></a>包已启用<a id="d11914e596" class="indexterm-anchor"></a> Oracle数据库。分发介质上的示例程序和安装验证程序使用此标准程序包。
                           </p>
                           <ol type="a">
                              <li>
                                 <p>如有必要，请使用SQL * Plus以<code class="codeph">SYS</code>用户身份连接到Oracle数据库。</p>
                              </li>
                              <li>
                                 <p>输入以下命令：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; DESCRIBE DBMS_OUTPUT</pre><p>该<a id="d11914e615" class="indexterm-anchor"></a><a id="d11914e619" class="indexterm-anchor"></a> <code class="codeph">DESCRIBE</code>语句在屏幕上生成输出。如果您浏览该输出，那么您应该看到一些功能，包括a <a id="d11914e626" class="indexterm-anchor"></a><a id="d11914e628" class="indexterm-anchor"></a> put_line函数。
                                 </p>
                                 <p>如果没有看到此输出，则必须创建<code class="codeph">DBMS_OUTPUT</code>包。有关<code class="codeph">DBMS_OUTPUT</code>程序包的更多信息，请参阅<a href="../arpls/DBMS_OUTPUT.html#ARPLS036" target="_blank"><span class="italic">Oracle数据库PL / SQL程序包和类型参考</span></a> 。成功安装<code class="codeph">DBMS_OUTPUT</code>包后，发出<code class="codeph">DESCRIBE</code>语句。
                                 </p>
                                 <p>如果<code class="codeph">DESCRIBE</code>语句指示成功，则Oracle数据库已创建<code class="codeph">DBMS_OUTPUT</code> ，您可以继续执行步骤3。
                                 </p>
                              </li>
                           </ol>
                        </li>
                        <li>
                           <p>安装<a id="d11914e663" class="indexterm-anchor"></a><a id="d11914e667" class="indexterm-anchor"></a> <code class="codeph">UTL_PG</code> PL / SQL包。所有<a id="d11914e674" class="indexterm-anchor"></a><a id="d11914e680" class="indexterm-anchor"></a> PGAU生成的TIP规范使用<code class="codeph">UTL_PG</code> ，它提供了与原始数据进行数字转换的例程。
                           </p>
                           <ol type="a">
                              <li>
                                 <p>如有必要，请使用SQL * Plus以<code class="codeph">SYS</code>用户身份连接到Oracle数据库。</p>
                              </li>
                              <li>
                                 <p>从SQL * Plus，运行<a id="d11914e698" class="indexterm-anchor"></a><a id="d11914e702" class="indexterm-anchor"></a> Oracle数据库的<code class="codeph">%ORACLE_HOME%\rdbms\admin</code>目录中的<code class="codeph">utlpg.sql</code>和<code class="codeph">prvtpgb.plb</code>脚本，顺序如下：</p><pre class="oac_no_warn" dir="ltr">C：\&gt; cd％ORACLE_HOME％\ rdbms \ admin SQL&gt; @ utlpg.sql SQL&gt; @ prvtpgb.plb</pre></li>
                           </ol>
                        </li>
                        <li>
                           <p>我安装了异构服务（HS）目录。
                           </p>
                           <ol type="a">
                              <li>
                                 <p>如有必要，请使用SQL * Plus以<code class="codeph">SYS</code>用户身份连接到Oracle数据库。</p>
                              </li>
                              <li>
                                 <p>输入以下命令：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; DESCRIBE HS_FDS_CLASS</pre><p><code class="codeph">DESCRIBE</code>语句在屏幕上生成输出。如果<code class="codeph">DESCRIBE</code>语句指示成功，则已在Oracle数据库上创建了异构服务目录，您可以继续执行步骤<a href="configure-appc-gateway-using-tcp-ip.html#GUID-C1D6A15C-21DD-480A-A45D-EE4D3554B54C__I1008586">5</a> 。
                                 </p>
                                 <p>如果<code class="codeph">DESCRIBE</code>语句未指示成功，则必须创建异构服务目录，并且必须执行以下步骤<a href="configure-appc-gateway-using-tcp-ip.html#GUID-C1D6A15C-21DD-480A-A45D-EE4D3554B54C__I1011512">4.c</a> ：</p>
                              </li>
                              <li id="GUID-C1D6A15C-21DD-480A-A45D-EE4D3554B54C__I1011512">
                                 <p>如果需要创建异构服务目录，请输入以下命令：</p><pre class="oac_no_warn" dir="ltr">C：\&gt; cd％ORACLE_HOME％\ rdbms \ admin SQL&gt; @ caths.sql</pre></li>
                           </ol>
                        </li>
                        <li id="GUID-C1D6A15C-21DD-480A-A45D-EE4D3554B54C__I1008586">
                           <p><a id="d11914e765" class="indexterm-anchor"></a><a id="d11914e769" class="indexterm-anchor"></a>创建公共数据库链接以访问APPC的Oracle数据库网关： <a id="d11914e776" class="indexterm-anchor"></a> 
                           </p>
                           <p>使用<a id="d11914e783" class="indexterm-anchor"></a> SQL * Plus连接到<a id="d11914e788" class="indexterm-anchor"></a> Oracle数据库作为用户<code class="codeph">SYSTEM</code> 。您可以使用以下SQL * Plus <a id="d11914e794" class="indexterm-anchor"></a>表示Oracle数据库和网关是在同一系统上还是在不同系统上。在下面的示例中， <code class="codeph">pgasrv</code>是<span class="italic"><code class="codeph">tns_name_entry</code></span> ，稍后修改<code class="codeph">tnsnames.ora</code>文件时将分配给网关。
                           </p><pre class="oac_no_warn" dir="ltr">SQL&gt;使用<span class="italic">'PGASRV'</span>创建公共数据库链接PGA
</pre></li>
                        <li>
                           <p>创建网关管理员用户<a id="d11914e818" class="indexterm-anchor"></a> <code class="codeph">PGAADMIN</code>并安装<a id="d11914e825" class="indexterm-anchor"></a> PG DD。</p>
                           <ol type="a">
                              <li>
                                 <p>使用SQL * Plus以用户<code class="codeph">SYSTEM</code>身份连接到Oracle数据库。</p>
                              </li>
                              <li>
                                 <p>从SQL * Plus，运行<code class="codeph">pgacr8au.sql</code> <a id="d11914e843" class="indexterm-anchor"></a><a id="d11914e845" class="indexterm-anchor"></a> <code class="codeph">%ORACLE_HOME%\dg4appc\admin</code>目录中的脚本。此脚本创建<code class="codeph">PGAADMIN</code>用户标识。</p>
                                 <p>定义的初始密码<a id="d11914e858" class="indexterm-anchor"></a> <code class="codeph">PGAADMIN</code>是<code class="codeph">PGAADMIN</code> 。使用<a id="d11914e868" class="indexterm-anchor"></a><a id="d11914e870" class="indexterm-anchor"></a> <code class="codeph">ALTER USER</code>命令用于更改密码。有关密码问题的更多信息，请参阅<a href="../sqlrf/ALTER-USER.html#SQLRF01103" target="_blank"><span class="italic">Oracle数据库SQL语言参考</span></a> 。
                                 </p><pre class="oac_no_warn" dir="ltr">C：\&gt; cd％ORACLE_HOME％\ dg4appc \ admin SQL&gt; @ pgacr8au.sql</pre></li>
                              <li>
                                 <p>使用SQL * Plus以用户<code class="codeph">PGAADMIN</code>连接到Oracle数据库。</p>
                              </li>
                              <li>
                                 <p>从SQL * Plus，运行<code class="codeph">pgddcr8.sql</code> <a id="d11914e896" class="indexterm-anchor"></a><a id="d11914e898" class="indexterm-anchor"></a><a id="d11914e902" class="indexterm-anchor"></a> <code class="codeph">%ORACLE_HOME%\dg4appc\admin</code>目录中的脚本。此脚本安装PG DD。</p><pre class="oac_no_warn" dir="ltr">C：\&gt; cd％ORACLE_HOME％\ dg4appc \ admin SQL&gt; @ pgddcr8.sql</pre></li>
                              <li>
                                 <p>从SQL * Plus，以<code class="codeph">SYS</code>用户身份连接到Oracle数据库。</p>
                              </li>
                              <li>
                                 <p><a id="d11914e920" class="indexterm-anchor"></a>授予执行权限<a id="d11914e925" class="indexterm-anchor"></a> <code class="codeph">DBMS_PIPE</code>到<code class="codeph">PGAADMIN</code> ：<a id="d11914e933" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">SQL&gt; GRANT EXECUTE DBMS_PIPE到PGAADMIN</pre></li>
                           </ol>
                        </li>
                        <li>
                           <p>确保<a id="d11914e942" class="indexterm-anchor"></a> <code class="codeph">pg4tcpmap</code>包已安装在Oracle数据库中。按照步骤a到c测试<code class="codeph">pg4tcpmap</code>正确安装。
                           </p>
                           <p>请参阅<span class="q">“ <a href="appc-gateway-initialization-parameters-tcp-ip.html#GUID-C9B3713C-E8A0-4D7A-A6C9-504B83D64733">输出为pg4tcpmap工具</a> ”，</span>在<a href="appc-gateway-initialization-parameters-tcp-ip.html#GUID-67D9D370-DB10-430B-93B8-BD8844DE7E3E">网关初始化参数为TCP / IP通信协议</a>从输出的样本<code class="codeph">pg4tcpmap</code>工具，并参考第6章<a href="../appug/pg4tcpmap-commands-tcpip.html#APPUG600" target="_blank"><span class="italic">Oracle数据库网关APPC用户指南</span></a>关于所需要的命令的详细信息运行该工具。
                           </p>
                           <ol type="a">
                              <li>
                                 <p>使用<a id="d11914e975" class="indexterm-anchor"></a> SQL * Plus以用户<code class="codeph">SYSTEM</code>身份连接到Oracle数据库。</p>
                              </li>
                              <li>
                                 <p>输入以下命令：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; select table_name，dba_tables的owner，table_name ='PGA_TCP_IMSC'，owner ='PGAADMIN'; SQL&gt;列所有者格式化10 SQL&gt;列index_name格式18 SQL&gt;列table_name格式化14 SQL&gt; select owner，index_name，table_name，来自dba_indexes的唯一性，其中index_name ='PGA_TCP_IMSC_IND';</pre><p>两个<code class="codeph">SELECT</code>语句都必须分别生成一行。以下是第一个select语句的结果：</p><pre class="oac_no_warn" dir="ltr">TABLE_NAME OWNER ------------------------------ ------------------ ------------ PGA_TCP_IMSC PGAADMIN</pre><p></p>
                                 <p>以下是第二个select语句的结果：</p><pre class="oac_no_warn" dir="ltr">所有者INDEX_NAME TABLE_NAME不确定---------- ------------------ -------------- ---- ----- PGAADMIN PGA_TCP_IMSC_IND PGA_TCP_IMSC UNIQUE</pre><p>如果select语句在屏幕上产生前面的输出，那么你可以跳过步骤C.如果select语句没有产生输出或多行，那么结果与上面描述的输出不同，并且它是必要的你执行步骤<a href="configure-appc-gateway-using-tcp-ip.html#GUID-C1D6A15C-21DD-480A-A45D-EE4D3554B54C__BABIHCJJ">7.c.</a>
                                 </p>
                              </li>
                              <li id="GUID-C1D6A15C-21DD-480A-A45D-EE4D3554B54C__BABIHCJJ">
                                 <p>从SQL * Plus，运行<a id="d11914e1008" class="indexterm-anchor"></a> Oracle数据库的<code class="codeph">%ORACLE_HOME%\dg4appc\admin</code>目录中的<code class="codeph">pgaimsc.sql</code>脚本：</p><pre class="oac_no_warn" dir="ltr">C：\&gt; cd％ORACLE_HOME％\ dg4appc \ admin SQL&gt; @ pgaimsc.sql</pre></li>
                           </ol>
                        </li>
                        <li>
                           <p>安装<a id="d11914e1021" class="indexterm-anchor"></a><a id="d11914e1025" class="indexterm-anchor"></a> TIP跟踪访问PL / SQL例程。这些例程需要<a id="d11914e1028" class="indexterm-anchor"></a> <code class="codeph">DBMS_PIPE</code>标准PL / SQL包<a id="d11914e1033" class="indexterm-anchor"></a> <code class="codeph">PGAADMIN</code>具有执行权限。有关<code class="codeph">DBMS_PIPE</code>更多信息，请参阅<a href="../arpls/DBMS_PIPE.html#ARPLS038" target="_blank"><span class="italic">Oracle Database PL / SQL包和类型参考</span></a> 。
                           </p>
                           <ol type="a">
                              <li>
                                 <p>如有必要，请使用SQL * Plus连接到<a id="d11914e1051" class="indexterm-anchor"></a> Oracle数据库作为用户<code class="codeph">PGAADMIN</code> 。</p>
                              </li>
                              <li>
                                 <p>从SQL * Plus，运行<a id="d11914e1060" class="indexterm-anchor"></a> <code class="codeph">%ORACLE_HOME%\dg4appc\admin</code>目录中的<code class="codeph">pgatiptr.sql</code>脚本。这个脚本创建<a id="d11914e1068" class="indexterm-anchor"></a> PL / SQL例程，可以调用它们来读取和清除由PGAU生成的跟踪信息<a id="d11914e1073" class="indexterm-anchor"></a>提示规格。它还为这些例程创建公共同义词。该脚本会提示您输入必要的用户标识和密码。
                                 </p><pre class="oac_no_warn" dir="ltr">C：\&gt; cd％ORACLE_HOME％\ dg4appc \ admin SQL&gt; @ pgatiptr.sql</pre></li>
                           </ol>
                        </li>
                        <li>
                           <p>安装<code class="codeph">GPGLOCAL</code>包。编译和执行所有PGAU生成时需要此包<a id="d11914e1086" class="indexterm-anchor"></a>提示规格。<a id="d11914e1091" class="indexterm-anchor"></a><a id="d11914e1095" class="indexterm-anchor"></a><a id="d11914e1099" class="indexterm-anchor"></a>应该授予TIP开发人员执行权限<a id="d11914e1104" class="indexterm-anchor"></a> <code class="codeph">GPGLOCAL</code> （请参阅<span class="q">“ <a href="configure-appc-gateway-using-tcp-ip.html#GUID-9F6E76E3-09C2-47EE-B212-A7B8153752C6">允许多个用户的可选配置步骤</a> ”</span> ）。
                           </p>
                           <ol type="a">
                              <li>
                                 <p>使用SQL * Plus以用户身份连接到Oracle数据库<a id="d11914e1119" class="indexterm-anchor"></a> <code class="codeph">PGAADMIN</code> 。</p>
                              </li>
                              <li>
                                 <p>从SQL * Plus，在<code class="codeph">%ORACLE_HOME%\dg4appc\admin</code>目录中运行<code class="codeph">gpglocal.pkh</code>脚本。这个脚本编译<a id="d11914e1133" class="indexterm-anchor"></a><a id="d11914e1135" class="indexterm-anchor"></a> <code class="codeph">GPGLOCAL</code>包规范。<a id="d11914e1142" class="indexterm-anchor"></a><a id="d11914e1144" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">C：\&gt; cd％ORACLE_HOME％\ dg4appc \ admin SQL&gt; @ gpglocal.pkh</pre></li>
                              <li>
                                 <p>从SQL * Plus，在<code class="codeph">%ORACLE_HOME%\dg4appc\admin</code>目录中运行<code class="codeph">gpglocal.pkb</code>脚本。该脚本编译<code class="codeph">GPGLOCAL</code>包体。<a id="d11914e1162" class="indexterm-anchor"></a><a id="d11914e1164" class="indexterm-anchor"></a></p><pre class="oac_no_warn" dir="ltr">C：\&gt; cd％ORACLE_HOME％\ dg4appc \ admin SQL&gt; @ gpglocal.pkb</pre><div class="infoboxnote" id="GUID-C1D6A15C-21DD-480A-A45D-EE4D3554B54C__GUID-52205353-CF87-4B8A-87F8-76C5E9C3F7D9">
                                    <p class="notep1">注意：</p>
                                    <p><span class="bold">将通信协议从SNA更改为TCP / IP时重新编译TIP</span> ：</p>
                                    <p>如果您现有的TIP是使用SNA协议在网关上生成的，并且您希望使用新的TCP / IP功能，那么PGA必须使用强制<code class="codeph">NLS_LANGUAGE</code>和Side Profile Settings重新生成TIP。在<code class="codeph">DEFINE</code> <code class="codeph">TRANSACTION</code>命令中指定合适的ASCII字符集。
                                    </p>
                                    <p>这是因为网关假定正在使用IMS Connect中的适当用户出口，这将在适当的ASCII和EBCDIC字符集之间进行转换。</p>
                                 </div>
                              </li>
                           </ol>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="APPCW219"></a><div class="props_rev_3"><a id="GUID-9883203F-7CBC-484D-BCC3-CA836A9946B1" name="GUID-9883203F-7CBC-484D-BCC3-CA836A9946B1"></a><h3 id="APPCW-GUID-9883203F-7CBC-484D-BCC3-CA836A9946B1" class="sect3">从以前的网关升级或迁移Oracle数据库</h3>
               <div>
                  <div class="section">
                     <p>仅当您的系统上安装了以前版本的Oracle Database Gateway for APPC并且需要为网关的12 <span class="italic">c</span>版本21（12.2）配置它时，请遵循这些说明。
                     </p>
                     <ol>
                        <li>
                           <p>将Oracle Database Gateway for APPC升级到当前版本级别，如下所示：</p>
                           <ol type="a">
                              <li>
                                 <p>使用SQL * Plus以<code class="codeph">SYS</code>用户身份连接到Oracle数据库。</p>
                              </li>
                              <li>
                                 <p>安装<code class="codeph">UTL_RAW</code>包体。从SQL * Plus，从<code class="codeph">%ORACLE_HOME%\rdbms\admin</code>目录运行<code class="codeph">prvtrawb.plb</code>脚本。该脚本升级<code class="codeph">UTL_RAW</code>包体。
                                 </p><pre class="oac_no_warn" dir="ltr">C：\&gt; cd％ORACLE_HOME％\ rdbms \ admin SQL&gt; @ prvtrawb.plb</pre></li>
                              <li>
                                 <p>安装<code class="codeph">UTL_PG</code>包体。从SQL * Plus，从<code class="codeph">%ORACLE_HOME%\rdbms\admin</code>目录运行<code class="codeph">prvtpgb.plb</code>脚本。此脚本升级<code class="codeph">UTL_PG</code>程序包主体。
                                 </p><pre class="oac_no_warn" dir="ltr">C：\&gt; cd％ORACLE_HOME％\ rdbms \ admin SQL&gt; @ prvtpgb.plb</pre></li>
                           </ol>
                           <p><code class="codeph">prvtrawb.plb</code>和<code class="codeph">prvtpgb.plb</code>脚本应该成功完成。如果由于规范不存在或无效而失败，请考虑按照“ <a href="configure-appc-gateway-using-tcp-ip.html#GUID-8ECDBDAF-284D-447F-A8D6-767D82C8420A">如果必须重新安装软件包规范”中的说明重新安装软件包规范</a> 。
                           </p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
               </div><a id="APPCW220"></a><div class="props_rev_3"><a id="GUID-8ECDBDAF-284D-447F-A8D6-767D82C8420A" name="GUID-8ECDBDAF-284D-447F-A8D6-767D82C8420A"></a><h4 id="APPCW-GUID-8ECDBDAF-284D-447F-A8D6-767D82C8420A" class="sect4">如果必须重新安装包规范</h4>
                  <div>
                     <div class="section">
                        <p>如果<code class="codeph">UTL_RAW</code>或<code class="codeph">UTL_PG</code>程序包已失效或删除，则<code class="codeph">prvtrawb.plb</code>和<code class="codeph">prvtpgb.plb</code>脚本可能无法成功完成，则可能必须重新安装程序包规范。
                        </p>
                        <p>如果确实重新安装了软件包规范，那么任何依赖对象（例如现有用户TIP和客户端应用程序）都将失效，随后需要重新编译。这种影响是一次性能延迟，同时重新编译TIP和从属客户端应用程序。</p>
                        <div class="infoboxnote" id="GUID-8ECDBDAF-284D-447F-A8D6-767D82C8420A__GUID-BFD9E9D3-CF9F-4DE9-970A-6F4A19983049">
                           <p class="notep1">注意：</p>
                           <p>在继续重新安装包脚本之前，请确保您位于<code class="codeph">%ORACLE_HOME%\dg4appc\admin</code>目录中</p>
                        </div>
                        <p>TIP在版本3.3中被拆分为单独的规范和正文文件，以避免在以后的版本中进行级联重新编译。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>步骤1：在继续PGAU升级之前运行以下脚本：</p>
                              <ol>
                                 <li>
                                    <p>如有必要，请使用SQL * Plus以<code class="codeph">SYS</code>用户身份连接到Oracle数据库。</p>
                                 </li>
                                 <li>
                                    <p>从SQL * Plus，按以下顺序在Oracle数据库<code class="codeph">%ORACLE_HOME%\rdbms\admin</code>目录中运行<code class="codeph">utlraw.sql</code>和<code class="codeph">utlpg.sql</code>脚本，以升级其各自的包规范：</p><pre class="oac_no_warn" dir="ltr">C：\&gt; cd％ORACLE_HOME％\ rdbms \ admin SQL&gt; @ utlraw.sql SQL&gt; @ utlpg.sql</pre></li>
                              </ol>
                           </li>
                           <li>
                              <p>第2步：重复安装<code class="codeph">UTL_RAW</code>和<code class="codeph">UTL_PG</code>包体</p>
                           </li>
                        </ul>
                        <p>脚本运行后，重复<a href="configure-appc-gateway-using-tcp-ip.html#GUID-9883203F-7CBC-484D-BCC3-CA836A9946B1">从先前网关升级或迁移Oracle数据库中的</a>步骤1a和1b，然后继续<a href="configure-appc-gateway-using-tcp-ip.html#GUID-F632840A-F2C5-496A-83E4-CCABBF1F7F39">从以前的网关版本升级PGAU</a> 。
                        </p>
                        <div class="infoboxnote" id="GUID-8ECDBDAF-284D-447F-A8D6-767D82C8420A__GUID-DFE1FE94-FD94-4A78-B62C-2BD2431AEC2B">
                           <p class="notep1">注意：</p>
                           <p>重新安装软件包规范后，必须重新编译TIP和从属客户端应用程序。有关编译TIP的更多信息，请参阅“ <a href="../appug/creating-tip-oracle-database-gateway-appc.html#APPUG300" target="_blank"><span class="italic">Oracle Database Gateway for APPC用户指南”</span></a></p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="APPCW221"></a><div class="props_rev_3"><a id="GUID-F632840A-F2C5-496A-83E4-CCABBF1F7F39" name="GUID-F632840A-F2C5-496A-83E4-CCABBF1F7F39"></a><h4 id="APPCW-GUID-F632840A-F2C5-496A-83E4-CCABBF1F7F39" class="sect4">从以前的网关版本升级PGAU</h4>
                  <div>
                     <div class="section">
                        <p>在执行新的PGAU之前，按如下方式升级PG DD：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>如有必要，请使用SQL * Plus以用户<code class="codeph">PGAADMIN</code>连接到Oracle数据库。</span></li>
                        <li class="stepexpand"><span>从SQL * Plus，在<code class="codeph">%ORACLE_HOME%\dg4appc\admin</code>目录中运行<code class="codeph">pgddupgr.sql</code>脚本。此脚本升级PG DD。</span><div><pre class="oac_no_warn" dir="ltr">C：\&gt; cd％ORACLE_HOME％\ dg4appc \ admin SQL&gt; @ pgddupgr.sql</pre></div>
                        </li>
                     </ol>
                  </div>
               </div>
            </div><a id="APPCW222"></a><div class="props_rev_3"><a id="GUID-9F6E76E3-09C2-47EE-B212-A7B8153752C6" name="GUID-9F6E76E3-09C2-47EE-B212-A7B8153752C6"></a><h3 id="APPCW-GUID-9F6E76E3-09C2-47EE-B212-A7B8153752C6" class="sect3">允许多个用户的可选配置步骤</h3>
               <div>
                  <div class="section">
                     <p>以下配置步骤是可选的。如果要允许除以外的用户，请执行这些步骤<a id="d11914e1494" class="indexterm-anchor"></a> <code class="codeph">PGAADMIN</code>表演<a id="d11914e1501" class="indexterm-anchor"></a>使用PGAU的PG DD操作。</p>
                     <ol>
                        <li>
                           <p>创建<a id="d11914e1510" class="indexterm-anchor"></a><a id="d11914e1512" class="indexterm-anchor"></a> PG DD的公共同义词，允许其他用户访问表：</p>
                           <ol type="a">
                              <li>
                                 <p>使用SQL * Plus以用户<code class="codeph">SYSTEM</code>身份连接到Oracle数据库。</p>
                              </li>
                              <li>
                                 <p>从SQL * Plus，在<code class="codeph">%ORACLE_HOME%\dg4appc\admin</code>目录中运行<code class="codeph">pgddcr8s.sql</code>脚本。此脚本为PG DD创建公共同义词。</p><pre class="oac_no_warn" dir="ltr">C：\&gt; cd％ORACLE_HOME％\ dg4appc \ admin SQL&gt; @ pgddcr8.sql</pre></li>
                           </ol>
                        </li>
                        <li>
                           <p>创建角色以访问PG DD，执行事务定义和生成<a id="d11914e1538" class="indexterm-anchor"></a>提示规格。<code class="codeph">PGAADMIN</code>用户可以根据需要将这些角色授予其他用户。
                           </p>
                           <ol type="a">
                              <li>
                                 <p>使用SQL * Plus以用户<code class="codeph">PGAADMIN</code>连接到Oracle数据库。</p>
                              </li>
                              <li>
                                 <p>从SQL * Plus，在<code class="codeph">%ORACLE_HOME%\dg4appc\admin</code>目录中运行<code class="codeph">pgddcr8r.sql</code>脚本。该脚本创建了两个角色， <code class="codeph">PGDDDEF</code>和<code class="codeph">PGDDGEN</code> 。该<a id="d11914e1568" class="indexterm-anchor"></a><a id="d11914e1570" class="indexterm-anchor"></a> <code class="codeph">PGDDDEF</code>角色为<code class="codeph">PGDDDEF</code>角色提供<code class="codeph">SELECT</code> ， <code class="codeph">INSERT</code> ， <code class="codeph">UPDATE</code>和<code class="codeph">DELETE</code>权限<a id="d11914e1590" class="indexterm-anchor"></a> PG DD表，以及针对其他人的select权限，并允许执行<code class="codeph">PGAU</code> <code class="codeph">DEFINE</code> ， <code class="codeph">GENERATE</code> ， <code class="codeph">REDEFINE</code> ， <code class="codeph">REPORT</code>和<code class="codeph">UNDEFINE</code>语句。该<a id="d11914e1615" class="indexterm-anchor"></a><a id="d11914e1617" class="indexterm-anchor"></a> <code class="codeph">PGDDGEN</code>角色为PG DD表提供select权限，并且只允许执行<code class="codeph">PGAU</code> <code class="codeph">GENERATE</code>和<code class="codeph">REPORT</code>语句。
                                 </p><pre class="oac_no_warn" dir="ltr">C：\&gt; cd％ORACLE_HOME％\ dg4appc \ admin SQL&gt; @ pgddcr8r.sql</pre></li>
                           </ol>
                        </li>
                        <li>
                           <p><a id="d11914e1637" class="indexterm-anchor"></a><a id="d11914e1641" class="indexterm-anchor"></a><a id="d11914e1645" class="indexterm-anchor"></a><a id="d11914e1649" class="indexterm-anchor"></a>授予访问PGA所需包的权限。
                           </p>
                           <p><a id="d11914e1655" class="indexterm-anchor"></a><a id="d11914e1659" class="indexterm-anchor"></a> TIP开发人员需要访问随附的以下PL / SQL包<a id="d11914e1664" class="indexterm-anchor"></a> Oracle数据库：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p><a id="d11914e1672" class="indexterm-anchor"></a> <code class="codeph">%ORACLE_HOME%\rdbms\admin</code> <code class="codeph">DBMS_PIPE</code> <a id="d11914e1679" class="indexterm-anchor"></a>目录</p>
                              </li>
                              <li>
                                 <p><a id="d11914e1684" class="indexterm-anchor"></a> <code class="codeph">%ORACLE_HOME%\rdbms\admin</code> <code class="codeph">UTL_RAW</code> <a id="d11914e1691" class="indexterm-anchor"></a>目录</p>
                              </li>
                              <li>
                                 <p><a id="d11914e1700" class="indexterm-anchor"></a> <code class="codeph">%ORACLE_HOME%\rdbms\admin</code> <code class="codeph">UTL_PG</code> <a id="d11914e1707" class="indexterm-anchor"></a><a id="d11914e1711" class="indexterm-anchor"></a>目录</p>
                              </li>
                           </ul>
                           <p>必须向TIP开发人员提供执行这些包的显式授权。</p>
                           <p>这些授权可以是私有的，如下例所示：</p><pre class="oac_no_warn" dir="ltr">C：\&gt; sqlplus SYS \ <span class="italic">pw @ database_specification_string</span> SQL&gt; GRANT EXECUTE ON UTL_RAW TO <span class="italic">tip_developer</span> ; SQL&gt; GRANT EXECUTE ON UTL_PG to <span class="italic">tip_developer</span> ; SQL&gt; GRANT EXECUTE ON DBMS_PIPE TO <span class="italic">tip_developer;</span> SQL&gt; CONNECT PGAADMIN \ <span class="italic">pw @ database_specification_string</span> SQL&gt; GRANT EXECUTE在PGAADMIN.PURGE_TRACE到<span class="italic">tip_developer</span> ; SQL&gt; GRANT EXECUTE在PGAADMIN.READ_TRACE上执行<span class="italic">tip_developer</span> ; SQL&gt; GRANT EXECUTE on PGAADMIN.GPGLOCAL to <span class="italic">tip_developer;</span> SQL&gt;退出</pre><p>或者，这些授权可以是公开的，如下例所示：</p><pre class="oac_no_warn" dir="ltr">C：\&gt; sqlplus SYS \ pw @ <span class="italic">database_specification_string</span> SQL&gt; GRTL EXECUTE UTL_RAW TO PUBLIC; SQL&gt;在UTL_PG上执行GRANT EXECUTE; SQL&gt; GRANT EXECUTE DBMS_PIPE到PUBLIC; SQL&gt; CONNECT PGAADMIN \ <span class="italic">pw @ database_specification_string</span> SQL&gt; GRGA EXECUTE PGAADMIN.PURGE_TRACE TO PUBLIC; SQL&gt; GRGA EXECUTE PGAADMIN.READ_TRACE TO PUBLIC; SQL&gt; GRGA EXECUTE PGAADMIN.GPGLOCAL TO PUBLIC; SQL&gt; EXIT</pre><p>您可以使用私人或公共补助金。两者都足以使用PGA。公共补助更容易，现在可以执行。如果您使用私有授权，则每次创建新的TIP开发人员用户ID时都必须发布它们。<a id="d11914e1759" class="indexterm-anchor"></a><a id="d11914e1763" class="indexterm-anchor"></a></p>
                           <p><code class="codeph">%ORACLE_HOME%\dg4appc\admin</code>目录中提供了用于执行这些授权的SQL脚本。该<a id="d11914e1772" class="indexterm-anchor"></a><a id="d11914e1776" class="indexterm-anchor"></a><a id="d11914e1781" class="indexterm-anchor"></a><a id="d11914e1785" class="indexterm-anchor"></a> <code class="codeph">pgddapub.sql</code>脚本执行这些授权以公开访问包。该<a id="d11914e1792" class="indexterm-anchor"></a><a id="d11914e1797" class="indexterm-anchor"></a><a id="d11914e1801" class="indexterm-anchor"></a><a id="d11914e1805" class="indexterm-anchor"></a> <code class="codeph">pgddadev.sql</code>脚本执行授权，以便由单个TIP开发人员对包进行私有访问。如果要使用私有授权，则必须为每个TIP开发人员的用户ID运行一次<code class="codeph">pgddadev.sql</code>脚本：</p>
                           <ol type="a">
                              <li>
                                 <p>使用SQL * Plus以用户<code class="codeph">PGAADMIN</code>连接到Oracle数据库。</p>
                              </li>
                              <li>
                                 <p>从SQL * Plus中，从<code class="codeph">%ORACLE_HOME%\dg4appc\admin</code>目录运行合适的脚本（ <code class="codeph">pgddapub.sql</code>或<code class="codeph">pgddadev.sql</code> ）。该脚本执行必要的授权，如前所述。系统会提示您输入所需的用户标识，密码和数据库规范字符串。如果您使用私有授权，则对需要访问软件包的每个用户ID重复此步骤。
                                 </p><pre class="oac_no_warn" dir="ltr">C：\&gt; cd％ORACLE_HOME％\ dg4appc \ admin SQL&gt; @ pgddapub.sql</pre><p>要么</p><pre class="oac_no_warn" dir="ltr">SQL&gt; @ pgddadev.sql</pre></li>
                           </ol>
                        </li>
                        <li>
                           <p><a id="d11914e1842" class="indexterm-anchor"></a><a id="d11914e1848" class="indexterm-anchor"></a>如果在通信协议为SNA时从先前版本的网关升级到使用TCP / IP的当前网关，并且如果要升级现有网关<a id="d11914e1853" class="indexterm-anchor"></a><a id="d11914e1857" class="indexterm-anchor"></a><a id="d11914e1858" class="indexterm-anchor"></a>具有新功能和维护的TIP，然后使用。重新生成现有的T IP规范<a id="d11914e1868" class="indexterm-anchor"></a> PGAU <code class="codeph">GENERATE</code>声明。
                           </p>
                           <div class="infoboxnote" id="GUID-9F6E76E3-09C2-47EE-B212-A7B8153752C6__GUID-F70BAD7D-FFFC-4B4C-8945-01CD0C33606D">
                              <p class="notep1">注意：</p>
                              <p>该<a id="d11914e1880" class="indexterm-anchor"></a>程序网关管理实用程序（PGAU）已得到增强，可自动升级现有的PG DD条目<a id="d11914e1885" class="indexterm-anchor"></a><a id="d11914e1889" class="indexterm-anchor"></a>当一个新的属性时<a id="d11914e1894" class="indexterm-anchor"></a>执行PGAU <code class="codeph">GENERATE</code>命令。要支持此增强功能，请为该增强功能添加新权限<a id="d11914e1902" class="indexterm-anchor"></a> <code class="codeph">PGDDGEN</code>角色。为此，作为<code class="codeph">PGAADMIN</code>用户，使用SQL * Plus连接到存储PG DD的Oracle数据库。然后，发出以下SQL命令：</p><pre class="oac_no_warn" dir="ltr">SQL&gt; GRANT INSERT在PGA_DATA_VALUES到PGDDGEN</pre></div>
                           <ol type="a">
                              <li>
                                 <p>在生成PGAU控制文件的目录路径中调用PGAU以及存储TIP的位置：</p><pre class="oac_no_warn" dir="ltr">C：\&gt; pgau PGAU&gt; CONNECT PGAADMIN \ pgaadmin @ <span class="italic">database_specification_string</span> PGAU&gt; GENERATE <span class="italic">tranname</span> PGAU&gt; EXIT</pre></li>
                           </ol>
                           <p>有关<code class="codeph">GENERATE</code>命令的更多信息，请参阅<a href="../appug/pga-utility-oracle-database-gateway-appc.html#APPUG200" target="_blank"><span class="italic">Oracle Database Gateway for APPC用户指南</span></a>第2章中的<a href="../appug/pga-utility-oracle-database-gateway-appc.html#APPUG944" target="_blank">PGAU GENERATE</a>部分。
                           </p>
                           <p>请注意，不必再次定义PG DD条目。</p>
                        </li>
                        <li>
                           <p>在存储新生成的TIP规范的同一目录路径中调用SQL * Plus。</p><pre class="oac_no_warn" dir="ltr">C：\&gt; sqlplus <span class="italic">tip_owner \ pw @ database_specification_string</span> SQL&gt; @ <span class="italic">tipname。</span> pkh SQL&gt; @ <span class="italic">tipname</span> .pkb SQL&gt;退出</pre><p><a id="d11914e1958" class="indexterm-anchor"></a><a id="d11914e1964" class="indexterm-anchor"></a><a id="d11914e1968" class="indexterm-anchor"></a> PGAU <code class="codeph">GENERATE</code>在两个输出文件中生成TIP，规范和正文。您必须先编译规范，然后再编译正文。
                           </p>
                           <p>有关<code class="codeph">GENERATE</code>命令的更多信息，请参阅<a href="../appug/pga-utility-oracle-database-gateway-appc.html#APPUG200" target="_blank"><span class="italic">Oracle Database Gateway for APPC用户指南</span></a>第2章中的<a href="../appug/pga-utility-oracle-database-gateway-appc.html#APPUG944" target="_blank">PGAU GENERATE</a>命令部分。
                           </p>
                        </li>
                     </ol>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="APPCW223"></a><div class="props_rev_3"><a id="GUID-4401EF36-6A5E-4DF2-8FB8-57D8EEFEDB92" name="GUID-4401EF36-6A5E-4DF2-8FB8-57D8EEFEDB92"></a><h3 id="APPCW-GUID-4401EF36-6A5E-4DF2-8FB8-57D8EEFEDB92" class="sect3">配置网关的TCP / IP</h3>
               <div>
                  <div class="section">
                     <p>您现在必须为TCP / IP连接的IMS Connect通信包配置文件配置TCP / IP。</p>
                     <p>配置配置文件以定义与TCP / IP对话<a id="d11914e2046" class="indexterm-anchor"></a> OLTP。</p>
                     <p>完成通信包的配置后，请返回以下部分“ <a href="configure-appc-gateway-using-tcp-ip.html#GUID-A60824B1-6CFC-4CC5-BB8A-C977BFA8A189">配置网关”</a> 。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="APPCW224"></a><div class="props_rev_3"><a id="GUID-A60824B1-6CFC-4CC5-BB8A-C977BFA8A189" name="GUID-A60824B1-6CFC-4CC5-BB8A-C977BFA8A189"></a><h3 id="APPCW-GUID-A60824B1-6CFC-4CC5-BB8A-C977BFA8A189" class="sect3">配置网关</h3>
               <div>
                  <div class="section">
                     <p>使用以下步骤配置网关。</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>自定义网关参数。</span><div>
                           <p>有许多具体的参数<a id="d11914e2099" class="indexterm-anchor"></a>在使用TCP / IP进行IMS Connect时，APPC的Oracle数据库网关。它们在网关参数文件<code class="codeph">init <span class="codeinlineitalic">sid</span> .ora</code>中提供，该文件位于<a id="d11914e2112" class="indexterm-anchor"></a> <code class="codeph">%ORACLE_HOME%\dg4appc\admin</code>目录。示例网关参数<a id="d11914e2117" class="indexterm-anchor"></a><a id="d11914e2119" class="indexterm-anchor"></a><a id="d11914e2125" class="indexterm-anchor"></a>文件， <a id="d11914e2131" class="indexterm-anchor"></a><a id="d11914e2133" class="indexterm-anchor"></a> <code class="codeph">initPGA.ora</code> ，在此子目录中提供。<a id="d11914e2140" class="indexterm-anchor"></a><a id="d11914e2144" class="indexterm-anchor"></a><a id="d11914e2150" class="indexterm-anchor"></a></p>
                           <div class="infoboxnote" id="GUID-A60824B1-6CFC-4CC5-BB8A-C977BFA8A189__GUID-33894135-8EAF-4D97-A7B2-C79337F24F77">
                              <p class="notep1">注意：</p>
                              <p>在里面<a id="d11914e2157" class="indexterm-anchor"></a><a id="d11914e2159" class="indexterm-anchor"></a> <code class="codeph">init <span class="codeinlineitalic">sid</span> .ora</code>文件，替换你的网关<span class="bold"> </span>此文件名中“ <span class="italic"><code class="codeph">sid</code></span> ”的SID名称。
                              </p>
                              <p>init <span class="italic">sid</span> .ora文件包含APPC和TCP / IP参数，由描述分隔。您必须通过删除APPC参数来修改<code class="codeph">init <span class="codeinlineitalic">sid</span> .ora</code>文件。有关有效的TCP / IP参数，请参阅<a href="appc-gateway-initialization-parameters-tcp-ip.html#GUID-67D9D370-DB10-430B-93B8-BD8844DE7E3E">TCP / IP通信协议的网关初始化</a>参数。
                              </p>
                           </div>
                           <p>参数分为两类：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>网关初始化<a id="d11914e2197" class="indexterm-anchor"></a><a id="d11914e2203" class="indexterm-anchor"></a><a id="d11914e2207" class="indexterm-anchor"></a>参数</p>
                                 <p>这些参数控制Oracle环境中网关的一般操作。</p>
                                 <div class="infoboxnote" id="GUID-A60824B1-6CFC-4CC5-BB8A-C977BFA8A189__GUID-2DA2B5C3-F793-4AC9-9ECA-7AEB91D91ABF">
                                    <p class="notep1">注意：</p>
                                    <p>在执行以下步骤之前，请参阅<a href="appc-gateway-initialization-parameters-tcp-ip.html#GUID-67D9D370-DB10-430B-93B8-BD8844DE7E3E">TCP / IP通信协议的网关初始化参数，</a>以获取有关定制网关初始化和PGA参数的信息。特别注意使用的信息<a id="d11914e2221" class="indexterm-anchor"></a> <code class="codeph">PGA_CAPABILITY</code>参数。
                                    </p>
                                 </div>
                              </li>
                              <li>
                                 <p>PGA <a id="d11914e2231" class="indexterm-anchor"></a><a id="d11914e2235" class="indexterm-anchor"></a><a id="d11914e2241" class="indexterm-anchor"></a>参数</p>
                                 <p>PGA参数控制网关的TCP / IP接口部分。使用<a id="d11914e2248" class="indexterm-anchor"></a><a id="d11914e2252" class="indexterm-anchor"></a> <code class="codeph">SET</code>网关初始化参数指定PGA参数。Oracle建议您对所有<code class="codeph">SET</code>命令进行分组<a id="d11914e2264" class="indexterm-anchor"></a><a id="d11914e2266" class="indexterm-anchor"></a>对于init <span class="italic">sid</span> .ora文件末尾的PGA参数。
                                 </p>
                                 <div class="infoboxnote" id="GUID-A60824B1-6CFC-4CC5-BB8A-C977BFA8A189__GUID-1D92A7D7-737D-4553-9ADE-025220344BCE">
                                    <p class="notep1">注意：</p>
                                    <p>拼写错误的参数将被忽略<a id="d11914e2277" class="indexterm-anchor"></a> 。但是，如果缺少<code class="codeph">%ORACLE_HOME%\dg4appc\admin\initsid.ora</code>文件，则对网关的所有调用都会失败并返回<code class="codeph">PGA-20928</code>错误。
                                    </p>
                                 </div>
                              </li>
                           </ul>
                        </div>
                     </li>
                  </ol>
               </div>
            </div><a id="APPCW225"></a><div class="props_rev_3"><a id="GUID-7FBE512D-4608-482A-8F27-EFBFF6BAE583" name="GUID-7FBE512D-4608-482A-8F27-EFBFF6BAE583"></a><h3 id="APPCW-GUID-7FBE512D-4608-482A-8F27-EFBFF6BAE583" class="sect3">加载PGA_TCP_IMSC表</h3>
               <div>
                  <div class="section">
                     <p>希望使用TCP / IP协议的网关用户通过使用<a id="d11914e2331" class="indexterm-anchor"></a> <code class="codeph">pg4tcpmap</code>工具。
                     </p>
                     <p>该<a id="d11914e2340" class="indexterm-anchor"></a> <code class="codeph">pg4tcpmap</code>工具驻留在网关上。其功能是将侧面配置文件名称映射到TCP / IP和IMS Connect属性。您必须在执行PL / SQL网关语句之前运行此工具（例如<code class="codeph">%ORACLE_HOME%\dg4appc\demo\IMS\pgaims.sql</code> ）。 <span class="bold"> </span></p>
                     <p>在<a id="d11914e2354" class="indexterm-anchor"></a>例如，PGAINIT TIP，用户必须指定侧面配置文件名称。SNA协议识别并使用该参数。在此版本的网关中， <code class="codeph">pg4tcpmap</code>工具使用原始PGAINIT TIP格式将相关SNA参数映射到TCP / IP。 <code class="codeph">pg4tcpmap</code>工具将这些参数的值插入到一个名为的表中<a id="d11914e2363" class="indexterm-anchor"></a><a id="d11914e2367" class="indexterm-anchor"></a> <code class="codeph">PGA_TCP_IMSC</code> 。
                     </p>
                     <p>在执行<code class="codeph">pg4tcpmap</code>之前，必须指定<code class="codeph">ORACLE_HOME</code> ，Oracle SID并修改<code class="codeph">init <span class="codeinlineitalic">sid</span> .ora</code> 。有关<code class="codeph">pg4tcpmap</code>命令的完整信息，请参阅本指南中的<a href="appc-gateway-initialization-parameters-tcp-ip.html#GUID-67D9D370-DB10-430B-93B8-BD8844DE7E3E">“TCP / IP通信协议的网关初始化参数”</a>和“ <a href="../appug/pg4tcpmap-commands-tcpip.html#APPUG600" target="_blank"><span class="italic">Oracle数据库网关APPC用户指南”的</span></a>第6章。
                     </p>
                     <p>“ <a href="../appug/pg4tcpmap-commands-tcpip.html#APPUG600" target="_blank"><span class="italic">Oracle数据库网关APPC用户指南”的</span></a>第6章包含一个列表<a id="d11914e2408" class="indexterm-anchor"></a> <code class="codeph">pg4tcpmap</code>命令和使用它们的说明，以及表的示例。有关已执行的<code class="codeph">pg4tcpmap</code>工具的跟踪文件的信息，请参阅“ <a href="../appug/troubleshooting-oracle-database-gateway-appc.html#APPUG800" target="_blank"><span class="italic">Oracle Database Gateway for APPC用户指南</span></a> ”中的“故障排除”。
                     </p>
                     <p>要操作此工具，请执行以下命令：</p><pre class="oac_no_warn" dir="ltr">C：\&gt; cd％ORACLE_HOME％\ bin C：\&gt; pg4tcpmap</pre><p>有关<code class="codeph">pg4tcpmap</code>输出的示例，请参阅<span class="q">“ <a href="appc-gateway-initialization-parameters-tcp-ip.html#GUID-C9B3713C-E8A0-4D7A-A6C9-504B83D64733">pg4tcpmap工具</a></span>的输出”。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="APPCW226"></a><div class="props_rev_3"><a id="GUID-8D4B842E-0CF0-4072-8FF6-3AC0737A7D00" name="GUID-8D4B842E-0CF0-4072-8FF6-3AC0737A7D00"></a><h3 id="APPCW-GUID-8D4B842E-0CF0-4072-8FF6-3AC0737A7D00" class="sect3">验证网关安装和OLTP配置</h3>
               <div>
                  <div class="section">
                     <p>要验证网关安装和OLTP配置，请在安装网关后执行以下过程。<a id="d11914e2469" class="indexterm-anchor"></a><a id="d11914e2475" class="indexterm-anchor"></a></p>
                     <div class="infoboxnote" id="GUID-8D4B842E-0CF0-4072-8FF6-3AC0737A7D00__GUID-EB033894-EA4D-45AF-A47F-5ABD08BB76C3">
                        <p class="notep1">注意：</p>
                        <p>如果你的<a id="d11914e2484" class="indexterm-anchor"></a>数据库链接名称不是“PGA”，修改演示<code class="codeph">.sql</code>文件，为它们提供您在步骤<a href="configure-appc-gateway-using-tcp-ip.html#GUID-C1D6A15C-21DD-480A-A45D-EE4D3554B54C__i1008586">configure-appc-gateway-using-tcp-ip.html＃GUID-C1D6A15C-21DD-480A-中</a>创建的特定数据库链接名称<span class="q">“ <a href="configure-appc-gateway-using-tcp-ip.html#GUID-C1D6A15C-21DD-480A-A45D-EE4D3554B54C">配置Oracle数据库：首次安装</a> ”的</span> <a href="configure-appc-gateway-using-tcp-ip.html#GUID-C1D6A15C-21DD-480A-A45D-EE4D3554B54C__i1008586">A45D-EE4D3554B54C__i1008586</a> 。您必须修改以下.sql文件：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">pgavsn.sql</code></p>
                           </li>
                           <li>
                              <p><a id="d11914e2506" class="indexterm-anchor"></a><a id="d11914e2508" class="indexterm-anchor"></a><code class="codeph">pgaecho.sql</code> 
                              </p>
                           </li>
                           <li>
                              <p><a id="d11914e2517" class="indexterm-anchor"></a><a id="d11914e2519" class="indexterm-anchor"></a><code class="codeph">pgaims.sql </code></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div><a id="APPCW227"></a><div class="props_rev_3"><a id="GUID-02491AB4-86E5-4F50-B968-BE0457542AE5" name="GUID-02491AB4-86E5-4F50-B968-BE0457542AE5"></a><h4 id="APPCW-GUID-02491AB4-86E5-4F50-B968-BE0457542AE5" class="sect4">验证网关安装</h4>
                  <div>
                     <div class="section">
                        <p>使用以验证网关软件安装<a id="d11914e2578" class="indexterm-anchor"></a><a id="d11914e2584" class="indexterm-anchor"></a>先前创建的数据库链接PGA，执行以下步骤：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>使用SQL * Plus，连接到您的<a id="d11914e2595" class="indexterm-anchor"></a> Oracle数据库作为用户<a id="d11914e2602" class="indexterm-anchor"></a> <code class="codeph">PGAADMIN</code> 。</span></li>
                        <li class="stepexpand"><span>运行<code class="codeph">%ORACLE_HOME%\dg4appc\demo\pgavsn.sql</code> 。</span><div><pre class="oac_no_warn" dir="ltr">C：\&gt; cd％ORACLE_HOME％\ dg4appc \ demo SQL&gt; @ pgavsn.sql</pre><p>服务器版本号标题出现在您的终端上。您将收到以下输出：</p><pre class="oac_no_warn" dir="ltr">适用于APPC的Oracle数据库网关（用于IMS连接的扩展TCP / IP）。版本11.2.0.0.2 2009年6月11日星期四14:52:36版权所有（c）Oracle Corporation 1979,2009。版权所有。PL / SQL过程成功完成。
</pre></div>
                        </li>
                        <li class="stepexpand"><span>运行<code class="codeph">%ORACLE_HOME%\dg4appc\demo\pgaecho.sql</code> 。</span><div><pre class="oac_no_warn" dir="ltr">C：\&gt; cd％ORACLE_HOME％\ dg4appc \ demo SQL&gt; @ pgaecho.sql</pre><p>您将收到以下输出：</p><pre class="oac_no_warn" dir="ltr">==&gt;恭喜，您的安装成功。 &lt;==</pre></div>
                        </li>
                     </ol>
                  </div>
               </div><a id="APPCW228"></a><div class="props_rev_3"><a id="GUID-C360B987-27C2-47CE-8F69-A808B63A8C20" name="GUID-C360B987-27C2-47CE-8F69-A808B63A8C20"></a><h4 id="APPCW-GUID-C360B987-27C2-47CE-8F69-A808B63A8C20" class="sect4">验证OLTP配置</h4>
                  <div>
                     <div class="section">
                        <p>使用以下过程验证OLTP配置。</p>
                        <div class="infoboxnote" id="GUID-C360B987-27C2-47CE-8F69-A808B63A8C20__GUID-A45A7AA8-FC74-44D5-B7D5-C0ED844C6E27">
                           <p class="notep1">注意：</p>
                           <p>如果尚未完成<span class="q">“ <a href="configure-appc-gateway-using-tcp-ip.html#GUID-FCAB1574-8D8E-4F0F-93DA-9D79FB9FAB1A">准备配置网关安装/升级</a> ”中</span>详细说明的文件传输，请立即完成，然后再继续执行下一步。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div><a id="APPCW229"></a><div class="props_rev_3"><a id="GUID-85147605-CE9E-4F69-8243-CC3FC50F1B65" name="GUID-85147605-CE9E-4F69-8243-CC3FC50F1B65"></a><h5 id="APPCW-GUID-85147605-CE9E-4F69-8243-CC3FC50F1B65" class="sect5">IMS / TM验证</h5>
                     <div>
                        <div class="section">
                           <p>执行以下步骤以验证IMS / TM配置。在开始此过程之前，请确保已安装并配置了IMS Connect，并且它已启动并正在运行。有关如何执行安装和配置任务的信息，请参阅“IBM <span class="italic">IMS Connect指南和参考</span> ”。
                           </p>
                           <div class="infoboxnote" id="GUID-85147605-CE9E-4F69-8243-CC3FC50F1B65__GUID-40B406D8-A2F9-4C3E-9F9D-DB44AECB56CA">
                              <p class="notep1">注意：</p>
                              <p><a id="d11914e2756" class="indexterm-anchor"></a><a id="d11914e2760" class="indexterm-anchor"></a><a id="d11914e2764" class="indexterm-anchor"></a>将通信协议更改为TCP / IP时，必须重新编译TIP。</p>
                              <p>仅限TCP / IP： <a id="d11914e2771" class="indexterm-anchor"></a><a id="d11914e2775" class="indexterm-anchor"></a>如果您现有的TIP是使用SNA协议在网关上生成的，并且您希望使用新的TCP / IP功能，那么PGA必须使用强制<code class="codeph">NLS_LANGUAGE</code>和Side Profile Settings重新生成TIP。在<code class="codeph">DEFINE TRANSACTION</code>命令中指定合适的ASCII字符集。
                              </p>
                              <p>这是因为网关假定正在使用IMS Connect中的适当用户出口，这将在适当的ASCII和EBCDIC字符集之间进行转换。</p>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>验证<a id="d11914e2792" class="indexterm-anchor"></a> <code class="codeph">FLIP</code>事务已正确安装，登录到您的IMS / TM系统并输入以下事务（在为网关配置IMS / TM系统时，将<code class="codeph">FLIP</code>替换为您为<code class="codeph">FLIP</code>选择的事务ID）：</span><div><pre class="oac_no_warn" dir="ltr">翻上这条消息</pre><p>终端上显示以下输出：</p><pre class="oac_no_warn" dir="ltr">EGASSEM SIHT PILF</pre><div class="infoboxnote" id="GUID-85147605-CE9E-4F69-8243-CC3FC50F1B65__GUID-78131187-0DD8-419D-99D0-8373F4B53FFC">
                                    <p class="notep1">注意：</p>
                                    <p>如果尚未完成<a href="configure-appc-gateway-using-tcp-ip.html#GUID-FCAB1574-8D8E-4F0F-93DA-9D79FB9FAB1A">准备配置网关安装/升级</a> <span class="q">“ <a href="configure-appc-gateway-using-tcp-ip.html#GUID-FCAB1574-8D8E-4F0F-93DA-9D79FB9FAB1A">准备配置网关安装/升级</a> ”中</span>详细说明的文件传输，请立即完成，然后再继续执行下一步。
                                    </p>
                                 </div>
                              </div>
                           </li>
                           <li class="stepexpand"><span>从Windows平台，修改<code class="codeph">pgaims.sql</code> <a id="d11914e2832" class="indexterm-anchor"></a><a id="d11914e2836" class="indexterm-anchor"></a>文件，驻留在<code class="codeph">%ORACLE_HOME%\dg4appc\demo\IMS\pgaims.sql.</code>自定义用于访问网关和IMS / TM系统的以下三个项目，如文件开头的注释中所述：</span><div>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>IMS / TM事务ID</p>
                                    </li>
                                    <li>
                                       <p>侧面配置文件名称</p>
                                    </li>
                                    <li>
                                       <p>logmode条目名称</p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                           <li class="stepexpand"><span>确保<a id="d11914e2858" class="indexterm-anchor"></a>系统上的TCP / IP通信协议已启动。</span></li>
                           <li class="stepexpand"><span>使用SQL * Plus，连接到您的<a id="d11914e2868" class="indexterm-anchor"></a>来自<code class="codeph">PGAADMIN</code> Oracle数据库。</span></li>
                           <li class="stepexpand"><span>跑<a id="d11914e2881" class="indexterm-anchor"></a><a id="d11914e2885" class="indexterm-anchor"></a> <code class="codeph">pgaims.sql</code> 。</span><div><pre class="oac_no_warn" dir="ltr">C：\&gt; cd％ORACLE_HOME％\ dg4appc \ demo \ IMS SQL&gt; @ pgaims.sql</pre><p>出现以下消息：</p>
                              </div>
                           </li>
                        </ol>
                        <div class="section"><pre class="oac_no_warn" dir="ltr">==&gt;恭喜，您的网关正在与IMS / TM &lt;==进行通信</pre><p>您的IMS / TM安装验证现已完成。</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div>
            </div><a id="APPCW230"></a><div class="props_rev_3"><a id="GUID-7FB56CC9-2004-4716-9DF5-4082EC028816" name="GUID-7FB56CC9-2004-4716-9DF5-4082EC028816"></a><h3 id="APPCW-GUID-7FB56CC9-2004-4716-9DF5-4082EC028816" class="sect3">执行安装后程序</h3>
               <div>
                  <div class="section">
                     <p>以下是您可以根据需要执行的可选步骤。建议安装OLTP的示例应用程序，以帮助您完全了解网关的工作方式以及与OLTP的接口方式。</p>
                  </div>
                  <!-- class="section" -->
               </div><a id="APPCW231"></a><div class="props_rev_3"><a id="GUID-CA7EA2DB-3417-4206-8852-211FDAA6786A" name="GUID-CA7EA2DB-3417-4206-8852-211FDAA6786A"></a><h4 id="APPCW-GUID-CA7EA2DB-3417-4206-8852-211FDAA6786A" class="sect4">安装示例应用程序</h4>
                  <div>
                     <div class="section">
                        <p>适用于IMS Connect的Oracle数据库网关APPC包含用于IMS Connect的TCP / IP，包含演示网关功能的示例PL / SQL过程和OLTP事务程序。</p>
                        <div class="infoboxnote" id="GUID-CA7EA2DB-3417-4206-8852-211FDAA6786A__GUID-5EEB6D9D-932F-452F-B2E2-0010F52D4454">
                           <p class="notep1">注意：</p>
                           <p>当您调用使用TCP / IP作为通信协议的网关时，如果您使用EBCDIC作为控制文件中的语言，则必须将语言从EBCDIC更改为ASCII。可能是EBCDIC语言的控制文件的一些示例是<code class="codeph">ivtno.ctl</code>和<code class="codeph">ivtnv.ctl</code> 。
                           </p>
                           <p>有关更多信息，请参阅<code class="codeph">%ORACLE_HOME%\dg4appc\demo\IMS\ivtno.ctl</code>和</p>
                           <p><code class="codeph">%ORACLE_HOME%\dg4appc\demo\IMS\ivtnv.ctl</code>文件。
                           </p>
                        </div>
                        <p>为IMS / TM提供样本：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>使用<code class="codeph">IVTNO</code>和<code class="codeph">IVTNV</code>样本事务进行IMS查询</p>
                           </li>
                        </ul>
                        <p>在产品的后续版本中，将附加样本添加到分发介质中。示例应用程序尽可能使用随数据库产品提供的示例数据库。</p>
                        <p>对于此版本，以下目录中的<code class="codeph">README.doc</code>文件中提供了有关安装和使用示例应用程序的完整文档：</p>
                        <p><code class="codeph">％ORACLE_HOME％\ pg4appc \演示\ IMS \ sample_IMS_applications.txt</code></p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>