<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="The DBMS_INMEMORY package provides an interface for In-Memory Column Store (IM column store) functionality."></meta>
      <meta name="description" content="The DBMS_INMEMORY package provides an interface for In-Memory Column Store (IM column store) functionality."></meta>
      <title>DBMS_INMEMORY</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="PL/SQL Packages and Types Reference"></meta>
      <meta property="og:description" content="The DBMS_INMEMORY package provides an interface for In-Memory Column Store (IM column store) functionality."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="PL/SQL Packages and Types Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-25T11:24:34-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96430-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="DBMS_ILM_ADMIN.html" title="Previous" type="text/html"></link>
      <link rel="next" href="DBMS_INMEMORY_ADMIN.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference"></meta>
    <meta name="dcterms.isVersionOf" content="ARPLS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBMS_ILM_ADMIN.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="DBMS_INMEMORY_ADMIN.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL / SQL包和类型参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">DBMS_INMEMORY</li>
            </ol>
            <a id="GUID-2333DC40-794B-434B-9B1F-9A0AF8356515" name="GUID-2333DC40-794B-434B-9B1F-9A0AF8356515"></a><a id="ARPLS75022"></a><a id="ARPLS75022"></a>
            
            <h2 id="ARPLS-GUID-2333DC40-794B-434B-9B1F-9A0AF8356515" class="sect2"><span class="enumeration_chapter">85</span> DBMS_INMEMORY</h2>
         </header>
         <div class="ind">
            <div>
               <p><code class="codeph">DBMS_INMEMORY</code>包为内存中列存储（IM列存储）功能提供了一个接口。
               </p>
               <p>本章包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="DBMS_INMEMORY.html#GUID-632D1342-78AD-4B6F-96E3-3A9D4819F2BC" title="此程序包包含用于填充和重新填充IM列存储以及从指定表中删除IM表达式的过程。">DBMS_INMEMORY概述</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_INMEMORY.html#GUID-93D1CD15-66D9-446E-BF3E-BACD9797E935" title="DBMS_INMEMORY包子程序以调用者的权限执行。">DBMS_INMEMORY安全模型</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_INMEMORY.html#GUID-74D95DFA-BB53-4B51-BECD-0D5310C95671" title="此表列出并简要描述了DBMS_INMEMORY包子程序。">DBMS_INMEMORY子程序的摘要</a></p>
                  </li>
               </ul>
            </div>
            <div class="sect2"><a id="GUID-632D1342-78AD-4B6F-96E3-3A9D4819F2BC" name="GUID-632D1342-78AD-4B6F-96E3-3A9D4819F2BC"></a><h3 id="ARPLS-GUID-632D1342-78AD-4B6F-96E3-3A9D4819F2BC" class="sect3"><span class="enumeration_section">85.1</span> DBMS_INMEMORY概述</h3>
               <div>
                  <p>此程序包包含用于填充和重新填充IM列存储以及从指定表中删除IM表达式的过程。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-632D1342-78AD-4B6F-96E3-3A9D4819F2BC__GUID-65E86429-A676-41D1-BC5D-0E062E7DACC0">IM人口和人口增长</p>
                     <p>当数据库从磁盘读取现有行格式数据，将其转换为列式格式，然后将其存储在IM列存储中时，会发生内存中的填充（填充）。只有具有<code class="codeph">INMEMORY</code>属性的对象<code class="codeph">INMEMORY</code>资格进行填充。
                     </p>
                     <p>将磁盘上的现有数据转换为柱状格式的群体与将将新数据加载到IM列存储中的重新填充不同。在其柱状数据经历显着的DML活动之后自动发生重新填充。</p>
                     <p>当对象具有<code class="codeph">INMEMORY</code>属性且<code class="codeph">NONE</code>以外的优先级时，数据库将根据内部优先级队列逐渐填充IM列存储中的对象。优先级为<code class="codeph">NONE</code>对象仅在进行完全扫描时才会填充。
                     </p>
                     <p><code class="codeph">DBMS_INMEMORY.POPULATE</code>过程强制对象的直接填充。<code class="codeph">DBMS_INMEMORY.POPULATE_WAIT</code>函数强制满足指定优先级条件的对象群，并指定填充必须完成的超时间隔。<code class="codeph">DBMS_INMEMORY.REPOPULATE</code>过程强制立即重新填充对象。
                     </p>
                     <div class="infoboxnotealso" id="GUID-632D1342-78AD-4B6F-96E3-3A9D4819F2BC__GUID-EF7D35C5-C224-4C09-AF94-E7371C26E096">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../inmem/populating-objects-in-memory.html#GUID-BFD476E7-C70D-4906-8B10-D33BC1E768C0" target="_blank"><span><cite>Oracle Database In-Memory指南</cite></span></a> ，了解有关IM群体的更多信息</p>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-632D1342-78AD-4B6F-96E3-3A9D4819F2BC__GUID-93AD067D-2C67-4EEF-8430-0D133B8AE94D">IM表达式</p>
                     <p>IM表达式在IM列存储中填充频繁评估的查询表达式，以供后续重用。IM表达式具体化为隐藏虚拟列，前缀为字符串<code class="codeph">SYS_IME</code> ，并且以与非虚拟列相同的方式访问。
                     </p>
                     <p>使用<code class="codeph">DBMS_INMEMORY_ADMIN.IME_CAPTURE_EXPRESSIONS</code> ，数据库将20个最热门的表达式作为<code class="codeph">SYS_IME</code>列添加到各自的表中，并应用默认的<code class="codeph">INMEMORY</code>列压缩子句。如果在上一次调用期间添加的任何<code class="codeph">SYS_IME</code>列不再位于最新表达式列表中，则数据库会将其属性更改为<code class="codeph">NO INMEMORY</code> 。</p>
                     <p>无论属性是<code class="codeph">INMEMORY</code>还是<code class="codeph">NO INMEMORY</code> ，表的最大<code class="codeph">SYS_IME</code>列数为50。达到表的50表达式限制后，数据库将不会添加新的<code class="codeph">SYS_IME</code>列。要为新表达式腾出空间，必须使用<code class="codeph">DBMS_INMEMORY.IME_DROP_EXPRESSIONS</code>或<code class="codeph">DBMS_INMEMORY_ADMIN.IME_DROP_ALL_EXPRESSIONS</code>过程手动删除<code class="codeph">SYS_IME</code>列。
                     </p>
                     <div class="infoboxnotealso" id="GUID-632D1342-78AD-4B6F-96E3-3A9D4819F2BC__ORACLEDATABASEIN-MEMORYGUIDETOLEARN-1B5BC31B">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="../inmem/optimizing-in-memory-expressions.html#GUID-1B849DAF-277E-4B09-8275-367592115B06" target="_blank"><span><cite>Oracle Database In-Memory指南</cite></span></a>了解有关IM表达式的更多信息</p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-93D1CD15-66D9-446E-BF3E-BACD9797E935" name="GUID-93D1CD15-66D9-446E-BF3E-BACD9797E935"></a><h3 id="ARPLS-GUID-93D1CD15-66D9-446E-BF3E-BACD9797E935" class="sect3"><span class="enumeration_section">85.2</span> DBMS_INMEMORY安全模型</h3>
               <div>
                  <p>DBMS_INMEMORY包子程序以调用者的权限执行。</p>
                  <div class="section">
                     <p><code class="codeph">POPULATE</code>和<code class="codeph">REPOPULATE</code>过程要求调用用户对指定对象具有<code class="codeph">SELECT</code>权限。对于<code class="codeph">IME_DROP_EXPRESSIONS</code> ，调用用户必须对指定的表具有<code class="codeph">ALTER TABLE</code>权限。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS75023"></a><a id="ARPLS75028"></a><a id="ARPLS75028"></a><a id="ARPLS75023"></a><div class="props_rev_3"><a id="GUID-74D95DFA-BB53-4B51-BECD-0D5310C95671" name="GUID-74D95DFA-BB53-4B51-BECD-0D5310C95671"></a><h3 id="ARPLS-GUID-74D95DFA-BB53-4B51-BECD-0D5310C95671" class="sect3"><span class="enumeration_section">85.3</span> DBMS_INMEMORY子程序摘要</h3>
               <div>
                  <p>此表列出并简要描述了<code class="codeph">DBMS_INMEMORY</code>程序。
                  </p>
                  <div class="tblformal" id="GUID-74D95DFA-BB53-4B51-BECD-0D5310C95671__GUID-A9AFB5B0-7BAB-46A9-B362-01520BC43C38">
                     <p class="titleintable">表85-1 DBMS_INMEMORY包子程序</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_INMEMORY包子程序" width="100%" border="1" summary="This table lists and briefly describes the DBMS_INMEMORY package subprograms." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="30%" id="d476199e507">子程序</th>
                              <th align="left" valign="bottom" width="70%" id="d476199e510">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d476199e515" headers="d476199e507 ">
                                 <p><a href="DBMS_INMEMORY.html#GUID-F6699783-90CD-4411-AD54-1DADBD8E2BFD" title="此过程从表中删除指定的一组SYS_IME虚拟列。">IME_DROP_EXPRESSIONS过程</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d476199e515 d476199e510 ">
                                 <p>从表中删除一组指定的<code class="codeph">SYS_IME</code>虚拟列</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d476199e532" headers="d476199e507 ">
                                 <p><a href="DBMS_INMEMORY.html#GUID-E3DF69A9-0823-4C00-AB3D-98FD1AEC8629" title="此过程强制将指定的表，分区或子分区的填充到IM列存储中。">人口过程</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d476199e532 d476199e510 ">
                                 <p>强制指定表的填充</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d476199e543" headers="d476199e507 ">
                                 <p><a href="DBMS_INMEMORY.html#GUID-3FB3B1F4-0BA3-44EE-9B77-9739D0A0F9E2" title="此函数启动优先级大于或等于指定优先级的所有INMEMORY对象的填充，并返回填充的状态值。用户指定的时间间隔指定函数在将值返回给调用者之前等待的最长时间。">POPULATE_WAIT函数</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d476199e543 d476199e510 ">
                                 <p>启动优先级大于或等于指定优先级的所有<code class="codeph">INMEMORY</code>对象的填充，并设置必须在其中发生填充的超时间隔</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d476199e562" headers="d476199e507 ">
                                 <p><a href="DBMS_INMEMORY.html#GUID-DE324946-9889-49A6-A379-4ACEEF99C184" title="此过程强制重新填充当前在IM列存储中填充的表，分区或子分区。">重复程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d476199e562 d476199e510 ">
                                 <p>强制重新填充指定的表</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d476199e573" headers="d476199e507 ">
                                 <p><a href="DBMS_INMEMORY.html#GUID-F1884B1B-AB62-4D7F-AE9C-9183D0F6C174" title="此过程将释放IM列存储中的非当前IMCU。">SEGMENT_DEALLOCATE_VERSIONS程序</a></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d476199e573 d476199e510 ">
                                 <p><span>在IM列存储中</span>释放<span>非当前IMCU</span></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <div class="sect3"><a id="GUID-F6699783-90CD-4411-AD54-1DADBD8E2BFD" name="GUID-F6699783-90CD-4411-AD54-1DADBD8E2BFD"></a><h4 id="ARPLS-GUID-F6699783-90CD-4411-AD54-1DADBD8E2BFD" class="sect4"><span class="enumeration_section">85.3.1</span> IME_DROP_EXPRESSIONS过程</h4>
                  <div>
                     <p>此过程从表中删除指定的一组<code class="codeph">SYS_IME</code>虚拟列。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-F6699783-90CD-4411-AD54-1DADBD8E2BFD__GUID-922CDBAB-C356-4C7B-82C1-C6E5113EB752">句法</p><pre class="pre codeblock"><code>DBMS_INMEMORY.IME_DROP_EXPRESSIONS（schema_name IN VARCHAR2，table_name IN VARCHAR2，column_name IN VARCHAR2 DEFAULT NULL）;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F6699783-90CD-4411-AD54-1DADBD8E2BFD__GUID-51ED3852-F732-4D7F-8564-3FCB78422BA1">参数</p>
                        <div class="tblformal" id="GUID-F6699783-90CD-4411-AD54-1DADBD8E2BFD__GUID-5C3D3D6F-FBEC-4D90-B2B6-1CF3E801A7CD">
                           <p class="titleintable">表85-2 IME_DROP_EXPRESSIONS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="IME_DROP_EXPRESSIONS过程参数" width="100%" border="1" summary="This table describes the parameters of DBMS_INMEMOR.IME_DROP_EXPRESSIONS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="20%" id="d476199e697">参数</th>
                                    <th align="left" valign="bottom" width="80%" id="d476199e700">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d476199e705" headers="d476199e697 ">
                                       <p><code class="codeph">SCHEMA_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d476199e705 d476199e700 ">
                                       <p>包含In-Memory表的模式的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d476199e713" headers="d476199e697 ">
                                       <p><code class="codeph">TABLE_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d476199e713 d476199e700 ">
                                       <p>包含<code class="codeph">SYS_IME</code>列的In-Memory表的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="20%" id="d476199e724" headers="d476199e697 ">
                                       <p><code class="codeph">列名</code></p>
                                    </td>
                                    <td align="left" valign="top" width="80%" headers="d476199e724 d476199e700 ">
                                       <p><code class="codeph">SYS_IME</code>列的名称。默认情况下，此值为null，它指定此表中的所有<code class="codeph">SYS_IME</code>列。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F6699783-90CD-4411-AD54-1DADBD8E2BFD__GUID-FD9C7A05-E5F9-42F0-B084-F638E7D5AFE0">使用说明</p>
                        <p>删除<code class="codeph">SYS_IME</code>列的典型原因是空间和性能。无论属性是<code class="codeph">INMEMORY</code>还是<code class="codeph">NO INMEMORY</code> ，表的最大<code class="codeph">SYS_IME</code>列数为50。在达到表的50表达式限制后，数据库将不会添加新的<code class="codeph">SYS_IME</code>列。要为新表达式腾出空间，必须使用<code class="codeph">DBMS_INMEMORY.IME_DROP_EXPRESSIONS</code>或<code class="codeph">DBMS_INMEMORY_ADMIN.IME_DROP_ALL_EXPRESSIONS</code>过程手动删除<code class="codeph">SYS_IME</code>列。
                        </p>
                        <p>要删除请求的表中的指定<code class="codeph">SYS_IME</code>列或所有<code class="codeph">SYS_IME</code>列，请使用<code class="codeph">DBMS_INMEMORY.IME_DROP_EXPRESSIONS</code> 。要再次填充这些段，请调用<code class="codeph">DBMS_INMEMORY.POPULATE</code>过程，或执行全表扫描。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS75024"></a><a id="ARPLS75025"></a><a id="ARPLS75025"></a><a id="ARPLS75024"></a><div class="props_rev_3"><a id="GUID-E3DF69A9-0823-4C00-AB3D-98FD1AEC8629" name="GUID-E3DF69A9-0823-4C00-AB3D-98FD1AEC8629"></a><h4 id="ARPLS-GUID-E3DF69A9-0823-4C00-AB3D-98FD1AEC8629" class="sect4"><span class="enumeration_section">85.3.2</span>人口程序</h4>
                  <div>
                     <p>此过程强制将指定的表，分区或子分区的填充到IM列存储中。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-E3DF69A9-0823-4C00-AB3D-98FD1AEC8629__GUID-C3498FF4-5F09-4E9D-97A7-431657D04244">句法</p><pre class="pre codeblock"><code>DBMS_INMEMORY.POPULATE（schema_name IN VARCHAR2，table_name IN VARCHAR2，subobject_name IN VARCHAR2 DEFAULT NULL）;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E3DF69A9-0823-4C00-AB3D-98FD1AEC8629__GUID-AB3A689F-8D55-48B5-88E2-565FA9BA1D2A">参数</p>
                        <div class="tblformal" id="GUID-E3DF69A9-0823-4C00-AB3D-98FD1AEC8629__GUID-7916A4A1-AA93-4FE7-A6FA-7BB987D60336">
                           <p class="titleintable">表85-3 <span class="italic"><span class="bold">POPULATE过程参数</span></span></p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="POPULATE过程参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_INMEMORY.POPULATE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d476199e898">参数</th>
                                    <th align="left" valign="bottom" width="75%" id="d476199e901">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d476199e906" headers="d476199e898 ">
                                       <p><code class="codeph">SCHEMA_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d476199e906 d476199e901 ">
                                       <p>架构名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d476199e914" headers="d476199e898 ">
                                       <p><code class="codeph">TABLE_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d476199e914 d476199e901 ">
                                       <p>表的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d476199e922" headers="d476199e898 ">
                                       <p><code class="codeph">subobject_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d476199e922 d476199e901 ">
                                       <p>分区或子分区</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-3FB3B1F4-0BA3-44EE-9B77-9739D0A0F9E2" name="GUID-3FB3B1F4-0BA3-44EE-9B77-9739D0A0F9E2"></a><h4 id="ARPLS-GUID-3FB3B1F4-0BA3-44EE-9B77-9739D0A0F9E2" class="sect4"><span class="enumeration_section">85.3.3</span> POPULATE_WAIT函数</h4>
                  <div>
                     <p>此函数<span>启动优先级大于或等于指定优先级的所有<code class="codeph">INMEMORY</code>对象的填充，并返回填充的状态值。用户指定的时间间隔指定函数在将值返回给调用者之前等待的最长时间。</span></p>
                     <div class="section">
                        <p class="subhead3" id="GUID-3FB3B1F4-0BA3-44EE-9B77-9739D0A0F9E2__GUID-1569BE4D-5429-471F-8F50-ECA1D233AA9A">句法</p><pre class="pre codeblock"><code>DBMS_INMEMORY.POPULATE_WAIT（优先级IN VARCHAR2 DEFAULT'LOW'，百分比IN NUMBER DEFAULT 100，超时IN NUMBER DEFAULT 99999999，强制IN VARCHAR2 DEFAULT FALSE）RETURN VARCHAR2;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3FB3B1F4-0BA3-44EE-9B77-9739D0A0F9E2__GUID-95D9FD02-79BE-474C-9571-6D52E2E37292">参数</p>
                        <div class="tblformal" id="GUID-3FB3B1F4-0BA3-44EE-9B77-9739D0A0F9E2__GUID-7916A4A1-AA93-4FE7-A6FA-7BB987D60336">
                           <p class="titleintable">表85-4 POPULATE_WAIT函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="POPULATE_WAIT函数参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_INMEMORY.POPULATE_WAIT subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d476199e1044">参数</th>
                                    <th align="left" valign="bottom" width="75%" id="d476199e1047">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d476199e1052" headers="d476199e1044 ">
                                       <p><code class="codeph">优先</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d476199e1052 d476199e1047 ">
                                       <p>指定数据库使用指定的优先级设置或更高设置填充所有<code class="codeph">INMEMORY</code>对象。默认优先级为<code class="codeph">LOW</code> 。</p>
                                       <p><code class="codeph">NONE</code>被认为是最低优先级。如果将<code class="codeph">priority</code>设置为<code class="codeph">NONE</code> ，则此函数将等待填充所有<code class="codeph">INMEMORY</code>对象。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d476199e1079" headers="d476199e1044 ">
                                       <p><code class="codeph">百分比</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d476199e1079 d476199e1047 ">
                                       <p>指定函数考虑填充完成所需的填充百分比。默认值为<code class="codeph">100</code> 。
                                       </p>
                                       <p>例如，如果<code class="codeph">percentage</code>为<code class="codeph">50</code>且<code class="codeph">priority</code>为<code class="codeph">NONE</code> ，并且如果在IM列存储中填充了50％的<code class="codeph">INMEMORY</code>对象，则该函数返回值<code class="codeph">0</code> （填充成功）。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d476199e1111" headers="d476199e1044 ">
                                       <p><code class="codeph">超时</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d476199e1111 d476199e1047 ">
                                       <p>指定在函数返回<code class="codeph">-1</code>之前必须经过的秒数，这表示填充操作超时。默认值为<code class="codeph">99999999</code>秒，即115.74天。
                                       </p>
                                       <p>假设<code class="codeph">timeout</code>为<code class="codeph">600</code> ， <code class="codeph">priority</code>为<code class="codeph">LOW</code> ， <code class="codeph">percentage</code>为<code class="codeph">100</code> 。如果10分钟过去，但所有<code class="codeph">PRIORITY LOW</code>对象尚未完全填充，则该函数返回<code class="codeph">-1</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d476199e1152" headers="d476199e1044 ">
                                       <p><code class="codeph">力</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d476199e1152 d476199e1047 ">
                                       <p>指定数据库应删除优先级大于或等于指定优先级的所有<code class="codeph">INMEMORY</code>段，然后重新填充这些段。默认值为<code class="codeph">FALSE</code> 。</p>
                                       <p>假设<code class="codeph">INMEMORY</code>属性适用于已分区的<code class="codeph">sales</code>表。目前只有一半的<code class="codeph">sales</code>分区填充在IM列存储中。如果在<code class="codeph">force</code>设置为<code class="codeph">TRUE</code>执行<code class="codeph">POPULATE_WAIT</code> ，则数据库将删除所有<code class="codeph">sales</code>段，然后重新填充它们。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3FB3B1F4-0BA3-44EE-9B77-9739D0A0F9E2__GUID-8015E83C-8526-4323-BFEF-35C112776AEB">返回值</p>
                        <p>下表描述了<code class="codeph">POPULATE_WAIT</code>的可能返回值。该函数返回值<code class="codeph">0</code> ， <code class="codeph">1</code> ， <code class="codeph">2</code> ，和<code class="codeph">3</code>仅当条件被指定的时间间隔结束之前遇到<code class="codeph">timeout</code> 。例如，如果<code class="codeph">timeout</code>为<code class="codeph">600</code> ，则仅当在600秒之前发生内存不足错误时，该函数才返回<code class="codeph">1</code> 。仅当超时间隔结束发生<span class="italic">在</span>数据库完成请求的操作<span class="italic">之前</span> ，该函数才返回<code class="codeph">-1</code> 。
                        </p>
                        <div class="tblformal" id="GUID-3FB3B1F4-0BA3-44EE-9B77-9739D0A0F9E2__GUID-8631EBE0-7ECD-4246-9745-0831769F7C6E">
                           <p class="titleintable">表85-5 POPULATE_WAIT的返回值</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" border="1" frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d476199e1237">不变</th>
                                    <th align="left" valign="bottom" id="d476199e1239">值</th>
                                    <th align="left" valign="bottom" id="d476199e1241">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d476199e1245" headers="d476199e1237 ">
                                       <p><code class="codeph">POPULATE_TIMEOUT</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d476199e1245 d476199e1239 ">
                                       <p><code class="codeph">-1</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d476199e1245 d476199e1241 ">
                                       <p>在等待人口完成时，该功能超时。</p>
                                       <p>返回<code class="codeph">-1</code>后，现有人口工作继续在后台运行。返回<code class="codeph">-1</code>后重新发布<code class="codeph">POPULATE_TIMEOUT</code>重新启动人口;已删除的段不会被删除。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d476199e1268" headers="d476199e1237 ">
                                       <p><code class="codeph">POPULATE_SUCCESS</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d476199e1268 d476199e1239 ">
                                       <p><code class="codeph">0</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d476199e1268 d476199e1241 ">
                                       <p>符合<code class="codeph">priority</code>标准的所有对象都填充到指定的完成<code class="codeph">percentage</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d476199e1286" headers="d476199e1237 ">
                                       <p><code class="codeph">POPULATE_OUT_OF_MEMORY</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d476199e1286 d476199e1239 ">
                                       <p><code class="codeph">1</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d476199e1286 d476199e1241 ">
                                       <p>内存池没有足够的内存来将满足<code class="codeph">priority</code>标准的对象填充到指定的完成<code class="codeph">percentage</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d476199e1304" headers="d476199e1237 ">
                                       <p><code class="codeph">POPULATE_NO_INMEMORY_OBJECTS</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d476199e1304 d476199e1239 ">
                                       <p><code class="codeph">2</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d476199e1304 d476199e1241 ">
                                       <p>没有<code class="codeph">INMEMORY</code>对象符合指定的<code class="codeph">priority</code>标准。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d476199e1322" headers="d476199e1237 ">
                                       <p><code class="codeph">POPULATE_INMEMORY_SIZE_ZERO</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d476199e1322 d476199e1239 ">
                                       <p><code class="codeph">3</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d476199e1322 d476199e1241 ">
                                       <p>未启用内存中列存储。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3FB3B1F4-0BA3-44EE-9B77-9739D0A0F9E2__GUID-4E372D33-B6B4-48A5-B537-1A35DDE98553">使用说明</p>
                        <p>确保填充对象的示例用例包括：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>关闭数据库时，使用<code class="codeph">STARTUP RESTRICT</code>打开数据库，以便只有管理员才能访问数据库，然后使用所需的超时设置执行<code class="codeph">POPULATE_WAIT</code> 。如果<code class="codeph">POPULATE_WAIT</code>返回<code class="codeph">-1</code> ，表示超时，则重新执行<code class="codeph">POPULATE_WAIT</code> 。当函数返回<code class="codeph">0</code> ，禁用受限会话，以便非管理用户可以查询数据库。
                              </p>
                           </li>
                           <li>
                              <p>使用服务或应用程序层技术阻止数据库连接。如果不存在分析索引，并且当应用程序依赖于IM列存储来提供合理的性能时，这些技术可以防止失控查询。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-3FB3B1F4-0BA3-44EE-9B77-9739D0A0F9E2__GUID-757FFA08-5D09-4C27-838D-C5D2CC695BBA">
                        <p class="titleinexample">例85-1指定内存中人口的超时间隔</p>
                        <p>在此示例中，数据库包含许多具有各种优先级设置的内存中表。您的目标是在受限数据库会话中将<span class="italic">每个</span> In-Memory表填充到100％完成，然后禁用受限会话，以便保证应用程序仅查询内存中表示。
                        </p>
                        <p>假设数据库已关闭。在SQL * Plus中，您以<code class="codeph">SYSDBA</code>身份连接到空闲实例，然后执行以下命令（包括示例输出）：</p><pre class="pre codeblock"><code>SQL&gt; STARTUP RESTRICT ORACLE实例已启动。系统全局总面积1157624280字节固定大小8839640字节可变大小754974720字节数据库缓冲区16777216字节重做缓冲区7933952字节内存区域369098752字节数据库已安装。数据库已打开
</code></pre><p>数据库已打开，但只能由管理用户访问。您在SQL * Plus中执行以下语句（示例输出以粗体显示）：</p><pre class="pre codeblock"><code>VARIABLE b_pop_status NUMBER SELECT DBMS_INMEMORY_ADMIN.POPULATE_WAIT（priority =&gt;'NONE'，percentage =&gt; 100，timeout =&gt; 300）INTO b_pop_status FROM DUAL;打印b_pop_status <span class="bold">-1</span></code></pre><p>5分钟后，该函数返回数字<code class="codeph">–1</code> 。此代码表示在等待填充完成时函数超时。 5分钟不足以填充所有<code class="codeph">INMEMORY</code>表。您重新执行<code class="codeph">SELECT</code>语句，指定30分钟的超时：</p><pre class="pre codeblock"><code>SELECT DBMS_INMEMORY_ADMIN.POPULATE_WAIT（priority =&gt;'NONE'，percentage =&gt; 100，timeout =&gt; 1800）INTO b_pop_status FROM DUAL;打印b_pop_status <span class="bold">0</span></code></pre><p>8分钟后，该函数返回数字<code class="codeph">0</code> 。此代码表示所有表都已完全填充。您现在禁用受限制的会话，以便应用程序可以开始查询内存中对象，并完全相信只会访问内存中表示：</p><pre class="pre codeblock"><code>更改系统禁用受限制的会议;</code></pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="ARPLS75026"></a><a id="ARPLS75027"></a><a id="ARPLS75027"></a><a id="ARPLS75026"></a><div class="props_rev_3"><a id="GUID-DE324946-9889-49A6-A379-4ACEEF99C184" name="GUID-DE324946-9889-49A6-A379-4ACEEF99C184"></a><h4 id="ARPLS-GUID-DE324946-9889-49A6-A379-4ACEEF99C184" class="sect4"><span class="enumeration_section">85.3.4</span>重复程序</h4>
                  <div>
                     <p>此过程强制重新填充当前在IM列存储中填充的表，分区或子分区。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-DE324946-9889-49A6-A379-4ACEEF99C184__GUID-641C3749-6F39-427A-96F6-DC247BFE181C">句法</p><pre class="pre codeblock"><code>DBMS_INMEMORY.REPOPULATE（schema_name IN VARCHAR2，table_name IN VARCHAR2，subobject_name IN VARCHAR2 DEFAULT NULL，强制IN BOOLEAN DEFAULT FALSE）;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DE324946-9889-49A6-A379-4ACEEF99C184__GUID-291FF38C-C0D3-49A8-B0A8-405764666069">参数</p>
                        <div class="tblformal" id="GUID-DE324946-9889-49A6-A379-4ACEEF99C184__GUID-5061AFE0-3CCC-43C3-8982-74E693122F07">
                           <p class="titleintable">表85-6 REPOPULATE过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="REPOPULATE过程参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_INMEMORY.REPOPULATE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="30%" id="d476199e1521">参数</th>
                                    <th align="left" valign="bottom" width="70%" id="d476199e1524">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d476199e1529" headers="d476199e1521 ">
                                       <p><code class="codeph">SCHEMA_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d476199e1529 d476199e1524 ">
                                       <p>拥有该对象的架构的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d476199e1537" headers="d476199e1521 ">
                                       <p><code class="codeph">TABLE_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d476199e1537 d476199e1524 ">
                                       <p>需要重新填充的表的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d476199e1545" headers="d476199e1521 ">
                                       <p><code class="codeph">subobject_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d476199e1545 d476199e1524 ">
                                       <p>分区或子分区的名称。如果为null，则重新填充整个表。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d476199e1553" headers="d476199e1521 ">
                                       <p><code class="codeph">力</code></p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d476199e1553 d476199e1524 ">
                                       <p>是否重新填充细分中的所有IMCU，就像在初始填充中一样。</p>
                                       <p><code class="codeph">force</code>参数可以使用以下值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">FALSE</code> - 数据库仅重新填充包含已修改行的IMCU。这是默认值。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">TRUE</code> - 数据库删除该段，然后重建它。数据库递增统计信息并执行与初始填充相关的所有其他任务。
                                             </p>
                                          </li>
                                       </ul>
                                       <p>例如，IMCU 1包含行1到500,000，IMCU 2包含行500,001到1,000,000。语句修改行600,000。当<code class="codeph">force</code>为<code class="codeph">FALSE</code> ，数据库仅重新填充IMCU 2。当<code class="codeph">force</code>为<code class="codeph">TRUE</code> ，数据库将重新填充两个IMCU。
                                       </p>
                                       <p>进一步考虑<code class="codeph">INMEMORY_VIRTUAL_COLUMNS</code>初始化参数设置为<code class="codeph">ENABLE</code> ，并且应用程序创建新的虚拟列。当<code class="codeph">force</code>为<code class="codeph">FALSE</code> ，数据库仅使用新列重新填充IMCU 2。当<code class="codeph">force</code>为<code class="codeph">TRUE</code> ，数据库将使用新列重新填充两个IMCU。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-F1884B1B-AB62-4D7F-AE9C-9183D0F6C174" name="GUID-F1884B1B-AB62-4D7F-AE9C-9183D0F6C174"></a><h4 id="ARPLS-GUID-F1884B1B-AB62-4D7F-AE9C-9183D0F6C174" class="sect4"><span class="enumeration_section">85.3.5</span> SEGMENT_DEALLOCATE_VERSIONS过程</h4>
                  <div>
                     <p>此过程将释放<span>IM列存储中的非当前IMCU</span> 。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-F1884B1B-AB62-4D7F-AE9C-9183D0F6C174__SYNTAX-421CEDF9">句法</p><pre class="pre codeblock"><code>DBMS_INMEMORY.SEGMENT_DEALLOCATE_VERSIONS（SCHEMA_NAME IN VARCHAR2，TABLE_NAME IN VARCHAR2，PARTITION_NAME IN VARCHAR2 DEFAULT NULL，SPCPRESSURE IN BOOLEAN DEFAULT FALSE）;</code></pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F1884B1B-AB62-4D7F-AE9C-9183D0F6C174__GUID-74B8B6BF-40A8-4506-8390-1B6B8FD6BE1D">参数</p>
                        <div class="tblformal" id="GUID-F1884B1B-AB62-4D7F-AE9C-9183D0F6C174__GUID-366C54E3-A24C-425F-AEB5-54EAA33179D9">
                           <p class="titleintable">表85-7 SEGMENT_DEALLOCATE_VERSIONS过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SEGMENT_DEALLOCATE_VERSIONS过程参数" width="100%" border="1" summary="This table describes the parameters of the DBMS_INMEMORY.SEGMENT_DEALLOCATE_VERSIONS subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="25%" id="d476199e1725">参数</th>
                                    <th align="left" valign="bottom" width="75%" id="d476199e1728">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d476199e1733" headers="d476199e1725 ">
                                       <p><code class="codeph">SCHEMA_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d476199e1733 d476199e1728 ">
                                       <p>拥有该对象的架构的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d476199e1741" headers="d476199e1725 ">
                                       <p><code class="codeph">TABLE_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d476199e1741 d476199e1728 ">
                                       <p>需要重新填充的表的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d476199e1749" headers="d476199e1725 ">
                                       <p><code class="codeph">的partition_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d476199e1749 d476199e1728 ">
                                       <p>分区或子分区的名称。如果为null，则重新填充整个表。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="25%" id="d476199e1757" headers="d476199e1725 ">
                                       <p><code class="codeph">spcpressure</code></p>
                                    </td>
                                    <td align="left" valign="top" width="75%" headers="d476199e1757 d476199e1728 ">
                                       <p>是否强制释放非当前IMCU（ <code class="codeph">TRUE</code> ），或等待数据库自动解除分配。默认情况下，数据库每两分钟释放一次非当前IMCU。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F1884B1B-AB62-4D7F-AE9C-9183D0F6C174__GUID-3629387B-D832-4100-A91B-ECEC3022DEA2">使用说明</p>
                        <p>在重新填充期间，IM列存储器维护当前IMCU和非当前IMCU。此机制称为<span class="italic">双缓冲</span> ，可确保查询不会降低性能，因为IMCU在重新填充期间不可用。重新填充完成后，IM列存储会短时间（默认情况下为2分钟）保留非当前IMCU，以优化使用较旧SCN的查询。通常，默认行为就足够了。但是，您可以使用<code class="codeph">SEGMENT_DEALLOCATE_VERSIONS</code>过程强制取消分配非当前IMCU。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F1884B1B-AB62-4D7F-AE9C-9183D0F6C174__GUID-78736994-EC3F-4B8E-A1EA-6F8B5A4B8961">例</p>
                        <p>以下程序强制为<code class="codeph">products</code>表重新分配非当前IMCU：</p><pre class="pre codeblock"><code>BEGIN DBMS_INMEMORY.SEGMENT_DEALLOCATE_VERSIONS（schema_name =&gt;'SH'，table_name =&gt;'PRODUCTS'，spcpressure =&gt; TRUE）;结束;</code></pre><div class="infoboxnotealso" id="GUID-F1884B1B-AB62-4D7F-AE9C-9183D0F6C174__GUID-B78EF664-358D-4723-8536-8E13C6EB7101">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="../inmem/repopulation-and-dml.html#GUID-B3C7EF3A-4AD0-48D2-9E72-F4EAB8129DF1" target="_blank"><span><cite>Oracle Database In-Memory指南</cite></span></a> ，了解有关IM列存储中双缓冲的更多信息</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>