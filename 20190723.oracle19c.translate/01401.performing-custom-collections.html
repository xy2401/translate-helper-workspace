<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="Use the custom collection options to change the diagnostic collections from the default."></meta>
      <meta name="description" content="Use the custom collection options to change the diagnostic collections from the default."></meta>
      <title>执行自定义集合</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="User’s Guide"></meta>
      <meta property="og:description" content="Use the custom collection options to change the diagnostic collections from the default."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="User’s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="autonomous-health-framework-users-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-21T23:14:30-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2016, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96320-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="maintaining-tfa-latest-version.html" title="Previous" type="text/html"></link>
      <link rel="next" href="managing-and-configuring-tfa.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Autonomous Health Framework User’s Guide"></meta>
    <meta name="dcterms.isVersionOf" content="ATNMS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="maintaining-tfa-latest-version.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="managing-and-configuring-tfa.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">用户指导</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="diagnose-troubleshoot-issues-errors.html" property="item" typeof="WebPage"><span property="name">收集诊断数据和分类，诊断和解决问题</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">执行自定义集合</li>
            </ol>
            <a id="GUID-E4A2492E-A123-480A-B954-57898DBCE8BE" name="GUID-E4A2492E-A123-480A-B954-57898DBCE8BE"></a>
            
            <h2 id="ATNMS-GUID-E4A2492E-A123-480A-B954-57898DBCE8BE" class="sect2"><span class="enumeration_chapter">18</span>执行自定义集合</h2>
         </header>
         <div class="ind">
            <div>
               <p>使用自定义集合选项可以更改默认的诊断集合。</p>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="performing-custom-collections.html#GUID-F7669F99-4930-4B81-9A3F-D9A47E17CDDB">调整诊断数据收集期</a><br>Oracle Trace File Analyzer修剪并收集过去12小时内更新的所有重要日志。
                  </li>
                  <li class="ulchildlink"><a href="performing-custom-collections.html#GUID-0EEA807B-5785-484E-ACF9-2C14291A0AB3">从特定节点收集</a><br></li>
                  <li class="ulchildlink"><a href="performing-custom-collections.html#GUID-0FA3F135-C73E-444B-94FF-A2185D65E681">从特定组件中收集</a><br></li>
                  <li class="ulchildlink"><a href="performing-custom-collections.html#GUID-37F704DD-6A3E-4337-B089-4A21D30B978E">从特定目录收集</a><br></li>
                  <li class="ulchildlink"><a href="performing-custom-collections.html#GUID-8AF18492-233A-4DB6-B116-6889798B4594">更改集合名称</a><br></li>
                  <li class="ulchildlink"><a href="performing-custom-collections.html#GUID-7ACBBD2D-3F93-439D-A71A-5A5D69AD7D02">防止复制Zip文件和修剪文件</a><br></li>
                  <li class="ulchildlink"><a href="performing-custom-collections.html#GUID-7CA0360B-9996-43D3-B334-81DD5C470ACE">执行无声收藏</a><br></li>
                  <li class="ulchildlink"><a href="performing-custom-collections.html#GUID-E97E09E7-E069-4162-BA2B-65738BE85E55">防止收集核心文件</a><br></li>
                  <li class="ulchildlink"><a href="performing-custom-collections.html#GUID-465A4E00-3A13-4FBA-8255-0AF98AF7B66E">收集事件包装服务（IPS）包</a><br>事件打包服务包括Oracle数据库在ADR中存储的问题的详细信息，以供以后诊断。
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>父主题：</strong> <a href="diagnose-troubleshoot-issues-errors.html#GUID-DA02663E-305E-4DD2-9758-DCA883B54198" title="使用Autonomous Health Framework提供的工具来解决错误。">收集诊断数据和分类，诊断和解决问题</a></p>
                  </div>
               </div>
            </div>
            
            <div class="sect2"><a id="GUID-F7669F99-4930-4B81-9A3F-D9A47E17CDDB" name="GUID-F7669F99-4930-4B81-9A3F-D9A47E17CDDB"></a><h3 id="ATNMS-GUID-F7669F99-4930-4B81-9A3F-D9A47E17CDDB" class="sect3"><span class="enumeration_section">18.1</span>调整诊断数据收集周期</h3>
               <div>
                  <p>Oracle Trace File Analyzer修剪并收集过去12小时内更新的所有重要日志。</p>
                  <p>如果您知道只需要较小窗口的日志，则可以缩短此收集时间。缩短收集期可以帮助您尽可能地缩小收藏。</p>
                  <p>您可以通过四种不同的方式指定收集时间段：</p>
                  <div class="tblformal" id="GUID-F7669F99-4930-4B81-9A3F-D9A47E17CDDB__GUID-FBC0853B-A040-402F-9A60-D99EFDAC7B6E">
                     <p class="titleintable">表18-1指定收集周期的方法</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="指定收集期的方法" border="1" summary="This table describes ways to specify the collection period." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="20%" id="d49811e112">命令</th>
                              <th align="left" valign="bottom" width="20%" id="d49811e114">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d49811e118" headers="d49811e112 ">
                                 <p><code class="codeph">tfactl diagcollect -last <span class="variable" translate="no">n</span> h | d</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d49811e118 d49811e114 ">
                                 <p>自前<span class="variable" translate="no">n</span>小时或天以来收集。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d49811e132" headers="d49811e112 ">
                                 <p><code class="codeph">tfactl diagcollect -from“ <span class="variable" translate="no">yyyy-mm-dd</span> ”</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d49811e132 d49811e114 ">
                                 <p>从指定的日期和可选时间收集。</p>
                                 <p>有效的日期和时间格式：</p>
                                 <p><code class="codeph">“星期一/日/月亮......：mm：ss”</code></p>
                                 <p><code class="codeph">“yyyy-mm-dd hh：mm：ss”</code></p>
                                 <p><code class="codeph">“YYYY-MM-DDTHH：MM：SS”</code></p>
                                 <p><code class="codeph">“YYYY-MM-DD”</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d49811e157" headers="d49811e112 ">
                                 <p><code class="codeph">tfactl diagcollect -from“ <span class="variable" translate="no">yyyy-mm-dd</span> ”-to“ <span class="variable" translate="no">yyyy-mm-dd</span> ”</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d49811e157 d49811e114 ">
                                 <p>在指定的日期和可选时间之间收集。</p>
                                 <p>有效的日期和时间格式：</p>
                                 <p><code class="codeph">“星期一/日/月亮......：mm：ss”</code></p>
                                 <p><code class="codeph">“yyyy-mm-dd hh：mm：ss”</code></p>
                                 <p><code class="codeph">“YYYY-MM-DDTHH：MM：SS”</code></p>
                                 <p><code class="codeph">“YYYY-MM-DD”</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="20%" id="d49811e185" headers="d49811e112 ">
                                 <p><code class="codeph">tfactl diagcollect -for“ <span class="variable" translate="no">yyyy-mm-dd</span> ”</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d49811e185 d49811e114 ">
                                 <p>收集指定日期。</p>
                                 <p>有效日期格式：</p>
                                 <p><code class="codeph">“星期一/日/年”</code></p>
                                 <p><code class="codeph">“YYYY-MM-DD”</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="performing-custom-collections.html#GUID-E4A2492E-A123-480A-B954-57898DBCE8BE" title="使用自定义集合选项可以更改默认的诊断集合。">执行自定义集合</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-0EEA807B-5785-484E-ACF9-2C14291A0AB3" name="GUID-0EEA807B-5785-484E-ACF9-2C14291A0AB3"></a><h3 id="ATNMS-GUID-0EEA807B-5785-484E-ACF9-2C14291A0AB3" class="sect3"><span class="enumeration_section">18.2</span>从特定节点收集</h3>
               <div>
                  <p></p>
                  <div class="section">
                     <p class="subhead2" id="GUID-0EEA807B-5785-484E-ACF9-2C14291A0AB3__GUID-BD3D694A-29E4-41CE-9D65-622505F6B6E1">要从特定节点收集：</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>要从特定节点收集：</span><div>
                           <div class="p"><pre class="pre codeblock"><code>tfactl diagcollect -node节点<span class="variable" translate="no">list of nodes</span></code></pre></div>
                           <div class="p">例如：<pre class="pre codeblock"><code>$ tfactl diagcollect -last 1d -node myserver65</code></pre></div>
                        </div>
                     </li>
                  </ol>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="running-diagnostic-collection-commands.html#GUID-4A06751C-9081-4158-88CB-EFBC77A797A0" title="使用tfactl diagcollect命令执行按需诊断收集。">tfactl diagcollect</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="performing-custom-collections.html#GUID-E4A2492E-A123-480A-B954-57898DBCE8BE" title="使用自定义集合选项可以更改默认的诊断集合。">执行自定义集合</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-0FA3F135-C73E-444B-94FF-A2185D65E681" name="GUID-0FA3F135-C73E-444B-94FF-A2185D65E681"></a><h3 id="ATNMS-GUID-0FA3F135-C73E-444B-94FF-A2185D65E681" class="sect3"><span class="enumeration_section">18.3</span>从特定组件中收集</h3>
               <div>
                  <p></p>
                  <div class="section">
                     <p class="subhead2" id="GUID-0FA3F135-C73E-444B-94FF-A2185D65E681__GUID-FC2829C5-60F8-4118-860A-E7DB07A5E745">从特定组件收集：</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>从特定组件收集：</span><div>
                           <div class="p"><pre class="pre codeblock"><code>tfactl diagcollect <span class="variable" translate="no">component</span></code></pre></div>
                           <p>例如：</p>
                           <div class="p">要在过去1天内修剪和收集数据库<code class="codeph"><span class="variable" translate="no">hrdb</span></code>和<code class="codeph"><span class="variable" translate="no">fdb</span></code>中的所有文件：<pre class="pre codeblock"><code>$ tfactl -diagcollect -database hrdb，fdb -last 1d</code></pre></div>
                           <div class="p">要修剪和收集过去6小时内更新的<code class="codeph"><span class="variable" translate="no">node1</span></code>和<code class="codeph"><span class="variable" translate="no">node2</span></code>中的所有CRS文件，操作系统日志和CHMOS / OSW数据：<pre class="pre codeblock"><code>$ tfactl diagcollect -crs -os -node node1，node2 -last 6h</code></pre></div>
                           <div class="p">修剪和收集<code class="codeph"><span class="variable" translate="no">node1</span></code>之间更新的所有Oracle ASM日志：<pre class="pre codeblock"><code>$ tfactl diagcollect -asm -node node1 -from“2016-08-15”-to“2016-08-17”</code></pre></div>
                           <div class="p">以下是可用的组件选项。
                              <div class="tblformal" id="GUID-0FA3F135-C73E-444B-94FF-A2185D65E681__GUID-48587D98-EEE2-4799-9886-97372B9D0F6D">
                                 <p class="titleintable">表18-2组件选项</p>
                                 <table cellpadding="4" cellspacing="0" class="Formal" title="组件选项" border="1" summary="This table lists and describes the available component options." frame="hsides" rules="rows">
                                    <thead>
                                       <tr align="left" valign="top">
                                          <th align="left" valign="bottom" width="20%" id="d49811e352">组件选项</th>
                                          <th align="left" valign="bottom" width="20%" id="d49811e354">描述</th>
                                       </tr>
                                    </thead>
                                    <tbody>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="20%" id="d49811e358" headers="d49811e352 ">
                                             <p><code class="codeph">-database <span class="variable" translate="no">database_names</span></code></p>
                                          </td>
                                          <td align="left" valign="top" width="20%" headers="d49811e358 d49811e354 ">
                                             <p>从以逗号分隔的列表中指定的数据库收集数据库日志。</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="20%" id="d49811e368" headers="d49811e352 ">
                                             <p><code class="codeph">-asm</code></p>
                                          </td>
                                          <td align="left" valign="top" width="20%" headers="d49811e368 d49811e354 ">
                                             <p>收集Oracle ASM日志。</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="20%" id="d49811e376" headers="d49811e352 ">
                                             <p><code class="codeph">-crsclient</code></p>
                                          </td>
                                          <td align="left" valign="top" width="20%" headers="d49811e376 d49811e354 ">
                                             <p>收集<code>GIBASE/diag/clients</code>下的客户端日志。
                                             </p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="20%" id="d49811e387" headers="d49811e352 ">
                                             <p><code class="codeph">-dbclient</code></p>
                                          </td>
                                          <td align="left" valign="top" width="20%" headers="d49811e387 d49811e354 ">
                                             <p>收集<code>DB ORABASE/diag/clients</code>下的客户端日志。
                                             </p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="20%" id="d49811e398" headers="d49811e352 ">
                                             <p><code class="codeph">-dbwlm</code></p>
                                          </td>
                                          <td align="left" valign="top" width="20%" headers="d49811e398 d49811e354 ">
                                             <p>收集DBWLM日志。</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="20%" id="d49811e406" headers="d49811e352 ">
                                             <p><code class="codeph">-tns</code></p>
                                          </td>
                                          <td align="left" valign="top" width="20%" headers="d49811e406 d49811e354 ">
                                             <p>收集TNS日志。</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="20%" id="d49811e414" headers="d49811e352 ">
                                             <p><code class="codeph">-RHP</code></p>
                                          </td>
                                          <td align="left" valign="top" width="20%" headers="d49811e414 d49811e354 ">
                                             <p>收集RHP日志。</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="20%" id="d49811e422" headers="d49811e352 ">
                                             <p><code class="codeph">-procinfo</code></p>
                                          </td>
                                          <td align="left" valign="top" width="20%" headers="d49811e422 d49811e354 ">
                                             <p>从<code>/proc</code> <code class="codeph">Gathers stack</code>所有进程的<code class="codeph">Gathers stack</code>和<code class="codeph">fd</code> 。
                                             </p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="20%" id="d49811e439" headers="d49811e352 ">
                                             <p><code class="codeph">-afd</code></p>
                                          </td>
                                          <td align="left" valign="top" width="20%" headers="d49811e439 d49811e354 ">
                                             <p>收集AFD日志。</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="20%" id="d49811e447" headers="d49811e352 ">
                                             <p><code class="codeph">-crs</code></p>
                                          </td>
                                          <td align="left" valign="top" width="20%" headers="d49811e447 d49811e354 ">
                                             <p>收集CRS日志。</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="20%" id="d49811e455" headers="d49811e352 ">
                                             <p><code class="codeph">-wls</code></p>
                                          </td>
                                          <td align="left" valign="top" width="20%" headers="d49811e455 d49811e354 ">
                                             <p>收集WLS日志。</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="20%" id="d49811e464" headers="d49811e352 ">
                                             <p><code class="codeph">-emagent</code></p>
                                          </td>
                                          <td align="left" valign="top" width="20%" headers="d49811e464 d49811e354 ">
                                             <p>收集EMAGENT日志。</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="20%" id="d49811e472" headers="d49811e352 ">
                                             <p><code class="codeph">-OMs</code></p>
                                          </td>
                                          <td align="left" valign="top" width="20%" headers="d49811e472 d49811e354 ">
                                             <p>收集OMS日志。</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="20%" id="d49811e480" headers="d49811e352 ">
                                             <p><code class="codeph">-ocm</code></p>
                                          </td>
                                          <td align="left" valign="top" width="20%" headers="d49811e480 d49811e354 ">
                                             <p>收集OCM日志。</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="20%" id="d49811e488" headers="d49811e352 ">
                                             <p><code class="codeph">-emplugins</code></p>
                                          </td>
                                          <td align="left" valign="top" width="20%" headers="d49811e488 d49811e354 ">
                                             <p>收集EMPLUGINS日志。</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="20%" id="d49811e496" headers="d49811e352 ">
                                             <p><code class="codeph">-em</code></p>
                                          </td>
                                          <td align="left" valign="top" width="20%" headers="d49811e496 d49811e354 ">
                                             <p>收集EM日志。</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="20%" id="d49811e504" headers="d49811e352 ">
                                             <p><code class="codeph">-acfs</code></p>
                                          </td>
                                          <td align="left" valign="top" width="20%" headers="d49811e504 d49811e354 ">
                                             <p>收集ACFS日志和数据。</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="20%" id="d49811e512" headers="d49811e352 ">
                                             <p><code class="codeph">-安装</code></p>
                                          </td>
                                          <td align="left" valign="top" width="20%" headers="d49811e512 d49811e354 ">
                                             <p>收集Oracle安装相关文件。</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="20%" id="d49811e520" headers="d49811e352 ">
                                             <p><code class="codeph">-cfgtools</code></p>
                                          </td>
                                          <td align="left" valign="top" width="20%" headers="d49811e520 d49811e354 ">
                                             <p>收集CFGTOOLS日志。</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="20%" id="d49811e528" headers="d49811e352 ">
                                             <p><code class="codeph">-os</code></p>
                                          </td>
                                          <td align="left" valign="top" width="20%" headers="d49811e528 d49811e354 ">
                                             <p>收集操作系统文件，例如<code>/var/log/messages</code> 。
                                             </p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="20%" id="d49811e539" headers="d49811e352 ">
                                             <p><code class="codeph">-ashhtml</code></p>
                                          </td>
                                          <td align="left" valign="top" width="20%" headers="d49811e539 d49811e354 ">
                                             <p>收集生成ASH HTML报告。</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="20%" id="d49811e547" headers="d49811e352 ">
                                             <p><code class="codeph">-ashtext</code></p>
                                          </td>
                                          <td align="left" valign="top" width="20%" headers="d49811e547 d49811e354 ">
                                             <p>收集生成ASH TEXT报告。</p>
                                          </td>
                                       </tr>
                                       <tr align="left" valign="top">
                                          <td align="left" valign="top" width="20%" id="d49811e556" headers="d49811e352 ">
                                             <p><code class="codeph">-awrhtml</code></p>
                                          </td>
                                          <td align="left" valign="top" width="20%" headers="d49811e556 d49811e354 ">
                                             <p>收集AWRHTML日志。</p>
                                          </td>
                                       </tr>
                                    </tbody>
                                 </table>
                              </div>
                              <!-- class="inftblhruleinformal" -->
                           </div>
                        </div>
                     </li>
                  </ol>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="running-diagnostic-collection-commands.html#GUID-4A06751C-9081-4158-88CB-EFBC77A797A0" title="使用tfactl diagcollect命令执行按需诊断收集。">tfactl diagcollect</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="performing-custom-collections.html#GUID-E4A2492E-A123-480A-B954-57898DBCE8BE" title="使用自定义集合选项可以更改默认的诊断集合。">执行自定义集合</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-37F704DD-6A3E-4337-B089-4A21D30B978E" name="GUID-37F704DD-6A3E-4337-B089-4A21D30B978E"></a><h3 id="ATNMS-GUID-37F704DD-6A3E-4337-B089-4A21D30B978E" class="sect3"><span class="enumeration_section">18.4</span>从特定目录收集</h3>
               <div>
                  <p></p>
                  <div class="section">
                     <p>Oracle跟踪文件分析器可发现所有Oracle诊断程序，并根据类型和上次更新时间收集相关文件。</p>
                     <p>如果要收集其他文件，则可以指定其他目录。Oracle Trace File Analyzer仅收集在相关时间范围内更新的文件（默认为12小时）。</p>
                     <p>您可以配置所有文件的集合，而不管上次更新的时间。使用<code class="codeph">-collectall</code>选项在目录基础上进行配置。
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-37F704DD-6A3E-4337-B089-4A21D30B978E__GUID-7FF923B9-9EBB-465C-A4C4-38937519391D">要从特定目录中收集：</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>要包含过去12小时内更新的所有文件：</span><div>
                           <div class="p"><pre class="pre codeblock"><code>tfactl diagcollect -collectdir <span class="variable" translate="no">dir1,dir2,...dirn</span></code></pre></div>
                           <p>例如：</p>
                           <div class="p">修剪和收集过去12小时内更新的所有CRS文件以及启动节点上<code>/tmp_dir1</code>和<code>/tmp_dir2</code>中的所有文件：<pre class="pre codeblock"><code>$ tfactl diagcollect -crs -collectdir / tmp_dir1，/ tmpdir_2</code></pre></div>
                        </div>
                     </li>
                     <li class="stepexpand"><span>要配置Oracle跟踪文件分析器以从目录收集所有文件，请首先使用<code class="codeph">-collectall</code>选项对其进行配置：</span><div>
                           <div class="p"><pre class="pre codeblock"><code>$ tfactl add <span class="variable" translate="no">dir</span> -collectall</code></pre></div>
                           <p>要么</p>
                           <div class="p"><pre class="pre codeblock"><code>tfactl修改<span class="variable" translate="no">dir</span> -collectall</code></pre></div>
                           <div class="p">使用<code class="codeph">-collectalldirs</code>选项启动诊断集合：<pre class="pre codeblock"><code>$ tfactl diagcollect -collectalldirs</code></pre></div>
                           <div class="infoboxnote" id="GUID-37F704DD-6A3E-4337-B089-4A21D30B978E__GUID-B7490A32-E3FD-43BA-B007-F1F6EF0780B5">
                              <p class="notep1">注意：</p>如果未正常使用<code class="codeph">-collectalldirs</code>选项，则应用文件类型，名称和时间范围限制。
                           </div>
                        </div>
                     </li>
                  </ol>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="running-diagnostic-collection-commands.html#GUID-4A06751C-9081-4158-88CB-EFBC77A797A0" title="使用tfactl diagcollect命令执行按需诊断收集。">tfactl diagcollect</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="performing-custom-collections.html#GUID-E4A2492E-A123-480A-B954-57898DBCE8BE" title="使用自定义集合选项可以更改默认的诊断集合。">执行自定义集合</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-8AF18492-233A-4DB6-B116-6889798B4594" name="GUID-8AF18492-233A-4DB6-B116-6889798B4594"></a><h3 id="ATNMS-GUID-8AF18492-233A-4DB6-B116-6889798B4594" class="sect3"><span class="enumeration_section">18.5</span>更改集合名称</h3>
               <div>
                  <p></p>
                  <div class="section">
                     <p>Oracle Trace File Analyzer使用以下命名格式压缩集合并将zip文件放入存储库目录中：</p><pre class="pre codeblock"><code><span class="variable" translate="no">repository</span> / collection_ <span class="variable" translate="no">date_time</span> / node_all / <span class="variable" translate="no">node</span> .tfa_ <span class="variable" translate="no">date_time</span> .zip</code></pre><p>您只能使用以下选项更改压缩文件的名称。手动更改文件名会阻止您使用具有各种Oracle Support自助服务工具的集合。</p>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-8AF18492-233A-4DB6-B116-6889798B4594__GUID-8E9BC718-6881-4489-8E3C-3A4EAC1AF786">要更改集合名称：</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>要使用您自己的命名来组织集合：</span><div>
                           <div class="p"><pre class="pre codeblock"><code>-tag <span class="variable" translate="no">tagname</span></code></pre></div>
                           <p>这些文件被收集到存储库内的<code class="codeph"><span class="variable" translate="no">tagname</span></code>目录中。
                           </p>
                           <div class="p">例如：<pre class="pre codeblock"><code>$ tfactl diagcollect -last 1h -tag MyTagName收集所有节点的数据........正在收集日志：/ scratch / app / crsusr / tfa / repository / MyTagName / scratch / app / crsusr / tfa / repository / MyTagName / <span class="variable" translate="no">host_name</span> .tfa_Mon_Aug_22_05_26_17_PDT_2016.zip / scratch / app / crsusr / tfa / repository / MyTagName / <span class="variable" translate="no">host_name</span> .tfa_Mon_Aug_22_05_26_17_PDT_2016.zip</code></pre></div>
                        </div>
                     </li>
                     <li class="stepexpand"><span>要重命名<code>zip</code>文件：</span><div>
                           <div class="p"><pre class="pre codeblock"><code>-z <span class="variable" translate="no">zip name</span></code></pre></div>
                           <div class="p">例如：<pre class="pre codeblock"><code>$ tfactl diagcollect -last 1h -z MyCollectionName.zip收集所有节点的数据........日志收集到：/刮伤/应用程序/ crsusr / TFA /库/ collection_Mon_Aug_22_05_13_41_PDT_2016_node_all /scratch/app/crsusr/tfa/repository/collection_Mon_Aug_22_05_13_41_PDT_2016_node_all/myserver65.tfa_MyCollectionName.zip /刮伤/应用程序/ crsusr / TFA /库/ collection_Mon_Aug_22_05_13_41_PDT_2016_node_all / myserver66 .tfa_MyCollectionName.zip</code></pre></div>
                        </div>
                     </li>
                  </ol>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="running-diagnostic-collection-commands.html#GUID-4A06751C-9081-4158-88CB-EFBC77A797A0" title="使用tfactl diagcollect命令执行按需诊断收集。">tfactl diagcollect</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="performing-custom-collections.html#GUID-E4A2492E-A123-480A-B954-57898DBCE8BE" title="使用自定义集合选项可以更改默认的诊断集合。">执行自定义集合</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-7ACBBD2D-3F93-439D-A71A-5A5D69AD7D02" name="GUID-7ACBBD2D-3F93-439D-A71A-5A5D69AD7D02"></a><h3 id="ATNMS-GUID-7ACBBD2D-3F93-439D-A71A-5A5D69AD7D02" class="sect3"><span class="enumeration_section">18.6</span>防止复制Zip文件和修剪文件</h3>
               <div>
                  <p></p>
                  <div class="section">
                     <p>默认情况下，Oracle跟踪文件分析器收集器：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p>将所有zip文件从远程注释复制回到启动节点</p>
                        </li>
                        <li>
                           <p>在相关时间周围修剪文件</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-7ACBBD2D-3F93-439D-A71A-5A5D69AD7D02__GUID-B83AC7B4-EE1B-448B-BC9A-75AC72BC8D45">要防止复制zip文件和修剪文件：</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>要防止将zip文件复制回初始节点：</span><div>
                           <div class="p"><pre class="pre codeblock"><code>-nocopy</code></pre></div>
                           <div class="p">例如：<pre class="pre codeblock"><code>$ tfactl diagcollect -last 1d -nocopy</code></pre></div>
                        </div>
                     </li>
                     <li class="stepexpand"><span>为避免修剪文件：</span><div>
                           <div class="p"><pre class="pre codeblock"><code>-notrim</code></pre></div>
                           <div class="p">例如：<pre class="pre codeblock"><code>$ tfactl diagcollect -last 1d -notrim</code></pre></div>
                        </div>
                     </li>
                  </ol>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="running-diagnostic-collection-commands.html#GUID-4A06751C-9081-4158-88CB-EFBC77A797A0" title="使用tfactl diagcollect命令执行按需诊断收集。">tfactl diagcollect</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="performing-custom-collections.html#GUID-E4A2492E-A123-480A-B954-57898DBCE8BE" title="使用自定义集合选项可以更改默认的诊断集合。">执行自定义集合</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-7CA0360B-9996-43D3-B334-81DD5C470ACE" name="GUID-7CA0360B-9996-43D3-B334-81DD5C470ACE"></a><h3 id="ATNMS-GUID-7CA0360B-9996-43D3-B334-81DD5C470ACE" class="sect3"><span class="enumeration_section">18.7</span>执行无声收集</h3>
               <div>
                  <p></p>
                  <div class="section"></div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>要启动静默集合：</span><div>
                           <div class="p"><pre class="pre codeblock"><code>-无声</code></pre></div>
                           <p><code class="codeph">diagcollect</code>命令作为后台进程提交。
                           </p>
                           <div class="p">例如：<pre class="pre codeblock"><code>$ tfactl diagcollect -last 1d -silent</code></pre></div>
                        </div>
                     </li>
                  </ol>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="running-diagnostic-collection-commands.html#GUID-4A06751C-9081-4158-88CB-EFBC77A797A0" title="使用tfactl diagcollect命令执行按需诊断收集。">tfactl diagcollect</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="performing-custom-collections.html#GUID-E4A2492E-A123-480A-B954-57898DBCE8BE" title="使用自定义集合选项可以更改默认的诊断集合。">执行自定义集合</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-E97E09E7-E069-4162-BA2B-65738BE85E55" name="GUID-E97E09E7-E069-4162-BA2B-65738BE85E55"></a><h3 id="ATNMS-GUID-E97E09E7-E069-4162-BA2B-65738BE85E55" class="sect3"><span class="enumeration_section">18.8</span>防止收集核心文件</h3>
               <div>
                  <p></p>
                  <div class="section"></div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>要防止包含核心文件：</span><div>
                           <div class="p"><pre class="pre codeblock"><code>-nocores</code></pre></div>
                           <div class="p">例如：<pre class="pre codeblock"><code>$ tfactl diagcollect -last 1d -nocores</code></pre></div>
                        </div>
                     </li>
                  </ol>
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="running-diagnostic-collection-commands.html#GUID-4A06751C-9081-4158-88CB-EFBC77A797A0" title="使用tfactl diagcollect命令执行按需诊断收集。">tfactl diagcollect</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="performing-custom-collections.html#GUID-E4A2492E-A123-480A-B954-57898DBCE8BE" title="使用自定义集合选项可以更改默认的诊断集合。">执行自定义集合</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
            <div class="sect2"><a id="GUID-465A4E00-3A13-4FBA-8255-0AF98AF7B66E" name="GUID-465A4E00-3A13-4FBA-8255-0AF98AF7B66E"></a><h3 id="ATNMS-GUID-465A4E00-3A13-4FBA-8255-0AF98AF7B66E" class="sect3"><span class="enumeration_section">18.9</span>收集事件包装服务（IPS）包</h3>
               <div>
                  <p>事件打包服务包括Oracle数据库在ADR中存储的问题的详细信息，以供以后诊断。</p>
                  <div class="section">
                     <p class="subhead2" id="GUID-465A4E00-3A13-4FBA-8255-0AF98AF7B66E__GUID-87B48AB2-B4FF-46F2-82D8-2E0C48CA0509">句法</p>
                     <p>Oracle Trace File Analyzer运行IPS以查询和收集这些包。</p>
                     <div class="p"><pre class="pre codeblock"><code>tfactl ips <span class="variable" translate="no">option</span></code></pre></div>
                     <div class="tblformal" id="GUID-465A4E00-3A13-4FBA-8255-0AF98AF7B66E__GUID-F5B400C8-0A52-4270-A07E-1DAC3EB6B610">
                        <p class="titleintable">表18-3 tfactl ips命令参数</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="tfactl ips命令参数" border="1" summary="This table lists and describes tfactl ips command parameters." frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="20%" id="d49811e1032">命令</th>
                                 <th align="left" valign="bottom" width="20%" id="d49811e1034">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d49811e1038" headers="d49811e1032 ">
                                    <p><code class="codeph">tfactl ips</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d49811e1038 d49811e1034 ">
                                    <p>运行IPS。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d49811e1046" headers="d49811e1032 ">
                                    <p><code class="codeph">tfactl ips显示事件</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d49811e1046 d49811e1034 ">
                                    <p>显示所有IPS事件。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d49811e1054" headers="d49811e1032 ">
                                    <p><code class="codeph">tfactl ips显示问题</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d49811e1054 d49811e1034 ">
                                    <p>显示所有IPS问题。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d49811e1062" headers="d49811e1032 ">
                                    <p><code class="codeph">tfactl ips显示包</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d49811e1062 d49811e1034 ">
                                    <p>显示所有IPS软件包。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d49811e1070" headers="d49811e1032 ">
                                    <p><code class="codeph">tfactl diagcollect -ips -h</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d49811e1070 d49811e1034 ">
                                    <p>显示所有可用的<code class="codeph">diagcollect</code> IPS选项。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d49811e1081" headers="d49811e1032 ">
                                    <p><code class="codeph">tfactl diagcollect -ips</code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d49811e1081 d49811e1034 ">
                                    <p>按照提示执行IPS集合。您可以使用所有标准<code class="codeph">diagcollect</code>选项来限制IPS收集的范围。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d49811e1092" headers="d49811e1032 ">
                                    <p><code class="codeph">tfactl diagcollect -ips -adrbasepath <span class="variable" translate="no">adr_base</span> -adrhomepath <span class="variable" translate="no">adr_home</span></code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d49811e1092 d49811e1034 ">
                                    <p>以静默方式执行IPS集合。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d49811e1105" headers="d49811e1032 ">
                                    <p><code class="codeph">tfactl diagcollect -ips -incident <span class="variable" translate="no">incident_id</span></code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d49811e1105 d49811e1034 ">
                                    <p>收集有关特定事件ID的ADR详细信息。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d49811e1115" headers="d49811e1032 ">
                                    <p><code class="codeph">tfactl diagcollect -ips -problem <span class="variable" translate="no">problem_id</span></code></p>
                                 </td>
                                 <td align="left" valign="top" width="20%" headers="d49811e1115 d49811e1034 ">
                                    <p>收集有关特定问题ID的ADR详细信息。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <p>您可以更改IPS包的内容。使用以下选项：</p>
                     <ol>
                        <li>
                           <p>开始收藏。</p>
                        </li>
                        <li>
                           <p>使用<code class="codeph">-manageips</code>选项暂停集合。
                           </p>
                           <p>例如：</p><pre class="pre codeblock"><code>$ tfactl diagcollect -ips -incident <span class="variable" translate="no">incident_id</span> -manageips -node local</code></pre></li>
                        <li>
                           <p>使用<code class="codeph">print suspendedips</code>选项查找已暂停的集合。
                           </p>
                           <p>例如：</p><pre class="pre codeblock"><code>$ tfactl print suspendedips</code></pre></li>
                        <li>
                           <p>操纵包裹。</p>
                        </li>
                        <li>
                           <p>使用<code class="codeph">-resumeips</code>选项恢复集合。
                           </p>
                           <p>例如：</p><pre class="pre codeblock"><code>$ tfactl diagcollect -resumeips <span class="variable" translate="no">collection_id</span></code></pre></li>
                     </ol>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-465A4E00-3A13-4FBA-8255-0AF98AF7B66E__GUID-5EBBCC26-1ED6-4D6F-B660-DE481768E27D">
                     <p class="titleinexample">示例18-1显示事件</p>
                     <div class="p"><pre class="pre codeblock"><code>$ tfactl ips显示事件ADR Home = / scratch / app / crsusr / diag / clients / user_crsusr / host_622665046_106：*************************** ********************************************** 0行获取ADR主页= / scratch / app / crsusr / diag / afdboot / user_root / host_622665046_106：********************************* **************************************** 0行获取ADR Home = / scratch / app / crsusr / diag / rdbms / _mgmtdb / -MGMTDB：************************************** *********************************** INCIDENT_ID PROBLEM_KEY CREATE_TIME ------------ -------- ------------------------------------------ ----------------- --------------------------------- ------- 12913 ORA 700 [kskvmstatact：观察到过度交换] 2016-06-30 14：05：48.491000 -07：00 12914 ORA 700 [kskvmstatact：观察到过度交换] 2016-06-30 15:06： 16.545000 -07：00 13161 ORA 445 2016-06-30 15：10：53.756000 -07：00 ADR Home = / scratch / app / crsusr / diag / asm / + asm / + ASM1：******** ************************************************** *********** **** INCIDENT_ID PROBLEM_KEY CREATE_TIME -------------------- ----------------------- ------------------------------------ -------------- -------------------------- 1177 ORA 445 2016-06-30 15：10：12.930000 -07：00 ADR Home = / scratch / app / crsusr / diag / asm / user_root / host_622665046_106：*************************************** **********************************</code></pre></div>
                  </div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-465A4E00-3A13-4FBA-8255-0AF98AF7B66E__GUID-961DF60E-60DB-4AC0-8915-5AAD680C8C55">
                     <p class="titleinexample">例18-2显示问题</p>
                     <div class="p"><pre class="pre codeblock"><code>$ tfactl ips显示问题ADR Home = / scratch / app / crsusr / diag / afdboot / user_root / host_622665046_106：*************************** ********************************************** 0行获取ADR主页= / scratch / app / crsusr / diag / rdbms / _mgmtdb / -MGMTDB：******************************** ***************************************** PROBLEM_ID PROBLEM_KEY LAST_INCIDENT LASTINC_TIME ----- --------------- ----------------------------------- ------------------------ -------------------- 1 ORA 700 [kskvmstatact：观察到过度交换] 12914 2016-06-30 15:06:16.545000 -07：00 2 ORA 445 13161 2016-06-30 15：10：53.756000 -07：00 ADR主页= / scratch / app / crsusr / diag / asm / + asm / + ASM1：******************************************* ****************************** PROBLEM_ID PROBLEM_KEY LAST_INCIDENT LASTINC_TIME ---------------- ---- ---------------------------------------------- ------------- -------------------- 1 ORA 445 1177 2016-06-30 15：10：12.930000 -07： 00</code></pre></div>
                  </div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-465A4E00-3A13-4FBA-8255-0AF98AF7B66E__GUID-0910D213-3B41-46D2-B5D7-64233D7F674D">
                     <p class="titleinexample">示例18-3显示包</p>
                     <div class="p"><pre class="pre codeblock"><code>$ tfactl ips show package找到了/ scratch / app / crsusr的多个ADR主路径，请选择一个...（）选项[0] diag / asmtool / user_root / host_622665046_106（）选项[1] diag / asmtool / user_crsusr / host_622665046_106（）选项[2] diag / clients / user_root / host_622665046_106（）选项[3] diag / clients / user_crsusr / host_622665046_106（）选项[4] diag / afdboot / user_root / host_622665046_106（）选项[5] diag / rdbms / _mgmtdb / -MGMTDB选项[6]完成请选择一个主路径[6]？已选择5 diag / rdbms / _mgmtdb / -MGMTDB PACKAGE_ID 1 PACKAGE_NAME ORA700kge_20160731211334 PACKAGE_DESCRIPTION DRIVING_PROBLEM 2 DRIVING_PROBLEM_KEY ORA 700 [kgerev1] DRIVING_INCIDENT 42605 DRIVING_INCIDENT_TIME 2016-07-05 07：53：28.578000 -07：00状态生成（4）CORRELATION_LEVEL典型（2） ）问题2个主要问题，0个相关问题事件2个主要事件，0个相关事件INCLUDED_FILES 84 PACKAGE_ID 2 PACKAGE_NAME IPSPKG_20160801203518 PACKAGE_DESCRIPTION DRIVING_PROBLEM N / A DRIVING_PROBLEM_KEY N / A DRIVING_INCIDENT N / A DRIVING_INCIDENT_TIME N / A状态生成（4）CORRELATION_LEVEL典型（2）问题0主要问题，0个相关问题事故0个主要事件，0个相关事件包含_FILES 27</code></pre></div>
                  </div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-465A4E00-3A13-4FBA-8255-0AF98AF7B66E__GUID-06642D08-E95A-42E9-91A6-D6AC1766E350">
                     <p class="titleinexample">例18-4 IPS收集</p>
                     <div class="p"><pre class="pre codeblock"><code>$ tfactl diagcollect -ips收集此组件过去12小时的数据...收集所有节点的数据在主节点中创建ips包...找到/ scratch / app / crsusr的多个ADR主路径，请选择一个或多个...（）选项[0] diag / asmtool / user_root / host_622665046_106（）选项[1] diag / asmtool / user_crsusr / host_622665046_106（）选项[2] diag / clients / user_root / host_622665046_106（）选项[3] diag / clients / user_crsusr / host_622665046_106（）选项[4] diag / afdboot / user_root / host_622665046_106（）选项[5] diag / rdbms / _mgmtdb / -MGMTDB选项[6]完成请选择一个主路径[6]？选择了5 diag / rdbms / _mgmtdb / -MGMTDB请选择至少一个ADR主路径。找到/ scratch / app / crsusr的多个ADR主路径，请选择一个或多个...（）选项[0] diag / asmtool / user_root / host_622665046_106（）选项[1] diag / asmtool / user_crsusr / host_622665046_106（）选项[2] diag / clients / user_root / host_622665046_106（）选项[3] diag / clients / user_crsusr / host_622665046_106（）选项[4] diag / afdboot / user_root / host_622665046_106（*）选项[5] diag / rdbms / _mgmtdb / -MGMTDB选项[6]完成请选择一个主路径[6]？尝试使用ADR basepath / scratch / app / crsusr尝试使用ADR homepath diag / rdbms / _mgmtdb / -MGMTDB ...提交请求以生成ADR homepath的程序包/ scratch / app / crsusr / diag / rdbms / _mgmtdb / -MGMTDB为ADR homepath完成的主程序包/ scratch / app / crsusr / diag / rdbms / _mgmtdb / -MGMTDB根据时间创建程序包15范围2016-08-21 15：58：00.000000 -07：00至2016-08-22 03：58：00.000000 -07：00，相关级别基本远程包已完成ADR主路径/ diag / rdbms / _mgmtdb / -MGMTDB Collection ID：20160822035856myserver65详细记录：/ scratch / app / crsusr / tfa / repository / collection_Mon_Aug_22_03_58_56_PDT_2016_node_all / diagcollect_20160822035856_myserver65.log 2016/08/22 03:59:40 PDT：产品名称：tfa_Mon_Aug_22_03_58_56_PDT_2016.zip 2016/08/22 03 ：59：40 PDT：从主机收集诊断信息：[myserver65，myserver66] 2016/08/22 03:59:40 PDT：获取满足时间范围的文件列表[08/21/2016 15:59:40 PDT，08 / 22/2016 03:59:40 PDT] 2016/08/22 03:59:40 PDT：收集其他诊断信息......2016/08/22 03:59:51 PDT：完成了其他诊断信息的收集......2016/08/22 03:59:51 PDT：已完成本地收藏2016/08/22 03:59:51 PDT：远程收藏正在进行中.......---------------------------------------。|收集摘要| + ------------ + ----------- + ------- + ------ + |主持人|状态|尺寸|时间| + ------------ + ----------- + ------- + ------ + | myserver66 |完成| 254kB | 16s | | myserver65 |完成| 492kB | 11s | '------------ + ----------- + ------- + ------'日志被收集到：/ scratch /应用程序/ crsusr / TFA /库/ collection_Mon_Aug_22_03_58_56_PDT_2016_node_all /刮伤/应用程序/ crsusr / TFA /库/ collection_Mon_Aug_22_03_58_56_PDT_2016_node_all / myserver66.tfa_Mon_Aug_22_03_58_56_PDT_2016.zip /刮伤/应用程序/ crsusr / TFA /库/ collection_Mon_Aug_22_03_58_56_PDT_2016_node_all / myserver65.tfa_Mon_Aug_22_03_58_56_PDT_2016.zip</code></pre></div>
                  </div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="relinfo">
                     <p><strong>相关话题</strong></p>
                     <ul>
                        <li><a href="running-diagnostic-collection-commands.html#GUID-62B3A421-21D3-4AE5-B57E-E1B15420C5D7" title="使用tfactl ips命令收集自动诊断存储库诊断数据。">tfactl ips</a></li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>父主题：</strong> <a href="performing-custom-collections.html#GUID-E4A2492E-A123-480A-B954-57898DBCE8BE" title="使用自定义集合选项可以更改默认的诊断集合。">执行自定义集合</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>