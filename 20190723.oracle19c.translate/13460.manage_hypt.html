<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content=""></meta>
      <meta name="description" content=""></meta>
      <title>管理混合分区表</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="VLDB and Partitioning Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="VLDB and Partitioning Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="vldb-and-partitioning-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-23T18:05:22-07:00"></meta>
      <meta name="dcterms.title" content="VLDB and Partitioning Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="2008, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96199-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="evolve-nopartition-table.html" title="Previous" type="text/html"></link>
      <link rel="next" href="view-info-partition-tables-indexes.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="VLDBG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="evolve-nopartition-table.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="view-info-partition-tables-indexes.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">VLDB和分区指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="partition-admin.html" property="item" typeof="WebPage"><span property="name">分区管理</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">管理混合分区表</li>
            </ol>
            <a id="GUID-ACBDB3B2-0A16-4CFD-8FF1-A57C9B3D907F" name="GUID-ACBDB3B2-0A16-4CFD-8FF1-A57C9B3D907F"></a>
            
            <h2 id="VLDBG-GUID-ACBDB3B2-0A16-4CFD-8FF1-A57C9B3D907F" class="sect2">管理混合分区表</h2>
         </header>
         <div class="ind">
            <div>
               <p></p>
               <p>本节讨论以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="manage_hypt.html#GUID-EB77C4A7-761D-4218-A3C6-874152504F31" title="您可以使用CREATE TABLE语句的EXTERNAL PARTITION ATTRIBUTES子句来确定表的混合分区。表的分区可以是外部的，也可以是内部的。">创建混合分区表</a></p>
                  </li>
                  <li>
                     <p><a href="manage_hypt.html#GUID-FCFB85FC-AAB3-4BF4-94E6-34BE5112D83E" title="您可以将仅包含内部分区的表转换为混合分区表。">转换为混合分区表</a></p>
                  </li>
                  <li>
                     <p><a href="manage_hypt.html#GUID-4D0F2F16-5601-4240-AD94-219D85FD6AED" title="您可以将混合分区表转换为仅包含内部分区的表。">将混合分区表转换为内部分区表</a></p>
                  </li>
                  <li>
                     <p><a href="manage_hypt.html#GUID-D8796A92-6DBA-423C-B27A-36C7D4FE2733" title="在某些情况下，您可以将自动数据优化（ADO）策略与混合分区表一起使用。">将ADO与混合分区表一起使用</a></p>
                  </li>
                  <li>
                     <p><a href="manage_hypt.html#GUID-C33AD752-50CE-497E-B19A-8D7EF153D0DF">在混合分区表中拆分分区</a></p>
                  </li>
               </ul>
               <div class="section">
                  <div class="infoboxnotealso" id="GUID-ACBDB3B2-0A16-4CFD-8FF1-A57C9B3D907F__GUID-DD34DC56-1381-4FB7-8149-D7C6278F21F4">
                     <p class="notep1">也可以看看：</p>
                     <ul id="GUID-ACBDB3B2-0A16-4CFD-8FF1-A57C9B3D907F__UL_BNN_WGK_TGB" style="list-style-type:disc">
                        <li>
                           <p><a href="partition-concepts.html#GUID-C2B04585-BCFC-40D6-AFAB-47DF99A31C76" title="Oracle hybrid partitioned tables combine classical internal partitioned tables with Oracle external partitioned tables to form a more general partitioning called hybrid partitioned tables.">混合分区表，</a>用于<a href="partition-concepts.html#GUID-C2B04585-BCFC-40D6-AFAB-47DF99A31C76" title="Oracle混合分区表将传统的内部分区表与Oracle外部分区表组合在一起，形成一个称为混合分区表的更通用的分区。">混合分区表</a>的概述，包括有关限制的信息</p>
                        </li>
                     </ul>
                  </div>
               </div>
               <!-- class="section" -->
            </div>
            <div class="sect2"><a id="GUID-EB77C4A7-761D-4218-A3C6-874152504F31" name="GUID-EB77C4A7-761D-4218-A3C6-874152504F31"></a><h3 id="VLDBG-GUID-EB77C4A7-761D-4218-A3C6-874152504F31" class="sect3">创建混合分区表</h3>
               <div>
                  <p>您可以使用<code class="codeph">CREATE TABLE</code>语句的<code class="codeph">EXTERNAL PARTITION ATTRIBUTES</code>子句来确定<code class="codeph">CREATE TABLE</code>混合分区。表的分区可以是外部的，也可以是内部的。
                  </p>
                  <p>混合分区表使分区既可以驻留在数据库数据文件（内部分区）中，也可以驻留在外部文件和源（外部分区）中。您可以创建和查询混合分区表，以利用内部和外部分区中包含的数据与经典分区表（例如修剪）进行分区的优势。</p>
                  <p><code class="codeph">CREATE TABLE</code>语句的<code class="codeph">EXTERNAL PARTITION ATTRIBUTES</code>子句在表级定义，用于在混合分区表中指定表级外部参数，例如：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>访问驱动程序类型，例如<code class="codeph">ORACLE_LOADER, ORACLE_DATAPUMP, ORACLE_HDFS, ORACLE_HIVE</code> 
                        </p>
                     </li>
                     <li>
                        <p>所有外部分区文件的默认目录</p>
                     </li>
                     <li>
                        <p>访问参数</p>
                     </li>
                  </ul>
                  <p><code class="codeph">PARTITION</code>子句的<code class="codeph">EXTERNAL</code>子句将<code class="codeph">PARTITION</code>定义为外部分区。如果没有<code class="codeph">EXTERNAL</code>子句，则分区是内部分区。您可以为每个外部分区指定与表级别定义的默认属性不同的属性，例如目录。例如，在<a href="manage_hypt.html#GUID-EB77C4A7-761D-4218-A3C6-874152504F31__CREATINGAHYBRIDPARTITIONEDTABLE-C09D6E1A">实施例4-42</a>的<code class="codeph">DEFAULT DIRECTORY</code>为分区值<code class="codeph">sales_data2</code> ， <code class="codeph">sales_data3</code>和<code class="codeph">sales_data_acfs</code>是不同比<code class="codeph">DEFAULT DIRECTORY</code>中定义的值<code class="codeph">EXTERNAL PARTITION ATTRIBUTES</code>子句。
                  </p>
                  <p>如果没有为外部分区定义外部文件，则外部分区为空。可以使用<code class="codeph">ALTER TABLE MODIFY PARTITION</code>语句使用外部文件填充它。请注意，至少一个分区必须是内部分区。
                  </p>
                  <p>在<a href="manage_hypt.html#GUID-EB77C4A7-761D-4218-A3C6-874152504F31__CREATINGAHYBRIDPARTITIONEDTABLE-C09D6E1A">示例4-42中</a> ，创建了具有四个外部分区和两个内部分区的混合范围分区表。外部逗号分隔（CSV）数据文件存储在<code class="codeph">DEFAULT DIRECTORY</code>子句定义的<code class="codeph">sales_data</code> ， <code class="codeph">sales_data2</code> ， <code class="codeph">sales_data3</code>和<code class="codeph">sales_data_acfs</code>目录中。 <code class="codeph">sales_data</code>被定义为<code class="codeph">EXTERNAL PARTITION ATTRIBUTES</code>子句中的整个<code class="codeph">DEFAULT DIRECTORY</code> 。其他目录在分区级别定义。 <code class="codeph">sales_2014</code>和<code class="codeph">sales_2015</code>是内部分区。数据目录<code class="codeph">sales_data_acfs</code>存储在Oracle ACFS文件系统中，以说明该存储选项的使用。
                  </p>
                  <p>在<a href="manage_hypt.html#GUID-EB77C4A7-761D-4218-A3C6-874152504F31__ADDINGANEXTERNALPARTITIONTOAHYBRIDR-C4DCF5AD">示例4-43中</a> ，将另外的外部分区添加到混合范围分区表中。
                  </p>
                  <div class="example" id="GUID-EB77C4A7-761D-4218-A3C6-874152504F31__CREATINGAHYBRIDPARTITIONEDTABLE-C09D6E1A">
                     <p class="titleinexample">示例4-42创建混合范围分区表</p><pre class="oac_no_warn" dir="ltr">REM CONNECT AS SYSDBA用户，运行以下命令设置包含数据文件的数据目录CREATE DIRECTORY sales_data AS'/ u01 / my_data / sales_data1';授予阅读，写入目录sales_data TO hr; CREATE DIRECTORY sales_data2 AS'/ u01 / my_data / sales_data2'; GRANT READ，WRITE ON DIRECTORY sales_data2 TO hr; CREATE DIRECTORY sales_data3 AS'/ u01 / my_data / sales_data3'; GRANT READ，写入目录sales_data3 TO hr; REM在Oracle ACFS安装点（文件系统）上设置数据目录CREATE DIRECTORY sales_data_acfs AS'/ u01 / acfsmounts / acfs1'; GRANT READ，WRITE ON DIRECTORY sales_data_acfs to hr; CONNECT AS hr，运行以下CREATE TABLE hybrid_partition_table（prod_id NUMBER NOT NULL，cust_id NUMBER NOT NULL，time_id DATE NOT NULL，channel_id NUMBER NOT NULL，promo_id NUMBER NOT NULL，quantity_sold NUMBER（10,2）NOT NULL，amount_sold NUMBER（10 ，2）NOT NULL）外部分区属性（类型ORACLE_LOADER默认目录sales_data访问参数（字段终止于'，'（prod_id，cust_id，time_id DATE'dd-mm-yyyy'，channel_id，promo_id，quantity_sold，amount_sold））REJECT LIMIT无限制）按范围划分（time_id）（PARTITION sales_2014价值不到（截止日期（'01 -01-2015'，'dd-mm-yyyy'）），PARTITION sales_2015价值不到（截至_01  -  01-2016'） ，'dd-mm-yyyy'）），PARTITION sales_2016价值不到（截止日期（'01 -01-2017'，'dd-mm-yyyy'））外部位置（'sales2016_data.txt'），PARTITION sales_2017 VALUES LESS是（TO_DATE（'01 -01-2018'，'dd-mm-yyyy'））EXTERNAL DEFAULT DIRECTORY sales_data2 LOCATION（'sales2017_data.txt'），PARTITION sales_2018 VALUE少于（TO_）日期（'01 -01-2019'，'dd-mm-yyyy'））EXTERNAL DEFAULT DIRECTORY sales_data3 LOCATION（'sales2018_data.txt'），PARTITION sales_2019价值低于（7月1日 -  01日 -  01-2020'，'dd -mm-yyyy'））EXTERNAL DEFAULT DIRECTORY sales_data_acfs LOCATION（'sales2019_data.txt'））;</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-EB77C4A7-761D-4218-A3C6-874152504F31__ADDINGANEXTERNALPARTITIONTOAHYBRIDR-C4DCF5AD">
                     <p class="titleinexample">示例4-43将外部分区添加到混合范围表中</p><pre class="oac_no_warn" dir="ltr">ALTER TABLE hybrid_partition_table ADD PARTITION sales_2020价值低于（TO_DATE（'01 -01-2021'，'dd-mm-yyyy'））EXTERNAL DEFAULT DIRECTORY sales_data_acfs LOCATION（'sales2020_data.txt'）;</pre></div>
                  <!-- class="example" -->
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-EB77C4A7-761D-4218-A3C6-874152504F31__NOTE-14131-A2C7F9EE">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="partition-concepts.html#GUID-C2B04585-BCFC-40D6-AFAB-47DF99A31C76" title="Oracle混合分区表将传统的内部分区表与Oracle外部分区表组合在一起，形成一个称为混合分区表的更通用的分区。">混合分区表</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-FCFB85FC-AAB3-4BF4-94E6-34BE5112D83E" name="GUID-FCFB85FC-AAB3-4BF4-94E6-34BE5112D83E"></a><h3 id="VLDBG-GUID-FCFB85FC-AAB3-4BF4-94E6-34BE5112D83E" class="sect3">转换为混合分区表</h3>
               <div>
                  <p>您可以将仅包含内部分区的表转换为混合分区表。</p>
                  <p>在<a href="manage_hypt.html#GUID-FCFB85FC-AAB3-4BF4-94E6-34BE5112D83E__GUID-E36F46FC-E13D-425E-A405-70F0C230E02B">例4-44中</a> ，内部范围分区表被转换为混合分区表。您必须首先将外部分区属性添加到现有表，然后添加外部分区。请注意，至少一个分区必须是内部分区。
                  </p>
                  <div class="example" id="GUID-FCFB85FC-AAB3-4BF4-94E6-34BE5112D83E__GUID-E36F46FC-E13D-425E-A405-70F0C230E02B">
                     <p class="titleinexample">例4-44转换为混合范围分区表</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE internal_to_hypt_table（prod_id NUMBER NOT NULL，cust_id NUMBER NOT NULL，time_id DATE NOT NULL，channel_id NUMBER NOT NULL，promo_id NUMBER NOT NULL，quantity_sold NUMBER（10,2）NOT NULL，amount_sold NUMBER（10,2）NOT NULL）PARTITION按范围（time_id）（PARTITION sales_2014价值低于（7月1日（'01 -01-2015'，'dd-mm-yyyy'）））;从USER_TABLES中选择HYBRID WHERE TABLE_NAME ='INTERNAL_TO_HYPT_TABLE'; HYB --- NO ALTER TABLE internal_to_hypt_table添加外部分区属性（类型ORACLE_LOADER默认目录sales_data访问参数（字段终止于'，'（prod_id，cust_id，time_id DATE'dd-mm-yyyy'，channel_id，promo_id，quantity_sold，amount_sold） ））; ALTER TABLE internal_to_hypt_table添加PARTITION sales_2015价值不到（截止日期（'01 -01-2016'，'dd-mm-yyyy'））外部位置（'sales2015_data.txt'）; ALTER TABLE internal_to_hypt_table添加PARTITION sales_2016价值不到（截止日期（'01 -01-2017'，'dd-mm-yyyy'））外部位置（'sales2016_data.txt'）;从USER_TABLES中选择HYBRID WHERE TABLE_NAME ='INTERNAL_TO_HYPT_TABLE'; HYB --- YES SELECT DEFAULT_DIRECTORY_NAME FROM USER_EXTERNAL_TABLES WHERE TABLE_NAME ='INTERNAL_TO_HYPT_TABLE'; DEFAULT_DIRECTORY_NAME ------------------------------------------------- -------------------------------------------- SALES_DATA</pre></div>
                  <!-- class="example" -->
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-FCFB85FC-AAB3-4BF4-94E6-34BE5112D83E__GUID-0B5AAF34-445A-4960-A89F-6230C3BA120F">
                        <p class="notep1">也可以看看：</p>
                        <ul id="GUID-FCFB85FC-AAB3-4BF4-94E6-34BE5112D83E__UL_APR_WKV_2GB" style="list-style-type:disc">
                           <li>
                              <p><a href="partition-concepts.html#GUID-C2B04585-BCFC-40D6-AFAB-47DF99A31C76" title="Oracle混合分区表将传统的内部分区表与Oracle外部分区表组合在一起，形成一个称为混合分区表的更通用的分区。">混合分区表</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-4D0F2F16-5601-4240-AD94-219D85FD6AED" name="GUID-4D0F2F16-5601-4240-AD94-219D85FD6AED"></a><h3 id="VLDBG-GUID-4D0F2F16-5601-4240-AD94-219D85FD6AED" class="sect3">将混合分区表转换为内部分区表</h3>
               <div>
                  <p>您可以将混合分区表转换为仅包含内部分区的表。</p>
                  <p>在<a href="manage_hypt.html#GUID-4D0F2F16-5601-4240-AD94-219D85FD6AED__GUID-8BE285C0-0281-48C4-8702-4458C5A8282A">例4-45中</a> ，混合分区表被转换为内部范围分区表。首先，必须删除外部分区，然后才能删除外部分区属性。
                  </p>
                  <div class="example" id="GUID-4D0F2F16-5601-4240-AD94-219D85FD6AED__GUID-8BE285C0-0281-48C4-8702-4458C5A8282A">
                     <p class="titleinexample">示例4-45从混合分区表转换为内部表</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE hypt_to_int_table（prod_id NUMBER NOT NULL，cust_id NUMBER NOT NULL，time_id DATE NOT NULL，channel_id NUMBER NOT NULL，promo_id NUMBER NOT NULL，quantity_sold NUMBER（10,2）NOT NULL，amount_sold NUMBER（10,2）NOT NULL）EXTERNAL分区属性（类型ORACLE_LOADER默认目录sales_data访问参数（字段终止于'，'（prod_id，cust_id，time_id日期'dd-mm-yyyy'，channel_id，promo_id，quantity_sold，amount_sold））REJECT LIMIT UNLIMITED）按范围划分（time_id ）（PARTITION sales_2014价值不到（截止日期为（'01 -01-2015'，'dd-mm-yyyy'）），PARTITION sales_2015价值不到（截止日期（'01 -01-2016'，'dd-mm-yyyy） '）），PARTITION sales_2016价值不到（截止日期（'01 -01-2017'，'dd-mm-yyyy'））外部位置（'sales2016_data.txt'），PARTITION sales_2017价值不到（截止到4月1日） 01-2018'，'dd-mm-yyyy'））EXTERNAL DEFAULT目录sales_data2 LOCATION（'sales2017_data.txt'），PARTITION sales_2018价值不到（截止日期（'01 -01-2019'，'dd-mm-yyyy'） ））EXTER NAL DEFAULT DIRECTORY sales_data3 LOCATION（'sales2018_data.txt'），PARTITION sales_2019价值低于（截止日期（'01 -01-2020'，'dd-mm-yyyy'））EXTERNAL DEFAULT DIRECTORY sales_data_acfs LOCATION（'sales2019_data.txt'） ）;从USER_TABLES中选择HYBRID WHERE TABLE_NAME ='HYPT_TO_INT_TABLE'; HYB --- YES ALTER TABLE hypt_to_int_table DROP PARTITION sales_2016; ALTER TABLE hypt_to_int_table DROP PARTITION sales_2017; ALTER TABLE hypt_to_int_table DROP PARTITION sales_2018; ALTER TABLE hypt_to_int_table DROP PARTITION sales_2019; ALTER TABLE hypt_to_int_table DROP EXTERNAL PARTITION ATTRIBUTES（）;从USER_TABLES中选择HYBRID WHERE TABLE_NAME ='HYPT_TO_INT_TABLE'; HYB ---没有</pre></div>
                  <!-- class="example" -->
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-4D0F2F16-5601-4240-AD94-219D85FD6AED__GUID-7739CEA5-8294-44BE-982E-F987BF74865A">
                        <p class="notep1">也可以看看：</p>
                        <ul id="GUID-4D0F2F16-5601-4240-AD94-219D85FD6AED__UL_SL2_ZKV_2GB" style="list-style-type:disc">
                           <li>
                              <p><a href="partition-concepts.html#GUID-C2B04585-BCFC-40D6-AFAB-47DF99A31C76" title="Oracle混合分区表将传统的内部分区表与Oracle外部分区表组合在一起，形成一个称为混合分区表的更通用的分区。">混合分区表</a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-D8796A92-6DBA-423C-B27A-36C7D4FE2733" name="GUID-D8796A92-6DBA-423C-B27A-36C7D4FE2733"></a><h3 id="VLDBG-GUID-D8796A92-6DBA-423C-B27A-36C7D4FE2733" class="sect3">将ADO与混合分区表一起使用</h3>
               <div>
                  <p>在某些情况下，您可以将自动数据优化（ADO）策略与混合分区表一起使用。</p>
                  <p>在<a href="manage_hypt.html#GUID-D8796A92-6DBA-423C-B27A-36C7D4FE2733__GUID-D162846C-E99D-4219-A7BF-80B0EA0A26A6">示例4-46中</a> ，请注意ADO策略仅在表的内部分区上定义。
                  </p>
                  <div class="example" id="GUID-D8796A92-6DBA-423C-B27A-36C7D4FE2733__GUID-D162846C-E99D-4219-A7BF-80B0EA0A26A6">
                     <p class="titleinexample">例4-46将ADO与混合分区表一起使用</p><pre class="oac_no_warn" dir="ltr">SQL&gt; CREATE TABLE hypt_ado_table（prod_id NUMBER NOT NULL，cust_id NUMBER NOT NULL，time_id DATE NOT NULL，channel_id NUMBER NOT NULL，promo_id NUMBER NOT NULL，quantity_sold NUMBER（10,2）NOT NULL，amount_sold NUMBER（10,2）NOT NULL ）外部分区属性（类型ORACLE_LOADER默认目录sales_data访问参数（字段终止于'，'（prod_id，cust_id，time_id日期'dd-mm-yyyy'，channel_id，promo_id，quantity_sold，amount_sold））REJECT LIMIT UNLIMITED）按范围划分（time_id）（PARTITION sales_2014价值不到（截止日期（'01 -01-2015'，'dd-mm-yyyy'）），PARTITION sales_2015价值不到（截止日期为'01 -01-2016'，'dd-mm -yyyy'）），PARTITION sales_2016价值低于（7月1日（'01 -01-2017'，'dd-mm-yyyy'））外部位置（'sales2016_data.txt'），PARTITION sales_2017价值低于（7月4日） 01-01-2018'，'dd-mm-yyyy'））EXTERNAL DEFAULT目录sales_data2 LOCATION（'sales2017_data.txt'），PARTITION sales_2018价值不到（截止日期为01年1月1日，'dd-mm- yyyy'））EXT ERNAL DEFAULT DIRECTORY sales_data3 LOCATION（'sales2018_data.txt'），PARTITION sales_2019价值低于（TO_DATE（'01 -01-2020'，'dd-mm-yyyy'））EXTERNAL DEFAULT DIRECTORY sales_data4 LOCATION（'sales2019_data.txt'） ）;表创建。SQL&gt; SELECT HYBRID FROM USER_TABLES WHERE TABLE_NAME ='HYPT_ADO_TABLE'; HYB ---是SQL&gt; ALTER TABLE hypt_ado_table修改分区sales_2014 ILM添加政策行存储压缩高级行程6个月后不进行任何修改;表改变了。SQL&gt; ALTER TABLE hypt_ado_table修改分区sales_2015 ILM添加政策行存储压缩高级行，6个月后不进行修改;表改变了。SQL&gt; SELECT POLICY_NAME，POLICY_TYPE，已启用USER_ILMPOLICIES; POLICY_NAME POLICY_TYPE ENA ------------- --------------- ----- P1数据移动是P2数据移动是</pre></div>
                  <!-- class="example" -->
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-D8796A92-6DBA-423C-B27A-36C7D4FE2733__GUID-B5CD9F31-B3C0-4E69-B8D7-92A217807EDA">
                        <p class="notep1">也可以看看：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><a href="ilm-strategy-heatmap-ado.html#GUID-59C132D6-D36B-4B5E-B0CA-948C1B0E6836" title="要实施ILM策略，可以使用自动数据优化（ADO）在数据库中的不同存储层之间自动压缩和移动数据。">使用自动数据优化</a>获取有关ADO策略的信息</p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-C33AD752-50CE-497E-B19A-8D7EF153D0DF" name="GUID-C33AD752-50CE-497E-B19A-8D7EF153D0DF"></a><h3 id="VLDBG-GUID-C33AD752-50CE-497E-B19A-8D7EF153D0DF" class="sect3">在混合分区表中拆分分区</h3>
               <div>
                  <p></p>
                  <p>在<a href="manage_hypt.html#GUID-C33AD752-50CE-497E-B19A-8D7EF153D0DF__GUID-EED9E506-AB5B-460F-B341-CCC970AF9299">示例4-47中</a> ，默认（MAXVALUE）分区分为两个分区：新分区和现有默认位置。您可以拆分默认分区，类似于拆分任何其他分区。
                  </p>
                  <div class="example" id="GUID-C33AD752-50CE-497E-B19A-8D7EF153D0DF__GUID-EED9E506-AB5B-460F-B341-CCC970AF9299">
                     <p class="titleinexample">示例4-47拆分混合分区表中的默认分区</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE hybrid_split_table（prod_id NUMBER NOT NULL，cust_id NUMBER NOT NULL，time_id DATE NOT NULL，channel_id NUMBER NOT NULL，promo_id NUMBER NOT NULL，quantity_sold NUMBER（10,2）NOT NULL，amount_sold NUMBER（10,2）NOT NULL）EXTERNAL分区属性（类型ORACLE_LOADER默认目录sales_data访问参数（字段终止于'，'（prod_id，cust_id，time_id日期'dd-mm-yyyy'，channel_id，promo_id，quantity_sold，amount_sold））REJECT LIMIT UNLIMITED）按范围划分（time_id ）（PARTITION sales_2016价值不到（截止日期（'01 -01-2017'，'dd-mm-yyyy'））外部位置（'sales2016_data.txt'），PARTITION sales_2017价值不到（截止到4月1日） 2018'，'dd-mm-yyyy'））外部位置（'sales2017_data.txt'），PARTITION sales_2018价值不到（截止日期（'01 -01-2019'，'dd-mm-yyyy'）），PARTITION sales_2019价值低于（7月1日（'01 -01-2020'，'dd-mm-yyyy'）），PARTITION sales_future价值低于（MAXVALUE））;从USER_TABLES中选择HYBRID WHERE TABLE_NAME ='HYBRID_SPLIT_TABLE'; HYB --- YES SELECT DEFAULT_DIRECTORY_NAME FROM USER_EXTERNAL_TABLES WHERE TABLE_NAME ='HYBRID_SPLIT_TABLE'; DEFAULT_DIRECTORY_NAME ------------------------------------------------- ------------------------------- SALES_DATA INSERT INTO hybrid_split_table VALUES（1001,100，TO_DATE（'10 -02-2018'） ， 'DD-MM-YYYY'），10,15,500,7500）; INSERT INTO hybrid_split_table VALUES（1002,110，TO_DATE（'15 -06-2018'，'dd-mm-yyyy'），12,18,100,3200）; ...INSERT INTO hybrid_split_table VALUES（1002,110，TO_DATE（'12 -01-2019'，'dd-mm-yyyy'），12,18,150,4800）; INSERT INTO hybrid_split_table VALUES（1001,100，TO_DATE（'16 -02-2019'，'dd-mm-yyyy'），10,15,400,6500）; ...INSERT INTO hybrid_split_table VALUES（1002,110，TO_DATE（'19 -02-2020'，'dd-mm-yyyy'），12,18,150,4800）; INSERT INTO hybrid_split_table VALUES（1001,100，TO_DATE（'12 -03-2020'，'dd-mm-yyyy'），10,15,400,6500）; ...SELECT * FROM hybrid_split_table PARTITION（sales_2016）; PROD_ID CUST_ID TIME_ID CHANNEL_ID PROMO_ID QUANTITY_SOLD AMOUNT_SOLD ---------- ---------- --------- ---------- ---- ------ ------------- ----------- 1001 100 10-JAN-16 10 15 500 7500 1002 110 25-JAN-16 12 18 100 3200 ......SELECT * FROM hybrid_split_table PARTITION（sales_2017）; PROD_ID CUST_ID TIME_ID CHANNEL_ID PROMO_ID QUANTITY_SOLD AMOUNT_SOLD ---------- ---------- --------- ---------- ---- ------ ------------- ----------- 1002 110 15-JAN-17 12 18 100 3200 1001 100 10-FEB-17 10 15 500 7500 ......SELECT * FROM hybrid_split_table PARTITION（sales_2018）; PROD_ID CUST_ID TIME_ID CHANNEL_ID PROMO_ID QUANTITY_SOLD AMOUNT_SOLD ---------- ---------- --------- ---------- ---- ------ ------------- ----------- 1001 100 10-FEB-18 10 15 500 7500 1002 110 15-JUN-18 12 18 100 3200 ......SELECT * FROM hybrid_split_table PARTITION（sales_2019）; PROD_ID CUST_ID TIME_ID CHANNEL_ID PROMO_ID QUANTITY_SOLD AMOUNT_SOLD ---------- ---------- --------- ---------- ---- ------ ------------- ----------- 1002 110 12-JAN-19 12 18 150 4800 1001 100 16-FEB-19 10 15 400 6500 ......

<span class="bold">SELECT * FROM hybrid_split_table PARTITION（sales_future）;</span> PROD_ID CUST_ID TIME_ID CHANNEL_ID PROMO_ID QUANTITY_SOLD AMOUNT_SOLD ---------- ---------- --------- ---------- ---- ------ ------------- ----------- 1002 110 19-FEB-20 12 18 150 4800 1001 100 12-MAR-20 10 15 400 6500 1001 100 31-MAR-20 10 15 600 8000 2105 101 25-APR-20 12 19 100 3000 ALTER TABLE hybrid_split_table SPLIT PARTITION sales_future INTO（PARTITION sales_2020价格低于（01日 -  01-201'，'dd） -mm-yyyy'）），PARTITION sales_future）; <span class="bold">SELECT * FROM hybrid_split_table PARTITION（sales_2020）;</span> PROD_ID CUST_ID TIME_ID CHANNEL_ID PROMO_ID QUANTITY_SOLD AMOUNT_SOLD ---------- ---------- --------- ---------- ---- ------ ------------- ----------- 1002 110 19-FEB-20 12 18 150 4800 1001 100 12-MAR-20 10 15 400 6500 1001 100 31-MAR-20 10 15 600 8000 2105 101 25-APR-20 12 19 100 3000 <span class="bold">SELECT * FROM hybrid_split_table PARTITION（sales_future）;</span>没有选择任何行</pre></div>
                  <!-- class="example" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>