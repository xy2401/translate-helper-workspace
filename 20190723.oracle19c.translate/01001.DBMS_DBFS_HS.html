<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="The Oracle Database File System Hierarchical Store is implemented in the DBMS_DBFS_HS package. This package provides users the ability to use tape or Amazon S3 Web service as a storage tier when doing Information Lifecycle Management for their database tables."></meta>
      <meta name="description" content="The Oracle Database File System Hierarchical Store is implemented in the DBMS_DBFS_HS package. This package provides users the ability to use tape or Amazon S3 Web service as a storage tier when doing Information Lifecycle Management for their database tables."></meta>
      <title>DBMS_DBFS_HS</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="PL/SQL Packages and Types Reference"></meta>
      <meta property="og:description" content="The Oracle Database File System Hierarchical Store is implemented in the DBMS_DBFS_HS package. This package provides users the ability to use tape or Amazon S3 Web service as a storage tier when doing Information Lifecycle Management for their database tables."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="PL/SQL Packages and Types Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-25T11:24:34-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96430-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="DBMS_DBFS_CONTENT_SPI.html" title="Previous" type="text/html"></link>
      <link rel="next" href="DBMS_DBFS_SFS.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference"></meta>
    <meta name="dcterms.isVersionOf" content="ARPLS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBMS_DBFS_CONTENT_SPI.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="DBMS_DBFS_SFS.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL / SQL包和类型参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">DBMS_DBFS_HS</li>
            </ol>
            <a id="GUID-22F560E0-B042-464C-AF06-EEE907F1D1DC" name="GUID-22F560E0-B042-464C-AF06-EEE907F1D1DC"></a><a id="ARPLS72088"></a><a id="ARPLS72088"></a>
            
            <h2 id="ARPLS-GUID-22F560E0-B042-464C-AF06-EEE907F1D1DC" class="sect2"><span class="enumeration_chapter">51</span> DBMS_DBFS_HS</h2>
         </header>
         <div class="ind">
            <div>
               <p>Oracle数据库文件系统分层存储在<code class="codeph">DBMS_DBFS_HS</code>包中实现。该软件包使用户能够在为其数据库表执行信息生命周期管理时将磁带或Amazon S3 Web服务用作存储层。
               </p>
               <p>本章包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="DBMS_DBFS_HS.html#GUID-3EC3E6E1-989E-4C03-87C8-1E34D56089B3" title="DBMS_DBFS_HS包是DBMS_DBFS_CONTENT包下面的服务提供者，它允许使用磁带或Amazon S3 Web服务作为数据存储。">概观</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_DBFS_HS.html#GUID-9F941421-FADF-4E6A-9316-0618D71DBB0A" title="DBMS_DBFS_HS包以调用者的权限运行。">安全模型</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_DBFS_HS.html#GUID-783102F9-E417-4BFF-902F-A87FE4BA8A07" title="DBMS_DBFS_HS包使用本主题中表中显示的常量。">常量</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_DBFS_HS.html#GUID-73F1AE73-F22C-42F5-8B87-4F0DFAB0B339" title="在Oracle数据库服务器中执行DBMS_DBFS_HS包时，将从数据库服务器访问钱包。">操作说明</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_DBFS_HS.html#GUID-EE7680CC-E2A8-493E-B1AC-DA8D2EED3122" title="该表列出并描述了DBMS_DBFS_HS包中的子程序。">DBMS_DBFS_HS子程序摘要</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-22F560E0-B042-464C-AF06-EEE907F1D1DC__GUID-F17348C1-9974-4BBB-B319-57954EF500DF">
                  <p class="notep1">也可以看看：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="DBMS_DBFS_HS.html#ARPLS72088" target="_blank"><span class="italic">Oracle Database SecureFiles和大对象开发人员指南</span></a></p>
                     </li>
                  </ul>
               </div>
            </div><a id="ARPLS72083"></a><a id="ARPLS72083"></a><div class="props_rev_3"><a id="GUID-3EC3E6E1-989E-4C03-87C8-1E34D56089B3" name="GUID-3EC3E6E1-989E-4C03-87C8-1E34D56089B3"></a><h3 id="ARPLS-GUID-3EC3E6E1-989E-4C03-87C8-1E34D56089B3" class="sect3"><span class="enumeration_section">51.1</span> DBMS_DBFS_HS概述</h3>
               <div>
                  <p>所述<code class="codeph">DBMS_DBFS_HS</code>包是下一个服务提供商<code class="codeph">DBMS_DBFS_CONTENT</code>包使得能够使用磁带或Amazon S3 Web服务作为存储用于数据的。
                  </p>
                  <div class="section">
                     <p>磁带或Amazon S3 Web服务上的数据是Oracle数据库的一部分，可以通过所有标准接口访问，但只能通过数据库访问。该软件包允许用户在对其内容进行信息生命周期管理时使用磁带或Amazon S3 Web服务作为存储层。</p>
                     <p>该包最初将所有内容文件存储在一级缓存中。当第1级缓存填满时，内容文件将移至第2级缓存，然后使用批量写入移至外部存储设备。</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS72147"></a><a id="ARPLS72147"></a><div class="props_rev_3"><a id="GUID-9F941421-FADF-4E6A-9316-0618D71DBB0A" name="GUID-9F941421-FADF-4E6A-9316-0618D71DBB0A"></a><h3 id="ARPLS-GUID-9F941421-FADF-4E6A-9316-0618D71DBB0A" class="sect3"><span class="enumeration_section">51.2</span> DBMS_DBFS_HS安全模型</h3>
               <div>
                  <p><code class="codeph">DBMS_DBFS_HS</code>包以调用者的权限运行。
                  </p>
               </div>
            </div><a id="ARPLS72148"></a><a id="ARPLS72149"></a><a id="ARPLS72150"></a><a id="ARPLS72151"></a><a id="ARPLS72152"></a><a id="ARPLS72149"></a><a id="ARPLS72150"></a><a id="ARPLS72151"></a><a id="ARPLS72152"></a><a id="ARPLS72148"></a><div class="props_rev_3"><a id="GUID-783102F9-E417-4BFF-902F-A87FE4BA8A07" name="GUID-783102F9-E417-4BFF-902F-A87FE4BA8A07"></a><h3 id="ARPLS-GUID-783102F9-E417-4BFF-902F-A87FE4BA8A07" class="sect3"><span class="enumeration_section">51.3</span> DBMS_DBFS_HS常量</h3>
               <div>
                  <p><code class="codeph">DBMS_DBFS_HS</code>包使用本主题中表中显示的常量。
                  </p>
                  <div class="tblformal" id="GUID-783102F9-E417-4BFF-902F-A87FE4BA8A07__CHDFDHCC">
                     <p class="titleintable">表51-1 DBMS_DBFS_HS常量 - 由CREATESTORE过程使用</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_DBFS_HS常量 - 由CREATESTORE过程使用" width="100%" border="1" summary="This table describes DBMS_DBFS_HS constants used by the CREATESTORE procedure." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="22%" id="d373729e456">不变</th>
                              <th align="left" valign="bottom" width="19%" id="d373729e459">类型</th>
                              <th align="left" valign="bottom" width="19%" id="d373729e462">值</th>
                              <th align="left" valign="bottom" width="40%" id="d373729e465">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d373729e470" headers="d373729e456 ">
                                 <p><code class="codeph">STORETYPE_TAPE</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d373729e470 d373729e459 ">
                                 <p><code class="codeph">VARCHAR2（50）</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d373729e470 d373729e462 ">
                                 <p><code class="codeph">'HS_TAPE'</code></p>
                              </td>
                              <td align="left" valign="top" width="40%" headers="d373729e470 d373729e465 ">
                                 <p>使用磁带作为存储层</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d373729e486" headers="d373729e456 ">
                                 <p><code class="codeph">STORETYPE_AMAZONS3</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d373729e486 d373729e459 ">
                                 <p><code class="codeph">VARCHAR2（50）</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d373729e486 d373729e462 ">
                                 <p><code class="codeph">'HS_S3'</code></p>
                              </td>
                              <td align="left" valign="top" width="40%" headers="d373729e486 d373729e465 ">
                                 <p>使用Amazon S3 Web服务作为存储层</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="tblformal" id="GUID-783102F9-E417-4BFF-902F-A87FE4BA8A07__BABCFBIC">
                     <p class="titleintable">表51-2 DBMS_DBFS_HS常量 - 由SETSTOREPROPERTY过程和GETSTOREPROPERTY函数使用</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_DBFS_HS常量 - 由SETSTOREPROPERTY过程和GETSTOREPROPERTY函数使用" width="100%" border="1" summary="This table describes DBMS_DBFS_HS constants used by the SETSTOREPROPERTY procedure and GETSTOREPROPERTY function." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="22%" id="d373729e513">不变</th>
                              <th align="left" valign="bottom" width="19%" id="d373729e516">类型</th>
                              <th align="left" valign="bottom" width="19%" id="d373729e519">值</th>
                              <th align="left" valign="bottom" width="40%" id="d373729e522">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d373729e527" headers="d373729e513 ">
                                 <p><code class="codeph">PROPNAME_BUCKET</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d373729e527 d373729e516 ">
                                 <p><code class="codeph">VARCHAR2（50）</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d373729e527 d373729e519 ">
                                 <p><code class="codeph">'桶'</code></p>
                              </td>
                              <td align="left" valign="top" width="40%" headers="d373729e527 d373729e522 ">
                                 <p>指定Hierarchical Store用作存储层的AWS存储桶。</p>
                                 <p>存储桶名称的限制是：</p>
                                 <p>1）存储桶名称只能包含小写字母，数字，句点（ <code class="codeph">.</code> ）和短划线（ - ）。请注意，下划线（ <code class="codeph">_</code> ）无效。
                                 </p>
                                 <p>2）存储桶名称必须以数字或字母开头。</p>
                                 <p>3）存储桶名称不能是IP地址样式（ <code class="codeph">192.168.5.4</code> ）。
                                 </p>
                                 <p>4）存储桶名称长度必须介于3到63个字符之间。</p>
                                 <p>5）存储桶名称不应以短划线结束。</p>
                                 <p>6）破折号不能出现在句号旁边。例如， <code class="codeph">my-.bucket.com</code>无效。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d373729e569" headers="d373729e513 ">
                                 <p><code class="codeph">PROPNAME_CACHESIZE</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d373729e569 d373729e516 ">
                                 <p><code class="codeph">VARCHAR2（50）</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d373729e569 d373729e519 ">
                                 <p><code class="codeph">'CACHE_SIZE'</code></p>
                              </td>
                              <td align="left" valign="top" width="40%" headers="d373729e569 d373729e522 ">
                                 <p>指定用于分层存储的累积高速缓存大小。此属性由<a href="DBMS_DBFS_HS.html#GUID-EC01F996-42B4-4747-B615-FFA9F5069FA1" title="此过程在调用会话用户的所有权下，在架构schema_name（默认为当前架构）中创建类型为STORE_TYPE（STORETYPE_TAPE或STORETYPE_AMAZONS3）的新分层存储store_name。">CREATESTORE过程</a>设置，可以通过<a href="DBMS_DBFS_HS.html#GUID-FCB818F8-57DC-4626-83DF-8DEB26ADE078" title="此过程重新配置存储使用的数据库缓存的参数。">RECONFIGCACHE过程</a>进行修改。它不能被<a href="DBMS_DBFS_HS.html#GUID-3764A7C3-228B-44AA-BAC0-4CF53E2B6F2A" title="此过程将商店的属性作为名称 - 值对存储在数据库中。">SETSTOREPROPERTY过程</a>修改，尽管它的值可以通过<a href="DBMS_DBFS_HS.html#GUID-8EFA0D44-2C58-47E6-A155-46375924E4D3" title="此函数检索属性的值。">GETSTOREPROPERTY函数</a>查询。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d373729e628" headers="d373729e513 ">
                                 <p><code class="codeph">PROPNAME_COMPRESSLEVEL</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d373729e628 d373729e516 ">
                                 <p><code class="codeph">VARCHAR2（50）</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d373729e628 d373729e519 ">
                                 <p><code class="codeph">'COMPRESSION_LEVEL'</code></p>
                              </td>
                              <td align="left" valign="top" width="40%" headers="d373729e628 d373729e522 ">
                                 <p>用于启用压缩存储在DBFS分层存储中的文件。它指定用于压缩文件的压缩级别</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d373729e644" headers="d373729e513 ">
                                 <p><code class="codeph">PROPNAME_ENABLECLEANUPONDELETE</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d373729e644 d373729e516 ">
                                 <p><code class="codeph">VARCHAR2（50）</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d373729e644 d373729e519 ">
                                 <p><code class="codeph">'ENABLE_CLEANUP_ON_DELETE'</code></p>
                              </td>
                              <td align="left" valign="top" width="40%" headers="d373729e644 d373729e522 ">
                                 <p>如果此属性设置为“ <code class="codeph">TRUE</code> ”，则只要用户在<a href="DBMS_DBFS_CONTENT.html#GUID-EB25764A-3FC0-4114-B8C0-7A85E2FA3FE1" title="The DBMS_DBFS_CONTENT package provides an interface comprising a file system-like abstraction backed by one or more Store Providers.">DBMS_DBFS_CONTENT</a>接口中调用驻留在<code class="codeph">DBMS_DBFS_HS</code>存储中的文件的<a href="DBMS_DBFS_CONTENT.html#GUID-1CEB7F31-820F-4E3D-88A4-764AF63F9006" title="此过程将删除指定的文件。">DELETEFILE过程</a> ， <a href="DBMS_DBFS_CONTENT.html#GUID-EB25764A-3FC0-4114-B8C0-7A85E2FA3FE1" title="DBMS_DBFS_CONTENT包提供了一个接口，该接口包含由一个或多个Store Providers支持的类文件系统抽象。">DBMS_DBFS_HS</a> <code class="codeph">DBMS_DBFS_HS</code>删除包含此用户文件的外部存储上的文件，前提是该文件具有没有其他有用的数据。默认情况下， <code class="codeph">STORETYPE_AMAZONS3</code>的属性设置为“ <code class="codeph">TRUE</code> ”， <code class="codeph">STORETYPE_AMAZONS3</code>的属性设置为“ <code class="codeph">FALSE</code> ” <code class="codeph">STORETYPE_TAPE.</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d373729e698" headers="d373729e513 ">
                                 <p><code class="codeph">PROPNAME_HTTPPROXY</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d373729e698 d373729e516 ">
                                 <p><code class="codeph">VARCHAR2（50）</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d373729e698 d373729e519 ">
                                 <p><code class="codeph">'HTTP_PROXY'</code></p>
                              </td>
                              <td align="left" valign="top" width="40%" headers="d373729e698 d373729e522 ">
                                 <p>指定访问Amazon S3存储服务所需的HTTP代理的DNS名称（如果有）</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d373729e714" headers="d373729e513 ">
                                 <p><code class="codeph">PROPNAME_LICENSEID</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d373729e714 d373729e516 ">
                                 <p><code class="codeph">VARCHAR2（50）</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d373729e714 d373729e519 ">
                                 <p><code class="codeph">'LICENSE_ID'</code></p>
                              </td>
                              <td align="left" valign="top" width="40%" headers="d373729e714 d373729e522 ">
                                 <p>指定与库<code class="codeph">libosbws11.so</code>关联的许可证ID。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d373729e733" headers="d373729e513 ">
                                 <p><code class="codeph">PROPNAME_LOBCACHE_QUOTA</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d373729e733 d373729e516 ">
                                 <p><code class="codeph">VARCHAR2（50）</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d373729e733 d373729e519 ">
                                 <p><code class="codeph">'LOBCACHE_QUOTA'</code></p>
                              </td>
                              <td align="left" valign="top" width="40%" headers="d373729e733 d373729e522 ">
                                 <p>指定为1级缓存分配的<code class="codeph">cache_size</code>分数。此参数的默认值为<code class="codeph">NULL</code> ，这意味着cache_size的0.8（= 80％）用于1级缓存。
                                 </p>
                                 <p><a href="DBMS_DBFS_HS.html#GUID-3764A7C3-228B-44AA-BAC0-4CF53E2B6F2A" title="此过程将商店的属性作为名称 - 值对存储在数据库中。">SETSTOREPROPERTY过程</a>无法修改此属性，但<a href="DBMS_DBFS_HS.html#GUID-8EFA0D44-2C58-47E6-A155-46375924E4D3" title="此函数检索属性的值。">GETSTOREPROPERTY函数</a>可以查询其值。其值由<a href="DBMS_DBFS_HS.html#GUID-EC01F996-42B4-4747-B615-FFA9F5069FA1" title="此过程在调用会话用户的所有权下，在架构schema_name（默认为当前架构）中创建类型为STORE_TYPE（STORETYPE_TAPE或STORETYPE_AMAZONS3）的新分层存储store_name。">CREATESTORE Procedure</a>设置，可以通过<a href="DBMS_DBFS_HS.html#GUID-FCB818F8-57DC-4626-83DF-8DEB26ADE078" title="此过程重新配置存储使用的数据库缓存的参数。">RECONFIGCACHE过程</a>进行修改。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d373729e800" headers="d373729e513 ">
                                 <p><code class="codeph">PROPNAME_MEDIAPOOL</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d373729e800 d373729e516 ">
                                 <p><code class="codeph">VARCHAR2（50）</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d373729e800 d373729e519 ">
                                 <p><code class="codeph">'MEDIA_POOL'</code></p>
                              </td>
                              <td align="left" valign="top" width="40%" headers="d373729e800 d373729e522 ">
                                 <p>指定用于存储内容的媒体池编号</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d373729e816" headers="d373729e513 ">
                                 <p><code class="codeph">PROPVAL_COMPLVL_NONE</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d373729e816 d373729e516 ">
                                 <p><code class="codeph">VARCHAR2（50）</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d373729e816 d373729e519 ">
                                 <p><code class="codeph">'没有'</code></p>
                              </td>
                              <td align="left" valign="top" width="40%" headers="d373729e816 d373729e522 ">
                                 <p>表示没有压缩</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d373729e832" headers="d373729e513 ">
                                 <p><code class="codeph">PROPVAL_COMPLVL_LOW</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d373729e832 d373729e516 ">
                                 <p><code class="codeph">VARCHAR2（50）</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d373729e832 d373729e519 ">
                                 <p><code class="codeph">'低'</code></p>
                              </td>
                              <td align="left" valign="top" width="40%" headers="d373729e832 d373729e522 ">
                                 <p>用于将压缩级别设置为<code class="codeph">LOW</code> 。预计这将具有最佳性能，同时仍提供良好的压缩比。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d373729e851" headers="d373729e513 ">
                                 <p><code class="codeph">PROPVAL_COMPLVL_MEDIUM</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d373729e851 d373729e516 ">
                                 <p><code class="codeph">VARCHAR2（50）</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d373729e851 d373729e519 ">
                                 <p><code class="codeph">'介质'</code></p>
                              </td>
                              <td align="left" valign="top" width="40%" headers="d373729e851 d373729e522 ">
                                 <p>用于将压缩级别设置为<code class="codeph">MEDIUM</code> 。预计该压缩级别提供比LOW更好的压缩比，但压缩所需的时间将高于压缩级别<code class="codeph">LOW</code> 。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d373729e874" headers="d373729e513 ">
                                 <p><code class="codeph">PROPVAL_COMPLVL_HIGH</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d373729e874 d373729e516 ">
                                 <p><code class="codeph">VARCHAR2（50）</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d373729e874 d373729e519 ">
                                 <p><code class="codeph">'高'</code></p>
                              </td>
                              <td align="left" valign="top" width="40%" headers="d373729e874 d373729e522 ">
                                 <p>用于将压缩级别设置为<code class="codeph">HIGH</code> 。预计该压缩级别将提供最佳压缩比，但压缩时间通常在3个压缩级别中最高。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d373729e893" headers="d373729e513 ">
                                 <p><code class="codeph">PROPNAME_OPTTARBALLSIZE</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d373729e893 d373729e516 ">
                                 <p><code class="codeph">VARCHAR2（50）</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d373729e893 d373729e519 ">
                                 <p><code class="codeph">'OPTIMAL_TARBALL_SIZE'</code></p>
                              </td>
                              <td align="left" valign="top" width="40%" headers="d373729e893 d373729e522 ">
                                 <p>将<code class="codeph">optimal_tarball_size</code>指定为归档文件的最大可能大小。
                                 </p>
                                 <p>多个内容文件捆绑在一起存档文件中，然后存档文件将传输到磁带或Amazon S3。这是因为在磁带或Amazon S3上为存储中的每个内容文件创建一个文件是非常昂贵的操作。</p>
                                 <p><a href="DBMS_DBFS_HS.html#GUID-3764A7C3-228B-44AA-BAC0-4CF53E2B6F2A" title="此过程将商店的属性作为名称 - 值对存储在数据库中。">SETSTOREPROPERTY过程</a>无法修改此属性，但<a href="DBMS_DBFS_HS.html#GUID-8EFA0D44-2C58-47E6-A155-46375924E4D3" title="此函数检索属性的值。">GETSTOREPROPERTY函数</a>可以查询其值。其值由<a href="DBMS_DBFS_HS.html#GUID-EC01F996-42B4-4747-B615-FFA9F5069FA1" title="此过程在调用会话用户的所有权下，在架构schema_name（默认为当前架构）中创建类型为STORE_TYPE（STORETYPE_TAPE或STORETYPE_AMAZONS3）的新分层存储store_name。">CREATESTORE Procedure</a>设置，可以通过<a href="DBMS_DBFS_HS.html#GUID-FCB818F8-57DC-4626-83DF-8DEB26ADE078" title="此过程重新配置存储使用的数据库缓存的参数。">RECONFIGCACHE过程</a>进行修改。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d373729e959" headers="d373729e513 ">
                                 <p><code class="codeph">PROPNAME_READCHUNKSIZE</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d373729e959 d373729e516 ">
                                 <p><code class="codeph">VARCHAR2（50）</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d373729e959 d373729e519 ">
                                 <p><code class="codeph">'READ_CHUNK_SIZE'</code></p>
                              </td>
                              <td align="left" valign="top" width="40%" headers="d373729e959 d373729e522 ">
                                 <p>指定SBT协议用于从磁带或S3传输数据的大小。每个事务在内存中分配此块用于从归档存储中检索内容文件，因此该属性的值应该是保守的。默认大小1MB通常适用于大多数用户。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d373729e975" headers="d373729e513 ">
                                 <p><code class="codeph">PROPNAME_S3HOST</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d373729e975 d373729e516 ">
                                 <p><code class="codeph">VARCHAR2（50）</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d373729e975 d373729e519 ">
                                 <p><code class="codeph">'S3_HOST'</code></p>
                              </td>
                              <td align="left" valign="top" width="40%" headers="d373729e975 d373729e522 ">
                                 <p>指定Amazon S3存储服务的<code class="codeph">HOST</code>名称。它必须是<code class="codeph">s3.amazonaws.com</code> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d373729e997" headers="d373729e513 ">
                                 <p><code class="codeph">PROPNAME_SBT_LIBRARY</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d373729e997 d373729e516 ">
                                 <p><code class="codeph">VARCHAR2（50）</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d373729e997 d373729e519 ">
                                 <p><code class="codeph">'SBT_LIBRARY'</code></p>
                              </td>
                              <td align="left" valign="top" width="40%" headers="d373729e997 d373729e522 ">
                                 <p>指定RMAN用于与Amazon S3通信的共享库的路径。它名为<code class="codeph">libosbws11.so</code> ，可在<code class="codeph">rdbms/lib</code>目录中找到。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d373729e1019" headers="d373729e513 ">
                                 <p><code class="codeph">PROPNAME_STREAMABLE</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d373729e1019 d373729e516 ">
                                 <p><code class="codeph">VARCHAR2（50）</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d373729e1019 d373729e519 ">
                                 <p><code class="codeph">“可流”</code></p>
                              </td>
                              <td align="left" valign="top" width="40%" headers="d373729e1019 d373729e522 ">
                                 <p>指示是否应在此存储上执行基于缓冲区的<code class="codeph">PUT</code>或<code class="codeph">GET</code> 。有效值为<code class="codeph">TRUE</code>和<code class="codeph">FALSE</code> 。此属性的默认值为<code class="codeph">TRUE</code> 。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d373729e1050" headers="d373729e513 ">
                                 <p><code class="codeph">PROPNAME_WALLET</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d373729e1050 d373729e516 ">
                                 <p><code class="codeph">VARCHAR2（50）</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d373729e1050 d373729e519 ">
                                 <p><code class="codeph">'钱包'</code></p>
                              </td>
                              <td align="left" valign="top" width="40%" headers="d373729e1050 d373729e522 ">
                                 <p>此属性的值应为以下形式：</p>
                                 <p><code class="codeph">LOCATION</code> <code class="codeph">=</code> <code class="codeph">file:</code> <span class="italic"><code class="codeph">filename</code></span> <code class="codeph">CREDENTIAL_ALIAS</code> <code class="codeph">=</code> <span class="italic"><code class="codeph">access/secret_alias</code></span></p>
                                 <p><code class="codeph">PROXY_AUTH_ALIAS</code> <code class="codeph">=</code> <span class="italic"><code class="codeph">proxyusername/password alias</code></span></p>
                                 <p>定义Oracle Wallet，其中包含与正在考虑的商店关联的Amazon S3帐户的凭据。</p>
                                 <p><code class="codeph">LOCATION</code> ：包含Oracle钱包的目录路径。格式为<code class="codeph">file:</code> <span class="italic"><code class="codeph">directory-path</code></span></p>
                                 <p>例如，Windows中的<code class="codeph">wallet_path</code>格式为：</p>
                                 <p><code class="codeph">file:c:\WINNT\Profiles\</code> <span class="italic"><code class="codeph">username</code></span> \ <code class="codeph">WALLETS</code></p>
                                 <p>在UNIX或Linux中，例如：</p>
                                 <p><code class="codeph">file:/home</code> / <span class="italic"><code class="codeph">username</code></span> / <code class="codeph">wallets</code></p>
                                 <p>在Oracle数据库服务器中执行包时，将从数据库服务器访问钱包。</p>
                                 <p><code class="codeph">PASSWORD</code> ：定义钱包密码。如果在钱包中启用了<code class="codeph">auto-login</code> （可以使用<code class="codeph">OWM</code>实用程序更改），则不必指定此参数。默认情况下， <code class="codeph">mkstore</code>实用程序启用<code class="codeph">auto-login</code> 。
                                 </p>
                                 <p><code class="codeph">CREDENTIAL_ALIAS</code> ：定义<code class="codeph">ACCESS_KEY</code>和<code class="codeph">SECRET_KEY</code>的凭证别名</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d373729e1157" headers="d373729e513 ">
                                 <p><code class="codeph">PROPNAME_WRITECHUNKSIZ</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d373729e1157 d373729e516 ">
                                 <p><code class="codeph">VARCHAR2（50）</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d373729e1157 d373729e519 ">
                                 <p><code class="codeph">'WRITE_CHUNK_SIZE'</code></p>
                              </td>
                              <td align="left" valign="top" width="40%" headers="d373729e1157 d373729e522 ">
                                 <p>指定SBT协议用于将数据传输到磁带或S3的大小。</p>
                                 <p>每个事务的内存中将此块分配给内存文件的<code class="codeph">PUT</code>到存档存储，因此值应该是保守的。
                                 </p>
                                 <p>默认大小1MB通常适用于大多数用户。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="tblformal" id="GUID-783102F9-E417-4BFF-902F-A87FE4BA8A07__BABJFIDC">
                     <p class="titleintable">表51-3 DBMS_DBFS_HS常量 - 由REGISTERSTORECOMMAND函数使用</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_DBFS_HS常量 - 由REGISTERSTORECOMMAND函数使用" width="100%" border="1" summary="This table describes DBMS_DBFS_HS constants used by the REGISTERSTORECOMMAND Function." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="22%" id="d373729e1191">不变</th>
                              <th align="left" valign="bottom" width="18%" id="d373729e1194">类型</th>
                              <th align="left" valign="bottom" width="19%" id="d373729e1197">值</th>
                              <th align="left" valign="bottom" width="40%" id="d373729e1200">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d373729e1205" headers="d373729e1191 ">
                                 <p><code class="codeph">BEFORE_PUT</code></p>
                              </td>
                              <td align="left" valign="top" width="18%" headers="d373729e1205 d373729e1194 ">
                                 <p><code class="codeph">数</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d373729e1205 d373729e1197 ">
                                 <p><code class="codeph">'1'</code></p>
                              </td>
                              <td align="left" valign="top" width="40%" headers="d373729e1205 d373729e1200 ">
                                 <p>必须在将<code class="codeph">SECUREFILE</code>写入远程存储之前执行指定的操作</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d373729e1224" headers="d373729e1191 ">
                                 <p><code class="codeph">BEFORE_GET</code></p>
                              </td>
                              <td align="left" valign="top" width="18%" headers="d373729e1224 d373729e1194 ">
                                 <p><code class="codeph">数</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d373729e1224 d373729e1197 ">
                                 <p><code class="codeph">'2'</code></p>
                              </td>
                              <td align="left" valign="top" width="40%" headers="d373729e1224 d373729e1200 ">
                                 <p>必须在检索操作之前执行指定的操作，例如从远程设备读取<code class="codeph">SECUREFILE</code></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="tblformal" id="GUID-783102F9-E417-4BFF-902F-A87FE4BA8A07__BABCDHHE">
                     <p class="titleintable">表51-4 DBMS_DBFS_HS常量 - 失败/成功/错误</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_DBFS_HS常量 - 失败/成功/错误" width="100%" border="1" summary="This table describes DBMS_DBFS_HS Constants - Failure/Success/Error" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="22%" id="d373729e1254">不变</th>
                              <th align="left" valign="bottom" width="18%" id="d373729e1257">类型</th>
                              <th align="left" valign="bottom" width="19%" id="d373729e1260">值</th>
                              <th align="left" valign="bottom" width="40%" id="d373729e1263">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d373729e1268" headers="d373729e1254 ">
                                 <p><code class="codeph">失败</code></p>
                              </td>
                              <td align="left" valign="top" width="18%" headers="d373729e1268 d373729e1257 ">
                                 <p><code class="codeph">数</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d373729e1268 d373729e1260 ">
                                 <p><code class="codeph">'0'</code></p>
                              </td>
                              <td align="left" valign="top" width="40%" headers="d373729e1268 d373729e1263 ">
                                 <p>过程或函数未成功执行</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d373729e1284" headers="d373729e1254 ">
                                 <p><code class="codeph">成功</code></p>
                              </td>
                              <td align="left" valign="top" width="18%" headers="d373729e1284 d373729e1257 ">
                                 <p><code class="codeph">数</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d373729e1284 d373729e1260 ">
                                 <p><code class="codeph">'1'</code></p>
                              </td>
                              <td align="left" valign="top" width="40%" headers="d373729e1284 d373729e1263 ">
                                 <p>程序或功能已成功完成</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="22%" id="d373729e1300" headers="d373729e1254 ">
                                 <p><code class="codeph">错误</code></p>
                              </td>
                              <td align="left" valign="top" width="18%" headers="d373729e1300 d373729e1257 ">
                                 <p><code class="codeph">数</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d373729e1300 d373729e1260 ">
                                 <p><code class="codeph">'2'</code></p>
                              </td>
                              <td align="left" valign="top" width="40%" headers="d373729e1300 d373729e1263 ">
                                 <p>过程或函数返回错误</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="ARPLS72153"></a><a id="ARPLS72153"></a><div class="props_rev_3"><a id="GUID-73F1AE73-F22C-42F5-8B87-4F0DFAB0B339" name="GUID-73F1AE73-F22C-42F5-8B87-4F0DFAB0B339"></a><h3 id="ARPLS-GUID-73F1AE73-F22C-42F5-8B87-4F0DFAB0B339" class="sect3"><span class="enumeration_section">51.4</span> DBMS_DBFS_HS操作说明</h3>
               <div>
                  <p>在Oracle数据库服务器中执行<code class="codeph">DBMS_DBFS_HS</code>包时， <code class="codeph">DBMS_DBFS_HS</code>数据库服务器访问钱包。
                  </p>
               </div>
            </div><a id="ARPLS72091"></a><a id="ARPLS72154"></a><a id="ARPLS72154"></a><a id="ARPLS72091"></a><div class="props_rev_3"><a id="GUID-EE7680CC-E2A8-493E-B1AC-DA8D2EED3122" name="GUID-EE7680CC-E2A8-493E-B1AC-DA8D2EED3122"></a><h3 id="ARPLS-GUID-EE7680CC-E2A8-493E-B1AC-DA8D2EED3122" class="sect3"><span class="enumeration_section">51.5</span> DBMS_DBFS_HS子程序摘要</h3>
               <div>
                  <p>该表列出并描述了<code class="codeph">DBMS_DBFS_HS</code>包中的子程序。
                  </p>
                  <div class="tblformal" id="GUID-EE7680CC-E2A8-493E-B1AC-DA8D2EED3122__GUID-AF2986F8-1084-4BDB-8CCF-F2765EBBE613">
                     <p class="titleintable">表51-5 DBMS_DBFS_HS包子程序</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_DBFS_HS包子程序" width="100%" border="1" summary="This table lists and describes the subprograms in the DBMS_DBFS_HS package." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="35%" id="d373729e1506">子程序</th>
                              <th align="left" valign="bottom" width="65%" id="d373729e1509">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d373729e1514" headers="d373729e1506 ">
                                 <p><a href="DBMS_DBFS_HS.html#GUID-BCE8014A-8778-4884-89E7-7FE032818D78" title="此过程将删除在外部存储设备上创建的文件，这些文件中不包含当前使用的数据。">CLEANUPUNUSEDBACKUPFILES程序</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d373729e1514 d373729e1509 ">
                                 <p>删除在外部存储设备上创建的文件，该文件不包含当前使用的数据</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d373729e1526" headers="d373729e1506 ">
                                 <p><a href="DBMS_DBFS_HS.html#GUID-E02B9B3E-72E6-44E7-9F0E-562187DA142D" title="此过程创建一个AWS桶，该存储桶与STORETYPE_AMAZONS3类型的存储相关联，然后Hierarchical Store可以将数据移动到该存储中。">CREATEBUCKET程序</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d373729e1526 d373729e1509 ">
                                 <p>创建一个AWS桶，与<code class="codeph">STORETYPE_AMAZONS3</code>类型的存储相关联，然后Hierarchical Store可以将数据移动到该存储中</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d373729e1544" headers="d373729e1506 ">
                                 <p><a href="DBMS_DBFS_HS.html#GUID-EC01F996-42B4-4747-B615-FFA9F5069FA1" title="此过程在调用会话用户的所有权下，在架构schema_name（默认为当前架构）中创建类型为STORE_TYPE（STORETYPE_TAPE或STORETYPE_AMAZONS3）的新分层存储store_name。">CREATESTORE程序</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d373729e1544 d373729e1509 ">
                                 <p>创建一个新的分层存储</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d373729e1571" headers="d373729e1506 ">
                                 <p><a href="DBMS_DBFS_HS.html#GUID-7F31683F-F5CA-46B9-BA28-C16B6CDDD728" title="此过程通过REGISTERSTORECOMMAND过程删除先前与存储关联的命令。">DEREGSTORECOMMAND功能</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d373729e1571 d373729e1509 ">
                                 <p>通过<a href="DBMS_DBFS_HS.html#GUID-FCB818F8-57DC-4626-83DF-8DEB26ADE078" title="此过程重新配置存储使用的数据库缓存的参数。">RECONFIGCACHE过程</a>删除先前与商店关联的命令</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d373729e1589" headers="d373729e1506 ">
                                 <p><a href="DBMS_DBFS_HS.html#GUID-8EEA6D6D-0027-46CB-ACFE-D76C224D539A" title="此过程删除先前创建的由name指定并由调用会话用户拥有的分层存储。">DROPSTORE程序</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d373729e1589 d373729e1509 ">
                                 <p>删除以前创建的分层存储</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d373729e1601" headers="d373729e1506 ">
                                 <p><a href="DBMS_DBFS_HS.html#GUID-8F856E69-765E-437F-828C-BC26D47B2F30" title="此过程将脏内容从可以锁定的一级高速缓存清除到二级高速缓存，从而释放一级高速缓存中的空间。">FLUSHCACHE程序</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d373729e1601 d373729e1509 ">
                                 <p>从1级缓存刷新（写出）脏内容。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d373729e1613" headers="d373729e1506 ">
                                 <p><a href="DBMS_DBFS_HS.html#GUID-8EFA0D44-2C58-47E6-A155-46375924E4D3" title="此函数检索属性的值。">GETSTOREPROPERTY功能</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d373729e1613 d373729e1509 ">
                                 <p>检索商店属性的值</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d373729e1625" headers="d373729e1506 ">
                                 <p><a href="DBMS_DBFS_HS.html#GUID-FCB818F8-57DC-4626-83DF-8DEB26ADE078" title="此过程重新配置存储使用的数据库缓存的参数。">RECONFIGCACHE程序</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d373729e1625 d373729e1509 ">
                                 <p>重新配置存储使用的数据库缓存的参数</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d373729e1637" headers="d373729e1506 ">
                                 <p><a href="DBMS_DBFS_HS.html#GUID-449DB1F9-AA3E-4172-86B1-ED0756CA9D94" title="此过程使用Hierarchical Store注册存储的命令。这些命令被发送到与商店关联的外部存储设备的介质管理器。">REGISTERSTORECOMMAND程序</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d373729e1637 d373729e1509 ">
                                 <p>为具有分层存储的存储注册命令，以将其发送到与存储关联的外部存储设备的介质管理器</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d373729e1649" headers="d373729e1506 ">
                                 <p><a href="DBMS_DBFS_HS.html#GUID-80AFD786-567E-4A28-BD4A-E5F1A4F53375" title="此过程发送要在外部存储设备的介质管理器上执行的命令。">SENDCOMMAND程序</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d373729e1649 d373729e1509 ">
                                 <p>发送要在外部存储设备的媒体管理器上执行的命令</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d373729e1661" headers="d373729e1506 ">
                                 <p><a href="DBMS_DBFS_HS.html#GUID-3764A7C3-228B-44AA-BAC0-4CF53E2B6F2A" title="此过程将商店的属性作为名称 - 值对存储在数据库中。">SETSTOREPROPERTY程序</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d373729e1661 d373729e1509 ">
                                 <p>存储数据库中商店的属性</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d373729e1674" headers="d373729e1506 ">
                                 <p><a href="DBMS_DBFS_HS.html#GUID-7AD3EB67-FBE3-4415-8AF8-9EB71EED8E5C" title="此过程将本地暂存的数据推送到远程存储。">STOREPUSH程序</a></p>
                              </td>
                              <td align="left" valign="top" width="65%" headers="d373729e1674 d373729e1509 ">
                                 <p>将本地暂存的数据推送到远程存储</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="ARPLS72155"></a><a id="ARPLS72156"></a><a id="ARPLS72156"></a><a id="ARPLS72155"></a><div class="props_rev_3"><a id="GUID-BCE8014A-8778-4884-89E7-7FE032818D78" name="GUID-BCE8014A-8778-4884-89E7-7FE032818D78"></a><h4 id="ARPLS-GUID-BCE8014A-8778-4884-89E7-7FE032818D78" class="sect4"><span class="enumeration_section">51.5.1</span> CLEANUPUNUSUSBACKUPFILES程序</h4>
                  <div>
                     <p>此过程将删除在外部存储设备上创建的文件，这些文件中不包含当前使用的数据。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-BCE8014A-8778-4884-89E7-7FE032818D78__GUID-5821E088-13EA-46D0-8918-E66309D4AFB5">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_DBFS_HS.CLEANUPUNUSEDBACKUPFILES（store_name IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BCE8014A-8778-4884-89E7-7FE032818D78__GUID-DC53E2EF-B436-48A6-BC65-18E3C4548A34">参数</p>
                        <div class="tblformal" id="GUID-BCE8014A-8778-4884-89E7-7FE032818D78__GUID-1A609431-8AC3-4E0C-BD86-A6B0B1F4E53A">
                           <p class="titleintable">表51-6 CLEANUPUNUSEDBACKUPFILES过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CLEANUPUNUSEDBACKUPFILES过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_DBFS_HS.CLEANUPUNUSEDBACKUPFILES  subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d373729e1795">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d373729e1798">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d373729e1803" headers="d373729e1795 ">
                                       <p><code class="codeph">STORE_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d373729e1803 d373729e1798 ">
                                       <p>商店名称</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BCE8014A-8778-4884-89E7-7FE032818D78__GUID-698B9B9D-422C-446A-BD15-DB3690B774A4">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>从外部存储设备中删除文件的操作无法回滚。</p>
                           </li>
                           <li>
                              <p>可以定期执行该方法以清除外部存储设备上的空间。异步删除外部存储设备中的内容非常有用，因为它对OLTP性能的影响最小。可以使用DBMS_SCHEDULER包完成定期调度。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS72157"></a><a id="ARPLS72158"></a><a id="ARPLS72158"></a><a id="ARPLS72157"></a><div class="props_rev_3"><a id="GUID-E02B9B3E-72E6-44E7-9F0E-562187DA142D" name="GUID-E02B9B3E-72E6-44E7-9F0E-562187DA142D"></a><h4 id="ARPLS-GUID-E02B9B3E-72E6-44E7-9F0E-562187DA142D" class="sect4"><span class="enumeration_section">51.5.2</span> CREATEBUCKET程序</h4>
                  <div>
                     <p>此过程创建一个AWS桶，该存储桶与<code class="codeph">STORETYPE_AMAZONS3</code>类型的存储相关联，然后Hierarchical Store可以将数据移动到该存储中。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-E02B9B3E-72E6-44E7-9F0E-562187DA142D__GUID-AFAF31E3-FD62-4DC7-895E-6D9716403A32">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_DBFS_HS.CREATEBUCKET（store_name IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E02B9B3E-72E6-44E7-9F0E-562187DA142D__GUID-DA31C323-A902-4FE3-8640-1D5EBAFF8D8E">参数</p>
                        <div class="tblformal" id="GUID-E02B9B3E-72E6-44E7-9F0E-562187DA142D__GUID-30E544D6-D9CB-4133-8CAA-6D0946B3609A">
                           <p class="titleintable">表51-7 CREATEBUCKET过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CREATEBUCKET过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_DBFS_HS.CREATEBUCKET subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d373729e1934">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d373729e1937">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d373729e1942" headers="d373729e1934 ">
                                       <p><code class="codeph">STORE_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d373729e1942 d373729e1937 ">
                                       <p>商店名称</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-E02B9B3E-72E6-44E7-9F0E-562187DA142D__GUID-45F4FA94-9D09-45F7-BC67-5F7CE374DA57">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>应在调用此子程序之前设置商店的<code class="codeph">PROPNAME_BUCKET</code>属性。
                              </p>
                           </li>
                           <li>
                              <p>此过程在Amazon S3中成功创建存储桶后，只能使用带外方法删除存储桶，例如登录到S3并删除存储桶的数据（目录，文件和其他项）。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS72159"></a><a id="ARPLS72160"></a><a id="ARPLS72160"></a><a id="ARPLS72159"></a><div class="props_rev_3"><a id="GUID-EC01F996-42B4-4747-B615-FFA9F5069FA1" name="GUID-EC01F996-42B4-4747-B615-FFA9F5069FA1"></a><h4 id="ARPLS-GUID-EC01F996-42B4-4747-B615-FFA9F5069FA1" class="sect4"><span class="enumeration_section">51.5.3</span> CREATESTORE程序</h4>
                  <div>
                     <p>此过程在调用会话用户的所有权下，在架构<code class="codeph">schema_name</code> （默认为当前架构）中创建类型为<code class="codeph">STORE_TYPE</code> （ <code class="codeph">STORETYPE_TAPE</code>或<code class="codeph">STORETYPE_AMAZONS3</code> ）的新分层存储<code class="codeph">store_name</code> 。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-EC01F996-42B4-4747-B615-FFA9F5069FA1__GUID-2BE2E4B9-443D-423F-AA07-63E18BE146E3">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_DBFS_HS.CREATESTORE（store_name IN VARCHAR2，store_type IN VARCHAR2，tbl_name IN VARCHAR2，tbs_name IN VARCHAR2，cache_size IN NUMBER，lob_cache_quota IN NUMBER DEFAULT NULL，optimal_tarball_size IN NUMBER DEFAULT NULL，schema_name IN VARCHAR2 DEFAULT NULL）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EC01F996-42B4-4747-B615-FFA9F5069FA1__GUID-3C99163D-FAA6-492F-A4C2-53AD827102E9">参数</p>
                        <div class="tblformal" id="GUID-EC01F996-42B4-4747-B615-FFA9F5069FA1__GUID-13E75209-B409-441C-921B-A61ED5FE06A0">
                           <p class="titleintable">表51-8 CREATESTORE过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CREATESTORE过程参数" width="100%" border="1" summary="This table describes the parameters of CREATESTORE procedure." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d373729e2087">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d373729e2090">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d373729e2095" headers="d373729e2087 ">
                                       <p><code class="codeph">STORE_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d373729e2095 d373729e2090 ">
                                       <p>商店名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d373729e2103" headers="d373729e2087 ">
                                       <p><code class="codeph">store_type</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d373729e2103 d373729e2090 ">
                                       <p><code class="codeph">STORETYPE_TAPE</code>或<code class="codeph">STORETYPE_AMAZONS3</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d373729e2115" headers="d373729e2087 ">
                                       <p><code class="codeph">tbl_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d373729e2115 d373729e2090 ">
                                       <p>商店条目表</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d373729e2123" headers="d373729e2087 ">
                                       <p><code class="codeph">tbs_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d373729e2123 d373729e2090 ">
                                       <p>商店的表空间</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d373729e2131" headers="d373729e2087 ">
                                       <p><code class="codeph">CACHE_SIZE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d373729e2131 d373729e2090 ">
                                       <p>商店用于缓存给定表空间中内容的空间量</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d373729e2139" headers="d373729e2087 ">
                                       <p><code class="codeph">lob_cache_quota</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d373729e2139 d373729e2090 ">
                                       <p>为第1级缓存分配的cache_size的分数。此参数的默认值为<code class="codeph">NULL</code> ，这意味着<code class="codeph">cache_size</code> 0.8（= 80％）用于1级缓存。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d373729e2153" headers="d373729e2087 ">
                                       <p><code class="codeph">optimal_tarball_size</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d373729e2153 d373729e2090 ">
                                       <p>存档文件的最大可能大小。</p>
                                       <p>多个内容文件捆绑在一起存档文件中，然后存档文件将传输到磁带或Amazon S3。这是因为在磁带或Amazon S3上为存储中的每个内容文件创建一个文件是非常昂贵的操作。</p>
                                       <p>默认情况下，磁带的值设置为10GB，Amazon S3的值设置为100MB。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d373729e2165" headers="d373729e2087 ">
                                       <p><code class="codeph">SCHEMA_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d373729e2165 d373729e2090 ">
                                       <p>商店的架构</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-EC01F996-42B4-4747-B615-FFA9F5069FA1__GUID-84306B5A-5390-4919-A607-4918A13CAD7C">使用说明</p>
                        <p><code class="codeph">CREATESTORE()</code>将商店的某些属性设置为默认值。用户可以使用方法<code class="codeph">SETSTOREPROPERTY()</code>和<code class="codeph">RECONFIGCACHE()</code>来适当地更改属性值并设置商店的其他属性。
                        </p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>商店名称对于所有者必须是唯一的。相同的商店名称可用于不同所有者拥有的不同商店。</p>
                           </li>
                           <li>
                              <p>一旦指定了表空间以将商店的内容存储在数据库中，就不能在以后更改它。</p>
                           </li>
                           <li>
                              <p>该子程序将像DDL语句一样执行，在执行前后执行自动<code class="codeph">COMMIT</code> 。
                              </p>
                           </li>
                           <li>
                              <p>使用<code class="codeph">DBMS_DBFS_HS</code>商店不得使用单件装载。这意味着，单参数应为<code class="codeph">FALSE</code>和<code class="codeph">store_mount</code>参数应该有一个非<code class="codeph">NULL</code>到一个呼叫值<code class="codeph">DBMS_DBFS_CONTENT</code> 。 <code class="codeph">MOUNTSTORE</code>程序。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS72161"></a><a id="ARPLS72162"></a><a id="ARPLS72162"></a><a id="ARPLS72161"></a><div class="props_rev_3"><a id="GUID-7F31683F-F5CA-46B9-BA28-C16B6CDDD728" name="GUID-7F31683F-F5CA-46B9-BA28-C16B6CDDD728"></a><h4 id="ARPLS-GUID-7F31683F-F5CA-46B9-BA28-C16B6CDDD728" class="sect4"><span class="enumeration_section">51.5.4</span> DEREGSTORECOMMAND功能</h4>
                  <div>
                     <p>此过程通过REGISTERSTORECOMMAND过程删除先前与存储关联的命令。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-7F31683F-F5CA-46B9-BA28-C16B6CDDD728__GUID-6D0D60DC-C0E8-4E44-A98F-09982CEF4E99">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_DBFS_HS.DEREGSTORECOMMAND（store_name IN VARCHAR2，消息IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7F31683F-F5CA-46B9-BA28-C16B6CDDD728__GUID-FA43CF76-0EE6-4C24-B87C-81AAD7B85C4C">参数</p>
                        <div class="tblformal" id="GUID-7F31683F-F5CA-46B9-BA28-C16B6CDDD728__GUID-C7ED682F-4807-416D-A0D5-4E461FA13D1E">
                           <p class="titleintable">表51-9 DEREGSTORECOMMAND过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DEREGSTORECOMMAND程序参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_DBFS_HS.DEREGREPOSCOMMAND subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d373729e2330">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d373729e2333">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d373729e2338" headers="d373729e2330 ">
                                       <p><code class="codeph">STORE_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d373729e2338 d373729e2333 ">
                                       <p>商店名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d373729e2346" headers="d373729e2330 ">
                                       <p><code class="codeph">信息</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d373729e2346 d373729e2333 ">
                                       <p>要取消注册的消息</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7F31683F-F5CA-46B9-BA28-C16B6CDDD728__GUID-D9044375-00FB-4679-A412-7878C5B2609D">使用说明</p>
                        <p>如果此子程序成功执行，则用户无法回滚其操作。如果用户想要恢复先前的状态，则用户必须调用<a href="DBMS_DBFS_HS.html#GUID-449DB1F9-AA3E-4172-86B1-ED0756CA9D94" title="此过程使用Hierarchical Store注册存储的命令。这些命令被发送到与商店关联的外部存储设备的介质管理器。">REGISTERSTORECOMMAND过程</a> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="DBMS_DBFS_HS.html#GUID-449DB1F9-AA3E-4172-86B1-ED0756CA9D94" title="此过程使用Hierarchical Store注册存储的命令。这些命令被发送到与商店关联的外部存储设备的介质管理器。">REGISTERSTORECOMMAND程序</a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ARPLS72163"></a><a id="ARPLS72164"></a><a id="ARPLS72164"></a><a id="ARPLS72163"></a><div class="props_rev_3"><a id="GUID-8EEA6D6D-0027-46CB-ACFE-D76C224D539A" name="GUID-8EEA6D6D-0027-46CB-ACFE-D76C224D539A"></a><h4 id="ARPLS-GUID-8EEA6D6D-0027-46CB-ACFE-D76C224D539A" class="sect4"><span class="enumeration_section">51.5.5</span> DROPSTORE程序</h4>
                  <div>
                     <p>此过程删除先前创建的由name指定并由调用会话用户拥有的分层存储。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-8EEA6D6D-0027-46CB-ACFE-D76C224D539A__GUID-858EE639-1C5A-47AD-9C2F-09B695E647A7">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_DBFS_HS.DROPSTORE（store_name IN VARCHAR2，opt_flags IN INTEGER DEFAULT 0）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8EEA6D6D-0027-46CB-ACFE-D76C224D539A__GUID-F61B6E56-8B25-45C7-8F7A-6AF486AA1D4C">参数</p>
                        <div class="tblformal" id="GUID-8EEA6D6D-0027-46CB-ACFE-D76C224D539A__GUID-15AAE384-F148-461C-9F99-1AB8D37FBE55">
                           <p class="titleintable">表51-10 DROPSTORE程序参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DROPSTORE程序参数" width="100%" border="1" summary="This table describes the parameters of DROPSTORE procedure." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d373729e2484">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d373729e2487">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d373729e2492" headers="d373729e2484 ">
                                       <p><code class="codeph">STORE_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d373729e2492 d373729e2487 ">
                                       <p>调用会话用户拥有的商店名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d373729e2500" headers="d373729e2484 ">
                                       <p><code class="codeph">opt_flags</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d373729e2500 d373729e2487 ">
                                       <p>用户可以指定可选标志。如果将<code class="codeph">DISABLE_CLEANUPBACKUPFILES</code>指定为可选标志之一，则不会发出对<a href="DBMS_DBFS_HS.html#GUID-BCE8014A-8778-4884-89E7-7FE032818D78" title="此过程将删除在外部存储设备上创建的文件，这些文件中不包含当前使用的数据。">CLEANUPUNUSEDBACKUPFILES过程</a>的调用。默认情况下，如果未设置此标志，则该过程会隐式清除所有未使用的备份文件。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8EEA6D6D-0027-46CB-ACFE-D76C224D539A__GUID-6E301F21-76D6-4EF4-A977-15C3A4344F72">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>该过程像DDL一样执行，因为它在执行之前和之后自动提交。</p>
                           </li>
                           <li>
                              <p>如果在此过程中禁用了<code class="codeph">CLEANUPBACKUPFILES</code> ，则用户必须使用带外技术来清除未使用的备份文件。不能通过分层存储对已删除的存储进一步调用<code class="codeph">CLEANUPBACKFILES</code> 。
                              </p>
                           </li>
                           <li>
                              <p>该子程序将从<code class="codeph">DBMS_DBFS_CONTENT</code>包中取消注册存储。将从存储中删除给定存储中的所有文件（磁带或Amazon S3 Web服务）。此子程序也删除了存储数据库中存储条目的数据库表。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS72175"></a><a id="ARPLS72176"></a><a id="ARPLS72176"></a><a id="ARPLS72175"></a><div class="props_rev_3"><a id="GUID-8F856E69-765E-437F-828C-BC26D47B2F30" name="GUID-8F856E69-765E-437F-828C-BC26D47B2F30"></a><h4 id="ARPLS-GUID-8F856E69-765E-437F-828C-BC26D47B2F30" class="sect4"><span class="enumeration_section">51.5.6</span> FLUSHCACHE程序</h4>
                  <div>
                     <p>此过程将脏内容从可以锁定的一级高速缓存清除到二级高速缓存，从而释放一级高速缓存中的空间。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-8F856E69-765E-437F-828C-BC26D47B2F30__GUID-0FF43179-4207-4585-A6AF-6E6B1300DF0D">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_DBFS_HS.FLUSHCACHE（store_name IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8F856E69-765E-437F-828C-BC26D47B2F30__GUID-790FF636-EABD-49CE-8CA1-D93266C1ACB9">参数</p>
                        <div class="tblformal" id="GUID-8F856E69-765E-437F-828C-BC26D47B2F30__GUID-AF4AE013-2B8E-4BA1-88AE-4AB34F215821">
                           <p class="titleintable">表51-11 FLUSHCACHE过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="FLUSHCACHE程序参数" width="100%" border="1" summary="This table describes the parameters of FLUSHCACHE procedure." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d373729e2649">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d373729e2652">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d373729e2657" headers="d373729e2649 ">
                                       <p><code class="codeph">STORE_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d373729e2657 d373729e2652 ">
                                       <p>商店名称</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS72165"></a><a id="ARPLS72166"></a><a id="ARPLS72166"></a><a id="ARPLS72165"></a><div class="props_rev_3"><a id="GUID-8EFA0D44-2C58-47E6-A155-46375924E4D3" name="GUID-8EFA0D44-2C58-47E6-A155-46375924E4D3"></a><h4 id="ARPLS-GUID-8EFA0D44-2C58-47E6-A155-46375924E4D3" class="sect4"><span class="enumeration_section">51.5.7</span> GETSTOREPROPERTY功能</h4>
                  <div>
                     <p>此函数检索属性的值。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-8EFA0D44-2C58-47E6-A155-46375924E4D3__GUID-56EF3E1D-86AD-4A62-8FCA-E214C64B0A0B">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_DBFS_HS.GETSTOREPROPERTY（store_name IN VARCHAR2，property_name IN VARCHAR2，noexcp IN BOOLEAN DEFAULT FALSE）RETURN VARCHAR2;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8EFA0D44-2C58-47E6-A155-46375924E4D3__GUID-52DD6B22-9181-4B94-ADA4-CE4411FFA826">参数</p>
                        <div class="tblformal" id="GUID-8EFA0D44-2C58-47E6-A155-46375924E4D3__GUID-935D6402-C922-460D-9099-96FB6138E35D">
                           <p class="titleintable">表51-12 GETSTOREPROPERTY功能参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="GETSTOREPROPERTY函数参数" width="100%" border="1" summary="This table describes the parameters of GETSTOREPROPERTY procedure." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d373729e2774">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d373729e2777">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d373729e2782" headers="d373729e2774 ">
                                       <p><code class="codeph">STORE_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d373729e2782 d373729e2777 ">
                                       <p>商店名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d373729e2790" headers="d373729e2774 ">
                                       <p><code class="codeph">PROPERTY_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d373729e2790 d373729e2777 ">
                                       <p>财产名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d373729e2798" headers="d373729e2774 ">
                                       <p><code class="codeph">noexcp</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d373729e2798 d373729e2777 ">
                                       <p>如果设置为<code class="codeph">FALSE</code> ，则在数据库中不存在该属性时引发异常。如果<code class="codeph">noexcp</code>设置为<code class="codeph">TRUE</code> ，则在属性不存在时返回<code class="codeph">NULL</code> 。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8EFA0D44-2C58-47E6-A155-46375924E4D3__GUID-10632C81-657B-4F18-BEEB-1CB035518A30">返回值</p>
                        <p>属性的值。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8EFA0D44-2C58-47E6-A155-46375924E4D3__GUID-EBC633C1-319C-40C4-91DB-358FA9F00DCA">使用说明</p>
                        <p>必须已创建指定的商店。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS72167"></a><a id="ARPLS72168"></a><a id="ARPLS72168"></a><a id="ARPLS72167"></a><div class="props_rev_3"><a id="GUID-FCB818F8-57DC-4626-83DF-8DEB26ADE078" name="GUID-FCB818F8-57DC-4626-83DF-8DEB26ADE078"></a><h4 id="ARPLS-GUID-FCB818F8-57DC-4626-83DF-8DEB26ADE078" class="sect4"><span class="enumeration_section">51.5.8</span> RECONFIGCACHE程序</h4>
                  <div>
                     <p>此过程重新配置存储使用的数据库缓存的参数。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-FCB818F8-57DC-4626-83DF-8DEB26ADE078__GUID-82699C8C-6ADC-478E-8CFB-1BBDD39F0D2E">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_DBFS_HS.RECONFIGCACHE（store_name IN VARCHAR2，cache_size IN NUMBER DEFAULT NULL，lobcache_quota IN NUMBER DEFAULT NULL，optimal_tarball_size IN NUMBER DEFAULT NULL）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FCB818F8-57DC-4626-83DF-8DEB26ADE078__GUID-B18E5CB4-785C-4038-A764-6ABA570EF4C8">参数</p>
                        <div class="tblformal" id="GUID-FCB818F8-57DC-4626-83DF-8DEB26ADE078__GUID-4D1761A0-C5C0-473C-A687-43689BF08E31">
                           <p class="titleintable">表51-13 RECONFIGCACHE过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="RECONFIGCACHE过程参数" width="100%" border="1" summary="This table describes the parameters of RECONFIGCACHE procedure." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d373729e2938">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d373729e2941">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d373729e2946" headers="d373729e2938 ">
                                       <p><code class="codeph">STORE_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d373729e2946 d373729e2941 ">
                                       <p>商店名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d373729e2954" headers="d373729e2938 ">
                                       <p><code class="codeph">CACHE_SIZE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d373729e2954 d373729e2941 ">
                                       <p>用于分层存储的累积高速缓存大小</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d373729e2962" headers="d373729e2938 ">
                                       <p><code class="codeph">lobcache_quota</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d373729e2962 d373729e2941 ">
                                       <p>分配给1级缓存的缓存大小的分数</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d373729e2970" headers="d373729e2938 ">
                                       <p><code class="codeph">optimal_tarball_size</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d373729e2970 d373729e2941 ">
                                       <p>存档文件的最大可能大小。由于为商店中的每个内容文件创建一个文件是一项非常昂贵的操作，因此将多个内容文件捆绑在一起成为一个存档文件，以便传输到磁带或Amazon S3。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FCB818F8-57DC-4626-83DF-8DEB26ADE078__GUID-0E6BD518-34E1-4590-AF6F-E7E4CAAB2F12">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>必须在重新配置之前创建指定的存储。</p>
                           </li>
                           <li>
                              <p>分层存储使用1级缓存和2级缓存。1级缓存包含大部分工作集，2级缓存用于执行对后端设备的批量写入。</p>
                           </li>
                           <li>
                              <p>如果最后3个参数中的任何一个为<code class="codeph">NULL</code> ，则使用在存储创建期间指定的值。如果在发出对<a href="DBMS_DBFS_HS.html#GUID-EC01F996-42B4-4747-B615-FFA9F5069FA1" title="此过程在调用会话用户的所有权下，在架构schema_name（默认为当前架构）中创建类型为STORE_TYPE（STORETYPE_TAPE或STORETYPE_AMAZONS3）的新分层存储store_name。">CREATESTORE过程</a>的调用时参数为<code class="codeph">NULL</code> ，则<code class="codeph">DBMS_DBFS_HS</code>包将分配默认值。
                              </p>
                              <p><code class="codeph">DBMS_DBFS_HS</code>包乐观地尝试为2级缓存分配超过1个tarball的大小以促进并发，尽管2级缓存需要至少1个tarball大小。
                              </p>
                              <p>累积高速缓存大小和LOB高速缓存配额的值决定了两个高速缓存的空间分配。如果未提供值，则用户可能会看到<code class="codeph">INSUFFICIENT_CACHE</code>异常。在这种情况下，最好修改缓存参数以便拥有一个工作存储。
                              </p>
                           </li>
                           <li>
                              <p>如果此子程序成功执行，则用户无法回滚其操作。在这种情况下，用户应该使用新的或修改的参数再次调用<code class="codeph">RECONFIGCACHE</code> 。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS72177"></a><a id="ARPLS72178"></a><a id="ARPLS72178"></a><a id="ARPLS72177"></a><div class="props_rev_3"><a id="GUID-449DB1F9-AA3E-4172-86B1-ED0756CA9D94" name="GUID-449DB1F9-AA3E-4172-86B1-ED0756CA9D94"></a><h4 id="ARPLS-GUID-449DB1F9-AA3E-4172-86B1-ED0756CA9D94" class="sect4"><span class="enumeration_section">51.5.9</span> REGISTERSTORECOMMAND程序</h4>
                  <div>
                     <p>此过程使用Hierarchical Store注册存储的命令。这些命令被发送到与商店关联的外部存储设备的介质管理器。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-449DB1F9-AA3E-4172-86B1-ED0756CA9D94__GUID-2E01A6A8-F470-4DC6-BD70-EED6F98DA784">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_DBFS_HS.REGISTERSTORECOMMAND（store_name IN VARCHAR2，消息IN VARCHAR2，标记IN NUMBER）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-449DB1F9-AA3E-4172-86B1-ED0756CA9D94__GUID-63052B9B-88A6-4EDE-A905-8376CB3FCB10">参数</p>
                        <div class="tblformal" id="GUID-449DB1F9-AA3E-4172-86B1-ED0756CA9D94__GUID-C115A800-DBCD-47F7-A463-94C52A6ADC4C">
                           <p class="titleintable">表51-14 REGISTERSTORECOMMAND过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="REGISTERSTORECOMMAND过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_DBFS_HS.REGISTERSTORECOMMAND subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d373729e3147">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d373729e3150">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d373729e3155" headers="d373729e3147 ">
                                       <p><code class="codeph">STORE_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d373729e3155 d373729e3150 ">
                                       <p>商店名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d373729e3163" headers="d373729e3147 ">
                                       <p><code class="codeph">信息</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d373729e3163 d373729e3150 ">
                                       <p>要发送到外部存储的媒体管理器的消息</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d373729e3171" headers="d373729e3147 ">
                                       <p><code class="codeph">旗</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d373729e3171 d373729e3150 ">
                                       <p>有效值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">BEFORE_PUT</code> <code class="codeph">CONSTANT</code> <code class="codeph">NUMBER</code> <code class="codeph">:= 1</code> ;</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">BEFORE_GET</code> <code class="codeph">CONSTANT</code> <code class="codeph">NUMBER</code> <code class="codeph">:= 2</code> ;</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-449DB1F9-AA3E-4172-86B1-ED0756CA9D94__GUID-9CD330E6-1A73-485D-9256-5B7E233B389A">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>这些命令在下次读取或写入内容之前发送。当分层存储想要向存储设备推送（或获取）数据时，它开始会话（与设备通信）。在开始会话之后，它会在写入（或获取）任何数据之前将所有已注册的命令发送到相关设备。</p>
                           </li>
                           <li>
                              <p>如果此方法成功执行，则用户无法回滚其操作。要恢复先前的状态，用户必须调用<a href="DBMS_DBFS_HS.html#GUID-7F31683F-F5CA-46B9-BA28-C16B6CDDD728" title="此过程通过REGISTERSTORECOMMAND过程删除先前与存储关联的命令。">DEREGSTORECOMMAND函数</a> 。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS72171"></a><a id="ARPLS72172"></a><a id="ARPLS72172"></a><a id="ARPLS72171"></a><div class="props_rev_3"><a id="GUID-80AFD786-567E-4A28-BD4A-E5F1A4F53375" name="GUID-80AFD786-567E-4A28-BD4A-E5F1A4F53375"></a><h4 id="ARPLS-GUID-80AFD786-567E-4A28-BD4A-E5F1A4F53375" class="sect4"><span class="enumeration_section">51.5.10</span> SENDCOMMAND程序</h4>
                  <div>
                     <p>此过程发送要在外部存储设备的介质管理器上执行的命令。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-80AFD786-567E-4A28-BD4A-E5F1A4F53375__GUID-D8ABFF68-DB5D-4919-9EBD-CA12FD46D404">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_DBFS_HS.SENDCOMMAND（store_name IN VARCHAR2，消息IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-80AFD786-567E-4A28-BD4A-E5F1A4F53375__GUID-68B04520-C431-439A-B021-B66E381DF89D">参数</p>
                        <div class="tblformal" id="GUID-80AFD786-567E-4A28-BD4A-E5F1A4F53375__GUID-EE231C8F-20B1-4D2D-B69A-C79C8A120D84">
                           <p class="titleintable">表51-15 SENDCOMMAND过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SENDCOMMAND程序参数" width="100%" border="1" summary="This table describes the parameters of SENDCOMMAND procedure." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d373729e3334">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d373729e3337">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d373729e3342" headers="d373729e3334 ">
                                       <p><code class="codeph">STORE_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d373729e3342 d373729e3337 ">
                                       <p>商店名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d373729e3350" headers="d373729e3334 ">
                                       <p><code class="codeph">信息</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d373729e3350 d373729e3337 ">
                                       <p>要执行的消息字符串</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS72173"></a><a id="ARPLS72174"></a><a id="ARPLS72179"></a><a id="ARPLS72174"></a><a id="ARPLS72179"></a><a id="ARPLS72173"></a><div class="props_rev_3"><a id="GUID-3764A7C3-228B-44AA-BAC0-4CF53E2B6F2A" name="GUID-3764A7C3-228B-44AA-BAC0-4CF53E2B6F2A"></a><h4 id="ARPLS-GUID-3764A7C3-228B-44AA-BAC0-4CF53E2B6F2A" class="sect4"><span class="enumeration_section">51.5.11</span> SETSTOREPROPERTY程序</h4>
                  <div>
                     <p>此过程将商店的属性作为名称 - 值对存储在数据库中。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-3764A7C3-228B-44AA-BAC0-4CF53E2B6F2A__GUID-79DBBBEC-1EA2-4C6C-96B1-8B21BD2A0C0E">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_DBFS_HS.SETSTOREPROPERTY（store_name IN VARCHAR2，property_name IN VARCHAR2，property_value IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3764A7C3-228B-44AA-BAC0-4CF53E2B6F2A__GUID-20B1DDAD-B260-4B03-AE97-DF58B59B8E6B">参数</p>
                        <div class="tblformal" id="GUID-3764A7C3-228B-44AA-BAC0-4CF53E2B6F2A__GUID-276315A5-7EF6-4BB4-95B1-C828EC1A6D23">
                           <p class="titleintable">表51-16 SETSTOREPROPERTY过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SETSTOREPROPERTY过程参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_DBFS_HS.SETSTOREPROPERTY subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d373729e3470">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d373729e3473">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d373729e3478" headers="d373729e3470 ">
                                       <p><code class="codeph">STORE_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d373729e3478 d373729e3473 ">
                                       <p>商店名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d373729e3486" headers="d373729e3470 ">
                                       <p><code class="codeph">PROPERTY_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d373729e3486 d373729e3473 ">
                                       <p>对于使用磁带设备的商店，有三个属性的值必须由用户设置，四个属性具有默认值。<code class="codeph">STORETYPE_AMAZONS3</code>类型的商店具有默认值的属性。这两种类型的商店的各种选项在<code class="codeph">property_value</code>下详细说明。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d373729e3500" headers="d373729e3470 ">
                                       <p><code class="codeph">适当的价值</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d373729e3500 d373729e3473 ">
                                       <p><span class="bold">使用磁带设备的商店</span></p>
                                       <p>必须由用户设置以下属性的值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">PROPNAME_SBTLIBRARY</code> - 这应该指向RMAN用于与外部磁带设备通信的共享库。它通常命名为<code class="codeph">libobk.so</code> 。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PROPNAME_MEDIAPOOL</code> - 用于存储内容的媒体池编号</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PROPNAME_CACHE_SIZE</code> - 用于此存储的高速缓存的空间量（以字节为单位）</p>
                                          </li>
                                       </ul>
                                       <p>创建商店时为其分配了默认值的以下属性可从调优中受益：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">PROPNAME_READCHUNKSIZE</code>和<code class="codeph">PROPNAME_WRITECHUNKSIZE</code> - 这些是SBT协议用于与磁带之间传输数据的大小。这些块在每个事务的内存中分配，因此值应该是保守的。默认大小为1MB。</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PROPNAME_STREAMABLE</code> - 指示<code class="codeph">DBFS_LINK</code>是否可以直接从存储执行读取操作（例如<code class="codeph">SELECT</code>或<code class="codeph">DBMS_LOB.READ</code> ），或者是否必须先将数据复制回数据库才能读取</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PROPNAME_ENABLECLEANUPONDELETE</code> - 指示<code class="codeph">DBMS_DBFS_HS</code>是否应删除外部存储上未使用的文件。对于<code class="codeph">STORETYPE_TAPE</code> ，此属性的有效值为“ <code class="codeph">FALSE</code> ”。</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PROPNAME_COMPRESSLEVEL</code> - 描述如何压缩写入磁带的文件。它可以设置为<code class="codeph">PROPVAL_COMPLVL_NONE</code> ， <code class="codeph">PROPVAL_COMPLVL_LOW</code> ， <code class="codeph">PROPVAL_COMPLVL_MEDIUM</code>或<code class="codeph">PROPVAL_COMPLVL_HIGH</code> 。默认情况下，它设置为<code class="codeph">PROPVAL_COMPLVL_NONE</code> 。</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d373729e3589" headers="d373729e3470 ">
                                       <p><code class="codeph">（续）property_value</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d373729e3589 d373729e3473 ">
                                       <p><span class="bold"><code class="codeph">STORETYPE_AMAZONS3</code></span> <span class="bold">类型的</span> <span class="bold"><code class="codeph">STORETYPE_AMAZONS3</code></span></p>
                                       <p>必须为以下属性分配值，并提供默认值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">PROPNAME_SBTLIBRARY</code> - 指定RMAN用于与Amazon S3通信的共享库的路径。它名为<code class="codeph">libosbws11.so</code> ，可在<code class="codeph">rdbms/lib</code>目录中找到。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PROPNAME_S3HOST</code> - 定义Amazon S3存储服务的HOST名称。它必须是<code class="codeph">s3.amazonaws.com</code> 。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PROPNAME_BUCKET</code> - 定义由分层存储区用作存储层的AWS存储桶。存储桶名称的限制是：</p>
                                             <p>- 存储桶名称只能包含小写字母，数字，句点（ <code class="codeph">.</code> ）和短划线（ <code class="codeph">-</code> ）。使用下划线（ <code class="codeph">_</code> ）无效。
                                             </p>
                                             <p>- 存储桶名称必须以数字或字母开头</p>
                                             <p>- 存储桶名称不能为IP地址样式（“ <code class="codeph">192.168.5.4</code> ”）</p>
                                             <p>- 存储桶名称长度必须介于3到63个字符之间</p>
                                             <p>- 存储桶名称不应以短划线结尾</p>
                                             <p>- 破折号不能出现在句号旁边。例如，“ <code class="codeph">my-.bucket.com</code> ”无效。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PROPNAME_LICENSEID</code> - 指定与库<code class="codeph">libosbws11.so</code>关联的许可证ID。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PROPNAME_WALLET</code> - 格式为：' <code class="codeph">LOCATION=file:&lt;filename&gt; CREDENTIAL_ALIAS=&lt;access/secret_alias&gt; PROXY_AUTH_ALIAS=&lt;proxyusername/password alias&gt;</code> '</p>
                                             <p>- <code class="codeph">LOCATION</code> - 包含Oracle钱包的目录路径。格式为<code class="codeph">file:</code> <span class="italic"><code class="codeph">directory-path</code></span> 。有关格式的变化，请参见<a href="DBMS_DBFS_HS.html#GUID-3764A7C3-228B-44AA-BAC0-4CF53E2B6F2A__BABFDHEG">示例</a> 。
                                             </p>
                                             <p>- <code class="codeph">PASSWORD</code> - 定义钱包密码。如果钱包中启用了<code class="codeph">auto-login</code> （可以使用用户自己的实用程序进行更改），则无需指定。默认情况下， <code class="codeph">mkstore</code>实用程序启用<code class="codeph">auto-login</code> 。
                                             </p>
                                             <p>- <code class="codeph">CREDENTIAL_ALIAS</code> - 为<code class="codeph">ACCESS_KEY</code>和<code class="codeph">SECRET_KEY</code>定义凭证别名</p>
                                             <p>- <code class="codeph">PROXY_AUTH_ALIAS</code> - 定义代理服务器的身份验证凭据（如果适用）。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d373729e3714" headers="d373729e3470 ">
                                       <p><code class="codeph">(property_value</code> （续）
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d373729e3714 d373729e3473 ">
                                       <p>以下属性是可选的：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">PROPNAME_HTTPPROXY</code> - 定义访问Amazon S3存储服务所需的HTTP代理的DNS名称（如果有）。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PROPNAME_STREAMABLE</code> - 指示是否应在此存储上执行基于缓冲区的<code class="codeph">PUT</code>或<code class="codeph">GET</code>操作。此属性的有效值为<code class="codeph">TRUE</code> （默认值）和<code class="codeph">FALSE</code> 。</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PROPNAME_ENABLECLEANUPONDELETE</code> - 指示<code class="codeph">DBMS_DBFS_HS</code>是否应删除外部存储设备上未使用的文件。此属性的默认值是<code class="codeph">FALSE</code>的<code class="codeph">STORETYPE_TAPE</code>和<code class="codeph">TRUE</code>为<code class="codeph">STORETYPE_AMAZONS3</code> 。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PROPNAME_COMPRESSLEVEL</code> - 描述如何压缩写入磁带的文件。它可以设置为<code class="codeph">PROPVAL_COMPLVL_NONE</code> ， <code class="codeph">PROPVAL_COMPLVL_LOW</code> ， <code class="codeph">PROPVAL_COMPLVL_MEDIUM</code>或<code class="codeph">PROPVAL_COMPLVL_HIGH</code> 。默认情况下，它设置为<code class="codeph">PROPVAL_COMPLVL_NONE</code> 。</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3764A7C3-228B-44AA-BAC0-4CF53E2B6F2A__GUID-63D4A3B1-847F-4EB3-B314-37397F297D57">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>必须已创建指定的商店。</p>
                           </li>
                           <li>
                              <p>如果此子程序成功执行，则用户无法回滚其操作。</p>
                           </li>
                           <li>
                              <p>使用此子程序可以将相同属性多次设置为相同或不同的值</p>
                           </li>
                           <li>
                              <p>关于<code class="codeph">PROPNAME_ENABLECLEANUPONDELETE</code>行为，为每个店由创建一个作业<code class="codeph">DBMS_DBFS_HS</code>从外部存储删除未使用的文件。默认情况下，为<code class="codeph">STORETYPE_AMAZONS3</code>启用作业，并为<code class="codeph">STORETYPE_AMAZONS3</code>禁用<code class="codeph">STORETYPE_TAPE</code> 。如果<code class="codeph">ENABLECLEANUPONDELETE</code>属性设置为<code class="codeph">TRUE</code> ，则启用作业;如果该属性设置为<code class="codeph">FALSE</code> ，则禁用该作业。如果启用，则默认情况下作业以一小时的间隔运行。<code class="codeph">DBMS_SCHEDULER</code>包可用于修改计划。作业的名称可以通过查询而获得<code class="codeph">USER_DBFS_HS_FIXED_PROPERTIES</code>为<code class="codeph">prop_name</code> <code class="codeph">=</code> <code class="codeph">'DELJOB_NAME</code> ”。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-3764A7C3-228B-44AA-BAC0-4CF53E2B6F2A__BABFDHEG">
                        <p class="subhead3" id="GUID-3764A7C3-228B-44AA-BAC0-4CF53E2B6F2A__GUID-5A8974CF-B099-4C01-8BAA-73C73B7BA8F9">例子</p>
                        <p>格式</p>
                        <p>例如，Windows中的<code class="codeph">wallet_path</code>格式为：</p><pre class="oac_no_warn" dir="ltr">文件：C：\ WINNT \概况\ &lt;用户名&gt; \钱包</pre><p><code class="codeph">wallet_path</code> ，UNIX或Linux中<code class="codeph">wallet_path</code>的格式为：</p><pre class="oac_no_warn" dir="ltr">文件：/ home / <span class="italic">username</span> / wallets</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS72169"></a><a id="ARPLS72170"></a><a id="ARPLS72170"></a><a id="ARPLS72169"></a><div class="props_rev_3"><a id="GUID-7AD3EB67-FBE3-4415-8AF8-9EB71EED8E5C" name="GUID-7AD3EB67-FBE3-4415-8AF8-9EB71EED8E5C"></a><h4 id="ARPLS-GUID-7AD3EB67-FBE3-4415-8AF8-9EB71EED8E5C" class="sect4"><span class="enumeration_section">51.5.12</span> STOREPUSH程序</h4>
                  <div>
                     <p>此过程将本地暂存的数据推送到远程存储。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-7AD3EB67-FBE3-4415-8AF8-9EB71EED8E5C__GUID-60F672AD-23D6-4BE7-A66B-018CE1F66029">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_DBFS_HS.STOREPUSH（store_name IN VARCHAR2，路径IN VARCHAR2 DEFAULT NULL）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7AD3EB67-FBE3-4415-8AF8-9EB71EED8E5C__GUID-41E1E3F2-4452-48A3-8C7E-9D916C225A30">参数</p>
                        <div class="tblformal" id="GUID-7AD3EB67-FBE3-4415-8AF8-9EB71EED8E5C__GUID-E1340BE5-8F96-4E5B-A352-8F09307C02DF">
                           <p class="titleintable">表51-17 STOREPUSH程序参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="STOREPUSH程序参数" width="100%" border="1" summary="This table describes the Parameters of DBMS_DBFS_HS.STOREPUSH subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d373729e3971">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d373729e3974">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d373729e3979" headers="d373729e3971 ">
                                       <p><code class="codeph">STORE_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d373729e3979 d373729e3974 ">
                                       <p>客户端将其内容从本地缓存写入外部存储的存储的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d373729e3987" headers="d373729e3971 ">
                                       <p><code class="codeph">路径</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d373729e3987 d373729e3974 ">
                                       <p>存储中的非安装限定（无挂载点）路径。默认情况下，其值为<code class="codeph">NULL</code> ，对应于商店的根路径。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7AD3EB67-FBE3-4415-8AF8-9EB71EED8E5C__GUID-AF8A5352-C2C5-42C0-A7CB-6427D4ABF6D4">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>Hierarchical Store将内容文件本地缓存在数据库表中。如果在缓存中积累了足够的内容以使其有效写入外部存储设备（或缓存完全填满），则分层存储会从本地内容创建tarball并将这些tarball作为文件写入外部设备。由分层存储创建的tarball的大小由商店属性<code class="codeph">PROPNAME_OPTTARBALLSIZE</code> 。</p>
                           </li>
                           <li>
                              <p>当缓存中的可用空间量使得内容文件的缓存将推送<code class="codeph">cache_size</code>上方使用的空间时，Hierarchical Store将在内部调用<code class="codeph">STOREPUSH</code> 。 <code class="codeph">STOREPUSH</code> <code class="codeph">Procedure</code>从缓存中的现有脏或修改的内容文件中创建tarball，并将它们写出到外部设备。<code class="codeph">STOREPUSH</code>调用不保证将所有脏内容从本地缓存写入外部存储，因为某些文件可能被其他会话锁定。
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">STOREPUSH</code>具有内置功能，可以自动恢复操作。如果<code class="codeph">STOREPUSH</code>呼叫在将一些tarball传输到外部设备后中断（例如网络中断），则可以在中断后重新启动它，然后从中断点继续传输数据。换句话说，在停电之前完成的工作不会丢失。<code class="codeph">STOREPUSH</code>可以安全地重新启动，效果就是如果中断从未发生过。
                              </p>
                           </li>
                           <li>
                              <p>如果此方法成功执行，则用户无法回滚其操作。</p>
                           </li>
                           <li>
                              <p>默认情况下，当<code class="codeph">path</code>为<code class="codeph">NULL</code> ，商店中的所有文件都是<code class="codeph">STOREPUSH</code>候选<code class="codeph">STOREPUSH</code> 。如果<code class="codeph">path</code>具有有效的输入值，则将给定路径的命名空间下的所有文件从本地缓存写入外部存储。如果给定路径是现有文件，则会将其再次推送到远程存储。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>