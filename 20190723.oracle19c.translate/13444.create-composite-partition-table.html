<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="When creating a composite partitioned table, you use the PARTITION and SUBPARTITION clauses of the CREATE TABLE SQL statement."></meta>
      <meta name="description" content="When creating a composite partitioned table, you use the PARTITION and SUBPARTITION clauses of the CREATE TABLE SQL statement."></meta>
      <title>创建表时指定复合分区</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="VLDB and Partitioning Guide"></meta>
      <meta property="og:description" content="When creating a composite partitioned table, you use the PARTITION and SUBPARTITION clauses of the CREATE TABLE SQL statement."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="VLDB and Partitioning Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="vldb-and-partitioning-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-04-23T18:05:22-07:00"></meta>
      <meta name="dcterms.title" content="VLDB and Partitioning Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="2008, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96199-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="partition-create-tables-indexes.html" title="Previous" type="text/html"></link>
      <link rel="next" href="maintenance-partition-can-be-performed.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="VLDBG"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="partition-create-tables-indexes.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="maintenance-partition-can-be-performed.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">VLDB和分区指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="partition-admin.html" property="item" typeof="WebPage"><span property="name">分区管理</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">创建表时指定复合分区</li>
            </ol>
            <a id="GUID-CB1047B0-EBD7-4919-AC77-346BB48A98C4" name="GUID-CB1047B0-EBD7-4919-AC77-346BB48A98C4"></a><a id="VLDBG1094"></a>
            
            <h2 id="VLDBG-GUID-CB1047B0-EBD7-4919-AC77-346BB48A98C4" class="sect2">创建表时指定复合分区</h2>
         </header>
         <div class="ind">
            <div>
               <p>创建复合分区表时，可以使用<code class="codeph">CREATE TABLE</code> SQL语句的<code class="codeph">PARTITION</code>和<code class="codeph">SUBPARTITION</code>子句。
               </p>
               <p>要创建复合分区表，首先使用<code class="codeph">PARTITION</code> <code class="codeph">BY</code> { <code class="codeph">HASH</code> | <code class="codeph">RANGE</code> [ <code class="codeph">INTERVAL</code> ] | <code class="codeph">CREATE TABLE</code>语句的<code class="codeph">LIST</code> }子句。接下来，指定一个<code class="codeph">SUBPARTITION BY</code>子句，该子句遵循与<code class="codeph">PARTITION BY</code>子句类似的语法和规则。
               </p>
               <p>讨论了以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="create-composite-partition-table.html#GUID-9ECF0F94-57BB-45F8-824F-48B320F23D9C" title="复合hash- *分区允许沿两个维度进行散列分区。">创建复合哈希 -  *分区表</a></p>
                  </li>
                  <li>
                     <p><a href="create-composite-partition-table.html#GUID-92F34170-30CD-40E3-9899-67A2DA49429F" title="interval- *复合分区的概念类似于range- *分区的概念。">创建复合间隔 -  *分区表</a></p>
                  </li>
                  <li>
                     <p><a href="create-composite-partition-table.html#GUID-795E1D0E-A298-404B-B66C-4832A63264F1" title="list-hash，list-list和list-range复合分区的概念类似于range-hash，range-list和range-range partitioning的概念。">创建复合列表 -  *分区表</a></p>
                  </li>
                  <li>
                     <p><a href="create-composite-partition-table.html#GUID-BFBFC6FA-65FD-4FFA-A6F3-47FB4ACEE60C" title="本主题介绍了创建复合范围*分区表的方法。">创建复合范围 -  *分区表</a></p>
                  </li>
                  <li>
                     <p><a href="create-composite-partition-table.html#GUID-03D5C9BE-54AE-4156-B462-90E41757AE93" title="您可以使用子分区模板在复合分区表中创建子分区。">指定子分区模板以描述复合分区表</a></p>
                  </li>
               </ul>
            </div>
            <div class="sect2"><a id="GUID-9ECF0F94-57BB-45F8-824F-48B320F23D9C" name="GUID-9ECF0F94-57BB-45F8-824F-48B320F23D9C"></a><h3 id="VLDBG-GUID-9ECF0F94-57BB-45F8-824F-48B320F23D9C" class="sect3">创建复合哈希 -  *分区表</h3>
               <div>
                  <p>复合hash- *分区允许沿两个维度进行散列分区。</p>
                  <p>复合散列哈希分区策略具有复合哈希 -  *分区表的最大业务价值。该技术有利于沿两个维度实现分区连接。</p>
                  <p>在以下示例中，在创建复合散列哈希分区表时指定了子分区数;但是，没有指定名称。系统生成的名称分配给分区和子分区，分区和子分区存储在表的默认表空间中。</p>
                  <div class="infoboxnote" id="GUID-9ECF0F94-57BB-45F8-824F-48B320F23D9C__VIEWANDRUNARELATEDEXAMPLEONORACLELI-6582E293">
                     <p class="notep1">实时SQL：</p>
                     <p>在Oracle Live SQL上查看并运行Oracle Live SQL的相关示例<a href="https://livesql.oracle.com/apex/livesql/docs/vldbg/partitioning/composite-hash-hash-partitioning-example.html" target="_blank"><span class="italic">：创建复合哈希哈希分区表</span></a> 。
                     </p>
                  </div>
                  <div class="example" id="GUID-9ECF0F94-57BB-45F8-824F-48B320F23D9C__GUID-38047322-24F3-4BEB-81B1-B27068465524">
                     <p class="titleinexample">示例4-17创建复合散列哈希分区表</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE departments_courses_hash（department_id NUMBER（4）NOT NULL，department_name VARCHAR2（30），course_id NUMBER（4）NOT NULL）PARASHTION by HASH（department_id）SUBPARTITION by HASH（course_id）SUBPARTITIONS 32 PARTITIONS 16;</pre></div>
                  <!-- class="example" -->
                  <div class="section">
                     <div class="infoboxnotealso" id="GUID-9ECF0F94-57BB-45F8-824F-48B320F23D9C__TOLEARNMOREABOUTHOWTOUSEASUBPARTITI-AFD0459F">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="create-composite-partition-table.html#GUID-03D5C9BE-54AE-4156-B462-90E41757AE93" title="您可以使用子分区模板在复合分区表中创建子分区。">指定用于描述复合分区表</a>的子分区模板，以了解如何使用子分区模板简化复合分区表的规范</p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="VLDBG1102"></a><div class="props_rev_3"><a id="GUID-92F34170-30CD-40E3-9899-67A2DA49429F" name="GUID-92F34170-30CD-40E3-9899-67A2DA49429F"></a><h3 id="VLDBG-GUID-92F34170-30CD-40E3-9899-67A2DA49429F" class="sect3">创建复合间隔 -  *分区表</h3>
               <div>
                  <p>interval- *复合分区的概念类似于range- *分区的概念。</p>
                  <p>但是，您扩展<code class="codeph">PARTITION BY RANGE</code>子句以包括<code class="codeph">INTERVAL</code>定义。您必须使用<code class="codeph">PARTITION</code>子句指定至少一个范围分区。范围分区键值确定范围分区的高值（称为转换点），数据库自动为该转换点之外的数据创建间隔分区。
                  </p>
                  <p>在数据库创建间隔时，将创建interval- *分区表中的间隔子分区。您只能使用子分区模板指定未来子分区的定义。</p>
                  <p>以下主题显示了不同interval- *复合分区方法的示例。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="create-composite-partition-table.html#GUID-EC3C51AF-2F56-4617-A12B-4540D5C17F33" title="您可以通过在PARTITION子句中指定多个哈希分区或使用子分区模板来创建具有多个哈希分区的区间哈希分区表。">创建复合区间哈希分区表</a></p>
                     </li>
                     <li>
                        <p><a href="create-composite-partition-table.html#GUID-8F38C8B0-3999-4F4E-8AF2-F41C2F764F47" title="要为将来的间隔列表分区定义列表子分区，必须使用子分区模板。">创建复合区间列表分区表</a></p>
                     </li>
                     <li>
                        <p><a href="create-composite-partition-table.html#GUID-E204E851-9B8F-4283-B7D5-88D93DE09B14" title="要为将来的区间范围分区定义范围子分区，必须使用子分区模板。">创建复合区间范围分区表</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-92F34170-30CD-40E3-9899-67A2DA49429F__GUID-A751E780-EB0C-4F06-B52C-A7EE182126C2">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="create-composite-partition-table.html#GUID-03D5C9BE-54AE-4156-B462-90E41757AE93" title="您可以使用子分区模板在复合分区表中创建子分区。">指定用于描述复合分区表</a>的子分区模板，以了解如何使用子分区模板简化复合分区表的规范</p>
                  </div>
               </div><a id="VLDBG1103"></a><div class="props_rev_3"><a id="GUID-EC3C51AF-2F56-4617-A12B-4540D5C17F33" name="GUID-EC3C51AF-2F56-4617-A12B-4540D5C17F33"></a><h4 id="VLDBG-GUID-EC3C51AF-2F56-4617-A12B-4540D5C17F33" class="sect4">创建复合区间哈希分区表</h4>
                  <div>
                     <p>您可以通过在<code class="codeph">PARTITION</code>子句中指定多个哈希分区或使用子分区模板来创建具有多个哈希分区的区间哈希分区表。
                     </p>
                     <div class="section">
                        <p>如果您不使用这些方法中的任何一种，则将来的间隔分区只会获得一个哈希子分区。</p>
                        <p>以下示例显示<code class="codeph">sales</code>表，在<code class="codeph">time_id</code>上使用每月间隔分区的间隔，以及<code class="codeph">cust_id</code>使用哈希子分区。此示例指定多个哈希分区，而不对单个哈希分区分配任何特定的表空间。
                        </p>
                        <div class="infoboxnote" id="GUID-EC3C51AF-2F56-4617-A12B-4540D5C17F33__VIEWANDRUNARELATEDEXAMPLEONORACLELI-65836DC7">
                           <p class="notep1">实时SQL：</p>
                           <p>在Oracle Live SQL上查看并运行Oracle Live SQL的相关示例<a href="https://livesql.oracle.com/apex/livesql/docs/vldbg/partitioning/composite-interval-hash-partitioning-example.html" target="_blank"><span class="italic">：创建复合区间哈希分区表</span></a> 。
                           </p>
                        </div><pre class="oac_no_warn" dir="ltr">CREATE TABLE销售额（prod_id NUMBER（6），cust_id NUMBER，time_id DATE，channel_id CHAR（1），promo_id NUMBER（6），quantity_sold NUMBER（3），amount_sold NUMBER（10,2））PARTITION BY RANGE（time_id）INTERVAL（ NUMTOYMINTERVAL（1，'MONTH'））HASH（cust_id）SUBPARTITIONS 4的分区（分段在2000之前的值不到（TO_DATE（'01 -JAN-2000'，'dd-MON-yyyy'）））PARALLEL;</pre><p>下一个示例显示了相同的<code class="codeph">sales</code>表，在<code class="codeph">time_id</code>上使用每月间隔进行分区的间隔，再次使用<code class="codeph">cust_id</code>哈希子分区。但是，这次，各个散列分区存储在单独的表空间中。子分区模板用于为将来的哈希子分区定义表空间分配。
                        </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE销售额（prod_id NUMBER（6），cust_id NUMBER，time_id DATE，channel_id CHAR（1），promo_id NUMBER（6），quantity_sold NUMBER（3），amount_sold NUMBER（10,2））PARTITION BY RANGE（time_id）INTERVAL（ NUMTOYMINTERVAL（1，'MONTH'））SUBPARTITION by hash（cust_id）SUBPARTITION模板（SUBPARTITION p1 TABLESPACE ts1，SUBPARTITION p2 TABLESPACE ts2，SUBPARTITION p3 TABLESPACE ts3，SUBPARTITION P4 TABLESPACE ts4）（PAR_TION before_2000 VALUES少于（TO_DATE（'01  - JAN-2000'，'dd-MON-yyyy'）））PARALLEL;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="VLDBG14055"></a><a id="VLDBG1104"></a><div class="props_rev_3"><a id="GUID-8F38C8B0-3999-4F4E-8AF2-F41C2F764F47" name="GUID-8F38C8B0-3999-4F4E-8AF2-F41C2F764F47"></a><h4 id="VLDBG-GUID-8F38C8B0-3999-4F4E-8AF2-F41C2F764F47" class="sect4">创建复合区间列表分区表</h4>
                  <div>
                     <p>要为将来的间隔列表分区定义列表子分区，必须使用子分区模板。</p>
                     <div class="section">
                        <p>如果不使用子分区模板，则为每个间隔分区创建的唯一子分区是<code class="codeph">DEFAULT</code>子分区。
                        </p>
                        <p><a href="create-composite-partition-table.html#GUID-8F38C8B0-3999-4F4E-8AF2-F41C2F764F47__CHDCJDAD">示例4-18</a>显示了<code class="codeph">sales_interval_list</code>表，使用<code class="codeph">sales_date</code>上的每月间隔进行分区的时间间隔，以及<code class="codeph">channel_id</code>列表子分区。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-8F38C8B0-3999-4F4E-8AF2-F41C2F764F47__CHDCJDAD">
                        <p class="titleinexample">示例4-18创建复合间隔列表分区表</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE sales_interval_list（product_id NUMBER（6），customer_id NUMBER，channel_id CHAR（1），promo_id NUMBER（6），sales_date DATE，quantity_sold INTEGER，amount_sold NUMBER（10,2））PARTITION BY RANGE（sales_date）INTERVAL（NUMTOYMINTERVAL（1） ，'MONTH'））按列表进行子操作（channel_id）子目录模板（子目录p_catalog值（'C'），子目标p_internet值（'I'），子目标p_partners值（'P'），子目录p_direct_sales值（'S'） ，SUBPARTITION p_tele_sales VALUES（'T'））（PAR_TION before_2017 VALUES少于（TO_DATE（'01 -JAN-2017'，'dd-MON-yyyy'）））PARALLEL; SELECT TABLE_NAME，PARTITION_NAME，SUBPARTITION_NAME FROM USER_TAB_SUBPARTITIONS WHERE TABLE_NAME ='SALES_INTERVAL_LIST';</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="VLDBG14056"></a><a id="VLDBG1105"></a><div class="props_rev_3"><a id="GUID-E204E851-9B8F-4283-B7D5-88D93DE09B14" name="GUID-E204E851-9B8F-4283-B7D5-88D93DE09B14"></a><h4 id="VLDBG-GUID-E204E851-9B8F-4283-B7D5-88D93DE09B14" class="sect4">创建复合区间范围分区表</h4>
                  <div>
                     <p>要为将来的区间范围分区定义范围子分区，必须使用子分区模板。</p>
                     <div class="section">
                        <p>如果不使用子分区模板，则为每个间隔分区创建的唯一子分区是具有<code class="codeph">MAXVALUE</code>上边界的范围子分区。
                        </p>
                        <p><a href="create-composite-partition-table.html#GUID-E204E851-9B8F-4283-B7D5-88D93DE09B14__CHDIFGBB">实施例4-19</a>示出了<code class="codeph">sales</code>表中，使用关于每日间隔的时间间隔分配<code class="codeph">time_id</code> ，与由范围子分区<code class="codeph">amount_sold</code> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-E204E851-9B8F-4283-B7D5-88D93DE09B14__CHDIFGBB">
                        <p class="titleinexample">示例4-19创建复合区间范围分区表</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE销售额（prod_id NUMBER（6），cust_id NUMBER，time_id DATE，channel_id CHAR（1），promo_id NUMBER（6），quantity_sold NUMBER（3），amount_sold NUMBER（10,2））PARTITION BY RANGE（time_id）INTERVAL（ NUMTODSINTERVAL（1，'DAY'））RANGE（amount_sold）SUBPARTITION模板（SUBPARTITION p_low值小于（1000），SubPARTITION p_medium值小于（4000），SubPARTITION p_high VALUE少于（8000），SubPARTITION p_ultimate VALUE少于（最大值））（分段在2000之前的值不到（TO_DATE（'01 -JAN-2000'，'dd-MON-yyyy'）））PARALLEL;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="VLDBG1098"></a><div class="props_rev_3"><a id="GUID-795E1D0E-A298-404B-B66C-4832A63264F1" name="GUID-795E1D0E-A298-404B-B66C-4832A63264F1"></a><h3 id="VLDBG-GUID-795E1D0E-A298-404B-B66C-4832A63264F1" class="sect3">创建复合列表 -  *分区表</h3>
               <div>
                  <p>list-hash，list-list和list-range复合分区的概念类似于range-hash，range-list和range-range partitioning的概念。</p>
                  <p>但是，对于list- *复合分区，您可以指定<code class="codeph">PARTITION BY LIST</code>来定义分区策略。
                  </p>
                  <p>list- *复合分区表的列表分区类似于非复合范围分区表。此组织允许<code class="codeph">PARTITION</code>子句的可选子条款指定特定于分区段的物理和其他属性，包括表空间。如果未在分区级别覆盖，则分区将继承其基础表的属性。
                  </p>
                  <p><code class="codeph">SUBPARTITION</code>或<code class="codeph">SUBPARTITIONS</code>子句中的子分区描述类似于<code class="codeph">SUBPARTITIONS</code> *复合分区方法。
                  </p>
                  <p>以下主题显示了不同list- *复合分区方法的示例。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="create-composite-partition-table.html#GUID-E4131251-C76F-4DA0-8235-294C40F836B1" title="本主题中的示例显示如何创建复合列表 - 散列分区表。">创建复合列表 - 哈希分区表</a></p>
                     </li>
                     <li>
                        <p><a href="create-composite-partition-table.html#GUID-7854B907-B11C-41A6-A7AC-E01D063198B6" title="本主题中的示例显示如何创建复合列表列表分区表。">创建复合列表 - 列表分区表</a></p>
                     </li>
                     <li>
                        <p><a href="create-composite-partition-table.html#GUID-84DF5438-912C-40FD-895B-B624C57C1862" title="本主题中的示例显示如何创建复合列表范围分区表。">创建复合列表范围分区表</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-795E1D0E-A298-404B-B66C-4832A63264F1__TOLEARNMOREABOUTHOWTOUSEASUBPARTITI-AFD1687A">
                     <p class="notep1">也可以看看：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="create-composite-partition-table.html#GUID-03D5C9BE-54AE-4156-B462-90E41757AE93" title="您可以使用子分区模板在复合分区表中创建子分区。">指定用于描述复合分区表</a>的子分区模板，以了解如何使用子分区模板简化复合分区表的规范</p>
                        </li>
                        <li>
                           <p><a href="create-composite-partition-table.html#GUID-A87BDD8B-45E9-4910-8BE4-7747C3AE4449" title="范围哈希分区表的分区仅是逻辑结构，因为它们的数据存储在其子分区的段中。">关于创建复合范围哈希分区表</a>有关列表哈希复合分区方法的子分区定义的更多信息</p>
                        </li>
                        <li>
                           <p><a href="create-composite-partition-table.html#GUID-BE937517-A04E-45B9-A5C9-D7957B8D65F3" title="对于非复合范围分区表，范围列表复合分区表的范围分区被描述为相同。">关于创建复合范围列表分区表</a>有关列表 - 列表复合分区方法的子分区定义的更多信息</p>
                        </li>
                        <li>
                           <p><a href="create-composite-partition-table.html#GUID-C1FA4836-206B-40E2-AEB9-05D4A85A6B61" title="范围范围复合分区表的范围分区类似于非复合范围分区表。">创建复合范围范围分区表</a> ，以获取有关列表范围复合分区方法的子分区定义的更多信息</p>
                        </li>
                     </ul>
                  </div>
               </div><a id="VLDBG14051"></a><a id="VLDBG1099"></a><div class="props_rev_3"><a id="GUID-E4131251-C76F-4DA0-8235-294C40F836B1" name="GUID-E4131251-C76F-4DA0-8235-294C40F836B1"></a><h4 id="VLDBG-GUID-E4131251-C76F-4DA0-8235-294C40F836B1" class="sect4">创建复合列表 - 哈希分区表</h4>
                  <div>
                     <p>本主题中的示例显示如何创建复合列表 - 散列分区表。</p>
                     <div class="section">
                        <p><a href="create-composite-partition-table.html#GUID-E4131251-C76F-4DA0-8235-294C40F836B1__CHDJFCCD">示例4-20</a>显示了一个<code class="codeph">accounts</code>表，该表是按区域划分的列表，并使用客户标识符的散列进行子分区。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-E4131251-C76F-4DA0-8235-294C40F836B1__CHDJFCCD">
                        <p class="titleinexample">示例4-20创建复合列表 - 散列分区表</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE帐户（ID NUMBER，account_number NUMBER，customer_id NUMBER，余额NUMBER，branch_id NUMBER，区域VARCHAR（2），状态VARCHAR2（1））PARTITION BY LIST（区域）SUBPARTITION by HASH（customer_id）SUBPARTITIONS 8（PARTITION p_northwest VALUES（ 'OR'，'WA'），PARTITION p_southwest VALUES（'AZ'，'UT'，'NM'），PARTITION p_northeast VALUES（'NY'，'VM'，'NJ'），PARTITION p_southeast VALUES（'FL' ，'GA'），PARTITION p_northcentral VALUES（'SD'，'WI'），PARTITION p_southcentral VALUES（'OK'，'TX'））;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="VLDBG14052"></a><a id="VLDBG1100"></a><div class="props_rev_3"><a id="GUID-7854B907-B11C-41A6-A7AC-E01D063198B6" name="GUID-7854B907-B11C-41A6-A7AC-E01D063198B6"></a><h4 id="VLDBG-GUID-7854B907-B11C-41A6-A7AC-E01D063198B6" class="sect4">创建复合列表 - 列表分区表</h4>
                  <div>
                     <p>本主题中的示例显示如何创建复合列表列表分区表。</p>
                     <div class="section">
                        <p><a href="create-composite-partition-table.html#GUID-7854B907-B11C-41A6-A7AC-E01D063198B6__CHDGDCID">示例4-21</a>显示了一个<code class="codeph">accounts</code>表，该表是按区域划分的列表，并使用按帐户状态列表进行子分区。
                        </p>
                        <div class="infoboxnote" id="GUID-7854B907-B11C-41A6-A7AC-E01D063198B6__VIEWANDRUNARELATEDEXAMPLEONORACLELI-6B564683">
                           <p class="notep1">实时SQL：</p>
                           <p>在Oracle Live SQL上查看并运行Oracle Live SQL的相关示例<a href="https://livesql.oracle.com/apex/livesql/docs/vldbg/partitioning/composite-list-list-partitioning-example.html" target="_blank"><span class="italic">：创建复合列表 - 列表分区表</span></a> 。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-7854B907-B11C-41A6-A7AC-E01D063198B6__CHDGDCID">
                        <p class="titleinexample">示例4-21创建复合列表列表分区表</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE帐户（ID NUMBER，account_number NUMBER，customer_id NUMBER，余额NUMBER，branch_id NUMBER，区域VARCHAR（2），状态VARCHAR2（1））PARTITION BY LIST（区域）按列表排序（状态）（PARTITION p_northwest VALUES（'OR） '，'WA'）（SUBPARTITION p_nw_bad VALUES（'B'），SUBPARTITION p_nw_average VALUES（'A'），SUBPARTITION p_nw_good VALUES（'G'）），PARTITION p_southwest VALUES（'AZ'，'UT'，'NM' ）（SUBPARTITION p_sw_bad VALUES（'B'），SUBPARTITION p_sw_average VALUES（'A'），SUBPARTITION p_sw_good VALUES（'G'）），PARTITION p_northeast VALUES（'NY'，'VM'，'NJ'）（SUBPARTITION p_ne_bad VALUES （'B'），SUBPARTITION p_ne_average VALUES（'A'），SUBPARTITION p_ne_good VALUES（'G'）），PARTITION p_southeast VALUES（'FL'，'GA'）（SUBPARTITION p_se_bad VALUES（'B'），SUBPARTITION p_se_average VALUES （'A'），SUBPARTITION p_se_good值（'G'）），PARTITION p_northcentral VALUES（'SD'，'WI'）（SUBPARTITION p_nc_bad VALUES（'B'），SUBPARTITION p_nc_average VALUES（'A'） ，SUBPARTITION p_nc_good值（'G'）），PARTITION p_southcentral VALUES（'OK'，'TX'）（SUBPARTITION p_sc_bad VALUES（'B'），SUBPARTITION p_sc_average VALUES（'A'），SUBPARTITION p_sc_good VALUES（'G'） ））;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="VLDBG14053"></a><a id="VLDBG1101"></a><div class="props_rev_3"><a id="GUID-84DF5438-912C-40FD-895B-B624C57C1862" name="GUID-84DF5438-912C-40FD-895B-B624C57C1862"></a><h4 id="VLDBG-GUID-84DF5438-912C-40FD-895B-B624C57C1862" class="sect4">创建复合列表范围分区表</h4>
                  <div>
                     <p>本主题中的示例显示如何创建复合列表范围分区表。</p>
                     <div class="section">
                        <p><a href="create-composite-partition-table.html#GUID-84DF5438-912C-40FD-895B-B624C57C1862__CHDEAECF">示例4-22</a>显示了一个<code class="codeph">accounts</code>表，该表是按区域划分的列表，并使用按帐户余额的范围进行子分区，并启用行移动。不同列表分区的子分区可以指定不同的范围。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-84DF5438-912C-40FD-895B-B624C57C1862__CHDEAECF">
                        <p class="titleinexample">示例4-22创建复合列表范围分区表</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE帐户（ID NUMBER，account_number NUMBER，customer_id NUMBER，余额NUMBER，branch_id NUMBER，区域VARCHAR（2），状态VARCHAR2（1））按列表划分（区域）按范围排序（余额）（PARTITION p_northwest VALUES（'OR） '，'WA'）（SUBPARTITION p_nw_low值小于（1000），SUBPARTITION p_nw_average值小于（10000），SubPARTITION p_nw_high值小于（100000），SubPARTITION p_nw_extraordinary VALUES少于（MAXVALUE）），PARTITION p_southwest VALUES（'AZ '，'UT'，'NM'）（SUBPARTITION p_sw_low值小于（1000），SUBPARTITION p_sw_average值小于（10000），SubPARTITION p_sw_high值小于（100000），SubPARTITION p_sw_extraordinary值小于（MAXVALUE）），PARTITION p_northeast VALUES（'NY'，'VM'，'NJ'）（SUBPARTITION p_ne_low VALUE少于（1000），SubPARTITION p_ne_average VALUE少于（10000），SubPARTITION p_ne_high值低于（100000），SubPARTITION p_ne_extraordinary VALUES少于（MAX） VALUE）），PARTITION p_southeast VALUES（'FL'，'GA'）（SUBPARTITION p_se_low VALUE少于（1000），SubPARTITION p_se_average VALUE少于（10000），SubPARTITION p_se_high值少于（100000），SubPARTITION p_se_extraordinary VALUES少于（ MAXVALUE）），PARTITION p_northcentral VALUES（'SD'，'WI'）（SUBPARTITION p_nc_low值小于（1000），SUBPARTITION p_nc_average值小于（10000），SUBPARTITION p_nc_high值小于（100000），SubPARTITION p_nc_extraordinary VALUES少于（ MAXVALUE）），PARTITION p_southcentral VALUES（'OK'，'TX'）（SUBPARTITION p_sc_low值小于（1000），SUBPARTITION p_sc_average值小于（10000），SubPARTITION p_sc_high值小于（100000），SubPARTITION p_sc_extraordinary VALUES（仅）（ MAXVALUE）））启用行程;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-BFBFC6FA-65FD-4FFA-A6F3-47FB4ACEE60C" name="GUID-BFBFC6FA-65FD-4FFA-A6F3-47FB4ACEE60C"></a><h3 id="VLDBG-GUID-BFBFC6FA-65FD-4FFA-A6F3-47FB4ACEE60C" class="sect3">创建复合范围 -  *分区表</h3>
               <div>
                  <p>本主题介绍了创建复合范围*分区表的方法。</p>
                  <p>以下主题显示了不同range- *复合分区方法的示例。</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="create-composite-partition-table.html#GUID-A87BDD8B-45E9-4910-8BE4-7747C3AE4449" title="范围哈希分区表的分区仅是逻辑结构，因为它们的数据存储在其子分区的段中。">关于创建复合范围哈希分区表</a></p>
                     </li>
                     <li>
                        <p><a href="create-composite-partition-table.html#GUID-BE937517-A04E-45B9-A5C9-D7957B8D65F3" title="对于非复合范围分区表，范围列表复合分区表的范围分区被描述为相同。">关于创建复合范围列表分区表</a></p>
                     </li>
                     <li>
                        <p><a href="create-composite-partition-table.html#GUID-C1FA4836-206B-40E2-AEB9-05D4A85A6B61" title="范围范围复合分区表的范围分区类似于非复合范围分区表。">创建复合范围范围分区表</a></p>
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-BFBFC6FA-65FD-4FFA-A6F3-47FB4ACEE60C__TOLEARNMOREABOUTHOWTOUSEASUBPARTITI-AFD25FB4">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="create-composite-partition-table.html#GUID-03D5C9BE-54AE-4156-B462-90E41757AE93" title="您可以使用子分区模板在复合分区表中创建子分区。">指定用于描述复合分区表</a>的子分区模板，以了解如何使用子分区模板简化复合分区表的规范</p>
                  </div>
               </div><a id="VLDBG1095"></a><div class="props_rev_3"><a id="GUID-A87BDD8B-45E9-4910-8BE4-7747C3AE4449" name="GUID-A87BDD8B-45E9-4910-8BE4-7747C3AE4449"></a><h4 id="VLDBG-GUID-A87BDD8B-45E9-4910-8BE4-7747C3AE4449" class="sect4">关于创建复合范围哈希分区表</h4>
                  <div>
                     <p>范围哈希分区表的分区仅是逻辑结构，因为它们的数据存储在其子分区的段中。</p>
                     <p>与分区一样，这些子分区共享相同的逻辑属性。与范围分区表中的范围分区不同，子分区不能具有与拥有分区不同的物理属性，尽管它们不需要驻留在同一个表空间中。</p>
                     <p>讨论了以下主题：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="create-composite-partition-table.html#GUID-A596B6B1-62C7-4701-A872-BDC5632CEE43" title="本主题中的示例显示如何使用相同的表空间创建复合范围哈希分区表。">使用相同的表空间创建复合范围哈希分区表</a></p>
                        </li>
                        <li>
                           <p><a href="create-composite-partition-table.html#GUID-143C7E5F-11D4-4E61-9024-4BB40FF85A14" title="本主题中的示例显示如何使用不同的表空间创建复合范围哈希分区表。">使用不同的表空间创建复合范围哈希分区表</a></p>
                        </li>
                        <li>
                           <p><a href="create-composite-partition-table.html#GUID-C59B7CCE-B946-4545-B234-1C54CBAC323D" title="本主题中的示例显示如何跨多个表空间创建本地索引。">跨多个表空间创建本地索引</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-A87BDD8B-45E9-4910-8BE4-7747C3AE4449__TOLEARNHOWUSINGASUBPARTITIONTEMPLAT-AFD34188">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="create-composite-partition-table.html#GUID-03D5C9BE-54AE-4156-B462-90E41757AE93" title="您可以使用子分区模板在复合分区表中创建子分区。">指定用于描述复合分区表</a>的子分区模板，以了解如何使用子分区模板简化复合分区表的规范</p>
                     </div>
                  </div><a id="VLDBG14048"></a><div class="props_rev_3"><a id="GUID-A596B6B1-62C7-4701-A872-BDC5632CEE43" name="GUID-A596B6B1-62C7-4701-A872-BDC5632CEE43"></a><h5 id="VLDBG-GUID-A596B6B1-62C7-4701-A872-BDC5632CEE43" class="sect5">使用相同的表空间创建复合范围哈希分区表</h5>
                     <div>
                        <p>本主题中的示例显示如何使用相同的表空间创建复合范围哈希分区表。</p>
                        <div class="section">
                           <p><a href="create-composite-partition-table.html#GUID-A596B6B1-62C7-4701-A872-BDC5632CEE43__CHDGECFB">例4-23中</a>的语句创建了一个范围哈希分区表。创建四个范围分区，每个分区包含八个子分区。由于子分区未命名，因此会分配系统生成的名称，但<code class="codeph">STORE IN</code>子句将它们分配到4个指定的表空间（ <code class="codeph">ts1</code> ， <code class="codeph">ts2</code> ， <code class="codeph">ts3</code> ， <code class="codeph">ts4</code> ）。
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-A596B6B1-62C7-4701-A872-BDC5632CEE43__CHDGECFB">
                           <p class="titleinexample">示例4-23使用一个STORE IN子句创建复合范围 - 散列分区表</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE销售（prod_id NUMBER（6），cust_id NUMBER，time_id DATE，channel_id CHAR（1），promo_id NUMBER（6），quantity_sold NUMBER（3），amount_sold NUMBER（10,2））PARTITION BY RANGE（time_id）SUBPARTITION BY HASH（cust_id）SUBPARTITIONS 8 STORE IN（ts1，ts2，ts3，ts4）（PARTITION sales_q1_2006的价值不到（截止日期（'01-APR-2006'，'dd-MON-yyyy'）），PARTITION sales_q2_2006价值低于（ TO_DATE（'01 -JUL-2006'，'dd-MON-yyyy'）），PARTITION sales_q3_2006价值低于（截止日期（'01 -OCT-2006'，'dd-MON-yyyy'）），PARTITION sales_q4_2006 VALUES LESS （截止日期（'01 -JAN-2007'，'dd-MON-yyyy'）））;</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-143C7E5F-11D4-4E61-9024-4BB40FF85A14" name="GUID-143C7E5F-11D4-4E61-9024-4BB40FF85A14"></a><h5 id="VLDBG-GUID-143C7E5F-11D4-4E61-9024-4BB40FF85A14" class="sect5">使用不同的表空间创建复合范围哈希分区表</h5>
                     <div>
                        <p>本主题中的示例显示如何使用不同的表空间创建复合范围哈希分区表。</p>
                        <div class="section">
                           <p>为范围分区指定的属性适用于该分区的所有子分区。您可以为每个范围分区指定不同的属性，如果应该分布该分区的子分区的表空间列表与其他分区的子表空间列表不同，则可以在分区级别指定<code class="codeph">STORE IN</code>子句。以下示例说明了这一点。
                           </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE employees_range_hash（department_id NUMBER（4）NOT NULL，last_name VARCHAR2（25），job_id VARCHAR2（10））PARTITION BY RANGE（department_id）SUBPARTITION BY HASH（last_name）SUBPARTITIONS 8 STORE IN（ts1，ts3，ts5，ts7）（分区p1值小于（1000），分区p2值小于（2000）存储（ts2，ts4，ts6，ts8），分区p3值小于（MAXVALUE）（子站点p3_s1表格ts4，子站点p3_s2表格ts5））;</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-C59B7CCE-B946-4545-B234-1C54CBAC323D" name="GUID-C59B7CCE-B946-4545-B234-1C54CBAC323D"></a><h5 id="VLDBG-GUID-C59B7CCE-B946-4545-B234-1C54CBAC323D" class="sect5">跨多个表空间创建本地索引</h5>
                     <div>
                        <p>本主题中的示例显示如何跨多个表空间创建本地索引。</p>
                        <div class="section">
                           <p>以下语句是在表上创建本地索引的示例，其中索引段分布在表空间<code class="codeph">ts7</code> ， <code class="codeph">ts8</code>和<code class="codeph">ts9</code> 。
                           </p><pre class="oac_no_warn" dir="ltr">CREATE INDEX employee_ix ON employees_range_hash（department_id）LOCAL STORE IN（ts7，ts8，ts9）;</pre><p>此本地索引与基表进行了均分，因此它包含与基表一样多的分区。每个索引分区包含与对应的基表分区一样多的子分区。基表的给定子分区中的行的索引条目存储在索引的相应子分区中。</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="VLDBG1096"></a><div class="props_rev_3"><a id="GUID-BE937517-A04E-45B9-A5C9-D7957B8D65F3" name="GUID-BE937517-A04E-45B9-A5C9-D7957B8D65F3"></a><h4 id="VLDBG-GUID-BE937517-A04E-45B9-A5C9-D7957B8D65F3" class="sect4">关于创建复合范围列表分区表</h4>
                  <div>
                     <p>对于非复合范围分区表，范围列表复合分区表的范围分区被描述为相同。</p>
                     <p>此组织允许<code class="codeph">PARTITION</code>子句的可选子条款指定特定于分区段的物理和其他属性，包括表空间。如果未在分区级别覆盖，则分区将继承其基础表的属性。
                     </p>
                     <p><code class="codeph">SUBPARTITION</code>子句中的列表子分区描述描述为非复合列表分区，但可以指定的唯一物理属性是表空间（可选）。子分区从分区描述继承所有其他物理属性。
                     </p>
                     <p>讨论了以下主题：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="create-composite-partition-table.html#GUID-50581F67-E90A-49E4-A445-2332910D8608" title="本主题中的示例显示如何创建复合范围列表分区表。">创建复合范围列表分区表</a></p>
                        </li>
                        <li>
                           <p><a href="create-composite-partition-table.html#GUID-9028BE6A-9CC3-4625-83D6-7A6233477176" title="本主题中的示例显示如何在指定表空间时创建复合范围列表分区表。">创建复合范围列表分区表指定表空间</a></p>
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-BE937517-A04E-45B9-A5C9-D7957B8D65F3__GUID-F85C82F0-1A72-412C-A50F-82BE92771665">
                        <p class="notep1">也可以看看：</p>
                        <p><a href="create-composite-partition-table.html#GUID-03D5C9BE-54AE-4156-B462-90E41757AE93" title="您可以使用子分区模板在复合分区表中创建子分区。">指定用于描述复合分区表</a>的子分区模板，以了解如何使用子分区模板简化复合分区表的规范</p>
                     </div>
                  </div><a id="VLDBG14049"></a><div class="props_rev_3"><a id="GUID-50581F67-E90A-49E4-A445-2332910D8608" name="GUID-50581F67-E90A-49E4-A445-2332910D8608"></a><h5 id="VLDBG-GUID-50581F67-E90A-49E4-A445-2332910D8608" class="sect5">创建复合范围列表分区表</h5>
                     <div>
                        <p>本主题中的示例显示如何创建复合范围列表分区表。</p>
                        <div class="section">
                           <p><a href="create-composite-partition-table.html#GUID-50581F67-E90A-49E4-A445-2332910D8608__CHDFIFJG">示例4-24</a>说明了如何使用范围列表分区。该示例按季度和每季度跟踪产品的销售数据，按指定的状态对其进行分组。
                           </p>
                           <p>通过检查行的分区列的值是否落在特定分区范围内，将行映射到分区。然后，通过标识其描述符值列表包含与子分区列值匹配的值的子分区，将该行映射到该分区内的子分区。例如，以下列表描述了如何插入一些示例行。</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>（10,4532130，'23-Jan-1999'，8934.10，'WA'）映射到子分区<code class="codeph">q1_1999_northwest</code></p>
                              </li>
                              <li>
                                 <p>（20,5671621，'15-May-1999'，49021.21，'OR'）映射到子分区<code class="codeph">q2_1999_northwest</code></p>
                              </li>
                              <li>
                                 <p>（30,9977612，'07 -Sep-1999'，30987.90，'FL'）映射到子分区<code class="codeph">q3_1999_southeast</code></p>
                              </li>
                              <li>
                                 <p>（40,9977612，'29 -Nov-1999'，67891.45，'TX'）映射到子分区<code class="codeph">q4_1999_southcentral</code></p>
                              </li>
                              <li>
                                 <p>（40,4532130，'2000年1月5日'，897231.55，'TX'）没有映射到表中的任何分区并显示错误</p>
                              </li>
                              <li>
                                 <p>（50,5671621，'17 -Dec-1999'，76123.35，'CA'）不映射到表中的任何子分区并显示错误</p>
                              </li>
                           </ul>
                           <div class="infoboxnote" id="GUID-50581F67-E90A-49E4-A445-2332910D8608__VIEWANDRUNARELATEDEXAMPLEONORACLELI-2CE23B0B">
                              <p class="notep1">实时SQL：</p>
                              <p>在Oracle Live SQL上查看并运行Oracle Live SQL的相关示例<a href="https://livesql.oracle.com/apex/livesql/docs/vldbg/partitioning/composite-range-list-partitioning-example.html" target="_blank"><span class="italic">：创建复合范围列表分区表</span></a> 。
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-50581F67-E90A-49E4-A445-2332910D8608__CHDFIFJG">
                           <p class="titleinexample">示例4-24创建复合范围列表分区表</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE quarterly_regional_sales（deptno number，item_no varchar2（20），txn_date date，txn_amount number，state varchar2（2））TABLESPACE ts4 PARTITION BY RANGE（txn_date）SUBPARTITION BY LIST（state）（PARTITION q1_1999 VALUE不到（TO_DATE（'1） -APR-1999'，'DD-MON-YYYY'））（SUBPARTITION q1_1999_northwest VALUES（'OR'，'WA'），SUBPARTITION q1_1999_southwest VALUES（'AZ'，'UT'，'NM'），SUBPARTITION q1_1999_northeast VALUES（ 'NY'，'VM'，'NJ'），SUBPARTITION q1_1999_southeast VALUES（'FL'，'GA'），SUBPARTITION q1_1999_northcentral VALUES（'SD'，'WI'），SUBPARTITION q1_1999_southcentral VALUES（'OK'，'TX' ）），PARTITION q2_1999少于（1999年7月1日'，'DD-MON-YYYY'））（提交q2_1999_northwest VALUES（'OR'，'WA'），SUBPARTITION q2_1999_southwest VALUES（'AZ'， 'UT'，'NM'），SUBPARTITION q2_1999_northeast VALUES（'NY'，'VM'，'NJ'），SUBPARTITION q2_1999_southeast VALUES（'FL'，'GA'），SUBPARTITION q2_1999_northcentral VALUES（'SD'，'WI'） ），SUBPARTITION q2_1999_southcentral VALUES （'OK'，'TX'）），PARTITION q3_1999价值低于（7月1日（'1-OCT-1999'，'DD-MON-YYYY'））（提交q3_1999_northwest VALUES（'OR'，'WA'）， SUBPARTITION q3_1999_southwest VALUES（'AZ'，'UT'，'NM'），SUBPARTITION q3_1999_northeast VALUES（'NY'，'VM'，'NJ'），SUBPARTITION q3_1999_southeast VALUES（'FL'，'GA'），SUBPARTITION q3_1999_northcentral VALUES （'SD'，'WI'），SUBPARTITION q3_1999_southcentral VALUES（'OK'，'TX'）），PARTITION q4_1999价值低于（4月1日（'1-JAN-2000'，'DD-MON-YYYY'））（ SUBPARTITION q4_1999_northwest VALUES（'OR'，'WA'），SUBPARTITION q4_1999_southwest VALUES（'AZ'，'UT'，'NM'），SUBPARTITION q4_1999_northeast VALUES（'NY'，'VM'，'NJ'），SUBPARTITION q4_1999_southeast VALUES （'FL'，'GA'），SUBPARTITION q4_1999_northcentral VALUES（'SD'，'WI'），SUBPARTITION q4_1999_southcentral VALUES（'OK'，'TX'）））;</pre></div>
                        <!-- class="example" -->
                     </div>
                  </div>
                  <div class="props_rev_3"><a id="GUID-9028BE6A-9CC3-4625-83D6-7A6233477176" name="GUID-9028BE6A-9CC3-4625-83D6-7A6233477176"></a><h5 id="VLDBG-GUID-9028BE6A-9CC3-4625-83D6-7A6233477176" class="sect5">创建复合范围列表分区表指定表空间</h5>
                     <div>
                        <p>本主题中的示例显示如何在指定表空间时创建复合范围列表分区表。</p>
                        <div class="section">
                           <p>范围列表分区表的分区仅是逻辑结构，因为它们的数据存储在其子分区的段中。列表子分区与列表分区具有相同的特征。您可以指定默认子分区，就像为列表分区指定默认分区一样。</p>
                           <p>以下示例创建一个表，指定分区和子分区级别的表空间。每个分区中的子分区数不尽相同，并指定了默认子分区。此示例导致以下子分区描述：</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>所有子分区都从表空间级别默认值继承其表空间以外的物理属性。这是因为为分区或子分区指定的唯一物理属性是表空间。没有指定表级物理属性，因此表空间级别默认值在所有级别都是继承的。</p>
                              </li>
                              <li>
                                 <p>分区<code class="codeph">q1_1999</code>的前4 <code class="codeph">q1_1999</code>分区都包含在<code class="codeph">tbs_1</code> ，除了子分区<code class="codeph">q1_others</code> ，它存储在<code class="codeph">tbs_4</code>并包含所有不映射到任何其他分区的行。
                                 </p>
                              </li>
                              <li>
                                 <p>分区<code class="codeph">q2_1999</code>的6 <code class="codeph">q2_1999</code>分区都存储在<code class="codeph">tbs_2</code> 。
                                 </p>
                              </li>
                              <li>
                                 <p>分区<code class="codeph">q3_1999</code>的前2 <code class="codeph">q3_1999</code>分区都包含在<code class="codeph">tbs_3</code> ，除了子分区<code class="codeph">q3_others</code> ，它存储在<code class="codeph">tbs_4</code>并包含所有不映射到任何其他分区的行。
                                 </p>
                              </li>
                              <li>
                                 <p>分区<code class="codeph">q4_1999</code>没有子分区描述。这导致创建一个默认子分区并将其存储在<code class="codeph">tbs_4</code> 。子分区名称是以<code class="codeph">SYS_SUBP</code> <span class="italic"><code class="codeph">n</code></span>形式生成的系统。
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                        <div class="section"><pre class="oac_no_warn" dir="ltr">CREATE TABLE sample_regional_sales（deptno number，item_no varchar2（20），txn_date date，txn_amount number，state varchar2（2））PAR BY BY BY（（（（（（（（（（（ -1999'，'DD-MON-YYYY'））TABLESPACE tbs_1（SUBPARTITION q1_1999_northwest VALUES（'OR'，'WA'），SUBPARTITION q1_1999_southwest VALUES（'AZ'，'UT'，'NM'），SUBPARTITION q1_1999_northeast VALUES（ 'NY'，'VM'，'NJ'），SUBPARTITION q1_1999_southeast VALUES（'FL'，'GA'），SUBPARTITION q1_others VALUES（DEFAULT）TABLESPACE tbs_4），PARTITION q2_1999 VALUES少于（1999年7月1日） '，'DD-MON-YYYY'））TABLESPACE tbs_2（SUBPARTITION q2_1999_northwest VALUES（'OR'，'WA'），SUBPARTITION q2_1999_southwest VALUES（'AZ'，'UT'，'NM'），SUBPARTITION q2_1999_northeast VALUES（'NY '，''VM'，'NJ'），SUBPARTITION q2_1999_southeast VALUES（'FL'，'GA'），SUBPARTITION q2_1999_northcentral VALUES（'SD'，'WI'），SUBPARTITION q2_1999_southcentral VALUES（'OK'，'TX'）） ，分区q3_1999 V.不到（少于（'1-OCT-1999'，'DD-MON-YYYY'））TABLESPACE tbs_3（SUBPARTITION q3_1999_northwest VALUES（'OR'，'WA'），SUBPARTITION q3_1999_southwest VALUES（'AZ'，'UT'） ，'NM'），SUBPARTITION q3_others VALUES（DEFAULT）TABLESPACE tbs_4），PARTITION q4_1999价值低于（4月1日（'1-JAN-2000'，'DD-MON-YYYY'））TABLESPACE tbs_4）;</pre></div>
                        <!-- class="section" -->
                     </div>
                  </div>
               </div><a id="VLDBG14050"></a><a id="VLDBG1097"></a><div class="props_rev_3"><a id="GUID-C1FA4836-206B-40E2-AEB9-05D4A85A6B61" name="GUID-C1FA4836-206B-40E2-AEB9-05D4A85A6B61"></a><h4 id="VLDBG-GUID-C1FA4836-206B-40E2-AEB9-05D4A85A6B61" class="sect4">创建复合范围范围分区表</h4>
                  <div>
                     <p>范围范围复合分区表的范围分区类似于非复合范围分区表。</p>
                     <div class="section">
                        <p>此组织允许<code class="codeph">PARTITION</code>子句的可选子条款指定特定于分区段的物理和其他属性，包括表空间。如果未在分区级别覆盖，则分区将继承其基础表的属性。
                        </p>
                        <p><code class="codeph">SUBPARTITION</code>子句中的范围子分区描述类似于非复合范围分区，但可以指定的唯一物理属性是可选表空间。子分区从分区描述继承所有其他物理属性。
                        </p>
                        <p>以下示例说明了如何使用范围范围分区。该示例跟踪货件。与客户签订的服务水平协议规定，每个订单在下订单后的日历月内交付。确定了以下类型的订单：</p>
                        <p>通过检查行的分区列的值是否落在特定分区范围内，将行映射到分区。然后通过识别子分区列的值是否落在特定范围内，将该行映射到该分区内的子分区。例如，订货日期为2006年9月且交货日期为2006年10月28日的<code class="codeph">p06_oct_a</code>属于分区<code class="codeph">p06_oct_a</code> 。
                        </p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>E（EARLY）：在下单后的下个月中旬之前交付的订单。这些订单可能超出客户的预期。</p>
                           </li>
                           <li>
                              <p>A（已批准）：订单下达后的日历月内交付的订单（但不是早期订单）。</p>
                           </li>
                           <li>
                              <p>L（LATE）：仅在下订单后的第二个日历月开始交付的订单。</p>
                           </li>
                        </ul><pre class="oac_no_warn" dir="ltr">CREATE TABLE出货（order_id NUMBER NOT NULL，order_date DATE NOT NULL，delivery_date DATE NOT NULL，customer_id NUMBER NOT NULL，sales_amount NUMBER NOT NULL）PARTITION BY RANGE（order_date）SUBPARTITION BY RANGE（delivery_date）（PARTITION p_2006_jul VALUES少于（TO_DATE（ '01 -AUG-2006'，'dd-MON-yyyy'））（SUBPARTITION p06_jul_e价值低于（2006年6月15日'，'d--MON-yyyy'）），subPARTITION p06_jul_a价值低于（ TO_DATE（'01 -SEP-2006'，'dd-MON-yyyy'）），SUBPARTITION p06_jul_l VALUE少于（MAXVALUE）），PARTITION p_2006_aug值少于（TO_DATE（'01 -SEP-2006'，'dd-MON） -yyyy'））（SUBPARTITION p06_aug_e的价值不到（截止日期（'15 -SEP-2006'，'dd-MON-yyyy'）），SUBPARTITION p06_aug_a的价值不超过（'01 -OCT-2006'，'dd） -MON-yyyy'）），SUBPARTITION p06_aug_l值小于（MAXVALUE）），PARTITION p_2006_sep值不到（TO_DATE（'01 -OCT-2006'，'dd-MON-yyyy'））（SUBPARTITION p06_sep_e VALUE少于（ TO_DATE（'15 -OCT-2006'，'dd-MON-yyyy'）），SUBPAR TITION p06_sep_a的价值不到（截止日期（' -  NOV-2006'，'dd-MON-yyyy'）），SUBPARTITION p06_sep_l值不超过（MAXVALUE）），PARTITION p_2006_oct的价值不到（截止日期（'= _NOV-2006） '，'dd-MON-yyyy'））（SUBPARTITION p06_oct_e的价值不到（截止日期为（'15 -NOV-2006'，'dd-MON-yyyy'）），SUBPARTITION p06_oct_a的价值不到（7月12日） -2006'，'dd-MON-yyyy'）），SUBPARTITION p06_oct_l值小于（MAXVALUE）），PARTITION p_2006_nov值不到（TO_DATE（'01 -DEC-2006'，'dd-MON-yyyy'））（ SUBPARTITION p06_nov_e的价值不到（截止日期为（'15 -DEC-2006'，'dd-MON-yyyy'）），SUBPARTITION p06_nov_a的价值不到（截止日期为（'01 -JAN-2007'，'dd-MON-yyyy'） ），SUBPARTITION p06_nov_l值小于（MAXVALUE）），PARTITION p_2006_dec值小于（TO_DATE（'01 -JAN-2007'，'dd-MON-yyyy'））（SUBPARTITION p06_dec_e值小于（_D-15 -JAN） -2007'，'dd-MON-yyyy'）），SUBPARTITION p06_dec_a值不到（截止日期（'01-FEB-2007'，'dd-MON-yyyy'）），SUBPARTITION p06_dec_l VALUE少于TH AN（MAXVALUE）））;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <div class="infoboxnotealso" id="GUID-C1FA4836-206B-40E2-AEB9-05D4A85A6B61__GUID-5040BD31-1B3D-4180-826D-88DEA656B626">
                           <p class="notep1">也可以看看：</p>
                           <p><a href="create-composite-partition-table.html#GUID-03D5C9BE-54AE-4156-B462-90E41757AE93" title="您可以使用子分区模板在复合分区表中创建子分区。">指定用于描述复合分区表</a>的子分区模板，以了解如何使用子分区模板简化复合分区表的规范</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="VLDBG1106"></a><div class="props_rev_3"><a id="GUID-03D5C9BE-54AE-4156-B462-90E41757AE93" name="GUID-03D5C9BE-54AE-4156-B462-90E41757AE93"></a><h3 id="VLDBG-GUID-03D5C9BE-54AE-4156-B462-90E41757AE93" class="sect3">指定子分区模板以描述复合分区表</h3>
               <div>
                  <p>您可以使用子分区模板在复合分区表中创建子分区。</p>
                  <p>子分区模板通过不要求为表中的每个分区指定子分区描述符来简化子分区的规范。相反，您只在模板中描述一次子分区，然后将该子分区模板应用于表中的每个分区。对于interval- *复合分区表，子分区模板是定义间隔分区的子分区的唯一方法。</p>
                  <p>只要没有为分区指定子分区描述符，就会使用子分区模板。如果指定了子分区描述符，则使用它来代替该分区的子分区模板。如果未指定子分区模板，并且没有为分区提供子分区描述符，则会创建单个默认子分区。</p>
                  <p>讨论了以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="create-composite-partition-table.html#GUID-9292A7DD-1EA0-4838-B8F3-D3233FFCDABD" title="对于range-hash，interval-hash和list-hash分区表，子分区模板可以详细描述子分区，或者它只能指定哈希子分区的数量。">为* -Hash分区表指定子分区模板</a></p>
                     </li>
                     <li>
                        <p><a href="create-composite-partition-table.html#GUID-870510CA-5AF0-4E8F-8864-730819A0EB4A" title="对于-list分区表，子分区模板可以详细描述子分区。">为* -List分区表指定子分区模板</a></p>
                     </li>
                  </ul>
               </div><a id="VLDBG14057"></a><a id="VLDBG1107"></a><div class="props_rev_3"><a id="GUID-9292A7DD-1EA0-4838-B8F3-D3233FFCDABD" name="GUID-9292A7DD-1EA0-4838-B8F3-D3233FFCDABD"></a><h4 id="VLDBG-GUID-9292A7DD-1EA0-4838-B8F3-D3233FFCDABD" class="sect4">为* -Hash分区表指定子分区模板</h4>
                  <div>
                     <p>对于range-hash，interval-hash和list-hash分区表，子分区模板可以详细描述子分区，或者它只能指定哈希子分区的数量。</p>
                     <div class="section">
                        <p><a href="create-composite-partition-table.html#GUID-9292A7DD-1EA0-4838-B8F3-D3233FFCDABD__CHDCGBAB">示例4-25</a>使用子分区模板创建范围哈希分区表，并显示子分区名称和表空间。
                        </p>
                        <p>该示例生成一个具有以下描述的表。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>每个分区都有四个子分区，如子分区模板中所述。</p>
                           </li>
                           <li>
                              <p>每个子分区都指定了一个表空间。如果为子分区模板中的一个子分区指定了表空间，则必须为所有子分区指定一个表空间。</p>
                           </li>
                           <li>
                              <p>除非使用interval- * subpartitioning，否则子分区的名称是通过将分区名称与表单中的子分区名称连接而生成的：</p>
                              <p><span class="italic">分区名称</span> _ <span class="italic">子分区名称</span></p>
                              <p>对于interval- *子分区，子分区名称是以下列形式系统生成的：</p>
                              <p><code class="codeph">SYS_SUBP</code> <span class="italic"><code class="codeph">n</code></span></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-9292A7DD-1EA0-4838-B8F3-D3233FFCDABD__CHDCGBAB">
                        <p class="titleinexample">示例4-25使用子分区模板创建范围哈希分区表</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE employees_sub_template（department_id NUMBER（4）NOT NULL，last_name VARCHAR2（25），job_id VARCHAR2（10））PARTITION BY RANGE（department_id）SUBPARTITION by HASH（last_name）SUBPARTITION模板（SubPARTITION a TABLESPACE ts1，SUBPARTITION b TABLESPACE ts2，SUBPARTITION c TABLESPACE ts3，SUBPARTITION d TABLESPACE ts4）（分区p1值小于（1000），分区p2值小于（2000），分区p3值小于（MAXVALUE））; SQL&gt; SELECT TABLESPACE_NAME，PARTITION_NAME，SUBPARTITION_NAME 2 FROM DBA_TAB_SUBPARTITIONS WHERE TABLE_NAME ='EMPLOYEEES_SUB_TEMPLATE'3 ORDER BY TABLESPACE_NAME; TABLESPACE_NAME PARTITION_NAME SUBPARTITION_NAME --------------- --------------- ----------------- -  TS1 P1 P1_A TS1 P2 P2_A TS1 P3 P3_A TS2 P1 P1_B TS2 P2 P2_B TS2 P3 P3_B TS3 P1 P1_C TS3 P2 P2_C TS3 P3 P3_C TS4 P1 P1_D TS4 P2 P2_D TS4 P3 P3_D选择12行。</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="VLDBG14058"></a><a id="VLDBG1108"></a><div class="props_rev_3"><a id="GUID-870510CA-5AF0-4E8F-8864-730819A0EB4A" name="GUID-870510CA-5AF0-4E8F-8864-730819A0EB4A"></a><h4 id="VLDBG-GUID-870510CA-5AF0-4E8F-8864-730819A0EB4A" class="sect4">为* -List分区表指定子分区模板</h4>
                  <div>
                     <p>对于-list分区表，子分区模板可以详细描述子分区。</p>
                     <div class="section">
                        <p><a href="create-composite-partition-table.html#GUID-870510CA-5AF0-4E8F-8864-730819A0EB4A__CHDDADIE">示例4-26</a> ，对于范围列表分区表，说明了如何使用子分区模板来帮助您跨表空间条带化数据。在此示例中，将创建一个表，其中表子分区是垂直条带化的，这意味着每个分区的子分区<span class="italic">n</span>位于同一个表空间中。
                        </p>
                        <p>如果在分区级别指定了表空间（例如， <code class="codeph">tbs_1</code>用于分区<code class="codeph">q1_1999</code> ， <code class="codeph">tbs_2</code>用于分区<code class="codeph">q2_1999</code> ， <code class="codeph">tbs_3</code>用于分区<code class="codeph">q3_1999</code> ， <code class="codeph">tbs_4</code>用于分区<code class="codeph">q4_1999</code> ）而不是在子分区模板中，则表格将是水平条带化的。所有子分区都将位于拥有分区的表空间中。
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-870510CA-5AF0-4E8F-8864-730819A0EB4A__CHDDADIE">
                        <p class="titleinexample">示例4-26使用子分区模板创建范围列表分区表</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE stripe_regional_sales（deptno number，item_no varchar2（20），txn_date date，txn_amount number，state varchar2（2））PARTITION BY RANGE（txn_date）按列表排序（状态）SUBPARTITION模板（SUBPARTITION西北VALUES（'OR'，'WA） '）TABLESPACE tbs_1，SUBPARTITION西南VALUES（'AZ'，'UT'，'NM'）TABLESPACE tbs_2，SUBPARTITION东北值（'NY'，'VM'，'NJ'）TABLESPACE tbs_3，SUBPARTITION东南值（'FL' ，'GA'）TABLESPACE tbs_4，SUBPARTITION中西部VALUES（'SD'，'WI'）TABLESPACE tbs_5，SUBPARTITION南方值（'AL'，'AK'）TABLESPACE tbs_6，SUBPARTITION其他值（默认）TABLESPACE tbs_7）（PARTITION q1_1999价值低于（截止日期（'01-APR-1999'，'DD-MON-YYYY'）），分数q2_1999价值低于（截止日期（'01 -JUL-1999'，'DD-MON-YYYY'）），分数q3_1999价值低于（截止日期（'01 -OCT-1999'，'DD-MON-YYYY'）），分区q4_1999价值低于（4月1日（'1-JAN-2000'，'DD-MON-YYYY'） ））;</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>