<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="The UTL_REF package provides PL/SQL procedures to support reference-based operations. Unlike SQL, UTL_REF procedures enable you to write generic type methods without knowing the object table name.">
      <meta name="description" content="The UTL_REF package provides PL/SQL procedures to support reference-based operations. Unlike SQL, UTL_REF procedures enable you to write generic type methods without knowing the object table name.">
      <title>UTL_REF</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="PL/SQL Packages and Types Reference">
      <meta property="og:description" content="The UTL_REF package provides PL/SQL procedures to support reference-based operations. Unlike SQL, UTL_REF procedures enable you to write generic type methods without knowing the object table name.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="PL/SQL Packages and Types Reference">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-25T11:24:34-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96430-03">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="UTL_RECOMP.html" title="Previous" type="text/html">
      <link rel="next" href="UTL_RPADV.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference">
    <meta name="dcterms.isVersionOf" content="ARPLS">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="UTL_RECOMP.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="UTL_RPADV.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL/SQL Packages and Types Reference</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> UTL_REF </li>
            </ol>
            <a id="GUID-DC7D405F-4A1A-45C8-A282-C12C5B5CAEA3" name="GUID-DC7D405F-4A1A-45C8-A282-C12C5B5CAEA3"></a><a id="ARPLS385"></a><a id="ARPLS385"></a>
            
            <h2 id="ARPLS-GUID-DC7D405F-4A1A-45C8-A282-C12C5B5CAEA3" class="sect2"><span class="enumeration_chapter">265 </span> UTL_REF 
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>The <code class="codeph">UTL_REF</code> package provides PL/SQL procedures to support reference-based operations. Unlike SQL, <code class="codeph">UTL_REF</code> procedures enable you to write generic type methods without knowing the object table name.
               </p>
               <p>This chapter contains the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="UTL_REF.html#GUID-E2098412-B807-4B48-ACF7-7882375BFB69" title="UTL_REF procedures enable you to write generic type methods without knowing the object table name.">Overview</a></p>
                  </li>
                  <li>
                     <p><a href="UTL_REF.html#GUID-D9775FD8-AE3B-4DBC-ABF1-A97EE3058609" title="The procedural option is needed to use this package. This package must be created under SYS (CONNECT /AS SYSDBA). Operations provided by this package are performed under the current calling user, not under the package owner SYS.">Security Model</a></p>
                  </li>
                  <li>
                     <p><a href="UTL_REF.html#GUID-194AA3CE-ABA5-4E97-B066-B7197B2E60AC" title="An object type is a composite datatype defined by the user or supplied as a library type.">Types</a></p>
                  </li>
                  <li>
                     <p><a href="UTL_REF.html#GUID-DF3D4414-58DE-440F-8CC9-EE91BFD3CA3A" title="Exceptions can be returned during execution of UTL_REF functions for various reasons.">Exceptions</a></p>
                  </li>
                  <li>
                     <p><a href="UTL_REF.html#GUID-2D028C6A-CFC4-459F-A37A-5CF8D793C9B8" title="This table lists the UTL_REF subprograms and briefly describes them.">Summary of UTL_REF Subprograms</a></p>
                  </li>
               </ul>
            </div><a id="ARPLS71444"></a><a id="ARPLS71444"></a><div class="props_rev_3"><a id="GUID-E2098412-B807-4B48-ACF7-7882375BFB69" name="GUID-E2098412-B807-4B48-ACF7-7882375BFB69"></a><h3 id="ARPLS-GUID-E2098412-B807-4B48-ACF7-7882375BFB69" class="sect3"><span class="enumeration_section">265.1 </span>UTL_REF Overview
               </h3>
               <div>
                  <p><code class="codeph">UTL_REF</code> procedures enable you to write generic type methods without knowing the object table name.
                  </p>
                  <div class="section">
                     <p>Oracle supports user-defined composite type or object type. Any instance of an object type is called an object. An object type can be used as the type of a column or as the type of a table.</p>
                     <p>In an object table, each row of the table stores an object. You can uniquely identify an object in an object table with an object identifier. </p>
                     <p>A reference is a persistent pointer to an object, and each reference can contain an object identifier. The reference can be an attribute of an object type, or it can be stored in a column of a table. Given a reference, an object can be retrieved.</p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS71445"></a><a id="ARPLS71445"></a><div class="props_rev_3"><a id="GUID-D9775FD8-AE3B-4DBC-ABF1-A97EE3058609" name="GUID-D9775FD8-AE3B-4DBC-ABF1-A97EE3058609"></a><h3 id="ARPLS-GUID-D9775FD8-AE3B-4DBC-ABF1-A97EE3058609" class="sect3"><span class="enumeration_section">265.2 </span>UTL_REF Security Model
               </h3>
               <div>
                  <p>The procedural option is needed to use this package. This package must be created under <code class="codeph">SYS</code> (<code class="codeph">CONNECT /AS SYSDBA</code>). Operations provided by this package are performed under the current calling user, not under the package owner <code class="codeph">SYS</code>.
                  </p>
                  <div class="section">
                     <p>You can use the <code class="codeph">UTL_REF</code> package from stored PL/SQL procedures/packages on the server, as well as from client/side PL/SQL code. 
                     </p>
                     <p>When invoked from PL/SQL procedures/packages on the server, <code class="codeph">UTL_REF</code> verifies that the invoker has the appropriate privileges to access the object pointed to by the <code class="codeph">REF</code>.
                     </p>
                     <div class="infoboxnote" id="GUID-D9775FD8-AE3B-4DBC-ABF1-A97EE3058609__GUID-F4B9AAC2-E36D-4D3E-A888-AFA268CE55E8">
                        <p class="notep1">Note:</p>
                        <p>This is in contrast to PL/SQL packages/procedures on the server which operate with definer's privileges, where the package owner must have the appropriate privileges to perform the desired operations. </p>
                     </div>
                     <p>Thus, if <code class="codeph">UTL_REF</code> is defined under user <code class="codeph">SYS</code>, and user A invokes <code class="codeph">UTL_REF</code>.<code class="codeph">SELECT</code> to select an object from a reference, then user A (the invoker) requires the privileges to check. 
                     </p>
                     <p>When invoked from client-side PL/SQL code, <code class="codeph">UTL_REF</code> operates with the privileges of the client session under which the PL/SQL execution is being done.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS71446"></a><a id="ARPLS71446"></a><div class="props_rev_3"><a id="GUID-194AA3CE-ABA5-4E97-B066-B7197B2E60AC" name="GUID-194AA3CE-ABA5-4E97-B066-B7197B2E60AC"></a><h3 id="ARPLS-GUID-194AA3CE-ABA5-4E97-B066-B7197B2E60AC" class="sect3"><span class="enumeration_section">265.3 </span>UTL_REF Types
               </h3>
               <div>
                  <p>An object type is a composite datatype defined by the user or supplied as a library type.</p>
                  <div class="section">
                     <p>You can create the object type <code class="codeph">employee_type</code> using the following syntax:
                     </p><pre class="oac_no_warn" dir="ltr">CREATE TYPE employee_type AS OBJECT (
   name    VARCHAR2(20),
   id      NUMBER,

member function GET_ID
    (name VARCHAR2) 
   RETURN MEMBER);
</pre><p>The object type <code class="codeph">employee_type</code> is a user-defined type that contains two attributes, <code class="codeph">name</code> and <code class="codeph">id</code>, and a member function, <code class="codeph">GET_ID</code>().
                     </p>
                     <p>You can create an object table using the following SQL syntax:</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE employee_table OF employee_type;</pre></div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS71447"></a><a id="ARPLS71448"></a><a id="ARPLS71448"></a><a id="ARPLS71447"></a><div class="props_rev_3"><a id="GUID-DF3D4414-58DE-440F-8CC9-EE91BFD3CA3A" name="GUID-DF3D4414-58DE-440F-8CC9-EE91BFD3CA3A"></a><h3 id="ARPLS-GUID-DF3D4414-58DE-440F-8CC9-EE91BFD3CA3A" class="sect3"><span class="enumeration_section">265.4 </span>UTL_REF Exceptions
               </h3>
               <div>
                  <p>Exceptions can be returned during execution of <code class="codeph">UTL_REF</code> functions for various reasons. 
                  </p>
                  <div class="section">
                     <div class="p">For example, the following scenarios would result in exceptions:
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The object selected does not exist. This could be because either:</p>
                              <ol>
                                 <li>
                                    <p>The object has been deleted, or the given reference is dangling (invalid). </p>
                                 </li>
                                 <li>
                                    <p>The object table was dropped or does not exist.</p>
                                 </li>
                              </ol>
                           </li>
                           <li>
                              <p>The object cannot be modified or locked in a serializable transaction. The object was modified by another transaction after the serializable transaction started.</p>
                           </li>
                           <li>
                              <p>You do not have the privilege to select or modify the object. The caller of the <code class="codeph">UTL_REF</code> subprogram must have the proper privilege on the object that is being selected or modified.
                              </p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-DF3D4414-58DE-440F-8CC9-EE91BFD3CA3A__GUID-D22E7FE2-FFD7-446F-8C50-92741FBF2CB2">
                     <p class="titleintable">Table 265-1 <span class="italic"><span class="bold">UTL_REF Exceptions </span></span></p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="UTL_REF Exceptions " summary="This table describes Exceptions raised by UTL_REF subprograms." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="30%" id="d1524950e615">Exceptions</th>
                              <th align="left" valign="bottom" width="70%" id="d1524950e618">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d1524950e623" headers="d1524950e615 ">
                                 <p><code class="codeph">errnum == 942</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d1524950e623 d1524950e618 ">
                                 <p>Insufficient privileges.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d1524950e631" headers="d1524950e615 ">
                                 <p><code class="codeph">errnum == 1031</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d1524950e631 d1524950e618 ">
                                 <p>Insufficient privileges.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d1524950e639" headers="d1524950e615 ">
                                 <p><code class="codeph">errnum == 8177</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d1524950e639 d1524950e618 ">
                                 <p>Unable to serialize, if in a serializable transaction.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d1524950e647" headers="d1524950e615 ">
                                 <p><code class="codeph">errnum == 60</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d1524950e647 d1524950e618 ">
                                 <p>Deadlock detected.</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d1524950e655" headers="d1524950e615 ">
                                 <p><code class="codeph">errnum == 1403</code></p>
                              </td>
                              <td align="left" valign="top" width="70%" headers="d1524950e655 d1524950e618 ">
                                 <p>No data found (if the <code class="codeph">REF</code> is <code class="codeph">NULL</code>, and so on.).
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="section">
                     <p>The <code class="codeph">UTL_REF</code> package does not define any named exceptions. You may define exception handling blocks to catch specific exceptions and to handle them appropriately.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
            </div><a id="ARPLS71449"></a><a id="ARPLS71450"></a><a id="ARPLS71450"></a><a id="ARPLS71449"></a><div class="props_rev_3"><a id="GUID-2D028C6A-CFC4-459F-A37A-5CF8D793C9B8" name="GUID-2D028C6A-CFC4-459F-A37A-5CF8D793C9B8"></a><h3 id="ARPLS-GUID-2D028C6A-CFC4-459F-A37A-5CF8D793C9B8" class="sect3"><span class="enumeration_section">265.5 </span>Summary of UTL_REF Subprograms
               </h3>
               <div>
                  <p>This table lists the <code class="codeph">UTL_REF</code> subprograms and briefly describes them.
                  </p>
                  <div class="tblformal" id="GUID-2D028C6A-CFC4-459F-A37A-5CF8D793C9B8__GUID-00E05B0B-F60F-4A30-982E-BE74EF9A641C">
                     <p class="titleintable">Table 265-2 UTL_REF Package Subprograms</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="UTL_REF Package Subprograms" summary="This table lists the UTL_REF subprograms in alphabetical order and briefly describes them." width="100%" frame="hsides" border="1" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="41%" id="d1524950e776">Subprogram</th>
                              <th align="left" valign="bottom" width="59%" id="d1524950e779">Description</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d1524950e784" headers="d1524950e776 ">
                                 <p><a href="UTL_REF.html#GUID-13635F06-A558-459B-974C-9D13D18687BF" title="This procedure deletes an object given a reference.">DELETE_OBJECT Procedure </a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d1524950e784 d1524950e779 ">
                                 <p>Deletes an object given a reference</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d1524950e796" headers="d1524950e776 ">
                                 <p><a href="UTL_REF.html#GUID-0B0B48DB-D54B-4EFA-8738-6093D3E8926F" title="This procedure locks an object given a reference. In addition, this procedure lets the program select the locked object.">LOCK_OBJECT Procedure </a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d1524950e796 d1524950e779 ">
                                 <p>Locks an object given a reference</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d1524950e808" headers="d1524950e776 ">
                                 <p><a href="UTL_REF.html#GUID-F80D8761-ABD3-4353-B084-F991C30287D0" title="This procedure selects an object given its reference. The selected object is retrieved from the database and its value is put into the PL/SQL variable 'object'.">SELECT_OBJECT Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d1524950e808 d1524950e779 ">
                                 <p>Selects an object given a reference</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="41%" id="d1524950e820" headers="d1524950e776 ">
                                 <p><a href="UTL_REF.html#GUID-8F6A08C1-2C3F-475E-912B-D2C5D303CEA3" title="This procedure updates an object given a reference. The referenced object is updated with the value contained in the PL/SQL variable 'object'.">UPDATE_OBJECT Procedure</a></p>
                              </td>
                              <td align="left" valign="top" width="59%" headers="d1524950e820 d1524950e779 ">
                                 <p>Updates an object given a reference</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="ARPLS71451"></a><a id="ARPLS71452"></a><a id="ARPLS71452"></a><a id="ARPLS71451"></a><div class="props_rev_3"><a id="GUID-13635F06-A558-459B-974C-9D13D18687BF" name="GUID-13635F06-A558-459B-974C-9D13D18687BF"></a><h4 id="ARPLS-GUID-13635F06-A558-459B-974C-9D13D18687BF" class="sect4"><span class="enumeration_section">265.5.1 </span>DELETE_OBJECT Procedure 
                  </h4>
                  <div>
                     <p>This procedure deletes an object given a reference. </p>
                     <div class="section">
                        <p>The semantic of this subprogram is similar to the following SQL statement: </p><pre class="oac_no_warn" dir="ltr">DELETE FROM object_table  
WHERE REF(t) = reference; 
</pre><p>Unlike the preceding SQL statement, this subprogram does not require you to specify the object table name where the object resides.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-13635F06-A558-459B-974C-9D13D18687BF__GUID-50F968A5-00BB-4D14-A9CF-E922239EF9EE">Syntax </p><pre class="oac_no_warn" dir="ltr">UTL_REF.DELETE_OBJECT (
   reference IN REF "&lt;typename&gt;"); </pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-13635F06-A558-459B-974C-9D13D18687BF__GUID-3AFECD1E-926B-4502-BFA6-493EE2EAF7CB">Parameters</p>
                        <div class="tblformal" id="GUID-13635F06-A558-459B-974C-9D13D18687BF__GUID-CD7B532B-31E1-4BD4-BCDC-2DEF9D40EA52">
                           <p class="titleintable">Table 265-3 DELETE_OBJECT Procedure Parameters </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DELETE_OBJECT Procedure Parameters " summary="This table describes the Parameters of the UTL_REF.DELETE_OBJECT subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="28%" id="d1524950e948">Parameter</th>
                                    <th align="left" valign="bottom" width="72%" id="d1524950e951">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="28%" id="d1524950e956" headers="d1524950e948 ">
                                       <p><code class="codeph">reference</code></p>
                                    </td>
                                    <td align="left" valign="top" width="72%" headers="d1524950e956 d1524950e951 ">
                                       <p>Reference of the object to delete.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-13635F06-A558-459B-974C-9D13D18687BF__GUID-2CC3F192-BE31-448C-A157-E5BB56DF712E">Exceptions </p>
                        <p>May be raised. </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-13635F06-A558-459B-974C-9D13D18687BF__GUID-46556982-D47A-4319-9370-59E469D1F0E3">Examples</p>
                        <p>The following example illustrates usage of the <code class="codeph">UTL_REF</code> package to implement this scenario: if an employee of a company changes their address, their manager should be notified. 
                        </p>
                        <p>... declarations of <code class="codeph">Address_t</code> and others... 
                        </p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE TYPE Person_t ( 
   name    VARCHAR2(64), 
   gender  CHAR(1), 
   address Address_t, 
   MEMBER PROCEDURE setAddress(addr IN Address_t) 
); 

CREATE OR REPLACE TYPE BODY Person_t ( 
   MEMBER PROCEDURE setAddress(addr IN Address_t) IS 
   BEGIN 
      address := addr; 
   END; 
); 

CREATE OR REPLACE TYPE Employee_t (  
</pre><p>Under <code class="codeph">Person_t</code>: Simulate implementation of inheritance using a <code class="codeph">REF</code> to <code class="codeph">Person_t</code> and delegation of <code class="codeph">setAddress</code> to it. 
                        </p><pre class="oac_no_warn" dir="ltr">   thePerson  REF Person_t, 
   empno      NUMBER(5), 
   deptREF    Department_t, 
   mgrREF     Employee_t, 
   reminders  StringArray_t, 
   MEMBER PROCEDURE setAddress(addr IN Address_t), 
   MEMBER procedure addReminder(reminder VARCHAR2); 
); 

CREATE TYPE BODY Employee_t ( 
   MEMBER PROCEDURE setAddress(addr IN Address_t) IS 
      myMgr Employee_t; 
      meAsPerson Person_t; 
   BEGIN 
</pre><p>Update the address by delegating the responsibility to <code class="codeph">thePerson</code>. Lock the Person object from the reference, and also select it: 
                        </p><pre class="oac_no_warn" dir="ltr">      UTL_REF.LOCK_OBJECT(thePerson, meAsPerson); 
      meAsPerson.setAddress(addr);    
</pre><p>Delegate to <code class="codeph">thePerson</code>:
                        </p><pre class="oac_no_warn" dir="ltr">        UTL_REF.UPDATE_OBJECT(thePerson, meAsPerson); 
        if mgr is NOT NULL THEN 
</pre><p>Give the manager a reminder: </p><pre class="oac_no_warn" dir="ltr">         UTL_REF.LOCK_OBJECT(mgr); 
         UTL_REF.SELECT_OBJECT(mgr, myMgr); 
         myMgr.addReminder 
         ('Update address in the employee directory for' || 
         thePerson.name || ', new address: ' || addr.asString); 
         UTL_REF.UPDATE_OBJECT(mgr, myMgr); 
      END IF; 
   EXCEPTION 
      WHEN OTHERS THEN 
      errnum := SQLCODE; 
      errmsg := SUBSTR(SQLERRM, 1, 200);</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS71453"></a><a id="ARPLS71454"></a><a id="ARPLS71454"></a><a id="ARPLS71453"></a><div class="props_rev_3"><a id="GUID-0B0B48DB-D54B-4EFA-8738-6093D3E8926F" name="GUID-0B0B48DB-D54B-4EFA-8738-6093D3E8926F"></a><h4 id="ARPLS-GUID-0B0B48DB-D54B-4EFA-8738-6093D3E8926F" class="sect4"><span class="enumeration_section">265.5.2 </span>LOCK_OBJECT Procedure
                  </h4>
                  <div>
                     <p>This procedure locks an object given a reference. In addition, this procedure lets the program select the locked object.</p>
                     <div class="section">
                        <p> The semantic of this subprogram is similar to the following SQL statement: </p><pre class="oac_no_warn" dir="ltr">SELECT VALUE(t) 
  INTO object 
  FROM object_table t 
  WHERE REF(t) = reference 
  FOR UPDATE; 
</pre><p>Unlike the preceding SQL statement, this subprogram does not require you to specify the object table name where the object resides. It is not necessary to lock an object before updating/deleting it. </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0B0B48DB-D54B-4EFA-8738-6093D3E8926F__GUID-0283F9D6-33E5-4C51-9BC0-DB5C9F6C64E9">Syntax </p><pre class="oac_no_warn" dir="ltr">UTL_REF.LOCK_OBJECT (
   reference IN REF "&lt;typename&gt;"); 

UTL_REF.LOCK_OBJECT (
   reference IN REF "&lt;typename&gt;", 
   object    IN OUT "&lt;typename&gt;"); </pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0B0B48DB-D54B-4EFA-8738-6093D3E8926F__GUID-6BFEA2B6-0BB6-4527-849B-CFAE612608B8">Parameters</p>
                        <div class="tblformal" id="GUID-0B0B48DB-D54B-4EFA-8738-6093D3E8926F__GUID-06DDFE2C-F45E-4352-87CB-0E76EA229376">
                           <p class="titleintable">Table 265-4 LOCK_OBJECT Procedure Parameters </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="LOCK_OBJECT Procedure Parameters " summary="This table describes the Parameters of the UTL_REF.LOCK_OBJECT subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="24%" id="d1524950e1136">Parameter</th>
                                    <th align="left" valign="bottom" width="76%" id="d1524950e1139">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d1524950e1144" headers="d1524950e1136 ">
                                       <p><code class="codeph">reference</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d1524950e1144 d1524950e1139 ">
                                       <p>Reference of the object to lock.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="24%" id="d1524950e1152" headers="d1524950e1136 ">
                                       <p><code class="codeph">object</code></p>
                                    </td>
                                    <td align="left" valign="top" width="76%" headers="d1524950e1152 d1524950e1139 ">
                                       <p>The PL/SQL variable that stores the locked object. This variable should be of the same object type as the locked object.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-0B0B48DB-D54B-4EFA-8738-6093D3E8926F__GUID-04DE8044-B385-41A6-8D64-477E42AB9AD3">Exceptions </p>
                        <p>May be raised. </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS71455"></a><a id="ARPLS71456"></a><a id="ARPLS71456"></a><a id="ARPLS71455"></a><div class="props_rev_3"><a id="GUID-F80D8761-ABD3-4353-B084-F991C30287D0" name="GUID-F80D8761-ABD3-4353-B084-F991C30287D0"></a><h4 id="ARPLS-GUID-F80D8761-ABD3-4353-B084-F991C30287D0" class="sect4"><span class="enumeration_section">265.5.3 </span>SELECT_OBJECT Procedure
                  </h4>
                  <div>
                     <p>This procedure selects an object given its reference. The selected object is retrieved from the database and its value is put into the PL/SQL variable 'object'.</p>
                     <div class="section">
                        <p>The semantic of this subprogram is similar to the following SQL statement: </p><pre class="oac_no_warn" dir="ltr">SELECT VALUE(t) 
INTO object 
FROM object_table t 
WHERE REF(t) = reference; 
</pre><p>Unlike the preceding SQL statement, this subprogram does not require you to specify the object table name where the object resides. </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F80D8761-ABD3-4353-B084-F991C30287D0__GUID-1DA2ABB1-7CC2-4705-9F88-B24914A22859">Syntax</p><pre class="oac_no_warn" dir="ltr">UTL_REF.SELECT_OBJECT (
   reference IN REF "&lt;typename&gt;", 
   object    IN OUT "&lt;typename&gt;"); </pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F80D8761-ABD3-4353-B084-F991C30287D0__GUID-4213F1B8-74C3-4E3C-979A-D9EF8D46911E">Parameters</p>
                        <div class="tblformal" id="GUID-F80D8761-ABD3-4353-B084-F991C30287D0__GUID-B57C785A-6D43-45B6-91DD-1C15FA786F03">
                           <p class="titleintable">Table 265-5 SELECT_OBJECT Procedure Parameters </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SELECT_OBJECT Procedure Parameters " summary="This table describes the Parameters of the UTL_REF.SELECT_OBJECT subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="26%" id="d1524950e1281">Parameter</th>
                                    <th align="left" valign="bottom" width="74%" id="d1524950e1284">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d1524950e1289" headers="d1524950e1281 ">
                                       <p><code class="codeph">reference</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d1524950e1289 d1524950e1284 ">
                                       <p>Reference to the object to select or retrieve.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d1524950e1297" headers="d1524950e1281 ">
                                       <p><code class="codeph">object</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d1524950e1297 d1524950e1284 ">
                                       <p>The PL/SQL variable that stores the selected object; this variable should be of the same object type as the referenced object.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-F80D8761-ABD3-4353-B084-F991C30287D0__GUID-1E6901A0-A4DA-4E24-B22D-32663B6EBE25">Exceptions </p>
                        <p>May be raised. </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS71457"></a><a id="ARPLS71458"></a><a id="ARPLS71458"></a><a id="ARPLS71457"></a><div class="props_rev_3"><a id="GUID-8F6A08C1-2C3F-475E-912B-D2C5D303CEA3" name="GUID-8F6A08C1-2C3F-475E-912B-D2C5D303CEA3"></a><h4 id="ARPLS-GUID-8F6A08C1-2C3F-475E-912B-D2C5D303CEA3" class="sect4"><span class="enumeration_section">265.5.4 </span>UPDATE_OBJECT Procedure
                  </h4>
                  <div>
                     <p>This procedure updates an object given a reference. The referenced object is updated with the value contained in the PL/SQL variable 'object'.</p>
                     <div class="section">
                        <p>The semantic of this subprogram is similar to the following SQL statement: </p><pre class="oac_no_warn" dir="ltr">UPDATE object_table t 
SET VALUE(t) = object 
WHERE REF(t) = reference; 
</pre><p>Unlike the preceding SQL statement, this subprogram does not require you to specify the object table name where the object resides. </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8F6A08C1-2C3F-475E-912B-D2C5D303CEA3__GUID-66E98BFA-3E49-4D69-9069-B8EA4ACCA981">Syntax </p><pre class="oac_no_warn" dir="ltr">UTL_REF.UPDATE_OBJECT (
   reference IN REF "&lt;typename&gt;", 
   object    IN     "&lt;typename&gt;"); </pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8F6A08C1-2C3F-475E-912B-D2C5D303CEA3__GUID-54C78AB9-7970-405E-9D10-EC915B5F4989">Parameters</p>
                        <div class="tblformal" id="GUID-8F6A08C1-2C3F-475E-912B-D2C5D303CEA3__GUID-33DE4F04-7272-4A7E-9C0D-CEF208E9CB56">
                           <p class="titleintable">Table 265-6 UPDATE_OBJECT Procedure Parameters </p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="UPDATE_OBJECT Procedure Parameters " summary="This table describes the Parameters of the UTL_REF.UPDATE_OBJECT subprogram." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="26%" id="d1524950e1426">Parameter</th>
                                    <th align="left" valign="bottom" width="74%" id="d1524950e1429">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d1524950e1434" headers="d1524950e1426 ">
                                       <p><code class="codeph">reference</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d1524950e1434 d1524950e1429 ">
                                       <p>Reference of the object to update.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="26%" id="d1524950e1442" headers="d1524950e1426 ">
                                       <p><code class="codeph">object</code></p>
                                    </td>
                                    <td align="left" valign="top" width="74%" headers="d1524950e1442 d1524950e1429 ">
                                       <p>The PL/SQL variable that contains the new value of the object. This variable should be of the same object type as the object to update.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8F6A08C1-2C3F-475E-912B-D2C5D303CEA3__GUID-698CECA3-E922-4264-892F-FF13F920E0CC">Exceptions </p>
                        <p>May be raised. </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>