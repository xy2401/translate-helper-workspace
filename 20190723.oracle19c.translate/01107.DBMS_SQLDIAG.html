<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <meta name="abstract" content="The DBMS_SQLDIAG package provides an interface to the SQL Diagnosability functionality."></meta>
      <meta name="description" content="The DBMS_SQLDIAG package provides an interface to the SQL Diagnosability functionality."></meta>
      <title>DBMS_SQLDIAG</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="PL/SQL Packages and Types Reference"></meta>
      <meta property="og:description" content="The DBMS_SQLDIAG package provides an interface to the SQL Diagnosability functionality."></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="PL/SQL Packages and Types Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-pl-sql-packages-and-types-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-03-25T11:24:34-07:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96430-03"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="DBMS_SQL_TRANSLATOR.html" title="Previous" type="text/html"></link>
      <link rel="next" href="DBMS_SQLPA.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database PL/SQL Packages and Types Reference"></meta>
    <meta name="dcterms.isVersionOf" content="ARPLS"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="DBMS_SQL_TRANSLATOR.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="DBMS_SQLPA.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">PL / SQL包和类型参考</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">DBMS_SQLDIAG</li>
            </ol>
            <a id="GUID-37E72B14-17BB-47E1-9EA4-1EA1DE823867" name="GUID-37E72B14-17BB-47E1-9EA4-1EA1DE823867"></a><a id="ARPLS203"></a><a id="ARPLS203"></a>
            
            <h2 id="ARPLS-GUID-37E72B14-17BB-47E1-9EA4-1EA1DE823867" class="sect2"><span class="enumeration_chapter">159</span> DBMS_SQLDIAG</h2>
         </header>
         <div class="ind">
            <div>
               <p>DBMS_SQLDIAG包提供SQL Diagnosability功能的接口。</p>
               <p>本章包含以下主题：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="DBMS_SQLDIAG.html#GUID-49A6C7D7-A9C3-41C5-840A-1710FD1C2A33" title="在极少数情况下，SQL语句因严重错误而失败，您可以运行SQL Repair Advisor以尝试使用DBMS_SQLDIAG程序包子程序修复失败的语句。">DBMS_SQLDIAG概述</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_SQLDIAG.html#GUID-0F29CD05-6BF3-4EEB-90F5-E2465865C255" title="您必须具有ADVISOR角色才能执行DBMS_SQLDIAG程序包。">DBMS_SQLDIAG安全模型</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_SQLDIAG.html#GUID-CEACAAE2-F425-496C-9FD3-40B208035060" title="DBMS_SQLDIAG定义在指定参数值时要使用的常量。">DBMS_SQLDIAG常量</a></p>
                  </li>
                  <li>
                     <p><a href="DBMS_SQLDIAG.html#GUID-6DA6FC5E-A3C1-4696-9910-7518372A87F7" title="此表列出了DBMS_SQLDIAG子程序并简要描述了它们。">DBMS_SQLDIAG子程序摘要</a></p>
                  </li>
               </ul>
               <div class="infoboxnotealso" id="GUID-37E72B14-17BB-47E1-9EA4-1EA1DE823867__GUID-4C717D13-5AE5-46EE-A997-70BE355AB429">
                  <p class="notep1">也可以看看：</p>
                  <p>有关<a href="../admin/creating-and-configuring-an-oracle-database.html#ADMIN00202" target="_blank">“管理诊断数据”的</a>详细信息，请参见<a href="../admin/creating-and-configuring-an-oracle-database.html#ADMIN00202" target="_blank">“</a> <span class="italic">Oracle数据库管理员指南</span> <a href="../admin/creating-and-configuring-an-oracle-database.html#ADMIN00202" target="_blank">”</a></p>
               </div>
            </div><a id="ARPLS68286"></a><a id="ARPLS68287"></a><a id="ARPLS68288"></a><a id="ARPLS68289"></a><a id="ARPLS68287"></a><a id="ARPLS68288"></a><a id="ARPLS68289"></a><a id="ARPLS68286"></a><div class="props_rev_3"><a id="GUID-49A6C7D7-A9C3-41C5-840A-1710FD1C2A33" name="GUID-49A6C7D7-A9C3-41C5-840A-1710FD1C2A33"></a><h3 id="ARPLS-GUID-49A6C7D7-A9C3-41C5-840A-1710FD1C2A33" class="sect3"><span class="enumeration_section">159.1</span> DBMS_SQLDIAG概述</h3>
               <div>
                  <p>在极少数情况下，SQL语句因严重错误而失败，您可以运行SQL Repair Advisor以尝试使用<code class="codeph">DBMS_SQLDIAG</code>程序包子程序修复失败的语句。
                  </p>
                  <div class="section">
                     <p>SQL Repair Advisor分析该语句，并且在许多情况下建议使用修补程序来修复该语句。如果实施建议，则应用的SQL修补程序会通过使查询优化器为将来的执行选择备用执行计划来绕过失败。</p>
                     <div class="infoboxnotealso" id="GUID-49A6C7D7-A9C3-41C5-840A-1710FD1C2A33__GUID-4C717D13-5AE5-46EE-A997-70BE355AB429">
                        <p class="notep1">也可以看看：</p>
                        <p>有关如何使用<code class="codeph">DBMS_SQLDIAG</code>程序包子程序运行SQL Repair Advisor的详细信息，请<code class="codeph">DBMS_SQLDIAG</code> <a href="../admin/diagnosing-and-resolving-problems.html#ADMIN-GUID-D9F481EA-C9C0-4FFF-BC7E-47DD522E0C5F" target="_blank"><span class="italic">“Oracle数据库管理员指南”</span></a> 。
                        </p>
                     </div>
                  </div>
                  <!-- class="section" -->
               </div>
            </div>
            <div class="sect2"><a id="GUID-0F29CD05-6BF3-4EEB-90F5-E2465865C255" name="GUID-0F29CD05-6BF3-4EEB-90F5-E2465865C255"></a><h3 id="ARPLS-GUID-0F29CD05-6BF3-4EEB-90F5-E2465865C255" class="sect3"><span class="enumeration_section">159.2</span> DBMS_SQLDIAG安全模型</h3>
               <div>
                  <p>您必须具有<code class="codeph">ADVISOR</code>角色才能执行<code class="codeph">DBMS_SQLDIAG</code>程序包。
                  </p>
               </div>
            </div><a id="ARPLS68290"></a><a id="ARPLS68291"></a><a id="ARPLS68292"></a><a id="ARPLS68293"></a><a id="ARPLS68294"></a><a id="ARPLS68295"></a><a id="ARPLS68296"></a><a id="ARPLS68297"></a><a id="ARPLS68298"></a><a id="ARPLS68291"></a><a id="ARPLS68292"></a><a id="ARPLS68293"></a><a id="ARPLS68294"></a><a id="ARPLS68295"></a><a id="ARPLS68296"></a><a id="ARPLS68297"></a><a id="ARPLS68298"></a><a id="ARPLS68290"></a><div class="props_rev_3"><a id="GUID-CEACAAE2-F425-496C-9FD3-40B208035060" name="GUID-CEACAAE2-F425-496C-9FD3-40B208035060"></a><h3 id="ARPLS-GUID-CEACAAE2-F425-496C-9FD3-40B208035060" class="sect3"><span class="enumeration_section">159.3</span> DBMS_SQLDIAG常量</h3>
               <div>
                  <p><code class="codeph">DBMS_SQLDIAG</code>定义在指定参数值时要使用的常量。
                  </p>
                  <div class="section">
                     <p>这些常量如下表所示：</p>
                     <ul style="list-style-type:disc">
                        <li>
                           <p><a href="DBMS_SQLDIAG.html#GUID-CEACAAE2-F425-496C-9FD3-40B208035060__CEGHDDFE" title="此表描述了DBMS_SQLDIAG子程序使用的常量（Sqldiag Advisor Names）。">表159-1</a>描述了顾问程序框架所见的SQL修复顾问程序的名称</p>
                        </li>
                        <li>
                           <p><a href="DBMS_SQLDIAG.html#GUID-CEACAAE2-F425-496C-9FD3-40B208035060__CEGEEIAJ" title="此表描述DBMS_SQLDIAG子程序使用的常量（SQLDIAG Advisor任务范围参数值）。">表159-2</a>介绍了SQLDIAG顾问程序任务范围参数值</p>
                        </li>
                        <li>
                           <p><a href="DBMS_SQLDIAG.html#GUID-CEACAAE2-F425-496C-9FD3-40B208035060__CEGBBJBJ" title="此表描述DBMS_SQLDIAG子程序使用的常量（SQLDIAG Advisor time_limit常量）。">表</a> <code class="codeph">time_limit</code>描述了SQLDIAG顾问程序<code class="codeph">time_limit</code>常量</p>
                        </li>
                        <li>
                           <p><a href="DBMS_SQLDIAG.html#GUID-CEACAAE2-F425-496C-9FD3-40B208035060__CEGIIAJH" title="此表描述DBMS_SQLDIAG子程序使用的常量（报告类型（可能的值）常量）。">表159-4</a>介绍了报告的可能格式</p>
                        </li>
                        <li>
                           <p><a href="DBMS_SQLDIAG.html#GUID-CEACAAE2-F425-496C-9FD3-40B208035060__CEGHJADG" title="此表描述DBMS_SQLDIAG子程序使用的常量（报告级别（可能的值）常量）。">表159-5</a>描述了报告中可能的详细级别</p>
                        </li>
                        <li>
                           <p><a href="DBMS_SQLDIAG.html#GUID-CEACAAE2-F425-496C-9FD3-40B208035060__CEGDCJGI" title="此表描述DBMS_SQLDIAG子程序使用的常量（报表部分（可能的值）常量）。">表159-6</a>描述了可能的报告部分（逗号分隔）</p>
                        </li>
                        <li>
                           <p><a href="DBMS_SQLDIAG.html#GUID-CEACAAE2-F425-496C-9FD3-40B208035060__CEGJCDDJ" title="此表描述了DBMS_SQLDIAG子程序使用的常量（问题类型常量）。">表159-7</a>描述了<a href="DBMS_SQLDIAG.html#GUID-9056BDEA-0DE6-4C11-9872-F17F60542C7F" title="此函数创建诊断任务以诊断单个SQL语句。它返回SQL诊断任务的唯一名称">CREATE_DIAGNOSIS_TASK函数</a>的<code class="codeph">problem_type</code>参数的可能值</p>
                        </li>
                        <li>
                           <p><a href="DBMS_SQLDIAG.html#GUID-CEACAAE2-F425-496C-9FD3-40B208035060__CEGBICBE" title="此表描述DBMS_SQLDIAG子程序使用的常量（查找过滤器常量）。">表159-8</a>描述了<code class="codeph">_sql_findings_mode</code>参数的可能值</p>
                        </li>
                     </ul>
                  </div>
                  <!-- class="section" -->
                  <div class="tblformal" id="GUID-CEACAAE2-F425-496C-9FD3-40B208035060__CEGHDDFE">
                     <p class="titleintable">表159-1 DBMS_SQLDIAG常量 -  SQLDIAG Advisor名称</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_SQLDIAG常量 -  SQLDIAG顾问名称" width="100%" border="1" summary="This table describes Constants (Sqldiag Advisor Names) used by DBMS_SQLDIAG subprograms." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="31%" id="d896739e538">不变</th>
                              <th align="left" valign="bottom" width="21%" id="d896739e541">类型</th>
                              <th align="left" valign="bottom" width="24%" id="d896739e544">值</th>
                              <th align="left" valign="bottom" width="24%" id="d896739e547">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="31%" id="d896739e552" headers="d896739e538 ">
                                 <p><code class="codeph">ADV_SQL_DIAG_NAME</code></p>
                              </td>
                              <td align="left" valign="top" width="21%" headers="d896739e552 d896739e541 ">
                                 <p><code class="codeph">VARCHAR2（18）</code></p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d896739e552 d896739e544 ">
                                 <p>SQL修复顾问</p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d896739e552 d896739e547 ">
                                 <p>顾问程序框架看到的SQL修复顾问的名称</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="tblformal" id="GUID-CEACAAE2-F425-496C-9FD3-40B208035060__CEGEEIAJ">
                     <p class="titleintable">表159-2 DBMS_SQLDIAG常量 -  SQLDIAG Advisor任务范围参数值</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_SQLDIAG常量 -  SQLDIAG Advisor任务范围参数值" width="100%" border="1" summary="This table describes Constants (SQLDIAG Advisor Task Scope Parameter Values) used by DBMS_SQLDIAG subprograms." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="30%" id="d896739e578">不变</th>
                              <th align="left" valign="bottom" width="22%" id="d896739e581">类型</th>
                              <th align="left" valign="bottom" width="24%" id="d896739e584">值</th>
                              <th align="left" valign="bottom" width="25%" id="d896739e587">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d896739e592" headers="d896739e578 ">
                                 <p><code class="codeph">SCOPE_COMPREHENSIVE</code></p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d896739e592 d896739e581 ">
                                 <p><code class="codeph">VARCHAR2（13）</code></p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d896739e592 d896739e584 ">
                                 <p><code class="codeph">全面</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d896739e592 d896739e587 ">
                                 <p>详细分析可能需要更多时间执行的问题</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="30%" id="d896739e608" headers="d896739e578 ">
                                 <p><code class="codeph">SCOPE_LIMITED</code></p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d896739e608 d896739e581 ">
                                 <p><code class="codeph">VARCHAR2（7）</code></p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d896739e608 d896739e584 ">
                                 <p><code class="codeph">有限</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d896739e608 d896739e587 ">
                                 <p>简要分析问题</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="tblformal" id="GUID-CEACAAE2-F425-496C-9FD3-40B208035060__CEGBBJBJ">
                     <p class="titleintable">表159-3 DBMS_SQLDIAG常量 -  SQLDIAG Advisor time_limit常量</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_SQLDIAG常量 -  SQLDIAG Advisor time_limit常量" width="100%" border="1" summary="This table describes Constants (SQLDIAG Advisor time_limit Constants) used by DBMS_SQLDIAG subprograms." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d896739e635">不变</th>
                              <th align="left" valign="bottom" width="23%" id="d896739e638">类型</th>
                              <th align="left" valign="bottom" width="24%" id="d896739e641">值</th>
                              <th align="left" valign="bottom" width="24%" id="d896739e644">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d896739e649" headers="d896739e635 ">
                                 <p><code class="codeph">TIME_LIMIT_DEFAULT</code></p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d896739e649 d896739e638 ">
                                 <p><code class="codeph">数</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d896739e649 d896739e641 ">
                                 <p><code class="codeph">1800</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d896739e649 d896739e644 ">
                                 <p>分析问题的默认时间限制</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="tblformal" id="GUID-CEACAAE2-F425-496C-9FD3-40B208035060__CEGIIAJH">
                     <p class="titleintable">表159-4 DBMS_SQLDIAG常量 - 报告类型（可能的值）常量</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_SQLDIAG常量 - 报告类型（可能的值）常量" width="100%" border="1" summary="This table describes Constants (Report Type (possible values) Constants) used by DBMS_SQLDIAG subprograms." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d896739e678">不变</th>
                              <th align="left" valign="bottom" width="23%" id="d896739e681">类型</th>
                              <th align="left" valign="bottom" width="24%" id="d896739e684">值</th>
                              <th align="left" valign="bottom" width="24%" id="d896739e687">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d896739e692" headers="d896739e678 ">
                                 <p><code class="codeph">TYPE_HTML</code></p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d896739e692 d896739e681 ">
                                 <p><code class="codeph">VARCHAR2（4）</code></p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d896739e692 d896739e684 ">
                                 <p><code class="codeph">HTML</code></p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d896739e692 d896739e687 ">
                                 <p>以HTML格式报告<a href="DBMS_SQLDIAG.html#GUID-605CE778-744A-437F-97D9-EA942939C697" title="此功能报告诊断任务。它返回包含所需报告的CLOB。">REPORT_DIAGNOSIS_TASK函数</a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d896739e718" headers="d896739e678 ">
                                 <p><code class="codeph">TYPE_TEXT</code></p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d896739e718 d896739e681 ">
                                 <p><code class="codeph">VARCHAR2（4）</code></p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d896739e718 d896739e684 ">
                                 <p><code class="codeph">文本</code></p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d896739e718 d896739e687 ">
                                 <p>以文本形式报告<a href="DBMS_SQLDIAG.html#GUID-605CE778-744A-437F-97D9-EA942939C697" title="此功能报告诊断任务。它返回包含所需报告的CLOB。">REPORT_DIAGNOSIS_TASK函数</a></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d896739e744" headers="d896739e678 ">
                                 <p><code class="codeph">TYPE_XML</code></p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d896739e744 d896739e681 ">
                                 <p><code class="codeph">VARCHAR2（3）</code></p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d896739e744 d896739e684 ">
                                 <p><code class="codeph">XML</code></p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d896739e744 d896739e687 ">
                                 <p>以XML格式报告<a href="DBMS_SQLDIAG.html#GUID-605CE778-744A-437F-97D9-EA942939C697" title="此功能报告诊断任务。它返回包含所需报告的CLOB。">REPORT_DIAGNOSIS_TASK函数</a></p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="tblformal" id="GUID-CEACAAE2-F425-496C-9FD3-40B208035060__CEGHJADG">
                     <p class="titleintable">表159-5 DBMS_SQLDIAG常量 - 报告级别（可能的值）常量</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_SQLDIAG常量 - 报告级别（可能的值）常量" width="100%" border="1" summary="This table describes Constants (Report Level (possible values) Constants) used by DBMS_SQLDIAG subprograms." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d896739e781">不变</th>
                              <th align="left" valign="bottom" width="24%" id="d896739e784">类型</th>
                              <th align="left" valign="bottom" width="23%" id="d896739e787">值</th>
                              <th align="left" valign="bottom" width="24%" id="d896739e790">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d896739e795" headers="d896739e781 ">
                                 <p><code class="codeph">LEVEL_ALL</code></p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d896739e795 d896739e784 ">
                                 <p><code class="codeph">VARCHAR2（3）</code></p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d896739e795 d896739e787 ">
                                 <p><code class="codeph">所有</code></p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d896739e795 d896739e790 ">
                                 <p>完整报告，包括有关跳过的语句的注释</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d896739e811" headers="d896739e781 ">
                                 <p><code class="codeph">LEVEL_BASIC</code></p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d896739e811 d896739e784 ">
                                 <p><code class="codeph">VARCHAR2（5）</code></p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d896739e811 d896739e787 ">
                                 <p><code class="codeph">BASIC</code></p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d896739e811 d896739e790 ">
                                 <p>显示有关每个分析语句的信息，包括未实现的建议</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d896739e827" headers="d896739e781 ">
                                 <p><code class="codeph">LEVEL_TYPICAL</code></p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d896739e827 d896739e784 ">
                                 <p><code class="codeph">VARCHAR2（7）</code></p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d896739e827 d896739e787 ">
                                 <p><code class="codeph">典型</code></p>
                              </td>
                              <td align="left" valign="top" width="24%" headers="d896739e827 d896739e790 ">
                                 <p>简单报告仅显示有关顾问采取的操作的信息。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="tblformal" id="GUID-CEACAAE2-F425-496C-9FD3-40B208035060__CEGDCJGI">
                     <p class="titleintable">表159-6 DBMS_SQLDIAG常量 - 报告部分（可能的值）常量</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_SQLDIAG常量 - 报告部分（可能的值）常量" width="100%" border="1" summary="This table describes Constants (Report Section (possible values) Constants) used by DBMS_SQLDIAG subprograms." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d896739e854">不变</th>
                              <th align="left" valign="bottom" width="23%" id="d896739e857">类型</th>
                              <th align="left" valign="bottom" width="22%" id="d896739e860">值</th>
                              <th align="left" valign="bottom" width="25%" id="d896739e863">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d896739e868" headers="d896739e854 ">
                                 <p><code class="codeph">SECTION_ALL</code></p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d896739e868 d896739e857 ">
                                 <p><code class="codeph">VARCHAR2（3）</code></p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d896739e868 d896739e860 ">
                                 <p><code class="codeph">所有</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d896739e868 d896739e863 ">
                                 <p>所有陈述</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d896739e884" headers="d896739e854 ">
                                 <p><code class="codeph">SECTION_ERRORS</code></p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d896739e884 d896739e857 ">
                                 <p><code class="codeph">VARCHAR2（6）</code></p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d896739e884 d896739e860 ">
                                 <p><code class="codeph">错误</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d896739e884 d896739e863 ">
                                 <p>有错误的陈述</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d896739e900" headers="d896739e854 ">
                                 <p><code class="codeph">SECTION_FINDINGS</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d896739e900 d896739e857 ">
                                 <p><code class="codeph">VARCHAR2（8）</code></p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d896739e900 d896739e860 ">
                                 <p><code class="codeph">发现</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d896739e900 d896739e863 ">
                                 <p>调整结果</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d896739e917" headers="d896739e854 ">
                                 <p><code class="codeph">SECTION_INFORMATION</code></p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d896739e917 d896739e857 ">
                                 <p><code class="codeph">VARCHAR2（11）</code></p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d896739e917 d896739e860 ">
                                 <p><code class="codeph">信息</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d896739e917 d896739e863 ">
                                 <p>一般信息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d896739e933" headers="d896739e854 ">
                                 <p><code class="codeph">SECTION_PLANS</code> 
                                 </p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d896739e933 d896739e857 ">
                                 <p><code class="codeph">VARCHAR2（5）</code></p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d896739e933 d896739e860 ">
                                 <p><code class="codeph">PLANS</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d896739e933 d896739e863 ">
                                 <p>解释计划</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d896739e950" headers="d896739e854 ">
                                 <p><code class="codeph">SECTION_SUMMARY</code></p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d896739e950 d896739e857 ">
                                 <p><code class="codeph">VARCHAR2（7）</code></p>
                              </td>
                              <td align="left" valign="top" width="22%" headers="d896739e950 d896739e860 ">
                                 <p><code class="codeph">摘要</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d896739e950 d896739e863 ">
                                 <p>摘要信息</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="tblformal" id="GUID-CEACAAE2-F425-496C-9FD3-40B208035060__CEGJCDDJ">
                     <p class="titleintable">表159-7 DBMS_SQLDIAG常量 - 问题类型常量</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_SQLDIAG常量 - 问题类型常量" width="100%" border="1" summary="This table describes Constants (Problem Type Constants) used by DBMS_SQLDIAG subprograms." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="34%" id="d896739e977">不变</th>
                              <th align="left" valign="bottom" width="23%" id="d896739e980">类型</th>
                              <th align="left" valign="bottom" width="18%" id="d896739e983">值</th>
                              <th align="left" valign="bottom" width="25%" id="d896739e986">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d896739e991" headers="d896739e977 ">
                                 <p><code class="codeph">PROBLEM_TYPE_PERFORMANCE</code></p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d896739e991 d896739e980 ">
                                 <p><code class="codeph">数</code></p>
                              </td>
                              <td align="left" valign="top" width="18%" headers="d896739e991 d896739e983 ">
                                 <p><code class="codeph">1</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d896739e991 d896739e986 ">
                                 <p>用户怀疑这是一个性能问题</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d896739e1007" headers="d896739e977 ">
                                 <p><code class="codeph">PROBLEM_TYPE_WRONG_RESULTS</code></p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d896739e1007 d896739e980 ">
                                 <p><code class="codeph">数</code></p>
                              </td>
                              <td align="left" valign="top" width="18%" headers="d896739e1007 d896739e983 ">
                                 <p><code class="codeph">2</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d896739e1007 d896739e986 ">
                                 <p>用户怀疑查询结果不一致</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d896739e1023" headers="d896739e977 ">
                                 <p><code class="codeph">PROBLEM_TYPE_COMPILATION_ERROR</code></p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d896739e1023 d896739e980 ">
                                 <p><code class="codeph">数</code></p>
                              </td>
                              <td align="left" valign="top" width="18%" headers="d896739e1023 d896739e983 ">
                                 <p><code class="codeph">3</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d896739e1023 d896739e986 ">
                                 <p>用户在编译中看到崩溃</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d896739e1039" headers="d896739e977 ">
                                 <p><code class="codeph">PROBLEM_TYPE_EXECUTION_ERROR</code></p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d896739e1039 d896739e980 ">
                                 <p><code class="codeph">数</code></p>
                              </td>
                              <td align="left" valign="top" width="18%" headers="d896739e1039 d896739e983 ">
                                 <p><code class="codeph">4</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d896739e1039 d896739e986 ">
                                 <p>用户看到执行中的崩溃</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d896739e1055" headers="d896739e977 ">
                                 <p><code class="codeph">PROBLEM_TYPE_ALT_PLAN_GEN</code></p>
                              </td>
                              <td align="left" valign="top" width="23%" headers="d896739e1055 d896739e980 ">
                                 <p><code class="codeph">数</code></p>
                              </td>
                              <td align="left" valign="top" width="18%" headers="d896739e1055 d896739e983 ">
                                 <p><code class="codeph">五</code></p>
                              </td>
                              <td align="left" valign="top" width="25%" headers="d896739e1055 d896739e986 ">
                                 <p>用户探索所有替代计划</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="tblformal" id="GUID-CEACAAE2-F425-496C-9FD3-40B208035060__CEGBICBE">
                     <p class="titleintable">表159-8 DBMS_SQLDIAG常量 - 查找过滤器常量</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_SQLDIAG常量 - 查找过滤器常量" width="100%" border="1" summary="This table describes Constants (Findings Filter Constants) used by DBMS_SQLDIAG subprograms." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="35%" id="d896739e1082">不变</th>
                              <th align="left" valign="bottom" width="20%" id="d896739e1085">类型</th>
                              <th align="left" valign="bottom" width="19%" id="d896739e1088">值</th>
                              <th align="left" valign="bottom" width="26%" id="d896739e1091">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d896739e1096" headers="d896739e1082 ">
                                 <p><code class="codeph">SQLDIAG_FINDINGS_ALL</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d896739e1096 d896739e1085 ">
                                 <p><code class="codeph">数</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d896739e1096 d896739e1088 ">
                                 <p><code class="codeph">1</code></p>
                              </td>
                              <td align="left" valign="top" width="26%" headers="d896739e1096 d896739e1091 ">
                                 <p>显示所有可能的发现</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d896739e1112" headers="d896739e1082 ">
                                 <p><code class="codeph">SQLDIAG_FINDINGS_VALIDATION</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d896739e1112 d896739e1085 ">
                                 <p><code class="codeph">数</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d896739e1112 d896739e1088 ">
                                 <p><code class="codeph">2</code></p>
                              </td>
                              <td align="left" valign="top" width="26%" headers="d896739e1112 d896739e1091 ">
                                 <p>显示结构上的验证规则的状态</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d896739e1128" headers="d896739e1082 ">
                                 <p><code class="codeph">SQLDIAG_FINDINGS_FEATURES</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d896739e1128 d896739e1085 ">
                                 <p><code class="codeph">数</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d896739e1128 d896739e1088 ">
                                 <p><code class="codeph">3</code></p>
                              </td>
                              <td align="left" valign="top" width="26%" headers="d896739e1128 d896739e1091 ">
                                 <p>仅显示查询使用的功能</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d896739e1144" headers="d896739e1082 ">
                                 <p><code class="codeph">SQLDIAG_FINDINGS_FILTER_PLANS</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d896739e1144 d896739e1085 ">
                                 <p><code class="codeph">数</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d896739e1144 d896739e1088 ">
                                 <p><code class="codeph">4</code></p>
                              </td>
                              <td align="left" valign="top" width="26%" headers="d896739e1144 d896739e1091 ">
                                 <p>显示顾问生成的备用计划</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d896739e1160" headers="d896739e1082 ">
                                 <p><code class="codeph">SQLDIAG_FINDINGS_CR_DIFF</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d896739e1160 d896739e1085 ">
                                 <p><code class="codeph">数</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d896739e1160 d896739e1088 ">
                                 <p><code class="codeph">五</code></p>
                              </td>
                              <td align="left" valign="top" width="26%" headers="d896739e1160 d896739e1091 ">
                                 <p>显示两个计划之间的差异</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d896739e1176" headers="d896739e1082 ">
                                 <p><code class="codeph">SQLDIAG_FINDINGS_MASK_VARIANT</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d896739e1176 d896739e1085 ">
                                 <p><code class="codeph">数</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d896739e1176 d896739e1088 ">
                                 <p><code class="codeph">6</code></p>
                              </td>
                              <td align="left" valign="top" width="26%" headers="d896739e1176 d896739e1091 ">
                                 <p>用于测试的掩码信息</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d896739e1192" headers="d896739e1082 ">
                                 <p><code class="codeph">SQLDIAG_FINDINGS_OBJ_FEATURES</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d896739e1192 d896739e1085 ">
                                 <p><code class="codeph">数</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d896739e1192 d896739e1088 ">
                                 <p><code class="codeph">7</code></p>
                              </td>
                              <td align="left" valign="top" width="26%" headers="d896739e1192 d896739e1091 ">
                                 <p>显示功能使用历史记录</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="35%" id="d896739e1208" headers="d896739e1082 ">
                                 <p><code class="codeph">SQLDIAG_FINDINGS_BASIC_INFO</code></p>
                              </td>
                              <td align="left" valign="top" width="20%" headers="d896739e1208 d896739e1085 ">
                                 <p><code class="codeph">数</code></p>
                              </td>
                              <td align="left" valign="top" width="19%" headers="d896739e1208 d896739e1088 ">
                                 <p><code class="codeph">8</code></p>
                              </td>
                              <td align="left" valign="top" width="26%" headers="d896739e1208 d896739e1091 ">
                                 <p>显示顾问生成的备用计划</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
            </div><a id="ARPLS68301"></a><a id="ARPLS68302"></a><a id="ARPLS68302"></a><a id="ARPLS68301"></a><div class="props_rev_3"><a id="GUID-6DA6FC5E-A3C1-4696-9910-7518372A87F7" name="GUID-6DA6FC5E-A3C1-4696-9910-7518372A87F7"></a><h3 id="ARPLS-GUID-6DA6FC5E-A3C1-4696-9910-7518372A87F7" class="sect3"><span class="enumeration_section">159.4</span> DBMS_SQLDIAG子程序摘要</h3>
               <div>
                  <p>此表列出了<code class="codeph">DBMS_SQLDIAG</code>子程序并简要描述了它们。
                  </p>
                  <div class="tblformal" id="GUID-6DA6FC5E-A3C1-4696-9910-7518372A87F7__GUID-0E87BAFF-E995-4908-9041-F0227C6EFBF2">
                     <p class="titleintable">表159-9 DBMS_SQLDIAG包子程序</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="DBMS_SQLDIAG包子程序" width="100%" border="1" summary="This table lists the DBMS_SQLDIAG subprograms in alphabetical order and briefly describes them." frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="34%" id="d896739e1324">子程序</th>
                              <th align="left" valign="bottom" width="66%" id="d896739e1327">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d896739e1332" headers="d896739e1324 ">
                                 <p><a href="DBMS_SQLDIAG.html#GUID-7B1BC73D-69FB-4A7E-A843-BD450193B7DA" title="此过程接受指定SQL诊断任务建议的建议SQL修补程序。">ACCEPT_SQL_PATCH函数和过程</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d896739e1332 d896739e1327 ">
                                 <p>接受指定的SQL诊断任务建议的推荐SQL补丁</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d896739e1343" headers="d896739e1324 ">
                                 <p><a href="DBMS_SQLDIAG.html#GUID-1F4EF41F-C630-48FA-A6D1-7AC405BCA99E" title="此过程会更改现有SQL修补程序对象的特定属性。">ALTER_SQL_PATCH过程</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d896739e1343 d896739e1327 ">
                                 <p>更改现有SQL修补程序对象的特定属性</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d896739e1354" headers="d896739e1324 ">
                                 <p><a href="DBMS_SQLDIAG.html#GUID-D1FCD65B-989A-4245-BD56-BF4E93BCBF72" title="此过程取消诊断任务。">CANCEL_DIAGNOSIS_TASK程序</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d896739e1354 d896739e1327 ">
                                 <p>取消诊断任务</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d896739e1365" headers="d896739e1324 ">
                                 <p><a href="DBMS_SQLDIAG.html#GUID-9056BDEA-0DE6-4C11-9872-F17F60542C7F" title="此函数创建诊断任务以诊断单个SQL语句。它返回SQL诊断任务的唯一名称">CREATE_DIAGNOSIS_TASK函数</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d896739e1365 d896739e1327 ">
                                 <p>创建诊断任务以诊断单个SQL语句</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d896739e1376" headers="d896739e1324 ">
                                 <p><a href="DBMS_SQLDIAG.html#GUID-BF6F2F8E-B9D0-48C9-8EF2-3435881EE38B" title="此函数基于SQL文本标识的特定语句的一组用户指定提示创建SQL修补程序。">CREATE_SQL_PATCH函数</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d896739e1376 d896739e1327 ">
                                 <p>根据SQL文本标识的特定语句的一组用户指定提示创建SQL修补程序。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d896739e1387" headers="d896739e1324 ">
                                 <p><a href="DBMS_SQLDIAG.html#GUID-8F00F3AE-FB8C-4387-96B2-AB0F418532D0" title="此过程创建用于将SQL修补程序从一个系统传输到另一个系统的临时表。">CREATE_STGTAB_SQLPATCH过程</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d896739e1387 d896739e1327 ">
                                 <p>创建用于将SQL修补程序从一个系统传输到另一个系统的临时表</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d896739e1398" headers="d896739e1324 ">
                                 <p><a href="DBMS_SQLDIAG.html#GUID-1AD6C5F6-02E1-4FF9-A9FE-11250A8C17AE" title="此过程将删除诊断任务。">DROP_DIAGNOSIS_TASK程序</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d896739e1398 d896739e1327 ">
                                 <p>删除诊断任务</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d896739e1409" headers="d896739e1324 ">
                                 <p><a href="DBMS_SQLDIAG.html#GUID-BED7CD52-04CD-4DFA-A30A-C48CC26D6EA4" title="此过程从数据库中删除指定的SQL修补程序。">DROP_SQL_PATCH过程</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d896739e1409 d896739e1327 ">
                                 <p>从数据库中删除指定的SQL修补程序</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d896739e1420" headers="d896739e1324 ">
                                 <p><a href="DBMS_SQLDIAG.html#GUID-7FDC27C5-BE66-454F-A79F-9EB8F311A8D8" title="此过程执行诊断任务。">EXECUTE_DIAGNOSIS_TASK程序</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d896739e1420 d896739e1327 ">
                                 <p>执行诊断任务</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d896739e1431" headers="d896739e1324 ">
                                 <p><a href="DBMS_SQLDIAG.html#GUID-4E8BC1A9-34C8-44EC-810D-F92E1072FBF2" title="此过程说明了SQL测试用例。">EXPLAIN_SQL_TESTCASE函数</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d896739e1431 d896739e1327 ">
                                 <p>解释SQL测试用例</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d896739e1442" headers="d896739e1324 ">
                                 <p><a href="DBMS_SQLDIAG.html#GUID-A6751459-6F1D-44C4-BDBB-AE855D01BACA" title="此过程将SQL测试用例导出到目录。">EXPORT_SQL_TESTCASE过程</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d896739e1442 d896739e1327 ">
                                 <p>将SQL测试用例导出到目录</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d896739e1454" headers="d896739e1324 ">
                                 <p><a href="DBMS_SQLDIAG.html#GUID-B65F156F-2903-49B0-91A3-A1A7A7A65F28" title="此函数生成与作为参数传递的事件ID相对应的SQL测试用例。它在作为参数传递的目录中创建一组脚本和转储文件。">EXPORT_SQL_TESTCASE_DIR_BY_INC函数</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d896739e1454 d896739e1327 ">
                                 <p>生成与作为参数传递的事件ID相对应的SQL测试用例。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d896739e1465" headers="d896739e1324 ">
                                 <p><a href="DBMS_SQLDIAG.html#GUID-753A399D-8E8A-4375-B1B5-10286683E642" title="此函数生成与作为参数传递的SQL对应的SQL测试用例。它在作为参数传递的目录中创建一组脚本和转储文件。">EXPORT_SQL_TESTCASE_DIR_BY_TXT函数</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d896739e1465 d896739e1327 ">
                                 <p>生成与作为参数传递的SQL对应的SQL测试用例</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d896739e1476" headers="d896739e1324 ">
                                 <p><a href="DBMS_SQLDIAG.html#GUID-BB1BE9F4-450B-4269-8203-7845A5D15BDF" title="此函数返回给定错误号的修复控件的值。">GET_FIX_CONTROL函数</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d896739e1476 d896739e1327 ">
                                 <p>返回给定错误号的修复控件的值</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d896739e1487" headers="d896739e1324 ">
                                 <p><a href="DBMS_SQLDIAG.html#GUID-2E39041D-A7BF-4067-96C9-E78E810694E7" title="此函数从与给定事件ID关联的跟踪文件中加载sql_setrow。">GET_SQL函数</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d896739e1487 d896739e1327 ">
                                 <p>导入SQL测试用例</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d896739e1501" headers="d896739e1324 ">
                                 <p><a href="DBMS_SQLDIAG.html#GUID-CCA6FA54-6283-48CC-835D-36176B2EBE5F" title="此过程将SQL测试用例导入到模式中。">IMPORT_SQL_TESTCASE程序</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d896739e1501 d896739e1327 ">
                                 <p>将SQL测试用例导入模式</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d896739e1512" headers="d896739e1324 ">
                                 <p><a href="DBMS_SQLDIAG.html#GUID-7195A2B6-C3F8-4A7A-8A04-CB1D70743A39" title="此过程从事件ID初始化sql_setrow。">INCIDENTID_2_SQL程序</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d896739e1512 d896739e1327 ">
                                 <p>从事件ID初始化<code class="codeph">sql_setrow</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d896739e1529" headers="d896739e1324 ">
                                 <p><a href="DBMS_SQLDIAG.html#GUID-067662B7-8784-4857-9FCB-BFA7E5F3A817" title="此过程会中断诊断任务。">INTERRUPT_DIAGNOSIS_TASK程序</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d896739e1529 d896739e1327 ">
                                 <p>中断诊断任务</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d896739e1540" headers="d896739e1324 ">
                                 <p><a href="DBMS_SQLDIAG.html#GUID-18D520F8-8D15-43B1-9ECA-F53EA1AB26E6" title="此函数从Test Case Builder文件加载SQLSET。">LOAD_SQLSET_FROM_TCB函数</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d896739e1540 d896739e1327 ">
                                 <p>从Test Case Builder（TCB）文件加载<code class="codeph">SQLSET</code></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d896739e1557" headers="d896739e1324 ">
                                 <p><a href="DBMS_SQLDIAG.html#GUID-267F2E69-DA8C-42FA-9EBF-3185016A2E33" title="此过程将SQL修补程序打包到通过调用CREATE_STGTAB_SQLPATCH过程创建的登台表中。">PACK_STGTAB_SQLPATCH程序</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d896739e1557 d896739e1327 ">
                                 <p>SQL补丁到<a href="DBMS_SQLDIAG.html#GUID-8F00F3AE-FB8C-4387-96B2-AB0F418532D0" title="此过程创建用于将SQL修补程序从一个系统传输到另一个系统的临时表。">CREATE_STGTAB_SQLPATCH过程</a>创建的登台表中</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d896739e1574" headers="d896739e1324 ">
                                 <p><a href="DBMS_SQLDIAG.html#GUID-66280D3C-B073-4B16-918D-8EC5EB348C26" title="此函数可自动复制SQL测试用例。">REPLAY_SQL_TESTCASE函数</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d896739e1574 d896739e1327 ">
                                 <p>报告诊断任务</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d896739e1585" headers="d896739e1324 ">
                                 <p><a href="DBMS_SQLDIAG.html#GUID-605CE778-744A-437F-97D9-EA942939C697" title="此功能报告诊断任务。它返回包含所需报告的CLOB。">REPORT_DIAGNOSIS_TASK功能</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d896739e1585 d896739e1327 ">
                                 <p>报告诊断任务</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d896739e1600" headers="d896739e1324 ">
                                 <p><a href="DBMS_SQLDIAG.html#GUID-FD120209-62E6-488C-9CE1-547408A3B81E" title="此过程将重置诊断任务。">RESET_DIAGNOSIS_TASK程序</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d896739e1600 d896739e1327 ">
                                 <p>重置诊断任务</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d896739e1611" headers="d896739e1324 ">
                                 <p><a href="DBMS_SQLDIAG.html#GUID-DD13BFCE-FE19-47A5-B0DA-33A389D3C15F" title="此过程将恢复诊断路径。">RESUME_DIAGNOSIS_TASK程序</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d896739e1611 d896739e1327 ">
                                 <p>恢复诊断任务</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d896739e1622" headers="d896739e1324 ">
                                 <p><a href="DBMS_SQLDIAG.html#GUID-68E59AA0-4ABD-4B31-85EA-3AC5A89C019A" title="调用此过程以更新VARCHAR2类型的SQL诊断参数的值。">SET_DIAGNOSIS_TASK_PARAMETER程序</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d896739e1622 d896739e1327 ">
                                 <p>设置诊断任务参数</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d896739e1636" headers="d896739e1324 "><a href="DBMS_SQLDIAG.html#GUID-5B000758-3E3F-4F8B-83B6-DBCBE4815B2C" title="针对给定问题类型诊断给定SQL ID的给定SQL语句。此函数创建事件，使用所需信息（如SQL ID，SQL文本，编译环境等）填充事件元数据。它还创建诊断任务，执行它并接受给定SQL ID的SQL PATCH建议。">SQL_DIAGNOSE_AND_REPAIR函数</a></td>
                              <td align="left" valign="top" width="66%" headers="d896739e1636 d896739e1327 ">
                                 <p>针对给定问题类型诊断给定SQL ID的给定SQL语句。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="34%" id="d896739e1646" headers="d896739e1324 ">
                                 <p><a href="DBMS_SQLDIAG.html#GUID-3FB40BEA-F858-444A-9BE1-99DA90ED84F0" title="此过程从通过调用PACK_STGTAB_SQLPATCH过程填充的登台表中解压缩。它使用存储在登台表中的补丁数据在此系统上创建补丁。用户可以选择使用已存在的补丁数据替换现有补丁。在这种情况下，请注意，如果名称相同，则只能替换引用相同语句的补丁（请参阅ACCEPT_SQL_PATCH函数和过程）。">UNPACK_STGTAB_SQLPATCH程序</a></p>
                              </td>
                              <td align="left" valign="top" width="66%" headers="d896739e1646 d896739e1327 ">
                                 <p>通过调用<a href="DBMS_SQLDIAG.html#GUID-267F2E69-DA8C-42FA-9EBF-3185016A2E33" title="This procedure packs SQL patches into the staging table created by a call to the CREATE_STGTAB_SQLPATCH Procedure.">PACK_STGTAB_SQLPATCH过程</a>从登台表中解<a href="DBMS_SQLDIAG.html#GUID-267F2E69-DA8C-42FA-9EBF-3185016A2E33" title="此过程将SQL修补程序打包到通过调用CREATE_STGTAB_SQLPATCH过程创建的登台表中。">压缩</a> ，使用存储在登台表中的补丁数据在此系统上创建补丁</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div><a id="ARPLS68303"></a><a id="ARPLS68304"></a><a id="ARPLS68304"></a><a id="ARPLS68303"></a><div class="props_rev_3"><a id="GUID-7B1BC73D-69FB-4A7E-A843-BD450193B7DA" name="GUID-7B1BC73D-69FB-4A7E-A843-BD450193B7DA"></a><h4 id="ARPLS-GUID-7B1BC73D-69FB-4A7E-A843-BD450193B7DA" class="sect4"><span class="enumeration_section">159.4.1</span> ACCEPT_SQL_PATCH函数和过程</h4>
                  <div>
                     <p>此过程接受指定SQL诊断任务建议的建议SQL修补程序。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-7B1BC73D-69FB-4A7E-A843-BD450193B7DA__GUID-1452C47F-A61F-41EB-AE24-8F880441992C">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.ACCEPT_SQL_PATCH（task_name IN VARCHAR2，object_id IN NUMBER：= NULL，name IN VARCHAR2：= NULL，description IN VARCHAR2：= NULL，category IN VARCHAR2：= NULL，task_owner IN VARCHAR2：= NULL，replace IN BOOLEAN：= FALSE， force_match IN BOOLEAN：= FALSE）RETURN VARCHAR2;</pre><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.ACCEPT_SQL_PATCH（task_name IN VARCHAR2，object_id IN NUMBER：= NULL，name IN VARCHAR2：= NULL，description IN VARCHAR2：= NULL，category IN VARCHAR2：= NULL，task_owner IN VARCHAR2：= NULL，replace IN BOOLEAN：= FALSE， force_match IN BOOLEAN：= FALSE）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7B1BC73D-69FB-4A7E-A843-BD450193B7DA__GUID-609A1EA5-7D21-45FD-B5CD-52EE46283A0A">参数</p>
                        <div class="tblformal" id="GUID-7B1BC73D-69FB-4A7E-A843-BD450193B7DA__GUID-7980E831-AD40-41D7-806A-B4BB4E9DA0A1">
                           <p class="titleintable">表159-10 ACCEPT_SQL_PATCH函数和过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="ACCEPT_SQL_PATCH函数和过程参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_SQLDIAG.ACCEPT_SQL_PATCH subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d896739e1775">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d896739e1778">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e1783" headers="d896739e1775 ">
                                       <p><code class="codeph">任务名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e1783 d896739e1778 ">
                                       <p>SQL诊断任务的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e1791" headers="d896739e1775 ">
                                       <p><code class="codeph">OBJECT_ID</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e1791 d896739e1778 ">
                                       <p>表示与诊断任务关联的SQL语句的顾问程序框架对象的标识符</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e1799" headers="d896739e1775 ">
                                       <p><code class="codeph">名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e1799 d896739e1778 ">
                                       <p>补丁的名称。它不能包含双引号。名称区分大小写。如果未指定，系统将为SQL修补程序生成唯一名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e1807" headers="d896739e1775 ">
                                       <p><code class="codeph">描述</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e1807 d896739e1778 ">
                                       <p>用户指定的字符串，描述此SQL修补程序的用途。最大描述大小为<code class="codeph">500</code> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e1818" headers="d896739e1775 ">
                                       <p><code class="codeph">类别</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e1818 d896739e1778 ">
                                       <p>类别名称必须与会话中<code class="codeph">SQLDIAGNOSE_CATEGORY</code>参数的值匹配才能使用此修补程序。它默认为<code class="codeph">DEFAULT</code>值。这也是<code class="codeph">SQLDIAGNOSE_CATEGORY</code>参数的默认值。该类别必须是有效的Oracle标识符。指定的类别名称始终转换为大写。规范化SQL文本和类别名称的组合为修补程序创建唯一键。如果重复此组合，则接受将失败。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e1835" headers="d896739e1775 ">
                                       <p><code class="codeph">task_owner</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e1835 d896739e1778 ">
                                       <p>诊断任务的所有者。这是一个可选参数，必须指定该参数以接受与另一个用户拥有的诊断任务关联的SQL修补程序。当前用户是默认值。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e1843" headers="d896739e1775 ">
                                       <p><code class="codeph">更换</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e1843 d896739e1778 ">
                                       <p>如果补丁已经存在，则在该参数为<code class="codeph">TRUE</code>时将替换它。传递已用于其他签名/类别对的名称是错误的，即使将replace设置为<code class="codeph">TRUE</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e1857" headers="d896739e1775 ">
                                       <p><code class="codeph">force_match</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e1857 d896739e1778 ">
                                       <p>如果为<code class="codeph">TRUE</code> ，则在将所有文字值规范化为绑定变量之后，这会导致SQL Patches定位具有相同文本的所有SQL语句。（请注意，如果在SQL语句中使用了文字值和绑定值的组合，则不会发生绑定转换。）这类似于<code class="codeph">CURSOR_SHARING</code>参数的<code class="codeph">FORCE</code>选项使用的匹配算法。如果为<code class="codeph">FALSE</code> ，则不转换文字。这类似于<code class="codeph">CURSOR_SHARING</code>参数的<code class="codeph">EXACT</code>选项使用的匹配算法。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7B1BC73D-69FB-4A7E-A843-BD450193B7DA__GUID-8FEF6522-87C0-423F-AC49-5509837DEFB1">返回值</p>
                        <p>SQL补丁的名称</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7B1BC73D-69FB-4A7E-A843-BD450193B7DA__GUID-D39C8736-5C34-41AE-AFF4-B303DE9C6149">使用说明</p>
                        <p>需要<code class="codeph">CREATE</code> <code class="codeph">ANY</code> <code class="codeph">SQL</code> <code class="codeph">PROFILE</code>权限</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68305"></a><a id="ARPLS68306"></a><a id="ARPLS68306"></a><a id="ARPLS68305"></a><div class="props_rev_3"><a id="GUID-1F4EF41F-C630-48FA-A6D1-7AC405BCA99E" name="GUID-1F4EF41F-C630-48FA-A6D1-7AC405BCA99E"></a><h4 id="ARPLS-GUID-1F4EF41F-C630-48FA-A6D1-7AC405BCA99E" class="sect4"><span class="enumeration_section">159.4.2</span> ALTER_SQL_PATCH过程</h4>
                  <div>
                     <p>此过程会更改现有SQL修补程序对象的特定属性。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-1F4EF41F-C630-48FA-A6D1-7AC405BCA99E__GUID-89A077C7-6E19-419C-AEC3-C11DE671CA65">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.ALTER_SQL_PATCH（名称IN VARCHAR2，attribute_name IN VARCHAR2，值IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1F4EF41F-C630-48FA-A6D1-7AC405BCA99E__GUID-8A949DAD-9F10-4D80-8C10-FCEACE52183E">参数</p>
                        <div class="tblformal" id="GUID-1F4EF41F-C630-48FA-A6D1-7AC405BCA99E__GUID-DF29E9E9-5FD2-4F65-A587-9215C1840EE7">
                           <p class="titleintable">表159-11 ALTER_SQL_PATCH过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="ALTER_SQL_PATCH过程参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_SQLDIAG.ALTER_SQL_PATCH subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d896739e2016">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d896739e2019">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e2024" headers="d896739e2016 ">
                                       <p><code class="codeph">名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e2024 d896739e2019 ">
                                       <p>要更改的SQL修补程序的名称。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e2032" headers="d896739e2016 ">
                                       <p><code class="codeph">ATTRIBUTE_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e2032 d896739e2019 ">
                                       <p>要更改的SQL修补程序的名称。可能的值：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">STATUS</code> - &gt;可以设置为<code class="codeph">ENABLED</code>或<code class="codeph">DISABLED</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">NAME</code> - &gt;可以重置为有效名称（必须是有效的Oracle标识符，并且必须是唯一的）。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">DESCRIPTION</code> - &gt;可以设置为任何大小不超过500的字符串</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">CATEGORY</code> - &gt;可以重置为有效的类别名称（必须是有效的Oracle标识符，与标准化的SQL文本结合使用时必须是唯一的）</p>
                                          </li>
                                       </ul>
                                       <p>此参数是必需参数，区分大小写。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e2068" headers="d896739e2016 ">
                                       <p><code class="codeph">值</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e2068 d896739e2019 ">
                                       <p>属性的新值。有关有效的属性值，请参见<code class="codeph">attribute_name</code> 。此参数是必需的。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1F4EF41F-C630-48FA-A6D1-7AC405BCA99E__GUID-D2C5417A-E38E-48ED-BF06-5461C8918C9D">使用说明</p>
                        <p>需要<code class="codeph">ALTER</code> <code class="codeph">ANY</code> <code class="codeph">SQL</code> <code class="codeph">PATCH</code>权限</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68307"></a><a id="ARPLS68308"></a><a id="ARPLS68308"></a><a id="ARPLS68307"></a><div class="props_rev_3"><a id="GUID-D1FCD65B-989A-4245-BD56-BF4E93BCBF72" name="GUID-D1FCD65B-989A-4245-BD56-BF4E93BCBF72"></a><h4 id="ARPLS-GUID-D1FCD65B-989A-4245-BD56-BF4E93BCBF72" class="sect4"><span class="enumeration_section">159.4.3</span> CANCEL_DIAGNOSIS_TASK程序</h4>
                  <div>
                     <p>此过程取消诊断任务。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-D1FCD65B-989A-4245-BD56-BF4E93BCBF72__GUID-2B488A1E-47B0-4B73-8EAC-72F47174BA6B">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.CANCEL_DIAGNOSIS_TASK（任务名称IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-D1FCD65B-989A-4245-BD56-BF4E93BCBF72__GUID-96902673-C2B5-44AD-9EFD-EB5B94B2A9B0">参数</p>
                        <div class="tblformal" id="GUID-D1FCD65B-989A-4245-BD56-BF4E93BCBF72__GUID-ADA462CD-AD79-43C4-BF68-AAF444CDC35A">
                           <p class="titleintable">表159-12 CANCEL_DIAGNOSIS_TASK过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CANCEL_DIAGNOSIS_TASK过程参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_SQLDIAG.CANCEL_DIAGNOSIS_TASK subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d896739e2205">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d896739e2208">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e2213" headers="d896739e2205 ">
                                       <p><code class="codeph">任务名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e2213 d896739e2208 ">
                                       <p>任务名称</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68309"></a><a id="ARPLS68310"></a><a id="ARPLS68310"></a><a id="ARPLS68309"></a><div class="props_rev_3"><a id="GUID-9056BDEA-0DE6-4C11-9872-F17F60542C7F" name="GUID-9056BDEA-0DE6-4C11-9872-F17F60542C7F"></a><h4 id="ARPLS-GUID-9056BDEA-0DE6-4C11-9872-F17F60542C7F" class="sect4"><span class="enumeration_section">159.4.4</span> CREATE_DIAGNOSIS_TASK函数</h4>
                  <div>
                     <p>此函数创建诊断任务以诊断单个SQL语句。它返回SQL诊断任务的唯一名称</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-9056BDEA-0DE6-4C11-9872-F17F60542C7F__GUID-8986199E-FFDA-4A0A-BB0D-F7CEC41D98A5">句法</p>
                        <p>鉴于其文本，准备单一陈述的诊断：</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.CREATE_DIAGNOSIS_TASK（sql_text IN CLOB，bind_list IN sql_binds：= NULL，user_name IN VARCHAR2：= NULL，范围IN VARCHAR2：= SCOPE_COMPREHENSIVE，time_limit IN NUMBER：= TIME_LIMIT_DEFAULT，task_name IN VARCHAR2：= NULL，description IN VARCHAR2：= NULL， problem_type IN NUMBER：= PROBLEM_TYPE_PERFORMANCE）RETURN VARCHAR2;</pre><p>给定其标识符，从Cursor Cache准备单个语句的诊断：</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.CREATE_DIAGNOSIS_TASK（sql_id IN VARCHAR2，plan_hash_value IN NUMBER：= NULL，范围IN VARCHAR2：= SCOPE_COMPREHENSIVE，time_limit IN NUMBER：= TIME_LIMIT_DEFAULT，task_name IN VARCHAR2：= NULL，description IN VARCHAR2：= NULL，problem_type IN NUMBER：= PROBLEM_TYPE_PERFORMANCE） RETURN VARCHAR2;</pre><p>准备Sqlset的诊断：</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.CREATE_DIAGNOSIS_TASK（sqlset_name IN VARCHAR2，basic_filter IN VARCHAR2：= NULL，object_filter IN VARCHAR2：= NULL，rank1 IN VARCHAR2：= NULL，rank2 IN VARCHAR2：= NULL，rank3 IN VARCHAR2：= NULL，result_percentage IN NUMBER：= NULL， result_limit IN NUMBER：= NULL，范围IN VARCHAR2：= SCOPE_COMPREHENSIVE，time_limit IN NUMBER：= TIME_LIMIT_DEFAULT，task_name IN VARCHAR2：= NULL，description IN VARCHAR2：= NULL，plan_filter IN VARCHAR2：='MAX_ELAPSED_TIME'，sqlset_owner IN VARCHAR2：= NULL ，problem_type IN NUMBER：= PROBLEM_TYPE_PERFORMANCE）RETURN VARCHAR2;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-9056BDEA-0DE6-4C11-9872-F17F60542C7F__GUID-C55F3E0E-0FC9-4E9B-946F-027E60509406">参数</p>
                        <div class="tblformal" id="GUID-9056BDEA-0DE6-4C11-9872-F17F60542C7F__GUID-BCFC60B8-881B-4AE2-948C-103D2C5AAA32">
                           <p class="titleintable">表159-13 CREATE_DIAGNOSIS_TASK函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CREATE_DIAGNOSIS_TASK函数参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_SQLDIAG.CREATE_DIAGNOSIS_TASK subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d896739e2340">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d896739e2343">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e2348" headers="d896739e2340 ">
                                       <p><code class="codeph">SQL_TEXT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e2348 d896739e2343 ">
                                       <p>SQL语句的文本</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e2356" headers="d896739e2340 ">
                                       <p><code class="codeph">bind_list</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e2356 d896739e2343 ">
                                       <p>一组绑定值</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e2364" headers="d896739e2340 ">
                                       <p><code class="codeph">用户名</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e2364 d896739e2343 ">
                                       <p>将诊断语句/ sqlset的用户名</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e2372" headers="d896739e2340 ">
                                       <p><code class="codeph">范围</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e2372 d896739e2343 ">
                                       <p>诊断范围（有限/全面）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e2380" headers="d896739e2340 ">
                                       <p><code class="codeph">时限</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e2380 d896739e2343 ">
                                       <p>诊断会话的最长持续时间（秒）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e2388" headers="d896739e2340 ">
                                       <p><code class="codeph">任务名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e2388 d896739e2343 ">
                                       <p>可选的诊断任务名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e2396" headers="d896739e2340 ">
                                       <p>描述</p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e2396 d896739e2343 ">
                                       <p>最多256个SQL诊断会话描述</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e2403" headers="d896739e2340 ">
                                       <p><code class="codeph">problem_type</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e2403 d896739e2343 ">
                                       <p>确定任务的目标。可能的值是：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">PROBLEM_TYPE_WRONG_RESULTS</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PROBLEM_TYPE_COMPILATION_ERROR</code></p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PROBLEM_TYPE_EXECUTION_ERROR</code></p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e2424" headers="d896739e2340 ">
                                       <p><code class="codeph">SQL_ID</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e2424 d896739e2343 ">
                                       <p>声明的标识符</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e2432" headers="d896739e2340 ">
                                       <p><code class="codeph">plan_hash_value</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e2432 d896739e2343 ">
                                       <p>SQL执行计划的哈希值</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e2440" headers="d896739e2340 ">
                                       <p><code class="codeph">sqlset_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e2440 d896739e2343 ">
                                       <p>Sqlset名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e2449" headers="d896739e2340 ">
                                       <p><code class="codeph">basic_filter</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e2449 d896739e2343 ">
                                       <p>SQL谓词从SQL调优集（STS）中过滤SQL</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e2457" headers="d896739e2340 ">
                                       <p><code class="codeph">object_filter</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e2457 d896739e2343 ">
                                       <p>对象过滤器</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e2465" headers="d896739e2340 ">
                                       <p><code class="codeph">排名（I）</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e2465 d896739e2343 ">
                                       <p>所选SQL的Order-by子句</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e2473" headers="d896739e2340 ">
                                       <p><code class="codeph">result_percentage</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e2473 d896739e2343 ">
                                       <p>排名指标总和的百分比</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e2481" headers="d896739e2340 ">
                                       <p><code class="codeph">RESULT_LIMIT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e2481 d896739e2343 ">
                                       <p>来自（过滤/排名）SQL的顶级L（imit）SQL</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e2489" headers="d896739e2340 ">
                                       <p><code class="codeph">plan_filter</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e2489 d896739e2343 ">
                                       <p>计划过滤器。它适用于有多个计划（ <code class="codeph">plan_hash_value</code> ）的情况。此过滤器仅允许选择一个计划（plan_hash_value）。可能的值是：</p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">LAST_GENERATED</code> ：计划最近的时间戳</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">FIRST_GENERATED</code> ：与<code class="codeph">LAST_GENERATED</code>相反</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">LAST_LOADED</code> ：计划最近的<code class="codeph">first_load_time</code>统计信息</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">FIRST_LOADED</code> ：与<code class="codeph">LAST_LOADED</code>相反</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">MAX_ELAPSED_TIME</code> ：计划最大经过时间</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">MAX_BUFFER_GETS</code> ：计划最大缓冲区获取</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">MAX_DISK_READS</code> ：计划最大磁盘读取次数</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">MAX_DIRECT_WRITES</code> ：计划最大直接写入</p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">MAX_OPTIMIZER_COST</code> ：计划最大的最优成本</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e2553" headers="d896739e2340 ">
                                       <p><code class="codeph">sqlset_owner</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e2553 d896739e2343 ">
                                       <p>sqlset的所有者，或者对于当前架构所有者为null</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-BF6F2F8E-B9D0-48C9-8EF2-3435881EE38B" name="GUID-BF6F2F8E-B9D0-48C9-8EF2-3435881EE38B"></a><h4 id="ARPLS-GUID-BF6F2F8E-B9D0-48C9-8EF2-3435881EE38B" class="sect4"><span class="enumeration_section">159.4.5</span> CREATE_SQL_PATCH函数</h4>
                  <div>
                     <p>此函数基于SQL文本标识的特定语句的一组用户指定提示创建SQL修补程序。</p>
                     <div class="section">
                        <p>SQL修补程序通常由SQL修复顾问自动创建，以防止在编译或执行SQL语句期间出现任何错误。此函数提供了一种基于解决错误的一组提示手动创建SQL修补程序的方法。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BF6F2F8E-B9D0-48C9-8EF2-3435881EE38B__GUID-97D5A6DB-2E51-4303-8621-60C7140182BF">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.CREATE_SQL_PATCH（sql_text IN CLOB，hint_text IN CLOB，name IN VARCHAR2：= NULL，description IN VARCHAR2：= NULL，category IN VARCHAR2：= NULL，validate IN BOOLEAN：= TRUE）RETURN VARCHAR2;</pre><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.CREATE_SQL_PATCH（sql_id IN VARCHAR2，hint_text IN CLOB，name IN VARCHAR2：= NULL，description IN VARCHAR2：= NULL，category IN VARCHAR2：= NULL，validate IN BOOLEAN：= TRUE）RETURN VARCHAR2;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BF6F2F8E-B9D0-48C9-8EF2-3435881EE38B__GUID-C9B09174-4351-43ED-BC47-7D9A0C2AC175">参数</p>
                        <div class="tblformal" id="GUID-BF6F2F8E-B9D0-48C9-8EF2-3435881EE38B__GUID-145DFA76-83C0-45CD-9EAE-6CC8E6A9DC35">
                           <p class="titleintable">表159-14 CREATE_SQL_PATCH函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CREATE_SQL_PATCH函数参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_SQLDIAG.CREATE_SQL_PATCH subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d896739e2672">参数</th>
                                    <th align="left" valign="bottom" id="d896739e2675">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d896739e2680" headers="d896739e2672 ">
                                       <p><code class="codeph">SQL_TEXT</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d896739e2680 d896739e2675 ">
                                       <p>SQL语句的文本</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d896739e2688" headers="d896739e2672 ">
                                       <p><code class="codeph">SQL_ID</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d896739e2688 d896739e2675 ">
                                       <p>SQL语句的SQL标识符</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d896739e2696" headers="d896739e2672 ">
                                       <p><code class="codeph">hint_text</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d896739e2696 d896739e2675 ">
                                       <p>提示要包含在SQL补丁中</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d896739e2704" headers="d896739e2672 ">
                                       <p><code class="codeph">名称</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d896739e2704 d896739e2675 ">
                                       <p>可选的SQL补丁名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d896739e2712" headers="d896739e2672 ">
                                       <p><code class="codeph">描述</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d896739e2712 d896739e2675 ">
                                       <p>SQL补丁的描述</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d896739e2720" headers="d896739e2672 ">
                                       <p><code class="codeph">类别</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d896739e2720 d896739e2675 ">
                                       <p>分类名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d896739e2728" headers="d896739e2672 ">
                                       <p><code class="codeph">验证</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d896739e2728 d896739e2675 ">
                                       <p>是否验证提供的提示</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BF6F2F8E-B9D0-48C9-8EF2-3435881EE38B__GUID-FDE2E6D9-1375-4791-82A0-2365B1D94CB2">返回值</p>
                        <p>这两个函数都返回SQL补丁名称。</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68311"></a><a id="ARPLS68312"></a><a id="ARPLS68312"></a><a id="ARPLS68311"></a><div class="props_rev_3"><a id="GUID-8F00F3AE-FB8C-4387-96B2-AB0F418532D0" name="GUID-8F00F3AE-FB8C-4387-96B2-AB0F418532D0"></a><h4 id="ARPLS-GUID-8F00F3AE-FB8C-4387-96B2-AB0F418532D0" class="sect4"><span class="enumeration_section">159.4.6</span> CREATE_STGTAB_SQLPATCH过程</h4>
                  <div>
                     <p>此过程创建用于将SQL修补程序从一个系统传输到另一个系统的临时表。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-8F00F3AE-FB8C-4387-96B2-AB0F418532D0__GUID-E046437E-47FF-4E77-8E49-3A13B6BAB1A4">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.CREATE_STGTAB_SQLPATCH（table_name IN VARCHAR2，schema_name IN VARCHAR2：= NULL，tablespace_name IN VARCHAR2：= NULL）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8F00F3AE-FB8C-4387-96B2-AB0F418532D0__GUID-39E41105-B4B1-4A65-A29B-2B7DFBA8E852">参数</p>
                        <div class="tblformal" id="GUID-8F00F3AE-FB8C-4387-96B2-AB0F418532D0__GUID-1A84E7DC-4210-4AF0-B15E-9FE26C6FE2EB">
                           <p class="titleintable">表159-15 CREATE_STGTAB_SQLPATCH过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="CREATE_STGTAB_SQLPATCH过程参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_SQLDIAG.CREATE_STGTAB_SQLPATCH subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d896739e2850">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d896739e2853">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e2858" headers="d896739e2850 ">
                                       <p><code class="codeph">TABLE_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e2858 d896739e2853 ">
                                       <p>（必填）要创建的表的名称（区分大小写）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e2866" headers="d896739e2850 ">
                                       <p><code class="codeph">SCHEMA_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e2866 d896739e2853 ">
                                       <p>用于创建表的模式，或当前模式的<code class="codeph">NULL</code> （区分大小写）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e2877" headers="d896739e2850 ">
                                       <p><code class="codeph">TABLESPACE_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e2877 d896739e2853 ">
                                       <p>用于存储登台表的表空间，或当前用户的默认表空间的<code class="codeph">NULL</code> （区分大小写）</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68313"></a><a id="ARPLS68314"></a><a id="ARPLS68314"></a><a id="ARPLS68313"></a><div class="props_rev_3"><a id="GUID-1AD6C5F6-02E1-4FF9-A9FE-11250A8C17AE" name="GUID-1AD6C5F6-02E1-4FF9-A9FE-11250A8C17AE"></a><h4 id="ARPLS-GUID-1AD6C5F6-02E1-4FF9-A9FE-11250A8C17AE" class="sect4"><span class="enumeration_section">159.4.7</span> DROP_DIAGNOSIS_TASK程序</h4>
                  <div>
                     <p>此过程将删除诊断任务。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-1AD6C5F6-02E1-4FF9-A9FE-11250A8C17AE__GUID-2874243B-3F68-410E-8BDD-51486E671CAD">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.DROP_DIAGNOSIS_TASK（taskname IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-1AD6C5F6-02E1-4FF9-A9FE-11250A8C17AE__GUID-2A642BC7-1832-4EF4-8C64-0B05EF4A9CFF">参数</p>
                        <div class="tblformal" id="GUID-1AD6C5F6-02E1-4FF9-A9FE-11250A8C17AE__GUID-2DB27893-459D-468B-82A0-AEB348739747">
                           <p class="titleintable">表159-16 DROP_DIAGNOSIS_TASK过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DROP_DIAGNOSIS_TASK过程参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_SQLDIAG.DROP_DIAGNOSIS_TASK subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d896739e2997">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d896739e3000">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e3005" headers="d896739e2997 ">
                                       <p><code class="codeph">任务名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e3005 d896739e3000 ">
                                       <p>任务名称</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68315"></a><a id="ARPLS68316"></a><a id="ARPLS68316"></a><a id="ARPLS68315"></a><div class="props_rev_3"><a id="GUID-BED7CD52-04CD-4DFA-A30A-C48CC26D6EA4" name="GUID-BED7CD52-04CD-4DFA-A30A-C48CC26D6EA4"></a><h4 id="ARPLS-GUID-BED7CD52-04CD-4DFA-A30A-C48CC26D6EA4" class="sect4"><span class="enumeration_section">159.4.8</span> DROP_SQL_PATCH过程</h4>
                  <div>
                     <p>此过程从数据库中删除指定的SQL修补程序。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-BED7CD52-04CD-4DFA-A30A-C48CC26D6EA4__GUID-9281BF43-43FD-486F-9BA7-0C3F0364A30E">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.DROP_SQL_PATCH（名称IN VARCHAR2，忽略IN BOOLEAN：= FALSE）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BED7CD52-04CD-4DFA-A30A-C48CC26D6EA4__GUID-FD786E0E-2774-48A5-9126-18EEC8C32B77">参数</p>
                        <div class="tblformal" id="GUID-BED7CD52-04CD-4DFA-A30A-C48CC26D6EA4__GUID-66F9691B-2586-46C3-96AE-4114EC54D87F">
                           <p class="titleintable">表159-17 DROP_SQL_PATCH函数和过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="DROP_SQL_PATCH函数和过程参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_SQLDIAG.DROP_SQL_PATCH subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d896739e3123">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d896739e3126">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e3131" headers="d896739e3123 ">
                                       <p><code class="codeph">名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e3131 d896739e3126 ">
                                       <p>要删除的补丁的名称。名称区分大小写。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e3139" headers="d896739e3123 ">
                                       <p><code class="codeph">忽视</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e3139 d896739e3126 ">
                                       <p>忽略由于对象不存在而导致的错误。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BED7CD52-04CD-4DFA-A30A-C48CC26D6EA4__GUID-A4BE8FFC-DB24-46BA-B865-45F38B2766AA">使用说明</p>
                        <p>需要<code class="codeph">DROP</code> <code class="codeph">ANY</code> <code class="codeph">SQL</code> <code class="codeph">PATCH</code>权限</p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68317"></a><a id="ARPLS68318"></a><a id="ARPLS68318"></a><a id="ARPLS68317"></a><div class="props_rev_3"><a id="GUID-7FDC27C5-BE66-454F-A79F-9EB8F311A8D8" name="GUID-7FDC27C5-BE66-454F-A79F-9EB8F311A8D8"></a><h4 id="ARPLS-GUID-7FDC27C5-BE66-454F-A79F-9EB8F311A8D8" class="sect4"><span class="enumeration_section">159.4.9</span> EXECUTE_DIAGNOSIS_TASK程序</h4>
                  <div>
                     <p>此过程执行诊断任务。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-7FDC27C5-BE66-454F-A79F-9EB8F311A8D8__GUID-F9F6BEBF-4643-4969-A167-353050154037">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.EXECUTE_DIAGNOSIS_TASK（taskname IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7FDC27C5-BE66-454F-A79F-9EB8F311A8D8__GUID-CE4733E8-C044-4094-9CBD-1F1A8FD83954">参数</p>
                        <div class="tblformal" id="GUID-7FDC27C5-BE66-454F-A79F-9EB8F311A8D8__GUID-F63B7F4E-D710-4532-8A0E-B057C973DE2C">
                           <p class="titleintable">表159-18 EXECUTE_DIAGNOSIS_TASK过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="EXECUTE_DIAGNOSIS_TASK过程参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_SQLDIAG.EXECUTE_DIAGNOSIS_TASK subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d896739e3273">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d896739e3276">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e3281" headers="d896739e3273 ">
                                       <p><code class="codeph">任务名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e3281 d896739e3276 ">
                                       <p>任务名称</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68319"></a><a id="ARPLS68320"></a><a id="ARPLS68320"></a><a id="ARPLS68319"></a><div class="props_rev_3"><a id="GUID-4E8BC1A9-34C8-44EC-810D-F92E1072FBF2" name="GUID-4E8BC1A9-34C8-44EC-810D-F92E1072FBF2"></a><h4 id="ARPLS-GUID-4E8BC1A9-34C8-44EC-810D-F92E1072FBF2" class="sect4"><span class="enumeration_section">159.4.10</span> EXPLAIN_SQL_TESTCASE函数</h4>
                  <div>
                     <p>此过程说明了SQL测试用例。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-4E8BC1A9-34C8-44EC-810D-F92E1072FBF2__GUID-97D5A6DB-2E51-4303-8621-60C7140182BF">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.EXPLAIN_SQL_TESTCASE（sqlTestCase IN CLOB）RETURN CLOB;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4E8BC1A9-34C8-44EC-810D-F92E1072FBF2__GUID-7CC32565-717E-41A3-9504-96CA8B789CBA">参数</p>
                        <div class="tblformal" id="GUID-4E8BC1A9-34C8-44EC-810D-F92E1072FBF2__GUID-8EC92A52-4E35-4411-A017-FEAA434E2D53">
                           <p class="titleintable">表159-19 EXPLAIN_SQL_TESTCASE函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="EXPLAIN_SQL_TESTCASE函数参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_SQLDIAG.EXPLAIN_SQL_TESTCASE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d896739e3398">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d896739e3401">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e3406" headers="d896739e3398 ">
                                       <p><code class="codeph">sqlTestCase</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e3406 d896739e3401 ">
                                       <p>描述SQL测试用例的XML文档</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68321"></a><a id="ARPLS68322"></a><a id="ARPLS74959"></a><a id="ARPLS74960"></a><a id="ARPLS68322"></a><a id="ARPLS74959"></a><a id="ARPLS74960"></a><a id="ARPLS68321"></a><div class="props_rev_3"><a id="GUID-A6751459-6F1D-44C4-BDBB-AE855D01BACA" name="GUID-A6751459-6F1D-44C4-BDBB-AE855D01BACA"></a><h4 id="ARPLS-GUID-A6751459-6F1D-44C4-BDBB-AE855D01BACA" class="sect4"><span class="enumeration_section">159.4.11</span> EXPORT_SQL_TESTCASE过程</h4>
                  <div>
                     <p>此过程将SQL测试用例导出到目录。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-A6751459-6F1D-44C4-BDBB-AE855D01BACA__GUID-CD61132E-3F55-4889-B963-CF35D9B68DD5">句法</p>
                        <p>必须为此变体提供SQL信息。</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.EXPORT_SQL_TESTCASE（目录IN VARCHAR2，sql_text IN CLOB，user_name IN VARCHAR2：= NULL，bind_list IN sql_binds：= NULL，exportEnvironment IN BOOLEAN：= TRUE，exportMetadata IN BOOLEAN：= TRUE，exportData IN BOOLEAN：= FALSE，exportPkgbody IN BOOLEAN ：= FALSE，samplingPercent IN NUMBER：= 100，ctrlOptions IN VARCHAR2：= NULL，timeLimit IN NUMBER：= 0，testcase_name IN VARCHAR2：= NULL，testcase IN OUT NOCOPY CLOB，preserveSchemaMapping IN BOOLEAN：= FALSE，version IN VARCHAR2：= '兼容'）;</pre><p>此变体从事件文件中提取SQL信息。</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.EXPORT_SQL_TESTCASE（目录IN VARCHAR2，incident_id IN VARCHAR2，exportEnvironment IN BOOLEAN：= TRUE，exportMetadata IN BOOLEAN：= TRUE，exportData IN BOOLEAN：= FALSE，exportPkgbody IN BOOLEAN：= FALSE，samplingPercent IN NUMBER：= 100，ctrlOptions IN VARCHAR2 ：= NULL，timeLimit IN NUMBER：= DBMS_SQLDIAG.TIME_LIMIT_DEFAULT，testcase_name IN VARCHAR2：= NULL，testcase IN OUT NOCOPY CLOB，preserveSchemaMapping IN BOOLEAN：= FALSE）version IN VARCHAR2：='COMPATIBLE'）;</pre><p>此变体允许从游标缓存中存在的游标生成SQL测试用例。使用<code class="codeph">V$SQL</code>获取SQL标识符和SQL哈希值。
                        </p><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.EXPORT_SQL_TESTCASE（目录IN VARCHAR2，sql_id IN VARCHAR2，plan_hash_value IN NUMBER：= NULL，exportEnvironment IN BOOLEAN：= TRUE，exportMetadata IN BOOLEAN：= TRUE，exportData IN BOOLEAN：= FALSE，exportPkgbody IN BOOLEAN：= FALSE，samplingPercent IN NUMBER ：= 100，ctrlOptions IN VARCHAR2：= NULL，timeLimit IN NUMBER：= DBMS_SQLDIAG.TIME_LIMIT_DEFAULT，testcase_name IN VARCHAR2：= NULL，testcase IN OUT NOCOPY CLOB，preserveSchemaMapping IN BOOLEAN：= FALSE）version IN VARCHAR2：='COMPATIBLE'）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A6751459-6F1D-44C4-BDBB-AE855D01BACA__GUID-2D4C8045-63D8-40C9-B65A-28627E8C321B">参数</p>
                        <div class="tblformal" id="GUID-A6751459-6F1D-44C4-BDBB-AE855D01BACA__GUID-287520AE-A314-4418-A1DC-05C86FA4D899">
                           <p class="titleintable">表159-20 EXPORT_SQL_TESTCASE过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="EXPORT_SQL_TESTCASE过程参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_SQLDIAG.BUILD_SQL_TESTCASE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d896739e3541">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d896739e3544">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e3549" headers="d896739e3541 ">
                                       <p><code class="codeph">目录</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e3549 d896739e3544 ">
                                       <p>用于存储各种生成文件的目录</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e3557" headers="d896739e3541 ">
                                       <p><code class="codeph">SQL_TEXT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e3557 d896739e3544 ">
                                       <p>要导出的SQL语句的文本</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e3565" headers="d896739e3541 ">
                                       <p><code class="codeph">incident_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e3565 d896739e3544 ">
                                       <p>包含违规SQL的事件ID</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e3573" headers="d896739e3541 ">
                                       <p><code class="codeph">SQL_ID</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e3573 d896739e3544 ">
                                       <p>游标缓存中语句的标识符</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e3581" headers="d896739e3541 ">
                                       <p><code class="codeph">用户名</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e3581 d896739e3544 ">
                                       <p>用于解析SQL的用户模式的名称，默认为<code class="codeph">SYS</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e3591" headers="d896739e3541 ">
                                       <p><code class="codeph">bind_list</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e3591 d896739e3544 ">
                                       <p>与语句关联的绑定值列表</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e3599" headers="d896739e3541 ">
                                       <p><code class="codeph">exportEnvironment</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e3599 d896739e3544 ">
                                       <p>如果应导出编译环境，则为<code class="codeph">TRUE</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e3609" headers="d896739e3541 ">
                                       <p><code class="codeph">exportMetadata</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e3609 d896739e3544 ">
                                       <p>如果应导出SQL中引用的对象的定义，则为<code class="codeph">TRUE</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e3619" headers="d896739e3541 ">
                                       <p><code class="codeph">exportData</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e3619 d896739e3544 ">
                                       <p>如果应导出SQL中引用的对象的数据，则为<code class="codeph">TRUE</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e3629" headers="d896739e3541 ">
                                       <p><code class="codeph">exportPkgbody</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e3629 d896739e3544 ">
                                       <p>如果导出SQL中引用的包的主体，则为<code class="codeph">TRUE</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e3639" headers="d896739e3541 ">
                                       <p><code class="codeph">samplingPercent</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e3639 d896739e3544 ">
                                       <p>如果为<code class="codeph">TRUE</code> ，请指定用于创建转储文件的采样百分比</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e3651" headers="d896739e3541 ">
                                       <p><code class="codeph">ctrlOptions</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e3651 d896739e3544 ">
                                       <p>不透明的控制参数。例如，要执行三次， <code class="codeph">ctrlOptions</code>使用以下字符串设置<code class="codeph">ctrlOptions</code> ： <code class="codeph">'&lt;parameter name="mexec_count"&gt;3&lt;/parameter&gt;'</code> 。
                                       </p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">name="capture”</code> - <code class="codeph">BASIC</code> （默认值）或<code class="codeph">WITH_RUNTIME_INFO</code> 。此参数定义TCB捕获的模式。
                                             </p>
                                             <p><code class="codeph">BASIC</code> ：作为Oracle发布<span class="italic">11g</span> TCB运行，并捕获该版本中捕获的所有信息以及AWR报告，SQL监视器报告和参数信息。
                                             </p>
                                             <p><code class="codeph">WITH_RUNTIME_INFO</code> ：TCB捕获SQL的运行时信息，例如动态采样数据，绑定列表，动态计划信息以及在<code class="codeph">BASIC</code>模式下捕获的信息。
                                             </p>
                                             <p>请注意，它必须与<a href="DBMS_SQLDIAG.html#GUID-CCA6FA54-6283-48CC-835D-36176B2EBE5F" title="此过程将SQL测试用例导入到模式中。">IMPORT_SQL_TESTCASE过程中</a>使用的值相同。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">name="mexec_count”</code> - 值是任何正数（ <code class="codeph">N</code> ）。此参数告诉TCB执行<code class="codeph">N</code>次语句并在每次执行结束时捕获运行时信息。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">name="stat_history_since”</code> - 值是日期。使用此参数导出对象统计历史记录。将导出指定日期之后的统计历史记录。
                                             </p>
                                          </li>
                                          <li><code class="codeph">name="compress”</code> - 此选项用于将SQL Test Case Builder输出文件压缩为zip文件。
                                             <div class="p">可能的值是：<ul id="GUID-A6751459-6F1D-44C4-BDBB-AE855D01BACA__UL_PLC_P1W_ZGB" style="list-style-type:disc">
                                                   <li><code class="codeph">是</code> 
                                                   </li>
                                                   <li><code class="codeph">没有</code></li>
                                                </ul> 
                                             </div>
                                             <p>默认值为<code class="codeph">NO</code> 。</p>
                                          </li>
                                          <li><code class="codeph">name="diag_event"</code> - 此选项用于指定要包含在SQL Test Case Builder输出中的跟踪信息的级别。
                                             <div class="p">可能的值是：<ul id="GUID-A6751459-6F1D-44C4-BDBB-AE855D01BACA__UL_LYF_R1W_ZGB" style="list-style-type:disc">
                                                   <li><code class="codeph">ADS</code></li>
                                                   <li><code class="codeph">编译器</code></li>
                                                   <li><code class="codeph">SQLEXEC_LOW</code></li>
                                                   <li><code class="codeph">SQLEXEC_MEDIUM</code></li>
                                                   <li><code class="codeph">SQLEXEC_HIGH</code></li>
                                                   <li><code class="codeph">SQLEXEC_HIGHEST</code></li>
                                                </ul>
                                             </div>
                                             <p>默认值为<code class="codeph">ADS + COMPILER</code> 。</p>
                                          </li>
                                          <li><code class="codeph">name="problem_type"</code> - 此选项用于为SQL Test Case Builder测试用例分配问题类型。例如，如果测试用例与性能回归问题相关，则可以将PERFORMANCE的值分配给problem_type选项。
                                             <div class="p">可能的值是：<ul id="GUID-A6751459-6F1D-44C4-BDBB-AE855D01BACA__UL_JTH_51W_ZGB" style="list-style-type:disc">
                                                   <li><code class="codeph">性能</code></li>
                                                   <li><code class="codeph">WRONG_RESULTS</code></li>
                                                   <li><code class="codeph">COMPILATION_ERROR</code></li>
                                                   <li><code class="codeph">EXECUTION_ERROR</code></li>
                                                </ul>
                                             </div>
                                             <p>默认值为<code class="codeph">PERFORMANCE</code> 。</p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e3790" headers="d896739e3541 ">
                                       <p><code class="codeph">时限</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e3790 d896739e3544 ">
                                       <p>我们应该花多少时间导出SQL测试用例</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e3798" headers="d896739e3541 ">
                                       <p><code class="codeph">testcaseName</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e3798 d896739e3544 ">
                                       <p>SQL测试用例的可选名称。这用于为所有生成的脚本添加前缀</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e3806" headers="d896739e3541 ">
                                       <p><code class="codeph">测试用例</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e3806 d896739e3544 ">
                                       <p>结果测试用例</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e3814" headers="d896739e3541 ">
                                       <p><code class="codeph">preserveSchemaMapping</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e3814 d896739e3544 ">
                                       <p>如果架构（或架构）未从原始环境重新映射到测试环境，则为<code class="codeph">TRUE</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e3824" headers="d896739e3541 ">
                                       <p><code class="codeph">版</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e3824 d896739e3544 ">
                                       <p>要提取的数据库对象的版本。此选项仅对<code class="codeph">EXPORT</code>有效。不会提取与版本不兼容的数据库对象或属性。
                                       </p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">COMPATIBLE</code> - （默认）元数据的版本对应于数据库兼容级别和功能的兼容性版本级别（在<code class="codeph">V$COMPATIBILITY</code>视图中给出）。数据库兼容性必须设置为9.2或更高。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">LATEST</code> - 指定当前数据库版本的元数据版本。
                                             </p>
                                          </li>
                                          <li>
                                             <p>特定的数据库版本。例如，如果是<code class="codeph">'10.0.0'</code> ，则不能低于Oracle数据库10.0.0版。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A6751459-6F1D-44C4-BDBB-AE855D01BACA__GUID-DA894D03-16B8-43B7-9B2C-269C8EDC92BC">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>SQL测试用例生成一组文件，以帮助在不同的计算机上重现SQL故障。它包含：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>包含模式对象和统计信息的转储文件（ <code class="codeph">.dmp</code> ）</p>
                                 </li>
                                 <li>
                                    <p>报表的解释计划（在高级模式下）</p>
                                 </li>
                                 <li>
                                    <p>收集在违规声明上的诊断信息</p>
                                 </li>
                                 <li>
                                    <p>要执行以重新加载对象的导入脚本</p>
                                 </li>
                                 <li>
                                    <p>一个SQL脚本，用于重放源的系统统计信息</p>
                                 </li>
                                 <li>
                                    <p>描述SQL测试用例的目录文件</p>
                                 </li>
                                 <li>
                                    <p>元数据。 （ <code class="codeph">xxxxmain.xml</code> ）</p>
                                 </li>
                                 <li>
                                    <p>一个<code class="codeph">README.txt</code>文件，解释了TCB的用法</p>
                                 </li>
                                 <li>
                                    <p>语句使用的轮廓（ <code class="codeph">ol.xml</code> ）</p>
                                 </li>
                                 <li>
                                    <p>导出db / env（ <code class="codeph">prmimp.sql</code> ）中设置的参数列表</p>
                                 </li>
                                 <li>
                                    <p>SQL监视器报告（如果有）（ <code class="codeph">smrpt.html</code> ）</p>
                                 </li>
                                 <li>
                                    <p>AWR报告，如果有的话（ <code class="codeph">awrrpt.html</code> ）</p>
                                 </li>
                                 <li>
                                    <p>此语句中使用的绑定列表（ <code class="codeph">bndlst.xml</code> ）</p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>您不应该在用户<code class="codeph">SYS</code>下运行测试用例生成器（TCB）。而是使用可以被授予<code class="codeph">DBA</code>角色的其他用户。
                              </p>
                           </li>
                           <li>
                              <p>TCB的默认设置是不导出数据。但是，在某些情况下，需要数据，例如诊断结果并非最佳结果。要导出数据，请使用<code class="codeph">exportData=&gt;TRUE</code>调用<code class="codeph">EXPORT_SQL_TESTCASE</code> ，并且默认情况下将导入数据，除非通过<code class="codeph">importData=&gt;FALSE</code> <code class="codeph">OFF</code> 。</p>
                           </li>
                           <li>
                              <p>TCB默认包含PL / SQL包规范，但不包括PL / SQL包体。但是，您可能还需要具有包体，例如，调用PL / SQL函数，或者因为您在包中定义了虚拟专用数据库（VPD）函数。要导出PL / SQL包体，请使用<code class="codeph">exportPkgbody=&gt;TRUE</code>调用<code class="codeph">EXPORT_SQL_TESTCASE</code> 。要导入PL / SQL包主体，请使用i <code class="codeph">mportPkgbody=&gt;TRUE</code>调用<a href="DBMS_SQLDIAG.html#GUID-CCA6FA54-6283-48CC-835D-36176B2EBE5F" title="此过程将SQL测试用例导入到模式中。">IMPORT_SQL_TESTCASE过程</a> 。</p>
                           </li>
                           <li>
                              <p>要导出对象统计信息历史记录，数据库兼容性应设置为12.0或更高。</p>
                           </li>
                           <li>
                              <p>此过程不会导出全局临时表（GTT）上的数据和统计信息。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-A6751459-6F1D-44C4-BDBB-AE855D01BACA__GUID-C089E678-121E-4E02-B125-8CA8119AB2CF">例子</p>
                        <p>用户可以使用<code class="codeph">&lt;parameters&gt;</code>父标记或不使用父标记在<code class="codeph">ctrlOptions</code>指定多个参数。
                        </p>
                        <p>使用&lt;parameters&gt;标签</p><pre class="oac_no_warn" dir="ltr">&lt;parameters&gt; &lt;parameter name =“capture”&gt; with_runtime_info &lt;/ parameter&gt; &lt;parameter name =“mexec_count”&gt; 1 &lt;/ parameter&gt; &lt;/ parameters&gt;</pre><p>没有&lt;parameters&gt;标签</p><pre class="oac_no_warn" dir="ltr">&lt;parameter name =“capture”&gt; with_runtime_info &lt;/ parameter&gt; &lt;parameter name =“mexec_count”&gt; 1 &lt;/ parameter&gt;'</pre><p>您可以在<code class="codeph">ctrlOptions</code>参数中指定的<code class="codeph">compress</code>选项：</p><pre class="oac_no_warn" dir="ltr">opt：='&lt;parameters&gt; &lt;parameter name =“capture”&gt; with_runtime_info &lt;/ parameter&gt; &lt;parameter name =“compress”&gt; yes &lt;/ parameter&gt; &lt;/ parameters&gt;';</pre><p>该<code class="codeph">diag_event</code> ，你可以在指定选项<code class="codeph">ctrlOptions</code>参数：</p><pre class="oac_no_warn" dir="ltr">opt：='&lt;parameters&gt; &lt;parameter name =“capture”&gt; with_runtime_info &lt;/ parameter&gt; &lt;parameter name =“compress”&gt; yes &lt;/ parameter&gt; &lt;/ parameters&gt;';</pre><p>您可以在<code class="codeph">ctrlOptions</code>参数中指定的<code class="codeph">problem_type</code>选项：</p><pre class="oac_no_warn" dir="ltr">opt：='&lt;parameters&gt; &lt;parameter name =“capture”&gt; with_runtime_info &lt;/ parameter&gt; &lt;parameter name =“compress”&gt; yes &lt;/ parameter&gt; &lt;/ parameters&gt;';</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68323"></a><a id="ARPLS68324"></a><a id="ARPLS68324"></a><a id="ARPLS68323"></a><div class="props_rev_3"><a id="GUID-B65F156F-2903-49B0-91A3-A1A7A7A65F28" name="GUID-B65F156F-2903-49B0-91A3-A1A7A7A65F28"></a><h4 id="ARPLS-GUID-B65F156F-2903-49B0-91A3-A1A7A7A65F28" class="sect4"><span class="enumeration_section">159.4.12</span> EXPORT_SQL_TESTCASE_DIR_BY_INC函数</h4>
                  <div>
                     <p>此函数生成与作为参数传递的事件ID相对应的SQL测试用例。它在作为参数传递的目录中创建一组脚本和转储文件。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-B65F156F-2903-49B0-91A3-A1A7A7A65F28__GUID-D3661DA8-8ED9-4BF3-A9E3-8D0E7682CA65">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.EXPORT_SQL_TESTCASE_DIR_BY_INC（events_id IN NUMBER，目录IN VARCHAR2，exportEnvironment IN VARCHAR2：='TRUE'，exportMetadata IN VARCHAR2：='TRUE'，exportData IN VARCHAR2：='FALSE'，samplingPercent IN VARCHAR2：='100'，ctrlOptions IN VARCHAR2：= NULL版本IN VARCHAR2：='COMPATIBLE'）RETURN BOOLEAN;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-B65F156F-2903-49B0-91A3-A1A7A7A65F28__GUID-7E3813DE-F430-4A98-9E25-2F019F2FE7B3">参数</p>
                        <div class="tblformal" id="GUID-B65F156F-2903-49B0-91A3-A1A7A7A65F28__GUID-A84D3447-7D52-4A2E-98AF-79A7FB6821AC">
                           <p class="titleintable">表159-21 EXPORT_SQL_TESTCASE_DIR_BY_INC函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="EXPORT_SQL_TESTCASE_DIR_BY_INC函数参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_SQLDIAG.EXPORT_SQL_TESTCASE_DIR_BY_INC subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d896739e4135">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d896739e4138">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e4143" headers="d896739e4135 ">
                                       <p><code class="codeph">incident_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e4143 d896739e4138 ">
                                       <p>包含违规SQL的事件ID。有关突发事件的更多信息，请参阅“ <span class="italic">Oracle数据库性能调整指南”</span> 。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e4154" headers="d896739e4135 ">
                                       <p><code class="codeph">目录</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e4154 d896739e4138 ">
                                       <p>生成文件的目录路径</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e4162" headers="d896739e4135 ">
                                       <p><code class="codeph">exportEnvironment</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e4162 d896739e4138 ">
                                       <p>如果应导出编译环境，则为<code class="codeph">TRUE</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e4172" headers="d896739e4135 ">
                                       <p><code class="codeph">exportMetadata</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e4172 d896739e4138 ">
                                       <p>如果应导出SQL中引用的对象的定义，则为<code class="codeph">TRUE</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e4182" headers="d896739e4135 ">
                                       <p><code class="codeph">exportData</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e4182 d896739e4138 ">
                                       <p>如果应导出SQL中引用的对象的数据，则为<code class="codeph">TRUE</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e4192" headers="d896739e4135 ">
                                       <p><code class="codeph">samplingPercent</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e4192 d896739e4138 ">
                                       <p>如果为<code class="codeph">TRUE</code> ，请指定用于创建转储文件的采样百分比</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e4203" headers="d896739e4135 ">
                                       <p><code class="codeph">ctrlOptions</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e4203 d896739e4138 ">
                                       <p>不透明的控制参数。例如，要执行三次， <code class="codeph">ctrlOptions</code>使用以下字符串设置<code class="codeph">ctrlOptions</code> ： <code class="codeph">'&lt;parameter name="mexec_count"&gt;3&lt;/parameter&gt;'</code> 。
                                       </p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">capture</code> - <code class="codeph">BASIC</code> （默认）或<code class="codeph">WITH_RUNTIME_INFO</code> 。此参数定义TCB捕获的模式。
                                             </p>
                                             <p><code class="codeph">BASIC</code> ：作为Oracle发布<span class="italic">11g</span> TCB运行，并捕获该版本中捕获的所有信息以及AWR报告，SQL监视器报告和参数信息。
                                             </p>
                                             <p><code class="codeph">WITH_RUNTIME_INFO</code> ：TCB捕获SQL的运行时信息，例如动态采样数据，绑定列表，动态计划信息以及在<code class="codeph">BASIC</code>模式下捕获的信息。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">name=mexec_count</code> - 值是任何正数（ <code class="codeph">N</code> ）。此参数告诉TCB执行<code class="codeph">N</code>次语句并在每次执行结束时捕获运行时信息。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">name=stat_history_since</code> - 值为日期。使用此参数导出对象统计历史记录。将导出指定日期之后的统计历史记录。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e4259" headers="d896739e4135 ">
                                       <p><code class="codeph">版</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e4259 d896739e4138 ">
                                       <p>要提取的数据库对象的版本。此选项仅对<code class="codeph">EXPORT</code>有效。不会提取与版本不兼容的数据库对象或属性。
                                       </p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">COMPATIBLE</code> - （默认）元数据的版本对应于数据库兼容级别和功能的兼容性版本级别（在<code class="codeph">V$COMPATIBILITY</code>视图中给出）。数据库兼容性必须设置为9.2或更高。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">LATEST</code> - 指定当前数据库版本的元数据版本。
                                             </p>
                                          </li>
                                          <li>
                                             <p>特定的数据库版本。例如，如果是<code class="codeph">'10.0.0'</code> ，则不能低于Oracle数据库10.0.0版。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68325"></a><a id="ARPLS68326"></a><a id="ARPLS68326"></a><a id="ARPLS68325"></a><div class="props_rev_3"><a id="GUID-753A399D-8E8A-4375-B1B5-10286683E642" name="GUID-753A399D-8E8A-4375-B1B5-10286683E642"></a><h4 id="ARPLS-GUID-753A399D-8E8A-4375-B1B5-10286683E642" class="sect4"><span class="enumeration_section">159.4.13</span> EXPORT_SQL_TESTCASE_DIR_BY_TXT函数</h4>
                  <div>
                     <p>此函数生成与作为参数传递的SQL对应的SQL测试用例。它在作为参数传递的目录中创建一组脚本和转储文件。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-753A399D-8E8A-4375-B1B5-10286683E642__GUID-02654CAE-85A6-4C40-9A25-3DCE71F263D2">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.EXPORT_SQL_TESTCASE_DIR_BY_TXT（events_id IN NUMBER，目录IN VARCHAR2，sql_text IN CLOB，user_name IN VARCHAR2：='SYS'，exportEnvironment IN VARCHAR2：='TRUE'，exportMetadata IN VARCHAR2：='TRUE'，exportData IN VARCHAR2：='FALSE '，samplingPercent IN VARCHAR2：='100'，ctrlOptions IN VARCHAR2：= NULL version IN VARCHAR2：='COMPATIBLE'）RETURN BOOLEAN;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-753A399D-8E8A-4375-B1B5-10286683E642__GUID-4E78208E-89B8-4A02-B54E-C82135E1A794">参数</p>
                        <div class="tblformal" id="GUID-753A399D-8E8A-4375-B1B5-10286683E642__GUID-F1912692-B78D-44F9-8E14-80976A87DE61">
                           <p class="titleintable">表159-22 EXPORT_SQL_TESTCASE_DIR_BY_TXT函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="EXPORT_SQL_TESTCASE_DIR_BY_TXT函数参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_SQLDIAG.EXPORT_SQL_TESTCASE_DIR_BY_TXT subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d896739e4399">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d896739e4402">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e4407" headers="d896739e4399 ">
                                       <p><code class="codeph">incident_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e4407 d896739e4402 ">
                                       <p>包含违规SQL的事件ID</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e4415" headers="d896739e4399 ">
                                       <p><code class="codeph">目录</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e4415 d896739e4402 ">
                                       <p>用于存储各种生成文件的目录</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e4423" headers="d896739e4399 ">
                                       <p><code class="codeph">SQL_TEXT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e4423 d896739e4402 ">
                                       <p>要解释的SQL语句的文本</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e4431" headers="d896739e4399 ">
                                       <p><code class="codeph">用户名</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e4431 d896739e4402 ">
                                       <p>用于解析SQL的用户模式的名称，默认为<code class="codeph">SYS</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e4441" headers="d896739e4399 ">
                                       <p><code class="codeph">exportEnvironment</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e4441 d896739e4402 ">
                                       <p>如果应导出编译环境，则为<code class="codeph">TRUE</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e4451" headers="d896739e4399 ">
                                       <p><code class="codeph">exportMetadata</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e4451 d896739e4402 ">
                                       <p>如果应导出SQL中引用的对象的定义，则为<code class="codeph">TRUE</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e4461" headers="d896739e4399 ">
                                       <p><code class="codeph">exportData</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e4461 d896739e4402 ">
                                       <p>如果应导出SQL中引用的对象的数据，则为<code class="codeph">TRUE</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e4471" headers="d896739e4399 ">
                                       <p><code class="codeph">samplingPercent</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e4471 d896739e4402 ">
                                       <p>如果为<code class="codeph">TRUE</code> ，请指定用于创建转储文件的采样百分比</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e4482" headers="d896739e4399 ">
                                       <p><code class="codeph">ctrlOptions</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e4482 d896739e4402 ">
                                       <p>不透明的控制参数。例如，要执行三次， <code class="codeph">ctrlOptions</code>使用以下字符串设置<code class="codeph">ctrlOptions</code> ： <code class="codeph">'&lt;parameter name="mexec_count"&gt;3&lt;/parameter&gt;'</code> 。
                                       </p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">capture</code> - <code class="codeph">BASIC</code> （默认）或<code class="codeph">WITH_RUNTIME_INFO</code> 。此参数定义TCB捕获的模式。
                                             </p>
                                             <p><code class="codeph">BASIC</code> ：作为Oracle Release 11 <span class="italic">g</span> TCB运行，捕获该版本中捕获的所有信息以及AWR报告，SQL监视器报告和参数信息。
                                             </p>
                                             <p><code class="codeph">WITH_RUNTIME_INFO</code> ：TCB捕获SQL的运行时信息，例如动态采样数据，绑定列表，动态计划信息以及在<code class="codeph">BASIC</code>模式下捕获的信息。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">name=mexec_count</code> - 值是任何正数（ <code class="codeph">N</code> ）。此参数告诉TCB执行<code class="codeph">N</code>次语句并在每次执行结束时捕获运行时信息。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">name=stat_history_since</code> - 值为日期。使用此参数导出对象统计历史记录。将导出指定日期之后的统计历史记录。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e4538" headers="d896739e4399 ">
                                       <p><code class="codeph">版</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e4538 d896739e4402 ">
                                       <p>要提取的数据库对象的版本。此选项仅对<code class="codeph">EXPORT</code>有效。不会提取与版本不兼容的数据库对象或属性。
                                       </p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">COMPATIBLE</code> - （默认）元数据的版本对应于数据库兼容级别和功能的兼容性版本级别（在<code class="codeph">V$COMPATIBILITY</code>视图中给出）。数据库兼容性必须设置为9.2或更高。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">LATEST</code> - 指定当前数据库版本的元数据版本。
                                             </p>
                                          </li>
                                          <li>
                                             <p>特定的数据库版本。例如，如果是<code class="codeph">'10.0.0'</code> ，则不能低于Oracle Database Release 10.0.0。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68327"></a><a id="ARPLS68328"></a><a id="ARPLS68328"></a><a id="ARPLS68327"></a><div class="props_rev_3"><a id="GUID-BB1BE9F4-450B-4269-8203-7845A5D15BDF" name="GUID-BB1BE9F4-450B-4269-8203-7845A5D15BDF"></a><h4 id="ARPLS-GUID-BB1BE9F4-450B-4269-8203-7845A5D15BDF" class="sect4"><span class="enumeration_section">159.4.14</span> GET_FIX_CONTROL函数</h4>
                  <div>
                     <p>此函数返回给定错误号的修复控件的值。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-BB1BE9F4-450B-4269-8203-7845A5D15BDF__GUID-E563BDF5-1BB6-4CC3-B558-1362ABD74CA1">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.GET_FIX_CONTROL（bug_number IN NUMBER）返回号码;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-BB1BE9F4-450B-4269-8203-7845A5D15BDF__GUID-A15F0DA3-B12E-4F39-BEB4-2788E3BB7725">参数</p>
                        <div class="tblformal" id="GUID-BB1BE9F4-450B-4269-8203-7845A5D15BDF__GUID-FAF9767C-A270-4FD4-9904-611B83DEE53A">
                           <p class="titleintable">表159-23 GET_FIX_CONTROL函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="GET_FIX_CONTROL函数参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_SQLDIAG.GET_FIX_CONTROL subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d896739e4679">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d896739e4682">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e4687" headers="d896739e4679 ">
                                       <p><code class="codeph">bug_number</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e4687 d896739e4682 ">
                                       <p>错误号码</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS72879"></a><a id="ARPLS72880"></a><a id="ARPLS72880"></a><a id="ARPLS72879"></a><div class="props_rev_3"><a id="GUID-2E39041D-A7BF-4067-96C9-E78E810694E7" name="GUID-2E39041D-A7BF-4067-96C9-E78E810694E7"></a><h4 id="ARPLS-GUID-2E39041D-A7BF-4067-96C9-E78E810694E7" class="sect4"><span class="enumeration_section">159.4.15</span> GET_SQL函数</h4>
                  <div>
                     <p>此函数从与给定事件ID关联的跟踪文件中加载<code class="codeph">sql_setrow</code> 。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-2E39041D-A7BF-4067-96C9-E78E810694E7__GUID-BF8D28F1-DC6D-4B4D-B000-D84CE4DF1321">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.GET_SQL（incident_id IN VARCHAR2）RETURN SQLSET_ROW;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-2E39041D-A7BF-4067-96C9-E78E810694E7__GUID-8F1EEBA2-DB33-42D8-A4AE-D3676CAC3D0B">参数</p>
                        <div class="tblformal" id="GUID-2E39041D-A7BF-4067-96C9-E78E810694E7__GUID-24A8B442-975D-4E54-863B-FC5360886941">
                           <p class="titleintable">表159-24 GET_SQL函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="GET_SQL函数参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_SQLDIAG.GET_SQL subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d896739e4807">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d896739e4810">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e4815" headers="d896739e4807 ">
                                       <p><code class="codeph">incident_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e4815 d896739e4810 ">
                                       <p>事件的标识符</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS72881"></a><a id="ARPLS72882"></a><a id="ARPLS72882"></a><a id="ARPLS72881"></a><div class="props_rev_3"><a id="GUID-CCA6FA54-6283-48CC-835D-36176B2EBE5F" name="GUID-CCA6FA54-6283-48CC-835D-36176B2EBE5F"></a><h4 id="ARPLS-GUID-CCA6FA54-6283-48CC-835D-36176B2EBE5F" class="sect4"><span class="enumeration_section">159.4.16</span> IMPORT_SQL_TESTCASE过程</h4>
                  <div>
                     <p>此过程将SQL测试用例导入到模式中。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-CCA6FA54-6283-48CC-835D-36176B2EBE5F__GUID-2EF8CF98-D1A8-4023-9793-0C90ED715325">句法</p>
                        <p>此变体需要源目录和SQL Testcase元数据对象（XML格式）。</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.IMPORT_SQL_TESTCASE（目录IN VARCHAR2，sqlTestCase IN CLOB，importEnvironment IN BOOLEAN：= TRUE，importMetadata IN BOOLEAN：= TRUE，importData IN BOOLEAN：= TRUE，importPkgbody IN BOOLEAN：= FALSE，importDiagnosis IN BOOLEAN：= TRUE，ignoreStorage IN BOOLEAN ：= TRUE，ctrlOptions IN VARCHAR2：= NULL，preserveSchemaMapping IN BOOLEAN：= FALSE）;</pre><p>此变体需要SQL目录名称为SQL Testcase元数据文件。</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.IMPORT_SQL_TESTCASE（目录IN VARCHAR2，文件名IN VARCHAR2，importEnvironment IN BOOLEAN：= TRUE，importMetadata IN BOOLEAN：= TRUE，importData IN BOOLEAN：= TRUE，importPkgbody IN BOOLEAN：= FALSE，importDiagnosis IN BOOLEAN：= TRUE，ignoreStorage IN BOOLEAN ：= TRUE，ctrlOptions IN VARCHAR2：= NULL，preserveSchemaMapping IN BOOLEAN：= FALSE）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CCA6FA54-6283-48CC-835D-36176B2EBE5F__GUID-2F360242-FF55-406C-8588-CF33840701D5">参数</p>
                        <div class="tblformal" id="GUID-CCA6FA54-6283-48CC-835D-36176B2EBE5F__GUID-082D6723-6C04-4EA7-91BF-7D31998294CE">
                           <p class="titleintable">表159-25 IMPORT_SQL_TESTCASE过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="IMPORT_SQL_TESTCASE过程参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_SQLDIAG.IMPORT_SQL_TESTCASE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d896739e4938">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d896739e4941">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e4946" headers="d896739e4938 ">
                                       <p><code class="codeph">目录</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e4946 d896739e4941 ">
                                       <p>包含测试用例文件的目录</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e4954" headers="d896739e4938 ">
                                       <p><code class="codeph">文件名</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e4954 d896739e4941 ">
                                       <p>包含描述SQL测试用例的XML文档的文件的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e4962" headers="d896739e4938 ">
                                       <p><code class="codeph">importEnvironment</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e4962 d896739e4941 ">
                                       <p>如果应导入编译环境，则为<code class="codeph">TRUE</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e4972" headers="d896739e4938 ">
                                       <p><code class="codeph">importMetadata</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e4972 d896739e4941 ">
                                       <p>如果应导入SQL中引用的对象的定义，则为<code class="codeph">TRUE</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e4982" headers="d896739e4938 ">
                                       <p><code class="codeph">IMPORTDATA</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e4982 d896739e4941 ">
                                       <p>如果应导入SQL中引用的对象的数据，则为<code class="codeph">TRUE</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e4992" headers="d896739e4938 ">
                                       <p><code class="codeph">importPkgbody</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e4992 d896739e4941 ">
                                       <p>如果导入SQL中引用的包的主体，则为<code class="codeph">TRUE</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e5002" headers="d896739e4938 ">
                                       <p><code class="codeph">importDiagnosis</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e5002 d896739e4941 ">
                                       <p>如果应导入与任务关联的诊断信息，则为<code class="codeph">TRUE</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e5012" headers="d896739e4938 ">
                                       <p><code class="codeph">ignoreStorage</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e5012 d896739e4941 ">
                                       <p>如果应忽略存储属性，则为<code class="codeph">TRUE</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e5022" headers="d896739e4938 ">
                                       <p><code class="codeph">ctrlOptions</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e5022 d896739e4941 ">
                                       <p>不透明的控制参数，其中仅<code class="codeph">capture</code>对此子程序有效。
                                       </p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">capture</code> - <code class="codeph">BASIC</code> （默认）或<code class="codeph">WITH_RUNTIME_INFO</code> 。此参数定义TCB捕获的模式。
                                             </p>
                                             <p><code class="codeph">BASIC</code> ：作为Oracle Release 11 <span class="italic">g</span> TCB运行，捕获该版本中捕获的所有信息以及AWR报告，SQL监视器报告和参数信息。
                                             </p>
                                             <p><code class="codeph">WITH_RUNTIME_INFO</code> ：TCB捕获SQL的运行时信息，例如动态采样数据，绑定列表，动态计划信息以及在<code class="codeph">BASIC</code>模式下捕获的信息。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e5059" headers="d896739e4938 ">
                                       <p><code class="codeph">preserveSchemaMapping</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e5059 d896739e4941 ">
                                       <p>如果模式（或模式）未从原始环境重新映射到测试环境，则为<code class="codeph">TRUE</code> （目标数据库中的模式映射将与源数据库相同）。请注意，在将<code class="codeph">preservesSchemaMapping</code>设置为<code class="codeph">TRUE</code>情况下运行导入时，如果模式中的对象存在，则导入将覆盖现有对象。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-CCA6FA54-6283-48CC-835D-36176B2EBE5F__GUID-04500083-BB2D-43C8-B594-D02613CF0F56">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>SQL测试用例生成一组文件，以帮助在不同的计算机上重现SQL故障。它包含：</p>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>包含模式对象和统计信息的转储文件（ <code class="codeph">.dmp</code> ）</p>
                                 </li>
                                 <li>
                                    <p>报表的解释计划（在高级模式下）</p>
                                 </li>
                                 <li>
                                    <p>收集在违规声明上的诊断信息</p>
                                 </li>
                                 <li>
                                    <p>要执行以重新加载对象的导入脚本</p>
                                 </li>
                                 <li>
                                    <p>一个SQL脚本，用于重放源的系统统计信息</p>
                                 </li>
                                 <li>
                                    <p>描述SQL测试用例的目录文件</p>
                                 </li>
                                 <li>
                                    <p>元数据。 （ <code class="codeph">xxxxmain.xml</code> ）</p>
                                 </li>
                                 <li>
                                    <p>一个<code class="codeph">README.txt</code>文件，解释了TCB的用法</p>
                                 </li>
                                 <li>
                                    <p>语句使用的轮廓（ <code class="codeph">ol.xml</code> ）</p>
                                 </li>
                                 <li>
                                    <p>导出db / env（ <code class="codeph">prmimp.sql</code> ）中设置的参数列表</p>
                                 </li>
                                 <li>
                                    <p>SQL监视器报告（如果有）（ <code class="codeph">smrpt.html</code> ）</p>
                                 </li>
                                 <li>
                                    <p>AWR报告，如果有的话（ <code class="codeph">awrrpt.html</code> ）</p>
                                 </li>
                                 <li>
                                    <p>此语句中使用的绑定列表（ <code class="codeph">bndlst.xml</code> ）</p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>您不应该在用户<code class="codeph">SYS</code>下运行测试用例生成器（TCB）。而是使用可以被授予<code class="codeph">SYSDBA</code>权限的其他用户</p>
                           </li>
                           <li>
                              <p>TCB的默认设置是不导出数据。但是，在某些情况下，需要数据，例如诊断结果并非最佳结果。要导出数据，请使用<code class="codeph">exportData=&gt;TRUE</code>调用<a href="DBMS_SQLDIAG.html#GUID-A6751459-6F1D-44C4-BDBB-AE855D01BACA" title="此过程将SQL测试用例导出到目录。">EXPORT_SQL_TESTCASE过程</a> ，并且默认情况下将导入数据，除非通过<code class="codeph">importData=&gt;FALSE</code> <code class="codeph">OFF</code> 。</p>
                           </li>
                           <li>
                              <p>TCB默认包含PL / SQL包规范，但不包括PL / SQL包体。但是，您可能还需要具有包体，例如，调用PL / SQL函数，或者因为您在包中定义了虚拟专用数据库（VPD）函数。要导出PL / SQL包主体，请使用<code class="codeph">exportPkgbody=&gt;TRUE</code>调用<a href="DBMS_SQLDIAG.html#GUID-A6751459-6F1D-44C4-BDBB-AE855D01BACA" title="此过程将SQL测试用例导出到目录。">EXPORT_SQL_TESTCASE过程</a> 。要导入PL / SQL包主体，请使用i <code class="codeph">mportPkgbody=&gt;TRUE</code>调用<code class="codeph">IMPORT_SQL_TESTCASE</code>过程。</p>
                           </li>
                           <li>
                              <p>调用此过程时，必须使用调用<a href="DBMS_SQLDIAG.html#GUID-A6751459-6F1D-44C4-BDBB-AE855D01BACA" title="此过程将SQL测试用例导出到目录。">EXPORT_SQL_TESTCASE过程</a>时使用的<code class="codeph">capture</code>值。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68329"></a><a id="ARPLS68330"></a><a id="ARPLS68330"></a><a id="ARPLS68329"></a><div class="props_rev_3"><a id="GUID-7195A2B6-C3F8-4A7A-8A04-CB1D70743A39" name="GUID-7195A2B6-C3F8-4A7A-8A04-CB1D70743A39"></a><h4 id="ARPLS-GUID-7195A2B6-C3F8-4A7A-8A04-CB1D70743A39" class="sect4"><span class="enumeration_section">159.4.17 INCIDENTID_2_SQL</span>程序</h4>
                  <div>
                     <p>此过程从事件ID初始化<code class="codeph">sql_setrow</code> 。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-7195A2B6-C3F8-4A7A-8A04-CB1D70743A39__GUID-63CEB2C4-0FA6-4447-A59D-8F2758194A86">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.INCIDENTID_2_SQL（incident_id IN VARCHAR2，sql_stmt OUT SQLSET_ROW，problem_type OUT NUMBER，err_code OUT BINARY_INTEGER，err_mesg OUT VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-7195A2B6-C3F8-4A7A-8A04-CB1D70743A39__GUID-A8FF7B40-C47A-4CA7-AD0E-F69977454CC8">参数</p>
                        <div class="tblformal" id="GUID-7195A2B6-C3F8-4A7A-8A04-CB1D70743A39__GUID-0C0657FE-5555-4B03-AF00-D16DCD2063D6">
                           <p class="titleintable">表159-26 INCIDENTID_2_SQL过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="INCIDENTID_2_SQL过程参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_SQLDIAG.INCIDENTID_2_SQL subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d896739e5320">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d896739e5323">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e5328" headers="d896739e5320 ">
                                       <p><code class="codeph">incident_id</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e5328 d896739e5323 ">
                                       <p>事件的标识符</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e5336" headers="d896739e5320 ">
                                       <p><code class="codeph">sql_stmt</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e5336 d896739e5323 ">
                                       <p>结果SQL</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e5344" headers="d896739e5320 ">
                                       <p><code class="codeph">problem_type</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e5344 d896739e5323 ">
                                       <p>暂定类型的SQL问题（目前在<code class="codeph">PROBLEM_TYPE_COMPILATION_ERROR</code>和<code class="codeph">PROBLEM_TYPE_EXECUTION_ERROR</code> ）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e5358" headers="d896739e5320 ">
                                       <p><code class="codeph">err_code</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e5358 d896739e5323 ">
                                       <p>错误代码，否则设置为<code class="codeph">NULL</code></p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e5368" headers="d896739e5320 ">
                                       <p><code class="codeph">ERR_MSG</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e5368 d896739e5323 ">
                                       <p>如果有任何错误消息，则将其设置为<code class="codeph">NULL</code></p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68331"></a><a id="ARPLS68332"></a><a id="ARPLS68332"></a><a id="ARPLS68331"></a><div class="props_rev_3"><a id="GUID-067662B7-8784-4857-9FCB-BFA7E5F3A817" name="GUID-067662B7-8784-4857-9FCB-BFA7E5F3A817"></a><h4 id="ARPLS-GUID-067662B7-8784-4857-9FCB-BFA7E5F3A817" class="sect4"><span class="enumeration_section">159.4.18</span> INTERRUPT_DIAGNOSIS_TASK程序</h4>
                  <div>
                     <p>此过程会中断诊断任务。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-067662B7-8784-4857-9FCB-BFA7E5F3A817__GUID-7DB65F3D-4171-4DE8-B01D-345E7530B554">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.INTERRUPT_DIAGNOSIS_TASK（taskname IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-067662B7-8784-4857-9FCB-BFA7E5F3A817__GUID-78B852B1-B099-4D58-ABB1-54BCF9E54B52">参数</p>
                        <div class="tblformal" id="GUID-067662B7-8784-4857-9FCB-BFA7E5F3A817__GUID-147E02E6-7524-4011-B14F-DA8242E74538">
                           <p class="titleintable">表159-27 INTERRUPT_DIAGNOSIS_TASK过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="INTERRUPT_DIAGNOSIS_TASK过程参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_SQLDIAG.INTERRUPT_DIAGNOSIS_TASK subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d896739e5487">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d896739e5490">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e5495" headers="d896739e5487 ">
                                       <p><code class="codeph">任务名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e5495 d896739e5490 ">
                                       <p>任务名称</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS72883"></a><a id="ARPLS72884"></a><a id="ARPLS72884"></a><a id="ARPLS72883"></a><div class="props_rev_3"><a id="GUID-18D520F8-8D15-43B1-9ECA-F53EA1AB26E6" name="GUID-18D520F8-8D15-43B1-9ECA-F53EA1AB26E6"></a><h4 id="ARPLS-GUID-18D520F8-8D15-43B1-9ECA-F53EA1AB26E6" class="sect4"><span class="enumeration_section">159.4.19</span> LOAD_SQLSET_FROM_TCB函数</h4>
                  <div>
                     <p>此函数从Test Case Builder文件加载<code class="codeph">SQLSET</code> 。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-18D520F8-8D15-43B1-9ECA-F53EA1AB26E6__GUID-43E2A292-C6BA-45EE-9F59-30501A07035A">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.LOAD_SQLSET_FROM_TCB（目录IN VARCHAR2，文件名IN VARCHAR2，sqlset_name IN VARCHAR2 DEFAULT NULL）RETURN VARCHAR2;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-18D520F8-8D15-43B1-9ECA-F53EA1AB26E6__GUID-47BD360E-E21D-4039-A5C3-452390752A3E">参数</p>
                        <div class="tblformal" id="GUID-18D520F8-8D15-43B1-9ECA-F53EA1AB26E6__GUID-BB716BD5-A523-4AC1-94F7-DEFE5286EE18">
                           <p class="titleintable">表159-28 LOAD_SQLSET_FROM_TCB函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="LOAD_SQLSET_FROM_TCB函数参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_SQLDIAG.LOAD_SQLSET_FROM_TCB subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d896739e5615">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d896739e5618">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e5623" headers="d896739e5615 ">
                                       <p><code class="codeph">目录</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e5623 d896739e5618 ">
                                       <p>目录名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e5631" headers="d896739e5615 ">
                                       <p><code class="codeph">文件名</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e5631 d896739e5618 ">
                                       <p>文件名</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e5639" headers="d896739e5615 ">
                                       <p><code class="codeph">sqlset_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e5639 d896739e5618 ">
                                       <p><code class="codeph">SQLSET</code>名称</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68333"></a><a id="ARPLS68334"></a><a id="ARPLS68334"></a><a id="ARPLS68333"></a><div class="props_rev_3"><a id="GUID-267F2E69-DA8C-42FA-9EBF-3185016A2E33" name="GUID-267F2E69-DA8C-42FA-9EBF-3185016A2E33"></a><h4 id="ARPLS-GUID-267F2E69-DA8C-42FA-9EBF-3185016A2E33" class="sect4"><span class="enumeration_section">159.4.20</span> PACK_STGTAB_SQLPATCH程序</h4>
                  <div>
                     <p>此过程将SQL修补程序打包到通过调用CREATE_STGTAB_SQLPATCH过程创建的登台表中。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-267F2E69-DA8C-42FA-9EBF-3185016A2E33__GUID-17D5F57A-AFF4-48A6-A1EF-89E16E0E0F33">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.PACK_STGTAB_SQLPATCH（patch_name IN VARCHAR2：='％'，patch_category IN VARCHAR2：='DEFAULT'，staging_table_name IN VARCHAR2，staging_schema_owner IN VARCHAR2：= NULL）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-267F2E69-DA8C-42FA-9EBF-3185016A2E33__GUID-0F9BEF61-3589-4639-98DF-331103091FC9">参数</p>
                        <div class="tblformal" id="GUID-267F2E69-DA8C-42FA-9EBF-3185016A2E33__GUID-751AFAE0-94BA-446D-8F8E-C58C545CE6A2">
                           <p class="titleintable">表159-29 PACK_STGTAB_SQLPATCH过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="PACK_STGTAB_SQLPATCH过程参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_SQLDIAG.PACK_STGTAB_SQLPATCH subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d896739e5759">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d896739e5762">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e5767" headers="d896739e5759 ">
                                       <p><code class="codeph">修补程序名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e5767 d896739e5762 ">
                                       <p>要打包的修补程序的名称（可接受％通配符，区分大小写）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e5775" headers="d896739e5759 ">
                                       <p><code class="codeph">patch_category</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e5775 d896739e5762 ">
                                       <p>打包补丁的类别（％通配符可接受，不区分大小写）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e5783" headers="d896739e5759 ">
                                       <p><code class="codeph">staging_table_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e5783 d896739e5762 ">
                                       <p>（必填）要使用的表的名称（区分大小写）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e5791" headers="d896739e5759 ">
                                       <p><code class="codeph">staging_schema_owner</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e5791 d896739e5762 ">
                                       <p>表所在的模式，或当前模式的<code class="codeph">NULL</code> （区分大小写）</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-267F2E69-DA8C-42FA-9EBF-3185016A2E33__GUID-7E0EF83D-20A7-47B0-BC36-4356331ADBC4">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>需要：对登台表具有<code class="codeph">ADMINISTER</code> <code class="codeph">SQL</code> <code class="codeph">PLAN MANAGEMENT</code> <code class="codeph">OBJECT</code>权限和<code class="codeph">INSERT</code>权限</p>
                           </li>
                           <li>
                              <p>默认情况下，我们移动<code class="codeph">DEFAULT</code>类别中的所有SQL补丁。请注意，子程序在打包每个SQL补丁后发出<code class="codeph">COMMIT</code> ，因此如果在执行中期引发错误，则某些补丁可能位于登台表中。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="DBMS_SQLDIAG.html#GUID-8F00F3AE-FB8C-4387-96B2-AB0F418532D0" title="此过程创建用于将SQL修补程序从一个系统传输到另一个系统的临时表。">CREATE_STGTAB_SQLPATCH过程</a></li>
                        </ul>
                     </div>
                  </div>
               </div><a id="ARPLS73961"></a><a id="ARPLS73962"></a><a id="ARPLS73962"></a><a id="ARPLS73961"></a><div class="props_rev_3"><a id="GUID-66280D3C-B073-4B16-918D-8EC5EB348C26" name="GUID-66280D3C-B073-4B16-918D-8EC5EB348C26"></a><h4 id="ARPLS-GUID-66280D3C-B073-4B16-918D-8EC5EB348C26" class="sect4"><span class="enumeration_section">159.4.21</span> REPLAY_SQL_TESTCASE函数</h4>
                  <div>
                     <p>此函数可自动复制SQL测试用例。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-66280D3C-B073-4B16-918D-8EC5EB348C26__GUID-75E5B415-0843-4514-8A0D-7B35EA997C05">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.REPLAY_SQL_TESTCASE（目录IN VARCHAR2，文件名IN VARCHAR2，ctrlOptions IN VARCHAR2：= NULL，格式IN VARCHAR2：='TEXT'）返回CLOB; DBMS_SQLDIAG.REPLAY_SQL_TESTCASE（目录IN VARCHAR2，sqlTestCase IN CLOB，ctrlOptions IN VARCHAR2：= NULL，格式IN VARCHAR2：='TEXT'）RETURN CLOB;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-66280D3C-B073-4B16-918D-8EC5EB348C26__GUID-D01F281A-4708-48FA-BDFF-6651560F3B9A">参数</p>
                        <div class="tblformal" id="GUID-66280D3C-B073-4B16-918D-8EC5EB348C26__GUID-D3286357-8DB6-4ADE-B42D-436391ACC2F6">
                           <p class="titleintable">表159-30 REPLAY_SQL_TESTCASE函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="REPLAY_SQL_TESTCASE函数参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_SQLDIAG.REPLAY_SQL_TESTCASE subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d896739e5950">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d896739e5953">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e5958" headers="d896739e5950 ">
                                       <p><code class="codeph">目录</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e5958 d896739e5953 ">
                                       <p>包含测试用例文件的目录</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e5966" headers="d896739e5950 ">
                                       <p><code class="codeph">文件名</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e5966 d896739e5953 ">
                                       <p>包含描述SQL测试用例的XML文档的文件的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e5974" headers="d896739e5950 ">
                                       <p><code class="codeph">ctrlOptions</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e5974 d896739e5953 ">
                                       <p>不透明的控制参数。例如，要执行三次， <code class="codeph">ctrlOptions</code>使用以下字符串设置<code class="codeph">ctrlOptions</code> ： <code class="codeph">'&lt;parameter name="mexec_count"&gt;3&lt;/parameter&gt;'</code> 。
                                       </p>
                                       <ul style="list-style-type:disc">
                                          <li>
                                             <p><code class="codeph">replay</code> - <code class="codeph">EXPLAIN</code> （默认）， <code class="codeph">OUTLINE</code> ， <code class="codeph">EXECUTION</code>或<code class="codeph">OUTLINE EXECUTION</code> 。此参数定义TCB重播功能。
                                             </p>
                                             <p><code class="codeph">EXPLAIN</code> ：重播在不使用轮廓的情况下解释了该语句</p>
                                             <p><code class="codeph">OUTLINE</code> ：重播使用轮廓模式并使用轮廓解释声明</p>
                                             <p><code class="codeph">EXECUTION</code> ：重放执行语句而不使用轮廓</p>
                                             <p><code class="codeph">OUTLINE EXECUTION</code> ：重播使用轮廓执行语句</p>
                                             <p>请注意，如果用户提供的参数值不正确，则<code class="codeph">replay</code>将以默认模式运行，并且不会引发任何错误。
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">name=mexec_count</code> - 值是任何正数（ <code class="codeph">N</code> ）。此参数告诉TCB执行<code class="codeph">N</code>次语句并在每次执行结束时捕获运行时信息。
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e6038" headers="d896739e5950 ">
                                       <p><code class="codeph">sqlTestCase</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e6038 d896739e5953 ">
                                       <p>SQL测试用例</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e6046" headers="d896739e5950 ">
                                       <p><code class="codeph">格式</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e6046 d896739e5953 ">
                                       <p>重播报告的格式。可能的格式是： <code class="codeph">TEXT</code> ， <code class="codeph">XML</code>和<code class="codeph">HTML</code> ..
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-66280D3C-B073-4B16-918D-8EC5EB348C26__GUID-FA64327E-DE3D-4DD5-A91D-CF0ACE9ABB59">例子</p><pre class="oac_no_warn" dir="ltr">TCB重放模式：执行SELECT / * tcbdynpl_1 * / / * + gather_plan_statistics * / * FROM（SELECT * FROM emp，其中emp.sal&gt; 100）emp，dept WHERE emp.deptno = dept.deptno和emp.sal&gt; 1000 / * tcbdynpl_1 * /解释计划计划哈希值：2219294842 ---------------------------------------- ------------------------- | Id |操作|名称|行| -------------------------------------------------- --------------- | 0 |选择声明| | 13 | | * 1 | HASH JOIN | | 13 | | 2 | NESTED LOOPS | | | | 3 | NESTED LOOPS | | 13 | | 4 |统计收集者| | | | 5 |表访问完全| DEPT | 4 | | * 6 | INDEX RANGE SCAN | EMP_IDX_DEPTNO | | | * 7 |按INDEX ROWID表的访问权限| EMP | 3 | | * 8 |表访问完全| EMP | 13 | -------------------------------------------------- ---------------谓词信息（由操作ID标识）：-------------------------- ---------------- * 1  - 访问（“EMP”。“DEPTNO”=“DEPT”。“DEPTNO”）* 6  - 访问（“EMP”。“DEPTNO”= “DEPT”。“DEPTNO”）* 7  - 过滤器（“EMP”。“SAL”&gt; 1000）* 8  - 过滤器（“EMP”。“SAL”&gt; 1000）运行时计划计划哈希值：2219294842 ----- -------------------------------------------------- | Id |操作|名称|电子贺卡| A卡| -------------------------------------------------- ----- | 0 |选择声明| | | 0 | | * 1 | HASH JOIN | | 13 | 0 | | 2 |表访问完全| DEPT | 4 | 0 | | * 3 |表访问完全| EMP | 13 | 0 | -------------------------------------------------- -----谓词信息（由操作ID标识）：------------------------------------ ------ * 1  - 访问（“EMP”。“DEPTNO”=“DEPT”。“DEPTNO”）* 3  - 过滤器（“EMP”。“SAL”&gt; 1000）REPLAY注意：----- ------  - 重播使用动态采样 - 重播强制动态计划</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68335"></a><a id="ARPLS68336"></a><a id="ARPLS68336"></a><a id="ARPLS68335"></a><div class="props_rev_3"><a id="GUID-605CE778-744A-437F-97D9-EA942939C697" name="GUID-605CE778-744A-437F-97D9-EA942939C697"></a><h4 id="ARPLS-GUID-605CE778-744A-437F-97D9-EA942939C697" class="sect4"><span class="enumeration_section">159.4.22</span> REPORT_DIAGNOSIS_TASK功能</h4>
                  <div>
                     <p>此功能报告诊断任务。它返回包含所需报告的<code class="codeph">CLOB</code> 。
                     </p>
                     <div class="section">
                        <p class="subhead3" id="GUID-605CE778-744A-437F-97D9-EA942939C697__GUID-3958363C-7266-4B51-8AD3-C040B47F3AFB">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.REPORT_DIAGNOSIS_TASK（任务名称IN VARCHAR2，输入IN VARCHAR2：= TYPE_TEXT，级别IN VARCHAR2：= LEVEL_TYPICAL，部分IN VARCHAR2：= SECTION_ALL，object_id IN NUMBER：= NULL，result_limit IN NUMBER：= NULL，owner_name IN VARCHAR2：= NULL）返回CLOB;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-605CE778-744A-437F-97D9-EA942939C697__GUID-610275F5-B267-4FDB-B691-108A2B20FE21">参数</p>
                        <div class="tblformal" id="GUID-605CE778-744A-437F-97D9-EA942939C697__GUID-F792199F-B619-483C-A69F-DCA197465E08">
                           <p class="titleintable">表159-31 REPORT_DIAGNOSIS_TASK函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="REPORT_DIAGNOSIS_TASK函数参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_SQLDIAG.RESUME_DIAGNOSIS_TASK subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d896739e6180">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d896739e6183">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e6188" headers="d896739e6180 ">
                                       <p><code class="codeph">任务名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e6188 d896739e6183 ">
                                       <p>要报告的任务的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e6196" headers="d896739e6180 ">
                                       <p><code class="codeph">类型</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e6196 d896739e6183 ">
                                       <p>报告的类型。可能的值有：TEXT，HTML，XML（ <a href="DBMS_SQLDIAG.html#GUID-CEACAAE2-F425-496C-9FD3-40B208035060__CEGIIAJH" title="此表描述DBMS_SQLDIAG子程序使用的常量（报告类型（可能的值）常量）。">参见表159-4</a> ）。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e6209" headers="d896739e6180 ">
                                       <p><code class="codeph">水平</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e6209 d896739e6183 ">
                                       <p>建议的格式。可能的值为TYPICAL，BASIC，ALL（ <a href="DBMS_SQLDIAG.html#GUID-CEACAAE2-F425-496C-9FD3-40B208035060__CEGHJADG" title="此表描述DBMS_SQLDIAG子程序使用的常量（报告级别（可能的值）常量）。">表159-5</a> ）。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e6222" headers="d896739e6180 ">
                                       <p><code class="codeph">部分</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e6222 d896739e6183 ">
                                       <p>报告中的特定部分。可能的值有： <a href="DBMS_SQLDIAG.html#GUID-CEACAAE2-F425-496C-9FD3-40B208035060__CEGDCJGI" title="This table describes Constants (Report Section (possible values) Constants) used by DBMS_SQLDIAG subprograms.">Summary，FINDINGS</a> ，PLAN，INFORMATION，ERROR，ALL（ <a href="DBMS_SQLDIAG.html#GUID-CEACAAE2-F425-496C-9FD3-40B208035060__CEGDCJGI" title="此表描述DBMS_SQLDIAG子程序使用的常量（报表部分（可能的值）常量）。">表159-6</a> ）。
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e6235" headers="d896739e6180 ">
                                       <p><code class="codeph">OBJECT_ID</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e6235 d896739e6183 ">
                                       <p>表示SQL调优集（STS）中给定语句的顾问程序框架对象的标识符。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e6243" headers="d896739e6180 ">
                                       <p><code class="codeph">RESULT_LIMIT</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e6243 d896739e6183 ">
                                       <p>生成报告的STS中的语句数</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e6251" headers="d896739e6180 ">
                                       <p><code class="codeph">OWNER_NAME</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e6251 d896739e6183 ">
                                       <p>要使用的任务执行的名称。如果为<code class="codeph">NULL</code> ，则将为上次执行任务生成报告。
                                       </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68337"></a><a id="ARPLS68338"></a><a id="ARPLS68338"></a><a id="ARPLS68337"></a><div class="props_rev_3"><a id="GUID-FD120209-62E6-488C-9CE1-547408A3B81E" name="GUID-FD120209-62E6-488C-9CE1-547408A3B81E"></a><h4 id="ARPLS-GUID-FD120209-62E6-488C-9CE1-547408A3B81E" class="sect4"><span class="enumeration_section">159.4.23</span> RESET_DIAGNOSIS_TASK程序</h4>
                  <div>
                     <p>此过程将重置诊断任务。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-FD120209-62E6-488C-9CE1-547408A3B81E__GUID-FFFE7221-0172-4952-BAF5-8F0FDDE91B3D">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.RESET_DIAGNOSIS_TASK（任务名称IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-FD120209-62E6-488C-9CE1-547408A3B81E__GUID-80061C26-48C2-4339-A882-E2BCF6F8D52E">参数</p>
                        <div class="tblformal" id="GUID-FD120209-62E6-488C-9CE1-547408A3B81E__GUID-8482BA12-2747-460A-A89B-6106580AFC7B">
                           <p class="titleintable">表159-32 RESET_DIAGNOSIS_TASK过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="RESET_DIAGNOSIS_TASK过程参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_SQLDIAG.RESET_DIAGNOSIS_TASK subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d896739e6372">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d896739e6375">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e6380" headers="d896739e6372 ">
                                       <p><code class="codeph">任务名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e6380 d896739e6375 ">
                                       <p>任务名称</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68339"></a><a id="ARPLS68340"></a><a id="ARPLS68340"></a><a id="ARPLS68339"></a><div class="props_rev_3"><a id="GUID-DD13BFCE-FE19-47A5-B0DA-33A389D3C15F" name="GUID-DD13BFCE-FE19-47A5-B0DA-33A389D3C15F"></a><h4 id="ARPLS-GUID-DD13BFCE-FE19-47A5-B0DA-33A389D3C15F" class="sect4"><span class="enumeration_section">159.4.24</span> RESUME_DIAGNOSIS_TASK程序</h4>
                  <div>
                     <p>此过程将恢复诊断路径。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-DD13BFCE-FE19-47A5-B0DA-33A389D3C15F__GUID-9FA7CBCE-579B-4E7C-944E-A42BA4F8A9FB">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.RESUME_DIAGNOSIS_TASK（taskname IN VARCHAR2）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DD13BFCE-FE19-47A5-B0DA-33A389D3C15F__GUID-4F672596-F65B-4AA6-8020-89763D731210">参数</p>
                        <div class="tblformal" id="GUID-DD13BFCE-FE19-47A5-B0DA-33A389D3C15F__GUID-4BC24726-EFE5-4AED-A589-48FB41665A0E">
                           <p class="titleintable">表159-33 RESUME_DIAGNOSIS_TASK过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="RESUME_DIAGNOSIS_TASK过程参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_SQLDIAG.RESUME_DIAGNOSIS_TASK subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d896739e6497">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d896739e6500">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e6505" headers="d896739e6497 ">
                                       <p><code class="codeph">任务名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e6505 d896739e6500 ">
                                       <p>任务名称</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68341"></a><a id="ARPLS68342"></a><a id="ARPLS68342"></a><a id="ARPLS68341"></a><div class="props_rev_3"><a id="GUID-68E59AA0-4ABD-4B31-85EA-3AC5A89C019A" name="GUID-68E59AA0-4ABD-4B31-85EA-3AC5A89C019A"></a><h4 id="ARPLS-GUID-68E59AA0-4ABD-4B31-85EA-3AC5A89C019A" class="sect4"><span class="enumeration_section">159.4.25</span> SET_DIAGNOSIS_TASK_PARAMETER过程</h4>
                  <div>
                     <p>调用此过程以更新<code class="codeph">VARCHAR2</code>类型的SQL诊断参数的值。
                     </p>
                     <div class="section">
                        <p>在调用此过程之前，必须将任务设置为其初始状态。可以通过此过程设置的诊断参数是：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p><code class="codeph">MODE</code> ：诊断范围（全面，有限）</p>
                           </li>
                           <li>
                              <p><code class="codeph">_SQLDIAG_FINDING_MODE</code> ：报告中的发现（有关可能的值，请参阅<span class="q">“ <a href="DBMS_SQLDIAG.html#GUID-CEACAAE2-F425-496C-9FD3-40B208035060__CEGBICBE" title="此表描述DBMS_SQLDIAG子程序使用的常量（查找过滤器常量）。">表159-8</a> ”</span> ）</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-68E59AA0-4ABD-4B31-85EA-3AC5A89C019A__GUID-51CD4028-31FC-4F73-ACBF-06E868B54326">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.SET_DIAGNOSIS_TASK_PARAMETER（任务名称IN VARCHAR2，参数IN VARCHAR2，值IN NUMBER）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-68E59AA0-4ABD-4B31-85EA-3AC5A89C019A__GUID-6ED4B322-F1E4-4C51-AB98-69DB00416A50">参数</p>
                        <div class="tblformal" id="GUID-68E59AA0-4ABD-4B31-85EA-3AC5A89C019A__GUID-DE35556F-4CB2-4FF6-A5AB-56A495D04B58">
                           <p class="titleintable">表159-34 SET_DIAGNOSIS_TASK_PARAMETER过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SET_DIAGNOSIS_TASK_PARAMETER过程参数" width="100%" border="1" summary="This table describes the parameters used by the DBMS_SQLDIAG.SET_DIAGNOSIS_TASK_PARAMETER subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d896739e6645">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d896739e6648">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e6653" headers="d896739e6645 ">
                                       <p><code class="codeph">任务名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e6653 d896739e6648 ">
                                       <p>要执行的任务的标识符</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e6661" headers="d896739e6645 ">
                                       <p><code class="codeph">参数</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e6661 d896739e6648 ">
                                       <p>要设置的参数的名称</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e6669" headers="d896739e6645 ">
                                       <p><code class="codeph">值</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e6669 d896739e6648 ">
                                       <p>指定参数的新值</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-5B000758-3E3F-4F8B-83B6-DBCBE4815B2C" name="GUID-5B000758-3E3F-4F8B-83B6-DBCBE4815B2C"></a><h4 id="ARPLS-GUID-5B000758-3E3F-4F8B-83B6-DBCBE4815B2C" class="sect4"><span class="enumeration_section">159.4.26</span> SQL_DIAGNOSE_AND_REPAIR函数</h4>
                  <div>
                     <p>针对给定问题类型诊断给定SQL ID的给定SQL语句。此函数创建事件，使用所需信息（如SQL ID，SQL文本，编译环境等）填充事件元数据。它还创建诊断任务，执行它并接受给定SQL ID的SQL PATCH建议。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-5B000758-3E3F-4F8B-83B6-DBCBE4815B2C__GUID-D789B2C4-F014-4398-93C5-40801FC29B8A">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.SQL_DIAGNOSE_AND_REPAIR（sql_text IN CLOB，bind_list IN sql_binds：= NULL，范围IN VARCHAR2：= SCOPE_COMPREHENSIVE，time_limit IN NUMBER：= TIME_LIMIT_DEFAULT，problem_type IN NUMBER：= PROBLEM_TYPE_PERFORMANCE，auto_apply_patch IN VARCHAR2：= YES）返回号码; DBMS_SQLDIAG.SQL_DIAGNOSE_AND_REPAIR（sql_id IN VARCHAR2，plan_hash_value IN NUMBER：= NULL，范围IN VARCHAR2：= SCOPE_COMPREHENSIVE，time_limit IN NUMBER：= TIME_LIMIT_DEFAULT，problem_type IN NUMBER：= PROBLEM_TYPE_PERFORMANCE，auto_apply_patch IN VARCHAR2：= YES）返回号码; DBMS_SQLDIAG.SQL_DIAGNOSE_AND_REPAIR（Incident_id IN VARCHAR2，范围IN VARCHAR2：= SCOPE_COMPREHENSIVE，time_limit IN NUMBER：= TIME_LIMIT_DEFAULT，problem_type IN NUMBER：= PROBLEM_TYPE_PERFORMANCE，auto_apply_patch IN VARCHAR2：= YES）返回号码;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-5B000758-3E3F-4F8B-83B6-DBCBE4815B2C__GUID-A74B4B0B-A18D-442B-AAF9-9047776096A1">参数</p>
                        <div class="tblformal" id="GUID-5B000758-3E3F-4F8B-83B6-DBCBE4815B2C__GUID-BEE2192D-C462-4AB9-B641-BCB33C8FB044">
                           <p class="titleintable">表159-35 SQL_DIAGNOSE_AND_REPAIR函数参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="SQL_DIAGNOSE_AND_REPAIR函数参数" width="100%" border="1" summary="This table describes the parameters used by the DBMS_SQLDIAG.SQL_DIAGNOSE_AND_REPAIR subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d896739e6783">参数</th>
                                    <th align="left" valign="bottom" id="d896739e6786">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d896739e6791" headers="d896739e6783 ">
                                       <p><code class="codeph">SQL_TEXT</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d896739e6791 d896739e6786 ">
                                       <p>SQL语句的文本。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d896739e6799" headers="d896739e6783 ">
                                       <p><code class="codeph">SQL_ID</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d896739e6799 d896739e6786 ">
                                       <p>SQL查询的SQL ID。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d896739e6807" headers="d896739e6783 ">
                                       <p><code class="codeph">plan_hash_value</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d896739e6807 d896739e6786 ">
                                       <p>用于诊断的计划。默认值为<code class="codeph">NULL</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d896739e6818" headers="d896739e6783 ">
                                       <p><code class="codeph">bind_list</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d896739e6818 d896739e6786 ">
                                       <p>绑定用于诊断。默认值为<code class="codeph">NULL</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d896739e6829" headers="d896739e6783 ">
                                       <p><code class="codeph">范围</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d896739e6829 d896739e6786 ">
                                       <p>诊断顾问的范围。</p>
                                       <div class="p">可能的值是：<ul style="list-style-type:disc">
                                             <li>
                                                <p><code class="codeph">SCOPE_LIMITED</code> - <code class="codeph">SCOPE_LIMITED</code>给定的SQL调用索引和计划分析。</p>
                                             </li>
                                             <li>
                                                <p><code class="codeph">SCOPE_COMPREHENSIVE</code>包括索引和计划分析，首先调用自动调整来调整语句。
                                                </p>
                                             </li>
                                          </ul>
                                       </div>
                                       <p>默认值为<code class="codeph">SCOPE_COMPREHENSIVE</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d896739e6855" headers="d896739e6783 ">
                                       <p><code class="codeph">时限</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d896739e6855 d896739e6786 ">
                                       <p>诊断任务的时间限制。默认值为<code class="codeph">TIME_LIMIT_DEFAULT</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d896739e6866" headers="d896739e6783 ">
                                       <p><code class="codeph">problem_type</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d896739e6866 d896739e6786 ">
                                       <div class="p">正在诊断的问题类型。支持以下问题类型：<ul style="list-style-type:disc">
                                             <li>
                                                <p><code class="codeph">PROBLEM_TYPE_PERFORMANCE</code> -performance问题。
                                                </p>
                                             </li>
                                             <li>
                                                <p><code class="codeph">PROBLEM_TYPE_WRONG_RESULTS</code> - 结果不正确。
                                                </p>
                                             </li>
                                             <li>
                                                <p>在编译语句期间<code class="codeph">PROBLEM_TYPE_COMPILATION_ERROR</code> -crash。
                                                </p>
                                             </li>
                                             <li>
                                                <p><code class="codeph">PROBLEM_TYPE_EXECUTION_ERROR</code> - 在执行语句期间崩溃。
                                                </p>
                                             </li>
                                          </ul>
                                       </div>
                                       <p>默认值为<code class="codeph">PROBLEM_TYPE_PERFORMANCE</code> 。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d896739e6900" headers="d896739e6783 ">
                                       <p><code class="codeph">auto_apply_patch</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d896739e6900 d896739e6786 ">
                                       <div class="p">一个值，用于确定是否需要接受建议的SQL修补程序。可能的值是：<ul style="list-style-type:disc">
                                             <li>
                                                <p><code class="codeph">YES</code>接受推荐的SQL补丁。
                                                </p>
                                             </li>
                                             <li>
                                                <p><code class="codeph">NO</code>不会自动接受推荐的SQL补丁。
                                                </p>
                                                <p>用户需要手动接受SQL补丁。</p>
                                             </li>
                                          </ul>
                                       </div>
                                       <p>默认值为<code class="codeph">YES</code> 。</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="ARPLS68343"></a><a id="ARPLS68344"></a><a id="ARPLS68344"></a><a id="ARPLS68343"></a><div class="props_rev_3"><a id="GUID-3FB40BEA-F858-444A-9BE1-99DA90ED84F0" name="GUID-3FB40BEA-F858-444A-9BE1-99DA90ED84F0"></a><h4 id="ARPLS-GUID-3FB40BEA-F858-444A-9BE1-99DA90ED84F0" class="sect4"><span class="enumeration_section">159.4.27</span> UNPACK_STGTAB_SQLPATCH程序</h4>
                  <div>
                     <p>此过程从通过调用PACK_STGTAB_SQLPATCH过程填充的登台表中解压缩。它使用存储在登台表中的补丁数据在此系统上创建补丁。用户可以选择使用已存在的补丁数据替换现有补丁。在这种情况下，请注意，如果名称相同，则只能替换引用相同语句的补丁（请参阅ACCEPT_SQL_PATCH函数和过程）。</p>
                     <div class="section">
                        <p class="subhead3" id="GUID-3FB40BEA-F858-444A-9BE1-99DA90ED84F0__GUID-AC26EEAB-CACF-4DDB-9985-02396B3D0CC0">句法</p><pre class="oac_no_warn" dir="ltr">DBMS_SQLDIAG.UPPACK_STGTAB_SQLPATCH（patch_name IN VARCHAR2：='％'，patch_category IN VARCHAR2：='％'，替换IN BOOLEAN，staging_table_name IN VARCHAR2，staging_schema_owner IN VARCHAR2：= NULL）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3FB40BEA-F858-444A-9BE1-99DA90ED84F0__GUID-2010027E-D878-4EE3-BED9-871FFBF513CA">参数</p>
                        <div class="tblformal" id="GUID-3FB40BEA-F858-444A-9BE1-99DA90ED84F0__GUID-D5173FCE-8BC3-4F28-B7F6-F59A17A60054">
                           <p class="titleintable">表159-36 UPPACK_STGTAB_SQLPATCH过程参数</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="UPPACK_STGTAB_SQLPATCH过程参数" width="100%" border="1" summary="This table describes Parameters used by the DBMS_SQLDIAG.UPPACK_STGTAB_SQLPATCH subprogram." frame="hsides" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="31%" id="d896739e7035">参数</th>
                                    <th align="left" valign="bottom" width="69%" id="d896739e7038">描述</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e7043" headers="d896739e7035 ">
                                       <p><code class="codeph">修补程序名称</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e7043 d896739e7038 ">
                                       <p>要解压缩的补丁名称（可接受％通配符，区分大小写）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e7051" headers="d896739e7035 ">
                                       <p><code class="codeph">patch_category</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e7051 d896739e7038 ">
                                       <p>从中解压缩补丁的类别（％通配符可接受，不区分大小写）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e7059" headers="d896739e7035 ">
                                       <p><code class="codeph">更换</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e7059 d896739e7038 ">
                                       <p>替换补丁（如果已存在）。请注意，如果登台表中存在与不同SQL上的活动修补程序同名的修补程序，则无法替换修补程序。如果尝试创建已存在的补丁，则子程序会引发错误。</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e7067" headers="d896739e7035 ">
                                       <p><code class="codeph">staging_table_name</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e7067 d896739e7038 ">
                                       <p>（必填）要使用的表的名称（区分大小写）</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="31%" id="d896739e7075" headers="d896739e7035 ">
                                       <p><code class="codeph">staging_schema_owner</code></p>
                                    </td>
                                    <td align="left" valign="top" width="69%" headers="d896739e7075 d896739e7038 ">
                                       <p>表所在的模式，或当前模式的<code class="codeph">NULL</code> （区分大小写）</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-3FB40BEA-F858-444A-9BE1-99DA90ED84F0__GUID-2E43C7FC-FC44-4120-B7CC-2CADCFDCE5CB">使用说明</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>需要：对登台表具有<code class="codeph">ADMINISTER</code> <code class="codeph">SQL</code> <code class="codeph">MANAGEMENT</code> <code class="codeph">OBJECT</code>权限和<code class="codeph">SELECT</code>或<code class="codeph">READ</code>权限</p>
                           </li>
                           <li>
                              <p>默认情况下，将移动登台表中的所有SQL修补程序。成功加载每个补丁后，该函数将提交。如果创建单个修补程序失败，则会引发错误，并且不会继续执行暂存表中剩余的修补程序。</p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>相关话题</strong></p>
                        <ul>
                           <li><a href="DBMS_SQLDIAG.html#GUID-267F2E69-DA8C-42FA-9EBF-3185016A2E33" title="此过程将SQL修补程序打包到通过调用CREATE_STGTAB_SQLPATCH过程创建的登台表中。">PACK_STGTAB_SQLPATCH程序</a></li>
                           <li><a href="DBMS_SQLDIAG.html#GUID-7B1BC73D-69FB-4A7E-A843-BD450193B7DA" title="此过程接受指定SQL诊断任务建议的建议SQL修补程序。">ACCEPT_SQL_PATCH函数和过程</a></li>
                        </ul>
                     </div>
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>