<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <title>Discovering Metadata</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Java API Developer's Guide ">
      <meta property="og:description" content>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Java API Developer's Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="olap-java-api-developers-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-01-10T13:53:39-08:00">
      
      <meta name="dcterms.dateCopyrighted" content="2000, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96402-01">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="understanding-olap-java-api-metadata.html" title="Previous" type="text/html">
      <link rel="next" href="creating-metadata-and-analytic-workspaces.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="OLAP Java API Developer's Guide">
    <meta name="dcterms.isVersionOf" content="OLAAP">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="understanding-olap-java-api-metadata.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="creating-metadata-and-analytic-workspaces.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Java API Developer's Guide </span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem"> Discovering Metadata</li>
            </ol>
            <a id="GUID-0F34DAE9-AD90-4107-A14D-4DA29A13A369" name="GUID-0F34DAE9-AD90-4107-A14D-4DA29A13A369"></a><a id="OLAAP192"></a>
            
            <h2 id="OLAAP-GUID-0F34DAE9-AD90-4107-A14D-4DA29A13A369" class="sect2"><span class="enumeration_chapter">3 </span> Discovering Metadata
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>This chapter describes how to connect to an Oracle Database instance and how to discover existing Oracle OLAP metadata objects. It includes the following topics:</p>
               <ul style="list-style-type: disc;">
                  <li>
                     <p><a href="discovering-metadata.html#GUID-C52FB8BE-E358-476B-B6F4-EFFD63A763C5">Connecting to Oracle OLAP</a></p>
                  </li>
                  <li>
                     <p><a href="discovering-metadata.html#GUID-7C32D99F-9420-4083-B431-3D481DF6D5A5">Overview of the Procedure for Discovering Metadata</a></p>
                  </li>
                  <li>
                     <p><a href="discovering-metadata.html#GUID-97258A59-DFD0-4148-910B-F755E1863CEC">Creating an MdmMetadataProvider</a></p>
                  </li>
                  <li>
                     <p><a href="discovering-metadata.html#GUID-16169952-DB41-4C4B-A865-88A968BF30EE">Getting the MdmSchema Objects</a></p>
                  </li>
                  <li>
                     <p><a href="discovering-metadata.html#GUID-3E74DDA7-CCAB-4675-877C-BD5A3524C099">Getting the Contents of an MdmSchema</a></p>
                  </li>
                  <li>
                     <p><a href="discovering-metadata.html#GUID-6EA02C02-26C9-402E-9D1F-F40957D12156">Getting the Objects Contained by an MdmPrimaryDimension</a></p>
                  </li>
                  <li>
                     <p><a href="discovering-metadata.html#GUID-EB1B2BAF-3378-439E-92A1-D893E3059217">Getting the Source for a Metadata Object</a></p>
                  </li>
               </ul>
            </div><a id="OLAAP193"></a><div class="props_rev_3"><a id="GUID-C52FB8BE-E358-476B-B6F4-EFFD63A763C5" name="GUID-C52FB8BE-E358-476B-B6F4-EFFD63A763C5"></a><h3 id="OLAAP-GUID-C52FB8BE-E358-476B-B6F4-EFFD63A763C5" class="sect3"><span class="enumeration_section">3.1 </span>Connecting to Oracle OLAP
               </h3>
               <div>
                  <p>To connect to the Oracle OLAP server in an Oracle Database instance, an OLAP Java API client application uses the Oracle implementation of the Java Database Connectivity (JDBC) API. The Oracle JDBC classes that you use to establish a connection to Oracle OLAP are in the Java archive file <code class="codeph">ojdbc6.jar</code>. For information about getting that file, see <a href="setting-up-development-environment.html#GUID-32895224-13F7-444D-A7DB-88DE88577ADC"> Setting Up the Development Environment</a>.
                  </p>
                  <p>The following topics describe creating a connection to Oracle OLAP.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="discovering-metadata.html#GUID-201C482C-51FC-414C-AC2D-D8B61F0732AA">Prerequisites for Connecting</a></p>
                     </li>
                     <li>
                        <p><a href="discovering-metadata.html#GUID-AC01B619-A83D-4F3D-A10D-C7282DA4EC3D">Establishing a Connection</a></p>
                     </li>
                     <li>
                        <p><a href="discovering-metadata.html#GUID-8AC173E6-ADB0-4E58-A64C-7BDAABDB07F3">Closing the Connection and the DataProvider</a></p>
                     </li>
                  </ul>
               </div><a id="OLAAP194"></a><div class="props_rev_3"><a id="GUID-201C482C-51FC-414C-AC2D-D8B61F0732AA" name="GUID-201C482C-51FC-414C-AC2D-D8B61F0732AA"></a><h4 id="OLAAP-GUID-201C482C-51FC-414C-AC2D-D8B61F0732AA" class="sect4"><span class="enumeration_section">3.1.1 </span>Prerequisites for Connecting
                  </h4>
                  <div>
                     <p><a id="d10528e166" class="indexterm-anchor"></a>Before attempting to connect to the Oracle OLAP server, ensure that the following requirements are met:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The Oracle Database instance is running and was installed with the OLAP option.</p>
                        </li>
                        <li>
                           <p>The Oracle Database user ID that you are using for the connection has access to the relational schemas that contain the data.</p>
                        </li>
                        <li>
                           <p>The Oracle JDBC and OLAP Java API jar files are in your application development environment. For information about setting up the required jar files, see <a href="setting-up-development-environment.html#GUID-32895224-13F7-444D-A7DB-88DE88577ADC"> Setting Up the Development Environment</a>. 
                           </p>
                        </li>
                     </ul>
                  </div>
               </div><a id="OLAAP195"></a><div class="props_rev_3"><a id="GUID-AC01B619-A83D-4F3D-A10D-C7282DA4EC3D" name="GUID-AC01B619-A83D-4F3D-A10D-C7282DA4EC3D"></a><h4 id="OLAAP-GUID-AC01B619-A83D-4F3D-A10D-C7282DA4EC3D" class="sect4"><span class="enumeration_section">3.1.2 </span>Establishing a Connection
                  </h4>
                  <div>
                     <div class="section">
                        <p>To connect to the OLAP server, perform the following steps:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>Create a JDBC connection to the database.</span></li>
                        <li><span>Create a <code class="codeph">DataProvider</code> and a <code class="codeph">UserSession</code>.</span></li>
                     </ol>
                     <div class="section">
                        <p>These steps are described in the following topics:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="discovering-metadata.html#GUID-ED721605-0725-4DC1-BB89-92B1300C4A0A">Creating a JDBC Connection</a></p>
                           </li>
                           <li>
                              <p><a href="discovering-metadata.html#GUID-61E30A1A-438C-4527-8E76-BA9664354C62">Creating a DataProvider and a UserSession</a></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div><a id="OLAAP197"></a><a id="OLAAP196"></a><div class="props_rev_3"><a id="GUID-ED721605-0725-4DC1-BB89-92B1300C4A0A" name="GUID-ED721605-0725-4DC1-BB89-92B1300C4A0A"></a><h5 id="OLAAP-GUID-ED721605-0725-4DC1-BB89-92B1300C4A0A" class="sect5"><span class="enumeration_section">3.1.2.1 </span>Creating a JDBC Connection
                     </h5>
                     <div>
                        <div class="section">
                           <p><a id="d10528e287" class="indexterm-anchor"></a><a id="d10528e291" class="indexterm-anchor"></a><a id="d10528e295" class="indexterm-anchor"></a><a id="d10528e299" class="indexterm-anchor"></a>One way to create a connection to an Oracle Database instance is to use <code class="codeph">oracle.jdbc.OracleDataSource</code> and <code class="codeph">oracle.jdbc.OracleConnection</code> objects. For example, the following code creates an <code class="codeph">oracle.jdbc.OracleDataSource</code>, sets properties of the object, and then gets a JDBC <code class="codeph">OracleConnection</code> object from the <code class="codeph">OracleDataSource</code>.
                           </p>
                           <p>The values of the properties for the <code class="codeph">OracleDataSource</code> are from a <code class="codeph">java.util.Properties</code> object. The <code class="codeph">url</code> property has the form <code class="codeph">jdbc:oracle:thin:@serverName:portNumber:sid</code>, where <code class="codeph">serverName</code> is the hostname of the server on which the Oracle Database instance is running, <code class="codeph">portNumber</code> is the number of the TCP/IP listener port for the database, and <code class="codeph">sid</code> is the system identifier (SID) of the database instance.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-ED721605-0725-4DC1-BB89-92B1300C4A0A__CHDBJICA">
                           <p class="titleinexample">Example 3-1 Getting a JDBC OracleConnection</p><pre class="oac_no_warn" dir="ltr">oracle.jdbc.OracleConnection conn = null;
try 
{
  OracleDataSource ods = new OracleDataSource();
  ods.setURL(props.getProperty("url"));
  ods.setUser(props.getProperty("user"));
  ods.setPassword(props.getProperty("password"));
  conn = (oracle.jdbc.OracleConnection) ods.getConnection();
}
catch(SQLException e) 
{
  System.out.println("Connection attempt failed. " + e);
}
</pre><p><a id="d10528e350" class="indexterm-anchor"></a>In the example, the connection uses the Oracle JDBC thin driver. There are many ways to specify your connection characteristics using the <code class="codeph">getConnection</code> method. There are also other ways to connect to an Oracle Database instance. For more information about Oracle JDBC connections, see <span><cite>Oracle Database JDBC Developerâ€™s Guide</cite></span>.
                           </p>
                           <p>After you have the <code class="codeph">OracleConnection</code> object, you can create OLAP Java API <code class="codeph">DataProvider</code> and <code class="codeph">UserSession</code> objects.
                           </p>
                        </div>
                        <!-- class="example" -->
                     </div>
                  </div><a id="OLAAP199"></a><a id="OLAAP198"></a><div class="props_rev_3"><a id="GUID-61E30A1A-438C-4527-8E76-BA9664354C62" name="GUID-61E30A1A-438C-4527-8E76-BA9664354C62"></a><h5 id="OLAAP-GUID-61E30A1A-438C-4527-8E76-BA9664354C62" class="sect5"><span class="enumeration_section">3.1.2.2 </span>Creating a DataProvider and a UserSession
                     </h5>
                     <div>
                        <div class="section">
                           <p><a id="d10528e409" class="indexterm-anchor"></a><a id="d10528e413" class="indexterm-anchor"></a><a id="d10528e417" class="indexterm-anchor"></a>The following code creates a <code class="codeph">DataProvider</code> and a <code class="codeph">UserSession</code>. The <code class="codeph">conn</code> object is the <code class="codeph">OracleConnection</code> from <a href="discovering-metadata.html#GUID-ED721605-0725-4DC1-BB89-92B1300C4A0A__CHDBJICA">Example 3-1</a>.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-61E30A1A-438C-4527-8E76-BA9664354C62__GUID-C6BDBBCF-9B4C-4F48-A06E-6D545F7B8554">
                           <p class="titleinexample">Example 3-2 Creating a DataProvider</p><pre class="oac_no_warn" dir="ltr">DataProvider dp = new DataProvider();
try
{
  UserSession session = dp.createSession(conn);
}
catch(SQLException e)
{
  System.out.println("Could not create a UserSession. " + e);
}
</pre><p>Using the <code class="codeph">DataProvider</code>, you can get the <code class="codeph">MdmMetadataProvider</code>, which is described in <span class="q">"<a href="discovering-metadata.html#GUID-97258A59-DFD0-4148-910B-F755E1863CEC">Creating an MdmMetadataProvider</a>"</span>. You use the <code class="codeph">DataProvider</code> to get the <code class="codeph">TransactionProvider</code> and to create <code class="codeph">Source</code> and <code class="codeph">CursorManager</code> objects as described in <a href="understanding-source-objects.html#GUID-871159BB-8ED1-454B-B9FA-62F36683F4B2"> Understanding Source Objects</a> and <a href="making-queries-using-source-methods.html#GUID-B5D5AF5D-330E-46D3-8BD7-E84B1373E6A7"> Making Queries Using Source Methods</a>.
                           </p>
                        </div>
                        <!-- class="example" -->
                     </div>
                  </div>
               </div><a id="OLAAP201"></a><a id="OLAAP200"></a><div class="props_rev_3"><a id="GUID-8AC173E6-ADB0-4E58-A64C-7BDAABDB07F3" name="GUID-8AC173E6-ADB0-4E58-A64C-7BDAABDB07F3"></a><h4 id="OLAAP-GUID-8AC173E6-ADB0-4E58-A64C-7BDAABDB07F3" class="sect4"><span class="enumeration_section">3.1.3 </span>Closing the Connection and the DataProvider
                  </h4>
                  <div>
                     <div class="section">
                        <p>If you are finished using the OLAP Java API, but you want to continue working in your JDBC connection to the database, then use the <code class="codeph">close</code> method of your <code class="codeph">DataProvider</code> to release the OLAP Java API resources.
                        </p><pre class="oac_no_warn" dir="ltr">dp.close();     // dp is the DataProvider
</pre><p><a id="d10528e525" class="indexterm-anchor"></a>When you have completed your work with the database, use the <code class="codeph">OracleConnection.close</code> method.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-8AC173E6-ADB0-4E58-A64C-7BDAABDB07F3__GUID-99D5FEF9-5DD3-4CD5-9992-3E849BDE7939">
                        <p class="titleinexample">Example 3-3 Closing the Connection</p><pre class="oac_no_warn" dir="ltr">try
{
  conn.close();     // conn is the OracleConnection
}
catch(SQLException e) 
{
  System.out.println("Cannot close the connection. " + e);
}</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="OLAAP202"></a><div class="props_rev_3"><a id="GUID-7C32D99F-9420-4083-B431-3D481DF6D5A5" name="GUID-7C32D99F-9420-4083-B431-3D481DF6D5A5"></a><h3 id="OLAAP-GUID-7C32D99F-9420-4083-B431-3D481DF6D5A5" class="sect3"><span class="enumeration_section">3.2 </span>Overview of the Procedure for Discovering Metadata
               </h3>
               <div>
                  <p><a id="d10528e573" class="indexterm-anchor"></a><a id="d10528e577" class="indexterm-anchor"></a>The OLAP Java API provides access to the data of an analytic workspace or that is in relational structures. This collection of data is the data store for the application.
                  </p>
                  <p><a id="d10528e583" class="indexterm-anchor"></a>Potentially, the data store includes all of the subchemas of the <code class="codeph">MdmRootSchema</code>. However, the scope of the data store that is visible when an application is running depends on the database privileges that apply to the user ID through which the connection was made. A user can see all of the <code class="codeph">MdmDatabaseSchema</code> objects that exist under the <code class="codeph">MdmRootSchema</code>, but the user can see the objects that are owned by an <code class="codeph">MdmDatabaseSchema</code> only if the user has access rights to the metadata objects,
                  </p>
                  <p>The following topics describe discovering metadata.</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="discovering-metadata.html#GUID-34F85F5B-AE52-4849-8888-BDBE9F9B1144">Purpose of Discovering the Metadata</a></p>
                     </li>
                     <li>
                        <p><a href="discovering-metadata.html#GUID-9CC0C3F2-13BD-4AD8-8B22-002F120D4C4A">Steps in Discovering the Metadata</a></p>
                     </li>
                  </ul>
               </div><a id="OLAAP203"></a><div class="props_rev_3"><a id="GUID-34F85F5B-AE52-4849-8888-BDBE9F9B1144" name="GUID-34F85F5B-AE52-4849-8888-BDBE9F9B1144"></a><h4 id="OLAAP-GUID-34F85F5B-AE52-4849-8888-BDBE9F9B1144" class="sect4"><span class="enumeration_section">3.2.1 </span>Purpose of Discovering the Metadata
                  </h4>
                  <div>
                     <p><a id="d10528e648" class="indexterm-anchor"></a>The metadata objects in the data store help your application to make sense of the data. They provide a way for you to find out what data is available, how it is structured, and what the characteristics of it are.
                     </p>
                     <p>Therefore, after connecting, your first step is to find out what metadata is available. You can then present choices to the end user about what data to select or calculate and how to display it.</p>
                     <p>After an application discovers the metadata, it typically goes on to create queries for selecting, calculating, and otherwise manipulating the data. To work with data in these ways, you must get the <code class="codeph">Source</code> objects from the metadata objects. These <code class="codeph">Source</code> objects specify the data for querying. For more information on <code class="codeph">Source</code> objects, see <a href="understanding-source-objects.html#GUID-871159BB-8ED1-454B-B9FA-62F36683F4B2"> Understanding Source Objects</a>.
                     </p>
                  </div>
               </div><a id="OLAAP204"></a><div class="props_rev_3"><a id="GUID-9CC0C3F2-13BD-4AD8-8B22-002F120D4C4A" name="GUID-9CC0C3F2-13BD-4AD8-8B22-002F120D4C4A"></a><h4 id="OLAAP-GUID-9CC0C3F2-13BD-4AD8-8B22-002F120D4C4A" class="sect4"><span class="enumeration_section">3.2.2 </span>Steps in Discovering the Metadata
                  </h4>
                  <div>
                     <div class="section">
                        <p>Before investigating the metadata, your application must make a connection to Oracle OLAP. Then, your application might perform the following steps:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>Create a <code class="codeph">DataProvider</code>.</span></li>
                        <li><span>Get the <code class="codeph">MdmMetadataProvider</code> from the <code class="codeph">DataProvider</code>.</span></li>
                        <li><span>Get the <code class="codeph">MdmRootSchema</code> from the <code class="codeph">MdmMetadataProvider</code>.</span></li>
                        <li><span>Get all of the <code class="codeph">MdmDatabaseSchema</code> objects or get individual ones.</span></li>
                        <li><span>Get the <code class="codeph">MdmCube</code>, <code class="codeph">MdmDimension</code>, and <code class="codeph">MdmOrganizationalSchema</code> objects owned by the <code class="codeph">MdmDatabaseSchema</code> objects.</span></li>
                     </ol>
                     <div class="section">
                        <p>The following topics describe these steps in detail.</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="discovering-metadata.html#GUID-97258A59-DFD0-4148-910B-F755E1863CEC">Creating an MdmMetadataProvider</a></p>
                           </li>
                           <li>
                              <p><a href="discovering-metadata.html#GUID-16169952-DB41-4C4B-A865-88A968BF30EE">Getting the MdmSchema Objects</a></p>
                           </li>
                           <li>
                              <p><a href="discovering-metadata.html#GUID-3E74DDA7-CCAB-4675-877C-BD5A3524C099">Getting the Contents of an MdmSchema</a></p>
                           </li>
                           <li>
                              <p><a href="discovering-metadata.html#GUID-6EA02C02-26C9-402E-9D1F-F40957D12156">Getting the Objects Contained by an MdmPrimaryDimension</a></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="OLAAP206"></a><a id="OLAAP205"></a><div class="props_rev_3"><a id="GUID-97258A59-DFD0-4148-910B-F755E1863CEC" name="GUID-97258A59-DFD0-4148-910B-F755E1863CEC"></a><h3 id="OLAAP-GUID-97258A59-DFD0-4148-910B-F755E1863CEC" class="sect3"><span class="enumeration_section">3.3 </span>Creating an MdmMetadataProvider
               </h3>
               <div>
                  <div class="section">
                     <p><a id="d10528e816" class="indexterm-anchor"></a><a id="d10528e820" class="indexterm-anchor"></a><a id="d10528e824" class="indexterm-anchor"></a><a id="d10528e828" class="indexterm-anchor"></a><a id="d10528e832" class="indexterm-anchor"></a>An <code class="codeph">MdmMetadataProvider</code> gives access to the metadata in a data store by providing the <code class="codeph">MdmRootSchema</code>. Before you can create an <code class="codeph">MdmMetadataProvider</code>, you must create a <code class="codeph">DataProvider</code> as described in <a href="creating-metadata-and-analytic-workspaces.html#GUID-67674127-304F-4F8A-BCA1-410C8CB4797E"> Creating Metadata and Analytic Workspaces</a>. <a href="discovering-metadata.html#GUID-97258A59-DFD0-4148-910B-F755E1863CEC__BGBCIBGB">Example 3-4</a> creates an <code class="codeph">MdmMetadataProvider</code>. In the example, <code class="codeph">dp</code> is the <code class="codeph">DataProvider</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-97258A59-DFD0-4148-910B-F755E1863CEC__BGBCIBGB">
                     <p class="titleinexample">Example 3-4 Creating an MdmMetadataProvider</p><pre class="oac_no_warn" dir="ltr">MdmMetadataProvider mp = null;
try
{
  mp = (MdmMetadataProvider) dp.getMdmMetadataProvider();
}
catch (Exception e) 
{
  println("Cannot get the MDM metadata provider. " + e);
}</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="OLAAP208"></a><a id="OLAAP209"></a><a id="OLAAP207"></a><div class="props_rev_3"><a id="GUID-16169952-DB41-4C4B-A865-88A968BF30EE" name="GUID-16169952-DB41-4C4B-A865-88A968BF30EE"></a><h3 id="OLAAP-GUID-16169952-DB41-4C4B-A865-88A968BF30EE" class="sect3"><span class="enumeration_section">3.4 </span>Getting the MdmSchema Objects
               </h3>
               <div>
                  <div class="section">
                     <p>The Oracle OLAP metadata objects that provide access to the data in a data store are organized by <code class="codeph">MdmSchema</code> objects. The top-level <code class="codeph">MdmSchema</code> is the <code class="codeph">MdmRootSchema</code>. Getting the <code class="codeph">MdmRootSchema</code> is the first step in exploring the metadata in your data store. From the <code class="codeph">MdmRootSchema</code>, you can get the <code class="codeph">MdmDatabaseSchema</code> objects. The <code class="codeph">MdmRootSchema</code> has an <code class="codeph">MdmDatabaseSchema</code> for each database user. An <code class="codeph">MdmDatabaseSchema</code> can have <code class="codeph">MdmOrganizationalSchema</code> objects that organize the metadata objects owned by the <code class="codeph">MdmDatabaseSchema</code>.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-16169952-DB41-4C4B-A865-88A968BF30EE__CCHBJCGC">
                     <p class="titleinexample">Example 3-5 Getting the MdmSchema Objects</p>
                     <p>This example demonstrates getting the <code class="codeph">MdmRootSchema</code>, the <code class="codeph">MdmDatabaseSchema</code> objects under it, and any <code class="codeph">MdmOrganizationalSchema</code> objects under them.
                     </p><pre class="oac_no_warn" dir="ltr">private void getSchemas(MdmMetadataProvider mp)
{
  MdmRootSchema mdmRootSchema = (MdmRootSchema)mp.getRootSchema();
  List&lt;MdmDatabaseSchema&gt; dbSchemas = mdmRootSchema.getDatabaseSchemas();
  for(MdmDatabaseSchema mdmDBSchema : dbSchemas)
  {
    println(mdmDBSchema.getName());
    getOrgSchemas(mdmDBSchema);
  } 
}

private void getOrgSchemas(MdmSchema mdmSchema)
{
  ArrayList orgSchemaList = new ArrayList();

  if (mdmSchema instanceof MdmDatabaseSchema)
  {
    MdmDatabaseSchema mdmDBSchema = (MdmDatabaseSchema) mdmSchema;
    orgSchemaList = (ArrayList) mdmDBSchema.getOrganizationalSchemas();
  }
  else if (mdmSchema instanceof MdmOrganizationalSchema)
  {
    MdmOrganizationalSchema mdmOrgSchema = (MdmOrganizationalSchema) 
                                            mdmSchema;
    orgSchemaList = (ArrayList) mdmOrgSchema.getOrganizationalSchemas();
  }

  if (orgSchemaList.size() &gt; 0)
  {
    println("The MdmOrganizationalSchema subschemas of "
            + mdmSchema.getName() + " are:");
    Iterator orgSchemaListItr = orgSchemaList.iterator();
    while (orgSchemaListItr.hasNext())
    {
      MdmOrganizationalSchema mdmOrgSchema = (MdmOrganizationalSchema)
                                            orgSchemaListItr.next();
      println(mdmOrgSchema.getName());
      getOrgSchemas(mdmOrgSchema);
    }
  }
  else
  {
    println(mdmSchema.getName() + " does not have any" +
            " MdmOrganizationalSchema subschemas.");
  }
}
</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-16169952-DB41-4C4B-A865-88A968BF30EE__CCHDFFAI">
                     <p class="titleinexample">Example 3-6 Getting a Single MdmDatabaseSchema</p>
                     <p>Rather than getting all of the <code class="codeph">MdmDatabaseSchema</code> objects, you can use the <code class="codeph">getDatabaseSchema</code> method of the <code class="codeph">MdmRootSchema</code> to get the schema for an individual user. This example demonstrates getting the <code class="codeph">MdmDatabaseSchema</code> for the GLOBAL user.
                     </p><pre class="oac_no_warn" dir="ltr">MdmDatabaseSchema mdmGlobalSchema = mdmRootSchema.getDatabaseSchema("GLOBAL");</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="OLAAP211"></a><a id="OLAAP212"></a><a id="OLAAP210"></a><div class="props_rev_3"><a id="GUID-3E74DDA7-CCAB-4675-877C-BD5A3524C099" name="GUID-3E74DDA7-CCAB-4675-877C-BD5A3524C099"></a><h3 id="OLAAP-GUID-3E74DDA7-CCAB-4675-877C-BD5A3524C099" class="sect3"><span class="enumeration_section">3.5 </span>Getting the Contents of an MdmSchema
               </h3>
               <div>
                  <div class="section">
                     <p><a id="d10528e1018" class="indexterm-anchor"></a>From an <code class="codeph">MdmSchema</code>, you can get all of the subschema, <code class="codeph">MdmCube</code>, <code class="codeph">MdmPrimaryDimension</code>, and <code class="codeph">MdmMeasure</code> objects that it contains. Also, the <code class="codeph">MdmRootSchema</code> has an <code class="codeph">MdmMeasureDimension</code> that has a <code class="codeph">List</code> of all of the available <code class="codeph">MdmMeasure</code> objects.
                     </p>
                     <p>If you want to display all of the dimensions and methods that are owned by a particular user, then you could get the lists of dimensions and measures from the <code class="codeph">MdmDatabaseSchema</code> for that user. 
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-3E74DDA7-CCAB-4675-877C-BD5A3524C099__CCHFDFFD">
                     <p class="titleinexample">Example 3-7 Getting the Dimensions and Measures of an MdmDatabaseSchema</p>
                     <p>This example gets the dimensions and measures from the <code class="codeph">MdmDatabaseSchema</code> from <a href="discovering-metadata.html#GUID-16169952-DB41-4C4B-A865-88A968BF30EE__CCHDFFAI">Example 3-6</a>. It displays the name of each dimension and measure.
                     </p><pre class="oac_no_warn" dir="ltr">private void getObjects(MdmDatabaseSchema mdmGlobalSchema)
{
  List dimList = mdmGlobalSchema.getDimensions();
  String objName = mdmGlobalSchema.getName() + " schema";
  getNames(dimList, "dimensions", objName);

  List measList = mdmGlobalSchema.getMeasures();
  getNames(measList, "measures", objName);
}

private void getNames(List objectList, String objTypes, String objName)
{
  println("The " + objTypes + " of the " + objName + " are:");
  Iterator objListItr = objectList.iterator();
  while (objListItr.hasNext())
  {
    MdmObject mdmObj = (MdmObject) objListItr.next();
    println(mdmObj.getName());
  }
}
</pre><p>The output of the example is the following.</p><pre class="oac_no_warn" dir="ltr">The dimensions of the GLOBAL schema are:
CHANNEL_AWJ
CUSTOMER_AWJ
PRODUCT_AWJ
TIME_AWJ
The measures of the GLOBAL schema are:
UNIT_COST
UNIT_PRICE
SALES
UNITS
COST
</pre></div>
                  <!-- class="example" -->
                  <div class="example" id="GUID-3E74DDA7-CCAB-4675-877C-BD5A3524C099__CCHBAAEC">
                     <p class="titleinexample">Example 3-8 Getting the Dimensions and Measures of an MdmCube</p>
                     <p>To display just the dimensions and measures associated with an <code class="codeph">MdmCube</code>, you could use the <code class="codeph">findOrCreateCube</code> method of an <code class="codeph">MdmDatabaseSchema</code> to get the cube and then get the dimensions and measures of the cube. This example gets an <code class="codeph">MdmCube</code> from the <code class="codeph">MdmDatabaseSchema</code> of <a href="discovering-metadata.html#GUID-16169952-DB41-4C4B-A865-88A968BF30EE__CCHDFFAI">Example 3-6</a> and displays the names of the dimensions and measures associated with it using the <code class="codeph">getNames</code> method of <a href="discovering-metadata.html#GUID-3E74DDA7-CCAB-4675-877C-BD5A3524C099__CCHFDFFD">Example 3-7</a>.
                     </p><pre class="oac_no_warn" dir="ltr">private void getCubeObjects(MdmDatabaseSchema mdmGlobalSchema)
{
  MdmCube mdmUnitsCube = (MdmCube)
    mdmGlobalSchema.findOrCreateCube("PRICE_CUBE_AWJ");
  String objName = mdmUnitsCube.getName() + " cube";
  List dimList = mdmUnitsCube.getDimensions();
  getNames(dimList, "dimensions", objName);

  List&lt;MdmMeasure&gt; measList = mdmUnitsCube.getMeasures();
  getNames(measList, "measures", objName);
}
</pre><p>The output of the example is the following.</p><pre class="oac_no_warn" dir="ltr">The dimensions of the PRICE_CUBE_AWJ cube are:
TIME_AWJ
PRODUCT_AWJ
The measures of the PRICE_CUBE_AWJ cube are:
UNIT_COST
UNIT_PRICE</pre></div>
                  <!-- class="example" -->
               </div>
            </div><a id="OLAAP213"></a><div class="props_rev_3"><a id="GUID-6EA02C02-26C9-402E-9D1F-F40957D12156" name="GUID-6EA02C02-26C9-402E-9D1F-F40957D12156"></a><h3 id="OLAAP-GUID-6EA02C02-26C9-402E-9D1F-F40957D12156" class="sect3"><span class="enumeration_section">3.6 </span>Getting the Objects Contained by an MdmPrimaryDimension
               </h3>
               <div>
                  <p>In discovering the metadata objects to use in creating queries and displaying the data, an application typically gets the <code class="codeph">MdmSubDimension</code> components of an <code class="codeph">MdmPrimaryDimension</code> and the <code class="codeph">MdmAttribute</code> objects that are associated with the dimension. The following topics demonstrate getting the components and attributes of a dimension.
                  </p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p><a href="discovering-metadata.html#GUID-653C600F-897B-447B-A3F3-30E2CCD76043">Getting the Hierarchies and Levels of an MdmPrimaryDimension</a></p>
                     </li>
                     <li>
                        <p><a href="discovering-metadata.html#GUID-151B7068-E598-4FB3-BF8C-592B5922E67E">Getting the Attributes for an MdmPrimaryDimension</a></p>
                     </li>
                  </ul>
               </div><a id="OLAAP215"></a><a id="OLAAP214"></a><div class="props_rev_3"><a id="GUID-653C600F-897B-447B-A3F3-30E2CCD76043" name="GUID-653C600F-897B-447B-A3F3-30E2CCD76043"></a><h4 id="OLAAP-GUID-653C600F-897B-447B-A3F3-30E2CCD76043" class="sect4"><span class="enumeration_section">3.6.1 </span>Getting the Hierarchies and Levels of an MdmPrimaryDimension
                  </h4>
                  <div>
                     <div class="section">
                        <p><a id="d10528e1198" class="indexterm-anchor"></a>An <code class="codeph">MdmPrimaryDimension</code> has zero or more component <code class="codeph">MdmHierarchy</code> objects, which you can obtain by calling the <code class="codeph">getHierarchies</code> method of the dimension. That method returns a <code class="codeph">List</code> of <code class="codeph">MdmHierarchy</code> objects. The levels of an <code class="codeph">MdmPrimaryDimension</code> are represented by <code class="codeph">MdmDimensionLevel</code> objects.
                        </p>
                        <p>If an <code class="codeph">MdmHierarchy</code> is an <code class="codeph">MdmLevelHierarchy</code>, then it has <code class="codeph">MdmHierarchyLevel</code> objects that associate <code class="codeph">MdmDimensionLevel</code> objects with it. You can obtain the <code class="codeph">MdmHierarchyLevel</code> objects by calling the <code class="codeph">getHierarchyLevels</code> method of the <code class="codeph">MdmLevelHierarchy</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-653C600F-897B-447B-A3F3-30E2CCD76043__CHDJAEGF">
                        <p class="titleinexample">Example 3-9 Getting the Hierarchies and Levels of a Dimension</p>
                        <p>This example gets an <code class="codeph">MdmPrimaryDimension</code> from the <code class="codeph">MdmDatabaseSchema</code> of <a href="discovering-metadata.html#GUID-16169952-DB41-4C4B-A865-88A968BF30EE__CCHDFFAI">Example 3-6</a> and displays the names of the hierarchies and the levels associated with them.
                        </p><pre class="oac_no_warn" dir="ltr">private void getHierarchiesAndLevels(MdmDatabaseSchema mdmGlobalSchema)
{
  MdmPrimaryDimension mdmCustDim = (MdmPrimaryDimension)
    mdmGlobalSchema.findOrCreateStandardDimension("CUSTOMER_AWJ");
  List&lt;MdmHierarchy&gt; hierList = mdmCustDim.getHierarchies();
  println("The hierarchies of the dimension are:");
  for (MdmHierarchy mdmHier : hierList)
  {
    println(mdmHier.getName());
    if (mdmHier instanceof MdmLevelHierarchy)
    {
      MdmLevelHierarchy mdmLevelHier = (MdmLevelHierarchy) mdmHier; 
      List&lt;MdmHierarchyLevel&gt; hierLevelList = mdmLevelHier.getHierarchyLevels();
      println("  The levels of the hierarchy are:");
      for (MdmHierarchyLevel mdmHierLevel : hierLevelList)
      {
        println("  " + mdmHierLevel.getName());
      }
    }
  }
}
</pre><p>The output of <a href="discovering-metadata.html#GUID-653C600F-897B-447B-A3F3-30E2CCD76043__CHDJAEGF">Example 3-9</a> is the following.
                        </p><pre class="oac_no_warn" dir="ltr">The hierarchies of the dimension are:
SHIPMENTS
  The levels of the hierarchy are:
  TOTAL_CUSTOMER
  REGION
  WAREHOUSE
  SHIP_TO
MARKETS
  The levels of the hierarchy are:
  TOTAL_MARKET
  MARKET_SEGMENT
  ACCOUNT
  SHIP_TO</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="OLAAP217"></a><a id="OLAAP216"></a><div class="props_rev_3"><a id="GUID-151B7068-E598-4FB3-BF8C-592B5922E67E" name="GUID-151B7068-E598-4FB3-BF8C-592B5922E67E"></a><h4 id="OLAAP-GUID-151B7068-E598-4FB3-BF8C-592B5922E67E" class="sect4"><span class="enumeration_section">3.6.2 </span>Getting the Attributes for an MdmPrimaryDimension
                  </h4>
                  <div>
                     <div class="section">
                        <p><a id="d10528e1308" class="indexterm-anchor"></a>An <code class="codeph">MdmPrimaryDimension</code> and the hierarchies and levels of it have associated <code class="codeph">MdmAttribute</code> objects. You can obtain many of the attributes by calling the <code class="codeph">getAttributes</code> method of the dimension, hierarchy, or level. That method returns a <code class="codeph">List</code> of <code class="codeph">MdmAttribute</code> objects that an application has explicitly added to or specified for the <code class="codeph">MdmPrimaryDimension</code>. You can obtain specific attributes, such as a short or long description attribute or a parent attribute by calling the appropriate method of an <code class="codeph">MdmPrimaryDimension</code> or an <code class="codeph">MdmHierarchy</code>.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-151B7068-E598-4FB3-BF8C-592B5922E67E__CHDDCHGA">
                        <p class="titleinexample">Example 3-10 Getting the MdmAttribute Objects of an MdmPrimaryDimension</p>
                        <p>This example demonstrates getting the <code class="codeph">MdmAttribute</code> objects for an <code class="codeph">MdmPrimaryDimension</code>. It also gets the parent attribute separately. The example displays the names of the <code class="codeph">MdmAttribute</code> objects. The attribute names that end in <code class="codeph">_LD</code> and <code class="codeph">_SD</code> are the attributes that are added to the <code class="codeph">MdmHierarchyLevel</code> objects, as mentioned in <span class="q">"<a href="understanding-olap-java-api-metadata.html#GUID-632EF0BB-F472-4743-9D17-D136D69EE811">Populating OLAP Views with Hierarchical Attribute Values</a>"</span>.
                        </p><pre class="oac_no_warn" dir="ltr">private void getAttributes(MdmDatabaseSchema mdmGlobalSchema)
{
  MdmTimeDimension mdmTimeDim = (MdmTimeDimension)
    mdmGlobalSchema.findOrCreateTimeDimension("TIME_AWJ");
  List attrList = mdmTimeDim.getAttributes();
  Iterator attrListItr = attrList.iterator();
  println("The MdmAttribute objects of " + mdmTimeDim.getName() + " are:");
  while (attrListItr.hasNext()) 
  {
    MdmAttribute mdmAttr = (MdmAttribute) attrListItr.next();
    println("  " + mdmAttr.getName());
  }

  MdmAttribute mdmParentAttr = mdmTimeDim.getParentAttribute();
  println("The parent attribute is " + mdmParentAttr.getName() + ".");
}
</pre><p>The output of the example is the following.</p><pre class="oac_no_warn" dir="ltr">The MdmAttribute objects of TIME_AWJ are:
 LONG_DESCRIPTION
 SHORT_DESCRIPTION
 END_DATE
 TIME_SPAN
 TOTAL_TIME_LD
 YEAR_LD
 QUARTER_LD
 MONTH_LD
 TOTAL_TIME_SD
 YEAR_SD
 QUARTER_SD
 MONTH_SD
 TOTAL_TIME_ED
 YEAR_ED
 QUARTER_ED
 MONTH_ED
 TOTAL_TIME_TS
 YEAR_TS
 QUARTER_TS
 MONTH_TS
The parent attribute is PARENT_ATTRIBUTE.</pre></div>
                     <!-- class="example" -->
                  </div>
               </div>
            </div><a id="OLAAP219"></a><a id="OLAAP218"></a><div class="props_rev_3"><a id="GUID-EB1B2BAF-3378-439E-92A1-D893E3059217" name="GUID-EB1B2BAF-3378-439E-92A1-D893E3059217"></a><h3 id="OLAAP-GUID-EB1B2BAF-3378-439E-92A1-D893E3059217" class="sect3"><span class="enumeration_section">3.7 </span>Getting the Source for a Metadata Object
               </h3>
               <div>
                  <div class="section">
                     <p>A metadata object represents a set of data, but it does not provide the ability to create queries on that data. The object is informational. It records the existence, structure, and characteristics of the data. It does not give access to the data values.</p>
                     <p>To access the data values for a metadata object, an application gets the <code class="codeph">Source</code> object for that metadata object. The <code class="codeph">Source</code> for a metadata object is a primary <code class="codeph">Source</code>.
                     </p>
                     <p><a id="d10528e1424" class="indexterm-anchor"></a><a id="d10528e1428" class="indexterm-anchor"></a>To get the primary <code class="codeph">Source</code> for a metadata object, an application calls the <code class="codeph">getSource</code> method of that metadata object. For example, if an application needs to display the quantity of product units sold during the year 1999, then it must use the <code class="codeph">getSource</code> method of the <code class="codeph">MdmMeasure</code> for that data, which is <code class="codeph">mdmUnits</code> in the following example.
                     </p>
                  </div>
                  <!-- class="section" -->
                  <div class="example" id="GUID-EB1B2BAF-3378-439E-92A1-D893E3059217__GUID-94853134-A719-4C95-AD11-C5F4AF834702">
                     <p class="titleinexample">Example 3-11 Getting a Primary Source for a Metadata Object</p><pre class="oac_no_warn" dir="ltr">Source units = mdmUnits.getSource();
</pre><p>For more information about getting and working with primary <code class="codeph">Source</code> objects, see <a href="understanding-source-objects.html#GUID-871159BB-8ED1-454B-B9FA-62F36683F4B2"> Understanding Source Objects</a>.
                     </p>
                  </div>
                  <!-- class="example" -->
               </div>
            </div>
         </div>
      </article>
   </body>
</html>