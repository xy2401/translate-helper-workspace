<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html xml:lang="en-us" lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="abstract" content="Managing tables includes tasks such as creating tables, loading tables, altering tables, and dropping tables.">
      <meta name="description" content="Managing tables includes tasks such as creating tables, loading tables, altering tables, and dropping tables.">
      <title>Managing Tables</title>
      <meta property="og:site_name" content="Oracle Help Center">
      <meta property="og:title" content="Database Administrator’s Guide ">
      <meta property="og:description" content="Managing tables includes tasks such as creating tables, loading tables, altering tables, and dropping tables.">
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css">
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico">
      <meta name="application-name" content="Database Administrator’s Guide">
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)">
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2">
      <link rel="alternate" href="database-administrators-guide.pdf" title="PDF File" type="application/pdf">
      <meta name="robots" content="all">
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/">
      <meta name="dcterms.created" content="2019-03-14T11:02:35-07:00">
      
      <meta name="dcterms.dateCopyrighted" content="1996, 2019">
      <meta name="dcterms.category" content="database">
      <meta name="dcterms.identifier" content="E96348-04">
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19">
      
      <link rel="prev" href="managing-space-for-schema-objects.html" title="Previous" type="text/html">
      <link rel="next" href="managing-indexes.html" title="Next" type="text/html">
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script data-main="/sp_common/book-template/ohc-book-template/js/book-config" src="/sp_common/book-template/requirejs/require.js"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Administrator's Guide">
    <meta name="dcterms.isVersionOf" content="ADMIN">
    <meta name="dcterms.release" content="Release 19">
  </head>
   <body>
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="managing-space-for-schema-objects.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>Previous</a>
         <a href="managing-indexes.html" class="pull-right">Next<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a>
         <span class="fa fa-exclamation-triangle" aria-hidden="true"></span> JavaScript must be enabled to correctly display this content
        
      </div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">Database Administrator’s Guide </span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="schema-objects.html" property="item" typeof="WebPage"><span property="name">Schema Objects</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">Managing Tables</li>
            </ol>
            <a id="GUID-707B02F5-E589-4C20-8E2E-5ED4F7888702" name="GUID-707B02F5-E589-4C20-8E2E-5ED4F7888702"></a><a id="ADMIN015"></a>
            
            <h2 id="ADMIN-GUID-707B02F5-E589-4C20-8E2E-5ED4F7888702" class="sect2"><span class="enumeration_chapter">20 </span>Managing Tables
            </h2>
         </header>
         <div class="ind">
            <div>
               <p>Managing tables includes tasks such as creating tables, loading tables, altering tables, and dropping tables.</p>
               <div class="infoboxnote" id="GUID-707B02F5-E589-4C20-8E2E-5ED4F7888702__GUID-C69FB35C-9EA1-444F-ABC9-473E0743A3F5">
                  <p class="notep1">Live SQL:</p>
                  <p>To view and run examples related to the ones in this chapter on Oracle Live SQL, go to <a href="https://livesql.oracle.com/apex/livesql/docs/admin/managing-tables/create-modify.html" target="_blank"><span class="italic">Oracle Live SQL: Creating and Modifying Tables</span></a>.
                  </p>
               </div>
            </div>
            <div>
               <ul class="ullinks">
                  <li class="ulchildlink"><a href="managing-tables.html#GUID-2634BF31-512E-4276-99D4-848A535D273B">About Tables</a><br>Tables are the basic unit of data storage in an Oracle Database. Data is stored in rows and columns.
                  </li>
                  <li class="ulchildlink"><a href="managing-tables.html#GUID-86F766C5-2344-4790-95E4-4E813A0B21DA">Guidelines for Managing Tables</a><br>Following guidelines can make the management of your tables easier and can improve performance when creating the table, as well as when loading, updating, and querying the table data.
                  </li>
                  <li class="ulchildlink"><a href="managing-tables.html#GUID-D2802D28-D8B3-4C21-99EC-342DC42F9898">Creating Tables</a><br>Create tables using the SQL statement <code class="codeph">CREATE TABLE</code>. 
                  </li>
                  <li class="ulchildlink"><a href="managing-tables.html#GUID-7B5676FC-59B4-418F-826B-8F4D7E3690E2">Loading Tables</a><br>There are several techniques for loading data into tables.
                  </li>
                  <li class="ulchildlink"><a href="managing-tables.html#GUID-43794F5A-1B13-4E97-B4DD-31AEB9633E9A">Optimizing the Performance of Bulk Updates</a><br>The <code class="codeph">EXECUTE_UPDATE</code> procedure in the <code class="codeph">DBMS_REDEFINITION</code> package can optimize the performance of bulk updates to a table. Performance is optimized because the updates are not logged in the redo log.
                  </li>
                  <li class="ulchildlink"><a href="managing-tables.html#GUID-7BFAA5E3-1509-4691-BBED-35F863F7D09F">Automatically Collecting Statistics on Tables</a><br>The PL/SQL package <code class="codeph">DBMS_STATS</code> lets you generate and manage statistics for cost-based optimization. You can use this package to gather, modify, view, export, import, and delete statistics. You can also use this package to identify or name statistics that have been gathered. 
                  </li>
                  <li class="ulchildlink"><a href="managing-tables.html#GUID-D4AE1CF2-08F7-4AB2-9317-0DE20AC70D44">Altering Tables</a><br>You alter a table using the <code class="codeph">ALTER TABLE</code> statement. To alter a table, the table must be contained in your schema, or you must have either the <code class="codeph">ALTER</code> object privilege for the table or the <code class="codeph">ALTER ANY TABLE</code> system privilege.
                  </li>
                  <li class="ulchildlink"><a href="managing-tables.html#GUID-92361F74-4796-407D-A3B9-569C6E544E34">Redefining Tables Online</a><br>You can  modify the logical or physical structure of a table.
                  </li>
                  <li class="ulchildlink"><a href="managing-tables.html#GUID-2DD8A6E0-0195-4F3F-83A9-74BE0980FBA4">Researching and Reversing Erroneous Table Changes</a><br>To enable you to research and reverse erroneous changes to tables, Oracle Database provides a group of features that you can use to view past states of database objects or to return database objects to a previous state without using point-in-time media recovery. These features are known as <span class="bold">Oracle Flashback features</span>.
                  </li>
                  <li class="ulchildlink"><a href="managing-tables.html#GUID-14433799-D469-4A56-AAE4-089D3C3E1A5C">Recovering Tables Using Oracle Flashback Table</a><br>Oracle Flashback Table enables you to restore a table to its state as of a previous point in time.
                  </li>
                  <li class="ulchildlink"><a href="managing-tables.html#GUID-C35B192C-1C8B-425F-A003-D36D0EABEB3A">Dropping Tables</a><br>To drop a table that you no longer need, use the <code class="codeph">DROP TABLE</code> statement.
                  </li>
                  <li class="ulchildlink"><a href="managing-tables.html#GUID-16E1CE4C-0189-4CF5-8047-F5039587D130">Using Flashback Drop and Managing the Recycle Bin</a><br>When you drop a table, the database does not immediately remove the space associated with the table. The database renames the table and places it and any associated objects in a recycle bin, where, in case the table was dropped in error, it can be recovered at a later time. This feature is called Flashback Drop, and the <code class="codeph">FLASHBACK</code> <code class="codeph">TABLE</code> statement is used to restore the table. 
                  </li>
                  <li class="ulchildlink"><a href="managing-tables.html#GUID-D9BCA9BF-EAA8-431D-BDBB-ED5B3C59C5E4">Managing Index-Organized Tables</a><br>An index-organized table's storage organization is a variant of a primary B-tree index. Unlike a heap-organized table, data is stored in primary key order.
                  </li>
                  <li class="ulchildlink"><a href="managing-tables.html#GUID-4C17C266-A5F8-4C3C-B90F-5A02BE41F264">Managing Partitioned Tables</a><br>Partitioned tables enable your data to be broken down into smaller, more manageable pieces called partitions, or even subpartitions. Each partition can have separate physical attributes, such as compression enabled or disabled, type of compression, physical storage settings, and tablespace, thus providing a structure that can be better tuned for availability and performance. In addition, each partition can be managed individually, which can simplify and reduce the time required for backup and administration.
                  </li>
                  <li class="ulchildlink"><a href="managing-tables.html#GUID-F6948F0E-0557-4C42-9145-1897DE974CC3">Managing External Tables</a><br>External tables are the tables that do not reside in the database, but reside outside the database in external files, such as operating system files or Hadoop Distributed File System (HDFS) files.
                  </li>
                  <li class="ulchildlink"><a href="managing-tables.html#GUID-FB55B947-2599-4D0E-8971-E05F49F6AF28">Managing Hybrid Partitioned Tables</a><br>A hybrid partitioned table is a partitioned table in which some partitions reside in the database and some partitions reside outside the database in external files, such as operating system files or Hadoop&nbsp;Distributed File System (HDFS) files.
                  </li>
                  <li class="ulchildlink"><a href="managing-tables.html#GUID-9E47D91A-E1F2-42F7-8704-1571B34C0410">Tables Data Dictionary Views</a><br>You can query a set of data dictionary views for information about tables.
                  </li>
               </ul>
               <div class="familylinks">
                  <div class="parentlink">
                     <p><strong>Parent topic:</strong> <a href="schema-objects.html#GUID-2DA8C61C-58B0-4892-8E5D-E7A9120BC120" title="You can create and manage schema objects in Oracle Database.">Schema Objects</a></p>
                  </div>
               </div>
            </div>
            <a id="ADMIN11003"></a><div class="props_rev_3"><a id="GUID-2634BF31-512E-4276-99D4-848A535D273B" name="GUID-2634BF31-512E-4276-99D4-848A535D273B"></a><h3 id="ADMIN-GUID-2634BF31-512E-4276-99D4-848A535D273B" class="sect3"><span class="enumeration_section">20.1 </span>About Tables
               </h3>
               <div>
                  <p>Tables are the basic unit of data storage in an Oracle Database. Data is stored in rows and columns.</p>
                  <p>You define a table with a table name, such as <code class="codeph">employees</code>, and a set of columns. You give each column a column name, such as <code class="codeph">employee_id</code>, <code class="codeph">last_name</code>, and <code class="codeph">job_id</code>; a data type, such as <code class="codeph">VARCHAR2</code>, <code class="codeph">DATE</code>, or <code class="codeph">NUMBER</code>; and a width. The width can be predetermined by the data type, as in <code class="codeph">DATE</code>. If columns are of the <code class="codeph">NUMBER</code> data type, define precision and scale instead of width. A row is a collection of column information corresponding to a single record.
                  </p>
                  <p>You can specify rules for each column of a table. These rules are called integrity constraints. One example is a <code class="codeph">NOT NULL</code> integrity constraint. This constraint forces the column to contain a value in every row.
                  </p>
                  <p>You can invoke Transparent Data Encryption to encrypt data before storing it. If users attempt to circumvent the database access control mechanisms by looking inside Oracle data files directly with operating system tools, encryption prevents these users from viewing sensitive data.</p>
                  <p>Tables can also include virtual columns. A <span class="bold">virtual column</span> is like any other table column, except that its value is derived by evaluating an expression. The expression can include columns from the same table, constants, SQL functions, and user-defined PL/SQL functions. You cannot explicitly write to a virtual column.
                  </p>
                  <p>Some column types, such as <code class="codeph">LOB</code>s, varrays, and nested tables, are stored in their own segments. <code class="codeph">LOB</code>s and varrays are stored in <code class="codeph">LOB</code> segments, while nested tables are stored in storage tables. You can specify a <code class="codeph">STORAGE</code> clause for these segments that will override storage parameters specified at the table level.
                  </p>
                  <p>After you create a table, you insert rows of data using SQL statements or using an Oracle bulk load utility. Table data can then be queried, deleted, or updated using SQL.</p>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-2634BF31-512E-4276-99D4-848A535D273B__GUID-3E6F2600-79D2-4D91-932C-4C11B0D42BE6">
                     <p class="notep1">See Also:</p>
                     <p></p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../cncpt/tables-and-table-clusters.html#CNCPT211" target="_blank"><span class="italic">Oracle Database Concepts</span></a> for an overview of tables
                           </p>
                        </li>
                        <li>
                           <p><a href="../sqlrf/Data-Types.html#SQLRF0021" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for descriptions of Oracle Database data types
                           </p>
                        </li>
                        <li>
                           <p><a href="managing-space-for-schema-objects.html#GUID-1950156D-DECC-4E76-84D9-2C2A3D8D6565" title="Managing space for schema objects involves tasks such as managing tablespace alerts and space allocation, reclaiming unused space, dropping unused object storage, monitoring space usage, and capacity planning."> Managing Space for Schema Objects</a> for guidelines for managing space for tables
                           </p>
                        </li>
                        <li>
                           <p><a href="managing-schema-objects.html#GUID-5BEEEA18-8606-48CA-B51A-34FD301BF93B" title="You can create and manage several types of schema objects with Oracle Database."> Managing Schema Objects</a> for information on additional aspects of managing tables, such as specifying integrity constraints and analyzing tables
                           </p>
                        </li>
                        <li>
                           <p><a href="../asoag/asopart1.html#ASOAG600" target="_blank"><span class="italic">Oracle Database Advanced Security Guide</span></a> for a discussion of Transparent Data Encryption
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-707B02F5-E589-4C20-8E2E-5ED4F7888702" title="Managing tables includes tasks such as creating tables, loading tables, altering tables, and dropping tables.">Managing Tables</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADMIN01502"></a><div class="props_rev_3"><a id="GUID-86F766C5-2344-4790-95E4-4E813A0B21DA" name="GUID-86F766C5-2344-4790-95E4-4E813A0B21DA"></a><h3 id="ADMIN-GUID-86F766C5-2344-4790-95E4-4E813A0B21DA" class="sect3"><span class="enumeration_section">20.2 </span>Guidelines for Managing Tables
               </h3>
               <p>Following guidelines can make the management of your tables easier and can improve performance when creating the table, as well as when loading, updating, and querying the table data.</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-809CEB2A-16F1-435C-B69E-EAF0DB778781">Design Tables Before Creating Them</a><br>Usually, the application developer is responsible for designing the elements of an application, including the tables. Database administrators are responsible for establishing the attributes of the underlying tablespace that will hold the application tables.
                     </li>
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-43128EAC-5B7C-4A5C-AA9B-6C69EEFC7F3F">Specify the Type of Table to Create</a><br>You can create different types of tables with Oracle Database.
                     </li>
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-716489CE-CBDE-414A-BEDA-3E1DEC83BE97">Specify the Location of Each Table</a><br>It is advisable to specify the <code class="codeph">TABLESPACE</code> clause in a <code class="codeph">CREATE TABLE</code> statement to identify the tablespace that is to store the new table. For partitioned tables, you can optionally identify the tablespace that is to store each partition.
                     </li>
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-D5E6D2FB-C708-4CF4-BCD7-F38C10A73A1F">Consider Parallelizing Table Creation</a><br>You can use parallel execution when creating tables using a subquery (<code class="codeph">AS SELECT</code>) in the <code class="codeph">CREATE TABLE</code> statement. Because multiple processes work together to create the table, performance of the table creation operation is improved.
                     </li>
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-E9EB5D85-49D8-4A29-9DF3-A7CBBA484EE3">Consider Using NOLOGGING When Creating Tables</a><br>To create a table most efficiently use the <code class="codeph">NOLOGGING</code> clause in the <code class="codeph">CREATE TABLE...AS SELECT</code> statement. The <code class="codeph">NOLOGGING</code> clause causes minimal redo information to be generated during the table creation. 
                     </li>
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-34D15DD1-0925-4C9A-BE8A-3EE91671E526">Consider Using Table Compression</a><br>As your database grows in size, consider using table compression to save space and improve performance.
                     </li>
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-C431C787-F714-4A3B-A745-90F6BCD92A1B">Managing Table Compression Using Enterprise Manager Cloud Control</a><br>You can manage table compression with Oracle Enterprise Manager Cloud Control.
                     </li>
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-C7B346C7-40F4-41D2-8DF1-81565096E03B">Consider Using Segment-Level and Row-Level Compression Tiering</a><br>Segment-level compression tiering enables you to specify compression at the segment level within a table. Row-level compression tiering enables you to specify compression at the row level within a table. You can use a combination of these on the same table for fine-grained control over how the data in the table is stored and managed.
                     </li>
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-0A837830-9FF7-40FF-8540-93B2DF3A37E7">Consider Using Attribute-Clustered Tables</a><br>An attribute-clustered table is a heap-organized table that stores data in close proximity on disk based on user-specified clustering directives.
                     </li>
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-05AF604F-B923-4256-BA47-B7E0E29386EE">Consider Using Zone Maps</a><br>A zone is a set of contiguous data blocks on disk. A zone map tracks the minimum and maximum of specified columns for all individual zones.
                     </li>
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-8487BAFD-B157-4CBA-8330-2A3088C0A173">Consider Storing Tables in the In-Memory Column Store</a><br>The In-Memory Column Store is an optional portion of the system global area (SGA) that stores copies of tables, table partitions, and other database objects that is optimized for rapid scans. In the In-Memory Column Store, table data is stored by column rather than row in the SGA.
                     </li>
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-38DBFC2E-FC6C-46E2-A7A1-6FA703F9DC01">Consider Using Invisible Columns</a><br>You can use invisible column to make changes to a table without disrupting applications that use the table.
                     </li>
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-F9D38568-4F95-4053-B21F-F318077C29E5">Consider Encrypting Columns That Contain Sensitive Data</a><br>You can encrypt individual table columns that contain sensitive data. Examples of sensitive data include social security numbers, credit card numbers, and medical records. Column encryption is transparent to your applications, with some restrictions.
                     </li>
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-2823F411-EC06-49D0-998E-C76CB139794E">Understand Deferred Segment Creation</a><br>When you create heap-organized tables in a locally managed tablespace, the database defers table segment creation until the first row is inserted.
                     </li>
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-BFDCA073-3AEC-4399-A95A-C4888120B958">Materializing Segments</a><br>The <code class="codeph">DBMS_SPACE_ADMIN</code> package includes the <code class="codeph">MATERIALIZE_DEFERRED_SEGMENTS()</code> procedure, which enables you to materialize segments for tables, table partitions, and dependent objects created with deferred segment creation enabled.
                     </li>
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-A9EDF4CF-FFBA-4D09-A4BB-621BE977E4FC">Estimate Table Size and Plan Accordingly</a><br>Estimate the sizes of tables before creating them. Preferably, do this as part of database planning. Knowing the sizes, and uses, for database tables is an important part of database planning.
                     </li>
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-66B37910-379C-4FB1-81B1-D2671FDCDE46">Restrictions to Consider When Creating Tables</a><br>There are restrictions to consider when you create tables.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-707B02F5-E589-4C20-8E2E-5ED4F7888702" title="Managing tables includes tasks such as creating tables, loading tables, altering tables, and dropping tables.">Managing Tables</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN11625"></a><div class="props_rev_3"><a id="GUID-809CEB2A-16F1-435C-B69E-EAF0DB778781" name="GUID-809CEB2A-16F1-435C-B69E-EAF0DB778781"></a><h4 id="ADMIN-GUID-809CEB2A-16F1-435C-B69E-EAF0DB778781" class="sect4"><span class="enumeration_section">20.2.1 </span>Design Tables Before Creating Them
                  </h4>
                  <div>
                     <p>Usually, the application developer is responsible for designing the elements of an application, including the tables. Database administrators are responsible for establishing the attributes of the underlying tablespace that will hold the application tables.</p>
                     <p>Either the DBA or the applications developer, or both working jointly, can be responsible for the actual creation of the tables, depending upon the practices for a site. Working with the application developer, consider the following guidelines when designing tables:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Use descriptive names for tables, columns, indexes, and clusters.</p>
                        </li>
                        <li>
                           <p>Be consistent in abbreviations and in the use of singular and plural forms of table names and columns.</p>
                        </li>
                        <li>
                           <p>Document the meaning of each table and its columns with the <code class="codeph">COMMENT</code> command.
                           </p>
                        </li>
                        <li>
                           <p>Normalize each table.</p>
                        </li>
                        <li>
                           <p>Select the appropriate data type for each column.</p>
                        </li>
                        <li>
                           <p>Consider whether your applications would benefit from adding one or more virtual columns to some tables.</p>
                        </li>
                        <li>
                           <p>Define columns that allow nulls last, to conserve storage space.</p>
                        </li>
                        <li>
                           <p>Cluster tables whenever appropriate, to conserve storage space and optimize performance of SQL statements.</p>
                        </li>
                     </ul>
                     <p>Before creating a table, you should also determine whether to use integrity constraints. Integrity constraints can be defined on the columns of a table to enforce the business rules of your database automatically.</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-86F766C5-2344-4790-95E4-4E813A0B21DA" title="Following guidelines can make the management of your tables easier and can improve performance when creating the table, as well as when loading, updating, and querying the table data.">Guidelines for Managing Tables</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11626"></a><div class="props_rev_3"><a id="GUID-43128EAC-5B7C-4A5C-AA9B-6C69EEFC7F3F" name="GUID-43128EAC-5B7C-4A5C-AA9B-6C69EEFC7F3F"></a><h4 id="ADMIN-GUID-43128EAC-5B7C-4A5C-AA9B-6C69EEFC7F3F" class="sect4"><span class="enumeration_section">20.2.2 </span>Specify the Type of Table to Create
                  </h4>
                  <div>
                     <p>You can create different types of tables with Oracle Database.</p>
                     <p>Here are the types of tables that you can create:</p>
                     <div class="tblformal" id="GUID-43128EAC-5B7C-4A5C-AA9B-6C69EEFC7F3F__GUID-651DE281-85A3-4665-8EA6-2C282C2F8DFB">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="Column 1 lists some of the various types of tables, column 2 describes each type of table." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="30%" id="d192334e679">Type of Table</th>
                                 <th align="left" valign="bottom" width="70%" id="d192334e682">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d192334e687" headers="d192334e679 ">
                                    <p>Ordinary (heap-organized) table</p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d192334e687 d192334e682 ">
                                    <p>This is the basic, general purpose type of table which is the primary subject of this chapter. Its data is stored as an unordered collection (heap).</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d192334e694" headers="d192334e679 ">
                                    <p>Clustered table</p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d192334e694 d192334e682 ">
                                    <p>A clustered table is a table that is part of a cluster. A cluster is a group of tables that share the same data blocks because they share common columns and are often used together.</p>
                                    <p>Clusters and clustered tables are discussed in <a href="managing-clusters.html#GUID-2EB6D65C-3DD8-4C92-A8B4-C05197B6CF2D" title="Using clusters can improve performance and reduce disk space requirements.">Managing Clusters</a>.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d192334e710" headers="d192334e679 ">
                                    <p>Index-organized table</p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d192334e710 d192334e682 ">
                                    <p>Unlike an ordinary (heap-organized) table, data for an index-organized table is stored in a B-tree index structure in a primary key sorted manner. Besides storing the primary key column values of an index-organized table row, each index entry in the B-tree stores the nonkey column values as well.</p>
                                    <p>Index-organized tables are discussed in <span class="q">"<a href="managing-tables.html#GUID-D9BCA9BF-EAA8-431D-BDBB-ED5B3C59C5E4" title="An index-organized table's storage organization is a variant of a primary B-tree index. Unlike a heap-organized table, data is stored in primary key order.">Managing Index-Organized Tables </a>"</span>.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d192334e727" headers="d192334e679 ">
                                    <p>Partitioned table</p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d192334e727 d192334e682 ">
                                    <p>Partitioned tables enable your data to be broken down into smaller, more manageable pieces called partitions, or even subpartitions. Each partition can have separate physical attributes, such as compression enabled or disabled, type of compression, physical storage settings, and tablespace, thus providing a structure that can be better tuned for availability and performance. In addition, each partition can be managed individually, which can simplify and reduce the time required for backup and administration.</p>
                                    <p>Partitioned tables are discussed in <a href="../vldbg/partition-concepts.html#VLDBG-GUID-EA7EF5CB-DD49-43AF-889A-F83AAC0D7D51" target="_blank"><span class="italic">Oracle Database VLDB and Partitioning Guide</span></a>.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d192334e741" headers="d192334e679 ">
                                    <p>External table</p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d192334e741 d192334e682 ">
                                    <p>An external table is a table that does not reside in the database, but resides outside the database in external files, such as operating system files or Hadoop&nbsp;Distributed File System (HDFS) files.</p>
                                    <p>External tables are discussed in <a href="managing-tables.html#GUID-F6948F0E-0557-4C42-9145-1897DE974CC3" title="External tables are the tables that do not reside in the database, but reside outside the database in external files, such as operating system files or Hadoop Distributed File System (HDFS) files.">Managing External Tables</a>.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="30%" id="d192334e757" headers="d192334e679 ">
                                    <p>Hybrid partitioned table</p>
                                 </td>
                                 <td align="left" valign="top" width="70%" headers="d192334e757 d192334e682 ">
                                    <p>A hybrid partitioned table is a partitioned table in which some partitions reside in the database and some partitions reside outside the database in external files, such as operating system files or Hadoop&nbsp;Distributed File System (HDFS) files.</p>
                                    <p>Hybrid partitioned tables are discussed in <a href="../vldbg/partition-concepts.html#VLDBG-GUID-C2B04585-BCFC-40D6-AFAB-47DF99A31C76" target="_blank"><span class="italic">Oracle Database VLDB and Partitioning Guide</span></a>.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-86F766C5-2344-4790-95E4-4E813A0B21DA" title="Following guidelines can make the management of your tables easier and can improve performance when creating the table, as well as when loading, updating, and querying the table data.">Guidelines for Managing Tables</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11627"></a><div class="props_rev_3"><a id="GUID-716489CE-CBDE-414A-BEDA-3E1DEC83BE97" name="GUID-716489CE-CBDE-414A-BEDA-3E1DEC83BE97"></a><h4 id="ADMIN-GUID-716489CE-CBDE-414A-BEDA-3E1DEC83BE97" class="sect4"><span class="enumeration_section">20.2.3 </span>Specify the Location of Each Table
                  </h4>
                  <div>
                     <p>It is advisable to specify the <code class="codeph">TABLESPACE</code> clause in a <code class="codeph">CREATE TABLE</code> statement to identify the tablespace that is to store the new table. For partitioned tables, you can optionally identify the tablespace that is to store each partition.
                     </p>
                     <p>Ensure that you have the appropriate privileges and quota on any tablespaces that you use. If you do not specify a tablespace in a <code class="codeph">CREATE TABLE</code> statement, the table is created in your default tablespace. 
                     </p>
                     <p>When specifying the tablespace to contain a new table, ensure that you understand implications of your selection. By properly specifying a tablespace during the creation of each table, you can increase the performance of the database system and decrease the time needed for database administration.</p>
                     <p>The following situations illustrate how not specifying a tablespace, or specifying an inappropriate one, can affect performance:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>If users' objects are created in the <code class="codeph">SYSTEM</code> tablespace, the performance of the database can suffer, since both data dictionary objects and user objects must contend for the same data files. Users' objects should not be stored in the <code class="codeph">SYSTEM</code> tablespace. To avoid this, ensure that all users are assigned default tablespaces when they are created in the database. 
                           </p>
                        </li>
                        <li>
                           <p>If application-associated tables are arbitrarily stored in various tablespaces, the time necessary to complete administrative operations (such as backup and recovery) for the data of that application can be increased.</p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-86F766C5-2344-4790-95E4-4E813A0B21DA" title="Following guidelines can make the management of your tables easier and can improve performance when creating the table, as well as when loading, updating, and querying the table data.">Guidelines for Managing Tables</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11628"></a><div class="props_rev_3"><a id="GUID-D5E6D2FB-C708-4CF4-BCD7-F38C10A73A1F" name="GUID-D5E6D2FB-C708-4CF4-BCD7-F38C10A73A1F"></a><h4 id="ADMIN-GUID-D5E6D2FB-C708-4CF4-BCD7-F38C10A73A1F" class="sect4"><span class="enumeration_section">20.2.4 </span>Consider Parallelizing Table Creation
                  </h4>
                  <div>
                     <p>You can use parallel execution when creating tables using a subquery (<code class="codeph">AS SELECT</code>) in the <code class="codeph">CREATE TABLE</code> statement. Because multiple processes work together to create the table, performance of the table creation operation is improved.
                     </p>
                     <p>Parallelizing table creation is discussed in the section <span class="q">"<a href="managing-tables.html#GUID-2C1E31D1-C0EE-48D6-8C11-31AE9AFF5440" title="When you specify the AS SELECT clause to create a table and populate it with data from another table, you can use parallel execution.">Parallelizing Table Creation</a>"</span>.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-86F766C5-2344-4790-95E4-4E813A0B21DA" title="Following guidelines can make the management of your tables easier and can improve performance when creating the table, as well as when loading, updating, and querying the table data.">Guidelines for Managing Tables</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11629"></a><div class="props_rev_3"><a id="GUID-E9EB5D85-49D8-4A29-9DF3-A7CBBA484EE3" name="GUID-E9EB5D85-49D8-4A29-9DF3-A7CBBA484EE3"></a><h4 id="ADMIN-GUID-E9EB5D85-49D8-4A29-9DF3-A7CBBA484EE3" class="sect4"><span class="enumeration_section">20.2.5 </span>Consider Using NOLOGGING When Creating Tables 
                  </h4>
                  <div>
                     <p>To create a table most efficiently use the <code class="codeph">NOLOGGING</code> clause in the <code class="codeph">CREATE TABLE...AS SELECT</code> statement. The <code class="codeph">NOLOGGING</code> clause causes minimal redo information to be generated during the table creation. 
                     </p>
                     <p>Using the <code class="codeph">NOLOGGING</code> clause has the following benefits:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Space is saved in the redo log files.</p>
                        </li>
                        <li>
                           <p>The time it takes to create the table is decreased.</p>
                        </li>
                        <li>
                           <p>Performance improves for parallel creation of large tables.</p>
                        </li>
                     </ul>
                     <p>The <code class="codeph">NOLOGGING</code> clause also specifies that subsequent direct loads using SQL*Loader and direct load <code class="codeph">INSERT</code> operations are not logged. Subsequent DML statements (<code class="codeph">UPDATE</code>, <code class="codeph">DELETE</code>, and conventional path insert) are unaffected by the <code class="codeph">NOLOGGING</code> attribute of the table and generate redo. 
                     </p>
                     <p>If you cannot afford to lose the table after you have created it (for example, you will no longer have access to the data used to create the table) you should take a backup immediately after the table is created. In some situations, such as for tables that are created for temporary use, this precaution may not be necessary.</p>
                     <p>In general, the relative performance improvement of specifying <code class="codeph">NOLOGGING</code> is greater for larger tables than for smaller tables. For small tables, <code class="codeph">NOLOGGING</code> has little effect on the time it takes to create a table. However, for larger tables the performance improvement can be significant, especially when also parallelizing the table creation.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-86F766C5-2344-4790-95E4-4E813A0B21DA" title="Following guidelines can make the management of your tables easier and can improve performance when creating the table, as well as when loading, updating, and querying the table data.">Guidelines for Managing Tables</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-34D15DD1-0925-4C9A-BE8A-3EE91671E526" name="GUID-34D15DD1-0925-4C9A-BE8A-3EE91671E526"></a><h4 id="ADMIN-GUID-34D15DD1-0925-4C9A-BE8A-3EE91671E526" class="sect4"><span class="enumeration_section">20.2.6 </span>Consider Using Table Compression
                  </h4>
                  <p>As your database grows in size, consider using table compression to save space and improve performance.</p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-ED833867-4B7F-442E-A70C-9C19DAA8F445">About Table Compression</a><br>Compression saves disk space, reduces memory use in the database buffer cache, and can significantly speed query execution during reads.
                        </li>
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-3FDE903A-6CA8-40B5-8B0B-FC9F5BB9C667">Examples Related to Table Compression</a><br>Examples illustrate using table compression.
                        </li>
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-F10EF5C9-AA5C-4F74-87DD-603955A64CB2">Compression and Partitioned Tables</a><br>A table can have both compressed and uncompressed partitions, and different partitions can use different compression methods. If the compression settings for a table and one of its partitions do not match, then the partition setting has precedence for the partition.
                        </li>
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-E56CD5F0-2788-4B05-A72D-CAD9A986B127">Determining If a Table Is Compressed</a><br>In the <code class="codeph">*_TABLES</code> data dictionary views, compressed tables have <code class="codeph">ENABLED</code> in the <code class="codeph">COMPRESSION</code> column.
                        </li>
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-FA9385A5-C77E-4E8F-809F-7704BAD9EE2D">Determining Which Rows Are Compressed</a><br>To determine the compression level of a row, use the <code class="codeph">GET_COMPRESSION_TYPE</code> function in the <code class="codeph">DBMS_COMPRESSION</code> package.
                        </li>
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-364F249F-ED4D-4CF3-B4FE-9724D5978D5E">Changing the Compression Level</a><br>You can change the compression level for a partition, table, or tablespace.
                        </li>
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-321C8937-3F4A-4641-9B77-CB06BDE9382C">Adding and Dropping Columns in Compressed Tables</a><br>Some restrictions apply when adding columns to a compressed table or dropping columns from a compressed table.
                        </li>
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-BD0E0587-1BF3-4EB1-9E0E-4F24F0B54A0B">Exporting and Importing Hybrid Columnar Compression Tables</a><br>Hybrid Columnar Compression tables can be imported using the <code class="codeph">impdp</code> command of the Data Pump Import utility.
                        </li>
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-4826DC4F-F4E5-4500-AF00-EAA8F46E9AD5">Restoring a Hybrid Columnar Compression Table</a><br>There may be times when a Hybrid Columnar Compression table must be restored from a backup. The table can be restored to a system that supports Hybrid Columnar Compression, or to a system that does not support Hybrid Columnar Compression.
                        </li>
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-13D5D4C8-AA82-4AF6-A730-D36CA6DDEA31">Notes and Restrictions for Compressed Tables</a><br>Consider notes and restrictions related to compressed tables.
                        </li>
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-11A2D127-327C-4530-A457-F041FC091C4A">Packing Compressed Tables</a><br>If you use conventional DML on a table compressed with basic table compression or Hybrid Columnar Compression, then all inserted and updated rows are stored uncompressed or in a less-compressed format. To "pack" the compressed table so that these rows are compressed, use an <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> <code class="codeph">MOVE</code> statement.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-86F766C5-2344-4790-95E4-4E813A0B21DA" title="Following guidelines can make the management of your tables easier and can improve performance when creating the table, as well as when loading, updating, and querying the table data.">Guidelines for Managing Tables</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN13949"></a><a id="ADMIN13950"></a><a id="ADMIN13948"></a><div class="props_rev_3"><a id="GUID-ED833867-4B7F-442E-A70C-9C19DAA8F445" name="GUID-ED833867-4B7F-442E-A70C-9C19DAA8F445"></a><h5 id="ADMIN-GUID-ED833867-4B7F-442E-A70C-9C19DAA8F445" class="sect5"><span class="enumeration_section">20.2.6.1 </span>About Table Compression
                     </h5>
                     <div>
                        <p>Compression saves disk space, reduces memory use in the database buffer cache, and can significantly speed query execution during reads.</p>
                        <p>Compression has a cost in CPU overhead for data loading and DML. However, this cost is offset by reduced I/O requirements. Because compressed table data stays compressed in memory, compression can also improve performance for DML operations, as more rows can fit in the database buffer cache (and flash cache if it is enabled).</p>
                        <p>Table compression is completely transparent to applications. It is useful in decision support systems (DSS), online transaction processing (OLTP) systems, and archival systems.</p>
                        <p>You can specify compression for a tablespace, a table, or a partition. If specified at the tablespace level, then all tables created in that tablespace are compressed by default.</p>
                        <p>Oracle Database supports several methods of table compression. They are summarized in <a href="managing-tables.html#GUID-ED833867-4B7F-442E-A70C-9C19DAA8F445__BABEEFHI" title="This table describes the types of table compression. It has the following columns: Table Compression Method, Compression Level, CPU Overhead,, Applications, and Notes">Table 20-1</a>.
                        </p>
                        <div class="tblformal" id="GUID-ED833867-4B7F-442E-A70C-9C19DAA8F445__BABEEFHI">
                           <p class="titleintable">Table 20-1 Table Compression Methods</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Table Compression Methods" summary="This table describes the types of table compression. It has the following columns:  Table Compression Method, Compression Level, CPU Overhead,, Applications, and Notes" width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d192334e1218">Table Compression Method</th>
                                    <th align="left" valign="bottom" id="d192334e1221">Compression Level</th>
                                    <th align="left" valign="bottom" id="d192334e1224">CPU Overhead</th>
                                    <th align="left" valign="bottom" id="d192334e1227">Applications</th>
                                    <th align="left" valign="bottom" id="d192334e1230">Notes</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d192334e1235" headers="d192334e1218 ">
                                       <p>Basic table compression</p>
                                    </td>
                                    <td align="left" valign="top" headers="d192334e1235 d192334e1221 ">
                                       <p>High</p>
                                    </td>
                                    <td align="left" valign="top" headers="d192334e1235 d192334e1224 ">
                                       <p>Minimal</p>
                                    </td>
                                    <td align="left" valign="top" headers="d192334e1235 d192334e1227 ">
                                       <p>DSS</p>
                                    </td>
                                    <td align="left" valign="top" headers="d192334e1235 d192334e1230 ">
                                       <p>None.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d192334e1251" headers="d192334e1218 ">
                                       <p>Advanced row compression</p>
                                    </td>
                                    <td align="left" valign="top" headers="d192334e1251 d192334e1221 ">
                                       <p>High</p>
                                    </td>
                                    <td align="left" valign="top" headers="d192334e1251 d192334e1224 ">
                                       <p>Minimal</p>
                                    </td>
                                    <td align="left" valign="top" headers="d192334e1251 d192334e1227 ">
                                       <p>OLTP, DSS</p>
                                    </td>
                                    <td align="left" valign="top" headers="d192334e1251 d192334e1230 ">
                                       <p>None.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d192334e1267" headers="d192334e1218 ">
                                       <p>Warehouse compression (Hybrid Columnar Compression)</p>
                                    </td>
                                    <td align="left" valign="top" headers="d192334e1267 d192334e1221 ">
                                       <p>Higher</p>
                                    </td>
                                    <td align="left" valign="top" headers="d192334e1267 d192334e1224 ">
                                       <p>Higher</p>
                                    </td>
                                    <td align="left" valign="top" headers="d192334e1267 d192334e1227 ">
                                       <p>DSS</p>
                                    </td>
                                    <td align="left" valign="top" headers="d192334e1267 d192334e1230 ">
                                       <p>The compression level and CPU overhead depend on compression level specified (LOW or HIGH).</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d192334e1283" headers="d192334e1218 ">
                                       <p>Archive compression (Hybrid Columnar Compression)</p>
                                    </td>
                                    <td align="left" valign="top" headers="d192334e1283 d192334e1221 ">
                                       <p>Highest</p>
                                    </td>
                                    <td align="left" valign="top" headers="d192334e1283 d192334e1224 ">
                                       <p>Highest</p>
                                    </td>
                                    <td align="left" valign="top" headers="d192334e1283 d192334e1227 ">
                                       <p>Archiving</p>
                                    </td>
                                    <td align="left" valign="top" headers="d192334e1283 d192334e1230 ">
                                       <p>The compression level and CPU overhead depend on compression level specified (LOW or HIGH).</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>When you use basic table compression, warehouse compression, or archive compression, compression only occurs when data is bulk loaded or array inserted into a table.</p>
                        <p>Basic table compression supports limited data types and SQL operations. </p>
                        <p>Advanced row compression is intended for OLTP applications and compresses data manipulated by any SQL operation. When you use advanced row compression, compression occurs while data is being inserted, updated, or bulk loaded into a table. Operations that permit advanced row compression include:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Single-row inserts and updates</p>
                              <p>Inserts and updates are not compressed immediately. When updating an already compressed block, any columns that are not updated usually remain compressed. Updated columns are stored in an uncompressed format similar to any uncompressed block. The updated values are re-compressed when the block reaches a database-controlled threshold. Inserted data is also compressed when the data in the block reaches a database-controlled threshold.</p>
                           </li>
                           <li>
                              <p>Array inserts</p>
                              <p>Array inserts include <code class="codeph">INSERT INTO SELECT</code> SQL statements without the <code class="codeph">APPEND</code> hint, and array inserts from programmatic interfaces such as PL/SQL and the Oracle Call Interface (OCI).
                              </p>
                           </li>
                           <li>
                              <p>The following direct-path <code class="codeph">INSERT</code> methods:
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Direct path SQL*Loader </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">CREATE</code> <code class="codeph">TABLE</code> <code class="codeph">AS</code> <code class="codeph">SELECT</code> statements 
                                    </p>
                                 </li>
                                 <li>
                                    <p>Parallel <code class="codeph">INSERT</code> statements
                                    </p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">INSERT</code> statements with an <code class="codeph">APPEND</code> or <code class="codeph">APPEND_VALUES</code> hint
                                    </p>
                                 </li>
                              </ul>
                              <p>Inserts performed with these direct-path <code class="codeph">INSERT</code> methods are compressed immediately.
                              </p>
                           </li>
                        </ul>
                        <p>Warehouse compression and archive compression achieve the highest compression levels because they use Hybrid Columnar Compression technology. Hybrid Columnar Compression technology uses a modified form of columnar storage instead of row-major storage. This enables the database to store similar data together, which improves the effectiveness of compression algorithms. For data that is updated, Hybrid Columnar Compression uses more CPU and moves the updated rows to row format so that future updates are faster. Because of this optimization, you should use it only for data that is updated infrequently.</p>
                        <p>The higher compression levels of Hybrid Columnar Compression are achieved only with data that is direct-path inserted or array inserted. Conventional inserts and updates are supported, but cause rows to be moved from columnar to row format, and reduce the compression level. You can use Automatic Data Optimization (ADO) policies to move these rows back to the desired level of Hybrid Columnar Compression automatically.</p>
                        <p>With Hybrid Columnar Compression (warehouse and archive), for array inserts to be compressed immediately, the following conditions must be met:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The table must be stored in a locally managed tablespace with Automatic Segment Space Management (ASSM) enabled.</p>
                           </li>
                           <li>
                              <p>The database compatibility level must be at 12.2.0 or higher.</p>
                           </li>
                        </ul>
                        <p>Regardless of the compression method, <code class="codeph">DELETE</code> operations on a compressed block are identical to <code class="codeph">DELETE</code> operations on a non-compressed block. Any space obtained on a data block, caused by SQL <code class="codeph">DELETE</code> operations, is reused by subsequent SQL <code class="codeph">INSERT</code> operations. With Hybrid Columnar Compression technology, when all the rows in a compression unit are deleted, the space in the compression unit is available for reuse.
                        </p>
                        <p><a href="managing-tables.html#GUID-ED833867-4B7F-442E-A70C-9C19DAA8F445__BABGGEAA" title="This table lists characteristics of the three types of table compression. Columns are: Table Compression Method, CREATE/ALTER TABLE syntax, Direct Path Insert, DML, and Notes">Table 20-2</a> lists characteristics of each table compression method.
                        </p>
                        <div class="tblformalwide" id="GUID-ED833867-4B7F-442E-A70C-9C19DAA8F445__BABGGEAA">
                           <p class="titleintable">Table 20-2 Table Compression Characteristics</p>
                           <table cellpadding="4" cellspacing="0" class="FormalWide" title="Table Compression Characteristics" summary="This table lists characteristics of the three types of table compression. Columns are: Table Compression Method, CREATE/ALTER TABLE syntax,  Direct Path Insert, DML, and Notes" width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="27%" id="d192334e1413">Table Compression Method</th>
                                    <th align="left" valign="bottom" width="21%" id="d192334e1416">CREATE/ALTER TABLE Syntax</th>
                                    <th align="left" valign="bottom" width="18%" id="d192334e1419">Direct-Path or Array Inserts</th>
                                    <th align="left" valign="bottom" width="34%" id="d192334e1422">Notes</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d192334e1427" headers="d192334e1413 ">
                                       <p>Basic table compression</p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d192334e1427 d192334e1416 ">
                                       <p><code class="codeph">ROW STORE COMPRESS [BASIC]</code></p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d192334e1427 d192334e1419 ">
                                       <p>Rows are compressed with basic table compression.</p>
                                    </td>
                                    <td align="left" valign="top" width="34%" headers="d192334e1427 d192334e1422 ">
                                       <p><code class="codeph">ROW STORE COMPRESS</code> and <code class="codeph">ROW STORE COMPRESS</code> <code class="codeph">BASIC</code> are equivalent.
                                       </p>
                                       <p>Rows inserted without using direct-path or array insert and updated rows are uncompressed.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d192334e1451" headers="d192334e1413 ">
                                       <p>Advanced row compression</p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d192334e1451 d192334e1416 ">
                                       <p><code class="codeph">ROW STORE COMPRESS ADVANCED</code></p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d192334e1451 d192334e1419 ">
                                       <p>Rows are compressed with advanced row compression.</p>
                                    </td>
                                    <td align="left" valign="top" width="34%" headers="d192334e1451 d192334e1422 ">
                                       <p>Rows inserted with or without using direct-path or array insert and updated rows are compressed using advanced row compression.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d192334e1465" headers="d192334e1413 ">
                                       <p>Warehouse compression (Hybrid Columnar Compression)</p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d192334e1465 d192334e1416 ">
                                       <p><code class="codeph">COLUMN STORE COMPRESS FOR QUERY [LOW|HIGH]</code></p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d192334e1465 d192334e1419 ">
                                       <p>Rows are compressed with warehouse compression.</p>
                                    </td>
                                    <td align="left" valign="top" width="34%" headers="d192334e1465 d192334e1422 ">
                                       <p>This compression method can result in high CPU overhead.</p>
                                       <p>Updated rows and rows inserted without using direct-path or array insert are stored in row format instead of column format, and thus have a lower compression level.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="27%" id="d192334e1481" headers="d192334e1413 ">
                                       <p>Archive compression (Hybrid Columnar Compression)</p>
                                    </td>
                                    <td align="left" valign="top" width="21%" headers="d192334e1481 d192334e1416 ">
                                       <p><code class="codeph">COLUMN STORE COMPRESS FOR ARCHIVE [LOW|HIGH]</code></p>
                                    </td>
                                    <td align="left" valign="top" width="18%" headers="d192334e1481 d192334e1419 ">
                                       <p>Rows are compressed with archive compression.</p>
                                    </td>
                                    <td align="left" valign="top" width="34%" headers="d192334e1481 d192334e1422 ">
                                       <p>This compression method can result in high CPU overhead.</p>
                                       <p>Updated rows and rows inserted without using direct-path or array insert are stored in row format instead of column format, and thus have a lower compression level.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>You specify table compression with the <code class="codeph">COMPRESS</code> clause of the <code class="codeph">CREATE</code> <code class="codeph">TABLE</code> statement. You can enable compression for an existing table by using these clauses in an <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> statement. In this case, only data that is inserted or updated after compression is enabled is compressed. Using the <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> <code class="codeph">MOVE</code> statement also enables compression for data that is inserted and updated, but it compresses existing data as well. Similarly, you can disable table compression for an existing compressed table with the <code class="codeph">ALTER</code> <code class="codeph">TABLE</code>...<code class="codeph">NOCOMPRESS</code> statement. In this case, all data that was already compressed remains compressed, and new data is inserted uncompressed.
                        </p>
                        <p>The <code class="codeph">COLUMN STORE COMPRESS FOR QUERY HIGH</code> option is the default data warehouse compression mode. It provides good compression and performance when using Hybrid Columnar Compression on Exadata storage. The <code class="codeph">COLUMN STORE COMPRESS FOR QUERY LOW</code> option should be used in environments where load performance is critical. It loads faster than data compressed with the <code class="codeph">COLUMN STORE COMPRESS FOR QUERY HIGH</code> option.
                        </p>
                        <p>The <code class="codeph">COLUMN STORE COMPRESS FOR ARCHIVE LOW</code> option is the default archive compression mode. It provides a high compression level and is ideal for infrequently-accessed data. The <code class="codeph">COLUMN STORE COMPRESS FOR ARCHIVE HIGH</code> option should be used for data that is rarely accessed.
                        </p>
                        <p>A compression advisor, provided by the <code class="codeph">DBMS_COMPRESSION</code> package, helps you determine the expected compression level for a particular table with a particular compression method.
                        </p>
                        <div class="infoboxnote" id="GUID-ED833867-4B7F-442E-A70C-9C19DAA8F445__GUID-9FCB369A-F201-486E-828D-D95CAD2AAB0D">
                           <p class="notep1">Note:</p>
                           <p>Hybrid Columnar Compression is dependent on the underlying storage system. See <a href="../dblic/Licensing-Information.html#DBLIC-GUID-0F9EB85D-4610-4EDF-89C2-4916A0E7AC87" target="_blank"><span class="italic">Oracle Database Licensing Information</span></a> for more information.
                           </p>
                        </div>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-ED833867-4B7F-442E-A70C-9C19DAA8F445__GUID-94FC3BED-646B-45A5-8528-97B9F1F5D5F1">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../cncpt/tables-and-table-clusters.html#CNCPT1132" target="_blank"><span class="italic">Oracle Database Concepts</span></a> for an overview of table compression
                                 </p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="managing-tablespaces.html#GUID-556AFD6F-E0DA-4694-AB75-A3F8BA43EB03" title="When you create a tablespace, you can specify the default compression of data for all tables and indexes created in the tablespace. The default compression level also applies to the partitions that comprise the tablespace. Compressing this data can reduce disk use.">About Tablespaces with Default Compression Attributes</a>"</span></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-34D15DD1-0925-4C9A-BE8A-3EE91671E526" title="As your database grows in size, consider using table compression to save space and improve performance.">Consider Using Table Compression</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN13952"></a><a id="ADMIN13953"></a><a id="ADMIN13954"></a><a id="ADMIN13955"></a><a id="ADMIN13956"></a><a id="ADMIN13951"></a><div class="props_rev_3"><a id="GUID-3FDE903A-6CA8-40B5-8B0B-FC9F5BB9C667" name="GUID-3FDE903A-6CA8-40B5-8B0B-FC9F5BB9C667"></a><h5 id="ADMIN-GUID-3FDE903A-6CA8-40B5-8B0B-FC9F5BB9C667" class="sect5"><span class="enumeration_section">20.2.6.2 </span>Examples Related to Table Compression
                     </h5>
                     <div>
                        <p>Examples illustrate using table compression.</p>
                        <div class="example" id="GUID-3FDE903A-6CA8-40B5-8B0B-FC9F5BB9C667__BABBFCGB">
                           <p class="titleinexample">Example 20-1 Creating a Table with Advanced Row Compression</p>
                           <p>The following example enables advanced row compression on the table <code class="codeph">orders</code>:
                           </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE orders  ...  ROW STORE COMPRESS ADVANCED;
</pre><p>Data for the <code class="codeph">orders</code> table is compressed during direct-path <code class="codeph">INSERT</code>, array insert, and conventional DML.
                           </p>
                        </div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-3FDE903A-6CA8-40B5-8B0B-FC9F5BB9C667__BABBCDIH">
                           <p class="titleinexample">Example 20-2 Creating a Table with Basic Table Compression</p>
                           <p>The following statements, which are equivalent, enable basic table compression on the <code class="codeph">sales_history</code> table, which is a fact table in a data warehouse:
                           </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE sales_history  ...  ROW STORE COMPRESS BASIC;

CREATE TABLE sales_history  ...  ROW STORE COMPRESS;
</pre><p>Frequent queries are run against this table, but no DML is expected.</p>
                        </div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-3FDE903A-6CA8-40B5-8B0B-FC9F5BB9C667__BABFBGDI">
                           <p class="titleinexample">Example 20-3 Using Direct-Path Insert to Insert Rows Into a Table</p>
                           <p>This example demonstrates using the <a id="d192334e1656" class="indexterm-anchor"></a><code class="codeph">APPEND</code> hint to insert rows into the <code class="codeph">sales_history</code> table using direct-path <code class="codeph">INSERT</code>.
                           </p><pre class="oac_no_warn" dir="ltr">INSERT /*+ APPEND */ INTO sales_history SELECT * FROM sales WHERE cust_id=8890;
COMMIT;
</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-3FDE903A-6CA8-40B5-8B0B-FC9F5BB9C667__GUID-447DBECC-91B8-4C48-86C7-24CA127476C8">
                           <p class="titleinexample">Example 20-4 Using an Array Insert to Insert Rows Into a Table</p>
                           <p>This example demonstrates using an array insert in SQL to insert rows into the <code class="codeph">sales_history</code> table.
                           </p><pre class="oac_no_warn" dir="ltr">INSERT INTO sales_history SELECT * FROM sales WHERE cust_id=8890;
COMMIT;
</pre><p>This example demonstrates using an array insert in PL/SQL to insert rows into the <code class="codeph">hr.jobs_test</code> table.
                           </p><pre class="oac_no_warn" dir="ltr">DECLARE
   TYPE table_def IS TABLE OF hr.jobs%ROWTYPE;
   array table_def := table_def();
BEGIN
   SELECT * BULK COLLECT INTO array FROM hr.jobs;
   FORALL i in array.first .. array.last
   INSERT INTO hr.jobs_test VALUES array(i);
COMMIT;
END; 
/
</pre><div class="infoboxnote" id="GUID-3FDE903A-6CA8-40B5-8B0B-FC9F5BB9C667__GUID-9EA51DC3-764B-45E6-A490-84A0992E0CFF">
                              <p class="notep1">Note:</p>
                              <p>With Hybrid Columnar Compression (warehouse and archive), for array inserts performed in SQL, PL/SQL, or OCI to be compressed immediately, the table must be stored in a locally managed tablespace with Automatic Segment Space Management (ASSM) enabled, and the database compatibility level must be at 12.2.0 or higher.</p>
                           </div>
                        </div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-3FDE903A-6CA8-40B5-8B0B-FC9F5BB9C667__BABGDBEB">
                           <p class="titleinexample">Example 20-5 Creating a Table with Warehouse Compression</p>
                           <p>This example enables Hybrid Columnar Compression on the table <code class="codeph">sales_history</code>:
                           </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE sales_history  ...  COLUMN STORE COMPRESS FOR QUERY;
</pre><p>The table is created with the default <code class="codeph">COLUMN STORE COMPRESS FOR QUERY HIGH</code> option. This option provides a higher level of compression than basic table compression or advanced row compression. It works well when frequent queries are run against this table and no DML is expected.
                           </p>
                        </div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-3FDE903A-6CA8-40B5-8B0B-FC9F5BB9C667__BABDDEEI">
                           <p class="titleinexample">Example 20-6 Creating a Table with Archive Compression</p>
                           <p>The following example enables Hybrid Columnar Compression on the table <code class="codeph">sales_history</code>:
                           </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE sales_history  ...  COLUMN STORE COMPRESS FOR ARCHIVE;
</pre><p>The table is created with the default <code class="codeph">COLUMN STORE COMPRESS FOR ARCHIVE LOW</code> option. This option provides a higher level of compression than basic, advanced row, or warehouse compression. It works well when load performance is critical and data is accessed infrequently. The default <code class="codeph">COLUMN STORE COMPRESS FOR ARCHIVE LOW</code> option provides a lower level of compression than the <code class="codeph">COLUMN STORE COMPRESS FOR ARCHIVE HIGH</code> option. 
                           </p>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-34D15DD1-0925-4C9A-BE8A-3EE91671E526" title="As your database grows in size, consider using table compression to save space and improve performance.">Consider Using Table Compression</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN13957"></a><div class="props_rev_3"><a id="GUID-F10EF5C9-AA5C-4F74-87DD-603955A64CB2" name="GUID-F10EF5C9-AA5C-4F74-87DD-603955A64CB2"></a><h5 id="ADMIN-GUID-F10EF5C9-AA5C-4F74-87DD-603955A64CB2" class="sect5"><span class="enumeration_section">20.2.6.3 </span>Compression and Partitioned Tables
                     </h5>
                     <div>
                        <p>A table can have both compressed and uncompressed partitions, and different partitions can use different compression methods. If the compression settings for a table and one of its partitions do not match, then the partition setting has precedence for the partition.</p>
                        <p>To change the compression method for a partition, do one of the following:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>To change the compression method for new data only, use <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> ... <code class="codeph">MODIFY</code> <code class="codeph">PARTITION</code> ... <code class="codeph">COMPRESS</code> ... 
                              </p>
                           </li>
                           <li>
                              <p>To change the compression method for both new and existing data, use either <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> ... <code class="codeph">MOVE</code> <code class="codeph">PARTITION</code> ... <code class="codeph">COMPRESS</code> ... or online table redefinition.
                              </p>
                           </li>
                        </ul>
                        <p>When you execute these statements, specify the compression method. For example, run the following statement to change the compression method to advanced row compression for both new and existing data:</p><pre class="oac_no_warn" dir="ltr">ALTER TABLE ... MOVE PARTITION ... ROW STORE COMPRESS ADVANCED...</pre></div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-34D15DD1-0925-4C9A-BE8A-3EE91671E526" title="As your database grows in size, consider using table compression to save space and improve performance.">Consider Using Table Compression</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN13958"></a><div class="props_rev_3"><a id="GUID-E56CD5F0-2788-4B05-A72D-CAD9A986B127" name="GUID-E56CD5F0-2788-4B05-A72D-CAD9A986B127"></a><h5 id="ADMIN-GUID-E56CD5F0-2788-4B05-A72D-CAD9A986B127" class="sect5"><span class="enumeration_section">20.2.6.4 </span>Determining If a Table Is Compressed
                     </h5>
                     <div>
                        <p>In the <code class="codeph">*_TABLES</code> data dictionary views, compressed tables have <code class="codeph">ENABLED</code> in the <code class="codeph">COMPRESSION</code> column.
                        </p>
                        <div class="section">
                           <p>For partitioned tables, this column is null, and the <code class="codeph">COMPRESSION</code> column of the <code class="codeph">*_TAB_PARTITIONS</code> views indicates the partitions that are compressed. In addition, the <code class="codeph">COMPRESS_FOR</code> column indicates the compression method in use for the table or partition.
                           </p><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT table_name, compression, compress_for FROM user_tables;
 
TABLE_NAME       COMPRESSION   COMPRESS_FOR
---------------- ------------  -----------------
T1               DISABLED
T2               ENABLED       BASIC
T3               ENABLED       ADVANCED
T4               ENABLED       QUERY HIGH
T5               ENABLED       ARCHIVE LOW

</pre><pre class="oac_no_warn" dir="ltr">SQL&gt; SELECT table_name, partition_name, compression, compress_for
  FROM user_tab_partitions;

TABLE_NAME  PARTITION_NAME   COMPRESSION   COMPRESS_FOR
----------- ---------------- -----------   ------------------------------
SALES       Q4_2004          ENABLED       ARCHIVE HIGH
  ...
SALES       Q3_2008          ENABLED       QUERY HIGH
SALES       Q4_2008          ENABLED       QUERY HIGH
SALES       Q1_2009          ENABLED       ADVANCED
SALES       Q2_2009          ENABLED       ADVANCED
</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-34D15DD1-0925-4C9A-BE8A-3EE91671E526" title="As your database grows in size, consider using table compression to save space and improve performance.">Consider Using Table Compression</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN13959"></a><div class="props_rev_3"><a id="GUID-FA9385A5-C77E-4E8F-809F-7704BAD9EE2D" name="GUID-FA9385A5-C77E-4E8F-809F-7704BAD9EE2D"></a><h5 id="ADMIN-GUID-FA9385A5-C77E-4E8F-809F-7704BAD9EE2D" class="sect5"><span class="enumeration_section">20.2.6.5 </span>Determining Which Rows Are Compressed
                     </h5>
                     <div>
                        <p>To determine the compression level of a row, use the <code class="codeph">GET_COMPRESSION_TYPE</code> function in the <code class="codeph">DBMS_COMPRESSION</code> package.
                        </p>
                        <div class="section">
                           <p>For example, the following query returns the compression type for a row in the <code class="codeph">hr.employees</code> table:
                           </p><pre class="oac_no_warn" dir="ltr">SELECT DECODE(DBMS_COMPRESSION.GET_COMPRESSION_TYPE(
                 ownname    =&gt; 'HR', 
                 tabname    =&gt; 'EMPLOYEES', 
                 subobjname =&gt; '',
                 row_id     =&gt; 'AAAVEIAAGAAAABTAAD'), 
   1,  'No Compression',
   2,  'Advanced Row Compression', 
   4,  'Hybrid Columnar Compression for Query High',
   8,  'Hybrid Columnar Compression for Query Low',
   16, 'Hybrid Columnar Compression for Archive High',
   32, 'Hybrid Columnar Compression for Archive Low',
   4096, 'Basic Table Compression', 
   'Unknown Compression Type') compression_type
FROM DUAL;
</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-FA9385A5-C77E-4E8F-809F-7704BAD9EE2D__GUID-845D69CA-2210-4671-97CD-9BD1B15B1313">
                           <p class="notep1">See Also:</p>
                           <p><a href="../arpls/DBMS_COMPRESSION.html#ARPLS65610" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for additional information about <code class="codeph">GET_COMPRESSION_TYPE</code></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-34D15DD1-0925-4C9A-BE8A-3EE91671E526" title="As your database grows in size, consider using table compression to save space and improve performance.">Consider Using Table Compression</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN13960"></a><div class="props_rev_3"><a id="GUID-364F249F-ED4D-4CF3-B4FE-9724D5978D5E" name="GUID-364F249F-ED4D-4CF3-B4FE-9724D5978D5E"></a><h5 id="ADMIN-GUID-364F249F-ED4D-4CF3-B4FE-9724D5978D5E" class="sect5"><span class="enumeration_section">20.2.6.6 </span>Changing the Compression Level
                     </h5>
                     <div>
                        <p>You can change the compression level for a partition, table, or tablespace.</p>
                        <div class="section">
                           <p>For example, suppose a company uses warehouse compression for its sales data, but sales data older than six months is rarely accessed. If the sales data is stored in a table that is partitioned based on the age of the data, then the compression level for the older data can be changed to archive compression to free disk space.</p>
                           <p>To change the compression level for a partition or subpartition, you can use the following statements:</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">ALTER</code> <code class="codeph">TABLE</code> <code class="codeph">...</code> <code class="codeph">MOVE</code> <code class="codeph">PARTITION</code> <code class="codeph">...</code> <code class="codeph">ONLINE</code></p>
                              </li>
                              <li>
                                 <p><code class="codeph">ALTER</code> <code class="codeph">TABLE</code> <code class="codeph">...</code> <code class="codeph">MOVE</code> <code class="codeph">SUBPARTITION</code> <code class="codeph">...</code> <code class="codeph">ONLINE</code></p>
                              </li>
                           </ul>
                           <p>These two statements support the <code class="codeph">ONLINE</code> keyword, which enables DML operations to run uninterrupted on the partition or subpartition that is being moved. These statements also automatically keep all the indexes updated while the partition or subpartition is being moved. You can also use the <code class="codeph">ALTER TABLE...MODIFY PARTITION</code> statement or online redefinition to change the compression level for a partition.
                           </p>
                           <p>If a table is not partitioned, then you can use the <code class="codeph">ALTER TABLE...MOVE...COMPRESS FOR...</code> statement to change the compression level. The <code class="codeph">ALTER TABLE...MOVE</code> statement does not permit DML statements against the table while the command is running. However, you can also use online redefinition to compress a table, which keeps the table available for queries and DML statements during the redefinition.
                           </p>
                           <p>To change the compression level for a tablespace, use the <code class="codeph">ALTER TABLESPACE</code> statement.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-364F249F-ED4D-4CF3-B4FE-9724D5978D5E__GUID-67134359-DDFF-4630-AC25-C48DF35FA22A">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="managing-tables.html#GUID-3DE67CF4-84C5-4AED-A8A3-B1D28D8EBEF6" title="The ALTER TABLE...MOVE [PARTITION|SUBPARTITION] statement enables you to move a table, partition, or subpartition to change any physical storage attribute, such as compression, or the tablespace, assuming you have the appropriate quota in the target tablespace.">Moving a Table to a New Segment or Tablespace</a>"</span> for additional information about the <code class="codeph">ALTER TABLE</code> command
                                 </p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="managing-tables.html#GUID-F95114BC-F512-4A1F-B5BD-07DDDE60D934" title="In any database system, it is occasionally necessary to modify the logical or physical structure of a table to improve the performance of queries or DML, accommodate application changes, or Manage storage. You can redefine tables online with the DBMS_REDEFINITION package.">Redefining Tables Online</a>"</span></p>
                              </li>
                              <li>
                                 <p><a href="../arpls/DBMS_REDEFINITION.html#ARPLS042" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for additional information about the <code class="codeph">DBMS_REDEFINITION</code> package
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-34D15DD1-0925-4C9A-BE8A-3EE91671E526" title="As your database grows in size, consider using table compression to save space and improve performance.">Consider Using Table Compression</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN13961"></a><div class="props_rev_3"><a id="GUID-321C8937-3F4A-4641-9B77-CB06BDE9382C" name="GUID-321C8937-3F4A-4641-9B77-CB06BDE9382C"></a><h5 id="ADMIN-GUID-321C8937-3F4A-4641-9B77-CB06BDE9382C" class="sect5"><span class="enumeration_section">20.2.6.7 </span>Adding and Dropping Columns in Compressed Tables
                     </h5>
                     <div>
                        <p>Some restrictions apply when adding columns to a compressed table or dropping columns from a compressed table.</p>
                        <p>The following restrictions apply when adding columns to compressed tables:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Advanced row compression, warehouse compression, and archive compression: If a default value is specified for an added column and the table is already populated, then the conditions for optimized add column behavior must be met. These conditions are described in <a href="../sqlrf/ALTER-TABLE.html#SQLRF53355" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a>.
                              </p>
                           </li>
                        </ul>
                        <p>The following restrictions apply when dropping columns in compressed tables:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Basic table compression: Dropping a column is not supported.</p>
                           </li>
                           <li>
                              <p>Advanced row compression, warehouse compression, and archive compression: <code class="codeph">DROP</code> <code class="codeph">COLUMN</code> is supported, but internally the database sets the column <code class="codeph">UNUSED</code> to avoid long-running decompression and recompression operations.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-34D15DD1-0925-4C9A-BE8A-3EE91671E526" title="As your database grows in size, consider using table compression to save space and improve performance.">Consider Using Table Compression</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN13962"></a><div class="props_rev_3"><a id="GUID-BD0E0587-1BF3-4EB1-9E0E-4F24F0B54A0B" name="GUID-BD0E0587-1BF3-4EB1-9E0E-4F24F0B54A0B"></a><h5 id="ADMIN-GUID-BD0E0587-1BF3-4EB1-9E0E-4F24F0B54A0B" class="sect5"><span class="enumeration_section">20.2.6.8 </span>Exporting and Importing Hybrid Columnar Compression Tables
                     </h5>
                     <div>
                        <p>Hybrid Columnar Compression tables can be imported using the <code class="codeph">impdp</code> command of the Data Pump Import utility.
                        </p>
                        <div class="section">
                           <p>By default, the <code class="codeph">impdp</code> command preserves the table properties, and the imported table is a Hybrid Columnar Compression table. On tablespaces not supporting Hybrid Columnar Compression, the <code class="codeph">impdp</code> command fails with an error. The tables can also be exported using the <code class="codeph">expdp</code> command. 
                           </p>
                           <p>You can import the Hybrid Columnar Compression table as an uncompressed table using the <code class="codeph">TRANSFORM=SEGMENT_ATTRIBUTES:n</code> option clause of the <code class="codeph">impdp</code> command.
                           </p>
                           <p>An uncompressed or advanced row-compressed table can be converted to Hybrid Columnar Compression format during import. To convert a non-Hybrid Columnar Compression table to a Hybrid Columnar Compression table, do the following:</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li><span>Specify default compression for the tablespace using the <code class="codeph">ALTER TABLESPACE ... SET DEFAULT COMPRESS</code> command.</span></li>
                           <li><span>Override the <code class="codeph">SEGMENT_ATTRIBUTES</code> option of the imported table during import.</span></li>
                        </ol>
                        <div class="section"></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-BD0E0587-1BF3-4EB1-9E0E-4F24F0B54A0B__GUID-9FF05C5B-8DB6-4022-A17C-CCCD1FF2086C">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../sutil/datapump-import-utility.html#SUTIL300" target="_blank"><span class="italic">Oracle Database Utilities</span></a> for additional information about the Data Pump Import utility
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../sqlrf/ALTER-TABLESPACE.html#SQLRF01002" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for additional information about the <code class="codeph">ALTER TABLESPACE</code> command
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-34D15DD1-0925-4C9A-BE8A-3EE91671E526" title="As your database grows in size, consider using table compression to save space and improve performance.">Consider Using Table Compression</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN13963"></a><div class="props_rev_3"><a id="GUID-4826DC4F-F4E5-4500-AF00-EAA8F46E9AD5" name="GUID-4826DC4F-F4E5-4500-AF00-EAA8F46E9AD5"></a><h5 id="ADMIN-GUID-4826DC4F-F4E5-4500-AF00-EAA8F46E9AD5" class="sect5"><span class="enumeration_section">20.2.6.9 </span>Restoring a Hybrid Columnar Compression Table
                     </h5>
                     <div>
                        <p>There may be times when a Hybrid Columnar Compression table must be restored from a backup. The table can be restored to a system that supports Hybrid Columnar Compression, or to a system that does not support Hybrid Columnar Compression.</p>
                        <div class="section">
                           <p>When restoring a table with Hybrid Columnar Compression to a system that supports Hybrid Columnar Compression, restore the file using Oracle Recovery Manager (RMAN) as usual.</p>
                           <p>When a Hybrid Columnar Compression table is restored to a system that does not support Hybrid Columnar Compression, you must convert the table from Hybrid Columnar Compression to advanced row compression or an uncompressed format. To restore the table, do the following:</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>Ensure there is sufficient storage in environment to hold the data in uncompressed or advanced row compression format.</span></li>
                           <li class="stepexpand"><span>Use RMAN to restore the Hybrid Columnar Compression tablespace.</span></li>
                           <li class="stepexpand"><span>Complete one of the following actions to convert the table from Hybrid Columnar Compression to advanced row compression or an uncompressed format:</span><div>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>Use the following statement to change the data compression from Hybrid Columnar Compression to <code class="codeph">ROW STORE COMPRESS ADVANCED</code>:
                                       </p><pre class="oac_no_warn" dir="ltr">ALTER TABLE <span class="italic"><code class="codeph">table_name</code></span> MOVE ROW STORE COMPRESS ADVANCED;
</pre></li>
                                    <li>
                                       <p>Use the following statement to change the data compression from Hybrid Columnar Compression to <code class="codeph">NOCOMPRESS</code>:
                                       </p><pre class="oac_no_warn" dir="ltr">ALTER TABLE <span class="italic"><code class="codeph">table_name</code></span> MOVE NOCOMPRESS;
</pre></li>
                                    <li>
                                       <p>Use the following statement to change each partition to <code class="codeph">NOCOMPRESS</code>:
                                       </p><pre class="oac_no_warn" dir="ltr">ALTER TABLE <span class="italic"><code class="codeph">table_name</code></span> MOVE PARTITION <span class="italic"><code class="codeph">partition_name</code></span> NOCOMPRESS;
</pre><p>Change each partition separately.</p>
                                       <p>If DML is required on the partition while it is being moved, then include the <code class="codeph">ONLINE</code> keyword:
                                       </p><pre class="oac_no_warn" dir="ltr">ALTER TABLE <span class="italic"><code class="codeph">table_name</code></span> MOVE PARTITION <span class="italic"><code class="codeph">partition_name</code></span> NOCOMPRESS ONLINE;
</pre><p>Moving a partition online might take longer than moving a partition offline.</p>
                                    </li>
                                    <li>
                                       <p>Use the following statement to move the data to <code class="codeph">NOCOMPRESS</code> in parallel:
                                       </p><pre class="oac_no_warn" dir="ltr">ALTER TABLE <span class="italic"><code class="codeph">table_name</code></span> MOVE NOCOMPRESS PARALLEL;
</pre></li>
                                 </ul>
                              </div>
                           </li>
                        </ol>
                        <div class="section"></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-4826DC4F-F4E5-4500-AF00-EAA8F46E9AD5__GUID-0E5D85AE-8C5B-4DF6-B3AB-12C193E79BA9">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../bradv/getting-started-rman.html#BRADV89346" target="_blank"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a> for additional information about RMAN
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../sqlrf/ALTER-TABLE.html#SQLRF01001" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for additional information about the <code class="codeph">ALTER TABLE</code> command
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-34D15DD1-0925-4C9A-BE8A-3EE91671E526" title="As your database grows in size, consider using table compression to save space and improve performance.">Consider Using Table Compression</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN13964"></a><div class="props_rev_3"><a id="GUID-13D5D4C8-AA82-4AF6-A730-D36CA6DDEA31" name="GUID-13D5D4C8-AA82-4AF6-A730-D36CA6DDEA31"></a><h5 id="ADMIN-GUID-13D5D4C8-AA82-4AF6-A730-D36CA6DDEA31" class="sect5"><span class="enumeration_section">20.2.6.10 </span>Notes and Restrictions for Compressed Tables
                     </h5>
                     <div>
                        <p>Consider notes and restrictions related to compressed tables.</p>
                        <p>The following are notes and restrictions related to compressed tables:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <div class="p">Advanced row compression, warehouse compression, and archive compression are not supported for the following types of tables:
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>Index-organized tables</p>
                                    </li>
                                    <li>
                                       <p>External tables</p>
                                    </li>
                                    <li>
                                       <p>Tables with <code class="codeph">LONG</code> or <code class="codeph">LONG RAW</code> columns
                                       </p>
                                    </li>
                                    <li>
                                       <p>Temporary tables</p>
                                    </li>
                                    <li>
                                       <p>Tables with <code class="codeph">ROWDEPENDENCIES</code> enabled
                                       </p>
                                    </li>
                                    <li>
                                       <p>Clustered tables</p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                           <li>
                              <p>Online segment shrink is not supported for tables compressed with the following compression methods:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Basic table compression using <code class="codeph">ROW STORE COMPRESS BASIC</code></p>
                                 </li>
                                 <li>
                                    <p>Warehouse compression using <code class="codeph">COLUMN STORE COMPRESS FOR QUERY</code></p>
                                 </li>
                                 <li>
                                    <p>Archive compression using <code class="codeph">COLUMN STORE COMPRESS FOR ARCHIVE</code></p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>The table compression methods described in this section do not apply to SecureFiles large objects (LOBs). SecureFiles LOBs have their own compression methods. See <a href="../adlob/using-oracle-LOBs-storage.html#ADLOB4444" target="_blank"><span class="italic">Oracle Database SecureFiles and Large Objects Developer's Guide</span></a> for more information.
                              </p>
                           </li>
                           <li>
                              <p>Compression technology uses CPU. Ensure that you have enough available CPU to handle the additional load.</p>
                           </li>
                           <li>
                              <p>Tables created with basic table compression have the <code class="codeph">PCT_FREE</code> parameter automatically set to <code class="codeph">0</code> unless you specify otherwise.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-34D15DD1-0925-4C9A-BE8A-3EE91671E526" title="As your database grows in size, consider using table compression to save space and improve performance.">Consider Using Table Compression</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN13965"></a><div class="props_rev_3"><a id="GUID-11A2D127-327C-4530-A457-F041FC091C4A" name="GUID-11A2D127-327C-4530-A457-F041FC091C4A"></a><h5 id="ADMIN-GUID-11A2D127-327C-4530-A457-F041FC091C4A" class="sect5"><span class="enumeration_section">20.2.6.11 </span>Packing Compressed Tables
                     </h5>
                     <div>
                        <p>If you use conventional DML on a table compressed with basic table compression or Hybrid Columnar Compression, then all inserted and updated rows are stored uncompressed or in a less-compressed format. To "pack" the compressed table so that these rows are compressed, use an <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> <code class="codeph">MOVE</code> statement.
                        </p>
                        <div class="section">
                           <p>This operation takes an exclusive lock on the table, and therefore prevents any updates and loads until it completes. If this is not acceptable, then you can use online table redefinition.</p>
                           <p>When you move a partition or subpartition, you can use the <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> <code class="codeph">MOVE</code> statement to compress the partition or subpartition while still allowing DML operations to run interrupted on the partition or subpartition that is being moved.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-11A2D127-327C-4530-A457-F041FC091C4A__GUID-CF706F58-44AA-40FF-BBA1-455E5A5F6D47">
                           <p class="notep1">See Also:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="../sqlrf/ALTER-TABLE.html#SQLRF01001" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for more details on the <code class="codeph">ALTER</code> <code class="codeph">TABLE</code>...<code class="codeph">COMPRESS</code> and <code class="codeph">ALTER</code> <code class="codeph">TABLE</code>...<code class="codeph">MOVE</code> statements, including restrictions
                                 </p>
                              </li>
                              <li>
                                 <p><a href="../vldbg/partition-table-compression.html#VLDBG00404" target="_blank"><span class="italic">Oracle Database VLDB and Partitioning Guide</span></a> for more information on table partitioning
                                 </p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="managing-tables.html#GUID-F95114BC-F512-4A1F-B5BD-07DDDE60D934" title="In any database system, it is occasionally necessary to modify the logical or physical structure of a table to improve the performance of queries or DML, accommodate application changes, or Manage storage. You can redefine tables online with the DBMS_REDEFINITION package.">Redefining Tables Online</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="managing-tables.html#GUID-3DE67CF4-84C5-4AED-A8A3-B1D28D8EBEF6" title="The ALTER TABLE...MOVE [PARTITION|SUBPARTITION] statement enables you to move a table, partition, or subpartition to change any physical storage attribute, such as compression, or the tablespace, assuming you have the appropriate quota in the target tablespace.">Moving a Table to a New Segment or Tablespace</a>"</span> for more information about moving a table, partition, or subpartition
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-34D15DD1-0925-4C9A-BE8A-3EE91671E526" title="As your database grows in size, consider using table compression to save space and improve performance.">Consider Using Table Compression</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN14300"></a><div class="sect3"><a id="GUID-C431C787-F714-4A3B-A745-90F6BCD92A1B" name="GUID-C431C787-F714-4A3B-A745-90F6BCD92A1B"></a><h4 id="ADMIN-GUID-C431C787-F714-4A3B-A745-90F6BCD92A1B" class="sect4"><span class="enumeration_section">20.2.7 </span>Managing Table Compression Using Enterprise Manager Cloud Control
                  </h4>
                  <div>
                     <p>You can manage table compression with Oracle Enterprise Manager Cloud Control.</p>
                     <p></p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-1827B634-3CC7-47E9-8711-0B376F0770E8">Table Compression and Enterprise Manager Cloud Control</a><br>Enterprise Manager displays several central compression pages that summarize the compression features at the database and tablespace levels and contains links to different compression pages. The Compression pages display summaries of the compressed storage space at the database level and the tablespace level.
                        </li>
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-41BA9ED3-3DA1-4069-A87C-458831787731">Viewing the Compression Summary at the Database Level</a><br>You can view the Compression Summary information at the database level.
                        </li>
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-10CA7B47-6000-4292-9E67-20B062E702EA">Viewing the Compression Summary at the Tablespace Level</a><br>You can view the Compression Summary information at the tablespace level.
                        </li>
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-65490EE0-046A-4F5B-B8B6-F88D3B6CAF48">Estimating the Compression Ratio</a><br>You can run the Compression Advisor to calculate the compression ratio for a specific object.
                        </li>
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-607E82AF-69CF-4DAC-ABEB-F2F27492FF38">Compressing an Object</a><br>You can compress an object such as a table.
                        </li>
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-E6EB188A-9BE3-4030-BE5F-A6D9E3383432">Viewing Compression Advice</a><br>You can view compression advice from the Segment Advisor and take actions based on them.
                        </li>
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-3EA670DB-C9F4-493E-9EA9-94C745C92A93">Initiating Automatic Data Optimization on an Object</a><br>You can initiate Automatic Data Optimization on an object.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-86F766C5-2344-4790-95E4-4E813A0B21DA" title="Following guidelines can make the management of your tables easier and can improve performance when creating the table, as well as when loading, updating, and querying the table data.">Guidelines for Managing Tables</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-1827B634-3CC7-47E9-8711-0B376F0770E8" name="GUID-1827B634-3CC7-47E9-8711-0B376F0770E8"></a><h5 id="ADMIN-GUID-1827B634-3CC7-47E9-8711-0B376F0770E8" class="sect5"><span class="enumeration_section">20.2.7.1 </span>Table Compression and Enterprise Manager Cloud Control
                     </h5>
                     <div>
                        <p>Enterprise Manager displays several central compression pages that summarize the compression features at the database and tablespace levels and contains links to different compression pages. The Compression pages display summaries of the compressed storage space at the database level and the tablespace level.</p>
                        <p>On the database level, the Compression Summary for Database page shows the total database size (total size of all the objects, both compressed and uncompressed), the total size of compressed objects in the database, the total size of uncompressed objects in the database and the ratio of the total size of compressed objects to the total database size. This provides you with a general idea on how much storage space within a database is compressed. You can then take action based on the information displayed.</p>
                        <p>Likewise on the tablespace level, the Compression Summary for Tablespace page shows the total tablespace size (total size of all the objects, both compressed and uncompressed), the total size of compressed objects in the tablespace, the total size of uncompressed objects in the tablespace and the ratio of the total size of compressed objects to the total tablespace size.</p>
                        <p>You can use the Compression feature to perform the following tasks:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>View a summary of the compressed storage space for the top 100 tablespaces at the database level or the top 100 objects at the tablespace level. You can view a summary on how much storage space is compressed within each of top 100 tablespaces that use the most database storage, including the total size of the tablespace, the compressed size of a tablespace, the uncompressed size of tablespace, and the percentage of compressed storage within a tablespace. You can then perform compression tasks based on the information displayed.</p>
                           </li>
                           <li>
                              <p>View the storage size that is compressed by each compression type for four object types: Table, Index, LOB (Large Objects), and DBFS (Oracle Database File System).</p>
                           </li>
                           <li>
                              <p>Calculate the compression ratio for a specific object.</p>
                           </li>
                           <li>
                              <p>Compress an object (tablespace, table, partition or LOB). This allows you to save storage space. You can run the Compression Advisor to ascertain how much space can be saved and then perform the compression action on the object.</p>
                           </li>
                           <li>
                              <p>View compression advice from the Segment Advisor. You can access a link to the Segment Advisor to compress segments.</p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-C431C787-F714-4A3B-A745-90F6BCD92A1B" title="You can manage table compression with Oracle Enterprise Manager Cloud Control.">Managing Table Compression Using Enterprise Manager Cloud Control</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN14301"></a><div class="props_rev_3"><a id="GUID-41BA9ED3-3DA1-4069-A87C-458831787731" name="GUID-41BA9ED3-3DA1-4069-A87C-458831787731"></a><h5 id="ADMIN-GUID-41BA9ED3-3DA1-4069-A87C-458831787731" class="sect5"><span class="enumeration_section">20.2.7.2 </span>Viewing the Compression Summary at the Database Level
                     </h5>
                     <div>
                        <p>You can view the Compression Summary information at the database level.</p>
                        <ol>
                           <li class="stepexpand"><span>From the <span class="bold">Administration</span> menu, choose <span class="bold">Storage</span>, then select <span class="bold">Compression</span>.</span><div>
                                 <p>Enterprise Manager displays the Compression Summary for Top 100 Tablespaces page.</p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>You can view the summary information about the storage compression at the database level, including in the Space Usage section the total database size, the total size of compressed objects in the database, and the ratio of the total size of compressed objects to the total database size, and the uncompressed objects size. Similar information for segment counts is also shown here in the Segment Count section.</span></li>
                           <li class="stepexpand"><span>You can view the storage size that is used by each compression type for four object types: Table, Index, LOB (Large Objects), and DBFS (Oracle Database File System). Clicking each color in the chart displays a Compression Summary of Segments page, which shows compression information for the top 100 segments by size in the database for a particular object type and compression type.</span></li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-C431C787-F714-4A3B-A745-90F6BCD92A1B" title="You can manage table compression with Oracle Enterprise Manager Cloud Control.">Managing Table Compression Using Enterprise Manager Cloud Control</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN14302"></a><div class="props_rev_3"><a id="GUID-10CA7B47-6000-4292-9E67-20B062E702EA" name="GUID-10CA7B47-6000-4292-9E67-20B062E702EA"></a><h5 id="ADMIN-GUID-10CA7B47-6000-4292-9E67-20B062E702EA" class="sect5"><span class="enumeration_section">20.2.7.3 </span>Viewing the Compression Summary at the Tablespace Level
                     </h5>
                     <div>
                        <p>You can view the Compression Summary information at the tablespace level.</p>
                        <ol>
                           <li class="stepexpand"><span>From the <span class="bold">Administration</span> menu, choose <span class="bold">Storage</span>, then select <span class="bold">Compression</span>.</span><div>
                                 <p>Enterprise Manager displays the Compression Summary for Top 100 Tablespaces page.</p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>In the Top 100 Permanent Tablespaces by Size table, click on the row for the tablespace for which you want to view the compression summary.</span></li>
                           <li class="stepexpand"><span>Click <span class="bold">Show Compression Details</span>.</span><div>
                                 <p>Enterprise Manager displays the Compression Summary for Top 100 Objects in Tablespace page. From this page, you can view the total tablespace size, the total size of compressed objects in the tablespace, the ratio of the total size of compressed objects to the total tablespace size, and the uncompressed objects size in a tablespace.</p>
                                 <p>You can also view the compressed tablespace storage size by each compression type for four object types: Table, Index, LOB and DBFS. Clicking each color in the chart displays the Compression Summary of Segments dialog box, which shows compression information for the top 100 segments by size in the tablespace for a particular object type and compression type.</p>
                                 <p>Finally, you can view the compression summary for each of the top 100 segments that use the most tablespace storage.</p>
                              </div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-C431C787-F714-4A3B-A745-90F6BCD92A1B" title="You can manage table compression with Oracle Enterprise Manager Cloud Control.">Managing Table Compression Using Enterprise Manager Cloud Control</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN14303"></a><div class="props_rev_3"><a id="GUID-65490EE0-046A-4F5B-B8B6-F88D3B6CAF48" name="GUID-65490EE0-046A-4F5B-B8B6-F88D3B6CAF48"></a><h5 id="ADMIN-GUID-65490EE0-046A-4F5B-B8B6-F88D3B6CAF48" class="sect5"><span class="enumeration_section">20.2.7.4 </span>Estimating the Compression Ratio
                     </h5>
                     <div>
                        <p>You can run the Compression Advisor to calculate the compression ratio for a specific object.</p>
                        <ol>
                           <li class="stepexpand"><span>From the <span class="bold">Administration</span> menu, choose <span class="bold">Storage</span>, then select <span class="bold">Compression</span>.</span><div>
                                 <p>Enterprise Manager displays the Compression Summary for Top 100 Tablespaces page.</p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>From the Top 100 Permanent Tablespaces by Size table, select a tablespace and click <span class="bold">Show Compression Details</span> to view the compression details for the selected tablespace.</span><div>
                                 <p>Enterprise Manager displays the Top 100 Objects By Size table.</p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Select an object and click <span class="bold">Estimate Compression Ratio</span> for the object.</span><div>
                                 <p>Enterprise Manager displays the Estimate Compression Ratio dialog box. Enter the following information:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>Under the Input Parameters section, enter or select a Temporary Scratch Tablespace. You can enter the name directly or you can choose from the list that appears when you click the icon.</p>
                                    </li>
                                    <li>
                                       <p>Enter the Compression Type. You can choose from Basic, Advanced, Query Low, Query High, Archive Low, or Archive High. For HCC compression types (Query Low, Query High, Archive Low, or Archive High.), be sure the table contains at least one million rows.</p>
                                    </li>
                                    <li>
                                       <p>In the Schedule Job section, enter the Name of the job and a Description.</p>
                                    </li>
                                    <li>
                                       <p>In the Schedule section, enter the job information such as when to Start, whether or not to Repeat the job, whether or not there should be a Grace Period, and Duration information.</p>
                                    </li>
                                    <li>
                                       <p>Enter the Database Credentials and the Host Credentials in their respective sections.</p>
                                    </li>
                                    <li>
                                       <p>Click <span class="bold">OK</span>.
                                       </p>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                        </ol>
                        <div class="section">
                           <p>The job runs either immediately or is scheduled, and you are returned to the Compression Summary for Top 100 Objects in Tablespace page.</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-C431C787-F714-4A3B-A745-90F6BCD92A1B" title="You can manage table compression with Oracle Enterprise Manager Cloud Control.">Managing Table Compression Using Enterprise Manager Cloud Control</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN14304"></a><div class="props_rev_3"><a id="GUID-607E82AF-69CF-4DAC-ABEB-F2F27492FF38" name="GUID-607E82AF-69CF-4DAC-ABEB-F2F27492FF38"></a><h5 id="ADMIN-GUID-607E82AF-69CF-4DAC-ABEB-F2F27492FF38" class="sect5"><span class="enumeration_section">20.2.7.5 </span>Compressing an Object
                     </h5>
                     <div>
                        <p>You can compress an object such as a table.</p>
                        <ol>
                           <li class="stepexpand"><span>From the <span class="bold">Administration</span> menu, choose <span class="bold">Storage</span>, then select <span class="bold">Compression</span>.</span><div>
                                 <p>Enterprise Manager displays the Compression Summary for Top 100 Tablespaces page.</p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>From the Top 100 Permanent Tablespaces by Size table, select a tablespace and click <span class="bold">Show Compression Details</span> to view Compression details for the selected tablespace.</span><div>
                                 <p>Enterprise Manager displays the Compression Summary for Top 100 Objects in Tablespace page.</p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Choose an object, such as a table, and click <span class="bold">Compress</span> to compress the object.</span></li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-C431C787-F714-4A3B-A745-90F6BCD92A1B" title="You can manage table compression with Oracle Enterprise Manager Cloud Control.">Managing Table Compression Using Enterprise Manager Cloud Control</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN14305"></a><div class="props_rev_3"><a id="GUID-E6EB188A-9BE3-4030-BE5F-A6D9E3383432" name="GUID-E6EB188A-9BE3-4030-BE5F-A6D9E3383432"></a><h5 id="ADMIN-GUID-E6EB188A-9BE3-4030-BE5F-A6D9E3383432" class="sect5"><span class="enumeration_section">20.2.7.6 </span>Viewing Compression Advice
                     </h5>
                     <div>
                        <p>You can view compression advice from the Segment Advisor and take actions based on them.</p>
                        <ol>
                           <li class="stepexpand"><span>From the <span class="bold">Administration</span> menu, choose <span class="bold">Storage</span>, then select <span class="bold">Compression</span>.</span><div>
                                 <p>Enterprise Manager displays the Compression Summary for Top 100 Tablespaces page.</p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>In the Compression Advice section, click the number that displays in the Segments with Compression Advice field.</span><div>
                                 <p>Enterprise Manager displays the Segment Advisor Recommendations page. You can use the Automatic Segment Advisor job to detect segment issues within maintenance windows. The recommendations are derived from the most recent runs of automatic and user-scheduled segment advisor jobs.</p>
                              </div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-C431C787-F714-4A3B-A745-90F6BCD92A1B" title="You can manage table compression with Oracle Enterprise Manager Cloud Control.">Managing Table Compression Using Enterprise Manager Cloud Control</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN14306"></a><div class="props_rev_3"><a id="GUID-3EA670DB-C9F4-493E-9EA9-94C745C92A93" name="GUID-3EA670DB-C9F4-493E-9EA9-94C745C92A93"></a><h5 id="ADMIN-GUID-3EA670DB-C9F4-493E-9EA9-94C745C92A93" class="sect5"><span class="enumeration_section">20.2.7.7 </span>Initiating Automatic Data Optimization on an Object
                     </h5>
                     <div>
                        <p>You can initiate Automatic Data Optimization on an object.</p>
                        <ol>
                           <li class="stepexpand"><span>From the <span class="bold">Administration</span> menu, choose <span class="bold">Storage</span>, then select <span class="bold">Compression</span>.</span><div>
                                 <p>Enterprise Manager displays the Compression Summary for Top 100 Tablespaces page.</p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>From the Top 100 Permanent Tablespaces by Size table, select a tablespace and click <span class="bold">Show Compression Details</span> to view the compression details for the selected tablespace.</span><div>
                                 <p>Enterprise Manager displays the Compression Summary for Top 100 Objects in Tablespace page.</p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>From the Top 100 Objects by Size table, select an object and click <span class="bold">Automatic Data Compression</span>.</span><div>
                                 <p>Enterprise Manager displays the Edit page for the object where you can initiate Automatic Data Optimization on the object.</p>
                              </div>
                           </li>
                        </ol>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-C431C787-F714-4A3B-A745-90F6BCD92A1B" title="You can manage table compression with Oracle Enterprise Manager Cloud Control.">Managing Table Compression Using Enterprise Manager Cloud Control</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN14028"></a><a id="ADMIN14029"></a><a id="ADMIN14027"></a><div class="props_rev_3"><a id="GUID-C7B346C7-40F4-41D2-8DF1-81565096E03B" name="GUID-C7B346C7-40F4-41D2-8DF1-81565096E03B"></a><h4 id="ADMIN-GUID-C7B346C7-40F4-41D2-8DF1-81565096E03B" class="sect4"><span class="enumeration_section">20.2.8 </span>Consider Using Segment-Level and Row-Level Compression Tiering
                  </h4>
                  <div>
                     <p>Segment-level compression tiering enables you to specify compression at the segment level within a table. Row-level compression tiering enables you to specify compression at the row level within a table. You can use a combination of these on the same table for fine-grained control over how the data in the table is stored and managed.</p>
                     <p>  </p>
                     <p>As user modifications to segments and rows change over time, it is often beneficial to change the compression level for them. For example, some segments and rows might be modified often for a short period of time after they are added to the database, but modifications might become less frequent over time.</p>
                     <p>You can use compression tiering to specify which segments and rows are compressed based on rules. For example, you can specify that rows that have not been modified in two weeks are compressed with advanced row compression. You can also specify that segments that have not been modified in six months are compressed with warehouse compression.</p>
                     <p>The following prerequisites must be met before you can use segment-level and row-level compression tiering:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The <code class="codeph">HEAT_MAP</code> initialization parameter must be set to <code class="codeph">ON</code>.
                           </p>
                        </li>
                        <li>
                           <p>The <code class="codeph">COMPATIBLE</code> initialization parameter must be set to <code class="codeph">12.0.0</code> or higher.
                           </p>
                        </li>
                     </ul>
                     <p>To use segment-level compression tiering or row-level compression tiering, execute one of the following SQL statements and include an Automatic Data Optimization (ADO) policy that specifies the rules:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">CREATE</code> <code class="codeph">TABLE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALTER</code> <code class="codeph">TABLE</code></p>
                        </li>
                     </ul>
                     <div class="example" id="GUID-C7B346C7-40F4-41D2-8DF1-81565096E03B__GUID-01A98DE1-73B0-4A50-BD77-CCD40591DD51">
                        <p class="titleinexample">Example 20-7 Row-Level Compression Tiering</p>
                        <p>This example specifies row-level compression tiering for the <code class="codeph">oe.orders</code> table. Oracle Database compresses rows using warehouse (<code class="codeph">QUERY</code>) compression after 14 days with no modifications.
                        </p><pre class="oac_no_warn" dir="ltr">ALTER TABLE oe.orders ILM ADD POLICY
  COLUMN STORE COMPRESS FOR QUERY 
  ROW 
  AFTER 14 DAYS OF NO MODIFICATION;</pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-C7B346C7-40F4-41D2-8DF1-81565096E03B__GUID-BBCEB586-0617-45F1-9BC9-288333D38BDE">
                        <p class="titleinexample">Example 20-8 Segment-Level Compression Tiering</p>
                        <p>This example specifies segment-level compression tiering for the <code class="codeph">oe.order_items</code> table. Oracle Database compresses segments using archive (<code class="codeph">ARCHIVE</code> <code class="codeph">HIGH</code>) compression after six months with no modifications to any rows in the segment and no queries accessing any rows in the segment.
                        </p><pre class="oac_no_warn" dir="ltr">ALTER TABLE oe.order_items ILM ADD POLICY 
  COLUMN STORE COMPRESS FOR ARCHIVE HIGH 
  SEGMENT 
  AFTER 6 MONTHS OF NO ACCESS;
</pre></div>
                     <!-- class="example" -->
                     <div class="section">
                        <div class="infoboxnote" id="GUID-C7B346C7-40F4-41D2-8DF1-81565096E03B__GUID-9FCB369A-F201-486E-828D-D95CAD2AAB0D">
                           <p class="notep1">Note:</p>
                           <p>These examples specify Hybrid Columnar Compression, which is dependent on the underlying storage system. See <a href="../dblic/Licensing-Information.html#DBLIC2152" target="_blank"><span class="italic">Oracle Database Licensing Information</span></a> for more information.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-C7B346C7-40F4-41D2-8DF1-81565096E03B__GUID-F04970D3-8A74-4339-AD97-C0BC5287BCB9">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="managing-tables.html#GUID-ED833867-4B7F-442E-A70C-9C19DAA8F445" title="Compression saves disk space, reduces memory use in the database buffer cache, and can significantly speed query execution during reads.">Consider Using Table Compression</a>"</span> for information about different compression levels
                              </p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="managing-memory.html#GUID-7990553D-9199-4AFE-B912-40ADC9C3EDF1" title="Oracle Database In-Memory (Database In-Memory) is a suite of features, first introduced in Oracle Database 12c Release 1 (12.1.0.2), that greatly improves performance for real-time analytics and mixed workloads.">Improving Query Performance with Oracle Database In-Memory</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="../vldbg/time-based-info.html#VLDBG007" target="_blank"><span class="italic">Oracle Database VLDB and Partitioning Guide</span></a> for more information about segment-level and row-level compression tiering
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-86F766C5-2344-4790-95E4-4E813A0B21DA" title="Following guidelines can make the management of your tables easier and can improve performance when creating the table, as well as when loading, updating, and querying the table data.">Guidelines for Managing Tables</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13999"></a><div class="props_rev_3"><a id="GUID-0A837830-9FF7-40FF-8540-93B2DF3A37E7" name="GUID-0A837830-9FF7-40FF-8540-93B2DF3A37E7"></a><h4 id="ADMIN-GUID-0A837830-9FF7-40FF-8540-93B2DF3A37E7" class="sect4"><span class="enumeration_section">20.2.9 </span>Consider Using Attribute-Clustered Tables
                  </h4>
                  <div>
                     <p>An attribute-clustered table is a heap-organized table that stores data in close proximity on disk based on user-specified clustering directives.</p>
                     <div class="infoboxnote" id="GUID-0A837830-9FF7-40FF-8540-93B2DF3A37E7__GUID-634278EA-2F5E-47F9-8E7E-4BCA5CD44520">
                        <p class="notep1">Note:</p>
                        <p>This feature is available starting with Oracle Database 12<span class="italic">c</span> Release 1 (12.1.0.2).
                        </p>
                     </div>
                     <p>The directives are as follows:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The <code class="codeph">CLUSTERING</code> <code class="codeph">...</code> <code class="codeph">BY</code> <code class="codeph">LINEAR</code> <code class="codeph">ORDER</code> directive orders data in a table according to specified columns.
                           </p>
                           <p><code class="codeph">BY</code> <code class="codeph">LINEAR</code> <code class="codeph">ORDER</code> clustering, which is the default, is best when queries qualify the prefix of columns specified in the clustering clause. For example, if queries of <code class="codeph">sh.sales</code> often specify either a customer ID or both customer ID and product ID, then you could cluster data in the table using the linear column order <code class="codeph">cust_id</code>, <code class="codeph">prod_id</code>. Note that the specified columns can be in multiple tables.
                           </p>
                        </li>
                        <li>
                           <p>The <code class="codeph">CLUSTERING</code> <code class="codeph">...</code> <code class="codeph">BY</code> <code class="codeph">INTERLEAVED</code> <code class="codeph">ORDER</code> directive orders data in one or more tables using a special algorithm, similar to a z-order function, that permits multicolumn I/O reduction.
                           </p>
                           <p><code class="codeph">BY</code> <code class="codeph">INTERLEAVED</code> <code class="codeph">ORDER</code> clustering is best when queries specify a variety of column combinations. The columns can be in one or more tables. For example, if queries of <code class="codeph">sh.sales</code> specify different dimensions in different orders, then you could cluster data in the <code class="codeph">sales</code> table according to columns in these dimensions.
                           </p>
                        </li>
                     </ul>
                     <p>Attribute clustering is available for the following types of operations:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Direct-path <code class="codeph">INSERT</code></p>
                           <p>See <span class="q">"<a href="managing-tables.html#GUID-134D6EB6-219E-4820-AB54-8C60067A8F0F" title="When loading large amounts of data, you can improve load performance by using direct-path INSERT.">Improving INSERT Performance with Direct-Path INSERT</a>"</span>.
                           </p>
                        </li>
                        <li>
                           <p>Online redefinition</p>
                           <p>See <span class="q">"<a href="managing-tables.html#GUID-F95114BC-F512-4A1F-B5BD-07DDDE60D934" title="In any database system, it is occasionally necessary to modify the logical or physical structure of a table to improve the performance of queries or DML, accommodate application changes, or Manage storage. You can redefine tables online with the DBMS_REDEFINITION package.">Redefining Tables Online</a>"</span>.
                           </p>
                        </li>
                        <li>
                           <p>Data movement operations, such as <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> <code class="codeph">...</code> <code class="codeph">MOVE</code> operations
                           </p>
                           <p>See <span class="q">"<a href="managing-tables.html#GUID-3DE67CF4-84C5-4AED-A8A3-B1D28D8EBEF6" title="The ALTER TABLE...MOVE [PARTITION|SUBPARTITION] statement enables you to move a table, partition, or subpartition to change any physical storage attribute, such as compression, or the tablespace, assuming you have the appropriate quota in the target tablespace.">Moving a Table to a New Segment or Tablespace</a>"</span>.
                           </p>
                        </li>
                        <li>
                           <p>Partition maintenance operations that create new segments, such as <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> <code class="codeph">...</code> <code class="codeph">MERGE</code> <code class="codeph">PARTITION</code> operations
                           </p>
                           <p>See <a href="../vldbg/maintenance-partition-tables-indexes.html#VLDBG1118" target="_blank"><span class="italic">Oracle Database VLDB and Partitioning Guide</span></a>.
                           </p>
                        </li>
                     </ul>
                     <p>Attribute clustering is ignored for conventional DML.</p>
                     <p>An attribute-clustered table has the following advantages:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>More optimized single block I/O is possible for table lookups when attribute clustering is aligned with common index access. For example, optimized I/O is possible for an index range scan on the leading column you chose for attribute clustering.</p>
                        </li>
                        <li>
                           <p>Data ordering enables more optimal pruning for Exadata storage indexes and in-memory min/max pruning.</p>
                        </li>
                        <li>
                           <p>You can cluster fact tables based on joined attributes from other tables.</p>
                        </li>
                        <li>
                           <p>Attribute clustering can improve data compression and in this way indirectly improve table scan costs. When the same values are close to each other on disk, the database can more easily compress them.</p>
                        </li>
                     </ul>
                     <p>Attribute-clustered tables are often used in data warehousing environments, but they are useful in any environment that can benefit from these advantages. Use the <code class="codeph">CLUSTERING</code> clause in a <code class="codeph">CREATE</code> <code class="codeph">TABLE</code> SQL statement to create an attribute-clustered table.
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-0A837830-9FF7-40FF-8540-93B2DF3A37E7__GUID-6B0BA18F-C34F-47ED-BC6C-B6CFEB417AC2">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../cncpt/tables-and-table-clusters.html#CNCPT89316" target="_blank"><span class="italic">Oracle Database Concepts</span></a> for conceptual information about attribute-clustered tables
                              </p>
                           </li>
                           <li>
                              <p><a href="../dwhsg/attribute-clustering.html#DWHSG8917" target="_blank"><span class="italic">Oracle Database Data Warehousing Guide</span></a> for information about using attribute-clustered tables
                              </p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/CREATE-TABLE.html#SQLRF01402" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-86F766C5-2344-4790-95E4-4E813A0B21DA" title="Following guidelines can make the management of your tables easier and can improve performance when creating the table, as well as when loading, updating, and querying the table data.">Guidelines for Managing Tables</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN14000"></a><div class="props_rev_3"><a id="GUID-05AF604F-B923-4256-BA47-B7E0E29386EE" name="GUID-05AF604F-B923-4256-BA47-B7E0E29386EE"></a><h4 id="ADMIN-GUID-05AF604F-B923-4256-BA47-B7E0E29386EE" class="sect4"><span class="enumeration_section">20.2.10 </span>Consider Using Zone Maps
                  </h4>
                  <div>
                     <p>A zone is a set of contiguous data blocks on disk. A zone map tracks the minimum and maximum of specified columns for all individual zones.</p>
                     <div class="infoboxnote" id="GUID-05AF604F-B923-4256-BA47-B7E0E29386EE__GUID-79E7D659-F801-4E4D-BCF3-2973B6534586">
                        <p class="notep1">Note:</p>
                        <p>This feature is available starting with Oracle Database 12<span class="italic">c</span> Release 1 (12.1.0.2).
                        </p>
                     </div>
                     <p>When a SQL statement contains predicates on columns stored in a zone map, the database compares the predicate values to the minimum and maximum stored in the zone to determine which zones to read during SQL execution. The primary benefit of zone maps is I/O reduction for table scans. I/O is reduced by skipping table blocks that are not needed in the query result. Use the <code class="codeph">CREATE</code> <code class="codeph">MATERIALIZED</code> <code class="codeph">ZONEMAP</code> SQL statement to create a zone map.
                     </p>
                     <p>Whenever attribute clustering is specified on a table, you can automatically create a zone map on the clustered columns. Due to clustering, minimum and maximum values of the columns are correlated with consecutive data blocks in the attribute-clustered table, which allows for more effective I/O pruning using the associated zone map.</p>
                     <div class="infoboxnote" id="GUID-05AF604F-B923-4256-BA47-B7E0E29386EE__GUID-69494561-730A-41F8-8C1D-FA85696138A4">
                        <p class="notep1">Note:</p>
                        <p>Zone maps and attribute-clustered tables can be used together or separately.</p>
                     </div>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-05AF604F-B923-4256-BA47-B7E0E29386EE__GUID-1D585463-1535-4B09-9F7F-70C2901A1840">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="managing-tables.html#GUID-0A837830-9FF7-40FF-8540-93B2DF3A37E7" title="An attribute-clustered table is a heap-organized table that stores data in close proximity on disk based on user-specified clustering directives.">Consider Using Attribute-Clustered Tables</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="../cncpt/tables-and-table-clusters.html#CNCPT89204" target="_blank"><span class="italic">Oracle Database Concepts</span></a> for conceptual information about zone maps
                              </p>
                           </li>
                           <li>
                              <p><a href="../dwhsg/using-zone-maps.html#DWHSG8935" target="_blank"><span class="italic">Oracle Database Data Warehousing Guide</span></a> for information about using zone maps
                              </p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/CREATE-MATERIALIZED-ZONEMAP.html#SQLRF56867" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about the <code class="codeph">CREATE</code> <code class="codeph">MATERIALIZED</code> <code class="codeph">ZONEMAP</code> statement
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-86F766C5-2344-4790-95E4-4E813A0B21DA" title="Following guidelines can make the management of your tables easier and can improve performance when creating the table, as well as when loading, updating, and querying the table data.">Guidelines for Managing Tables</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN14217"></a><div class="props_rev_3"><a id="GUID-8487BAFD-B157-4CBA-8330-2A3088C0A173" name="GUID-8487BAFD-B157-4CBA-8330-2A3088C0A173"></a><h4 id="ADMIN-GUID-8487BAFD-B157-4CBA-8330-2A3088C0A173" class="sect4"><span class="enumeration_section">20.2.11 </span>Consider Storing Tables in the In-Memory Column Store
                  </h4>
                  <div>
                     <p>The In-Memory Column Store is an optional portion of the system global area (SGA) that stores copies of tables, table partitions, and other database objects that is optimized for rapid scans. In the In-Memory Column Store, table data is stored by column rather than row in the SGA.</p>
                     <div class="infoboxnote" id="GUID-8487BAFD-B157-4CBA-8330-2A3088C0A173__GUID-2138D64F-2E77-41D4-A428-381A6E1E0208">
                        <p class="notep1">Note:</p>
                        <p>This feature is available starting with Oracle Database 12<span class="italic">c</span> Release 1 (12.1.0.2).
                        </p>
                     </div>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-8487BAFD-B157-4CBA-8330-2A3088C0A173__GUID-A1E2A558-BA86-44DA-9FAC-4EED376A70E3">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="managing-memory.html#GUID-7990553D-9199-4AFE-B912-40ADC9C3EDF1" title="Oracle Database In-Memory (Database In-Memory) is a suite of features, first introduced in Oracle Database 12c Release 1 (12.1.0.2), that greatly improves performance for real-time analytics and mixed workloads.">Improving Query Performance with Oracle Database In-Memory</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="../cncpt/index.html" target="_blank"><span class="italic">Oracle Database Concepts</span></a></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-86F766C5-2344-4790-95E4-4E813A0B21DA" title="Following guidelines can make the management of your tables easier and can improve performance when creating the table, as well as when loading, updating, and querying the table data.">Guidelines for Managing Tables</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-38DBFC2E-FC6C-46E2-A7A1-6FA703F9DC01" name="GUID-38DBFC2E-FC6C-46E2-A7A1-6FA703F9DC01"></a><h4 id="ADMIN-GUID-38DBFC2E-FC6C-46E2-A7A1-6FA703F9DC01" class="sect4"><span class="enumeration_section">20.2.12 </span>Consider Using Invisible Columns
                  </h4>
                  <p>You can use invisible column to make changes to a table without disrupting applications that use the table.</p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-D7E99BBA-192C-41E7-9150-62AA188725E4">Understand Invisible Columns</a><br>You can make individual table columns invisible. Any generic access of a table does not show the invisible columns in the table.
                        </li>
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-6AF5669A-5278-473A-A24F-3B3598110E3D">Invisible Columns and Column Ordering</a><br>There are special considerations for invisible columns and column ordering.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-86F766C5-2344-4790-95E4-4E813A0B21DA" title="Following guidelines can make the management of your tables easier and can improve performance when creating the table, as well as when loading, updating, and querying the table data.">Guidelines for Managing Tables</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN13866"></a><div class="props_rev_3"><a id="GUID-D7E99BBA-192C-41E7-9150-62AA188725E4" name="GUID-D7E99BBA-192C-41E7-9150-62AA188725E4"></a><h5 id="ADMIN-GUID-D7E99BBA-192C-41E7-9150-62AA188725E4" class="sect5"><span class="enumeration_section">20.2.12.1 </span>Understand Invisible Columns
                     </h5>
                     <div>
                        <p>You can make individual table columns invisible. Any generic access of a table does not show the invisible columns in the table.</p>
                        <p>For example, the following operations do not display invisible columns in the output:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">SELECT</code> <code class="codeph">*</code> <code class="codeph">FROM</code> statements in SQL
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">DESCRIBE</code> commands in SQL*Plus
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">%ROWTYPE</code> attribute declarations in PL/SQL
                              </p>
                           </li>
                           <li>
                              <p>Describes in Oracle Call Interface (OCI)</p>
                           </li>
                        </ul>
                        <p>You can use a <code class="codeph">SELECT</code> statement to display output for an invisible column only if you explicitly specify the invisible column in the column list. Similarly, you can insert a value into an invisible column only if you explicitly specify the invisible column in the column list for the <code class="codeph">INSERT</code> statement. If you omit the column list in the <code class="codeph">INSERT</code> statement, then the statement can only insert values into visible columns.
                        </p>
                        <p>You can make a column invisible during table creation or when you add a column to a table, and you can later alter the table to make the same column visible. You can also alter a table to make a visible column invisible.</p>
                        <p>You might use invisible columns if you want to make changes to a table without disrupting applications that use the table. After you add an invisible column to a table, queries and other operations that must access the invisible column must refer to the column explicitly by name. When you migrate the application to account for the invisible columns, you can make the invisible columns visible.</p>
                        <p>Virtual columns can be invisible. Also, you can use an invisible column as a partitioning key during table creation.</p>
                        <p>The following restrictions apply to invisible columns:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The following types of tables cannot have invisible columns:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>External tables</p>
                                 </li>
                                 <li>
                                    <p>Cluster tables</p>
                                 </li>
                                 <li>
                                    <p>Temporary tables</p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>Attributes of user-defined types cannot be invisible.</p>
                           </li>
                        </ul>
                        <div class="infoboxnote" id="GUID-D7E99BBA-192C-41E7-9150-62AA188725E4__GUID-4B04478C-5B08-4ED1-9002-503AA2E2BE32">
                           <p class="notep1">Note:</p>
                           <p>Invisible columns are not the same as system-generated hidden columns. You can make invisible columns visible, but you cannot make hidden columns visible.</p>
                        </div>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-D7E99BBA-192C-41E7-9150-62AA188725E4__GUID-E90D34E6-C343-42AB-ACB0-B245C7080C14">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="managing-tables.html#GUID-D2802D28-D8B3-4C21-99EC-342DC42F9898" title="Create tables using the SQL statement CREATE TABLE.">Creating Tables</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="managing-tables.html#GUID-3BBC0224-E218-422F-803A-B2FE56906E44" title="To add a column to an existing table, use the ALTER TABLE...ADD statement.">Adding Table Columns</a>"</span></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="managing-tables.html#GUID-93BA4E59-A16F-42B3-9EB5-440532F07AEE" title="Use the ALTER TABLE...MODIFY statement to modify an existing column definition. You can modify column data type, default value, column constraint, column expression (for virtual columns), column encryption, and visible/invisible property.">Modifying an Existing Column Definition</a>"</span></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-38DBFC2E-FC6C-46E2-A7A1-6FA703F9DC01" title="You can use invisible column to make changes to a table without disrupting applications that use the table.">Consider Using Invisible Columns</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN13867"></a><div class="props_rev_3"><a id="GUID-6AF5669A-5278-473A-A24F-3B3598110E3D" name="GUID-6AF5669A-5278-473A-A24F-3B3598110E3D"></a><h5 id="ADMIN-GUID-6AF5669A-5278-473A-A24F-3B3598110E3D" class="sect5"><span class="enumeration_section">20.2.12.2 </span>Invisible Columns and Column Ordering
                     </h5>
                     <div>
                        <p>There are special considerations for invisible columns and column ordering.</p>
                        <p>The database usually stores columns in the order in which they were listed in the <code class="codeph">CREATE</code> <code class="codeph">TABLE</code> statement. If you add a new column to a table, then the new column becomes the last column in the table's column order.
                        </p>
                        <p>When a table contains one or more invisible columns, the invisible columns are not included in the column order for the table. Column ordering is important when all of the columns in a table are accessed. For example, a <code class="codeph">SELECT</code> <code class="codeph">*</code> <code class="codeph">FROM</code> statement displays columns in the table's column order. Because invisible columns are not included in this type of generic access of a table, they are not included in the column order.
                        </p>
                        <p>When you make an invisible column visible, the column is included in the table's column order as the last column. When you make a visible column invisible, the invisible column is not included in the column order, and the order of the visible columns in the table might be re-arranged.</p>
                        <p>For example, consider the following table with an invisible column:</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE mytable (a INT, b INT INVISIBLE, c INT);
</pre><p>Because column <code class="codeph">b</code> is invisible, this table has the following column order:
                        </p>
                        <div class="tblformal" id="GUID-6AF5669A-5278-473A-A24F-3B3598110E3D__GUID-D7853FA5-B783-4744-BE95-6A721A701473">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table lists each visible column in the table and the column’s column order." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="50%" id="d192334e3977">Column</th>
                                    <th align="left" valign="bottom" width="50%" id="d192334e3980">Column Order</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="50%" id="d192334e3985" headers="d192334e3977 ">
                                       <p><code class="codeph">a</code></p>
                                    </td>
                                    <td align="left" valign="top" width="50%" headers="d192334e3985 d192334e3980 ">
                                       <p>1</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="50%" id="d192334e3993" headers="d192334e3977 ">
                                       <p><code class="codeph">c</code></p>
                                    </td>
                                    <td align="left" valign="top" width="50%" headers="d192334e3993 d192334e3980 ">
                                       <p>2</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>Next, make column <code class="codeph">b</code> visible:
                        </p><pre class="oac_no_warn" dir="ltr">ALTER TABLE mytable MODIFY (b VISIBLE);
</pre><p>When you make column <code class="codeph">b</code> visible, it becomes the last column in the table's column order. Therefore, the table has the following column order:
                        </p>
                        <div class="tblformal" id="GUID-6AF5669A-5278-473A-A24F-3B3598110E3D__GUID-8A867ABD-C53C-4B7E-9610-B0E437AB6286">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table lists each visible column in the table and the column’s column order." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="50%" id="d192334e4020">Column</th>
                                    <th align="left" valign="bottom" width="50%" id="d192334e4023">Column Order</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="50%" id="d192334e4028" headers="d192334e4020 ">
                                       <p><code class="codeph">a</code></p>
                                    </td>
                                    <td align="left" valign="top" width="50%" headers="d192334e4028 d192334e4023 ">
                                       <p>1</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="50%" id="d192334e4036" headers="d192334e4020 ">
                                       <p><code class="codeph">c</code></p>
                                    </td>
                                    <td align="left" valign="top" width="50%" headers="d192334e4036 d192334e4023 ">
                                       <p>2</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="50%" id="d192334e4044" headers="d192334e4020 ">
                                       <p><code class="codeph">b</code></p>
                                    </td>
                                    <td align="left" valign="top" width="50%" headers="d192334e4044 d192334e4023 ">
                                       <p>3</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>Consider another example that illustrates column ordering in tables with invisible columns. The following table does not contain any invisible columns:</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE mytable2 (x INT, y INT, z INT);
</pre><p>This table has the following column order:</p>
                        <div class="tblformal" id="GUID-6AF5669A-5278-473A-A24F-3B3598110E3D__GUID-FC544B54-AF28-49C1-B243-1738EA8537EA">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table lists each visible column in the table and the column’s column order." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="50%" id="d192334e4066">Column</th>
                                    <th align="left" valign="bottom" width="50%" id="d192334e4069">Column Order</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="50%" id="d192334e4074" headers="d192334e4066 ">
                                       <p><code class="codeph">x</code></p>
                                    </td>
                                    <td align="left" valign="top" width="50%" headers="d192334e4074 d192334e4069 ">
                                       <p>1</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="50%" id="d192334e4082" headers="d192334e4066 ">
                                       <p><code class="codeph">y</code></p>
                                    </td>
                                    <td align="left" valign="top" width="50%" headers="d192334e4082 d192334e4069 ">
                                       <p>2</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="50%" id="d192334e4090" headers="d192334e4066 ">
                                       <p><code class="codeph">z</code></p>
                                    </td>
                                    <td align="left" valign="top" width="50%" headers="d192334e4090 d192334e4069 ">
                                       <p>3</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>Next, make column <code class="codeph">y</code> invisible:
                        </p><pre class="oac_no_warn" dir="ltr">ALTER TABLE mytable2 MODIFY (y INVISIBLE);
</pre><p>When you make column <code class="codeph">y</code> invisible, column <code class="codeph">y</code> is no longer included in the table's column order, and it changes the column order of column <code class="codeph">z</code>. Therefore, the table has the following column order:
                        </p>
                        <div class="tblformal" id="GUID-6AF5669A-5278-473A-A24F-3B3598110E3D__GUID-A5D35751-CD68-4DDE-87D0-F7F235A830A1">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table lists each visible column in the table and the column’s column order." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="50%" id="d192334e4123">Column</th>
                                    <th align="left" valign="bottom" width="50%" id="d192334e4126">Column Order</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="50%" id="d192334e4131" headers="d192334e4123 ">
                                       <p><code class="codeph">x</code></p>
                                    </td>
                                    <td align="left" valign="top" width="50%" headers="d192334e4131 d192334e4126 ">
                                       <p>1</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="50%" id="d192334e4139" headers="d192334e4123 ">
                                       <p><code class="codeph">z</code></p>
                                    </td>
                                    <td align="left" valign="top" width="50%" headers="d192334e4139 d192334e4126 ">
                                       <p>2</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>Make column <code class="codeph">y</code> visible again:
                        </p><pre class="oac_no_warn" dir="ltr">ALTER TABLE mytable2 MODIFY (y VISIBLE);
</pre><p>Column <code class="codeph">y</code> is now last in the table's column order:
                        </p>
                        <div class="tblformal" id="GUID-6AF5669A-5278-473A-A24F-3B3598110E3D__GUID-81F47812-EBD7-48F9-A4C1-3B1ECE5418B0">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table lists each visible column in the table and the column’s column order." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="50%" id="d192334e4167">Column</th>
                                    <th align="left" valign="bottom" width="50%" id="d192334e4170">Column Order</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="50%" id="d192334e4175" headers="d192334e4167 ">
                                       <p><code class="codeph">x</code></p>
                                    </td>
                                    <td align="left" valign="top" width="50%" headers="d192334e4175 d192334e4170 ">
                                       <p>1</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="50%" id="d192334e4183" headers="d192334e4167 ">
                                       <p><code class="codeph">z</code></p>
                                    </td>
                                    <td align="left" valign="top" width="50%" headers="d192334e4183 d192334e4170 ">
                                       <p>2</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="50%" id="d192334e4191" headers="d192334e4167 ">
                                       <p><code class="codeph">y</code></p>
                                    </td>
                                    <td align="left" valign="top" width="50%" headers="d192334e4191 d192334e4170 ">
                                       <p>3</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-38DBFC2E-FC6C-46E2-A7A1-6FA703F9DC01" title="You can use invisible column to make changes to a table without disrupting applications that use the table.">Consider Using Invisible Columns</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN12330"></a><div class="props_rev_3"><a id="GUID-F9D38568-4F95-4053-B21F-F318077C29E5" name="GUID-F9D38568-4F95-4053-B21F-F318077C29E5"></a><h4 id="ADMIN-GUID-F9D38568-4F95-4053-B21F-F318077C29E5" class="sect4"><span class="enumeration_section">20.2.13 </span>Consider Encrypting Columns That Contain Sensitive Data
                  </h4>
                  <div>
                     <p>You can encrypt individual table columns that contain sensitive data. Examples of sensitive data include social security numbers, credit card numbers, and medical records. Column encryption is transparent to your applications, with some restrictions.</p>
                     <p>Although encryption is not meant to solve all security problems, it does protect your data from users who try to circumvent the security features of the database and access database files directly through the operating system file system.</p>
                     <p>Column encryption uses the Transparent Data Encryption feature of Oracle Database, which requires that you create a keystore to store the master encryption key for the database. The keystore must be open before you can create a table with encrypted columns and before you can store or retrieve encrypted data. When you open the keystore, it is available to all sessions, and it remains open until you explicitly close it or until the database is shut down.</p>
                     <p>Transparent Data Encryption supports industry-standard encryption algorithms, including the following types of encryption algorithms Advanced Encryption Standard (AES) and Triple Data Encryption Standard (3DES) algorithms:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Advanced Encryption Standard (AES)</p>
                        </li>
                        <li>
                           <p>ARIA</p>
                        </li>
                        <li>
                           <p>GHOST</p>
                        </li>
                        <li>
                           <p>SEED</p>
                        </li>
                        <li>
                           <p>Triple Data Encryption Standard (3DES)</p>
                        </li>
                     </ul>
                     <p>See <a href="../asoag/introduction-to-transparent-data-encryption.html#ASOAG9578" target="_blank"><span><cite>Oracle Database Advanced Security Guide</cite></span></a> for detailed information about the supported encryption algorithms.
                     </p>
                     <p>You choose the algorithm to use when you create the table. All encrypted columns in the table use the same algorithm. The default is AES192. The encryption key length is implied by the algorithm name. For example, the AES128 algorithm uses 128-bit keys.</p>
                     <p>If you plan on encrypting many columns in one or more tables, you may want to consider encrypting an entire tablespace instead and storing these tables in that tablespace. Tablespace encryption, which also uses the Transparent Data Encryption feature but encrypts at the physical block level, can perform better than encrypting many columns. Another reason to encrypt at the tablespace level is to address the following limitations of column encryption:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Certain data types, such as object data types, are not supported for column encryption.</p>
                        </li>
                        <li>
                           <p>You cannot use the transportable tablespace feature for a tablespace that includes tables with encrypted columns.</p>
                        </li>
                        <li>
                           <p>Other restrictions, which are detailed in <a href="../asoag/configuring-transparent-data-encryption.html#ASOAG9518" target="_blank"><span class="italic">Oracle Database Advanced Security Guide</span></a>.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-F9D38568-4F95-4053-B21F-F318077C29E5__GUID-F9DADA0A-D772-43D5-BBB2-AA7A33C02189">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../asoag/asopart1.html#ASOAG600" target="_blank"><span class="italic">Oracle Database Advanced Security Guide</span></a> for more information about Transparent Data Encryption
                              </p>
                           </li>
                           <li>
                              <p><a href="../dbimi/configuration-and-administration-tools-overview.html#DBIMI248" target="_blank"><span class="italic">Oracle Database Enterprise User Security Administrator's Guide</span></a> for instructions for creating and opening keystores
                              </p>
                           </li>
                           <li>
                              <p><a href="../sqlrf/CREATE-TABLE.html#SQLRF01402" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about the <code class="codeph">CREATE</code> <code class="codeph">TABLE</code> statement
                              </p>
                           </li>
                           <li>
                              <p><a href="../racad/design-and-deployment-techniques.html#RACAD510" target="_blank"><span class="italic">Oracle Real Application Clusters Administration and Deployment Guide</span></a> for information on using a keystore in an Oracle Real Application Clusters environment
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-86F766C5-2344-4790-95E4-4E813A0B21DA" title="Following guidelines can make the management of your tables easier and can improve performance when creating the table, as well as when loading, updating, and querying the table data.">Guidelines for Managing Tables</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13319"></a><div class="props_rev_3"><a id="GUID-2823F411-EC06-49D0-998E-C76CB139794E" name="GUID-2823F411-EC06-49D0-998E-C76CB139794E"></a><h4 id="ADMIN-GUID-2823F411-EC06-49D0-998E-C76CB139794E" class="sect4"><span class="enumeration_section">20.2.14 </span>Understand Deferred Segment Creation
                  </h4>
                  <div>
                     <p>When you create heap-organized tables in a locally managed tablespace, the database defers table segment creation until the first row is inserted.</p>
                     <p>In addition, segment creation is deferred for any LOB columns of the table, any indexes created implicitly as part of table creation, and any indexes subsequently explicitly created on the table. </p>
                     <p>The advantages of this space allocation method are the following:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>It saves a significant amount of disk space in applications that create hundreds or thousands of tables upon installation, many of which might never be populated.</p>
                        </li>
                        <li>
                           <p>It reduces application installation time.</p>
                        </li>
                     </ul>
                     <p>There is a small performance penalty when the first row is inserted, because the new segment must be created at that time. </p>
                     <p>To enable deferred segment creation, compatibility must be set to <code class="codeph">11.2.0</code> or higher.
                     </p>
                     <p>The new clauses for the <code class="codeph">CREATE</code> <code class="codeph">TABLE</code> statement are:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">SEGMENT</code> <code class="codeph">CREATION</code> <code class="codeph">DEFERRED</code> 
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">SEGMENT</code> <code class="codeph">CREATION</code> <code class="codeph">IMMEDIATE</code></p>
                        </li>
                     </ul>
                     <p>These clauses override the default setting of the <code class="codeph">DEFERRED_SEGMENT_CREATION</code> initialization parameter, <code class="codeph">TRUE</code>, which defers segment creation. To disable deferred segment creation, set this parameter to <code class="codeph">FALSE</code>.
                     </p>
                     <p>Note that when you create a table with deferred segment creation, the new table appears in the <code class="codeph">*_TABLES</code> views, but no entry for it appears in the <code class="codeph">*_SEGMENTS</code> views until you insert the first row.
                     </p>
                     <p>You can verify deferred segment creation by viewing the <code class="codeph">SEGMENT_CREATED</code> column in <code class="codeph">*_TABLES</code>, <code class="codeph">*_INDEXES</code>, and <code class="codeph">*_LOBS</code> views for nonpartitioned tables, and in <code class="codeph">*_TAB_PARTITIONS</code>, <code class="codeph">*_IND_PARTITIONS,</code> and <code class="codeph">*_LOB_PARTITIONS</code> views for partitioned tables.
                     </p>
                     <div class="infoboxnote" id="GUID-2823F411-EC06-49D0-998E-C76CB139794E__GUID-5D389AE4-4362-4C48-8ABB-8F15422D1343">
                        <p class="notep1">Note:</p>
                        <p>With this new allocation method, it is essential that you do proper capacity planning so that the database has enough disk space to handle segment creation when tables are populated. See <span class="q">"<a href="managing-space-for-schema-objects.html#GUID-BF0E093F-AE77-4A8E-BC17-68AFE4FE6977" title="Oracle Database provides two ways to plan capacity for database objects: with Cloud Control or with the DBMS_SPACE PL/SQL package. Three procedures in the DBMS_SPACE package enable you to predict the size of new objects and monitor the size of existing database objects.">Capacity Planning for Database Objects </a>"</span>.
                        </p>
                     </div>
                     <p>The following example creates two tables to demonstrate deferred segment creation. The first table uses the <code class="codeph">SEGMENT</code> <code class="codeph">CREATION</code> <code class="codeph">DEFERRED</code> clause. No segments are created for it initially. The second table uses the <code class="codeph">SEGMENT</code> <code class="codeph">CREATION</code> <code class="codeph">IMMEDIATE</code> clause and, therefore, segments are created for it immediately. 
                     </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE part_time_employees (
    empno NUMBER(8),
    name VARCHAR2(30),
    hourly_rate NUMBER (7,2)
    )   
    SEGMENT CREATION DEFERRED;
 
CREATE TABLE hourly_employees (
    empno NUMBER(8),
    name VARCHAR2(30),
    hourly_rate NUMBER (7,2)
    ) 
   SEGMENT CREATION IMMEDIATE
   PARTITION BY RANGE(empno)
    (PARTITION empno_to_100 VALUES LESS THAN (100),
    PARTITION empno_to_200 VALUES LESS THAN (200));
</pre><p>The following query against <code class="codeph">USER_SEGMENTS</code> returns two rows for <code class="codeph">HOURLY_EMPLOYEES</code>, one for each partition, but returns no rows for <code class="codeph">PART_TIME_EMPLOYEES because</code> segment creation for that table was deferred.
                     </p><pre class="oac_no_warn" dir="ltr">SELECT segment_name, partition_name FROM user_segments;
 
SEGMENT_NAME         PARTITION_NAME                                
-------------------- ------------------------------                             
HOURLY_EMPLOYEES     EMPNO_TO_100                       
HOURLY_EMPLOYEES     EMPNO_TO_200       
</pre><p>The <code class="codeph">USER_TABLES</code> view shows that <code class="codeph">PART_TIME_EMPLOYEES</code> has no segments:
                     </p><pre class="oac_no_warn" dir="ltr">SELECT table_name, segment_created FROM user_tables;
 </pre><pre class="oac_no_warn" dir="ltr">TABLE_NAME                     SEGMENT_CREATED
------------------------------ ----------------------------------------
PART_TIME_EMPLOYEES            NO
HOURLY_EMPLOYEES               N/A
</pre><p>For the <code class="codeph">HOURLY_EMPLOYEES</code> table, which is partitioned, the <code class="codeph">segment_created</code> column is <code class="codeph">N/A</code> because the <code class="codeph">USER_TABLES</code> view does not provide that information for partitioned tables. It is available from the <code class="codeph">USER_TAB_PARTITIONS</code> view, shown below. 
                     </p><pre class="oac_no_warn" dir="ltr">SELECT table_name, segment_created, partition_name
 FROM user_tab_partitions;

TABLE_NAME           SEGMENT_CREATED      PARTITION_NAME
-------------------- -------------------- ------------------------------
HOURLY_EMPLOYEES     YES                  EMPNO_TO_100
HOURLY_EMPLOYEES     YES                  EMPNO_TO_200
</pre><p>The following statements add employees to these tables. </p><pre class="oac_no_warn" dir="ltr">INSERT INTO hourly_employees VALUES (99, 'FRose', 20.00);
INSERT INTO hourly_employees VALUES (150, 'LRose', 25.00);
 
INSERT INTO part_time_employees VALUES (50, 'KReilly', 10.00);
</pre><p>Repeating the same <code class="codeph">SELECT</code> statements as before shows that <code class="codeph">PART_TIME_EMPLOYEES</code> now has a segment, due to the insertion of row data. <code class="codeph">HOURLY_EMPLOYEES</code> remains as before.
                     </p><pre class="oac_no_warn" dir="ltr">SELECT segment_name, partition_name FROM user_segments;
 
SEGMENT_NAME         PARTITION_NAME
-------------------- ------------------------------
PART_TIME_EMPLOYEES
HOURLY_EMPLOYEES     EMPNO_TO_100
HOURLY_EMPLOYEES     EMPNO_TO_200</pre><p></p><pre class="oac_no_warn" dir="ltr">SELECT table_name, segment_created FROM user_tables;
 
TABLE_NAME           SEGMENT_CREATED
-------------------- --------------------
PART_TIME_EMPLOYEES  YES
HOURLY_EMPLOYEES     N/A
                                         </pre><p>The <code class="codeph">USER_TAB_PARTITIONS</code> view does not change.
                     </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-2823F411-EC06-49D0-998E-C76CB139794E__GUID-444CD276-8A17-4A3B-904D-629A0A64EFBB">
                        <p class="notep1">See Also:</p>
                        <p><a href="../sqlrf/CREATE-TABLE.html#SQLRF54479" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for notes and restrictions on deferred segment creation
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-86F766C5-2344-4790-95E4-4E813A0B21DA" title="Following guidelines can make the management of your tables easier and can improve performance when creating the table, as well as when loading, updating, and querying the table data.">Guidelines for Managing Tables</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13460"></a><div class="props_rev_3"><a id="GUID-BFDCA073-3AEC-4399-A95A-C4888120B958" name="GUID-BFDCA073-3AEC-4399-A95A-C4888120B958"></a><h4 id="ADMIN-GUID-BFDCA073-3AEC-4399-A95A-C4888120B958" class="sect4"><span class="enumeration_section">20.2.15 </span>Materializing Segments
                  </h4>
                  <div>
                     <p>The <code class="codeph">DBMS_SPACE_ADMIN</code> package includes the <code class="codeph">MATERIALIZE_DEFERRED_SEGMENTS()</code> procedure, which enables you to materialize segments for tables, table partitions, and dependent objects created with deferred segment creation enabled.
                     </p>
                     <div class="section">
                        <p>You can add segments as needed, rather than starting with more than you need and using database resources unnecessarily.</p>
                        <p>The following example materializes segments for the <code class="codeph">EMPLOYEES</code> table in the <code class="codeph">HR</code> schema.
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_SPACE_ADMIN.MATERIALIZE_DEFERRED_SEGMENTS(
    schema_name  =&gt; 'HR',
    table_name   =&gt; 'EMPLOYEES');
END;
</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-BFDCA073-3AEC-4399-A95A-C4888120B958__GUID-4132CE93-A88A-43C8-B1B6-ACB525AF657A">
                        <p class="notep1">See Also:</p>
                        <p><a href="../arpls/DBMS_SPACE_ADMIN.html#ARPLS73095" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference </span></a>for details about this procedure
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-86F766C5-2344-4790-95E4-4E813A0B21DA" title="Following guidelines can make the management of your tables easier and can improve performance when creating the table, as well as when loading, updating, and querying the table data.">Guidelines for Managing Tables</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11631"></a><div class="props_rev_3"><a id="GUID-A9EDF4CF-FFBA-4D09-A4BB-621BE977E4FC" name="GUID-A9EDF4CF-FFBA-4D09-A4BB-621BE977E4FC"></a><h4 id="ADMIN-GUID-A9EDF4CF-FFBA-4D09-A4BB-621BE977E4FC" class="sect4"><span class="enumeration_section">20.2.16 </span>Estimate Table Size and Plan Accordingly
                  </h4>
                  <div>
                     <p>Estimate the sizes of tables before creating them. Preferably, do this as part of database planning. Knowing the sizes, and uses, for database tables is an important part of database planning.</p>
                     <p>You can use the combined estimated size of tables, along with estimates for indexes, undo space, and redo log files, to determine the amount of disk space that is required to hold an intended database. From these estimates, you can make correct hardware purchases.</p>
                     <p>You can use the estimated size and growth rate of an individual table to better determine the attributes of a tablespace and its underlying data files that are best suited for the table. This can enable you to more easily manage the table disk space and improve I/O performance of applications that use the table. </p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-A9EDF4CF-FFBA-4D09-A4BB-621BE977E4FC__GUID-DA0EFCD9-9030-459C-B64E-8AD076A57326">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="managing-space-for-schema-objects.html#GUID-BF0E093F-AE77-4A8E-BC17-68AFE4FE6977" title="Oracle Database provides two ways to plan capacity for database objects: with Cloud Control or with the DBMS_SPACE PL/SQL package. Three procedures in the DBMS_SPACE package enable you to predict the size of new objects and monitor the size of existing database objects.">Capacity Planning for Database Objects </a>"</span></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-86F766C5-2344-4790-95E4-4E813A0B21DA" title="Following guidelines can make the management of your tables easier and can improve performance when creating the table, as well as when loading, updating, and querying the table data.">Guidelines for Managing Tables</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11632"></a><div class="props_rev_3"><a id="GUID-66B37910-379C-4FB1-81B1-D2671FDCDE46" name="GUID-66B37910-379C-4FB1-81B1-D2671FDCDE46"></a><h4 id="ADMIN-GUID-66B37910-379C-4FB1-81B1-D2671FDCDE46" class="sect4"><span class="enumeration_section">20.2.17 </span>Restrictions to Consider When Creating Tables
                  </h4>
                  <div>
                     <p>There are restrictions to consider when you create tables.</p>
                     <p>Here are some restrictions that may affect your table planning and usage:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Tables containing object types cannot be imported into a pre-Oracle8 database.</p>
                        </li>
                        <li>
                           <p>You cannot merge an exported table into a preexisting table having the same name in a different schema.</p>
                        </li>
                        <li>
                           <p>You cannot move types and extent tables to a different schema when the original data still exists in the database.</p>
                        </li>
                        <li>
                           <p>Oracle Database has a limit on the total number of columns that a table (or attributes that an object type) can have. See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN004" target="_blank"><span class="italic">Oracle Database Reference</span></a> for this limit.
                           </p>
                           <p>Further, when you create a table that contains user-defined type data, the database maps columns of user-defined type to relational columns for storing the user-defined type data. This causes additional relational columns to be created. This results in "hidden" relational columns that are not visible in a <code class="codeph">DESCRIBE</code> table statement and are not returned by a <code class="codeph">SELECT *</code> statement. Therefore, when you create an object table, or a relational table with columns of <code class="codeph">REF</code>, varray, nested table, or object type, be aware that the total number of columns that the database actually creates for the table can be more than those you specify.
                           </p>
                           <div class="infoboxnotealso" id="GUID-66B37910-379C-4FB1-81B1-D2671FDCDE46__GUID-4749E150-80E2-4336-B33D-30079597E370">
                              <p class="notep1">See Also:</p>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=ADOBJ001" target="_blank"><span class="italic">Oracle Database Object-Relational Developer's Guide</span></a> for more information about user-defined types
                              </p>
                           </div>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-86F766C5-2344-4790-95E4-4E813A0B21DA" title="Following guidelines can make the management of your tables easier and can improve performance when creating the table, as well as when loading, updating, and querying the table data.">Guidelines for Managing Tables</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN01503"></a><div class="props_rev_3"><a id="GUID-D2802D28-D8B3-4C21-99EC-342DC42F9898" name="GUID-D2802D28-D8B3-4C21-99EC-342DC42F9898"></a><h3 id="ADMIN-GUID-D2802D28-D8B3-4C21-99EC-342DC42F9898" class="sect3"><span class="enumeration_section">20.3 </span>Creating Tables
               </h3>
               <div>
                  <p>Create tables using the SQL statement <code class="codeph">CREATE TABLE</code>. 
                  </p>
                  <p>To create a new table in your schema, you must have the <code class="codeph">CREATE TABLE</code> system privilege. To create a table in another user's schema, you must have the <code class="codeph">CREATE ANY TABLE</code> system privilege. Additionally, the owner of the table must have a quota for the tablespace that contains the table, or the <code class="codeph">UNLIMITED TABLESPACE</code> system privilege. 
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-F772A328-C752-4230-9EB1-1E07F28F03C4">Example: Creating a Table</a><br>An example illustrates creating a table.
                     </li>
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-6EB347F0-64BA-4B15-8182-41BA7D5A876F">Creating a Temporary Table</a><br>Temporary tables are useful in applications where a result set is to be buffered (temporarily persisted), perhaps because it is constructed by running multiple DML operations. You can create either a global temporary table or a private temporary table.
                     </li>
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-2C1E31D1-C0EE-48D6-8C11-31AE9AFF5440">Parallelizing Table Creation</a><br>When you specify the <code class="codeph">AS SELECT</code> clause to create a table and populate it with data from another table, you can use parallel execution.
                     </li>
                  </ul>
                  <div class="infoboxnotealso" id="GUID-D2802D28-D8B3-4C21-99EC-342DC42F9898__GUID-5A300375-8E2E-4513-9EC7-976938BE168F">
                     <p class="notep1">See Also:</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=SQLRF01402" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for exact syntax of the <code class="codeph">CREATE TABLE</code> and other SQL statements discussed in this chapter
                     </p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-707B02F5-E589-4C20-8E2E-5ED4F7888702" title="Managing tables includes tasks such as creating tables, loading tables, altering tables, and dropping tables.">Managing Tables</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN11004"></a><div class="props_rev_3"><a id="GUID-F772A328-C752-4230-9EB1-1E07F28F03C4" name="GUID-F772A328-C752-4230-9EB1-1E07F28F03C4"></a><h4 id="ADMIN-GUID-F772A328-C752-4230-9EB1-1E07F28F03C4" class="sect4"><span class="enumeration_section">20.3.1 </span>Example: Creating a Table
                  </h4>
                  <div>
                     <p>An example illustrates creating a table.</p>
                     <div class="section">
                        <p>When you issue the following statement, you create a table named <code class="codeph">admin_emp</code> in the <code class="codeph">hr</code> schema and store it in the <code class="codeph">admin_tbs</code> tablespace:
                        </p>
                        <div class="infoboxnote" id="GUID-F772A328-C752-4230-9EB1-1E07F28F03C4__GUID-C69FB35C-9EA1-444F-ABC9-473E0743A3F5">
                           <p class="notep1">Live SQL:</p>
                           <p>View and run a related example on Oracle Live SQL at <a href="https://livesql.oracle.com/apex/livesql/docs/admin/managing-tables/create-modify.html" target="_blank"><span class="italic">Oracle Live SQL: Creating and Modifying Tables</span></a>.
                           </p>
                        </div><pre class="oac_no_warn" dir="ltr">CREATE TABLE hr.admin_emp (
         empno      NUMBER(5) PRIMARY KEY,
         ename      VARCHAR2(15) NOT NULL,
         ssn        NUMBER(9) ENCRYPT USING 'AES256',
         job        VARCHAR2(10),
         mgr        NUMBER(5),
         hiredate   DATE DEFAULT (sysdate),
         photo      BLOB,
         sal        NUMBER(7,2),
         hrly_rate  NUMBER(7,2) GENERATED ALWAYS AS (sal/2080),
         comm       NUMBER(7,2),
         deptno     NUMBER(3) NOT NULL
                     CONSTRAINT admin_dept_fkey REFERENCES hr.departments
                     (department_id),
         comments   VARCHAR2(32767),
         status     VARCHAR2(10) INVISIBLE)
   TABLESPACE admin_tbs
   STORAGE ( INITIAL 50K);

COMMENT ON TABLE hr.admin_emp IS 'Enhanced employee table';
</pre><p>Note the following about this example:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Integrity constraints are defined on several columns of the table.</p>
                           </li>
                           <li>
                              <p>The <code class="codeph">STORAGE</code> clause specifies the size of the first extent. See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=SQLRF30013" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for details on this clause.
                              </p>
                           </li>
                           <li>
                              <p>Encryption is defined on one column (<code class="codeph">ssn</code>), through the Transparent Data Encryption feature of Oracle Database. The keystore must therefore be open for this <code class="codeph">CREATE</code> <code class="codeph">TABLE</code> statement to succeed.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">photo</code> column is of data type <code class="codeph">BLOB</code>, which is a member of the set of data types called <a id="d192334e4995" class="indexterm-anchor"></a><a id="d192334e4997" class="indexterm-anchor"></a><a id="d192334e4999" class="indexterm-anchor"></a>large objects (LOBs). LOBs are used to store semi-structured data (such as an XML tree) and unstructured data (such as the stream of bits in a color image).
                              </p>
                           </li>
                           <li>
                              <p>One column is defined as a virtual column (<code class="codeph">hrly_rate</code>). This column computes the employee's hourly rate as the yearly salary divided by 2,080. See <a href="../sqlrf/CREATE-TABLE.html#SQLRF54465" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for a discussion of rules for virtual columns.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">comments</code> column is a <code class="codeph">VARCHAR2</code> column that is larger than 4000 bytes. Beginning with Oracle Database 12<span class="italic">c</span>, the maximum size for the <code class="codeph">VARCHAR2</code>, <code class="codeph">NVARCHAR2</code>, and <code class="codeph">RAW</code> data types is increased to 32767 bytes.
                              </p>
                              <p>To use extended data types, set the <code class="codeph">MAX_STRING_SIZE</code> initialization parameter to <code class="codeph">EXTENDED</code>. See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN10321" target="_blank"><span class="italic">Oracle Database Reference</span></a> for information about setting this parameter.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">status</code> column is invisible.
                              </p>
                           </li>
                           <li>
                              <p>A <code class="codeph">COMMENT</code> statement is used to store a comment for the table. You query the <code class="codeph">*_TAB_COMMENTS</code> data dictionary views to retrieve such comments. See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=SQLRF01109" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-F772A328-C752-4230-9EB1-1E07F28F03C4__GUID-D871C45D-6CEE-4747-AE6A-05C01069D01C">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=SQLRF0021" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for a description of the data types that you can specify for table columns
                              </p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="managing-schema-objects.html#GUID-A6587008-A4F2-4333-A47C-F1AB0B4538FA" title="Integrity constraints are rules that restrict the values for one or more columns in a table. Constraint clauses can appear in either CREATE TABLE or ALTER TABLE statements, and identify the column or columns affected by the constraint and identify the conditions of the constraint.">Managing Integrity Constraints</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="managing-tables.html#GUID-D7E99BBA-192C-41E7-9150-62AA188725E4" title="You can make individual table columns invisible. Any generic access of a table does not show the invisible columns in the table.">Understand Invisible Columns</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=ASOAG600" target="_blank"><span class="italic">Oracle Database Advanced Security Guide</span></a> for information about Transparent Data Encryption
                              </p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=ADLOB" target="_blank"><span class="italic">Oracle Database SecureFiles and Large Objects Developer's Guide</span></a> for more information about LOBs.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-D2802D28-D8B3-4C21-99EC-342DC42F9898" title="Create tables using the SQL statement CREATE TABLE.">Creating Tables</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-6EB347F0-64BA-4B15-8182-41BA7D5A876F" name="GUID-6EB347F0-64BA-4B15-8182-41BA7D5A876F"></a><h4 id="ADMIN-GUID-6EB347F0-64BA-4B15-8182-41BA7D5A876F" class="sect4"><span class="enumeration_section">20.3.2 </span>Creating a Temporary Table
                  </h4>
                  <div>
                     <p>Temporary tables are useful in applications where a result set is to be buffered (temporarily persisted), perhaps because it is constructed by running multiple DML operations. You can create either a global temporary table or a private temporary table.</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-23B23DCF-7482-4585-9C63-AC073C5DE224">Overview of Temporary Tables</a><br>A <strong class="term">temporary table</strong> holds data that exists only for the duration of a transaction or session. 
                        </li>
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-8A4441BC-9B9E-46AA-9CEE-D825440F34C7">Considerations When Creating Temporary Tables</a><br>Be aware of some considerations when you create temporary tables.
                        </li>
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-095B7DA3-010E-4B9A-9F07-5DDD00D53824">Creating Global Temporary Tables</a><br>Global temporary tables are permanent database objects that are stored on disk and visible to all sessions connected to the database.
                        </li>
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-9B373086-0760-4B18-9688-BACFF07EC74B">Creating Private Temporary Tables</a><br>Private temporary tables are temporary database objects that are dropped at the end of a transaction or session. Private temporary tables are stored in memory and each one is visible only to the session that created it.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-D2802D28-D8B3-4C21-99EC-342DC42F9898" title="Create tables using the SQL statement CREATE TABLE.">Creating Tables</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="props_rev_3"><a id="GUID-23B23DCF-7482-4585-9C63-AC073C5DE224" name="GUID-23B23DCF-7482-4585-9C63-AC073C5DE224"></a><h5 id="ADMIN-GUID-23B23DCF-7482-4585-9C63-AC073C5DE224" class="sect5"><span class="enumeration_section">20.3.2.1 </span>Overview of Temporary Tables
                     </h5>
                     <div>
                        <p>A <strong class="term">temporary table</strong> holds data that exists only for the duration of a transaction or session. 
                        </p>
                        <p>Data in a temporary table is private to the session. Each session can only see and modify its own data.</p>
                        <p>You can create either a <strong class="term">global temporary table</strong> or a <strong class="term">private temporary table</strong>. The following table shows the essential differences between them.
                        </p>
                        <div class="tblformal" id="GUID-23B23DCF-7482-4585-9C63-AC073C5DE224__GUID-19E8339E-64AE-4BD3-93A3-699A416FC5DB">
                           <p class="titleintable">Table 20-3 Temporary Table Characteristics</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="Temporary Table Characteristics" summary="Describes the characteristic of global and private temporary tables" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d192334e5269">Characteristic</th>
                                    <th align="left" valign="bottom" id="d192334e5271">Global</th>
                                    <th align="left" valign="bottom" id="d192334e5273">Private</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d192334e5277" headers="d192334e5269 ">Naming rules</td>
                                    <td align="left" valign="top" headers="d192334e5277 d192334e5271 ">Same as for permanent tables</td>
                                    <td align="left" valign="top" headers="d192334e5277 d192334e5273 ">Must be prefixed with <code class="codeph">ORA$PTT_</code></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d192334e5286" headers="d192334e5269 ">Visibility of table definition</td>
                                    <td align="left" valign="top" headers="d192334e5286 d192334e5271 ">All sessions</td>
                                    <td align="left" valign="top" headers="d192334e5286 d192334e5273 ">Only the session that created the table</td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d192334e5293" headers="d192334e5269 ">Storage of table definition</td>
                                    <td align="left" valign="top" headers="d192334e5293 d192334e5271 ">Disk</td>
                                    <td align="left" valign="top" headers="d192334e5293 d192334e5273 ">Memory only</td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d192334e5300" headers="d192334e5269 ">Types</td>
                                    <td align="left" valign="top" headers="d192334e5300 d192334e5271 ">Transaction-specific (<code class="codeph">ON COMMIT DELETE ROWS</code>) or session-specific (<code class="codeph">ON COMMIT PRESERVE ROWS</code>)
                                    </td>
                                    <td align="left" valign="top" headers="d192334e5300 d192334e5273 ">Transaction-specific (<code class="codeph">ON COMMIT DROP DEFINITION</code>) or session-specific (<code class="codeph">ON COMMIT PRESERVE DEFINITION</code>)
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>A third type of temporary table, known as a <strong class="term">cursor-duration temporary table</strong>, is created by the database automatically for certain types of queries.
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-23B23DCF-7482-4585-9C63-AC073C5DE224__GUID-BA3205F9-E55D-4108-9DFB-805A32A31B14">
                           <p class="notep1">See Also:</p>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=TGSQL-GUID-C1AE164B-E99F-418A-9B2A-1ADB036048DF" target="_blank"><span><cite>Oracle Database SQL Tuning Guide</cite></span></a> to learn more about cursor-duration temporary tables
                           </p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-6EB347F0-64BA-4B15-8182-41BA7D5A876F" title="Temporary tables are useful in applications where a result set is to be buffered (temporarily persisted), perhaps because it is constructed by running multiple DML operations. You can create either a global temporary table or a private temporary table.">Creating a Temporary Table</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-8A4441BC-9B9E-46AA-9CEE-D825440F34C7" name="GUID-8A4441BC-9B9E-46AA-9CEE-D825440F34C7"></a><h5 id="ADMIN-GUID-8A4441BC-9B9E-46AA-9CEE-D825440F34C7" class="sect5"><span class="enumeration_section">20.3.2.2 </span>Considerations When Creating Temporary Tables
                     </h5>
                     <div>
                        <p>Be aware of some considerations when you create temporary tables.</p>
                        <p>Unlike permanent tables, temporary tables do not automatically allocate a segment when they are created. Instead, segments are allocated when the first <code class="codeph">INSERT</code> (or <code class="codeph">CREATE</code> <code class="codeph">TABLE</code> <code class="codeph">AS</code> <code class="codeph">SELECT</code>) is performed. Therefore, if a <code class="codeph">SELECT</code>, <code class="codeph">UPDATE</code>, or <code class="codeph">DELETE</code> is performed before the first <code class="codeph">INSERT</code>, then the table appears to be empty.
                        </p>
                        <p>DDL operations (except <code class="codeph">TRUNCATE</code>) are allowed on an existing temporary table only if no session is currently bound to that temporary table.
                        </p>
                        <p>If you rollback a transaction, the data you entered is lost, although the table definition persists.</p>
                        <p>A transaction-specific temporary table allows only one transaction at a time. If there are several autonomous transactions in a single transaction scope, each autonomous transaction can use the table only as soon as the previous one commits.</p>
                        <p>Because the data in a temporary table is, by definition, temporary, backup and recovery of temporary table data is not available in the event of a system failure. To prepare for such a failure, you should develop alternative methods for preserving temporary table data.</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-6EB347F0-64BA-4B15-8182-41BA7D5A876F" title="Temporary tables are useful in applications where a result set is to be buffered (temporarily persisted), perhaps because it is constructed by running multiple DML operations. You can create either a global temporary table or a private temporary table.">Creating a Temporary Table</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-095B7DA3-010E-4B9A-9F07-5DDD00D53824" name="GUID-095B7DA3-010E-4B9A-9F07-5DDD00D53824"></a><h5 id="ADMIN-GUID-095B7DA3-010E-4B9A-9F07-5DDD00D53824" class="sect5"><span class="enumeration_section">20.3.2.3 </span>Creating Global Temporary Tables
                     </h5>
                     <div>
                        <p>Global temporary tables are permanent database objects that are stored on disk and visible to all sessions connected to the database.</p>
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="managing-tables.html#GUID-48131690-63ED-4F13-BF8C-4A292D679EBA">About Creating Global Temporary Tables</a><br>The metadata of a global temporary table is visible to multiple users and their sessions, but its content is local to a session. 
                           </li>
                           <li class="ulchildlink"><a href="managing-tables.html#GUID-A48CB362-FC15-4A26-8386-906A55F6788E">Examples: Creating a Global Temporary Table</a><br>Examples illustrate how to create a global temporary table.
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-6EB347F0-64BA-4B15-8182-41BA7D5A876F" title="Temporary tables are useful in applications where a result set is to be buffered (temporarily persisted), perhaps because it is constructed by running multiple DML operations. You can create either a global temporary table or a private temporary table.">Creating a Temporary Table</a></p>
                           </div>
                        </div>
                     </div>
                     
                     <div class="sect5"><a id="GUID-48131690-63ED-4F13-BF8C-4A292D679EBA" name="GUID-48131690-63ED-4F13-BF8C-4A292D679EBA"></a><h6 id="ADMIN-GUID-48131690-63ED-4F13-BF8C-4A292D679EBA" class="sect6"><span class="enumeration_section">20.3.2.3.1 </span>About Creating Global Temporary Tables
                        </h6>
                        <div>
                           <p>The metadata of a global temporary table is visible to multiple users and their sessions, but its content is local to a session. </p>
                           <p>For example, assume a Web-based airlines reservations application allows a customer to create several optional itineraries. Each itinerary is represented by a row in a global temporary table. The application updates the rows to reflect changes in the itineraries. When the customer decides which itinerary she wants to use, the application moves the row for that itinerary to a persistent table.</p>
                           <p>During the session, the itinerary data is private. At the end of the session, the optional itineraries are dropped.</p>
                           <p>The definition of a global temporary table is visible to all sessions, but the data in a global temporary table is visible only to the session that inserts the data into the table.</p>
                           <p>Use the <code class="codeph">CREATE GLOBAL TEMPORARY TABLE</code> statement to create a global temporary table. The <code class="codeph">ON COMMIT</code> clause indicates if the data in the table is<span class="bold"> transaction-specific</span> (the default) or <span class="bold">session-specific</span>, the implications of which are as follows:
                           </p>
                           <div class="tblformal" id="GUID-48131690-63ED-4F13-BF8C-4A292D679EBA__GUID-0F724AC5-978F-4BFE-9CDC-2BAD71DFE520">
                              <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="Column 1 lists the ON COMMIT clause settings, column 2 describes the implications of that setting for global temporary tables." width="100%" frame="hsides" border="1" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="24%" id="d192334e5532">ON COMMIT Setting</th>
                                       <th align="left" valign="bottom" width="76%" id="d192334e5535">Implications</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="24%" id="d192334e5540" headers="d192334e5532 ">
                                          <p><code class="codeph">DELETE ROWS</code> 
                                          </p>
                                       </td>
                                       <td align="left" valign="top" width="76%" headers="d192334e5540 d192334e5535 ">
                                          <p>This creates a global temporary table that is transaction specific. A session becomes bound to the global temporary table with a transactions first insert into the table. The binding goes away at the end of the transaction. The database truncates the table (delete all rows) after each commit.</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="24%" id="d192334e5549" headers="d192334e5532 ">
                                          <p><code class="codeph">PRESERVE ROWS</code> 
                                          </p>
                                       </td>
                                       <td align="left" valign="top" width="76%" headers="d192334e5549 d192334e5535 ">
                                          <p>This creates a global temporary table that is session specific. A session gets bound to the global temporary table with the first insert into the table in the session. This binding goes away at the end of the session or by issuing a <code class="codeph">TRUNCATE</code> of the table in the session. The database truncates the table when you terminate the session.
                                          </p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-095B7DA3-010E-4B9A-9F07-5DDD00D53824" title="Global temporary tables are permanent database objects that are stored on disk and visible to all sessions connected to the database.">Creating Global Temporary Tables</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="ADMIN11633"></a><div class="props_rev_3"><a id="GUID-A48CB362-FC15-4A26-8386-906A55F6788E" name="GUID-A48CB362-FC15-4A26-8386-906A55F6788E"></a><h6 id="ADMIN-GUID-A48CB362-FC15-4A26-8386-906A55F6788E" class="sect6"><span class="enumeration_section">20.3.2.3.2 </span>Examples: Creating a Global Temporary Table
                        </h6>
                        <div>
                           <p>Examples illustrate how to create a global temporary table.</p>
                           <div class="section">
                              <p>This statement creates a global temporary table that is transaction specific:</p><pre class="oac_no_warn" dir="ltr">CREATE GLOBAL TEMPORARY TABLE admin_work_area_trans
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(startdate DATE,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;enddate DATE,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class CHAR(20))
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ON COMMIT DELETE ROWS;
</pre><p>This statement creates a global temporary table that is session specific:</p><pre class="oac_no_warn" dir="ltr">CREATE GLOBAL TEMPORARY TABLE admin_work_area_session
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(startdate DATE,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;enddate DATE,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class CHAR(20))
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ON COMMIT PRESERVE ROWS;
</pre><p>Indexes can be created on global temporary tables. They are also temporary and the data in the index has the same session or transaction scope as the data in the underlying table.</p>
                              <p><a id="d192334e5608" class="indexterm-anchor"></a>By default, rows in a global temporary table are stored in the default temporary tablespace of the user who creates it. However, you can assign a global temporary table to another tablespace upon creation of the global temporary table by using the <code class="codeph">TABLESPACE</code> clause of <code class="codeph">CREATE GLOBAL TEMPORARY TABLE</code>. You can use this feature to conserve space used by global temporary tables. For example, if you must perform many small global temporary table operations and the default temporary tablespace is configured for sort operations and thus uses a large extent size, these small operations will consume lots of unnecessary disk space. In this case it is better to allocate a second temporary tablespace with a smaller extent size.
                              </p>
                              <p>The following two statements create a temporary tablespace with a 64 KB extent size, and then a new global temporary table in that tablespace.</p><pre class="oac_no_warn" dir="ltr">CREATE TEMPORARY TABLESPACE tbs_t1 
&nbsp;&nbsp;&nbsp;&nbsp;TEMPFILE 'tbs_t1.f' SIZE 50m REUSE AUTOEXTEND ON
&nbsp;&nbsp;&nbsp;&nbsp;MAXSIZE UNLIMITED
&nbsp;&nbsp;&nbsp;&nbsp;EXTENT MANAGEMENT LOCAL UNIFORM SIZE 64K;

CREATE GLOBAL TEMPORARY TABLE admin_work_area
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(startdate DATE,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;enddate DATE,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class CHAR(20))
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ON COMMIT DELETE ROWS
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TABLESPACE tbs_t1;
</pre></div>
                           <!-- class="section" -->
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-A48CB362-FC15-4A26-8386-906A55F6788E__GUID-63EF3091-39AC-47B8-ACD3-8D7ED5ACBE04">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><span class="q">"<a href="managing-tablespaces.html#GUID-9B6544CD-BFF3-4EA8-B06B-0CBC5A91EA45" title="A temporary tablespace contains transient data that persists only for the duration of the session. Temporary tablespaces can improve the concurrency of multiple sort operations that do not fit in memory and can improve the efficiency of space management operations during sorts.">About Temporary Tablespaces</a>"</span></p>
                                 </li>
                                 <li>
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=SQLRF01402" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for more information about using the <code class="codeph">CREATE TABLE</code> statement to create a global temporary table, including restrictions that apply
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-095B7DA3-010E-4B9A-9F07-5DDD00D53824" title="Global temporary tables are permanent database objects that are stored on disk and visible to all sessions connected to the database.">Creating Global Temporary Tables</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-9B373086-0760-4B18-9688-BACFF07EC74B" name="GUID-9B373086-0760-4B18-9688-BACFF07EC74B"></a><h5 id="ADMIN-GUID-9B373086-0760-4B18-9688-BACFF07EC74B" class="sect5"><span class="enumeration_section">20.3.2.4 </span>Creating Private Temporary Tables
                     </h5>
                     <p>Private temporary tables are temporary database objects that are dropped at the end of a transaction or session. Private temporary tables are stored in memory and each one is visible only to the session that created it.</p>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="managing-tables.html#GUID-456384FD-630A-4515-A89D-79E56E28FD70">About Creating Private Temporary Tables</a><br>The metadata and content of a private temporary table is visible only within the session that created the it.
                           </li>
                           <li class="ulchildlink"><a href="managing-tables.html#GUID-BDD1152B-B041-4496-8651-D554E05A0870">Examples: Creating a Private Temporary Table</a><br>These examples illustrate creating a private temporary table.
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-6EB347F0-64BA-4B15-8182-41BA7D5A876F" title="Temporary tables are useful in applications where a result set is to be buffered (temporarily persisted), perhaps because it is constructed by running multiple DML operations. You can create either a global temporary table or a private temporary table.">Creating a Temporary Table</a></p>
                           </div>
                        </div>
                     </div>
                     
                     <div class="sect5"><a id="GUID-456384FD-630A-4515-A89D-79E56E28FD70" name="GUID-456384FD-630A-4515-A89D-79E56E28FD70"></a><h6 id="ADMIN-GUID-456384FD-630A-4515-A89D-79E56E28FD70" class="sect6"><span class="enumeration_section">20.3.2.4.1 </span>About Creating Private Temporary Tables
                        </h6>
                        <div>
                           <p>The metadata and content of a private temporary table is visible only within the session that created the it.</p>
                           <p>Private temporary tables are useful in the following situations:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>When an application stores temporary data in transient tables that are populated once, read few times, and then dropped at the end of a transaction or session</p>
                              </li>
                              <li>
                                 <p>When a session is maintained indefinitely and must create different temporary tables for different transactions</p>
                              </li>
                              <li>
                                 <p>When the creation of a temporary table must not start a new transaction or commit an existing transaction</p>
                              </li>
                              <li>
                                 <p>When different sessions of the same user must use the same name for a temporary table</p>
                              </li>
                              <li>
                                 <p>When a temporary table is required for a read-only database</p>
                              </li>
                           </ul>
                           <p>For example, assume a reporting application uses only one schema, but the application uses multiple connections with the schema to run different reports. The sessions use private temporary tables for calculations during individual transactions, and each session creates a private temporary table with the same name. When each transaction commits, its temporary data is no longer needed. Both the definition of a private temporary table and the data in a private temporary table is visible only to the session that created the table.</p>
                           <p>Use the <code class="codeph">CREATE PRIVATE TEMPORARY TABLE</code> statement to create a private temporary table. The <code class="codeph">ON COMMIT</code> clause indicates if the data in the table is<span class="bold"> transaction-specific</span> (the default) or <span class="bold">session-specific</span>, the implications of which are as follows:
                           </p>
                           <div class="tblformal" id="GUID-456384FD-630A-4515-A89D-79E56E28FD70__GUID-5763E2A6-BC52-4069-BA2A-DEB87E06290D">
                              <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="Column 1 lists the ON COMMIT clause settings, column 2 describes the implications of that setting for private temporary tables." width="100%" frame="hsides" border="1" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" width="24%" id="d192334e5783">ON COMMIT Setting</th>
                                       <th align="left" valign="bottom" width="76%" id="d192334e5786">Implications</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="24%" id="d192334e5791" headers="d192334e5783 ">
                                          <p><code class="codeph">DROP DEFINITION</code> 
                                          </p>
                                       </td>
                                       <td align="left" valign="top" width="76%" headers="d192334e5791 d192334e5786 ">
                                          <p>This creates a private temporary table that is transaction specific. All data in the table is lost, and the table is dropped at the end of transaction. </p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" width="24%" id="d192334e5800" headers="d192334e5783 ">
                                          <p><code class="codeph">PRESERVE DEFINITION</code> 
                                          </p>
                                       </td>
                                       <td align="left" valign="top" width="76%" headers="d192334e5800 d192334e5786 ">
                                          <p>This creates a private temporary table that is session specific. All data in the table is lost, and the table is dropped at the end of the session that created the table.</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <div class="infoboxnote" id="GUID-456384FD-630A-4515-A89D-79E56E28FD70__GUID-AEAAABD3-C848-4D88-A1D8-CEDC9A896858">
                              <p class="notep1">Note:</p>
                              <p>Names of private temporary tables must be prefixed according to the initialization parameter <code class="codeph">private_temp_table_prefix</code>.
                              </p>
                           </div>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-9B373086-0760-4B18-9688-BACFF07EC74B" title="Private temporary tables are temporary database objects that are dropped at the end of a transaction or session. Private temporary tables are stored in memory and each one is visible only to the session that created it.">Creating Private Temporary Tables</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                     <div class="props_rev_3"><a id="GUID-BDD1152B-B041-4496-8651-D554E05A0870" name="GUID-BDD1152B-B041-4496-8651-D554E05A0870"></a><h6 id="ADMIN-GUID-BDD1152B-B041-4496-8651-D554E05A0870" class="sect6"><span class="enumeration_section">20.3.2.4.2 </span>Examples: Creating a Private Temporary Table
                        </h6>
                        <div>
                           <p>These examples illustrate creating a private temporary table.</p>
                           <div class="section">
                              <p>This statement creates a private temporary table that is transaction specific:</p><pre class="oac_no_warn" dir="ltr">CREATE PRIVATE TEMPORARY TABLE ORA$PTT_sales_ptt_transaction
    (time_id      DATE,
     amount_sold  NUMBER(10,2))
   ON COMMIT DROP DEFINITION;
</pre><p>This statement creates a private temporary table that is session specific:</p><pre class="oac_no_warn" dir="ltr">CREATE PRIVATE TEMPORARY TABLE ORA$PTT_sales_ptt_session
    (time_id      DATE,
     amount_sold  NUMBER(10,2))
   ON COMMIT PRESERVE DEFINITION;
</pre><p>By default, rows in a private temporary table are stored in the default temporary tablespace of the user who creates it. However, you can assign a private temporary table to another temporary tablespace during the creation of the temporary table by using the <code class="codeph">TABLESPACE</code> clause of <code class="codeph">CREATE PRIVATE TEMPORARY TABLE</code> statement.
                              </p>
                           </div>
                           <!-- class="section" -->
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-BDD1152B-B041-4496-8651-D554E05A0870__GUID-63EF3091-39AC-47B8-ACD3-8D7ED5ACBE04">
                              <p class="notep1">See Also:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><span class="q">"<a href="managing-tablespaces.html#GUID-9B6544CD-BFF3-4EA8-B06B-0CBC5A91EA45" title="A temporary tablespace contains transient data that persists only for the duration of the session. Temporary tablespaces can improve the concurrency of multiple sort operations that do not fit in memory and can improve the efficiency of space management operations during sorts.">About Temporary Tablespaces</a>"</span></p>
                                 </li>
                                 <li>
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=SQLRF01402" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for more information about using the <code class="codeph">CREATE TABLE</code> statement to create a private temporary table, including restrictions that apply
                                    </p>
                                 </li>
                              </ul>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-9B373086-0760-4B18-9688-BACFF07EC74B" title="Private temporary tables are temporary database objects that are dropped at the end of a transaction or session. Private temporary tables are stored in memory and each one is visible only to the session that created it.">Creating Private Temporary Tables</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div>
               </div><a id="ADMIN11634"></a><div class="props_rev_3"><a id="GUID-2C1E31D1-C0EE-48D6-8C11-31AE9AFF5440" name="GUID-2C1E31D1-C0EE-48D6-8C11-31AE9AFF5440"></a><h4 id="ADMIN-GUID-2C1E31D1-C0EE-48D6-8C11-31AE9AFF5440" class="sect4"><span class="enumeration_section">20.3.3 </span>Parallelizing Table Creation
                  </h4>
                  <div>
                     <p>When you specify the <code class="codeph">AS SELECT</code> clause to create a table and populate it with data from another table, you can use parallel execution.
                     </p>
                     <div class="section">
                        <p>The <code class="codeph">CREATE TABLE...AS SELECT</code> statement contains two parts: a <code class="codeph">CREATE</code> part (DDL) and a <code class="codeph">SELECT</code> part (query). Oracle Database can parallelize both parts of the statement. The <code class="codeph">CREATE</code> part is parallelized if <span class="italic">one</span> of the following is true:
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>A <code class="codeph">PARALLEL</code> clause is included in the <code class="codeph">CREATE TABLE...AS SELECT</code> statement 
                              </p>
                           </li>
                           <li>
                              <p>An <code class="codeph">ALTER SESSION FORCE PARALLEL DDL</code> statement is specified
                              </p>
                           </li>
                        </ul>
                        <p>The query part is parallelized if <span class="italic">all</span> of the following are true:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The query includes a parallel hint specification (<code class="codeph">PARALLEL</code> or <code class="codeph">PARALLEL_INDEX</code>) <span class="italic">or</span> the <code class="codeph">CREATE</code> part includes the <code class="codeph">PARALLEL</code> clause <span class="italic">or</span> the schema objects referred to in the query have a <code class="codeph">PARALLEL</code> declaration associated with them.
                              </p>
                           </li>
                           <li>
                              <p>At least one of the tables specified in the query requires either a full table scan <span class="italic">or</span> an index range scan spanning multiple partitions.
                              </p>
                           </li>
                        </ul>
                        <p>If you parallelize the creation of a table, that table then has a parallel declaration (the <code class="codeph">PARALLEL</code> clause) associated with it. Any subsequent DML or queries on the table, for which parallelization is possible, will attempt to use parallel execution.
                        </p>
                        <p>The following simple statement parallelizes the creation of a table and stores the result in a compressed format, using table compression:</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE hr.admin_emp_dept
     PARALLEL COMPRESS
     AS SELECT * FROM hr.employees
     WHERE department_id = 10;
</pre><p>In this case, the <code class="codeph">PARALLEL</code> clause tells the database to select an optimum number of parallel execution servers when creating the table.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-2C1E31D1-C0EE-48D6-8C11-31AE9AFF5440__GUID-8A9830E2-FF2A-4786-81DE-068DF482899C">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=VLDBG010" target="_blank"><span class="italic">Oracle Database VLDB and Partitioning Guide</span></a> for detailed information on using parallel execution
                              </p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="managing-processes.html#GUID-1DEC7073-6F34-48B3-A2EC-3B5CDD3AD89C" title="You can manage parallel processing of SQL statements. In this configuration, Oracle Database can divide the work of processing an SQL statement among multiple parallel processes.">Managing Processes for Parallel SQL Execution</a>"</span></p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-D2802D28-D8B3-4C21-99EC-342DC42F9898" title="Create tables using the SQL statement CREATE TABLE.">Creating Tables</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN11635"></a><div class="props_rev_3"><a id="GUID-7B5676FC-59B4-418F-826B-8F4D7E3690E2" name="GUID-7B5676FC-59B4-418F-826B-8F4D7E3690E2"></a><h3 id="ADMIN-GUID-7B5676FC-59B4-418F-826B-8F4D7E3690E2" class="sect3"><span class="enumeration_section">20.4 </span>Loading Tables
               </h3>
               <div>
                  <p>There are several techniques for loading data into tables.</p>
                  <div class="infoboxnote" id="GUID-7B5676FC-59B4-418F-826B-8F4D7E3690E2__GUID-1A597EAC-924D-41D8-9F25-7DA80CB1EE6A">
                     <p class="notep1">Note:</p>
                     <p>The default size of the first extent of any new segment for a partitioned table is 8 MB instead of 64 KB. This helps improve performance of inserts and queries on partitioned tables. Although partitioned tables will start with a larger initial size, once sufficient data is inserted, the space consumption will be the same as in previous releases. You can override this default by setting the <code class="codeph">INITIAL</code> size in the storage clause for the table. This new default only applies to table partitions and LOB partitions.
                     </p>
                  </div>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-7ED50F3F-2BEB-4FDE-85B7-F8FB0D50FC66">Methods for Loading Tables</a><br>There are several means of inserting or initially loading data into your tables.
                     </li>
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-134D6EB6-219E-4820-AB54-8C60067A8F0F">Improving INSERT Performance with Direct-Path INSERT</a><br>When loading large amounts of data, you can improve load performance by using direct-path <code class="codeph">INSERT</code>.
                     </li>
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-9B894C55-5D79-4AA9-95DE-C216D6C417E8">Using Conventional Inserts to Load Tables</a><br>During <span class="bold">conventional INSERT operations</span>, the database reuses free space in the table, interleaving newly inserted data with existing data. During such operations, the database also maintains referential integrity constraints. Unlike direct-path <code class="codeph">INSERT</code> operations, conventional <code class="codeph">INSERT</code> operations do not require an exclusive lock on the table.
                     </li>
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-36DB026B-4702-477A-92C4-EA2795D2B37F">Avoiding Bulk INSERT Failures with DML Error Logging</a><br>You can avoid bulk <code class="codeph">INSERT</code> failures  by using the DML error logging feature.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-707B02F5-E589-4C20-8E2E-5ED4F7888702" title="Managing tables includes tasks such as creating tables, loading tables, altering tables, and dropping tables.">Managing Tables</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN13461"></a><div class="props_rev_3"><a id="GUID-7ED50F3F-2BEB-4FDE-85B7-F8FB0D50FC66" name="GUID-7ED50F3F-2BEB-4FDE-85B7-F8FB0D50FC66"></a><h4 id="ADMIN-GUID-7ED50F3F-2BEB-4FDE-85B7-F8FB0D50FC66" class="sect4"><span class="enumeration_section">20.4.1 </span>Methods for Loading Tables
                  </h4>
                  <div>
                     <p>There are several means of inserting or initially loading data into your tables.</p>
                     <p>Most commonly used are the following:</p>
                     <div class="tblformal" id="GUID-7ED50F3F-2BEB-4FDE-85B7-F8FB0D50FC66__GUID-3EF37926-F34A-45C8-9EDB-ADE72B6F47B8">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="Column 1 lists the methods of inserting data into tables, column 2 describes each method." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="33%" id="d192334e6180">Method</th>
                                 <th align="left" valign="bottom" width="67%" id="d192334e6183">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d192334e6188" headers="d192334e6180 ">
                                    <p>SQL*Loader</p>
                                 </td>
                                 <td align="left" valign="top" width="67%" headers="d192334e6188 d192334e6183 ">
                                    <p>This Oracle utility program loads data from external files into tables of an Oracle Database.</p>
                                    <p>Starting with Oracle Database 12<span class="italic">c</span>, SQL*Loader supports express mode. SQL*Loader express mode eliminates the need for a control file. Express mode simplifies loading data from external files. With express mode, SQL*Loader attempts to use the external table load method. If the external table load method is not possible, then SQL*Loader attempts to use direct path. If direct path is not possible, then SQL*Loader uses conventional path.
                                    </p>
                                    <p>SQL*Loader express mode automatically identifies the input datatypes based on the table column types and controls parallelism. SQL*Loader uses defaults to simplify usage, but you can override many of the defaults with command line parameters. You optionally can specify the direct path or the conventional path load method instead of using express mode.</p>
                                    <p>For information about SQL*Loader, see<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=SUTIL003" target="_blank"><span class="italic"> Oracle Database Utilities</span></a>.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d192334e6209" headers="d192334e6180 ">
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=SQLRF01402" target="_blank"><code class="codeph">CREATE TABLE</code> ... <code class="codeph">AS SELECT</code></a> statement (CTAS)
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="67%" headers="d192334e6209 d192334e6183 ">
                                    <p>Using this SQL statement you can create a table and populate it with data selected from another existing table, including an external table.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d192334e6223" headers="d192334e6180 ">
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=SQLRF01604" target="_blank"><code class="codeph">INSERT</code></a> statement
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="67%" headers="d192334e6223 d192334e6183 ">
                                    <p>The <code class="codeph">INSERT</code> statement enables you to add rows to a table, either by specifying the column values or by specifying a subquery that selects data from another existing table, including an external table. 
                                    </p>
                                    <p>One form of the <code class="codeph">INSERT</code> statement enables direct-path <code class="codeph">INSERT</code>, which can improve performance, and is useful for bulk loading. See <span class="q">"<a href="managing-tables.html#GUID-134D6EB6-219E-4820-AB54-8C60067A8F0F" title="When loading large amounts of data, you can improve load performance by using direct-path INSERT.">Improving INSERT Performance with Direct-Path INSERT</a>"</span>.
                                    </p>
                                    <p>If you are inserting a lot of data and want to avoid statement termination and rollback if an error is encountered, you can insert with DML error logging. See <span class="q">"<a href="managing-tables.html#GUID-B71385AD-2D21-42F3-9249-3D6364887746" title="When you load a table using an INSERT statement with subquery, if an error occurs, the statement is terminated and rolled back in its entirety. This can be wasteful of time and system resources. For such INSERT statements, you can avoid this situation by using the DML error logging feature.">Avoiding Bulk INSERT Failures with DML Error Logging</a>"</span>.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d192334e6272" headers="d192334e6180 ">
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=SQLRF01606" target="_blank"><code class="codeph">MERGE</code></a> statement
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="67%" headers="d192334e6272 d192334e6183 ">
                                    <p>The <code class="codeph">MERGE</code> statement enables you to insert rows into or update rows of a table, by selecting rows from another existing table. If a row in the new data corresponds to an item that already exists in the table, then an <code class="codeph">UPDATE</code> is performed, else an <code class="codeph">INSERT</code> is performed.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="infoboxnote" id="GUID-7ED50F3F-2BEB-4FDE-85B7-F8FB0D50FC66__GUID-A40976DC-1D59-4F20-8E3C-0A0109C762FD">
                        <p class="notep1">Note:</p>
                        <p>Only a few details and examples of inserting data into tables are included in this book. Oracle documentation specific to data warehousing and application development provide more extensive information about inserting and manipulating data in tables. See:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=DWHSG8270" target="_blank"><span class="italic">Oracle Database Data Warehousing Guide</span></a></p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=ADLOB45151" target="_blank"><span class="italic">Oracle Database SecureFiles and Large Objects Developer's Guide</span></a></p>
                           </li>
                        </ul>
                     </div>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-7ED50F3F-2BEB-4FDE-85B7-F8FB0D50FC66__GUID-7D755420-5C16-4218-8748-A4B6FFDB3BCD">
                        <p class="notep1">See Also:</p>
                        <p><span class="q">"<a href="managing-tables.html#GUID-F6948F0E-0557-4C42-9145-1897DE974CC3" title="External tables are the tables that do not reside in the database, but reside outside the database in external files, such as operating system files or Hadoop Distributed File System (HDFS) files.">Managing External Tables</a>"</span></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-7B5676FC-59B4-418F-826B-8F4D7E3690E2" title="There are several techniques for loading data into tables.">Loading Tables</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN01509"></a><div class="props_rev_3"><a id="GUID-134D6EB6-219E-4820-AB54-8C60067A8F0F" name="GUID-134D6EB6-219E-4820-AB54-8C60067A8F0F"></a><h4 id="ADMIN-GUID-134D6EB6-219E-4820-AB54-8C60067A8F0F" class="sect4"><span class="enumeration_section">20.4.2 </span>Improving INSERT Performance with Direct-Path INSERT
                  </h4>
                  <p>When loading large amounts of data, you can improve load performance by using direct-path <code class="codeph">INSERT</code>.
                  </p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-BC07CE7E-92E3-4C2D-BA31-88659D10BD30">About Direct-Path INSERT</a><br>Direct-path insert operations are typically faster than conventional insert operations.
                        </li>
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-8D6EF7DE-A433-4198-BE57-D2826C4F36D9">How Direct-Path INSERT Works</a><br>You can use direct-path <code class="codeph">INSERT</code> on both partitioned and nonpartitioned tables.
                        </li>
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-93B8D899-B508-4961-A1E7-F141531B0469">Loading Data with Direct-Path INSERT</a><br>You can load data with direct-path <code class="codeph">INSERT</code> by using direct-path <code class="codeph">INSERT</code> SQL statements, inserting data in parallel mode, or by using the Oracle SQL*Loader utility in direct-path mode. A direct-path <code class="codeph">INSERT</code> can be done in either serial or parallel mode.
                        </li>
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-C5C17959-0BB5-4764-8E6F-799B4DC80F5D">Logging Modes for Direct-Path INSERT</a><br>Direct-path <code class="codeph">INSERT</code> lets you choose whether to log redo and undo information during the insert operation. 
                        </li>
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-C23CE17E-5F49-4F32-8EF3-5E3B00EAF81A">Additional Considerations for Direct-Path INSERT</a><br></li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-7B5676FC-59B4-418F-826B-8F4D7E3690E2" title="There are several techniques for loading data into tables.">Loading Tables</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN11643"></a><div class="props_rev_3"><a id="GUID-BC07CE7E-92E3-4C2D-BA31-88659D10BD30" name="GUID-BC07CE7E-92E3-4C2D-BA31-88659D10BD30"></a><h5 id="ADMIN-GUID-BC07CE7E-92E3-4C2D-BA31-88659D10BD30" class="sect5"><span class="enumeration_section">20.4.2.1 </span>About Direct-Path INSERT
                     </h5>
                     <div>
                        <p>Direct-path insert operations are typically faster than conventional insert operations.</p>
                        <p>Oracle Database inserts data into a table in one of two ways:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>During <span class="bold">conventional INSERT operations</span>, the database reuses free space in the table, interleaving newly inserted data with existing data. During such operations, the database also maintains referential integrity constraints.
                              </p>
                           </li>
                           <li>
                              <p>During <span class="bold">direct-path INSERT operations</span>, the database appends the inserted data after existing data in the table. Data is written directly into data files, bypassing the buffer cache. Free space in the table is not reused, and referential integrity constraints are ignored. Direct-path <code class="codeph">INSERT</code> can perform significantly better than conventional insert.
                              </p>
                           </li>
                        </ul>
                        <p>The database can insert data either in serial mode, where one process executes the statement, or in parallel mode, where multiple processes work together simultaneously to run a single SQL statement. The latter is referred to as parallel execution.</p>
                        <p>The following are benefits of direct-path <code class="codeph">INSERT</code>:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>During direct-path <code class="codeph">INSERT</code>, you can disable the logging of redo and undo entries to reduce load time. Conventional insert operations, in contrast, must always log such entries, because those operations reuse free space and maintain referential integrity.
                              </p>
                           </li>
                           <li>
                              <p>Direct-path <code class="codeph">INSERT</code> operations ensure atomicity of the transaction, even when run in parallel mode. Atomicity cannot be guaranteed during parallel direct path loads (using SQL*Loader). 
                              </p>
                           </li>
                        </ul>
                        <p>When performing parallel direct path loads, one notable difference between SQL*Loader and <code class="codeph">INSERT</code> statements is the following: If errors occur during parallel direct path loads with SQL*Loader, the load completes, but some indexes could be marked <code class="codeph">UNUSABLE</code> at the end of the load. Parallel direct-path <code class="codeph">INSERT</code>, in contrast, rolls back the statement if errors occur during index update.
                        </p>
                        <div class="infoboxnote" id="GUID-BC07CE7E-92E3-4C2D-BA31-88659D10BD30__GUID-B03C9A49-CF88-439D-9898-6D84AF18AD6D">
                           <p class="notep1">Note:</p>
                           <p>A conventional <code class="codeph">INSERT</code> operation checks for violations of <code class="codeph">NOT</code> <code class="codeph">NULL</code> constraints during the insert. Therefore, if a <code class="codeph">NOT</code> <code class="codeph">NULL</code> constraint is violated for a conventional <code class="codeph">INSERT</code> operation, then the error is returned during the insert. A direct-path <code class="codeph">INSERT</code> operation checks for violations of <code class="codeph">NOT</code> <code class="codeph">NULL</code> constraints before the insert. Therefore, if a <code class="codeph">NOT</code> <code class="codeph">NULL</code> constraint is violated for a direct-path <code class="codeph">INSERT</code> operation, then the error is returned before the insert.
                           </p>
                        </div>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-134D6EB6-219E-4820-AB54-8C60067A8F0F" title="When loading large amounts of data, you can improve load performance by using direct-path INSERT.">Improving INSERT Performance with Direct-Path INSERT</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11645"></a><div class="props_rev_3"><a id="GUID-8D6EF7DE-A433-4198-BE57-D2826C4F36D9" name="GUID-8D6EF7DE-A433-4198-BE57-D2826C4F36D9"></a><h5 id="ADMIN-GUID-8D6EF7DE-A433-4198-BE57-D2826C4F36D9" class="sect5"><span class="enumeration_section">20.4.2.2 </span>How Direct-Path INSERT Works
                     </h5>
                     <p>You can use direct-path <code class="codeph">INSERT</code> on both partitioned and nonpartitioned tables.
                     </p>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="managing-tables.html#GUID-1B719948-83B5-438A-B23D-899596756883">Serial Direct-Path INSERT into Partitioned or Nonpartitioned Tables</a><br>The single process inserts data beyond the current high water mark of the table segment or of each partition segment. (The <strong class="term">high-water mark</strong> is the level at which blocks have never been formatted to receive data.) When a <code class="codeph">COMMIT</code> runs, the high-water mark is updated to the new value, making the data visible to users.
                           </li>
                           <li class="ulchildlink"><a href="managing-tables.html#GUID-52FBF45A-F2DC-4AE8-AD95-F9778D52CDD8">Parallel Direct-Path INSERT into Partitioned Tables</a><br>This situation is analogous to serial direct-path <code class="codeph">INSERT</code>. Each parallel execution server is assigned one or more partitions, with no more than one process working on a single partition.
                           </li>
                           <li class="ulchildlink"><a href="managing-tables.html#GUID-DC46ABB2-E80D-4083-9949-E2F59FD2B104">Parallel Direct-Path INSERT into Nonpartitioned Tables</a><br>Each parallel execution server allocates a new temporary segment and inserts data into that temporary segment. When a <code class="codeph">COMMIT</code> runs, the parallel execution coordinator merges the new temporary segments into the primary table segment, where it is visible to users.
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-134D6EB6-219E-4820-AB54-8C60067A8F0F" title="When loading large amounts of data, you can improve load performance by using direct-path INSERT.">Improving INSERT Performance with Direct-Path INSERT</a></p>
                           </div>
                        </div>
                     </div>
                     <a id="ADMIN11646"></a><div class="props_rev_3"><a id="GUID-1B719948-83B5-438A-B23D-899596756883" name="GUID-1B719948-83B5-438A-B23D-899596756883"></a><h6 id="ADMIN-GUID-1B719948-83B5-438A-B23D-899596756883" class="sect6"><span class="enumeration_section">20.4.2.2.1 </span>Serial Direct-Path INSERT into Partitioned or Nonpartitioned Tables
                        </h6>
                        <p>The single process inserts data beyond the current high water mark of the table segment or of each partition segment. (The <strong class="term">high-water mark</strong> is the level at which blocks have never been formatted to receive data.) When a <code class="codeph">COMMIT</code> runs, the high-water mark is updated to the new value, making the data visible to users.
                        </p>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-8D6EF7DE-A433-4198-BE57-D2826C4F36D9" title="You can use direct-path INSERT on both partitioned and nonpartitioned tables.">How Direct-Path INSERT Works</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="ADMIN11647"></a><div class="props_rev_3"><a id="GUID-52FBF45A-F2DC-4AE8-AD95-F9778D52CDD8" name="GUID-52FBF45A-F2DC-4AE8-AD95-F9778D52CDD8"></a><h6 id="ADMIN-GUID-52FBF45A-F2DC-4AE8-AD95-F9778D52CDD8" class="sect6"><span class="enumeration_section">20.4.2.2.2 </span>Parallel Direct-Path INSERT into Partitioned Tables
                        </h6>
                        <div>
                           <p>This situation is analogous to serial direct-path <code class="codeph">INSERT</code>. Each parallel execution server is assigned one or more partitions, with no more than one process working on a single partition.
                           </p>
                           <p>Each parallel execution server inserts data beyond the current high-water mark of its assigned partition segment(s). When a <code class="codeph">COMMIT</code> runs, the high-water mark of each partition segment is updated to its new value, making the data visible to users.
                           </p>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-8D6EF7DE-A433-4198-BE57-D2826C4F36D9" title="You can use direct-path INSERT on both partitioned and nonpartitioned tables.">How Direct-Path INSERT Works</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="ADMIN11648"></a><div class="props_rev_3"><a id="GUID-DC46ABB2-E80D-4083-9949-E2F59FD2B104" name="GUID-DC46ABB2-E80D-4083-9949-E2F59FD2B104"></a><h6 id="ADMIN-GUID-DC46ABB2-E80D-4083-9949-E2F59FD2B104" class="sect6"><span class="enumeration_section">20.4.2.2.3 </span>Parallel Direct-Path INSERT into Nonpartitioned Tables
                        </h6>
                        <p>Each parallel execution server allocates a new temporary segment and inserts data into that temporary segment. When a <code class="codeph">COMMIT</code> runs, the parallel execution coordinator merges the new temporary segments into the primary table segment, where it is visible to users.
                        </p>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-8D6EF7DE-A433-4198-BE57-D2826C4F36D9" title="You can use direct-path INSERT on both partitioned and nonpartitioned tables.">How Direct-Path INSERT Works</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div><a id="ADMIN11644"></a><div class="props_rev_3"><a id="GUID-93B8D899-B508-4961-A1E7-F141531B0469" name="GUID-93B8D899-B508-4961-A1E7-F141531B0469"></a><h5 id="ADMIN-GUID-93B8D899-B508-4961-A1E7-F141531B0469" class="sect5"><span class="enumeration_section">20.4.2.3 </span>Loading Data with Direct-Path INSERT
                     </h5>
                     <p>You can load data with direct-path <code class="codeph">INSERT</code> by using direct-path <code class="codeph">INSERT</code> SQL statements, inserting data in parallel mode, or by using the Oracle SQL*Loader utility in direct-path mode. A direct-path <code class="codeph">INSERT</code> can be done in either serial or parallel mode.
                     </p>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="managing-tables.html#GUID-C0590D13-D8AD-4B59-9BF0-B698A48A414A">Serial Mode Inserts with SQL Statements</a><br>There are various ways to activate direct-path <code class="codeph">INSERT</code> in serial mode with SQL.
                           </li>
                           <li class="ulchildlink"><a href="managing-tables.html#GUID-251DA0BF-FE74-459B-9874-7BA48AD43E79">Parallel Mode Inserts with SQL Statements</a><br>When you are inserting in parallel mode, direct-path <code class="codeph">INSERT</code> is the default. However, you can insert in parallel mode using conventional <code class="codeph">INSERT</code> by using the <code class="codeph">NOAPPEND</code> <code class="codeph">PARALLEL</code> hint.
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-134D6EB6-219E-4820-AB54-8C60067A8F0F" title="When loading large amounts of data, you can improve load performance by using direct-path INSERT.">Improving INSERT Performance with Direct-Path INSERT</a></p>
                           </div>
                        </div>
                     </div>
                     <a id="ADMIN13320"></a><div class="props_rev_3"><a id="GUID-C0590D13-D8AD-4B59-9BF0-B698A48A414A" name="GUID-C0590D13-D8AD-4B59-9BF0-B698A48A414A"></a><h6 id="ADMIN-GUID-C0590D13-D8AD-4B59-9BF0-B698A48A414A" class="sect6"><span class="enumeration_section">20.4.2.3.1 </span>Serial Mode Inserts with SQL Statements
                        </h6>
                        <div>
                           <p>There are various ways to activate direct-path <code class="codeph">INSERT</code> in serial mode with SQL.
                           </p>
                           <p>You can activate direct-path <code class="codeph">INSERT</code> in serial mode with SQL in the following ways:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>If you are performing an <code class="codeph">INSERT</code> with a subquery, specify the <code class="codeph">APPEND</code> hint in each <code class="codeph">INSERT</code> statement, either immediately after the <code class="codeph">INSERT</code> keyword, or immediately after the <code class="codeph">SELECT</code> keyword in the subquery of the <code class="codeph">INSERT</code> statement.
                                 </p>
                              </li>
                              <li>
                                 <p>If you are performing an <code class="codeph">INSERT</code> with the <code class="codeph">VALUES</code> clause, specify the <code class="codeph">APPEND_VALUES</code> hint in each <code class="codeph">INSERT</code> statement immediately after the <code class="codeph">INSERT</code> keyword. Direct-path <code class="codeph">INSERT</code> with the <code class="codeph">VALUES</code> clause is best used when there are hundreds of thousands or millions of rows to load. The typical usage scenario is for array inserts using OCI. Another usage scenario might be inserts in a <code class="codeph">FORALL</code> statement in PL/SQL.
                                 </p>
                              </li>
                           </ul>
                           <p>If you specify the <code class="codeph">APPEND</code> hint (as opposed to the <code class="codeph">APPEND_VALUES</code> hint) in an <code class="codeph">INSERT</code> statement with a <code class="codeph">VALUES</code> clause, the <code class="codeph">APPEND</code> hint is ignored and a conventional insert is performed.
                           </p>
                           <p>The following is an example of using the <code class="codeph">APPEND</code> hint to perform a direct-path <code class="codeph">INSERT</code>:
                           </p><pre class="oac_no_warn" dir="ltr">INSERT /*+ APPEND */ INTO sales_hist SELECT * FROM sales WHERE cust_id=8890;
</pre><p>The following PL/SQL code fragment is an example of using the <code class="codeph">APPEND_VALUES</code> hint:
                           </p><pre class="oac_no_warn" dir="ltr">FORALL i IN 1..numrecords
  INSERT /*+ APPEND_VALUES */ INTO orderdata 
  VALUES(ordernum(i), custid(i), orderdate(i),shipmode(i), paymentid(i));
COMMIT;</pre></div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-93B8D899-B508-4961-A1E7-F141531B0469" title="You can load data with direct-path INSERT by using direct-path INSERT SQL statements, inserting data in parallel mode, or by using the Oracle SQL*Loader utility in direct-path mode. A direct-path INSERT can be done in either serial or parallel mode.">Loading Data with Direct-Path INSERT</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="ADMIN13321"></a><div class="props_rev_3"><a id="GUID-251DA0BF-FE74-459B-9874-7BA48AD43E79" name="GUID-251DA0BF-FE74-459B-9874-7BA48AD43E79"></a><h6 id="ADMIN-GUID-251DA0BF-FE74-459B-9874-7BA48AD43E79" class="sect6"><span class="enumeration_section">20.4.2.3.2 </span>Parallel Mode Inserts with SQL Statements
                        </h6>
                        <div>
                           <p>When you are inserting in parallel mode, direct-path <code class="codeph">INSERT</code> is the default. However, you can insert in parallel mode using conventional <code class="codeph">INSERT</code> by using the <code class="codeph">NOAPPEND</code> <code class="codeph">PARALLEL</code> hint.
                           </p>
                           <p>To run in parallel DML mode, the following requirements must be met:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>You must have Oracle Enterprise Edition installed.</p>
                              </li>
                              <li>
                                 <p>You must enable parallel DML in your session. To do this, submit the following statement:</p><pre class="oac_no_warn" dir="ltr">ALTER SESSION { ENABLE | FORCE } PARALLEL DML;
</pre></li>
                              <li>
                                 <p>You must meet at least one of the following requirements:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>Specify the parallel attribute for the target table, either at create time or subsequently</p>
                                    </li>
                                    <li>
                                       <p>Specify the <code class="codeph">PARALLEL</code> hint for each insert operation
                                       </p>
                                    </li>
                                    <li>
                                       <p>Set the database initialization parameter <code class="codeph">PARALLEL_DEGREE_POLICY</code> to <code class="codeph">AUTO</code></p>
                                    </li>
                                 </ul>
                              </li>
                           </ul>
                           <p>To disable direct-path <code class="codeph">INSERT</code>, specify the <code class="codeph">NOAPPEND</code> hint in each <code class="codeph">INSERT</code> statement. Doing so overrides parallel DML mode.
                           </p>
                           <div class="infoboxnote" id="GUID-251DA0BF-FE74-459B-9874-7BA48AD43E79__GUID-67BF1E35-1B13-4CC5-903A-68A35C760C6C">
                              <p class="notep1">Note:</p>
                              <p>You cannot query or modify data inserted using direct-path <code class="codeph">INSERT</code> immediately after the insert is complete. If you attempt to do so, an ORA-12838 error is generated. You must first issue a <code class="codeph">COMMIT</code> statement before attempting to read or modify the newly-inserted data.
                              </p>
                           </div>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-251DA0BF-FE74-459B-9874-7BA48AD43E79__GUID-FAD6D19C-697C-4CAB-9BFE-75CF91F388FE">
                              <p class="notep1">See Also:</p>
                              <p></p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><span class="q">"<a href="managing-tables.html#GUID-9B894C55-5D79-4AA9-95DE-C216D6C417E8" title="During conventional INSERT operations, the database reuses free space in the table, interleaving newly inserted data with existing data. During such operations, the database also maintains referential integrity constraints. Unlike direct-path INSERT operations, conventional INSERT operations do not require an exclusive lock on the table.">Using Conventional Inserts to Load Tables</a>"</span></p>
                                 </li>
                                 <li>
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=TGSQL259" target="_blank"><span class="italic">Oracle Database SQL Tuning Guide</span></a> for more information on using hints
                                    </p>
                                 </li>
                                 <li>
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=SQLRF01604" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information on the subquery syntax of <code class="codeph">INSERT</code> statements and for additional restrictions on using direct-path <code class="codeph">INSERT</code></p>
                                 </li>
                              </ul>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-93B8D899-B508-4961-A1E7-F141531B0469" title="You can load data with direct-path INSERT by using direct-path INSERT SQL statements, inserting data in parallel mode, or by using the Oracle SQL*Loader utility in direct-path mode. A direct-path INSERT can be done in either serial or parallel mode.">Loading Data with Direct-Path INSERT</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div><a id="ADMIN11649"></a><div class="props_rev_3"><a id="GUID-C5C17959-0BB5-4764-8E6F-799B4DC80F5D" name="GUID-C5C17959-0BB5-4764-8E6F-799B4DC80F5D"></a><h5 id="ADMIN-GUID-C5C17959-0BB5-4764-8E6F-799B4DC80F5D" class="sect5"><span class="enumeration_section">20.4.2.4 </span>Logging Modes for Direct-Path INSERT
                     </h5>
                     <div>
                        <p>Direct-path <code class="codeph">INSERT</code> lets you choose whether to log redo and undo information during the insert operation. 
                        </p>
                        <p>You specify the logging mode for direct-path <code class="codeph">INSERT</code> in the following ways:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>You can specify logging mode for a table, partition, index, or <code class="codeph">LOB</code> storage at create time (in a <code class="codeph">CREATE</code> statement) or subsequently (in an <code class="codeph">ALTER</code> statement). 
                              </p>
                           </li>
                           <li>
                              <p>If you do not specify either <code class="codeph">LOGGING</code> or <code class="codeph">NOLOGGING</code> at these times:
                              </p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>The logging attribute of a partition defaults to the logging attribute of its table. </p>
                                 </li>
                                 <li>
                                    <p>The logging attribute of a table or index defaults to the logging attribute of the tablespace in which it resides. </p>
                                 </li>
                                 <li>
                                    <p>The logging attribute of <code class="codeph">LOB</code> storage defaults to <code class="codeph">LOGGING</code> if you specify <code class="codeph">CACHE</code> for <code class="codeph">LOB</code> storage. If you do not specify <code class="codeph">CACHE</code>, then the logging attributes defaults to that of the tablespace in which the <code class="codeph">LOB</code> values resides.
                                    </p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>You set the logging attribute of a tablespace in a <code class="codeph">CREATE</code> <code class="codeph">TABLESPACE</code> or <code class="codeph">ALTER</code> <code class="codeph">TABLESPACE</code> statements.
                              </p>
                              <div class="infoboxnote" id="GUID-C5C17959-0BB5-4764-8E6F-799B4DC80F5D__GUID-0015C951-F55C-44B5-A533-7FDE3945A53C">
                                 <p class="notep1">Note:</p>
                                 <p>If the database or tablespace is in <code class="codeph">FORCE</code> <code class="codeph">LOGGING</code> mode, then direct-path <code class="codeph">INSERT</code> always logs, regardless of the logging setting.
                                 </p>
                              </div>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="managing-tables.html#GUID-CCC1353B-02E4-40CB-8235-43EE904260DD">Direct-Path INSERT with Logging</a><br>In this mode, Oracle Database performs full redo logging for instance and media recovery.
                           </li>
                           <li class="ulchildlink"><a href="managing-tables.html#GUID-D9CE7675-CD18-41BC-820A-D794AF279B96">Direct-Path INSERT without Logging</a><br>In this mode, Oracle Database inserts data without redo or undo logging. Instead, the database logs a small number of block range invalidation redo records and periodically updates the control file with information about the most recent direct write.
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-134D6EB6-219E-4820-AB54-8C60067A8F0F" title="When loading large amounts of data, you can improve load performance by using direct-path INSERT.">Improving INSERT Performance with Direct-Path INSERT</a></p>
                           </div>
                        </div>
                     </div>
                     <a id="ADMIN11650"></a><div class="props_rev_3"><a id="GUID-CCC1353B-02E4-40CB-8235-43EE904260DD" name="GUID-CCC1353B-02E4-40CB-8235-43EE904260DD"></a><h6 id="ADMIN-GUID-CCC1353B-02E4-40CB-8235-43EE904260DD" class="sect6"><span class="enumeration_section">20.4.2.4.1 </span>Direct-Path INSERT with Logging
                        </h6>
                        <div>
                           <p>In this mode, Oracle Database performs full redo logging for instance and media recovery.</p>
                           <p>If the database is in <code class="codeph">ARCHIVELOG</code> mode, then you can archive redo logs to tape. If the database is in <code class="codeph">NOARCHIVELOG</code> mode, then you can recover instance crashes but not disk failures.
                           </p>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-C5C17959-0BB5-4764-8E6F-799B4DC80F5D" title="Direct-path INSERT lets you choose whether to log redo and undo information during the insert operation.">Logging Modes for Direct-Path INSERT</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="ADMIN13485"></a><div class="props_rev_3"><a id="GUID-D9CE7675-CD18-41BC-820A-D794AF279B96" name="GUID-D9CE7675-CD18-41BC-820A-D794AF279B96"></a><h6 id="ADMIN-GUID-D9CE7675-CD18-41BC-820A-D794AF279B96" class="sect6"><span class="enumeration_section">20.4.2.4.2 </span>Direct-Path INSERT without Logging
                        </h6>
                        <div>
                           <p>In this mode, Oracle Database inserts data without redo or undo logging. Instead, the database logs a small number of block range invalidation redo records and periodically updates the control file with information about the most recent direct write.</p>
                           <p>Direct-path <code class="codeph">INSERT</code> without logging improves performance. However, if you subsequently must perform media recovery, the invalidation redo records mark a range of blocks as logically corrupt, because no redo data was logged for them. Therefore, it is important that you back up the data after such an insert operation.
                           </p>
                           <p>You can significantly improve the performance of unrecoverable direct-path inserts by disabling the periodic update of the control files. You do so by setting the initialization parameter <code class="codeph">DB_UNRECOVERABLE_SCN_TRACKING</code> to <code class="codeph">FALSE</code>. However, if you perform an unrecoverable direct-path insert with these control file updates disabled, you will no longer be able to accurately query the database to determine if any data files are currently unrecoverable.
                           </p>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-D9CE7675-CD18-41BC-820A-D794AF279B96__GUID-75AB31B6-390B-4E0E-B0B6-D9B9FC91ED09">
                              <p class="notep1">See Also:</p>
                              <p></p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=BRADV89598" target="_blank"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a> for more information about unrecoverable data files
                                    </p>
                                 </li>
                                 <li>
                                    <p>The section "Determining If a Backup Is Required After Unrecoverable Operations" in <a href="../sbydb/examples-of-using-oracle-data-guard.html#SBYDB4896" target="_blank"><span class="italic">Oracle Data Guard Concepts and Administration</span></a></p>
                                 </li>
                              </ul>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-C5C17959-0BB5-4764-8E6F-799B4DC80F5D" title="Direct-path INSERT lets you choose whether to log redo and undo information during the insert operation.">Logging Modes for Direct-Path INSERT</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div><a id="ADMIN11652"></a><div class="props_rev_3"><a id="GUID-C23CE17E-5F49-4F32-8EF3-5E3B00EAF81A" name="GUID-C23CE17E-5F49-4F32-8EF3-5E3B00EAF81A"></a><h5 id="ADMIN-GUID-C23CE17E-5F49-4F32-8EF3-5E3B00EAF81A" class="sect5"><span class="enumeration_section">20.4.2.5 </span>Additional Considerations for Direct-Path INSERT
                     </h5>
                     <div>
                        <p>When using direct-path <code class="codeph">INSERT</code>, consider issues related to compressed tables, index maintenance, disk space, and locking.
                        </p>
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="managing-tables.html#GUID-DD27876D-D988-4BE6-B3AD-63FE49F5B1AE">Compressed Tables and Direct-Path INSERT</a><br>If a table is created with the basic table compression, then you must use direct-path <code class="codeph">INSERT</code> to compress table data as it is loaded. If a table is created with advanced row, warehouse, or archive compression, then best compression ratios are achieved with direct-path <code class="codeph">INSERT</code>.
                           </li>
                           <li class="ulchildlink"><a href="managing-tables.html#GUID-E7C4E948-9BF7-47BB-874C-F0BD525DD3AF">Index Maintenance with Direct-Path INSERT</a><br>Oracle Database performs index maintenance at the end of direct-path <code class="codeph">INSERT</code> operations on tables (partitioned or nonpartitioned) that have indexes.
                           </li>
                           <li class="ulchildlink"><a href="managing-tables.html#GUID-251E9E51-9381-4097-8256-0B6D2D37ACE8">Space Considerations with Direct-Path INSERT</a><br>Direct-path <code class="codeph">INSERT</code> requires more space than conventional path <code class="codeph">INSERT</code>. 
                           </li>
                           <li class="ulchildlink"><a href="managing-tables.html#GUID-2E573512-51EA-4470-894A-C4BA20593273">Locking Considerations with Direct-Path INSERT</a><br>During direct-path <code class="codeph">INSERT</code>, the database obtains exclusive locks on the table (or on all partitions of a partitioned table).
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-134D6EB6-219E-4820-AB54-8C60067A8F0F" title="When loading large amounts of data, you can improve load performance by using direct-path INSERT.">Improving INSERT Performance with Direct-Path INSERT</a></p>
                           </div>
                        </div>
                     </div>
                     <a id="ADMIN12633"></a><div class="props_rev_3"><a id="GUID-DD27876D-D988-4BE6-B3AD-63FE49F5B1AE" name="GUID-DD27876D-D988-4BE6-B3AD-63FE49F5B1AE"></a><h6 id="ADMIN-GUID-DD27876D-D988-4BE6-B3AD-63FE49F5B1AE" class="sect6"><span class="enumeration_section">20.4.2.5.1 </span>Compressed Tables and Direct-Path INSERT
                        </h6>
                        <div>
                           <p>If a table is created with the basic table compression, then you must use direct-path <code class="codeph">INSERT</code> to compress table data as it is loaded. If a table is created with advanced row, warehouse, or archive compression, then best compression ratios are achieved with direct-path <code class="codeph">INSERT</code>.
                           </p>
                           <p>See <span class="q">"<a href="managing-tables.html#GUID-ED833867-4B7F-442E-A70C-9C19DAA8F445" title="Compression saves disk space, reduces memory use in the database buffer cache, and can significantly speed query execution during reads.">Consider Using Table Compression</a>"</span> for more information.
                           </p>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-C23CE17E-5F49-4F32-8EF3-5E3B00EAF81A">Additional Considerations for Direct-Path INSERT</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="ADMIN11653"></a><div class="props_rev_3"><a id="GUID-E7C4E948-9BF7-47BB-874C-F0BD525DD3AF" name="GUID-E7C4E948-9BF7-47BB-874C-F0BD525DD3AF"></a><h6 id="ADMIN-GUID-E7C4E948-9BF7-47BB-874C-F0BD525DD3AF" class="sect6"><span class="enumeration_section">20.4.2.5.2 </span>Index Maintenance with Direct-Path INSERT
                        </h6>
                        <div>
                           <p>Oracle Database performs index maintenance at the end of direct-path <code class="codeph">INSERT</code> operations on tables (partitioned or nonpartitioned) that have indexes.
                           </p>
                           <p>This index maintenance is performed by the parallel execution servers for parallel direct-path <code class="codeph">INSERT</code> or by the single process for serial direct-path <code class="codeph">INSERT</code>. You can avoid the performance impact of index maintenance by making the index unusable before the <code class="codeph">INSERT</code> operation and then rebuilding it afterward.
                           </p>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-E7C4E948-9BF7-47BB-874C-F0BD525DD3AF__GUID-522B2276-102E-488B-BA67-F300F4EC93C2">
                              <p class="notep1">See Also:</p>
                              <p><span class="q">"<a href="managing-indexes.html#GUID-A7A6C478-78CC-4A49-B2DB-A7F46BD57692" title="When you make an index unusable, it is ignored by the optimizer and is not maintained by DML. When you make one partition of a partitioned index unusable, the other partitions of the index remain valid.">Making an Index Unusable</a>"</span></p>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-C23CE17E-5F49-4F32-8EF3-5E3B00EAF81A">Additional Considerations for Direct-Path INSERT</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="ADMIN11654"></a><div class="props_rev_3"><a id="GUID-251E9E51-9381-4097-8256-0B6D2D37ACE8" name="GUID-251E9E51-9381-4097-8256-0B6D2D37ACE8"></a><h6 id="ADMIN-GUID-251E9E51-9381-4097-8256-0B6D2D37ACE8" class="sect6"><span class="enumeration_section">20.4.2.5.3 </span>Space Considerations with Direct-Path INSERT
                        </h6>
                        <div>
                           <p>Direct-path <code class="codeph">INSERT</code> requires more space than conventional path <code class="codeph">INSERT</code>. 
                           </p>
                           <p>All serial direct-path <code class="codeph">INSERT</code> operations, as well as parallel direct-path <code class="codeph">INSERT</code> into partitioned tables, insert data above the high-water mark of the affected segment. This requires some additional space.
                           </p>
                           <p>Parallel direct-path <code class="codeph">INSERT</code> into nonpartitioned tables requires even more space, because it creates a temporary segment for each degree of parallelism. If the nonpartitioned table is not in a locally managed tablespace in automatic segment-space management mode, you can modify the values of the <code class="codeph">NEXT</code> and <code class="codeph">PCTINCREASE</code> storage parameter and<code class="codeph"> MINIMUM</code> <code class="codeph">EXTENT</code> tablespace parameter to provide sufficient (but not excess) storage for the temporary segments. Choose values for these parameters so that:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The size of each extent is not too small (no less than 1 MB). This setting affects the total number of extents in the object.</p>
                              </li>
                              <li>
                                 <p>The size of each extent is not so large that the parallel <code class="codeph">INSERT</code> results in wasted space on segments that are larger than necessary.
                                 </p>
                              </li>
                           </ul>
                           <p>After the direct-path <code class="codeph">INSERT</code> operation is complete, you can reset these parameters to settings more appropriate for serial operations.
                           </p>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-C23CE17E-5F49-4F32-8EF3-5E3B00EAF81A">Additional Considerations for Direct-Path INSERT</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="ADMIN11655"></a><div class="props_rev_3"><a id="GUID-2E573512-51EA-4470-894A-C4BA20593273" name="GUID-2E573512-51EA-4470-894A-C4BA20593273"></a><h6 id="ADMIN-GUID-2E573512-51EA-4470-894A-C4BA20593273" class="sect6"><span class="enumeration_section">20.4.2.5.4 </span>Locking Considerations with Direct-Path INSERT
                        </h6>
                        <div>
                           <p>During direct-path <code class="codeph">INSERT</code>, the database obtains exclusive locks on the table (or on all partitions of a partitioned table).
                           </p>
                           <p>As a result, users cannot perform any concurrent insert, update, or delete operations on the table, and concurrent index creation and build operations are not permitted. Concurrent queries, however, are supported, but the query will return only the information before the insert operation. </p>
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-C23CE17E-5F49-4F32-8EF3-5E3B00EAF81A">Additional Considerations for Direct-Path INSERT</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div>
               </div><a id="ADMIN13494"></a><div class="props_rev_3"><a id="GUID-9B894C55-5D79-4AA9-95DE-C216D6C417E8" name="GUID-9B894C55-5D79-4AA9-95DE-C216D6C417E8"></a><h4 id="ADMIN-GUID-9B894C55-5D79-4AA9-95DE-C216D6C417E8" class="sect4"><span class="enumeration_section">20.4.3 </span>Using Conventional Inserts to Load Tables
                  </h4>
                  <div>
                     <p>During <span class="bold">conventional INSERT operations</span>, the database reuses free space in the table, interleaving newly inserted data with existing data. During such operations, the database also maintains referential integrity constraints. Unlike direct-path <code class="codeph">INSERT</code> operations, conventional <code class="codeph">INSERT</code> operations do not require an exclusive lock on the table.
                     </p>
                     <div class="section">
                        <p>Several other restrictions apply to direct-path <code class="codeph">INSERT</code> operations that do not apply to conventional <code class="codeph">INSERT</code> operations. See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=SQLRF55049" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about these restrictions.
                        </p>
                        <p>You can perform a conventional <code class="codeph">INSERT</code> operation in serial mode or in parallel mode using the <code class="codeph">NOAPPEND</code> hint.
                        </p>
                        <p>The following is an example of using the <code class="codeph">NOAPPEND</code> hint to perform a conventional <code class="codeph">INSERT</code> in serial mode:
                        </p><pre class="oac_no_warn" dir="ltr">INSERT /*+ NOAPPEND */ INTO sales_hist SELECT * FROM sales WHERE cust_id=8890;
</pre><p>The following is an example of using the <code class="codeph">NOAPPEND</code> hint to perform a conventional <code class="codeph">INSERT</code> in parallel mode:
                        </p><pre class="oac_no_warn" dir="ltr">INSERT /*+ NOAPPEND PARALLEL */ INTO sales_hist
   SELECT * FROM sales;
</pre><p>To run in parallel DML mode, the following requirements must be met:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>You must have Oracle Enterprise Edition installed.</p>
                           </li>
                           <li>
                              <p>You must enable parallel DML in your session. To do this, submit the following statement:</p><pre class="oac_no_warn" dir="ltr">ALTER SESSION { ENABLE | FORCE } PARALLEL DML;
</pre></li>
                           <li>
                              <p>You must meet at least one of the following requirements:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Specify the parallel attribute for the target table, either at create time or subsequently</p>
                                 </li>
                                 <li>
                                    <p>Specify the <code class="codeph">PARALLEL</code> hint for each insert operation
                                    </p>
                                 </li>
                                 <li>
                                    <p>Set the database initialization parameter <code class="codeph">PARALLEL_DEGREE_POLICY</code> to <code class="codeph">AUTO</code></p>
                                 </li>
                              </ul>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-7B5676FC-59B4-418F-826B-8F4D7E3690E2" title="There are several techniques for loading data into tables.">Loading Tables</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-36DB026B-4702-477A-92C4-EA2795D2B37F" name="GUID-36DB026B-4702-477A-92C4-EA2795D2B37F"></a><h4 id="ADMIN-GUID-36DB026B-4702-477A-92C4-EA2795D2B37F" class="sect4"><span class="enumeration_section">20.4.4 </span>Avoiding Bulk INSERT Failures with DML Error Logging
                  </h4>
                  <p>You can avoid bulk <code class="codeph">INSERT</code> failures  by using the DML error logging feature.
                  </p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-B71385AD-2D21-42F3-9249-3D6364887746">Inserting Data with DML Error Logging</a><br>When you load a table using an <code class="codeph">INSERT</code> statement with subquery, if an error occurs, the statement is terminated and rolled back in its entirety. This can be wasteful of time and system resources. For such <code class="codeph">INSERT</code> statements, you can avoid this situation by using the DML error logging feature.
                        </li>
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-6377C9FD-1243-451A-8345-D84D187A929E">Error Logging Table Format</a><br>The error logging table has a specific format.
                        </li>
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-4E5F45D4-DA96-48AE-A3DD-7AC5C1C11076">Creating an Error Logging Table</a><br>You can create an error logging table manually, or you can use a PL/SQL package to automatically create one for you.
                        </li>
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-B8C0D6EE-6D5E-4415-90F5-81B310201440">Error Logging Restrictions and Caveats</a><br>Some errors are not logged in error logging tables.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-7B5676FC-59B4-418F-826B-8F4D7E3690E2" title="There are several techniques for loading data into tables.">Loading Tables</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN12632"></a><a id="ADMIN10261"></a><div class="props_rev_3"><a id="GUID-B71385AD-2D21-42F3-9249-3D6364887746" name="GUID-B71385AD-2D21-42F3-9249-3D6364887746"></a><h5 id="ADMIN-GUID-B71385AD-2D21-42F3-9249-3D6364887746" class="sect5"><span class="enumeration_section">20.4.4.1 </span>Inserting Data with DML Error Logging
                     </h5>
                     <div>
                        <p>When you load a table using an <code class="codeph">INSERT</code> statement with subquery, if an error occurs, the statement is terminated and rolled back in its entirety. This can be wasteful of time and system resources. For such <code class="codeph">INSERT</code> statements, you can avoid this situation by using the DML error logging feature.
                        </p>
                        <div class="section">
                           <p>To use DML error logging, you add a statement clause that specifies the name of an error logging table into which the database records errors encountered during DML operations. When you add this error logging clause to the <code class="codeph">INSERT</code> statement, certain types of errors no longer terminate and roll back the statement. Instead, each error is logged and the statement continues. You then take corrective action on the erroneous rows at a later time.
                           </p>
                           <p>DML error logging works with <code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code>, <code class="codeph">MERGE</code>, and <code class="codeph">DELETE</code> statements. This section focuses on <code class="codeph">INSERT</code> statements.
                           </p>
                           <p>To insert data with DML error logging:</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>Create an error logging table. (Optional)</span><div>
                                 <p>You can create the table manually or use the <code class="codeph">DBMS_ERRLOG</code> package to automatically create it for you. See <span class="q">"<a href="managing-tables.html#GUID-4E5F45D4-DA96-48AE-A3DD-7AC5C1C11076" title="You can create an error logging table manually, or you can use a PL/SQL package to automatically create one for you.">Creating an Error Logging Table</a>"</span> for details.
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Execute an <code class="codeph">INSERT</code> statement and include an error logging clause. This clause:</span><div>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>Optionally references the error logging table that you created. If you do not provide an error logging table name, the database logs to an error logging table with a default name. The default error logging table name is <code class="codeph">ERR$_</code> followed by the first 25 characters of the name of the table that is being inserted into.
                                       </p>
                                    </li>
                                    <li>
                                       <p>Optionally includes a <span class="bold">tag</span> (a numeric or string literal in parentheses) that gets added to the error log to help identify the statement that caused the errors. If the tag is omitted, a <code class="codeph">NULL</code> value is used.
                                       </p>
                                    </li>
                                    <li>
                                       <p>Optionally includes a <code class="codeph">REJECT LIMIT</code> subclause.
                                       </p>
                                       <p>This subclause indicates the maximum number of errors that can be encountered before the <code class="codeph">INSERT</code> statement terminates and rolls back. You can also specify <code class="codeph">UNLIMITED</code>. The default reject limit is zero, which means that upon encountering the first error, the error is logged and the statement rolls back. For parallel DML operations, the reject limit is applied to each parallel execution server.
                                       </p>
                                    </li>
                                 </ul>
                                 <div class="infoboxnote" id="GUID-B71385AD-2D21-42F3-9249-3D6364887746__GUID-96A6F051-18E5-4B50-9883-043665D24BF6">
                                    <p class="notep1">Note:</p>
                                    <p>If the statement exceeds the reject limit and rolls back, the error logging table retains the log entries recorded so far.</p>
                                 </div>
                                 <p>See <a href="../sqlrf/INSERT.html#SQLRF55061" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for error logging clause syntax information.
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Query the error logging table and take corrective action for the rows that generated errors.</span><div>
                                 <p>See <span class="q">"<a href="managing-tables.html#GUID-6377C9FD-1243-451A-8345-D84D187A929E" title="The error logging table has a specific format.">Error Logging Table Format</a>"</span>, later in this section, for details on the error logging table structure.
                                 </p>
                              </div>
                           </li>
                        </ol>
                        <div class="example" id="GUID-B71385AD-2D21-42F3-9249-3D6364887746__GUID-F50D13D3-C365-4AA2-8113-282AFE79F4BE">
                           <p class="titleinexample">Example 20-9 Inserting Data with DML Error Logging</p>
                           <p>The following statement inserts rows into the <code class="codeph">DW_EMPL</code> table and logs errors to the <code class="codeph">ERR_EMPL</code> table. The tag '<code class="codeph">daily_load</code>' is copied to each log entry. The statement terminates and rolls back if the number of errors exceeds 25.
                           </p><pre class="oac_no_warn" dir="ltr">INSERT INTO dw_empl
  SELECT employee_id, first_name, last_name, hire_date, salary, department_id 
  FROM employees
  WHERE hire_date &gt; sysdate - 7
  LOG ERRORS INTO err_empl ('daily_load') REJECT LIMIT 25
</pre><p>For more examples, see <a href="../sqlrf/INSERT.html#SQLRF55104" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> and <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=DWHSG8337" target="_blank"><span class="italic">Oracle Database Data Warehousing Guide</span></a>.
                           </p>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-36DB026B-4702-477A-92C4-EA2795D2B37F" title="You can avoid bulk INSERT failures by using the DML error logging feature.">Avoiding Bulk INSERT Failures with DML Error Logging</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN13064"></a><a id="ADMIN13065"></a><a id="ADMIN11636"></a><div class="props_rev_3"><a id="GUID-6377C9FD-1243-451A-8345-D84D187A929E" name="GUID-6377C9FD-1243-451A-8345-D84D187A929E"></a><h5 id="ADMIN-GUID-6377C9FD-1243-451A-8345-D84D187A929E" class="sect5"><span class="enumeration_section">20.4.4.2 </span>Error Logging Table Format
                     </h5>
                     <div>
                        <p>The error logging table has a specific format.</p>
                        <p>The error logging table consists of two parts:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>A mandatory set of columns that describe the error. For example, one column contains the Oracle error number.</p>
                              <p><a href="managing-tables.html#GUID-6377C9FD-1243-451A-8345-D84D187A929E__CJABHICH" title="This table contains 5 rows, one for each of the mandatory error description columns in the error logging table. Each column name is listed with its data type and a description. The columns are Oracle error number, error message text, row ID, type of operation that caused the error, and the user-defined tag from the log errors clause.">Table 20-4</a> lists these error description columns.
                              </p>
                           </li>
                           <li>
                              <p>An optional set of columns that contain data from the row that caused the error. The column names match the column names from the table being inserted into (the "DML table").</p>
                              <p>The number of columns in this part of the error logging table can be zero, one, or more, up to the number of columns in the DML table. If a column exists in the error logging table that has the same name as a column in the DML table, the corresponding data from the offending row being inserted is written to this error logging table column. If a DML table column does not have a corresponding column in the error logging table, the column is not logged. If the error logging table contains a column with a name that does not match a DML table column, the column is ignored.</p>
                              <p>Because type conversion errors are one type of error that might occur, the data types of the optional columns in the error logging table must be types that can capture any value without data loss or conversion errors. (If the optional log columns were of the same types as the DML table columns, capturing the problematic data into the log could suffer the same data conversion problem that caused the error.) The database makes a best effort to log a meaningful value for data that causes conversion errors. If a value cannot be derived, <code class="codeph">NULL</code> is logged for the column. An error on insertion into the error logging table causes the statement to terminate.
                              </p>
                              <p><a href="managing-tables.html#GUID-6377C9FD-1243-451A-8345-D84D187A929E__CJADIFDC" title="This table contains 7 rows, where each row lists a data type from the DML table and the corresponding data type in the error logging table. For example, the data types of NUMBER, DATE, and all character types get a corresponding error log data type of VARCHAR2 or NVARCHAR2.">Table 20-5</a> lists the recommended error logging table column data types to use for each data type from the DML table. These recommended data types are used when you create the error logging table automatically with the <code class="codeph">DBMS_ERRLOG</code> package.
                              </p>
                           </li>
                        </ul>
                        <div class="tblformalwide" id="GUID-6377C9FD-1243-451A-8345-D84D187A929E__CJABHICH">
                           <p class="titleintable">Table 20-4 Mandatory Error Description Columns</p>
                           <table cellpadding="4" cellspacing="0" class="FormalWide" title="Mandatory Error Description Columns" summary="This table contains 5 rows, one for each of the mandatory error description columns in the error logging table. Each column name is listed with its data type and a description. The columns are Oracle error number, error message text, row ID, type of operation that caused the error, and the user-defined tag from the log errors clause." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d192334e8175">Column Name</th>
                                    <th align="left" valign="bottom" id="d192334e8178">Data Type</th>
                                    <th align="left" valign="bottom" id="d192334e8181">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d192334e8186" headers="d192334e8175 ">
                                       <p><code class="codeph">ORA_ERR_NUMBER$</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d192334e8186 d192334e8178 ">
                                       <p><code class="codeph">NUMBER</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d192334e8186 d192334e8181 ">
                                       <p>Oracle error number</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d192334e8198" headers="d192334e8175 ">
                                       <p><code class="codeph">ORA_ERR_MESG$</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d192334e8198 d192334e8178 ">
                                       <p><code class="codeph">VARCHAR2(2000)</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d192334e8198 d192334e8181 ">
                                       <p>Oracle error message text</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d192334e8210" headers="d192334e8175 ">
                                       <p><code class="codeph">ORA_ERR_ROWID$</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d192334e8210 d192334e8178 ">
                                       <p><code class="codeph">ROWID</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d192334e8210 d192334e8181 ">
                                       <p>Rowid of the row in error (for update and delete)</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d192334e8222" headers="d192334e8175 ">
                                       <p><code class="codeph">ORA_ERR_OPTYP$</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d192334e8222 d192334e8178 ">
                                       <p><code class="codeph">VARCHAR2(2)</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d192334e8222 d192334e8181 ">
                                       <p>Type of operation: insert (<code class="codeph">I</code>), update (<code class="codeph">U</code>), delete (<code class="codeph">D</code>)
                                       </p>
                                       <p>Note: Errors from the update clause and insert clause of a <code class="codeph">MERGE</code> operation are distinguished by the <code class="codeph">U</code> and <code class="codeph">I</code> values.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d192334e8254" headers="d192334e8175 ">
                                       <p><code class="codeph">ORA_ERR_TAG$</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d192334e8254 d192334e8178 ">
                                       <p><code class="codeph">VARCHAR2(2000)</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d192334e8254 d192334e8181 ">
                                       <p>Value of the tag supplied by the user in the error logging clause</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <div class="tblformalwide" id="GUID-6377C9FD-1243-451A-8345-D84D187A929E__CJADIFDC">
                           <p class="titleintable">Table 20-5 Error Logging Table Column Data Types</p>
                           <table cellpadding="4" cellspacing="0" class="FormalWide" title="Error Logging Table Column Data Types" summary="This table contains 7 rows, where each row lists a data type from the DML table and the corresponding data type in the error logging table. For example, the data types of NUMBER, DATE, and all character types get a corresponding error log data type of VARCHAR2 or NVARCHAR2." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d192334e8276">DML Table Column Type</th>
                                    <th align="left" valign="bottom" id="d192334e8279">Error Logging Table Column Type</th>
                                    <th align="left" valign="bottom" id="d192334e8282">Notes</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d192334e8287" headers="d192334e8276 ">
                                       <p><code class="codeph">NUMBER</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d192334e8287 d192334e8279 ">
                                       <p><code class="codeph">VARCHAR2(4000)</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d192334e8287 d192334e8282 ">
                                       <p>Able to log conversion errors</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d192334e8299" headers="d192334e8276 ">
                                       <p><code class="codeph">CHAR/VARCHAR2(n)</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d192334e8299 d192334e8279 ">
                                       <p><code class="codeph">VARCHAR2(4000)</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d192334e8299 d192334e8282 ">
                                       <p>Logs any value without information loss</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d192334e8311" headers="d192334e8276 ">
                                       <p><code class="codeph">NCHAR/NVARCHAR2(n)</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d192334e8311 d192334e8279 ">
                                       <p><code class="codeph">NVARCHAR2(4000)</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d192334e8311 d192334e8282 ">
                                       <p>Logs any value without information loss</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d192334e8323" headers="d192334e8276 ">
                                       <p><code class="codeph">DATE/TIMESTAMP</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d192334e8323 d192334e8279 ">
                                       <p><code class="codeph">VARCHAR2(4000)</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d192334e8323 d192334e8282 ">
                                       <p>Logs any value without information loss. Converts to character format with the default date/time format mask</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d192334e8335" headers="d192334e8276 ">
                                       <p><code class="codeph">RAW</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d192334e8335 d192334e8279 ">
                                       <p><code class="codeph">RAW(2000)</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d192334e8335 d192334e8282 ">
                                       <p>Logs any value without information loss</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d192334e8347" headers="d192334e8276 ">
                                       <p><code class="codeph">ROWID</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d192334e8347 d192334e8279 ">
                                       <p><code class="codeph">UROWID</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d192334e8347 d192334e8282 ">
                                       <p>Logs any rowid type</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d192334e8359" headers="d192334e8276 ">
                                       <p><code class="codeph">LONG/LOB</code></p>
                                    </td>
                                    <td align="left" valign="top" headers="d192334e8359 d192334e8279 ">
                                       <p></p>
                                    </td>
                                    <td align="left" valign="top" headers="d192334e8359 d192334e8282 ">
                                       <p>Not supported</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d192334e8369" headers="d192334e8276 ">
                                       <p>User-defined types</p>
                                    </td>
                                    <td align="left" valign="top" headers="d192334e8369 d192334e8279 ">
                                       <p></p>
                                    </td>
                                    <td align="left" valign="top" headers="d192334e8369 d192334e8282 ">
                                       <p>Not supported</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-36DB026B-4702-477A-92C4-EA2795D2B37F" title="You can avoid bulk INSERT failures by using the DML error logging feature.">Avoiding Bulk INSERT Failures with DML Error Logging</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11637"></a><div class="props_rev_3"><a id="GUID-4E5F45D4-DA96-48AE-A3DD-7AC5C1C11076" name="GUID-4E5F45D4-DA96-48AE-A3DD-7AC5C1C11076"></a><h5 id="ADMIN-GUID-4E5F45D4-DA96-48AE-A3DD-7AC5C1C11076" class="sect5"><span class="enumeration_section">20.4.4.3 </span>Creating an Error Logging Table
                     </h5>
                     <p>You can create an error logging table manually, or you can use a PL/SQL package to automatically create one for you.</p>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="managing-tables.html#GUID-4507BD65-0B16-49C2-935B-9F8292340FE1">Creating an Error Logging Table Automatically</a><br>You use the <code class="codeph">DBMS_ERRLOG</code> package to automatically create an error logging table.
                           </li>
                           <li class="ulchildlink"><a href="managing-tables.html#GUID-CB420DE8-506F-4D08-B876-C5806B75B9D5">Creating an Error Logging Table Manually</a><br>You use standard DDL to manually create the error logging table.
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-36DB026B-4702-477A-92C4-EA2795D2B37F" title="You can avoid bulk INSERT failures by using the DML error logging feature.">Avoiding Bulk INSERT Failures with DML Error Logging</a></p>
                           </div>
                        </div>
                     </div>
                     <a id="ADMIN11638"></a><div class="props_rev_3"><a id="GUID-4507BD65-0B16-49C2-935B-9F8292340FE1" name="GUID-4507BD65-0B16-49C2-935B-9F8292340FE1"></a><h6 id="ADMIN-GUID-4507BD65-0B16-49C2-935B-9F8292340FE1" class="sect6"><span class="enumeration_section">20.4.4.3.1 </span>Creating an Error Logging Table Automatically
                        </h6>
                        <div>
                           <p>You use the <code class="codeph">DBMS_ERRLOG</code> package to automatically create an error logging table.
                           </p>
                           <div class="section">
                              <p>The <code class="codeph">CREATE_ERROR_LOG</code> procedure creates an error logging table with all of the mandatory error description columns plus all of the columns from the named DML table, and performs the data type mappings shown in <a href="managing-tables.html#GUID-6377C9FD-1243-451A-8345-D84D187A929E__CJADIFDC" title="This table contains 7 rows, where each row lists a data type from the DML table and the corresponding data type in the error logging table. For example, the data types of NUMBER, DATE, and all character types get a corresponding error log data type of VARCHAR2 or NVARCHAR2.">Table 20-5</a>.
                              </p>
                              <p>The following statement creates the error logging table used in the previous example.</p><pre class="oac_no_warn" dir="ltr">EXECUTE DBMS_ERRLOG.CREATE_ERROR_LOG('DW_EMPL', 'ERR_EMPL');
</pre><p>See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=ARPLS680" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for details on <code class="codeph">DBMS_ERRLOG</code>.
                              </p>
                           </div>
                           <!-- class="section" -->
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-4E5F45D4-DA96-48AE-A3DD-7AC5C1C11076" title="You can create an error logging table manually, or you can use a PL/SQL package to automatically create one for you.">Creating an Error Logging Table</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="ADMIN11639"></a><div class="props_rev_3"><a id="GUID-CB420DE8-506F-4D08-B876-C5806B75B9D5" name="GUID-CB420DE8-506F-4D08-B876-C5806B75B9D5"></a><h6 id="ADMIN-GUID-CB420DE8-506F-4D08-B876-C5806B75B9D5" class="sect6"><span class="enumeration_section">20.4.4.3.2 </span>Creating an Error Logging Table Manually
                        </h6>
                        <div>
                           <p>You use standard DDL to manually create the error logging table.</p>
                           <div class="section">
                              <p>See <span class="q">"<a href="managing-tables.html#GUID-6377C9FD-1243-451A-8345-D84D187A929E" title="The error logging table has a specific format.">Error Logging Table Format</a>"</span> for table structure requirements. You must include all mandatory error description columns. They can be in any order, but must be the first columns in the table.
                              </p>
                           </div>
                           <!-- class="section" -->
                        </div>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-4E5F45D4-DA96-48AE-A3DD-7AC5C1C11076" title="You can create an error logging table manually, or you can use a PL/SQL package to automatically create one for you.">Creating an Error Logging Table</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div><a id="ADMIN11640"></a><div class="props_rev_3"><a id="GUID-B8C0D6EE-6D5E-4415-90F5-81B310201440" name="GUID-B8C0D6EE-6D5E-4415-90F5-81B310201440"></a><h5 id="ADMIN-GUID-B8C0D6EE-6D5E-4415-90F5-81B310201440" class="sect5"><span class="enumeration_section">20.4.4.4 </span>Error Logging Restrictions and Caveats
                     </h5>
                     <div>
                        <p>Some errors are not logged in error logging tables.</p>
                        <p>Oracle Database logs the following errors during DML operations:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Column values that are too large</p>
                           </li>
                           <li>
                              <p>Constraint violations (<code class="codeph">NOT</code> <code class="codeph">NULL</code>, unique, referential, and check constraints) 
                              </p>
                           </li>
                           <li>
                              <p>Errors raised during trigger execution</p>
                           </li>
                           <li>
                              <p>Errors resulting from type conversion between a column in a subquery and the corresponding column of the table</p>
                           </li>
                           <li>
                              <p>Partition mapping errors</p>
                           </li>
                           <li>
                              <p>Certain <code class="codeph">MERGE</code> operation errors (<code class="codeph">ORA-30926</code>: Unable to get a stable set of rows for <code class="codeph">MERGE</code> operation.)
                              </p>
                           </li>
                        </ul>
                        <p>Some errors are not logged, and cause the DML operation to terminate and roll back. For a list of these errors and for other DML logging restrictions, see the discussion of the <code class="codeph">error_logging_clause</code> in the <code class="codeph">INSERT</code> section of <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=SQLRF55101" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a>.
                        </p>
                     </div>
                     <div>
                        <ul class="ullinks">
                           <li class="ulchildlink"><a href="managing-tables.html#GUID-A7CDC31E-263D-4D61-874C-14480FA053BB">Space Considerations</a><br>Ensure that you consider space requirements before using DML error logging. You require available space not only for the table being inserted into, but also for the error logging table.
                           </li>
                           <li class="ulchildlink"><a href="managing-tables.html#GUID-79D1A415-105D-4058-8EDD-E1E757AD8986">Security</a><br>The user who issues the <code class="codeph">INSERT</code> statement with DML error logging must have <code class="codeph">INSERT</code> privileges on the error logging table.
                           </li>
                        </ul>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-36DB026B-4702-477A-92C4-EA2795D2B37F" title="You can avoid bulk INSERT failures by using the DML error logging feature.">Avoiding Bulk INSERT Failures with DML Error Logging</a></p>
                           </div>
                        </div>
                     </div>
                     <a id="ADMIN11641"></a><div class="props_rev_3"><a id="GUID-A7CDC31E-263D-4D61-874C-14480FA053BB" name="GUID-A7CDC31E-263D-4D61-874C-14480FA053BB"></a><h6 id="ADMIN-GUID-A7CDC31E-263D-4D61-874C-14480FA053BB" class="sect6"><span class="enumeration_section">20.4.4.4.1 </span>Space Considerations
                        </h6>
                        <p>Ensure that you consider space requirements before using DML error logging. You require available space not only for the table being inserted into, but also for the error logging table.</p>
                        <div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-B8C0D6EE-6D5E-4415-90F5-81B310201440" title="Some errors are not logged in error logging tables.">Error Logging Restrictions and Caveats</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div><a id="ADMIN11642"></a><div class="props_rev_3"><a id="GUID-79D1A415-105D-4058-8EDD-E1E757AD8986" name="GUID-79D1A415-105D-4058-8EDD-E1E757AD8986"></a><h6 id="ADMIN-GUID-79D1A415-105D-4058-8EDD-E1E757AD8986" class="sect6"><span class="enumeration_section">20.4.4.4.2 </span>Security
                        </h6>
                        <div>
                           <p>The user who issues the <code class="codeph">INSERT</code> statement with DML error logging must have <code class="codeph">INSERT</code> privileges on the error logging table.
                           </p>
                        </div>
                        <div>
                           <div class="infoboxnotealso" id="GUID-79D1A415-105D-4058-8EDD-E1E757AD8986__GUID-EA76A20C-AAF9-4D5E-8B48-69F8AAF4449D">
                              <p class="notep1">See Also:</p>
                              <p> <a href="../sqlrf/INSERT.html#SQLRF55101" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> and <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=DWHSG8337" target="_blank"><span class="italic">Oracle Database Data Warehousing Guide</span></a> for DML error logging examples.
                              </p>
                           </div>
                           <div class="familylinks">
                              <div class="parentlink">
                                 <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-B8C0D6EE-6D5E-4415-90F5-81B310201440" title="Some errors are not logged in error logging tables.">Error Logging Restrictions and Caveats</a></p>
                              </div>
                           </div>
                        </div>
                        
                     </div>
                  </div>
               </div>
            </div>
            <div class="sect2"><a id="GUID-43794F5A-1B13-4E97-B4DD-31AEB9633E9A" name="GUID-43794F5A-1B13-4E97-B4DD-31AEB9633E9A"></a><h3 id="ADMIN-GUID-43794F5A-1B13-4E97-B4DD-31AEB9633E9A" class="sect3"><span class="enumeration_section">20.5 </span>Optimizing the Performance of Bulk Updates
               </h3>
               <div>
                  <p>The <code class="codeph">EXECUTE_UPDATE</code> procedure in the <code class="codeph">DBMS_REDEFINITION</code> package can optimize the performance of bulk updates to a table. Performance is optimized because the updates are not logged in the redo log.
                  </p>
                  <div class="section">
                     <p>The <code class="codeph">EXECUTE_UPDATE</code> procedure automatically uses the components of online table redefinition, such an interim table, a materialized view, and a materialized view log, to enable optimized bulk updates to a table. The <code class="codeph">EXECUTE_UPDATE</code> procedure also removes fragmentation of the affected rows and ensures that the update is atomic. If the bulk updates raise any errors, then you can use the <code class="codeph">ABORT_UPDATE</code> procedure to undo the changes made by the <code class="codeph">EXECUTE_UPDATE</code> procedure.
                     </p>
                     <p></p>
                     <p>The following restrictions apply to the <code class="codeph">EXECUTE_UPDATE</code> procedure:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>All of the restrictions that apply to online table redefinition apply to the <code class="codeph">EXECUTE_UPDATE</code> procedure and the <code class="codeph">ABORT_UPDATE</code> procedure.
                           </p>
                        </li>
                        <li>
                           <p>You cannot run more than one <code class="codeph">EXECUTE_UPDATE</code> procedure on a table at the same time.
                           </p>
                        </li>
                        <li>
                           <p>While the <code class="codeph">EXECUTE_UPDATE</code> procedure is running on a table, do not make DML changes on the table from a different session. These DML changes are lost when the <code class="codeph">EXECUTE_UPDATE</code> procedure completes.
                           </p>
                        </li>
                        <li>
                           <p>The table cannot have any triggers that fire on <code class="codeph">UPDATE</code> statements.
                           </p>
                        </li>
                        <li>
                           <p>The <code class="codeph">UPDATE</code> statement passed to the <code class="codeph">EXECUTE_UPDATE</code> procedure cannot have a table with a partition-extended name.
                           </p>
                        </li>
                        <li>
                           <p>The table cannot have the following user-defined types: varrays, REFs, and nested tables.</p>
                        </li>
                        <li>
                           <p>The table cannot have the following Oracle-supplied types: <code class="codeph">ANYTYPE</code>, <code class="codeph">ANYDATASET</code>, URI types, <code class="codeph">SDO_TOPO_GEOMETRY</code>, <code class="codeph">SDO_GEORASTER</code>, and <code class="codeph">Expression</code>.
                           </p>
                        </li>
                        <li>
                           <p>The table cannot have the following types of columns: hidden column, virtual column, unused column, pseudocolumns, or identity column.</p>
                        </li>
                        <li>
                           <p>The table cannot be an object table.</p>
                        </li>
                        <li>
                           <p>The table cannot have a Virtual Private Database (VPD) policy.</p>
                        </li>
                        <li>
                           <p>The table cannot have check constraints.</p>
                        </li>
                        <li>
                           <p>The table cannot be enabled for row archival.</p>
                        </li>
                     </ul>
                     <p>To optimize the performance of bulk updates:</p>
                  </div>
                  <!-- class="section" -->
                  <ol>
                     <li class="stepexpand"><span>In SQL*Plus, connect as a user with the required privileges for performing online redefinition of a table.</span><div>Specifically, the user must have the privileges described in <span class="q">"<a href="managing-tables.html#GUID-0191D286-24D5-4E2A-817B-99FAAB96D4B3" title="Execute privileges on the DBMS_REDEFINITION package are required to run subprograms in the package. Execute privileges on the DBMS_REDEFINITION package are granted to EXECUTE_CATALOG_ROLE.">Privileges Required for the DBMS_REDEFINITION Package</a>"</span>.
                        </div>
                     </li>
                     <li class="stepexpand"><span>Run the <code class="codeph">EXECUTE_UPDATE</code> procedure, and specify the SQL statement that performs the bulk update.</span><div>If errors result, then use the <code class="codeph">ABORT_UPDATE</code> procedure to undo the changes made by the <code class="codeph">EXECUTE_UPDATE</code> procedure.
                        </div>
                     </li>
                     <li class="stepexpand"><span>Perform a back up of the updated data.</span><div>Because the <code class="codeph">EXECUTE_UPDATE</code> procedure does not log changes in the redo log, recovery is not possible until you perform a back up of the database or of the tablespace that contains the updated table.
                        </div>
                     </li>
                  </ol>
                  <div class="example" id="GUID-43794F5A-1B13-4E97-B4DD-31AEB9633E9A__GUID-B15BB319-4D40-42AC-941D-CC283B213446">
                     <p class="titleinexample">Example 20-10 Performing an Optimized Bulk Update of Product Data</p>
                     <p>This example performs a bulk update on the <code class="codeph">oe.order_items</code> table. Specifically, it sets the <code class="codeph">unit_price</code> of each order item with a <code class="codeph">product_id</code> of <code class="codeph">3106</code> to <code class="codeph">45</code>. If the bulk update fails, then the <code class="codeph">ABORT_UPDATE</code> procedure cancels all of the changes performed by the <code class="codeph">EXECUTE_UPDATE</code> procedure, which returns the data to its state before the procedure was run.
                     </p><pre class="pre codeblock"><code>DECLARE
   update_stmt VARCHAR2(300) := 'UPDATE oe.order_items SET unit_price = 45
                                    WHERE product_id = 3106';
BEGIN
   DBMS_REDEFINITION.EXECUTE_UPDATE(update_stmt);
EXCEPTION
  WHEN NO_DATA_FOUND THEN
    DBMS_OUTPUT.PUT_LINE ('No Data found for SELECT');
    DBMS_REDEFINITION.ABORT_UPDATE(update_stmt);
  WHEN OTHERS THEN
    DBMS_OUTPUT.PUT_LINE ('Reason for failure is'|| SQLERRM);
       IF (SQLCODE = 100)
       THEN
          DBMS_REDEFINITION.ABORT_UPDATE(update_stmt);
       END IF;
END;
/</code></pre></div>
                  <!-- class="example" -->
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-707B02F5-E589-4C20-8E2E-5ED4F7888702" title="Managing tables includes tasks such as creating tables, loading tables, altering tables, and dropping tables.">Managing Tables</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADMIN11656"></a><div class="props_rev_3"><a id="GUID-7BFAA5E3-1509-4691-BBED-35F863F7D09F" name="GUID-7BFAA5E3-1509-4691-BBED-35F863F7D09F"></a><h3 id="ADMIN-GUID-7BFAA5E3-1509-4691-BBED-35F863F7D09F" class="sect3"><span class="enumeration_section">20.6 </span>Automatically Collecting Statistics on Tables
               </h3>
               <div>
                  <p>The PL/SQL package <code class="codeph">DBMS_STATS</code> lets you generate and manage statistics for cost-based optimization. You can use this package to gather, modify, view, export, import, and delete statistics. You can also use this package to identify or name statistics that have been gathered. 
                  </p>
                  <div class="section">
                     <p>Formerly, you enabled <code class="codeph">DBMS_STATS</code> to automatically gather statistics for a table by specifying the <code class="codeph">MONITORING</code> keyword in the <code class="codeph">CREATE</code> (or <code class="codeph">ALTER</code>) <code class="codeph">TABLE</code> statement. The <code class="codeph">MONITORING</code> and <code class="codeph">NOMONITORING</code> keywords have been deprecated and statistics are collected automatically. If you do specify these keywords, they are ignored.
                     </p>
                     <p>Monitoring tracks the approximate number of <code class="codeph">INSERT</code>, <code class="codeph">UPDATE</code>, and <code class="codeph">DELETE</code> operations for the table since the last time statistics were gathered. Information about how many rows are affected is maintained in the SGA, until periodically (about every three hours) SMON incorporates the data into the data dictionary. This data dictionary information is made visible through the <code class="codeph">DBA_TAB_MODIFICATIONS,ALL_TAB_MODIFICATIONS</code>, or <code class="codeph">USER_TAB_MODIFICATIONS</code> views. The database uses these views to identify tables with stale statistics.
                     </p>
                     <p>The default for the <code class="codeph">STATISTICS_LEVEL</code> initialization parameter is <code class="codeph">TYPICAL</code>, which enables automatic statistics collection. Automatic statistics collection and the <code class="codeph">DBMS_STATS</code> package enable the optimizer to generate accurate execution plans. Setting the <code class="codeph">STATISTICS_LEVEL</code> initialization parameter to <code class="codeph">BASIC</code> disables the collection of many of the important statistics required by Oracle Database features and functionality. To disable monitoring of all tables, set the <code class="codeph">STATISTICS_LEVEL</code> initialization parameter to <code class="codeph">BASIC</code>. Automatic statistics collection and the <code class="codeph">DBMS_STATS</code> package enable the optimizer to generate accurate execution plans.
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-7BFAA5E3-1509-4691-BBED-35F863F7D09F__GUID-D99038F8-A18A-4091-A841-6E04E2E93132">
                     <p class="notep1">See Also:</p>
                     <p></p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN10214" target="_blank"><span class="italic">Oracle Database Reference</span></a> for detailed information on the <code class="codeph">STATISTICS_LEVEL</code> initialization parameter
                           </p>
                        </li>
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=TGSQL389" target="_blank"><span class="italic">Oracle Database SQL Tuning Guide</span></a> for information on managing optimizer statistics
                           </p>
                        </li>
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=ARPLS059" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for information about using the <code class="codeph">DBMS_STATS</code> package
                           </p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="managing-automated-database-maintenance-tasks.html#GUID-3810CCA3-4F23-4886-AB56-AE9408725502" title="Automated maintenance tasks are tasks that are started automatically at regular intervals to perform maintenance operations on the database. An example is a task that gathers statistics on schema objects for the query optimizer.">About Automated Maintenance Tasks</a>"</span> for information on using the Scheduler to collect statistics automatically
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-707B02F5-E589-4C20-8E2E-5ED4F7888702" title="Managing tables includes tasks such as creating tables, loading tables, altering tables, and dropping tables.">Managing Tables</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADMIN01504"></a><div class="props_rev_3"><a id="GUID-D4AE1CF2-08F7-4AB2-9317-0DE20AC70D44" name="GUID-D4AE1CF2-08F7-4AB2-9317-0DE20AC70D44"></a><h3 id="ADMIN-GUID-D4AE1CF2-08F7-4AB2-9317-0DE20AC70D44" class="sect3"><span class="enumeration_section">20.7 </span>Altering Tables
               </h3>
               <div>
                  <p>You alter a table using the <code class="codeph">ALTER TABLE</code> statement. To alter a table, the table must be contained in your schema, or you must have either the <code class="codeph">ALTER</code> object privilege for the table or the <code class="codeph">ALTER ANY TABLE</code> system privilege.
                  </p>
                  <div class="infoboxnote" id="GUID-D4AE1CF2-08F7-4AB2-9317-0DE20AC70D44__GUID-683DCDCA-A6FA-4CE4-9AC5-CDC0DD626332">
                     <p class="notep1">Note:</p>
                     <p>Before altering a table, familiarize yourself with the consequences of doing so. The <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=SQLRF01001" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> lists many of these consequences in the descriptions of the <code class="codeph">ALTER TABLE</code> clauses.
                     </p>
                     <p>If a view, materialized view, trigger, domain index, function-based index, check constraint, function, procedure of package depends on a base table, the alteration of the base table or its columns can affect the dependent object. See <span class="q">"<a href="managing-schema-objects.html#GUID-46D82F8E-C360-4223-B469-18039B1FFB21" title="Oracle Database provides an automatic mechanism to ensure that a dependent object is always up to date with respect to its referenced objects. You can also manually recompile invalid object.">Managing Object Dependencies</a>"</span> for information about how the database manages dependencies.
                     </p>
                  </div>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-E369C065-BD19-4EC3-8633-1E43D8F4B2C6">Reasons for Using the ALTER TABLE Statement</a><br>There are several reasons to use the <code class="codeph">ALTER TABLE</code> statement.
                     </li>
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-527D1F68-1335-4888-B492-210E82049CED">Altering Physical Attributes of a Table</a><br>There are several considerations when you alter the physical attributes of a table.
                     </li>
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-E84FFA18-5D0D-4012-A7C1-42A50207F48B">Moving a Table to a New Segment or Tablespace</a><br>You can move a table to a new segment or tablespace to enable compression or to perform data maintenance. 
                     </li>
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-3CAE4C1E-BCF6-4F74-BF86-4888E0026FC5">Manually Allocating Storage for a Table</a><br>Oracle Database dynamically allocates additional extents for the data segment of a table, as required. However, perhaps you want to allocate an additional extent for a table explicitly. For example, in an Oracle Real Application Clusters environment, an extent of a table can be allocated explicitly for a specific instance.
                     </li>
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-93BA4E59-A16F-42B3-9EB5-440532F07AEE">Modifying an Existing Column Definition</a><br>Use the <code class="codeph">ALTER TABLE...MODIFY</code> statement to modify an existing column definition. You can modify column data type, default value, column constraint, column expression (for virtual columns), column encryption, and visible/invisible property.
                     </li>
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-3BBC0224-E218-422F-803A-B2FE56906E44">Adding Table Columns</a><br>To add a column to an existing table, use the <code class="codeph">ALTER TABLE...ADD</code> statement.
                     </li>
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-D8835B01-E36C-4C41-A2C8-BA923D294C37">Renaming Table Columns</a><br>Oracle Database lets you rename existing columns in a table. Use the <code class="codeph">RENAME COLUMN</code> clause of the <code class="codeph">ALTER TABLE</code> statement to rename a column.
                     </li>
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-29CA8FDC-55FB-4BEF-AE4A-5D1B4D2BE1E1">Dropping Table Columns</a><br>You can drop columns that are no longer needed from a table, including an index-organized table. This provides a convenient means to free space in a database, and avoids your having to export/import data then re-create indexes and constraints. 
                     </li>
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-E41130FA-C2C6-4CA0-922B-A3281632B65B">Placing a Table in Read-Only Mode</a><br>You can place a table in read-only mode with the <code class="codeph">ALTER</code> <code class="codeph">TABLE</code>...<code class="codeph">READ</code> <code class="codeph">ONLY</code> statement, and return it to read/write mode with the <code class="codeph">ALTER</code> <code class="codeph">TABLE</code>...<code class="codeph">READ</code> <code class="codeph">WRITE</code> statement.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-707B02F5-E589-4C20-8E2E-5ED4F7888702" title="Managing tables includes tasks such as creating tables, loading tables, altering tables, and dropping tables.">Managing Tables</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN11657"></a><div class="props_rev_3"><a id="GUID-E369C065-BD19-4EC3-8633-1E43D8F4B2C6" name="GUID-E369C065-BD19-4EC3-8633-1E43D8F4B2C6"></a><h4 id="ADMIN-GUID-E369C065-BD19-4EC3-8633-1E43D8F4B2C6" class="sect4"><span class="enumeration_section">20.7.1 </span>Reasons for Using the ALTER TABLE Statement
                  </h4>
                  <div>
                     <p>There are several reasons to use the <code class="codeph">ALTER TABLE</code> statement.
                     </p>
                     <p>You can use the <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> statement to perform any of the following actions that affect a table:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Modify physical characteristics (<code class="codeph">INITRANS</code> or storage parameters)
                           </p>
                        </li>
                        <li>
                           <p>Move the table to a new segment or tablespace</p>
                        </li>
                        <li>
                           <p>Explicitly allocate an extent or deallocate unused space</p>
                        </li>
                        <li>
                           <p>Add, drop, or rename columns, or modify an existing column definition (data type, length, default value, <code class="codeph">NOT NULL</code> integrity constraint, column expression (for virtual columns), and encryption properties.)
                           </p>
                        </li>
                        <li>
                           <p>Modify the logging attributes of the table</p>
                        </li>
                        <li>
                           <p>Modify the <code class="codeph">CACHE</code>/<code class="codeph">NOCACHE</code> attributes
                           </p>
                        </li>
                        <li>
                           <p>Add, modify or drop integrity constraints associated with the table</p>
                        </li>
                        <li>
                           <p>Enable or disable integrity constraints or triggers associated with the table</p>
                        </li>
                        <li>
                           <p>Modify the degree of parallelism for the table</p>
                        </li>
                        <li>
                           <p>Rename a table</p>
                        </li>
                        <li>
                           <p>Put a table in read-only mode and return it to read/write mode</p>
                        </li>
                        <li>
                           <p>Add or modify index-organized table characteristics</p>
                        </li>
                        <li>
                           <p>Alter the characteristics of an external table</p>
                        </li>
                        <li>
                           <p>Add or modify <code class="codeph">LOB</code> columns
                           </p>
                        </li>
                        <li>
                           <p>Add or modify object type, nested table, or varray columns </p>
                        </li>
                        <li>
                           <p>Modify table partitions</p>
                           <p>Starting with Oracle Database 12<span class="italic">c</span>, you can perform some operations on more than two partitions or subpartitions at a time, such as split partition and merge partitions operations. See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=VLDBG1118" target="_blank"><span class="italic">Oracle Database VLDB and Partitioning Guide</span></a> for information.
                           </p>
                        </li>
                     </ul>
                     <p>Many of these operations are discussed in succeeding sections.</p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-D4AE1CF2-08F7-4AB2-9317-0DE20AC70D44" title="You alter a table using the ALTER TABLE statement. To alter a table, the table must be contained in your schema, or you must have either the ALTER object privilege for the table or the ALTER ANY TABLE system privilege.">Altering Tables</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11658"></a><div class="props_rev_3"><a id="GUID-527D1F68-1335-4888-B492-210E82049CED" name="GUID-527D1F68-1335-4888-B492-210E82049CED"></a><h4 id="ADMIN-GUID-527D1F68-1335-4888-B492-210E82049CED" class="sect4"><span class="enumeration_section">20.7.2 </span>Altering Physical Attributes of a Table
                  </h4>
                  <div>
                     <p>There are several considerations when you alter the physical attributes of a table.</p>
                     <div class="section">
                        <p>When altering the transaction entry setting <code class="codeph">INITRANS</code> of a table, note that a new setting for <code class="codeph">INITRANS</code> applies only to data blocks subsequently allocated for the table.
                        </p>
                        <p>The storage parameters <code class="codeph">INITIAL</code> and <code class="codeph">MINEXTENTS</code> cannot be altered. All new settings for the other storage parameters (for example, <code class="codeph">NEXT</code>, <code class="codeph">PCTINCREASE</code>) affect only extents subsequently allocated for the table. The size of the next extent allocated is determined by the current values of <code class="codeph">NEXT</code> and <code class="codeph">PCTINCREASE</code>, and is not based on previous values of these parameters.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-527D1F68-1335-4888-B492-210E82049CED__GUID-5DDEE73F-94D5-43AE-9B0E-FC5F5433042E">
                        <p class="notep1">See Also:</p>
                        <p>The discussions of the physical attributes clause and the storage clause in <a href="../sqlrf/Common-SQL-DDL-Clauses.html#SQLRF021" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-D4AE1CF2-08F7-4AB2-9317-0DE20AC70D44" title="You alter a table using the ALTER TABLE statement. To alter a table, the table must be contained in your schema, or you must have either the ALTER object privilege for the table or the ALTER ANY TABLE system privilege.">Altering Tables</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-E84FFA18-5D0D-4012-A7C1-42A50207F48B" name="GUID-E84FFA18-5D0D-4012-A7C1-42A50207F48B"></a><h4 id="ADMIN-GUID-E84FFA18-5D0D-4012-A7C1-42A50207F48B" class="sect4"><span class="enumeration_section">20.7.3 </span>Moving a Table to a New Segment or Tablespace
                  </h4>
                  <p>You can move a table to a new segment or tablespace to enable compression or to perform data maintenance. </p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-3DE67CF4-84C5-4AED-A8A3-B1D28D8EBEF6">About Moving a Table to a New Segment or Tablespace</a><br>The <code class="codeph">ALTER TABLE...MOVE [PARTITION|SUBPARTITION]</code> statement enables you to move a table, partition, or subpartition to change any physical storage attribute, such as compression, or the tablespace, assuming you have the appropriate quota in the target tablespace.
                        </li>
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-A1CA0DB3-FFEC-42DC-8845-C67FA82055A5">Moving a Table</a><br>Use the <code class="codeph">ALTER TABLE...MOVE</code> statement to move a table to a new segment or tablespace.
                        </li>
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-3FFA2D35-C675-48A7-BF18-796505018E83">Moving a Table Partition or Subpartition Online</a><br>Use the <code class="codeph">ALTER TABLE...MOVE PARTITION</code> statement or <code class="codeph">ALTER TABLE...MOVE SUBPARTITION</code> statement to move a table partition or subpartition, respectively.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-D4AE1CF2-08F7-4AB2-9317-0DE20AC70D44" title="You alter a table using the ALTER TABLE statement. To alter a table, the table must be contained in your schema, or you must have either the ALTER object privilege for the table or the ALTER ANY TABLE system privilege.">Altering Tables</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN11659"></a><div class="props_rev_3"><a id="GUID-3DE67CF4-84C5-4AED-A8A3-B1D28D8EBEF6" name="GUID-3DE67CF4-84C5-4AED-A8A3-B1D28D8EBEF6"></a><h5 id="ADMIN-GUID-3DE67CF4-84C5-4AED-A8A3-B1D28D8EBEF6" class="sect5"><span class="enumeration_section">20.7.3.1 </span>About Moving a Table to a New Segment or Tablespace
                     </h5>
                     <div>
                        <p>The <code class="codeph">ALTER TABLE...MOVE [PARTITION|SUBPARTITION]</code> statement enables you to move a table, partition, or subpartition to change any physical storage attribute, such as compression, or the tablespace, assuming you have the appropriate quota in the target tablespace.
                        </p>
                        <p><code class="codeph">ALTER TABLE...MOVE</code> statements support the <code class="codeph">ONLINE</code> keyword, which enables data manipulation language (DML) operations to run uninterrupted on the table, partition, or subpartition that is being moved. The following statements move a table, partition, or subpartition online:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">ALTER</code> <code class="codeph">TABLE</code> <code class="codeph">...</code> <code class="codeph">MOVE</code> <code class="codeph">...</code> <code class="codeph">ONLINE</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">ALTER</code> <code class="codeph">TABLE</code> <code class="codeph">...</code> <code class="codeph">MOVE</code> <code class="codeph">PARTITION</code> <code class="codeph">...</code> <code class="codeph">ONLINE</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">ALTER</code> <code class="codeph">TABLE</code> <code class="codeph">...</code> <code class="codeph">MOVE</code> <code class="codeph">SUBPARTITION</code> <code class="codeph">...</code> <code class="codeph">ONLINE</code></p>
                           </li>
                        </ul>
                        <p>Moving a table changes the rowids of the rows in the table.  If you move a table and include the <code class="codeph">ONLINE</code> keyword and the <code class="codeph">UPDATE INDEXES</code> clause, then the indexes remain usable during the move operation. If you include the <code class="codeph">UPDATE INDEXES</code> clause but not the <code class="codeph">ONLINE</code> keyword, then the indexes are usable immediately after the move operation. The <code class="codeph">UPDATE INDEXES</code> clause can only change the storage properties for the global indexes on the table or storage properties for the index partitions of any global partitioned index on the table. If you do not include the <code class="codeph">UPDATE INDEXES</code> clause, then the changes to the rowids cause the indexes on the table to be marked <code class="codeph">UNUSABLE</code>, and DML accessing the table using these indexes receive an ORA-01502 error. In this case, the indexes on the table must be dropped or rebuilt.
                        </p>
                        <p>A move operation causes any statistics for the table to become invalid, and new statistics should be collected after moving the table.</p>
                        <p>If the table includes <code class="codeph">LOB</code> column(s), then this statement can be used to move the table along with <code class="codeph">LOB</code> data and <code class="codeph">LOB</code> index segments (associated with this table) that are explicitly specified. If not specified, then the default is to not move the <code class="codeph">LOB</code> data and <code class="codeph">LOB</code> index segments.
                        </p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-E84FFA18-5D0D-4012-A7C1-42A50207F48B" title="You can move a table to a new segment or tablespace to enable compression or to perform data maintenance.">Moving a Table to a New Segment or Tablespace</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN14002"></a><a id="ADMIN14001"></a><div class="props_rev_3"><a id="GUID-A1CA0DB3-FFEC-42DC-8845-C67FA82055A5" name="GUID-A1CA0DB3-FFEC-42DC-8845-C67FA82055A5"></a><h5 id="ADMIN-GUID-A1CA0DB3-FFEC-42DC-8845-C67FA82055A5" class="sect5"><span class="enumeration_section">20.7.3.2 </span>Moving a Table
                     </h5>
                     <div>
                        <p>Use the <code class="codeph">ALTER TABLE...MOVE</code> statement to move a table to a new segment or tablespace.
                        </p>
                        <div class="section">
                           <p> When you use the <code class="codeph">ONLINE</code> keyword with this statement,  data manipulation language (DML) operations can continue to run uninterrupted on the table that is being moved. If you do not include the <code class="codeph">ONLINE</code> keyword, then concurrent DML operations are not possible on the data in the table during the move operation.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>To move a table:</p>
                           <ol>
                              <li>
                                 <p>In SQL*Plus, connect as a user with the necessary privileges to alter the table.</p>
                                 <p>See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=SQLRF01001" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about the privileges required to alter a table.
                                 </p>
                              </li>
                              <li>
                                 <p>Run the <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> <code class="codeph">...</code> <code class="codeph">MOVE</code> statement.
                                 </p>
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-A1CA0DB3-FFEC-42DC-8845-C67FA82055A5__GUID-6C37A0E6-6A2B-476A-86C8-7BC7D9885819">
                           <p class="titleinexample">Example 20-11 Moving a Table to a New Tablespace in Online Mode</p>
                           <p>The following statement moves the <code class="codeph">hr.jobs</code> table online to a new segment and tablespace, specifying new storage parameters. The <code class="codeph">ONLINE</code> keyword means that DML operations can run on the table uninterrupted during the move operation. The <code class="codeph">hr_tbs</code> tablespace must exist.
                           </p><pre class="oac_no_warn" dir="ltr">ALTER TABLE hr.jobs MOVE ONLINE
      STORAGE ( INITIAL 20K
                NEXT 40K
                MINEXTENTS 2
                MAXEXTENTS 20
                PCTINCREASE 0 )
  TABLESPACE hr_tbs;
</pre></div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-A1CA0DB3-FFEC-42DC-8845-C67FA82055A5__GUID-4CDDF3B5-B832-4FA2-9D0B-A6B7B46CF51C">
                           <p class="titleinexample">Example 20-12 Moving a Table and Updating the Table’s Indexes</p>
                           <p>Assume the following statements created a table and its indexes:</p><pre class="pre codeblock"><code>CREATE TABLE dept_exp (
     DEPTNO NUMBER (2) NOT NULL,
     DNAME VARCHAR2 (14),
     LOC VARCHAR2 (13)) 
   TABLESPACE tbs_1;

CREATE INDEX i1_deptno ON dept_exp(deptno) TABLESPACE tbs_1;
CREATE INDEX i2_dname ON dept_exp(dname) TABLESPACE tbs_1;
</code></pre><p>The following statement moves the table to a new tablespace (<code class="codeph">tbs_2</code>) and compresses the table. It also moves index <code class="codeph">i2_dbname</code> to tablespace <code class="codeph">tbs_2</code> and specifies that both the <code class="codeph">i1_deptno</code> index and the <code class="codeph">i2_dname</code> index are usable after the move operation.
                           </p><pre class="pre codeblock"><code>ALTER TABLE dept_exp MOVE 
   COMPRESS TABLESPACE tbs_2
   UPDATE INDEXES
      (i1_deptno TABLESPACE tbs_1,
       i2_dname TABLESPACE tbs_2);</code></pre><p>Notice that this statement does not include the <code class="codeph">ONLINE</code> keyword. However, the <code class="codeph">ONLINE</code> keyword is supported if DML operations must be able to run on the table uninterrupted during the move operation, or if the indexes must be usable during the move operation.
                           </p>
                           <p>Before running these statements, the <code class="codeph">tbs_1</code> and <code class="codeph">tbs_2</code> tablespaces must exist.
                           </p>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-E84FFA18-5D0D-4012-A7C1-42A50207F48B" title="You can move a table to a new segment or tablespace to enable compression or to perform data maintenance.">Moving a Table to a New Segment or Tablespace</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN14004"></a><a id="ADMIN14003"></a><div class="props_rev_3"><a id="GUID-3FFA2D35-C675-48A7-BF18-796505018E83" name="GUID-3FFA2D35-C675-48A7-BF18-796505018E83"></a><h5 id="ADMIN-GUID-3FFA2D35-C675-48A7-BF18-796505018E83" class="sect5"><span class="enumeration_section">20.7.3.3 </span>Moving a Table Partition or Subpartition Online
                     </h5>
                     <div>
                        <p>Use the <code class="codeph">ALTER TABLE...MOVE PARTITION</code> statement or <code class="codeph">ALTER TABLE...MOVE SUBPARTITION</code> statement to move a table partition or subpartition, respectively.
                        </p>
                        <div class="section">
                           <p> When you use the <code class="codeph">ONLINE</code> keyword with either of these statements, DML operations can continue to run uninterrupted on the partition or subpartition that is being moved. If you do not include the <code class="codeph">ONLINE</code> keyword, then DML operations are not permitted on the data in the partition or subpartition until the move operation is complete.
                           </p>
                           <p>When you include the <code class="codeph">UPDATE</code> <code class="codeph">INDEXES</code> clause, these statements maintain both local and global indexes during the move. Therefore, using the <code class="codeph">ONLINE</code> keyword with these statements eliminates the time it takes to regain partition performance after the move by maintaining global indexes and manually rebuilding indexes.
                           </p>
                           <p>Some restrictions apply to moving table partitions and subpartitions. See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=SQLRF53455" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about these restrictions.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>To move a table partition or subpartition online:</p>
                           <ol>
                              <li>
                                 <p>In SQL*Plus, connect as a user with the necessary privileges to alter the table and move the partition or subpartition.</p>
                                 <p>See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=SQLRF53167" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about the required privileges.
                                 </p>
                                 <p>See <span class="q">"<a href="getting-started-with-database-administration.html#GUID-895EC72B-C620-4D93-9F23-3F6DC1706764" title="Oracle Database includes the following components: the Oracle Database instance, which is a collection of processes and memory, and a set of disk files that contain user data and system data.">Connecting to the Database with SQL*Plus</a>"</span>.
                                 </p>
                              </li>
                              <li>
                                 <p>Run the <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> <code class="codeph">...</code> <code class="codeph">MOVE</code> <code class="codeph">PARTITION</code> or <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> <code class="codeph">...</code> <code class="codeph">MOVE</code> <code class="codeph">SUBPARTITION</code> statement.
                                 </p>
                              </li>
                           </ol>
                        </div>
                        <!-- class="section" -->
                        <div class="section"></div>
                        <!-- class="section" -->
                        <div class="example" id="GUID-3FFA2D35-C675-48A7-BF18-796505018E83__GUID-71C3CC2A-022B-4C5E-843D-10C932AC86BF">
                           <p class="titleinexample">Example 20-13 Moving a Table Partition to a New Segment</p>
                           <p>The following statement moves the <code class="codeph">sales_q4_2003</code> partition of the <code class="codeph">sh.sales</code> table to a new segment with advanced row compression and index maintenance included:
                           </p><pre class="oac_no_warn" dir="ltr">ALTER TABLE sales MOVE PARTITION sales_q4_2003 
  ROW STORE COMPRESS ADVANCED UPDATE INDEXES ONLINE;
</pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-3FFA2D35-C675-48A7-BF18-796505018E83__GUID-0691EB4C-D000-49EB-BE3D-875624CB5C39">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=VLDBG1193" target="_blank"><span class="italic">Oracle Database VLDB and Partitioning Guide</span></a></p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=SQLRF53453" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-E84FFA18-5D0D-4012-A7C1-42A50207F48B" title="You can move a table to a new segment or tablespace to enable compression or to perform data maintenance.">Moving a Table to a New Segment or Tablespace</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN11660"></a><div class="props_rev_3"><a id="GUID-3CAE4C1E-BCF6-4F74-BF86-4888E0026FC5" name="GUID-3CAE4C1E-BCF6-4F74-BF86-4888E0026FC5"></a><h4 id="ADMIN-GUID-3CAE4C1E-BCF6-4F74-BF86-4888E0026FC5" class="sect4"><span class="enumeration_section">20.7.4 </span>Manually Allocating Storage for a Table
                  </h4>
                  <div>
                     <p>Oracle Database dynamically allocates additional extents for the data segment of a table, as required. However, perhaps you want to allocate an additional extent for a table explicitly. For example, in an Oracle Real Application Clusters environment, an extent of a table can be allocated explicitly for a specific instance.</p>
                     <div class="section">
                        <p>You can allocate a new extent for a table using the <code class="codeph">ALTER TABLE...ALLOCATE EXTENT</code> statement.
                        </p>
                        <p>You can also explicitly deallocate unused space using the <code class="codeph">DEALLOCATE UNUSED</code> clause of <code class="codeph">ALTER TABLE</code>. This is described in <span class="q">"<a href="managing-space-for-schema-objects.html#GUID-1F297567-4BEC-438E-9E13-683D2BB47F44" title="You can reclaim unused space. Segment Advisor, is an Oracle Database component that identifies segments that have space available for reclamation.">Reclaiming Unused Space</a>"</span>.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-D4AE1CF2-08F7-4AB2-9317-0DE20AC70D44" title="You alter a table using the ALTER TABLE statement. To alter a table, the table must be contained in your schema, or you must have either the ALTER object privilege for the table or the ALTER ANY TABLE system privilege.">Altering Tables</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN14005"></a><a id="ADMIN11661"></a><div class="props_rev_3"><a id="GUID-93BA4E59-A16F-42B3-9EB5-440532F07AEE" name="GUID-93BA4E59-A16F-42B3-9EB5-440532F07AEE"></a><h4 id="ADMIN-GUID-93BA4E59-A16F-42B3-9EB5-440532F07AEE" class="sect4"><span class="enumeration_section">20.7.5 </span>Modifying an Existing Column Definition
                  </h4>
                  <div>
                     <p>Use the <code class="codeph">ALTER TABLE...MODIFY</code> statement to modify an existing column definition. You can modify column data type, default value, column constraint, column expression (for virtual columns), column encryption, and visible/invisible property.
                     </p>
                     <div class="section">
                        <p>You can increase the length of an existing column, or decrease it, if all existing data satisfies the new length. Beginning with Oracle Database 12<span class="italic">c</span>, you can specify a maximum size of 32767 bytes for the <code class="codeph">VARCHAR2</code>, <code class="codeph">NVARCHAR2</code>, and <code class="codeph">RAW</code> data types. Before this release, the maximum size was 4000 bytes for the <code class="codeph">VARCHAR2</code> and <code class="codeph">NVARCHAR2</code> data types, and 2000 bytes for the <code class="codeph">RAW</code> data type. To use extended data types, set the <code class="codeph">MAX_STRING_SIZE</code> initialization parameter to <code class="codeph">EXTENDED</code>.
                        </p>
                        <p>You can change a column from byte semantics to <code class="codeph">CHAR</code> semantics or vice versa. You must set the initialization parameter <code class="codeph">BLANK_TRIMMING=TRUE</code> to decrease the length of a non-empty <code class="codeph">CHAR</code> column. 
                        </p>
                        <p>If you are modifying a table to increase the length of a column of data type <code class="codeph">CHAR</code>, then realize that this can be a time consuming operation and can require substantial additional storage, especially if the table contains many rows. This is because the <code class="codeph">CHAR</code> value in each row must be blank-padded to satisfy the new column length.
                        </p>
                        <p>If you modify the visible/invisible property of a column, then you cannot include any other column modification options in the same SQL statement.</p>
                     </div>
                     <!-- class="section" -->
                     <div class="example" id="GUID-93BA4E59-A16F-42B3-9EB5-440532F07AEE__GUID-52317441-5ED5-49A2-BEA6-BB3D22172C4C">
                        <p class="titleinexample">Example 20-14 Changing the Length of a Column to a Size Larger Than 4000 Bytes</p>
                        <p>This example changes the length of the <code class="codeph">product_description</code> column in the <code class="codeph">oe.product_information</code> table to 32767 bytes. 
                        </p><pre class="oac_no_warn" dir="ltr">ALTER TABLE oe.product_information MODIFY(product_description VARCHAR2(32767));
</pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-93BA4E59-A16F-42B3-9EB5-440532F07AEE__GUID-BA2DF856-459C-4637-814C-F3319B8D2322">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=SQLRF01001" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for additional information about modifying table columns and additional restrictions
                              </p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN10321" target="_blank"><span class="italic">Oracle Database Reference</span></a> for information about the <code class="codeph">MAX_STRING_SIZE</code> initialization parameter
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-D4AE1CF2-08F7-4AB2-9317-0DE20AC70D44" title="You alter a table using the ALTER TABLE statement. To alter a table, the table must be contained in your schema, or you must have either the ALTER object privilege for the table or the ALTER ANY TABLE system privilege.">Altering Tables</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11005"></a><div class="props_rev_3"><a id="GUID-3BBC0224-E218-422F-803A-B2FE56906E44" name="GUID-3BBC0224-E218-422F-803A-B2FE56906E44"></a><h4 id="ADMIN-GUID-3BBC0224-E218-422F-803A-B2FE56906E44" class="sect4"><span class="enumeration_section">20.7.6 </span>Adding Table Columns
                  </h4>
                  <div>
                     <p>To add a column to an existing table, use the <code class="codeph">ALTER TABLE...ADD</code> statement.
                     </p>
                     <div class="section">
                        <p>The following statement alters the <code class="codeph">hr.admin_emp</code> table to add a new column named <code class="codeph">bonus</code>: 
                        </p><pre class="oac_no_warn" dir="ltr">ALTER TABLE hr.admin_emp
      ADD (bonus NUMBER (7,2));
</pre><div class="infoboxnote" id="GUID-3BBC0224-E218-422F-803A-B2FE56906E44__GUID-C69FB35C-9EA1-444F-ABC9-473E0743A3F5">
                           <p class="notep1">Live SQL:</p>
                           <p>View and run a related example on Oracle Live SQL at <a href="https://livesql.oracle.com/apex/livesql/docs/admin/managing-tables/create-modify.html" target="_blank"><span class="italic">Oracle Live SQL: Creating and Modifying Tables</span></a>.
                           </p>
                        </div>
                        <p>If a new column is added to a table, then the column is initially <code class="codeph">NULL</code> unless you specify the <code class="codeph">DEFAULT</code> clause. If you specify the <code class="codeph">DEFAULT</code> clause for a nullable column for some table types, then the default value is stored as metadata, but the column itself is not populated with data. However, subsequent queries that specify the new column are rewritten so that the default value is returned in the result set. This behavior optimizes the resource usage and storage requirements for the operation.
                        </p>
                        <p>You can add a column with a <code class="codeph">NOT</code> <code class="codeph">NULL</code> constraint only if the table does not contain any rows, or you specify a default value.
                        </p>
                        <div class="infoboxnote" id="GUID-3BBC0224-E218-422F-803A-B2FE56906E44__GUID-01AFB5C3-1FA2-41E7-BA6B-892CA1A765E5">
                           <p class="notep1">Note:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>If you enable basic table compression on a table, then you can add columns only if you do not specify default values.</p>
                              </li>
                              <li>
                                 <p>If you enable advanced row compression on a table, then you can add columns to that table with or without default values.</p>
                              </li>
                              <li>
                                 <p>If the new column is a virtual column, its value is determined by its column expression. (Note that a virtual column's value is calculated only when it is queried.)</p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-3BBC0224-E218-422F-803A-B2FE56906E44__GUID-4D6B9EE4-ACEF-4689-AE2C-EB642827579E">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=SQLRF53350" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for rules and restrictions for adding table columns
                              </p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="managing-tables.html#GUID-ED833867-4B7F-442E-A70C-9C19DAA8F445" title="Compression saves disk space, reduces memory use in the database buffer cache, and can significantly speed query execution during reads.">Consider Using Table Compression</a>"</span></p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=CNCPT89199" target="_blank"><span class="italic">Oracle Database Concepts</span></a></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="managing-tables.html#GUID-F772A328-C752-4230-9EB1-1E07F28F03C4" title="An example illustrates creating a table.">Example: Creating a Table</a>"</span> for an example of a virtual column
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-D4AE1CF2-08F7-4AB2-9317-0DE20AC70D44" title="You alter a table using the ALTER TABLE statement. To alter a table, the table must be contained in your schema, or you must have either the ALTER object privilege for the table or the ALTER ANY TABLE system privilege.">Altering Tables</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11662"></a><div class="props_rev_3"><a id="GUID-D8835B01-E36C-4C41-A2C8-BA923D294C37" name="GUID-D8835B01-E36C-4C41-A2C8-BA923D294C37"></a><h4 id="ADMIN-GUID-D8835B01-E36C-4C41-A2C8-BA923D294C37" class="sect4"><span class="enumeration_section">20.7.7 </span>Renaming Table Columns
                  </h4>
                  <div>
                     <p>Oracle Database lets you rename existing columns in a table. Use the <code class="codeph">RENAME COLUMN</code> clause of the <code class="codeph">ALTER TABLE</code> statement to rename a column.
                     </p>
                     <div class="section">
                        <p>The new name must not conflict with the name of any existing column in the table. No other clauses are allowed with the <code class="codeph">RENAME COLUMN</code> clause.
                        </p>
                        <p>The following statement renames the <code class="codeph">comm</code> column of the <code class="codeph">hr.admin_emp</code> table. 
                        </p><pre class="oac_no_warn" dir="ltr">ALTER TABLE hr.admin_emp
      RENAME COLUMN comm TO commission;
</pre><div class="infoboxnote" id="GUID-D8835B01-E36C-4C41-A2C8-BA923D294C37__GUID-C69FB35C-9EA1-444F-ABC9-473E0743A3F5">
                           <p class="notep1">Live SQL:</p>
                           <p>View and run a related example on Oracle Live SQL at <a href="https://livesql.oracle.com/apex/livesql/docs/admin/managing-tables/create-modify.html" target="_blank"><span class="italic">Oracle Live SQL: Creating and Modifying Tables</span></a>.
                           </p>
                        </div>
                        <p>As noted earlier, altering a table column can invalidate dependent objects. However, when you rename a column, the database updates associated data dictionary tables to ensure that function-based indexes and check constraints remain valid.</p>
                        <p>Oracle Database also lets you rename column constraints. This is discussed in <span class="q">"<a href="managing-schema-objects.html#GUID-E2BBB7F9-F200-4587-80E3-49CB7A06DB1C" title="The ALTER TABLE...RENAME CONSTRAINT statement enables you to rename any currently existing constraint for a table. The new constraint name must not conflict with any existing constraint names for a user.">Renaming Constraints</a>"</span>.   
                        </p>
                        <div class="infoboxnote" id="GUID-D8835B01-E36C-4C41-A2C8-BA923D294C37__GUID-A0E28DF4-46F4-4BD0-B6F4-8470D7383C65">
                           <p class="notep1">Note:</p>
                           <p>The <code class="codeph">RENAME TO</code> clause of <code class="codeph">ALTER TABLE</code> appears similar in syntax to the <code class="codeph">RENAME COLUMN</code> clause, but is used for renaming the table itself.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-D4AE1CF2-08F7-4AB2-9317-0DE20AC70D44" title="You alter a table using the ALTER TABLE statement. To alter a table, the table must be contained in your schema, or you must have either the ALTER object privilege for the table or the ALTER ANY TABLE system privilege.">Altering Tables</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11663"></a><div class="props_rev_3"><a id="GUID-29CA8FDC-55FB-4BEF-AE4A-5D1B4D2BE1E1" name="GUID-29CA8FDC-55FB-4BEF-AE4A-5D1B4D2BE1E1"></a><h4 id="ADMIN-GUID-29CA8FDC-55FB-4BEF-AE4A-5D1B4D2BE1E1" class="sect4"><span class="enumeration_section">20.7.8 </span>Dropping Table Columns 
                  </h4>
                  <div>
                     <p>You can drop columns that are no longer needed from a table, including an index-organized table. This provides a convenient means to free space in a database, and avoids your having to export/import data then re-create indexes and constraints. </p>
                     <div class="infoboxnote" id="GUID-29CA8FDC-55FB-4BEF-AE4A-5D1B4D2BE1E1__GUID-0DC6B51D-B07E-43AC-9B38-F6D5F8C22DDB">
                        <p class="notep1">Note:</p>You cannot drop all columns from a table, nor can you drop columns from a table owned by <code class="codeph">SYS</code>. Any attempt to do so results in an error. 
                     </div>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-E8545644-E243-4149-BB57-A234C7030313">Removing Columns from Tables</a><br>When you issue an <code class="codeph">ALTER TABLE...DROP COLUMN</code> statement, the column descriptor and the data associated with the target column are removed from each row in the table. You can drop multiple columns with one statement.
                        </li>
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-74A86E52-E2D2-405E-B888-94164E3973B9">Marking Columns Unused</a><br>If you are concerned about the length of time it could take to drop column data from all of the rows in a large table, you can use the <code class="codeph">ALTER TABLE...SET UNUSED</code> statement.
                        </li>
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-1AB2E206-EC3E-45CF-93F6-07C6C070FD5F">Removing Unused Columns</a><br>The <code class="codeph">ALTER TABLE...DROP UNUSED COLUMNS</code> statement is the only action allowed on unused columns. It physically removes unused columns from the table and reclaims disk space.
                        </li>
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-75B77430-F1F8-44AE-9D03-0C0CA6448FF4">Dropping Columns in Compressed Tables</a><br>If you enable advanced row compression on a table, then you can drop table columns. If you enable basic table compression only, then you cannot drop columns.
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-29CA8FDC-55FB-4BEF-AE4A-5D1B4D2BE1E1__GUID-65830D5B-081B-48DA-B8A4-7A477A66C320">
                        <p class="notep1">See Also:</p>
                        <p> <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=SQLRF01001" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for information about additional restrictions and options for dropping columns from a table
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-D4AE1CF2-08F7-4AB2-9317-0DE20AC70D44" title="You alter a table using the ALTER TABLE statement. To alter a table, the table must be contained in your schema, or you must have either the ALTER object privilege for the table or the ALTER ANY TABLE system privilege.">Altering Tables</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN11664"></a><div class="props_rev_3"><a id="GUID-E8545644-E243-4149-BB57-A234C7030313" name="GUID-E8545644-E243-4149-BB57-A234C7030313"></a><h5 id="ADMIN-GUID-E8545644-E243-4149-BB57-A234C7030313" class="sect5"><span class="enumeration_section">20.7.8.1 </span>Removing Columns from Tables
                     </h5>
                     <div>
                        <p>When you issue an <code class="codeph">ALTER TABLE...DROP COLUMN</code> statement, the column descriptor and the data associated with the target column are removed from each row in the table. You can drop multiple columns with one statement.
                        </p>
                        <div class="section">
                           <p>The following statements are examples of dropping columns from the <code class="codeph">hr.admin_emp</code> table. The first statement drops only the <code class="codeph">sal</code> column:
                           </p><pre class="oac_no_warn" dir="ltr">ALTER TABLE hr.admin_emp DROP COLUMN sal;
</pre><p>The next statement drops both the <code class="codeph">bonus</code> and <code class="codeph">comm</code> columns:
                           </p><pre class="oac_no_warn" dir="ltr">ALTER TABLE hr.admin_emp DROP (bonus, commission);</pre><div class="infoboxnote" id="GUID-E8545644-E243-4149-BB57-A234C7030313__GUID-C69FB35C-9EA1-444F-ABC9-473E0743A3F5">
                              <p class="notep1">Live SQL:</p>
                              <p>View and run a related example on Oracle Live SQL at <a href="https://livesql.oracle.com/apex/livesql/docs/admin/managing-tables/create-modify.html" target="_blank"><span class="italic">Oracle Live SQL: Creating and Modifying Tables</span></a>.
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-29CA8FDC-55FB-4BEF-AE4A-5D1B4D2BE1E1" title="You can drop columns that are no longer needed from a table, including an index-organized table. This provides a convenient means to free space in a database, and avoids your having to export/import data then re-create indexes and constraints.">Dropping Table Columns</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11665"></a><div class="props_rev_3"><a id="GUID-74A86E52-E2D2-405E-B888-94164E3973B9" name="GUID-74A86E52-E2D2-405E-B888-94164E3973B9"></a><h5 id="ADMIN-GUID-74A86E52-E2D2-405E-B888-94164E3973B9" class="sect5"><span class="enumeration_section">20.7.8.2 </span>Marking Columns Unused 
                     </h5>
                     <div>
                        <p>If you are concerned about the length of time it could take to drop column data from all of the rows in a large table, you can use the <code class="codeph">ALTER TABLE...SET UNUSED</code> statement.
                        </p>
                        <div class="section">
                           <p>This statement marks one or more columns as unused, but does not actually remove the target column data or restore the disk space occupied by these columns. However, a column that is marked as unused is not displayed in queries or data dictionary views, and its name is removed so that a new column can reuse that name. In most cases, constraints, indexes, and statistics defined on the column are also removed. The exception is that any internal indexes for LOB columns that are marked unused are not removed.</p>
                           <p>To mark the <code class="codeph">hiredate</code> and <code class="codeph">mgr</code> columns as unused, execute the following statement: 
                           </p><pre class="oac_no_warn" dir="ltr">ALTER TABLE hr.admin_emp SET UNUSED (hiredate, mgr);
</pre><div class="infoboxnote" id="GUID-74A86E52-E2D2-405E-B888-94164E3973B9__GUID-C69FB35C-9EA1-444F-ABC9-473E0743A3F5">
                              <p class="notep1">Live SQL:</p>
                              <p>View and run a related example on Oracle Live SQL at <a href="https://livesql.oracle.com/apex/livesql/docs/admin/managing-tables/create-modify.html" target="_blank"><span class="italic">Oracle Live SQL: Creating and Modifying Tables</span></a>.
                              </p>
                           </div>
                           <p>You can later remove columns that are marked as unused by issuing an <code class="codeph">ALTER TABLE...DROP UNUSED COLUMNS</code> statement. Unused columns are also removed from the target table whenever an explicit drop of any particular column or columns of the table is issued.
                           </p>
                           <p>The data dictionary views <code class="codeph">USER_UNUSED_COL_TABS</code>, <code class="codeph">ALL_UNUSED_COL_TABS</code>, or <code class="codeph">DBA_UNUSED_COL_TABS</code> can be used to list all tables containing unused columns. The <code class="codeph">COUNT</code> field shows the number of unused columns in the table.
                           </p><pre class="oac_no_warn" dir="ltr">SELECT * FROM DBA_UNUSED_COL_TABS;

OWNER                       TABLE_NAME                  COUNT
--------------------------- --------------------------- -----
HR                          ADMIN_EMP                       2
</pre><p>For external tables, the <code class="codeph">SET</code> <code class="codeph">UNUSED</code> statement is transparently converted into an <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> <code class="codeph">DROP</code> <code class="codeph">COLUMN</code> statement. Because external tables consist of metadata only in the database, the <code class="codeph">DROP</code> <code class="codeph">COLUMN</code> statement performs equivalently to the <code class="codeph">SET</code> <code class="codeph">UNUSED</code> statement.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-29CA8FDC-55FB-4BEF-AE4A-5D1B4D2BE1E1" title="You can drop columns that are no longer needed from a table, including an index-organized table. This provides a convenient means to free space in a database, and avoids your having to export/import data then re-create indexes and constraints.">Dropping Table Columns</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11666"></a><div class="props_rev_3"><a id="GUID-1AB2E206-EC3E-45CF-93F6-07C6C070FD5F" name="GUID-1AB2E206-EC3E-45CF-93F6-07C6C070FD5F"></a><h5 id="ADMIN-GUID-1AB2E206-EC3E-45CF-93F6-07C6C070FD5F" class="sect5"><span class="enumeration_section">20.7.8.3 </span>Removing Unused Columns
                     </h5>
                     <div>
                        <p>The <code class="codeph">ALTER TABLE...DROP UNUSED COLUMNS</code> statement is the only action allowed on unused columns. It physically removes unused columns from the table and reclaims disk space.
                        </p>
                        <div class="section">
                           <p>In the <code class="codeph">ALTER TABLE</code> statement that follows, the optional clause <code class="codeph">CHECKPOINT</code> is specified. This clause causes a checkpoint to be applied after processing the specified number of rows, in this case 250. Checkpointing cuts down on the amount of undo logs accumulated during the drop column operation to avoid a potential exhaustion of undo space.
                           </p><pre class="oac_no_warn" dir="ltr">ALTER TABLE hr.admin_emp DROP UNUSED COLUMNS CHECKPOINT 250;</pre><div class="infoboxnote" id="GUID-1AB2E206-EC3E-45CF-93F6-07C6C070FD5F__GUID-C69FB35C-9EA1-444F-ABC9-473E0743A3F5">
                              <p class="notep1">Live SQL:</p>
                              <p>View and run a related example on Oracle Live SQL at <a href="https://livesql.oracle.com/apex/livesql/docs/admin/managing-tables/create-modify.html" target="_blank"><span class="italic">Oracle Live SQL: Creating and Modifying Tables</span></a>.
                              </p>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-29CA8FDC-55FB-4BEF-AE4A-5D1B4D2BE1E1" title="You can drop columns that are no longer needed from a table, including an index-organized table. This provides a convenient means to free space in a database, and avoids your having to export/import data then re-create indexes and constraints.">Dropping Table Columns</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN12495"></a><div class="props_rev_3"><a id="GUID-75B77430-F1F8-44AE-9D03-0C0CA6448FF4" name="GUID-75B77430-F1F8-44AE-9D03-0C0CA6448FF4"></a><h5 id="ADMIN-GUID-75B77430-F1F8-44AE-9D03-0C0CA6448FF4" class="sect5"><span class="enumeration_section">20.7.8.4 </span>Dropping Columns in Compressed Tables
                     </h5>
                     <div>
                        <p>If you enable advanced row compression on a table, then you can drop table columns. If you enable basic table compression only, then you cannot drop columns.</p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-75B77430-F1F8-44AE-9D03-0C0CA6448FF4__GUID-9623CB79-2F4E-47AA-98FD-20F396BAD3CD">
                           <p class="notep1">See Also:</p>
                           <p><span class="q">"<a href="managing-tables.html#GUID-ED833867-4B7F-442E-A70C-9C19DAA8F445" title="Compression saves disk space, reduces memory use in the database buffer cache, and can significantly speed query execution during reads.">Consider Using Table Compression</a>"</span></p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-29CA8FDC-55FB-4BEF-AE4A-5D1B4D2BE1E1" title="You can drop columns that are no longer needed from a table, including an index-organized table. This provides a convenient means to free space in a database, and avoids your having to export/import data then re-create indexes and constraints.">Dropping Table Columns</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN12316"></a><div class="props_rev_3"><a id="GUID-E41130FA-C2C6-4CA0-922B-A3281632B65B" name="GUID-E41130FA-C2C6-4CA0-922B-A3281632B65B"></a><h4 id="ADMIN-GUID-E41130FA-C2C6-4CA0-922B-A3281632B65B" class="sect4"><span class="enumeration_section">20.7.9 </span>Placing a Table in Read-Only Mode
                  </h4>
                  <div>
                     <p>You can place a table in read-only mode with the <code class="codeph">ALTER</code> <code class="codeph">TABLE</code>...<code class="codeph">READ</code> <code class="codeph">ONLY</code> statement, and return it to read/write mode with the <code class="codeph">ALTER</code> <code class="codeph">TABLE</code>...<code class="codeph">READ</code> <code class="codeph">WRITE</code> statement.
                     </p>
                     <div class="section">
                        <p>An example of a table for which read-only mode makes sense is a configuration table. If your application contains configuration tables that are not modified after installation and that must not be modified by users, your application installation scripts can place these tables in read-only mode.</p>
                        <p>To place a table in read-only mode, you must have the <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> privilege on the table or the <code class="codeph">ALTER</code> <code class="codeph">ANY</code> <code class="codeph">TABLE</code> privilege. In addition, the <code class="codeph">COMPATIBLE</code> initialization parameter must be set to <code class="codeph">11.2.0</code> or higher.
                        </p>
                        <p>The following example places the <code class="codeph">SALES</code> table in read-only mode:
                        </p><pre class="oac_no_warn" dir="ltr">ALTER TABLE SALES READ ONLY;
</pre><p>The following example returns the table to read/write mode:</p><pre class="oac_no_warn" dir="ltr">ALTER TABLE SALES READ WRITE;
</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>When a table is in read-only mode, operations that attempt to modify table data are disallowed. A <code class="codeph">SELECT <span class="codeinlineitalic">column_list</span> ON <span class="codeinlineitalic">table_name</span></code> statement on a table must always return the same data set after a table or partition has been placed in read-only mode.
                        </p>
                        <p>The following operations are not permitted on a read-only table:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>All DML operations on the read-only table or on a read-only partition</p>
                           </li>
                           <li>
                              <p><code class="codeph">TRUNCATE</code> <code class="codeph">TABLE</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">SELECT</code> <code class="codeph">FOR</code> <code class="codeph">UPDATE</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">ALTER</code> <code class="codeph">TABLE</code> <code class="codeph">RENAME</code>/<code class="codeph">DROP</code> <code class="codeph">COLUMN</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">DROP</code> of a read-only partition or a partition of a read only table
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">ALTER</code> <code class="codeph">TABLE</code> <code class="codeph">SET</code> <code class="codeph">COLUMN</code> <code class="codeph">UNUSED</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">ALTER</code> <code class="codeph">TABLE</code> <code class="codeph">DROP</code>/<code class="codeph">TRUNCATE</code>/<code class="codeph">EXCHANGE</code> <code class="codeph">(</code><code class="codeph">SUB</code><code class="codeph">)</code><code class="codeph">PARTITION</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">ALTER</code> <code class="codeph">TABLE</code> <code class="codeph">UPGRADE</code> <code class="codeph">INCLUDING</code> <code class="codeph">DATA</code> or <code class="codeph">ALTER</code> <code class="codeph">TYPE</code> <code class="codeph">CASCADE</code> <code class="codeph">INCLUDING</code> <code class="codeph">TABLE</code> <code class="codeph">DATA</code> for a type with read-only table dependents
                              </p>
                           </li>
                           <li>
                              <p>Online redefinition</p>
                           </li>
                           <li>
                              <p><code class="codeph">FLASHBACK</code> <code class="codeph">TABLE</code></p>
                           </li>
                        </ul>
                        <p>The following operations are permitted on a read-only table:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">SELECT</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">CREATE</code>/<code class="codeph">ALTER</code>/<code class="codeph">DROP</code> <code class="codeph">INDEX</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">ALTER</code> <code class="codeph">TABLE</code> <code class="codeph">ADD</code>/<code class="codeph">MODIFY</code> <code class="codeph">COLUMN</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">ALTER</code> <code class="codeph">TABLE</code> <code class="codeph">ADD</code>/<code class="codeph">MODIFY</code>/<code class="codeph">DROP</code>/<code class="codeph">ENABLE</code>/<code class="codeph">DISABLE</code> <code class="codeph">CONSTRAINT</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">ALTER</code> <code class="codeph">TABLE</code> for physical property changes
                              </p>
                           </li>
                           <li>
                              <p><code class="codeph">ALTER</code> <code class="codeph">TABLE</code> <code class="codeph">DROP</code> <code class="codeph">UNUSED</code> <code class="codeph">COLUMNS</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">ALTER</code> <code class="codeph">TABLE</code> <code class="codeph">ADD</code>/<code class="codeph">COALESCE</code>/<code class="codeph">MERGE</code>/<code class="codeph">MODIFY</code>/<code class="codeph">MOVE</code>/<code class="codeph">RENAME</code>/<code class="codeph">SPLIT</code> <code class="codeph">(SUB)PARTITION</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">ALTER</code> <code class="codeph">TABLE</code> <code class="codeph">MOVE</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">ALTER</code> <code class="codeph">TABLE</code> <code class="codeph">ENABLE</code> <code class="codeph">ROW</code> <code class="codeph">MOVEMENT</code> and <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> <code class="codeph">SHRINK</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">RENAME</code> <code class="codeph">TABLE</code> and <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> <code class="codeph">RENAME</code> <code class="codeph">TO</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">DROP</code> <code class="codeph">TABLE</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">ALTER</code> <code class="codeph">TABLE</code> <code class="codeph">DEALLOCATE</code> <code class="codeph">UNUSED</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">ALTER</code> <code class="codeph">TABLE</code> <code class="codeph">ADD</code>/<code class="codeph">DROP</code> <code class="codeph">SUPPLEMENTAL</code> <code class="codeph">LOG</code></p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-E41130FA-C2C6-4CA0-922B-A3281632B65B__GUID-52D9C479-D959-47B8-9917-DB65DE9A8608">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=SQLRF01001" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information about the <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> statement
                              </p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=VLDBG-GUID-9D7149B6-A2FF-47CA-8F00-47CBFD33F82B" target="_blank"><span><cite>Oracle Database VLDB and Partitioning Guide</cite></span></a> for more information about read-only partitions
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-D4AE1CF2-08F7-4AB2-9317-0DE20AC70D44" title="You alter a table using the ALTER TABLE statement. To alter a table, the table must be contained in your schema, or you must have either the ALTER object privilege for the table or the ALTER ANY TABLE system privilege.">Altering Tables</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="sect2"><a id="GUID-92361F74-4796-407D-A3B9-569C6E544E34" name="GUID-92361F74-4796-407D-A3B9-569C6E544E34"></a><h3 id="ADMIN-GUID-92361F74-4796-407D-A3B9-569C6E544E34" class="sect3"><span class="enumeration_section">20.8 </span>Redefining Tables Online
               </h3>
               <p>You can  modify the logical or physical structure of a table.</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-F95114BC-F512-4A1F-B5BD-07DDDE60D934">About Redefining Tables Online</a><br>In any database system, it is occasionally necessary to modify the logical or physical structure of a table to improve the performance of queries or DML, accommodate application changes, or Manage storage. You can redefine tables online with the <code class="codeph">DBMS_REDEFINITION</code> package.
                     </li>
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-A63096F3-DD43-4E0F-803E-BACC0D0EFD2D">Features of Online Table Redefinition</a><br>Online table redefinition enables you to modify a table in several different ways while the table remains online.
                     </li>
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-0191D286-24D5-4E2A-817B-99FAAB96D4B3">Privileges Required for the DBMS_REDEFINITION Package</a><br>Execute privileges on the <code class="codeph">DBMS_REDEFINITION</code> package are required to run subprograms in the package. Execute privileges on the <code class="codeph">DBMS_REDEFINITION</code> package are granted to <code class="codeph">EXECUTE_CATALOG_ROLE</code>.
                     </li>
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-CB5589F0-B328-4620-8809-C53696972B4C">Restrictions for Online Redefinition of Tables</a><br>Several restrictions apply to online redefinition of tables. 
                     </li>
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-4F3B5CFB-C29C-4216-86D2-B8FC98D0FE2F">Performing Online Redefinition with the REDEF_TABLE Procedure</a><br>You can use the <code class="codeph">REDEF_TABLE</code> procedure in the <code class="codeph">DBMS_REDEFINITION</code> package to perform online redefinition of a table's storage properties.
                     </li>
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-4156DC5F-06C6-41D5-8C5A-C1586DEDE43E">Redefining Tables Online with Multiple Procedures in DBMS_REDEFINITION</a><br>You can use multiple procedures in the <code class="codeph">DBMS_REDEFINITION</code> package to redefine tables online.
                     </li>
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-1153B8CB-5CF2-4C46-B5EB-F7903F801AF5">Results of the Redefinition Process</a><br>There are several results of the redefinition process.
                     </li>
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-B3981CA4-02E9-430C-8449-3EC28B00A06E">Performing Intermediate Synchronization</a><br>During the redefinition process, you can synchronize the interim table with the original table if there were a large number of DML statements executed on the original table.
                     </li>
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-D902E9EE-9EA2-434B-934E-43A549D64CEB">Refreshing Dependent Materialized Views During Online Table Redefinition</a><br>To refresh dependent fast refreshable materialized views during online table redefinition, set the <code class="codeph">refresh_dep_mviews</code> parameter to <code class="codeph">Y</code> in the <code class="codeph">REDEF_TABLE</code> procedure or the <code class="codeph">START_REDEF_TABLE</code> procedure.
                     </li>
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-273794DD-440A-43DE-B252-8AC91D54FC33">Monitoring Online Table Redefinition Progress</a><br>You can query the <code class="codeph">V$ONLINE_REDEF</code> view to monitor the progress of an online table redefinition operation.
                     </li>
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-58F4E092-A86D-4E00-96F6-56A596C91A53">Restarting Online Table Redefinition After a Failure</a><br>If online table redefinition fails, then you can check the <code class="codeph">DBA_REDEFINITION_STATUS</code> view to see the error information and restartable information.
                     </li>
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-FDCA40B7-D2EC-4900-98E4-8F1DACEDE0CF">Rolling Back Online Table Redefinition</a><br>You can enable roll back of a table after online table redefinition to return the table to its original definition and preserve DML changes made to the table.
                     </li>
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-0C266A74-406A-485B-B545-5618EE3D02F8">Aborting Online Table Redefinition and Cleaning Up After Errors</a><br>You can abort the online redefinition process. Doing so drops temporary logs and tables associated with the redefinition process. After this procedure is called, you can drop the interim table and its dependent objects.
                     </li>
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-9A31C4B1-1DA5-4DF8-8567-8642821056D6">Online Redefinition of One or More Partitions</a><br>You can redefine online one or more partitions of a table. This is useful if, for example, you want to move partitions to a different tablespace and keep the partitions available for DML during the operation.
                     </li>
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-4E77A941-A660-4DB3-A7B8-D15FBD9BF509">Online Table Redefinition Examples</a><br>Examples illustrate online redefinition of tables.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-707B02F5-E589-4C20-8E2E-5ED4F7888702" title="Managing tables includes tasks such as creating tables, loading tables, altering tables, and dropping tables.">Managing Tables</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN01514"></a><div class="props_rev_3"><a id="GUID-F95114BC-F512-4A1F-B5BD-07DDDE60D934" name="GUID-F95114BC-F512-4A1F-B5BD-07DDDE60D934"></a><h4 id="ADMIN-GUID-F95114BC-F512-4A1F-B5BD-07DDDE60D934" class="sect4"><span class="enumeration_section">20.8.1 </span>About Redefining Tables Online
                  </h4>
                  <div>
                     <p>In any database system, it is occasionally necessary to modify the logical or physical structure of a table to improve the performance of queries or DML, accommodate application changes, or Manage storage. You can redefine tables online with the <code class="codeph">DBMS_REDEFINITION</code> package.
                     </p>
                     <p>Oracle Database provides a mechanism to make table structure modifications without significantly affecting the availability of the table. The mechanism is called <span class="bold">online table redefinition</span>. Redefining tables online provides a substantial increase in availability compared to traditional methods of redefining tables.
                     </p>
                     <p>When a table is redefined online, it is accessible to both queries and DML during much of the redefinition process. Typically, the table is locked in the exclusive mode only during a very small window that is independent of the size of the table and complexity of the redefinition, and that is completely transparent to users. However, if there are many concurrent DML operations during redefinition, then a longer wait might be necessary before the table can be locked.</p>
                     <p>Online table redefinition requires an amount of free space that is approximately equivalent to the space used by the table being redefined. More space may be required if new columns are added.</p>
                     <p>You can perform online table redefinition with the Oracle Enterprise Manager Cloud Control (Cloud Control) Reorganize Objects wizard or with the <code class="codeph">DBMS_REDEFINITION</code> package.
                     </p>
                     <div class="infoboxnote" id="GUID-F95114BC-F512-4A1F-B5BD-07DDDE60D934__GUID-3C9AF78D-546A-41A8-B42D-33675F266E40">
                        <p class="notep1">Note:</p>
                        <p><span class="bold">To invoke the Reorganize Objects wizard:</span></p>
                        <ol>
                           <li>
                              <p>On the Tables page of Cloud Control, click in the <span class="bold">Select</span> column to select the table to redefine.
                              </p>
                           </li>
                           <li>
                              <p>In the Actions list, select <span class="bold">Reorganize</span>.
                              </p>
                           </li>
                           <li>
                              <p>Click <span class="bold">Go</span>.
                              </p>
                           </li>
                        </ol>
                     </div>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-F95114BC-F512-4A1F-B5BD-07DDDE60D934__GUID-EF64190D-5107-4901-BA00-D72E94767415">
                        <p class="notep1">See Also:</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=ARPLS042" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for a description of the <code class="codeph">DBMS_REDEFINITION</code> package
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-92361F74-4796-407D-A3B9-569C6E544E34" title="You can modify the logical or physical structure of a table.">Redefining Tables Online</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11667"></a><div class="props_rev_3"><a id="GUID-A63096F3-DD43-4E0F-803E-BACC0D0EFD2D" name="GUID-A63096F3-DD43-4E0F-803E-BACC0D0EFD2D"></a><h4 id="ADMIN-GUID-A63096F3-DD43-4E0F-803E-BACC0D0EFD2D" class="sect4"><span class="enumeration_section">20.8.2 </span>Features of Online Table Redefinition
                  </h4>
                  <div>
                     <p>Online table redefinition enables you to modify a table in several different ways while the table remains online.</p>
                     <p>Online table redefinition enables you to:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Modify the storage parameters of a table or cluster</p>
                        </li>
                        <li>
                           <p>Move a table or cluster to a different tablespace</p>
                           <div class="infoboxnote" id="GUID-A63096F3-DD43-4E0F-803E-BACC0D0EFD2D__GUID-3959471B-1540-4AB1-A3E5-E3DD6506B75D">
                              <p class="notep1">Note:</p>
                              <p>If it is not important to keep a table available for DML when moving it to another tablespace, then you can use the simpler <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> <code class="codeph">MOVE</code> command. See <span class="q">"<a href="managing-tables.html#GUID-3DE67CF4-84C5-4AED-A8A3-B1D28D8EBEF6" title="The ALTER TABLE...MOVE [PARTITION|SUBPARTITION] statement enables you to move a table, partition, or subpartition to change any physical storage attribute, such as compression, or the tablespace, assuming you have the appropriate quota in the target tablespace.">Moving a Table to a New Segment or Tablespace</a>"</span>.
                              </p>
                           </div>
                        </li>
                        <li>
                           <p>Add, modify, or drop one or more columns in a table or cluster</p>
                        </li>
                        <li>
                           <p>Add or drop partitioning support (non-clustered tables only)</p>
                        </li>
                        <li>
                           <p>Change partition structure</p>
                        </li>
                        <li>
                           <p>Change physical properties of a single table partition or subpartition, including moving it to a different tablespace in the same schema</p>
                           <p>Starting with Oracle Database 12<span class="italic">c</span>, you can move a partition or subpartition online without using online table redefinition. DML operations can continue to run uninterrupted on the partition or subpartition that is being moved. See <span class="q">"<a href="managing-tables.html#GUID-3DE67CF4-84C5-4AED-A8A3-B1D28D8EBEF6" title="The ALTER TABLE...MOVE [PARTITION|SUBPARTITION] statement enables you to move a table, partition, or subpartition to change any physical storage attribute, such as compression, or the tablespace, assuming you have the appropriate quota in the target tablespace.">Moving a Table to a New Segment or Tablespace</a>"</span>.
                           </p>
                        </li>
                        <li>
                           <p>Change physical properties of a materialized view log or an Oracle Database Advanced Queuing queue table</p>
                           <div class="infoboxnote" id="GUID-A63096F3-DD43-4E0F-803E-BACC0D0EFD2D__GUID-9F9913F7-AEA1-46CA-AA6A-0C2D1D2693F0">
                              <p class="notep1">Note:</p>
                              <p>The <code class="codeph">REDEF_TABLE</code> procedure in the <code class="codeph">DBMS_REDEFINITION</code> package does not support changing physical properties of an Oracle Database Advanced Queuing queue table.
                              </p>
                           </div>
                        </li>
                        <li>
                           <p>Add support for parallel queries</p>
                        </li>
                        <li>
                           <p>Re-create a table or cluster to reduce fragmentation</p>
                           <div class="infoboxnote" id="GUID-A63096F3-DD43-4E0F-803E-BACC0D0EFD2D__GUID-4AE5F2B4-1D3C-4D37-AD4D-FCDF6BBF8070">
                              <p class="notep1">Note:</p>
                              <p>In many cases, online segment shrink is an easier way to reduce fragmentation. See <span class="q">"<a href="managing-space-for-schema-objects.html#GUID-1F297567-4BEC-438E-9E13-683D2BB47F44" title="You can reclaim unused space. Segment Advisor, is an Oracle Database component that identifies segments that have space available for reclamation.">Reclaiming Unused Space</a>"</span>.
                              </p>
                           </div>
                        </li>
                        <li>
                           <p>Change the organization of a normal table (heap organized) to an index-organized table, or do the reverse.</p>
                        </li>
                        <li>
                           <p>Convert a relational table into a table with object columns, or do the reverse.</p>
                        </li>
                        <li>
                           <p>Convert an object table into a relational table or a table with object columns, or do the reverse.</p>
                        </li>
                        <li>
                           <p>Compress, or change the compression type for, a table, partition, index key, or LOB columns.</p>
                        </li>
                        <li>
                           <p>Convert LOB columns from BasicFiles LOB storage to SecureFiles LOB storage, or do the reverse.</p>
                        </li>
                        <li>
                           <p>You can enable roll back of a table after online table redefinition to return the table to its original definition and preserve DML changes made to the table. </p>
                        </li>
                        <li>
                           <p>You can refresh dependent fast refreshable materialized views during online table redefinition by setting the <code class="codeph">refresh_dep_mviews</code> parameter to <code class="codeph">Y</code> in the <code class="codeph">REDEF_TABLE</code> procedure or the <code class="codeph">START_REDEF_TABLE</code> procedure. 
                           </p>
                        </li>
                        <li>
                           <p>You can query the <code class="codeph">V$ONLINE_REDEF</code> view to monitor the progress of an online table redefinition operation. 
                           </p>
                        </li>
                        <li>
                           <p>When online table redefinition fails, often you can correct the problem that caused the failure and restart the online redefinition process where it last stopped. </p>
                        </li>
                     </ul>
                     <p>You can combine two or more of the usage examples above into one operation. See <span class="q">"<a href="managing-tables.html#GUID-4E77A941-A660-4DB3-A7B8-D15FBD9BF509__BABFAHGD">Example 8</a>"</span> in <span class="q">"<a href="managing-tables.html#GUID-4E77A941-A660-4DB3-A7B8-D15FBD9BF509" title="Examples illustrate online redefinition of tables.">Online Table Redefinition Examples</a>"</span> for an example.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-92361F74-4796-407D-A3B9-569C6E544E34" title="You can modify the logical or physical structure of a table.">Redefining Tables Online</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11678"></a><div class="props_rev_3"><a id="GUID-0191D286-24D5-4E2A-817B-99FAAB96D4B3" name="GUID-0191D286-24D5-4E2A-817B-99FAAB96D4B3"></a><h4 id="ADMIN-GUID-0191D286-24D5-4E2A-817B-99FAAB96D4B3" class="sect4"><span class="enumeration_section">20.8.3 </span>Privileges Required for the DBMS_REDEFINITION Package
                  </h4>
                  <div>
                     <p>Execute privileges on the <code class="codeph">DBMS_REDEFINITION</code> package are required to run subprograms in the package. Execute privileges on the <code class="codeph">DBMS_REDEFINITION</code> package are granted to <code class="codeph">EXECUTE_CATALOG_ROLE</code>.
                     </p>
                     <p>In addition, for a user to redefine a table in the user's schema using the package, the user must be granted the following privileges:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">CREATE</code> <code class="codeph">TABLE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">CREATE</code> <code class="codeph">MATERIALIZED</code> <code class="codeph">VIEW</code></p>
                        </li>
                     </ul>
                     <p>The <code class="codeph">CREATE TRIGGER</code> privilege is also required to execute the <code class="codeph">COPY_TABLE_DEPENDENTS</code> procedure.
                     </p>
                     <p>For a user to redefine a table in other schemas using the package, the user must be granted the following privileges:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">CREATE</code> <code class="codeph">ANY</code> <code class="codeph">TABLE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">ALTER</code> <code class="codeph">ANY</code> <code class="codeph">TABLE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">DROP</code> <code class="codeph">ANY</code> <code class="codeph">TABLE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">LOCK</code> <code class="codeph">ANY TABLE</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">SELECT</code> <code class="codeph">ANY</code> <code class="codeph">TABLE</code></p>
                        </li>
                     </ul>
                     <p>The following additional privileges are required to execute <code class="codeph">COPY_TABLE_DEPENDENTS</code> on tables in other schemas:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">CREATE</code> <code class="codeph">ANY</code> <code class="codeph">TRIGGER</code></p>
                        </li>
                        <li>
                           <p><code class="codeph">CREATE</code> <code class="codeph">ANY</code> <code class="codeph">INDEX</code></p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-92361F74-4796-407D-A3B9-569C6E544E34" title="You can modify the logical or physical structure of a table.">Redefining Tables Online</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN01510"></a><div class="props_rev_3"><a id="GUID-CB5589F0-B328-4620-8809-C53696972B4C" name="GUID-CB5589F0-B328-4620-8809-C53696972B4C"></a><h4 id="ADMIN-GUID-CB5589F0-B328-4620-8809-C53696972B4C" class="sect4"><span class="enumeration_section">20.8.4 </span>Restrictions for Online Redefinition of Tables
                  </h4>
                  <div>
                     <p>Several restrictions apply to online redefinition of tables. </p>
                     <p>The following restrictions apply to the online redefinition of tables:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>If the table is to be redefined using primary key or pseudo-primary keys (unique keys or constraints with all component columns having <span class="italic">not null</span> constraints), then the post-redefinition table must have the same primary key or pseudo-primary key columns. If the table is to be redefined using rowids, then the table must not be an index-organized table. 
                           </p>
                        </li>
                        <li>
                           <p>After redefining a table that has a materialized view log, the subsequent refresh of any dependent materialized view must be a complete refresh.</p>
                           <p>There is an exception to this restriction. When online table redefinition uses the <code class="codeph">REDEF_TABLE</code> or <code class="codeph">START_REDEF_TABLE</code> procedure, and the <code class="codeph">refresh_dep_mviews</code> parameter is set to <code class="codeph">Y</code> in the procedure, any dependent materialized views configured for incremental refresh are refreshed during the online table redefinition operation. 
                           </p>
                        </li>
                        <li>
                           <p>Tables that are replicated in an n-way master configuration can be redefined, but horizontal subsetting (subset of rows in the table), vertical subsetting (subset of columns in the table), and column transformations are not allowed.</p>
                        </li>
                        <li>
                           <p>The overflow table of an index-organized table cannot be redefined online independently.</p>
                        </li>
                        <li>
                           <p>Tables for which Flashback Data Archive is enabled cannot be redefined online. You cannot enable Flashback Data Archive for the interim table.</p>
                        </li>
                        <li>
                           <p>Tables with <code class="codeph">LONG</code> columns can be redefined online, but those columns must be converted to <code class="codeph">CLOBS</code>. Also, <code class="codeph">LONG RAW</code> columns must be converted to <code class="codeph">BLOBS</code>. Tables with <code class="codeph">LOB</code> columns are acceptable.
                           </p>
                        </li>
                        <li>
                           <p>On a system with sufficient resources for parallel execution, and in the case where the interim table is not partitioned, redefinition of a <code class="codeph">LONG</code> column to a <code class="codeph">LOB</code> column can be executed in parallel, provided that:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The segment used to store the <code class="codeph">LOB</code> column in the interim table belongs to a locally managed tablespace with Automatic Segment Space Management (ASSM) enabled.
                                 </p>
                              </li>
                              <li>
                                 <p>There is a simple mapping from one <code class="codeph">LONG</code> column to one <code class="codeph">LOB</code> column, and the interim table has only one <code class="codeph">LOB</code> column.
                                 </p>
                              </li>
                           </ul>
                           <p>In the case where the interim table is partitioned, the normal methods for parallel execution for partitioning apply.</p>
                        </li>
                        <li>
                           <p>Tables in the <code class="codeph">SYS</code> and <code class="codeph">SYSTEM</code> schema cannot be redefined online.
                           </p>
                        </li>
                        <li>
                           <p>Temporary tables cannot be redefined.</p>
                        </li>
                        <li>
                           <p>A subset of rows in the table cannot be redefined.</p>
                        </li>
                        <li>
                           <p>Only simple deterministic expressions, sequences, and <code class="codeph">SYSDATE</code> can be used when mapping the columns in the interim table to those of the original table. For example, subqueries are not allowed.
                           </p>
                        </li>
                        <li>
                           <p>If new columns are being added as part of the redefinition and there are no column mappings for these columns, then they must not be declared <code class="codeph">NOT</code> <code class="codeph">NULL</code> until the redefinition is complete.
                           </p>
                        </li>
                        <li>
                           <p>There cannot be any referential constraints between the table being redefined and the interim table.</p>
                        </li>
                        <li>
                           <p>Table redefinition cannot be done <code class="codeph">NOLOGGING</code>.
                           </p>
                        </li>
                        <li>
                           <p>For materialized view logs and queue tables, online redefinition is restricted to changes in physical properties. No horizontal or vertical subsetting is permitted, nor are any column transformations. The only valid value for the column mapping string is <code class="codeph">NULL</code>.
                           </p>
                        </li>
                        <li> 
                           <p>You cannot perform online redefinition on a partition that includes one or more nested tables.</p>
                        </li>
                        <li>
                           <p>You can convert a <code class="codeph">VARRAY</code> to a nested table with the <code class="codeph">CAST</code> operator in the column mapping. However, you cannot convert a nested table to a <code class="codeph">VARRAY</code>.
                           </p>
                        </li>
                        <li>
                           <p>When the columns in the <code class="codeph">col_mapping</code> parameter of the <code class="codeph">DBMS_REDEFINITION.START_REDEF_TABLE</code> procedure include a sequence, the <code class="codeph">orderby_cols</code> parameter must be <code class="codeph">NULL</code>.
                           </p>
                        </li>
                        <li>
                           <p>For tables with a Virtual Private Database (VPD) security policy, when the <code class="codeph">copy_vpd_opt</code> parameter is specified as <code class="codeph">DBMS_REDEFINITION.CONS_VPD_AUTO</code>, the following restrictions apply: 
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The column mapping string between the original table and interim table must be <code class="codeph">NULL</code> or <code class="codeph">'*'</code>.
                                 </p>
                              </li>
                              <li>
                                 <p>No VPD policies can exist on the interim table.</p>
                              </li>
                           </ul>
                           <p>See <span class="q">"<a href="managing-tables.html#GUID-070A3AEC-4226-4E65-BDB0-A5B2B5B48B1F" title="If the original table being redefined has VPD policies specified for it, then you can use the copy_vpd_opt parameter in the START_REDEF_TABLE procedure to handle these policies during online redefinition.">Handling Virtual Private Database (VPD) Policies During Online Redefinition</a>"</span>. Also, see <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=DBSEG242" target="_blank"><span class="italic">Oracle Database Security Guide</span></a> for information about VPD policies.
                           </p>
                        </li>
                        <li>
                           <p>Online redefinition cannot run on multiple tables concurrently in separate <code class="codeph">DBMS_REDEFINITION</code> sessions if the tables are related by reference partitioning.
                           </p> 
                           <p>See <a href="../vldbg/partition-create-tables-indexes.html#VLDBG1093" target="_blank"><span class="italic">Oracle Database VLDB and Partitioning Guide</span></a> for more information about reference partitioning.
                           </p>
                        </li>
                        <li>
                           <p>Online redefinition of an object table or <code class="codeph">XMLType</code> table can cause a dangling <code class="codeph">REF</code> in other tables if those other tables have a <code class="codeph">REF</code> column that references the redefined table.
                           </p> 
                           <p>See <a href="../sqlrf/Data-Types.html#SQLRF51006" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information about dangling <code class="codeph">REF</code>s.
                           </p>
                        </li>
                        <li>
                           <p>Tables that use Oracle Label Security (OLS) cannot be redefined online.</p> 
                           <p>See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=OLSAG001" target="_blank"><span><cite>Oracle Label Security Administrator’s Guide</cite></span></a>.
                           </p>
                        </li>
                        <li>
                           <p>Tables with fine-grained access control cannot be redefined online.</p>
                        </li>
                        <li>
                           <p>Tables that use Oracle Real Application Security cannot be redefined online.</p>
                           <p>See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=DBSEG-GUID-4C76D168-B534-4E12-A4AA-B434FC3E3328" target="_blank"><span><cite>Oracle Database Security Guide</cite></span></a>.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-92361F74-4796-407D-A3B9-569C6E544E34" title="You can modify the logical or physical structure of a table.">Redefining Tables Online</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN14159"></a><div class="props_rev_3"><a id="GUID-4F3B5CFB-C29C-4216-86D2-B8FC98D0FE2F" name="GUID-4F3B5CFB-C29C-4216-86D2-B8FC98D0FE2F"></a><h4 id="ADMIN-GUID-4F3B5CFB-C29C-4216-86D2-B8FC98D0FE2F" class="sect4"><span class="enumeration_section">20.8.5 </span>Performing Online Redefinition with the REDEF_TABLE Procedure
                  </h4>
                  <div>
                     <p>You can use the <code class="codeph">REDEF_TABLE</code> procedure in the <code class="codeph">DBMS_REDEFINITION</code> package to perform online redefinition of a table's storage properties.
                     </p>
                     <p>The <code class="codeph">REDEF_TABLE</code> procedure enables you to perform online redefinition a table's storage properties in a single step when you want to change the following properties:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Tablespace changes, including a tablespace change for a table, partition, index, or LOB columns</p>
                        </li>
                        <li>
                           <p>Compression type changes, including a compression type change for a table, partition, index key, or LOB columns</p>
                        </li>
                        <li>
                           <p>For LOB columns, a change to <code class="codeph">SECUREFILE</code> or <code class="codeph">BASICFILE</code> storage
                           </p>
                        </li>
                     </ul>
                     <p>When your online redefinition operation is not limited to these changes, you must perform online redefinition of the table using multiple steps. The steps include invoking multiple procedures in the <code class="codeph">DBMS_REDEFINITION</code> package, including the following procedures: <code class="codeph">CAN_REDEF_TABLE</code>, <code class="codeph">START_REDEF_TABLE</code>, <code class="codeph">COPY_TABLE_DEPENDENTS</code>, and <code class="codeph">FINISH_REDEF_TABLE</code>.
                     </p>
                     <div class="infoboxnote" id="GUID-4F3B5CFB-C29C-4216-86D2-B8FC98D0FE2F__GUID-B41618F7-2B3E-45C1-AA66-746A98D8F2AA">
                        <p class="notep1">Note:</p>Online table redefinition rollback is not supported when the <code class="codeph">REDEF_TABLE</code> procedure is used to redefine a table.
                     </div>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-4F3B5CFB-C29C-4216-86D2-B8FC98D0FE2F__GUID-A8BF2FBE-65A2-4076-8F1F-0FA03DCC3424">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=ARPLS74410" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for procedure details
                              </p>
                           </li>
                           <li>
                              <p><a href="managing-tables.html#GUID-4E77A941-A660-4DB3-A7B8-D15FBD9BF509__BABEAFDD">Example 1</a> in <span class="q">"<a href="managing-tables.html#GUID-4E77A941-A660-4DB3-A7B8-D15FBD9BF509" title="Examples illustrate online redefinition of tables.">Online Table Redefinition Examples</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="managing-tables.html#GUID-3C702CE8-9676-4825-B92A-D4AFE78FE402" title="You can use multiple procedures in the DBMS_REDEFINITION package to perform online redefinition of a table.">Performing Online Redefinition with Multiple Procedures in DBMS_REDEFINITION</a>"</span> for more information
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-92361F74-4796-407D-A3B9-569C6E544E34" title="You can modify the logical or physical structure of a table.">Redefining Tables Online</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-4156DC5F-06C6-41D5-8C5A-C1586DEDE43E" name="GUID-4156DC5F-06C6-41D5-8C5A-C1586DEDE43E"></a><h4 id="ADMIN-GUID-4156DC5F-06C6-41D5-8C5A-C1586DEDE43E" class="sect4"><span class="enumeration_section">20.8.6 </span>Redefining Tables Online with Multiple Procedures in DBMS_REDEFINITION
                  </h4>
                  <p>You can use multiple procedures in the <code class="codeph">DBMS_REDEFINITION</code> package to redefine tables online.
                  </p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-3C702CE8-9676-4825-B92A-D4AFE78FE402">Performing Online Redefinition with Multiple Procedures in DBMS_REDEFINITION</a><br>You can use multiple procedures in the <code class="codeph">DBMS_REDEFINITION</code> package to perform online redefinition of a table. 
                        </li>
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-CDFF0B74-1C6A-4916-9E07-C09F0D309B53">Constructing a Column Mapping String</a><br>The column mapping string that you pass as an argument to <code class="codeph">START_REDEF_TABLE</code> contains a comma-delimited list of column mapping pairs.
                        </li>
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-070A3AEC-4226-4E65-BDB0-A5B2B5B48B1F">Handling Virtual Private Database (VPD) Policies During Online Redefinition</a><br>If the original table being redefined has VPD policies specified for it, then you can use the <code class="codeph">copy_vpd_opt</code> parameter in the <code class="codeph">START_REDEF_TABLE</code> procedure to handle these policies during online redefinition.
                        </li>
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-15A3E7E4-043A-4C48-BE2F-6D1F4B69317E">Creating Dependent Objects Automatically</a><br>You use the <code class="codeph">COPY_TABLE_DEPENDENTS</code> procedure to automatically create dependent objects on the interim table.
                        </li>
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-B3AA1388-F093-4861-BB7C-896EDF072602">Creating Dependent Objects Manually</a><br>If you manually create dependent objects on the interim table with SQL*Plus or Cloud Control, then you must use the <code class="codeph">REGISTER_DEPENDENT_OBJECT</code> procedure to register the dependent objects. Registering dependent objects enables the redefinition completion process to restore dependent object names to what they were before redefinition.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-92361F74-4796-407D-A3B9-569C6E544E34" title="You can modify the logical or physical structure of a table.">Redefining Tables Online</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN12634"></a><a id="ADMIN11668"></a><div class="props_rev_3"><a id="GUID-3C702CE8-9676-4825-B92A-D4AFE78FE402" name="GUID-3C702CE8-9676-4825-B92A-D4AFE78FE402"></a><h5 id="ADMIN-GUID-3C702CE8-9676-4825-B92A-D4AFE78FE402" class="sect5"><span class="enumeration_section">20.8.6.1 </span>Performing Online Redefinition with Multiple Procedures in DBMS_REDEFINITION
                     </h5>
                     <div>
                        <p>You can use multiple procedures in the <code class="codeph">DBMS_REDEFINITION</code> package to perform online redefinition of a table. 
                        </p>
                        <div class="section">
                           <p>To redefine a table online using multiple steps:</p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>Choose the redefinition method: by key or by rowid</span><div>
                                 <p><span class="bold">By key</span>—Select a primary key or pseudo-primary key to use for the redefinition. Pseudo-primary keys are unique keys with all component columns having <code class="codeph">NOT NULL</code> constraints. For this method, the versions of the tables before and after redefinition should have the same primary key columns. This is the preferred and default method of redefinition.
                                 </p>
                                 <p><span class="bold">By rowid</span>—Use this method if no key is available. In this method, a hidden column named <code class="codeph">M_ROW$$</code> is added to the post-redefined version of the table. It is recommended that this column be dropped or marked as unused after the redefinition is complete. The final phase of redefinition automatically sets this column unused. You can then use the <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> ... <code class="codeph">DROP</code> <code class="codeph">UNUSED</code> <code class="codeph">COLUMNS</code> statement to drop it.
                                 </p>
                                 <p>You cannot use this method on index-organized tables.</p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Verify that the table can be redefined online by invoking the <code class="codeph">CAN_REDEF_TABLE</code> procedure. If the table is not a candidate for online redefinition, then this procedure raises an error indicating why the table cannot be redefined online.</span></li>
                           <li class="stepexpand"><span>Create an empty interim table (in the same schema as the table to be redefined) with all of the desired logical and physical attributes. If columns are to be dropped, then do not include them in the definition of the interim table. If a column is to be added, then add the column definition to the interim table. If a column is to be modified, then create it in the interim table with the properties that you want.</span><div>
                                 <p>It is not necessary to create the interim table with all the indexes, constraints, grants, and triggers of the table being redefined, because these will be defined in step <a href="managing-tables.html#GUID-3C702CE8-9676-4825-B92A-D4AFE78FE402__i1013092">7</a> when you copy dependent objects.
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>If you are redefining a partitioned table with the rowid method, then enable row movement on the interim table.</span><div><pre class="oac_no_warn" dir="ltr">ALTER TABLE ... ENABLE ROW MOVEMENT;
</pre></div>
                           </li>
                           <li class="stepexpand"><span>(Optional) If you are redefining a large table and want to improve the performance of the next step by running it in parallel, issue the following statements:</span><div><pre class="oac_no_warn" dir="ltr">ALTER SESSION FORCE PARALLEL DML PARALLEL <span class="italic">degree-of-parallelism</span>;
ALTER SESSION FORCE PARALLEL QUERY PARALLEL <span class="italic">degree-of-parallelism</span>;
</pre></div>
                           </li>
                           <li class="stepexpand" id="GUID-3C702CE8-9676-4825-B92A-D4AFE78FE402__BABEIFBA"><span>Start the redefinition process by calling <code class="codeph">START_REDEF_TABLE</code>, providing the following:</span><div>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>The schema and table name of the table to be redefined in the <code class="codeph">uname</code> and <code class="codeph">orig_table</code> parameters, respectively
                                       </p>
                                    </li>
                                    <li>
                                       <p>The interim table name in the <code class="codeph">int_table</code> parameter
                                       </p>
                                    </li>
                                    <li>
                                       <p>A column mapping string that maps the columns of table to be redefined to the columns of the interim table in the <code class="codeph">col_mapping</code> parameter
                                       </p>
                                       <p>See <span class="q">"<a href="managing-tables.html#GUID-CDFF0B74-1C6A-4916-9E07-C09F0D309B53" title="The column mapping string that you pass as an argument to START_REDEF_TABLE contains a comma-delimited list of column mapping pairs.">Constructing a Column Mapping String</a>"</span> for details.
                                       </p>
                                    </li>
                                    <li>
                                       <p>The redefinition method in the <code class="codeph">options_flag</code> parameter
                                       </p>
                                       <p>Package constants are provided for specifying the redefinition method. <code class="codeph">DBMS_REDEFINITION.CONS_USE_PK</code> is used to indicate that the redefinition should be done using primary keys or pseudo-primary keys. <code class="codeph">DBMS_REDEFINITION.CONS_USE_ROWID</code> is use to indicate that the redefinition should be done using rowids. If this argument is omitted, the default method of redefinition (<code class="codeph">CONS_USE_PK</code>) is assumed.
                                       </p>
                                    </li>
                                    <li>
                                       <p>Optionally, the columns to be used in ordering rows in the <code class="codeph">orderby_cols</code> parameter
                                       </p>
                                    </li>
                                    <li>
                                       <p>The partition name or names in the <code class="codeph">part_name</code> parameter when redefining one partition or multiple partitions of a partitioned table
                                       </p>
                                       <p>See <span class="q">"<a href="managing-tables.html#GUID-9A31C4B1-1DA5-4DF8-8567-8642821056D6" title="You can redefine online one or more partitions of a table. This is useful if, for example, you want to move partitions to a different tablespace and keep the partitions available for DML during the operation.">Online Redefinition of One or More Partitions</a>"</span> for details.
                                       </p>
                                    </li>
                                    <li>
                                       <p>The method for handling Virtual Private Database (VPD) policies defined on the table in the <code class="codeph">copy_vpd_opt</code> parameter
                                       </p>
                                       <p>See <span class="q">"<a href="managing-tables.html#GUID-070A3AEC-4226-4E65-BDB0-A5B2B5B48B1F" title="If the original table being redefined has VPD policies specified for it, then you can use the copy_vpd_opt parameter in the START_REDEF_TABLE procedure to handle these policies during online redefinition.">Handling Virtual Private Database (VPD) Policies During Online Redefinition</a>"</span> for details.
                                       </p>
                                    </li>
                                 </ul>
                                 <p>Because this process involves copying data, it may take a while. The table being redefined remains available for queries and DML during the entire process.</p>
                                 <div class="infoboxnote" id="GUID-3C702CE8-9676-4825-B92A-D4AFE78FE402__GUID-C7F7B313-FA45-40D7-880D-988093874270">
                                    <p class="notep1">Note:</p>
                                    <p></p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p>You can query the <code class="codeph">DBA_REDEFINITION_OBJECTS</code> view to list the objects currently involved in online redefinition.
                                          </p>
                                       </li>
                                       <li>
                                          <p>If <code class="codeph">START_REDEF_TABLE</code> fails for any reason, you must call <code class="codeph">ABORT_REDEF_TABLE</code>, otherwise subsequent attempts to redefine the table will fail.
                                          </p>
                                       </li>
                                    </ul>
                                 </div>
                              </div>
                           </li>
                           <li class="stepexpand" id="GUID-3C702CE8-9676-4825-B92A-D4AFE78FE402__i1013092"><span>Copy dependent objects (such as triggers, indexes, materialized view logs, grants, and constraints) and statistics from the table being redefined to the interim table, using one of the following two methods. Method 1 is the preferred method because it is more automatic, but there may be times that you would choose to use method 2. Method 1 also enables you to copy table statistics to the interim table.</span><div>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>Method 1: Automatically Creating Dependent Objects</p>
                                       <p>Use the <code class="codeph">COPY_TABLE_DEPENDENTS</code> procedure to automatically create dependent objects on the interim table. This procedure also <span class="bold">registers</span> the dependent objects. Registering the dependent objects enables the identities of these objects and their copied counterparts to be automatically swapped later as part of the redefinition completion process. The result is that when the redefinition is completed, the names of the dependent objects will be the same as the names of the original dependent objects.
                                       </p>
                                       <p>For more information, see <span class="q">"<a href="managing-tables.html#GUID-15A3E7E4-043A-4C48-BE2F-6D1F4B69317E" title="You use the COPY_TABLE_DEPENDENTS procedure to automatically create dependent objects on the interim table.">Creating Dependent Objects Automatically</a>"</span>.
                                       </p>
                                    </li>
                                    <li>
                                       <p>Method 2: Manually Creating Dependent Objects</p>
                                       <p>You can manually create dependent objects on the interim table and then register them. For more information, see <span class="q">"<a href="managing-tables.html#GUID-B3AA1388-F093-4861-BB7C-896EDF072602" title="If you manually create dependent objects on the interim table with SQL*Plus or Cloud Control, then you must use the REGISTER_DEPENDENT_OBJECT procedure to register the dependent objects. Registering dependent objects enables the redefinition completion process to restore dependent object names to what they were before redefinition.">Creating Dependent Objects Manually</a>"</span>.
                                       </p>
                                       <div class="infoboxnote" id="GUID-3C702CE8-9676-4825-B92A-D4AFE78FE402__GUID-989ADA6A-5C95-4005-A0E2-D4DB68C0D740">
                                          <p class="notep1">Note:</p>
                                          <p>In Oracle9<span class="italic">i</span>, you were <span class="italic">required</span> to manually create the triggers, indexes, grants, and constraints on the interim table, and there may still be situations where you want to or must do so. In such cases, any referential constraints involving the interim table (that is, the interim table is either a parent or a child table of the referential constraint) must be created disabled. When online redefinition completes, the referential constraint is automatically enabled. In addition, until the redefinition process is either completed or aborted, any trigger defined on the interim table does not execute.
                                          </p>
                                       </div>
                                    </li>
                                 </ul>
                              </div>
                           </li>
                           <li class="stepexpand" id="GUID-3C702CE8-9676-4825-B92A-D4AFE78FE402__BABGDBJH"><span>Execute the <code class="codeph">FINISH_REDEF_TABLE</code> procedure to complete the redefinition of the table. During this procedure, the original table is locked in exclusive mode for a very short time, independent of the amount of data in the original table. However, <code class="codeph">FINISH_REDEF_TABLE</code> will wait for all pending DML to commit before completing the redefinition.</span><div>
                                 <p><a id="d192334e13002" class="indexterm-anchor"></a>You can use the <code class="codeph">dml_lock_timeout</code> parameter in the <code class="codeph">FINISH_REDEF_TABLE</code> procedure to specify how long the procedure waits for pending DML to commit. The parameter specifies the number of seconds to wait before the procedure ends gracefully. When you specify a non-<code class="codeph">NULL</code> value for this parameter, you can restart the <code class="codeph">FINISH_REDEF_TABLE</code> procedure, and it continues from the point at which it timed out. When the parameter is set to <code class="codeph">NULL</code>, the procedure does not time out. In this case, if you stop the procedure manually, then you must abort the online table redefinition using the <code class="codeph">ABORT_REDEF_TABLE</code> procedure and start over from step&nbsp;<a href="managing-tables.html#GUID-3C702CE8-9676-4825-B92A-D4AFE78FE402__BABEIFBA">6</a>.
                                 </p>
                              </div>
                           </li>
                           <li class="stepexpand"><span>Wait for any long-running queries against the interim table to complete, and then drop the interim table.</span><div>
                                 <p>If you drop the interim table while there are active queries running against it, you may encounter an <code class="codeph">ORA-08103</code> error ("object no longer exists").
                                 </p>
                              </div>
                           </li>
                        </ol>
                        <div class="section"></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-3C702CE8-9676-4825-B92A-D4AFE78FE402__GUID-0184203F-1FB8-41E6-849E-C79C1D57DAF7">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="managing-tables.html#GUID-4E77A941-A660-4DB3-A7B8-D15FBD9BF509" title="Examples illustrate online redefinition of tables.">Online Table Redefinition Examples</a>"</span></p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=ARPLS042" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for package details
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-4156DC5F-06C6-41D5-8C5A-C1586DEDE43E" title="You can use multiple procedures in the DBMS_REDEFINITION package to redefine tables online.">Redefining Tables Online with Multiple Procedures in DBMS_REDEFINITION</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN12635"></a><a id="ADMIN11669"></a><div class="props_rev_3"><a id="GUID-CDFF0B74-1C6A-4916-9E07-C09F0D309B53" name="GUID-CDFF0B74-1C6A-4916-9E07-C09F0D309B53"></a><h5 id="ADMIN-GUID-CDFF0B74-1C6A-4916-9E07-C09F0D309B53" class="sect5"><span class="enumeration_section">20.8.6.2 </span>Constructing a Column Mapping String
                     </h5>
                     <div>
                        <p>The column mapping string that you pass as an argument to <code class="codeph">START_REDEF_TABLE</code> contains a comma-delimited list of column mapping pairs.
                        </p>
                        <p>Each pair has the following syntax:</p><pre class="oac_no_warn" dir="ltr">[<span class="italic">expression</span>]  <span class="italic">column_name</span>
</pre><p>The <span class="italic"><code class="codeph">column_name</code></span> term indicates a column in the interim table. The optional <span class="italic"><code class="codeph">expression</code></span> can include columns from the table being redefined, constants, operators, function or method calls, and so on, in accordance with the rules for expressions in a SQL <code class="codeph">SELECT</code> statement. However, only simple deterministic subexpressions—that is, subexpressions whose results do not vary between one evaluation and the next—plus sequences and <code class="codeph">SYSDATE</code> can be used. No subqueries are permitted. In the simplest case, the expression consists of just a column name from the table being redefined.
                        </p>
                        <p>If an expression is present, its value is placed in the designated interim table column during redefinition. If the expression is omitted, it is assumed that both the table being redefined and the interim table have a column named <span class="italic"><code class="codeph">column_name</code></span>, and the value of that column in the table being redefined is placed in the same column in the interim table.
                        </p>
                        <p>For example, if the <code class="codeph">override</code> column in the table being redefined is to be renamed to <code class="codeph">override_commission</code>, and every override commission is to be raised by 2%, the correct column mapping pair is:
                        </p><pre class="oac_no_warn" dir="ltr">override*1.02  override_commission
</pre><p>If you supply '<code class="codeph">*</code>' or <code class="codeph">NULL</code> as the column mapping string, it is assumed that all the columns (with their names unchanged) are to be included in the interim table. Otherwise, only those columns specified explicitly in the string are considered. The order of the column mapping pairs is unimportant.
                        </p>
                        <p>For examples of column mapping strings, see <span class="q">"<a href="managing-tables.html#GUID-4E77A941-A660-4DB3-A7B8-D15FBD9BF509" title="Examples illustrate online redefinition of tables.">Online Table Redefinition Examples</a>"</span>.
                        </p>
                        <div class="section">
                           <p class="subhead3" id="GUID-CDFF0B74-1C6A-4916-9E07-C09F0D309B53__GUID-B5B475F4-0FC2-450C-BB5C-D18AFD3F7343">Data Conversions</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p>When mapping columns, you can convert data types, with some restrictions.</p>
                           <p>If you provide '<code class="codeph">*</code>' or <code class="codeph">NULL</code> as the column mapping string, only the implicit conversions permitted by SQL are supported. For example, you can convert from <code class="codeph">CHAR</code> to <code class="codeph">VARCHAR2</code>, from <code class="codeph">INTEGER</code> to <code class="codeph">NUMBER</code>, and so on.
                           </p>
                           <p>To perform other data type conversions, including converting from one object type to another or one collection type to another, you must provide a column mapping pair with an expression that performs the conversion. The expression can include the <code class="codeph">CAST</code> function, built-in functions like <code class="codeph">TO_NUMBER</code>, conversion functions that you create, and so on.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-4156DC5F-06C6-41D5-8C5A-C1586DEDE43E" title="You can use multiple procedures in the DBMS_REDEFINITION package to redefine tables online.">Redefining Tables Online with Multiple Procedures in DBMS_REDEFINITION</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN13868"></a><div class="props_rev_3"><a id="GUID-070A3AEC-4226-4E65-BDB0-A5B2B5B48B1F" name="GUID-070A3AEC-4226-4E65-BDB0-A5B2B5B48B1F"></a><h5 id="ADMIN-GUID-070A3AEC-4226-4E65-BDB0-A5B2B5B48B1F" class="sect5"><span class="enumeration_section">20.8.6.3 </span>Handling Virtual Private Database (VPD) Policies During Online Redefinition
                     </h5>
                     <div>
                        <p>If the original table being redefined has VPD policies specified for it, then you can use the <code class="codeph">copy_vpd_opt</code> parameter in the <code class="codeph">START_REDEF_TABLE</code> procedure to handle these policies during online redefinition.
                        </p>
                        <p>You can specify the following values for this parameter:</p>
                        <div class="tblformal" id="GUID-070A3AEC-4226-4E65-BDB0-A5B2B5B48B1F__GUID-25494F06-19CF-4D41-B7CB-6B6D2CF3BE12">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="This table lists each con_vpd_opt parameter value and a description for each parameter value." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="50%" id="d192334e13256">Parameter Value</th>
                                    <th align="left" valign="bottom" width="50%" id="d192334e13259">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="50%" id="d192334e13264" headers="d192334e13256 ">
                                       <p><code class="codeph">DBMS_REDEFINITION.CONS_VPD_NONE</code></p>
                                    </td>
                                    <td align="left" valign="top" width="50%" headers="d192334e13264 d192334e13259 ">
                                       <p>Specify this value if there are no VPD policies on the original table. This value is the default.</p>
                                       <p>If this value is specified, and VPD policies exist for the original table, then an error is raised.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="50%" id="d192334e13274" headers="d192334e13256 ">
                                       <p><code class="codeph">DBMS_REDEFINITION.CONS_VPD_AUTO</code></p>
                                    </td>
                                    <td align="left" valign="top" width="50%" headers="d192334e13274 d192334e13259 ">
                                       <p>Specify this value to copy the VPD policies automatically from the original table to the new table during online redefinition.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="50%" id="d192334e13282" headers="d192334e13256 ">
                                       <p><code class="codeph">DBMS_REDEFINITION.CONS_VPD_MANUAL</code></p>
                                    </td>
                                    <td align="left" valign="top" width="50%" headers="d192334e13282 d192334e13259 ">
                                       <p>Specify this value to copy the VPD policies manually from the original table to the new table during online redefinition.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>If there are no VPD policies specified for the original table, then specify the default value of <code class="codeph">DBMS_REDEFINITION.CONS_VPD_NONE</code> for the <code class="codeph">copy_vpd_opt</code> parameter.
                        </p>
                        <p>Specify <code class="codeph">DBMS_REDEFINITION.CONS_VPD_AUTO</code> for the <code class="codeph">copy_vpd_opt</code> parameter when the column names and column types are the same for the original table and the interim table. To use this value, the column mapping string between original table and interim table must be <code class="codeph">NULL</code> or <code class="codeph">'*'</code>. When you use <code class="codeph">DBMS_REDEFINITION.CONS_VPD_AUTO</code> for the <code class="codeph">copy_vpd_opt</code> parameter, only the table owner and the user invoking online redefinition can access the interim table during online redefinition.
                        </p>
                        <p>Specify <code class="codeph">DBMS_REDEFINITION.CONS_VPD_MANUAL</code> for the <code class="codeph">copy_vpd_opt</code> parameter when either of the following conditions are true:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>There are VPD policies specified for the original table, and there are column mappings between the original table and the interim table.</p>
                           </li>
                           <li>
                              <p>You want to add or modify VPD policies during online redefinition of the table.</p>
                           </li>
                        </ul>
                        <p>To copy the VPD policies manually, you specify the VPD policies for the interim table before you run the <code class="codeph">START_REDEF_TABLE</code> procedure. When online redefinition of the table is complete, the redefined table has the modified policies.
                        </p>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-070A3AEC-4226-4E65-BDB0-A5B2B5B48B1F__GUID-BCF2749E-E66E-4BED-8A2F-88D513FEE309">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="managing-tables.html#GUID-CB5589F0-B328-4620-8809-C53696972B4C" title="Several restrictions apply to online redefinition of tables.">Restrictions for Online Redefinition of Tables</a>"</span> for restrictions related to tables with VPD policies
                                 </p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="managing-tables.html#GUID-4E77A941-A660-4DB3-A7B8-D15FBD9BF509" title="Examples illustrate online redefinition of tables.">Online Table Redefinition Examples</a>"</span> for an example that redefines a table with VPD policies
                                 </p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=DBSEG007" target="_blank"><span class="italic">Oracle Database Security Guide</span></a></p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-4156DC5F-06C6-41D5-8C5A-C1586DEDE43E" title="You can use multiple procedures in the DBMS_REDEFINITION package to redefine tables online.">Redefining Tables Online with Multiple Procedures in DBMS_REDEFINITION</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11670"></a><div class="props_rev_3"><a id="GUID-15A3E7E4-043A-4C48-BE2F-6D1F4B69317E" name="GUID-15A3E7E4-043A-4C48-BE2F-6D1F4B69317E"></a><h5 id="ADMIN-GUID-15A3E7E4-043A-4C48-BE2F-6D1F4B69317E" class="sect5"><span class="enumeration_section">20.8.6.4 </span>Creating Dependent Objects Automatically
                     </h5>
                     <div>
                        <p>You use the <code class="codeph">COPY_TABLE_DEPENDENTS</code> procedure to automatically create dependent objects on the interim table.
                        </p>
                        <div class="section">
                           <p>You can discover if errors occurred while copying dependent objects by checking the <code class="codeph">num_errors</code> output argument. If the <code class="codeph">ignore_errors</code> argument is set to <code class="codeph">TRUE</code>, the <code class="codeph">COPY_TABLE_DEPENDENTS</code> procedure continues copying dependent objects even if an error is encountered when creating an object. You can view these errors by querying the <code class="codeph">DBA_REDEFINITION_ERRORS</code> view.
                           </p>
                           <p>Reasons for errors include:</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>A lack of system resources</p>
                              </li>
                              <li>
                                 <p>A change in the logical structure of the table that would require recoding the dependent object.</p>
                                 <p>See Example 3 in <span class="q">"<a href="managing-tables.html#GUID-4E77A941-A660-4DB3-A7B8-D15FBD9BF509" title="Examples illustrate online redefinition of tables.">Online Table Redefinition Examples</a>"</span> for a discussion of this type of error.
                                 </p>
                              </li>
                           </ul>
                           <p>If <code class="codeph">ignore_errors</code> is set to <code class="codeph">FALSE</code>, the <code class="codeph">COPY_TABLE_DEPENDENTS</code> procedure stops copying objects as soon as any error is encountered.
                           </p>
                           <p>After you correct any errors you can again attempt to copy the dependent objects by reexecuting the <code class="codeph">COPY_TABLE_DEPENDENTS</code> procedure. Optionally you can create the objects manually and then register them as explained in <span class="q">"<a href="managing-tables.html#GUID-B3AA1388-F093-4861-BB7C-896EDF072602" title="If you manually create dependent objects on the interim table with SQL*Plus or Cloud Control, then you must use the REGISTER_DEPENDENT_OBJECT procedure to register the dependent objects. Registering dependent objects enables the redefinition completion process to restore dependent object names to what they were before redefinition.">Creating Dependent Objects Manually</a>"</span>. The <code class="codeph">COPY_TABLE_DEPENDENTS</code> procedure can be used multiple times as necessary. If an object has already been successfully copied, it is not copied again.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-4156DC5F-06C6-41D5-8C5A-C1586DEDE43E" title="You can use multiple procedures in the DBMS_REDEFINITION package to redefine tables online.">Redefining Tables Online with Multiple Procedures in DBMS_REDEFINITION</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11671"></a><div class="props_rev_3"><a id="GUID-B3AA1388-F093-4861-BB7C-896EDF072602" name="GUID-B3AA1388-F093-4861-BB7C-896EDF072602"></a><h5 id="ADMIN-GUID-B3AA1388-F093-4861-BB7C-896EDF072602" class="sect5"><span class="enumeration_section">20.8.6.5 </span>Creating Dependent Objects Manually
                     </h5>
                     <div>
                        <p>If you manually create dependent objects on the interim table with SQL*Plus or Cloud Control, then you must use the <code class="codeph">REGISTER_DEPENDENT_OBJECT</code> procedure to register the dependent objects. Registering dependent objects enables the redefinition completion process to restore dependent object names to what they were before redefinition.
                        </p>
                        <div class="section">
                           <p>The following are examples changes that require you to create dependent objects manually:</p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Moving an index to another tablespace</p>
                              </li>
                              <li>
                                 <p>Modifying the columns of an index</p>
                              </li>
                              <li>
                                 <p>Modifying a constraint</p>
                              </li>
                              <li>
                                 <p>Modifying a trigger</p>
                              </li>
                              <li>
                                 <p>Modifying a materialized view log</p>
                              </li>
                           </ul>
                           <p>When you run the <code class="codeph">REGISTER_DEPENDENT_OBJECT</code> procedure, you must specify that type of the dependent object with the <code class="codeph">dep_type</code> parameter. You can specify the following constants in this parameter:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">DEMS_REDEFINITION.CONS_INDEX</code> when the dependent object is an index
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">DEMS_REDEFINITION.CONS_CONSTRAINT</code> when the dependent object type is a constraint
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">DEMS_REDEFINITION.CONS_TRIGGER</code> when the dependent object is a trigger
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">DEMS_REDEFINITION.CONS_MVLOG</code> when the dependent object is a materialized view log
                                 </p>
                              </li>
                           </ul>
                           <p>You would also use the <code class="codeph">REGISTER_DEPENDENT_OBJECT</code> procedure if the <code class="codeph">COPY_TABLE_DEPENDENTS</code> procedure failed to copy a dependent object and manual intervention is required.
                           </p>
                           <p>You can query the <code class="codeph">DBA_REDEFINITION_OBJECTS</code> view to determine which dependent objects are registered. This view shows dependent objects that were registered explicitly with the <code class="codeph">REGISTER_DEPENDENT_OBJECT</code> procedure or implicitly with the <code class="codeph">COPY_TABLE_DEPENDENTS</code> procedure. Only current information is shown in the view.
                           </p>
                           <p>The <code class="codeph">UNREGISTER_DEPENDENT_OBJECT</code> procedure can be used to unregister a dependent object on the table being redefined and on the interim table.
                           </p>
                           <div class="infoboxnote" id="GUID-B3AA1388-F093-4861-BB7C-896EDF072602__GUID-8C12F516-2E86-40A8-9CAC-65DAD9F6093F">
                              <p class="notep1">Note:</p>
                              <p></p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p>Manually created dependent objects do not have to be identical to their corresponding original dependent objects. For example, when manually creating a materialized view log on the interim table, you can log different columns. In addition, the interim table can have more or fewer dependent objects.</p>
                                 </li>
                                 <li>
                                    <p>If the table being redefined includes named LOB segments, then the LOB segment names are replaced by system-generated names during online redefinition. To avoid this, you can create the interim table with new LOB segment names.</p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-B3AA1388-F093-4861-BB7C-896EDF072602__GUID-C2BA5DF3-AC17-41C6-92CD-50F8B33A94A7">
                           <p class="notep1">See Also:</p>
                           <p><a href="managing-tables.html#GUID-4E77A941-A660-4DB3-A7B8-D15FBD9BF509__CJAGDACH">Example 4</a> in <span class="q">"<a href="managing-tables.html#GUID-4E77A941-A660-4DB3-A7B8-D15FBD9BF509" title="Examples illustrate online redefinition of tables.">Online Table Redefinition Examples</a>"</span> for an example that registers a dependent object
                           </p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-4156DC5F-06C6-41D5-8C5A-C1586DEDE43E" title="You can use multiple procedures in the DBMS_REDEFINITION package to redefine tables online.">Redefining Tables Online with Multiple Procedures in DBMS_REDEFINITION</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN11672"></a><div class="props_rev_3"><a id="GUID-1153B8CB-5CF2-4C46-B5EB-F7903F801AF5" name="GUID-1153B8CB-5CF2-4C46-B5EB-F7903F801AF5"></a><h4 id="ADMIN-GUID-1153B8CB-5CF2-4C46-B5EB-F7903F801AF5" class="sect4"><span class="enumeration_section">20.8.7 </span>Results of the Redefinition Process
                  </h4>
                  <div>
                     <p>There are several results of the redefinition process.</p>
                     <p>The following are the end results of the redefinition process:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>The original table is redefined with the columns, indexes, constraints, grants, triggers, and statistics of the interim table, assuming that either <code class="codeph">REDEF_TABLE</code> or <code class="codeph">COPY_TABLE_DEPENDENTS</code> was used.
                           </p>
                        </li>
                        <li>
                           <p>Dependent objects that were registered, either explicitly using <code class="codeph">REGISTER_DEPENDENT_OBJECT</code> or implicitly using <code class="codeph">COPY_TABLE_DEPENDENTS</code>, are renamed automatically so that dependent object names on the redefined table are the same as before redefinition.
                           </p>
                           <div class="infoboxnote" id="GUID-1153B8CB-5CF2-4C46-B5EB-F7903F801AF5__GUID-919C1844-6DFA-4F73-868F-EF194ADED2EF">
                              <p class="notep1">Note:</p>
                              <p>If no registration is done or no automatic copying is done, then you must manually rename the dependent objects.</p>
                           </div>
                        </li>
                        <li>
                           <p>The referential constraints involving the interim table now involve the redefined table and are enabled.</p>
                        </li>
                        <li>
                           <p>Any indexes, triggers, materialized view logs, grants, and constraints defined on the original table (before redefinition) are transferred to the interim table and are dropped when the user drops the interim table. Any referential constraints involving the original table before the redefinition now involve the interim table and are disabled.</p>
                        </li>
                        <li>
                           <p>Some PL/SQL objects, views, synonyms, and other table-dependent objects may become invalidated. Only those objects that depend on elements of the table that were changed are invalidated. For example, if a PL/SQL procedure queries only columns of the redefined table that were unchanged by the redefinition, the procedure remains valid. See <span class="q">"<a href="managing-schema-objects.html#GUID-46D82F8E-C360-4223-B469-18039B1FFB21" title="Oracle Database provides an automatic mechanism to ensure that a dependent object is always up to date with respect to its referenced objects. You can also manually recompile invalid object.">Managing Object Dependencies</a>"</span> for more information about schema object dependencies.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-92361F74-4796-407D-A3B9-569C6E544E34" title="You can modify the logical or physical structure of a table.">Redefining Tables Online</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11673"></a><div class="props_rev_3"><a id="GUID-B3981CA4-02E9-430C-8449-3EC28B00A06E" name="GUID-B3981CA4-02E9-430C-8449-3EC28B00A06E"></a><h4 id="ADMIN-GUID-B3981CA4-02E9-430C-8449-3EC28B00A06E" class="sect4"><span class="enumeration_section">20.8.8 </span>Performing Intermediate Synchronization
                  </h4>
                  <div>
                     <p>During the redefinition process, you can synchronize the interim table with the original table if there were a large number of DML statements executed on the original table.</p>
                     <div class="section">
                        <p>After the redefinition process has been started by calling <code class="codeph">START_REDEF_TABLE</code> and before <code class="codeph">FINISH_REDEF_TABLE</code> has been called, a large number of DML statements might have been executed on the original table. If you know that this is the case, then it is recommended that you periodically synchronize the interim table with the original table. 
                        </p>
                        <p>When you start an online table redefinition operation with the <code class="codeph">START_REDEF_TABLE</code> procedure, it creates an internal materialized view to facilitate synchronization. This internal materialized view is refreshed to synchronize the interim table with the original table.
                        </p>
                        <p>To  synchronize the interim table with the original table:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Run the <code class="codeph">SYNC_INTERIM_TABLE</code> procedure in the <code class="codeph">DBMS_REDEFINITION</code> package.
                              </p>
                           </li>
                        </ul>
                        <p>Calling this procedure reduces the time taken by <code class="codeph">FINISH_REDEF_TABLE</code> to complete the redefinition process. There is no limit to the number of times that you can call <code class="codeph">SYNC_INTERIM_TABLE</code>.
                        </p>
                        <p>The small amount of time that the original table is locked during <code class="codeph">FINISH_REDEF_TABLE</code> is independent of whether <code class="codeph">SYNC_INTERIM_TABLE</code> has been called.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-92361F74-4796-407D-A3B9-569C6E544E34" title="You can modify the logical or physical structure of a table.">Redefining Tables Online</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-D902E9EE-9EA2-434B-934E-43A549D64CEB" name="GUID-D902E9EE-9EA2-434B-934E-43A549D64CEB"></a><h4 id="ADMIN-GUID-D902E9EE-9EA2-434B-934E-43A549D64CEB" class="sect4"><span class="enumeration_section">20.8.9 </span>Refreshing Dependent Materialized Views During Online Table Redefinition
                  </h4>
                  <div>
                     <p>To refresh dependent fast refreshable materialized views during online table redefinition, set the <code class="codeph">refresh_dep_mviews</code> parameter to <code class="codeph">Y</code> in the <code class="codeph">REDEF_TABLE</code> procedure or the <code class="codeph">START_REDEF_TABLE</code> procedure.
                     </p>
                     <div class="section">
                        <p>A dependent materialized view is any materialized view that is defined on the table being redefined. Performing a complete refresh of dependent materialized views after online table redefinition can be time consuming. You can incrementally refresh fast refreshable materialized views during online table redefinition to make the operation more efficient.</p>
                        <p>The following restrictions apply to refreshing a dependent materialized view:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The materialized view must be fast refreshable.</p>
                           </li>
                           <li>
                              <p><code class="codeph">ROWID</code> materialized views are not supported.
                              </p>
                           </li>
                           <li>
                              <p>Materialized join views are not supported.</p>
                           </li>
                        </ul>
                        <p>A complete refresh of dependent <code class="codeph">ROWID</code> materialized views and materialized join views is required after online table redefinition.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>In SQL*Plus, connect as a user with the required privileges for performing online redefinition of a table.</span><div>Specifically, the user must have the privileges described in <span class="q">"<a href="managing-tables.html#GUID-0191D286-24D5-4E2A-817B-99FAAB96D4B3" title="Execute privileges on the DBMS_REDEFINITION package are required to run subprograms in the package. Execute privileges on the DBMS_REDEFINITION package are granted to EXECUTE_CATALOG_ROLE.">Privileges Required for the DBMS_REDEFINITION Package</a>"</span>.
                           </div>
                           <div>See <span class="q">"<a href="getting-started-with-database-administration.html#GUID-895EC72B-C620-4D93-9F23-3F6DC1706764" title="Oracle Database includes the following components: the Oracle Database instance, which is a collection of processes and memory, and a set of disk files that contain user data and system data.">Connecting to the Database with SQL*Plus</a>"</span>.
                           </div>
                        </li>
                        <li class="stepexpand"><span>Perform an online redefinition of a table using one of the following methods:</span><ul>
                              <li>Running the <code class="codeph">REDEF_TABLE</code> procedure and ensuring that the <code class="codeph">refresh_dep_mviews</code> parameter is set to <code class="codeph">Y</code>. 
                                 <p>With this method, fast refresh of dependent materialized views is performed once at the end of the redefinition operation.</p>
                              </li>
                              <li>Starting online table redefinition with the <code class="codeph">START_REDEF_TABLE</code> procedure and ensuring that the <code class="codeph">refresh_dep_mviews</code> parameter is set to <code class="codeph">Y</code>. This method ends with the <code class="codeph">FINISH_REDEF_TABLE</code> procedure. 
                                 <p>With this method, fast refresh of dependent materialized views is performed when the <code class="codeph">START_REDEF_TABLE</code> procedure is run, each time the <code class="codeph">SYNC_INTERIM_TABLE</code> procedure is run, and when the <code class="codeph">FINISH_REDEF_TABLE</code> procedure is run.
                                 </p>
                                 <div class="infoboxnote" id="GUID-D902E9EE-9EA2-434B-934E-43A549D64CEB__GUID-6C5964CF-9414-4674-AAE7-784EDFCE264F">
                                    <p class="notep1">Note:</p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p>You can check the value of the <code class="codeph">refresh_dep_mviews</code> parameter for an online table redefinition operation by querying the <code class="codeph">DBA_REDEFINITION_STATUS</code> view.
                                          </p>
                                       </li>
                                       <li>
                                          <p>You can check on the progress of a refresh that is run automatically during online table redefinition by querying the <code class="codeph">REFRESH_STATEMENT_SQL_ID</code> and <code class="codeph">REFRESH_STATEMENT</code> columns in the <code class="codeph">V$ONLINE_REDEF</code> view. You can use the <code class="codeph">SQL_ID</code> value returned in the <code class="codeph">REFRESH_STATEMENT_SQL_ID</code> column to monitor the progress of a refresh in views such as the <code class="codeph">V$SQL</code> view and the <code class="codeph">V$SQL_MONITOR</code> view.
                                          </p>
                                       </li>
                                       <li>
                                          <p>If you want to change the value of  the <code class="codeph">refresh_dep_mviews</code> parameter during an online table redefinition operation, then you can use the <code class="codeph">DBMS_REDEFINITION.SET_PARAM</code> procedure to reset the parameter.
                                          </p>
                                       </li>
                                    </ul>
                                 </div>
                              </li>
                           </ul>
                        </li>
                     </ol>
                     <div class="example" id="GUID-D902E9EE-9EA2-434B-934E-43A549D64CEB__GUID-22E434E5-A00D-4D07-A9BB-B4B4959382A4">
                        <p class="titleinexample">Example 20-15 Refreshing Dependent Materialized Views While Running the REDEF_TABLE Procedure</p>This example redefines the <code class="codeph">hr.employees</code> table to compress the table with advanced row compression and refreshes dependent materialized views.<pre class="pre codeblock"><code>BEGIN
  DBMS_REDEFINITION.REDEF_TABLE(
    uname                  =&gt; 'HR',
    tname                  =&gt; 'EMPLOYEES',
    table_compression_type =&gt; 'ROW STORE COMPRESS ADVANCED',
    refresh_dep_mviews     =&gt; 'Y');
END;
/ </code></pre></div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-D902E9EE-9EA2-434B-934E-43A549D64CEB__GUID-30B89390-F2BB-40B8-BFA9-A6020B8DADED">
                        <p class="titleinexample">Example 20-16 Refreshing Dependent Materialized Views While Starting with the START_REDEF_TABLE Procedure</p>
                        <p>Assume that you want to redefine the <code class="codeph">oe.orders</code> table. The table definition is:
                        </p><pre class="pre codeblock"><code>CREATE TABLE oe.orders(
     order_id      NUMBER(12),
     order_date    TIMESTAMP WITH LOCAL TIME ZONE, 
     order_mode    VARCHAR2(8),
     customer_id   NUMBER(6), 
     order_status  NUMBER(2),
     order_total   NUMBER(8,2),
     sales_rep_id  NUMBER(6),
     promotion_id  NUMBER(6));</code></pre><p>This example redefines the table to increase the size of the <code class="codeph">order_mode</code> column to <code class="codeph">16</code>. The interim table definition is:
                        </p><pre class="pre codeblock"><code>CREATE TABLE oe.int_orders(
     order_id      NUMBER(12),
     order_date    TIMESTAMP WITH LOCAL TIME ZONE, 
     order_mode    VARCHAR2(16),
     customer_id   NUMBER(6), 
     order_status  NUMBER(2),
     order_total   NUMBER(8,2),
     sales_rep_id  NUMBER(6),
     promotion_id  NUMBER(6));</code></pre><p>Also assume that this table has dependent materialized views. The table has a materialized view log created with the following statement:</p><pre class="pre codeblock"><code>CREATE MATERIALIZED VIEW LOG ON oe.orders WITH PRIMARY KEY, ROWID;
</code></pre><p>The <code class="codeph">oe.orders</code> table has the following dependent materialized views:
                        </p><pre class="pre codeblock"><code>CREATE MATERIALIZED VIEW oe.orders_pk REFRESH FAST AS
 SELECT * FROM oe.orders;

CREATE MATERIALIZED VIEW oe.orders_rowid REFRESH FAST WITH ROWID AS
 SELECT * FROM oe.orders;</code></pre><p>The <code class="codeph">oe.orders_pk</code> materialized view is a fast refreshable, primary key materialized view. Therefore, it can be refreshed during online table redefinition.
                        </p>
                        <p>The <code class="codeph">oe.orders_rowid</code> materialized view is fast refreshable, but it is a <code class="codeph">ROWID</code> materialized view. Therefore, it cannot be refreshed during online table redefinition.
                        </p>
                        <p>Complete the following steps to perform online table redefinition on the <code class="codeph">oe.orders</code> table while refreshing the <code class="codeph">oe.orders_pk</code> materialized view:
                        </p>
                        <ol>
                           <li>
                              <p>Start the redefinition process. </p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_REDEFINITION.START_REDEF_TABLE(
    uname              =&gt; 'oe', 
    orig_table         =&gt; 'orders',
    int_table          =&gt; 'int_orders',
    options_flag       =&gt; DBMS_REDEFINITION.CONS_USE_PK,
    refresh_dep_mviews =&gt; 'Y');
END;
/
</pre></li>
                           <li>
                              <p>Copy dependent objects. (Automatically create any triggers, indexes, materialized view logs, grants, and constraints on <code class="codeph">oe.int_orders</code>.) 
                              </p><pre class="oac_no_warn" dir="ltr">DECLARE
num_errors PLS_INTEGER;
BEGIN
  DBMS_REDEFINITION.COPY_TABLE_DEPENDENTS(
    uname            =&gt; 'oe', 
    orig_table       =&gt; 'orders',
    int_table        =&gt; 'int_orders',
    copy_indexes     =&gt; DBMS_REDEFINITION.CONS_ORIG_PARAMS, 
    copy_triggers    =&gt; TRUE, 
    copy_constraints =&gt; TRUE, 
    copy_privileges  =&gt; TRUE, 
    ignore_errors    =&gt; TRUE, 
    num_errors       =&gt; num_errors);
END;
/
</pre></li>
                           <li>
                              <div class="p">Check the redefinition status:<pre class="oac_no_warn" dir="ltr">SELECT REDEFINITION_ID, REFRESH_DEP_MVIEWS 
   FROM DBA_REDEFINITION_STATUS 
   WHERE BASE_TABLE_OWNER = 'OE' AND BASE_TABLE_NAME = 'ORDERS';</pre></div>
                           </li>
                           <li>
                              <p>Perform DML on the original table. For example:</p><pre class="oac_no_warn" dir="ltr">INSERT INTO oe.orders VALUES(3000,sysdate,'direct',102,1,42283.2,154,NULL); 
COMMIT;</pre></li>
                           <li>
                              <p>Synchronize the interim table <code class="codeph">oe.int_orders</code>. This step refreshes the dependent materialized view <code class="codeph">oe.orders_pk</code>.
                              </p><pre class="oac_no_warn" dir="ltr">BEGIN 
  DBMS_REDEFINITION.SYNC_INTERIM_TABLE(
    uname      =&gt; 'OE', 
    orig_table =&gt; 'ORDERS', 
    int_table  =&gt; 'INT_ORDERS');
END;
/
</pre></li>
                           <li>
                              <div class="p">Check the refresh status of the dependent materialized views for the <code class="codeph">oe.orders</code> table:<pre class="oac_no_warn" dir="ltr">SELECT m.OWNER, m.MVIEW_NAME, m.STALENESS, m.LAST_REFRESH_DATE
   FROM ALL_MVIEWS m, ALL_MVIEW_DETAIL_RELATIONS d
   WHERE m.OWNER=d.OWNER AND 
         m. MVIEW_NAME=d.MVIEW_NAME AND
         d.DETAILOBJ_OWNER = 'OE' AND 
         d.DETAILOBJ_NAME = 'ORDERS';
</pre>The <code class="codeph">oe.orders_pk</code> materialized view was refreshed during the previous step, so it has <code class="codeph">FRESH</code> for its <code class="codeph">STALENESS</code> status. The <code class="codeph">oe.orders_rowid</code> materialized view was not refreshed during the previous step, so it has <code class="codeph">NEEDS_COMPLILE</code> for its <code class="codeph">STALENESS</code> status. 
                              </div>
                           </li>
                           <li>
                              <p>Complete the redefinition.</p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_REDEFINITION.FINISH_REDEF_TABLE(
    uname      =&gt; 'OE', 
    orig_table =&gt; 'ORDERS', 
    int_table  =&gt; 'INT_ORDERS');
END;
/
</pre><p>You can query the <code class="codeph">oe.orders_pk</code> materialized view to confirm that the new row inserted into the <code class="codeph">oe.orders</code> table exist in the materialized view because it was refreshed during online table redefinition.
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="managing-tables.html#GUID-273794DD-440A-43DE-B252-8AC91D54FC33" title="You can query the V$ONLINE_REDEF view to monitor the progress of an online table redefinition operation.">Monitoring Online Table Redefinition Progress</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-92361F74-4796-407D-A3B9-569C6E544E34" title="You can modify the logical or physical structure of a table.">Redefining Tables Online</a></p>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-273794DD-440A-43DE-B252-8AC91D54FC33" name="GUID-273794DD-440A-43DE-B252-8AC91D54FC33"></a><h4 id="ADMIN-GUID-273794DD-440A-43DE-B252-8AC91D54FC33" class="sect4"><span class="enumeration_section">20.8.10 </span>Monitoring Online Table Redefinition Progress
                  </h4>
                  <div>
                     <p>You can query the <code class="codeph">V$ONLINE_REDEF</code> view to monitor the progress of an online table redefinition operation.
                     </p>
                     <div class="section">
                        <p>During the process of redefining a table online, some operations can take a long time to execute. While these operations are executing, you can query the <code class="codeph">V$ONLINE_REDEF</code> view for detailed information about the progress of the operation. For example, it can take a long time for the <code class="codeph">DBMS_REDEFINITION.START_REDEF_TABLE</code> procedure to load data into the interim table.
                        </p>
                        <p>The <code class="codeph">V$ONLINE_REDEF</code> view provides a percentage complete value for the operation in the <code class="codeph">PROGRESS</code> column. This view shows the current step in the total number of steps required to complete the operation in the <code class="codeph">OPERATION</code> column. For example, if there are 10 steps in the operation, then this column might show <code class="codeph">Step 6 out of 10</code>. The view also includes a <code class="codeph">SUBOPERATION</code> column and a <code class="codeph">DETAILED_MESSAGE</code> column for more granular information about the current operation.
                        </p>
                        <p>During the online table redefinition process, an internal materialized view is created, and this materialized view is refreshed during some operations to keep the original table and the interim table synchronized. You can check on the progress of a refresh that is run automatically during online table redefinition by querying the <code class="codeph">REFRESH_STATEMENT_SQL_ID</code> and <code class="codeph">REFRESH_STATEMENT</code> columns in the <code class="codeph">V$ONLINE_REDEF</code> view. You can use the <code class="codeph">SQL_ID</code> value returned in the <code class="codeph">REFRESH_STATEMENT_SQL_ID</code> column to monitor the progress of a refresh in views such as the <code class="codeph">V$SQL</code> view and the <code class="codeph">V$SQL_MONITOR</code> view.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>Connect to the database in a session that is separate from the session that is performing online table redefinition.</span></li>
                        <li><span>Query the <code class="codeph">V$ONLINE_REDEF</code> view.</span></li>
                     </ol>
                     <div class="example" id="GUID-273794DD-440A-43DE-B252-8AC91D54FC33__GUID-FD4211D3-6CD8-4047-9E35-BE15B0E533C7">
                        <p class="titleinexample">Example 20-17 Monitoring Online Table Redefinition Progress</p>
                        <p>This example redefines the Oracle-supplied <code class="codeph">sh.customers</code> table by adding a <code class="codeph">cust_alt_phone_number</code> column.
                        </p><pre class="pre codeblock"><code>CREATE TABLE customers (
    cust_id                NUMBER          NOT NULL,
    cust_first_name        VARCHAR2(20)    NOT NULL,
    cust_last_name         VARCHAR2(40)    NOT NULL,
    cust_gender            CHAR(1)         NOT NULL,
    cust_year_of_birth     NUMBER(4)       NOT NULL,
    cust_marital_status    VARCHAR2(20),
    cust_street_address    VARCHAR2(40)    NOT NULL,
    cust_postal_code       VARCHAR2(10)    NOT NULL,
    cust_city              VARCHAR2(30)    NOT NULL,
    cust_city_id           NUMBER          NOT NULL,
    cust_state_province    VARCHAR2(40)    NOT NULL,
    cust_state_province_id NUMBER          NOT NULL,
    country_id             NUMBER          NOT NULL,
    cust_main_phone_number VARCHAR2(25)    NOT NULL,
    cust_income_level      VARCHAR2(30),
    cust_credit_limit      NUMBER,
    cust_email             VARCHAR2(50),
    cust_total             VARCHAR2(14)    NOT NULL,
    cust_total_id          NUMBER          NOT NULL,
    cust_src_id            NUMBER,
    cust_eff_from          DATE,
    cust_eff_to            DATE,
    cust_valid             VARCHAR2(1));</code></pre><p>This table contains a large amount of data, and some of the operations in the online table redefinition process will take time. This example monitors various operations by querying the <code class="codeph">V$ONLINE_REDEF</code> view.
                        </p>
                        <ol>
                           <li>
                              <p>In SQL*Plus, connect as a user with the required privileges for performing online redefinition of a table.</p>
                              <p>Specifically, the user must have the privileges described in <span class="q">"<a href="managing-tables.html#GUID-0191D286-24D5-4E2A-817B-99FAAB96D4B3" title="Execute privileges on the DBMS_REDEFINITION package are required to run subprograms in the package. Execute privileges on the DBMS_REDEFINITION package are granted to EXECUTE_CATALOG_ROLE.">Privileges Required for the DBMS_REDEFINITION Package</a>"</span>.
                              </p>
                              <p>See <span class="q">"<a href="getting-started-with-database-administration.html#GUID-895EC72B-C620-4D93-9F23-3F6DC1706764" title="Oracle Database includes the following components: the Oracle Database instance, which is a collection of processes and memory, and a set of disk files that contain user data and system data.">Connecting to the Database with SQL*Plus</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>Create an interim table <code class="codeph">sh.int_customers</code>.
                              </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE sh.int_customers (
    cust_id                NUMBER          NOT NULL,
    cust_first_name        VARCHAR2(20)    NOT NULL,
    cust_last_name         VARCHAR2(40)    NOT NULL,
    cust_gender            CHAR(1)         NOT NULL,
    cust_year_of_birth     NUMBER(4)       NOT NULL,
    cust_marital_status    VARCHAR2(20),
    cust_street_address    VARCHAR2(40)    NOT NULL,
    cust_postal_code       VARCHAR2(10)    NOT NULL,
    cust_city              VARCHAR2(30)    NOT NULL,
    cust_city_id           NUMBER          NOT NULL,
    cust_state_province    VARCHAR2(40)    NOT NULL,
    cust_state_province_id NUMBER          NOT NULL,
    country_id             NUMBER          NOT NULL,
    cust_main_phone_number VARCHAR2(25)    NOT NULL,
    cust_income_level      VARCHAR2(30),
    cust_credit_limit      NUMBER,
    cust_email             VARCHAR2(50),
    cust_total             VARCHAR2(14)    NOT NULL,
    cust_total_id          NUMBER          NOT NULL,
    cust_src_id            NUMBER,
    cust_eff_from          DATE,
    cust_eff_to            DATE,
    cust_valid             VARCHAR2(1),
    cust_alt_phone_number  VARCHAR2(25));</pre></li>
                           <li>
                              <p>Start the redefinition process, and monitor the progress of the operation.</p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_REDEFINITION.START_REDEF_TABLE(
    uname        =&gt; 'sh', 
    orig_table   =&gt; 'customers',
    int_table    =&gt; 'int_customers',
    options_flag =&gt; DBMS_REDEFINITION.CONS_USE_PK);
END;
/
</pre><p>As this operation is running, and  in a session that is separate from the session that is performing online table redefinition, query the <code class="codeph">V$ONLINE_REDEF</code> view to monitor its progress:
                              </p><pre class="pre codeblock"><code>SELECT * FROM V$ONLINE_REDEF;</code></pre><p>Output from this query might show the following:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">START_REDEF_TABLE</code> for <code class="codeph">OPERATION</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">complete refresh the materialized view</code> for <code class="codeph">SUBOPERATION</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">step 6 out of 7</code> for <code class="codeph">PROGRESS</code></p>
                                 </li>
                              </ul>
                           </li>
                           <li>
                              <p>Copy dependent objects. (Automatically create any triggers, indexes, materialized view logs, grants, and constraints on <code class="codeph">sh.int_customers</code>.) 
                              </p><pre class="oac_no_warn" dir="ltr">DECLARE
num_errors PLS_INTEGER;
BEGIN
  DBMS_REDEFINITION.COPY_TABLE_DEPENDENTS(
    uname            =&gt; 'sh', 
    orig_table       =&gt; 'customers',
    int_table        =&gt; 'int_customers',
    copy_indexes     =&gt; DBMS_REDEFINITION.CONS_ORIG_PARAMS, 
    copy_triggers    =&gt; TRUE, 
    copy_constraints =&gt; TRUE, 
    copy_privileges  =&gt; TRUE, 
    ignore_errors    =&gt; TRUE, 
    num_errors       =&gt; num_errors);
END;
/
</pre><p>As this operation is running, and  in a session that is separate from the session that is performing online table redefinition, query the <code class="codeph">V$ONLINE_REDEF</code> view to monitor its progress:
                              </p><pre class="pre codeblock"><code>SELECT * FROM V$ONLINE_REDEF;</code></pre><p>Output from this query might show the following:</p>
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><code class="codeph">COPY_TABLE_DEPENDENTS</code> for <code class="codeph">OPERATION</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">copy the indexes</code> for <code class="codeph">SUBOPERATION</code></p>
                                 </li>
                                 <li>
                                    <p><code class="codeph">step 3 out of 7</code> for <code class="codeph">PROGRESS</code></p>
                                 </li>
                              </ul>
                              <p>Note that the <code class="codeph">ignore_errors</code> argument is set to <code class="codeph">TRUE</code> for this call. The reason is that the interim table was created with a primary key constraint, and when <code class="codeph">COPY_TABLE_DEPENDENTS</code> attempts to copy the primary key constraint and index from the original table, errors occur. You can ignore these errors.
                              </p>
                           </li>
                           <li>
                              <p>Synchronize the interim table <code class="codeph">hr.int_emp_redef</code>.
                              </p><pre class="oac_no_warn" dir="ltr">BEGIN 
  DBMS_REDEFINITION.SYNC_INTERIM_TABLE(
    uname      =&gt; 'sh', 
    orig_table =&gt; 'customers', 
    int_table  =&gt; 'int_customers');
END;
/
</pre></li>
                           <li>
                              <p>Complete the redefinition.</p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_REDEFINITION.FINISH_REDEF_TABLE(
    uname      =&gt; 'sh', 
    orig_table =&gt; 'customers', 
    int_table  =&gt; 'int_customers');
END;
/
</pre></li>
                        </ol>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="relinfo">
                        <p><strong>Related Topics</strong></p>
                        <ul>
                           <li><a href="managing-tables.html#GUID-D902E9EE-9EA2-434B-934E-43A549D64CEB" title="To refresh dependent fast refreshable materialized views during online table redefinition, set the refresh_dep_mviews parameter to Y in the REDEF_TABLE procedure or the START_REDEF_TABLE procedure.">Refreshing Dependent Materialized Views During Online Table Redefinition</a></li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-92361F74-4796-407D-A3B9-569C6E544E34" title="You can modify the logical or physical structure of a table.">Redefining Tables Online</a></p>
                        </div>
                     </div>
                  </div>
               </div>
               <div class="sect3"><a id="GUID-58F4E092-A86D-4E00-96F6-56A596C91A53" name="GUID-58F4E092-A86D-4E00-96F6-56A596C91A53"></a><h4 id="ADMIN-GUID-58F4E092-A86D-4E00-96F6-56A596C91A53" class="sect4"><span class="enumeration_section">20.8.11 </span>Restarting Online Table Redefinition After a Failure
                  </h4>
                  <div>
                     <p>If online table redefinition fails, then you can check the <code class="codeph">DBA_REDEFINITION_STATUS</code> view to see the error information and restartable information.
                     </p>
                     <div class="section">
                        <p> If <code class="codeph">RESTARTABLE</code> is <code class="codeph">Y</code>, then you can correct the error and restart the online redefinition process where it last stopped. If <code class="codeph">RESTARTABLE</code> is <code class="codeph">N</code>, you must abort the redefinition operation.
                        </p>
                        <p>In some cases, it is possible to restart the online redefinition of a table after a failure. Restarting the operation means that the online redefinition process begins where it stopped because of the failure, and no work is lost. For example, if a <code class="codeph">SYNC_INTERIM_TABLE</code> procedure call fails because of an “unable to extent table in tablespace” error, then the problem can be corrected by increasing the size of the tablespace that ran out of space and rerunning the <code class="codeph">SYNC_INTERIM_TABLE</code> procedure call.
                        </p>
                        <p>If online table redefinition fails, then you can complete the following steps to restart it:</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>Query the <code class="codeph">DBA_REDEFINITION_STATUS</code> view to determine the cause of the failure and the action required to correct it.</span><div>For example, run the following query:<pre class="pre codeblock"><code>SELECT BASE_TABLE_NAME, 
       INTERIM_OBJECT_NAME, 
       OPERATION, 
       STATUS, 
       RESTARTABLE, 
       ACTION 
   FROM DBA_REDEFINITION_STATUS;</code></pre></div>
                           <div>If the <code class="codeph">RESTARTABLE</code> value is <code class="codeph">Y</code>, then the operation can be restarted. If the <code class="codeph">RESTARTABLE</code> value is <code class="codeph">N</code>, then the operation cannot be restarted, and redefinition must be performed again from the beginning.
                           </div>
                        </li>
                        <li class="stepexpand"><span>Perform the action specified in the query results from the previous step.</span></li>
                        <li class="stepexpand"><span>Restart the online redefinition with the operation specified in the query results, and run all of the subsequent operations to finish online redefinition of the table.</span></li>
                     </ol>
                     <div class="example" id="GUID-58F4E092-A86D-4E00-96F6-56A596C91A53__GUID-B3F87946-75EC-43F0-AF6D-1D8FD2B62643">
                        <p class="titleinexample">Example 20-18 SYNC_INTERIM_TABLE Procedure Call Failure</p>
                        <div class="p">This example illustrates restarting an online redefinition operation that failed on a <code class="codeph">SYNC_INTERIM_TABLE</code> procedure call with the following error:<pre class="pre codeblock"><code>BEGIN
DBMS_REDEFINITION.SYNC_INTERIM_TABLE('U1', 'ORIG', 'INT');
END;
/
ORA-42009: error occurred while synchronizing the redefinition
ORA-01653: unable to extend table U1.INT by 8 in tablespace my_tbs
ORA-06512: at "SYS.DBMS_REDEFINITION", line 148
ORA-06512: at "SYS.DBMS_REDEFINITION", line 2807
ORA-06512: at line 2</code></pre></div>
                        <ol>
                           <li>
                              <p>Query the <code class="codeph">DBA_REDEFINITION_STATUS</code> view:
                              </p><pre class="pre codeblock"><code>SELECT BASE_TABLE_NAME,  INT_TABLE_NAME, OPERATION, STATUS, RESTARTABLE, ACTION 
   FROM DBA_REDEFINITION_STATUS;

BASE_TABLE_NAME INT_OBJ_NAME OPERATION          STATUS  RESTARTABLE ACTION
--------------- ------------ ------------------ ------- ----------- ---------
ORIG            INT          SYNC_INTERIM_TABLE FAILED  Y           Fix error
</code></pre><p>The online redefinition operation can be restarted because <code class="codeph">RESTARTABLE</code> is <code class="codeph">Y</code> in the query results. To restart the operation, correct the error returned when the operation failed and restart the operation. In this example, the error is “ORA-01653: unable to extend table <code class="codeph">U1.INT</code> by 8 in tablespace <code class="codeph">my_tbs</code>”.
                              </p>
                           </li>
                           <li>
                              <div class="p">Increase the size of the <code class="codeph">my_tbs</code> tablespace by adding a data file to it:<pre class="pre codeblock"><code>ALTER TABLESPACE my_tbs
   ADD DATAFILE '/u02/oracle/data/my_tbs2.dbf' SIZE 100M;</code></pre></div>
                           </li>
                           <li>
                              <p>Rerun <code class="codeph">SYNC_INTERIM_TABLE</code> procedure call:
                              </p><pre class="pre codeblock"><code>BEGIN
   DBMS_REDEFINITION.SYNC_INTERIM_TABLE('U1', 'ORIG', 'INT');
END;
/</code></pre></li>
                        </ol>
                     </div>
                     <!-- class="example" -->
                     <div class="example" id="GUID-58F4E092-A86D-4E00-96F6-56A596C91A53__GUID-98026593-33B0-4CC9-A805-BFFBBB463E75">
                        <p class="titleinexample">Example 20-19 Materialized View Log Problem</p>
                        <p>After the redefinition is started on the original table, there can be a problem with the materialized view log. For example, the materialized view log might be accidentally dropped or corrupted for some reason. In such cases, errors similar to the following are returned:</p><pre class="pre codeblock"><code>ERROR at line 1:
ORA-42010: error occurred while synchronizing the redefinition
ORA-12034: materialized view log on "HR"."T1" younger than last refresh</code></pre><p>Assume a table that was created with the following SQL statement is being redefined:</p><pre class="pre codeblock"><code>CREATE TABLE hr.t1(
      c1 NUMBER PRIMARY KEY, 
      c2 NUMBER)
   TABLESPACE example_tbs;</code></pre><p>Assume an interim table was created with the following SQL statement that changes the table’s tablespace:</p><pre class="pre codeblock"><code>CREATE TABLE hr.int_t1(
      c1 NUMBER PRIMARY KEY, 
      c2 NUMBER)
   TABLESPACE hr_tbs;</code></pre><ol>
                           <li>
                              <p>In SQL*Plus, connect as a user with the required privileges for performing online redefinition of a table.</p>
                              <p>Specifically, the user must have the privileges described in <span class="q">"<a href="managing-tables.html#GUID-0191D286-24D5-4E2A-817B-99FAAB96D4B3" title="Execute privileges on the DBMS_REDEFINITION package are required to run subprograms in the package. Execute privileges on the DBMS_REDEFINITION package are granted to EXECUTE_CATALOG_ROLE.">Privileges Required for the DBMS_REDEFINITION Package</a>"</span>.
                              </p>
                              <p>See <span class="q">"<a href="getting-started-with-database-administration.html#GUID-895EC72B-C620-4D93-9F23-3F6DC1706764" title="Oracle Database includes the following components: the Oracle Database instance, which is a collection of processes and memory, and a set of disk files that contain user data and system data.">Connecting to the Database with SQL*Plus</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>Start the redefinition process. </p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_REDEFINITION.START_REDEF_TABLE(
    uname           =&gt; 'hr', 
    orig_table      =&gt; 't1',
    int_table       =&gt; 'int_t1');
END;
/
</pre></li>
                           <li>
                              <p>Drop the materialized view log on the original table.</p><pre class="pre codeblock"><code>DROP MATERIALIZED VIEW LOG ON hr.t1;</code></pre></li>
                           <li>
                              <p>Create a new materialized view log on the original table.</p><pre class="pre codeblock"><code>CREATE MATERIALIZED VIEW LOG ON hr.t1 
   WITH COMMIT SCN PURGE
   IMMEDIATE ASYNCHRONOUS;
</code></pre></li>
                           <li>
                              <p>Synchronize the interim table <code class="codeph">hr.int_t1</code>.
                              </p><pre class="pre codeblock"><code>BEGIN 
  DBMS_REDEFINITION.SYNC_INTERIM_TABLE(
    uname      =&gt; 'hr', 
    orig_table =&gt; 't1',
    int_table  =&gt; 'int_t1');
END;
/
BEGIN
*
ERROR at line 1:
ORA-42010: error occurred while synchronizing the redefinition
ORA-12034: materialized view log on "HR"."T1" younger than last refresh
</code></pre></li>
                           <li>
                              <p>Because an error was returned, check the <code class="codeph">DBA_REDEFINITION_STATUS</code> view.
                              </p><pre class="pre codeblock"><code>COLUMN BASE_OBJECT_NAME FORMAT A11
COLUMN OPERATION FORMAT A10
COLUMN STATUS FORMAT A10
COLUMN RESTARTABLE FORMAT A11
COLUMN ERR_TXT FORMAT A15
COLUMN ACTION FORMAT A18

SELECT BASE_OBJECT_NAME, OPERATION, STATUS, RESTARTABLE, ERR_TXT, ACTION 
   FROM DBA_REDEFINITION_STATUS 
   ORDER BY BASE_TABLE_NAME, BASE_OBJECT_NAME;


BASE_OBJECT OPERATION  STATUS     RESTARTABLE ERR_TXT         ACTION
----------- ---------- ---------- ----------- --------------- ------------------
T1          SYNC_REDEF Failure    N           ORA-12034: mate Abort redefinition
            _TABLE                            rialized view l
                                              og on "HR"."T1"
                                               younger than l
                                              ast refresh

</code></pre><p>The online redefinition operation cannot be restarted because <code class="codeph">RESTARTABLE</code> is <code class="codeph">N</code> in the query results, and the <code class="codeph">ACTION</code> column indicates that the online table redefinition operation must be aborted.
                              </p>
                           </li>
                           <li>
                              <p>Abort the online table redefinition operation.</p><pre class="pre codeblock"><code>BEGIN 
  DBMS_REDEFINITION.ABORT_REDEF_TABLE(
    uname      =&gt; 'hr', 
    orig_table =&gt; 't1',
    int_table  =&gt; 'int_t1');
END;
/</code></pre></li>
                        </ol>
                     </div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-92361F74-4796-407D-A3B9-569C6E544E34" title="You can modify the logical or physical structure of a table.">Redefining Tables Online</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-FDCA40B7-D2EC-4900-98E4-8F1DACEDE0CF" name="GUID-FDCA40B7-D2EC-4900-98E4-8F1DACEDE0CF"></a><h4 id="ADMIN-GUID-FDCA40B7-D2EC-4900-98E4-8F1DACEDE0CF" class="sect4"><span class="enumeration_section">20.8.12 </span>Rolling Back Online Table Redefinition
                  </h4>
                  <div>
                     <p>You can enable roll back of a table after online table redefinition to return the table to its original definition and preserve DML changes made to the table.</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-290254D6-C1C9-4A55-92DF-DF0A32EA0590">About Online Table Redefinition Rollback</a><br>After online table redefinition, you can roll back the table to its definition before online table redefinition while preserving all data manipulation language (DML) changes made to the table.
                        </li>
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-816DDA7F-51DD-423E-AE80-C49F8658A093">Performing Online Table Redefinition Rollback</a><br>The <code class="codeph">ROLLBACK</code> procedure in the <code class="codeph">DBMS_REDEFINITION</code> package returns a table that was redefined online to its original definition while preserving DML changes.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-92361F74-4796-407D-A3B9-569C6E544E34" title="You can modify the logical or physical structure of a table.">Redefining Tables Online</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-290254D6-C1C9-4A55-92DF-DF0A32EA0590" name="GUID-290254D6-C1C9-4A55-92DF-DF0A32EA0590"></a><h5 id="ADMIN-GUID-290254D6-C1C9-4A55-92DF-DF0A32EA0590" class="sect5"><span class="enumeration_section">20.8.12.1 </span>About Online Table Redefinition Rollback
                     </h5>
                     <div>
                        <p>After online table redefinition, you can roll back the table to its definition before online table redefinition while preserving all data manipulation language (DML) changes made to the table.</p>
                        <p>In some cases, you might want to undo an online redefinition of a table. For example, the performance of operations on the table might be worse after the redefinition than it was before the redefinition. In these cases, you can roll back the table to its original definition while preserving all of the DML changes made to the table after it was redefined. Online table redefinition rollback is used mainly when redefinition changes the storage characteristics of the table, and the changes unexpectedly result in degraded performance.</p>
                        <p>To enable rollback of online table redefinition, the <code class="codeph">ENABLE_ROLLBACK</code> parameter must be set to <code class="codeph">TRUE</code> in the <code class="codeph">DBMS_REDEFINITION.START_TABLE_REDEF</code> procedure. When this parameter is set to true, Oracle Database maintains the interim table created during redefinition after redefinition is complete. You can run the <code class="codeph">SYNC_INTERIM_TABLE</code> procedure to synchronize the interim table periodically to apply DML changes made to the redefined table to the interim table. An internal materialized view and materialized view log enables maintenance of the interim table. If you decide to roll back the online table redefinition, then the interim table is synchronized, and Oracle Database switches back to it so that the table has its original definition.
                        </p>
                        <p>The following restrictions apply to online table redefinition rollback:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>When there is no one to one mapping of the original table’s columns to interim table’s columns, there must be no operators or functions in column mappings during redefinition.</p>
                              <p>There can be operators and functions in column mappings when there is a one to one mapping of the original table’s columns to interim table’s columns.</p>
                           </li>
                           <li>
                              <p>When rollback is enabled for a redefinition, the table cannot be redefined again until the online table redefinition is rolled back or aborted.</p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-FDCA40B7-D2EC-4900-98E4-8F1DACEDE0CF" title="You can enable roll back of a table after online table redefinition to return the table to its original definition and preserve DML changes made to the table.">Rolling Back Online Table Redefinition</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-816DDA7F-51DD-423E-AE80-C49F8658A093" name="GUID-816DDA7F-51DD-423E-AE80-C49F8658A093"></a><h5 id="ADMIN-GUID-816DDA7F-51DD-423E-AE80-C49F8658A093" class="sect5"><span class="enumeration_section">20.8.12.2 </span>Performing Online Table Redefinition Rollback
                     </h5>
                     <div>
                        <p>The <code class="codeph">ROLLBACK</code> procedure in the <code class="codeph">DBMS_REDEFINITION</code> package returns a table that was redefined online to its original definition while preserving DML changes.
                        </p>
                        <div class="section">
                           <p>To use the <code class="codeph">ROLLBACK</code> procedure, online table redefinition rollback must be enabled during online table redefinition. If you decide to retain the changes made by online table redefinition, then you can run the <code class="codeph">ABORT_ROLLBACK</code> procedure.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>Perform an online redefinition of a table, starting with the <code class="codeph">START_REDEF_TABLE</code> procedure and ending with the <code class="codeph">FINISH_REDEF_TABLE</code> procedure.</span><div>The <code class="codeph">ENABLE_ROLLBACK</code> parameter must be set to <code class="codeph">TRUE</code> in the <code class="codeph">START_REDEF_TABLE</code> procedure. The default for this parameter is <code class="codeph">FALSE</code>.
                              </div>
                           </li>
                           <li class="stepexpand"><strong>Optional: </strong><span>Periodically, run the <code class="codeph">SYNC_INTERIM_TABLE</code> procedure to apply DML changes made to the redefined table to the interim table.</span><div>You can improve the performance of the online table redefinition rollback if you periodically apply the DML changes to the interim table.</div>
                           </li>
                           <li class="stepexpand"><span>Choose one of the following options:</span><ul>
                                 <li>If you want to undo the changes made by online table redefinition and return to the original table definition, then run the <code class="codeph">ROLLBACK</code> procedure in the <code class="codeph">DBMS_REDEFINITION</code> package.
                                 </li>
                                 <li>If you want to retain the changes made by online table redefinition, then run the <code class="codeph">ABORT_ROLLBACK</code> procedure in the <code class="codeph">DBMS_REDEFINITION</code> package.
                                    <p> Aborting the rollback stops maintenance of the interim table and removes the materialized view and materialized view log that enabled rollback.</p>
                                 </li>
                              </ul>
                           </li>
                        </ol>
                        <div class="example" id="GUID-816DDA7F-51DD-423E-AE80-C49F8658A093__GUID-9C78761F-12D2-4144-8B78-8C9C24C8F7D0">
                           <p class="titleinexample">Example 20-20 Rolling Back Online Table Redefinition</p>
                           <p>This example illustrates online redefinition of a table by changing the storage characteristics for the table. Specifically, this example compresses the tablespace for the table during online redefinition. Assume that you want to evaluate the performance of the table after online redefinition is complete. If the table does not perform as well as expected, then you want to be able to roll back the changes made by online redefinition.</p>
                           <p>Assume that the following statements created the original tablespace and table:</p><pre class="pre codeblock"><code>CREATE TABLESPACE tst_rollback_tbs 
   DATAFILE 'tst_rollback_tbs.dbf' SIZE 10M 
   ONLINE; 

CREATE TABLE hr.tst_rollback
    (rllbck_id    NUMBER(6) PRIMARY KEY,
     rllbck_name  VARCHAR2(20)) 
   TABLESPACE tst_rollback_tbs
   STORAGE (INITIAL 2M);</code></pre><ol>
                              <li>
                                 <p>In SQL*Plus, connect as a user with the required privileges for performing online redefinition of a table.</p>
                                 <p>Specifically, the user must have the privileges described in <span class="q">"<a href="managing-tables.html#GUID-0191D286-24D5-4E2A-817B-99FAAB96D4B3" title="Execute privileges on the DBMS_REDEFINITION package are required to run subprograms in the package. Execute privileges on the DBMS_REDEFINITION package are granted to EXECUTE_CATALOG_ROLE.">Privileges Required for the DBMS_REDEFINITION Package</a>"</span>.
                                 </p>
                                 <p>See <span class="q">"<a href="getting-started-with-database-administration.html#GUID-895EC72B-C620-4D93-9F23-3F6DC1706764" title="Oracle Database includes the following components: the Oracle Database instance, which is a collection of processes and memory, and a set of disk files that contain user data and system data.">Connecting to the Database with SQL*Plus</a>"</span>.
                                 </p>
                              </li>
                              <li>
                                 <p>Create a compressed tablespace for the interim table.</p><pre class="oac_no_warn" dir="ltr">CREATE TABLESPACE tst_cmp_rollback_tbs 
   DEFAULT ROW STORE COMPRESS ADVANCED
   DATAFILE 'tst_cmp_rollback_tbs.dbf' SIZE 10M 
   ONLINE; </pre></li>
                              <li>
                                 <p>Create an interim table <code class="codeph">hr.int_tst_rollback</code>.
                                 </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE hr.int_tst_rollback
    (rllbck_id    NUMBER(6) PRIMARY KEY,
     rllbck_name  VARCHAR2(20)) 
   TABLESPACE tst_cmp_rollback_tbs
   STORAGE (INITIAL 2M);</pre><p>Ensure that the interim table uses the compressed tablespace created in the previous step.</p>
                              </li>
                              <li>
                                 <p>Start the redefinition process. </p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_REDEFINITION.START_REDEF_TABLE(
    uname           =&gt; 'hr', 
    orig_table      =&gt; 'tst_rollback',
    int_table       =&gt; 'int_tst_rollback',
    options_flag    =&gt; DBMS_REDEFINITION.CONS_USE_PK,
    enable_rollback =&gt; TRUE);
END;
/
</pre><p>Ensure that <code class="codeph">enable_rollback</code> is set to <code class="codeph">TRUE</code> so that the changes made by online redefinition can be rolled back.
                                 </p>
                              </li>
                              <li>
                                 <p>Copy dependent objects.</p><pre class="oac_no_warn" dir="ltr">DECLARE
num_errors PLS_INTEGER;
BEGIN
  DBMS_REDEFINITION.COPY_TABLE_DEPENDENTS(
    uname            =&gt; 'hr', 
    orig_table       =&gt; 'tst_rollback',
    int_table        =&gt; 'int_tst_rollback',
    copy_indexes     =&gt; DBMS_REDEFINITION.CONS_ORIG_PARAMS, 
    copy_triggers    =&gt; TRUE, 
    copy_constraints =&gt; TRUE, 
    copy_privileges  =&gt; TRUE, 
    ignore_errors    =&gt; TRUE, 
    num_errors       =&gt; num_errors);
END;
/
</pre></li>
                              <li>
                                 <p>Query the <code class="codeph">DBA_REDEFINITION_ERRORS</code> view to check for errors.
                                 </p><pre class="oac_no_warn" dir="ltr">SET LONG  8000
SET PAGES 8000
COLUMN OBJECT_NAME HEADING 'Object Name' FORMAT A20
COLUMN BASE_TABLE_NAME HEADING 'Base Table Name' FORMAT A10
COLUMN DDL_TXT HEADING 'DDL That Caused Error' FORMAT A40
 
SELECT OBJECT_NAME, BASE_TABLE_NAME, DDL_TXT FROM 
         DBA_REDEFINITION_ERRORS;
</pre><p>You can ignore errors related to the primary key and indexes.</p>
                              </li>
                              <li>
                                 <p>Synchronize the interim table <code class="codeph">hr.int_tst_rollback</code>.
                                 </p><pre class="oac_no_warn" dir="ltr">BEGIN 
  DBMS_REDEFINITION.SYNC_INTERIM_TABLE(
    uname      =&gt; 'hr', 
    orig_table =&gt; 'tst_rollback',
    int_table  =&gt; 'int_tst_rollback');
END;
/
</pre></li>
                              <li>
                                 <p>Complete the redefinition.</p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_REDEFINITION.FINISH_REDEF_TABLE(
    uname      =&gt; 'hr', 
    orig_table =&gt; 'tst_rollback',
    int_table  =&gt; 'int_tst_rollback');
END;
/
</pre><p>The table <code class="codeph">hr.tst_rollbck</code> is locked in the exclusive mode only for a small window toward the end of this step. After this call the table <code class="codeph">hr.tst_rollback</code> is redefined such that it has all the attributes of the <code class="codeph">hr.int_tst_rollback</code> table. In this example, the tablespace for the <code class="codeph">hr.tst_rollbck</code> table is now compressed.
                                 </p>
                              </li>
                              <li>
                                 <p>During the evaluation period, you can periodically synchronize the interim table <code class="codeph">hr.int_tst_rollback</code>.
                                 </p><pre class="oac_no_warn" dir="ltr">BEGIN 
  DBMS_REDEFINITION.SYNC_INTERIM_TABLE(
    uname      =&gt; 'hr', 
    orig_table =&gt; 'tst_rollback',
    int_table  =&gt; 'int_tst_rollback');
END;
/
</pre><p>Synchronizing the tables updates the original table with the DML changes made to the redefined table. When you synchronize the tables periodically, a rollback operation is more efficient because fewer DML changes must be made to the original table. You can query the <code class="codeph">STATUS</code> column of the <code class="codeph">DBA_REDEFINITION_STATUS</code> view to determine the status of the rollback operation.
                                 </p>
                              </li>
                              <li>
                                 <p>Perform one of the following actions:</p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <div class="p">Assume that the redefined table did not perform as well as expected, and roll back the changes made by online redefinition.<pre class="oac_no_warn" dir="ltr">BEGIN 
  DBMS_REDEFINITION.ROLLBACK(
    uname      =&gt; 'hr', 
    orig_table =&gt; 'tst_rollback',
    int_table  =&gt; 'int_tst_rollback');
END;
/</pre></div>
                                    </li>
                                    <li>
                                       <div class="p">Assume that the redefined table performed as expected, and abort the rollback to retain the changes made by online table redefinition and clean up the database objects that enable rollback.<pre class="oac_no_warn" dir="ltr">BEGIN 
  DBMS_REDEFINITION.ABORT_ROLLBACK(
    uname      =&gt; 'hr', 
    orig_table =&gt; 'tst_rollback',
    int_table  =&gt; 'int_tst_rollback');
END;
/</pre></div>
                                    </li>
                                 </ul>
                              </li>
                           </ol>
                        </div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-FDCA40B7-D2EC-4900-98E4-8F1DACEDE0CF" title="You can enable roll back of a table after online table redefinition to return the table to its original definition and preserve DML changes made to the table.">Rolling Back Online Table Redefinition</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN11674"></a><div class="props_rev_3"><a id="GUID-0C266A74-406A-485B-B545-5618EE3D02F8" name="GUID-0C266A74-406A-485B-B545-5618EE3D02F8"></a><h4 id="ADMIN-GUID-0C266A74-406A-485B-B545-5618EE3D02F8" class="sect4"><span class="enumeration_section">20.8.13 </span>Aborting Online Table Redefinition and Cleaning Up After Errors
                  </h4>
                  <div>
                     <p>You can abort the online redefinition process. Doing so drops temporary logs and tables associated with the redefinition process. After this procedure is called, you can drop the interim table and its dependent objects.</p>
                     <div class="section">
                        <p>To abort the online redefinition process in the event that an error is raised during the redefinition process, or if you choose to terminate the redefinition process manually:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Run the <code class="codeph">ABORT_REDEF_TABLE</code> procedure.
                              </p>
                           </li>
                        </ul>
                        <p>If the online redefinition process must be restarted, if you do not first call <code class="codeph">ABORT_REDEF_TABLE</code>, then subsequent attempts to redefine the table will fail.
                        </p>
                        <div class="infoboxnote" id="GUID-0C266A74-406A-485B-B545-5618EE3D02F8__GUID-2C824890-B297-4635-98C7-EB389E7688D3">
                           <p class="notep1">Note:</p>
                           <p>It is not necessary to call the <code class="codeph">ABORT_REDEF_TABLE</code> procedure if the redefinition process stops because the <code class="codeph">FINISH_REDEF_TABLE</code> procedure has timed out. The <code class="codeph">dml_lock_timeout</code> parameter in the <code class="codeph">FINISH_REDEF_TABLE</code> procedure controls the time-out period. See step&nbsp;<a href="managing-tables.html#GUID-3C702CE8-9676-4825-B92A-D4AFE78FE402__BABGDBJH">8</a> in <span class="q">"<a href="managing-tables.html#GUID-3C702CE8-9676-4825-B92A-D4AFE78FE402" title="You can use multiple procedures in the DBMS_REDEFINITION package to perform online redefinition of a table.">Performing Online Redefinition with Multiple Procedures in DBMS_REDEFINITION</a>"</span> for more information
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-92361F74-4796-407D-A3B9-569C6E544E34" title="You can modify the logical or physical structure of a table.">Redefining Tables Online</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11675"></a><div class="props_rev_3"><a id="GUID-9A31C4B1-1DA5-4DF8-8567-8642821056D6" name="GUID-9A31C4B1-1DA5-4DF8-8567-8642821056D6"></a><h4 id="ADMIN-GUID-9A31C4B1-1DA5-4DF8-8567-8642821056D6" class="sect4"><span class="enumeration_section">20.8.14 </span>Online Redefinition of One or More Partitions
                  </h4>
                  <div>
                     <p>You can redefine online one or more partitions of a table. This is useful if, for example, you want to move partitions to a different tablespace and keep the partitions available for DML during the operation.</p>
                     <p>You can redefine multiple partitions in a table at one time. If you do, then multiple interim tables are required during the table redefinition process. Ensure that you have enough free space and undo space to complete the table redefinition.</p>
                     <p>When you redefine multiple partitions, you can specify that the redefinition continues even if it encounters an error for a particular partition. To do so, set the <code class="codeph">continue_after_errors</code> parameter to <code class="codeph">TRUE</code> in redefinition procedures in the <code class="codeph">DBMS_REDEFINITION</code> package. You can check the <code class="codeph">DBA_REDEFINITION_STATUS</code> view to see if any errors were encountered during the redefinition process. The <code class="codeph">STATUS</code> column in this view shows whether the redefinition process succeeded or failed for each partition.
                     </p>
                     <p>You can also redefine an entire table one partition at a time to reduce resource requirements. For example, to move a very large table to a different tablespace, you can move it one partition at a time to minimize the free space and undo space required to complete the move.</p>
                     <p>Redefining partitions differs from redefining a table in the following ways:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>There is no need to copy dependent objects. It is not valid to use the <code class="codeph">COPY_TABLE_DEPENDENTS</code> procedure when redefining a single partition.
                           </p>
                        </li>
                        <li>
                           <p>You must manually create and register any local indexes on the interim table.</p>
                           <p>See <span class="q">"<a href="managing-tables.html#GUID-B3AA1388-F093-4861-BB7C-896EDF072602" title="If you manually create dependent objects on the interim table with SQL*Plus or Cloud Control, then you must use the REGISTER_DEPENDENT_OBJECT procedure to register the dependent objects. Registering dependent objects enables the redefinition completion process to restore dependent object names to what they were before redefinition.">Creating Dependent Objects Manually</a>"</span>.
                           </p>
                        </li>
                        <li>
                           <p>The column mapping string for <code class="codeph">START_REDEF_TABLE</code> must be <code class="codeph">NULL</code>.
                           </p>
                        </li>
                     </ul>
                     <div class="infoboxnote" id="GUID-9A31C4B1-1DA5-4DF8-8567-8642821056D6__GUID-F2E5AFC5-9B67-40E6-BB28-CC6FA94BBF70">
                        <p class="notep1">Note:</p>
                        <p>Starting with Oracle Database 12<span class="italic">c</span>, you can use the simpler <code class="codeph">ALTER</code> <code class="codeph">TABLE</code><code class="codeph">...</code><code class="codeph">MOVE</code> <code class="codeph">PARTITION</code> <code class="codeph">...</code> <code class="codeph">ONLINE</code> statement to move a partition or subpartition online without using online table redefinition. DML operations can continue to run uninterrupted on the partition or subpartition that is being moved. See <span class="q">"<a href="managing-tables.html#GUID-3DE67CF4-84C5-4AED-A8A3-B1D28D8EBEF6" title="The ALTER TABLE...MOVE [PARTITION|SUBPARTITION] statement enables you to move a table, partition, or subpartition to change any physical storage attribute, such as compression, or the tablespace, assuming you have the appropriate quota in the target tablespace.">Moving a Table to a New Segment or Tablespace</a>"</span>.
                        </p>
                     </div>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-F183AA70-A1CF-44F9-A139-DE67EEA5025E">Rules for Online Redefinition of a Single Partition</a><br>The underlying mechanism for redefinition of a single partition is the <span class="bold">exchange partition</span> capability of the database (<code class="codeph">ALTER</code> <code class="codeph">TABLE</code>...<code class="codeph">EXCHANGE</code> <code class="codeph">PARTITION</code>).
                        </li>
                     </ul>
                     <div class="infoboxnotealso" id="GUID-9A31C4B1-1DA5-4DF8-8567-8642821056D6__GUID-3172CB12-63FC-48E0-8702-D912A620B686">
                        <p class="notep1">See Also:</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=VLDBG1193" target="_blank"><span class="italic">Oracle Database VLDB and Partitioning Guide</span></a></p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-92361F74-4796-407D-A3B9-569C6E544E34" title="You can modify the logical or physical structure of a table.">Redefining Tables Online</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN11676"></a><div class="props_rev_3"><a id="GUID-F183AA70-A1CF-44F9-A139-DE67EEA5025E" name="GUID-F183AA70-A1CF-44F9-A139-DE67EEA5025E"></a><h5 id="ADMIN-GUID-F183AA70-A1CF-44F9-A139-DE67EEA5025E" class="sect5"><span class="enumeration_section">20.8.14.1 </span>Rules for Online Redefinition of a Single Partition
                     </h5>
                     <div>
                        <p>The underlying mechanism for redefinition of a single partition is the <span class="bold">exchange partition</span> capability of the database (<code class="codeph">ALTER</code> <code class="codeph">TABLE</code>...<code class="codeph">EXCHANGE</code> <code class="codeph">PARTITION</code>).
                        </p>
                        <p>Rules and restrictions for online redefinition of a single partition are therefore governed by this mechanism. Here are some general restrictions:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>No logical changes (such as adding or dropping a column) are permitted.</p>
                           </li>
                           <li>
                              <p>No changes to the partitioning method (such as changing from range partitioning to hash partitioning) are permitted.</p>
                           </li>
                        </ul>
                        <p>Here are the rules for defining the interim table:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>If the partition being redefined is a range, hash, or list partition, then the interim table must be nonpartitioned.</p>
                           </li>
                           <li>
                              <p>If the partition being redefined is a range partition of a composite range-hash partitioned table, then the interim table must be a hash partitioned table. In addition, the partitioning key of the interim table must be identical to the subpartitioning key of the range-hash partitioned table, and the number of partitions in the interim table must be identical to the number of subpartitions in the range partition being redefined.</p>
                           </li>
                           <li>
                              <p>If the partition being redefined is a range partition of a composite range-list partitioned table, then the interim table must be a list partitioned table. In addition, the partitioning key of the interim table must be identical to the subpartitioning key of the range-list partitioned table, and the values lists of the interim table's list partitions must exactly match the values lists of the list subpartitions in the range partition being redefined.</p>
                           </li>
                           <li>
                              <p>If you define the interim table as compressed, then you must use the by-key method of redefinition, not the by-rowid method.</p>
                           </li>
                        </ul>
                        <p>These additional rules apply if the table being redefined is a partitioned index-organized table:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The interim table must also be index-organized.</p>
                           </li>
                           <li>
                              <p>The original and interim tables must have primary keys on the same columns, in the same order.</p>
                           </li>
                           <li>
                              <p>If prefix compression is enabled, then it must be enabled for both the original and interim tables, with the same prefix length.</p>
                           </li>
                           <li>
                              <p>Both the original and interim tables must have overflow segments, or neither can have them. Likewise for mapping tables.</p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-F183AA70-A1CF-44F9-A139-DE67EEA5025E__GUID-2C2CEA86-85FE-4CD0-BF2B-B12E6DAA53FC">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The section "Exchanging Partitions" in <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=VLDBG1156" target="_blank"><span class="italic">Oracle Database VLDB and Partitioning Guide</span></a></p>
                              </li>
                              <li>
                                 <p><span class="q">"<a href="managing-tables.html#GUID-4E77A941-A660-4DB3-A7B8-D15FBD9BF509" title="Examples illustrate online redefinition of tables.">Online Table Redefinition Examples</a>"</span> for examples that redefine tables with partitions
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-9A31C4B1-1DA5-4DF8-8567-8642821056D6" title="You can redefine online one or more partitions of a table. This is useful if, for example, you want to move partitions to a different tablespace and keep the partitions available for DML during the operation.">Online Redefinition of One or More Partitions</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN14160"></a><a id="ADMIN12636"></a><a id="ADMIN12637"></a><a id="ADMIN12638"></a><a id="ADMIN13869"></a><a id="ADMIN13879"></a><a id="ADMIN13880"></a><a id="ADMIN14161"></a><a id="ADMIN11677"></a><div class="props_rev_3"><a id="GUID-4E77A941-A660-4DB3-A7B8-D15FBD9BF509" name="GUID-4E77A941-A660-4DB3-A7B8-D15FBD9BF509"></a><h4 id="ADMIN-GUID-4E77A941-A660-4DB3-A7B8-D15FBD9BF509" class="sect4"><span class="enumeration_section">20.8.15 </span>Online Table Redefinition Examples
                  </h4>
                  <div>
                     <p>Examples illustrate online redefinition of tables.</p>
                     <div class="section">
                        <p>For the following examples, see <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=ARPLS042" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for descriptions of all <code class="codeph">DBMS_REDEFINITION</code> subprograms.
                        </p>
                        <div class="tblformalwide" id="GUID-4E77A941-A660-4DB3-A7B8-D15FBD9BF509__GUID-984E987C-615A-4CF9-8FBB-CEC7EEA7910A">
                           <table cellpadding="4" cellspacing="0" class="FormalWide" title="" summary="This table summarizes the purpose of each of the four online redefinition example and provides hyperlinks to each." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" id="d192334e15437">Example</th>
                                    <th align="left" valign="bottom" id="d192334e15440">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d192334e15445" headers="d192334e15437 ">
                                       <p><a href="managing-tables.html#GUID-4E77A941-A660-4DB3-A7B8-D15FBD9BF509__BABEAFDD">Example 1</a></p>
                                    </td>
                                    <td align="left" valign="top" headers="d192334e15445 d192334e15440 ">
                                       <p>Redefines a table's storage properties in a single step with the <code class="codeph">REDEF_TABLE</code> procedure.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d192334e15456" headers="d192334e15437 ">
                                       <p><a href="managing-tables.html#GUID-4E77A941-A660-4DB3-A7B8-D15FBD9BF509__CJAEBFJA">Example 2</a></p>
                                    </td>
                                    <td align="left" valign="top" headers="d192334e15456 d192334e15440 ">
                                       <p>Redefines a table by adding new columns and adding partitioning.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d192334e15464" headers="d192334e15437 ">
                                       <p><a href="managing-tables.html#GUID-4E77A941-A660-4DB3-A7B8-D15FBD9BF509__CJAEIAED">Example 3</a></p>
                                    </td>
                                    <td align="left" valign="top" headers="d192334e15464 d192334e15440 ">
                                       <p>Demonstrates redefinition with object data types.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d192334e15472" headers="d192334e15437 ">
                                       <p><a href="managing-tables.html#GUID-4E77A941-A660-4DB3-A7B8-D15FBD9BF509__CJAGDACH">Example 4</a></p>
                                    </td>
                                    <td align="left" valign="top" headers="d192334e15472 d192334e15440 ">
                                       <p>Demonstrates redefinition with manually registered dependent objects.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d192334e15480" headers="d192334e15437 ">
                                       <p><a href="managing-tables.html#GUID-4E77A941-A660-4DB3-A7B8-D15FBD9BF509__BABDGIBA">Example 5</a></p>
                                    </td>
                                    <td align="left" valign="top" headers="d192334e15480 d192334e15440 ">
                                       <p>Redefines multiple partitions, moving them to different tablespaces.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d192334e15488" headers="d192334e15437 ">
                                       <p><a href="managing-tables.html#GUID-4E77A941-A660-4DB3-A7B8-D15FBD9BF509__BABBIGBI">Example 6</a></p>
                                    </td>
                                    <td align="left" valign="top" headers="d192334e15488 d192334e15440 ">
                                       <p>Redefines a table with virtual private database (VPD) policies without changing the properties of any of the table's columns.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d192334e15496" headers="d192334e15437 ">
                                       <p><a href="managing-tables.html#GUID-4E77A941-A660-4DB3-A7B8-D15FBD9BF509__BABFFJAA">Example 7</a></p>
                                    </td>
                                    <td align="left" valign="top" headers="d192334e15496 d192334e15440 ">
                                       <p>Redefines a table with VPD policies and changes the properties of one of the table's columns.</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" id="d192334e15504" headers="d192334e15437 ">
                                       <p><a href="managing-tables.html#GUID-4E77A941-A660-4DB3-A7B8-D15FBD9BF509__BABFAHGD">Example 8</a></p>
                                    </td>
                                    <td align="left" valign="top" headers="d192334e15504 d192334e15440 ">
                                       <p>Redefines a table by making multiple changes using online redefinition.</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-4E77A941-A660-4DB3-A7B8-D15FBD9BF509__BABEAFDD">
                        <p class="subhead3" id="GUID-4E77A941-A660-4DB3-A7B8-D15FBD9BF509__GUID-05CCF5FD-D06F-4C0C-95EC-F4E30F32B95A">Example 1</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>This example illustrates online redefinition of a table's storage properties using the <code class="codeph">REDEF_TABLE</code> procedure.
                        </p>
                        <p>The original table, named <code class="codeph">print_ads</code>, is defined in the <code class="codeph">pm</code> schema as follows:
                        </p><pre class="oac_no_warn" dir="ltr"> Name                                      Null?    Type
 ----------------------------------------- -------- ----------------------------
 AD_ID                                              NUMBER(6)
 AD_TEXT                                            CLOB
</pre><p>In this table, the LOB column <code class="codeph">ad_text</code> uses BasicFiles LOB storage.
                        </p>
                        <p>An index for the table was created with the following SQL statement:</p><pre class="oac_no_warn" dir="ltr">CREATE INDEX pm.print_ads_ix
    ON print_ads (ad_id)
  TABLESPACE example;
</pre><p>The table is redefined as follows:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The table is compressed with advanced row compression.</p>
                           </li>
                           <li>
                              <p>The table's tablespace is changed from <code class="codeph">EXAMPLE</code> to <code class="codeph">NEWTBS</code>. This example assumes that the <code class="codeph">NEWTBS</code> tablespace exists.
                              </p>
                           </li>
                           <li>
                              <p>The index is compressed with <code class="codeph">COMPRESS 1</code> compression.
                              </p>
                           </li>
                           <li>
                              <p>The index's tablespace is changed from <code class="codeph">EXAMPLE</code> to <code class="codeph">NEWIDXTBS</code>. This example assumes that the <code class="codeph">NEWIDXTBS</code> tablespace exists.
                              </p>
                           </li>
                           <li>
                              <p>The LOB column in the table is compressed with <code class="codeph">COMPRESS</code> <code class="codeph">HIGH</code> compression.
                              </p>
                           </li>
                           <li>
                              <p>The tablespace for the LOB column is changed from <code class="codeph">EXAMPLE</code> to <code class="codeph">NEWLOBTBS</code>. This example assumes that the <code class="codeph">NEWLOBTBS</code> tablespace exists.
                              </p>
                           </li>
                           <li>
                              <p>The LOB column is changed to SecureFiles LOB storage.</p>
                           </li>
                        </ul>
                        <p>The steps in this redefinition are illustrated below.</p>
                        <ol>
                           <li>
                              <p>In SQL*Plus, connect as a user with the required privileges for performing online redefinition of a table.</p>
                              <p>Specifically, the user must have the privileges described in <span class="q">"<a href="managing-tables.html#GUID-0191D286-24D5-4E2A-817B-99FAAB96D4B3" title="Execute privileges on the DBMS_REDEFINITION package are required to run subprograms in the package. Execute privileges on the DBMS_REDEFINITION package are granted to EXECUTE_CATALOG_ROLE.">Privileges Required for the DBMS_REDEFINITION Package</a>"</span>.
                              </p>
                              <p>See <span class="q">"<a href="getting-started-with-database-administration.html#GUID-895EC72B-C620-4D93-9F23-3F6DC1706764" title="Oracle Database includes the following components: the Oracle Database instance, which is a collection of processes and memory, and a set of disk files that contain user data and system data.">Connecting to the Database with SQL*Plus</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>Run the <code class="codeph">REDEF_TABLE</code> procedure:
                              </p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_REDEFINITION.REDEF_TABLE(
    uname                      =&gt; 'PM',
    tname                      =&gt; 'PRINT_ADS',
    table_compression_type     =&gt; 'ROW STORE COMPRESS ADVANCED',
    table_part_tablespace      =&gt; 'NEWTBS',
    index_key_compression_type =&gt; 'COMPRESS 1',
    index_tablespace           =&gt; 'NEWIDXTBS',
    lob_compression_type       =&gt; 'COMPRESS HIGH',
    lob_tablespace             =&gt; 'NEWLOBTBS',
    lob_store_as               =&gt; 'SECUREFILE');
END;
/ </pre></li>
                        </ol>
                        <div class="infoboxnote" id="GUID-4E77A941-A660-4DB3-A7B8-D15FBD9BF509__GUID-5950A82E-DDB2-40B1-9297-6055DA73C274">
                           <p class="notep1">Note:</p>
                           <p>If an errors occurs, then the interim table is dropped, and the <code class="codeph">REDEF_TABLE</code> procedure must be re-executed.
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-4E77A941-A660-4DB3-A7B8-D15FBD9BF509__CJAEBFJA">
                        <p class="subhead3" id="GUID-4E77A941-A660-4DB3-A7B8-D15FBD9BF509__GUID-F827DB94-52ED-4E15-B75B-17E4D198BEAB">Example 2</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>This example illustrates online redefinition of a table by adding new columns and adding partitioning.</p>
                        <p>The original table, named <code class="codeph">emp_redef</code>, is defined in the <code class="codeph">hr</code> schema as follows:
                        </p><pre class="oac_no_warn" dir="ltr"> Name      Type
 --------- ----------------------------
 EMPNO     NUMBER(5)    &lt;- Primary key
 ENAME     VARCHAR2(15)
 JOB       VARCHAR2(10)
 DEPTNO    NUMBER(3)
</pre><p>The table is redefined as follows:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>New columns <code class="codeph">mgr</code>, <code class="codeph">hiredate</code>, <code class="codeph">sal</code>, and <code class="codeph">bonus</code> are added.
                              </p>
                           </li>
                           <li>
                              <p>The new column <code class="codeph">bonus</code> is initialized to 0 (zero).
                              </p>
                           </li>
                           <li>
                              <p>The column <code class="codeph">deptno</code> has its value increased by 10.
                              </p>
                           </li>
                           <li>
                              <p>The redefined table is partitioned by range on <code class="codeph">empno</code>.
                              </p>
                           </li>
                        </ul>
                        <p>The steps in this redefinition are illustrated below.</p>
                        <ol>
                           <li>
                              <p>In SQL*Plus, connect as a user with the required privileges for performing online redefinition of a table.</p>
                              <p>Specifically, the user must have the privileges described in <span class="q">"<a href="managing-tables.html#GUID-0191D286-24D5-4E2A-817B-99FAAB96D4B3" title="Execute privileges on the DBMS_REDEFINITION package are required to run subprograms in the package. Execute privileges on the DBMS_REDEFINITION package are granted to EXECUTE_CATALOG_ROLE.">Privileges Required for the DBMS_REDEFINITION Package</a>"</span>.
                              </p>
                              <p>See <span class="q">"<a href="getting-started-with-database-administration.html#GUID-895EC72B-C620-4D93-9F23-3F6DC1706764" title="Oracle Database includes the following components: the Oracle Database instance, which is a collection of processes and memory, and a set of disk files that contain user data and system data.">Connecting to the Database with SQL*Plus</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>Verify that the table is a candidate for online redefinition. In this case you specify that the redefinition is to be done using primary keys or pseudo-primary keys.</p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_REDEFINITION.CAN_REDEF_TABLE(
    uname        =&gt; 'hr',
    tname        =&gt;'emp_redef',
    options_flag =&gt; DBMS_REDEFINITION.CONS_USE_PK);
END;
/
</pre></li>
                           <li>
                              <p>Create an interim table <code class="codeph">hr.int_emp_redef</code>.
                              </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE hr.int_emp_redef
        (empno      NUMBER(5) PRIMARY KEY,
         ename      VARCHAR2(15) NOT NULL,
         job        VARCHAR2(10),
         mgr        NUMBER(5),
         hiredate   DATE DEFAULT (sysdate),
         sal        NUMBER(7,2),
         deptno     NUMBER(3) NOT NULL,
         bonus      NUMBER (7,2) DEFAULT(0))
     PARTITION BY RANGE(empno)
       (PARTITION emp1000 VALUES LESS THAN (1000) TABLESPACE admin_tbs,
        PARTITION emp2000 VALUES LESS THAN (2000) TABLESPACE admin_tbs2);
</pre><p>Ensure that the specified tablespaces exist.</p>
                           </li>
                           <li>
                              <p>Start the redefinition process. </p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_REDEFINITION.START_REDEF_TABLE(
    uname        =&gt; 'hr', 
    orig_table   =&gt; 'emp_redef',
    int_table    =&gt; 'int_emp_redef',
    col_mapping  =&gt; 'empno empno, ename ename, job job, deptno+10 deptno, 
                     0 bonus',
    options_flag =&gt; DBMS_REDEFINITION.CONS_USE_PK);
END;
/
</pre></li>
                           <li>
                              <p>Copy dependent objects. (Automatically create any triggers, indexes, materialized view logs, grants, and constraints on <code class="codeph">hr.int_emp_redef</code>.) 
                              </p><pre class="oac_no_warn" dir="ltr">DECLARE
num_errors PLS_INTEGER;
BEGIN
  DBMS_REDEFINITION.COPY_TABLE_DEPENDENTS(
    uname            =&gt; 'hr', 
    orig_table       =&gt; 'emp_redef',
    int_table        =&gt; 'int_emp_redef',
    copy_indexes     =&gt; DBMS_REDEFINITION.CONS_ORIG_PARAMS, 
    copy_triggers    =&gt; TRUE, 
    copy_constraints =&gt; TRUE, 
    copy_privileges  =&gt; TRUE, 
    ignore_errors    =&gt; TRUE, 
    num_errors       =&gt; num_errors);
END;
/
</pre><p>Note that the <code class="codeph">ignore_errors</code> argument is set to <code class="codeph">TRUE</code> for this call. The reason is that the interim table was created with a primary key constraint, and when <code class="codeph">COPY_TABLE_DEPENDENTS</code> attempts to copy the primary key constraint and index from the original table, errors occur. You can ignore these errors, but you must run the query shown in the next step to see if there are other errors.
                              </p>
                           </li>
                           <li>
                              <p>Query the <code class="codeph">DBA_REDEFINITION_ERRORS</code> view to check for errors.
                              </p><pre class="oac_no_warn" dir="ltr">SET LONG  8000
SET PAGES 8000
COLUMN OBJECT_NAME HEADING 'Object Name' FORMAT A20
COLUMN BASE_TABLE_NAME HEADING 'Base Table Name' FORMAT A10
COLUMN DDL_TXT HEADING 'DDL That Caused Error' FORMAT A40
 
SELECT OBJECT_NAME, BASE_TABLE_NAME, DDL_TXT FROM 
         DBA_REDEFINITION_ERRORS;

Object Name          Base Table DDL That Caused Error
-------------------- ---------- ----------------------------------------
SYS_C006796          EMP_REDEF  CREATE UNIQUE INDEX "HR"."TMP$$_SYS_C006
                                7960" ON "HR"."INT_EMP_REDEF" ("EMPNO")
                                  PCTFREE 10 INITRANS 2 MAXTRANS 255
                                  STORAGE(INITIAL 65536 NEXT 1048576 MIN
                                EXTENTS 1 MAXEXTENTS 2147483645
                                  PCTINCREASE 0 FREELISTS 1 FREELIST GRO
                                UPS 1
                                  BUFFER_POOL DEFAULT)
                                  TABLESPACE "ADMIN_TBS"
SYS_C006794          EMP_REDEF  ALTER TABLE "HR"."INT_EMP_REDEF" MODIFY
                                ("ENAME" CONSTRAINT "TMP$$_SYS_C0067940"
                                 NOT NULL ENABLE NOVALIDATE)
SYS_C006795          EMP_REDEF  ALTER TABLE "HR"."INT_EMP_REDEF" MODIFY
                                ("DEPTNO" CONSTRAINT "TMP$$_SYS_C0067950
                                " NOT NULL ENABLE NOVALIDATE)
SYS_C006796          EMP_REDEF  ALTER TABLE "HR"."INT_EMP_REDEF" ADD CON
                                STRAINT "TMP$$_SYS_C0067960" PRIMARY KEY
                                 ("EMPNO")
                                  USING INDEX PCTFREE 10 INITRANS 2 MAXT
                                RANS 255
                                  STORAGE(INITIAL 65536 NEXT 1048576 MIN
                                EXTENTS 1 MAXEXTENTS 2147483645
                                  PCTINCREASE 0 FREELISTS 1 FREELIST GRO
                                UPS 1
                                  BUFFER_POOL DEFAULT)
                                  TABLESPACE "ADMIN_TBS"  ENABLE NOVALID
                                ATE
</pre><p>These errors are caused by the existing primary key constraint on the interim table and can be ignored. Note that with this approach, the names of the primary key constraint and index on the post-redefined table are changed. An alternate approach, one that avoids errors and name changes, would be to define the interim table without a primary key constraint. In this case, the primary key constraint and index are copied from the original table.</p>
                              <div class="infoboxnote" id="GUID-4E77A941-A660-4DB3-A7B8-D15FBD9BF509__GUID-24B21E84-08C3-48D7-96FF-5D49A40E79E7">
                                 <p class="notep1">Note:</p>
                                 <p>The best approach is to define the interim table with a primary key constraint, use <code class="codeph">REGISTER_DEPENDENT_OBJECT</code> to register the primary key constraint and index, and then copy the remaining dependent objects with <code class="codeph">COPY_TABLE_DEPENDENTS</code>. This approach avoids errors and ensures that the redefined table always has a primary key and that the dependent object names do not change.
                                 </p>
                              </div>
                           </li>
                           <li>
                              <p>(Optional) Synchronize the interim table <code class="codeph">hr.int_emp_redef</code>.
                              </p><pre class="oac_no_warn" dir="ltr">BEGIN 
  DBMS_REDEFINITION.SYNC_INTERIM_TABLE(
    uname      =&gt; 'hr', 
    orig_table =&gt; 'emp_redef', 
    int_table  =&gt; 'int_emp_redef');
END;
/
</pre></li>
                           <li>
                              <p>Complete the redefinition.</p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_REDEFINITION.FINISH_REDEF_TABLE(
    uname      =&gt; 'hr', 
    orig_table =&gt; 'emp_redef', 
    int_table  =&gt; 'int_emp_redef');
END;
/
</pre><p>The table <code class="codeph">hr.emp_redef</code> is locked in the exclusive mode only for a small window toward the end of this step. After this call the table <code class="codeph">hr.emp_redef</code> is redefined such that it has all the attributes of the <code class="codeph">hr.int_emp_redef</code> table.
                              </p>
                              <p>Consider specifying a non-<code class="codeph">NULL</code> value for the <code class="codeph">dml_lock_timeout</code> parameter in this procedure. See step&nbsp;<a href="managing-tables.html#GUID-3C702CE8-9676-4825-B92A-D4AFE78FE402__BABGDBJH">8</a> in <span class="q">"<a href="managing-tables.html#GUID-3C702CE8-9676-4825-B92A-D4AFE78FE402" title="You can use multiple procedures in the DBMS_REDEFINITION package to perform online redefinition of a table.">Performing Online Redefinition with Multiple Procedures in DBMS_REDEFINITION</a>"</span> for more information.
                              </p>
                           </li>
                           <li>
                              <p>Wait for any long-running queries against the interim table to complete, and then drop the interim table.</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-4E77A941-A660-4DB3-A7B8-D15FBD9BF509__CJAEIAED">
                        <p class="subhead3" id="GUID-4E77A941-A660-4DB3-A7B8-D15FBD9BF509__GUID-950C6F84-E6A8-4659-9F11-D40460B414C6">Example 3</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>This example redefines a table to change columns into object attributes. The redefined table gets a new column that is an object type.</p>
                        <p>The original table, named <code class="codeph">customer</code>, is defined as follows:
                        </p><pre class="oac_no_warn" dir="ltr">Name         Type          
------------ ------------- 
CID          NUMBER            &lt;- Primary key
NAME         VARCHAR2(30)  
STREET       VARCHAR2(100) 
CITY         VARCHAR2(30)  
STATE        VARCHAR2(2)   
ZIP          NUMBER(5)     
</pre><p>The type definition for the new object is:</p><pre class="oac_no_warn" dir="ltr">CREATE TYPE addr_t AS OBJECT (  
   street VARCHAR2(100),        
   city VARCHAR2(30),           
   state VARCHAR2(2),           
   zip NUMBER(5, 0) );          
/
</pre><p>Here are the steps for this redefinition:</p>
                        <ol>
                           <li>
                              <p>In SQL*Plus, connect as a user with the required privileges for performing online redefinition of a table.</p>
                              <p>Specifically, the user must have the privileges described in <span class="q">"<a href="managing-tables.html#GUID-0191D286-24D5-4E2A-817B-99FAAB96D4B3" title="Execute privileges on the DBMS_REDEFINITION package are required to run subprograms in the package. Execute privileges on the DBMS_REDEFINITION package are granted to EXECUTE_CATALOG_ROLE.">Privileges Required for the DBMS_REDEFINITION Package</a>"</span>.
                              </p>
                              <p>See <span class="q">"<a href="getting-started-with-database-administration.html#GUID-895EC72B-C620-4D93-9F23-3F6DC1706764" title="Oracle Database includes the following components: the Oracle Database instance, which is a collection of processes and memory, and a set of disk files that contain user data and system data.">Connecting to the Database with SQL*Plus</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>Verify that the table is a candidate for online redefinition. Specify that the redefinition is to be done using primary keys or pseudo-primary keys.</p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_REDEFINITION.CAN_REDEF_TABLE(
    uname        =&gt; 'steve',
    tname        =&gt;'customer',
    options_flag =&gt; DBMS_REDEFINITION.CONS_USE_PK);
END;
/
</pre></li>
                           <li>
                              <p>Create the interim table <code class="codeph">int_customer</code>.
                              </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE int_customer(
  CID   NUMBER,
  NAME  VARCHAR2(30),          
  ADDR  addr_t);             
  </pre><p>Note that no primary key is defined on the interim table. When dependent objects are copied in step <a href="managing-tables.html#GUID-4E77A941-A660-4DB3-A7B8-D15FBD9BF509__CJAJJECE">6</a>, the primary key constraint and index are copied.
                              </p>
                           </li>
                           <li>
                              <p>Because <code class="codeph">customer</code> is a very large table, specify parallel operations for the next step.
                              </p><pre class="oac_no_warn" dir="ltr">ALTER SESSION FORCE PARALLEL DML PARALLEL 4;
ALTER SESSION FORCE PARALLEL QUERY PARALLEL 4;
</pre></li>
                           <li>
                              <p>Start the redefinition process using primary keys.</p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_REDEFINITION.START_REDEF_TABLE(
   uname       =&gt; 'steve',
   orig_table  =&gt; 'customer',
   int_table   =&gt; 'int_customer',
   col_mapping =&gt; 'cid cid, name name,
      addr_t(street, city, state, zip) addr');
END;
/
</pre><p>Note that <code class="codeph">addr_t(street, city, state, zip)</code> is a call to the object constructor.
                              </p>
                           </li>
                           <li id="GUID-4E77A941-A660-4DB3-A7B8-D15FBD9BF509__CJAJJECE">
                              <p>Copy dependent objects.</p><pre class="oac_no_warn" dir="ltr">DECLARE
num_errors PLS_INTEGER;
BEGIN
  DBMS_REDEFINITION.COPY_TABLE_DEPENDENTS(
    uname            =&gt; 'steve', 
    orig_table       =&gt; 'customer',
    int_table        =&gt; 'int_customer',
    copy_indexes     =&gt; DBMS_REDEFINITION.CONS_ORIG_PARAMS, 
    copy_triggers    =&gt; TRUE, 
    copy_constraints =&gt; TRUE, 
    copy_privileges  =&gt; TRUE, 
    ignore_errors    =&gt; FALSE, 
    num_errors       =&gt; num_errors,
    copy_statistics  =&gt; TRUE);
END;
/
</pre><p>Note that for this call, the final argument indicates that table statistics are to be copied to the interim table.</p>
                           </li>
                           <li>
                              <p>Optionally synchronize the interim table.</p><pre class="oac_no_warn" dir="ltr">BEGIN 
  DBMS_REDEFINITION.SYNC_INTERIM_TABLE(
    uname      =&gt; 'steve', 
    orig_table =&gt; 'customer', 
    int_table  =&gt; 'int_customer');
END;
/
</pre></li>
                           <li>
                              <p>Complete the redefinition.</p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_REDEFINITION.FINISH_REDEF_TABLE(
    uname      =&gt; 'steve', 
    orig_table =&gt; 'customer', 
    int_table  =&gt; 'int_customer');
END;
/
</pre><p>Consider specifying a non-<code class="codeph">NULL</code> value for the <code class="codeph">dml_lock_timeout</code> parameter in this procedure. See step&nbsp;<a href="managing-tables.html#GUID-3C702CE8-9676-4825-B92A-D4AFE78FE402__BABGDBJH">8</a> in <span class="q">"<a href="managing-tables.html#GUID-3C702CE8-9676-4825-B92A-D4AFE78FE402" title="You can use multiple procedures in the DBMS_REDEFINITION package to perform online redefinition of a table.">Performing Online Redefinition with Multiple Procedures in DBMS_REDEFINITION</a>"</span> for more information.
                              </p>
                           </li>
                           <li>
                              <p>Wait for any long-running queries against the interim table to complete, and then drop the interim table.</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-4E77A941-A660-4DB3-A7B8-D15FBD9BF509__CJAGDACH">
                        <p class="subhead3" id="GUID-4E77A941-A660-4DB3-A7B8-D15FBD9BF509__GUID-74052BB1-477F-4626-8CAA-50F56EC4637A">Example 4</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>This example addresses the situation where a dependent object must be manually created and registered.</p>
                        <p>The table to be redefined is defined as follows:</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE steve.t1
  (c1 NUMBER);
</pre><p>The table has an index for column c1:</p><pre class="oac_no_warn" dir="ltr">CREATE INDEX steve.index1 ON steve.t1(c1);
</pre><p>Consider the case where column <code class="codeph">c1</code> becomes column <code class="codeph">c2</code> after the redefinition. In this case, <code class="codeph">COPY_TABLE_DEPENDENTS</code> tries to create an index on the interim table corresponding to <code class="codeph">index1</code>, and tries to create it on a column <code class="codeph">c1</code>, which does not exist in the interim table. This results in an error. You must therefore manually create the index on column <code class="codeph">c2</code> and register it.
                        </p>
                        <p>Here are the steps for this redefinition:</p>
                        <ol>
                           <li>
                              <p>In SQL*Plus, connect as a user with the required privileges for performing online redefinition of a table.</p>
                              <p>Specifically, the user must have the privileges described in <span class="q">"<a href="managing-tables.html#GUID-0191D286-24D5-4E2A-817B-99FAAB96D4B3" title="Execute privileges on the DBMS_REDEFINITION package are required to run subprograms in the package. Execute privileges on the DBMS_REDEFINITION package are granted to EXECUTE_CATALOG_ROLE.">Privileges Required for the DBMS_REDEFINITION Package</a>"</span>.
                              </p>
                              <p>See <span class="q">"<a href="getting-started-with-database-administration.html#GUID-895EC72B-C620-4D93-9F23-3F6DC1706764" title="Oracle Database includes the following components: the Oracle Database instance, which is a collection of processes and memory, and a set of disk files that contain user data and system data.">Connecting to the Database with SQL*Plus</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>Ensure that <code class="codeph">t1</code> is a candidate for online redefinition with <code class="codeph">CAN_REDEF_TABLE</code>, and then begin the redefinition process with <code class="codeph">START_REDEF_TABLE</code>.
                              </p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_REDEFINITION.CAN_REDEF_TABLE(
   uname        =&gt; 'steve',
   tname        =&gt; 't1',
   options_flag =&gt; DBMS_REDEFINITION.CONS_USE_ROWID);
END;
/
</pre></li>
                           <li>
                              <p>Create the interim table <code class="codeph">int_t1</code> and create an index <code class="codeph">int_index1</code> on column <code class="codeph">c2</code>.
                              </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE steve.int_t1
  (c2 NUMBER);

CREATE INDEX steve.int_index1 ON steve.int_t1(c2);
</pre></li>
                           <li>
                              <p>Start the redefinition process.</p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_REDEFINITION.START_REDEF_TABLE(
    uname        =&gt; 'steve', 
    orig_table   =&gt; 't1',
    int_table    =&gt; 'int_t1',
    col_mapping  =&gt; 'c1 c2',
    options_flag =&gt; DBMS_REDEFINITION.CONS_USE_ROWID);
END;
/
</pre></li>
                           <li>
                              <p>Register the original (<code class="codeph">index1</code>) and interim (<code class="codeph">int_index1</code>) dependent objects.
                              </p><pre class="oac_no_warn" dir="ltr">BEGIN
 DBMS_REDEFINITION.REGISTER_DEPENDENT_OBJECT(
   uname         =&gt; 'steve',
   orig_table    =&gt; 't1',
   int_table     =&gt; 'int_t1',
   dep_type      =&gt; DBMS_REDEFINITION.CONS_INDEX,
   dep_owner     =&gt; 'steve',
   dep_orig_name =&gt; 'index1',
   dep_int_name  =&gt; 'int_index1');
END;
/
</pre></li>
                           <li>
                              <p>Copy the dependent objects.</p><pre class="oac_no_warn" dir="ltr">DECLARE
num_errors PLS_INTEGER;
BEGIN
  DBMS_REDEFINITION.COPY_TABLE_DEPENDENTS(
    uname            =&gt; 'steve', 
    orig_table       =&gt; 't1',
    int_table        =&gt; 'int_t1',
    copy_indexes     =&gt; DBMS_REDEFINITION.CONS_ORIG_PARAMS, 
    copy_triggers    =&gt; TRUE, 
    copy_constraints =&gt; TRUE, 
    copy_privileges  =&gt; TRUE, 
    ignore_errors    =&gt; TRUE, 
    num_errors       =&gt; num_errors);
END;
/
</pre></li>
                           <li>
                              <p>Optionally synchronize the interim table.</p><pre class="oac_no_warn" dir="ltr">BEGIN 
  DBMS_REDEFINITION.SYNC_INTERIM_TABLE(
    uname      =&gt; 'steve', 
    orig_table =&gt; 't1', 
    int_table  =&gt; 'int_t1');
END;
/
</pre></li>
                           <li>
                              <p>Complete the redefinition.</p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_REDEFINITION.FINISH_REDEF_TABLE(
    uname      =&gt; 'steve', 
    orig_table =&gt; 't1', 
    int_table  =&gt; 'int_t1');
END;
/
</pre></li>
                           <li>
                              <p>Wait for any long-running queries against the interim table to complete, and then drop the interim table.</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-4E77A941-A660-4DB3-A7B8-D15FBD9BF509__BABDGIBA">
                        <p class="subhead3" id="GUID-4E77A941-A660-4DB3-A7B8-D15FBD9BF509__GUID-EE0F519E-522E-4D08-9758-CF2C8059374D">Example 5</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>This example demonstrates redefining multiple partitions. It moves two of the partitions of a range-partitioned sales table to new tablespaces. The table containing the partitions to be redefined is defined as follows:</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE steve.salestable
  (s_productid NUMBER,
  s_saledate DATE,
  s_custid NUMBER,
  s_totalprice NUMBER)
  TABLESPACE users
  PARTITION BY RANGE(s_saledate)
  (PARTITION sal10q1 VALUES LESS THAN (TO_DATE('01-APR-2010', 'DD-MON-YYYY')),
  PARTITION sal10q2 VALUES LESS THAN (TO_DATE('01-JUL-2010', 'DD-MON-YYYY')),
  PARTITION sal10q3 VALUES LESS THAN (TO_DATE('01-OCT-2010', 'DD-MON-YYYY')),
  PARTITION sal10q4 VALUES LESS THAN (TO_DATE('01-JAN-2011', 'DD-MON-YYYY')));
</pre><p>This example moves the <code class="codeph">sal10q1</code> partition to the <code class="codeph">sales1</code> tablespace and the <code class="codeph">sal10q2</code> partition to the <code class="codeph">sales2</code> tablespace. The <code class="codeph">sal10q3</code> and <code class="codeph">sal10q4</code> partitions are not moved.
                        </p>
                        <p>To move the partitions, the tablespaces <code class="codeph">sales1</code> and <code class="codeph">sales2</code> must exist. The following examples create these tablespaces:
                        </p><pre class="oac_no_warn" dir="ltr">CREATE TABLESPACE sales1 DATAFILE '/u02/oracle/data/sales01.dbf' SIZE 50M
    EXTENT MANAGEMENT LOCAL AUTOALLOCATE;
 
CREATE TABLESPACE sales2 DATAFILE '/u02/oracle/data/sales02.dbf' SIZE 50M
    EXTENT MANAGEMENT LOCAL AUTOALLOCATE;
</pre><div class="infoboxnote" id="GUID-4E77A941-A660-4DB3-A7B8-D15FBD9BF509__GUID-F26DFE4D-B5CE-4431-9D8E-6F251558F45D">
                           <p class="notep1">Note:</p>
                           <p>You can also complete this operation by executing two <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> <code class="codeph">...</code> <code class="codeph">MOVE</code> <code class="codeph">PARTITION</code> <code class="codeph">...</code> <code class="codeph">ONLINE</code> statements. See <span class="q">"<a href="managing-tables.html#GUID-3DE67CF4-84C5-4AED-A8A3-B1D28D8EBEF6" title="The ALTER TABLE...MOVE [PARTITION|SUBPARTITION] statement enables you to move a table, partition, or subpartition to change any physical storage attribute, such as compression, or the tablespace, assuming you have the appropriate quota in the target tablespace.">Moving a Table to a New Segment or Tablespace</a>"</span>.
                           </p>
                        </div>
                        <p>The table has a local partitioned index that is defined as follows:</p><pre class="oac_no_warn" dir="ltr">CREATE INDEX steve.sales_index ON steve.salestable 
   (s_saledate, s_productid, s_custid) LOCAL;
</pre><p>Here are the steps. In the following procedure calls, note the extra argument: partition name (<code class="codeph">part_name</code>).
                        </p>
                        <ol>
                           <li>
                              <p>In SQL*Plus, connect as a user with the required privileges for performing online redefinition of a table.</p>
                              <p>Specifically, the user must have the privileges described in <span class="q">"<a href="managing-tables.html#GUID-0191D286-24D5-4E2A-817B-99FAAB96D4B3" title="Execute privileges on the DBMS_REDEFINITION package are required to run subprograms in the package. Execute privileges on the DBMS_REDEFINITION package are granted to EXECUTE_CATALOG_ROLE.">Privileges Required for the DBMS_REDEFINITION Package</a>"</span>.
                              </p>
                              <p>See <span class="q">"<a href="getting-started-with-database-administration.html#GUID-895EC72B-C620-4D93-9F23-3F6DC1706764" title="Oracle Database includes the following components: the Oracle Database instance, which is a collection of processes and memory, and a set of disk files that contain user data and system data.">Connecting to the Database with SQL*Plus</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>Ensure that <code class="codeph">salestable</code> is a candidate for redefinition.
                              </p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_REDEFINITION.CAN_REDEF_TABLE(
   uname        =&gt; 'steve',
   tname        =&gt; 'salestable',
   options_flag =&gt; DBMS_REDEFINITION.CONS_USE_ROWID,
   part_name    =&gt; 'sal10q1, sal10q2');
END;
/
</pre></li>
                           <li>
                              <p>Create the interim tables in the new tablespaces. Because this is a redefinition of a range partition, the interim tables are nonpartitioned.</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE steve.int_salestb1
  (s_productid NUMBER,
  s_saledate DATE,
  s_custid NUMBER,
  s_totalprice NUMBER)
  TABLESPACE sales1;

CREATE TABLE steve.int_salestb2
  (s_productid NUMBER,
  s_saledate DATE,
  s_custid NUMBER,
  s_totalprice NUMBER)
  TABLESPACE sales2;
</pre></li>
                           <li>
                              <p>Start the redefinition process using rowid.</p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_REDEFINITION.START_REDEF_TABLE(
   uname        =&gt; 'steve',
   orig_table   =&gt; 'salestable',
   int_table    =&gt; 'int_salestb1, int_salestb2',
   col_mapping  =&gt; NULL,
   options_flag =&gt; DBMS_REDEFINITION.CONS_USE_ROWID,
   part_name    =&gt; 'sal10q1, sal10q2',
   continue_after_errors =&gt; TRUE);
END;
/
</pre><p>Notice that the <code class="codeph">part_name</code> parameter specifies both of the partitions and that the <code class="codeph">int_table</code> parameter specifies the interim table for each partition. Also, the <code class="codeph">continue_after_errors</code> parameter is set to <code class="codeph">TRUE</code> so that the redefinition process continues even if it encounters an error for a particular partition.
                              </p>
                           </li>
                           <li>
                              <p>Manually create any local indexes on the interim tables.</p><pre class="oac_no_warn" dir="ltr">CREATE INDEX steve.int_sales1_index ON steve.int_salestb1 
(s_saledate, s_productid, s_custid)
TABLESPACE sales1; 

CREATE INDEX steve.int_sales2_index ON steve.int_salestb2 
(s_saledate, s_productid, s_custid)
TABLESPACE sales2; 
</pre></li>
                           <li>
                              <p>Optionally synchronize the interim tables.</p><pre class="oac_no_warn" dir="ltr">BEGIN 
  DBMS_REDEFINITION.SYNC_INTERIM_TABLE(
   uname      =&gt; 'steve', 
   orig_table =&gt; 'salestable', 
   int_table  =&gt; 'int_salestb1, int_salestb2',
   part_name    =&gt; 'sal10q1, sal10q2',
   continue_after_errors =&gt; TRUE);
END;
/
</pre></li>
                           <li>
                              <p>Complete the redefinition.</p><pre class="oac_no_warn" dir="ltr">BEGIN 
  DBMS_REDEFINITION.FINISH_REDEF_TABLE(
   uname      =&gt; 'steve', 
   orig_table =&gt; 'salestable', 
   int_table  =&gt; 'int_salestb1, int_salestb2',
   part_name    =&gt; 'sal10q1, sal10q2',
   continue_after_errors =&gt; TRUE);
END;
/
</pre><p>Consider specifying a non-<code class="codeph">NULL</code> value for the <code class="codeph">dml_lock_timeout</code> parameter in this procedure. See step&nbsp;<a href="managing-tables.html#GUID-3C702CE8-9676-4825-B92A-D4AFE78FE402__BABGDBJH">8</a> in <span class="q">"<a href="managing-tables.html#GUID-3C702CE8-9676-4825-B92A-D4AFE78FE402" title="You can use multiple procedures in the DBMS_REDEFINITION package to perform online redefinition of a table.">Performing Online Redefinition with Multiple Procedures in DBMS_REDEFINITION</a>"</span> for more information.
                              </p>
                           </li>
                           <li>
                              <p>Wait for any long-running queries against the interim tables to complete, and then drop the interim tables.</p>
                           </li>
                           <li>
                              <p>(Optional) Query the <code class="codeph">DBA_REDEFINITION_STATUS</code> view to ensure that the redefinition succeeded for each partition.
                              </p><pre class="oac_no_warn" dir="ltr">SELECT BASE_TABLE_OWNER, BASE_TABLE_NAME, OPERATION, STATUS
  FROM DBA_REDEFINITION_STATUS;
</pre><p>If redefinition failed for any partition, then query the <code class="codeph">DBA_REDEFINITION_ERRORS</code> view to determine the cause of the failure. Correct the conditions that caused the failure, and rerun online redefinition.
                              </p>
                           </li>
                        </ol>
                        <p>The following query shows that two of the partitions in the table have been moved to the new tablespaces:</p><pre class="oac_no_warn" dir="ltr">SELECT PARTITION_NAME, TABLESPACE_NAME FROM DBA_TAB_PARTITIONS
 WHERE TABLE_NAME = 'SALESTABLE';
 
PARTITION_NAME                 TABLESPACE_NAME
------------------------------ ------------------------------
SAL10Q1                        SALES1
SAL10Q2                        SALES2
SAL10Q3                        USERS
SAL10Q4                        USERS
 
4 rows selected.</pre></div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-4E77A941-A660-4DB3-A7B8-D15FBD9BF509__BABBIGBI">
                        <p class="subhead3" id="GUID-4E77A941-A660-4DB3-A7B8-D15FBD9BF509__GUID-AC52C6BA-21B4-4879-A5A8-0C338DD4BE78">Example 6</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>This example illustrates online redefinition of a table with virtual private database (VPD) policies. The example disables all triggers for a table without changing any of the column names or column types in the table.</p>
                        <p>The table to be redefined is defined as follows:</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE hr.employees( 
   employee_id    NUMBER(6)  PRIMARY KEY, 
   first_name     VARCHAR2(20), 
   last_name      VARCHAR2(25)
	          CONSTRAINT     emp_last_name_nn  NOT NULL, 
   email          VARCHAR2(25)
	          CONSTRAINT     emp_email_nn  NOT NULL, 
   phone_number   VARCHAR2(20), 
   hire_date      DATE
	          CONSTRAINT     emp_hire_date_nn  NOT NULL, 
   job_id         VARCHAR2(10)
	          CONSTRAINT     emp_job_nn  NOT NULL, 
   salary         NUMBER(8,2), 
   commission_pct NUMBER(2,2), 
   manager_id     NUMBER(6), 
   department_id  NUMBER(4),
                  CONSTRAINT     emp_salary_min
                     CHECK (salary &gt; 0), 
                  CONSTRAINT     emp_email_uk
                     UNIQUE (email));
</pre><p>If you installed the <code class="codeph">HR</code> sample schema, then this table exists in your database.
                        </p>
                        <p>Assume that the following <code class="codeph">auth_emp_dep_100</code> function is created for the VPD policy:
                        </p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE FUNCTION hr.auth_emp_dep_100( 
  schema_var IN VARCHAR2,
  table_var IN VARCHAR2
 )
 RETURN VARCHAR2
 AS
  return_val VARCHAR2 (400);
  unm        VARCHAR2(30);
 BEGIN
  SELECT USER INTO unm FROM DUAL;
  IF (unm = 'HR') THEN
  return_val := NULL;
 ELSE
  return_val := 'DEPARTMENT_ID = 100';
  END IF;
 RETURN return_val;
END auth_emp_dep_100;
/
</pre><p>The following <code class="codeph">ADD_POLICY</code> procedure specifies a VPD policy for the original table <code class="codeph">hr.employees</code> using the <code class="codeph">auth_emp_dep_100</code> function:
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_RLS.ADD_POLICY (
    object_schema    =&gt; 'hr',
    object_name      =&gt; 'employees',
    policy_name      =&gt; 'employees_policy',
    function_schema  =&gt; 'hr',
    policy_function  =&gt; 'auth_emp_dep_100',
    statement_types  =&gt; 'select, insert, update, delete'
   );
 END;
/
</pre><p>In this example, the <code class="codeph">hr.employees</code> table is redefined to disable all of its triggers. No column names or column types are changed during redefinition. Therefore, specify <code class="codeph">DBMS_REDEFINITION.CONS_VPD_AUTO</code> for the <code class="codeph">copy_vpd_opt</code> in the <code class="codeph">START_REFEF_TABLE</code> procedure.
                        </p>
                        <p>The steps in this redefinition are illustrated below.</p>
                        <ol>
                           <li>
                              <p>In SQL*Plus, connect as a user with the required privileges for performing online redefinition of a table and the required privileges for managing VPD policies.</p>
                              <p>Specifically, the user must have the privileges described in <span class="q">"<a href="managing-tables.html#GUID-0191D286-24D5-4E2A-817B-99FAAB96D4B3" title="Execute privileges on the DBMS_REDEFINITION package are required to run subprograms in the package. Execute privileges on the DBMS_REDEFINITION package are granted to EXECUTE_CATALOG_ROLE.">Privileges Required for the DBMS_REDEFINITION Package</a>"</span> and <code class="codeph">EXECUTE</code> privilege on the <code class="codeph">DBMS_RLS</code> package.
                              </p>
                              <p>See <span class="q">"<a href="getting-started-with-database-administration.html#GUID-895EC72B-C620-4D93-9F23-3F6DC1706764" title="Oracle Database includes the following components: the Oracle Database instance, which is a collection of processes and memory, and a set of disk files that contain user data and system data.">Connecting to the Database with SQL*Plus</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>Verify that the table is a candidate for online redefinition. In this case you specify that the redefinition is to be done using primary keys or pseudo-primary keys.</p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_REDEFINITION.CAN_REDEF_TABLE('hr','employees',
      DBMS_REDEFINITION.CONS_USE_PK);
END;
/
</pre></li>
                           <li>
                              <p>Create an interim table <code class="codeph">hr.int_employees</code>.
                              </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE hr.int_employees( 
   employee_id    NUMBER(6), 
   first_name     VARCHAR2(20), 
   last_name      VARCHAR2(25), 
   email          VARCHAR2(25), 
   phone_number   VARCHAR2(20), 
   hire_date      DATE,
   job_id         VARCHAR2(10), 
   salary         NUMBER(8,2), 
   commission_pct NUMBER(2,2), 
   manager_id     NUMBER(6), 
   department_id  NUMBER(4));
</pre></li>
                           <li>
                              <p>Start the redefinition process.</p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_REDEFINITION.START_REDEF_TABLE (
    uname          =&gt; 'hr',
    orig_table     =&gt; 'employees',
    int_table      =&gt; 'int_employees',
    col_mapping    =&gt; NULL,
    options_flag   =&gt; DBMS_REDEFINITION.CONS_USE_PK,
    orderby_cols   =&gt; NULL,
    part_name      =&gt; NULL,
    copy_vpd_opt   =&gt; DBMS_REDEFINITION.CONS_VPD_AUTO);
END;
/
</pre><p>When the <code class="codeph">copy_vpd_opt</code> parameter is set to <code class="codeph">DBMS_REDEFINITION.CONS_VPD_AUTO</code>, only the table owner and the user invoking online redefinition can access the interim table during online redefinition.
                              </p>
                              <p>Also, notice that the <code class="codeph">col_mapping</code> parameter is set to <code class="codeph">NULL</code>. When the <code class="codeph">copy_vpd_opt</code> parameter is set to <code class="codeph">DBMS_REDEFINITION.CONS_VPD_AUTO</code>, the <code class="codeph">col_mapping</code> parameter must be <code class="codeph">NULL</code> or <code class="codeph">'*'</code>. See <span class="q">"<a href="managing-tables.html#GUID-070A3AEC-4226-4E65-BDB0-A5B2B5B48B1F" title="If the original table being redefined has VPD policies specified for it, then you can use the copy_vpd_opt parameter in the START_REDEF_TABLE procedure to handle these policies during online redefinition.">Handling Virtual Private Database (VPD) Policies During Online Redefinition</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>Copy dependent objects. (Automatically create any triggers, indexes, materialized view logs, grants, and constraints on <code class="codeph">hr.int_employees</code>.)
                              </p><pre class="oac_no_warn" dir="ltr">DECLARE
num_errors PLS_INTEGER;
BEGIN
  DBMS_REDEFINITION.COPY_TABLE_DEPENDENTS(
    uname            =&gt; 'hr', 
    orig_table       =&gt; 'employees',
    int_table        =&gt; 'int_employees',
    copy_indexes     =&gt; DBMS_REDEFINITION.CONS_ORIG_PARAMS, 
    copy_triggers    =&gt; TRUE, 
    copy_constraints =&gt; TRUE, 
    copy_privileges  =&gt; TRUE, 
    ignore_errors    =&gt; FALSE, 
    num_errors       =&gt; num_errors);
END;
/
</pre></li>
                           <li>
                              <p>Disable all of the triggers on the interim table.</p><pre class="oac_no_warn" dir="ltr">ALTER TABLE hr.int_employees
  DISABLE ALL TRIGGERS;
</pre></li>
                           <li>
                              <p>(Optional) Synchronize the interim table <code class="codeph">hr.int_employees</code>.
                              </p><pre class="oac_no_warn" dir="ltr">BEGIN 
  DBMS_REDEFINITION.SYNC_INTERIM_TABLE(
    uname      =&gt; 'hr', 
    orig_table =&gt; 'employees', 
    int_table  =&gt; 'int_employees');
END;
/
</pre></li>
                           <li>
                              <p>Complete the redefinition.</p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_REDEFINITION.FINISH_REDEF_TABLE(
    uname      =&gt; 'hr', 
    orig_table =&gt; 'employees', 
    int_table  =&gt; 'int_employees');
END;
/
</pre><p>The table <code class="codeph">hr.employees</code> is locked in the exclusive mode only for a small window toward the end of this step. After this call the table <code class="codeph">hr.employees</code> is redefined such that it has all the attributes of the <code class="codeph">hr.int_employees</code> table.
                              </p>
                              <p>Consider specifying a non-<code class="codeph">NULL</code> value for the <code class="codeph">dml_lock_timeout</code> parameter in this procedure. See step&nbsp;<a href="managing-tables.html#GUID-3C702CE8-9676-4825-B92A-D4AFE78FE402__BABGDBJH">8</a> in <span class="q">"<a href="managing-tables.html#GUID-3C702CE8-9676-4825-B92A-D4AFE78FE402" title="You can use multiple procedures in the DBMS_REDEFINITION package to perform online redefinition of a table.">Performing Online Redefinition with Multiple Procedures in DBMS_REDEFINITION</a>"</span> for more information.
                              </p>
                           </li>
                           <li>
                              <p>Wait for any long-running queries against the interim table to complete, and then drop the interim table.</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-4E77A941-A660-4DB3-A7B8-D15FBD9BF509__BABFFJAA">
                        <p class="subhead3" id="GUID-4E77A941-A660-4DB3-A7B8-D15FBD9BF509__GUID-6B0D4F52-E137-4E95-B121-E75B544ABBB2">Example 7</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>This example illustrates online redefinition of a table with virtual private database (VPD) policies. The example changes the name of a column in the table.</p>
                        <p>The table to be redefined is defined as follows:</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE oe.orders( 
   order_id      NUMBER(12)  PRIMARY KEY,
   order_date    TIMESTAMP WITH LOCAL TIME ZONE CONSTRAINT order_date_nn NOT NULL,
   order_mode    VARCHAR2(8),
   customer_id   NUMBER(6) CONSTRAINT order_customer_id_nn NOT NULL,
   order_status  NUMBER(2),
   order_total   NUMBER(8,2),
   sales_rep_id  NUMBER(6),
   promotion_id  NUMBER(6),
   CONSTRAINT    order_mode_lov
                 CHECK (order_mode in ('direct','online')),
   CONSTRAINT    order_total_min
                 check (order_total &gt;= 0));
</pre><p>If you installed the <code class="codeph">OE</code> sample schema, then this table exists in your database.
                        </p>
                        <p>Assume that the following <code class="codeph">auth_orders</code> function is created for the VPD policy:
                        </p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE FUNCTION oe.auth_orders( 
  schema_var IN VARCHAR2,
  table_var IN VARCHAR2
 )
 RETURN VARCHAR2
 AS
  return_val VARCHAR2 (400);
  unm        VARCHAR2(30);
 BEGIN
  SELECT USER INTO unm FROM DUAL;
  IF (unm = 'OE') THEN
  return_val := NULL;
 ELSE
  return_val := 'SALES_REP_ID = 159';
  END IF;
 RETURN return_val;
END auth_orders;
/
</pre><p>The following <code class="codeph">ADD_POLICY</code> procedure specifies a VPD policy for the original table <code class="codeph">oe.orders</code> using the <code class="codeph">auth_orders</code> function:
                        </p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_RLS.ADD_POLICY (
    object_schema    =&gt; 'oe',
    object_name      =&gt; 'orders',
    policy_name      =&gt; 'orders_policy',
    function_schema  =&gt; 'oe',
    policy_function  =&gt; 'auth_orders',
    statement_types  =&gt; 'select, insert, update, delete');
 END;
/
</pre><p>In this example, the table is redefined to change the <code class="codeph">sales_rep_id</code> column to <code class="codeph">sale_pid</code>. When one or more column names or column types change during redefinition, you must specify <code class="codeph">DBMS_REDEFINITION.CONS_VPD_MANUAL</code> for the <code class="codeph">copy_vpd_opt</code> in the <code class="codeph">START_REFEF_TABLE</code> procedure.
                        </p>
                        <p>The steps in this redefinition are illustrated below.</p>
                        <ol>
                           <li>
                              <p>In SQL*Plus, connect as a user with the required privileges for performing online redefinition of a table and the required privileges for managing VPD policies.</p>
                              <p>Specifically, the user must have the privileges described in <span class="q">"<a href="managing-tables.html#GUID-0191D286-24D5-4E2A-817B-99FAAB96D4B3" title="Execute privileges on the DBMS_REDEFINITION package are required to run subprograms in the package. Execute privileges on the DBMS_REDEFINITION package are granted to EXECUTE_CATALOG_ROLE.">Privileges Required for the DBMS_REDEFINITION Package</a>"</span> and <code class="codeph">EXECUTE</code> privilege on the <code class="codeph">DBMS_RLS</code> package.
                              </p>
                              <p>See <span class="q">"<a href="getting-started-with-database-administration.html#GUID-895EC72B-C620-4D93-9F23-3F6DC1706764" title="Oracle Database includes the following components: the Oracle Database instance, which is a collection of processes and memory, and a set of disk files that contain user data and system data.">Connecting to the Database with SQL*Plus</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>Verify that the table is a candidate for online redefinition. In this case you specify that the redefinition is to be done using primary keys or pseudo-primary keys.</p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_REDEFINITION.CAN_REDEF_TABLE(
    uname        =&gt; 'oe',
    tname        =&gt; 'orders',
    options_flag =&gt; DBMS_REDEFINITION.CONS_USE_PK);
END;
/
</pre></li>
                           <li>
                              <p>Create an interim table <code class="codeph">oe.int_orders</code>.
                              </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE oe.int_orders( 
   order_id      NUMBER(12),
   order_date    TIMESTAMP WITH LOCAL TIME ZONE,
   order_mode    VARCHAR2(8),
   customer_id   NUMBER(6),
   order_status  NUMBER(2),
   order_total   NUMBER(8,2),
   sales_pid     NUMBER(6),
   promotion_id  NUMBER(6));
</pre><p>Note that the <code class="codeph">sales_rep_id</code> column is changed to the <code class="codeph">sales_pid</code> column in the interim table.
                              </p>
                           </li>
                           <li>
                              <p>Start the redefinition process. </p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_REDEFINITION.START_REDEF_TABLE (
    uname          =&gt; 'oe',
    orig_table     =&gt; 'orders',
    int_table      =&gt; 'int_orders',
    col_mapping    =&gt; 'order_id order_id, order_date order_date, order_mode 
                       order_mode, customer_id customer_id, order_status 
                       order_status, order_total order_total, sales_rep_id 
                       sales_pid, promotion_id promotion_id',
    options_flag   =&gt; DBMS_REDEFINITION.CONS_USE_PK,
    orderby_cols   =&gt; NULL,
    part_name      =&gt; NULL,
    copy_vpd_opt   =&gt; DBMS_REDEFINITION.CONS_VPD_MANUAL);
END;
/
</pre><p>Because a column name is different in the original table and the interim table, <code class="codeph">DBMS_REDEFINITION.CONS_VPD_MANUAL</code> must be specified for the <code class="codeph">copy_vpd_opt</code> parameter. See <span class="q">"<a href="managing-tables.html#GUID-070A3AEC-4226-4E65-BDB0-A5B2B5B48B1F" title="If the original table being redefined has VPD policies specified for it, then you can use the copy_vpd_opt parameter in the START_REDEF_TABLE procedure to handle these policies during online redefinition.">Handling Virtual Private Database (VPD) Policies During Online Redefinition</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>Create the VPD policy on the interim table.</p>
                              <p>In this example, complete the following steps:</p>
                              <ol type="a">
                                 <li>
                                    <p>Create a new function called <code class="codeph">auth_orders_sales_pid</code> for the VPD policy that specifies the <code class="codeph">sales_pid</code> column instead of the <code class="codeph">sales_rep_id</code> column:
                                    </p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE FUNCTION oe.auth_orders_sales_pid( 
  schema_var IN VARCHAR2,
  table_var IN VARCHAR2
 )
 RETURN VARCHAR2
 AS
  return_val VARCHAR2 (400);
  unm        VARCHAR2(30);
 BEGIN
  SELECT USER INTO unm FROM DUAL;
  IF (unm = 'OE') THEN
  return_val := NULL;
 ELSE
  return_val := 'SALES_PID = 159';
  END IF;
 RETURN return_val;
END auth_orders_sales_pid;
/
</pre></li>
                                 <li>
                                    <p>Run the <code class="codeph">ADD_POLICY</code> procedure and specify the new function <code class="codeph">auth_orders_sales_pid</code> and the interim table <code class="codeph">int_orders</code>:
                                    </p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_RLS.ADD_POLICY (
    object_schema    =&gt; 'oe',
    object_name      =&gt; 'int_orders',
    policy_name      =&gt; 'orders_policy',
    function_schema  =&gt; 'oe',
    policy_function  =&gt; 'auth_orders_sales_pid',
    statement_types  =&gt; 'select, insert, update, delete');
 END;
/
</pre></li>
                              </ol>
                           </li>
                           <li>
                              <p>Copy dependent objects. (Automatically create any triggers, indexes, materialized view logs, grants, and constraints on <code class="codeph">oe.int_orders</code>.) 
                              </p><pre class="oac_no_warn" dir="ltr">DECLARE
num_errors PLS_INTEGER;
BEGIN
  DBMS_REDEFINITION.COPY_TABLE_DEPENDENTS(
    uname            =&gt; 'oe', 
    orig_table       =&gt; 'orders',
    int_table        =&gt; 'int_orders',
    copy_indexes     =&gt; DBMS_REDEFINITION.CONS_ORIG_PARAMS, 
    copy_triggers    =&gt; TRUE, 
    copy_constraints =&gt; TRUE, 
    copy_privileges  =&gt; TRUE, 
    ignore_errors    =&gt; TRUE, 
    num_errors       =&gt; num_errors);
END;
/
</pre><p>Note that the <code class="codeph">ignore_errors</code> argument is set to <code class="codeph">TRUE</code> for this call. The reason is that the original table has an index and a constraint related to the <code class="codeph">sales_rep_id</code> column, and this column is changed to <code class="codeph">sales_pid</code> in the interim table. The next step shows the errors and describes how to create the index and the constraint on the interim table.
                              </p>
                           </li>
                           <li>
                              <p>Query the <code class="codeph">DBA_REDEFINITION_ERRORS</code> view to check for errors.
                              </p><pre class="oac_no_warn" dir="ltr">SET LONG  8000
SET PAGES 8000
COLUMN OBJECT_NAME HEADING 'Object Name' FORMAT A20
COLUMN BASE_TABLE_NAME HEADING 'Base Table Name' FORMAT A10
COLUMN DDL_TXT HEADING 'DDL That Caused Error' FORMAT A40
 
SELECT OBJECT_NAME, BASE_TABLE_NAME, DDL_TXT FROM 
         DBA_REDEFINITION_ERRORS;

Object Name          Base Table DDL That Caused Error
-------------------- ---------- ----------------------------------------
ORDERS_SALES_REP_FK  ORDERS     ALTER TABLE "OE"."INT_ORDERS" ADD CONSTR
                                AINT "TMP$$_ORDERS_SALES_REP_FK1" FOREIG
                                N KEY ("SALES_REP_ID")
                                          REFERENCES "HR"."EMPLOYEES" 
                                ("EMPLOYE
                                E_ID") ON DELETE SET NULL DISABLE
ORD_SALES_REP_IX     ORDERS     CREATE INDEX "OE"."TMP$$_ORD_SALES_REP_I
                                X0" ON "OE"."INT_ORDERS" ("SALES_REP_ID"
                                )
                                  PCTFREE 10 INITRANS 2 MAXTRANS 255 COM
                                PUTE STATISTICS
                                  STORAGE(INITIAL 65536 NEXT 1048576 MIN
                                EXTENTS 1 MAXEXTENTS 2147483645
                                  PCTINCREASE 0 FREELISTS 1 FREELIST GRO
                                UPS 1
                                  BUFFER_POOL DEFAULT)
                                  TABLESPACE "EXAMPLE"
TMP$$_ORDERS_SALES_R ORDERS     ALTER TABLE "OE"."INT_ORDERS" ADD CONSTR
EP_FK0                          AINT "TMP$$_TMP$$_ORDERS_SALES_RE0" FORE
                                IGN KEY ("SALES_REP_ID")
                                          REFERENCES "HR"."INT_EMPLOYEES" 
                                ("EMP
                                LOYEE_ID") ON DELETE SET NULL DISABLE
</pre><p>If necessary, correct the errors reported in the output.</p>
                              <p>In this example, original table has an index and a foreign key constraint on the <code class="codeph">sales_rep_id</code> column. The index and the constraint could not be copied to the interim table because the name of the column changed from <code class="codeph">sales_rep_id</code> to <code class="codeph">sales_pid</code>.
                              </p>
                              <p>To correct the problems, add the index and the constraint on the interim table by completing the following steps:</p>
                              <ol type="a">
                                 <li>
                                    <p>Add the index:</p><pre class="oac_no_warn" dir="ltr">ALTER TABLE oe.int_orders 
  ADD (CONSTRAINT orders_sales_pid_fk 
      FOREIGN KEY (sales_pid) 
      REFERENCES hr.employees(employee_id)
      ON DELETE SET NULL);
</pre></li>
                                 <li>
                                    <p>Add the foreign key constraint:</p><pre class="oac_no_warn" dir="ltr">CREATE INDEX ord_sales_pid_ix ON oe.int_orders (sales_pid);
</pre></li>
                              </ol>
                           </li>
                           <li>
                              <p>(Optional) Synchronize the interim table <code class="codeph">oe.int_orders</code>.
                              </p><pre class="oac_no_warn" dir="ltr">BEGIN 
  DBMS_REDEFINITION.SYNC_INTERIM_TABLE(
    uname      =&gt; 'oe', 
    orig_table =&gt; 'orders', 
    int_table  =&gt; 'int_orders');
END;
/
</pre></li>
                           <li>
                              <p>Complete the redefinition.</p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_REDEFINITION.FINISH_REDEF_TABLE(
    uname      =&gt; 'oe', 
    orig_table =&gt; 'orders', 
    int_table  =&gt; 'int_orders');
END;
/
</pre><p>The table <code class="codeph">oe.orders</code> is locked in the exclusive mode only for a small window toward the end of this step. After this call the table <code class="codeph">oe.orders</code> is redefined such that it has all the attributes of the <code class="codeph">oe.int_orders</code> table.
                              </p>
                              <p>Consider specifying a non-<code class="codeph">NULL</code> value for the <code class="codeph">dml_lock_timeout</code> parameter in this procedure. See step&nbsp;<a href="managing-tables.html#GUID-3C702CE8-9676-4825-B92A-D4AFE78FE402__BABGDBJH">8</a> in <span class="q">"<a href="managing-tables.html#GUID-3C702CE8-9676-4825-B92A-D4AFE78FE402" title="You can use multiple procedures in the DBMS_REDEFINITION package to perform online redefinition of a table.">Performing Online Redefinition with Multiple Procedures in DBMS_REDEFINITION</a>"</span> for more information.
                              </p>
                           </li>
                           <li>
                              <p>Wait for any long-running queries against the interim table to complete, and then drop the interim table.</p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section" id="GUID-4E77A941-A660-4DB3-A7B8-D15FBD9BF509__BABFAHGD">
                        <p class="subhead3" id="GUID-4E77A941-A660-4DB3-A7B8-D15FBD9BF509__GUID-291F762F-80D5-45B6-9765-710CB5CE3C8F">Example 8</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>This example illustrates making multiple changes to a table using online redefinition.</p>
                        <p>The table to be redefined is defined as follows:</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE testredef.original( 
   col1 NUMBER PRIMARY KEY,
   col2 VARCHAR2(10),
   col3 CLOB,
   col4 DATE)
ORGANIZATION INDEX;
</pre><p>The table is redefined as follows:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The table is compressed with advanced row compression.</p>
                           </li>
                           <li>
                              <p>The LOB column is changed to SecureFiles LOB storage.</p>
                           </li>
                           <li>
                              <p>The table's tablespace is changed from <code class="codeph">example</code> to <code class="codeph">testredeftbs</code>, and the table's block size is changed from 8KB to 16KB.
                              </p>
                              <p>This example assumes that the database block size is 8KB. This example also assumes that the <code class="codeph">DB_16K_CACHE_SIZE</code> initialization parameter is set and that the <code class="codeph">testredef</code> tablespace was created with a 16KB block size. For example:
                              </p><pre class="oac_no_warn" dir="ltr">CREATE TABLESPACE testredeftbs  
  DATAFILE '/u01/app/oracle/oradata/testredef01.dbf' SIZE 500M   EXTENT MANAGEMENT LOCAL AUTOALLOCATE 
  SEGMENT SPACE MANAGEMENT AUTO 
  BLOCKSIZE 16384;
</pre></li>
                           <li>
                              <p>The table is partitioned on the <code class="codeph">col1</code> column.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">col5</code> column is added.
                              </p>
                           </li>
                           <li>
                              <p>The <code class="codeph">col2</code> column is dropped.
                              </p>
                           </li>
                           <li>
                              <p>Columns <code class="codeph">col3</code> and <code class="codeph">col4</code> are renamed, and their position in the table is changed.
                              </p>
                           </li>
                           <li>
                              <p>The type of the <code class="codeph">col3</code> column is changed from <code class="codeph">DATE</code> to <code class="codeph">TIMESTAMP</code>.
                              </p>
                           </li>
                           <li>
                              <p>The table is changed from an index-organized table (IOT) to a heap-organized table.</p>
                           </li>
                           <li>
                              <p>The table is defragmented.</p>
                              <p>To demonstrate defragmentation, the table must be populated. For the purposes of this example, you can use this PL/SQL block to populate the table:</p><pre class="oac_no_warn" dir="ltr">DECLARE
  V_CLOB CLOB;
BEGIN
   FOR I IN 0..999 LOOP
      V_CLOB := NULL;
      FOR J IN 1..1000 LOOP
         V_CLOB := V_CLOB||TO_CHAR(I,'0000');
      END LOOP;
      INSERT INTO testredef.original VALUES(I,TO_CHAR(I),V_CLOB,SYSDATE+I);
      COMMIT;
   END LOOP;
   COMMIT;
END;
/
</pre><p>Run the following SQL statement to fragment the table by deleting every third row:</p><pre class="oac_no_warn" dir="ltr">DELETE FROM testredef.original WHERE (COL1/3) &lt;&gt; TRUNC(COL1/3);
</pre><p>You can confirm the fragmentation by using the <code class="codeph">DBMS_SPACE.SPACE_USAGE</code> procedure.
                              </p>
                              <div class="infoboxnotealso" id="GUID-4E77A941-A660-4DB3-A7B8-D15FBD9BF509__GUID-14A5C4E6-6E27-41EA-8A24-CF98DEC4576E">
                                 <p class="notep1">See Also:</p>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=ARPLS68113" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information about the <code class="codeph">DBMS_SPACE.SPACE_USAGE</code> procedure
                                 </p>
                              </div>
                           </li>
                        </ul>
                        <p>The steps in this redefinition are illustrated below.</p>
                        <ol>
                           <li>
                              <p>In SQL*Plus, connect as a user with the required privileges for performing online redefinition of a table.</p>
                              <p>Specifically, the user must have the privileges described in <span class="q">"<a href="managing-tables.html#GUID-0191D286-24D5-4E2A-817B-99FAAB96D4B3" title="Execute privileges on the DBMS_REDEFINITION package are required to run subprograms in the package. Execute privileges on the DBMS_REDEFINITION package are granted to EXECUTE_CATALOG_ROLE.">Privileges Required for the DBMS_REDEFINITION Package</a>"</span>.
                              </p>
                              <p>See <span class="q">"<a href="getting-started-with-database-administration.html#GUID-895EC72B-C620-4D93-9F23-3F6DC1706764" title="Oracle Database includes the following components: the Oracle Database instance, which is a collection of processes and memory, and a set of disk files that contain user data and system data.">Connecting to the Database with SQL*Plus</a>"</span>.
                              </p>
                           </li>
                           <li>
                              <p>Verify that the table is a candidate for online redefinition. In this case you specify that the redefinition is to be done using primary keys or pseudo-primary keys.</p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_REDEFINITION.CAN_REDEF_TABLE(
    uname        =&gt; 'testredef',
    tname        =&gt; 'original',
    options_flag =&gt; DBMS_REDEFINITION.CONS_USE_PK);
END;
/
</pre></li>
                           <li>
                              <p>Create an interim table <code class="codeph">testredef.interim</code>.
                              </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE testredef.interim( 
    col1 NUMBER,
    col3 TIMESTAMP,
    col4 CLOB,
    col5 VARCHAR2(3))
    LOB(col4) STORE AS SECUREFILE (NOCACHE FILESYSTEM_LIKE_LOGGING)
    PARTITION BY RANGE (COL1) (
       PARTITION par1 VALUES LESS THAN (333),
       PARTITION par2 VALUES LESS THAN (666),
       PARTITION par3 VALUES LESS THAN (MAXVALUE))
   TABLESPACE testredeftbs
   ROW STORE COMPRESS ADVANCED;
</pre></li>
                           <li>
                              <p>Start the redefinition process. </p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_REDEFINITION.START_REDEF_TABLE(
     uname        =&gt; 'testredef',
     orig_table   =&gt; 'original',
     int_table    =&gt; 'interim',
     col_mapping  =&gt; 'col1 col1, TO_TIMESTAMP(col4) col3, col3 col4',
     options_flag =&gt; DBMS_REDEFINITION.CONS_USE_PK);
END;
/
</pre></li>
                           <li>
                              <p>Copy the dependent objects.</p><pre class="oac_no_warn" dir="ltr">DECLARE
num_errors PLS_INTEGER;
BEGIN
  DBMS_REDEFINITION.COPY_TABLE_DEPENDENTS(
    uname            =&gt; 'testredef', 
    orig_table       =&gt; 'original',
    int_table        =&gt; 'interim',
    copy_indexes     =&gt; DBMS_REDEFINITION.CONS_ORIG_PARAMS, 
    copy_triggers    =&gt; TRUE, 
    copy_constraints =&gt; TRUE, 
    copy_privileges  =&gt; TRUE, 
    ignore_errors    =&gt; TRUE, 
    num_errors       =&gt; num_errors);
END;
/
</pre></li>
                           <li>
                              <p>Optionally synchronize the interim table.</p><pre class="oac_no_warn" dir="ltr">BEGIN 
  DBMS_REDEFINITION.SYNC_INTERIM_TABLE(
    uname       =&gt; 'testredef', 
    orig_table  =&gt; 'original',
    int_table   =&gt; 'interim');
END;
/
</pre></li>
                           <li>
                              <p>Complete the redefinition.</p><pre class="oac_no_warn" dir="ltr">BEGIN
  DBMS_REDEFINITION.FINISH_REDEF_TABLE(
    uname       =&gt; 'testredef', 
    orig_table  =&gt; 'original',
    int_table   =&gt; 'interim');
END;
/
</pre></li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-4E77A941-A660-4DB3-A7B8-D15FBD9BF509__GUID-51F5F4AC-A199-4072-AEA5-8A871DF8C7AF">
                        <p class="notep1">See Also:</p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=COMSC" target="_blank"><span><cite>Oracle Database Sample Schemas</cite></span></a></div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-92361F74-4796-407D-A3B9-569C6E544E34" title="You can modify the logical or physical structure of a table.">Redefining Tables Online</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN01513"></a><div class="props_rev_3"><a id="GUID-2DD8A6E0-0195-4F3F-83A9-74BE0980FBA4" name="GUID-2DD8A6E0-0195-4F3F-83A9-74BE0980FBA4"></a><h3 id="ADMIN-GUID-2DD8A6E0-0195-4F3F-83A9-74BE0980FBA4" class="sect3"><span class="enumeration_section">20.9 </span>Researching and Reversing Erroneous Table Changes
               </h3>
               <div>
                  <p>To enable you to research and reverse erroneous changes to tables, Oracle Database provides a group of features that you can use to view past states of database objects or to return database objects to a previous state without using point-in-time media recovery. These features are known as <span class="bold">Oracle Flashback features</span>.
                  </p>
                  <p>To research an erroneous change, you can use multiple Oracle Flashback queries to view row data at specific points in time. A more efficient approach would be to use Oracle Flashback Version Query to view all changes to a row over a period of time. With this feature, you append a <code class="codeph">VERSIONS</code> clause to a <code class="codeph">SELECT</code> statement that specifies a system change number (SCN) or timestamp range between which you want to view changes to row values. The query also can return associated metadata, such as the transaction responsible for the change. 
                  </p>
                  <p>After you identify an erroneous transaction, you can use Oracle Flashback Transaction Query to identify other changes that were made by the transaction. You can then use Oracle Flashback Transaction to reverse the erroneous transaction. (Note that Oracle Flashback Transaction must also reverse all dependent transactions—subsequent transactions involving the same rows as the erroneous transaction.) You also have the option of using Oracle Flashback Table, described in <span class="q">"<a href="managing-tables.html#GUID-14433799-D469-4A56-AAE4-089D3C3E1A5C" title="Oracle Flashback Table enables you to restore a table to its state as of a previous point in time.">Recovering Tables Using Oracle Flashback Table</a>"</span>.
                  </p>
                  <div class="infoboxnote" id="GUID-2DD8A6E0-0195-4F3F-83A9-74BE0980FBA4__GUID-5C167E50-0114-46AA-85C2-42EA9DF39C4B">
                     <p class="notep1">Note:</p>
                     <p>You must be using automatic undo management to use Oracle Flashback features. See <span class="q">"<a href="managing-undo.html#GUID-106B56C9-CB60-4E46-86A6-BF645E9E1A7F" title="Oracle Database can manage undo information and space automatically.">Introduction to Automatic Undo Management </a>"</span>.
                     </p>
                  </div>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-2DD8A6E0-0195-4F3F-83A9-74BE0980FBA4__GUID-E24515AD-6BAD-44F8-80DB-9DCEB95288C8">
                     <p class="notep1">See Also:</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=ADFNS1008" target="_blank"><span class="italic">Oracle Database Development Guide</span></a> for information about Oracle Flashback features.
                     </p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-707B02F5-E589-4C20-8E2E-5ED4F7888702" title="Managing tables includes tasks such as creating tables, loading tables, altering tables, and dropping tables.">Managing Tables</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADMIN01512"></a><div class="props_rev_3"><a id="GUID-14433799-D469-4A56-AAE4-089D3C3E1A5C" name="GUID-14433799-D469-4A56-AAE4-089D3C3E1A5C"></a><h3 id="ADMIN-GUID-14433799-D469-4A56-AAE4-089D3C3E1A5C" class="sect3"><span class="enumeration_section">20.10 </span>Recovering Tables Using Oracle Flashback Table
               </h3>
               <div>
                  <p>Oracle Flashback Table enables you to restore a table to its state as of a previous point in time.</p>
                  <p>It provides a fast, online solution for recovering a table that has been accidentally modified or deleted by a user or application. In many cases, Oracle Flashback Table eliminates the need for you to perform more complicated point-in-time recovery operations.<a id="d192334e17109" class="indexterm-anchor"></a></p>
                  <p>Oracle Flashback Table:</p>
                  <ul style="list-style-type: disc;">
                     <li>
                        <p>Restores all data in a specified table to a previous point in time described by a timestamp or SCN. </p>
                     </li>
                     <li>
                        <p>Performs the restore operation online.</p>
                     </li>
                     <li>
                        <p>Automatically maintains all of the table attributes, such as indexes, triggers, and constraints that are necessary for an application to function with the flashed-back table.</p>
                     </li>
                     <li>
                        <p>Maintains any remote state in a distributed environment. For example, all of the table modifications required by replication if a replicated table is flashed back.</p>
                     </li>
                     <li>
                        <p>Maintains data integrity as specified by constraints. Tables are flashed back provided none of the table constraints are violated. This includes any referential integrity constraints specified between a table included in the <code class="codeph">FLASHBACK TABLE</code> statement and another table that is not included in the <code class="codeph">FLASHBACK TABLE</code> statement. 
                        </p>
                     </li>
                     <li>
                        <p>Even after a flashback operation, the data in the original table is not lost. You can later revert to the original state.</p>
                     </li>
                  </ul>
                  <div class="infoboxnote" id="GUID-14433799-D469-4A56-AAE4-089D3C3E1A5C__GUID-1E26D70B-1470-4464-980C-5DB0A3129B08">
                     <p class="notep1">Note:</p>
                     <p>You must be using automatic undo management to use Oracle Flashback Table. See <span class="q">"<a href="managing-undo.html#GUID-106B56C9-CB60-4E46-86A6-BF645E9E1A7F" title="Oracle Database can manage undo information and space automatically.">Introduction to Automatic Undo Management </a>"</span>.
                     </p>
                  </div>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-14433799-D469-4A56-AAE4-089D3C3E1A5C__GUID-D449AC70-261D-43EC-A095-988D9BAFC50D">
                     <p class="notep1">See Also:</p>
                     <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=BRADV81517" target="_blank"><span class="italic">Oracle Database Backup and Recovery User's Guide</span></a> for more information about the <code class="codeph">FLASHBACK TABLE</code> statement.
                     </p>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-707B02F5-E589-4C20-8E2E-5ED4F7888702" title="Managing tables includes tasks such as creating tables, loading tables, altering tables, and dropping tables.">Managing Tables</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADMIN01505"></a><div class="props_rev_3"><a id="GUID-C35B192C-1C8B-425F-A003-D36D0EABEB3A" name="GUID-C35B192C-1C8B-425F-A003-D36D0EABEB3A"></a><h3 id="ADMIN-GUID-C35B192C-1C8B-425F-A003-D36D0EABEB3A" class="sect3"><span class="enumeration_section">20.11 </span>Dropping Tables
               </h3>
               <div>
                  <p>To drop a table that you no longer need, use the <code class="codeph">DROP TABLE</code> statement.
                  </p>
                  <p>The table must be contained in your schema or you must have the <code class="codeph">DROP ANY TABLE</code> system privilege. 
                  </p>
                  <div class="infoboxnote" id="GUID-C35B192C-1C8B-425F-A003-D36D0EABEB3A__GUID-29E210C2-ABE3-446A-86ED-A877255C99DE">
                     <p class="notep1">Note:</p>
                     <p>Before dropping a table, familiarize yourself with the consequences of doing so:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Dropping a table removes the table definition from the data dictionary. All rows of the table are no longer accessible.</p>
                        </li>
                        <li>
                           <p>All indexes and triggers associated with a table are dropped.</p>
                        </li>
                        <li>
                           <p>All views and PL/SQL program units dependent on a dropped table remain, yet become invalid (not usable). See <span class="q">"<a href="managing-schema-objects.html#GUID-46D82F8E-C360-4223-B469-18039B1FFB21" title="Oracle Database provides an automatic mechanism to ensure that a dependent object is always up to date with respect to its referenced objects. You can also manually recompile invalid object.">Managing Object Dependencies</a>"</span> for information about how the database manages dependencies.
                           </p>
                        </li>
                        <li>
                           <p>All synonyms for a dropped table remain, but return an error when used.</p>
                        </li>
                        <li>
                           <p>All extents allocated for a table that is dropped are returned to the free space of the tablespace and can be used by any other object requiring new extents or new objects. All rows corresponding to a clustered table are deleted from the blocks of the cluster. Clustered tables are the subject of <a href="managing-clusters.html#GUID-2EB6D65C-3DD8-4C92-A8B4-C05197B6CF2D" title="Using clusters can improve performance and reduce disk space requirements.">Managing Clusters</a>.
                           </p>
                        </li>
                     </ul>
                  </div>
                  <p>The following statement drops the <code class="codeph">hr.int_admin_emp</code> table:
                  </p><pre class="oac_no_warn" dir="ltr">DROP TABLE hr.int_admin_emp;
</pre><p>If the table to be dropped contains any primary or unique keys referenced by foreign keys of other tables and you intend to drop the <code class="codeph">FOREIGN KEY</code> constraints of the child tables, then include the <code class="codeph">CASCADE</code> clause in the <code class="codeph">DROP TABLE</code> statement, as shown below:
                  </p><pre class="oac_no_warn" dir="ltr">DROP TABLE hr.admin_emp CASCADE CONSTRAINTS;
</pre><p>When you drop a table, normally the database does not immediately release the space associated with the table. Rather, the database renames the table and places it in a recycle bin, where it can later be recovered with the <code class="codeph">FLASHBACK</code> <code class="codeph">TABLE</code> statement if you find that you dropped the table in error. If you should want to immediately release the space associated with the table at the time you issue the <code class="codeph">DROP TABLE</code> statement, include the <code class="codeph">PURGE</code> clause as shown in the following statement:
                  </p><pre class="oac_no_warn" dir="ltr">DROP TABLE hr.admin_emp PURGE;
</pre><p>Perhaps instead of dropping a table, you want to truncate it. The <code class="codeph">TRUNCATE</code> statement provides a fast, efficient method for deleting all rows from a table, but it does not affect any structures associated with the table being truncated (column definitions, constraints, triggers, and so forth) or authorizations. The <code class="codeph">TRUNCATE</code> statement is discussed in <span class="q">"<a href="managing-schema-objects.html#GUID-14D4966B-997B-4C26-9AD8-89EDF7B26F53" title="You can delete all rows of a table or all rows in a group of clustered tables so that the table (or cluster) still exists, but is completely empty. For example, consider a table that contains monthly data, and at the end of each month, you must empty it (delete all rows) after archiving its data.">Truncating Tables and Clusters</a>"</span>.
                  </p>
                  <div class="infoboxnote" id="GUID-C35B192C-1C8B-425F-A003-D36D0EABEB3A__GUID-C69FB35C-9EA1-444F-ABC9-473E0743A3F5">
                     <p class="notep1">Live SQL:</p>
                     <p>View and run a related example on Oracle Live SQL at <a href="https://livesql.oracle.com/apex/livesql/docs/admin/managing-tables/create-modify.html" target="_blank"><span class="italic">Oracle Live SQL: Creating and Modifying Tables</span></a>.
                     </p>
                  </div>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-707B02F5-E589-4C20-8E2E-5ED4F7888702" title="Managing tables includes tasks such as creating tables, loading tables, altering tables, and dropping tables.">Managing Tables</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADMIN01511"></a><div class="props_rev_3"><a id="GUID-16E1CE4C-0189-4CF5-8047-F5039587D130" name="GUID-16E1CE4C-0189-4CF5-8047-F5039587D130"></a><h3 id="ADMIN-GUID-16E1CE4C-0189-4CF5-8047-F5039587D130" class="sect3"><span class="enumeration_section">20.12 </span>Using Flashback Drop and Managing the Recycle Bin
               </h3>
               <div>
                  <p>When you drop a table, the database does not immediately remove the space associated with the table. The database renames the table and places it and any associated objects in a recycle bin, where, in case the table was dropped in error, it can be recovered at a later time. This feature is called Flashback Drop, and the <code class="codeph">FLASHBACK</code> <code class="codeph">TABLE</code> statement is used to restore the table. 
                  </p>
                  <p>Before discussing the use of the <code class="codeph">FLASHBACK</code> <code class="codeph">TABLE</code> statement for this purpose, it is important to understand how the recycle bin works, and how you manage its contents.
                  </p>
               </div>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-09C5BFE4-973F-4CB6-91BB-1BD2E27D9639">What Is the Recycle Bin?</a><br>The recycle bin is actually a data dictionary table containing information about dropped objects. Dropped tables and any associated objects such as indexes, constraints, nested tables, and so on are not removed and still occupy space. 
                     </li>
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-371BE1F5-5B21-4B88-B85E-BB9A773C9FA6">Enabling and Disabling the Recycle Bin</a><br>When the recycle bin is enabled, dropped tables and their dependent objects are placed in the recycle bin. When the recycle bin is disabled, dropped tables and their dependent objects are <span class="italic">not</span> placed in the recycle bin; they are dropped, and you must use other means to recover them (such as recovering from backup).
                     </li>
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-119967AE-E205-44F6-AFDE-5AB56983B0E7">Viewing and Querying Objects in the Recycle Bin</a><br>Oracle Database provides two views for obtaining information about objects in the recycle bin.
                     </li>
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-82E62BDB-E886-4EF9-943C-C62D632E499B">Purging Objects in the Recycle Bin</a><br>If you decide that you are never going to restore an item from the recycle bin, then you can use the <code class="codeph">PURGE</code> statement to remove the items and their associated objects from the recycle bin and release their storage space. You need the same privileges as if you were dropping the item.
                     </li>
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-DA084A97-1D94-47D5-B8AE-FE449F8680E8">Restoring Tables from the Recycle Bin</a><br>Use the <code class="codeph">FLASHBACK</code> <code class="codeph">TABLE</code> ... <code class="codeph">TO</code> <code class="codeph">BEFORE</code> <code class="codeph">DROP</code> statement to recover objects from the recycle bin. 
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-707B02F5-E589-4C20-8E2E-5ED4F7888702" title="Managing tables includes tasks such as creating tables, loading tables, altering tables, and dropping tables.">Managing Tables</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN12640"></a><a id="ADMIN11679"></a><div class="props_rev_3"><a id="GUID-09C5BFE4-973F-4CB6-91BB-1BD2E27D9639" name="GUID-09C5BFE4-973F-4CB6-91BB-1BD2E27D9639"></a><h4 id="ADMIN-GUID-09C5BFE4-973F-4CB6-91BB-1BD2E27D9639" class="sect4"><span class="enumeration_section">20.12.1 </span>What Is the Recycle Bin?
                  </h4>
                  <div>
                     <p>The recycle bin is actually a data dictionary table containing information about dropped objects. Dropped tables and any associated objects such as indexes, constraints, nested tables, and so on are not removed and still occupy space. </p>
                     <p>They continue to count against user space quotas, until specifically purged from the recycle bin or the unlikely situation where they must be purged by the database because of tablespace space constraints. </p>
                     <p>Each user can be thought of as having his own recycle bin, because, unless a user has the <code class="codeph">SYSDBA</code> privilege, the only objects that the user has access to in the recycle bin are those that the user owns. A user can view his objects in the recycle bin using the following statement:
                     </p><pre class="oac_no_warn" dir="ltr">SELECT * FROM RECYCLEBIN;
</pre><p>Only the <code class="codeph">DROP</code> <code class="codeph">TABLE</code> SQL statement places objects in the recycle bin. It adds the table and its associated objects so that they can be recovered as a group. In addition to the table itself, the associated objects that are added to the recycle bin can include the following types of objects:
                     </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Nested tables</p>
                        </li>
                        <li>
                           <p>LOB segments</p>
                        </li>
                        <li>
                           <p>Indexes</p>
                        </li>
                        <li>
                           <p>Constraints (excluding foreign key constraints)</p>
                        </li>
                        <li>
                           <p>Triggers</p>
                        </li>
                        <li>
                           <p>Clusters</p>
                        </li>
                     </ul>
                     <p>When you drop a tablespace including its contents, the objects in the tablespace are not placed in the recycle bin and the database purges any entries in the recycle bin for objects located in the tablespace. The database also purges any recycle bin entries for objects in a tablespace when you drop the tablespace, not including contents, and the tablespace is otherwise empty. Likewise:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>When you drop a user, any objects belonging to the user are not placed in the recycle bin and any objects in the recycle bin are purged.</p>
                        </li>
                        <li>
                           <p>When you drop a cluster, its member tables are not placed in the recycle bin and any former member tables in the recycle bin are purged.</p>
                        </li>
                        <li>
                           <p>When you drop a type, any dependent objects such as subtypes are not placed in the recycle bin and any former dependent objects in the recycle bin are purged.</p>
                        </li>
                     </ul>
                     <div class="section">
                        <p class="subhead3" id="GUID-09C5BFE4-973F-4CB6-91BB-1BD2E27D9639__GUID-D286BADC-88F4-4126-8DAC-5C6DA1AB2684">Object Naming in the Recycle Bin</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>When a dropped table is moved to the <a id="d192334e17538" class="indexterm-anchor"></a>recycle bin, the table and its associated objects are given system-generated names. This is necessary to avoid name conflicts that may arise if multiple tables have the same name. This could occur under the following circumstances:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>A user drops a table, re-creates it with the same name, then drops it again. </p>
                           </li>
                           <li>
                              <p>Two users have tables with the same name, and both users drop their tables.</p>
                           </li>
                        </ul>
                        <p>The renaming convention is as follows:</p><pre class="oac_no_warn" dir="ltr">BIN$<span class="italic"><code class="codeph">unique_id</code></span>$<span class="italic"><code class="codeph">version</code></span>
</pre><p>where:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="italic"><code class="codeph">unique_id</code></span> is a 26-character globally unique identifier for this object, which makes the recycle bin name unique across all databases
                              </p>
                           </li>
                           <li>
                              <p><span class="italic"><code class="codeph">version</code></span> is a version number assigned by the database 
                              </p>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-16E1CE4C-0189-4CF5-8047-F5039587D130" title="When you drop a table, the database does not immediately remove the space associated with the table. The database renames the table and places it and any associated objects in a recycle bin, where, in case the table was dropped in error, it can be recovered at a later time. This feature is called Flashback Drop, and the FLASHBACK TABLE statement is used to restore the table.">Using Flashback Drop and Managing the Recycle Bin</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11680"></a><div class="props_rev_3"><a id="GUID-371BE1F5-5B21-4B88-B85E-BB9A773C9FA6" name="GUID-371BE1F5-5B21-4B88-B85E-BB9A773C9FA6"></a><h4 id="ADMIN-GUID-371BE1F5-5B21-4B88-B85E-BB9A773C9FA6" class="sect4"><span class="enumeration_section">20.12.2 </span>Enabling and Disabling the Recycle Bin
                  </h4>
                  <div>
                     <p>When the recycle bin is enabled, dropped tables and their dependent objects are placed in the recycle bin. When the recycle bin is disabled, dropped tables and their dependent objects are <span class="italic">not</span> placed in the recycle bin; they are dropped, and you must use other means to recover them (such as recovering from backup).
                     </p>
                     <div class="section">
                        <p>Disabling the recycle bin does not purge or otherwise affect objects already in the recycle bin. The recycle bin is enabled by default.</p>
                        <p>You enable and disable the recycle bin by changing the <code class="codeph">recyclebin</code> initialization parameter. This parameter is not dynamic, so a database restart is required when you change it with an <code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code> statement.
                        </p>
                        <p>To enable the recycle bin:</p>
                        <ol>
                           <li>
                              <p>Issue one of the following statements:</p><pre class="oac_no_warn" dir="ltr">ALTER SESSION SET recyclebin = ON;

ALTER SYSTEM SET recyclebin = ON SCOPE = SPFILE;
</pre></li>
                           <li>
                              <p>If you used <code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code>, restart the database.
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>To disable the recycle bin:</p>
                        <ol>
                           <li>
                              <p>Issue one of the following statements:</p><pre class="oac_no_warn" dir="ltr">ALTER SESSION SET recyclebin = OFF;

ALTER SYSTEM SET recyclebin = OFF SCOPE = SPFILE;
</pre></li>
                           <li>
                              <p>If you used <code class="codeph">ALTER</code> <code class="codeph">SYSTEM</code>, restart the database.
                              </p>
                           </li>
                        </ol>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-371BE1F5-5B21-4B88-B85E-BB9A773C9FA6__GUID-327AC7B7-8642-442A-B0D6-7DB9E24695CD">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="creating-and-configuring-an-oracle-database.html#GUID-8BAD86FC-27C5-4103-8151-AC5BADF274E3" title="When an Oracle instance starts, it reads initialization parameters from an initialization parameter file. This file must at a minimum specify the DB_NAME parameter. All other parameters have default values.">About Initialization Parameters and Initialization Parameter Files</a>"</span> for more information on initialization parameters
                              </p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="creating-and-configuring-an-oracle-database.html#GUID-2DCF90DE-9F5C-48EA-9BE2-47FC2A7DFC30" title="You can change initialization parameter values to affect the operation of a database instance.">Changing Initialization Parameter Values</a>"</span> for a description of dynamic and static initialization parameters
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-16E1CE4C-0189-4CF5-8047-F5039587D130" title="When you drop a table, the database does not immediately remove the space associated with the table. The database renames the table and places it and any associated objects in a recycle bin, where, in case the table was dropped in error, it can be recovered at a later time. This feature is called Flashback Drop, and the FLASHBACK TABLE statement is used to restore the table.">Using Flashback Drop and Managing the Recycle Bin</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11681"></a><div class="props_rev_3"><a id="GUID-119967AE-E205-44F6-AFDE-5AB56983B0E7" name="GUID-119967AE-E205-44F6-AFDE-5AB56983B0E7"></a><h4 id="ADMIN-GUID-119967AE-E205-44F6-AFDE-5AB56983B0E7" class="sect4"><span class="enumeration_section">20.12.3 </span>Viewing and Querying Objects in the Recycle Bin
                  </h4>
                  <div>
                     <p>Oracle Database provides two views for obtaining information about objects in the recycle bin.</p>
                     <div class="section">
                        <div class="tblformal" id="GUID-119967AE-E205-44F6-AFDE-5AB56983B0E7__GUID-2A825710-AFB9-4039-ABD4-3D5E72FCFBAB">
                           <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="Column 1 lists the views for obtaning information from the recycle bin, column 2 describes the view." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="30%" id="d192334e17753">View</th>
                                    <th align="left" valign="bottom" width="70%" id="d192334e17756">Description</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d192334e17761" headers="d192334e17753 ">
                                       <p><code class="codeph">USER_RECYCLEBIN</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d192334e17761 d192334e17756 ">
                                       <p>This view can be used by users to see their own dropped objects in the recycle bin. It has a synonym <code class="codeph">RECYCLEBIN</code>, for ease of use.
                                       </p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="30%" id="d192334e17773" headers="d192334e17753 ">
                                       <p><code class="codeph">DBA_RECYCLEBIN</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="70%" headers="d192334e17773 d192334e17756 ">
                                       <p>This view gives administrators visibility to all dropped objects in the recycle bin </p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                        <p>One use for these views is to identify the name that the database has assigned to a dropped object, as shown in the following example:</p><pre class="oac_no_warn" dir="ltr">SELECT object_name, original_name FROM dba_recyclebin
   WHERE owner = 'HR';

OBJECT_NAME                    ORIGINAL_NAME
------------------------------ --------------------------------
BIN$yrMKlZaLMhfgNAgAIMenRA==$0 EMPLOYEES
</pre><p>You can also view the contents of the recycle bin using the SQL*Plus command <code class="codeph">SHOW RECYCLEBIN</code>.
                        </p><pre class="oac_no_warn" dir="ltr">SQL&gt; show recyclebin

ORIGINAL NAME    RECYCLEBIN NAME                OBJECT TYPE  DROP TIME
---------------- ------------------------------ ------------ -------------------
EMPLOYEES        BIN$yrMKlZaVMhfgNAgAIMenRA==$0 TABLE        2003-10-27:14:00:19
</pre><p>You can query objects that are in the recycle bin, just as you can query other objects. However, you must specify the name of the object as it is identified in the recycle bin. For example:</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM "BIN$yrMKlZaVMhfgNAgAIMenRA==$0";</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-16E1CE4C-0189-4CF5-8047-F5039587D130" title="When you drop a table, the database does not immediately remove the space associated with the table. The database renames the table and places it and any associated objects in a recycle bin, where, in case the table was dropped in error, it can be recovered at a later time. This feature is called Flashback Drop, and the FLASHBACK TABLE statement is used to restore the table.">Using Flashback Drop and Managing the Recycle Bin</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11682"></a><div class="props_rev_3"><a id="GUID-82E62BDB-E886-4EF9-943C-C62D632E499B" name="GUID-82E62BDB-E886-4EF9-943C-C62D632E499B"></a><h4 id="ADMIN-GUID-82E62BDB-E886-4EF9-943C-C62D632E499B" class="sect4"><span class="enumeration_section">20.12.4 </span>Purging Objects in the Recycle Bin
                  </h4>
                  <div>
                     <p>If you decide that you are never going to restore an item from the recycle bin, then you can use the <code class="codeph">PURGE</code> statement to remove the items and their associated objects from the recycle bin and release their storage space. You need the same privileges as if you were dropping the item.
                     </p>
                     <div class="section">
                        <p>When you use the <code class="codeph">PURGE</code> statement to purge a table, you can use the name that the table is known by in the recycle bin or the original name of the table. The recycle bin name can be obtained from either the <code class="codeph">DBA_</code> or <code class="codeph">USER_RECYCLEBIN</code> view as shown in <span class="q">"<a href="managing-tables.html#GUID-119967AE-E205-44F6-AFDE-5AB56983B0E7" title="Oracle Database provides two views for obtaining information about objects in the recycle bin.">Viewing and Querying Objects in the Recycle Bin</a>"</span>. The following hypothetical example purges the table <code class="codeph">hr.int_admin_emp</code>, which was renamed to <code class="codeph">BIN$jsleilx392mk2=293$0</code> when it was placed in the recycle bin:
                        </p><pre class="oac_no_warn" dir="ltr">PURGE TABLE "BIN$jsleilx392mk2=293$0";
</pre><p>You can achieve the same result with the following statement:</p><pre class="oac_no_warn" dir="ltr">PURGE TABLE int_admin_emp;
</pre><p>You can use the <code class="codeph">PURGE</code> statement to purge all the objects in the recycle bin that are from a specified tablespace or only the tablespace objects belonging to a specified user, as shown in the following examples:
                        </p><pre class="oac_no_warn" dir="ltr">PURGE TABLESPACE example;
PURGE TABLESPACE example USER oe;
</pre><p>Users can purge the recycle bin of their own objects, and release space for objects, by using the following statement:</p><pre class="oac_no_warn" dir="ltr">PURGE RECYCLEBIN;
</pre><p>If you have the <code class="codeph">SYSDBA</code> privilege or the <code class="codeph">PURGE</code> <code class="codeph">DBA_RECYCLEBIN</code> system privilege, then you can purge the entire recycle bin by specifying <code class="codeph">DBA_RECYCLEBIN</code>, instead of <code class="codeph">RECYCLEBIN</code> in the previous statement.
                        </p>
                        <p>You can also use the <code class="codeph">PURGE</code> statement to purge an index from the recycle bin or to purge from the recycle bin all objects in a specified tablespace. 
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-82E62BDB-E886-4EF9-943C-C62D632E499B__GUID-BE031A1D-0CFD-4B7D-91C8-69F0ABE254F0">
                        <p class="notep1">See Also:</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=SQLRF01803" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information on the <code class="codeph">PURGE</code> statement
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-16E1CE4C-0189-4CF5-8047-F5039587D130" title="When you drop a table, the database does not immediately remove the space associated with the table. The database renames the table and places it and any associated objects in a recycle bin, where, in case the table was dropped in error, it can be recovered at a later time. This feature is called Flashback Drop, and the FLASHBACK TABLE statement is used to restore the table.">Using Flashback Drop and Managing the Recycle Bin</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN12641"></a><a id="ADMIN11683"></a><div class="props_rev_3"><a id="GUID-DA084A97-1D94-47D5-B8AE-FE449F8680E8" name="GUID-DA084A97-1D94-47D5-B8AE-FE449F8680E8"></a><h4 id="ADMIN-GUID-DA084A97-1D94-47D5-B8AE-FE449F8680E8" class="sect4"><span class="enumeration_section">20.12.5 </span>Restoring Tables from the Recycle Bin
                  </h4>
                  <div>
                     <p>Use the <code class="codeph">FLASHBACK</code> <code class="codeph">TABLE</code> ... <code class="codeph">TO</code> <code class="codeph">BEFORE</code> <code class="codeph">DROP</code> statement to recover objects from the recycle bin. 
                     </p>
                     <div class="section">
                        <p>You can specify either the name of the table in the recycle bin or the original table name. An optional <code class="codeph">RENAME TO</code> clause lets you rename the table as you recover it. The recycle bin name can be obtained from either the <code class="codeph">DBA_</code> or <code class="codeph">USER_RECYCLEBIN</code> view as shown in <span class="q">"<a href="managing-tables.html#GUID-119967AE-E205-44F6-AFDE-5AB56983B0E7" title="Oracle Database provides two views for obtaining information about objects in the recycle bin.">Viewing and Querying Objects in the Recycle Bin</a>"</span>. To use the <code class="codeph">FLASHBACK</code> <code class="codeph">TABLE</code> ... <code class="codeph">TO</code> <code class="codeph">BEFORE</code> <code class="codeph">DROP</code> statement, you need the same privileges required to drop the table. 
                        </p>
                        <p>The following example restores <code class="codeph">int_admin_emp</code> table and assigns to it a new name:
                        </p><pre class="oac_no_warn" dir="ltr">FLASHBACK TABLE int_admin_emp TO BEFORE DROP 
   RENAME TO int2_admin_emp;
</pre><p>The system-generated recycle bin name is very useful if you have dropped a table multiple times. For example, suppose you have three versions of the <code class="codeph">int2_admin_emp</code> table in the recycle bin and you want to recover the second version. You can do this by issuing two <code class="codeph">FLASHBACK TABLE</code> statements, or you can query the recycle bin and then flashback to the appropriate system-generated name, as shown in the following example. Including the create time in the query can help you verify that you are restoring the correct table.
                        </p><pre class="oac_no_warn" dir="ltr">SELECT object_name, original_name, createtime FROM recyclebin;    

OBJECT_NAME                    ORIGINAL_NAME   CREATETIME
------------------------------ --------------- -------------------
BIN$yrMKlZaLMhfgNAgAIMenRA==$0 INT2_ADMIN_EMP  2006-02-05:21:05:52
BIN$yrMKlZaVMhfgNAgAIMenRA==$0 INT2_ADMIN_EMP  2006-02-05:21:25:13
BIN$yrMKlZaQMhfgNAgAIMenRA==$0 INT2_ADMIN_EMP  2006-02-05:22:05:53

FLASHBACK TABLE "BIN$yrMKlZaVMhfgNAgAIMenRA==$0" TO BEFORE DROP;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-DA084A97-1D94-47D5-B8AE-FE449F8680E8__GUID-9CA8BA4D-238D-4416-8A9C-315FF10BF14A">Restoring Dependent Objects</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>When you restore a table from the recycle bin, dependent objects such as indexes do not get their original names back; they retain their system-generated recycle bin names. You must manually rename dependent objects to restore their original names. If you plan to manually restore original names for dependent objects, ensure that you make note of each dependent object's system-generated recycle bin name <span class="italic">before</span> you restore the table.
                        </p>
                        <p>The following is an example of restoring the original names of some of the indexes of the dropped table <code class="codeph">JOB_HISTORY</code>, from the <code class="codeph">HR</code> sample schema. The example assumes that you are logged in as the <code class="codeph">HR</code> user.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>After dropping <code class="codeph">JOB_HISTORY</code> and before restoring it from the recycle bin, run the following query:</span><div><pre class="oac_no_warn" dir="ltr">SELECT OBJECT_NAME, ORIGINAL_NAME, TYPE FROM RECYCLEBIN;

OBJECT_NAME                    ORIGINAL_NAME             TYPE
------------------------------ ------------------------- --------
BIN$DBo9UChtZSbgQFeMiAdCcQ==$0 JHIST_JOB_IX              INDEX
BIN$DBo9UChuZSbgQFeMiAdCcQ==$0 JHIST_EMPLOYEE_IX         INDEX
BIN$DBo9UChvZSbgQFeMiAdCcQ==$0 JHIST_DEPARTMENT_IX       INDEX
BIN$DBo9UChwZSbgQFeMiAdCcQ==$0 JHIST_EMP_ID_ST_DATE_PK   INDEX
BIN$DBo9UChxZSbgQFeMiAdCcQ==$0 JOB_HISTORY               TABLE
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Restore the table with the following command:</span><div><pre class="oac_no_warn" dir="ltr">FLASHBACK TABLE JOB_HISTORY TO BEFORE DROP;
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Run the following query to verify that all <code class="codeph">JOB_HISTORY</code> indexes retained their system-generated recycle bin names:</span><div><pre class="oac_no_warn" dir="ltr">SELECT INDEX_NAME FROM USER_INDEXES WHERE TABLE_NAME = 'JOB_HISTORY';
 
INDEX_NAME
------------------------------
BIN$DBo9UChwZSbgQFeMiAdCcQ==$0
BIN$DBo9UChtZSbgQFeMiAdCcQ==$0
BIN$DBo9UChuZSbgQFeMiAdCcQ==$0
BIN$DBo9UChvZSbgQFeMiAdCcQ==$0
</pre></div>
                        </li>
                        <li class="stepexpand"><span>Restore the original names of the first two indexes as follows:</span><div><pre class="oac_no_warn" dir="ltr">ALTER INDEX "BIN$DBo9UChtZSbgQFeMiAdCcQ==$0" RENAME TO JHIST_JOB_IX;
ALTER INDEX "BIN$DBo9UChuZSbgQFeMiAdCcQ==$0" RENAME TO JHIST_EMPLOYEE_IX;
</pre><p>Note that double quotes are required around the system-generated names.</p>
                           </div>
                        </li>
                     </ol>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-16E1CE4C-0189-4CF5-8047-F5039587D130" title="When you drop a table, the database does not immediately remove the space associated with the table. The database renames the table and places it and any associated objects in a recycle bin, where, in case the table was dropped in error, it can be recovered at a later time. This feature is called Flashback Drop, and the FLASHBACK TABLE statement is used to restore the table.">Using Flashback Drop and Managing the Recycle Bin</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div><a id="ADMIN01506"></a><div class="props_rev_3"><a id="GUID-D9BCA9BF-EAA8-431D-BDBB-ED5B3C59C5E4" name="GUID-D9BCA9BF-EAA8-431D-BDBB-ED5B3C59C5E4"></a><h3 id="ADMIN-GUID-D9BCA9BF-EAA8-431D-BDBB-ED5B3C59C5E4" class="sect3"><span class="enumeration_section">20.13 </span>Managing Index-Organized Tables 
               </h3>
               <p>An index-organized table's storage organization is a variant of a primary B-tree index. Unlike a heap-organized table, data is stored in primary key order.</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-26B31531-E4EF-44B1-9193-415E69F7E65C">What Are Index-Organized Tables?</a><br>An <span class="bold">index-organized table</span> has a storage organization that is a variant of a primary B-tree. Unlike an ordinary (heap-organized) table whose data is stored as an unordered collection (heap), data for an index-organized table is stored in a B-tree index structure in a primary key sorted manner. Each leaf block in the index structure stores both the key and nonkey columns. 
                     </li>
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-F3965F25-01CD-464C-B065-025442A6C43F">Creating Index-Organized Tables</a><br>Index-organized tables provide fast primary key access and high availability.
                     </li>
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-4E51E139-9352-4F95-93FE-7CB626646308">Maintaining Index-Organized Tables</a><br>Index-organized tables differ from ordinary tables only in physical organization. Logically, they are manipulated in the same manner as ordinary tables. You can specify an index-organized table just as you would specify a regular table in <code class="codeph">INSERT</code>, <code class="codeph">SELECT</code>, <code class="codeph">DELETE</code>, and <code class="codeph">UPDATE</code> statements. 
                     </li>
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-F0DA4974-0FC7-4227-873D-A5D7156D68D6">Creating Secondary Indexes on Index-Organized Tables</a><br>A secondary index is an index on an index-organized table. The secondary index is an independent schema object and is stored separately from the index-organized table.
                     </li>
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-3FDB4F70-4DD9-47BF-811B-F5CA0F168832">Analyzing Index-Organized Tables</a><br>Just like ordinary tables, index-organized tables are analyzed using the <code class="codeph">DBMS_STATS</code> package, or the <code class="codeph">ANALYZE</code> statement. 
                     </li>
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-9118B891-326A-4579-9BBD-A3A6DDF4016A">Using the ORDER BY Clause with Index-Organized Tables</a><br>If an <code class="codeph">ORDER BY</code> clause only references the primary key column or a prefix of it, then the optimizer avoids the sorting overhead, as the rows are returned sorted on the primary key columns.
                     </li>
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-43FB7062-D7FE-4E29-9199-5ACDE7799958">Converting Index-Organized Tables to Regular Tables</a><br>You can convert index-organized tables to regular (heap organized) tables using the Oracle import or export utilities, or the <code class="codeph">CREATE TABLE...AS SELECT</code> statement.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-707B02F5-E589-4C20-8E2E-5ED4F7888702" title="Managing tables includes tasks such as creating tables, loading tables, altering tables, and dropping tables.">Managing Tables</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN11684"></a><div class="props_rev_3"><a id="GUID-26B31531-E4EF-44B1-9193-415E69F7E65C" name="GUID-26B31531-E4EF-44B1-9193-415E69F7E65C"></a><h4 id="ADMIN-GUID-26B31531-E4EF-44B1-9193-415E69F7E65C" class="sect4"><span class="enumeration_section">20.13.1 </span>What Are Index-Organized Tables?
                  </h4>
                  <div>
                     <p>An <span class="bold">index-organized table</span> has a storage organization that is a variant of a primary B-tree. Unlike an ordinary (heap-organized) table whose data is stored as an unordered collection (heap), data for an index-organized table is stored in a B-tree index structure in a primary key sorted manner. Each leaf block in the index structure stores both the key and nonkey columns. 
                     </p>
                     <p>The structure of an index-organized table provides the following benefits:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Fast random access on the primary key because an index-only scan is sufficient. And, because there is no separate table storage area, changes to the table data (such as adding new rows, updating rows, or deleting rows) result only in updating the index structure.</p>
                        </li>
                        <li>
                           <p>Fast range access on the primary key because the rows are clustered in primary key order.</p>
                        </li>
                        <li>
                           <p>Lower storage requirements because duplication of primary keys is avoided. They are not stored both in the index and underlying table, as is true with heap-organized tables.</p>
                        </li>
                     </ul>
                     <p>Index-organized tables have full table functionality. They support features such as constraints, triggers, LOB and object columns, partitioning, parallel operations, online reorganization, and replication. And, they offer these additional features:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p>Prefix compression</p>
                        </li>
                        <li>
                           <p>Overflow storage area and specific column placement</p>
                        </li>
                        <li>
                           <p>Secondary indexes, including bitmap indexes.</p>
                        </li>
                     </ul>
                     <p>Index-organized tables are ideal for OLTP applications, which require fast primary key access and high availability. For example, queries and DML on an orders table used in electronic order processing are predominantly based on primary key access, and heavy volume of concurrent DML can cause row chaining and inefficient space usage in indexes, resulting in a frequent need to reorganize. Because an index-organized table can be reorganized online and without invalidating its secondary indexes, the window of unavailability is greatly reduced or eliminated.    </p>
                     <p>Index-organized tables are suitable for modeling application-specific index structures. For example, content-based information retrieval applications containing text, image and audio data require inverted indexes that can be effectively modeled using index-organized tables. A fundamental component of an internet search engine is an inverted index that can be modeled using index-organized tables.</p>
                     <p>These are but a few of the applications for index-organized tables.</p>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-26B31531-E4EF-44B1-9193-415E69F7E65C__GUID-9AF95098-7D2F-4FBC-94E6-830030C824C5">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=CNCPT911" target="_blank"><span class="italic">Oracle Database Concepts </span></a>for a more thorough description of index-organized tables
                              </p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=VLDBG1112" target="_blank"><span class="italic">Oracle Database VLDB and Partitioning Guide</span></a> for information about partitioning index-organized tables
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-D9BCA9BF-EAA8-431D-BDBB-ED5B3C59C5E4" title="An index-organized table's storage organization is a variant of a primary B-tree index. Unlike a heap-organized table, data is stored in primary key order.">Managing Index-Organized Tables</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-F3965F25-01CD-464C-B065-025442A6C43F" name="GUID-F3965F25-01CD-464C-B065-025442A6C43F"></a><h4 id="ADMIN-GUID-F3965F25-01CD-464C-B065-025442A6C43F" class="sect4"><span class="enumeration_section">20.13.2 </span>Creating Index-Organized Tables
                  </h4>
                  <p>Index-organized tables provide fast primary key access and high availability.</p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-D2166A16-09C6-43DC-8299-D805AC6C2DE8">About Creating Index-Organized Tables</a><br>You use the <code class="codeph">CREATE TABLE</code> statement to create index-organized tables.
                        </li>
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-D7BF95BE-7587-4273-86BC-560096B584FC">Example: Creating an Index-Organized Table</a><br>An example illustrates creating an index-organized table.
                        </li>
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-B75C00F7-241C-423B-A68A-1D587FD9D825">Restrictions for Index-Organized Tables</a><br>Several restrictions apply when you are creating an index-organized table.
                        </li>
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-8458007A-6B9F-4146-AC1A-704EB57F0DE2">Creating Index-Organized Tables That Contain Object Types</a><br>Index-organized tables can store object types.
                        </li>
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-E60A24D9-3DC0-4E0F-9B65-7B348560D2DC">Choosing and Monitoring a Threshold Value</a><br>Choose a threshold value that can accommodate your key columns, as well as the first few nonkey columns (if they are frequently accessed).
                        </li>
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-2EA88382-8D2D-4E2F-8E89-0DBE2DB4B5CC">Using the INCLUDING Clause</a><br>In addition to specifying <code class="codeph">PCTTHRESHOLD</code>, you can use the <code class="codeph">INCLUDING</code> clause to control which nonkey columns are stored with the key columns in an index-organized table.
                        </li>
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-7E30807C-A239-4ACE-917D-F658103A7F39">Parallelizing Index-Organized Table Creation</a><br>The <code class="codeph">CREATE TABLE...AS SELECT</code> statement enables you to create an index-organized table and load data from an existing table into it. By including the <code class="codeph">PARALLEL</code> clause, the load can be done in parallel. 
                        </li>
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-D4D9F29D-461C-4394-B082-4FB59C89866F">Using Prefix Compression</a><br>Creating an index-organized table using prefix compression (also known as key compression) enables you to eliminate repeated occurrences of key column prefix values.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-D9BCA9BF-EAA8-431D-BDBB-ED5B3C59C5E4" title="An index-organized table's storage organization is a variant of a primary B-tree index. Unlike a heap-organized table, data is stored in primary key order.">Managing Index-Organized Tables</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN11685"></a><div class="props_rev_3"><a id="GUID-D2166A16-09C6-43DC-8299-D805AC6C2DE8" name="GUID-D2166A16-09C6-43DC-8299-D805AC6C2DE8"></a><h5 id="ADMIN-GUID-D2166A16-09C6-43DC-8299-D805AC6C2DE8" class="sect5"><span class="enumeration_section">20.13.2.1 </span>About Creating Index-Organized Tables
                     </h5>
                     <div>
                        <p>You use the <code class="codeph">CREATE TABLE</code> statement to create index-organized tables.
                        </p>
                        <p>When you create an index-organized table, but you must provide additional information: </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>An <code class="codeph">ORGANIZATION INDEX</code> qualifier, which indicates that this is an index-organized table
                              </p>
                           </li>
                           <li>
                              <p>A primary key, specified through a column constraint clause (for a single column primary key) or a table constraint clause (for a multiple-column primary key). </p>
                           </li>
                        </ul>
                        <p>Optionally, you can specify the following:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>An <code class="codeph">OVERFLOW</code> clause, which preserves dense clustering of the B-tree index by enabling the storage of some of the nonkey columns in a separate overflow data segment.
                              </p>
                           </li>
                           <li>
                              <p>A <code class="codeph">PCTTHRESHOLD</code> value, which, when an overflow segment is being used, defines the maximum size of the portion of the row that is stored in the index block, as a percentage of block size. Rows columns that would cause the row size to exceed this maximum are stored in the overflow segment. The row is broken at a column boundary into two pieces, a head piece and tail piece. The head piece fits in the specified threshold and is stored along with the key in the index leaf block. The tail piece is stored in the overflow area as one or more row pieces. Thus, the index entry contains the key value, the nonkey column values that fit the specified threshold, and a pointer to the rest of the row.
                              </p>
                           </li>
                           <li>
                              <p>An <code class="codeph">INCLUDING</code> clause, which can be used to specify the nonkey columns that are to be stored in the index block with the primary key. 
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-F3965F25-01CD-464C-B065-025442A6C43F" title="Index-organized tables provide fast primary key access and high availability.">Creating Index-Organized Tables</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11686"></a><div class="props_rev_3"><a id="GUID-D7BF95BE-7587-4273-86BC-560096B584FC" name="GUID-D7BF95BE-7587-4273-86BC-560096B584FC"></a><h5 id="ADMIN-GUID-D7BF95BE-7587-4273-86BC-560096B584FC" class="sect5"><span class="enumeration_section">20.13.2.2 </span>Example: Creating an Index-Organized Table
                     </h5>
                     <div>
                        <p>An example illustrates creating an index-organized table.</p>
                        <div class="section">
                           <p>The following statement creates an index-organized table:</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE admin_docindex(
        token char(20), 
        doc_id NUMBER,
        token_frequency NUMBER,
        token_offsets VARCHAR2(2000),
        CONSTRAINT pk_admin_docindex PRIMARY KEY (token, doc_id))
    ORGANIZATION INDEX 
    TABLESPACE admin_tbs
    PCTTHRESHOLD 20
    OVERFLOW TABLESPACE admin_tbs2;
</pre><p>This example creates an index-organized table named <code class="codeph">admin_docindex</code>, with a primary key composed of the columns <code class="codeph">token</code> and <code class="codeph">doc_id</code>. The <code class="codeph">OVERFLOW</code> and <code class="codeph">PCTTHRESHOLD</code> clauses specify that if the length of a row exceeds 20% of the index block size, then the column that exceeded that threshold and all columns after it are moved to the overflow segment. The overflow segment is stored in the <code class="codeph">admin_tbs2</code> tablespace.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-D7BF95BE-7587-4273-86BC-560096B584FC__GUID-6B84DC85-9C45-4FA9-8780-571CF9C66E71">
                           <p class="notep1">See Also:</p>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=SQLRF01402" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for more information about the syntax to create an index-organized table
                           </p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-F3965F25-01CD-464C-B065-025442A6C43F" title="Index-organized tables provide fast primary key access and high availability.">Creating Index-Organized Tables</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN12496"></a><div class="props_rev_3"><a id="GUID-B75C00F7-241C-423B-A68A-1D587FD9D825" name="GUID-B75C00F7-241C-423B-A68A-1D587FD9D825"></a><h5 id="ADMIN-GUID-B75C00F7-241C-423B-A68A-1D587FD9D825" class="sect5"><span class="enumeration_section">20.13.2.3 </span>Restrictions for Index-Organized Tables
                     </h5>
                     <div>
                        <p>Several restrictions apply when you are creating an index-organized table.</p>
                        <p>The following are restrictions on creating index-organized tables.</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The maximum number of columns is 1000.</p>
                           </li>
                           <li>
                              <p>The maximum number of columns in the index portion of a row is 255, including both key and nonkey columns. If more than 255 columns are required, you must use an overflow segment.</p>
                           </li>
                           <li>
                              <p>The maximum number of columns that you can include in the primary key is 32.</p>
                           </li>
                           <li>
                              <p><code class="codeph">PCTTHRESHOLD</code> must be in the range of 1&#x2013;50. The default is 50.
                              </p>
                           </li>
                           <li>
                              <p>All key columns must fit within the specified threshold.</p>
                           </li>
                           <li>
                              <p>If the maximum size of a row exceeds 50% of the index block size and you do not specify an overflow segment, the <code class="codeph">CREATE</code> <code class="codeph">TABLE</code> statement fails.
                              </p>
                           </li>
                           <li>
                              <p>Index-organized tables cannot have virtual columns.</p>
                           </li>
                           <li>
                              <p>When a table has a foreign key, and the parent of the foreign key is an index-organized table, a session that updates a row that contains the foreign key can hang when another session is updating a non-key column in the parent table.</p>
                              <p>For example, consider a scenario in which a <code class="codeph">departments</code> table is an index-organized table, and <code class="codeph">department_id</code> is its primary key. There is an <code class="codeph">employees</code> table with a <code class="codeph">department_id</code> column that is a foreign key of the <code class="codeph">departments</code> table. Assume a session is updating the <code class="codeph">department_name</code> in a row in the <code class="codeph">departments</code> table for which the <code class="codeph">department_id</code> is <code class="codeph">20</code> while another session is updating a row in the <code class="codeph">employees</code> table for which the <code class="codeph">department_id</code> is <code class="codeph">20</code>. In this case, the session updating the <code class="codeph">employees</code> table can hang until the session updating the <code class="codeph">departments</code> table commits or rolls back.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-F3965F25-01CD-464C-B065-025442A6C43F" title="Index-organized tables provide fast primary key access and high availability.">Creating Index-Organized Tables</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11687"></a><div class="props_rev_3"><a id="GUID-8458007A-6B9F-4146-AC1A-704EB57F0DE2" name="GUID-8458007A-6B9F-4146-AC1A-704EB57F0DE2"></a><h5 id="ADMIN-GUID-8458007A-6B9F-4146-AC1A-704EB57F0DE2" class="sect5"><span class="enumeration_section">20.13.2.4 </span>Creating Index-Organized Tables That Contain Object Types
                     </h5>
                     <div>
                        <p>Index-organized tables can store object types.</p>
                        <div class="section">
                           <p>The following example creates object type <code class="codeph">admin_typ</code>, then creates an index-organized table containing a column of object type <code class="codeph">admin_typ</code>:
                           </p><pre class="oac_no_warn" dir="ltr">CREATE OR REPLACE TYPE admin_typ AS OBJECT
    (col1 NUMBER, col2 VARCHAR2(6));
CREATE TABLE admin_iot (c1 NUMBER primary key, c2 admin_typ)
    ORGANIZATION INDEX;
</pre><p>You can also create an index-organized table of object types. For example:</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE admin_iot2 OF admin_typ (col1 PRIMARY KEY)
    ORGANIZATION INDEX;
</pre><p>Another example, that follows, shows that index-organized tables store nested tables efficiently. For a nested table column, the database internally creates a storage table to hold all the nested table rows.</p><pre class="oac_no_warn" dir="ltr">CREATE TYPE project_t AS OBJECT(pno NUMBER, pname VARCHAR2(80));
/
CREATE TYPE project_set AS TABLE OF project_t;
/
CREATE TABLE proj_tab (eno NUMBER, projects PROJECT_SET)
    NESTED TABLE projects STORE AS emp_project_tab
                ((PRIMARY KEY(nested_table_id, pno)) 
    ORGANIZATION INDEX)
    RETURN AS LOCATOR;
</pre><p>The rows belonging to a single nested table instance are identified by a <code class="codeph">nested_table_id</code> column. If an ordinary table is used to store nested table columns, the nested table rows typically get de-clustered. But when you use an index-organized table, the nested table rows can be clustered based on the <code class="codeph">nested_table_id</code> column.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-8458007A-6B9F-4146-AC1A-704EB57F0DE2__GUID-8ED0D93A-6B97-473A-90B5-CE8F04F0D6E7">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=SQLRF01402" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for details of the syntax used for creating index-organized tables
                                 </p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=VLDBG1112" target="_blank"><span class="italic">Oracle Database VLDB and Partitioning Guide</span></a> for information about creating partitioned index-organized tables
                                 </p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=ADOBJ001" target="_blank"><span class="italic">Oracle Database Object-Relational Developer's Guide</span></a> for information about object types
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-F3965F25-01CD-464C-B065-025442A6C43F" title="Index-organized tables provide fast primary key access and high availability.">Creating Index-Organized Tables</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11689"></a><div class="props_rev_3"><a id="GUID-E60A24D9-3DC0-4E0F-9B65-7B348560D2DC" name="GUID-E60A24D9-3DC0-4E0F-9B65-7B348560D2DC"></a><h5 id="ADMIN-GUID-E60A24D9-3DC0-4E0F-9B65-7B348560D2DC" class="sect5"><span class="enumeration_section">20.13.2.5 </span>Choosing and Monitoring a Threshold Value
                     </h5>
                     <div>
                        <p>Choose a threshold value that can accommodate your key columns, as well as the first few nonkey columns (if they are frequently accessed).</p>
                        <div class="section">
                           <p>After choosing a threshold value, you can monitor tables to verify that the value you specified is appropriate. You can use the <code class="codeph">ANALYZE</code> <code class="codeph">TABLE</code> ... <code class="codeph">LIST</code> <code class="codeph">CHAINED</code> <code class="codeph">ROWS</code> statement to determine the number and identity of rows exceeding the threshold value. 
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-E60A24D9-3DC0-4E0F-9B65-7B348560D2DC__GUID-1C791607-341C-413C-AD6C-4840CF3AA803">
                           <p class="notep1">See Also:</p>
                           <p></p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><span class="q">"<a href="managing-schema-objects.html#GUID-AA49BB99-71E6-439C-BB0F-D4F0EAF63FB7" title="You can look at the chained and migrated rows of a table or cluster using the ANALYZE statement with the LIST CHAINED ROWS clause. The results of this statement are stored in a specified table created explicitly to accept the information returned by the LIST CHAINED ROWS clause. These results are useful in determining whether you have enough room for updates to rows.">Listing Chained Rows of Tables and Clusters</a>"</span> for more information about chained rows
                                 </p>
                              </li>
                              <li>
                                 <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=SQLRF01105" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for syntax of the <code class="codeph">ANALYZE</code> statement
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-F3965F25-01CD-464C-B065-025442A6C43F" title="Index-organized tables provide fast primary key access and high availability.">Creating Index-Organized Tables</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11690"></a><div class="props_rev_3"><a id="GUID-2EA88382-8D2D-4E2F-8E89-0DBE2DB4B5CC" name="GUID-2EA88382-8D2D-4E2F-8E89-0DBE2DB4B5CC"></a><h5 id="ADMIN-GUID-2EA88382-8D2D-4E2F-8E89-0DBE2DB4B5CC" class="sect5"><span class="enumeration_section">20.13.2.6 </span>Using the INCLUDING Clause
                     </h5>
                     <div>
                        <p>In addition to specifying <code class="codeph">PCTTHRESHOLD</code>, you can use the <code class="codeph">INCLUDING</code> clause to control which nonkey columns are stored with the key columns in an index-organized table.
                        </p>
                        <div class="section">
                           <p>The database accommodates all nonkey columns up to and including the column specified in the <code class="codeph">INCLUDING</code> clause in the index leaf block, provided it does not exceed the specified threshold. All nonkey columns beyond the column specified in the <code class="codeph">INCLUDING</code> clause are stored in the overflow segment. If the <code class="codeph">INCLUDING</code> and <code class="codeph">PCTTHRESHOLD</code> clauses conflict, <code class="codeph">PCTTHRESHOLD</code> takes precedence.
                           </p>
                           <div class="infoboxnote" id="GUID-2EA88382-8D2D-4E2F-8E89-0DBE2DB4B5CC__GUID-D4D05545-1CC2-4ADE-8CE6-AA684284A92A">
                              <p class="notep1">Note:</p>
                              <p>Oracle Database moves all primary key columns of an indexed-organized table to the beginning of the table (in their key order) to provide efficient primary key&#x2013;based access. As an example:</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE admin_iot4(a INT, b INT, c INT, d INT, 
                primary key(c,b))
    ORGANIZATION INDEX;</pre><p>The stored column order is: <code class="codeph">c b a d</code> (instead of:<code class="codeph"> a b c d</code>). The last primary key column is <code class="codeph">b</code>, based on the stored column order. The <code class="codeph">INCLUDING</code> column can be the last primary key column (<code class="codeph">b</code> in this example), or any nonkey column (that is, any column after <code class="codeph">b</code> in the stored column order).
                              </p>
                           </div>
                           <p>The following <code class="codeph">CREATE TABLE</code> statement is similar to the one shown earlier in <span class="q">"<a href="managing-tables.html#GUID-D7BF95BE-7587-4273-86BC-560096B584FC" title="An example illustrates creating an index-organized table.">Example: Creating an Index-Organized Table</a>"</span> but is modified to create an index-organized table where the <code class="codeph">token_offsets</code> column value is always stored in the overflow area:
                           </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE admin_docindex2(
        token CHAR(20), 
        doc_id NUMBER,
        token_frequency NUMBER,
        token_offsets VARCHAR2(2000),
        CONSTRAINT pk_admin_docindex2 PRIMARY KEY (token, doc_id))
    ORGANIZATION INDEX 
    TABLESPACE admin_tbs
    PCTTHRESHOLD 20
    INCLUDING token_frequency
    OVERFLOW TABLESPACE admin_tbs2;
</pre><p>Here, only nonkey columns before <code class="codeph">token_offsets</code> (in this case a single column only) are stored with the key column values in the index leaf block.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-F3965F25-01CD-464C-B065-025442A6C43F" title="Index-organized tables provide fast primary key access and high availability.">Creating Index-Organized Tables</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11691"></a><div class="props_rev_3"><a id="GUID-7E30807C-A239-4ACE-917D-F658103A7F39" name="GUID-7E30807C-A239-4ACE-917D-F658103A7F39"></a><h5 id="ADMIN-GUID-7E30807C-A239-4ACE-917D-F658103A7F39" class="sect5"><span class="enumeration_section">20.13.2.7 </span>Parallelizing Index-Organized Table Creation
                     </h5>
                     <div>
                        <p>The <code class="codeph">CREATE TABLE...AS SELECT</code> statement enables you to create an index-organized table and load data from an existing table into it. By including the <code class="codeph">PARALLEL</code> clause, the load can be done in parallel. 
                        </p>
                        <div class="section">
                           <p>The following statement creates an index-organized table in parallel by selecting rows from the conventional table <code class="codeph">hr.jobs</code>:
                           </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE admin_iot3(i PRIMARY KEY, j, k, l) 
     ORGANIZATION INDEX 
     PARALLEL
     AS SELECT * FROM hr.jobs;
</pre><p>This statement provides an alternative to parallel bulk-load using SQL*Loader.</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-F3965F25-01CD-464C-B065-025442A6C43F" title="Index-organized tables provide fast primary key access and high availability.">Creating Index-Organized Tables</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11692"></a><div class="props_rev_3"><a id="GUID-D4D9F29D-461C-4394-B082-4FB59C89866F" name="GUID-D4D9F29D-461C-4394-B082-4FB59C89866F"></a><h5 id="ADMIN-GUID-D4D9F29D-461C-4394-B082-4FB59C89866F" class="sect5"><span class="enumeration_section">20.13.2.8 </span>Using Prefix Compression
                     </h5>
                     <div>
                        <p>Creating an index-organized table using prefix compression (also known as key compression) enables you to eliminate repeated occurrences of key column prefix values.</p>
                        <div class="section">
                           <p>Prefix compression breaks an index key into a prefix and a suffix entry. Compression is achieved by sharing the prefix entries among all the suffix entries in an index block. This sharing can lead to huge savings in space, allowing you to store more keys in each index block while improving performance.</p>
                           <p>You can enable prefix compression using the <code class="codeph">COMPRESS</code> clause while:
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Creating an index-organized table</p>
                              </li>
                              <li>
                                 <p>Moving an index-organized table</p>
                              </li>
                           </ul>
                           <p>You can also specify the prefix length (as the number of key columns), which identifies how the key columns are broken into a prefix and suffix entry.</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE admin_iot5(i INT, j INT, k INT, l INT, PRIMARY KEY (i, j, k)) 
    ORGANIZATION INDEX COMPRESS;
</pre><p>The preceding statement is equivalent to the following statement:</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE admin_iot6(i INT, j INT, k INT, l INT, PRIMARY KEY(i, j, k)) 
    ORGANIZATION INDEX COMPRESS 2;
</pre><p>For the list of values (1,2,3), (1,2,4), (1,2,7), (1,3,5), (1,3,4), (1,4,4) the repeated occurrences of (1,2), (1,3) are compressed away.</p>
                           <p>You can also override the default prefix length used for compression as follows:</p><pre class="oac_no_warn" dir="ltr">CREATE TABLE admin_iot7(i INT, j INT, k INT, l INT, PRIMARY KEY (i, j, k)) 
    ORGANIZATION INDEX COMPRESS 1;
</pre><p>For the list of values (1,2,3), (1,2,4), (1,2,7), (1,3,5), (1,3,4), (1,4,4), the repeated occurrences of 1 are compressed away.</p>
                           <p>You can disable compression as follows:</p><pre class="oac_no_warn" dir="ltr">ALTER TABLE admin_iot5 MOVE NOCOMPRESS;
</pre><p>One application of prefix compression is in a time-series application that uses a set of time-stamped rows belonging to a single item, such as a stock price. Index-organized tables are attractive for such applications because of the ability to cluster rows based on the primary key. By defining an index-organized table with primary key (stock symbol, time stamp), you can store and manipulate time-series data efficiently. You can achieve more storage savings by compressing repeated occurrences of the item identifier (for example, the stock symbol) in a time series by using an index-organized table with prefix compression.</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-D4D9F29D-461C-4394-B082-4FB59C89866F__GUID-933412DA-D527-4D78-90E2-CC455F8509FA">
                           <p class="notep1">See Also:</p>
                           <p> <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=CNCPT1177" target="_blank"><span class="italic">Oracle Database Concepts</span></a> for more information about prefix compression
                           </p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-F3965F25-01CD-464C-B065-025442A6C43F" title="Index-organized tables provide fast primary key access and high availability.">Creating Index-Organized Tables</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN11693"></a><div class="props_rev_3"><a id="GUID-4E51E139-9352-4F95-93FE-7CB626646308" name="GUID-4E51E139-9352-4F95-93FE-7CB626646308"></a><h4 id="ADMIN-GUID-4E51E139-9352-4F95-93FE-7CB626646308" class="sect4"><span class="enumeration_section">20.13.3 </span>Maintaining Index-Organized Tables
                  </h4>
                  <p>Index-organized tables differ from ordinary tables only in physical organization. Logically, they are manipulated in the same manner as ordinary tables. You can specify an index-organized table just as you would specify a regular table in <code class="codeph">INSERT</code>, <code class="codeph">SELECT</code>, <code class="codeph">DELETE</code>, and <code class="codeph">UPDATE</code> statements. 
                  </p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-40D450CF-2534-426E-A1DC-9169D8D33E95">Altering Index-Organized Tables</a><br>All of the alter options available for ordinary tables are available for index-organized tables. This includes <code class="codeph">ADD</code>, <code class="codeph">MODIFY</code>, and <code class="codeph">DROP</code> <code class="codeph">COLUMNS</code> and <code class="codeph">CONSTRAINTS</code>. However, the primary key constraint for an index-organized table cannot be dropped, deferred, or disabled.
                        </li>
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-B56F7070-4702-4C64-BA0B-1B692885D607">Moving (Rebuilding) Index-Organized Tables</a><br>Because index-organized tables are primarily stored in a B-tree index, you can encounter fragmentation as a consequence of incremental updates. However, you can use the <code class="codeph">ALTER TABLE...MOVE</code> statement to rebuild the index and reduce this fragmentation.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-D9BCA9BF-EAA8-431D-BDBB-ED5B3C59C5E4" title="An index-organized table's storage organization is a variant of a primary B-tree index. Unlike a heap-organized table, data is stored in primary key order.">Managing Index-Organized Tables</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN11694"></a><div class="props_rev_3"><a id="GUID-40D450CF-2534-426E-A1DC-9169D8D33E95" name="GUID-40D450CF-2534-426E-A1DC-9169D8D33E95"></a><h5 id="ADMIN-GUID-40D450CF-2534-426E-A1DC-9169D8D33E95" class="sect5"><span class="enumeration_section">20.13.3.1 </span>Altering Index-Organized Tables
                     </h5>
                     <div>
                        <p>All of the alter options available for ordinary tables are available for index-organized tables. This includes <code class="codeph">ADD</code>, <code class="codeph">MODIFY</code>, and <code class="codeph">DROP</code> <code class="codeph">COLUMNS</code> and <code class="codeph">CONSTRAINTS</code>. However, the primary key constraint for an index-organized table cannot be dropped, deferred, or disabled.
                        </p>
                        <div class="section">
                           <p>You can use the <code class="codeph">ALTER TABLE</code> statement to modify physical and storage attributes for both primary key index and overflow data segments. All the attributes specified before the <code class="codeph">OVERFLOW</code> keyword are applicable to the primary key index segment. All attributes specified after the <code class="codeph">OVERFLOW</code> key word are applicable to the overflow data segment. For example, you can set the <code class="codeph">INITRANS</code> of the primary key index segment to 4 and the overflow of the data segment <code class="codeph">INITRANS</code> to 6 as follows:
                           </p><pre class="oac_no_warn" dir="ltr">ALTER TABLE admin_docindex INITRANS 4 OVERFLOW INITRANS 6;
</pre><p>You can also alter <code class="codeph">PCTTHRESHOLD</code> and <code class="codeph">INCLUDING</code> column values. A new setting is used to break the row into head and overflow tail pieces during subsequent operations. For example, the <code class="codeph">PCTHRESHOLD</code> and <code class="codeph">INCLUDING</code> column values can be altered for the <code class="codeph">admin_docindex</code> table as follows:
                           </p><pre class="oac_no_warn" dir="ltr">ALTER TABLE admin_docindex PCTTHRESHOLD 15 INCLUDING doc_id;
</pre><p>By setting the <code class="codeph">INCLUDING</code> column to <code class="codeph">doc_id</code>, all the columns that follow <code class="codeph">token_frequency</code> and <code class="codeph">token_offsets</code>, are stored in the overflow data segment. 
                           </p>
                           <p>For index-organized tables created without an overflow data segment, you can add an overflow data segment by using the <code class="codeph">ADD OVERFLOW</code> clause. For example, you can add an overflow segment to table <code class="codeph">admin_iot3</code> as follows:
                           </p><pre class="oac_no_warn" dir="ltr">ALTER TABLE admin_iot3 ADD OVERFLOW TABLESPACE admin_tbs2;</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-4E51E139-9352-4F95-93FE-7CB626646308" title="Index-organized tables differ from ordinary tables only in physical organization. Logically, they are manipulated in the same manner as ordinary tables. You can specify an index-organized table just as you would specify a regular table in INSERT, SELECT, DELETE, and UPDATE statements.">Maintaining Index-Organized Tables</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11695"></a><div class="props_rev_3"><a id="GUID-B56F7070-4702-4C64-BA0B-1B692885D607" name="GUID-B56F7070-4702-4C64-BA0B-1B692885D607"></a><h5 id="ADMIN-GUID-B56F7070-4702-4C64-BA0B-1B692885D607" class="sect5"><span class="enumeration_section">20.13.3.2 </span>Moving (Rebuilding) Index-Organized Tables
                     </h5>
                     <div>
                        <p>Because index-organized tables are primarily stored in a B-tree index, you can encounter fragmentation as a consequence of incremental updates. However, you can use the <code class="codeph">ALTER TABLE...MOVE</code> statement to rebuild the index and reduce this fragmentation.
                        </p>
                        <div class="section">
                           <p>The following statement rebuilds the index-organized table <code class="codeph">admin_docindex</code>: 
                           </p><pre class="oac_no_warn" dir="ltr">ALTER TABLE admin_docindex MOVE;
</pre><p>You can rebuild index-organized tables online using the <code class="codeph">ONLINE</code> keyword. The overflow data segment, if present, is rebuilt when the <code class="codeph">OVERFLOW</code> keyword is specified. For example, to rebuild the <code class="codeph">admin_docindex</code> table but not the overflow data segment, perform a move online as follows:
                           </p><pre class="oac_no_warn" dir="ltr">ALTER TABLE admin_docindex MOVE ONLINE;
</pre><p>To rebuild the <code class="codeph">admin_docindex</code> table along with its overflow data segment perform the move operation as shown in the following statement. This statement also illustrates moving both the table and overflow data segment to new tablespaces.
                           </p><pre class="oac_no_warn" dir="ltr">ALTER TABLE admin_docindex MOVE TABLESPACE admin_tbs2 
    OVERFLOW TABLESPACE admin_tbs3;
</pre><p>In this last statement, an index-organized table with a LOB column (CLOB) is created. Later, the table is moved with the <code class="codeph">LOB</code> index and data segment being rebuilt and moved to a new tablespace.
                           </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE admin_iot_lob
   (c1 number (6) primary key,
    admin_lob CLOB)
   ORGANIZATION INDEX
   LOB (admin_lob) STORE AS (TABLESPACE admin_tbs2);
.
.
.
ALTER TABLE admin_iot_lob MOVE LOB (admin_lob) STORE AS (TABLESPACE admin_tbs3); </pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-B56F7070-4702-4C64-BA0B-1B692885D607__GUID-10695C33-CE9C-413C-8A51-C1C2862D15BA">
                           <p class="notep1">See Also:</p>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=ADLOB45315" target="_blank"><span class="italic">Oracle Database SecureFiles and Large Objects Developer's Guide</span></a> for information about LOBs in index-organized tables
                           </p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-4E51E139-9352-4F95-93FE-7CB626646308" title="Index-organized tables differ from ordinary tables only in physical organization. Logically, they are manipulated in the same manner as ordinary tables. You can specify an index-organized table just as you would specify a regular table in INSERT, SELECT, DELETE, and UPDATE statements.">Maintaining Index-Organized Tables</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div>
               <div class="sect3"><a id="GUID-F0DA4974-0FC7-4227-873D-A5D7156D68D6" name="GUID-F0DA4974-0FC7-4227-873D-A5D7156D68D6"></a><h4 id="ADMIN-GUID-F0DA4974-0FC7-4227-873D-A5D7156D68D6" class="sect4"><span class="enumeration_section">20.13.4 </span>Creating Secondary Indexes on Index-Organized Tables
                  </h4>
                  <p>A secondary index is an index on an index-organized table. The secondary index is an independent schema object and is stored separately from the index-organized table.</p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-7B0F152A-DFF6-4147-BAD4-9C49BFDF3785">About Secondary Indexes on Index-Organized Tables</a><br>You can create secondary indexes on an index-organized tables to provide multiple access paths. 
                        </li>
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-C9309222-B06F-4C6C-9341-B9918073E182">Creating a Secondary Index on an Index-Organized Table</a><br>You can create a secondary index on an index-organized table.
                        </li>
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-6F7F6F38-CD87-4352-A44E-2BCB92BC777D">Maintaining Physical Guesses in Logical Rowids</a><br>A logical rowid can include a guess, which identifies the block location of a row at the time the guess is made. Instead of doing a full key search, the database uses the guess to search the block directly.
                        </li>
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-38301C16-EDD2-40AA-B4B1-75F2E7B81C52">Specifying Bitmap Indexes on Index-Organized Tables</a><br>Bitmap indexes on index-organized tables are supported, provided the index-organized table is created with a mapping table.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-D9BCA9BF-EAA8-431D-BDBB-ED5B3C59C5E4" title="An index-organized table's storage organization is a variant of a primary B-tree index. Unlike a heap-organized table, data is stored in primary key order.">Managing Index-Organized Tables</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN11696"></a><div class="props_rev_3"><a id="GUID-7B0F152A-DFF6-4147-BAD4-9C49BFDF3785" name="GUID-7B0F152A-DFF6-4147-BAD4-9C49BFDF3785"></a><h5 id="ADMIN-GUID-7B0F152A-DFF6-4147-BAD4-9C49BFDF3785" class="sect5"><span class="enumeration_section">20.13.4.1 </span>About Secondary Indexes on Index-Organized Tables
                     </h5>
                     <div>
                        <p>You can create secondary indexes on an index-organized tables to provide multiple access paths. </p>
                        <p>Secondary indexes on index-organized tables differ from indexes on ordinary tables in two ways:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>They store logical rowids instead of physical rowids. This is necessary because the inherent movability of rows in a B-tree index results in the rows having no permanent physical addresses. If the physical location of a row changes, its logical rowid remains valid. One effect of this is that a table maintenance operation, such as <code class="codeph">ALTER TABLE</code> ... <code class="codeph">MOVE</code>, does not make the secondary index unusable.
                              </p>
                           </li>
                           <li>
                              <p>The logical rowid also includes a physical guess which identifies the database block address at which the row is likely to be found. If the physical guess is correct, a secondary index scan would incur a single additional I/O once the secondary key is found. The performance would be similar to that of a secondary index-scan on an ordinary table.</p>
                           </li>
                        </ul>
                        <p>Unique and non-unique secondary indexes, function-based secondary indexes, and bitmap indexes are supported as secondary indexes on index-organized tables.</p>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-F0DA4974-0FC7-4227-873D-A5D7156D68D6" title="A secondary index is an index on an index-organized table. The secondary index is an independent schema object and is stored separately from the index-organized table.">Creating Secondary Indexes on Index-Organized Tables</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11697"></a><div class="props_rev_3"><a id="GUID-C9309222-B06F-4C6C-9341-B9918073E182" name="GUID-C9309222-B06F-4C6C-9341-B9918073E182"></a><h5 id="ADMIN-GUID-C9309222-B06F-4C6C-9341-B9918073E182" class="sect5"><span class="enumeration_section">20.13.4.2 </span>Creating a Secondary Index on an Index-Organized Table
                     </h5>
                     <div>
                        <p>You can create a secondary index on an index-organized table.</p>
                        <div class="section">
                           <p>The following statement shows the creation of a secondary index on the <code class="codeph">docindex</code> index-organized table where <code class="codeph">doc_id</code> and <code class="codeph">token</code> are the key columns:
                           </p><pre class="oac_no_warn" dir="ltr">CREATE INDEX Doc_id_index on Docindex(Doc_id, Token);
</pre><p>This secondary index allows the database to efficiently process a query, such as the following, the involves a predicate on <code class="codeph">doc_id</code>:
                           </p><pre class="oac_no_warn" dir="ltr">SELECT Token FROM Docindex WHERE Doc_id = 1;</pre></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-F0DA4974-0FC7-4227-873D-A5D7156D68D6" title="A secondary index is an index on an index-organized table. The secondary index is an independent schema object and is stored separately from the index-organized table.">Creating Secondary Indexes on Index-Organized Tables</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11698"></a><div class="props_rev_3"><a id="GUID-6F7F6F38-CD87-4352-A44E-2BCB92BC777D" name="GUID-6F7F6F38-CD87-4352-A44E-2BCB92BC777D"></a><h5 id="ADMIN-GUID-6F7F6F38-CD87-4352-A44E-2BCB92BC777D" class="sect5"><span class="enumeration_section">20.13.4.3 </span>Maintaining Physical Guesses in Logical Rowids
                     </h5>
                     <div>
                        <p>A logical rowid can include a guess, which identifies the block location of a row at the time the guess is made. Instead of doing a full key search, the database uses the guess to search the block directly.</p>
                        <div class="section">
                           <p>However, as new rows are inserted, guesses can become stale. The indexes are still usable through the primary key-component of the logical rowid, but access to rows is slower.</p>
                           <ol>
                              <li>
                                 <p>Collect index statistics with the <code class="codeph">DBMS_STATS</code> package to monitor the staleness of guesses.
                                 </p>
                                 <p>The database checks whether the existing guesses are still valid and records the percentage of rows with valid guesses in the data dictionary.</p>
                              </li>
                              <li>
                                 <p>Query the <code class="codeph">PCT_DIRECT_ACCESS</code> column of the <code class="codeph">DBA_INDEXES</code> view (and related views) to show the statistics related to existing guesses.
                                 </p>
                              </li>
                              <li>
                                 <p>To obtain fresh guesses, you can rebuild the secondary index. </p>
                              </li>
                           </ol>
                           <p> Rebuilding a secondary index on an index-organized table involves reading the base table, unlike rebuilding an index on an ordinary table.</p>
                           <p>A quicker, more light weight means of fixing the guesses is to use the <code class="codeph">ALTER</code> <code class="codeph">INDEX</code> ... <code class="codeph">UPDATE</code> <code class="codeph">BLOCK</code> <code class="codeph">REFERENCES</code> statement. This statement is performed online, while DML is still allowed on the underlying index-organized table. 
                           </p>
                           <p>After you rebuild a secondary index, or otherwise update the block references in the guesses, collect index statistics again.</p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-F0DA4974-0FC7-4227-873D-A5D7156D68D6" title="A secondary index is an index on an index-organized table. The secondary index is an independent schema object and is stored separately from the index-organized table.">Creating Secondary Indexes on Index-Organized Tables</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11699"></a><div class="props_rev_3"><a id="GUID-38301C16-EDD2-40AA-B4B1-75F2E7B81C52" name="GUID-38301C16-EDD2-40AA-B4B1-75F2E7B81C52"></a><h5 id="ADMIN-GUID-38301C16-EDD2-40AA-B4B1-75F2E7B81C52" class="sect5"><span class="enumeration_section">20.13.4.4 </span>Specifying Bitmap Indexes on Index-Organized Tables
                     </h5>
                     <div>
                        <p>Bitmap indexes on index-organized tables are supported, provided the index-organized table is created with a mapping table.</p>
                        <div class="section">
                           <p>This is done by specifying the <code class="codeph">MAPPING</code> <code class="codeph">TABLE</code> clause in the <code class="codeph">CREATE</code> <code class="codeph">TABLE</code> statement that you use to create the index-organized table, or in an <code class="codeph">ALTER</code> <code class="codeph">TABLE</code> statement to add the mapping table later.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-38301C16-EDD2-40AA-B4B1-75F2E7B81C52__GUID-F5872522-BC92-4822-AF7D-0534422D0904">
                           <p class="notep1">See Also:</p>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=CNCPT88857" target="_blank"><span class="italic">Oracle Database Concepts </span></a>for a description of mapping tables
                           </p>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-F0DA4974-0FC7-4227-873D-A5D7156D68D6" title="A secondary index is an index on an index-organized table. The secondary index is an independent schema object and is stored separately from the index-organized table.">Creating Secondary Indexes on Index-Organized Tables</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN11700"></a><div class="props_rev_3"><a id="GUID-3FDB4F70-4DD9-47BF-811B-F5CA0F168832" name="GUID-3FDB4F70-4DD9-47BF-811B-F5CA0F168832"></a><h4 id="ADMIN-GUID-3FDB4F70-4DD9-47BF-811B-F5CA0F168832" class="sect4"><span class="enumeration_section">20.13.5 </span>Analyzing Index-Organized Tables
                  </h4>
                  <p>Just like ordinary tables, index-organized tables are analyzed using the <code class="codeph">DBMS_STATS</code> package, or the <code class="codeph">ANALYZE</code> statement. 
                  </p>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-12BF66C1-9C44-499C-9317-D1F74CB3D9F6">Collecting Optimizer Statistics for Index-Organized Tables</a><br>To collect optimizer statistics, use the <code class="codeph">DBMS_STATS</code> package.
                        </li>
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-88F30FE4-1945-485C-BA53-6D8BF11DD907">Validating the Structure of Index-Organized Tables</a><br>Use the <code class="codeph">ANALYZE</code> statement to validate the structure of your index-organized table or to list any chained rows.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-D9BCA9BF-EAA8-431D-BDBB-ED5B3C59C5E4" title="An index-organized table's storage organization is a variant of a primary B-tree index. Unlike a heap-organized table, data is stored in primary key order.">Managing Index-Organized Tables</a></p>
                        </div>
                     </div>
                  </div>
                  <a id="ADMIN11701"></a><div class="props_rev_3"><a id="GUID-12BF66C1-9C44-499C-9317-D1F74CB3D9F6" name="GUID-12BF66C1-9C44-499C-9317-D1F74CB3D9F6"></a><h5 id="ADMIN-GUID-12BF66C1-9C44-499C-9317-D1F74CB3D9F6" class="sect5"><span class="enumeration_section">20.13.5.1 </span>Collecting Optimizer Statistics for Index-Organized Tables
                     </h5>
                     <div>
                        <p>To collect optimizer statistics, use the <code class="codeph">DBMS_STATS</code> package.
                        </p>
                        <div class="section">
                           <p>For example, the following statement gathers statistics for the index-organized <code class="codeph">countries</code> table in the <code class="codeph">hr</code> schema:
                           </p><pre class="oac_no_warn" dir="ltr">EXECUTE DBMS_STATS.GATHER_TABLE_STATS ('HR','COUNTRIES');
</pre><p>The <code class="codeph">DBMS_STATS</code> package analyzes both the primary key index segment and the overflow data segment, and computes logical as well as physical statistics for the table. 
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The logical statistics can be queried using <code class="codeph">USER_TABLES</code>, <code class="codeph">ALL_TABLES</code> or <code class="codeph">DBA_TABLES</code>. 
                                 </p>
                              </li>
                              <li>
                                 <p>You can query the physical statistics of the primary key index segment using <code class="codeph">USER_INDEXES</code>, <code class="codeph">ALL_INDEXES</code> or <code class="codeph">DBA_INDEXES</code> (and using the primary key index name). For example, you can obtain the primary key index segment physical statistics for the table <code class="codeph">admin_docindex</code> as follows: 
                                 </p><pre class="oac_no_warn" dir="ltr">SELECT LAST_ANALYZED, BLEVEL,LEAF_BLOCKS, DISTINCT_KEYS 
   FROM DBA_INDEXES WHERE INDEX_NAME= 'PK_ADMIN_DOCINDEX';
</pre></li>
                              <li>
                                 <p>You can query the physical statistics for the overflow data segment using the <code class="codeph">USER_TABLES</code>, <code class="codeph">ALL_TABLES</code> or <code class="codeph">DBA_TABLES</code>. You can identify the overflow entry by searching for <code class="codeph">IOT_TYPE = 'IOT_OVERFLOW'</code>. For example, you can obtain overflow data segment physical attributes associated with the <code class="codeph">admin_docindex</code> table as follows: 
                                 </p><pre class="oac_no_warn" dir="ltr">SELECT LAST_ANALYZED, NUM_ROWS, BLOCKS, EMPTY_BLOCKS 
   FROM DBA_TABLES WHERE IOT_TYPE='IOT_OVERFLOW' 
          and IOT_NAME= 'ADMIN_DOCINDEX';</pre><div class="infoboxnotealso" id="GUID-12BF66C1-9C44-499C-9317-D1F74CB3D9F6__GUID-5785B085-2AAD-4127-BE8F-BA53394DD20D">
                                    <p class="notep1">See Also:</p>
                                    <p></p>
                                    <ul style="list-style-type: disc;">
                                       <li>
                                          <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=TGSQL389" target="_blank"><span class="italic">Oracle Database SQL Tuning Guide</span></a> for more information about collecting optimizer statistics
                                          </p>
                                       </li>
                                       <li>
                                          <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=ARPLS059" target="_blank"><span class="italic">Oracle Database PL/SQL Packages and Types Reference</span></a> for more information about of the <code class="codeph">DBMS_STATS</code> package
                                          </p>
                                       </li>
                                    </ul>
                                 </div>
                              </li>
                           </ul>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-3FDB4F70-4DD9-47BF-811B-F5CA0F168832" title="Just like ordinary tables, index-organized tables are analyzed using the DBMS_STATS package, or the ANALYZE statement.">Analyzing Index-Organized Tables</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div><a id="ADMIN11702"></a><div class="props_rev_3"><a id="GUID-88F30FE4-1945-485C-BA53-6D8BF11DD907" name="GUID-88F30FE4-1945-485C-BA53-6D8BF11DD907"></a><h5 id="ADMIN-GUID-88F30FE4-1945-485C-BA53-6D8BF11DD907" class="sect5"><span class="enumeration_section">20.13.5.2 </span>Validating the Structure of Index-Organized Tables
                     </h5>
                     <div>
                        <p>Use the <code class="codeph">ANALYZE</code> statement to validate the structure of your index-organized table or to list any chained rows.
                        </p>
                        <p>These operations are discussed in the following sections located elsewhere in this book:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><span class="q">"<a href="managing-schema-objects.html#GUID-4D413507-A992-44B0-8366-867B78E0B6FF" title="To verify the integrity of the structure of a table, index, cluster, or materialized view, use the ANALYZE statement with the VALIDATE STRUCTURE option.">Validating Tables, Indexes, Clusters, and Materialized Views</a>"</span></p>
                           </li>
                           <li>
                              <p><span class="q">"<a href="managing-schema-objects.html#GUID-AA49BB99-71E6-439C-BB0F-D4F0EAF63FB7" title="You can look at the chained and migrated rows of a table or cluster using the ANALYZE statement with the LIST CHAINED ROWS clause. The results of this statement are stored in a specified table created explicitly to accept the information returned by the LIST CHAINED ROWS clause. These results are useful in determining whether you have enough room for updates to rows.">Listing Chained Rows of Tables and Clusters</a>"</span> 
                              </p>
                              <div class="infoboxnote" id="GUID-88F30FE4-1945-485C-BA53-6D8BF11DD907__GUID-D202F7FF-9C20-4B09-B271-6716C5FD4A28">
                                 <p class="notep1">Note:</p>
                                 <p>There are special considerations when listing chained rows for index-organized tables. These are discussed in the <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=SQLRF01105" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a>.
                                 </p>
                              </div>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-3FDB4F70-4DD9-47BF-811B-F5CA0F168832" title="Just like ordinary tables, index-organized tables are analyzed using the DBMS_STATS package, or the ANALYZE statement.">Analyzing Index-Organized Tables</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN11703"></a><div class="props_rev_3"><a id="GUID-9118B891-326A-4579-9BBD-A3A6DDF4016A" name="GUID-9118B891-326A-4579-9BBD-A3A6DDF4016A"></a><h4 id="ADMIN-GUID-9118B891-326A-4579-9BBD-A3A6DDF4016A" class="sect4"><span class="enumeration_section">20.13.6 </span>Using the ORDER BY Clause with Index-Organized Tables
                  </h4>
                  <div>
                     <p>If an <code class="codeph">ORDER BY</code> clause only references the primary key column or a prefix of it, then the optimizer avoids the sorting overhead, as the rows are returned sorted on the primary key columns.
                     </p>
                     <div class="section">
                        <p>The following queries avoid sorting overhead because the data is already sorted on the primary key:</p><pre class="oac_no_warn" dir="ltr">SELECT * FROM admin_docindex2 ORDER BY token, doc_id;
SELECT * FROM admin_docindex2 ORDER BY token;
</pre><p>If, however, you have an <code class="codeph">ORDER BY</code> clause on a suffix of the primary key column or non-primary-key columns, additional sorting is required (assuming no other secondary indexes are defined).
                        </p><pre class="oac_no_warn" dir="ltr">SELECT * FROM admin_docindex2 ORDER BY doc_id;
SELECT * FROM admin_docindex2 ORDER BY token_frequency;</pre></div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-D9BCA9BF-EAA8-431D-BDBB-ED5B3C59C5E4" title="An index-organized table's storage organization is a variant of a primary B-tree index. Unlike a heap-organized table, data is stored in primary key order.">Managing Index-Organized Tables</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11704"></a><div class="props_rev_3"><a id="GUID-43FB7062-D7FE-4E29-9199-5ACDE7799958" name="GUID-43FB7062-D7FE-4E29-9199-5ACDE7799958"></a><h4 id="ADMIN-GUID-43FB7062-D7FE-4E29-9199-5ACDE7799958" class="sect4"><span class="enumeration_section">20.13.7 </span>Converting Index-Organized Tables to Regular Tables
                  </h4>
                  <div>
                     <p>You can convert index-organized tables to regular (heap organized) tables using the Oracle import or export utilities, or the <code class="codeph">CREATE TABLE...AS SELECT</code> statement.
                     </p>
                     <div class="section">
                        <p>To convert an index-organized table to a regular table:</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>Export the index-organized table data using conventional path.</p>
                           </li>
                           <li>
                              <p>Create a regular table definition with the same definition. </p>
                           </li>
                           <li>
                              <p>Import the index-organized table data, making sure <code class="codeph">IGNORE=y</code> (ensures that object exists error is ignored). 
                              </p>
                              <div class="infoboxnote" id="GUID-43FB7062-D7FE-4E29-9199-5ACDE7799958__GUID-6DB3A195-C075-4AA2-A635-E038484CB1AC">
                                 <p class="notep1">Note:</p>
                                 <p>Before converting an index-organized table to a regular table, be aware that index-organized tables cannot be exported using pre-Oracle8 versions of the Export utility.</p>
                              </div>
                              <div class="infoboxnotealso" id="GUID-43FB7062-D7FE-4E29-9199-5ACDE7799958__GUID-C2729962-6995-44CE-9BAE-F1F856ABB5D1">
                                 <p class="notep1">See Also:</p>
                                 <p><a href="../sutil/index.html" target="_blank"><span class="italic">Oracle Database Utilities</span></a> for more details about using the original <code class="codeph">IMP</code> and <code class="codeph">EXP</code> utilities and the Data Pump import and export utilities
                                 </p>
                              </div>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-D9BCA9BF-EAA8-431D-BDBB-ED5B3C59C5E4" title="An index-organized table's storage organization is a variant of a primary B-tree index. Unlike a heap-organized table, data is stored in primary key order.">Managing Index-Organized Tables</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-4C17C266-A5F8-4C3C-B90F-5A02BE41F264" name="GUID-4C17C266-A5F8-4C3C-B90F-5A02BE41F264"></a><h3 id="ADMIN-GUID-4C17C266-A5F8-4C3C-B90F-5A02BE41F264" class="sect3"><span class="enumeration_section">20.14 </span>Managing Partitioned Tables
               </h3>
               <div>
                  <p>Partitioned tables enable your data to be broken down into smaller, more manageable pieces called partitions, or even subpartitions. Each partition can have separate physical attributes, such as compression enabled or disabled, type of compression, physical storage settings, and tablespace, thus providing a structure that can be better tuned for availability and performance. In addition, each partition can be managed individually, which can simplify and reduce the time required for backup and administration.</p>
                  <p>See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=VLDBG-GUID-EA7EF5CB-DD49-43AF-889A-F83AAC0D7D51" target="_blank"><span class="italic">Oracle Database VLDB and Partitioning Guide</span></a> for more information about managing partitioned tables.
                  </p>
               </div>
               <div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-707B02F5-E589-4C20-8E2E-5ED4F7888702" title="Managing tables includes tasks such as creating tables, loading tables, altering tables, and dropping tables.">Managing Tables</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADMIN01507"></a><div class="props_rev_3"><a id="GUID-F6948F0E-0557-4C42-9145-1897DE974CC3" name="GUID-F6948F0E-0557-4C42-9145-1897DE974CC3"></a><h3 id="ADMIN-GUID-F6948F0E-0557-4C42-9145-1897DE974CC3" class="sect3"><span class="enumeration_section">20.15 </span>Managing External Tables
               </h3>
               <p>External tables are the tables that do not reside in the database, but reside outside the database in external files, such as operating system files or Hadoop Distributed File System (HDFS) files.</p>
               <div>
                  <ul class="ullinks">
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-697B86CC-875C-4F68-AF80-49B41F33AE45">About External Tables</a><br>Oracle Database allows you read-only access to data in external tables. <span class="bold">External tables</span> are defined as tables that do not reside in the database, and they can be in any format for which an access driver is provided.
                     </li>
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-4BABDCB5-640B-46B3-A392-EED9C7B542CB">Creating External Tables</a><br>You create external tables using the <code class="codeph">CREATE</code> <code class="codeph">TABLE</code> statement with an <code class="codeph">ORGANIZATION</code> <code class="codeph">EXTERNAL</code> clause. This statement creates only metadata in the data dictionary.
                     </li>
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-84C934CC-2116-482A-B47A-558F643437DC">Altering External Tables</a><br>You can modify an external table with the <code class="codeph">ALTER TABLE</code> statement.
                     </li>
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-67A4ED3F-0366-4E59-A79C-45E6997E43FA">Preprocessing External Tables</a><br>External tables can be preprocessed by user-supplied preprocessor programs. By using a preprocessing program, users can use data from a file that is not in a format supported by the driver.
                     </li>
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-6E4219FF-A557-452E-A6E9-96C38BA87EE0">Overriding Parameters for External Tables in a Query</a><br>The <code class="codeph">EXTERNAL MODIFY</code> clause of a <code class="codeph">SELECT</code> statement modifies external table parameters. 
                     </li>
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-621E5DDE-36D9-4661-9D14-80DE35858C3F">Using Inline External Tables</a><br>Inline external tables enable the runtime definition of an external table as part of a SQL statement, without creating the external table as persistent object in the data dictionary.
                     </li>
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-2A801016-0399-4925-AD1B-A02683E81B59">Partitioning External Tables</a><br>For large amounts of data, partitioning for external tables provides fast query performance and enhanced data maintenance.
                     </li>
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-8467E062-FBC3-4BC9-B7E9-BF56B31B419E">Dropping External Tables</a><br>For an external table, the <code class="codeph">DROP</code> <code class="codeph">TABLE</code> statement removes only the table metadata in the database. It has no affect on the actual data, which resides outside of the database.
                     </li>
                     <li class="ulchildlink"><a href="managing-tables.html#GUID-C5B61599-74AA-4004-AFCD-1A95B3BA11C2">System and Object Privileges for External Tables</a><br>System and object privileges for external tables are a subset of those for regular table.
                     </li>
                  </ul>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-707B02F5-E589-4C20-8E2E-5ED4F7888702" title="Managing tables includes tasks such as creating tables, loading tables, altering tables, and dropping tables.">Managing Tables</a></p>
                     </div>
                  </div>
               </div>
               <a id="ADMIN12896"></a><div class="props_rev_3"><a id="GUID-697B86CC-875C-4F68-AF80-49B41F33AE45" name="GUID-697B86CC-875C-4F68-AF80-49B41F33AE45"></a><h4 id="ADMIN-GUID-697B86CC-875C-4F68-AF80-49B41F33AE45" class="sect4"><span class="enumeration_section">20.15.1 </span>About External Tables
                  </h4>
                  <div>
                     <p>Oracle Database allows you read-only access to data in external tables. <span class="bold">External tables</span> are defined as tables that do not reside in the database, and they can be in any format for which an access driver is provided.
                     </p>
                     <p>By providing the database with metadata describing an external table, the database is able to expose the data in the external table as if it were data residing in a regular database table. The external data can be queried directly and in parallel using SQL.</p>
                     <p>You can, for example, select, join, or sort external table data. You can also create views and synonyms for external tables. However, no DML operations (<code class="codeph">UPDATE</code>, <code class="codeph">INSERT</code>, or <code class="codeph">DELETE</code>) are possible, and no indexes can be created, on external tables.
                     </p>
                     <p>External tables provide a framework to unload the result of an arbitrary <code class="codeph">SELECT</code> statement into a platform-independent Oracle-proprietary format that can be used by Oracle Data Pump. External tables provide a valuable means for performing basic extraction, transformation, and loading (ETL) tasks that are common for data warehousing.
                     </p>
                     <p>You define the metadata for external tables with the <code class="codeph">CREATE TABLE...ORGANIZATION EXTERNAL</code> statement. This external table definition can be thought of as a view that allows running any SQL query against external data without requiring that the external data first be loaded into the database. An access driver is the mechanism used to read the external data in the table. When you use external tables to unload data, the metadata is automatically created based on the data types in the <code class="codeph">SELECT</code> statement.
                     </p>
                     <p>Oracle Database provides access drivers for external tables. The default access driver is <code class="codeph">ORACLE_LOADER</code>, which allows the reading of data from external files using the Oracle loader technology. The <code class="codeph">ORACLE_LOADER</code> access driver provides data mapping capabilities which are a subset of the control file syntax of SQL*Loader utility. Another access driver, <code class="codeph">ORACLE_DATAPUMP</code>, lets you unload data—that is, read data from the database and insert it into an external table, represented by one or more external files—and then reload it into an Oracle Database.
                     </p>
                     <p>Starting with Oracle Database 12<span class="italic">c</span> Release 2 (12.2), new access drivers <code class="codeph">ORACLE_HIVE</code> and <code class="codeph">ORACLE_HDFS</code> are available. The <code class="codeph">ORACLE_HIVE</code> access driver can extract data stored in Apache Hive. The <code class="codeph">ORACLE_HDFS</code> access driver can extract data stored in a Hadoop&nbsp;Distributed File System (HDFS).
                     </p>
                     <p>Starting with Oracle Database 18c, inline external tables are supported. Inline external tables enable the runtime definition of an external table as part of a SQL statement, without creating the external table as persistent object in the data dictionary.</p>
                     <div class="infoboxnote" id="GUID-697B86CC-875C-4F68-AF80-49B41F33AE45__GUID-F00877C3-7F16-48B7-85CC-D281F6EB6D2C">
                        <p class="notep1">Note:</p>
                        <p>The <code class="codeph">ANALYZE</code> statement is not supported for gathering statistics for external tables. Use the <code class="codeph">DBMS_STATS</code> package instead.
                        </p>
                     </div>
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-697B86CC-875C-4F68-AF80-49B41F33AE45__GUID-3294389A-4023-4D78-8594-857689BF8A96">
                        <p class="notep1">See Also:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=SQLRF54503" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> for restrictions that apply to external tables
                              </p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=SUTIL011" target="_blank"><span class="italic">Oracle Database Utilities</span></a> for information about access drivers
                              </p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=DWHSG8312" target="_blank"><span class="italic">Oracle Database Data Warehousing Guide</span></a> for information about using external tables for ETL in a data warehousing environment
                              </p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=TGSQL389" target="_blank"><span class="italic">Oracle Database SQL Tuning Guide</span></a> for information about using the <code class="codeph">DBMS_STATS</code> package
                              </p>
                           </li>
                           <li>
                              <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=SUTIL-GUID-038ED956-A6EE-4C6D-B7C9-0D406B8088B6" target="_blank"><span><cite>Oracle Database Utilities</cite></span></a> for information about the <code class="codeph">ORACLE_HIVE</code> and <code class="codeph">ORACLE_HDFS</code> drivers and for more information about external tables
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-F6948F0E-0557-4C42-9145-1897DE974CC3" title="External tables are the tables that do not reside in the database, but reside outside the database in external files, such as operating system files or Hadoop Distributed File System (HDFS) files.">Managing External Tables</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN12642"></a><a id="ADMIN11705"></a><div class="props_rev_3"><a id="GUID-4BABDCB5-640B-46B3-A392-EED9C7B542CB" name="GUID-4BABDCB5-640B-46B3-A392-EED9C7B542CB"></a><h4 id="ADMIN-GUID-4BABDCB5-640B-46B3-A392-EED9C7B542CB" class="sect4"><span class="enumeration_section">20.15.2 </span>Creating External Tables
                  </h4>
                  <div>
                     <p>You create external tables using the <code class="codeph">CREATE</code> <code class="codeph">TABLE</code> statement with an <code class="codeph">ORGANIZATION</code> <code class="codeph">EXTERNAL</code> clause. This statement creates only metadata in the data dictionary.
                     </p>
                     <div class="section">
                        <div class="infoboxnote" id="GUID-4BABDCB5-640B-46B3-A392-EED9C7B542CB__GUID-18248F77-B086-4F1A-91FF-0E10F936AEDB">
                           <p class="notep1">Note:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>Starting with Oracle Database 12<span class="italic">c</span> Release 2 (12.2), you can partition external tables for fast query performance and enhanced data maintenance for large amounts of data.
                                 </p>
                              </li>
                              <li>
                                 <p>External tables can have virtual columns. However, a virtual column in an external table cannot be defined using the <code class="codeph"><span class="codeinlineitalic">evaluation_edition_clause</span></code> or the <code class="codeph"><span class="codeinlineitalic">unusable_edition_clause</span></code>.
                                 </p>
                              </li>
                           </ul>
                        </div>
                        <p>The following example creates an external table and then uploads the data to a database table. Alternatively, you can unload data through the external table framework by specifying the <code class="codeph">AS</code> <span class="italic"><code class="codeph">subquery</code></span> clause of the <code class="codeph">CREATE TABLE</code> statement. External table data pump unload can use only the <code class="codeph">ORACLE_DATAPUMP</code> access driver.
                        </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-4BABDCB5-640B-46B3-A392-EED9C7B542CB__GUID-D93EE6CC-82A7-418E-9193-720D8051C0BE">EXAMPLE: Creating an External Table and Loading Data </p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>In this example, the data for the external table resides in the two text files <code class="codeph">empxt1.dat</code> and <code class="codeph">empxt2.dat</code>.
                        </p>
                        <p>The file <code class="codeph">empxt1.dat</code> contains the following sample data: 
                        </p><pre class="oac_no_warn" dir="ltr">360,Jane,Janus,ST_CLERK,121,17-MAY-2001,3000,0,50,jjanus
361,Mark,Jasper,SA_REP,145,17-MAY-2001,8000,.1,80,mjasper
362,Brenda,Starr,AD_ASST,200,17-MAY-2001,5500,0,10,bstarr
363,Alex,Alda,AC_MGR,145,17-MAY-2001,9000,.15,80,aalda
</pre><p>The file <code class="codeph">empxt2.dat</code> contains the following sample data:
                        </p><pre class="oac_no_warn" dir="ltr">401,Jesse,Cromwell,HR_REP,203,17-MAY-2001,7000,0,40,jcromwel
402,Abby,Applegate,IT_PROG,103,17-MAY-2001,9000,.2,60,aapplega
403,Carol,Cousins,AD_VP,100,17-MAY-2001,27000,.3,90,ccousins
404,John,Richardson,AC_ACCOUNT,205,17-MAY-2001,5000,0,110,jrichard
</pre><p>The following SQL statements create an external table named <code class="codeph">admin_ext_employees</code> in the <code class="codeph">hr</code> schema and load data from the external table into the <code class="codeph">hr.employees</code> table.
                        </p><pre class="oac_no_warn" dir="ltr">CONNECT  /  AS SYSDBA;
-- Set up directories and grant access to hr 
CREATE OR REPLACE DIRECTORY admin_dat_dir
    AS '/flatfiles/data'; 
CREATE OR REPLACE DIRECTORY admin_log_dir 
    AS '/flatfiles/log'; 
CREATE OR REPLACE DIRECTORY admin_bad_dir 
    AS '/flatfiles/bad'; 
GRANT READ ON DIRECTORY admin_dat_dir TO hr; 
GRANT WRITE ON DIRECTORY admin_log_dir TO hr; 
GRANT WRITE ON DIRECTORY admin_bad_dir TO hr;
-- hr connects. Provide the user password (hr) when prompted.
CONNECT hr
-- create the external table
CREATE TABLE admin_ext_employees
                   (employee_id       NUMBER(4), 
                    first_name        VARCHAR2(20),
                    last_name         VARCHAR2(25), 
                    job_id            VARCHAR2(10),
                    manager_id        NUMBER(4),
                    hire_date         DATE,
                    salary            NUMBER(8,2),
                    commission_pct    NUMBER(2,2),
                    department_id     NUMBER(4),
                    email             VARCHAR2(25) 
                   ) 
     ORGANIZATION EXTERNAL 
     ( 
       TYPE ORACLE_LOADER 
       DEFAULT DIRECTORY admin_dat_dir 
       ACCESS PARAMETERS 
       ( 
         records delimited by newline 
         badfile admin_bad_dir:'empxt%a_%p.bad' 
         logfile admin_log_dir:'empxt%a_%p.log' 
         fields terminated by ',' 
         missing field values are null 
         ( employee_id, first_name, last_name, job_id, manager_id, 
           hire_date char date_format date mask "dd-mon-yyyy", 
           salary, commission_pct, department_id, email 
         ) 
       ) 
       LOCATION ('empxt1.dat', 'empxt2.dat') 
     ) 
     PARALLEL 
     REJECT LIMIT UNLIMITED; 
-- enable parallel for loading (good if lots of data to load)
ALTER SESSION ENABLE PARALLEL DML;
-- load the data in hr employees table
INSERT INTO employees (employee_id, first_name, last_name, job_id, manager_id,
                       hire_date, salary, commission_pct, department_id, email) 
            SELECT * FROM admin_ext_employees;
</pre><p>The following paragraphs contain descriptive information about this example.</p>
                        <p>The first few statements in this example create the directory objects for the operating system directories that contain the data sources, and for the bad record and log files specified in the access parameters. You must also grant <code class="codeph">READ</code> or <code class="codeph">WRITE</code> directory object privileges, as appropriate.
                        </p>
                        <div class="infoboxnote" id="GUID-4BABDCB5-640B-46B3-A392-EED9C7B542CB__GUID-260CAC28-C529-4A2A-BB14-67C896934643">
                           <p class="notep1">Note:</p>
                           <p>When creating a directory object or BFILEs, ensure that the following conditions are met: </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>The operating system file must not be a symbolic or hard link.</p>
                              </li>
                              <li>
                                 <p>The operating system directory path named in the Oracle Database directory object must be an existing OS directory path.</p>
                              </li>
                              <li>
                                 <p>The operating system directory path named in the directory object should not contain any symbolic links in its components.</p>
                              </li>
                           </ul>
                        </div>
                        <p>The <code class="codeph">TYPE</code> specification indicates the access driver of the external table. The access driver is the API that interprets the external data for the database. If you omit the <code class="codeph">TYPE</code> specification, <code class="codeph">ORACLE_LOADER</code> is the default access driver. You must specify the <code class="codeph">ORACLE_DATAPUMP</code> access driver if you specify the <code class="codeph">AS</code> <span class="italic"><code class="codeph">subquery</code></span> clause to unload data from one Oracle Database and reload it into the same or a different Oracle Database. 
                        </p>
                        <p>The access parameters, specified in the <code class="codeph">ACCESS PARAMETERS</code> clause, are opaque to the database. These access parameters are defined by the access driver, and are provided to the access driver by the database when the external table is accessed. See<a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=SUTIL012" target="_blank"><span class="italic"> Oracle Database Utilities</span></a> for a description of the <code class="codeph">ORACLE_LOADER</code> access parameters.
                        </p>
                        <p>The <code class="codeph">PARALLEL</code> clause enables parallel query on the data sources. The granule of parallelism is by default a data source, but parallel access within a data source is implemented whenever possible. For example, if <code class="codeph">PARALLEL=3</code> were specified, then multiple parallel execution servers could be working on a data source. But, parallel access within a data source is provided by the access driver only if all of the following conditions are met:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>The media allows random positioning within a data source.</p>
                           </li>
                           <li>
                              <p>It is possible to find a record boundary from a random position.</p>
                           </li>
                           <li>
                              <p>The data files are large enough to make it worthwhile to break up into multiple chunks.</p>
                              <div class="infoboxnote" id="GUID-4BABDCB5-640B-46B3-A392-EED9C7B542CB__GUID-9978E83D-939A-4B6D-92EA-DF750A8B6C45">
                                 <p class="notep1">Note:</p>
                                 <p>Specifying a <code class="codeph">PARALLEL</code> clause is of value <span class="italic">only</span> when dealing with large amounts of data. Otherwise, it is not advisable to specify a <code class="codeph">PARALLEL</code> clause, and doing so can be detrimental.
                                 </p>
                              </div>
                           </li>
                        </ul>
                        <p>The <code class="codeph">REJECT</code> <code class="codeph">LIMIT</code> clause specifies that there is no limit on the number of errors that can occur during a query of the external data. For parallel access, the <code class="codeph">REJECT</code> <code class="codeph">LIMIT</code> applies to each parallel execution server independently. For example, if a <code class="codeph">REJECT</code> <code class="codeph">LIMIT</code> of 10 is specified, then each parallel query process can allow up to 10 rejections. Therefore, with a parallel degree of two and a <code class="codeph">REJECT</code> <code class="codeph">LIMIT</code> of 10, the statement might fail with between 10 and 20 rejections. If one parallel server processes all 10 rejections, then the limit is reached, and the statement is terminated. However, one parallel execution server could process nine rejections and another parallel execution server could process nine rejections and the statement will succeed with 18 rejections. Hence, the only precisely enforced values for <code class="codeph">REJECT</code> <code class="codeph">LIMIT</code> on parallel query are <code class="codeph">0</code> and <code class="codeph">UNLIMITED</code>.
                        </p>
                        <p>In this example, the <code class="codeph">INSERT</code> <code class="codeph">INTO</code> <code class="codeph">TABLE</code> statement generates a dataflow from the external data source to the Oracle Database SQL engine where data is processed. As data is parsed by the access driver from the external table sources and provided to the external table interface, the external data is converted from its external representation to its Oracle Database internal data type.
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-4BABDCB5-640B-46B3-A392-EED9C7B542CB__GUID-8E3B0300-71DA-4BF2-8644-F16DC7B17B01">
                        <p class="notep1">See Also:</p>
                        <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=SQLRF01402" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> provides details of the syntax of the <code class="codeph">CREATE TABLE</code> statement for creating external tables and specifies restrictions on the use of clauses 
                        </p>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-F6948F0E-0557-4C42-9145-1897DE974CC3" title="External tables are the tables that do not reside in the database, but reside outside the database in external files, such as operating system files or Hadoop Distributed File System (HDFS) files.">Managing External Tables</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN13066"></a><a id="ADMIN11706"></a><div class="props_rev_3"><a id="GUID-84C934CC-2116-482A-B47A-558F643437DC" name="GUID-84C934CC-2116-482A-B47A-558F643437DC"></a><h4 id="ADMIN-GUID-84C934CC-2116-482A-B47A-558F643437DC" class="sect4"><span class="enumeration_section">20.15.3 </span>Altering External Tables
                  </h4>
                  <div>
                     <p>You can modify an external table with the <code class="codeph">ALTER TABLE</code> statement.
                     </p>
                     <div class="section">
                        <p>You can use any of the <code class="codeph">ALTER TABLE</code> clauses shown in <a href="managing-tables.html#GUID-84C934CC-2116-482A-B47A-558F643437DC__BABGCGDH" title="Column 1 lists the ALTER TABLE clauses that can be used to change the characteristics of an exernal table. Column 2 describes the clause usage, and column 3 provides examples.">Table 20-6</a> to change the characteristics of an external table. No other clauses are permitted. 
                        </p>
                        <div class="tblformal" id="GUID-84C934CC-2116-482A-B47A-558F643437DC__BABGCGDH">
                           <p class="titleintable">Table 20-6 ALTER TABLE Clauses for External Tables</p>
                           <table cellpadding="4" cellspacing="0" class="Formal" title="ALTER TABLE Clauses for External Tables" summary="Column 1 lists the ALTER TABLE clauses that can be used to change the characteristics of an exernal table. Column 2 describes the clause usage, and column 3 provides examples." width="100%" frame="hsides" border="1" rules="rows">
                              <thead>
                                 <tr align="left" valign="top">
                                    <th align="left" valign="bottom" width="22%" id="d192334e20894">ALTER TABLE Clause</th>
                                    <th align="left" valign="bottom" width="39%" id="d192334e20897">Description</th>
                                    <th align="left" valign="bottom" width="38%" id="d192334e20900">Example</th>
                                 </tr>
                              </thead>
                              <tbody>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d192334e20905" headers="d192334e20894 ">
                                       <p><code class="codeph">REJECT LIMIT</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="39%" headers="d192334e20905 d192334e20897 ">
                                       <p>Changes the reject limit. The default value is <code class="codeph">0</code>.
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="38%" headers="d192334e20905 d192334e20900 "><pre class="pre codeblock"><code>ALTER TABLE admin_ext_employees
REJECT LIMIT 100;</code></pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d192334e20920" headers="d192334e20894 ">
                                       <p><code class="codeph">PROJECT</code> <code class="codeph">COLUMN</code></p>
                                    </td>
                                    <td align="left" valign="top" width="39%" headers="d192334e20920 d192334e20897 ">
                                       <p>Determines how the access driver validates rows in subsequent queries:</p>
                                       <ul style="list-style-type: disc;">
                                          <li>
                                             <p><code class="codeph">PROJECT</code> <code class="codeph">COLUMN</code> <code class="codeph">REFERENCED</code>: the access driver processes only the columns in the select list of the query. This setting may not provide a consistent set of rows when querying a different column list from the same external table.
                                             </p>
                                          </li>
                                          <li>
                                             <p><code class="codeph">PROJECT</code> <code class="codeph">COLUMN</code> <code class="codeph">ALL</code>: the access driver processes all of the columns defined on the external table. This setting always provides a consistent set of rows when querying an external table. This is the default.
                                             </p>
                                          </li>
                                       </ul>
                                    </td>
                                    <td align="left" valign="top" width="38%" headers="d192334e20920 d192334e20900 "><pre class="pre codeblock"><code>ALTER TABLE admin_ext_employees
PROJECT COLUMN REFERENCED;

ALTER TABLE admin_ext_employees
PROJECT COLUMN ALL;</code></pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d192334e20957" headers="d192334e20894 ">
                                       <p><code class="codeph">DEFAULT DIRECTORY</code> 
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="39%" headers="d192334e20957 d192334e20897 ">
                                       <p>Changes the default directory specification.</p>
                                    </td>
                                    <td align="left" valign="top" width="38%" headers="d192334e20957 d192334e20900 "><pre class="pre codeblock"><code>ALTER TABLE admin_ext_employees
DEFAULT DIRECTORY admin_dat2_dir;</code></pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d192334e20969" headers="d192334e20894 ">
                                       <p><code class="codeph">ACCESS PARAMETERS</code></p>
                                    </td>
                                    <td align="left" valign="top" width="39%" headers="d192334e20969 d192334e20897 ">
                                       <p>Allows access parameters to be changed without dropping and re-creating the external table metadata.</p>
                                    </td>
                                    <td align="left" valign="top" width="38%" headers="d192334e20969 d192334e20900 "><pre class="pre codeblock"><code>ALTER TABLE admin_ext_employees
ACCESS PARAMETERS
(FIELDS TERMINATED BY ';');</code></pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d192334e20980" headers="d192334e20894 ">
                                       <p><code class="codeph">LOCATION</code></p>
                                    </td>
                                    <td align="left" valign="top" width="39%" headers="d192334e20980 d192334e20897 ">
                                       <p>Allows data sources to be changed without dropping and re-creating the external table metadata.</p>
                                    </td>
                                    <td align="left" valign="top" width="38%" headers="d192334e20980 d192334e20900 "><pre class="pre codeblock"><code>ALTER TABLE admin_ext_employees
LOCATION ('empxt3.txt', 'empxt4.txt');</code></pre></td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d192334e20991" headers="d192334e20894 ">
                                       <p><code class="codeph">PARALLEL</code></p>
                                    </td>
                                    <td align="left" valign="top" width="39%" headers="d192334e20991 d192334e20897 ">
                                       <p>No difference from regular tables. Allows degree of parallelism to be changed.</p>
                                    </td>
                                    <td align="left" valign="top" width="38%" headers="d192334e20991 d192334e20900 ">
                                       <p>No new syntax</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d192334e21002" headers="d192334e20894 ">
                                       <p><code class="codeph">ADD COLUMN</code></p>
                                    </td>
                                    <td align="left" valign="top" width="39%" headers="d192334e21002 d192334e20897 ">
                                       <p>No difference from regular tables. Allows a column to be added to an external table. Virtual columns are not permitted.</p>
                                    </td>
                                    <td align="left" valign="top" width="38%" headers="d192334e21002 d192334e20900 ">
                                       <p>No new syntax</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d192334e21013" headers="d192334e20894 ">
                                       <p><code class="codeph">MODIFY COLUMN</code></p>
                                    </td>
                                    <td align="left" valign="top" width="39%" headers="d192334e21013 d192334e20897 ">
                                       <p>No difference from regular tables. Allows an external table column to be modified. Virtual columns are not permitted.</p>
                                    </td>
                                    <td align="left" valign="top" width="38%" headers="d192334e21013 d192334e20900 ">
                                       <p>No new syntax</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d192334e21024" headers="d192334e20894 ">
                                       <p><code class="codeph">SET UNUSED</code></p>
                                    </td>
                                    <td align="left" valign="top" width="39%" headers="d192334e21024 d192334e20897 ">
                                       <p>Transparently converted into an <code class="codeph">ALTER TABLE DROP COLUMN</code> command. Because external tables consist of metadata only in the database, the <code class="codeph">DROP COLUMN</code> command performs equivalently to the <code class="codeph">SET UNUSED</code> command.
                                       </p>
                                    </td>
                                    <td align="left" valign="top" width="38%" headers="d192334e21024 d192334e20900 ">
                                       <p>No new syntax</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d192334e21044" headers="d192334e20894 ">
                                       <p><code class="codeph">DROP COLUMN</code></p>
                                    </td>
                                    <td align="left" valign="top" width="39%" headers="d192334e21044 d192334e20897 ">
                                       <p>No difference from regular tables. Allows an external table column to be dropped.</p>
                                    </td>
                                    <td align="left" valign="top" width="38%" headers="d192334e21044 d192334e20900 ">
                                       <p>No new syntax</p>
                                    </td>
                                 </tr>
                                 <tr align="left" valign="top">
                                    <td align="left" valign="top" width="22%" id="d192334e21055" headers="d192334e20894 ">
                                       <p><code class="codeph">RENAME TO</code></p>
                                    </td>
                                    <td align="left" valign="top" width="39%" headers="d192334e21055 d192334e20897 ">
                                       <p>No difference from regular tables. Allows external table to be renamed.</p>
                                    </td>
                                    <td align="left" valign="top" width="38%" headers="d192334e21055 d192334e20900 ">
                                       <p>No new syntax</p>
                                    </td>
                                 </tr>
                              </tbody>
                           </table>
                        </div>
                        <!-- class="inftblhruleinformal" -->
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-F6948F0E-0557-4C42-9145-1897DE974CC3" title="External tables are the tables that do not reside in the database, but reside outside the database in external files, such as operating system files or Hadoop Distributed File System (HDFS) files.">Managing External Tables</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN12898"></a><div class="props_rev_3"><a id="GUID-67A4ED3F-0366-4E59-A79C-45E6997E43FA" name="GUID-67A4ED3F-0366-4E59-A79C-45E6997E43FA"></a><h4 id="ADMIN-GUID-67A4ED3F-0366-4E59-A79C-45E6997E43FA" class="sect4"><span class="enumeration_section">20.15.4 </span>Preprocessing External Tables
                  </h4>
                  <div>
                     <p>External tables can be preprocessed by user-supplied preprocessor programs. By using a preprocessing program, users can use data from a file that is not in a format supported by the driver.</p>
                     <div class="section">
                        <div class="infoboxnote" id="GUID-67A4ED3F-0366-4E59-A79C-45E6997E43FA__GUID-382C2FF9-5EBC-48C8-B314-F0906978863E">
                           <p class="notep1">Caution:</p>
                           <p>There are security implications to consider when using the <code class="codeph">PREPROCESSOR</code> clause. See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=DBSEG10007" target="_blank"><span class="italic">Oracle Database Security Guide</span></a> for more information.
                           </p>
                        </div>
                        <p>For example, a user may want to access data stored in a compressed format. Specifying a decompression program for the <code class="codeph">ORACLE_LOADER</code> access driver allows the data to be decompressed as the access driver processes the data.
                        </p>
                        <p>To use the preprocessing feature, you must specify the <code class="codeph">PREPROCESSOR</code> clause in the access parameters of the <code class="codeph">ORACLE_LOADER</code> access driver. The preprocessor must be a directory object, and the user accessing the external table must have <code class="codeph">EXECUTE</code> privileges for the directory object. The following example includes the <code class="codeph">PREPROCESSOR</code> clause and specifies the directory and preprocessor program. 
                        </p><pre class="oac_no_warn" dir="ltr">CREATE TABLE sales_transactions_ext
(PROD_ID NUMBER,
 CUST_ID NUMBER,
 TIME_ID DATE,
 CHANNEL_ID CHAR,
 PROMO_ID NUMBER,
 QUANTITY_SOLD NUMBER,
 AMOUNT_SOLD NUMBER(10,2),
 UNIT_COST NUMBER(10,2),
 UNIT_PRICE NUMBER(10,2))
ORGANIZATION external
(TYPE oracle_loader
 DEFAULT DIRECTORY data_file_dir
 ACCESS PARAMETERS
  (RECORDS DELIMITED BY NEWLINE
   CHARACTERSET AL32UTF8
   <span class="bold"><code class="codeph">PREPROCESSOR exec_file_dir:'zcat'</code></span>
   BADFILE log_file_dir:'sh_sales.bad_xt'
   LOGFILE log_file_dir:'sh_sales.log_xt'
   FIELDS TERMINATED BY "|" LDRTRIM
  ( PROD_ID,
    CUST_ID,
    TIME_ID,
    CHANNEL_ID,
    PROMO_ID,
    QUANTITY_SOLD,
    AMOUNT_SOLD,
    UNIT_COST,
    UNIT_PRICE))
 location ('sh_sales.dat.gz')
)REJECT LIMIT UNLIMITED;
</pre><p>The <code class="codeph">PREPROCESSOR</code> clause is not available for databases that use Oracle Database Vault.
                        </p>
                        <div class="infoboxnote" id="GUID-67A4ED3F-0366-4E59-A79C-45E6997E43FA__GUID-226216D9-4F3A-4284-8939-2452F9BBB2EC">
                           <p class="notep1">Note:</p>On the Windows platform, a preprocessor program must have a <code class="codeph">.bat</code> or <code class="codeph">.cmd</code> extension.
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="infoboxnotealso" id="GUID-67A4ED3F-0366-4E59-A79C-45E6997E43FA__GUID-44361B4F-DAEE-428E-9258-9CC38E9AB97D">
                        <p class="notep1">See Also:</p>
                        <p></p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><a href="../sutil/oracle_loader-access-driver.html#SUTIL1385" target="_blank"><span class="italic">Oracle Database Utilities</span></a> provides information more information about the <code class="codeph">PREPROCESSOR</code> clause
                              </p>
                           </li>
                           <li>
                              <p><a href="../dbseg/keeping-your-oracle-database-secure.html#DBSEG10007" target="_blank"><span class="italic">Oracle Database Security Guide</span></a> for more information about the security implications of the <code class="codeph">PREPROCESSOR</code> clause
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-F6948F0E-0557-4C42-9145-1897DE974CC3" title="External tables are the tables that do not reside in the database, but reside outside the database in external files, such as operating system files or Hadoop Distributed File System (HDFS) files.">Managing External Tables</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-6E4219FF-A557-452E-A6E9-96C38BA87EE0" name="GUID-6E4219FF-A557-452E-A6E9-96C38BA87EE0"></a><h4 id="ADMIN-GUID-6E4219FF-A557-452E-A6E9-96C38BA87EE0" class="sect4"><span class="enumeration_section">20.15.5 </span>Overriding Parameters for External Tables in a Query
                  </h4>
                  <div>
                     <p>The <code class="codeph">EXTERNAL MODIFY</code> clause of a <code class="codeph">SELECT</code> statement modifies external table parameters. 
                     </p>
                     <div class="section"> 
                        <p>You can override the following clauses for an external table in an <code class="codeph">EXTERNAL MODIFY</code> clause:
                        </p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p><code class="codeph">DEFAULT DIRECTORY</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">LOCATION</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">ACCESS PARAMETERS</code></p>
                           </li>
                           <li>
                              <p><code class="codeph">REJECT LIMIT</code></p>
                           </li>
                        </ul>
                        <p>You can modify more than one clause in a single query. A bind variable can be specified for <code class="codeph">LOCATION</code> and <code class="codeph">REJECT LIMIT</code>, but not for <code class="codeph">DEFAULT DIRECTORY</code> or <code class="codeph">ACCESS PARAMETERS</code>. 
                        </p>
                        <p>The modifications only apply to the query. They do not affect the table permanently.</p>
                        <p>For partitioned external tables, only table-level clauses can be overridden.</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li><span>Connect to the database as a user with the privileges required to query the external table.</span></li>
                        <li><span>Issue a <code class="codeph">SELECT</code> statement on the external table with the <code class="codeph">EXTERNAL MODIFY</code> clause.</span></li>
                     </ol>
                     <div class="example" id="GUID-6E4219FF-A557-452E-A6E9-96C38BA87EE0__GUID-AD7B486B-0E52-47DB-B5B3-92D635510918">
                        <p class="titleinexample">Example 20-21 Overriding Parameters for External Tables in a Query</p>
                        <p>Assume an external table named <code class="codeph">sales_external</code> has a <code class="codeph">REJECT LIMIT</code> set to <code class="codeph">25</code>. The following query modifies this setting to <code class="codeph">REJECT LIMIT UNLIMITED</code>:
                        </p><pre class="pre codeblock"><code>SELECT * FROM sales_external EXTERNAL MODIFY (LOCATION ('sales_9.csv') 
   REJECT LIMIT UNLIMITED);</code></pre></div>
                     <!-- class="example" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-F6948F0E-0557-4C42-9145-1897DE974CC3" title="External tables are the tables that do not reside in the database, but reside outside the database in external files, such as operating system files or Hadoop Distributed File System (HDFS) files.">Managing External Tables</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="props_rev_3"><a id="GUID-621E5DDE-36D9-4661-9D14-80DE35858C3F" name="GUID-621E5DDE-36D9-4661-9D14-80DE35858C3F"></a><h4 id="ADMIN-GUID-621E5DDE-36D9-4661-9D14-80DE35858C3F" class="sect4"><span class="enumeration_section">20.15.6 </span>Using Inline External Tables
                  </h4>
                  <div>
                     <p>Inline external tables enable the runtime definition of an external table as part of a SQL statement, without creating the external table as persistent object in the data dictionary.</p>
                     <div class="section">
                        <p>With inline external tables, the same syntax that is used to create an external table with a <code class="codeph">CREATE TABLE</code> statement can be used in a <code class="codeph">SELECT</code> statement at runtime. Specify inline external tables in the <code class="codeph">FROM</code> clause of a query block. Queries that include inline external tables can also include regular tables for joins, aggregation, and so on.
                        </p>
                        <p>The following SQL statement performs a runtime query on external data:</p><pre class="pre codeblock"><code>
SELECT * FROM &nbsp;&nbsp;EXTERNAL ( &nbsp;&nbsp;
    (time_id        DATE NOT NULL, &nbsp;&nbsp;&nbsp;&nbsp;
     prod_id        INTEGER NOT NULL,
     quantity_sold  NUMBER(10,2),
     amount_sold    NUMBER(10,2)) &nbsp;&nbsp;&nbsp;&nbsp;
    TYPE ORACLE_LOADER &nbsp;&nbsp;&nbsp;&nbsp;
    DEFAULT DIRECTORY data_dir1
   &nbsp;ACCESS PARAMETERS (
      RECORDS DELIMITED BY NEWLINE
      FIELDS TERMINATED BY '|') &nbsp;&nbsp;&nbsp;&nbsp;
   LOCATION ('sales_9.csv') REJECT LIMIT UNLIMITED) sales_external;
</code></pre><p>Although no table named <code class="codeph">sales_external</code> was created previously, this query reads the external data and returns the results.
                        </p>
                        <div class="infoboxnote" id="GUID-621E5DDE-36D9-4661-9D14-80DE35858C3F__GUID-B2F9A4C6-EEA2-4CF4-9C94-060A50572ED7">
                           <p class="notep1">Note:</p>
                           <p>Inline external tables do not support partitioning. The query can control which directories and files to scan, so that pruning can be accomplished by omitting files that are not needed for the query.</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-F6948F0E-0557-4C42-9145-1897DE974CC3" title="External tables are the tables that do not reside in the database, but reside outside the database in external files, such as operating system files or Hadoop Distributed File System (HDFS) files.">Managing External Tables</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
               <div class="sect3"><a id="GUID-2A801016-0399-4925-AD1B-A02683E81B59" name="GUID-2A801016-0399-4925-AD1B-A02683E81B59"></a><h4 id="ADMIN-GUID-2A801016-0399-4925-AD1B-A02683E81B59" class="sect4"><span class="enumeration_section">20.15.7 </span>Partitioning External Tables
                  </h4>
                  <div>
                     <p>For large amounts of data, partitioning for external tables provides fast query performance and enhanced data maintenance.</p>
                  </div>
                  <div>
                     <ul class="ullinks">
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-AA3995EC-D147-464A-A9D3-680522B0A1B6">About Partitioning External Tables</a><br>Partitioning data in external tables is similar to partitioning tables stored in the database, but there are some differences. The files for the partitioned external table can be stored on a file system, in Apache Hive storage, or in a Hadoop&nbsp;Distributed File System (HDFS). 
                        </li>
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-43901AC6-BA21-4B1E-977C-41E031472E8D">Restrictions for Partitioned External Tables</a><br>Some restrictions apply to partitioned external tables. 
                        </li>
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-A20ABC65-3E62-46B8-90D2-85AE6A29697D">Creating a Partitioned External Table</a><br>You create a non-composite partitioned external table by issuing a <code class="codeph">CREATE TABLE</code> statement with the <code class="codeph">ORGANIZATION EXTERNAL</code> clause and the <code class="codeph">PARTITION BY</code> clause. To create a composite partitioned external table, the <code class="codeph">SUBPARTITION BY</code> clause must also be included.
                        </li>
                        <li class="ulchildlink"><a href="managing-tables.html#GUID-E731CB7E-0F74-43DA-93D8-B53E55651B8C">Altering a Partitioned External Table</a><br>You can use the <code class="codeph">ALTER TABLE</code> statement to modify table-level external parameters, but not the partition-level and subpartition-level parameters, of a partitioned external table.
                        </li>
                     </ul>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-F6948F0E-0557-4C42-9145-1897DE974CC3" title="External tables are the tables that do not reside in the database, but reside outside the database in external files, such as operating system files or Hadoop Distributed File System (HDFS) files.">Managing External Tables</a></p>
                        </div>
                     </div>
                  </div>
                  
                  <div class="sect4"><a id="GUID-AA3995EC-D147-464A-A9D3-680522B0A1B6" name="GUID-AA3995EC-D147-464A-A9D3-680522B0A1B6"></a><h5 id="ADMIN-GUID-AA3995EC-D147-464A-A9D3-680522B0A1B6" class="sect5"><span class="enumeration_section">20.15.7.1 </span>About Partitioning External Tables
                     </h5>
                     <div>
                        <p>Partitioning data in external tables is similar to partitioning tables stored in the database, but there are some differences. The files for the partitioned external table can be stored on a file system, in Apache Hive storage, or in a Hadoop&nbsp;Distributed File System (HDFS). </p>
                        <p>Before attempting to partition external tables, you should understand the concepts related to partitioning in <a href="../vldbg/partition-concepts.html#VLDBG-GUID-EA7EF5CB-DD49-43AF-889A-F83AAC0D7D51" target="_blank"><span><cite>Oracle Database VLDB and Partitioning Guide</cite></span></a>.
                        </p>
                        <p>The main reason to partition external tables is to take advantage of the same performance improvements provided by partitioning tables stored in the database. Specifically, partition pruning and partition-wise joins can improve query performance. Partition pruning means that queries can focus on a subset of the data in an external table instead of all of the data because the query can apply to only one partition. Partition-wise joins can be applied when two tables are being joined and both tables are partitioned on the join key, or when a reference partitioned table is joined with its parent table. Partition-wise joins break a large join into smaller joins that occur between each of the partitions, completing the overall join in less time.</p>
                        <p>Most of the partitioning strategies that are supported for tables in the database are supported for external tables. External tables can be partitioned by range or list, and composite partitioning is supported. However, hash partitioning is not supported for external tables.</p>
                        <p>For a partitioned table that is stored in the database, storage for each partition is specified with a tablespace. For a partitioned external table, storage for each partition is specified by indicating the directory and files for each partition.</p>
                        <div class="section">
                           <p class="subhead3" id="GUID-AA3995EC-D147-464A-A9D3-680522B0A1B6__GUID-42177466-C84E-42D3-988F-CA84466ADDF7">Clauses for Creating Partitioned External Tables</p>
                           <p>The clauses for creating a non-partitioned external table are the following:</p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p><code class="codeph">TYPE</code>&nbsp;- Specifies the access driver for the type of external table (<code class="codeph">ORACLE_LOADER</code>, <code class="codeph">ORACLE_DATAPUMP</code>, <code class="codeph">ORACLE_HIVE</code>, and <code class="codeph">ORACLE_HDFS</code>).
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">DEFAULT&nbsp;DIRECTORY</code>&nbsp;- Specifies with a directory object the default directory to use for all input and output files that do not explicitly name a directory object.&nbsp;
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">ACCESS&nbsp;PARAMETERS</code>&nbsp;- Describe the external data source.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">LOCATION</code>&nbsp;- Specifies the files for the external table.
                                 </p>
                              </li>
                              <li>
                                 <p><code class="codeph">REJECT LIMIT</code> - Specifies the number of errors that can occur during a query of the external data.
                                 </p>
                              </li>
                           </ul>
                           <p>When you create a partitioned external table, you must include a <code class="codeph">PARTITION</code> clause that defines each partition. The following table describes the clauses allowed at each level during external table creation.
                           </p>
                           <div class="tblformal" id="GUID-AA3995EC-D147-464A-A9D3-680522B0A1B6__GUID-DC5A13B4-EB08-42AB-A5C2-9DC5741A9753">
                              <p class="titleintable">Table 20-7 External Table Clauses and Partitioning</p>
                              <table cellpadding="4" cellspacing="0" class="Formal" title="External Table Clauses and Partitioning" summary="This table lists each external table clause and describes whether the clause is allowed at each level." frame="hsides" border="1" rules="rows">
                                 <thead>
                                    <tr align="left" valign="top">
                                       <th align="left" valign="bottom" id="d192334e21548">Clause</th>
                                       <th align="left" valign="bottom" id="d192334e21550">Table Level</th>
                                       <th align="left" valign="bottom" id="d192334e21552">Partition Level</th>
                                       <th align="left" valign="bottom" id="d192334e21554">Subpartition Level</th>
                                    </tr>
                                 </thead>
                                 <tbody>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d192334e21558" headers="d192334e21548 ">
                                          <p><code class="codeph">TYPE</code></p>
                                       </td>
                                       <td align="left" valign="top" headers="d192334e21558 d192334e21550 ">
                                          <p>Allowed</p>
                                       </td>
                                       <td align="left" valign="top" headers="d192334e21558 d192334e21552 ">
                                          <p>Not Allowed</p>
                                       </td>
                                       <td align="left" valign="top" headers="d192334e21558 d192334e21554 ">
                                          <p>Not Allowed</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d192334e21572" headers="d192334e21548 ">
                                          <p><code class="codeph">DEFAULT DIRECTORY</code></p>
                                       </td>
                                       <td align="left" valign="top" headers="d192334e21572 d192334e21550 ">
                                          <p>Allowed</p>
                                       </td>
                                       <td align="left" valign="top" headers="d192334e21572 d192334e21552 ">
                                          <p>Allowed</p>
                                       </td>
                                       <td align="left" valign="top" headers="d192334e21572 d192334e21554 ">
                                          <p>Allowed</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d192334e21586" headers="d192334e21548 ">
                                          <p><code class="codeph">ACCESS PARAMETERS</code></p>
                                       </td>
                                       <td align="left" valign="top" headers="d192334e21586 d192334e21550 ">
                                          <p>Allowed</p>
                                       </td>
                                       <td align="left" valign="top" headers="d192334e21586 d192334e21552 ">
                                          <p>Not Allowed</p>
                                       </td>
                                       <td align="left" valign="top" headers="d192334e21586 d192334e21554 ">
                                          <p>Not Allowed</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d192334e21600" headers="d192334e21548 ">
                                          <p><code class="codeph">LOCATION</code></p>
                                       </td>
                                       <td align="left" valign="top" headers="d192334e21600 d192334e21550 ">
                                          <p>Not allowed</p>
                                       </td>
                                       <td align="left" valign="top" headers="d192334e21600 d192334e21552 ">
                                          <p>Allowed</p>
                                       </td>
                                       <td align="left" valign="top" headers="d192334e21600 d192334e21554 ">
                                          <p>Allowed</p>
                                       </td>
                                    </tr>
                                    <tr align="left" valign="top">
                                       <td align="left" valign="top" id="d192334e21614" headers="d192334e21548 ">
                                          <p><code class="codeph">REJECT LIMIT</code></p>
                                       </td>
                                       <td align="left" valign="top" headers="d192334e21614 d192334e21550 ">
                                          <p>Allowed</p>
                                       </td>
                                       <td align="left" valign="top" headers="d192334e21614 d192334e21552 ">
                                          <p>Not allowed</p>
                                       </td>
                                       <td align="left" valign="top" headers="d192334e21614 d192334e21554 ">
                                          <p>Not allowed</p>
                                       </td>
                                    </tr>
                                 </tbody>
                              </table>
                           </div>
                           <!-- class="inftblhruleinformal" -->
                           <p>For a non-composite partitioned table, files for a partition must be specified in the <code class="codeph">LOCATION</code> clause for the partition. For a composite partitioned table, files for a subpartition must be specified  in the <code class="codeph">LOCATION</code> clause for the subpartition. When a partition has subpartitions, the <code class="codeph">LOCATION</code> clause can be specified for subpartitions but not for the partition. If the <code class="codeph">LOCATION</code> clause is omitted for a partition or subpartition, then an empty partition or subpartition is created.
                           </p>
                           <p>In the <code class="codeph">LOCATION</code> clause, the files are named in the form <code class="codeph"><span class="variable" translate="no">directory:file</span></code>, and one clause can specify multiple files. The <code class="codeph"><span class="variable" translate="no">directory</span></code> portion is optional. The following rules apply for the directory used by a partition or subpartition:
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>When a directory is specified in the <code class="codeph">LOCATION</code> clause for a partition or subpartition, then it applies to that location only.
                                 </p>
                              </li>
                              <li>
                                 <p>In the <code class="codeph">LOCATION</code> clause for a specific partition, for each file that does not have a directory specification, use the directory specified in the <code class="codeph">DEFAULT DIRECTORY</code> clause for the partition or table level, in order.
                                 </p>
                                 <p>For example, when the <code class="codeph">ORGANIZATION EXTERNAL</code> clause of a <code class="codeph">CREATE TABLE</code> statement includes a <code class="codeph">DEFAULT DIRECTORY</code> clause, and a <code class="codeph">PARTITION</code> clause in the statement does not specify a directory for a file in its <code class="codeph">LOCATION</code> clause, the file uses the directory specified in the <code class="codeph">DEFAULT DIRECTORY</code> clause for the table.
                                 </p>
                              </li>
                              <li>
                                 <p>In the <code class="codeph">LOCATION</code> clause for a specific subpartition, for each file that does not have a directory specification, use the directory specified in the <code class="codeph">DEFAULT DIRECTORY</code> clause for the subpartition, partition, or table level, in order.
                                 </p>
                                 <p>For example, when a <code class="codeph">PARTITION</code> clause includes a <code class="codeph">DEFAULT DIRECTORY</code> clause, and a <code class="codeph">SUBPARITION</code> clause in the partition does not specify a directory for a file in its <code class="codeph">LOCATION</code> clause, the file uses the directory specified in the <code class="codeph">DEFAULT DIRECTORY</code> clause for the partition.
                                 </p>
                              </li>
                              <li>
                                 <p>The default directory for a partition or subpartition cannot be specified in a <code class="codeph">LOCATION</code> clause. It can only be specified in a <code class="codeph">DEFAULT DIRECTORY</code> clause.
                                 </p>
                              </li>
                           </ul>
                           <div class="infoboxnotealso" id="GUID-AA3995EC-D147-464A-A9D3-680522B0A1B6__GUID-0C31211C-13F0-46FE-A654-95338B67FCAF">
                              <p class="notep1">See Also:</p><a href="managing-tables.html#GUID-A20ABC65-3E62-46B8-90D2-85AE6A29697D__GUID-EEC4D7A8-208C-4626-91DE-4105F607D531">Example 20-23</a> illustrates the directory rules
                           </div>
                        </div>
                        <!-- class="section" -->
                        <div class="section">
                           <p class="subhead3" id="GUID-AA3995EC-D147-464A-A9D3-680522B0A1B6__GUID-DCA1D4FB-8A3E-4E0E-B72F-67C172A5C7F6">Using the ORACLE_HIVE Access Driver</p>
                           <p>Apache Hive has its own partitioning. To create partitioned external tables, use the <code class="codeph">CREATE_EXTDDL_FOR_HIVE</code> procedure in the <code class="codeph">DBMS_HADOOP</code> package. This procedure generates data definition language (DDL) statements that you can use to create a partitioned external table that corresponds with the partitioning in the Apache Hive storage.
                           </p>
                           <p>The <code class="codeph">DBMS_HADOOP</code> package also includes the <code class="codeph">SYNC_PARTITIONS_FOR_HIVE</code> procedure. This procedure automatically synchronizes the partitioning of the partitioned external table in the Apache Hive storage with the partitioning metadata of the same table stored in the Oracle Database.
                           </p>
                        </div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="relinfo">
                           <p><strong>Related Topics</strong></p>
                           <ul>
                              <li><a href="managing-tables.html#GUID-84C934CC-2116-482A-B47A-558F643437DC" title="You can modify an external table with the ALTER TABLE statement.">Altering External Tables</a></li>
                              <li><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=SUTIL-GUID-74478A87-C89A-47E1-A8BF-DA556A3C2115" target="_blank"><span><cite>Oracle Database Utilities</cite></span></a></li>
                              <li><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=ARPLS-GUID-3900B7D4-E4AE-4CAB-8D21-4E53FF8D40D5" target="_blank"><span><cite>Oracle Database PL/SQL Packages and Types Reference</cite></span></a></li>
                           </ul>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-2A801016-0399-4925-AD1B-A02683E81B59" title="For large amounts of data, partitioning for external tables provides fast query performance and enhanced data maintenance.">Partitioning External Tables</a></p>
                           </div>
                        </div>
                     </div>
                  </div>
                  <div class="sect4"><a id="GUID-43901AC6-BA21-4B1E-977C-41E031472E8D" name="GUID-43901AC6-BA21-4B1E-977C-41E031472E8D"></a><h5 id="ADMIN-GUID-43901AC6-BA21-4B1E-977C-41E031472E8D" class="sect5"><span class="enumeration_section">20.15.7.2 </span>Restrictions for Partitioned External Tables
                     </h5>
                     <div>
                        <p>Some restrictions apply to partitioned external tables. </p>
                        <p>The following are restrictions for partitioned external tables:</p>
                        <ul style="list-style-type: disc;">
                           <li>
                              <p>All restrictions that apply to non-partitioned external tables also apply to partitioned external tables.</p>
                           </li>
                           <li>
                              <p>Partitioning restrictions that apply to tables stored in the database also apply to partitioned external tables, such as the maximum number of partitions.</p>
                           </li>
                           <li>
                              <p>Oracle Database cannot guarantee that the external files for partitions contain data that satisfies partitioning definitions. </p>
                           </li>
                           <li>
                              <p>Only the <code class="codeph">DEFAULT DIRECTORY</code> and <code class="codeph">LOCATION</code> clauses can be specified in a <code class="codeph">PARTITION</code> or <code class="codeph">SUBPARTITION</code> clause.
                              </p>
                           </li>
                           <li>
                              <p>When altering a partitioned external table with the <code class="codeph">ALTER TABLE</code> statement, the following clauses are not supported: <code class="codeph">MODIFY PARTITION</code>, <code class="codeph">EXCHANGE PARTITION</code>, <code class="codeph">MOVE PARTITION</code>, <code class="codeph">MERGE PARTITIONS</code>, <code class="codeph">SPLIT PARTITION</code>, <code class="codeph">COALESCE PARTITION</code>, and <code class="codeph">TRUNCATE PARTITION</code>. 
                              </p>
                           </li>
                           <li>
                              <p>Reference partitioning, automatic list partitioning, and interval partitioning are not supported.</p> 
                           </li>
                           <li>
                              <p>Subpartition templates are not supported.</p>
                           </li>
                           <li>
                              <p>The <code class="codeph">ORACLE_DATAPUMP</code> access driver cannot populate external files for partitions using a <code class="codeph">CREATE TABLE AS SELECT</code> statement.
                              </p>
                           </li>
                           <li>
                              <p>Incremental statistics are not gathered for partitioned external tables.</p>
                           </li>
                           <li>
                              <p>In addition to restrictions on partitioning methods that can be used for the other drivers,&nbsp;range and composite partitioning are not supported for the <code class="codeph">ORACLE_HIVE</code> access driver.
                              </p>
                           </li>
                           <li>
                              <p>A <code class="codeph">SELECT</code> statement with the <code class="codeph">EXTERNAL MODIFY</code> clause cannot override partition-level or subpartition-level clauses. Only external clauses supported at the table level can be overridden with the <code class="codeph">EXTERNAL MODIFY</code> clause. Because the <code class="codeph">LOCATION</code> clause is not allowed at the table level for a partitioned external table, it cannot be overridden with the <code class="codeph">EXTERNAL MODIFY</code> clause.
                              </p>
                           </li>
                        </ul>
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-43901AC6-BA21-4B1E-977C-41E031472E8D__GUID-8E3B0300-71DA-4BF2-8644-F16DC7B17B01">
                           <p class="notep1">See Also:</p>
                           <div class="p">
                              <ul style="list-style-type: disc;">
                                 <li>
                                    <p><span class="q">"<a href="managing-tables.html#GUID-697B86CC-875C-4F68-AF80-49B41F33AE45" title="Oracle Database allows you read-only access to data in external tables. External tables are defined as tables that do not reside in the database, and they can be in any format for which an access driver is provided.">About External Tables</a>"</span></p>
                                 </li>
                                 <li>
                                    <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=SQLRF01402" target="_blank"><span class="italic">Oracle Database SQL Language Reference</span></a> provides details of the syntax of the <code class="codeph">CREATE TABLE</code> statement for creating external tables and specifies restrictions on the use of clauses 
                                    </p>
                                 </li>
                              </ul>
                           </div>
                        </div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-2A801016-0399-4925-AD1B-A02683E81B59" title="For large amounts of data, partitioning for external tables provides fast query performance and enhanced data maintenance.">Partitioning External Tables</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-A20ABC65-3E62-46B8-90D2-85AE6A29697D" name="GUID-A20ABC65-3E62-46B8-90D2-85AE6A29697D"></a><h5 id="ADMIN-GUID-A20ABC65-3E62-46B8-90D2-85AE6A29697D" class="sect5"><span class="enumeration_section">20.15.7.3 </span>Creating a Partitioned External Table
                     </h5>
                     <div>
                        <p>You create a non-composite partitioned external table by issuing a <code class="codeph">CREATE TABLE</code> statement with the <code class="codeph">ORGANIZATION EXTERNAL</code> clause and the <code class="codeph">PARTITION BY</code> clause. To create a composite partitioned external table, the <code class="codeph">SUBPARTITION BY</code> clause must also be included.
                        </p>
                        <div class="section"> 
                           <p>The <code class="codeph">PARTITION BY</code> clause and the <code class="codeph">SUBPARTITION BY</code> clause specify the locations of the external files for each partition and subpartition.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <div class="p">To create a partitioned external table, the database must be at 12.2.0 compatibility level or higher.</div>
                        <!-- class="section" -->
                        <ol>
                           <li class="stepexpand"><span>Connect to the database as a user with the privileges required to create the external table.</span><div>See <a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=SQLRF01402" target="_blank"><span><cite>Oracle Database SQL Language Reference</cite></span></a> for information about the required privileges.
                              </div>
                           </li>
                           <li class="stepexpand"><span>Issue a <code class="codeph">CREATE TABLE</code> statement with the <code class="codeph">ORGANIZATION EXTERNAL</code> clause and the <code class="codeph">PARTITION BY</code> clause. For a composite partitioned table, include the <code class="codeph">SUBPARTITION BY</code> clause also.</span></li>
                        </ol>
                        <div class="example" id="GUID-A20ABC65-3E62-46B8-90D2-85AE6A29697D__GUID-CDA8C3EB-03D8-4E30-969F-4D799CA51480">
                           <p class="titleinexample">Example 20-22 Creating a Partitioned External Table with Access Parameters Common to All Partitions</p>
                           <p>This example creates an external table named <code class="codeph">orders_external_range</code> that is partitioned by the date data in the <code class="codeph">order_date</code> column. The <code class="codeph">ACCESS PARAMETERS</code> clause is specified at the table level for the <code class="codeph">ORACLE_LOADER</code> access driver. The <code class="codeph">data_dir1</code> directory object is the default directory object used for the partitions <code class="codeph">month1</code>, <code class="codeph">month2</code>, and <code class="codeph">month3</code>. The <code class="codeph">pmax</code> partition specifies the <code class="codeph">data_dir2</code> directory object in the <code class="codeph">DEFAULT DIRECTORY</code> clause, so the <code class="codeph">data_dir2</code> directory object is used for the <code class="codeph">pmax</code> partition.
                           </p><pre class="pre codeblock"><code>-- Set up directories and grant access to oe
CREATE OR REPLACE DIRECTORY data_dir1
    AS '/flatfiles/data1'; 
CREATE OR REPLACE DIRECTORY data_dir2 
    AS '/flatfiles/data2'; 
CREATE OR REPLACE DIRECTORY bad_dir 
    AS '/flatfiles/bad'; 
CREATE OR REPLACE DIRECTORY log_dir 
    AS '/flatfiles/log'; 
GRANT READ ON DIRECTORY data_dir1 TO oe; 
GRANT READ ON DIRECTORY data_dir2 TO oe; 
GRANT WRITE ON DIRECTORY bad_dir TO oe; 
GRANT WRITE ON DIRECTORY log_dir TO oe; 
-- oe connects. Provide the user password (oe) when prompted.
CONNECT oe
-- create the partitioned external table
CREATE TABLE orders_external_range(
    order_id           NUMBER(12),
    order_date         DATE NOT NULL,
    customer_id        NUMBER(6) NOT NULL,
    order_status       NUMBER(2),
    order_total        NUMBER(8,2),
    sales_rep_id       NUMBER(6))
ORGANIZATION EXTERNAL(
   TYPE ORACLE_LOADER
   DEFAULT DIRECTORY data_dir1
   ACCESS PARAMETERS(
      RECORDS DELIMITED BY NEWLINE
      BADFILE bad_dir: 'sh%a_%p.bad'
      LOGFILE log_dir: 'sh%a_%p.log'
      FIELDS TERMINATED BY '|'
      MISSING FIELD VALUES ARE NULL))
PARALLEL
REJECT LIMIT UNLIMITED
PARTITION BY RANGE (order_date)
  (PARTITION month1 VALUES LESS THAN (TO_DATE('31-12-2014', 'DD-MM-YYYY'))
        LOCATION ('sales_1.csv'),
    PARTITION month2 VALUES LESS THAN (TO_DATE('31-01-2015', 'DD-MM-YYYY'))
        LOCATION ('sales_2.csv'),
    PARTITION month3 VALUES LESS THAN (TO_DATE('28-02-2015', 'DD-MM-YYYY'))
        LOCATION ('sales_3.csv'),
    PARTITION pmax VALUES LESS THAN (MAXVALUE)
        DEFAULT DIRECTORY data_dir2 LOCATION('sales_4.csv'));</code></pre><p>In the previous example, the default directory <code class="codeph">data_dir2</code> is specified for the <code class="codeph">pmax</code> partition. You can also specify the directory for a specific location in this partition in the <code class="codeph">LOCATION</code> clause in the following way:
                           </p><pre class="pre codeblock"><code>PARTITION pmax VALUES LESS THAN (MAXVALUE)
   LOCATION ('data_dir2:sales_4.csv')</code></pre><p>Note that, in this case, the directory <code class="codeph">data_dir2</code> is specified for the location <code class="codeph">sales_4.csv</code>, but the <code class="codeph">data_dir2</code> directory is not the default directory for the partition. Therefore, the default directory for the <code class="codeph">pmax</code> partition is the same as the default directory for the table, which is <code class="codeph">data_dir1</code>.
                           </p>
                        </div>
                        <!-- class="example" -->
                        <div class="example" id="GUID-A20ABC65-3E62-46B8-90D2-85AE6A29697D__GUID-EEC4D7A8-208C-4626-91DE-4105F607D531">
                           <p class="titleinexample">Example 20-23 Creating a Composite List-Range Partitioned External Table</p>
                           <p>This example creates an external table named <code class="codeph">accounts</code> that is partitioned by the data in the <code class="codeph">region</code> column. This partition is subpartitioned using range on the data in the <code class="codeph">balance</code> column. The <code class="codeph">ACCESS PARAMETERS</code> clause is specified at the table level for the <code class="codeph">ORACLE_LOADER</code> access driver. A <code class="codeph">LOCATION</code> clause is specified for each subpartition.
                           </p>
                           <p>There is a table-level <code class="codeph">DEFAULT DIRECTORY</code> clause set to the <code class="codeph">data_dir1</code> directory object, and this directory object is used for all of the subpartitions, except for the following: 
                           </p>
                           <ul style="list-style-type: disc;">
                              <li>
                                 <p>There is a partition-level <code class="codeph">DEFAULT DIRECTORY</code> clause set to the <code class="codeph">data_dir2</code> directory object for partition <code class="codeph">p_southcentral</code>. In that partition, the following subpartitions use this default directory: <code class="codeph">p_sc_low</code>, <code class="codeph">p_sc_high</code>, and <code class="codeph">p_sc_extraordinary</code>.
                                 </p>
                              </li>
                              <li>
                                 <p>In partition <code class="codeph">p_southcentral</code>, the subpartition <code class="codeph">p_sc_average</code> has a subpartition-level <code class="codeph">DEFAULT DIRECTORY</code> clause set to the <code class="codeph">data_dir3</code> directory object, and this subpartition uses the <code class="codeph">data_dir3</code> directory object.
                                 </p>
                              </li>
                              <li>
                                 <p>As previously stated, the default directory for the <code class="codeph">p_sc_high</code> subpartition is <code class="codeph">data_dir2</code>. The <code class="codeph">p_sc_high</code> subpartition does not have a <code class="codeph">DEFAULT DIRECTORY</code> clause, and the default directory <code class="codeph">data_dir2</code> is inherited from the <code class="codeph">DEFAULT DIRECTORY</code> specified in the <code class="codeph">PARTITION BY</code> clause for the partition <code class="codeph">p_southcentral</code>. The files in the <code class="codeph">p_sc_high</code> subpartition use the following directories:
                                 </p>
                                 <ul style="list-style-type: disc;">
                                    <li>
                                       <p>The <code class="codeph">psch1.csv</code> file uses <code class="codeph">data_dir2</code>, the default directory for the subpartition.
                                       </p>
                                    </li>
                                    <li>
                                       <p>The <code class="codeph">psch2.csv</code> file uses the <code class="codeph">data_dir4</code> directory because the <code class="codeph">data_dir4</code> directory is specified for that location.
                                       </p>
                                    </li>
                                 </ul>
                              </li>
                           </ul><pre class="pre codeblock"><code>-- Set up the directories and grant access to oe
CREATE OR REPLACE DIRECTORY data_dir1
    AS '/stage/data1_dir';
CREATE OR REPLACE DIRECTORY data_dir2
    AS '/stage/data2_dir';
CREATE OR REPLACE DIRECTORY data_dir3
    AS '/stage/data3_dir';
CREATE OR REPLACE DIRECTORY data_dir4
    AS '/stage/data4_dir';
CREATE OR REPLACE DIRECTORY bad_dir 
    AS '/stage/bad_dir'; 
CREATE OR REPLACE DIRECTORY log_dir 
    AS '/stage/log_dir';
GRANT READ ON DIRECTORY data_dir1 TO oe;
GRANT READ ON DIRECTORY data_dir2 TO oe;
GRANT READ ON DIRECTORY data_dir3 TO oe;
GRANT READ ON DIRECTORY data_dir4 TO oe;
GRANT WRITE ON DIRECTORY bad_dir TO oe; 
GRANT WRITE ON DIRECTORY log_dir TO oe; 
-- oe connects. Provide the user password (oe) when prompted.
CONNECT oe
-- create the partitioned external table
CREATE TABLE accounts
( id             NUMBER,
  account_number NUMBER,
  customer_id    NUMBER,
  balance        NUMBER,
  branch_id      NUMBER,
  region         VARCHAR(2),
  status         VARCHAR2(1)
)
ORGANIZATION EXTERNAL(
   TYPE ORACLE_LOADER
   DEFAULT DIRECTORY data_dir1
   ACCESS PARAMETERS(
      RECORDS DELIMITED BY NEWLINE
      BADFILE bad_dir: 'sh%a_%p.bad'
      LOGFILE log_dir: 'sh%a_%p.log'
      FIELDS TERMINATED BY '|'
      MISSING FIELD VALUES ARE NULL))
PARALLEL
REJECT LIMIT UNLIMITED
PARTITION BY LIST (region)
SUBPARTITION BY RANGE (balance)
( PARTITION p_northwest VALUES ('OR', 'WA') 
  ( SUBPARTITION p_nw_low VALUES LESS THAN (1000) LOCATION ('pnwl.csv'),
    SUBPARTITION p_nw_average VALUES LESS THAN (10000) LOCATION ('pnwa.csv'),
    SUBPARTITION p_nw_high VALUES LESS THAN (100000) LOCATION ('pnwh.csv'),
    SUBPARTITION p_nw_extraordinary VALUES LESS THAN (MAXVALUE) LOCATION ('pnwe.csv')
  ),
  PARTITION p_southwest VALUES ('AZ', 'UT', 'NM')
  ( SUBPARTITION p_sw_low VALUES LESS THAN (1000) LOCATION ('pswl.csv'),
    SUBPARTITION p_sw_average VALUES LESS THAN (10000) LOCATION ('pswa.csv'),
    SUBPARTITION p_sw_high VALUES LESS THAN (100000) LOCATION ('pswh.csv'),
    SUBPARTITION p_sw_extraordinary VALUES LESS THAN (MAXVALUE) LOCATION ('pswe.csv')
  ),
  PARTITION p_northeast VALUES ('NY', 'VM', 'NJ')
  ( SUBPARTITION p_ne_low VALUES LESS THAN (1000) LOCATION ('pnel.csv'),
    SUBPARTITION p_ne_average VALUES LESS THAN (10000) LOCATION ('pnea.csv'),
    SUBPARTITION p_ne_high VALUES LESS THAN (100000) LOCATION ('pneh.csv'),
    SUBPARTITION p_ne_extraordinary VALUES LESS THAN (MAXVALUE) LOCATION ('pnee.csv')
  ),
  PARTITION p_southeast VALUES ('FL', 'GA')
  ( SUBPARTITION p_se_low VALUES LESS THAN (1000) LOCATION ('psel.csv'),
    SUBPARTITION p_se_average VALUES LESS THAN (10000) LOCATION ('psea.csv'),
    SUBPARTITION p_se_high VALUES LESS THAN (100000) LOCATION ('pseh.csv'),
    SUBPARTITION p_se_extraordinary VALUES LESS THAN (MAXVALUE) LOCATION ('psee.csv')
  ),
  PARTITION p_northcentral VALUES ('SD', 'WI')
  ( SUBPARTITION p_nc_low VALUES LESS THAN (1000) LOCATION ('pncl.csv'),
    SUBPARTITION p_nc_average VALUES LESS THAN (10000) LOCATION ('pnca.csv'),
    SUBPARTITION p_nc_high VALUES LESS THAN (100000) LOCATION ('pnch.csv'),
    SUBPARTITION p_nc_extraordinary VALUES LESS THAN (MAXVALUE) LOCATION ('pnce.csv')
  ),
  PARTITION p_southcentral VALUES ('OK', 'TX') DEFAULT DIRECTORY data_dir2
  ( SUBPARTITION p_sc_low VALUES LESS THAN (1000) LOCATION ('pscl.csv'),
    SUBPARTITION p_sc_average VALUES LESS THAN (10000) 
       DEFAULT DIRECTORY data_dir3 LOCATION ('psca.csv'),
    SUBPARTITION p_sc_high VALUES LESS THAN (100000) 
       LOCATION ('psch1.csv','data_dir4:psch2.csv'),
    SUBPARTITION p_sc_extraordinary VALUES LESS THAN (MAXVALUE) 
       LOCATION ('psce.csv')
  )
);
</code></pre></div>
                        <!-- class="example" -->
                        <div class="section"></div>
                        <!-- class="section" -->
                     </div>
                     <div>
                        <div class="infoboxnotealso" id="GUID-A20ABC65-3E62-46B8-90D2-85AE6A29697D__GUID-D1914939-33E0-4441-8119-11F4EC0C6CAC">
                           <p class="notep1">See Also:</p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=VLDBG-GUID-09CFA3CD-66B7-4CDF-A086-6958D113BDD1" target="_blank"><span><cite>Oracle Database VLDB and Partitioning Guide</cite></span></a></div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-2A801016-0399-4925-AD1B-A02683E81B59" title="For large amounts of data, partitioning for external tables provides fast query performance and enhanced data maintenance.">Partitioning External Tables</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
                  <div class="sect4"><a id="GUID-E731CB7E-0F74-43DA-93D8-B53E55651B8C" name="GUID-E731CB7E-0F74-43DA-93D8-B53E55651B8C"></a><h5 id="ADMIN-GUID-E731CB7E-0F74-43DA-93D8-B53E55651B8C" class="sect5"><span class="enumeration_section">20.15.7.4 </span>Altering a Partitioned External Table
                     </h5>
                     <div>
                        <p>You can use the <code class="codeph">ALTER TABLE</code> statement to modify table-level external parameters, but not the partition-level and subpartition-level parameters, of a partitioned external table.
                        </p>
                        <div class="section">
                           <p>The locations of external files are specified in the <code class="codeph">PARTITION BY</code> and <code class="codeph">SUBPARTITION BY</code> clauses. External files for a partition are specified in the partition’s <code class="codeph">PARTITION BY</code> clause. External files for a subpartition are specified in the subpartition's <code class="codeph">SUBPARTITION BY</code> clause.
                           </p>
                           <p>The only exception is that the <code class="codeph">LOCATION</code> clause cannot be specified at the table level during the creation of a partitioned external table. Therefore, the <code class="codeph">LOCATION</code> clause cannot be added at the table level in an <code class="codeph">ALTER TABLE</code> statement that modifies a partitioned external table.
                           </p>
                           <p>At the partition level, only <code class="codeph">ADD</code>, <code class="codeph">DROP</code>, and <code class="codeph">RENAME</code> operations are supported. An <code class="codeph">ALTER TABLE</code> statement cannot modify the attributes of existing partitions and subpartitions. However, you can include the <code class="codeph">DEFAULT DIRECTORY</code> and <code class="codeph">LOCATION</code> clauses in a <code class="codeph">PARTITION</code> clause or <code class="codeph">SUBPARTITION</code> clause when you add a new partition or subpartition.
                           </p>
                        </div>
                        <!-- class="section" -->
                        <ol>
                           <li><span>Connect to the database as a user with the privileges required to alter the external table.</span></li>
                           <li><span>Issue an <code class="codeph">ALTER TABLE</code> statement.</span></li>
                        </ol>
                        <div class="example" id="GUID-E731CB7E-0F74-43DA-93D8-B53E55651B8C__GUID-CDA8C3EB-03D8-4E30-969F-4D799CA51480">
                           <p class="titleinexample">Example 20-24 Renaming a Partition of a Partitioned External Table</p>
                           <p>This example renames a partition of the partitioned external table named <code class="codeph">orders_external_range</code>.
                           </p><pre class="pre codeblock"><code>ALTER TABLE orders_external_range RENAME PARTITION pmax TO other_months;</code></pre></div>
                        <!-- class="example" -->
                     </div>
                     <div>
                        <div class="familylinks">
                           <div class="parentlink">
                              <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-2A801016-0399-4925-AD1B-A02683E81B59" title="For large amounts of data, partitioning for external tables provides fast query performance and enhanced data maintenance.">Partitioning External Tables</a></p>
                           </div>
                        </div>
                     </div>
                     
                  </div>
               </div><a id="ADMIN11707"></a><div class="props_rev_3"><a id="GUID-8467E062-FBC3-4BC9-B7E9-BF56B31B419E" name="GUID-8467E062-FBC3-4BC9-B7E9-BF56B31B419E"></a><h4 id="ADMIN-GUID-8467E062-FBC3-4BC9-B7E9-BF56B31B419E" class="sect4"><span class="enumeration_section">20.15.8 </span>Dropping External Tables
                  </h4>
                  <p>For an external table, the <code class="codeph">DROP</code> <code class="codeph">TABLE</code> statement removes only the table metadata in the database. It has no affect on the actual data, which resides outside of the database.
                  </p>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-F6948F0E-0557-4C42-9145-1897DE974CC3" title="External tables are the tables that do not reside in the database, but reside outside the database in external files, such as operating system files or Hadoop Distributed File System (HDFS) files.">Managing External Tables</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div><a id="ADMIN11708"></a><div class="props_rev_3"><a id="GUID-C5B61599-74AA-4004-AFCD-1A95B3BA11C2" name="GUID-C5B61599-74AA-4004-AFCD-1A95B3BA11C2"></a><h4 id="ADMIN-GUID-C5B61599-74AA-4004-AFCD-1A95B3BA11C2" class="sect4"><span class="enumeration_section">20.15.9 </span>System and Object Privileges for External Tables
                  </h4>
                  <div>
                     <p>System and object privileges for external tables are a subset of those for regular table.</p>
                     <p>Only the following system privileges are applicable to external tables:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">ALTER</code> <code class="codeph">ANY</code> <code class="codeph">TABLE</code> 
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">CREATE</code> <code class="codeph">ANY</code> <code class="codeph">TABLE</code> 
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">DROP</code> <code class="codeph">ANY</code> <code class="codeph">TABLE</code> 
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">READ</code> <code class="codeph">ANY</code> <code class="codeph">TABLE</code> 
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">SELECT</code> <code class="codeph">ANY</code> <code class="codeph">TABLE</code> 
                           </p>
                        </li>
                     </ul>
                     <p>Only the following object privileges are applicable to external tables:</p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">ALTER</code> 
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">READ</code> 
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">SELECT</code> 
                           </p>
                        </li>
                     </ul>
                     <p>However, object privileges associated with a directory are: </p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><code class="codeph">READ</code> 
                           </p>
                        </li>
                        <li>
                           <p><code class="codeph">WRITE</code> 
                           </p>
                        </li>
                     </ul>
                     <p>For external tables, <code class="codeph">READ</code> privileges are required on directory objects that contain data sources, while <code class="codeph">WRITE</code> privileges are required for directory objects containing bad, log, or discard files.
                     </p>
                  </div>
                  <div>
                     <div class="familylinks">
                        <div class="parentlink">
                           <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-F6948F0E-0557-4C42-9145-1897DE974CC3" title="External tables are the tables that do not reside in the database, but reside outside the database in external files, such as operating system files or Hadoop Distributed File System (HDFS) files.">Managing External Tables</a></p>
                        </div>
                     </div>
                  </div>
                  
               </div>
            </div>
            <div class="props_rev_3"><a id="GUID-FB55B947-2599-4D0E-8971-E05F49F6AF28" name="GUID-FB55B947-2599-4D0E-8971-E05F49F6AF28"></a><h3 id="ADMIN-GUID-FB55B947-2599-4D0E-8971-E05F49F6AF28" class="sect3"><span class="enumeration_section">20.16 </span>Managing Hybrid Partitioned Tables
               </h3>
               <div>
                  <p>A hybrid partitioned table is a partitioned table in which some partitions reside in the database and some partitions reside outside the database in external files, such as operating system files or Hadoop&nbsp;Distributed File System (HDFS) files.</p>
                  <div class="infoboxnote" id="GUID-FB55B947-2599-4D0E-8971-E05F49F6AF28__GUID-3D688EF4-D2A4-427B-816B-1EE4AF8055F8">
                     <p class="notep1">Note:</p>
                     <p>The restrictions that apply to external tables also apply to hybrid partitioned tables.</p>
                  </div>
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-FB55B947-2599-4D0E-8971-E05F49F6AF28__GUID-1170381B-9829-40F7-8D08-EBE96ECEF42E">
                     <p class="notep1">See Also:</p>
                     <ul style="list-style-type: disc;" id="GUID-FB55B947-2599-4D0E-8971-E05F49F6AF28__UL_EQM_ZLT_2GB">
                        <li><span class="q">"<a href="managing-tables.html#GUID-2A801016-0399-4925-AD1B-A02683E81B59" title="For large amounts of data, partitioning for external tables provides fast query performance and enhanced data maintenance.">Partitioning External Tables</a>"</span></li>
                        <li>
                           <p><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=VLDBG-GUID-C2B04585-BCFC-40D6-AFAB-47DF99A31C76" target="_blank"><span class="italic">Oracle Database VLDB and Partitioning Guide</span></a> for more information about managing hybrid partitioned tables
                           </p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-707B02F5-E589-4C20-8E2E-5ED4F7888702" title="Managing tables includes tasks such as creating tables, loading tables, altering tables, and dropping tables.">Managing Tables</a></p>
                     </div>
                  </div>
               </div>
               
            </div><a id="ADMIN12643"></a><a id="ADMIN01508"></a><div class="props_rev_3"><a id="GUID-9E47D91A-E1F2-42F7-8704-1571B34C0410" name="GUID-9E47D91A-E1F2-42F7-8704-1571B34C0410"></a><h3 id="ADMIN-GUID-9E47D91A-E1F2-42F7-8704-1571B34C0410" class="sect3"><span class="enumeration_section">20.17 </span>Tables Data Dictionary Views 
               </h3>
               <div>
                  <p>You can query a set of data dictionary views for information about tables.</p>
                  <div class="section">
                     <div class="tblformal" id="GUID-9E47D91A-E1F2-42F7-8704-1571B34C0410__GUID-B50A3582-3F23-429B-8F68-497909C32DD4">
                        <table cellpadding="4" cellspacing="0" class="Formal" title="" summary="Column 1 lists the names of views that can be used to access information about tables. Column 2 describes the view." width="100%" frame="hsides" border="1" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="33%" id="d192334e22660">View</th>
                                 <th align="left" valign="bottom" width="67%" id="d192334e22663">Description</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d192334e22668" headers="d192334e22660 ">
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN23286" target="_blank">DBA_TABLES</a></code> 
                                    </p>
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN20286" target="_blank">ALL_TABLES</a></code> 
                                    </p>
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN26286" target="_blank">USER_TABLES</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="67%" headers="d192334e22668 d192334e22663 ">
                                    <p><code class="codeph">DBA</code> view describes all relational tables in the database. <code class="codeph">ALL</code> view describes all tables accessible to the user. <code class="codeph">USER</code> view is restricted to tables owned by the user. Some columns in these views contain statistics that are generated by the <code class="codeph">DBMS_STATS</code> package or <code class="codeph">ANALYZE</code> statement.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d192334e22705" headers="d192334e22660 ">
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN23277" target="_blank">DBA_TAB_COLUMNS</a></code> 
                                    </p>
                                    <p><code class="codeph"><a href="../refrn/ALL_TAB_COLUMNS.html#REFRN20277" target="_blank">ALL_TAB_COLUMNS</a></code> 
                                    </p>
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN26277" target="_blank">USER_TAB_COLUMNS</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="67%" headers="d192334e22705 d192334e22663 ">
                                    <p>These views describe the columns of tables, views, and clusters in the database. Some columns in these views contain statistics that are generated by the <code class="codeph">DBMS_STATS</code> package or <code class="codeph">ANALYZE</code> statement.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d192334e22734" headers="d192334e22660 ">
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN23003" target="_blank">DBA_ALL_TABLES</a></code> 
                                    </p>
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN20003" target="_blank">ALL_ALL_TABLES</a></code> 
                                    </p>
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN26003" target="_blank">USER_ALL_TABLES</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="67%" headers="d192334e22734 d192334e22663 ">
                                    <p>These views describe all relational and object tables in the database. Object tables are not specifically discussed in this book.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d192334e22757" headers="d192334e22660 ">
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN23278" target="_blank">DBA_TAB_COMMENTS</a></code> 
                                    </p>
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN20278" target="_blank">ALL_TAB_COMMENTS</a></code> 
                                    </p>
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN26278" target="_blank">USER_TAB_COMMENTS</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="67%" headers="d192334e22757 d192334e22663 ">
                                    <p>These views display comments for tables and views. Comments are entered using the <code class="codeph">COMMENT</code> statement.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d192334e22783" headers="d192334e22660 ">
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN23040" target="_blank">DBA_COL_COMMENTS</a></code> 
                                    </p>
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN20040" target="_blank">ALL_COL_COMMENTS</a></code> 
                                    </p>
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN26040" target="_blank">USER_COL_COMMENTS</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="67%" headers="d192334e22783 d192334e22663 ">
                                    <p>These views display comments for table and view columns. Comments are entered using the <code class="codeph">COMMENT</code> statement.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d192334e22809" headers="d192334e22660 ">
                                    <p><code class="codeph"><a href="../refrn/DBA_EXTERNAL_TABLES.html#REFRN23074" target="_blank">DBA_EXTERNAL_TABLES</a></code> 
                                    </p>
                                    <p><code class="codeph"><a href="../refrn/ALL_EXTERNAL_TABLES.html#REFRN20074" target="_blank">ALL_EXTERNAL_TABLES</a></code> 
                                    </p>
                                    <p><code class="codeph"><a href="../refrn/USER_EXTERNAL_TABLES.html#REFRN26074" target="_blank">USER_EXTERNAL_TABLES</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="67%" headers="d192334e22809 d192334e22663 ">
                                    <p>These views list the specific attributes of external tables in the database. </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d192334e22832" headers="d192334e22660 ">
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN23073" target="_blank">DBA_EXTERNAL_LOCATIONS</a></code> 
                                    </p>
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN20073" target="_blank">ALL_EXTERNAL_LOCATIONS</a></code> 
                                    </p>
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN26073" target="_blank">USER_EXTERNAL_LOCATIONS</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="67%" headers="d192334e22832 d192334e22663 ">
                                    <p>These views list the data sources for external tables.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d192334e22855" headers="d192334e22660 ">
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN-GUID-AF3D6082-FB4E-4CDC-A03E-07462B706499" target="_blank">DBA_XTERNAL_PART_TABLES</a></code> 
                                    </p>
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN-GUID-9EE228C3-2FEF-4F78-888F-01DAB9350586" target="_blank">ALL_XTERNAL_PART_TABLES</a></code> 
                                    </p>
                                    <p><code class="codeph"><a href="../refrn/USER_XTERNAL_PART_TABLES.html#REFRN-GUID-39704779-342F-4DCC-AE23-02EFAAB8FCDF" target="_blank">USER_XTERNAL_PART_TABLES</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="67%" headers="d192334e22855 d192334e22663 ">
                                    <p>These views list the specific attributes of partitioned external tables in the database. </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d192334e22878" headers="d192334e22660 ">
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN-GUID-05276931-0DD9-4393-858B-D2F0FC394BB8" target="_blank">DBA_XTERNAL_TAB_PARTITIONS</a></code> 
                                    </p>
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN-GUID-31E8F336-229E-4C77-9686-283E442D96CC" target="_blank">ALL_XTERNAL_TAB_PARTITIONS</a></code> 
                                    </p>
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN-GUID-778FC05D-E62E-4052-8AF5-72B1AFA535C2" target="_blank">USER_XTERNAL_TAB_PARTITIONS</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="67%" headers="d192334e22878 d192334e22663 ">
                                    <p>These views list the partition-level information for partitioned external tables in the database. </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d192334e22901" headers="d192334e22660 ">
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN-GUID-EE3CEBBC-4D70-499D-9233-512287C80E69" target="_blank">DBA_XTERNAL_TAB_SUBPARTITIONS</a></code> 
                                    </p>
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN-GUID-A3AAB0D5-754D-4F71-80E5-FD488D160FA7" target="_blank">ALL_XTERNAL_TAB_SUBPARTITIONS</a></code> 
                                    </p>
                                    <p><code class="codeph"><a href="../refrn/USER_XTERNAL_TAB_SUBPARTITIONS.html#REFRN-GUID-39656112-F5A5-4D7F-A945-769D2A57E873" target="_blank">USER_XTERNAL_TAB_SUBPARTITIONS</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="67%" headers="d192334e22901 d192334e22663 ">
                                    <p>These views list the subpartition-level information for partitioned external tables in the database. </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d192334e22924" headers="d192334e22660 ">
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN-GUID-3BD7CD71-C3B4-4AAF-ACEA-208A404FBC0D" target="_blank">DBA_XTERNAL_LOC_PARTITIONS</a></code> 
                                    </p>
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN-GUID-34127B29-EAA5-467F-A937-E8809EE7DAAB" target="_blank">ALL_XTERNAL_LOC_PARTITIONS</a></code> 
                                    </p>
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN-GUID-B0BF1824-13C7-4E9A-94A3-F2A439D38BD2" target="_blank">USER_XTERNAL_LOC_PARTITIONS</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="67%" headers="d192334e22924 d192334e22663 ">
                                    <p>These views list the data sources for partitions in external tables.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d192334e22948" headers="d192334e22660 ">
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN-GUID-3BD7CD71-C3B4-4AAF-ACEA-208A404FBC0D" target="_blank">DBA_XTERNAL_LOC_SUBPARTITIONS</a></code> 
                                    </p>
                                    <p><code class="codeph"><a href="../refrn/ALL_XTERNAL_LOC_PARTITIONS.html#REFRN-GUID-34127B29-EAA5-467F-A937-E8809EE7DAAB" target="_blank">ALL_XTERNAL_LOC_SUBPARTITIONS</a></code> 
                                    </p>
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN-GUID-B0BF1824-13C7-4E9A-94A3-F2A439D38BD2" target="_blank">USER_XTERNAL_LOC_SUBPARTITIONS</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="67%" headers="d192334e22948 d192334e22663 ">
                                    <p>These views list the data sources for subpartitions in external tables.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d192334e22971" headers="d192334e22660 ">
                                    <p><code class="codeph"><a href="../refrn/DBA_TAB_HISTOGRAMS.html#REFRN23279" target="_blank">DBA_TAB_HISTOGRAMS</a></code> 
                                    </p>
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN20279" target="_blank">ALL_TAB_HISTOGRAMS</a></code> 
                                    </p>
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN26279" target="_blank">USER_TAB_HISTOGRAMS</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="67%" headers="d192334e22971 d192334e22663 ">
                                    <p>These views describe histograms on tables and views.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d192334e22994" headers="d192334e22660 ">
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN23376" target="_blank">DBA_TAB_STATISTICS</a></code></p>
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN20376" target="_blank">ALL_TAB_STATISTICS</a></code></p>
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN26376" target="_blank">USER_TAB_STATISTICS</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="67%" headers="d192334e22994 d192334e22663 ">
                                    <p>These views contain optimizer statistics for tables.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d192334e23014" headers="d192334e22660 ">
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN23275" target="_blank">DBA_TAB_COL_STATISTICS</a></code> 
                                    </p>
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN20275" target="_blank">ALL_TAB_COL_STATISTICS</a></code> 
                                    </p>
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN26275" target="_blank">USER_TAB_COL_STATISTICS</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="67%" headers="d192334e23014 d192334e22663 ">
                                    <p>These views provide column statistics and histogram information extracted from the related <code class="codeph">TAB_COLUMNS</code> views.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d192334e23040" headers="d192334e22660 ">
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN23280" target="_blank">DBA_TAB_MODIFICATIONS</a></code> 
                                    </p>
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN20280" target="_blank">ALL_TAB_MODIFICATIONS</a></code> 
                                    </p>
                                    <p><code class="codeph"><a href="../refrn/USER_TAB_MODIFICATIONS.html#REFRN26280" target="_blank">USER_TAB_MODIFICATIONS</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="67%" headers="d192334e23040 d192334e22663 ">
                                    <p>These views describe tables that have been modified since the last time table statistics were gathered on them. They are not populated immediately, but after a time lapse (usually 3 hours).</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d192334e23063" headers="d192334e22660 ">
                                    <p><code class="codeph"><a href="../refrn/DBA_ENCRYPTED_COLUMNS.html#REFRN23534" target="_blank">DBA_ENCRYPTED_COLUMNS</a></code></p>
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN20534" target="_blank">ALL_ENCRYPTED_COLUMNS</a></code></p>
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN26534" target="_blank">USER_ENCRYPTED_COLUMNS</a></code></p>
                                 </td>
                                 <td align="left" valign="top" width="67%" headers="d192334e23063 d192334e22663 ">
                                    <p>These views list table columns that are encrypted, and for each column, lists the encryption algorithm in use.</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d192334e23083" headers="d192334e22660 ">
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN23300" target="_blank">DBA_UNUSED_COL_TABS</a></code> 
                                    </p>
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN20300" target="_blank">ALL_UNUSED_COL_TABS</a></code> 
                                    </p>
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN26300" target="_blank">USER_UNUSED_COL_TABS</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="67%" headers="d192334e23083 d192334e22663 ">
                                    <p>These views list tables with unused columns, as marked by the <code class="codeph">ALTER TABLE ... SET UNUSED</code> statement.
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="33%" id="d192334e23109" headers="d192334e22660 ">
                                    <p><code class="codeph"><a href="https://www.oracle.com/pls/topic/lookup?ctx=en/database/oracle/oracle-database/19/admin&amp;id=REFRN23160" target="_blank">DBA_PARTIAL_DROP_TABS</a></code> 
                                    </p>
                                    <p><code class="codeph"><a href="../refrn/ALL_PARTIAL_DROP_TABS.html#REFRN20160" target="_blank">ALL_PARTIAL_DROP_TABS</a></code> 
                                    </p>
                                    <p><code class="codeph"><a href="../refrn/USER_PARTIAL_DROP_TABS.html#REFRN26160" target="_blank">USER_PARTIAL_DROP_TABS</a></code> 
                                    </p>
                                 </td>
                                 <td align="left" valign="top" width="67%" headers="d192334e23109 d192334e22663 ">
                                    <p>These views list tables that have partially completed <code class="codeph">DROP COLUMN</code> operations. These operations could be incomplete because the operation was interrupted by the user or a system failure.
                                    </p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
                  <!-- class="section" -->
                  <div class="section">
                     <p class="subhead2" id="GUID-9E47D91A-E1F2-42F7-8704-1571B34C0410__GUID-7134EEF7-1D9D-42EC-8439-0E66152F27B1">Example: Displaying Column Information</p>
                     <p><a id="d192334e23138" class="indexterm-anchor"></a>Column information, such as name, data type, length, precision, scale, and default data values can be listed using one of the views ending with the <code class="codeph">_COLUMNS</code> suffix. For example, the following query lists all of the default column values for the <code class="codeph">emp</code> and <code class="codeph">dept</code> tables:
                     </p><pre class="oac_no_warn" dir="ltr">SELECT TABLE_NAME, COLUMN_NAME, DATA_TYPE, DATA_LENGTH, LAST_ANALYZED
    FROM DBA_TAB_COLUMNS
    WHERE OWNER = 'HR'
    ORDER BY TABLE_NAME;
    </pre><p>The following is the output from the query:</p><pre class="oac_no_warn" dir="ltr">TABLE_NAME           COLUMN_NAME          DATA_TYPE   DATA_LENGTH LAST_ANALYZED
-------------------- -------------------- ---------- ------------ -------------
COUNTRIES            COUNTRY_ID           CHAR                  2 05-FEB-03
COUNTRIES            COUNTRY_NAME         VARCHAR2             40 05-FEB-03
COUNTRIES            REGION_ID            NUMBER               22 05-FEB-03
DEPARTMENTS          DEPARTMENT_ID        NUMBER               22 05-FEB-03
DEPARTMENTS          DEPARTMENT_NAME      VARCHAR2             30 05-FEB-03
DEPARTMENTS          MANAGER_ID           NUMBER               22 05-FEB-03
DEPARTMENTS          LOCATION_ID          NUMBER               22 05-FEB-03
EMPLOYEES            EMPLOYEE_ID          NUMBER               22 05-FEB-03
EMPLOYEES            FIRST_NAME           VARCHAR2             20 05-FEB-03
EMPLOYEES            LAST_NAME            VARCHAR2             25 05-FEB-03
EMPLOYEES            EMAIL                VARCHAR2             25 05-FEB-03
.
.
.
LOCATIONS            COUNTRY_ID           CHAR                  2 05-FEB-03
REGIONS              REGION_ID            NUMBER               22 05-FEB-03
REGIONS              REGION_NAME          VARCHAR2             25 05-FEB-03

51 rows selected.</pre></div>
                  <!-- class="section" -->
               </div>
               <div>
                  <div class="infoboxnotealso" id="GUID-9E47D91A-E1F2-42F7-8704-1571B34C0410__GUID-C429F17F-1CCC-47A3-8830-B3ADDE1F5E7B">
                     <p class="notep1">See Also:</p>
                     <p></p>
                     <ul style="list-style-type: disc;">
                        <li>
                           <p><a href="../adobj/key-features-object-relational-model.html#ADOBJ7034" target="_blank"><span class="italic">Oracle Database Object-Relational Developer's Guide </span></a>for information about object tables
                           </p>
                        </li>
                        <li>
                           <p><a href="../tgsql/gathering-optimizer-statistics.html#TGSQL389" target="_blank"><span class="italic">Oracle Database SQL Tuning Guide</span></a> for information about histograms and generating statistics for tables
                           </p>
                        </li>
                        <li>
                           <p><span class="q">"<a href="managing-schema-objects.html#GUID-DB5A9A4E-054B-4ECF-8E97-C93DC9783675" title="You can collect information about schema objects and analyze that information.">About Analyzing Tables, Indexes, and Clusters</a>"</span></p>
                        </li>
                     </ul>
                  </div>
                  <div class="familylinks">
                     <div class="parentlink">
                        <p><strong>Parent topic:</strong> <a href="managing-tables.html#GUID-707B02F5-E589-4C20-8E2E-5ED4F7888702" title="Managing tables includes tasks such as creating tables, loading tables, altering tables, and dropping tables.">Managing Tables</a></p>
                     </div>
                  </div>
               </div>
               
            </div>
         </div>
      </article>
   </body>
</html>