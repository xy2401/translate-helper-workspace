<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>数据源和URL</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="JDBC Developer&#39;s Guide"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="JDBC Developer&#39;s Guide"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="jdbc-developers-guide.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-02-13T13:20:37-08:00"></meta>
      <meta name="dcterms.title" content="JDBC Developer&#39;s Guide"></meta>
      <meta name="dcterms.dateCopyrighted" content="1999, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96471-02"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="connection-and-security.html" title="Previous" type="text/html"></link>
      <link rel="next" href="client-side-security.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.isVersionOf" content="JJDBC"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="connection-and-security.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="client-side-security.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">JDBC开发人员指南</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="connection-and-security.html" property="item" typeof="WebPage"><span property="name">连接和安全</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">数据源和URL</li>
            </ol>
            <a id="GUID-44572C63-10D2-478A-BB2E-ACF6674C59CC" name="GUID-44572C63-10D2-478A-BB2E-ACF6674C59CC"></a><a id="JJDBC28267"></a>
            
            <h2 id="JJDBC-GUID-44572C63-10D2-478A-BB2E-ACF6674C59CC" class="sect2"><span class="enumeration_chapter">8个</span>数据源和URL</h2>
         </header>
         <div class="ind">
            <div>
               <p>本章讨论使用Java数据库连接（JDBC）数据源将应用程序连接到数据库，以及描述数据库的URL。本章包含以下部分：</p>
               <ul style="list-style-type:disc">
                  <li>
                     <p><a href="data-sources-and-URLs.html#GUID-38C56493-EC9F-45CA-B650-411C6A2A7AF0">关于数据源</a></p>
                  </li>
                  <li>
                     <p><a href="data-sources-and-URLs.html#GUID-C4F2CA86-0F68-400C-95DA-30171C9FB8F0">数据库URL和数据库说明符</a></p>
                  </li>
               </ul>
            </div><a id="JJDBC28268"></a><div class="props_rev_3"><a id="GUID-38C56493-EC9F-45CA-B650-411C6A2A7AF0" name="GUID-38C56493-EC9F-45CA-B650-411C6A2A7AF0"></a><h3 id="JJDBC-GUID-38C56493-EC9F-45CA-B650-411C6A2A7AF0" class="sect3"><span class="enumeration_section">8.1</span>关于数据源</h3>
               <div>
                  <p><a id="d33012e60" class="indexterm-anchor"></a> <span>数据源</span>是标准的通用对象，用于指定要使用的数据库或其他资源。JDBC 2.0扩展应用程序编程接口（API）引入了数据源的概念。为了方便和可移植性，可以将数据源绑定到Java命名和目录接口（JNDI）实体，以便您可以按逻辑名称访问数据库。
                  </p>
                  <p>数据源工具为以前的JDBC <code class="codeph">DriverManager</code>工具提供了完整的替代。您可以在同一个应用程序中使用这两个工具，但建议您将应用程序转换为数据源。
                  </p>
                  <p>本节包括以下主题：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="data-sources-and-URLs.html#GUID-930B037A-FD2B-4463-BA3E-46B06EA01284">JNDI的Oracle数据源支持概述</a></p>
                     </li>
                     <li>
                        <p><a href="data-sources-and-URLs.html#GUID-088B1600-C6C2-4F19-A020-2DAF8FE1F1C3">数据源的特征和属性</a></p>
                     </li>
                     <li>
                        <p><a href="data-sources-and-URLs.html#GUID-77AF8002-36FB-41C5-8381-6A53B0C443AE">创建数据源实例和连接</a></p>
                     </li>
                     <li>
                        <p><a href="data-sources-and-URLs.html#GUID-616B7857-DD0D-4DE3-9EF6-22FD7347918F">创建数据源实例_注册JNDI_和连接</a></p>
                     </li>
                     <li>
                        <p><a href="data-sources-and-URLs.html#GUID-E5230C0F-E22E-42BD-A221-F48D8C8B184C">支持的连接属性</a></p>
                     </li>
                     <li>
                        <p><a href="data-sources-and-URLs.html#GUID-7C88FC28-9747-4073-BDE4-FD9268B294D0">关于为SYS登录使用角色</a></p>
                     </li>
                     <li>
                        <p><a href="data-sources-and-URLs.html#GUID-762B70AE-B08F-46A7-819D-334590CDEC71">配置数据库远程登录</a></p>
                     </li>
                     <li>
                        <p><a href="data-sources-and-URLs.html#GUID-6C02DBA1-1071-4514-A1A5-2A421E22CC5D">使用Bequeath连接和SYS登录</a></p>
                     </li>
                     <li>
                        <p><a href="data-sources-and-URLs.html#GUID-8FDA4D03-9826-4C75-B1C9-4A6902E5F030">设置Oracle Performance Extensions的属性</a></p>
                     </li>
                     <li>
                        <p><a href="data-sources-and-URLs.html#GUID-6D8EFA50-AB0F-4A2B-88A0-45B4A67C361E">支持网络数据压缩</a></p>
                     </li>
                  </ul>
               </div><a id="JJDBC28269"></a><div class="props_rev_3"><a id="GUID-930B037A-FD2B-4463-BA3E-46B06EA01284" name="GUID-930B037A-FD2B-4463-BA3E-46B06EA01284"></a><h4 id="JJDBC-GUID-930B037A-FD2B-4463-BA3E-46B06EA01284" class="sect4"><span class="enumeration_section">8.1.1</span> JNDI的Oracle数据源支持概述</h4>
                  <div>
                     <p>JNDI标准为应用程序提供了一种查找和访问远程服务和资源的方法。这些服务可以是任何企业服务。但是，对于JDBC应用程序，这些服务将包括数据库连接和服务。</p>
                     <p>JNDI使应用程序能够在访问这些服务时使用逻辑名称，从应用程序代码中删除特定于供应商的语法。JNDI具有将逻辑名称与所需服务的特定源相关联的功能。</p>
                     <p>所有Oracle JDBC数据源都是JNDI可引用的。开发人员不需要使用此功能，但通过JNDI逻辑名访问数据库使代码更具可移植性。</p>
                     <div class="infoboxnote" id="GUID-930B037A-FD2B-4463-BA3E-46B06EA01284__GUID-395776D3-40CB-4D17-AA87-92B49F026719">
                        <p class="notep1">注意：</p>
                        <p>使用JNDI功能需要<code class="codeph">jndi.jar</code>文件位于<code class="codeph">CLASSPATH</code>环境变量中。此文件包含在安装CD上的Java产品中。您必须单独将其添加到<code class="codeph">CLASSPATH</code>环境变量。
                        </p>
                     </div>
                  </div>
               </div><a id="JJDBC28271"></a><a id="JJDBC28272"></a><a id="JJDBC28273"></a><a id="JJDBC28274"></a><a id="JJDBC28270"></a><div class="props_rev_3"><a id="GUID-088B1600-C6C2-4F19-A020-2DAF8FE1F1C3" name="GUID-088B1600-C6C2-4F19-A020-2DAF8FE1F1C3"></a><h4 id="JJDBC-GUID-088B1600-C6C2-4F19-A020-2DAF8FE1F1C3" class="sect4"><span class="enumeration_section">8.1.2</span>数据源的特性和属性</h4>
                  <div>
                     <div class="section">
                        <p>通过将数据源功能与JNDI一起使用，您无需注册特定于供应商的JDBC驱动程序类名，并且可以对URL和其他属性使用逻辑名称。这可确保打开数据库连接的代码可移植到其他环境。</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-088B1600-C6C2-4F19-A020-2DAF8FE1F1C3__GUID-95125C9B-C4CF-4496-AF6B-CF0DB4F7B151">DataSource接口和Oracle实现</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>JDBC数据源是实现标准<code class="codeph">javax.sql.的类的实例<code class="codeph">javax.sql.DataSource</code>接口：</p><pre class="oac_no_warn" dir="ltr">public interface DataSource {Connection getConnection（）抛出SQLException; Connection getConnection（String username，String password）抛出SQLException; ...}</pre><p>Oracle使用<code class="codeph">oracle.jdbc.pool</code>包中的<code class="codeph">OracleDataSource</code>类实现此接口。重载的<code class="codeph">getConnection</code>方法返回与数据库的连接。
                        </p>
                        <p>要使用其他值，可以使用适当的setter方法设置属性。对于备用用户名和密码，您还可以使用将这些参数作为输入的<code class="codeph">getConnection</code>方法。这将优先于属性设置。
                        </p>
                        <div class="infoboxnote" id="GUID-088B1600-C6C2-4F19-A020-2DAF8FE1F1C3__GUID-26FA5588-0456-4033-98C9-5743FA9B689E">
                           <p class="notep1">注意：</p>
                           <p><code class="codeph">OracleDataSource</code>类和所有子类实现<code class="codeph">java.io.Serializable</code>和<code class="codeph">javax.naming.Referenceable</code>接口。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-088B1600-C6C2-4F19-A020-2DAF8FE1F1C3__GUID-28C8C804-A02D-4BDF-8227-3866B774D496">DataSource的属性</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p><code class="codeph">The</code> <code class="codeph">OracleDataSource</code>类，如使用实现的任何类<code class="codeph">DataSource</code>界面，提供了一组可被用来指定一个要连接的数据库的属性。这些属性遵循JavaBeans设计模式。
                        </p>
                        <p>下表分别列出了<code class="codeph">OracleDataSource</code>标准属性和Oracle扩展。
                        </p>
                        <div class="infoboxnote" id="GUID-088B1600-C6C2-4F19-A020-2DAF8FE1F1C3__GUID-F96D0EC0-62E6-45A5-8C91-0D5340AF3434">
                           <p class="notep1">注意：</p>
                           <p>Oracle没有实现标准的<code class="codeph">roleName</code>属性。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-088B1600-C6C2-4F19-A020-2DAF8FE1F1C3__G1073223">
                        <p class="titleintable">表8-1标准数据源属性</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="标准数据源属性" width="100%" border="1" summary="table" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="25%" id="d33012e292">名称</th>
                                 <th align="left" valign="bottom" width="14%" id="d33012e295">类型</th>
                                 <th align="left" valign="bottom" width="61%" id="d33012e298">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d33012e303" headers="d33012e292 ">
                                    <p><code class="codeph">数据库名称</code></p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d33012e303 d33012e295 ">
                                    <p><code class="codeph">串</code></p>
                                 </td>
                                 <td align="left" valign="top" width="61%" headers="d33012e303 d33012e298 ">
                                    <p>服务器上特定数据库的名称。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d33012e315" headers="d33012e292 ">
                                    <p><code class="codeph">了dataSourceName</code></p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d33012e315 d33012e295 ">
                                    <p><code class="codeph">串</code></p>
                                 </td>
                                 <td align="left" valign="top" width="61%" headers="d33012e315 d33012e298 ">
                                    <p>基础数据源类的名称。对于连接池，这是一个底层的池连接数据源类。对于分布式事务，这是一个底层的XA数据源类。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d33012e327" headers="d33012e292 ">
                                    <p><code class="codeph">描述</code></p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d33012e327 d33012e295 ">
                                    <p><code class="codeph">串</code></p>
                                 </td>
                                 <td align="left" valign="top" width="61%" headers="d33012e327 d33012e298 ">
                                    <p>数据源的描述。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d33012e339" headers="d33012e292 ">
                                    <p><code class="codeph">networkProtocol</code></p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d33012e339 d33012e295 ">
                                    <p><code class="codeph">串</code></p>
                                 </td>
                                 <td align="left" valign="top" width="61%" headers="d33012e339 d33012e298 ">
                                    <p>用于与服务器通信的网络协议。对于Oracle，这仅适用于JDBC Oracle调用接口（OCI）驱动程序，默认为<code class="codeph">tcp</code> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d33012e354" headers="d33012e292 ">
                                    <p><code class="codeph">密码</code></p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d33012e354 d33012e295 ">
                                    <p><code class="codeph">串</code></p>
                                 </td>
                                 <td align="left" valign="top" width="61%" headers="d33012e354 d33012e298 ">
                                    <p>连接用户的密码。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d33012e366" headers="d33012e292 ">
                                    <p><code class="codeph">PORTNUMBER</code></p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d33012e366 d33012e295 ">
                                    <p><code class="codeph">INT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="61%" headers="d33012e366 d33012e298 ">
                                    <p>服务器侦听请求的端口号</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d33012e378" headers="d33012e292 ">
                                    <p><code class="codeph">服务器名称</code></p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d33012e378 d33012e295 ">
                                    <p><code class="codeph">串</code></p>
                                 </td>
                                 <td align="left" valign="top" width="61%" headers="d33012e378 d33012e298 ">
                                    <p>数据库服务器的名称</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="25%" id="d33012e390" headers="d33012e292 ">
                                    <p><code class="codeph">用户</code></p>
                                 </td>
                                 <td align="left" valign="top" width="14%" headers="d33012e390 d33012e295 ">
                                    <p><code class="codeph">串</code></p>
                                 </td>
                                 <td align="left" valign="top" width="61%" headers="d33012e390 d33012e298 ">
                                    <p>登录名</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <div class="infoboxnote" id="GUID-088B1600-C6C2-4F19-A020-2DAF8FE1F1C3__GUID-8EE2B303-D560-4A9E-AFF6-2D2EDB97F19C">
                           <p class="notep1">注意：</p>
                           <p>出于安全原因，没有<code class="codeph">getPassword()</code>方法。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-088B1600-C6C2-4F19-A020-2DAF8FE1F1C3__G1073263">
                        <p class="titleintable">表8-2 Oracle扩展数据源属性</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="Oracle扩展数据源属性" width="100%" border="1" summary="table" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="37%" id="d33012e419">名称</th>
                                 <th align="left" valign="bottom" width="15%" id="d33012e422">类型</th>
                                 <th align="left" valign="bottom" width="48%" id="d33012e425">描述</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d33012e430" headers="d33012e419 ">
                                    <p><code class="codeph">connectionCacheName</code></p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33012e430 d33012e422 ">
                                    <p><code class="codeph">串</code></p>
                                 </td>
                                 <td align="left" valign="top" width="48%" headers="d33012e430 d33012e425 ">
                                    <p>指定缓存的名称。创建缓存后无法更改此设置。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d33012e442" headers="d33012e419 ">
                                    <p><code class="codeph">connectionCacheProperties</code></p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33012e442 d33012e422 ">
                                    <p><code class="codeph">java.util中。属性</code></p>
                                 </td>
                                 <td align="left" valign="top" width="48%" headers="d33012e442 d33012e425 ">
                                    <p>指定隐式连接缓存的属性。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d33012e454" headers="d33012e419 ">
                                    <p><code class="codeph">connectionCachingEnabled</code></p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33012e454 d33012e422 ">
                                    <p><code class="codeph">布尔</code></p>
                                 </td>
                                 <td align="left" valign="top" width="48%" headers="d33012e454 d33012e425 ">
                                    <p>指定是否正在使用隐式连接缓存。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d33012e466" headers="d33012e419 ">
                                    <p><code class="codeph">ConnectionProperties中</code></p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33012e466 d33012e422 ">
                                    <p><code class="codeph">java.util中。属性</code></p>
                                 </td>
                                 <td align="left" valign="top" width="48%" headers="d33012e466 d33012e425 ">
                                    <p>指定连接属性。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d33012e478" headers="d33012e419 ">
                                    <p><code class="codeph">driverType</code></p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33012e478 d33012e422 ">
                                    <p><code class="codeph">串</code></p>
                                 </td>
                                 <td align="left" valign="top" width="48%" headers="d33012e478 d33012e425 ">
                                    <p>指定Oracle JDBC驱动程序类型。它可以是<code class="codeph">oci</code> ， <code class="codeph">thin</code>或<code class="codeph">kprb</code> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d33012e499" headers="d33012e419 ">
                                    <p><code class="codeph">fastConnectionFailoverEnabled</code></p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33012e499 d33012e422 ">
                                    <p><code class="codeph">布尔</code></p>
                                 </td>
                                 <td align="left" valign="top" width="48%" headers="d33012e499 d33012e425 ">
                                    <p>指定是否正在使用快速连接故障转移。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d33012e511" headers="d33012e419 ">
                                    <p><code class="codeph">implicitCachingEnabled</code></p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33012e511 d33012e422 ">
                                    <p><code class="codeph">布尔</code></p>
                                 </td>
                                 <td align="left" valign="top" width="48%" headers="d33012e511 d33012e425 ">
                                    <p>指定是否启用隐式语句连接缓存。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d33012e523" headers="d33012e419 ">
                                    <p><code class="codeph">登录超时</code></p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33012e523 d33012e422 ">
                                    <p><code class="codeph">INT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="48%" headers="d33012e523 d33012e425 ">
                                    <p>指定此数据源在尝试连接到数据库时将等待的最长时间（以秒为单位）。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d33012e535" headers="d33012e419 ">
                                    <p><code class="codeph">日志写进程</code></p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33012e535 d33012e422 ">
                                    <p><code class="codeph">java.io.为PrintWriter</code></p>
                                 </td>
                                 <td align="left" valign="top" width="48%" headers="d33012e535 d33012e425 ">
                                    <p>指定此数据源的日志编写器。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d33012e547" headers="d33012e419 ">
                                    <p><code class="codeph">maxStatements</code></p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33012e547 d33012e422 ">
                                    <p><code class="codeph">INT</code></p>
                                 </td>
                                 <td align="left" valign="top" width="48%" headers="d33012e547 d33012e425 ">
                                    <p>指定应用程序缓存中的最大语句数。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d33012e559" headers="d33012e419 ">
                                    <p><code class="codeph">服务名称</code></p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33012e559 d33012e422 ">
                                    <p><code class="codeph">串</code></p>
                                 </td>
                                 <td align="left" valign="top" width="48%" headers="d33012e559 d33012e425 ">
                                    <p>指定此数据源的数据库服务名称。</p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d33012e572" headers="d33012e419 ">
                                    <p><code class="codeph">tnsEntry</code></p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33012e572 d33012e422 ">
                                    <p><code class="codeph">串</code></p>
                                 </td>
                                 <td align="left" valign="top" width="48%" headers="d33012e572 d33012e425 ">
                                    <p>指定TNS条目名称。TNS条目名称对应于<code class="codeph">tnsnames.ora</code>配置文件中指定的TNS条目。
                                    </p>
                                    <p>将Native XA功能与OCI驱动程序一起使用时，启用此<code class="codeph">OracleXADataSource</code>属性，以访问Oracle 8.1.6之前的数据库及更高版本。如果在使用本机XA功能时未设置<code class="codeph">tnsEntry</code>属性，则<code class="codeph">SQLException</code>错误代码为ORA-17207的<code class="codeph">SQLException</code></p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d33012e598" headers="d33012e419 ">
                                    <p><code class="codeph">网址</code></p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33012e598 d33012e422 ">
                                    <p><code class="codeph">串</code></p>
                                 </td>
                                 <td align="left" valign="top" width="48%" headers="d33012e598 d33012e425 ">
                                    <p>指定数据库连接字符串的URL。为方便起见，它可以帮助您从较旧的Oracle数据库迁移。您可以使用此属性代替Oracle <code class="codeph">tnsEntry</code>和<code class="codeph">driverType</code>属性以及标准<code class="codeph">portNumber</code> ， <code class="codeph">networkProtocol</code> ， <code class="codeph">serverName</code>和<code class="codeph">databaseName</code>属性。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d33012e629" headers="d33012e419 ">
                                    <p><a id="d33012e631" class="indexterm-anchor"></a><code class="codeph">nativeXA</code></p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33012e629 d33012e422 ">
                                    <p><code class="codeph">布尔</code></p>
                                 </td>
                                 <td align="left" valign="top" width="48%" headers="d33012e629 d33012e425 ">
                                    <p>允许使用带有OCI驱动程序的Native XA功能的<code class="codeph">OracleXADataSource</code>访问Oracle 8.1.6之前的数据库及更高版本。如果启用了<code class="codeph">nativeXA</code>属性，请确保同时设置<code class="codeph">tnsEntry</code>属性。此属性仅适用于<code class="codeph">OracleXADatasource</code> 。
                                    </p>
                                    <p>此<code class="codeph">DataSource</code>属性默认为<code class="codeph">false</code> 。
                                    </p>
                                 </td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="37%" id="d33012e663" headers="d33012e419 ">
                                    <p><code class="codeph">ONSConfiguration</code></p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33012e663 d33012e422 ">
                                    <p><code class="codeph">串</code></p>
                                 </td>
                                 <td align="left" valign="top" width="48%" headers="d33012e663 d33012e425 ">
                                    <p>指定用于远程订阅FAN / ONS事件的ONS配置字符串。</p>
                                 </td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                     <div class="section">
                        <div class="infoboxnote" id="GUID-088B1600-C6C2-4F19-A020-2DAF8FE1F1C3__GUID-CD74937C-A446-4FB4-9B82-BFF1EE209627">
                           <p class="notep1">注意：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>此表省略了支持基于<code class="codeph">OracleConnectionCache</code>的已弃用连接缓存的属性。
                                 </p>
                              </li>
                              <li>
                                 <p>由于Native XA的性能优于Java XA，因此尽可能使用Native XA。</p>
                              </li>
                           </ul>
                        </div>
                        <p>使用<code class="codeph">setConnectionProperties</code>方法设置连接的属性，使用<code class="codeph">setConnectionCacheProperties</code>方法设置连接缓存的属性。
                        </p>
                        <p>如果您使用的是服务器端内部驱动程序，即<code class="codeph">driverType</code>属性设置为<code class="codeph">kprb</code> ，则忽略任何其他属性设置。
                        </p>
                        <p>如果您使用的是JDBC Thin或OCI驱动程序，请注意以下事项：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>URL设置可以包括<code class="codeph">user</code>和<code class="codeph">password</code>设置，如下例所示，在这种情况下，这优先于单个<code class="codeph">user</code>和<code class="codeph">password</code>属性设置：</p><pre class="oac_no_warn" dir="ltr">JDBC：预言：瘦：HR /小时@本地：5221：ORCL</pre></li>
                           <li>
                              <p>需要<code class="codeph">user</code>和<code class="codeph">password</code>设置，可以直接通过URL设置或通过<code class="codeph">getConnection</code>调用。<code class="codeph">getConnection</code>调用中的<code class="codeph">user</code>和<code class="codeph">password</code>设置优先于任何属性设置。
                              </p>
                           </li>
                           <li>
                              <p>如果设置了<code class="codeph">url</code>属性，则<code class="codeph">tnsEntry</code>任何<code class="codeph">tnsEntry</code> ， <code class="codeph">driverType</code> ， <code class="codeph">portNumber</code> ， <code class="codeph">networkProtocol</code> ， <code class="codeph">serverName</code>和<code class="codeph">databaseName</code>属性设置。
                              </p>
                           </li>
                           <li>
                              <p>如果设置了<code class="codeph">tnsEntry</code>属性（假定未设置<code class="codeph">url</code>属性），则忽略任何<code class="codeph">databaseName</code> ， <code class="codeph">serverName</code> ， <code class="codeph">portNumber</code>和<code class="codeph">networkProtocol</code>设置。
                              </p>
                           </li>
                           <li>
                              <p>如果您使用的是OCI驱动程序（假设<code class="codeph">driverType</code>属性设置为<code class="codeph">oci</code> ，并且<code class="codeph">networkProtocol</code>设置为<code class="codeph">ipc</code> ，则忽略任何其他属性设置。
                              </p>
                           </li>
                        </ul>
                        <p>另请注意，只有在数据源上启用缓存后设置数据源的<code class="codeph">ConnectionCacheName</code>属性时， <code class="codeph">getConnectionCacheName()</code>才会返回缓存的名称。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28275"></a><div class="props_rev_3"><a id="GUID-77AF8002-36FB-41C5-8381-6A53B0C443AE" name="GUID-77AF8002-36FB-41C5-8381-6A53B0C443AE"></a><h4 id="JJDBC-GUID-77AF8002-36FB-41C5-8381-6A53B0C443AE" class="sect4"><span class="enumeration_section">8.1.3</span>创建数据源实例并进行连接</h4>
                  <div>
                     <div class="section">
                        <p>本节显示了数据源最基本用于连接数据库的示例，而不使用JNDI功能。请注意，这需要特定于供应商的硬编码属性设置。</p>
                        <p>创建<code class="codeph">OracleDataSource</code>实例，根据需要初始化其连接属性，并获取连接实例，如以下示例所示：</p><pre class="oac_no_warn" dir="ltr">OracleDataSource ods = new OracleDataSource（）; ods.setDriverType（ “OCI”）; ods.setServerName（ “本地主机”）; ods.setNetworkProtocol（ “TCP”）; ods.setDatabaseName（ <span class="italic">&lt;database_name&gt;</span> ）; ods.setPortNumber（5221）; ods.setUser（ “HR”）; ods.setPassword（ “HR”）; Connection conn = ods.getConnection（）;</pre><p>或者，可选地，覆盖用户名和密码，如下所示：</p><pre class="oac_no_warn" dir="ltr">连接conn = ods.getConnection（“OE”，“oe”）;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28277"></a><a id="JJDBC28278"></a><a id="JJDBC28279"></a><a id="JJDBC28276"></a><div class="props_rev_3"><a id="GUID-616B7857-DD0D-4DE3-9EF6-22FD7347918F" name="GUID-616B7857-DD0D-4DE3-9EF6-22FD7347918F"></a><h4 id="JJDBC-GUID-616B7857-DD0D-4DE3-9EF6-22FD7347918F" class="sect4"><span class="enumeration_section">8.1.4</span>创建数据源实例，注册JNDI和连接</h4>
                  <div>
                     <div class="section">
                        <p><a id="d33012e901" class="indexterm-anchor"></a><a id="d33012e905" class="indexterm-anchor"></a>本节介绍使用数据源连接数据库的JNDI功能。仅在将数据源实例绑定到JNDI逻辑名称的代码部分中才需要特定于供应商的硬编码属性设置。从那时起，您可以在创建数据源时使用逻辑名创建可移植代码，从中获取连接实例。
                        </p>
                        <div class="infoboxnote" id="GUID-616B7857-DD0D-4DE3-9EF6-22FD7347918F__GUID-8A6617ED-F5DA-422D-8F04-02A533C4DD0C">
                           <p class="notep1">注意：</p>
                           <p>创建和注册数据源通常由JNDI管理员处理，而不是在JDBC应用程序中处理。</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-616B7857-DD0D-4DE3-9EF6-22FD7347918F__GUID-48A2FAEC-C5D2-41C4-B251-3C1BAEE9CCC0">初始化数据源属性</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>创建<code class="codeph">OracleDataSource</code>实例，然后根据需要初始化其属性，如以下示例所示：</p><pre class="oac_no_warn" dir="ltr">OracleDataSource ods = new OracleDataSource（）; ods.setDriverType（ “OCI”）; ods.setServerName（ “本地主机”）; ods.setNetworkProtocol（ “TCP”）; ods.setDatabaseName（ “816”）; ods.setPortNumber（5221）; ods.setUser（ “HR”）; ods.setPassword（ “HR”）;</pre></div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-616B7857-DD0D-4DE3-9EF6-22FD7347918F__GUID-A4209F41-E0CC-47D9-BEEA-9982B839D83A">注册数据源</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>初始化<code class="codeph">OracleDataSource</code>实例<code class="codeph">ods</code>的连接属性后，如前面的示例所示，您可以使用JNDI注册此数据源实例，如以下示例所示：</p><pre class="oac_no_warn" dir="ltr">Context ctx = new InitialContext（）; ctx.bind（“jdbc / sampledb”，ods）;</pre><p>调用JNDI <code class="codeph">InitialContext()</code>构造函数会创建一个引用初始JNDI命名上下文的Java对象。系统属性（未显示）指示JNDI使用哪个服务提供者。
                        </p>
                        <p><code class="codeph">ctx.bind</code>调用将<code class="codeph">OracleDataSource</code>实例绑定到逻辑JNDI名称。这意味着在<code class="codeph">ctx.bind</code>调用之后的任何时候，您都可以使用逻辑名称<code class="codeph">jdbc/sampledb</code>打开与<code class="codeph">OracleDataSource</code>实例<code class="codeph">ods</code>属性描述的数据库的连接。逻辑名称<code class="codeph">jdbc/sampledb</code>在逻辑上绑定到此数据库。
                        </p>
                        <p>JNDI名称空间的层次结构与文件系统的层次结构类似。在此示例中，JNDI名称指定根命名上下文下的子上下文<code class="codeph">jdbc</code> ，并在<code class="codeph">jdbc</code>子上下文中指定逻辑名称<code class="codeph">sampledb</code> 。
                        </p>
                        <p><code class="codeph">Context</code>接口和<code class="codeph">InitialContext</code>类位于标准的<code class="codeph">javax.naming</code>包中。
                        </p>
                        <div class="infoboxnote" id="GUID-616B7857-DD0D-4DE3-9EF6-22FD7347918F__GUID-44C57FD7-9FA3-4D05-B932-46A635C7E6E7">
                           <p class="notep1">注意：</p>
                           <p>JDBC 2.0规范要求所有JDBC数据源都在JNDI命名空间的<code class="codeph">jdbc</code>命名子上下文中或在<code class="codeph">jdbc</code>子上下文的子子上下文中注册。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-616B7857-DD0D-4DE3-9EF6-22FD7347918F__GUID-AF9DF627-E686-4DB2-ABA8-1973C5935310">打开一个连接</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>要执行查找并打开与逻辑上绑定到JNDI名称的数据库的连接，请使用逻辑JNDI名称。这样做需要将查找结果（也是Java <code class="codeph">Object</code> ）转换为<code class="codeph">OracleDataSource</code> ，然后使用其<code class="codeph">getConnection</code>方法打开连接。
                        </p>
                        <p>这是一个例子：</p><pre class="oac_no_warn" dir="ltr">OracleDataSource odsconn =（OracleDataSource）ctx.lookup（“jdbc / sampledb”）; Connection conn = odsconn.getConnection（）;</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28280"></a><div class="props_rev_3"><a id="GUID-E5230C0F-E22E-42BD-A221-F48D8C8B184C" name="GUID-E5230C0F-E22E-42BD-A221-F48D8C8B184C"></a><h4 id="JJDBC-GUID-E5230C0F-E22E-42BD-A221-F48D8C8B184C" class="sect4"><span class="enumeration_section">8.1.5</span>支持的连接属性</h4>
                  <div>
                     <div class="section">
                        <p>有关Oracle JDBC驱动程序支持的连接属性的详细列表，请参阅<a href="../jajdb/index.html" target="_blank"><span class="italic">Oracle Database JDBC Java API Reference</span></a> 。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28282"></a><div class="props_rev_3"><a id="GUID-7C88FC28-9747-4073-BDE4-FD9268B294D0" name="GUID-7C88FC28-9747-4073-BDE4-FD9268B294D0"></a><h4 id="JJDBC-GUID-7C88FC28-9747-4073-BDE4-FD9268B294D0" class="sect4"><span class="enumeration_section">8.1.6</span>关于使用SYS登录角色</h4>
                  <div>
                     <div class="section">
                        <p>要指定<code class="codeph">SYS</code>登录的角色，请使用<code class="codeph">internal_logon</code>连接属性。要以<code class="codeph">SYS</code>身份登录，请将<code class="codeph">internal_logon</code>连接属性设置为<code class="codeph">SYSDBA</code>或<code class="codeph">SYSOPER</code> 。</p>
                        <div class="infoboxnote" id="GUID-7C88FC28-9747-4073-BDE4-FD9268B294D0__GUID-D8F1D1F4-2A27-4427-A393-D7DD9A311F11">
                           <p class="notep1">注意：</p>
                           <p>仅对<code class="codeph">sys</code>用户名支持指定角色的功能。
                           </p>
                        </div>
                        <p>对于遗留连接，我们可以通过设置<code class="codeph">internal_logon</code>属性来获得<code class="codeph">SYS</code>连接。对于远程连接，我们需要额外的密码文件设置过程。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28284"></a><a id="JJDBC28283"></a><div class="props_rev_3"><a id="GUID-762B70AE-B08F-46A7-819D-334590CDEC71" name="GUID-762B70AE-B08F-46A7-819D-334590CDEC71"></a><h4 id="JJDBC-GUID-762B70AE-B08F-46A7-819D-334590CDEC71" class="sect4"><span class="enumeration_section">8.1.7</span>配置数据库远程登录</h4>
                  <div>
                     <div class="section">
                        <p>在JDBC Thin驱动程序可以作为<code class="codeph">SYSDBA</code>连接到数据库之前，必须配置用户，因为Oracle Database安全系统需要密码文件作为管理员进行远程连接。执行以下操作：</p>
                     </div>
                     <!-- class="section" -->
                     <ol>
                        <li class="stepexpand"><span>使用<code class="codeph">orapwd</code>密码实用程序在服务器端或远程数据库上设置密码文件。您可以为用户<code class="codeph">SYS</code>添加密码文件，如下所示：</span><div>
                              <ul style="list-style-type:disc">
                                 <li>
                                    <p>在UNIX中</p><pre class="oac_no_warn" dir="ltr">orapwd file = $ ORACLE_HOME / dbs / orapwORACLE_SID entries = 200输入密码： <span class="italic">password</span>
</pre></li>
                                 <li>
                                    <p>在Microsoft Windows中</p><pre class="oac_no_warn" dir="ltr">orapwd文件=％ORACLE_HOME％\ database \ PWDORACLE_SID.ora entries = 200输入密码： <span class="italic">密码</span>
</pre></li>
                              </ul>
                              <p>在这种情况下， <code class="codeph">file</code>是密码文件的名称， <span class="italic"><code class="codeph">password</code></span>是用户<code class="codeph">SYS</code>的密码。可以使用SQL Plus中的<code class="codeph">ALTER USER</code>语句更改它。您应该将<code class="codeph">entries</code>设置为高于您期望的条目数的值。
                              </p>
                              <p>密码文件名的语法在Microsoft Windows和UNIX上是不同的。</p>
                              <div class="infoboxnotealso" id="GUID-762B70AE-B08F-46A7-819D-334590CDEC71__GUID-96BE9F25-A62D-40C4-82A6-217EC0D9506F">
                                 <p class="notep1">也可以看看：</p>
                                 <p><a href="../admin/getting-started-with-database-administration.html#ADMIN-GUID-662ACF2E-546A-4EF0-89EA-35D4633A0996" target="_blank"><span><cite>Oracle数据库管理员指南</cite></span></a></p>
                              </div>
                           </div>
                        </li>
                        <li class="stepexpand"><span>启用远程登录为<code class="codeph">SYSDBA</code> 。此步骤为单个用户授予<code class="codeph">SYSDBA</code>和<code class="codeph">SYSOPER</code>系统权限，并允许他们自己连接。</span><div>
                              <p>停止数据库，并将以下行添加到UNIX中的<code class="codeph">init</code> <span class="italic"><code class="codeph">service_name</code></span> <code class="codeph">.ora</code>或Microsoft Windows中的<code class="codeph">init.ora</code> ：</p><pre class="oac_no_warn" dir="ltr">REMOTE_LOGIN_PASSWORDFILE =独占</pre><p><code class="codeph">init</code> <span class="italic"><code class="codeph">service_name</code></span> <code class="codeph">.ora</code>文件位于<span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">/dbs/</code> ，也位于<span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">/admin/db_name/pfile/</code> 。确保保持两个文件同步。
                              </p>
                              <p><code class="codeph">init.ora</code>文件位于<code class="codeph">%ORACLE_BASE%\ADMIN\db_name\pfile\</code> 。
                              </p>
                           </div>
                        </li>
                        <li class="stepexpand"><span>更改<code class="codeph">SYS</code>用户的密码。这是一个可选步骤。</span><div><pre class="oac_no_warn" dir="ltr"><span class="bold">PASSWORD sys</span>更改<span class="bold">sys的</span>密码新密码： <span class="italic">password</span>重新输入新密码： <span class="italic">password</span>
</pre></div>
                        </li>
                        <li class="stepexpand"><span>验证<code class="codeph">SYS</code>是否具有<code class="codeph">SYSDBA</code>权限。</span><div><pre class="oac_no_warn" dir="ltr">SQL&gt; select * from v $ pwfile_users; USERNAME SYSDB SYSOP ---------------------- --------- --------- SYS TRUE TRUE</pre></div>
                        </li>
                        <li class="stepexpand"><span>重新启动远程数据库。</span></li>
                     </ol>
                     <div class="example" id="GUID-762B70AE-B08F-46A7-819D-334590CDEC71__GUID-EBF309EE-7146-4D56-9E55-4571AC680BA0">
                        <p class="titleinexample">示例8-1使用SYS登录进行远程连接</p><pre class="oac_no_warn" dir="ltr">//无论数据库的语言设置如何，此示例都有效。/ **使用sys ** / import java.sql进行远程连接的情况。*; import oracle.jdbc。*; import oracle.jdbc.pool。*; //创建OracleDataSource OracleDataSource ods = new OracleDataSource（）; //设置连接属性java.util。属性prop = new java.util。属性（）; prop.put（“user”，“sys”）; prop.put（“password”，“sys”）; prop.put（“internal_logon”，“sysoper”）; ods.setConnectionProperties（丙）; //设置url // url可以使用oci驱动程序以及：// url =“jdbc：oracle：oci8：@remotehost”; remotehost是一个远程数据库String url =“jdbc：oracle：thin：@ // localhost：5221 / orcl”; ods.setURL（URL）; //获取连接Connection conn = ods.getConnection（）; ...
</pre></div>
                     <!-- class="example" -->
                  </div>
               </div><a id="JJDBC28285"></a><div class="props_rev_3"><a id="GUID-6C02DBA1-1071-4514-A1A5-2A421E22CC5D" name="GUID-6C02DBA1-1071-4514-A1A5-2A421E22CC5D"></a><h4 id="JJDBC-GUID-6C02DBA1-1071-4514-A1A5-2A421E22CC5D" class="sect4"><span class="enumeration_section">8.1.8</span>使用Bequeath连接和SYS登录</h4>
                  <div>
                     <div class="section">
                        <p>以下示例说明如何使用<code class="codeph">internal_logon</code>和<code class="codeph">SYSDBA</code>参数指定<code class="codeph">SYS</code>登录。无论数据库的数据库的国家语言设置如何，此示例都有效。
                        </p><pre class="oac_no_warn" dir="ltr">/ **遗留连接的例子** / import java.sql。*; import oracle.jdbc。*; import oracle.jdbc.pool。*; //创建OracleDataSource实例OracleDataSource ods = new OracleDataSource（）; //设置必要的属性java.util。属性prop = new java.util。属性（）; prop.put（“user”，“sys”）; prop.put（“password”，“sys”）; prop.put（“internal_logon”，“sysdba”）; ods.setConnectionProperties（丙）; // bequeath连接的url字符串url =“jdbc：oracle：oci8：@”; ods.setURL（URL）; //检索连接Connection conn = ods.getConnection（）; ...
</pre></div>
                     <!-- class="section" -->
                  </div>
               </div><a id="JJDBC28287"></a><a id="JJDBC28286"></a><div class="props_rev_3"><a id="GUID-8FDA4D03-9826-4C75-B1C9-4A6902E5F030" name="GUID-8FDA4D03-9826-4C75-B1C9-4A6902E5F030"></a><h4 id="JJDBC-GUID-8FDA4D03-9826-4C75-B1C9-4A6902E5F030" class="sect4"><span class="enumeration_section">8.1.9</span>设置Oracle Performance Extensions的属性</h4>
                  <div>
                     <div class="section">
                        <p>某些连接属性用于Oracle性能扩展。设置这些属性等同于在<code class="codeph">OracleConnection</code>对象上使用相应的方法，如下所示：</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <ul style="list-style-type:disc">
                           <li>
                              <p>设置<code class="codeph">defaultRowPrefetch</code>属性等同于调用<code class="codeph">setDefaultRowPrefetch</code> 。
                              </p>
                           </li>
                           <li>
                              <p>设置<code class="codeph">remarksReporting</code>属性等同于调用<code class="codeph">setRemarksReporting</code> 。
                              </p>
                              <div class="infoboxnotealso" id="GUID-8FDA4D03-9826-4C75-B1C9-4A6902E5F030__GUID-3705D506-42D2-46C1-A8DE-2F381F99E76C">
                                 <p class="notep1">也可以看看：</p>
                                 <p><span class="q">“ <a href="performance-extensions.html#GUID-15865071-39F2-430F-9EDA-EB34D0B2D560">关于报告DatabaseMetaData TABLE_REMARKS</a> ”</span></p>
                              </div>
                           </li>
                        </ul>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p class="subhead3" id="GUID-8FDA4D03-9826-4C75-B1C9-4A6902E5F030__GUID-2E04F003-E2F8-4BE9-AAEB-F14FC8683AEF">例</p>
                     </div>
                     <!-- class="section" -->
                     <div class="section">
                        <p>以下示例显示了如何使用的<code class="codeph">put</code>方法<a id="d33012e1390" class="indexterm-anchor"></a><a id="d33012e1394" class="indexterm-anchor"></a> <code class="codeph">java.util.在这种情况下， Properties</code>类用于设置Oracle性能扩展参数。
                        </p><pre class="oac_no_warn" dir="ltr">//导入包并注册驱动程序import java.sql。*; import java.math。*; import oracle.jdbc。*; import oracle.jdbc.pool。OracleDataSource; //指定属性对象java.util。属性info = new java.util。属性（）; info.put（“user”，“HR”）; info.put（“password”，“hr”）; info.put（“defaultRowPrefetch”，“20”）; info.put（“defaultBatchValue”，“5”）; //指定数据源对象OracleDataSource ods = new OracleDataSource（）; ods.setURL（ “JDBC：预言：瘦：@ //本地主机：5221 / ORCL”）; ods.setUser（ “HR”）; ods.setPassword（ “HR”）; ods.setConnectionProperties（INFO）; ...
</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-6D8EFA50-AB0F-4A2B-88A0-45B4A67C361E" name="GUID-6D8EFA50-AB0F-4A2B-88A0-45B4A67C361E"></a><h4 id="JJDBC-GUID-6D8EFA50-AB0F-4A2B-88A0-45B4A67C361E" class="sect4"><span class="enumeration_section">8.1.10</span>支持网络数据压缩</h4>
                  <div>
                     <p></p>
                     <div class="section">
                        <p>从Oracle Database 12 <span class="italic">c</span>第2版（12.2.0.1）开始，JDBC Thin驱动程序支持网络数据压缩。网络数据压缩减少了通过数据连接传输的会话数据单元（SDU）的大小，并减少了通过网络传输SQL查询和结果所需的时间。无线区域网（WAN）的好处更为显着。要启用网络数据压缩，必须按以下方式设置连接属性：</p>
                        <div class="infoboxnote" id="GUID-6D8EFA50-AB0F-4A2B-88A0-45B4A67C361E__GUID-2585B1A0-6A65-43B2-990D-CF1207BFA581">
                           <p class="notep1">注意：</p>
                           <p>网络压缩不适用于流数据。</p>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="section"><pre class="pre codeblock"><code>...OracleDataSource ds = new OracleDataSource（）;属性prop = new Properties（）; prop.setProperty（ “用户”， “用户1”）; prop.setProperty（ “密码”，&lt;密码&gt;）; //启用网络压缩prop.setProperty（“oracle.net.networkCompression”，“on”）; //用于设置客户端压缩阈值的可选配置。prop.setProperty（ “oracle.net.networkCompressionThreshold”， “1024”）; ds.setConnectionProperties（丙）; ds.setURL（URL）; Connection conn = ds.getConnection（）; ...</code></pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div><a id="JJDBC08200"></a><div class="props_rev_3"><a id="GUID-C4F2CA86-0F68-400C-95DA-30171C9FB8F0" name="GUID-C4F2CA86-0F68-400C-95DA-30171C9FB8F0"></a><h3 id="JJDBC-GUID-C4F2CA86-0F68-400C-95DA-30171C9FB8F0" class="sect3"><span class="enumeration_section">8.2</span>数据库URL和数据库说明符</h3>
               <div>
                  <div class="section">
                     <p>数据库URL是字符串。完整的URL语法是：</p><pre class="oac_no_warn" dir="ltr">jdbc：oracle： <span class="italic">driver_type</span> ：[ <span class="italic">用户名</span> / <span class="italic">密码</span> ] @ <span class="italic">database_specifier</span>
</pre><div class="infoboxnote" id="GUID-C4F2CA86-0F68-400C-95DA-30171C9FB8F0__GUID-A9AE0C8D-4FFA-431B-8A58-513020936F55">
                        <p class="notep1">注意：</p>
                        <ul style="list-style-type:disc">
                           <li>
                              <p>括号表示<span class="italic"><code class="codeph">username</code></span> <code class="codeph">/</code> <span class="italic"><code class="codeph">password</code></span> <span class="italic"><code class="codeph"> </code></span>对是可选的。
                              </p>
                           </li>
                           <li>
                              <p>内部服务器端驱动程序<code class="codeph">kprb</code>使用隐式连接。服务器端驱动程序的数据库URL在<span class="italic"><code class="codeph">driver_type</code></span>之后结束。
                              </p>
                           </li>
                        </ul>
                     </div>
                     <p>URL的第一部分指定要使用的JDBC驱动程序。支持的<span class="italic"><code class="codeph">driver_type</code></span>值为<code class="codeph">thin</code> ， <code class="codeph">oci</code>和<code class="codeph">kprb</code> 。
                     </p>
                     <p>URL的其余部分包含一个可选的用户名和密码，用斜杠，@和<a id="d33012e1519" class="indexterm-anchor"></a><a id="d33012e1521" class="indexterm-anchor"></a><a id="d33012e1525" class="indexterm-anchor"></a>数据库说明符，唯一标识应用程序所连接的数据库。某些数据库说明符仅对JDBC Thin驱动程序有效，有些仅适用于JDBC OCI驱动程序，有些仅适用于两者。
                     </p>
                  </div>
                  <!-- class="section" -->
               </div>
               <div class="props_rev_3"><a id="GUID-AEA8E228-1B21-4111-AF4C-B1F33744CA08" name="GUID-AEA8E228-1B21-4111-AF4C-B1F33744CA08"></a><h4 id="JJDBC-GUID-AEA8E228-1B21-4111-AF4C-B1F33744CA08" class="sect4"><span class="enumeration_section">8.2.1</span>支持Internet协议版本6</h4>
                  <div>
                     <div class="section">
                        <p>此版本的Oracle JDBC驱动程序支持JDBC URL中的Internet协议版本6（IPv6）地址和解析为IPv6地址的计算机名称。IPv6是由Internet工程任务组（IETF）设计的新的网络层协议，用于替换当前版本的Internet协议，Internet协议版本4（IPv4）。IPv6的主要优点是大地址空间，源自128位地址。IPv6还在路由，网络自动配置，安全性，服务质量等方面改进了IPv4。</p>
                        <div class="infoboxnote" id="GUID-AEA8E228-1B21-4111-AF4C-B1F33744CA08__GUID-BFFEB440-8213-467A-8288-B6B42EF0DB93">
                           <p class="notep1">注意：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>IPv6客户端只能支持具有双协议支持的IPv6服务器或服务器，即支持IPv6和IPv4协议。相反，IPv6服务器只能支持IPv6客户端或双协议客户端。</p>
                              </li>
                              <li>
                                 <p>IPv6仅支持单实例数据库服务器，而不支持Oracle RAC。</p>
                              </li>
                           </ul>
                        </div>
                        <p>如果要在URL中使用文字IPv6地址，则应将左括号（ <code class="codeph">[</code> ）和右括号（ <code class="codeph">]</code> ）中包含的文字地址括起来。例如： <code class="codeph">[2001:0db8:7654:3210:FEDC:BA98:7654:3210]</code> 。因此，使用IPv6地址的JDBC URL将如下所示：</p><pre class="oac_no_warn" dir="ltr">jdbc：oracle：thin：@（DESCRIPTION =（ADDRESS =（PROTOCOL = tcp）（HOST = [2001：0db8：7654：3210：FEDC：BA98：7654：3210]）（PORT = 5521））（CONNECT_DATA =（SERVICE_NAME） = sales.example.com））</pre><div class="infoboxnote" id="GUID-AEA8E228-1B21-4111-AF4C-B1F33744CA08__GUID-7A6BFA71-14D5-4859-9D9B-B2DD222EF9B7">
                           <p class="notep1">注意：</p>
                           <p>在数据库初始化期间启用Java时，将加载IPv6支持所需的所有新System类。因此，如果您的应用程序没有任何IPv6寻址，那么您无需更改代码即可使用IPv6功能。但是，如果您的应用程序只有IPv6或IPv6和IPv4寻址，那么您应该在命令行中设置<code class="codeph">java.net.preferIPv6Addresses</code>系统属性。这使Oracle JVM能够加载适当的库。这些库加载一次，如果不重新启动Java进程就无法重新加载。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="sect3"><a id="GUID-8D0ADAE6-B8EF-4E02-85E3-15C2509ACBD8" name="GUID-8D0ADAE6-B8EF-4E02-85E3-15C2509ACBD8"></a><h4 id="JJDBC-GUID-8D0ADAE6-B8EF-4E02-85E3-15C2509ACBD8" class="sect4"><span class="enumeration_section">8.2.2</span>支持HTTPS代理配置</h4>
                  <div>
                     <p></p>
                     <p>Oracle Database Release 18c JDBC驱动程序支持HTTPS代理配置。HTTPS代理使用<code class="codeph">HTTP CONNECT</code>方法在前向HTTP代理上启用隧道安全连接。这有助于访问公共云数据库服务，因为它消除了在客户端防火墙上打开出站端口的要求。此参数仅适用于<code class="codeph">PROTOCOL=TCPS</code>的连接描述符。这类似于要连接到Internet主机的Intranet用户的Web浏览器设置。
                     </p>
                     <p>要配置HTTPS代理，请将详细信息添加到连接字符串的<code class="codeph">ADDRESS</code>部分，如以下代码段所示：</p><pre class="pre codeblock"><code>（DESCRIPTION =（ADDRESS =（HTTPS_PROXY = sales-proxy）（HTTPS_PROXY_PORT = 8080）（PROTOCOL = TCPS）（HOST = sales2-svr）（PORT = 443））（CONNECT_DATA =（SERVICE_NAME = sales.us.example.com） ））</code></pre></div>
               </div><a id="JJDBC28291"></a><div class="props_rev_3"><a id="GUID-6F729E4D-064B-4FD9-AE92-1BD44B8BE5EF" name="GUID-6F729E4D-064B-4FD9-AE92-1BD44B8BE5EF"></a><h4 id="JJDBC-GUID-6F729E4D-064B-4FD9-AE92-1BD44B8BE5EF" class="sect4"><span class="enumeration_section">8.2.3</span>数据库说明符</h4>
                  <div>
                     <div class="section">
                        <p><a href="data-sources-and-URLs.html#GUID-6F729E4D-064B-4FD9-AE92-1BD44B8BE5EF__BEICDECB" title="表">表8-3</a>显示了可能的数据库说明符，列出了哪些JDBC驱动程序支持每个说明符。
                        </p>
                        <div class="infoboxnote" id="GUID-6F729E4D-064B-4FD9-AE92-1BD44B8BE5EF__GUID-6A0FF087-2E4D-4F7E-97DA-B716C0F0C104">
                           <p class="notep1">注意：</p>
                           <ul style="list-style-type:disc">
                              <li>
                                 <p>启动Oracle数据库10 <span class="italic">g</span> ，不支持Oracle服务ID。
                                 </p>
                              </li>
                              <li>
                                 <p>启动Oracle数据库<span class="italic">10g后</span> ，Oracle不再支持Oracle Names作为命名方法。
                                 </p>
                              </li>
                           </ul>
                        </div>
                     </div>
                     <!-- class="section" -->
                     <div class="tblformal" id="GUID-6F729E4D-064B-4FD9-AE92-1BD44B8BE5EF__BEICDECB">
                        <p class="titleintable">表8-3支持的数据库说明符</p>
                        <table cellpadding="4" cellspacing="0" class="Formal" title="支持的数据库说明符" width="100%" border="1" summary="table" frame="hsides" rules="rows">
                           <thead>
                              <tr align="left" valign="top">
                                 <th align="left" valign="bottom" width="20%" id="d33012e1673">符</th>
                                 <th align="left" valign="bottom" width="15%" id="d33012e1676">支持的驱动</th>
                                 <th align="left" valign="bottom" width="65%" id="d33012e1679">例</th>
                              </tr>
                           </thead>
                           <tbody>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d33012e1684" headers="d33012e1673 ">
                                    <p>Oracle Net连接描述符</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33012e1684 d33012e1676 ">
                                    <p>薄，OCI</p>
                                 </td>
                                 <td align="left" valign="top" width="65%" headers="d33012e1684 d33012e1679 ">
                                    <p>瘦，使用地址列表：</p><pre class="oac_no_warn" dir="ltr">url =“jdbc：oracle：thin：@（DESCRIPTION =（LOAD_BALANCE = on）（ADDRESS_LIST =（ADDRESS =（PROTOCOL = TCP）（HOST = host1）（PORT = 5221））（ADDRESS =（PROTOCOL = TCP）（HOST） = host2）（PORT = 5221）））（CONNECT_DATA =（SERVICE_NAME = orcl）））“</pre><p>OCI，使用集群：</p><pre class="oac_no_warn" dir="ltr">“jdbc：oracle：oci：@（DESCRIPTION =（ADDRESS =（PROTOCOL = TCP）（HOST = cluster_alias）（PORT = 5221））（CONNECT_DATA =（SERVICE_NAME = orcl）））”</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d33012e1700" headers="d33012e1673 ">
                                    <p>薄型服务名称</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33012e1700 d33012e1676 ">
                                    <p>瘦</p>
                                 </td>
                                 <td align="left" valign="top" width="65%" headers="d33012e1700 d33012e1679 ">
                                    <p>有关详细信息，请参阅<span class="q">“ <a href="data-sources-and-URLs.html#GUID-EF07727C-50AB-4DCE-8EDC-57F0927FF61A">精简式服务名称语法</a> ”</span> 。
                                    </p><pre class="oac_no_warn" dir="ltr">“JDBC：预言：瘦：HR /小时@ //本地主机：5221 / ORCL”</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d33012e1717" headers="d33012e1673 ">
                                    <p>LDAP语法</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33012e1717 d33012e1676 ">
                                    <p>瘦</p>
                                 </td>
                                 <td align="left" valign="top" width="65%" headers="d33012e1717 d33012e1679 ">
                                    <p>有关详细信息，请参阅<a href="data-sources-and-URLs.html#GUID-F1841136-BE7C-47D4-8AEE-E9E78CA1213D">LDAP语法</a> 。
                                    </p><pre class="oac_no_warn" dir="ltr">“JDBC：预言：瘦：@ldap：//ldap.example.com：7777 /销售，CN = OracleContext，DC = COM”</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d33012e1733" headers="d33012e1673 ">
                                    <p>遗赠连接</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33012e1733 d33012e1676 ">
                                    <p>OCI</p>
                                 </td>
                                 <td align="left" valign="top" width="65%" headers="d33012e1733 d33012e1679 ">
                                    <p>空。也就是说，@之后没有</p><pre class="oac_no_warn" dir="ltr">“JDBC：预言：OCI：HR /小时/ @”</pre></td>
                              </tr>
                              <tr align="left" valign="top">
                                 <td align="left" valign="top" width="20%" id="d33012e1745" headers="d33012e1673 ">
                                    <p>TNSNames别名</p>
                                 </td>
                                 <td align="left" valign="top" width="15%" headers="d33012e1745 d33012e1676 ">
                                    <p>薄，OCI</p>
                                 </td>
                                 <td align="left" valign="top" width="65%" headers="d33012e1745 d33012e1679 ">
                                    <p>有关详细信息，请参阅<span class="q">“ <a href="data-sources-and-URLs.html#GUID-DEF609D8-7AF9-4D21-93A7-163DA9593F3A">TNSNames别名语法</a> ”</span> 。
                                    </p><pre class="oac_no_warn" dir="ltr">OracleDataSource ods = new OracleDataSource（）; ods.setTNSEntryName（ “MyTNSAlias”）;</pre></td>
                              </tr>
                           </tbody>
                        </table>
                     </div>
                     <!-- class="inftblhruleinformal" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-EF07727C-50AB-4DCE-8EDC-57F0927FF61A" name="GUID-EF07727C-50AB-4DCE-8EDC-57F0927FF61A"></a><h4 id="JJDBC-GUID-EF07727C-50AB-4DCE-8EDC-57F0927FF61A" class="sect4"><span class="enumeration_section">8.2.4</span>精简式服务名称语法</h4>
                  <div>
                     <div class="section">
                        <p>只有JDBC Thin驱动程序支持精简样式的服务名称。语法是：</p><pre class="oac_no_warn" dir="ltr">@ //主机：端口号/服务名</pre><p>例如：</p><pre class="oac_no_warn" dir="ltr">JDBC：预言：瘦：HR /小时@ //本地主机：5221 / ORCL</pre><div class="infoboxnote" id="GUID-EF07727C-50AB-4DCE-8EDC-57F0927FF61A__GUID-B90EF3DF-9544-4494-BC05-8252BDFCEF47">
                           <p class="notep1">注意：</p>
                           <p>JDBC Thin驱动程序仅支持<a id="d33012e1794" class="indexterm-anchor"></a> TCP / IP协议。
                           </p>
                        </div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-693776FE-CE84-459E-8695-1855E9CE43CC" name="GUID-693776FE-CE84-459E-8695-1855E9CE43CC"></a><h4 id="JJDBC-GUID-693776FE-CE84-459E-8695-1855E9CE43CC" class="sect4"><span class="enumeration_section">8.2.5</span>支持连接重试延迟</h4>
                  <div>
                     <div class="section">
                        <p>从Oracle Database 12 <span class="italic">c</span>第1版（12.1.0.2）开始，有一个新的连接属性<code class="codeph">RETRY_DELAY</code> ，它指定连接重试之间的延迟（以秒为单位）。以下代码段显示了如何使用此属性：</p><pre class="oac_no_warn" dir="ltr">（DESCRIPTION_LIST =（DESCRIPTION =（CONNECT_TIMEOUT = 10）（RETRY_COUNT = 3）（RETRY_DELAY = 3）（ADDRESS_LIST =（ADDRESS =（PROTOCOL = tcp）（HOST = myhost1）（PORT = 1521））（ADDRESS =（PROTOCOL = tcp） ）（HOST = myhost2）（PORT = 1521）））（CONNECT_DATA =（SERVICE_NAME = example1.com）））（DESCRIPTION =（CONNECT_TIMEOUT = 60）（RETRY_COUNT = 1）（RETRY_DELAY = 5）（ADDRESS_LIST =（ADDRESS =（ PROTOCOL = tcp）（HOST = myhost3）（PORT = 1521））（ADDRESS =（PROTOCOL = tcp）（HOST = myhost4）（PORT = 1521）））（CONNECT_DATA =（SERVICE_NAME = example2.com））））</pre></div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-DEF609D8-7AF9-4D21-93A7-163DA9593F3A" name="GUID-DEF609D8-7AF9-4D21-93A7-163DA9593F3A"></a><h4 id="JJDBC-GUID-DEF609D8-7AF9-4D21-93A7-163DA9593F3A" class="sect4"><span class="enumeration_section">8.2.6</span> TNSNames别名语法</h4>
                  <div>
                     <div class="section">
                        <p>您可以在要连接的客户端计算机上找到<code class="codeph">tnsnames.ora</code>文件中列出的可用<code class="codeph">TNSNAMES</code>条目。在Windows上，此文件位于<span class="italic"><code class="codeph">ORACLE_HOME</code></span> <code class="codeph">\NETWORK\ADMIN</code>目录中。在UNIX系统上，您可以在<span class="italic"><code class="codeph">ORACLE_HOME</code></span>目录或<code class="codeph">TNS_ADMIN</code>环境变量中指示的目录中找到它。
                        </p>
                        <p>例如，如果要连接到主机<code class="codeph">myhost</code>上的数据库作为用户<code class="codeph">HR</code> ，密码为<code class="codeph">hr</code> ，其<code class="codeph">TNSNAMES</code>条目为<code class="codeph">MyHostString</code> ，则写入以下内容：</p><pre class="oac_no_warn" dir="ltr">OracleDataSource ods = new OracleDataSource（）; ods.setTNSEntryName（ “MyTNSAlias”）; ods.setUser（ “HR”）; ods.setPassword（ “HR”）; ods.setDriverType（ “OCI”）; Connection conn = ods.getConnection（）;</pre><p>必须将<code class="codeph">oracle.net.tns_admin</code>系统属性设置为<code class="codeph">tnsnames.ora</code>文件的位置，以便JDBC Thin驱动程序可以找到<code class="codeph">tnsnames.ora</code>文件。例如：</p><pre class="oac_no_warn" dir="ltr">System.setProperty（“oracle.net.tns_admin”，“c：\\ Temp”）; String url =“jdbc：oracle：thin：@tns_entry”;</pre><div class="infoboxnote" id="GUID-DEF609D8-7AF9-4D21-93A7-163DA9593F3A__GUID-BC77ADB1-5352-4295-8C60-F6D0883804D5">
                           <p class="notep1">注意：</p>
                           <p>将<code class="codeph">TNSNames</code>与JDBC Thin驱动程序一起使用时，必须将<code class="codeph">oracle.net.tns_admin</code>属性设置为包含<code class="codeph">tnsnames.ora</code>文件的目录。
                           </p><pre class="oac_no_warn" dir="ltr">java -Doracle.net.tns_admin = $ ORACLE_HOME / network / admin</pre></div>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
               <div class="props_rev_3"><a id="GUID-F1841136-BE7C-47D4-8AEE-E9E78CA1213D" name="GUID-F1841136-BE7C-47D4-8AEE-E9E78CA1213D"></a><h4 id="JJDBC-GUID-F1841136-BE7C-47D4-8AEE-E9E78CA1213D" class="sect4"><span class="enumeration_section">8.2.7</span> LDAP语法</h4>
                  <div>
                     <div class="section">
                        <p>使用轻量级目录访问协议（LDAP）语法的数据库说明符示例如下：</p><pre class="oac_no_warn" dir="ltr">“JDBC：预言：瘦：@ldap：//ldap.example.com：7777 /销售，CN = OracleContext，DC = COM”</pre><p>使用SSL时，请将其更改为：</p><pre class="oac_no_warn" dir="ltr">“JDBC：预言：瘦：@ldaps：//ldap.example.com：7777 /销售，CN = OracleContext，DC = COM”</pre><div class="infoboxnote" id="GUID-F1841136-BE7C-47D4-8AEE-E9E78CA1213D__GUID-D100247E-68A4-4989-AA60-23B166C8A68D">
                           <p class="notep1">注意：</p>
                           <p>如果在数据库说明符中替换<code class="codeph">ldap:</code> for <code class="codeph">ldap:</code> <code class="codeph">ldaps:</code>则JDBC Thin驱动程序可以使用LDAP over SSL与Oracle Internet Directory通信。必须将LDAP服务器配置为使用SSL。如果不是，则连接尝试将挂起。
                           </p>
                        </div>
                        <p>JDBC Thin驱动程序支持在服务名称解析过程中对LDAP服务器列表进行故障转移，而无需硬件负载平衡器。此外，还支持客户端负载平衡以连接到LDAP服务器。空格分隔的LDAP URL语法列表用于支持故障转移和负载平衡。</p>
                        <p>指定LDAP URL列表时，默认情况下会启用故障转移和负载平衡。<code class="codeph">oracle.net.ldap_loadbalance</code>连接属性可用于禁用负载平衡， <code class="codeph">oracle.net.ldap_failover</code>连接属性可用于禁用故障转移。
                        </p>
                        <p>使用故障转移但禁用客户端负载平衡的示例如下：</p><pre class="oac_no_warn" dir="ltr">属性prop = new Properties（）; String url =“jdbc：oracle：thin：@ldap：//ldap1.example.com：3500 / cn = salesdept，cn = OracleContext，dc = com / salesdb”+“ldap：//ldap2.example.com：3500 / cn = salesdept，cn = OracleContext，dc = com / salesdb“+”ldap：//ldap3.example.com：3500 / cn = salesdept，cn = OracleContext，dc = com / salesdb“; prop.put（“oracle.net.ldap_loadbalance”，“OFF”）; OracleDataSource ods = new OracleDataSource（）; ods.setURL（URL）; ods.setConnectionProperties（丙）;</pre><p>JDBC Thin驱动程序支持LDAP非匿名绑定。可以为数据源指定一组包含身份验证信息的JNDI环境属性。如果LDAP服务器配置为不允许匿名绑定，则必须提供身份验证信息才能连接到LDAP服务器。以下示例显示了一个简单的明文密码身份验证：</p><pre class="oac_no_warn" dir="ltr">String url =“jdbc：oracle：thin：@ldap：//ldap.example.com：7777 / sales，cn = salesdept，cn = OracleContext，dc = com”;属性prop = new Properties（）; prop.put（“java.naming.security.authentication”，“simple”）; prop.put（ “java.naming.security.principal”， “CN = salesdept，CN = OracleContext，DC = COM”）; prop.put（“java.naming.security.credentials”，“mysecret”）; OracleDataSource ods = new OracleDataSource（）; ods.setURL（URL）; ods.setConnectionProperties（丙）;</pre><p>由于JDBC将这三个属性传递给JNDI，因此客户端选择的身份验证机制与JNDI解释这些属性的方式一致。例如，如果客户端指定了身份验证信息而未显式指定<code class="codeph">java.naming.security.authentication</code>属性，则默认的身份验证机制是“简单”。
                        </p>
                     </div>
                     <!-- class="section" -->
                  </div>
               </div>
            </div>
         </div>
      </article>
   </body>
</html>