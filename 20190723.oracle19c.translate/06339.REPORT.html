<html lang="en-us" dir="ltr" xml:lang="en-us">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8"></meta>
      <meta name="viewport" content="width=device-width, initial-scale=1"></meta>
      <meta http-equiv="X-UA-Compatible" content="IE=edge"></meta>
      <title>报告</title>
      <meta property="og:site_name" content="Oracle Help Center"></meta>
      <meta property="og:title" content="Backup and Recovery Reference"></meta>
      <meta property="og:description" content=""></meta>
      <link rel="stylesheet" href="/sp_common/book-template/ohc-book-template/css/book.css"></link>
      <link rel="shortcut icon" href="/sp_common/book-template/ohc-common/img/favicon.ico"></link>
      <meta name="application-name" content="Backup and Recovery Reference"></meta>
      <meta name="generator" content="DITA Open Toolkit version 1.8.5 (Mode = doc)"></meta>
      <meta name="plugin" content="SP_docbuilder HTML plugin release 18.2.2"></meta>
      <link rel="alternate" href="database-backup-and-recovery-reference.pdf" title="PDF File" type="application/pdf"></link>
      <meta name="robots" content="all"></meta>
      <link rel="schema.dcterms" href="http://purl.org/dc/terms/"></link>
      <meta name="dcterms.created" content="2019-01-09T19:31:58-08:00"></meta>
      
      <meta name="dcterms.dateCopyrighted" content="2003, 2019"></meta>
      <meta name="dcterms.category" content="database"></meta>
      <meta name="dcterms.identifier" content="E96242-01"></meta>
      
      <meta name="dcterms.product" content="en/database/oracle/oracle-database/19"></meta>
      
      <link rel="prev" href="REPLACE-SCRIPT.html" title="Previous" type="text/html"></link>
      <link rel="next" href="RESET-DATABASE.html" title="Next" type="text/html"></link>
      <script>
        document.write('<style type="text/css">');
        document.write('body > .noscript, body > .noscript ~ * { visibility: hidden; }');
        document.write('</style>');
     </script>
      <script src="/sp_common/book-template/requirejs/require.js" data-main="/sp_common/book-template/ohc-book-template/js/book-config"></script>
      <script>
            if (window.require === undefined) {
                document.write('<script data-main="sp_common/book-template/ohc-book-template/js/book-config" src="sp_common/book-template/requirejs/require.js"><\/script>');
                document.write('<link href="sp_common/book-template/ohc-book-template/css/book.css" rel="stylesheet"/>');
            }
        </script>
      <script type="application/json" id="ssot-metadata">{"primary":{"category":{"short_name":"database","element_name":"Database","display_in_url":true},"suite":{"short_name":"oracle","element_name":"Oracle","display_in_url":true},"product_group":{"short_name":"not-applicable","element_name":"Not applicable","display_in_url":false},"product":{"short_name":"oracle-database","element_name":"Oracle Database","display_in_url":true},"release":{"short_name":"19","element_name":"Release 19","display_in_url":true}}}</script>
      
    <meta name="dcterms.title" content="Database Backup and Recovery Reference"></meta>
    <meta name="dcterms.isVersionOf" content="RCMRF"></meta>
    <meta name="dcterms.release" content="Release 19"></meta>
  </head>
   <body dir="ltr">
      <div class="noscript alert alert-danger text-center" role="alert">
         <a href="REPLACE-SCRIPT.html" class="pull-left"><span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>上一页</a> <a href="RESET-DATABASE.html" class="pull-right">下一页<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span></a> <span class="fa fa-exclamation-triangle" aria-hidden="true"></span>必须启用JavaScript才能正确显示此内容</div>
      <article>
         <header>
            <ol class="breadcrumb" vocab="http://schema.org/" typeof="BreadcrumbList">
               <li property="itemListElement" typeof="ListItem"><a href="index.html" property="item" typeof="WebPage"><span property="name">备份和恢复参考</span></a></li>
               <li property="itemListElement" typeof="ListItem"><a href="rman-commands-recover-to-validate.html" property="item" typeof="WebPage"><span property="name">RMAN命令：RECOVER to VALIDATE</span></a></li>
               <li class="active" property="itemListElement" typeof="ListItem">报告</li>
            </ol>
            <a id="GUID-8352987F-533A-4146-A157-F091103169B0" name="GUID-8352987F-533A-4146-A157-F091103169B0"></a><a id="RCMRF90274"></a><a id="RCMRF90275"></a><a id="RCMRF90276"></a><a id="RCMRF90277"></a><a id="RCMRF90278"></a><a id="RCMRF90279"></a><a id="RCMRF90280"></a><a id="RCMRF90281"></a><a id="RCMRF90282"></a><a id="RCMRF90283"></a><a id="RCMRF90284"></a><a id="RCMRF90285"></a><a id="RCMRF90286"></a><a id="RCMRF90287"></a><a id="RCMRF90288"></a><a id="RCMRF90289"></a><a id="RCMRF90290"></a><a id="RCMRF90291"></a><a id="RCMRF147"></a>
            
            <h2 id="RCMRF-GUID-8352987F-533A-4146-A157-F091103169B0" class="sect2"><span class="enumeration_section">3.6</span>报告</h2>
         </header>
         <div class="ind">
            <div>
               <div class="section">
                  <p class="subhead1" id="GUID-8352987F-533A-4146-A157-F091103169B0__GUID-20FBC7E4-4570-46A8-84A5-D72F605C0DF1">目的</p>
                  <p>使用<code class="codeph">REPORT</code>命令执行RMAN存储库的详细分析。RMAN将报告写入标准输出或消息日志文件。
                  </p>
                  <div class="infoboxnotealso" id="GUID-8352987F-533A-4146-A157-F091103169B0__GUID-087328EC-5A19-4A62-A867-9CE76302DAE8">
                     <p class="notep1">也可以看看：</p>
                     <p><a href="../bradv/reporting-rman-operations.html#BRADV8137" target="_blank"><span class="italic">Oracle数据库备份和恢复用户指南</span></a> ，了解如何创建RMAN报告</p>
                  </div>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-8352987F-533A-4146-A157-F091103169B0__GUID-F29A3172-7B41-40AF-8DA1-613C6E202388">先决条件</p>
                  <p>仅在RMAN提示符下执行此命令。必须满足以下任一条件：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p>RMAN必须连接到目标数据库。</p>
                     </li>
                     <li>
                        <p>必须将RMAN连接到恢复目录，并且必须已运行<code class="codeph"><a href="SET.html#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3">SET</a></code> <code class="codeph">DBID</code> 。
                        </p>
                     </li>
                  </ul>
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-8352987F-533A-4146-A157-F091103169B0__GUID-F5B15771-B5DA-4E58-8BF5-75715C238090">句法</p>
                  <p><a id="d78103e257" class="indexterm-anchor"></a><a id="d78103e261" class="indexterm-anchor"></a> <span class="bold"><span class="italic">report</span> :: =</span></p>
                  <div class="figure" id="GUID-8352987F-533A-4146-A157-F091103169B0__GUID-F37F5109-CF62-4574-892C-857A2A76EE42"><img src="img/report.gif" alt="report.eps的描述如下" title="report.eps的描述如下" longdesc="img_text/report.html"><br><a href="img_text/report.html">报告说明.eps</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="REPORT.html#GUID-8352987F-533A-4146-A157-F091103169B0__CHDIGIFJ">needBackupOption :: =</a></span> ， <span class="italic"><a href="REPORT.html#GUID-8352987F-533A-4146-A157-F091103169B0__CHDCBHFF">atClause :: =</a></span> ， <span class="italic"><a href="REPORT.html#GUID-8352987F-533A-4146-A157-F091103169B0__CHDBDFFD">reportObject :: =</a></span> ， <span class="italic"><a href="obsOperandList.html#GUID-261A8B55-89DD-46DC-B7C4-6951E131FBAA__BABFCBDE">obsOperandList :: =</a></span> ， <span class="italic"><a href="deviceSpecifier.html#GUID-F653748D-4AB5-4A0E-B6E5-D891A000ADAC__BABDEJAC">deviceSpecifier :: =</a></span> ）</p>
                  <p id="GUID-8352987F-533A-4146-A157-F091103169B0__CHDIGIFJ"><a id="d78103e295" class="indexterm-anchor"></a><a id="d78103e299" class="indexterm-anchor"></a> <span class="bold"><span class="italic">needBackupOption</span> :: =</span></p>
                  <div class="figure" id="GUID-8352987F-533A-4146-A157-F091103169B0__GUID-F489DB26-31BF-4ADB-ADDF-0AE414D8ED5D"><img src="img/needbackupoption.gif" alt="needbackupoption.eps的描述如下" title="needbackupoption.eps的描述如下" longdesc="img_text/needbackupoption.html"><br><a href="img_text/needbackupoption.html">插图说明needbackupoption.eps</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="REPORT.html#GUID-8352987F-533A-4146-A157-F091103169B0__CHDBDFFD">reportObject :: =</a></span> ）</p>
                  <p id="GUID-8352987F-533A-4146-A157-F091103169B0__CHDBDFFD"><a id="d78103e317" class="indexterm-anchor"></a><a id="d78103e321" class="indexterm-anchor"></a> <span class="bold"><span class="italic">reportObject</span> :: =</span></p>
                  <div class="figure" id="GUID-8352987F-533A-4146-A157-F091103169B0__GUID-17F6951B-2A2B-4FAF-9BEE-76EA211EABFE"><img src="img/reportobject.gif" alt="reportobject.eps的描述如下" title="reportobject.eps的描述如下" longdesc="img_text/reportobject.html"><br><a href="img_text/reportobject.html">报告说明reportobject.eps</a></div>
                  <!-- class="figure" -->
                  <p>（ <span class="italic"><a href="datafileSpec.html#GUID-A0A69931-D404-4D89-8F95-3AB898B6A220__BABCCBBJ">datafileSpec :: =</a></span> ）</p>
                  <p id="GUID-8352987F-533A-4146-A157-F091103169B0__CHDCBHFF"><a id="d78103e339" class="indexterm-anchor"></a><a id="d78103e343" class="indexterm-anchor"></a> <span class="bold"><span class="italic">atClause</span> :: =</span></p>
                  <div class="figure" id="GUID-8352987F-533A-4146-A157-F091103169B0__GUID-02C162DA-EA1F-4006-B088-9C37B57201E6"><img src="img/atclause.gif" alt="atclause.eps的描述如下" title="atclause.eps的描述如下" longdesc="img_text/atclause.html"><br><a href="img_text/atclause.html">atclause.eps插图的描述</a></div>
                  <!-- class="figure" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-8352987F-533A-4146-A157-F091103169B0__GUID-251876F8-A061-4CC9-8B3D-0F7538D41612">语义</p>
                  <p id="GUID-8352987F-533A-4146-A157-F091103169B0__I1017379"><span class="bold"><span class="italic">报告</span></span></p>
                  <p>此子句指定报告的类型。</p>
                  <div class="tblformalwide" id="GUID-8352987F-533A-4146-A157-F091103169B0__GUID-ECBD67D7-E33E-4DEE-86DD-FB4C0854C09B">
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="" width="100%" border="1" summary="Describes REPORT command parameters" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d78103e372">语法元素</th>
                              <th align="left" valign="bottom" width="71%" id="d78103e375">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d78103e380" headers="d78103e372 ">
                                 <p><span class="italic"><code class="codeph"><a href="REPORT.html#GUID-8352987F-533A-4146-A157-F091103169B0__CHDFDDED">needBackupOption</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d78103e380 d78103e375 ">
                                 <p><a id="d78103e388" class="indexterm-anchor"></a>列出需要备份的文件。
                                 </p>
                                 <p><span class="bold">另请参见：</span> <span class="italic"><code class="codeph"><a href="REPORT.html#GUID-8352987F-533A-4146-A157-F091103169B0__CHDFDDED">needBackupOption</a></code></span></p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d78103e402" headers="d78103e372 ">
                                 <p><code class="codeph">OBSOLETE</code> <span class="italic"><code class="codeph"><a href="obsOperandList.html#GUID-261A8B55-89DD-46DC-B7C4-6951E131FBAA">obsOperandList</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d78103e402 d78103e375 ">
                                 <p><a id="d78103e414" class="indexterm-anchor"></a><a id="d78103e418" class="indexterm-anchor"></a><a id="d78103e422" class="indexterm-anchor"></a>列出RMAN存储库中记录的完整备份，数据文件副本和归档重做日志文件，这些文件可以删除，因为不再需要它们。有关输出的说明，请参阅<a href="REPORT.html#GUID-8352987F-533A-4146-A157-F091103169B0__BGBGAIAH" title="根据当前保留策略报告哪些备份已过时">表3-6</a> 。该命令分两步进行：</p>
                                 <ol>
                                    <li>
                                       <p>对于已备份的每个数据文件，RMAN会根据保留策略标识最早的完整备份，0级备份或未过时的映像副本。任何早于此步骤中标识的数据文件的备份都将被视为过时。</p>
                                    </li>
                                    <li>
                                       <p>任何早于最旧的非过时完整备份的归档重做日志文件和1级增量备份都将被视为过时。这些文件已过时，因为不存在可应用它们的完整备份或0级备份。如果可以将增量级别1备份或归档重做日志文件应用于非过时级别0或完全备份，则不会将其视为已过时。</p>
                                    </li>
                                 </ol>
                                 <p>子条款<span class="italic"><code class="codeph"><a href="obsOperandList.html#GUID-261A8B55-89DD-46DC-B7C4-6951E131FBAA">obsOperandList</a></code></span>描述了RMAN用于确定过时的标准。如果未在<span class="italic"><code class="codeph"><a href="obsOperandList.html#GUID-261A8B55-89DD-46DC-B7C4-6951E131FBAA">obsOperandList</a></code></span>指定参数，则RMAN使用<code class="codeph"><a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A">CONFIGURE</a></code> <code class="codeph">RETENTION POLICY</code>指定的选项（请参阅<a href="REPORT.html#GUID-8352987F-533A-4146-A157-F091103169B0__CHDEEJGH">示例3-22</a> ）。如果将此选项与<code class="codeph">DEVICE TYPE</code> ，则RMAN仅考虑在指定设备上创建的备份和副本。如果禁用保留策略，则RMAN不会将任何备份视为过时。因此，当您运行<code class="codeph">REPORT OBSOLETE</code>而没有其他选项且保留策略为<code class="codeph">NONE</code>时，RMAN会发出错误。</p>
                                 <p><span class="bold">注意：</span>无论配置的保留策略设置如何，在<code class="codeph">KEEP</code>时间过后，使用<code class="codeph">KEEP UNTIL TIME</code>子句进行的备份都将过时。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d78103e484" headers="d78103e372 ">
                                 <p><code class="codeph">SCHEMA</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d78103e484 d78103e375 ">
                                 <p>列出指定时间点的目标数据库的所有数据文件（永久和临时）和表空间的名称。有关输出的说明，请参阅<a href="REPORT.html#GUID-8352987F-533A-4146-A157-F091103169B0__BGBDDECG" title="描述数据文件和临时文件的REPORT输出">表3-1</a> 。
                                 </p>
                                 <p>对于没有<a href="forDbUniqueNameOption.html#GUID-D1D9CFED-9A57-438A-A80C-D8B7B6E131BE">forDbUniqueNameOption的</a> <code class="codeph">REPORT SCHEMA</code> ，需要目标数据库连接，但恢复目录连接是可选的。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d78103e506" headers="d78103e372 ">
                                 <p><span class="italic"><code class="codeph"><a href="forDbUniqueNameOption.html#GUID-D1D9CFED-9A57-438A-A80C-D8B7B6E131BE">forDbUniqueNameOption</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d78103e506 d78103e375 ">
                                 <p>报告其<code class="codeph">DB_UNIQUE_NAME</code>指定的数据库的所有数据文件和表空间的名称。</p>
                                 <p>您可以使用<span class="italic"><code class="codeph">db_unique_name</code></span>指定数据库，或者对特定DBID的目录中记录的所有唯一命名数据库使用<code class="codeph">ALL</code> 。通过DBID和<code class="codeph">DB_UNIQUE_NAME</code>初始化参数的值在恢复目录中唯一标识数据库。
                                 </p>
                                 <p>RMAN必须连接到恢复目录。必须将RMAN连接到目标数据库，或者必须已运行<code class="codeph"><a href="SET.html#GUID-BC501B5C-4CD0-485D-AA18-27E2894024C3">SET</a></code> <code class="codeph">DBID</code> 。
                                 </p>
                                 <p><span class="bold">另请参阅：</span> <span class="italic"><code class="codeph"><a href="forDbUniqueNameOption.html#GUID-D1D9CFED-9A57-438A-A80C-D8B7B6E131BE">forDbUniqueNameOption</a></code></span> ，以获取此子句中选项的说明</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d78103e552" headers="d78103e372 ">
                                 <p><code class="codeph">   </code><span class="italic"><code class="codeph"><a href="REPORT.html#GUID-8352987F-533A-4146-A157-F091103169B0__I108853">atClause</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d78103e552 d78103e375 ">
                                 <p>指定SCN，日志序列号或时间。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d78103e564" headers="d78103e372 ">
                                 <p><code class="codeph">UNRECOVERABLE</code> <span class="italic"><code class="codeph"><a href="REPORT.html#GUID-8352987F-533A-4146-A157-F091103169B0__I999382">reportObject</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d78103e564 d78103e375 ">
                                 <p>列出所有不可恢复的数据文件。有关输出的说明，请参阅<a href="REPORT.html#GUID-8352987F-533A-4146-A157-F091103169B0__BGBHCCGH" title="描述需要备份的数据文件的REPORT输出">表3-7</a> 。
                                 </p>
                                 <p>如果自上次备份数据文件以来对驻留在数据文件中的对象执行了不可恢复的操作，则认为数据文件是不可恢复的。在不可恢复的操作中，不会生成重做。示例是使用<code class="codeph">NOLOGGING</code>选项直接加载表数据和更新。
                                 </p>
                                 <p><span class="bold">注意：</span>数据文件的任何备份都不存在是不充分的理由认为它是不可恢复的。如果从创建文件开始的重做日志仍然存在，则可以使用<code class="codeph">CREATE DATAFILE</code>命令恢复此类数据文件。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d78103e594" headers="d78103e372 "><code class="codeph">DEVICE TYPE</code> <span class="italic"><code class="codeph"><a href="deviceSpecifier.html#GUID-F653748D-4AB5-4A0E-B6E5-D891A000ADAC">deviceSpecifier</a></code></span></td>
                              <td align="left" valign="top" width="71%" headers="d78103e594 d78103e375 ">
                                 <p>指定存储设备的类型。RMAN仅考虑指定设备上可用的备份和副本以用于其报告。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p id="GUID-8352987F-533A-4146-A157-F091103169B0__CHDFDDED"><span class="bold"><span class="italic">needBackupOption</span></span></p>
                  <p>此子句仅报告需要备份的文件。</p>
                  <div class="tblformalwide" id="GUID-8352987F-533A-4146-A157-F091103169B0__GUID-2E9F858D-FAFB-400E-908C-550707E8753A">
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="" width="100%" border="1" summary="Describes REPORT command needBackupOption parameters" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d78103e620">语法元素</th>
                              <th align="left" valign="bottom" width="71%" id="d78103e623">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d78103e628" headers="d78103e620 ">
                                 <p><code class="codeph">需要备份</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d78103e628 d78103e623 ">
                                 <p>列出指定<span class="italic"><code class="codeph"><a href="REPORT.html#GUID-8352987F-533A-4146-A157-F091103169B0__I999382">reportObject</a></code></span>中需要新备份的所有数据文件。
                                 </p>
                                 <p>该报告假定您还原最新的备份。如果未指定任何选项，则RMAN将使用当前保留策略配置。如果禁用保留策略（ <code class="codeph"><a href="CONFIGURE.html#GUID-B5094E73-C26C-4FED-AE39-8C2E9540050A">CONFIGURE</a></code> <code class="codeph">RETENTION</code> <code class="codeph">POLICY</code> <code class="codeph">TO</code> <code class="codeph">NONE</code> ），则RMAN会生成错误。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d78103e660" headers="d78103e620 ">
                                 <p><code class="codeph">DAYS</code> <span class="italic"><code class="codeph">integer</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d78103e660 d78103e623 ">
                                 <p>列出所有需要超过指定天数的归档重做日志文件的数据文件，以便完全恢复。例如， <code class="codeph">REPORT NEED BACKUP DAYS 7 DATABASE</code>显示其恢复需要超过七天的归档重做日志文件的数据文件。有关输出的说明，请<a href="REPORT.html#GUID-8352987F-533A-4146-A157-F091103169B0__BGBFICFH" title="描述需要归档重做日志的数据文件的REPORT输出">参见表3-2</a> 。
                                 </p>
                                 <p>如果已装入目标数据库控制文件且当前，则RMAN会对此报告进行以下优化：</p>
                                 <ul style="list-style-type:disc">
                                    <li>
                                       <p>脱机文件及其最新备份包含文件的所有更改的文件不包括在内。</p>
                                    </li>
                                    <li>
                                       <p>脱机且现在处于联机状态且其最新备份包含脱机时间之前的所有更改的文件仅在联机超过指定天数时才会报告。</p>
                                    </li>
                                 </ul>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d78103e688" headers="d78103e620 ">
                                 <p><code class="codeph">INCREMENTAL</code> <span class="italic"><code class="codeph">integer</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d78103e688 d78103e623 ">
                                 <p>指定恢复所需的阈值增量备份数（请参阅<a href="REPORT.html#GUID-8352987F-533A-4146-A157-F091103169B0__CHDFHJBH">示例3-21</a> ）。如果完全恢复数据文件需要多于<span class="italic"><code class="codeph">integer</code></span>增量备份，则数据文件需要新的完整备份。有关输出的说明，请参阅<a href="REPORT.html#GUID-8352987F-533A-4146-A157-F091103169B0__BGBJAEDJ" title="描述需要增量备份的数据文件的REPORT输出">表3-3</a> 。
                                 </p>
                                 <p><span class="bold">注意：</span>没有备份的文件不会出现在此列表中：发出<code class="codeph">REPORT NEED BACKUP REDUNDANCY</code>命令以显示它们。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d78103e718" headers="d78103e620 "><code class="codeph">RECOVERY WINDOW</code> <code class="codeph">OF</code> <span class="italic"><code class="codeph">integer</code></span> <code class="codeph">DAYS</code></td>
                              <td align="left" valign="top" width="71%" headers="d78103e718 d78103e623 ">
                                 <p>报告没有足够备份的数据文件，以满足指定天数的基于恢复窗口的保留策略，即没有足够备份的数据文件，可以将时间点恢复到任何点，直到<code class="codeph">SYSDATE -</code> <span class="italic"><code class="codeph">integer</code></span> 。有关输出的说明，请<a href="REPORT.html#GUID-8352987F-533A-4146-A157-F091103169B0__CHDBBFJJ" title="描述需要备份的数据文件的REPORT输出">参见表3-4</a> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d78103e747" headers="d78103e620 ">
                                 <p><code class="codeph">REDUNDANCY</code> <span class="italic"><code class="codeph">integer</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d78103e747 d78103e623 ">
                                 <p>指定必须存在一个数据文件<span class="italic">不能</span>在需要备份的考虑备份或复制的最小数量。换句话说，如果此文件的备份或副本少于<span class="italic"><code class="codeph">integer</code></span> ，则数据文件需要备份。例如， <code class="codeph">REDUNDANCY 2</code>表示如果数据文件的副本少于或少于两个，则需要新的备份。有关输出的说明，请参阅<a href="REPORT.html#GUID-8352987F-533A-4146-A157-F091103169B0__BGBDCFDI" title="描述需要冗余备份的数据文件的REPORT输出">表3-5</a> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d78103e773" headers="d78103e620 ">
                                 <p><span class="italic"><code class="codeph"><a href="REPORT.html#GUID-8352987F-533A-4146-A157-F091103169B0__I999382">reportObject</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d78103e773 d78103e623 ">
                                 <p>指定要为其生成报告的对象。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p id="GUID-8352987F-533A-4146-A157-F091103169B0__I999382"><span class="bold"><span class="italic">reportObject</span></span></p>
                  <p>本子条款指定要包含在报告中的数据文件。该报告可以包括整个数据库（可选地跳过某些表空间），表空间列表或数据文件列表。RMAN包含先前化身的对象。</p>
                  <div class="tblformalwide" id="GUID-8352987F-533A-4146-A157-F091103169B0__GUID-A0DB2A43-4E0B-4D04-A70C-2392EDD37850">
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="" width="100%" border="1" summary="Describes REPORT command reportObject parameters" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d78103e796">语法元素</th>
                              <th align="left" valign="bottom" width="71%" id="d78103e799">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d78103e804" headers="d78103e796 ">
                                 <p><code class="codeph">数据库</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d78103e804 d78103e799 ">
                                 <p>列出数据库中所有文件的备份或数据文件副本。</p>
                                 <p><span class="bold">注意：</span>指定<code class="codeph">SKIP TABLESPACE</code> <span class="italic"><code class="codeph">tablespace_name</code></span>以从<code class="codeph">DATABASE</code>规范中排除指定的表空间。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d78103e826" headers="d78103e796 ">
                                 <p><a id="d78103e828" class="indexterm-anchor"></a><a id="d78103e832" class="indexterm-anchor"></a><a id="d78103e836" class="indexterm-anchor"></a><code class="codeph">DATABASE ROOT</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d78103e826 d78103e799 ">
                                 <p>指定CDB中的根。按照<span class="q">“ <a href="CONNECT.html#GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67__BGBGAIGG">连接到CDB和PDB</a> ”中的说明</span>连接到根目录。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d78103e850" headers="d78103e796 ">
                                 <p><a id="d78103e852" class="indexterm-anchor"></a><a id="d78103e856" class="indexterm-anchor"></a><a id="d78103e862" class="indexterm-anchor"></a> <code class="codeph">PLUGGABLE DATABASE</code> <span class="italic"><code class="codeph">pdb_name</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d78103e850 d78103e799 ">
                                 <p>列出CDB中一个或多个PDB中的备份或数据文件副本。使用逗号分隔的列表指定多个PDB。要使用此语法报告一个或多个PDB，请按照<span class="q">“ <a href="CONNECT.html#GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67__BGBGAIGG">连接到CDB和PDB</a> ”中的说明</span>连接到根。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d78103e879" headers="d78103e796 ">
                                 <p><code class="codeph">DATAFILE</code> <span class="italic"><code class="codeph"><a href="datafileSpec.html#GUID-A0A69931-D404-4D89-8F95-3AB898B6A220">datafileSpec</a></code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d78103e879 d78103e799 ">
                                 <p>列出指定的数据文件。RMAN报告包含至少一个指定数据文件的备份或数据文件副本。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d78103e892" headers="d78103e796 ">
                                 <p><code class="codeph">TABLESPACE</code> <span class="italic"><code class="codeph">tablespace_name</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d78103e892 d78103e799 ">
                                 <p>列出指定表空间中的数据文件。RMAN报告备份或数据文件副本，其中包含来自指定表空间的至少一个数据文件。</p>
                                 <p>连接到CDB中的根时，指的是根中的表空间。直接连接到PDB时，指PDB中的表空间。请参阅<span class="q">“ <a href="CONNECT.html#GUID-64ECF1B8-4F70-413E-BEBE-1D5E8CD48B67__BGBGAIGG">连接到CDB和PDB</a> ”</span> 。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <p id="GUID-8352987F-533A-4146-A157-F091103169B0__I108853"><span class="bold"><span class="italic">atClause</span></span></p>
                  <p>本小节将时间点指定为时间，SCN或日志序列号。发出带有<code class="codeph">AT</code>子句的<code class="codeph">REPORT SCHEMA</code>命令时，必须连接到恢复目录。
                  </p>
                  <div class="tblformalwide" id="GUID-8352987F-533A-4146-A157-F091103169B0__GUID-A37C5CD7-75EA-4FD1-B129-3FD0AEE93E6D">
                     <table cellpadding="4" cellspacing="0" class="FormalWide" title="" width="100%" border="1" summary="Describes REPORT command atClause parameters" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d78103e930">语法元素</th>
                              <th align="left" valign="bottom" width="71%" id="d78103e933">描述</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d78103e938" headers="d78103e930 ">
                                 <p><code class="codeph">AT SCN</code> <span class="italic"><code class="codeph">integer</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d78103e938 d78103e933 ">
                                 <p>指定SCN。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d78103e950" headers="d78103e930 ">
                                 <p><code class="codeph">AT SEQUENCE</code> <span class="italic"><code class="codeph">integer</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d78103e950 d78103e933 ">
                                 <p>指定日志序列号。整数表示首次打开指定日志的时间。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d78103e962" headers="d78103e930 ">
                                 <p><code class="codeph">THREAD</code> <span class="italic"><code class="codeph">integer</code></span></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d78103e962 d78103e933 ">
                                 <p>指定重做<code class="codeph">THREAD</code>编号。整数表示首次打开线程的时间。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d78103e977" headers="d78103e930 ">
                                 <p><code class="codeph">AT TIME</code> <code class="codeph">'</code> <span class="italic"><code class="codeph">date_string</code></span> <code class="codeph">'</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d78103e977 d78103e933 ">
                                 <p>指定日期（参见<a href="REPORT.html#GUID-8352987F-533A-4146-A157-F091103169B0__CHDJEFGA">示例3-20</a> ）。该<a id="d78103e994" class="indexterm-anchor"></a><a id="d78103e996" class="indexterm-anchor"></a><a id="d78103e998" class="indexterm-anchor"></a><a id="d78103e1002" class="indexterm-anchor"></a> <code class="codeph">NLS_LANG</code>和<code class="codeph">NLS_DATE_FORMAT</code>环境变量指定时间的格式。
                                 </p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-8352987F-533A-4146-A157-F091103169B0__GUID-FE712202-98F7-400D-86CC-CE5AB5066887">报告输出</p>
                  <p>输出中显示的信息在下表中描述：</p>
                  <ul style="list-style-type:disc">
                     <li>
                        <p><a href="REPORT.html#GUID-8352987F-533A-4146-A157-F091103169B0__BGBDDECG" title="描述数据文件和临时文件的REPORT输出">表3-1</a></p>
                     </li>
                     <li>
                        <p><a href="REPORT.html#GUID-8352987F-533A-4146-A157-F091103169B0__BGBFICFH" title="描述需要归档重做日志的数据文件的REPORT输出">表3-2</a></p>
                     </li>
                     <li>
                        <p><a href="REPORT.html#GUID-8352987F-533A-4146-A157-F091103169B0__BGBJAEDJ" title="描述需要增量备份的数据文件的REPORT输出">表3-3</a></p>
                     </li>
                     <li>
                        <p><a href="REPORT.html#GUID-8352987F-533A-4146-A157-F091103169B0__CHDBBFJJ" title="描述需要备份的数据文件的REPORT输出">表3-4</a></p>
                     </li>
                     <li>
                        <p><a href="REPORT.html#GUID-8352987F-533A-4146-A157-F091103169B0__BGBDCFDI" title="描述需要冗余备份的数据文件的REPORT输出">表3-5</a></p>
                     </li>
                     <li>
                        <p><a href="REPORT.html#GUID-8352987F-533A-4146-A157-F091103169B0__BGBGAIAH" title="根据当前保留策略报告哪些备份已过时">表3-6</a></p>
                     </li>
                     <li>
                        <p><a href="REPORT.html#GUID-8352987F-533A-4146-A157-F091103169B0__BGBHCCGH" title="描述需要备份的数据文件的REPORT输出">表3-7</a></p>
                     </li>
                  </ul>
                  <div class="tblformal" id="GUID-8352987F-533A-4146-A157-F091103169B0__BGBDDECG">
                     <p class="titleintable">表3-1数据库模式报告</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="数据库模式报告" width="100%" border="1" summary="Describes REPORT output for datafiles and tempfiles" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="33%" id="d78103e1070">柱</th>
                              <th align="left" valign="bottom" width="67%" id="d78103e1073">指示</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d78103e1078" headers="d78103e1070 ">
                                 <p><code class="codeph">文件</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d78103e1078 d78103e1073 ">
                                 <p>绝对数据文件号。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d78103e1086" headers="d78103e1070 ">
                                 <p><code class="codeph">大小（MB）</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d78103e1086 d78103e1073 ">
                                 <p>文件大小（以兆字节为单位）。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d78103e1094" headers="d78103e1070 ">
                                 <p><code class="codeph">表空间</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d78103e1094 d78103e1073 ">
                                 <p>表空间名称。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d78103e1102" headers="d78103e1070 ">
                                 <p><code class="codeph">RB segs</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d78103e1102 d78103e1073 ">
                                 <p>仅适用于数据文件。如果表空间中存在回滚段，则为<code class="codeph">YES</code>如果不存在，则为<code class="codeph">NO</code> （仅当连接到恢复目录时）。如果RMAN未连接到目录，则显示<code class="codeph">***</code> 。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d78103e1119" headers="d78103e1070 ">
                                 <p><code class="codeph">数据文件名称</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d78103e1119 d78103e1073 ">
                                 <p>仅适用于永久数据文件。数据文件的名称。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d78103e1127" headers="d78103e1070 ">
                                 <p><code class="codeph">MAXSIZE（MB）</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d78103e1127 d78103e1073 ">
                                 <p>仅适用于临时文件。临时文件的最大大小。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d78103e1135" headers="d78103e1070 ">
                                 <p><code class="codeph">临时文件名</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d78103e1135 d78103e1073 ">
                                 <p>仅适用于临时文件。临时文件的名称。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="tblformal" id="GUID-8352987F-533A-4146-A157-F091103169B0__BGBFICFH">
                     <p class="titleintable">表3-2恢复需要超过n天的归档日志的文件报告</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="恢复需要超过n天存档日志的文件报告" width="100%" border="1" summary="Describes REPORT output for datafiles needing archived redo logs" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="33%" id="d78103e1152">柱</th>
                              <th align="left" valign="bottom" width="67%" id="d78103e1155">指示</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d78103e1160" headers="d78103e1152 ">
                                 <p><code class="codeph">文件</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d78103e1160 d78103e1155 ">
                                 <p>数据文件的绝对文件编号，需要超过<span class="italic">n</span>天的归档重做日志文件才能进行恢复。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d78103e1171" headers="d78103e1152 ">
                                 <p><code class="codeph">天</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d78103e1171 d78103e1155 ">
                                 <p>恢复所需的归档重做数据的天数。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d78103e1179" headers="d78103e1152 ">
                                 <p><code class="codeph">名称</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d78103e1179 d78103e1155 ">
                                 <p>数据文件的名称。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="tblformal" id="GUID-8352987F-533A-4146-A157-F091103169B0__BGBJAEDJ">
                     <p class="titleintable">表3-3恢复过程中需要n次增量的文件报告</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="在恢复期间需要超过n次增量的文件的报告" width="100%" border="1" summary="Describes REPORT output for datafiles needing incremental backups" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="33%" id="d78103e1196">柱</th>
                              <th align="left" valign="bottom" width="67%" id="d78103e1199">指示</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d78103e1204" headers="d78103e1196 ">
                                 <p><code class="codeph">文件</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d78103e1204 d78103e1199 ">
                                 <p>数据文件的绝对文件编号，需要超过<span class="italic">n个</span>增量才能完全恢复。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d78103e1215" headers="d78103e1196 ">
                                 <p><code class="codeph">增量</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d78103e1215 d78103e1199 ">
                                 <p>完全恢复所需的增量备份数。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d78103e1223" headers="d78103e1196 ">
                                 <p><code class="codeph">名称</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d78103e1223 d78103e1199 ">
                                 <p>数据文件的名称。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="tblformal" id="GUID-8352987F-533A-4146-A157-F091103169B0__CHDBBFJJ">
                     <p class="titleintable">表3-4必须备份以满足n天恢复窗口的文件报告</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="必须备份以满足n天恢复窗口的文件报告" width="100%" border="1" summary="Describes REPORT output for datafiles needing backup" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="33%" id="d78103e1240">柱</th>
                              <th align="left" valign="bottom" width="67%" id="d78103e1243">指示</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d78103e1248" headers="d78103e1240 ">
                                 <p><code class="codeph">文件</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d78103e1248 d78103e1243 ">
                                 <p>必须备份以满足<span class="italic">n</span>天恢复窗口的数据文件的绝对文件编号。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d78103e1259" headers="d78103e1240 ">
                                 <p><code class="codeph">天</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d78103e1259 d78103e1243 ">
                                 <p>完全恢复所需的天数。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d78103e1267" headers="d78103e1240 ">
                                 <p><code class="codeph">名称</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d78103e1267 d78103e1243 ">
                                 <p>需要备份的数据文件的名称。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="tblformal" id="GUID-8352987F-533A-4146-A157-F091103169B0__BGBDCFDI">
                     <p class="titleintable">表3-5少于n个冗余备份的文件报告</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="报告少于n次冗余备份的文件" width="100%" border="1" summary="Describes REPORT output for datafiles needing redundant backups" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="33%" id="d78103e1284">柱</th>
                              <th align="left" valign="bottom" width="67%" id="d78103e1287">指示</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d78103e1292" headers="d78103e1284 ">
                                 <p><code class="codeph">文件</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d78103e1292 d78103e1287 ">
                                 <p>冗余备份少于<span class="italic">n</span>个的数据文件的绝对数据文件号。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d78103e1303" headers="d78103e1284 ">
                                 <p><code class="codeph">#bkps</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d78103e1303 d78103e1287 ">
                                 <p>此文件存在的备份数。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d78103e1311" headers="d78103e1284 ">
                                 <p><code class="codeph">名称</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d78103e1311 d78103e1287 ">
                                 <p>文件的名称。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="tblformal" id="GUID-8352987F-533A-4146-A157-F091103169B0__BGBGAIAH">
                     <p class="titleintable">表3-6 <span>过时备份和副本的报告</span></p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="过时备份和副本的报告" width="100%" border="1" summary="Report of which backups are obsolete based on current retention policy" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="29%" id="d78103e1329">柱</th>
                              <th align="left" valign="bottom" width="71%" id="d78103e1332">指示</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d78103e1337" headers="d78103e1329 ">
                                 <p><code class="codeph">类型</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d78103e1337 d78103e1332 ">
                                 <p>对象是备份集，备份片，代理副本还是数据文件副本。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d78103e1345" headers="d78103e1329 ">
                                 <p><code class="codeph">键</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d78103e1345 d78103e1332 ">
                                 <p>在目标数据库控制文件中标识此备份的唯一键。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d78103e1353" headers="d78103e1329 ">
                                 <p><code class="codeph">完成时间</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d78103e1353 d78103e1332 ">
                                 <p>备份或复制完成的时间。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="29%" id="d78103e1361" headers="d78103e1329 ">
                                 <p><code class="codeph">文件名/手柄</code></p>
                              </td>
                              <td align="left" valign="top" width="71%" headers="d78103e1361 d78103e1332 ">
                                 <p>备份或数据文件副本的文件名或媒体句柄。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
                  <div class="tblformal" id="GUID-8352987F-533A-4146-A157-F091103169B0__BGBHCCGH">
                     <p class="titleintable">表3-7因不可恢复的操作而需要备份的文件报告</p>
                     <table cellpadding="4" cellspacing="0" class="Formal" title="由于不可恢复的操作而需要备份的文件的报告" width="100%" border="1" summary="Describes REPORT output for datafiles needing backup" frame="hsides" rules="rows">
                        <thead>
                           <tr align="left" valign="top">
                              <th align="left" valign="bottom" width="33%" id="d78103e1378">柱</th>
                              <th align="left" valign="bottom" width="67%" id="d78103e1381">指示</th>
                           </tr>
                        </thead>
                        <tbody>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d78103e1386" headers="d78103e1378 ">
                                 <p><code class="codeph">文件</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d78103e1386 d78103e1381 ">
                                 <p>由于不可恢复的操作而需要新备份的数据文件的绝对编号。</p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d78103e1394" headers="d78103e1378 ">
                                 <p><code class="codeph">需要备份类型</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d78103e1394 d78103e1381 ">
                                 <p><code class="codeph">FULL</code>或<code class="codeph">INCREMENTAL</code> ，具体取决于确保此文件中所有数据的可恢复性所需的备份类型。如果为<code class="codeph">FULL</code> ，则创建完整备份，0级备份或数据文件副本。如果是<code class="codeph">INCREMENTAL</code> ，那么增量备份也足够了。
                                 </p>
                              </td>
                           </tr>
                           <tr align="left" valign="top">
                              <td align="left" valign="top" width="33%" id="d78103e1413" headers="d78103e1378 ">
                                 <p><code class="codeph">名称</code></p>
                              </td>
                              <td align="left" valign="top" width="67%" headers="d78103e1413 d78103e1381 ">
                                 <p>数据文件的名称。</p>
                              </td>
                           </tr>
                        </tbody>
                     </table>
                  </div>
                  <!-- class="inftblhruleinformal" -->
               </div>
               <!-- class="section" -->
               <div class="section">
                  <p class="subhead1" id="GUID-8352987F-533A-4146-A157-F091103169B0__GUID-018B0625-2A7B-47BF-B708-D900E328D58F">例子</p>
               </div>
               <!-- class="section" -->
               <div class="example" id="GUID-8352987F-533A-4146-A157-F091103169B0__CHDJEFGA">
                  <p class="titleinexample">示例3-20报告数据库架构</p>
                  <p>此示例需要恢复目录，在20分钟前报告所有数据文件和表空间的名称。</p><pre class="oac_no_warn" dir="ltr">RMAN&gt;报告时间表'sysdate-20/1440';使用db_unique_name报告数据库的数据库模式PROD永久数据文件列表===========================文件大小（MB）表空间RB segs数据文件名---- -------- -------------------- ------- ----------- ------------- 1 450 SYSTEM YES /disk1/oradata/prod/system01.dbf 2 197 SYSAUX YES /disk1/oradata/prod/sysaux01.dbf 3 20 UNDOTBS YES / disk1 / oradata / prod / undotbs01.dbf 4 10 CWMLITE YES /disk1/oradata/prod/cwmlite01.dbf 5 10 DRSYS YES /disk1/oradata/prod/drsys01.dbf 6 10示例是/disk1/oradata/prod/example01.dbf 7 10 INDX是/disk1/oradata/prod/indx01.dbf 8 10工具是/disk1/oradata/prod/tools01.dbf 9 10用户是/disk1/oradata/prod/users01.dbf临时文件列表======= ================文件大小（MB）表空间Maxsize（MB）Tempfile名称---- -------- ---------- ---------- ----------- -------------------- 1 40 TEMP 32767 / disk1 / oradata /督促/ temp01.dbf</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-8352987F-533A-4146-A157-F091103169B0__CHDFHJBH">
                  <p class="titleinexample">示例3-21报告需要增量备份的数据文件</p>
                  <p>此示例报告数据库中需要将一个或多个增量备份应用程序恢复到其当前状态的所有数据文件：</p><pre class="oac_no_warn" dir="ltr">RMAN&gt;报告需要备份增量1;恢复期间需要超过1个增量的文件报告文件增量名称---- ------------ -------------------- -------------------------- 1 2 /disk1/oradata/prod/system01.dbf 2 2 /disk1/oradata/prod/sysaux01.dbf 3 2 /disk1/oradata/prod/undotbs01.dbf 4 2 /disk1/oradata/prod/cwmlite01.dbf 5 2 /disk1/oradata/prod/drsys01.dbf 6 2 /disk1/oradata/prod/example01.dbf 7 2 /disk1/oradata/prod/indx01.dbf 9 2 /disk1/oradata/prod/users01.dbf</pre></div>
               <!-- class="example" -->
               <div class="example" id="GUID-8352987F-533A-4146-A157-F091103169B0__CHDEEJGH">
                  <p class="titleinexample">示例3-22报告过时的备份和副本</p>
                  <p>以下示例根据当前保留策略报告过时的备份和冗余副本。保留策略设置为冗余1。</p><pre class="oac_no_warn" dir="ltr">RMAN&gt;报告已废除;</pre><pre class="oac_no_warn" dir="ltr">RMAN保留策略将应用于命令RMAN保留策略设置为冗余1报告过时备份和副本类型密钥完成时间文件名/句柄-------------------- ------ ------------------ -------------------- Archive Log 1022 19-FEB -13 /disk1/prod/arch/archive1_59_614712405.dbf归档日志1023 19-FEB-13 /disk1/prod/arch/archive1_61_614712405.dbf归档日志1024 19-FEB-13 /disk1/prod/arch/archive1_60_614712405.dbf归档日志1025 19-FEB-13 /disk1/prod/arch/archive1_55_614712405.dbf备份集1032 19-FEB-13备份件1050 19-FEB-13 /disk2/PROD/backupset/2013_02_19/o1_mf_nnndf_TAG20130219T173839_2xnpmp0l_.bkp数据文件复制1073 19-FEB -13 /disk2/PROD/datafile/o1_mf_system_2xmz5l5m_.dbf备份集1035 19-FEB-13备份件1053 19-FEB-13 /disk2/PROD/backupset/2013_02_19/o1_mf_nnndf_TAG20130219T111434_2xnpozym_.bkp数据文件复制1074 19-FEB-13 / disk2 /PROD/datafile/o1_mf_sysaux_2xmz6zdg_.dbf数据文件复制1075 19-FEB-13 / disk2 / PROD / datafile / o1_mf_u ndotbs_2xmz7rof_.dbf数据文件复制1076 19-FEB-13 /disk2/PROD/datafile/o1_mf_cwmlite_2xmz7vrg_.dbf数据文件复制1077 19-FEB-13 /disk2/PROD/datafile/o1_mf_drsys_2xmz7wyc_.dbf数据文件复制1078 19-FEB-13 / disk2 / PROD / datafile / o1_mf_example_2xmz7y5s_.dbf数据文件复制1079 19-FEB-13 /disk2/PROD/datafile/o1_mf_indx_2xmz81jg_.dbf数据文件复制1081 19-FEB-13 /disk2/PROD/datafile/o1_mf_users_2xmz85vo_.dbf数据文件复制1777 20-FEB- 13 /disk2/users01.dbf</pre></div>
               <!-- class="example" -->
            </div>
         </div>
      </article>
   </body>
</html>